{"sha": "c149cc37c87cd454fec56f5032cc1e4b10feca16", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE0OWNjMzdjODdjZDQ1NGZlYzU2ZjUwMzJjYzFlNGIxMGZlY2ExNg==", "commit": {"author": {"name": "Robert Lipe", "email": "robertlipe@usa.net", "date": "2000-04-18T19:42:30Z"}, "committer": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "2000-04-18T19:42:30Z"}, "message": "configure.in (ENUM_BITFIELDS_ARE_UNSIGNED): Added.\n\n        * configure.in (ENUM_BITFIELDS_ARE_UNSIGNED): Added.  Check that\n        bitfields of the host compiler are not signed quantities.\n        * config.in: Regenerate.\n        * configure: Regenerate.\n        * system.h (USE_ENUM_BITFIELDS): Added.\n        (ENUM_BITFIELDS): Added.\n        * rtl.h (rtx_def): Members `code', `mode', now ENUM_BITFIELD.\n        (SHORT_ENUM_BUG): Deleted.\n        * tree.h (tree_common): Members `code', `mode', `built_in_class',\n        now ENUM_BITFIELD.\n        * config/i386/xm-sco.h (ONLY_INT_FIELDS): Deleted.\n        (CODE_FIELD_BUG): Likewise.\n        * config/m68k/x-apollo68 (CC): Deleted SHORT_ENUM_BUG.\n        (OLD_CC): Likewise.\n        * config/m68k/x-ccur (X_CFLAGS): Likewise.\n\nFrom-SVN: r33233", "tree": {"sha": "796b4e2bf06329dfa2420c489ee8acf507d84c7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/796b4e2bf06329dfa2420c489ee8acf507d84c7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c149cc37c87cd454fec56f5032cc1e4b10feca16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c149cc37c87cd454fec56f5032cc1e4b10feca16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c149cc37c87cd454fec56f5032cc1e4b10feca16", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c149cc37c87cd454fec56f5032cc1e4b10feca16/comments", "author": null, "committer": null, "parents": [{"sha": "aa4661f82360b21f5048823019740e80ed4efbe3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa4661f82360b21f5048823019740e80ed4efbe3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa4661f82360b21f5048823019740e80ed4efbe3"}], "stats": {"total": 470, "additions": 273, "deletions": 197}, "files": [{"sha": "7d7342a4b426a6cb43ad78a9dc1e600cd11237e1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -1,3 +1,21 @@\n+2000-04-18  Robert Lipe  <robertlipe@usa.net>\n+\n+\t* configure.in (ENUM_BITFIELDS_ARE_UNSIGNED): Added.  Check that\n+\tbitfields of the host compiler are not signed quantities.\n+\t* config.in: Regenerate.\n+\t* configure: Regenerate.\n+\t* system.h (USE_ENUM_BITFIELDS): Added.\n+\t(ENUM_BITFIELDS): Added.\n+\t* rtl.h (rtx_def): Members `code', `mode', now ENUM_BITFIELD.\n+\t(SHORT_ENUM_BUG): Deleted.\n+\t* tree.h (tree_common): Members `code', `mode', `built_in_class', \n+\tnow ENUM_BITFIELD.\n+\t* config/i386/xm-sco.h (ONLY_INT_FIELDS): Deleted.\n+\t(CODE_FIELD_BUG): Likewise.\n+\t* config/m68k/x-apollo68 (CC): Deleted SHORT_ENUM_BUG.\n+\t(OLD_CC): Likewise.\n+\t* config/m68k/x-ccur (X_CFLAGS): Likewise.\n+\n Tue Apr 18 14:16:47 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* ggc-common.c: Add missing blanks."}, {"sha": "9a178dbd6c17ae89609e7c53697a5de50f56dcf5", "filename": "gcc/config.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -419,6 +419,9 @@\n /* Define if you have the i library (-li).  */\n #undef HAVE_LIBI\n \n+/* Define if enumerated bitfields are treated as unsigned values. */\n+#undef ENUM_BITFIELDS_ARE_UNSIGNED\n+\n /* Define if mmap can get us zeroed pages from /dev/zero. */\n #undef HAVE_MMAP_ANYWHERE\n "}, {"sha": "36d65e569c322f5340d670857f76577584f30aeb", "filename": "gcc/config/i386/xm-sco.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig%2Fi386%2Fxm-sco.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig%2Fi386%2Fxm-sco.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-sco.h?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -3,11 +3,3 @@\n /* Big buffers improve performance.  */\n \n #define IO_BUFFER_SIZE (0x8000 - 1024)\n-\n-#ifndef __GNUC__\n-/* The SCO compiler gets it wrong, and treats enumerated bitfields\n-   as signed quantities, making it impossible to use an 8-bit enum\n-   for compiling GNU C++.  */\n-#define ONLY_INT_FIELDS 1\n-#define CODE_FIELD_BUG 1\n-#endif"}, {"sha": "b1bfa252c990155df8930e56378153a8277239d0", "filename": "gcc/config/m68k/x-apollo68", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig%2Fm68k%2Fx-apollo68", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig%2Fm68k%2Fx-apollo68", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fx-apollo68?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -2,8 +2,8 @@\n \n # vasta@apollo.com says this is how to compile on an Apollo (SR10.x).\n # Use a Berkeley environment.\n-CC=cc -g -A nansi -A cpu,3000 -A runtype,bsd4.3 -A systype,any -DSHORT_ENUM_BUG\n-OLDCC=cc -g -A nansi -A cpu,3000 -A runtype,bsd4.3 -A systype,any -DSHORT_ENUM_BUG\n+CC=cc -g -A nansi -A cpu,3000 -A runtype,bsd4.3 -A systype,any\n+OLDCC=cc -g -A nansi -A cpu,3000 -A runtype,bsd4.3 -A systype,any\n \n # This used to redefine CFLAGS and LIBGCC2_CFLAGS to eliminate the unsupported\n # -g flag from both macros.  This gives an undebuggable stage1 compiler which"}, {"sha": "3b0cad54b1d5d1b59b00dbd2adb45f351221d548", "filename": "gcc/config/m68k/x-ccur", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig%2Fm68k%2Fx-ccur", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfig%2Fm68k%2Fx-ccur", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fx-ccur?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -1,3 +1,3 @@\n # Specify the jobs library when building in the ATT universe. \n CLIB = -ljobs\n-X_CFLAGS = -O0 -DSHORT_ENUM_BUG -Dregister=\n+X_CFLAGS = -O0 -Dregister="}, {"sha": "a79556bda47a53141f597a5a95518f0f7836c275", "filename": "gcc/configure", "status": "modified", "additions": 210, "deletions": 151, "changes": 361, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -2209,18 +2209,67 @@ EOF\n \n fi\n \n+#\n+# Determine if enumerated bitfields are unsigned.   ISO C says they can \n+# be either signed or unsigned.\n+#\n+echo $ac_n \"checking for unsigned enumerated bitfields\"\"... $ac_c\" 1>&6\n+echo \"configure:2218: checking for unsigned enumerated bitfields\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_enum_bf_unsigned'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  gcc_cv_enum_bf_unsigned=yes\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2226 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdlib.h>\n+enum t { BLAH = 128 } ;\n+struct s_t { enum t member : 8; } s ;\n+int main(void)\n+{            \n+        s.member = BLAH;\n+        if (s.member < 0) exit(1);\n+        exit(0);\n+\n+}\n+EOF\n+if { (eval echo configure:2239: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  gcc_cv_enum_bf_unsigned=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -fr conftest*\n+  gcc_cv_enum_bf_unsigned=no\n+fi\n+rm -fr conftest*\n+fi\n+\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_enum_bf_unsigned\" 1>&6\n+echo \"$ac_t\"\"$gcc_cv_enum_bf_unsigned\" 1>&6\n+if test $gcc_cv_enum_bf_unsigned = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define ENUM_BITFIELDS_ARE_UNSIGNED 1\n+EOF\n+\n+fi\n+\n for ac_func in strtoul bsearch putenv popen bcopy bzero bcmp \\\n \tindex rindex strchr strrchr kill getrlimit setrlimit atoll atoq \\\n \tsysconf isascii gettimeofday strsignal putc_unlocked fputc_unlocked \\\n \tfputs_unlocked getrusage valloc\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2219: checking for $ac_func\" >&5\n+echo \"configure:2268: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2224 \"configure\"\n+#line 2273 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2229,6 +2278,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n+char (*f)();\n \n int main() {\n \n@@ -2238,12 +2288,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-$ac_func();\n+f = $ac_func;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2247: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2297: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2272,12 +2322,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:2276: checking for vprintf\" >&5\n+echo \"configure:2326: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2281 \"configure\"\n+#line 2331 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -2286,6 +2336,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char vprintf();\n+char (*f)();\n \n int main() {\n \n@@ -2295,12 +2346,12 @@ int main() {\n #if defined (__stub_vprintf) || defined (__stub___vprintf)\n choke me\n #else\n-vprintf();\n+f = vprintf;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2304: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2355: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2324,12 +2375,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2328: checking for _doprnt\" >&5\n+echo \"configure:2379: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2333 \"configure\"\n+#line 2384 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2338,6 +2389,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char _doprnt();\n+char (*f)();\n \n int main() {\n \n@@ -2347,12 +2399,12 @@ int main() {\n #if defined (__stub__doprnt) || defined (__stub____doprnt)\n choke me\n #else\n-_doprnt();\n+f = _doprnt;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2356: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2408: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2388,15 +2440,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2392: checking whether the printf functions support %p\" >&5\n+echo \"configure:2444: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2400 \"configure\"\n+#line 2452 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2409,7 +2461,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2413: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2465: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2442,12 +2494,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2446: checking for pid_t\" >&5\n+echo \"configure:2498: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2451 \"configure\"\n+#line 2503 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2476,17 +2528,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2480: checking for vfork.h\" >&5\n+echo \"configure:2532: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2485 \"configure\"\n+#line 2537 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2490: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2542: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2511,18 +2563,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2515: checking for working vfork\" >&5\n+echo \"configure:2567: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2521: checking for vfork\" >&5\n+echo \"configure:2573: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2526 \"configure\"\n+#line 2578 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2531,6 +2583,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char vfork();\n+char (*f)();\n \n int main() {\n \n@@ -2540,12 +2593,12 @@ int main() {\n #if defined (__stub_vfork) || defined (__stub___vfork)\n choke me\n #else\n-vfork();\n+f = vfork;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2549: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2602: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2567,7 +2620,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2571 \"configure\"\n+#line 2624 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2662,7 +2715,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2666: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2719: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2688,17 +2741,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2692: checking for $ac_hdr\" >&5\n+echo \"configure:2745: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2697 \"configure\"\n+#line 2750 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2702: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2755: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2727,12 +2780,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2731: checking for $ac_func\" >&5\n+echo \"configure:2784: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2736 \"configure\"\n+#line 2789 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2741,6 +2794,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n+char (*f)();\n \n int main() {\n \n@@ -2750,12 +2804,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-$ac_func();\n+f = $ac_func;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2759: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2813: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2780,15 +2834,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap from /dev/zero\"\"... $ac_c\" 1>&6\n-echo \"configure:2784: checking for working mmap from /dev/zero\" >&5\n+echo \"configure:2838: checking for working mmap from /dev/zero\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anywhere'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_anywhere=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2792 \"configure\"\n+#line 2846 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Richard Henderson and Alexandre Oliva.\n@@ -2860,7 +2914,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:2864: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2918: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_anywhere=yes\n else\n@@ -2883,7 +2937,7 @@ EOF\n fi\n \n echo $ac_n \"checking for working mmap of a file\"\"... $ac_c\" 1>&6\n-echo \"configure:2887: checking for working mmap of a file\" >&5\n+echo \"configure:2941: checking for working mmap of a file\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2898,7 +2952,7 @@ if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_file=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2902 \"configure\"\n+#line 2956 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n@@ -2935,7 +2989,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:2939: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2993: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_file=yes\n else\n@@ -2963,12 +3017,12 @@ for ac_func in bcopy bzero bcmp \\\n \tstrsignal putc_unlocked fputs_unlocked strstr environ\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2967: checking whether $ac_func must be declared\" >&5\n+echo \"configure:3021: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2972 \"configure\"\n+#line 3026 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3005,7 +3059,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:3009: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3063: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3034,12 +3088,12 @@ done\n for ac_func in malloc realloc calloc free\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3038: checking whether $ac_func must be declared\" >&5\n+echo \"configure:3092: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3043 \"configure\"\n+#line 3097 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3079,7 +3133,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:3083: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3137: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3108,12 +3162,12 @@ done\n for ac_func in getrlimit setrlimit getrusage\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3112: checking whether $ac_func must be declared\" >&5\n+echo \"configure:3166: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3117 \"configure\"\n+#line 3171 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3154,7 +3208,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:3158: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3212: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3182,12 +3236,12 @@ done\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:3186: checking if mkdir takes one argument\" >&5\n+echo \"configure:3240: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3191 \"configure\"\n+#line 3245 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -3204,7 +3258,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3208: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3262: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -6645,15 +6699,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6649: checking for strerror in -lcposix\" >&5\n+echo \"configure:6703: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6657 \"configure\"\n+#line 6711 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6664,7 +6718,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6668: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6722: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6687,18 +6741,18 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6691: checking for working const\" >&5\n+echo \"configure:6745: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6696 \"configure\"\n+#line 6750 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x = {0,0};\n+typedef int charset[2]; const charset x;\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -6741,7 +6795,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6745: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6799: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6762,21 +6816,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6766: checking for inline\" >&5\n+echo \"configure:6820: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6773 \"configure\"\n+#line 6827 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n-} int $ac_kw foo() {\n+} $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6780: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6834: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6802,12 +6856,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6806: checking for off_t\" >&5\n+echo \"configure:6860: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6811 \"configure\"\n+#line 6865 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6835,12 +6889,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6839: checking for size_t\" >&5\n+echo \"configure:6893: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6844 \"configure\"\n+#line 6898 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6870,19 +6924,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6874: checking for working alloca.h\" >&5\n+echo \"configure:6928: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6879 \"configure\"\n+#line 6933 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n-void *p = alloca(2 * sizeof(int));\n+char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6886: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6940: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6903,12 +6957,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6907: checking for alloca\" >&5\n+echo \"configure:6961: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6912 \"configure\"\n+#line 6966 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6936,7 +6990,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6940: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6994: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6968,12 +7022,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6972: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:7026: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6977 \"configure\"\n+#line 7031 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6998,12 +7052,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7002: checking for $ac_func\" >&5\n+echo \"configure:7056: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7007 \"configure\"\n+#line 7061 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7012,6 +7066,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n+char (*f)();\n \n int main() {\n \n@@ -7021,12 +7076,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-$ac_func();\n+f = $ac_func;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7030: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7085: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7053,15 +7108,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7057: checking stack direction for C alloca\" >&5\n+echo \"configure:7112: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7065 \"configure\"\n+#line 7120 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7080,7 +7135,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7084: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7139: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7107,17 +7162,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7111: checking for $ac_hdr\" >&5\n+echo \"configure:7166: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7116 \"configure\"\n+#line 7171 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7121: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7176: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7147,12 +7202,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7151: checking for $ac_func\" >&5\n+echo \"configure:7206: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7156 \"configure\"\n+#line 7211 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7161,6 +7216,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n+char (*f)();\n \n int main() {\n \n@@ -7170,12 +7226,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-$ac_func();\n+f = $ac_func;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7179: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7235: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7204,12 +7260,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7208: checking for $ac_func\" >&5\n+echo \"configure:7264: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7213 \"configure\"\n+#line 7269 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7218,6 +7274,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n+char (*f)();\n \n int main() {\n \n@@ -7227,12 +7284,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-$ac_func();\n+f = $ac_func;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7236: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7293: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7266,19 +7323,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7270: checking for LC_MESSAGES\" >&5\n+echo \"configure:7327: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7275 \"configure\"\n+#line 7332 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7282: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7339: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7299,7 +7356,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7303: checking whether NLS is requested\" >&5\n+echo \"configure:7360: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7319,7 +7376,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7323: checking whether included gettext is requested\" >&5\n+echo \"configure:7380: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7338,17 +7395,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7342: checking for libintl.h\" >&5\n+echo \"configure:7399: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7347 \"configure\"\n+#line 7404 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7352: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7409: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7365,19 +7422,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7369: checking for gettext in libc\" >&5\n+echo \"configure:7426: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7374 \"configure\"\n+#line 7431 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7381: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7438: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7393,15 +7450,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7397: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7454: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7405 \"configure\"\n+#line 7462 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7412,7 +7469,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7416: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7473: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7428,20 +7485,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7432: checking for gettext in libintl\" >&5\n+echo \"configure:7489: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7437: checking for gettext in -lintl\" >&5\n+echo \"configure:7494: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7445 \"configure\"\n+#line 7502 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7452,7 +7509,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7456: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7513: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7491,7 +7548,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7495: checking for $ac_word\" >&5\n+echo \"configure:7552: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7525,12 +7582,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7529: checking for $ac_func\" >&5\n+echo \"configure:7586: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7534 \"configure\"\n+#line 7591 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7539,6 +7596,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n+char (*f)();\n \n int main() {\n \n@@ -7548,12 +7606,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-$ac_func();\n+f = $ac_func;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7557: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7615: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7580,7 +7638,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7584: checking for $ac_word\" >&5\n+echo \"configure:7642: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7616,7 +7674,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7620: checking for $ac_word\" >&5\n+echo \"configure:7678: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7648,15 +7706,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7652 \"configure\"\n+#line 7710 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7660: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7718: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7679,7 +7737,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7683: checking whether catgets can be used\" >&5\n+echo \"configure:7741: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7692,22 +7750,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7696: checking for main in -li\" >&5\n+echo \"configure:7754: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7704 \"configure\"\n+#line 7762 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7711: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7769: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7735,12 +7793,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7739: checking for catgets\" >&5\n+echo \"configure:7797: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7744 \"configure\"\n+#line 7802 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7749,6 +7807,7 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char catgets();\n+char (*f)();\n \n int main() {\n \n@@ -7758,12 +7817,12 @@ int main() {\n #if defined (__stub_catgets) || defined (__stub___catgets)\n choke me\n #else\n-catgets();\n+f = catgets;\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7767: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7826: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7785,7 +7844,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7789: checking for $ac_word\" >&5\n+echo \"configure:7848: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7821,7 +7880,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7825: checking for $ac_word\" >&5\n+echo \"configure:7884: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7858,7 +7917,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7862: checking for $ac_word\" >&5\n+echo \"configure:7921: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7893,7 +7952,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7897: checking for $ac_word\" >&5\n+echo \"configure:7956: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7951,7 +8010,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7955: checking for $ac_word\" >&5\n+echo \"configure:8014: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7985,7 +8044,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7989: checking for $ac_word\" >&5\n+echo \"configure:8048: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8021,7 +8080,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8025: checking for $ac_word\" >&5\n+echo \"configure:8084: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8114,7 +8173,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8118: checking for catalogs to be installed\" >&5\n+echo \"configure:8177: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -8142,17 +8201,17 @@ echo \"configure:8118: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8146: checking for linux/version.h\" >&5\n+echo \"configure:8205: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8151 \"configure\"\n+#line 8210 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8156: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8215: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8227,7 +8286,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8231: checking whether windows registry support is requested\" >&5\n+echo \"configure:8290: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8256,7 +8315,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8260: checking registry key on windows hosts\" >&5\n+echo \"configure:8319: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8432,7 +8491,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8436: checking assembler alignment features\" >&5\n+echo \"configure:8495: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8553,7 +8612,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8557: checking assembler subsection support\" >&5\n+echo \"configure:8616: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8593,7 +8652,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:8597: checking assembler weak support\" >&5\n+echo \"configure:8656: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .weak\n@@ -8610,7 +8669,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:8614: checking assembler hidden support\" >&5\n+echo \"configure:8673: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .hidden\n@@ -8630,7 +8689,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8634: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8693: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8660,7 +8719,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:8664: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:8723: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8705,7 +8764,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8709: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8768: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8744,7 +8803,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8748: checking assembler instructions\" >&5\n+echo \"configure:8807: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -8870,7 +8929,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:8874: checking for libstdc++ to install\" >&5\n+echo \"configure:8933: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\""}, {"sha": "e7243bb64a825850d985af2fe8baed506f981b73", "filename": "gcc/configure.in", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -377,6 +377,27 @@ if test $gcc_cv_header_inttypes_h = yes; then\n   AC_DEFINE(HAVE_INTTYPES_H)\n fi\n \n+#\n+# Determine if enumerated bitfields are unsigned.   ISO C says they can \n+# be either signed or unsigned.\n+#\n+AC_CACHE_CHECK(for unsigned enumerated bitfields, gcc_cv_enum_bf_unsigned,\n+[AC_TRY_RUN(#include <stdlib.h>\n+enum t { BLAH = 128 } ;\n+struct s_t { enum t member : 8; } s ;\n+int main(void)\n+{            \n+        s.member = BLAH;\n+        if (s.member < 0) exit(1);\n+        exit(0);\n+\n+}, gcc_cv_enum_bf_unsigned=yes, gcc_cv_enum_bf_unsigned=no, gcc_cv_enum_bf_unsigned=yes)])\n+AC_MSG_RESULT($gcc_cv_enum_bf_unsigned)\n+if test $gcc_cv_enum_bf_unsigned = yes; then\n+  AC_DEFINE(ENUM_BITFIELDS_ARE_UNSIGNED, 1,\n+    [Define if enumerated bitfields are treated as unsigned values.])\n+fi\n+\n AC_CHECK_FUNCS(strtoul bsearch putenv popen bcopy bzero bcmp \\\n \tindex rindex strchr strrchr kill getrlimit setrlimit atoll atoq \\\n \tsysconf isascii gettimeofday strsignal putc_unlocked fputc_unlocked \\"}, {"sha": "5a1221e0cdaa83f3ae1d058ce9ab2d9b4074f816", "filename": "gcc/rtl.h", "status": "modified", "additions": 3, "deletions": 19, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -103,23 +103,12 @@ typedef union rtunion_def\n \n typedef struct rtx_def\n {\n-#ifdef ONLY_INT_FIELDS\n-#ifdef CODE_FIELD_BUG\n-  unsigned int code : 16;\n-#else\n-  unsigned short code;\n-#endif\n-#else\n   /* The kind of expression this is.  */\n-  enum rtx_code code : 16;\n-#endif\n+  ENUM_BITFIELD(rtx_code) code: 16;\n \n   /* The kind of value the expression has.  */\n-#ifdef ONLY_INT_FIELDS\n-  int mode : 8;\n-#else\n-  enum machine_mode mode : 8;\n-#endif\n+  ENUM_BITFIELD(machine_mode) mode : 8;\n+\n   /* 1 in an INSN if it can alter flow of control\n      within this function.\n      LINK_COST_ZERO in an INSN_LIST.  */\n@@ -189,13 +178,8 @@ typedef struct rtx_def\n \n /* Define macros to access the `code' field of the rtx.  */\n \n-#ifdef SHORT_ENUM_BUG\n-#define GET_CODE(RTX)\t\t((enum rtx_code) ((RTX)->code))\n-#define PUT_CODE(RTX, CODE)\t((RTX)->code = ((short) (CODE)))\n-#else\n #define GET_CODE(RTX)\t\t((RTX)->code)\n #define PUT_CODE(RTX, CODE)\t((RTX)->code = (CODE))\n-#endif\n \n #define GET_MODE(RTX)\t\t((RTX)->mode)\n #define PUT_MODE(RTX, MODE)\t((RTX)->mode = (MODE))"}, {"sha": "6a7494611334b03bdd6afed8d4d152184f6faf02", "filename": "gcc/system.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -547,4 +547,16 @@ extern void abort PARAMS ((void));\n /* Get libiberty declarations. */\n #include \"libiberty.h\"\n \n+/* Enumerated bitfields are safe to use unless we've been explictly told\n+ * otherwise or if they are signed. */\n+ \n+#define USE_ENUM_BITFIELDS __GNUC__ || (!ONLY_INT_FIELDS && ENUM_BTIFIELDS_ARE_UNSIGNED)\n+\n+#if USE_ENUM_BITFIELDS\n+#define ENUM_BITFIELD(TYPE) enum TYPE\n+#else\n+#define ENUM_BITFIELD(TYPE) unsigned int\n+#endif\n+\n+\n #endif /* __GCC_SYSTEM_H__ */"}, {"sha": "ae194cd43d55067129a6d23a3f0a2b54969dcb9e", "filename": "gcc/tree.h", "status": "modified", "additions": 3, "deletions": 16, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c149cc37c87cd454fec56f5032cc1e4b10feca16/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=c149cc37c87cd454fec56f5032cc1e4b10feca16", "patch": "@@ -126,12 +126,7 @@ struct tree_common\n {\n   union tree_node *chain;\n   union tree_node *type;\n-#ifdef ONLY_INT_FIELDS\n-  unsigned int code : 8;\n-#else\n-  enum tree_code code : 8;\n-#endif\n-\n+  ENUM_BITFIELD(tree_code) code : 8;\n   unsigned side_effects_flag : 1;\n   unsigned constant_flag : 1;\n   unsigned permanent_flag : 1;\n@@ -906,11 +901,7 @@ struct tree_type\n   unsigned int uid;\n \n   unsigned int precision : 9;\n-#ifdef ONLY_INT_FIELDS\n-  unsigned int mode : 7;\n-#else\n-  enum machine_mode mode : 7;\n-#endif\n+  ENUM_BITFIELD(machine_mode) mode : 7;\n \n   unsigned string_flag : 1;\n   unsigned no_force_blk_flag : 1;\n@@ -1394,11 +1385,7 @@ struct tree_decl\n   unsigned malloc_flag : 1;\n   unsigned no_limit_stack : 1;\n   unsigned pure_flag : 1;\n-#ifdef ONLY_INT_FIELDS\n-  unsigned int built_in_class : 2;\n-#else\n-  enum built_in_class built_in_class : 2;\n-#endif\n+  ENUM_BITFIELD(built_in_class) built_in_class : 2;\n \n   unsigned lang_flag_0 : 1;\n   unsigned lang_flag_1 : 1;"}]}