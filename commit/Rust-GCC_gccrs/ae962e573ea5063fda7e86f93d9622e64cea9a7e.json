{"sha": "ae962e573ea5063fda7e86f93d9622e64cea9a7e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU5NjJlNTczZWE1MDYzZmRhN2U4NmY5M2Q5NjIyZTY0Y2VhOWE3ZQ==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2020-04-23T23:49:01Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2020-04-23T23:49:01Z"}, "message": "PR driver/90983 - manual documents `-Wno-stack-usage` flag but it is unrecognized\n\ngcc/ChangeLog:\n\n\tPR driver/90983\n\t* common.opt (-Wno-frame-larger-than): New option.\n\t(-Wno-larger-than, -Wno-stack-usage): Same.\n\ngcc/testsuite/ChangeLog:\n\n\tPR driver/90983\n\t* gcc.dg/Wframe-larger-than-3.c: New test.\n\t* gcc.dg/Wlarger-than4.c: New test.\n\t* gcc.dg/Wstack-usage.c: New test.", "tree": {"sha": "e2c1a0c04443a7035e2e1adc33dc560057a92477", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2c1a0c04443a7035e2e1adc33dc560057a92477"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae962e573ea5063fda7e86f93d9622e64cea9a7e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae962e573ea5063fda7e86f93d9622e64cea9a7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae962e573ea5063fda7e86f93d9622e64cea9a7e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae962e573ea5063fda7e86f93d9622e64cea9a7e/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a453da5cac7b6610cd342a7bea256acba5e61e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a453da5cac7b6610cd342a7bea256acba5e61e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a453da5cac7b6610cd342a7bea256acba5e61e1"}], "stats": {"total": 55, "additions": 55, "deletions": 0}, "files": [{"sha": "cf97cfed6263eea6d01f2ed252404500b78da4c5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ae962e573ea5063fda7e86f93d9622e64cea9a7e", "patch": "@@ -1,3 +1,9 @@\n+2020-04-23  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR driver/90983\n+\t* common.opt (-Wno-frame-larger-than): New option.\n+\t(-Wno-larger-than, -Wno-stack-usage): Same.\n+\n 2020-04-23  Andrew Stubbs  <ams@codesourcery.com>\n \n \t* config/gcn/gcn-valu.md (mov<mode>_exec): Swap the numbers on operands"}, {"sha": "d33383b523cfe9556695c7ce0521287d084f1e9c", "filename": "gcc/common.opt", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=ae962e573ea5063fda7e86f93d9622e64cea9a7e", "patch": "@@ -601,6 +601,10 @@ Wframe-larger-than=\n Common RejectNegative Joined Host_Wide_Int ByteSize Warning Var(warn_frame_larger_than_size) Init(HOST_WIDE_INT_MAX)\n -Wframe-larger-than=<byte-size>\tWarn if a function's stack frame requires in excess of <byte-size>.\n \n+Wno-frame-larger-than\n+Common Alias(Wframe-larger-than=,18446744073709551615EiB,none) Warning\n+Disable -Wframe-larger-than= warning.  Equivalent to -Wframe-larger-than=<SIZE_MAX> or larger.\n+\n Wfree-nonheap-object\n Common Var(warn_free_nonheap_object) Init(1) Warning\n Warn when attempting to free a non-heap object.\n@@ -631,6 +635,10 @@ Wlarger-than=\n Common RejectNegative Joined Host_Wide_Int ByteSize Warning Var(warn_larger_than_size) Init(HOST_WIDE_INT_MAX)\n -Wlarger-than=<byte-size>\tWarn if an object's size exceeds <byte-size>.\n \n+Wno-larger-than\n+Common Alias(Wlarger-than=,18446744073709551615EiB,none) Warning\n+Disable -Wlarger-than= warning.  Equivalent to -Wlarger-than=<SIZE_MAX> or larger.\n+\n Wnonnull-compare\n Var(warn_nonnull_compare) Warning\n Warn if comparing pointer parameter with nonnull attribute with NULL.\n@@ -704,6 +712,10 @@ Wstack-usage=\n Common Joined RejectNegative Host_Wide_Int ByteSize Var(warn_stack_usage) Warning Init(HOST_WIDE_INT_MAX)\n -Wstack-usage=<byte-size>\tWarn if stack usage might exceed <byte-size>.\n \n+Wno-stack-usage\n+Common Alias(Wstack-usage=,18446744073709551615EiB,none) Warning\n+Disable Wstack-usage= warning.  Equivalent to Wstack-usage=<SIZE_MAX> or larger.\n+\n Wstrict-aliasing\n Common Warning\n Warn about code which might break strict aliasing rules."}, {"sha": "86331cd12117e1e654d7cdc81ad3771547a24242", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae962e573ea5063fda7e86f93d9622e64cea9a7e", "patch": "@@ -1,3 +1,10 @@\n+2020-04-23  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR driver/90983\n+\t* gcc.dg/Wframe-larger-than-3.c: New test.\n+\t* gcc.dg/Wlarger-than4.c: New test.\n+\t* gcc.dg/Wstack-usage.c: New test.\n+\n 2020-04-23  Patrick Palka  <ppalka@redhat.com>\n \n \t* g++.dg/cpp0x/dependent3.C: New test."}, {"sha": "ae5b2f497c79a359f00c9ee7588500ed9acd5e55", "filename": "gcc/testsuite/gcc.dg/Wframe-larger-than-3.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2Fgcc.dg%2FWframe-larger-than-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2Fgcc.dg%2FWframe-larger-than-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWframe-larger-than-3.c?ref=ae962e573ea5063fda7e86f93d9622e64cea9a7e", "patch": "@@ -0,0 +1,11 @@\n+/* PR 90983/manual documents `-Wno-stack-usage` flag, but it is unrecognized\n+   { dg-do compile }\n+   { dg-options \"-Wall -Wframe-larger-than=123 -Wno-frame-larger-than\" } */\n+\n+void f (void*);\n+\n+void g (void)\n+{\n+  char a [1234];\n+  f (a);\n+}"}, {"sha": "dd936c671cde75c54f2f970fab063611c949b265", "filename": "gcc/testsuite/gcc.dg/Wlarger-than4.c", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2Fgcc.dg%2FWlarger-than4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2Fgcc.dg%2FWlarger-than4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWlarger-than4.c?ref=ae962e573ea5063fda7e86f93d9622e64cea9a7e", "patch": "@@ -0,0 +1,5 @@\n+/* PR 90983/manual documents `-Wno-stack-usage` flag, but it is unrecognized\n+   { dg-do compile }\n+   { dg-options \"-Wall -Wlarger-than=123 -Wno-larger-than\" } */\n+\n+char a [1234];"}, {"sha": "4738b69478b8a43ce679559f834d48cab0243913", "filename": "gcc/testsuite/gcc.dg/Wstack-usage.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2Fgcc.dg%2FWstack-usage.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae962e573ea5063fda7e86f93d9622e64cea9a7e/gcc%2Ftestsuite%2Fgcc.dg%2FWstack-usage.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWstack-usage.c?ref=ae962e573ea5063fda7e86f93d9622e64cea9a7e", "patch": "@@ -0,0 +1,14 @@\n+/* PR 90983/manual documents `-Wno-stack-usage` flag, but it is unrecognized\n+   { dg-do compile }\n+   { dg-options \"-Wall -Wstack-usage=123 -Wno-stack-usage\" } */\n+\n+void f (void*);\n+\n+void g (int n)\n+{\n+  if (n < 1234)\n+    n = 1234;\n+\n+  char a [n];\n+  f (a);\n+}"}]}