{"sha": "b21b850ec44c02a59ee0e1bc22e1f242e3140e39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjIxYjg1MGVjNDRjMDJhNTllZTBlMWJjMjJlMWYyNDJlMzE0MGUzOQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2009-01-09T21:34:22Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2009-01-09T21:34:22Z"}, "message": "regrename.c (regrename_optimize): Fix dumping.\n\n\t* regrename.c (regrename_optimize): Fix dumping.\n\t(find_oldest_value_reg): Preserve REG_POINTER.\n\t(copy_hardreg_forward_1): Likewise.\n\tprocess_init_element callers.\n\nFrom-SVN: r143235", "tree": {"sha": "6fd2a5d0f9646278f03352cbe2ed0a2eb19302a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fd2a5d0f9646278f03352cbe2ed0a2eb19302a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b21b850ec44c02a59ee0e1bc22e1f242e3140e39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b21b850ec44c02a59ee0e1bc22e1f242e3140e39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b21b850ec44c02a59ee0e1bc22e1f242e3140e39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b21b850ec44c02a59ee0e1bc22e1f242e3140e39/comments", "author": null, "committer": null, "parents": [{"sha": "1260bd3a832f9caaa4a6665e886eb7a883a51257", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1260bd3a832f9caaa4a6665e886eb7a883a51257", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1260bd3a832f9caaa4a6665e886eb7a883a51257"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "36c5e37a823d6e6a39706774a409d7235e24438e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b21b850ec44c02a59ee0e1bc22e1f242e3140e39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b21b850ec44c02a59ee0e1bc22e1f242e3140e39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b21b850ec44c02a59ee0e1bc22e1f242e3140e39", "patch": "@@ -1,3 +1,9 @@\n+2009-01-09  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* regrename.c (regrename_optimize): Fix dumping.\n+\t(find_oldest_value_reg): Preserve REG_POINTER.\n+\t(copy_hardreg_forward_1): Likewise.\n+\n 2009-01-09  Diego Novillo  <dnovillo@google.com>\n \n \t* gimple.h (struct gimple_statement_base)<uid>: Document"}, {"sha": "2da42c38ecb5dc0f0cddac6790f31061278c881f", "filename": "gcc/regrename.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b21b850ec44c02a59ee0e1bc22e1f242e3140e39/gcc%2Fregrename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b21b850ec44c02a59ee0e1bc22e1f242e3140e39/gcc%2Fregrename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregrename.c?ref=b21b850ec44c02a59ee0e1bc22e1f242e3140e39", "patch": "@@ -340,12 +340,12 @@ regrename_optimize (void)\n \t      continue;\n \t    }\n \n+\t  if (dump_file)\n+\t    fprintf (dump_file, \", renamed as %s\\n\", reg_names[best_new_reg]);\n+\n \t  do_replace (this_du, best_new_reg);\n \t  tick[best_new_reg] = ++this_tick;\n \t  df_set_regs_ever_live (best_new_reg, true);\n-\n-\t  if (dump_file)\n-\t    fprintf (dump_file, \", renamed as %s\\n\", reg_names[best_new_reg]);\n \t}\n \n       obstack_free (&rename_obstack, first_obj);\n@@ -1388,6 +1388,7 @@ find_oldest_value_reg (enum reg_class cl, rtx reg, struct value_data *vd)\n \t{\n \t  ORIGINAL_REGNO (new_rtx) = ORIGINAL_REGNO (reg);\n \t  REG_ATTRS (new_rtx) = REG_ATTRS (reg);\n+\t  REG_POINTER (new_rtx) = REG_POINTER (reg);\n \t  return new_rtx;\n \t}\n     }\n@@ -1686,6 +1687,7 @@ copyprop_hardreg_forward_1 (basic_block bb, struct value_data *vd)\n \t\t    {\n \t\t      ORIGINAL_REGNO (new_rtx) = ORIGINAL_REGNO (src);\n \t\t      REG_ATTRS (new_rtx) = REG_ATTRS (src);\n+\t\t      REG_POINTER (new_rtx) = REG_POINTER (src);\n \t\t      if (dump_file)\n \t\t\tfprintf (dump_file,\n \t\t\t\t \"insn %u: replaced reg %u with %u\\n\","}]}