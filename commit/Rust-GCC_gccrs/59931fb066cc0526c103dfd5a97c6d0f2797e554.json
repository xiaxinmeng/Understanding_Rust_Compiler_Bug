{"sha": "59931fb066cc0526c103dfd5a97c6d0f2797e554", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk5MzFmYjA2NmNjMDUyNmMxMDNkZmQ1YTk3YzZkMGYyNzk3ZTU1NA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-01-06T07:48:31Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-01-06T07:48:31Z"}, "message": "re PR debug/83480 (ICE in create_block_for_bookkeeping, at sel-sched.c:4557)\n\n\tPR debug/83480\n\t* toplev.c (process_options): Don't enable debug_nonbind_markers_p\n\tby default if flag_selective_schedling{,2}.  Formatting fixes.\n\n\t* gcc.dg/pr83480.c: New test.\n\nFrom-SVN: r256309", "tree": {"sha": "f331f2a088761462fa192e70daa90951c7871fea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f331f2a088761462fa192e70daa90951c7871fea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59931fb066cc0526c103dfd5a97c6d0f2797e554", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59931fb066cc0526c103dfd5a97c6d0f2797e554", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59931fb066cc0526c103dfd5a97c6d0f2797e554", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59931fb066cc0526c103dfd5a97c6d0f2797e554/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8fec4d222f0a35925bfdc4641612120b06d51c59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fec4d222f0a35925bfdc4641612120b06d51c59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fec4d222f0a35925bfdc4641612120b06d51c59"}], "stats": {"total": 52, "additions": 48, "deletions": 4}, "files": [{"sha": "59f25abe8b54bad776b381565eb734cdecd2d8a4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=59931fb066cc0526c103dfd5a97c6d0f2797e554", "patch": "@@ -1,5 +1,9 @@\n 2018-01-06  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR debug/83480\n+\t* toplev.c (process_options): Don't enable debug_nonbind_markers_p\n+\tby default if flag_selective_schedling{,2}.  Formatting fixes.\n+\n \tPR rtl-optimization/83682\n \t* rtl.h (const_vec_duplicate_p): Only return true for VEC_DUPLICATE\n \tif it has non-VECTOR_MODE element mode."}, {"sha": "219d0d4865cc08612ec9f452163d1c6c3a7009d7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=59931fb066cc0526c103dfd5a97c6d0f2797e554", "patch": "@@ -1,5 +1,8 @@\n 2018-01-06  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR debug/83480\n+\t* gcc.dg/pr83480.c: New test.\n+\n \tPR rtl-optimization/83682\n \t* gcc.target/i386/pr83682.c: New test.\n "}, {"sha": "7b57712eaee4d405e2d9c14fa44bf3ee940f6341", "filename": "gcc/testsuite/gcc.dg/pr83480.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2Ftestsuite%2Fgcc.dg%2Fpr83480.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2Ftestsuite%2Fgcc.dg%2Fpr83480.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr83480.c?ref=59931fb066cc0526c103dfd5a97c6d0f2797e554", "patch": "@@ -0,0 +1,32 @@\n+/* PR debug/83480 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -g -fselective-scheduling2 -ftree-vectorize -freorder-blocks-algorithm=simple -fnon-call-exceptions -fno-guess-branch-probability -fno-peephole2 -fno-tree-sink -fno-tree-scev-cprop\" } */\n+\n+signed char a, b;\n+\n+void\n+foo (int x, int y)\n+{\n+  for (a = 1; a != 0; ++a)\n+    ;\n+\n+  for (;;)\n+    {\n+      int c;\n+\n+      b %= (y != 0 && a != 0) + 1;\n+      if (a != 0)\n+\ty = b;\n+\n+      for (c = 0; c < 50; ++c)\n+\t++x;\n+\n+      if (a < 1)\n+\t{\n+\t  while (x != 0)\n+\t    ;\n+\n+\t  a /= 0;\t/* { dg-warning \"division by zero\" } */\n+\t}\n+    }\n+}"}, {"sha": "35d79680ab03cb8404686664e65f1b231a523f70", "filename": "gcc/toplev.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59931fb066cc0526c103dfd5a97c6d0f2797e554/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=59931fb066cc0526c103dfd5a97c6d0f2797e554", "patch": "@@ -1535,8 +1535,9 @@ process_options (void)\n     flag_var_tracking_uninit = flag_var_tracking;\n \n   if (flag_var_tracking_assignments == AUTODETECT_VALUE)\n-    flag_var_tracking_assignments = flag_var_tracking\n-      && !(flag_selective_scheduling || flag_selective_scheduling2);\n+    flag_var_tracking_assignments\n+      = (flag_var_tracking\n+\t && !(flag_selective_scheduling || flag_selective_scheduling2));\n \n   if (flag_var_tracking_assignments_toggle)\n     flag_var_tracking_assignments = !flag_var_tracking_assignments;\n@@ -1550,8 +1551,12 @@ process_options (void)\n \t\t\"var-tracking-assignments changes selective scheduling\");\n \n   if (debug_nonbind_markers_p == AUTODETECT_VALUE)\n-    debug_nonbind_markers_p = optimize && debug_info_level >= DINFO_LEVEL_NORMAL\n-      && (write_symbols == DWARF2_DEBUG || write_symbols == VMS_AND_DWARF2_DEBUG);\n+    debug_nonbind_markers_p\n+      = (optimize\n+\t && debug_info_level >= DINFO_LEVEL_NORMAL\n+\t && (write_symbols == DWARF2_DEBUG\n+\t     || write_symbols == VMS_AND_DWARF2_DEBUG)\n+\t && !(flag_selective_scheduling || flag_selective_scheduling2));\n \n   if (flag_tree_cselim == AUTODETECT_VALUE)\n     {"}]}