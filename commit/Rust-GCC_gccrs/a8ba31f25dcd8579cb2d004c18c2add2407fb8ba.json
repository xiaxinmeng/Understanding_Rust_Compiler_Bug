{"sha": "a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThiYTMxZjI1ZGNkODU3OWNiMmQwMDRjMThjMmFkZDI0MDdmYjhiYQ==", "commit": {"author": {"name": "Eric Christopher", "email": "echristo@redhat.com", "date": "2005-07-13T18:15:43Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2005-07-13T18:15:43Z"}, "message": "configure.in: Add toplevel noconfigdir support for tpf.\n\n2005-07-13  Eric Christopher  <echristo@redhat.com>\n\n        * configure.in: Add toplevel noconfigdir support for tpf.\n        * configure: Regenerate.\n\n2005-07-13  Eric Christopher  <echristo@redhat.com>\n\n        * config.gcc (s390x-ibm-tpf*): Add extra_options. Remove\n        static extra parts.\n        * config/s390/s390.md: Include tpf.md. Move tpf specific\n        patterns...\n        * config/s390/tpf.md: To here.\n        * config/s390/s390.opt: Move tpf specific options...\n        * config/s390/tpf.opt: to here. Add mmain option.\n        * config/s390/tpf-unwind.h: Remove unnecessary defines.\n        * config/s390/tpf.h: Rewrite.\n\nFrom-SVN: r101982", "tree": {"sha": "a13c4da74ac36abdea83ba12425e0a187b227295", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a13c4da74ac36abdea83ba12425e0a187b227295"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/comments", "author": {"login": "echristo", "id": 327308, "node_id": "MDQ6VXNlcjMyNzMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/327308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/echristo", "html_url": "https://github.com/echristo", "followers_url": "https://api.github.com/users/echristo/followers", "following_url": "https://api.github.com/users/echristo/following{/other_user}", "gists_url": "https://api.github.com/users/echristo/gists{/gist_id}", "starred_url": "https://api.github.com/users/echristo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/echristo/subscriptions", "organizations_url": "https://api.github.com/users/echristo/orgs", "repos_url": "https://api.github.com/users/echristo/repos", "events_url": "https://api.github.com/users/echristo/events{/privacy}", "received_events_url": "https://api.github.com/users/echristo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "042216f779e759cde93d77217e0587b895c1e17d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/042216f779e759cde93d77217e0587b895c1e17d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/042216f779e759cde93d77217e0587b895c1e17d"}], "stats": {"total": 360, "additions": 234, "deletions": 126}, "files": [{"sha": "55781e1d03d39d04ef8f8ecdecdbc82f4fb144ae", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -1,3 +1,8 @@\n+2005-07-13  Eric Christopher  <echristo@redhat.com>\n+\n+\t* configure.in: Add toplevel noconfigdir support for tpf.\n+\t* configure: Regenerate.\n+\n 2005-07-11  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR ada/22340"}, {"sha": "98813f3bf5cef486c73b43d677b67d82776cc2b9", "filename": "configure", "status": "modified", "additions": 92, "deletions": 69, "changes": 161, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -1202,6 +1202,10 @@ case \"${target}\" in\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss ${libgcj}\"\n     ;;\n+    # The tpf target doesn't support gdb yet.\n+  *-*-tpf*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-libiberty ${libgcj} target-libmudflap gdb tcl tk libgui itcl\"\n+    ;;\n   *-*-uclinux*)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-rda ${libgcj}\"\n     ;;\n@@ -1806,7 +1810,7 @@ else\n   # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1810: checking for $ac_word\" >&5\n+echo \"configure:1814: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1836,7 +1840,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1840: checking for $ac_word\" >&5\n+echo \"configure:1844: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1887,7 +1891,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1891: checking for $ac_word\" >&5\n+echo \"configure:1895: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1919,7 +1923,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1923: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1927: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1930,12 +1934,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1934 \"configure\"\n+#line 1938 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1939: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1943: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1961,12 +1965,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1965: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1969: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1970: checking whether we are using GNU C\" >&5\n+echo \"configure:1974: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1975,7 +1979,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1979: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1983: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1994,7 +1998,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1998: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:2002: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2061,7 +2065,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}gnatbind\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2065: checking for $ac_word\" >&5\n+echo \"configure:2069: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2093,7 +2097,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2097: checking for $ac_word\" >&5\n+echo \"configure:2101: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2126,7 +2130,7 @@ fi\n fi\n \n echo $ac_n \"checking whether compiler driver understands Ada\"\"... $ac_c\" 1>&6\n-echo \"configure:2130: checking whether compiler driver understands Ada\" >&5\n+echo \"configure:2134: checking whether compiler driver understands Ada\" >&5\n if eval \"test \\\"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2158,7 +2162,7 @@ else\n fi\n \n echo $ac_n \"checking how to compare bootstrapped objects\"\"... $ac_c\" 1>&6\n-echo \"configure:2162: checking how to compare bootstrapped objects\" >&5\n+echo \"configure:2166: checking how to compare bootstrapped objects\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2256,9 +2260,9 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS $gmpinc\"\n # Check GMP actually works\n echo $ac_n \"checking for correct version of gmp.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2260: checking for correct version of gmp.h\" >&5\n+echo \"configure:2264: checking for correct version of gmp.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2262 \"configure\"\n+#line 2266 \"configure\"\n #include \"confdefs.h\"\n #include \"gmp.h\"\n int main() {\n@@ -2269,7 +2273,7 @@ choke me\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2273: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2277: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2282,20 +2286,20 @@ rm -f conftest*\n \n if test x\"$have_gmp\" = xyes; then\n   echo $ac_n \"checking for MPFR\"\"... $ac_c\" 1>&6\n-echo \"configure:2286: checking for MPFR\" >&5\n+echo \"configure:2290: checking for MPFR\" >&5\n \n   saved_LIBS=\"$LIBS\"\n   LIBS=\"$LIBS $gmplibs\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2291 \"configure\"\n+#line 2295 \"configure\"\n #include \"confdefs.h\"\n #include <gmp.h>\n #include <mpfr.h>\n int main() {\n mpfr_t n; mpfr_init(n);\n ; return 0; }\n EOF\n-if { (eval echo configure:2299: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2303: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2789,7 +2793,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2793: checking for $ac_word\" >&5\n+echo \"configure:2797: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_BISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2824,7 +2828,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2828: checking for $ac_word\" >&5\n+echo \"configure:2832: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2859,7 +2863,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2863: checking for $ac_word\" >&5\n+echo \"configure:2867: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_M4'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2894,7 +2898,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2898: checking for $ac_word\" >&5\n+echo \"configure:2902: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_FLEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2929,7 +2933,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2933: checking for $ac_word\" >&5\n+echo \"configure:2937: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2964,7 +2968,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2968: checking for $ac_word\" >&5\n+echo \"configure:2972: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_MAKEINFO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3571,7 +3575,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3575: checking for $ac_word\" >&5\n+echo \"configure:3579: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3604,7 +3608,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3608: checking for $ac_word\" >&5\n+echo \"configure:3612: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3643,7 +3647,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3647: checking for $ac_word\" >&5\n+echo \"configure:3651: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3676,7 +3680,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3680: checking for $ac_word\" >&5\n+echo \"configure:3684: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3715,7 +3719,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3719: checking for $ac_word\" >&5\n+echo \"configure:3723: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3748,7 +3752,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3752: checking for $ac_word\" >&5\n+echo \"configure:3756: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3787,7 +3791,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3791: checking for $ac_word\" >&5\n+echo \"configure:3795: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3820,7 +3824,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3824: checking for $ac_word\" >&5\n+echo \"configure:3828: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3859,7 +3863,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3863: checking for $ac_word\" >&5\n+echo \"configure:3867: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3892,7 +3896,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3896: checking for $ac_word\" >&5\n+echo \"configure:3900: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3931,7 +3935,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3935: checking for $ac_word\" >&5\n+echo \"configure:3939: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3964,7 +3968,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3968: checking for $ac_word\" >&5\n+echo \"configure:3972: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4003,7 +4007,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4007: checking for $ac_word\" >&5\n+echo \"configure:4011: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4036,7 +4040,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4040: checking for $ac_word\" >&5\n+echo \"configure:4044: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4075,7 +4079,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4079: checking for $ac_word\" >&5\n+echo \"configure:4083: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4108,7 +4112,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4112: checking for $ac_word\" >&5\n+echo \"configure:4116: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4147,7 +4151,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4151: checking for $ac_word\" >&5\n+echo \"configure:4155: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4180,7 +4184,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4184: checking for $ac_word\" >&5\n+echo \"configure:4188: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4226,7 +4230,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4230: checking for $ac_word\" >&5\n+echo \"configure:4234: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4259,7 +4263,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4263: checking for $ac_word\" >&5\n+echo \"configure:4267: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4298,7 +4302,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4302: checking for $ac_word\" >&5\n+echo \"configure:4306: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4331,7 +4335,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4335: checking for $ac_word\" >&5\n+echo \"configure:4339: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4370,7 +4374,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4374: checking for $ac_word\" >&5\n+echo \"configure:4378: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4403,7 +4407,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4407: checking for $ac_word\" >&5\n+echo \"configure:4411: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4442,7 +4446,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4446: checking for $ac_word\" >&5\n+echo \"configure:4450: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4475,7 +4479,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4479: checking for $ac_word\" >&5\n+echo \"configure:4483: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4514,7 +4518,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4518: checking for $ac_word\" >&5\n+echo \"configure:4522: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4547,7 +4551,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4551: checking for $ac_word\" >&5\n+echo \"configure:4555: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4586,7 +4590,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4590: checking for $ac_word\" >&5\n+echo \"configure:4594: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4619,7 +4623,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4623: checking for $ac_word\" >&5\n+echo \"configure:4627: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4658,7 +4662,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4662: checking for $ac_word\" >&5\n+echo \"configure:4666: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4691,7 +4695,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4695: checking for $ac_word\" >&5\n+echo \"configure:4699: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4776,7 +4780,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4780: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4784: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4823,7 +4827,7 @@ esac\n # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n echo $ac_n \"checking if symbolic links between directories work\"\"... $ac_c\" 1>&6\n-echo \"configure:4827: checking if symbolic links between directories work\" >&5\n+echo \"configure:4831: checking if symbolic links between directories work\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4937,15 +4941,34 @@ trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15\n # Transform confdefs.h into DEFS.\n # Protect against shell expansion while executing Makefile rules.\n # Protect against Makefile macro expansion.\n-cat > conftest.defs <<\\EOF\n-s%#define \\([A-Za-z_][A-Za-z0-9_]*\\) *\\(.*\\)%-D\\1=\\2%g\n-s%[ \t`~#$^&*(){}\\\\|;'\"<>?]%\\\\&%g\n-s%\\[%\\\\&%g\n-s%\\]%\\\\&%g\n-s%\\$%$$%g\n-EOF\n-DEFS=`sed -f conftest.defs confdefs.h | tr '\\012' ' '`\n-rm -f conftest.defs\n+#\n+# If the first sed substitution is executed (which looks for macros that\n+# take arguments), then we branch to the quote section.  Otherwise,\n+# look for a macro that doesn't take arguments.\n+cat >confdef2opt.sed <<\\_ACEOF\n+t clear\n+: clear\n+s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t(][^ \t(]*([^)]*)\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n+t quote\n+s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t][^ \t]*\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n+t quote\n+d\n+: quote\n+s,[ \t`~#$^&*(){}\\\\|;'\"<>?],\\\\&,g\n+s,\\[,\\\\&,g\n+s,\\],\\\\&,g\n+s,\\$,$$,g\n+p\n+_ACEOF\n+# We use echo to avoid assuming a particular line-breaking character.\n+# The extra dot is to prevent the shell from consuming trailing\n+# line-breaks from the sub-command output.  A line-break within\n+# single-quotes doesn't work because, if this script is created in a\n+# platform that uses two characters for line-breaks (e.g., DOS), tr\n+# would break.\n+ac_LF_and_DOT=`echo; echo .`\n+DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr \"$ac_LF_and_DOT\" ' .'`\n+rm -f confdef2opt.sed\n \n \n # Without the \"./\", some shells look in PATH for config.status."}, {"sha": "8b9d2cb1c97fbaa060def34774ad0fb8d988cde4", "filename": "configure.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -413,6 +413,10 @@ case \"${target}\" in\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss ${libgcj}\"\n     ;;\n+    # The tpf target doesn't support gdb yet.\n+  *-*-tpf*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-libiberty ${libgcj} target-libmudflap gdb tcl tk libgui itcl\"\n+    ;;\n   *-*-uclinux*)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-rda ${libgcj}\"\n     ;;"}, {"sha": "42d34f4dc3ff7eff9ed049f47f54096616d3e82e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -1,3 +1,15 @@\n+2005-07-13  Eric Christopher  <echristo@redhat.com>\n+\n+        * config.gcc (s390x-ibm-tpf*): Add extra_options. Remove\n+        static extra parts.\n+        * config/s390/s390.md: Include tpf.md. Move tpf specific\n+        patterns...\n+        * config/s390/tpf.md: To here.\n+        * config/s390/s390.opt: Move tpf specific options...\n+        * config/s390/tpf.opt: to here. Add mmain option.\n+        * config/s390/tpf-unwind.h: Remove unnecessary defines.\n+        * config/s390/tpf.h: Rewrite.\n+\n 2005-07-13  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* doc/tm.texi: Remove @xref{Cross-profiling}.\n@@ -120,6 +132,18 @@\n \t* gcc.dg/compress-float-ppc.c:  New.\n \t* gcc.dg/compress-float-ppc-pic.c:  New.\n \n+2005-07-12  Eric Christopher  <echristo@redhat.com>\n+\n+\t* config.gcc (s390x-ibm-tpf*): Add extra_options. Remove\n+\tstatic extra parts.\n+\t* config/s390/s390.md: Include tpf.md. Move tpf specific\n+\tpatterns...\n+\t* config/s390/tpf.md: To here.\n+\t* config/s390/s390.opt: Move tpf specific options...\n+\t* config/s390/tpf.opt: to here. Add mmain option.\n+\t* config/s390/tpf-unwind.h: Remove unnecessary defines.\n+\t* config/s390/tpf.h: Rewrite.\n+\n 2005-07-12  Eric Christopher  <echristo@redhat.com>\n \n \t* gcc.c (struct infile): Update comment for language."}, {"sha": "7fe3068357b3d7f392b918027d285e39f91d47ce", "filename": "gcc/config.gcc", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -1820,14 +1820,15 @@ s390x-*-linux*)\n \ttmake_file=\"${tmake_file} s390/t-crtstuff s390/t-linux64\"\n \t;;\n s390x-ibm-tpf*)\n-\ttm_file=\"s390/s390x.h s390/s390.h dbxelf.h elfos.h svr4.h s390/tpf.h\"\n-\ttm_p_file=s390/s390-protos.h\n-\tmd_file=s390/s390.md\n-\textra_modes=s390/s390-modes.def\n-\textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n-\tout_file=s390/s390.c\n-\ttmake_file=\"t-slibgcc-elf-ver s390/t-crtstuff s390/t-tpf\"\n-\tthread_file='tpf'\n+        tm_file=\"s390/s390x.h s390/s390.h dbxelf.h elfos.h svr4.h s390/tpf.h\"\n+        tm_p_file=s390/s390-protos.h\n+        md_file=s390/s390.md\n+        extra_modes=s390/s390-modes.def\n+        out_file=s390/s390.c\n+        extra_parts=\"crtbeginS.o crtendS.o\"\n+        tmake_file=\"s390/t-crtstuff s390/t-tpf\"\n+        thread_file='tpf'\n+\textra_options=\"${extra_options} s390/tpf.opt\"\n \t;;\n sh-*-elf* | sh[12346l]*-*-elf* | sh*-*-kaos* | \\\n sh-*-symbianelf* | sh[12346l]*-*-symbianelf* | \\"}, {"sha": "92555c49b84528029cb815160c7d11383d6e0c8e", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 2, "deletions": 14, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -257,6 +257,8 @@\n ;; Predicates\n (include \"predicates.md\")\n \n+;; Other includes\n+(include \"tpf.md\")\n \n ;; Macros\n \n@@ -7019,25 +7021,11 @@\n   \"\"\n   \"s390_emit_prologue (); DONE;\")\n \n-(define_insn \"prologue_tpf\"\n-  [(unspec_volatile [(const_int 0)] UNSPECV_TPF_PROLOGUE)\n-   (clobber (reg:DI 1))]\n-  \"TARGET_TPF_PROFILING\"\n-  \"larl\\t%%r1,.+14\\;tm\\t4065,255\\;bnz\\t4064\"\n-  [(set_attr \"length\"   \"14\")])\n-\n (define_expand \"epilogue\"\n   [(use (const_int 1))]\n   \"\"\n   \"s390_emit_epilogue (false); DONE;\")\n \n-(define_insn \"epilogue_tpf\"\n-  [(unspec_volatile [(const_int 0)] UNSPECV_TPF_EPILOGUE)\n-   (clobber (reg:DI 1))]\n-  \"TARGET_TPF_PROFILING\"\n-  \"larl\\t%%r1,.+14\\;tm\\t4071,255\\;bnz\\t4070\"\n-  [(set_attr \"length\"   \"14\")])\n-\n (define_expand \"sibcall_epilogue\"\n   [(use (const_int 0))]\n   \"\""}, {"sha": "d65678601152f21083ba53dc59577b6934ed50a8", "filename": "gcc/config/s390/s390.opt", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Fs390.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Fs390.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.opt?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -71,10 +71,6 @@ mstack-size=\n Target RejectNegative Joined\n Emit extra code in the function prologue in order to trap if the stack size exceeds the given limit\n \n-mtpf-trace\n-Target Report Mask(TPF_PROFILING)\n-Enable tpf OS tracing code\n-\n mtune=\n Target RejectNegative Joined\n Schedule code for given CPU"}, {"sha": "87b68923f49b46f7c32bab9f26e47d3571113756", "filename": "gcc/config/s390/tpf-unwind.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf-unwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf-unwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Ftpf-unwind.h?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -28,11 +28,7 @@ along with GCC; see the file COPYING.  If not, write to the Free\n Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n 02110-1301, USA.  */\n \n-#define __USE_GNU 1\n-#define _GNU_SOURCE\n #include <dlfcn.h>\n-#undef __USE_GNU\n-#undef _GNU_SOURCE\n \n /* Function Name: __isPATrange\n    Parameters passed into it:  address to check"}, {"sha": "02fa8f2640ebb0bdfb01dd2887ebff749ca94cce", "filename": "gcc/config/s390/tpf.h", "status": "modified", "additions": 36, "deletions": 27, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Ftpf.h?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -33,8 +33,6 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n #define ASM_APP_OFF \"#NO_APP\\n\"\n #define NO_IMPLICIT_EXTERN_C\n #define TARGET_POSIX_IO\n-#undef MD_EXEC_PREFIX\n-#undef MD_STARTFILE_PREFIX\n \n #undef  SIZE_TYPE\n #define SIZE_TYPE (\"long unsigned int\")\n@@ -54,11 +52,12 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n #undef STACK_POINTER_OFFSET\n #define STACK_POINTER_OFFSET \t\t448\n \n-/* When building for TPF, set a generic default target that is 64 bits.\n-   Also, enable TPF profiling support and the standard backchain by default.  */\n+/* When building for TPF, set a generic default target that is 64 bits. Also\n+   enable TPF profiling support and the standard backchain by default.  */\n #undef TARGET_DEFAULT\n-#define TARGET_DEFAULT\t\t(MASK_64BIT | MASK_ZARCH | MASK_HARD_FLOAT \\\n-\t\t\t\t | MASK_TPF_PROFILING | MASK_BACKCHAIN)\n+#define TARGET_DEFAULT (MASK_TPF_PROFILING | MASK_64BIT | MASK_ZARCH \\\n+\t\t\t| MASK_HARD_FLOAT | MASK_BACKCHAIN)\n+\n /* Exception handling.  */\n \n /* Select a format to encode pointers in exception handling data.  */\n@@ -82,45 +81,55 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n   while (0)\n \n \n+#define EXTRA_SPECS                             \\\n+  { \"entry_spec\", ENTRY_SPEC }\n+\n /* Make TPF specific spec file settings here.  */\n \n-#undef  STARTFILE_SPEC\n+#undef STARTFILE_SPEC\n #define STARTFILE_SPEC \\\n-  \"%{!shared: \\\n-     %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} \\\n-                       %{!p:%{profile:gcrt1.o%s} \\\n-                         %{!profile:crt1.o%s}}}} \\\n-   crti.o%s %{static:crtbeginT.o%s} \\\n-   %{!static:%{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}}\"\n+  \"%{mmain:crt0%O%s} crtbeginS%O%s crt3%O%s\"\n+\n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC \"crtendS%O%s\"\n \n-#undef  ENDFILE_SPEC\n-#define ENDFILE_SPEC \\\n-  \"%{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s\"\n+#undef CC1_SPEC\n+#define CC1_SPEC \"%{!fverbose-asm: -fverbose-asm}\"\n \n /* The GNU C++ standard library requires that these macros be defined.  */\n #undef CPLUSPLUS_CPP_SPEC\n #define CPLUSPLUS_CPP_SPEC \"-D_GNU_SOURCE %(cpp)\"\n \n-#undef  ASM_SPEC\n-#define ASM_SPEC \"%{m31&m64}%{mesa&mzarch}%{march=*}\"\n+#undef ASM_SPEC\n+#define ASM_SPEC \"%{m31&m64}%{mesa&mzarch}%{march=*} \\\n+                  -alshd=%b.lst\"\n \n-#undef  LIB_SPEC\n-#define LIB_SPEC \"%{pthread:-lpthread} -lc\"\n+/* It would be nice to get the system linker script define the ones that it\n+   needed.  */\n+#undef LIB_SPEC\n+#define LIB_SPEC \"-lCTIS -lCISO -lCLBM -lCTAL -lCFVS -lCTBX -lCTXO \\\n+                  -lCJ00 -lCTDF -lCOMX -lCOMS -lCTHD -lCTAD -lTPFSTUB\"\n \n #undef TARGET_C99_FUNCTIONS\n #define TARGET_C99_FUNCTIONS 1\n \n+#define ENTRY_SPEC \"%{mmain:-entry=_start} \\\n+                    %{!mmain:-entry=0}\"\n+\n+/* All linking is done shared on TPF-OS.  */\n+/* FIXME: When binutils patch for new emulation is committed\n+   then change emulation to elf64_s390_tpf.  */\n #undef LINK_SPEC\n #define LINK_SPEC \\\n   \"-m elf64_s390 \\\n-   %{shared:-shared} \\\n-   %{!shared: \\\n-      %{static:-static} \\\n-      %{!static: \\\n-        %{rdynamic:-export-dynamic} \\\n-        %{!dynamic-linker:-dynamic-linker /lib/ld64.so}}}\"\n+   %{static:%estatic is not supported on TPF-OS} \\\n+   %{shared: -shared} \\\n+   %{!shared:-shared} \\\n+   %(entry_spec)\"\n \n #define MD_UNWIND_SUPPORT \"config/s390/tpf-unwind.h\"\n \n+/* IBM copies these libraries over with these names.  */\n+#define MATH_LIBRARY \"-lCLBM\"\n+#define LIBSTDCXX \"-lCPP1\"\n #endif /* ! _TPF_H */\n-"}, {"sha": "87a2616e0bb714267176a78e80d51d8462281fb5", "filename": "gcc/config/s390/tpf.md", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Ftpf.md?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -0,0 +1,34 @@\n+;; S390 TPF-OS specific machine patterns\n+;; Copyright (C) 2005 Free Software Foundation, Inc.\n+;;\n+;; This file is part of GCC.\n+;;\n+;; GCC is free software; you can redistribute it and/or modify\n+;; it under the terms of the GNU General Public License as published by\n+;; the Free Software Foundation; either version 2, or (at your option)\n+;; any later version.\n+;;\n+;; GCC is distributed in the hope that it will be useful,\n+;; but WITHOUT ANY WARRANTY; without even the implied warranty of\n+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+;; GNU General Public License for more details.\n+;;\n+;; You should have received a copy of the GNU General Public License\n+;; along with GCC; see the file COPYING.  If not, write to\n+;; the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n+;; Boston, MA 02110-1301, USA.\n+\n+(define_insn \"prologue_tpf\"\n+  [(unspec_volatile [(const_int 0)] UNSPECV_TPF_PROLOGUE)\n+   (clobber (reg:DI 1))]\n+  \"TARGET_TPF_PROFILING\"\n+  \"larl\\t%%r1,.+14\\;tm\\t4065,255\\;bnz\\t4064\"\n+  [(set_attr \"length\"   \"14\")])\n+\n+\n+(define_insn \"epilogue_tpf\"\n+  [(unspec_volatile [(const_int 0)] UNSPECV_TPF_EPILOGUE)\n+   (clobber (reg:DI 1))]\n+  \"TARGET_TPF_PROFILING\"\n+  \"larl\\t%%r1,.+14\\;tm\\t4071,255\\;bnz\\t4070\"\n+  [(set_attr \"length\"   \"14\")])"}, {"sha": "7f1240259755bf82276c83352f8a9bf57bb8115a", "filename": "gcc/config/s390/tpf.opt", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba31f25dcd8579cb2d004c18c2add2407fb8ba/gcc%2Fconfig%2Fs390%2Ftpf.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Ftpf.opt?ref=a8ba31f25dcd8579cb2d004c18c2add2407fb8ba", "patch": "@@ -0,0 +1,28 @@\n+; Options for the TPF-OS port of the compiler.\n+\n+; Copyright (C) 2005 Free Software Foundation, Inc.\n+;\n+; This file is part of GCC.\n+;\n+; GCC is free software; you can redistribute it and/or modify it under\n+; the terms of the GNU General Public License as published by the Free\n+; Software Foundation; either version 2, or (at your option) any later\n+; version.\n+;\n+; GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+; WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+; for more details.\n+;\n+; You should have received a copy of the GNU General Public License\n+; along with GCC; see the file COPYING.  If not, write to the Free\n+; Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n+; 02110-1301, USA.\n+\n+mtpf-trace\n+Target Report Mask(TPF_PROFILING)\n+Enable TPF-OS tracing code\n+\n+mmain\n+Target Report\n+Specify main object for TPF-OS"}]}