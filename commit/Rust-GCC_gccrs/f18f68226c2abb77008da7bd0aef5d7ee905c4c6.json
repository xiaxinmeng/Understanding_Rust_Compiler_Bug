{"sha": "f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE4ZjY4MjI2YzJhYmI3NzAwOGRhN2JkMGFlZjVkN2VlOTA1YzRjNg==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2017-08-10T20:52:50Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2017-08-10T20:52:50Z"}, "message": "Rename ix86_split_stack_boundary to ix86_split_stack_guard.\n\nFrom-SVN: r251039", "tree": {"sha": "1d87fc5db76087947854a18360c1e6d536ae86c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d87fc5db76087947854a18360c1e6d536ae86c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "adc840379952b3a5649417d1d20d68f0d65e60ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adc840379952b3a5649417d1d20d68f0d65e60ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adc840379952b3a5649417d1d20d68f0d65e60ba"}], "stats": {"total": 20, "additions": 11, "deletions": 9}, "files": [{"sha": "f2105979894a38b9fe286894223e6257cf0601bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "patch": "@@ -1,13 +1,13 @@\n 2017-08-10  Uros Bizjak  <ubizjak@gmail.com>\n \n-\t* config/i386/i386-protos.h (ix86_split_stack_boundary): New prototype.\n-\t* config/i386/i386.c (ix86_split_stack_boundary): New function.\n-\t(ix86_xpand_split_stack_prologue): Call ix86_split_stack_boundary.\n+\t* config/i386/i386-protos.h (ix86_split_stack_guard): New prototype.\n+\t* config/i386/i386.c (ix86_split_stack_guard): New function.\n+\t(ix86_xpand_split_stack_prologue): Call ix86_split_stack_guard.\n \t(ix86_legitimate_address_p) <case UNSPEC_STACK_CHECK>: Remove.\n \t(i386_asm_output_addr_const_extra) <case UNSPEC_STACK_CHECK>: Ditto.\n \t(optput_pic_addr_const): Remove UNSPEC_STACK_CHECK handling.\n \t* config/i386/i386.md (unspec): Remove UNSPEC_STACK_CHECK.\n-\t(split_stack_space_check): Call ix86_split_stack_boundary.\n+\t(split_stack_space_check): Call ix86_split_stack_guard.\n \n 2017-08-10  Martin Sebor  <msebor@redhat.com>\n "}, {"sha": "2c15ba8505cc1badd723324b35ff1e0f0c1db66d", "filename": "gcc/config/i386/i386-protos.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-protos.h?ref=f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "patch": "@@ -201,7 +201,7 @@ extern void ix86_expand_truncdf_32 (rtx, rtx);\n \n extern void ix86_expand_vecop_qihi (enum rtx_code, rtx, rtx, rtx);\n \n-extern rtx ix86_split_stack_boundary (void);\n+extern rtx ix86_split_stack_guard (void);\n \n #ifdef TREE_CODE\n extern void init_cumulative_args (CUMULATIVE_ARGS *, tree, rtx, tree, int);"}, {"sha": "9d59c78cada8bc31a97eba9ee05226d2c0fc5c38", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "patch": "@@ -15785,15 +15785,17 @@ static GTY(()) rtx split_stack_fn;\n \n static GTY(()) rtx split_stack_fn_large;\n \n-/* Return location of the stack boundary value in the TLS block.  */\n+/* Return location of the stack guard value in the TLS block.  */\n \n rtx\n-ix86_split_stack_boundary (void)\n+ix86_split_stack_guard (void)\n {\n   int offset;\n   addr_space_t as = DEFAULT_TLS_SEG_REG;\n   rtx r;\n \n+  gcc_assert (flag_split_stack);\n+\n #ifdef TARGET_THREAD_SPLIT_STACK_OFFSET\n   offset = TARGET_THREAD_SPLIT_STACK_OFFSET;\n #else\n@@ -15838,7 +15840,7 @@ ix86_expand_split_stack_prologue (void)\n      us SPLIT_STACK_AVAILABLE bytes, so if we need less than that we\n      can compare directly.  Otherwise we need to do an addition.  */\n \n-  limit = ix86_split_stack_boundary ();\n+  limit = ix86_split_stack_guard ();\n \n   if (allocate < SPLIT_STACK_AVAILABLE)\n     current = stack_pointer_rtx;"}, {"sha": "3af3b7aed4fb94395e264a2f15cd76ab35136721", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18f68226c2abb77008da7bd0aef5d7ee905c4c6/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=f18f68226c2abb77008da7bd0aef5d7ee905c4c6", "patch": "@@ -12638,7 +12638,7 @@\n \n   emit_insn (gen_sub3_insn (reg, stack_pointer_rtx, operands[0]));\n \n-  operands[2] = ix86_split_stack_boundary ();\n+  operands[2] = ix86_split_stack_guard ();\n   ix86_expand_branch (GEU, reg, operands[2], operands[1]);\n \n   DONE;"}]}