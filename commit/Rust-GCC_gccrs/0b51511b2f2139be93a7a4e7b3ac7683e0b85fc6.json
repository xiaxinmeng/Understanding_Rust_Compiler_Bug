{"sha": "0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI1MTUxMWIyZjIxMzliZTkzYTdhNGU3YjNhYzc2ODNlMGI4NWZjNg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2007-08-29T02:34:22Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2007-08-29T02:34:22Z"}, "message": "system.h (CONST_CAST): Avoid union for gcc-4.0.x.\n\n\t* system.h (CONST_CAST): Avoid union for gcc-4.0.x.\n\nFrom-SVN: r127878", "tree": {"sha": "127f5cfecd314cb9b92c78ecd9d78879e37671e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/127f5cfecd314cb9b92c78ecd9d78879e37671e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6/comments", "author": null, "committer": null, "parents": [{"sha": "5d75fb81c78587a26eea95e482c18418389d19b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d75fb81c78587a26eea95e482c18418389d19b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d75fb81c78587a26eea95e482c18418389d19b9"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "7b738c0e090c9342160b40cbb7474dc4ae5f22e3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6", "patch": "@@ -1,3 +1,7 @@\n+2007-08-28  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* system.h (CONST_CAST): Avoid union for gcc-4.0.x.\n+\n 2007-08-28  Richard Guenther  <rguenther@suse.de>\n \n \t* tree.h (struct tree_function_decl): Increase size of"}, {"sha": "c9a1b6b0573aa28b5cbdd7fde071d3de771a380e", "filename": "gcc/system.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=0b51511b2f2139be93a7a4e7b3ac7683e0b85fc6", "patch": "@@ -774,7 +774,9 @@ extern void fancy_abort (const char *, int, const char *) ATTRIBUTE_NORETURN;\n    execv, et al.  Another valid use would be in an allocation function\n    that creates const objects that need to be initialized.  Most other\n    cases should be viewed with extreme caution.  */\n-#ifdef __GNUC__\n+\n+#if defined(__GNUC__) && GCC_VERSION != 4000\n+/* GCC 4.0.x has a bug where it may ICE on this expression.  */\n #define CONST_CAST(X) ((__extension__(union {__typeof(X)_q; void *_v;})(X))._v)\n #else\n #define CONST_CAST(X) ((void*)(X))"}]}