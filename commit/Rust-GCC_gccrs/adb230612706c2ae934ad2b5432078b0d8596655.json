{"sha": "adb230612706c2ae934ad2b5432078b0d8596655", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRiMjMwNjEyNzA2YzJhZTkzNGFkMmI1NDMyMDc4YjBkODU5NjY1NQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-08-19T21:32:29Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-08-19T21:32:29Z"}, "message": "(struct tree_type): New field transparent_union_flag.\n\n(struct tree_decl): New field transparent_union.\n({DECL,TYPE}_TRANSPARENT_UNION): New macros.\n\nFrom-SVN: r7946", "tree": {"sha": "5689db88efbbe7efe5a1173c34f1c5bfa5e619c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5689db88efbbe7efe5a1173c34f1c5bfa5e619c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/adb230612706c2ae934ad2b5432078b0d8596655", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adb230612706c2ae934ad2b5432078b0d8596655", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adb230612706c2ae934ad2b5432078b0d8596655", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adb230612706c2ae934ad2b5432078b0d8596655/comments", "author": null, "committer": null, "parents": [{"sha": "17c962890433bdadc7228dbe967c97f9e38581c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17c962890433bdadc7228dbe967c97f9e38581c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17c962890433bdadc7228dbe967c97f9e38581c4"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "14ed555876e299acf80bccfc4778764b102dd0c9", "filename": "gcc/tree.h", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adb230612706c2ae934ad2b5432078b0d8596655/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adb230612706c2ae934ad2b5432078b0d8596655/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=adb230612706c2ae934ad2b5432078b0d8596655", "patch": "@@ -619,6 +619,10 @@ struct tree_block\n    function when they are created.  */\n #define TYPE_NEEDS_CONSTRUCTING(NODE) ((NODE)->type.needs_constructing_flag)\n \n+/* Indicates that objects of this type (a UNION_TYPE), should be passed\n+   the same way that the first union alternative would be passed.  */\n+#define TYPE_TRANSPARENT_UNION(NODE) ((NODE)->type.transparent_union_flag)\n+\n struct tree_type\n {\n   char common[sizeof (struct tree_common)];\n@@ -637,14 +641,15 @@ struct tree_type\n   unsigned string_flag : 1;\n   unsigned no_force_blk_flag : 1;\n   unsigned needs_constructing_flag : 1;\n+  unsigned transparent_union_flag : 1;\n   unsigned lang_flag_0 : 1;\n   unsigned lang_flag_1 : 1;\n   unsigned lang_flag_2 : 1;\n   unsigned lang_flag_3 : 1;\n   unsigned lang_flag_4 : 1;\n   unsigned lang_flag_5 : 1;\n   unsigned lang_flag_6 : 1;\n-  /* room for 6 more bits */\n+  /* room for 5 more bits */\n \n   unsigned int align;\n   union tree_node *pointer_to;\n@@ -928,6 +933,11 @@ struct tree_type\n    so it should not be output now.  */\n #define DECL_DEFER_OUTPUT(NODE) ((NODE)->decl.defer_output)\n \n+/* Used in PARM_DECLs whose type are unions to indicate that the\n+   argument should be passed in the same way that the first union\n+   alternative would be passed.  */\n+#define DECL_TRANSPARENT_UNION(NODE) ((NODE)->decl.transparent_union)\n+\n /* Additional flags for language-specific uses.  */\n #define DECL_LANG_FLAG_0(NODE) ((NODE)->decl.lang_flag_0)\n #define DECL_LANG_FLAG_1(NODE) ((NODE)->decl.lang_flag_1)\n@@ -963,7 +973,8 @@ struct tree_decl\n   unsigned in_system_header_flag : 1;\n   unsigned common_flag : 1;\n   unsigned defer_output : 1;\n-  /* room for five more */\n+  unsigned transparent_union : 1;\n+  /* room for four more */\n \n   unsigned lang_flag_0 : 1;\n   unsigned lang_flag_1 : 1;"}]}