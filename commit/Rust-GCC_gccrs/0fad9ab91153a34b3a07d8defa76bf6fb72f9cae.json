{"sha": "0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZhZDlhYjkxMTUzYTM0YjNhMDdkOGRlZmE3NmJmNmZiNzJmOWNhZQ==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2011-09-29T17:57:06Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2011-09-29T17:57:06Z"}, "message": "frvbegin.c: Fix location of unwind-dw2-fde.h header file.\n\n\t* config/frv/frvbegin.c: Fix location of unwind-dw2-fde.h header\n\tfile.\n\t* config/frv/frvend.c: Likewise.\n\t* config/frv/frv.c (frv_function_prologue): Move misplaced\n\tCALL_ARG_LOCATION notes back to their proper locations.\n\nCo-Authored-By: Bernd Schmidt <bernds@codesourcery.com>\n\nFrom-SVN: r179363", "tree": {"sha": "7f9cae6b9e0d7f0d97a6b254f7353681123f8dad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f9cae6b9e0d7f0d97a6b254f7353681123f8dad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b24a9835613b24310676865c937f65f9c3c5da43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b24a9835613b24310676865c937f65f9c3c5da43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b24a9835613b24310676865c937f65f9c3c5da43"}], "stats": {"total": 41, "additions": 39, "deletions": 2}, "files": [{"sha": "c831d399b78268e52fb2af02d3b5a644633d47e6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "patch": "@@ -1,3 +1,12 @@\n+2011-09-29  Nick Clifton  <nickc@redhat.com>\n+\t    Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* config/frv/frvbegin.c: Fix location of unwind-dw2-fde.h header\n+\tfile.\n+\t* config/frv/frvend.c: Likewise.\n+\t* config/frv/frv.c (frv_function_prologue): Move misplaced\n+\tCALL_ARG_LOCATION notes back to their proper locations.\n+\n 2011-09-29  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/50566"}, {"sha": "e7a3c7ae49d6a1886ca136015e1045a22d0f2905", "filename": "gcc/config/frv/frv.c", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2Fconfig%2Ffrv%2Ffrv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2Fconfig%2Ffrv%2Ffrv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.c?ref=0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "patch": "@@ -1424,6 +1424,8 @@ frv_function_contains_far_jump (void)\n static void\n frv_function_prologue (FILE *file, HOST_WIDE_INT size ATTRIBUTE_UNUSED)\n {\n+  rtx insn, next, last_call;\n+\n   /* If no frame was created, check whether the function uses a call\n      instruction to implement a far jump.  If so, save the link in gr3 and\n      replace all returns to LR with returns to GR3.  GR3 is used because it\n@@ -1464,6 +1466,32 @@ frv_function_prologue (FILE *file, HOST_WIDE_INT size ATTRIBUTE_UNUSED)\n \n   /* Allow the garbage collector to free the nops created by frv_reorg.  */\n   memset (frv_nops, 0, sizeof (frv_nops));\n+\n+  /* Locate CALL_ARG_LOCATION notes that have been misplaced\n+     and move them back to where they should be located.  */\n+  last_call = NULL_RTX;\n+  for (insn = get_insns (); insn; insn = next)\n+    {\n+      next = NEXT_INSN (insn);\n+      if (CALL_P (insn)\n+\t  || (INSN_P (insn) && GET_CODE (PATTERN (insn)) == SEQUENCE\n+\t      && CALL_P (XVECEXP (PATTERN (insn), 0, 0))))\n+\tlast_call = insn;\n+\n+      if (!NOTE_P (insn) || NOTE_KIND (insn) != NOTE_INSN_CALL_ARG_LOCATION)\n+\tcontinue;\n+\n+      if (NEXT_INSN (last_call) == insn)\n+\tcontinue;\n+\n+      NEXT_INSN (PREV_INSN (insn)) = NEXT_INSN (insn);\n+      PREV_INSN (NEXT_INSN (insn)) = PREV_INSN (insn);\n+      PREV_INSN (insn) = last_call;\n+      NEXT_INSN (insn) = NEXT_INSN (last_call);\n+      PREV_INSN (NEXT_INSN (insn)) = insn;\n+      NEXT_INSN (PREV_INSN (insn)) = insn;\n+      last_call = insn;\n+    }\n }\n \n \f"}, {"sha": "23cbf1ecc935d345406ffec72d948146c1ad602f", "filename": "gcc/config/frv/frvbegin.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2Fconfig%2Ffrv%2Ffrvbegin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2Fconfig%2Ffrv%2Ffrvbegin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrvbegin.c?ref=0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "patch": "@@ -28,7 +28,7 @@\n \n #include \"defaults.h\"\n #include <stddef.h>\n-#include \"unwind-dw2-fde.h\"\n+#include \"../libgcc/unwind-dw2-fde.h\"\n #include \"gbl-ctors.h\"\n \n /*  Declare a pointer to void function type.  */"}, {"sha": "0bb07b56b4aeabf67e3bb76a059fc27ebc3d169f", "filename": "gcc/config/frv/frvend.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2Fconfig%2Ffrv%2Ffrvend.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fad9ab91153a34b3a07d8defa76bf6fb72f9cae/gcc%2Fconfig%2Ffrv%2Ffrvend.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrvend.c?ref=0fad9ab91153a34b3a07d8defa76bf6fb72f9cae", "patch": "@@ -25,7 +25,7 @@\n \n #include \"defaults.h\"\n #include <stddef.h>\n-#include \"unwind-dw2-fde.h\"\n+#include \"../libgcc/unwind-dw2-fde.h\"\n \n #ifdef __FRV_UNDERSCORE__\n #define UNDERSCORE \"_\""}]}