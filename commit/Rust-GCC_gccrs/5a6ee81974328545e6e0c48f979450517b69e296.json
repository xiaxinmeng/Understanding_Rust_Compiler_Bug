{"sha": "5a6ee81974328545e6e0c48f979450517b69e296", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE2ZWU4MTk3NDMyODU0NWU2ZTBjNDhmOTc5NDUwNTE3YjY5ZTI5Ng==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-09-09T23:45:55Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-09-09T23:45:55Z"}, "message": "i386.c (override_options): Remove ppro, pentium2, and p2 as aliases.\n\n        * i386.c (override_options): Remove ppro, pentium2, and p2 as aliases.\n        Default ix86_arch to PROCESSOR_I386.\n        * i386.h (CC1_CPU_SPEC): Don't add -march=foo.  Remove -mno-foo.\n        (CPP_486_SPEC, CPP_586_SPEC, CPP_686_SPEC): Delete.\n        (CPP_CPU_DEFAULT_SPEC): Define to __tune_foo__.\n        (CC1_CPU_SPEC): Make -march=foo define __foo__, and provide\n        __tune_foo__ if no -mcpu.  Make -mcpu=bar define __tune_bar__.\n        (EXTRA_SPECS): Remove deleted specs.\n\nFrom-SVN: r29250", "tree": {"sha": "a91df0a5e5f8dfb102f302ecc6ee44e98d7783e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a91df0a5e5f8dfb102f302ecc6ee44e98d7783e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a6ee81974328545e6e0c48f979450517b69e296", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a6ee81974328545e6e0c48f979450517b69e296", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a6ee81974328545e6e0c48f979450517b69e296", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a6ee81974328545e6e0c48f979450517b69e296/comments", "author": null, "committer": null, "parents": [{"sha": "a7e4cfa0173956cb8d8f69c9c120cc97c847dce1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7e4cfa0173956cb8d8f69c9c120cc97c847dce1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7e4cfa0173956cb8d8f69c9c120cc97c847dce1"}], "stats": {"total": 66, "additions": 36, "deletions": 30}, "files": [{"sha": "be09d661cc714329ca37069389e83476c6e457cd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6ee81974328545e6e0c48f979450517b69e296/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6ee81974328545e6e0c48f979450517b69e296/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a6ee81974328545e6e0c48f979450517b69e296", "patch": "@@ -1,3 +1,14 @@\n+Thu Sep  9 16:42:06 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* i386.c (override_options): Remove ppro, pentium2, and p2 as aliases.\n+\tDefault ix86_arch to PROCESSOR_I386.\n+\t* i386.h (CC1_CPU_SPEC): Don't add -march=foo.  Remove -mno-foo.\n+\t(CPP_486_SPEC, CPP_586_SPEC, CPP_686_SPEC): Delete.\n+\t(CPP_CPU_DEFAULT_SPEC): Define to __tune_foo__.\n+\t(CC1_CPU_SPEC): Make -march=foo define __foo__, and provide \n+\t__tune_foo__ if no -mcpu.  Make -mcpu=bar define __tune_bar__.\n+\t(EXTRA_SPECS): Remove deleted specs.\n+\n Thu Sep  9 16:03:06 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* function.c (assign_stack_local_1): Allocate from"}, {"sha": "5176c92b15a539cc4e4b38d3ffd660bc994830e6", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6ee81974328545e6e0c48f979450517b69e296/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6ee81974328545e6e0c48f979450517b69e296/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=5a6ee81974328545e6e0c48f979450517b69e296", "patch": "@@ -306,9 +306,6 @@ override_options ()\n       {\"pentium\", PROCESSOR_PENTIUM},\n       {\"i686\", PROCESSOR_PENTIUMPRO},\n       {\"pentiumpro\", PROCESSOR_PENTIUMPRO},\n-      {\"ppro\", PROCESSOR_PENTIUMPRO},\n-      {\"pentium2\", PROCESSOR_PENTIUMPRO},\n-      {\"p2\", PROCESSOR_PENTIUMPRO},\n       {\"k6\", PROCESSOR_K6},\n     };\n \n@@ -318,7 +315,7 @@ override_options ()\n   SUBTARGET_OVERRIDE_OPTIONS;\n #endif\n \n-  ix86_arch = PROCESSOR_PENTIUM;\n+  ix86_arch = PROCESSOR_I386;\n   ix86_cpu = (enum processor_type) TARGET_CPU_DEFAULT;\n \n   if (ix86_arch_string != 0)"}, {"sha": "369be613ab0e1eb2058dbafb86196cd49f5888c6", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 24, "deletions": 26, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6ee81974328545e6e0c48f979450517b69e296/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6ee81974328545e6e0c48f979450517b69e296/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=5a6ee81974328545e6e0c48f979450517b69e296", "patch": "@@ -296,46 +296,47 @@ extern int ix86_arch;\n #ifndef CC1_CPU_SPEC\n #define CC1_CPU_SPEC \"\\\n %{!mcpu*: \\\n-%{m386:-mcpu=i386 -march=i386} \\\n-%{mno-486:-mcpu=i386 -march=i386} \\\n-%{m486:-mcpu=i486 -march=i486} \\\n-%{mno-386:-mcpu=i486 -march=i486} \\\n-%{mno-pentium:-mcpu=i486 -march=i486} \\\n+%{m386:-mcpu=i386} \\\n+%{m486:-mcpu=i486} \\\n %{mpentium:-mcpu=pentium} \\\n-%{mno-pentiumpro:-mcpu=pentium} \\\n %{mpentiumpro:-mcpu=pentiumpro}}\"\n #endif\n \f\n-#define CPP_486_SPEC \"%{!ansi:-Di486} -D__i486 -D__i486__\"\n-#define CPP_586_SPEC \"%{!ansi:-Di586 -Dpentium} \\\n-\t-D__i586 -D__i586__ -D__pentium -D__pentium__\"\n-#define CPP_686_SPEC \"%{!ansi:-Di686 -Dpentiumpro} \\\n-\t-D__i686 -D__i686__ -D__pentiumpro -D__pentiumpro__\"\n-\n #ifndef CPP_CPU_DEFAULT_SPEC\n #if TARGET_CPU_DEFAULT == 1\n-#define CPP_CPU_DEFAULT_SPEC \"%(cpp_486)\"\n-#else\n+#define CPP_CPU_DEFAULT_SPEC \"-D__tune_i486__\"\n+#endif\n #if TARGET_CPU_DEFAULT == 2\n-#define CPP_CPU_DEFAULT_SPEC \"%(cpp_586)\"\n-#else\n+#define CPP_CPU_DEFAULT_SPEC \"-D__tune_pentium__\"\n+#endif\n #if TARGET_CPU_DEFAULT == 3\n-#define CPP_CPU_DEFAULT_SPEC \"%(cpp_686)\"\n-#else\n-#define CPP_CPU_DEFAULT_SPEC \"\"\n+#define CPP_CPU_DEFAULT_SPEC \"-D__tune_pentiumpro__\"\n #endif\n+#if TARGET_CPU_DEFAULT == 4\n+#define CPP_CPU_DEFAULT_SPEC \"-D__tune_k6__\"\n #endif\n+#ifndef CPP_CPU_DEFAULT_SPEC\n+#define CPP_CPU_DEFAULT_SPEC \"-D__tune_i386__\"\n #endif\n #endif /* CPP_CPU_DEFAULT_SPEC */\n \n #ifndef CPP_CPU_SPEC\n #define CPP_CPU_SPEC \"\\\n -Acpu(i386) -Amachine(i386) \\\n %{!ansi:-Di386} -D__i386 -D__i386__ \\\n-%{mcpu=i486:%(cpp_486)} %{m486:%(cpp_486)} \\\n-%{mpentium:%(cpp_586)} %{mcpu=pentium:%(cpp_586)} \\\n-%{mpentiumpro:%(cpp_686)} %{mcpu=pentiumpro:%(cpp_686)} \\\n-%{!mcpu*:%{!m486:%{!mpentium*:%(cpp_cpu_default)}}}\"\n+%{march=i386:%{!mcpu*:-D__tune_i386__ }}\\\n+%{march=i486:-D__i486 -D__i486__ %{!mcpu*:-D__tune_i486__ }}\\\n+%{march=pentium|march=i586:-D__pentium -D__pentium__ \\\n+  %{!mcpu*:-D__tune_pentium__ }}\\\n+%{march=pentiumpro|march=i686:-D__pentiumpro -D__pentiumpro__ \\\n+  %{!mcpu*:-D__tune_pentiumpro__ }}\\\n+%{march=k6:-D__k6 -D__k6__ %{!mcpu*:-D__tune_k6__ }}\\\n+%{m386|mcpu=i386:-D__tune_i386__ }\\\n+%{m486|mcpu=i486:-D__tune_i486__ }\\\n+%{mpentium|mcpu=pentium|mcpu=i586:-D__tune_pentium__ }\\\n+%{mpentiumpro|mcpu=pentiumpro|mcpu=i686:-D__tune_pentiumpro__ }\\\n+%{mcpu=k6:-D__tune_k6__ }\\\n+%{!march*:%{!mcpu*:%{!m386:%{!m486:%{!mpentium*:%(cpp_cpu_default)}}}}}\"\n #endif\n \n #ifndef CC1_SPEC\n@@ -357,9 +358,6 @@ extern int ix86_arch;\n #endif\n \n #define EXTRA_SPECS\t\t\t\t\t\t\t\\\n-  { \"cpp_486\", CPP_486_SPEC},\t\t\t\t\t\t\\\n-  { \"cpp_586\", CPP_586_SPEC},\t\t\t\t\t\t\\\n-  { \"cpp_686\", CPP_686_SPEC},\t\t\t\t\t\t\\\n   { \"cpp_cpu_default\",\tCPP_CPU_DEFAULT_SPEC },\t\t\t\t\\\n   { \"cpp_cpu\",\tCPP_CPU_SPEC },\t\t\t\t\t\t\\\n   { \"cc1_cpu\",  CC1_CPU_SPEC },\t\t\t\t\t\t\\"}]}