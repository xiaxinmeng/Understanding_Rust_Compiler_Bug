{"sha": "b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM1N2Q0MGQwYTIyYjZhNjBhYzZiOGIwODY4MWYwOTZhNGVmN2RhMA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2014-04-25T10:39:14Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2014-04-25T10:39:14Z"}, "message": "re PR target/60941 (miscompilation of firefox javascript interpreter)\n\n\tPR target/60941\n\t* config/sparc/sparc.md (ashlsi3_extend): Delete.\n\nFrom-SVN: r209790", "tree": {"sha": "51c3879a150b30bda59d307e072277722d43754e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51c3879a150b30bda59d307e072277722d43754e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/comments", "author": null, "committer": null, "parents": [{"sha": "30c0a59a919e789722d605423ded7892b6bec97c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30c0a59a919e789722d605423ded7892b6bec97c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30c0a59a919e789722d605423ded7892b6bec97c"}], "stats": {"total": 45, "additions": 32, "deletions": 13}, "files": [{"sha": "86e9aa3efe1689c41d2613b6732d4f8e57d2f563", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "patch": "@@ -1,3 +1,8 @@\n+2014-04-25  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR target/60941\n+\t* config/sparc/sparc.md (ashlsi3_extend): Delete.\n+\n 2014-04-25  Marc Glisse  <marc.glisse@inria.fr>\n \n \tPR preprocessor/56540"}, {"sha": "e2a4669e05d297d568f71618c6611bcf85361ebc", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "patch": "@@ -5795,19 +5795,6 @@\n }\n   [(set_attr \"type\" \"shift\")])\n \n-(define_insn \"*ashlsi3_extend\"\n-  [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(zero_extend:DI\n-\t  (ashift:SI (match_operand:SI 1 \"register_operand\" \"r\")\n-\t\t     (match_operand:SI 2 \"arith_operand\" \"rI\"))))]\n-  \"TARGET_ARCH64\"\n-{\n-  if (GET_CODE (operands[2]) == CONST_INT)\n-    operands[2] = GEN_INT (INTVAL (operands[2]) & 0x1f);\n-  return \"sll\\t%1, %2, %0\";\n-}\n-  [(set_attr \"type\" \"shift\")])\n-\n (define_expand \"ashldi3\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n \t(ashift:DI (match_operand:DI 1 \"register_operand\" \"r\")"}, {"sha": "ad87aa27eed1a8bfb9c0a28eab28ef7048058e4e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "patch": "@@ -1,3 +1,7 @@\n+2014-04-25  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc.c-torture/execute/20140425-1.c: New test.\n+\n 2014-04-25  Marek Polacek  <polacek@redhat.com>\n \n \tPR c/60156"}, {"sha": "c447ef95b6c1fa0c065ec18fd8c20de3048c8279", "filename": "gcc/testsuite/gcc.c-torture/execute/20140425-1.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20140425-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b357d40d0a22b6a60ac6b8b08681f096a4ef7da0/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20140425-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20140425-1.c?ref=b357d40d0a22b6a60ac6b8b08681f096a4ef7da0", "patch": "@@ -0,0 +1,23 @@\n+/* PR target/60941 */\n+/* Reported by Martin Husemann <martin@netbsd.org> */\n+\n+extern void abort (void);\n+\n+static void __attribute__((noinline))\n+set (unsigned long *l)\n+{\n+  *l = 31;\n+}\n+\n+int main (void)\n+{\n+  unsigned long l;\n+  int i;\n+\n+  set (&l);\n+  i = (int) l;\n+  l = (unsigned long)(2U << i);\n+  if (l != 0)\n+    abort ();\n+  return 0;\n+}"}]}