{"sha": "dbf55e5349e10486b12221c9dad95e6bcfbca0ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGJmNTVlNTM0OWUxMDQ4NmIxMjIyMWM5ZGFkOTVlNmJjZmJjYTBlZA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@cygnus.com", "date": "1998-03-16T15:35:24Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1998-03-16T15:35:24Z"}, "message": "Ensure sum from SDA is 16-bit\n\nFrom-SVN: r18631", "tree": {"sha": "b0da91d7b2ad7db01fe32552fbf20f3df30f1b98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0da91d7b2ad7db01fe32552fbf20f3df30f1b98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dbf55e5349e10486b12221c9dad95e6bcfbca0ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbf55e5349e10486b12221c9dad95e6bcfbca0ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbf55e5349e10486b12221c9dad95e6bcfbca0ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbf55e5349e10486b12221c9dad95e6bcfbca0ed/comments", "author": null, "committer": null, "parents": [{"sha": "e29ef9202e54f4572c345540e4de17b2b9ff19e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e29ef9202e54f4572c345540e4de17b2b9ff19e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e29ef9202e54f4572c345540e4de17b2b9ff19e1"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "4ffc5e49104f15c909e0ac0d9ddd9a196240caa1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbf55e5349e10486b12221c9dad95e6bcfbca0ed/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbf55e5349e10486b12221c9dad95e6bcfbca0ed/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dbf55e5349e10486b12221c9dad95e6bcfbca0ed", "patch": "@@ -3,6 +3,10 @@ Mon Mar 16 15:57:17 1998  Michael Meissner  <meissner@cygnus.com>\n \t* gcc.c (default_arg): Don't wander off the end of allocated\n \tmemory.\n \n+\t(From Geoffrey Keating  <geoffk@ozemail.com.au>)\n+\t* rs6000.c (small_data_operand): Ensure that any address\n+\treferenced relative to the small data area is inside the SDA.\t\n+\n Mon Mar 16 12:55:15 1998  Jim Wilson  <wilson@cygnus.com>\n \t\n \t* config/m68k/netbsd.h (ASM_SPEC): Add %{m68060}."}, {"sha": "aa80812803c6396c29d5f1223d37083356e8e56a", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbf55e5349e10486b12221c9dad95e6bcfbca0ed/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbf55e5349e10486b12221c9dad95e6bcfbca0ed/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=dbf55e5349e10486b12221c9dad95e6bcfbca0ed", "patch": "@@ -1080,7 +1080,18 @@ small_data_operand (op, mode)\n     return 0;\n \n   else\n-    sym_ref = XEXP (XEXP (op, 0), 0);\n+    {\n+      rtx sum = XEXP (op, 0);\n+      HOST_WIDE_INT summand;\n+\n+      /* We have to be careful here, because it is the referenced address\n+        that must be 32k from _SDA_BASE_, not just the symbol.  */\n+      summand = INTVAL (XEXP (sum, 1));\n+      if (summand < 0 || summand > g_switch_value)\n+       return 0;\n+\n+      sym_ref = XEXP (sum, 0);\n+    }\n \n   if (*XSTR (sym_ref, 0) != '@')\n     return 0;"}]}