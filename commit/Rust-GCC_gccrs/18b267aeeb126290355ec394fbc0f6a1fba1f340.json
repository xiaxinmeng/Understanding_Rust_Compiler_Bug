{"sha": "18b267aeeb126290355ec394fbc0f6a1fba1f340", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThiMjY3YWVlYjEyNjI5MDM1NWVjMzk0ZmJjMGY2YTFmYmExZjM0MA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2021-05-20T10:40:48Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-07-07T16:23:18Z"}, "message": "[Ada] Front-end inlining and instantiations of UC\n\ngcc/ada/\n\n\t* sem_ch12.adb (Analyze_Subprogram_Instantiation): Mark Anon_Id\n\tintrinsic before calling Analyze_Instance_And_Renamings because\n\tthis flag may be propagated to other nodes.", "tree": {"sha": "2c1f8d0f6e57455d4843d4e638621713893e8c5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c1f8d0f6e57455d4843d4e638621713893e8c5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18b267aeeb126290355ec394fbc0f6a1fba1f340", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18b267aeeb126290355ec394fbc0f6a1fba1f340", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18b267aeeb126290355ec394fbc0f6a1fba1f340", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18b267aeeb126290355ec394fbc0f6a1fba1f340/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "125bb16bece454843ca420fd033351d1a80976a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/125bb16bece454843ca420fd033351d1a80976a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/125bb16bece454843ca420fd033351d1a80976a4"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "bf51ce9e7e12ee3a52fadc5270dab25af42ebdaa", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18b267aeeb126290355ec394fbc0f6a1fba1f340/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18b267aeeb126290355ec394fbc0f6a1fba1f340/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=18b267aeeb126290355ec394fbc0f6a1fba1f340", "patch": "@@ -5796,6 +5796,14 @@ package body Sem_Ch12 is\n             Set_SPARK_Mode (Gen_Unit);\n          end if;\n \n+         --  Need to mark Anon_Id intrinsic before calling\n+         --  Analyze_Instance_And_Renamings because this flag may be propagated\n+         --  to other nodes.\n+\n+         if Is_Intrinsic_Subprogram (Gen_Unit) then\n+            Set_Is_Intrinsic_Subprogram (Anon_Id);\n+         end if;\n+\n          Analyze_Instance_And_Renamings;\n \n          --  Restore SPARK_Mode from the context after analysis of the package\n@@ -5817,7 +5825,6 @@ package body Sem_Ch12 is\n          --  not within the main unit.\n \n          if Is_Intrinsic_Subprogram (Gen_Unit) then\n-            Set_Is_Intrinsic_Subprogram (Anon_Id);\n             Set_Is_Intrinsic_Subprogram (Act_Decl_Id);\n \n             if Chars (Gen_Unit) = Name_Unchecked_Conversion then"}]}