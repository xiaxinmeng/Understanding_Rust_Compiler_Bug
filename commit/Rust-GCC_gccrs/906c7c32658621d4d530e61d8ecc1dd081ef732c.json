{"sha": "906c7c32658621d4d530e61d8ecc1dd081ef732c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA2YzdjMzI2NTg2MjFkNGQ1MzBlNjFkOGVjYzFkZDA4MWVmNzMyYw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-01-22T20:53:54Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-01-22T20:53:54Z"}, "message": "expr.c (build_invokeinterface): Abort if method's context is not an interface.\n\n\t* expr.c (build_invokeinterface): Abort if method's context is not\n\tan interface.\n\nFrom-SVN: r61615", "tree": {"sha": "248e3b9f3c1ecd6b696b4ed1a06894a6a1561839", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/248e3b9f3c1ecd6b696b4ed1a06894a6a1561839"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/906c7c32658621d4d530e61d8ecc1dd081ef732c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/906c7c32658621d4d530e61d8ecc1dd081ef732c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/906c7c32658621d4d530e61d8ecc1dd081ef732c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/906c7c32658621d4d530e61d8ecc1dd081ef732c/comments", "author": null, "committer": null, "parents": [{"sha": "3e895978eef47edaf67b59f02d9f847c55ac26dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e895978eef47edaf67b59f02d9f847c55ac26dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e895978eef47edaf67b59f02d9f847c55ac26dc"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "5d42c0a7dc7b7ab18dbc8b03ce908dd9446e6870", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/906c7c32658621d4d530e61d8ecc1dd081ef732c/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/906c7c32658621d4d530e61d8ecc1dd081ef732c/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=906c7c32658621d4d530e61d8ecc1dd081ef732c", "patch": "@@ -1,3 +1,8 @@\n+2003-01-22  Tom Tromey  <tromey@redhat.com>\n+\n+\t* expr.c (build_invokeinterface): Abort if method's context is not\n+\tan interface.\n+\n 2003-01-22  Tom Tromey  <tromey@redhat.com>\n \n \t* gcj.texi (Input and output files): Mention non-class entries."}, {"sha": "bf1f41b541405176e62daef9d93b187a777135c5", "filename": "gcc/java/expr.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/906c7c32658621d4d530e61d8ecc1dd081ef732c/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/906c7c32658621d4d530e61d8ecc1dd081ef732c/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=906c7c32658621d4d530e61d8ecc1dd081ef732c", "patch": "@@ -1901,15 +1901,16 @@ build_invokeinterface (tree dtable, tree method)\n      abstract nor static.  */\n \t    \n   if (class_ident == NULL_TREE)\n-    {\n-      class_ident = get_identifier (\"class\");\n-    }\n+    class_ident = get_identifier (\"class\");\n \n-  dtable = build_java_indirect_ref (dtable_type, dtable, flag_check_references);\n+  dtable = build_java_indirect_ref (dtable_type, dtable,\n+\t\t\t\t    flag_check_references);\n   dtable = build (COMPONENT_REF, class_ptr_type, dtable,\n \t\t  lookup_field (&dtable_type, class_ident));\n \n   interface = DECL_CONTEXT (method);\n+  if (! CLASS_INTERFACE (TYPE_NAME (interface)))\n+    abort ();\n   layout_class_methods (interface);\n   \n   if (flag_indirect_dispatch)"}]}