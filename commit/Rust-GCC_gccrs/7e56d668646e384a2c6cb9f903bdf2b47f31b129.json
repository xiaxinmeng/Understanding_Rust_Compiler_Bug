{"sha": "7e56d668646e384a2c6cb9f903bdf2b47f31b129", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2U1NmQ2Njg2NDZlMzg0YTJjNmNiOWY5MDNiZGYyYjQ3ZjMxYjEyOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-15T12:32:31Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-15T12:32:31Z"}, "message": "runtime: Ignore stack sizes when deciding when to GC.\n\n    \n    This restores https://golang.org/cl/6081043 which was lost accidentally\n    when updating a new version of libgo in https://golang.org/cl/22440043 .\n    \n    Reviewed-on: https://go-review.googlesource.com/14569\n\nFrom-SVN: r227784", "tree": {"sha": "676cbfebbb629db4af055d56322e25c90f477b72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/676cbfebbb629db4af055d56322e25c90f477b72"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e56d668646e384a2c6cb9f903bdf2b47f31b129", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e56d668646e384a2c6cb9f903bdf2b47f31b129", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e56d668646e384a2c6cb9f903bdf2b47f31b129", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e56d668646e384a2c6cb9f903bdf2b47f31b129/comments", "author": null, "committer": null, "parents": [{"sha": "f4720b94c49fa64aad75c309681712f0e94a5059", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4720b94c49fa64aad75c309681712f0e94a5059", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4720b94c49fa64aad75c309681712f0e94a5059"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "afb257e911c7ddd60952ce36b342e8dfd6272c08", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e56d668646e384a2c6cb9f903bdf2b47f31b129/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e56d668646e384a2c6cb9f903bdf2b47f31b129/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=7e56d668646e384a2c6cb9f903bdf2b47f31b129", "patch": "@@ -1,4 +1,4 @@\n-ae60deadd72b3b29df98cee61deed68f251f0122\n+23392287e9a26956977987fe95f337c5be4d6417\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "9d8c025e7c29030cc16ecc6ea17e997b949f6e4d", "filename": "libgo/runtime/mgc0.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e56d668646e384a2c6cb9f903bdf2b47f31b129/libgo%2Fruntime%2Fmgc0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e56d668646e384a2c6cb9f903bdf2b47f31b129/libgo%2Fruntime%2Fmgc0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fmgc0.c?ref=7e56d668646e384a2c6cb9f903bdf2b47f31b129", "patch": "@@ -2280,7 +2280,7 @@ gc(struct gc_args *args)\n \theap0 = mstats.next_gc*100/(gcpercent+100);\n \t// conservatively set next_gc to high value assuming that everything is live\n \t// concurrent/lazy sweep will reduce this number while discovering new garbage\n-\tmstats.next_gc = mstats.heap_alloc+mstats.heap_alloc*gcpercent/100;\n+\tmstats.next_gc = mstats.heap_alloc+(mstats.heap_alloc-runtime_stacks_sys)*gcpercent/100;\n \n \tt4 = runtime_nanotime();\n \tmstats.last_gc = runtime_unixnanotime();  // must be Unix time to make sense to user"}]}