{"sha": "894b1dff50fc1e54c79aca6609952318737ef2c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk0YjFkZmY1MGZjMWU1NGM3OWFjYTY2MDk5NTIzMTg3MzdlZjJjMA==", "commit": {"author": {"name": "Magnus Fromreide", "email": "magfr@lysator.liu.se", "date": "2005-05-13T15:24:30Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2005-05-13T15:24:30Z"}, "message": "1.cc: Use initialization instead of copying as the string is used only once.\n\n2005-05-13  Magnus Fromreide  <magfr@lysator.liu.se>\n\n\t* testsuite/27_io/basic_streambuf/sgetn/char/1.cc: Use\n\tinitialization instead of copying as the string is used only once.\n\t* testsuite/27_io/basic_streambuf/sgetn/wchar_t/1.cc: Likewise.\n\t* testsuite/27_io/basic_streambuf/sputn/char/1.cc: Likewise.\n\t* testsuite/27_io/basic_streambuf/sputn/wchar_t/1.cc: Likewise.\n\nFrom-SVN: r99663", "tree": {"sha": "c8f85e9a22e8f2006d0bdc15571a4586abf96675", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8f85e9a22e8f2006d0bdc15571a4586abf96675"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/894b1dff50fc1e54c79aca6609952318737ef2c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/894b1dff50fc1e54c79aca6609952318737ef2c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/894b1dff50fc1e54c79aca6609952318737ef2c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/894b1dff50fc1e54c79aca6609952318737ef2c0/comments", "author": {"login": "magfr", "id": 38747965, "node_id": "MDQ6VXNlcjM4NzQ3OTY1", "avatar_url": "https://avatars.githubusercontent.com/u/38747965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magfr", "html_url": "https://github.com/magfr", "followers_url": "https://api.github.com/users/magfr/followers", "following_url": "https://api.github.com/users/magfr/following{/other_user}", "gists_url": "https://api.github.com/users/magfr/gists{/gist_id}", "starred_url": "https://api.github.com/users/magfr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magfr/subscriptions", "organizations_url": "https://api.github.com/users/magfr/orgs", "repos_url": "https://api.github.com/users/magfr/repos", "events_url": "https://api.github.com/users/magfr/events{/privacy}", "received_events_url": "https://api.github.com/users/magfr/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "771aaa92abf8b15b32f3211753dd370b767f3982", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/771aaa92abf8b15b32f3211753dd370b767f3982", "html_url": "https://github.com/Rust-GCC/gccrs/commit/771aaa92abf8b15b32f3211753dd370b767f3982"}], "stats": {"total": 42, "additions": 22, "deletions": 20}, "files": [{"sha": "7cc3bd473b89b9f3face7cc904133fe92c9fb96d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=894b1dff50fc1e54c79aca6609952318737ef2c0", "patch": "@@ -1,3 +1,11 @@\n+2005-05-13  Magnus Fromreide  <magfr@lysator.liu.se>\n+\n+\t* testsuite/27_io/basic_streambuf/sgetn/char/1.cc: Use\n+\tinitialization instead of copying as the string is used only once.\n+\t* testsuite/27_io/basic_streambuf/sgetn/wchar_t/1.cc: Likewise.\n+\t* testsuite/27_io/basic_streambuf/sputn/char/1.cc: Likewise.\n+\t* testsuite/27_io/basic_streambuf/sputn/wchar_t/1.cc: Likewise.\n+\n 2005-05-12  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* scripts/create_testsuite_files: Fix."}, {"sha": "71b7ac6af8681170ceeb899ecdea7e1240c620c0", "filename": "libstdc++-v3/testsuite/27_io/basic_streambuf/sgetn/char/1.cc", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsgetn%2Fchar%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsgetn%2Fchar%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsgetn%2Fchar%2F1.cc?ref=894b1dff50fc1e54c79aca6609952318737ef2c0", "patch": "@@ -1,6 +1,7 @@\n // 1999-10-11 bkoz\n \n-// Copyright (C) 1999, 2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n+// Copyright (C) 1999, 2000, 2001, 2002, 2003, 2005\n+// Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -94,10 +95,8 @@ void test02()\n \n   bool test __attribute__((unused)) = true;\n \n-  const char* lit00 = \"chicago underground trio/possible cube on delmark\";\n-  size_t i01 = traits_type::length(lit00);\n-  char lit01[i01];\n-  strcpy(lit01, lit00);\n+  char lit01[] = \"chicago underground trio/possible cube on delmark\";\n+  size_t i01 = traits_type::length(lit01);\n \n   testbuf buf01;\n "}, {"sha": "cc0c6049dd7ba7306e17fc9332187e884ba0f4fa", "filename": "libstdc++-v3/testsuite/27_io/basic_streambuf/sgetn/wchar_t/1.cc", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsgetn%2Fwchar_t%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsgetn%2Fwchar_t%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsgetn%2Fwchar_t%2F1.cc?ref=894b1dff50fc1e54c79aca6609952318737ef2c0", "patch": "@@ -1,6 +1,6 @@\n // 1999-10-11 bkoz\n \n-// Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004\n+// Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005\n // Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -96,10 +96,8 @@ void test02()\n \n   bool test __attribute__((unused)) = true;\n \n-  const wchar_t* lit00 = L\"chicago underground trio/possible cube on delmark\";\n-  size_t i01 = traits_type::length(lit00);\n-  wchar_t lit01[i01];\n-  std::wcscpy(lit01, lit00);\n+  wchar_t lit01[] = L\"chicago underground trio/possible cube on delmark\";\n+  size_t i01 = traits_type::length(lit01);\n \n   testbuf buf01;\n "}, {"sha": "2db39155e4a1ace28602f4c8d521388d86345c90", "filename": "libstdc++-v3/testsuite/27_io/basic_streambuf/sputn/char/1.cc", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsputn%2Fchar%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsputn%2Fchar%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsputn%2Fchar%2F1.cc?ref=894b1dff50fc1e54c79aca6609952318737ef2c0", "patch": "@@ -1,6 +1,7 @@\n // 1999-10-11 bkoz\n \n-// Copyright (C) 1999, 2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n+// Copyright (C) 1999, 2000, 2001, 2002, 2003, 2005\n+// Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -96,10 +97,8 @@ void test01()\n   testbuf buf01;\n \n   // sputn/xsputn\n-  const char* lit01 = \"isotope 217: the unstable molecule on thrill jockey\";\n-  const int i02 = std::strlen(lit01);\n-  char lit02[i02];\n-  std::strcpy(lit02, lit01);\n+  char lit02[] = \"isotope 217: the unstable molecule on thrill jockey\";\n+  const int i02 = std::strlen(lit02);\n \n   char carray[i02 + 1];\n   std::memset(carray, 0, i02 + 1);"}, {"sha": "10ffbf2c5580e7eafb6036ef38d32a25a4f33894", "filename": "libstdc++-v3/testsuite/27_io/basic_streambuf/sputn/wchar_t/1.cc", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsputn%2Fwchar_t%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894b1dff50fc1e54c79aca6609952318737ef2c0/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsputn%2Fwchar_t%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_streambuf%2Fsputn%2Fwchar_t%2F1.cc?ref=894b1dff50fc1e54c79aca6609952318737ef2c0", "patch": "@@ -1,6 +1,6 @@\n // 1999-10-11 bkoz\n \n-// Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004\n+// Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005\n // Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -98,10 +98,8 @@ void test01()\n   testbuf buf01;\n \n   // sputn/xsputn\n-  const wchar_t* lit01 = L\"isotope 217: the unstable molecule on thrill jockey\";\n-  const int i02 = std::wcslen(lit01);\n-  wchar_t lit02[i02];\n-  std::wcscpy(lit02, lit01);\n+  wchar_t lit02[] = L\"isotope 217: the unstable molecule on thrill jockey\";\n+  const int i02 = std::wcslen(lit02);\n \n   wchar_t carray[i02 + 1];\n   std::wmemset(carray, 0, i02 + 1);"}]}