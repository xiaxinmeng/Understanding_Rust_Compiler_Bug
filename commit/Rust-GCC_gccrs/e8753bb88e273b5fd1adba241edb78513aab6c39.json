{"sha": "e8753bb88e273b5fd1adba241edb78513aab6c39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg3NTNiYjg4ZTI3M2I1ZmQxYWRiYTI0MWVkYjc4NTEzYWFiNmMzOQ==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2018-09-25T16:28:40Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2018-09-25T16:28:40Z"}, "message": "[PR 87339] Fix failure of gcc.dg/warn-abs-1.c on some targets\n\n2018-09-25  Martin Jambor  <mjambor@suse.cz>\n\n\tPR testsuite/87339\n\t* gcc.dg/warn-abs-1.c: Do not test _Float128.  Remove dg-skip-if and\n\tfloat125 target.\n\t* gcc.target/i386/warn-abs-3.c: New test.\n\nFrom-SVN: r264579", "tree": {"sha": "bcfeebb4a76d45a5fb24ac59b013beb7e8633f85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bcfeebb4a76d45a5fb24ac59b013beb7e8633f85"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8753bb88e273b5fd1adba241edb78513aab6c39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8753bb88e273b5fd1adba241edb78513aab6c39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8753bb88e273b5fd1adba241edb78513aab6c39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8753bb88e273b5fd1adba241edb78513aab6c39/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "84848f51990785a127c32236be63c10e579a9332", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84848f51990785a127c32236be63c10e579a9332", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84848f51990785a127c32236be63c10e579a9332"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "24bf238e0f6cd4e2e739806f1cc5bddb44f2e7ea", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8753bb88e273b5fd1adba241edb78513aab6c39/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8753bb88e273b5fd1adba241edb78513aab6c39/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e8753bb88e273b5fd1adba241edb78513aab6c39", "patch": "@@ -1,3 +1,10 @@\n+2018-09-25  Martin Jambor  <mjambor@suse.cz>\n+\n+\tPR testsuite/87339\n+\t* gcc.dg/warn-abs-1.c: Do not test _Float128.  Remove dg-skip-if and\n+\tfloat125 target.\n+\t* gcc.target/i386/warn-abs-3.c: New test.\n+\n 2018-09-25  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/81246"}, {"sha": "1c487270042681998abf5c1c4e49aee7126a9f93", "filename": "gcc/testsuite/gcc.dg/warn-abs-1.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8753bb88e273b5fd1adba241edb78513aab6c39/gcc%2Ftestsuite%2Fgcc.dg%2Fwarn-abs-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8753bb88e273b5fd1adba241edb78513aab6c39/gcc%2Ftestsuite%2Fgcc.dg%2Fwarn-abs-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fwarn-abs-1.c?ref=e8753bb88e273b5fd1adba241edb78513aab6c39", "patch": "@@ -1,5 +1,4 @@\n-/* { dg-do compile { target float128 } } */\n-/* { dg-skip-if \"incomplete long double support\" { { newlib } && large_long_double } }  */\n+/* { dg-do compile } */\n /* { dg-options \"-Wabsolute-value\" } */\n \n #include <stdlib.h>\n@@ -41,12 +40,11 @@ tst_notfloat (int *pi, long *pl, complex double *pc)\n }\n \n void\n-tst_float_size (double *pd, long double *pld, _Float128 *pf128)\n+tst_float_size (double *pd, long double *pld)\n {\n   *pd = fabsf (*pd);   /* { dg-warning \"may cause truncation of value\" } */\n   *pld = fabs (*pld);  /* { dg-warning \"may cause truncation of value\" } */\n   *pld = fabs ((double) *pld);\n-  *pf128 = fabsl (*pf128); /* { dg-warning \"may cause truncation of value\" } */\n }\n \n void tst_notcomplex (int *pi, long *pl, long double *pld)"}, {"sha": "21feaff7d8a41672afed63ecdc58a235589e6954", "filename": "gcc/testsuite/gcc.target/i386/warn-abs-3.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8753bb88e273b5fd1adba241edb78513aab6c39/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fwarn-abs-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8753bb88e273b5fd1adba241edb78513aab6c39/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fwarn-abs-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fwarn-abs-3.c?ref=e8753bb88e273b5fd1adba241edb78513aab6c39", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile { target float128 } } */\n+/* { dg-options \"-Wabsolute-value\" } */\n+\n+#include <stdlib.h>\n+#include <inttypes.h>\n+#include <math.h>\n+\n+void\n+tst_float128_size (_Float128 *pf128)\n+{\n+  *pf128 = fabsl (*pf128); /* { dg-warning \"may cause truncation of value\" } */\n+}"}]}