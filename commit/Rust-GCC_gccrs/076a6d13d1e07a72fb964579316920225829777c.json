{"sha": "076a6d13d1e07a72fb964579316920225829777c", "node_id": "C_kwDOANBUbNoAKDA3NmE2ZDEzZDFlMDdhNzJmYjk2NDU3OTMxNjkyMDIyNTgyOTc3N2M", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2022-06-08T14:58:18Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-07-05T08:28:20Z"}, "message": "[Ada] Remove redundant protection against empty lists\n\nCalls to First on No_List intentionally return Empty node, so explicit\nguards against No_List are unnecessary. Code cleanup; semantics is\nunaffected.\n\ngcc/ada/\n\n\t* exp_code.adb (Setup_Asm_IO_Args): Remove guard against No_List.\n\t* par_sco.adb (Process_Decisions): Likewise.\n\t* sem_ch13.adb (Check_Component_List): Likewise.\n\t* sem_ch6.adb (FCL): Likewise.", "tree": {"sha": "77592e603295aaa3437d7b203759ec6f3f55eedc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/77592e603295aaa3437d7b203759ec6f3f55eedc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/076a6d13d1e07a72fb964579316920225829777c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/076a6d13d1e07a72fb964579316920225829777c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/076a6d13d1e07a72fb964579316920225829777c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/076a6d13d1e07a72fb964579316920225829777c/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5709fac357bb922a9eeecf42adbedd532c00fde6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5709fac357bb922a9eeecf42adbedd532c00fde6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5709fac357bb922a9eeecf42adbedd532c00fde6"}], "stats": {"total": 63, "additions": 23, "deletions": 40}, "files": [{"sha": "d144b489f2f5f74347b4e09fa624ee4ed9eedca1", "filename": "gcc/ada/exp_code.adb", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fexp_code.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fexp_code.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_code.adb?ref=076a6d13d1e07a72fb964579316920225829777c", "patch": "@@ -471,11 +471,7 @@ package body Exp_Code is\n       --  Case of list of arguments\n \n       elsif Nkind (Arg) = N_Aggregate then\n-         if Expressions (Arg) = No_List then\n-            Operand_Var := Empty;\n-         else\n-            Operand_Var := First (Expressions (Arg));\n-         end if;\n+         Operand_Var := First (Expressions (Arg));\n \n       --  Otherwise must be default (no operands) case\n "}, {"sha": "e8875cf28b4fdfabce66768fedfc400d7f05c0c8", "filename": "gcc/ada/par_sco.adb", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fpar_sco.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fpar_sco.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar_sco.adb?ref=076a6d13d1e07a72fb964579316920225829777c", "patch": "@@ -480,13 +480,11 @@ package body Par_SCO is\n       N : Node_Id;\n \n    begin\n-      if L /= No_List then\n-         N := First (L);\n-         while Present (N) loop\n-            Process_Decisions (N, T, Pragma_Sloc);\n-            Next (N);\n-         end loop;\n-      end if;\n+      N := First (L);\n+      while Present (N) loop\n+         Process_Decisions (N, T, Pragma_Sloc);\n+         Next (N);\n+      end loop;\n    end Process_Decisions;\n \n    --  Version taking a node"}, {"sha": "bb654abe412ae87a3a4dc6064303fd9ff9401434", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 15, "deletions": 17, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=076a6d13d1e07a72fb964579316920225829777c", "patch": "@@ -12135,24 +12135,22 @@ package body Sem_Ch13 is\n             begin\n                --  Gather discriminants into Comp\n \n-               if DS /= No_List then\n-                  Citem := First (DS);\n-                  while Present (Citem) loop\n-                     if Nkind (Citem) = N_Discriminant_Specification then\n-                        declare\n-                           Ent : constant Entity_Id :=\n-                                   Defining_Identifier (Citem);\n-                        begin\n-                           if Ekind (Ent) = E_Discriminant then\n-                              Ncomps := Ncomps + 1;\n-                              Comps (Ncomps) := Ent;\n-                           end if;\n-                        end;\n-                     end if;\n+               Citem := First (DS);\n+               while Present (Citem) loop\n+                  if Nkind (Citem) = N_Discriminant_Specification then\n+                     declare\n+                        Ent : constant Entity_Id :=\n+                                Defining_Identifier (Citem);\n+                     begin\n+                        if Ekind (Ent) = E_Discriminant then\n+                           Ncomps := Ncomps + 1;\n+                           Comps (Ncomps) := Ent;\n+                        end if;\n+                     end;\n+                  end if;\n \n-                     Next (Citem);\n-                  end loop;\n-               end if;\n+                  Next (Citem);\n+               end loop;\n \n                --  Gather component entities into Comp\n "}, {"sha": "440770ad8bf2c0fac5aacea47b616b5fa1b0369b", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 2, "deletions": 11, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/076a6d13d1e07a72fb964579316920225829777c/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=076a6d13d1e07a72fb964579316920225829777c", "patch": "@@ -9988,17 +9988,8 @@ package body Sem_Ch6 is\n          N2 : Node_Id;\n \n       begin\n-         if L1 = No_List then\n-            N1 := Empty;\n-         else\n-            N1 := First (L1);\n-         end if;\n-\n-         if L2 = No_List then\n-            N2 := Empty;\n-         else\n-            N2 := First (L2);\n-         end if;\n+         N1 := First (L1);\n+         N2 := First (L2);\n \n          --  Compare two lists, skipping rewrite insertions (we want to compare\n          --  the original trees, not the expanded versions)."}]}