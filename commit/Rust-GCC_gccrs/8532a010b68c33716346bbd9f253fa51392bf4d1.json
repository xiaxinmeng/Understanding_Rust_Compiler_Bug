{"sha": "8532a010b68c33716346bbd9f253fa51392bf4d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODUzMmEwMTBiNjhjMzM3MTYzNDZiYmQ5ZjI1M2ZhNTEzOTJiZjRkMQ==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2018-08-12T10:55:13Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2018-08-12T10:55:13Z"}, "message": "re PR fortran/86906 (erroneous name clash with renaming in use statement)\n\n2018-08-12  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/86906\n\t* resolve.c (resolve_fl_variable_derived): Check if the derived\n\ttype is use associated before checking for the host association\n\terror.\n\n2018-08-12  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/86906\n\t* gfortran.dg/use_rename_9.f90: New test.\n\nFrom-SVN: r263494", "tree": {"sha": "d7b6504de6b09a221cf322f1d127851b9abc0691", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7b6504de6b09a221cf322f1d127851b9abc0691"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8532a010b68c33716346bbd9f253fa51392bf4d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8532a010b68c33716346bbd9f253fa51392bf4d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8532a010b68c33716346bbd9f253fa51392bf4d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8532a010b68c33716346bbd9f253fa51392bf4d1/comments", "author": null, "committer": null, "parents": [{"sha": "a49317452416282f4cb4da0149754c58d87b2241", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49317452416282f4cb4da0149754c58d87b2241", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a49317452416282f4cb4da0149754c58d87b2241"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "2d9c1f0ce572337a873201df429f5f5fd1c8d66b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=8532a010b68c33716346bbd9f253fa51392bf4d1", "patch": "@@ -1,3 +1,10 @@\n+2018-08-12  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/86906\n+\t* resolve.c (resolve_fl_variable_derived): Check if the derived\n+\ttype is use associated before checking for the host association\n+\terror.\n+\n 2018-08-10  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/57160"}, {"sha": "d65118dfae3cf224ecf5811f844d4004aa7845e0", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=8532a010b68c33716346bbd9f253fa51392bf4d1", "patch": "@@ -12131,6 +12131,7 @@ resolve_fl_variable_derived (gfc_symbol *sym, int no_init_flag)\n      namespace.  14.6.1.3 of the standard and the discussion on\n      comp.lang.fortran.  */\n   if (sym->ns != sym->ts.u.derived->ns\n+      && !sym->ts.u.derived->attr.use_assoc\n       && sym->ns->proc_name->attr.if_source != IFSRC_IFBODY)\n     {\n       gfc_symbol *s;"}, {"sha": "bced6d37d84979cb04a6d31296070c90ff650c48", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8532a010b68c33716346bbd9f253fa51392bf4d1", "patch": "@@ -1,3 +1,8 @@\n+2018-08-12  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/86906\n+\t* gfortran.dg/use_rename_9.f90: New test.\n+\n 2018-08-11  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/86835"}, {"sha": "a26df9e23d2817d7636cc59e74a01f43f4022428", "filename": "gcc/testsuite/gfortran.dg/use_rename_9.f90", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ftestsuite%2Fgfortran.dg%2Fuse_rename_9.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8532a010b68c33716346bbd9f253fa51392bf4d1/gcc%2Ftestsuite%2Fgfortran.dg%2Fuse_rename_9.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fuse_rename_9.f90?ref=8532a010b68c33716346bbd9f253fa51392bf4d1", "patch": "@@ -0,0 +1,19 @@\n+! { dg-do compile }\n+!\n+! Test the fix for PR86906, in which a spurious error was generated\n+! by 'config' in the subroutine having the same symbol name as the\n+! renamed 'foo_config'.\n+!\n+! Contributed by Damian Rouson  <damian@sourceryinstitute.org>\n+!\n+module foo\n+  type config\n+  end type\n+end module\n+  use foo, only: foo_config => config\n+contains\n+  subroutine cap\n+    integer config\n+    type(foo_config) extra\n+  end subroutine\n+end"}]}