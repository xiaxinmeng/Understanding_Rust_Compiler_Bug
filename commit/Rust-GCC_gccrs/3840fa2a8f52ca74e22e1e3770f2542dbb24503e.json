{"sha": "3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg0MGZhMmE4ZjUyY2E3NGUyMmUxZTM3NzBmMjU0MmRiYjI0NTAzZQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@gnu.org", "date": "2000-06-02T07:24:15Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-06-02T07:24:15Z"}, "message": "std_cwctype.h: Clean.\n\n\n2000-06-01  Benjamin Kosnik  <bkoz@gnu.org>\n\n\t* bits/std_cwctype.h: Clean.\n\t* bits/std_cwchar.h: Clean, remove cruft.\n\n\t* acinclude.m4 (GLIBCPP_CHECK_WCHAR_T_SUPPORT): Re-work, add bits\n\tfor beginning iconv support.\n\tRemove _GLIBCPP_HAS_WCHAR_MIN_MAX, roll into _GLIBCPP_USE_WCHAR_T\n\tmacro.\n\t* acconfig.h: Remove _GLIBCPP_HAS_WCHAR_MIN_MAX.\n\t* bits/limits_generic.h: Remove.\n\t* src/gen-num-limits.cc: Same.\n\n\t* src/locale.cc: Tweaks.\n\n\t* bits/char_traits.h: Tweaks.\n\nFrom-SVN: r34352", "tree": {"sha": "45a34394b5127281bc11b43069433b36f688b8c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45a34394b5127281bc11b43069433b36f688b8c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/comments", "author": {"login": "bdekoz", "id": 997439, "node_id": "MDQ6VXNlcjk5NzQzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/997439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdekoz", "html_url": "https://github.com/bdekoz", "followers_url": "https://api.github.com/users/bdekoz/followers", "following_url": "https://api.github.com/users/bdekoz/following{/other_user}", "gists_url": "https://api.github.com/users/bdekoz/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdekoz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdekoz/subscriptions", "organizations_url": "https://api.github.com/users/bdekoz/orgs", "repos_url": "https://api.github.com/users/bdekoz/repos", "events_url": "https://api.github.com/users/bdekoz/events{/privacy}", "received_events_url": "https://api.github.com/users/bdekoz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cc057ef34398f155de8a021421a41d6a0a4ba1f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc057ef34398f155de8a021421a41d6a0a4ba1f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc057ef34398f155de8a021421a41d6a0a4ba1f0"}], "stats": {"total": 1753, "additions": 680, "deletions": 1073}, "files": [{"sha": "db157a2775b539701ea3ab5ddcdc9cd42550e223", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -1,3 +1,20 @@\n+2000-06-01  Benjamin Kosnik  <bkoz@gnu.org>\n+\n+\t* bits/std_cwctype.h: Clean.\n+\t* bits/std_cwchar.h: Clean, remove cruft.\n+\n+\t* acinclude.m4 (GLIBCPP_CHECK_WCHAR_T_SUPPORT): Re-work, add bits\n+\tfor beginning iconv support.\n+\tRemove _GLIBCPP_HAS_WCHAR_MIN_MAX, roll into _GLIBCPP_USE_WCHAR_T\n+\tmacro.\n+\t* acconfig.h: Remove _GLIBCPP_HAS_WCHAR_MIN_MAX.\n+\t* bits/limits_generic.h: Remove.\n+\t* src/gen-num-limits.cc: Same.\n+\t\n+\t* src/locale.cc: Tweaks.\n+\n+\t* bits/char_traits.h: Tweaks.\n+\n 2000-05-31  Russell Davidson  <russell@ehess.cnrs-mrs.fr> \n \n \t* bits/locale_facets.tcc (num_get<char>::_M_extract): Fix signage,"}, {"sha": "79b81bf24fb932f9cd50c5dbcb190a0edcfbf0a6", "filename": "libstdc++-v3/Makefile.in", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FMakefile.in?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -83,14 +83,13 @@ FMTFLAGS = @FMTFLAGS@\n GCC_OBJDIR = @GCC_OBJDIR@\n GLIBCPP_CFLAGS = @GLIBCPP_CFLAGS@\n GLIBCPP_CXXFLAGS = @GLIBCPP_CXXFLAGS@\n-LD = @LD@\n LIBMATHOBJS = @LIBMATHOBJS@\n LIBSTRINGOBJS = @LIBSTRINGOBJS@\n LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n+OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n THREADDEPS = @THREADDEPS@\n@@ -99,7 +98,6 @@ THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n THREADSPEC = @THREADSPEC@\n USE_LONG_DOUBLE = @USE_LONG_DOUBLE@\n-USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n WERROR = @WERROR@\n cpu_include_dir = @cpu_include_dir@"}, {"sha": "e6f1734197a8aa5857edd564014f744a52367ee8", "filename": "libstdc++-v3/acconfig.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facconfig.h?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -9,11 +9,6 @@\n // around.\n #undef _GLIBCPP_NEED_MBSTATE_T\n \n-// Define if WCHAR_MIN and WCHAR_MAX are in the <cwchar_t>\n-// header. Presently, this is needed so that solaris won't\n-// instantitate numeric_limits<wchar_t>\n-#undef _GLIBCPP_HAS_WCHAR_MIN_MAX\n-\n // Define if code specialized for wchar_t should be used.\n #undef _GLIBCPP_USE_WCHAR_T\n "}, {"sha": "8e67e6d669ca188f489868a7cf7434b717b298ad", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 77, "deletions": 50, "changes": 127, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -520,59 +520,86 @@ dnl Check to see if this target can enable the wchar_t parts of libstdc++.\n dnl\n dnl Define _GLIBCPP_USE_WCHAR_T if all the bits are found \n dnl Define _GLIBCPP_NEED_MBSTATE_T if mbstate_t is not in wchar.h\n-dnl Define _GLIBCPP_HAS_WCHAR_MIN_MAX if WCHAR_MIN, WCHAR_MAX in wchar.h\n dnl\n dnl GLIBCPP_CHECK_WCHAR_T_SUPPORT\n AC_DEFUN(GLIBCPP_CHECK_WCHAR_T_SUPPORT, [\n-  AC_CHECK_HEADER(wchar.h,[\n-  dnl Test wchar.h for mbstate_t, which is needed for char_traits and others.\n-  AC_MSG_CHECKING([for native mbstate_t])\n-  AC_TRY_COMPILE([#include <wchar.h>],\n-  [mbstate_t teststate;], \n-  use_native_mbstatet=yes, use_native_mbstatet=no)\n-  AC_MSG_RESULT($use_native_mbstatet)\n-  if test $use_native_mbstatet = \"no\"; then\n-    AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n-  fi\n+\n+  dnl Sanity check for existence of ISO C9X headers for extended encoding.\n+  AC_CHECK_HEADER(wchar.h, ac_has_wchar_h=yes, ac_has_wchar_h=no)\n+  AC_CHECK_HEADER(wctype.h, ac_has_wctype_h=yes, ac_has_wctype_h=no)\n+\t\n+  dnl Only continue checking if the ISO C9X headers exist.\n+  if test x\"$ac_has_wchar_h\" = xyes && test x\"$ac_has_wctype_h\" = xyes; then\n+\n+    dnl Test wchar.h for mbstate_t, which is needed for char_traits and others.\n+    AC_MSG_CHECKING([for mbstate_t])\n+    AC_TRY_COMPILE([#include <wchar.h>],\n+    [mbstate_t teststate;], \n+    use_native_mbstatet=yes, use_native_mbstatet=no)\n+    AC_MSG_RESULT($use_native_mbstatet)\n+    if test x\"$use_native_mbstatet\" = xno; then\n+      AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n+    fi\n   \n-  dnl Test wchar.h for WCHAR_MIN, WCHAR_MAX, which is needed before\n-  dnl numeric_limits can instantiate type_traits<wchar_t>\n-  AC_MSG_CHECKING([for WCHAR_MIN and WCHAR_MAX])\n-  AC_TRY_COMPILE([#include <wchar.h>],\n-  [int i = WCHAR_MIN; int j = WCHAR_MAX;], \n-  has_wchar_minmax=yes, has_wchar_minmax=no)\n-  AC_MSG_RESULT($has_wchar_minmax)\n-  if test $has_wchar_minmax = \"yes\"; then\n-    AC_DEFINE(_GLIBCPP_HAS_WCHAR_MIN_MAX)\n-  fi\n+    dnl Test wchar.h for WCHAR_MIN, WCHAR_MAX, which is needed before\n+    dnl numeric_limits can instantiate type_traits<wchar_t>\n+    AC_MSG_CHECKING([for WCHAR_MIN and WCHAR_MAX])\n+    AC_TRY_COMPILE([#include <wchar.h>],\n+    [int i = WCHAR_MIN; int j = WCHAR_MAX;], \n+    has_wchar_minmax=yes, has_wchar_minmax=no)\n+    AC_MSG_RESULT($has_wchar_minmax)\n   \n-  # Test wchar.h for WEOF, which is what we use to determine whether\n-  # to specialize for wchar_t or not.\n-  AC_MSG_CHECKING([for WEOF])\n-  AC_TRY_COMPILE([\n-    #include <wchar.h>\n-    #include <stddef.h>],\n-  [wint_t i = WEOF;],\n-  has_weof=yes, has_weof=no)\n-  AC_MSG_RESULT($has_weof)\n-\n-  dnl Tests for wide character functions.\n-  AC_REPLACE_STRINGFUNCS(wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset)\n-  AC_SUBST(libinst_wstring_la)\n-\n-  AC_MSG_CHECKING([for wide character support])\n-  if test $has_weof = \"yes\" && test $has_wchar_minmax = \"yes\"; then\n-    libinst_wstring_la=\"libinst-wstring.la\"\n-    AC_DEFINE(_GLIBCPP_USE_WCHAR_T)\n-    AC_MSG_RESULT(ok)\n+    dnl Test wchar.h for WEOF, which is what we use to determine whether\n+    dnl to specialize for char_traits<wchar_t> or not.\n+    AC_MSG_CHECKING([for WEOF])\n+    AC_TRY_COMPILE([\n+      #include <wchar.h>\n+      #include <stddef.h>],\n+    [wint_t i = WEOF;],\n+    has_weof=yes, has_weof=no)\n+    AC_MSG_RESULT($has_weof)\n+\n+    dnl Tests for wide character functions used in char_traits<wchar_t>.\n+    AC_CHECK_FUNCS(wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset, ac_wfuncs=yes, ac_wfuncs=no)\n+\n+    AC_MSG_CHECKING([for ISO C9X wchar_t support])\n+    if test x\"$has_weof\" = xyes && test x\"$has_wchar_minmax\" = xyes && test x\"$ac_wfuncs\" = xyes; then\n+      ac_isoC9X_wchar_t=yes\n+    else\n+      ac_isoC9X_wchar_t=no\n+    fi\n+    AC_MSG_RESULT($ac_isoC9X_wchar_t)\n+\n+    dnl Use iconv for wchar_t to char conversions. As such, check for \n+    dnl X/Open Portability Guide, version 2 features (XPG2).\n+    AC_CHECK_HEADER(iconv.h, ac_has_iconv_h=yes, ac_has_iconv_h=no)\n+    AC_CHECK_FUNCS(iconv_open iconv_close iconv, ac_XPG2funcs=yes, ac_XPG2funcs=no)\n+\n+    AC_MSG_CHECKING([for XPG2 wchar_t support])\n+    if test x\"$ac_has_iconv_h\" = xyes && test x\"$ac_XPG2funcs\" = xyes; then\n+      ac_XPG2_wchar_t=yes\n+    else\n+      ac_XPG2_wchar_t=no\n+    fi\n+    AC_MSG_RESULT($ac_XPG2_wchar_t)\n+\n+    dnl At the moment, only enable wchar_t specializations if all the\n+    dnl above support is present.\n+    AC_MSG_CHECKING([for enabled wchar_t specializations])\n+    if test x\"$ac_isoC9X_wchar_t\" = xyes && test x\"$ac_XPG2_wchar_t\" = xyes; then\n+      libinst_wstring_la=\"libinst-wstring.la\"\n+      AC_DEFINE(_GLIBCPP_USE_WCHAR_T)\n+      AC_MSG_RESULT(\"yes\")\n+    else\n+      libinst_wstring_la=\"\"\n+      AC_MSG_RESULT(\"no\")\n+    fi\n+    AC_SUBST(libinst_wstring_la)\n+\n   else\n-    libinst_wstring_la=\"\"\n-    AC_MSG_RESULT(\"not specializing for wchar_t\")\n+    AC_MSG_WARN([<wchar.h> not found])\n+    AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n   fi\n-  ],[\n-  AC_MSG_WARN([<wchar.h> not found])\n-  AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n-  ])\n ])\n \n \n@@ -949,7 +976,6 @@ dnl GLIBCPP_ENABLE_LONG_LONG\n AC_DEFUN(GLIBCPP_ENABLE_LONG_LONG, [dnl\n   define([GLIBCPP_ENABLE_LONG_LONG_DEFAULT], ifelse($1, yes, yes, no))dnl\n \n-  AC_MSG_CHECKING([for enabled long long])\n   AC_ARG_ENABLE(long-long,\n   changequote(<<, >>)dnl\n   <<--enable-long-long      turns on 'long long' [default=>>GLIBCPP_ENABLE_LONG_LONG_DEFAULT],\n@@ -965,11 +991,12 @@ AC_DEFUN(GLIBCPP_ENABLE_LONG_LONG, [dnl\n   AC_CHECK_FUNC(strtoll,,ac_strtoll=no)\n   AC_CHECK_FUNC(strtoull,,ac_strtoull=no)\n \n+  AC_MSG_CHECKING([for enabled long long])\n   if test x\"$ac_strtoll\" = xno || test x\"$ac_strtoull\" = xno; then \n-\tenable_long_long=no; \n-  fi; unset ac_ll\n-\n+    enable_long_long=no; \n+  fi; \n   AC_MSG_RESULT($enable_long_long)\n+\n   dnl Option parsed, now set things appropriately\n   case \"$enable_long_long\" in\n     yes)  AC_DEFINE(_GLIBCPP_USE_LONG_LONG)"}, {"sha": "612291e679296c06a23ed21cb1544adb3f3d104f", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 155, "deletions": 323, "changes": 478, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -532,59 +532,86 @@ dnl Check to see if this target can enable the wchar_t parts of libstdc++.\n dnl\n dnl Define _GLIBCPP_USE_WCHAR_T if all the bits are found \n dnl Define _GLIBCPP_NEED_MBSTATE_T if mbstate_t is not in wchar.h\n-dnl Define _GLIBCPP_HAS_WCHAR_MIN_MAX if WCHAR_MIN, WCHAR_MAX in wchar.h\n dnl\n dnl GLIBCPP_CHECK_WCHAR_T_SUPPORT\n AC_DEFUN(GLIBCPP_CHECK_WCHAR_T_SUPPORT, [\n-  AC_CHECK_HEADER(wchar.h,[\n-  dnl Test wchar.h for mbstate_t, which is needed for char_traits and others.\n-  AC_MSG_CHECKING([for native mbstate_t])\n-  AC_TRY_COMPILE([#include <wchar.h>],\n-  [mbstate_t teststate;], \n-  use_native_mbstatet=yes, use_native_mbstatet=no)\n-  AC_MSG_RESULT($use_native_mbstatet)\n-  if test $use_native_mbstatet = \"no\"; then\n-    AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n-  fi\n+\n+  dnl Sanity check for existence of ISO C9X headers for extended encoding.\n+  AC_CHECK_HEADER(wchar.h, ac_has_wchar_h=yes, ac_has_wchar_h=no)\n+  AC_CHECK_HEADER(wctype.h, ac_has_wctype_h=yes, ac_has_wctype_h=no)\n+\t\n+  dnl Only continue checking if the ISO C9X headers exist.\n+  if test x\"$ac_has_wchar_h\" = xyes && test x\"$ac_has_wctype_h\" = xyes; then\n+\n+    dnl Test wchar.h for mbstate_t, which is needed for char_traits and others.\n+    AC_MSG_CHECKING([for mbstate_t])\n+    AC_TRY_COMPILE([#include <wchar.h>],\n+    [mbstate_t teststate;], \n+    use_native_mbstatet=yes, use_native_mbstatet=no)\n+    AC_MSG_RESULT($use_native_mbstatet)\n+    if test x\"$use_native_mbstatet\" = xno; then\n+      AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n+    fi\n   \n-  dnl Test wchar.h for WCHAR_MIN, WCHAR_MAX, which is needed before\n-  dnl numeric_limits can instantiate type_traits<wchar_t>\n-  AC_MSG_CHECKING([for WCHAR_MIN and WCHAR_MAX])\n-  AC_TRY_COMPILE([#include <wchar.h>],\n-  [int i = WCHAR_MIN; int j = WCHAR_MAX;], \n-  has_wchar_minmax=yes, has_wchar_minmax=no)\n-  AC_MSG_RESULT($has_wchar_minmax)\n-  if test $has_wchar_minmax = \"yes\"; then\n-    AC_DEFINE(_GLIBCPP_HAS_WCHAR_MIN_MAX)\n-  fi\n+    dnl Test wchar.h for WCHAR_MIN, WCHAR_MAX, which is needed before\n+    dnl numeric_limits can instantiate type_traits<wchar_t>\n+    AC_MSG_CHECKING([for WCHAR_MIN and WCHAR_MAX])\n+    AC_TRY_COMPILE([#include <wchar.h>],\n+    [int i = WCHAR_MIN; int j = WCHAR_MAX;], \n+    has_wchar_minmax=yes, has_wchar_minmax=no)\n+    AC_MSG_RESULT($has_wchar_minmax)\n   \n-  # Test wchar.h for WEOF, which is what we use to determine whether\n-  # to specialize for wchar_t or not.\n-  AC_MSG_CHECKING([for WEOF])\n-  AC_TRY_COMPILE([\n-    #include <wchar.h>\n-    #include <stddef.h>],\n-  [wint_t i = WEOF;],\n-  has_weof=yes, has_weof=no)\n-  AC_MSG_RESULT($has_weof)\n-\n-  dnl Tests for wide character functions.\n-  AC_REPLACE_STRINGFUNCS(wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset)\n-  AC_SUBST(libinst_wstring_la)\n-\n-  AC_MSG_CHECKING([for wide character support])\n-  if test $has_weof = \"yes\" && test $has_wchar_minmax = \"yes\"; then\n-    libinst_wstring_la=\"libinst-wstring.la\"\n-    AC_DEFINE(_GLIBCPP_USE_WCHAR_T)\n-    AC_MSG_RESULT(ok)\n+    dnl Test wchar.h for WEOF, which is what we use to determine whether\n+    dnl to specialize for char_traits<wchar_t> or not.\n+    AC_MSG_CHECKING([for WEOF])\n+    AC_TRY_COMPILE([\n+      #include <wchar.h>\n+      #include <stddef.h>],\n+    [wint_t i = WEOF;],\n+    has_weof=yes, has_weof=no)\n+    AC_MSG_RESULT($has_weof)\n+\n+    dnl Tests for wide character functions used in char_traits<wchar_t>.\n+    AC_CHECK_FUNCS(wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset, ac_wfuncs=yes, ac_wfuncs=no)\n+\n+    AC_MSG_CHECKING([for ISO C9X wchar_t support])\n+    if test x\"$has_weof\" = xyes && test x\"$has_wchar_minmax\" = xyes && test x\"$ac_wfuncs\" = xyes; then\n+      ac_isoC9X_wchar_t=yes\n+    else\n+      ac_isoC9X_wchar_t=no\n+    fi\n+    AC_MSG_RESULT($ac_isoC9X_wchar_t)\n+\n+    dnl Use iconv for wchar_t to char conversions. As such, check for \n+    dnl X/Open Portability Guide, version 2 features (XPG2).\n+    AC_CHECK_HEADER(iconv.h, ac_has_iconv_h=yes, ac_has_iconv_h=no)\n+    AC_CHECK_FUNCS(iconv_open iconv_close iconv, ac_XPG2funcs=yes, ac_XPG2funcs=no)\n+\n+    AC_MSG_CHECKING([for XPG2 wchar_t support])\n+    if test x\"$ac_has_iconv_h\" = xyes && test x\"$ac_XPG2funcs\" = xyes; then\n+      ac_XPG2_wchar_t=yes\n+    else\n+      ac_XPG2_wchar_t=no\n+    fi\n+    AC_MSG_RESULT($ac_XPG2_wchar_t)\n+\n+    dnl At the moment, only enable wchar_t specializations if all the\n+    dnl above support is present.\n+    AC_MSG_CHECKING([for enabled wchar_t specializations])\n+    if test x\"$ac_isoC9X_wchar_t\" = xyes && test x\"$ac_XPG2_wchar_t\" = xyes; then\n+      libinst_wstring_la=\"libinst-wstring.la\"\n+      AC_DEFINE(_GLIBCPP_USE_WCHAR_T)\n+      AC_MSG_RESULT(\"yes\")\n+    else\n+      libinst_wstring_la=\"\"\n+      AC_MSG_RESULT(\"no\")\n+    fi\n+    AC_SUBST(libinst_wstring_la)\n+\n   else\n-    libinst_wstring_la=\"\"\n-    AC_MSG_RESULT(\"not specializing for wchar_t\")\n+    AC_MSG_WARN([<wchar.h> not found])\n+    AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n   fi\n-  ],[\n-  AC_MSG_WARN([<wchar.h> not found])\n-  AC_DEFINE(_GLIBCPP_NEED_MBSTATE_T)\n-  ])\n ])\n \n \n@@ -961,7 +988,6 @@ dnl GLIBCPP_ENABLE_LONG_LONG\n AC_DEFUN(GLIBCPP_ENABLE_LONG_LONG, [dnl\n   define([GLIBCPP_ENABLE_LONG_LONG_DEFAULT], ifelse($1, yes, yes, no))dnl\n \n-  AC_MSG_CHECKING([for enabled long long])\n   AC_ARG_ENABLE(long-long,\n   changequote(<<, >>)dnl\n   <<--enable-long-long      turns on 'long long' [default=>>GLIBCPP_ENABLE_LONG_LONG_DEFAULT],\n@@ -977,11 +1003,12 @@ AC_DEFUN(GLIBCPP_ENABLE_LONG_LONG, [dnl\n   AC_CHECK_FUNC(strtoll,,ac_strtoll=no)\n   AC_CHECK_FUNC(strtoull,,ac_strtoull=no)\n \n+  AC_MSG_CHECKING([for enabled long long])\n   if test x\"$ac_strtoll\" = xno || test x\"$ac_strtoull\" = xno; then \n-\tenable_long_long=no; \n-  fi; unset ac_ll\n-\n+    enable_long_long=no; \n+  fi; \n   AC_MSG_RESULT($enable_long_long)\n+\n   dnl Option parsed, now set things appropriately\n   case \"$enable_long_long\" in\n     yes)  AC_DEFINE(_GLIBCPP_USE_LONG_LONG)\n@@ -1216,7 +1243,7 @@ else\n fi])\n \n \n-# serial 35 AC_PROG_LIBTOOL\n+# serial 40 AC_PROG_LIBTOOL\n AC_DEFUN(AC_PROG_LIBTOOL,\n [AC_REQUIRE([AC_LIBTOOL_SETUP])dnl\n \n@@ -1225,10 +1252,11 @@ AC_CACHE_SAVE\n \n # Actually configure libtool.  ac_aux_dir is where install-sh is found.\n CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n+LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" OBJDUMP=\"$OBJDUMP\" \\\n ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n+$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $lt_target \\\n || AC_MSG_ERROR([libtool configure failed])\n \n # Reload cache, that may have been modified by ltconfig\n@@ -1257,24 +1285,33 @@ AC_REQUIRE([AC_PROG_RANLIB])dnl\n AC_REQUIRE([AC_PROG_CC])dnl\n AC_REQUIRE([AC_PROG_LD])dnl\n AC_REQUIRE([AC_PROG_NM])dnl\n-AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n-AC_REQUIRE([AC_SYS_SYMBOL_UNDERSCORE])dnl\n AC_REQUIRE([AC_PROG_LN_S])dnl\n dnl\n \n+case \"$target\" in\n+NONE) lt_target=\"$host\" ;;\n+*) lt_target=\"$target\" ;;\n+esac\n+\n # Check for any special flags to pass to ltconfig.\n libtool_flags=\"--cache-file=$cache_file\"\n test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n-test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n-test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+ifdef([AC_PROVIDE_AC_LIBTOOL_DLOPEN],\n+[libtool_flags=\"$libtool_flags --enable-dlopen\"])\n+ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n+[libtool_flags=\"$libtool_flags --enable-win32-dll\"])\n+AC_ARG_ENABLE(libtool-lock,\n+  [  --disable-libtool-lock  avoid locking (might break parallel builds)])\n+test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n+test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n \n # Some flags need to be propagated to the compiler or linker for good\n # libtool support.\n-case \"$host\" in\n+case \"$lt_target\" in\n *-*-irix6*)\n   # Find out which ABI we are using.\n   echo '[#]line __oline__ \"configure\"' > conftest.$ac_ext\n@@ -1306,33 +1343,28 @@ case \"$host\" in\n   fi\n   ;;\n \n-*-*-cygwin*)\n-  AC_SYS_LIBTOOL_CYGWIN\n+ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n+[*-*-cygwin* | *-*-mingw*)\n+  AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n+  AC_CHECK_TOOL(AS, as, false)\n+  AC_CHECK_TOOL(OBJDUMP, objdump, false)\n   ;;\n-\n+])\n esac\n-\n-# enable the --disable-libtool-lock switch\n-\n-AC_ARG_ENABLE(libtool-lock,\n-[  --disable-libtool-lock  force libtool not to do file locking],\n-need_locks=$enableval,\n-need_locks=yes)\n-\n-if test x\"$need_locks\" = xno; then\n-  libtool_flags=\"$libtool_flags --disable-lock\"\n-fi\n ])\n \n-# AC_LIBTOOL_DLOPEN - check for dlopen support\n-AC_DEFUN(AC_LIBTOOL_DLOPEN, [lt_dlopen=yes])\n+# AC_LIBTOOL_DLOPEN - enable checks for dlopen support\n+AC_DEFUN(AC_LIBTOOL_DLOPEN, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])\n+\n+# AC_LIBTOOL_WIN32_DLL - declare package support for building win32 dll's\n+AC_DEFUN(AC_LIBTOOL_WIN32_DLL, [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])])\n \n # AC_ENABLE_SHARED - implement the --enable-shared flag\n # Usage: AC_ENABLE_SHARED[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AC_ENABLE_SHARED,\n-[define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_SHARED, [dnl\n+define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(shared,\n changequote(<<, >>)dnl\n <<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],\n@@ -1357,15 +1389,15 @@ enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl\n ])\n \n # AC_DISABLE_SHARED - set the default shared flag to --disable-shared\n-AC_DEFUN(AC_DISABLE_SHARED,\n-[AC_ENABLE_SHARED(no)])\n+AC_DEFUN(AC_DISABLE_SHARED, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_ENABLE_SHARED(no)])\n \n # AC_ENABLE_STATIC - implement the --enable-static flag\n # Usage: AC_ENABLE_STATIC[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AC_ENABLE_STATIC,\n-[define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_STATIC, [dnl\n+define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(static,\n changequote(<<, >>)dnl\n <<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],\n@@ -1390,16 +1422,16 @@ enable_static=AC_ENABLE_STATIC_DEFAULT)dnl\n ])\n \n # AC_DISABLE_STATIC - set the default static flag to --disable-static\n-AC_DEFUN(AC_DISABLE_STATIC,\n-[AC_ENABLE_STATIC(no)])\n+AC_DEFUN(AC_DISABLE_STATIC, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_ENABLE_STATIC(no)])\n \n \n # AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag\n # Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AC_ENABLE_FAST_INSTALL,\n-[define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_FAST_INSTALL, [dnl\n+define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(fast-install,\n changequote(<<, >>)dnl\n <<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],\n@@ -1424,9 +1456,8 @@ enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl\n ])\n \n # AC_ENABLE_FAST_INSTALL - set the default to --disable-fast-install\n-AC_DEFUN(AC_DISABLE_FAST_INSTALL,\n-[AC_ENABLE_FAST_INSTALL(no)])\n-\n+AC_DEFUN(AC_DISABLE_FAST_INSTALL, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_ENABLE_FAST_INSTALL(no)])\n \n # AC_PROG_LD - find the path to the GNU or non-GNU linker\n AC_DEFUN(AC_PROG_LD,\n@@ -1444,7 +1475,7 @@ if test \"$ac_cv_prog_gcc\" = yes; then\n   case \"$ac_prog\" in\n     # Accept absolute paths.\n changequote(,)dnl\n-    /* | [A-Za-z]:[\\\\/]*)\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n       re_direlt='/[^/][^/]*/\\.\\./'\n changequote([,])dnl\n       # Canonicalize the path of ld\n@@ -1470,10 +1501,10 @@ else\n fi\n AC_CACHE_VAL(ac_cv_path_LD,\n [if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n   for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\"; then\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n       ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n       # Check to see if the program is GNU ld.  I'd rather use --version,\n       # but apparently some GNU ld's only accept -v.\n@@ -1496,7 +1527,6 @@ else\n   AC_MSG_RESULT(no)\n fi\n test -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\n-AC_SUBST(LD)\n AC_PROG_LD_GNU\n ])\n \n@@ -1518,10 +1548,10 @@ AC_CACHE_VAL(ac_cv_path_NM,\n   # Let the user override the test.\n   ac_cv_path_NM=\"$NM\"\n else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/nm; then\n+    if test -f $ac_dir/nm || test -f $ac_dir/nm$ac_exeext ; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n@@ -1542,230 +1572,24 @@ else\n fi])\n NM=\"$ac_cv_path_NM\"\n AC_MSG_RESULT([$NM])\n-AC_SUBST(NM)\n ])\n \n-# AC_SYS_NM_PARSE - Check for command to grab the raw symbol name followed\n-# by C symbol name from nm.\n-AC_DEFUN(AC_SYS_NM_PARSE,\n+# AC_CHECK_LIBM - check for math library\n+AC_DEFUN(AC_CHECK_LIBM,\n [AC_REQUIRE([AC_CANONICAL_HOST])dnl\n-AC_REQUIRE([AC_PROG_NM])dnl\n-# Check for command to grab the raw symbol name followed by C symbol from nm.\n-AC_MSG_CHECKING([command to parse $NM output])\n-AC_CACHE_VAL(ac_cv_sys_global_symbol_pipe,\n-[# These are sane defaults that work on at least a few old systems.\n-# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n-\n-changequote(,)dnl\n-# Character class describing NM global symbol codes.\n-ac_symcode='[BCDEGRST]'\n-\n-# Regexp to match symbols that can be accessed directly from C.\n-ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n-\n-# Transform the above into a raw symbol and a C symbol.\n-ac_symxfrm='\\1 \\2\\3 \\3'\n-\n-# Transform an extracted symbol line into a proper C declaration\n-ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n-\n-# Define system-specific variables.\n-case \"$host_os\" in\n-aix*)\n-  ac_symcode='[BCDT]'\n-  ;;\n-cygwin* | mingw*)\n-  ac_symcode='[ABCDGISTW]'\n+LIBM=\n+case \"$lt_target\" in\n+*-*-beos* | *-*-cygwin*)\n+  # These system don't have libm\n   ;;\n-hpux*)\n-  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+*-ncr-sysv4.3*)\n+  AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM=\"-lmw\")\n+  AC_CHECK_LIB(m, main, LIBM=\"$LIBM -lm\")\n   ;;\n-irix*)\n-  ac_symcode='[BCDEGRST]'\n-  ;;\n-solaris*)\n-  ac_symcode='[BDT]'\n+*)\n+  AC_CHECK_LIB(m, main, LIBM=\"-lm\")\n   ;;\n esac\n-\n-# If we're using GNU nm, then use its standard symbol codes.\n-if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n-  ac_symcode='[ABCDGISTW]'\n-fi\n-changequote([,])dnl\n-\n-# Try without a prefix undercore, then with it.\n-for ac_symprfx in \"\" \"_\"; do\n-\n-  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.*[ \t]\\($ac_symcode\\)[ \t][ \t]*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n-\n-  # Check to see that the pipe works correctly.\n-  ac_pipe_works=no\n-  rm -f conftest.$ac_ext\n-  cat > conftest.$ac_ext <<EOF\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-char nm_test_var;\n-void nm_test_func(){}\n-#ifdef __cplusplus\n-}\n-#endif\n-int main(){nm_test_var='a';nm_test_func;return 0;}\n-EOF\n-\n-  if AC_TRY_EVAL(ac_compile); then\n-    # Now try to grab the symbols.\n-    ac_nlist=conftest.nm\n-  \n-    if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n-\n-      # Try sorting and uniquifying the output.\n-      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n-\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n-      else\n-\trm -f \"$ac_nlist\"T\n-      fi\n-\n-      # Make sure that we snagged all the symbols we need.\n-      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n-\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n-\t  cat <<EOF > conftest.c\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-\n-EOF\n-\t  # Now generate the symbol file.\n-\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n-\n-\t  cat <<EOF >> conftest.c\n-#if defined (__STDC__) && __STDC__\n-# define lt_ptr_t void *\n-#else\n-# define lt_ptr_t char *\n-# define const\n-#endif\n-\n-/* The mapping between symbol names and symbols. */\n-const struct {\n-  const char *name;\n-  lt_ptr_t address;\n-}\n-changequote(,)dnl\n-lt_preloaded_symbols[] =\n-changequote([,])dnl\n-{\n-EOF\n-\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n-\tcat <<\\EOF >> conftest.c\n-  {0, (lt_ptr_t) 0}\n-};\n-\n-#ifdef __cplusplus\n-}\n-#endif\n-EOF\n-\t  # Now try linking the two files.\n-\t  mv conftest.$ac_objext conftestm.$ac_objext\n-\t  ac_save_LIBS=\"$LIBS\"\n-\t  ac_save_CFLAGS=\"$CFLAGS\"\n-\t  LIBS=\"conftestm.$ac_objext\"\n-\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if AC_TRY_EVAL(ac_link) && test -s conftest; then\n-\t    ac_pipe_works=yes\n-\t  else\n-\t    echo \"configure: failed program was:\" >&AC_FD_CC\n-\t    cat conftest.c >&AC_FD_CC\n-\t  fi\n-\t  LIBS=\"$ac_save_LIBS\"\n-\t  CFLAGS=\"$ac_save_CFLAGS\"\n-\telse\n-\t  echo \"cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n-\tfi\n-      else\n-\techo \"cannot find nm_test_var in $ac_nlist\" >&AC_FD_CC\n-      fi\n-    else\n-      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n-    fi\n-  else\n-    echo \"$progname: failed program was:\" >&AC_FD_CC\n-    cat conftest.c >&AC_FD_CC\n-  fi\n-  rm -rf conftest*\n-\n-  # Do not use the global_symbol_pipe unless it works.\n-  if test \"$ac_pipe_works\" = yes; then\n-    if test x\"$ac_symprfx\" = x\"_\"; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      ac_cv_sys_symbol_underscore=no\n-    fi\n-    break\n-  else\n-    ac_cv_sys_global_symbol_pipe=\n-  fi\n-done\n-])\n-\n-ac_result=yes\n-if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n-   ac_result=no\n-fi\n-AC_MSG_RESULT($ac_result)\n-])\n-\n-# AC_SYS_LIBTOOL_CYGWIN - find tools needed on cygwin\n-AC_DEFUN(AC_SYS_LIBTOOL_CYGWIN,\n-[AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n-AC_CHECK_TOOL(AS, as, false)\n-])\n-\n-# AC_SYS_SYMBOL_UNDERSCORE - does the compiler prefix global symbols\n-#                            with an underscore?\n-AC_DEFUN(AC_SYS_SYMBOL_UNDERSCORE,\n-[AC_REQUIRE([AC_PROG_NM])dnl\n-AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n-AC_MSG_CHECKING([for _ prefix in compiled symbols])\n-AC_CACHE_VAL(ac_cv_sys_symbol_underscore,\n-[ac_cv_sys_symbol_underscore=no\n-cat > conftest.$ac_ext <<EOF\n-void nm_test_func(){}\n-int main(){nm_test_func;return 0;}\n-EOF\n-if AC_TRY_EVAL(ac_compile); then\n-  # Now try to grab the symbols.\n-  ac_nlist=conftest.nm\n-  if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n-    # See whether the symbols have a leading underscore.\n-    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n-\t:\n-      else\n-\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n-      fi\n-    fi\n-  else\n-    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n-  fi\n-else\n-  echo \"configure: failed program was:\" >&AC_FD_CC\n-  cat conftest.c >&AC_FD_CC\n-fi\n-rm -rf conftest*\n-])\n-AC_MSG_RESULT($ac_cv_sys_symbol_underscore)\n-USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n-AC_SUBST(USE_SYMBOL_UNDERSCORE)dnl\n-])\n-\n-# AC_CHECK_LIBM - check for math library\n-AC_DEFUN(AC_CHECK_LIBM, [\n-AC_CHECK_LIB(mw, _mwvalidcheckl)\n-AC_CHECK_LIB(m, cos)\n ])\n \n # AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for\n@@ -1776,13 +1600,14 @@ AC_CHECK_LIB(m, cos)\n # '${top_builddir}/' (note the single quotes!) if your package is not\n # flat, and, if you're not using automake, define top_builddir as\n # appropriate in the Makefiles.\n-AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [\n+AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n   case \"$enable_ltdl_convenience\" in\n   no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;\n   \"\") enable_ltdl_convenience=yes\n       ac_configure_args=\"$ac_configure_args --enable-ltdl-convenience\" ;;\n   esac\n   LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdlc.la\n+  INCLTDL=ifelse($#,1,-I$1,['-I${top_builddir}/libltdl'])\n ])\n \n # AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for\n@@ -1794,16 +1619,23 @@ AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [\n # flat, and, if you're not using automake, define top_builddir as\n # appropriate in the Makefiles.\n # In the future, this macro may have to be called after AC_PROG_LIBTOOL.\n-AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [\n-  AC_CHECK_LIB(ltdl, main, LIBLTDL=\"-lltdl\", [\n-    case \"$enable_ltdl_install\" in\n-    no) AC_MSG_WARN([libltdl not installed, but installation disabled]) ;;\n-    \"\") enable_ltdl_install=yes\n-        ac_configure_args=\"$ac_configure_args --enable-ltdl-install\" ;;\n-    esac\n+AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+  AC_CHECK_LIB(ltdl, main,\n+  [test x\"$enable_ltdl_install\" != xyes && enable_ltdl_install=no],\n+  [if test x\"$enable_ltdl_install\" = xno; then\n+     AC_MSG_WARN([libltdl not installed, but installation disabled])\n+   else\n+     enable_ltdl_install=yes\n+   fi\n   ])\n-  if test x\"$enable_ltdl_install\" != x\"no\"; then\n+  if test x\"$enable_ltdl_install\" = x\"yes\"; then\n+    ac_configure_args=\"$ac_configure_args --enable-ltdl-install\"\n     LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdl.la\n+    INCLTDL=ifelse($#,1,-I$1,['-I${top_builddir}/libltdl'])\n+  else\n+    ac_configure_args=\"$ac_configure_args --enable-ltdl-install=no\"\n+    LIBLTDL=\"-lltdl\"\n+    INCLTDL=\n   fi\n ])\n \n@@ -1815,9 +1647,9 @@ AC_DEFUN(AM_DISABLE_SHARED, [indir([AC_DISABLE_SHARED], $@)])dnl\n AC_DEFUN(AM_DISABLE_STATIC, [indir([AC_DISABLE_STATIC], $@)])dnl\n AC_DEFUN(AM_PROG_LD, [indir([AC_PROG_LD])])dnl\n AC_DEFUN(AM_PROG_NM, [indir([AC_PROG_NM])])dnl\n-AC_DEFUN(AM_SYS_NM_PARSE, [indir([AC_SYS_NM_PARSE])])dnl\n-AC_DEFUN(AM_SYS_SYMBOL_UNDERSCORE, [indir([AC_SYS_SYMBOL_UNDERSCORE])])dnl\n-AC_DEFUN(AM_SYS_LIBTOOL_CYGWIN, [indir([AC_SYS_LIBTOOL_CYGWIN])])dnl\n+\n+dnl This is just to silence aclocal about the macro not being used\n+ifelse([AC_DISABLE_FAST_INSTALL])dnl\n \n # Like AC_CONFIG_HEADER, but automatically create stamp file.\n "}, {"sha": "a8c606a8961ba3b315d35d4f1a496a3d2c80a498", "filename": "libstdc++-v3/bits/char_traits.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Fchar_traits.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Fchar_traits.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Fchar_traits.h?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -194,8 +194,8 @@ namespace std {\n       to_char_type(const int_type& __c)\n       { return static_cast<char>(__c); }\n \n-      //  To keep both the byte 0xff and the eof symbol 0xffffffff\n-      //  from ending up as 0xffffffff.\n+      // To keep both the byte 0xff and the eof symbol 0xffffffff\n+      // from ending up as 0xffffffff.\n       static int_type \n       to_int_type(const char_type& __c)\n       { return static_cast<int_type>(static_cast<unsigned char>(__c)); }\n@@ -247,7 +247,7 @@ namespace std {\n \n       static size_t\n       length(const char_type* __s)\n-      { return wcslen (__s); }\n+      { return wcslen(__s); }\n \n       static const char_type* \n       find(const char_type* __s, size_t __n, const char_type& __a)"}, {"sha": "45fcccb12dc2478acf2fec3c089d6484fef64550", "filename": "libstdc++-v3/bits/limits_generic.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Flimits_generic.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Flimits_generic.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Flimits_generic.h?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -41,7 +41,7 @@\n #include <bits/c++config.h>\n #include <bits/std_cfloat.h>\n #include <bits/std_climits.h>\n-#if defined( _GLIBCPP_USE_WCHAR_T) && defined(_GLIBCPP_HAS_WCHAR_MIN_MAX)\n+#if defined( _GLIBCPP_USE_WCHAR_T) \n #include <bits/std_cwchar.h>\n #endif\n \n@@ -299,7 +299,7 @@ namespace std {\n         static const float_round_style round_style = round_toward_zero;\n     };\n \n-#if defined( _GLIBCPP_USE_WCHAR_T) && defined(_GLIBCPP_HAS_WCHAR_MIN_MAX)\n+#if defined( _GLIBCPP_USE_WCHAR_T) \n     template<> struct numeric_limits<wchar_t> {\n         static const bool is_specialized = true;\n "}, {"sha": "a78e95e279d0475b365781c0ee61f9c734d71d2d", "filename": "libstdc++-v3/bits/std_cwchar.h", "status": "modified", "additions": 8, "deletions": 41, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Fstd_cwchar.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Fstd_cwchar.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Fstd_cwchar.h?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -37,54 +37,21 @@\n #define _CPP_CWCHAR 1\n \n #include <bits/c++config.h>\n-#ifdef _GLIBCPP_USE_WCHAR_T\n+\n+#if _GLIBCPP_USE_WCHAR_T\n  # pragma system_header\n  # include_next <wchar.h>\n-#endif \n-\n-extern \"C\" {\n-\n-#ifdef _GLIBCPP_USE_WCHAR_T\n-\n-#ifndef _GLIBCPP_HAVE_WMEMCMP\n-  int wmemcmp(const wchar_t* __s1, const wchar_t* __s2, size_t __n);\n-#endif\n-\n-#ifndef _GLIBCPP_HAVE_WCSLEN\n-  size_t wcslen(const wchar_t* __s);\n-#endif\n-\n-#ifndef _GLIBCPP_HAVE_WMEMCHR\n-  wchar_t* wmemchr(const wchar_t* __s, wchar_t __c, size_t __n);\n-#endif\n-\n-#ifndef _GLIBCPP_HAVE_WMEMMOVE\n-  wchar_t* wmemmove(wchar_t* __s1, const wchar_t* __s2, size_t __n);\n-#endif\n-\n-#ifndef _GLIBCPP_HAVE_WMEMCPY\n-  wchar_t* wmemcpy(wchar_t* __s1, const wchar_t* __s2, size_t __n);\n-#endif\n-\n-#ifndef _GLIBCPP_HAVE_WMEMSET\n-  wchar_t* wmemset(wchar_t* __s, wchar_t __c, size_t __n);\n-#endif\n-\n-#endif //_GLIBCPP_USE_WCHAR_T\n-\n-// NB: mbstate_t should be defined in <cwchar>, as per \n-// 21.2 p5\n-// If not, autoconf will\n-// detect this with some configure time magic and define\n-// _GLIBCPP_NEED_MBSTATE_T (see config.h in the build directory.)\n-#ifdef _GLIBCPP_NEED_MBSTATE_T\n+#else\n+# ifdef _GLIBCPP_NEED_MBSTATE_T\n+extern \"C\" \n+{\n   typedef struct \n   {\n     int __fill[6];\n   } mbstate_t;\n-#endif\n }\n-\n+#  endif\n+#endif //_GLIBCPP_USE_WCHAR_T\n \n #endif // _CPP_CWCHAR\n "}, {"sha": "a74606284ed7f7de6d71aef18bdb0a379c35cb1c", "filename": "libstdc++-v3/bits/std_cwctype.h", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Fstd_cwctype.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fbits%2Fstd_cwctype.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Fstd_cwctype.h?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -1,6 +1,6 @@\n // -*- C++ -*- forwarding header.\n \n-// Copyright (C) 1997-1999 Free Software Foundation, Inc.\n+// Copyright (C) 1997-1999, 2000 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -34,11 +34,6 @@\n #ifndef _CPP_CWCTYPE\n #define _CPP_CWCTYPE 1\n \n-// This keeps isanum, et al from being propagated as macros.\n-#if __linux__\n-#define __NO_WCTYPE 1\n-#endif\n-\n # pragma system_header\n # include_next <wctype.h>\n "}, {"sha": "44af55539c80f14b8ccdae7e82c7b03f72f38daa", "filename": "libstdc++-v3/config.h.in", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig.h.in?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -12,11 +12,6 @@\n // around.\n #undef _GLIBCPP_NEED_MBSTATE_T\n \n-// Define if WCHAR_MIN and WCHAR_MAX are in the <cwchar_t>\n-// header. Presently, this is needed so that solaris won't\n-// instantitate numeric_limits<wchar_t>\n-#undef _GLIBCPP_HAS_WCHAR_MIN_MAX\n-\n // Define if code specialized for wchar_t should be used.\n #undef _GLIBCPP_USE_WCHAR_T\n \n@@ -290,6 +285,15 @@\n /* Define if you have the hypotl function.  */\n #undef HAVE_HYPOTL\n \n+/* Define if you have the iconv function.  */\n+#undef HAVE_ICONV\n+\n+/* Define if you have the iconv_close function.  */\n+#undef HAVE_ICONV_CLOSE\n+\n+/* Define if you have the iconv_open function.  */\n+#undef HAVE_ICONV_OPEN\n+\n /* Define if you have the isinf function.  */\n #undef HAVE_ISINF\n "}, {"sha": "3ec9382c586bfdfc665f64105c9e247e1f617e6b", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 402, "deletions": 623, "changes": 1025, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -30,7 +30,7 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\"\n ac_help=\"$ac_help\n-  --disable-libtool-lock  force libtool not to do file locking\"\n+  --disable-libtool-lock  avoid locking (might break parallel builds)\"\n ac_help=\"$ac_help\n   --enable-debug          extra debugging, turn off optimization [default=no]\"\n ac_help=\"$ac_help\n@@ -64,7 +64,6 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n-sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -179,7 +178,6 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n-  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -350,11 +348,6 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n-  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n-    ac_prev=sitefile ;;\n-  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n-    sitefile=\"$ac_optarg\" ;;\n-\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -520,16 +513,12 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$sitefile\"; then\n-  if test -z \"$CONFIG_SITE\"; then\n-    if test \"x$prefix\" != xNONE; then\n-      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-    else\n-      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n-    fi\n+if test -z \"$CONFIG_SITE\"; then\n+  if test \"x$prefix\" != xNONE; then\n+    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+  else\n+    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n   fi\n-else\n-  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -617,7 +606,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:621: checking host system type\" >&5\n+echo \"configure:610: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -638,7 +627,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:642: checking target system type\" >&5\n+echo \"configure:631: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -656,7 +645,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:660: checking build system type\" >&5\n+echo \"configure:649: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -705,7 +694,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:709: checking for a BSD compatible install\" >&5\n+echo \"configure:698: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -758,7 +747,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:762: checking whether build environment is sane\" >&5\n+echo \"configure:751: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -815,7 +804,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:819: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:808: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -848,12 +837,12 @@ else\n fi\n \n echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:852: checking for Cygwin environment\" >&5\n+echo \"configure:841: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 857 \"configure\"\n+#line 846 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -864,7 +853,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:868: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:857: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -881,19 +870,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:885: checking for mingw32 environment\" >&5\n+echo \"configure:874: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 890 \"configure\"\n+#line 879 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:897: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:886: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -940,7 +929,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:944: checking host system type\" >&5\n+echo \"configure:933: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -981,7 +970,7 @@ EOF\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:985: checking for working aclocal\" >&5\n+echo \"configure:974: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -994,7 +983,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:998: checking for working autoconf\" >&5\n+echo \"configure:987: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1007,7 +996,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:1011: checking for working automake\" >&5\n+echo \"configure:1000: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1020,7 +1009,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:1024: checking for working autoheader\" >&5\n+echo \"configure:1013: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1033,7 +1022,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:1037: checking for working makeinfo\" >&5\n+echo \"configure:1026: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1059,7 +1048,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1063: checking for $ac_word\" >&5\n+echo \"configure:1052: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1089,7 +1078,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1093: checking for $ac_word\" >&5\n+echo \"configure:1082: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1138,7 +1127,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1142: checking whether we are using GNU C\" >&5\n+echo \"configure:1131: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1147,7 +1136,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1151: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1140: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1162,7 +1151,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1166: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1155: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1199,7 +1188,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1203: checking for $ac_word\" >&5\n+echo \"configure:1192: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1232,7 +1221,7 @@ test -n \"$CXX\" || CXX=\"gcc\"\n test -z \"$CXX\" && { echo \"configure: error: no acceptable c++ found in \\$PATH\" 1>&2; exit 1; }\n \n echo $ac_n \"checking whether we are using GNU C++\"\"... $ac_c\" 1>&6\n-echo \"configure:1236: checking whether we are using GNU C++\" >&5\n+echo \"configure:1225: checking whether we are using GNU C++\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gxx'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1241,7 +1230,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1245: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1234: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gxx=yes\n else\n   ac_cv_prog_gxx=no\n@@ -1256,7 +1245,7 @@ if test $ac_cv_prog_gxx = yes; then\n   ac_save_CXXFLAGS=\"$CXXFLAGS\"\n   CXXFLAGS=\n   echo $ac_n \"checking whether ${CXX-g++} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1260: checking whether ${CXX-g++} accepts -g\" >&5\n+echo \"configure:1249: checking whether ${CXX-g++} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cxx_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1289,7 +1278,7 @@ fi\n # LIBGCJ_CONFIGURE, which doesn't work because that means that it will\n # be run before AC_CANONICAL_HOST.\n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1293: checking build system type\" >&5\n+echo \"configure:1282: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1310,7 +1299,7 @@ echo \"$ac_t\"\"$build\" 1>&6\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1314: checking for $ac_word\" >&5\n+echo \"configure:1303: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1342,7 +1331,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1346: checking for $ac_word\" >&5\n+echo \"configure:1335: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1374,7 +1363,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1378: checking for $ac_word\" >&5\n+echo \"configure:1367: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1406,7 +1395,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1410: checking for $ac_word\" >&5\n+echo \"configure:1399: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1451,7 +1440,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1455: checking for a BSD compatible install\" >&5\n+echo \"configure:1444: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1505,7 +1494,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:1509: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:1498: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -1539,7 +1528,7 @@ if false; then\n   \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1543: checking for executable suffix\" >&5\n+echo \"configure:1532: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1549,10 +1538,10 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1553: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1542: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n-      *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n+      *.c | *.o | *.obj) ;;\n       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n       esac\n     done\n@@ -1590,7 +1579,7 @@ GLIBCPP_CXXFLAGS=\"${glibcpp_cxxflags}\"\n \n \n \n-lt_dlopen=yes\n+\n # Check whether --enable-shared or --disable-shared was given.\n if test \"${enable_shared+set}\" = set; then\n   enableval=\"$enable_shared\"\n@@ -1663,7 +1652,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1667: checking for $ac_word\" >&5\n+echo \"configure:1656: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1702,11 +1691,11 @@ ac_prog=ld\n if test \"$ac_cv_prog_gcc\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1706: checking for ld used by GCC\" >&5\n+echo \"configure:1695: checking for ld used by GCC\" >&5\n   ac_prog=`($CC -print-prog-name=ld) 2>&5`\n   case \"$ac_prog\" in\n     # Accept absolute paths.\n-    /* | [A-Za-z]:[\\\\/]*)\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n       re_direlt='/[^/][^/]*/\\.\\./'\n       # Canonicalize the path of ld\n       ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n@@ -1726,19 +1715,19 @@ echo \"configure:1706: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1730: checking for GNU ld\" >&5\n+echo \"configure:1719: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1733: checking for non-GNU ld\" >&5\n+echo \"configure:1722: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n   for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\"; then\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n       ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n       # Check to see if the program is GNU ld.  I'd rather use --version,\n       # but apparently some GNU ld's only accept -v.\n@@ -1763,9 +1752,8 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n-\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1769: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1757: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1781,18 +1769,18 @@ echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n \n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1785: checking for BSD-compatible nm\" >&5\n+echo \"configure:1773: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$NM\"; then\n   # Let the user override the test.\n   ac_cv_path_NM=\"$NM\"\n else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/nm; then\n+    if test -f $ac_dir/nm || test -f $ac_dir/nm$ac_exeext ; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n@@ -1816,213 +1804,8 @@ fi\n NM=\"$ac_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n-\n-# Check for command to grab the raw symbol name followed by C symbol from nm.\n-echo $ac_n \"checking command to parse $NM output\"\"... $ac_c\" 1>&6\n-echo \"configure:1823: checking command to parse $NM output\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_sys_global_symbol_pipe'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  # These are sane defaults that work on at least a few old systems.\n-# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n-\n-# Character class describing NM global symbol codes.\n-ac_symcode='[BCDEGRST]'\n-\n-# Regexp to match symbols that can be accessed directly from C.\n-ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n-\n-# Transform the above into a raw symbol and a C symbol.\n-ac_symxfrm='\\1 \\2\\3 \\3'\n-\n-# Transform an extracted symbol line into a proper C declaration\n-ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n-\n-# Define system-specific variables.\n-case \"$host_os\" in\n-aix*)\n-  ac_symcode='[BCDT]'\n-  ;;\n-cygwin* | mingw*)\n-  ac_symcode='[ABCDGISTW]'\n-  ;;\n-hpux*)\n-  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n-  ;;\n-irix*)\n-  ac_symcode='[BCDEGRST]'\n-  ;;\n-solaris*)\n-  ac_symcode='[BDT]'\n-  ;;\n-esac\n-\n-# If we're using GNU nm, then use its standard symbol codes.\n-if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n-  ac_symcode='[ABCDGISTW]'\n-fi\n-\n-# Try without a prefix undercore, then with it.\n-for ac_symprfx in \"\" \"_\"; do\n-\n-  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.* \t\\($ac_symcode\\) \t \t*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n-\n-  # Check to see that the pipe works correctly.\n-  ac_pipe_works=no\n-  rm -f conftest.$ac_ext\n-  cat > conftest.$ac_ext <<EOF\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-char nm_test_var;\n-void nm_test_func(){}\n-#ifdef __cplusplus\n-}\n-#endif\n-int main(){nm_test_var='a';nm_test_func;return 0;}\n-EOF\n-\n-  if { (eval echo configure:1886: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-    # Now try to grab the symbols.\n-    ac_nlist=conftest.nm\n-  \n-    if { (eval echo configure:1890: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n-\n-      # Try sorting and uniquifying the output.\n-      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n-\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n-      else\n-\trm -f \"$ac_nlist\"T\n-      fi\n-\n-      # Make sure that we snagged all the symbols we need.\n-      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n-\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n-\t  cat <<EOF > conftest.c\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-\n-EOF\n-\t  # Now generate the symbol file.\n-\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n-\n-\t  cat <<EOF >> conftest.c\n-#if defined (__STDC__) && __STDC__\n-# define lt_ptr_t void *\n-#else\n-# define lt_ptr_t char *\n-# define const\n-#endif\n-\n-/* The mapping between symbol names and symbols. */\n-const struct {\n-  const char *name;\n-  lt_ptr_t address;\n-}\n-lt_preloaded_symbols[] =\n-{\n-EOF\n-\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n-\tcat <<\\EOF >> conftest.c\n-  {0, (lt_ptr_t) 0}\n-};\n-\n-#ifdef __cplusplus\n-}\n-#endif\n-EOF\n-\t  # Now try linking the two files.\n-\t  mv conftest.$ac_objext conftestm.$ac_objext\n-\t  ac_save_LIBS=\"$LIBS\"\n-\t  ac_save_CFLAGS=\"$CFLAGS\"\n-\t  LIBS=\"conftestm.$ac_objext\"\n-\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if { (eval echo configure:1942: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n-\t    ac_pipe_works=yes\n-\t  else\n-\t    echo \"configure: failed program was:\" >&5\n-\t    cat conftest.c >&5\n-\t  fi\n-\t  LIBS=\"$ac_save_LIBS\"\n-\t  CFLAGS=\"$ac_save_CFLAGS\"\n-\telse\n-\t  echo \"cannot find nm_test_func in $ac_nlist\" >&5\n-\tfi\n-      else\n-\techo \"cannot find nm_test_var in $ac_nlist\" >&5\n-      fi\n-    else\n-      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n-    fi\n-  else\n-    echo \"$progname: failed program was:\" >&5\n-    cat conftest.c >&5\n-  fi\n-  rm -rf conftest*\n-\n-  # Do not use the global_symbol_pipe unless it works.\n-  if test \"$ac_pipe_works\" = yes; then\n-    if test x\"$ac_symprfx\" = x\"_\"; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      ac_cv_sys_symbol_underscore=no\n-    fi\n-    break\n-  else\n-    ac_cv_sys_global_symbol_pipe=\n-  fi\n-done\n-\n-fi\n-\n-\n-ac_result=yes\n-if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n-   ac_result=no\n-fi\n-echo \"$ac_t\"\"$ac_result\" 1>&6\n-\n-echo $ac_n \"checking for _ prefix in compiled symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:1988: checking for _ prefix in compiled symbols\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_sys_symbol_underscore'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  ac_cv_sys_symbol_underscore=no\n-cat > conftest.$ac_ext <<EOF\n-void nm_test_func(){}\n-int main(){nm_test_func;return 0;}\n-EOF\n-if { (eval echo configure:1997: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-  # Now try to grab the symbols.\n-  ac_nlist=conftest.nm\n-  if { (eval echo configure:2000: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n-    # See whether the symbols have a leading underscore.\n-    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n-\t:\n-      else\n-\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&5\n-      fi\n-    fi\n-  else\n-    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n-  fi\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.c >&5\n-fi\n-rm -rf conftest*\n-\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_sys_symbol_underscore\" 1>&6\n-USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n-\n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:2026: checking whether ln -s works\" >&5\n+echo \"configure:1809: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2043,23 +1826,36 @@ else\n fi\n \n \n+case \"$target\" in\n+NONE) lt_target=\"$host\" ;;\n+*) lt_target=\"$target\" ;;\n+esac\n+\n # Check for any special flags to pass to ltconfig.\n libtool_flags=\"--cache-file=$cache_file\"\n test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n-test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n-test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+libtool_flags=\"$libtool_flags --enable-dlopen\"\n+\n+# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n+if test \"${enable_libtool_lock+set}\" = set; then\n+  enableval=\"$enable_libtool_lock\"\n+  :\n+fi\n+\n+test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n+test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n \n # Some flags need to be propagated to the compiler or linker for good\n # libtool support.\n-case \"$host\" in\n+case \"$lt_target\" in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 2062 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:2063: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 1858 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:1859: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -2080,19 +1876,19 @@ case \"$host\" in\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:2084: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:1880: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2089 \"configure\"\n+#line 1885 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2096: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1892: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -2111,161 +1907,9 @@ echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n   fi\n   ;;\n \n-*-*-cygwin*)\n-  # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2119: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$DLLTOOL\"; then\n-  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DLLTOOL=\"${ac_tool_prefix}dlltool\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-fi\n-fi\n-DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n-if test -n \"$DLLTOOL\"; then\n-  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-\n-if test -z \"$ac_cv_prog_DLLTOOL\"; then\n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"dlltool\", so it can be a program name with args.\n-set dummy dlltool; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2151: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$DLLTOOL\"; then\n-  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DLLTOOL=\"dlltool\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_DLLTOOL\" && ac_cv_prog_DLLTOOL=\"false\"\n-fi\n-fi\n-DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n-if test -n \"$DLLTOOL\"; then\n-  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-else\n-  DLLTOOL=\"false\"\n-fi\n-fi\n-\n-# Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}as; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2186: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$AS\"; then\n-  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-fi\n-fi\n-AS=\"$ac_cv_prog_AS\"\n-if test -n \"$AS\"; then\n-  echo \"$ac_t\"\"$AS\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-\n-if test -z \"$ac_cv_prog_AS\"; then\n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"as\", so it can be a program name with args.\n-set dummy as; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2218: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$AS\"; then\n-  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_AS=\"as\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"false\"\n-fi\n-fi\n-AS=\"$ac_cv_prog_AS\"\n-if test -n \"$AS\"; then\n-  echo \"$ac_t\"\"$AS\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-else\n-  AS=\"false\"\n-fi\n-fi\n-\n-\n-  ;;\n \n esac\n \n-# enable the --disable-libtool-lock switch\n-\n-# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n-if test \"${enable_libtool_lock+set}\" = set; then\n-  enableval=\"$enable_libtool_lock\"\n-  need_locks=$enableval\n-else\n-  need_locks=yes\n-fi\n-\n-\n-if test x\"$need_locks\" = xno; then\n-  libtool_flags=\"$libtool_flags --disable-lock\"\n-fi\n-\n \n # Save cache, so that ltconfig can load it\n cat > confcache <<\\EOF\n@@ -2318,10 +1962,11 @@ rm -f confcache\n \n # Actually configure libtool.  ac_aux_dir is where install-sh is found.\n CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n+LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" OBJDUMP=\"$OBJDUMP\" \\\n ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n+$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $lt_target \\\n || { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n \n # Reload cache, that may have been modified by ltconfig\n@@ -2350,7 +1995,7 @@ exec 5>>./config.log\n \n # Check for c++ or library specific bits that don't require linking.\n echo $ac_n \"checking how to run the C++ preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2354: checking how to run the C++ preprocessor\" >&5\n+echo \"configure:1999: checking how to run the C++ preprocessor\" >&5\n if test -z \"$CXXCPP\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXXCPP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2363,12 +2008,12 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n   CXXCPP=\"${CXX-g++} -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2367 \"configure\"\n+#line 2012 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2372: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2017: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2410,9 +2055,9 @@ cross_compiling=$ac_cv_prog_cxx_cross\n \n   # Sanity check that g++ is capable of dealing with v-3.\n   echo $ac_n \"checking for g++ that will successfully compile this code\"\"... $ac_c\" 1>&6\n-echo \"configure:2414: checking for g++ that will successfully compile this code\" >&5\n+echo \"configure:2059: checking for g++ that will successfully compile this code\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 2416 \"configure\"\n+#line 2061 \"configure\"\n #include \"confdefs.h\"\n \n   #if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 95) \n@@ -2434,18 +2079,18 @@ rm -f conftest*\n \n   # Check for pragma system_header.\n   echo $ac_n \"checking for g++ that supports pragma system_header\"\"... $ac_c\" 1>&6\n-echo \"configure:2438: checking for g++ that supports pragma system_header\" >&5\n+echo \"configure:2083: checking for g++ that supports pragma system_header\" >&5\n   CXXFLAGS='-Wunknown-pragmas -Werror'\n   cat > conftest.$ac_ext <<EOF\n-#line 2441 \"configure\"\n+#line 2086 \"configure\"\n #include \"confdefs.h\"\n #pragma system_header\n int main() {\n int foo;\n   \n ; return 0; }\n EOF\n-if { (eval echo configure:2449: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2094: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_newpragma=yes\n else\n@@ -2468,18 +2113,18 @@ rm -f conftest*\n \n   # Check for more sophisticated diagnostic control.\n   echo $ac_n \"checking for g++ that supports -fdiagnostics-show-location=once\"\"... $ac_c\" 1>&6\n-echo \"configure:2472: checking for g++ that supports -fdiagnostics-show-location=once\" >&5\n+echo \"configure:2117: checking for g++ that supports -fdiagnostics-show-location=once\" >&5\n   CXXFLAGS='-fdiagnostics-show-location=once'\n   cat > conftest.$ac_ext <<EOF\n-#line 2475 \"configure\"\n+#line 2120 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n int foo;\n   \n ; return 0; }\n EOF\n-if { (eval echo configure:2483: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2128: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_gabydiags=yes\n else\n@@ -2512,7 +2157,7 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n \n     echo $ac_n \"checking for cpu primitives directory\"\"... $ac_c\" 1>&6\n-echo \"configure:2516: checking for cpu primitives directory\" >&5\n+echo \"configure:2161: checking for cpu primitives directory\" >&5\n     CPUFLAGS=\t\t\t\n     case \"$target_cpu\" in\n       alpha*)\n@@ -2569,7 +2214,7 @@ esac\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2573: checking how to run the C preprocessor\" >&5\n+echo \"configure:2218: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2584,13 +2229,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2588 \"configure\"\n+#line 2233 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2594: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2239: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2601,13 +2246,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2605 \"configure\"\n+#line 2250 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2611: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2256: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2618,13 +2263,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2622 \"configure\"\n+#line 2267 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2628: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2273: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2650,7 +2295,7 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n \n   echo $ac_n \"checking for cstdio to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2654: checking for cstdio to use\" >&5\n+echo \"configure:2299: checking for cstdio to use\" >&5\n   # Check whether --enable-cstdio or --disable-cstdio was given.\n if test \"${enable_cstdio+set}\" = set; then\n   enableval=\"$enable_cstdio\"\n@@ -2674,17 +2319,17 @@ fi\n \t\t# see if we are on a system with libio native (ie, linux)\n   \t\tac_safe=`echo \"libio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2678: checking for libio.h\" >&5\n+echo \"configure:2323: checking for libio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2683 \"configure\"\n+#line 2328 \"configure\"\n #include \"confdefs.h\"\n #include <libio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2688: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2333: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2719,17 +2364,17 @@ fi\n \t\t# NB: This replaces the _G_CONFIG_H machinery in libio-v2\n \t\tac_safe=`echo \"_G_config.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for _G_config.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2723: checking for _G_config.h\" >&5\n+echo \"configure:2368: checking for _G_config.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2728 \"configure\"\n+#line 2373 \"configure\"\n #include \"confdefs.h\"\n #include <_G_config.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2733: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2378: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2788,8 +2433,6 @@ else\n fi\n \n   \n-  echo $ac_n \"checking for enabled long long\"\"... $ac_c\" 1>&6\n-echo \"configure:2793: checking for enabled long long\" >&5\n   # Check whether --enable-long-long or --disable-long-long was given.\n if test \"${enable_long_long+set}\" = set; then\n   enableval=\"$enable_long_long\"\n@@ -2804,12 +2447,12 @@ fi\n \n   # Check for the existance of functions used if long long is enabled.\n   echo $ac_n \"checking for strtoll\"\"... $ac_c\" 1>&6\n-echo \"configure:2808: checking for strtoll\" >&5\n+echo \"configure:2451: checking for strtoll\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strtoll'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2813 \"configure\"\n+#line 2456 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char strtoll(); below.  */\n@@ -2832,7 +2475,7 @@ strtoll();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2836: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2479: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_strtoll=yes\"\n else\n@@ -2853,12 +2496,12 @@ ac_strtoll=no\n fi\n \n   echo $ac_n \"checking for strtoull\"\"... $ac_c\" 1>&6\n-echo \"configure:2857: checking for strtoull\" >&5\n+echo \"configure:2500: checking for strtoull\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strtoull'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2862 \"configure\"\n+#line 2505 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char strtoull(); below.  */\n@@ -2881,7 +2524,7 @@ strtoull();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2885: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2528: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_strtoull=yes\"\n else\n@@ -2902,11 +2545,13 @@ ac_strtoull=no\n fi\n \n \n+  echo $ac_n \"checking for enabled long long\"\"... $ac_c\" 1>&6\n+echo \"configure:2550: checking for enabled long long\" >&5\n   if test x\"$ac_strtoll\" = xno || test x\"$ac_strtoull\" = xno; then \n-\tenable_long_long=no; \n-  fi; unset ac_ll\n-\n+    enable_long_long=no; \n+  fi; \n   echo \"$ac_t\"\"$enable_long_long\" 1>&6\n+\n     case \"$enable_long_long\" in\n     yes)  cat >> confdefs.h <<\\EOF\n #define _GLIBCPP_USE_LONG_LONG 1\n@@ -2916,7 +2561,7 @@ EOF\n   esac\n \n echo $ac_n \"checking for enabled cshadow headers\"\"... $ac_c\" 1>&6\n-echo \"configure:2920: checking for enabled cshadow headers\" >&5\n+echo \"configure:2565: checking for enabled cshadow headers\" >&5\n # Check whether --enable-cshadow-headers or --disable-cshadow-headers was given.\n if test \"${enable_cshadow_headers+set}\" = set; then\n   enableval=\"$enable_cshadow_headers\"\n@@ -2957,7 +2602,7 @@ fi\n \n \n       echo $ac_n \"checking for threads package to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2961: checking for threads package to use\" >&5\n+echo \"configure:2606: checking for threads package to use\" >&5\n   # Check whether --enable-threads or --disable-threads was given.\n if test \"${enable_threads+set}\" = set; then\n   enableval=\"$enable_threads\"\n@@ -3020,17 +2665,17 @@ fi\n     posix)\n       ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3024: checking for pthread.h\" >&5\n+echo \"configure:2669: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3029 \"configure\"\n+#line 2674 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3034: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2679: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3219,17 +2864,17 @@ else\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3223: checking for $ac_hdr\" >&5\n+echo \"configure:2868: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3228 \"configure\"\n+#line 2873 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3233: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2878: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3259,7 +2904,7 @@ done\n   \n   \n   echo $ac_n \"checking for GNU C++ __complex__ support\"\"... $ac_c\" 1>&6\n-echo \"configure:3263: checking for GNU C++ __complex__ support\" >&5\n+echo \"configure:2908: checking for GNU C++ __complex__ support\" >&5\n   if eval \"test \\\"`echo '$''{'glibcpp_cv_complex'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3273,7 +2918,7 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n     cat > conftest.$ac_ext <<EOF\n-#line 3277 \"configure\"\n+#line 2922 \"configure\"\n #include \"confdefs.h\"\n struct dcomplex { __complex__ double x; }; \\\n \t\t    dcomplex f(const dcomplex& x) { return dcomplex(x); }\n@@ -3282,7 +2927,7 @@ int main() {\n \t\t     dcomplex x; f(x); \n ; return 0; }\n EOF\n-if { (eval echo configure:3286: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2931: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcpp_cv_complex=ok\n else\n@@ -3314,7 +2959,7 @@ EOF\n   \n   \n   echo $ac_n \"checking for GNU C++ __complex__ float support\"\"... $ac_c\" 1>&6\n-echo \"configure:3318: checking for GNU C++ __complex__ float support\" >&5\n+echo \"configure:2963: checking for GNU C++ __complex__ float support\" >&5\n   if eval \"test \\\"`echo '$''{'glibcpp_cv_float_complex'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3347,14 +2992,14 @@ cross_compiling=$ac_cv_prog_cxx_cross\n       };\n EOB\n     cat > conftest.$ac_ext <<EOF\n-#line 3351 \"configure\"\n+#line 2996 \"configure\"\n #include \"confdefs.h\"\n #include \"conftest.h\"\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3358: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3003: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcpp_cv_float_complex=ok\n else\n@@ -3385,16 +3030,16 @@ EOF\n \n   \n     echo $ac_n \"checking for __builtin_sinf\"\"... $ac_c\" 1>&6\n-echo \"configure:3389: checking for __builtin_sinf\" >&5\n+echo \"configure:3034: checking for __builtin_sinf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3391 \"configure\"\n+#line 3036 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_sinf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:3398: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3043: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_sinf=yes\n else\n@@ -3413,16 +3058,16 @@ EOF\n   fi\n \n   echo $ac_n \"checking for __builtin_cosf\"\"... $ac_c\" 1>&6\n-echo \"configure:3417: checking for __builtin_cosf\" >&5\n+echo \"configure:3062: checking for __builtin_cosf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3419 \"configure\"\n+#line 3064 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_cosf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:3426: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3071: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_cosf=yes\n else\n@@ -3441,16 +3086,16 @@ EOF\n   fi\n \n   echo $ac_n \"checking for __builtin_fabsf\"\"... $ac_c\" 1>&6\n-echo \"configure:3445: checking for __builtin_fabsf\" >&5\n+echo \"configure:3090: checking for __builtin_fabsf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3447 \"configure\"\n+#line 3092 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_fabsf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:3454: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3099: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_fabsf=yes\n else\n@@ -3469,16 +3114,16 @@ EOF\n   fi\n \n   echo $ac_n \"checking for __builtin_sqrtf\"\"... $ac_c\" 1>&6\n-echo \"configure:3473: checking for __builtin_sqrtf\" >&5\n+echo \"configure:3118: checking for __builtin_sqrtf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3475 \"configure\"\n+#line 3120 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_sqrtf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:3482: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3127: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_sqrtf=yes\n else\n@@ -3498,15 +3143,15 @@ EOF\n \n   \n   echo $ac_n \"checking for sin in -lm\"\"... $ac_c\" 1>&6\n-echo \"configure:3502: checking for sin in -lm\" >&5\n+echo \"configure:3147: checking for sin in -lm\" >&5\n ac_lib_var=`echo m'_'sin | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lm  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3510 \"configure\"\n+#line 3155 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3517,7 +3162,7 @@ int main() {\n sin()\n ; return 0; }\n EOF\n-if { (eval echo configure:3521: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3166: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3544,17 +3189,17 @@ fi\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3548: checking for $ac_hdr\" >&5\n+echo \"configure:3193: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3553 \"configure\"\n+#line 3198 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3558: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3203: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3586,12 +3231,12 @@ done\n   carg cargf nan hypot hypotf atan2f expf copysignf\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3590: checking for $ac_func\" >&5\n+echo \"configure:3235: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3595 \"configure\"\n+#line 3240 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3614,7 +3259,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3618: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3263: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3643,12 +3288,12 @@ done\n \n       USE_LONG_DOUBLE=no\n   echo $ac_n \"checking for copysignl\"\"... $ac_c\" 1>&6\n-echo \"configure:3647: checking for copysignl\" >&5\n+echo \"configure:3292: checking for copysignl\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_copysignl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3652 \"configure\"\n+#line 3297 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char copysignl(); below.  */\n@@ -3671,7 +3316,7 @@ copysignl();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3675: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3320: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_copysignl=yes\"\n else\n@@ -3690,12 +3335,12 @@ if eval \"test \\\"`echo '$ac_cv_func_'copysignl`\\\" = yes\"; then\n   csqrtl ctanhl ctanl cargl hypotl signbitl c_logl clog10l\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3694: checking for $ac_func\" >&5\n+echo \"configure:3339: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3699 \"configure\"\n+#line 3344 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3718,7 +3363,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3722: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3367: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3756,12 +3401,12 @@ fi\n   fpclass qfpclass\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3760: checking for $ac_func\" >&5\n+echo \"configure:3405: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3765 \"configure\"\n+#line 3410 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3784,7 +3429,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3788: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3433: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3819,12 +3464,12 @@ _strtof _strtold _fabsf _sincos _sincosf _sincosl _finite _finitef _qfinite \\\n _fpclass _qfpclass\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3823: checking for $ac_func\" >&5\n+echo \"configure:3468: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3828 \"configure\"\n+#line 3473 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3847,7 +3492,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3851: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3496: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3875,19 +3520,20 @@ done\n LIBS=\"$save_LIBS\"\n \n   \n-  ac_safe=`echo \"wchar.h\" | sed 'y%./+-%__p_%'`\n+\n+    ac_safe=`echo \"wchar.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for wchar.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3881: checking for wchar.h\" >&5\n+echo \"configure:3527: checking for wchar.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3886 \"configure\"\n+#line 3532 \"configure\"\n #include \"confdefs.h\"\n #include <wchar.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3891: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3537: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3903,18 +3549,60 @@ rm -f conftest*\n fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  \n-    echo $ac_n \"checking for native mbstate_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3909: checking for native mbstate_t\" >&5\n+  ac_has_wchar_h=yes\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+ac_has_wchar_h=no\n+fi\n+\n+  ac_safe=`echo \"wctype.h\" | sed 'y%./+-%__p_%'`\n+echo $ac_n \"checking for wctype.h\"\"... $ac_c\" 1>&6\n+echo \"configure:3561: checking for wctype.h\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n   cat > conftest.$ac_ext <<EOF\n-#line 3911 \"configure\"\n+#line 3566 \"configure\"\n+#include \"confdefs.h\"\n+#include <wctype.h>\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:3571: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=yes\"\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=no\"\n+fi\n+rm -f conftest*\n+fi\n+if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  ac_has_wctype_h=yes\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+ac_has_wctype_h=no\n+fi\n+\n+\t\n+    if test x\"$ac_has_wchar_h\" = xyes && test x\"$ac_has_wctype_h\" = xyes; then\n+\n+        echo $ac_n \"checking for mbstate_t\"\"... $ac_c\" 1>&6\n+echo \"configure:3597: checking for mbstate_t\" >&5\n+    cat > conftest.$ac_ext <<EOF\n+#line 3599 \"configure\"\n #include \"confdefs.h\"\n #include <wchar.h>\n int main() {\n mbstate_t teststate;\n ; return 0; }\n EOF\n-if { (eval echo configure:3918: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3606: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_native_mbstatet=yes\n else\n@@ -3924,25 +3612,25 @@ else\n   use_native_mbstatet=no\n fi\n rm -f conftest*\n-  echo \"$ac_t\"\"$use_native_mbstatet\" 1>&6\n-  if test $use_native_mbstatet = \"no\"; then\n-    cat >> confdefs.h <<\\EOF\n+    echo \"$ac_t\"\"$use_native_mbstatet\" 1>&6\n+    if test x\"$use_native_mbstatet\" = xno; then\n+      cat >> confdefs.h <<\\EOF\n #define _GLIBCPP_NEED_MBSTATE_T 1\n EOF\n \n-  fi\n+    fi\n   \n-      echo $ac_n \"checking for WCHAR_MIN and WCHAR_MAX\"\"... $ac_c\" 1>&6\n-echo \"configure:3937: checking for WCHAR_MIN and WCHAR_MAX\" >&5\n-  cat > conftest.$ac_ext <<EOF\n-#line 3939 \"configure\"\n+            echo $ac_n \"checking for WCHAR_MIN and WCHAR_MAX\"\"... $ac_c\" 1>&6\n+echo \"configure:3625: checking for WCHAR_MIN and WCHAR_MAX\" >&5\n+    cat > conftest.$ac_ext <<EOF\n+#line 3627 \"configure\"\n #include \"confdefs.h\"\n #include <wchar.h>\n int main() {\n int i = WCHAR_MIN; int j = WCHAR_MAX;\n ; return 0; }\n EOF\n-if { (eval echo configure:3946: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3634: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   has_wchar_minmax=yes\n else\n@@ -3952,29 +3640,21 @@ else\n   has_wchar_minmax=no\n fi\n rm -f conftest*\n-  echo \"$ac_t\"\"$has_wchar_minmax\" 1>&6\n-  if test $has_wchar_minmax = \"yes\"; then\n-    cat >> confdefs.h <<\\EOF\n-#define _GLIBCPP_HAS_WCHAR_MIN_MAX 1\n-EOF\n-\n-  fi\n+    echo \"$ac_t\"\"$has_wchar_minmax\" 1>&6\n   \n-  # Test wchar.h for WEOF, which is what we use to determine whether\n-  # to specialize for wchar_t or not.\n-  echo $ac_n \"checking for WEOF\"\"... $ac_c\" 1>&6\n-echo \"configure:3967: checking for WEOF\" >&5\n-  cat > conftest.$ac_ext <<EOF\n-#line 3969 \"configure\"\n+            echo $ac_n \"checking for WEOF\"\"... $ac_c\" 1>&6\n+echo \"configure:3647: checking for WEOF\" >&5\n+    cat > conftest.$ac_ext <<EOF\n+#line 3649 \"configure\"\n #include \"confdefs.h\"\n \n-    #include <wchar.h>\n-    #include <stddef.h>\n+      #include <wchar.h>\n+      #include <stddef.h>\n int main() {\n wint_t i = WEOF;\n ; return 0; }\n EOF\n-if { (eval echo configure:3978: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3658: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   has_weof=yes\n else\n@@ -3984,17 +3664,17 @@ else\n   has_weof=no\n fi\n rm -f conftest*\n-  echo \"$ac_t\"\"$has_weof\" 1>&6\n+    echo \"$ac_t\"\"$has_weof\" 1>&6\n \n-    for ac_func in wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset\n+        for ac_func in wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3993: checking for $ac_func\" >&5\n+echo \"configure:3673: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3998 \"configure\"\n+#line 3678 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4017,7 +3697,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4021: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3701: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4035,56 +3715,160 @@ if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n   cat >> confdefs.h <<EOF\n #define $ac_tr_func 1\n EOF\n- \n+ ac_wfuncs=yes\n else\n   echo \"$ac_t\"\"no\" 1>&6\n-LIBSTRINGOBJS=\"$LIBSTRINGOBJS ${ac_func}.lo\"\n+ac_wfuncs=no\n fi\n done\n \n \n-  \n+    echo $ac_n \"checking for ISO C9X wchar_t support\"\"... $ac_c\" 1>&6\n+echo \"configure:3728: checking for ISO C9X wchar_t support\" >&5\n+    if test x\"$has_weof\" = xyes && test x\"$has_wchar_minmax\" = xyes && test x\"$ac_wfuncs\" = xyes; then\n+      ac_isoC9X_wchar_t=yes\n+    else\n+      ac_isoC9X_wchar_t=no\n+    fi\n+    echo \"$ac_t\"\"$ac_isoC9X_wchar_t\" 1>&6\n \n-  echo $ac_n \"checking for wide character support\"\"... $ac_c\" 1>&6\n-echo \"configure:4050: checking for wide character support\" >&5\n-  if test $has_weof = \"yes\" && test $has_wchar_minmax = \"yes\"; then\n-    libinst_wstring_la=\"libinst-wstring.la\"\n-    cat >> confdefs.h <<\\EOF\n-#define _GLIBCPP_USE_WCHAR_T 1\n+            ac_safe=`echo \"iconv.h\" | sed 'y%./+-%__p_%'`\n+echo $ac_n \"checking for iconv.h\"\"... $ac_c\" 1>&6\n+echo \"configure:3738: checking for iconv.h\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 3743 \"configure\"\n+#include \"confdefs.h\"\n+#include <iconv.h>\n EOF\n-\n-    echo \"$ac_t\"\"ok\" 1>&6\n-  else\n-    libinst_wstring_la=\"\"\n-    echo \"$ac_t\"\"\"not specializing for wchar_t\"\" 1>&6\n-  fi\n-  \n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:3748: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=yes\"\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=no\"\n+fi\n+rm -f conftest*\n+fi\n+if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  ac_has_iconv_h=yes\n else\n   echo \"$ac_t\"\"no\" 1>&6\n+ac_has_iconv_h=no\n+fi\n \n-  echo \"configure: warning: <wchar.h> not found\" 1>&2\n-  cat >> confdefs.h <<\\EOF\n-#define _GLIBCPP_NEED_MBSTATE_T 1\n+    for ac_func in iconv_open iconv_close iconv\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:3773: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 3778 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n EOF\n+if { (eval echo configure:3801: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n \n-  \n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ ac_XPG2funcs=yes\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+ac_XPG2funcs=no\n fi\n+done\n+\n+\n+    echo $ac_n \"checking for XPG2 wchar_t support\"\"... $ac_c\" 1>&6\n+echo \"configure:3828: checking for XPG2 wchar_t support\" >&5\n+    if test x\"$ac_has_iconv_h\" = xyes && test x\"$ac_XPG2funcs\" = xyes; then\n+      ac_XPG2_wchar_t=yes\n+    else\n+      ac_XPG2_wchar_t=no\n+    fi\n+    echo \"$ac_t\"\"$ac_XPG2_wchar_t\" 1>&6\n+\n+            echo $ac_n \"checking for enabled wchar_t specializations\"\"... $ac_c\" 1>&6\n+echo \"configure:3837: checking for enabled wchar_t specializations\" >&5\n+    if test x\"$ac_isoC9X_wchar_t\" = xyes && test x\"$ac_XPG2_wchar_t\" = xyes; then\n+      libinst_wstring_la=\"libinst-wstring.la\"\n+      cat >> confdefs.h <<\\EOF\n+#define _GLIBCPP_USE_WCHAR_T 1\n+EOF\n+\n+      echo \"$ac_t\"\"\"yes\"\" 1>&6\n+    else\n+      libinst_wstring_la=\"\"\n+      echo \"$ac_t\"\"\"no\"\" 1>&6\n+    fi\n+    \n \n+  else\n+    echo \"configure: warning: <wchar.h> not found\" 1>&2\n+    cat >> confdefs.h <<\\EOF\n+#define _GLIBCPP_NEED_MBSTATE_T 1\n+EOF\n+\n+  fi\n \n   \n   ac_safe=`echo \"ctype.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for ctype.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4078: checking for ctype.h\" >&5\n+echo \"configure:3862: checking for ctype.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4083 \"configure\"\n+#line 3867 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4088: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3872: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4105,9 +3889,9 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n         ctype_default=yes\n \n         echo $ac_n \"checking <ctype> for gnu-linux \"\"... $ac_c\" 1>&6\n-echo \"configure:4109: checking <ctype> for gnu-linux \" >&5\n+echo \"configure:3893: checking <ctype> for gnu-linux \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4111 \"configure\"\n+#line 3895 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4118,7 +3902,7 @@ int\n \t+ __ctype_tolower[a] + __ctype_toupper[a] + __ctype_b[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:4122: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3906: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_linux=yes\n@@ -4137,9 +3921,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for freebsd 4.0 \"\"... $ac_c\" 1>&6\n-echo \"configure:4141: checking <ctype> for freebsd 4.0 \" >&5\n+echo \"configure:3925: checking <ctype> for freebsd 4.0 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4143 \"configure\"\n+#line 3927 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4149,7 +3933,7 @@ int\n \t+ _CTYPE_D + _CTYPE_P + _CTYPE_X + _CTYPE_G ;}\n ; return 0; }\n EOF\n-if { (eval echo configure:4153: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3937: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_bsd=yes\n@@ -4169,9 +3953,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for freebsd 3.4 \"\"... $ac_c\" 1>&6\n-echo \"configure:4173: checking <ctype> for freebsd 3.4 \" >&5\n+echo \"configure:3957: checking <ctype> for freebsd 3.4 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4175 \"configure\"\n+#line 3959 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4181,7 +3965,7 @@ int\n       + _D + _P + _X + _G + __istype (a, 0);}\n ; return 0; }\n EOF\n-if { (eval echo configure:4185: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3969: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_freebsd34=yes\n@@ -4201,9 +3985,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for solaris 2.6,7,8 \"\"... $ac_c\" 1>&6\n-echo \"configure:4205: checking <ctype> for solaris 2.6,7,8 \" >&5\n+echo \"configure:3989: checking <ctype> for solaris 2.6,7,8 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4207 \"configure\"\n+#line 3991 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4214,7 +3998,7 @@ int\n \t+ __trans_lower[a] + __trans_upper[a] + __ctype_mask[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:4218: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4002: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_solaris=yes\n@@ -4229,7 +4013,7 @@ rm -f conftest*\n \n     if test $ctype_solaris = \"yes\"; then\n       echo $ac_n \"checking   for version\"\"... $ac_c\" 1>&6\n-echo \"configure:4233: checking   for version\" >&5\n+echo \"configure:4017: checking   for version\" >&5\n       ac_ext=C\n # CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n ac_cpp='$CXXCPP $CPPFLAGS'\n@@ -4238,14 +4022,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n  \n       cat > conftest.$ac_ext <<EOF\n-#line 4242 \"configure\"\n+#line 4026 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n typedef long* __to_type; __to_type const& _M_toupper = __trans_upper;\n ; return 0; }\n EOF\n-if { (eval echo configure:4249: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4033: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n       ctype_solaris26=yes\n@@ -4277,9 +4061,9 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for solaris 2.5.1 \"\"... $ac_c\" 1>&6\n-echo \"configure:4281: checking <ctype> for solaris 2.5.1 \" >&5\n+echo \"configure:4065: checking <ctype> for solaris 2.5.1 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4283 \"configure\"\n+#line 4067 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4289,7 +4073,7 @@ int\n \t+ __ctype[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:4293: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4077: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_solaris25=yes\n@@ -4309,9 +4093,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for aix \"\"... $ac_c\" 1>&6\n-echo \"configure:4313: checking <ctype> for aix \" >&5\n+echo \"configure:4097: checking <ctype> for aix \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4315 \"configure\"\n+#line 4099 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4322,7 +4106,7 @@ int\n \t+ _VALC('a') + _IS('c', 0);}\n ; return 0; }\n EOF\n-if { (eval echo configure:4326: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4110: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_aix=yes\n@@ -4342,9 +4126,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for newlib \"\"... $ac_c\" 1>&6\n-echo \"configure:4346: checking <ctype> for newlib \" >&5\n+echo \"configure:4130: checking <ctype> for newlib \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 4348 \"configure\"\n+#line 4132 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -4354,7 +4138,7 @@ int\n \t+ _ctype_[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:4358: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4142: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_newlib=yes\n@@ -4388,17 +4172,17 @@ fi\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4392: checking for $ac_hdr\" >&5\n+echo \"configure:4176: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4397 \"configure\"\n+#line 4181 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4402: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4186: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4427,12 +4211,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4431: checking for $ac_func\" >&5\n+echo \"configure:4215: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4436 \"configure\"\n+#line 4220 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4455,7 +4239,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4459: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4243: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4480,15 +4264,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:4484: checking for working mmap\" >&5\n+echo \"configure:4268: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4492 \"configure\"\n+#line 4276 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -4628,7 +4412,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:4632: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4416: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -4691,19 +4475,19 @@ fi\n \n if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:4695: checking for LC_MESSAGES\" >&5\n+echo \"configure:4479: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4700 \"configure\"\n+#line 4484 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:4707: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4491: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_val_LC_MESSAGES=yes\n else\n@@ -4926,11 +4710,7 @@ s%@MAINT@%$MAINT%g\n s%@EXEEXT@%$EXEEXT%g\n s%@GLIBCPP_CFLAGS@%$GLIBCPP_CFLAGS%g\n s%@GLIBCPP_CXXFLAGS@%$GLIBCPP_CXXFLAGS%g\n-s%@LD@%$LD%g\n-s%@NM@%$NM%g\n-s%@USE_SYMBOL_UNDERSCORE@%$USE_SYMBOL_UNDERSCORE%g\n s%@LN_S@%$LN_S%g\n-s%@DLLTOOL@%$DLLTOOL%g\n s%@LIBTOOL@%$LIBTOOL%g\n s%@CXXCPP@%$CXXCPP%g\n s%@WERROR@%$WERROR%g\n@@ -4959,7 +4739,6 @@ s%@EXTRA_CXX_FLAGS@%$EXTRA_CXX_FLAGS%g\n s%@ctype_include_dir@%$ctype_include_dir%g\n s%@LIBMATHOBJS@%$LIBMATHOBJS%g\n s%@USE_LONG_DOUBLE@%$USE_LONG_DOUBLE%g\n-s%@LIBSTRINGOBJS@%$LIBSTRINGOBJS%g\n s%@libinst_wstring_la@%$libinst_wstring_la%g\n s%@CANADIAN_TRUE@%$CANADIAN_TRUE%g\n s%@CANADIAN_FALSE@%$CANADIAN_FALSE%g"}, {"sha": "1f524f97584ef6b8e3081e3a1ef5eefbff623d61", "filename": "libstdc++-v3/libio/Makefile.in", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibio%2FMakefile.in?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -83,14 +83,13 @@ FMTFLAGS = @FMTFLAGS@\n GCC_OBJDIR = @GCC_OBJDIR@\n GLIBCPP_CFLAGS = @GLIBCPP_CFLAGS@\n GLIBCPP_CXXFLAGS = @GLIBCPP_CXXFLAGS@\n-LD = @LD@\n LIBMATHOBJS = @LIBMATHOBJS@\n LIBSTRINGOBJS = @LIBSTRINGOBJS@\n LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n+OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n THREADDEPS = @THREADDEPS@\n@@ -99,7 +98,6 @@ THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n THREADSPEC = @THREADSPEC@\n USE_LONG_DOUBLE = @USE_LONG_DOUBLE@\n-USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n WERROR = @WERROR@\n cpu_include_dir = @cpu_include_dir@"}, {"sha": "a93ca899a35b00b06abb1ac68a0408e40d2ccbf9", "filename": "libstdc++-v3/math/Makefile.in", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fmath%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fmath%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmath%2FMakefile.in?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -83,14 +83,13 @@ FMTFLAGS = @FMTFLAGS@\n GCC_OBJDIR = @GCC_OBJDIR@\n GLIBCPP_CFLAGS = @GLIBCPP_CFLAGS@\n GLIBCPP_CXXFLAGS = @GLIBCPP_CXXFLAGS@\n-LD = @LD@\n LIBMATHOBJS = @LIBMATHOBJS@\n LIBSTRINGOBJS = @LIBSTRINGOBJS@\n LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n+OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n THREADDEPS = @THREADDEPS@\n@@ -99,7 +98,6 @@ THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n THREADSPEC = @THREADSPEC@\n USE_LONG_DOUBLE = @USE_LONG_DOUBLE@\n-USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n WERROR = @WERROR@\n cpu_include_dir = @cpu_include_dir@"}, {"sha": "929a153094d86f2c23f808f662ba32708b020277", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -81,14 +81,13 @@ FMTFLAGS = @FMTFLAGS@\n GCC_OBJDIR = @GCC_OBJDIR@\n GLIBCPP_CFLAGS = @GLIBCPP_CFLAGS@\n GLIBCPP_CXXFLAGS = @GLIBCPP_CXXFLAGS@\n-LD = @LD@\n LIBMATHOBJS = @LIBMATHOBJS@\n LIBSTRINGOBJS = @LIBSTRINGOBJS@\n LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n+OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n THREADDEPS = @THREADDEPS@\n@@ -97,7 +96,6 @@ THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n THREADSPEC = @THREADSPEC@\n USE_LONG_DOUBLE = @USE_LONG_DOUBLE@\n-USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n WERROR = @WERROR@\n cpu_include_dir = @cpu_include_dir@"}, {"sha": "0756818ef12edd93a8d1d5971caea24968e206a6", "filename": "libstdc++-v3/src/gen-num-limits.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fsrc%2Fgen-num-limits.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fsrc%2Fgen-num-limits.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fgen-num-limits.cc?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -726,7 +726,7 @@ int main()\n     type_trait<char>();\n     type_trait<signed char>();\n     type_trait<unsigned char>();\n-#if defined( _GLIBCPP_USE_WCHAR_T) && defined(_GLIBCPP_HAS_WCHAR_MIN_MAX)\n+#if defined( _GLIBCPP_USE_WCHAR_T) \n     type_trait<wchar_t>();\n #endif\n     "}, {"sha": "a70c6723ece18edff63c227827a1e914da1b3c1a", "filename": "libstdc++-v3/src/locale.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3840fa2a8f52ca74e22e1e3770f2542dbb24503e/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc?ref=3840fa2a8f52ca74e22e1e3770f2542dbb24503e", "patch": "@@ -756,8 +756,7 @@ namespace std {\n   codecvt_byname<wchar_t, char, mbstate_t>::\n   codecvt_byname(const char* /*__s*/, size_t __refs)\n   : codecvt<wchar_t, char, mbstate_t> (__refs)\n-  {\n-  }\n+  { }\n   \n   codecvt_byname<wchar_t, char, mbstate_t>::~codecvt_byname() {}\n "}]}