{"sha": "f588eb27dd5ec50e54b282096211228dead9d4ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU4OGViMjdkZDVlYzUwZTU0YjI4MjA5NjIxMTIyOGRlYWQ5ZDRiYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-09-17T17:43:26Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-09-17T17:43:26Z"}, "message": "re PR bootstrap/54609 (libbacktrace breaks bootstrap on darwin)\n\n\tPR bootstrap/54609\n\t* unknown.c (unknown_fileline): Add state parameter, remove\n\tfileline_data parameter, name error_callback parameter.\n\t(backtrace_initialize): Add state parameter.\n\nFrom-SVN: r191402", "tree": {"sha": "1f6d4c83174476f69b57d4ce3b3d17b1fc4e11b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f6d4c83174476f69b57d4ce3b3d17b1fc4e11b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f588eb27dd5ec50e54b282096211228dead9d4ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f588eb27dd5ec50e54b282096211228dead9d4ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f588eb27dd5ec50e54b282096211228dead9d4ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f588eb27dd5ec50e54b282096211228dead9d4ba/comments", "author": null, "committer": null, "parents": [{"sha": "869fefb7c4a6736e7e78f02f7d8b62d371872ba3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/869fefb7c4a6736e7e78f02f7d8b62d371872ba3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/869fefb7c4a6736e7e78f02f7d8b62d371872ba3"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "e6efd6b4c808e1beb4602931268576c49e418356", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f588eb27dd5ec50e54b282096211228dead9d4ba/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f588eb27dd5ec50e54b282096211228dead9d4ba/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=f588eb27dd5ec50e54b282096211228dead9d4ba", "patch": "@@ -1,3 +1,10 @@\n+2012-09-17  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR bootstrap/54609\n+\t* unknown.c (unknown_fileline): Add state parameter, remove\n+\tfileline_data parameter, name error_callback parameter.\n+\t(backtrace_initialize): Add state parameter.\n+\n 2012-09-17  Ian Lance Taylor  <iant@google.com>\n \n \t* Initial implementation."}, {"sha": "fab5867d8d2c552a6256f263994246dec1d68174", "filename": "libbacktrace/unknown.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f588eb27dd5ec50e54b282096211228dead9d4ba/libbacktrace%2Funknown.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f588eb27dd5ec50e54b282096211228dead9d4ba/libbacktrace%2Funknown.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Funknown.c?ref=f588eb27dd5ec50e54b282096211228dead9d4ba", "patch": "@@ -40,9 +40,9 @@ POSSIBILITY OF SUCH DAMAGE.  */\n /* A trivial routine that always fails to find fileline data.  */\n \n static int\n-unknown_fileline (void *fileline_data ATTRIBUTE_UNUSED,\n+unknown_fileline (struct backtrace_state *state ATTRIBUTE_UNUSED,\n \t\t  uintptr_t pc, backtrace_full_callback callback,\n-\t\t  backtrace_error_callback ATTRIBUTE_UNUSED,\n+\t\t  backtrace_error_callback error_callback ATTRIBUTE_UNUSED,\n \t\t  void *data)\n \n {\n@@ -53,12 +53,12 @@ unknown_fileline (void *fileline_data ATTRIBUTE_UNUSED,\n    debug info.  */\n \n int\n-backtrace_initialize (int descriptor ATTRIBUTE_UNUSED,\n+backtrace_initialize (struct backtrace_state *state ATTRIBUTE_UNUSED,\n+\t\t      int descriptor ATTRIBUTE_UNUSED,\n \t\t      backtrace_error_callback error_callback ATTRIBUTE_UNUSED,\n-\t\t      void *data ATTRIBUTE_UNUSED, fileline *fileline_fn,\n-\t\t      void **fileline_data)\n+\t\t      void *data ATTRIBUTE_UNUSED, fileline *fileline_fn)\n {\n+  state->fileline_data = NULL;\n   *fileline_fn = unknown_fileline;\n-  *fileline_data = NULL;\n   return 1;\n }"}]}