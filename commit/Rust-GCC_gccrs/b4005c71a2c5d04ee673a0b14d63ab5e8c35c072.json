{"sha": "b4005c71a2c5d04ee673a0b14d63ab5e8c35c072", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQwMDVjNzFhMmM1ZDA0ZWU2NzNhMGIxNGQ2M2FiNWU4YzM1YzA3Mg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2013-06-24T15:24:19Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2013-06-24T15:24:19Z"}, "message": "configure.ac (AC_CHECK_FUNCS_ONCE): Put into if statement.\n\n2013-06-24  Steve Ellcey  <sellcey@mips.com>\n\n\t* configure.ac (AC_CHECK_FUNCS_ONCE): Put into if statement.\n\t* configure: Regenerate.\n\nFrom-SVN: r200374", "tree": {"sha": "ce8a2880dadfd053f24a7ad1570e1d7d20d95f40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce8a2880dadfd053f24a7ad1570e1d7d20d95f40"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072/comments", "author": null, "committer": null, "parents": [{"sha": "a4e28c8103ead2320c83a7f18131b8dc91edd94b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4e28c8103ead2320c83a7f18131b8dc91edd94b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4e28c8103ead2320c83a7f18131b8dc91edd94b"}], "stats": {"total": 78, "additions": 63, "deletions": 15}, "files": [{"sha": "e4f90eaf787bf902c923fda73e5beac4ce93b534", "filename": "libgfortran/configure", "status": "modified", "additions": 42, "deletions": 8, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=b4005c71a2c5d04ee673a0b14d63ab5e8c35c072", "patch": "@@ -654,6 +654,7 @@ CPP\n am__fastdepCC_FALSE\n am__fastdepCC_TRUE\n CCDEPMODE\n+am__nodep\n AMDEPBACKSLASH\n AMDEP_FALSE\n AMDEP_TRUE\n@@ -3386,11 +3387,11 @@ MAKEINFO=${MAKEINFO-\"${am_missing_run}makeinfo\"}\n \n # We need awk for the \"check\" target.  The system \"awk\" is bad on\n # some platforms.\n-# Always define AMTAR for backward compatibility.\n+# Always define AMTAR for backward compatibility.  Yes, it's still used\n+# in the wild :-(  We should find a proper way to deprecate it ...\n+AMTAR='$${TAR-tar}'\n \n-AMTAR=${AMTAR-\"${am_missing_run}tar\"}\n-\n-am__tar='${AMTAR} chof - \"$$tardir\"'; am__untar='${AMTAR} xf -'\n+am__tar='$${TAR-tar} chof - \"$$tardir\"' am__untar='$${TAR-tar} xf -'\n \n \n \n@@ -3523,6 +3524,7 @@ fi\n if test \"x$enable_dependency_tracking\" != xno; then\n   am_depcomp=\"$ac_aux_dir/depcomp\"\n   AMDEPBACKSLASH='\\'\n+  am__nodep='_no'\n fi\n  if test \"x$enable_dependency_tracking\" != xno; then\n   AMDEP_TRUE=\n@@ -4340,6 +4342,7 @@ else\n   # instance it was reported that on HP-UX the gcc test will end up\n   # making a dummy file named `D' -- because `-MD' means `put the output\n   # in D'.\n+  rm -rf conftest.dir\n   mkdir conftest.dir\n   # Copy depcomp to subdir because otherwise we won't find it if we're\n   # using a relative directory.\n@@ -4399,7 +4402,7 @@ else\n \tbreak\n       fi\n       ;;\n-    msvisualcpp | msvcmsys)\n+    msvc7 | msvc7msys | msvisualcpp | msvcmsys)\n       # This compiler won't grok `-c -o', but also, the minuso test has\n       # not run yet.  These depmodes are late enough in the game, and\n       # so weak that their functioning should not be impacted.\n@@ -5515,6 +5518,7 @@ else\n   # instance it was reported that on HP-UX the gcc test will end up\n   # making a dummy file named `D' -- because `-MD' means `put the output\n   # in D'.\n+  rm -rf conftest.dir\n   mkdir conftest.dir\n   # Copy depcomp to subdir because otherwise we won't find it if we're\n   # using a relative directory.\n@@ -5574,7 +5578,7 @@ else\n \tbreak\n       fi\n       ;;\n-    msvisualcpp | msvcmsys)\n+    msvc7 | msvc7msys | msvisualcpp | msvcmsys)\n       # This compiler won't grok `-c -o', but also, the minuso test has\n       # not run yet.  These depmodes are late enough in the game, and\n       # so weak that their functioning should not be impacted.\n@@ -12331,7 +12335,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12334 \"configure\"\n+#line 12338 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12437,7 +12441,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12440 \"configure\"\n+#line 12444 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -16435,6 +16439,35 @@ fi\n \n \n # Check for library functions.\n+if test \"x${with_newlib}\" = \"xyes\"; then\n+   # We are being configured with a cross compiler.  AC_REPLACE_FUNCS\n+   # may not work correctly, because the compiler may not be able to\n+   # link executables.\n+\n+$as_echo \"#define HAVE_MKSTEMP 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_STRTOF 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_STRTOLD 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_SNPRINTF 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_STRCASESTR 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_VSNPRINTF 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_LOCALTIME_R 1\" >>confdefs.h\n+\n+\n+$as_echo \"#define HAVE_GMTIME_R 1\" >>confdefs.h\n+\n+else\n \n \n \n@@ -16554,6 +16587,7 @@ done\n \n \n \n+fi\n \n # Check strerror_r, cannot be above as versions with two and three arguments exist\n "}, {"sha": "1021eea2671ab8f507a8d8aabc2ceeb726319352", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 21, "deletions": 7, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4005c71a2c5d04ee673a0b14d63ab5e8c35c072/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=b4005c71a2c5d04ee673a0b14d63ab5e8c35c072", "patch": "@@ -261,13 +261,27 @@ GCC_HEADER_STDINT(gstdint.h)\n AC_CHECK_MEMBERS([struct stat.st_blksize, struct stat.st_blocks, struct stat.st_rdev])\n \n # Check for library functions.\n-AC_CHECK_FUNCS_ONCE(getrusage times mkstemp strtof strtold snprintf \\\n-ftruncate chsize chdir getlogin gethostname kill link symlink sleep ttyname \\\n-alarm access fork execl wait setmode execve pipe dup2 close \\\n-strcasestr getrlimit gettimeofday stat fstat lstat getpwuid vsnprintf dup \\\n-getcwd localtime_r gmtime_r getpwuid_r ttyname_r clock_gettime \\\n-readlink getgid getpid getppid getuid geteuid umask getegid \\\n-secure_getenv __secure_getenv)\n+if test \"x${with_newlib}\" = \"xyes\"; then\n+   # We are being configured with a cross compiler.  AC_REPLACE_FUNCS\n+   # may not work correctly, because the compiler may not be able to\n+   # link executables.\n+   AC_DEFINE(HAVE_MKSTEMP, 1, [Define if you have mkstemp.])\n+   AC_DEFINE(HAVE_STRTOF, 1, [Define if you have strtof.])\n+   AC_DEFINE(HAVE_STRTOLD, 1, [Define if you have strtold.])\n+   AC_DEFINE(HAVE_SNPRINTF, 1, [Define if you have snprintf.])\n+   AC_DEFINE(HAVE_STRCASESTR, 1, [Define if you have strcasestr.])\n+   AC_DEFINE(HAVE_VSNPRINTF, 1, [Define if you have vsnprintf.])\n+   AC_DEFINE(HAVE_LOCALTIME_R, 1, [Define if you have localtime_r.])\n+   AC_DEFINE(HAVE_GMTIME_R, 1, [Define if you have gmtime_r.])\n+else\n+   AC_CHECK_FUNCS_ONCE(getrusage times mkstemp strtof strtold snprintf \\\n+   ftruncate chsize chdir getlogin gethostname kill link symlink sleep ttyname \\\n+   alarm access fork execl wait setmode execve pipe dup2 close \\\n+   strcasestr getrlimit gettimeofday stat fstat lstat getpwuid vsnprintf dup \\\n+   getcwd localtime_r gmtime_r getpwuid_r ttyname_r clock_gettime \\\n+   readlink getgid getpid getppid getuid geteuid umask getegid \\\n+   secure_getenv __secure_getenv)\n+fi\n \n # Check strerror_r, cannot be above as versions with two and three arguments exist\n LIBGFOR_CHECK_STRERROR_R"}]}