{"sha": "686b1cdfdc46a476056fe4df6e8186be8c889aca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg2YjFjZGZkYzQ2YTQ3NjA1NmZlNGRmNmU4MTg2YmU4Yzg4OWFjYQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-01-27T10:49:23Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-01-27T10:50:13Z"}, "message": "libgcc, i386: Add .note.GNU-stack sections to the ms sse/avx sav/res\n\nOn Linux, GCC emits .note.GNU-stack sections when compiling code to mark\nthe code as not needing or needing executable stack, missing section means\nunknown.  But assembly files need to be marked manually.  We already\nmark various *.S files in libgcc manually, but the\navx_resms64f.o\navx_resms64fx.o\navx_resms64.o\navx_resms64x.o\navx_savms64f.o\navx_savms64.o\nsse_resms64f.o\nsse_resms64fx.o\nsse_resms64.o\nsse_resms64x.o\nsse_savms64f.o\nsse_savms64.o\nfiles aren't marked, so when something links it in, it will require\nexecutable stack.  Nothing in the assembly requires executable stack though.\n\n2021-01-27  Jakub Jelinek  <jakub@redhat.com>\n\n\t* config/i386/savms64.h: Add .note.GNU-stack section on Linux.\n\t* config/i386/savms64f.h: Likewise.\n\t* config/i386/resms64.h: Likewise.\n\t* config/i386/resms64f.h: Likewise.\n\t* config/i386/resms64x.h: Likewise.\n\t* config/i386/resms64fx.h: Likewise.", "tree": {"sha": "54e80c05d7ddd8255a5f59820d4e750f70f54673", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54e80c05d7ddd8255a5f59820d4e750f70f54673"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/686b1cdfdc46a476056fe4df6e8186be8c889aca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/686b1cdfdc46a476056fe4df6e8186be8c889aca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/686b1cdfdc46a476056fe4df6e8186be8c889aca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/686b1cdfdc46a476056fe4df6e8186be8c889aca/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "530b1d688761db46b33d26864d3a0684cc82e0f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/530b1d688761db46b33d26864d3a0684cc82e0f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/530b1d688761db46b33d26864d3a0684cc82e0f9"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "71f04b380e5e0fb6ba7dc7c05537fe641dbc6d9d", "filename": "libgcc/config/i386/resms64.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fresms64.h?ref=686b1cdfdc46a476056fe4df6e8186be8c889aca", "patch": "@@ -57,3 +57,8 @@ MS2SYSV_STUB_END(resms64_17)\n MS2SYSV_STUB_END(resms64_18)\n \n #endif /* __x86_64__ */\n+\n+#if defined(__ELF__) && defined(__linux__)\n+\t.section .note.GNU-stack,\"\",@progbits\n+\t.previous\n+#endif"}, {"sha": "004f7978f193b31ed61566fab353b894baf3b5dd", "filename": "libgcc/config/i386/resms64f.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64f.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64f.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fresms64f.h?ref=686b1cdfdc46a476056fe4df6e8186be8c889aca", "patch": "@@ -55,3 +55,8 @@ MS2SYSV_STUB_END(resms64f_16)\n MS2SYSV_STUB_END(resms64f_17)\n \n #endif /* __x86_64__ */\n+\n+#if defined(__ELF__) && defined(__linux__)\n+\t.section .note.GNU-stack,\"\",@progbits\n+\t.previous\n+#endif"}, {"sha": "6dc0019a78429a74b6d942e08ff2fef752a7b58b", "filename": "libgcc/config/i386/resms64fx.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64fx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64fx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fresms64fx.h?ref=686b1cdfdc46a476056fe4df6e8186be8c889aca", "patch": "@@ -62,3 +62,8 @@ MS2SYSV_STUB_END(resms64fx_16)\n MS2SYSV_STUB_END(resms64fx_17)\n \n #endif /* __x86_64__ */\n+\n+#if defined(__ELF__) && defined(__linux__)\n+\t.section .note.GNU-stack,\"\",@progbits\n+\t.previous\n+#endif"}, {"sha": "fa32093f21400a1ff9dfe6900cd8d6671b0ec590", "filename": "libgcc/config/i386/resms64x.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64x.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fresms64x.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fresms64x.h?ref=686b1cdfdc46a476056fe4df6e8186be8c889aca", "patch": "@@ -63,3 +63,8 @@ MS2SYSV_STUB_END(resms64x_17)\n MS2SYSV_STUB_END(resms64x_18)\n \n #endif /* __x86_64__ */\n+\n+#if defined(__ELF__) && defined(__linux__)\n+\t.section .note.GNU-stack,\"\",@progbits\n+\t.previous\n+#endif"}, {"sha": "885880060aee596a5ec731c9cf54b7b44d49cf30", "filename": "libgcc/config/i386/savms64.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fsavms64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fsavms64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fsavms64.h?ref=686b1cdfdc46a476056fe4df6e8186be8c889aca", "patch": "@@ -57,3 +57,8 @@ MS2SYSV_STUB_END(savms64_17)\n MS2SYSV_STUB_END(savms64_18)\n \n #endif /* __x86_64__ */\n+\n+#if defined(__ELF__) && defined(__linux__)\n+\t.section .note.GNU-stack,\"\",@progbits\n+\t.previous\n+#endif"}, {"sha": "9c80bb802471f460a1104d808743d4d5d5971e68", "filename": "libgcc/config/i386/savms64f.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fsavms64f.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686b1cdfdc46a476056fe4df6e8186be8c889aca/libgcc%2Fconfig%2Fi386%2Fsavms64f.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fsavms64f.h?ref=686b1cdfdc46a476056fe4df6e8186be8c889aca", "patch": "@@ -55,3 +55,8 @@ MS2SYSV_STUB_END(savms64f_16)\n MS2SYSV_STUB_END(savms64f_17)\n \n #endif /* __x86_64__ */\n+\n+#if defined(__ELF__) && defined(__linux__)\n+\t.section .note.GNU-stack,\"\",@progbits\n+\t.previous\n+#endif"}]}