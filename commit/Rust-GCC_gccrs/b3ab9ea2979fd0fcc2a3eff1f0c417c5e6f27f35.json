{"sha": "b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjNhYjllYTI5NzlmZDBmY2MyYTNlZmYxZjBjNDE3YzVlNmYyN2YzNQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2011-03-14T17:58:12Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2011-03-14T17:58:12Z"}, "message": "c-parser.c (disable_extension_diagnostics): Save warn_overlength_strings.\n\ngcc\n\t* c-parser.c (disable_extension_diagnostics): Save\n\twarn_overlength_strings.\n\t(restore_extension_diagnostics): Restore warn_overlength_strings.\ngcc/testsuite\n\t* gcc.dg/Woverlength-strings-pedantic-c89-ext.c: New file.\n\t* gcc.dg/Woverlength-strings-pedantic-c90-ext.c: New file.\n\t* gcc.dg/Woverlength-strings-pedantic-c99-ext.c: New file.\n\nFrom-SVN: r170947", "tree": {"sha": "2f7867edf299867952cbd5c600cffe758a60b115", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f7867edf299867952cbd5c600cffe758a60b115"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/comments", "author": null, "committer": null, "parents": [{"sha": "d8d4db3345ec3271a5edf4bd84e999662cd8e2e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8d4db3345ec3271a5edf4bd84e999662cd8e2e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8d4db3345ec3271a5edf4bd84e999662cd8e2e2"}], "stats": {"total": 74, "additions": 73, "deletions": 1}, "files": [{"sha": "f1a353c00fb24233c30f22c414eac6aaa94e5e0f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "patch": "@@ -1,3 +1,9 @@\n+2011-03-14  Tom Tromey  <tromey@redhat.com>\n+\n+\t* c-parser.c (disable_extension_diagnostics): Save\n+\twarn_overlength_strings.\n+\t(restore_extension_diagnostics): Restore warn_overlength_strings.\n+\n 2011-03-14  Jakub Jelinek  <jakub@redhat.com>\n \n \t* BASE-VER: Change to 4.7.0."}, {"sha": "7b18827cfc634836e1bf81cca0832fd34a65f60d", "filename": "gcc/c-parser.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "patch": "@@ -1045,13 +1045,15 @@ disable_extension_diagnostics (void)\n \t     | (warn_traditional << 2)\n \t     | (flag_iso << 3)\n \t     | (warn_long_long << 4)\n-\t     | (warn_cxx_compat << 5));\n+\t     | (warn_cxx_compat << 5)\n+\t     | (warn_overlength_strings << 6));\n   cpp_opts->cpp_pedantic = pedantic = 0;\n   warn_pointer_arith = 0;\n   cpp_opts->cpp_warn_traditional = warn_traditional = 0;\n   flag_iso = 0;\n   cpp_opts->cpp_warn_long_long = warn_long_long = 0;\n   warn_cxx_compat = 0;\n+  warn_overlength_strings = 0;\n   return ret;\n }\n \n@@ -1067,6 +1069,7 @@ restore_extension_diagnostics (int flags)\n   flag_iso = (flags >> 3) & 1;\n   cpp_opts->cpp_warn_long_long = warn_long_long = (flags >> 4) & 1;\n   warn_cxx_compat = (flags >> 5) & 1;\n+  warn_overlength_strings = (flags >> 6) & 1;\n }\n \n /* Possibly kinds of declarator to parse.  */"}, {"sha": "6afb96daadc0820a614004361e901d09f5b09634", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "patch": "@@ -1,3 +1,9 @@\n+2011-03-14  Tom Tromey  <tromey@redhat.com>\n+\n+\t* gcc.dg/Woverlength-strings-pedantic-c89-ext.c: New file.\n+\t* gcc.dg/Woverlength-strings-pedantic-c90-ext.c: New file.\n+\t* gcc.dg/Woverlength-strings-pedantic-c99-ext.c: New file.\n+\n 2011-03-14  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* gcc.target/i386/builtin-copysign.c: Remove __LP64__ check."}, {"sha": "09b8079d5535519bffaff491914e78123b68078b", "filename": "gcc/testsuite/gcc.dg/Woverlength-strings-pedantic-c89-ext.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c89-ext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c89-ext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c89-ext.c?ref=b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "patch": "@@ -0,0 +1,19 @@\n+/* -Woverlength-strings complains about string constants which are too long\n+   for the C standard's \"minimum maximum\" limits.  It is off by default,\n+   but implied by -pedantic.  */\n+\n+/* { dg-options \"-std=c89 -pedantic\" } */\n+\n+#define TEN \"xxxxxxxxxx\"\n+#define HUN TEN TEN TEN TEN TEN  TEN TEN TEN TEN TEN\n+#define THO HUN HUN HUN HUN HUN  HUN HUN HUN HUN HUN\n+\n+/* C89's minimum-maximum is 509. */\n+const char x510[] = __extension__ HUN HUN HUN HUN HUN TEN;\n+\n+/* C99's minimum-maximum is 4095.  */\n+const char x4096[] = __extension__\n+  THO THO THO THO     /* 4000 */\n+  TEN TEN TEN TEN TEN /* 4050 */\n+  TEN TEN TEN TEN     /* 4090 */\n+  \"123456\";"}, {"sha": "6fbaebef3415b2f5ad37dec1c00eea7b506d52b3", "filename": "gcc/testsuite/gcc.dg/Woverlength-strings-pedantic-c90-ext.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c90-ext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c90-ext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c90-ext.c?ref=b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "patch": "@@ -0,0 +1,19 @@\n+/* -Woverlength-strings complains about string constants which are too long\n+   for the C standard's \"minimum maximum\" limits.  It is off by default,\n+   but implied by -pedantic.  */\n+\n+/* { dg-options \"-std=c90 -pedantic\" } */\n+\n+#define TEN \"xxxxxxxxxx\"\n+#define HUN TEN TEN TEN TEN TEN  TEN TEN TEN TEN TEN\n+#define THO HUN HUN HUN HUN HUN  HUN HUN HUN HUN HUN\n+\n+/* C89's minimum-maximum is 509. */\n+const char x510[] = __extension__ HUN HUN HUN HUN HUN TEN;\n+\n+/* C99's minimum-maximum is 4095.  */\n+const char x4096[] = __extension__\n+  THO THO THO THO     /* 4000 */\n+  TEN TEN TEN TEN TEN /* 4050 */\n+  TEN TEN TEN TEN     /* 4090 */\n+  \"123456\";"}, {"sha": "93d5e4600fcad0c244f233f0b5d125a6a95e1400", "filename": "gcc/testsuite/gcc.dg/Woverlength-strings-pedantic-c99-ext.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c99-ext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c99-ext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c99-ext.c?ref=b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "patch": "@@ -0,0 +1,19 @@\n+/* -Woverlength-strings complains about string constants which are too long\n+   for the C standard's \"minimum maximum\" limits.  It is off by default,\n+   but implied by -pedantic.  */\n+\n+/* { dg-options \"-std=c99 -pedantic\" } */\n+\n+#define TEN \"xxxxxxxxxx\"\n+#define HUN TEN TEN TEN TEN TEN  TEN TEN TEN TEN TEN\n+#define THO HUN HUN HUN HUN HUN  HUN HUN HUN HUN HUN\n+\n+/* C89's minimum-maximum is 509. */\n+const char x510[] = HUN HUN HUN HUN HUN TEN;\n+\n+/* C99's minimum-maximum is 4095.  */\n+const char x4096[] = __extension__\n+  THO THO THO THO     /* 4000 */\n+  TEN TEN TEN TEN TEN /* 4050 */\n+  TEN TEN TEN TEN     /* 4090 */\n+  \"123456\";"}]}