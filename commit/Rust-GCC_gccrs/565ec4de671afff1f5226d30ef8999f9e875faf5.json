{"sha": "565ec4de671afff1f5226d30ef8999f9e875faf5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY1ZWM0ZGU2NzFhZmZmMWY1MjI2ZDMwZWY4OTk5ZjllODc1ZmFmNQ==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2018-12-04T20:10:47Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@gcc.gnu.org", "date": "2018-12-04T20:10:47Z"}, "message": "attr-aligned-2.c: New test.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.target/i386/attr-aligned-2.c: New test.\n\t* gcc.target/i386/falign-functions-3.c: New test.\n\nFrom-SVN: r266795", "tree": {"sha": "fcf64f2b8e758eece60d73dbb244d7ca8d18fe7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcf64f2b8e758eece60d73dbb244d7ca8d18fe7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/565ec4de671afff1f5226d30ef8999f9e875faf5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/565ec4de671afff1f5226d30ef8999f9e875faf5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/565ec4de671afff1f5226d30ef8999f9e875faf5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/565ec4de671afff1f5226d30ef8999f9e875faf5/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f698917d45cc12703603b85fb9bb3ea378984269", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f698917d45cc12703603b85fb9bb3ea378984269", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f698917d45cc12703603b85fb9bb3ea378984269"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "18ef9edb7adead4897c88b8f83b17da7ee130ea6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/565ec4de671afff1f5226d30ef8999f9e875faf5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/565ec4de671afff1f5226d30ef8999f9e875faf5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=565ec4de671afff1f5226d30ef8999f9e875faf5", "patch": "@@ -1,3 +1,8 @@\n+2018-12-04  Martin Sebor  <msebor@redhat.com>\n+\n+\t* gcc.target/i386/attr-aligned-2.c: New test.\n+\t* gcc.target/i386/falign-functions-3.c: New test.\n+\n 2018-12-04  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/88188"}, {"sha": "b99a28a8f3d5cc2736803ef74b4a71b451e1413c", "filename": "gcc/testsuite/gcc.target/i386/attr-aligned-2.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/565ec4de671afff1f5226d30ef8999f9e875faf5/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fattr-aligned-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/565ec4de671afff1f5226d30ef8999f9e875faf5/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fattr-aligned-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fattr-aligned-2.c?ref=565ec4de671afff1f5226d30ef8999f9e875faf5", "patch": "@@ -0,0 +1,26 @@\n+/* Verify that valid alignment on either a function declaration\n+   or a definition has the expected effect and overrides -Os.\n+   { dg-do compile }\n+   { dg-options \"-Os\" }  */\n+\n+#define ALIGN(n)         __attribute__ ((aligned (n)))\n+\n+/* No alignment specified (to cause the subsequent instruction\n+   to be at an odd boundary due to -Os).  */\n+void f (void) { }\n+\n+void f4 (void);\n+\n+ALIGN (4)\n+void f4 (void) { }\n+\n+/* { dg-final { scan-assembler \".align 4\\n\\t.globl\\tf4\" } } */\n+\n+\n+void g (void) { }\n+\n+\n+ALIGN (4)\n+void g4 (void);\n+\n+void g4 (void) { }"}, {"sha": "f4a6acee0c875a8039006dd8de7943b3631f701a", "filename": "gcc/testsuite/gcc.target/i386/falign-functions-3.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/565ec4de671afff1f5226d30ef8999f9e875faf5/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffalign-functions-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/565ec4de671afff1f5226d30ef8999f9e875faf5/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffalign-functions-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffalign-functions-3.c?ref=565ec4de671afff1f5226d30ef8999f9e875faf5", "patch": "@@ -0,0 +1,23 @@\n+/* Verify that attribute aligned overrides the effect of -falign-functions.\n+   (But see PR 88345 showing that -Os overrides -falign-functions.)\n+   The test may need to be adjusted if/when GCC implements PR 88231.\n+  { dg-do compile }\n+  { dg-options \"-O2 -falign-functions=32\" } */\n+\n+#define ALIGN(n)         __attribute__ ((aligned (n)))\n+\n+ALIGN (4)\n+void f4 (void) { }\n+\n+/* { dg-final { scan-assembler \".align 4\\n\\t.globl\\tf4\" } } */\n+\n+\n+void f32 (void) { }\n+\n+/* { dg-final { scan-assembler \".p2align 5\\n\\t.globl\\tf32\" } } */\n+\n+\n+ALIGN (64)\n+void f64 (void) { }\n+\n+/* { dg-final { scan-assembler \".align 64\\n\\t.globl\\tf64\" } } */"}]}