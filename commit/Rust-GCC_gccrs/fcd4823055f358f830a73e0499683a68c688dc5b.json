{"sha": "fcd4823055f358f830a73e0499683a68c688dc5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNkNDgyMzA1NWYzNThmODMwYTczZTA0OTk2ODNhNjhjNjg4ZGM1Yg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-05-18T17:17:55Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-05-18T17:17:55Z"}, "message": "* lib/libjava.exp (bytecompile_file): Use exec, not system.\n\nFrom-SVN: r33989", "tree": {"sha": "8fda1ec1199140ca327415236d74478beefd137a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fda1ec1199140ca327415236d74478beefd137a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcd4823055f358f830a73e0499683a68c688dc5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcd4823055f358f830a73e0499683a68c688dc5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcd4823055f358f830a73e0499683a68c688dc5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcd4823055f358f830a73e0499683a68c688dc5b/comments", "author": null, "committer": null, "parents": [{"sha": "3eb16773fc995a6fb74d293f47e5caf98b0ca292", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3eb16773fc995a6fb74d293f47e5caf98b0ca292", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3eb16773fc995a6fb74d293f47e5caf98b0ca292"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "bad4daa2315173177599cd240b8daadf514d16b1", "filename": "libjava/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcd4823055f358f830a73e0499683a68c688dc5b/libjava%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcd4823055f358f830a73e0499683a68c688dc5b/libjava%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FChangeLog?ref=fcd4823055f358f830a73e0499683a68c688dc5b", "patch": "@@ -1,3 +1,7 @@\n+2000-05-18  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* lib/libjava.exp (bytecompile_file): Use exec, not system.\n+\n 2000-05-17  Tom Tromey  <tromey@cygnus.com>\n \n \t* libjava.mauve/mauve.exp (test_mauve): Call `prune_warnings'."}, {"sha": "cf9b9a95ba2794cbe851c20ded3083c976b50fd4", "filename": "libjava/testsuite/lib/libjava.exp", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcd4823055f358f830a73e0499683a68c688dc5b/libjava%2Ftestsuite%2Flib%2Flibjava.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcd4823055f358f830a73e0499683a68c688dc5b/libjava%2Ftestsuite%2Flib%2Flibjava.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flib%2Flibjava.exp?ref=fcd4823055f358f830a73e0499683a68c688dc5b", "patch": "@@ -49,7 +49,7 @@ proc find_gcjh {} {\n proc bytecompile_file { file objdir {classpath {}} } {\n     global env\n     global SUN_JAVAC\n-    set dirname  [file dirname $file];\n+    set dirname [file dirname $file]\n \n     # If JDK doesn't run on your platform but some other\n     # JDK-compatible javac does, you may set SUN_JAVAC to point to it.\n@@ -72,7 +72,12 @@ proc bytecompile_file { file objdir {classpath {}} } {\n         set env(CLASSPATH) $classpath\n     }\n     if {[catch {\n-\tsystem \"cd $dirname; $SUN_JAVAC $file -d $objdir 2>&1\"\n+\tset here [pwd]\n+\tcd $dirname\n+\tset q [eval exec \"$SUN_JAVAC [list $file] -d $objdir 2>@ stdout\"]\n+\tcd $here\n+\t# \"return\" a result\n+\tset q $q\n     } msg]} then {\n \tverbose \"couldn't compile $file: $msg\"\n \tset r 0"}]}