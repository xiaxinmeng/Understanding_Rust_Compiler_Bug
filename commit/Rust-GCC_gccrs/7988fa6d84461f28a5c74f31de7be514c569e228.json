{"sha": "7988fa6d84461f28a5c74f31de7be514c569e228", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk4OGZhNmQ4NDQ2MWYyOGE1Yzc0ZjMxZGU3YmU1MTRjNTY5ZTIyOA==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1996-09-18T11:07:42Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1996-09-18T11:07:42Z"}, "message": "(MAKE_DECL_ONE_ONLY): Define.\n\nFrom-SVN: r12736", "tree": {"sha": "c1c0c371005b3462f1316b5ede3d9d4b901f69bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1c0c371005b3462f1316b5ede3d9d4b901f69bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7988fa6d84461f28a5c74f31de7be514c569e228", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7988fa6d84461f28a5c74f31de7be514c569e228", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7988fa6d84461f28a5c74f31de7be514c569e228", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7988fa6d84461f28a5c74f31de7be514c569e228/comments", "author": null, "committer": null, "parents": [{"sha": "c5bd82cb0ff4e7f66bf49031d8953b76f354a54b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5bd82cb0ff4e7f66bf49031d8953b76f354a54b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5bd82cb0ff4e7f66bf49031d8953b76f354a54b"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "f39dd15731af2e59f185c9e7f6eef1b34f27a099", "filename": "gcc/config/svr4.h", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7988fa6d84461f28a5c74f31de7be514c569e228/gcc%2Fconfig%2Fsvr4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7988fa6d84461f28a5c74f31de7be514c569e228/gcc%2Fconfig%2Fsvr4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsvr4.h?ref=7988fa6d84461f28a5c74f31de7be514c569e228", "patch": "@@ -639,6 +639,37 @@ do {\t\t\t\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n } while (0)\n \n+/* A C statement (sans semicolon) to mark DECL to be emitted as a\n+   public symbol such that extra copies in multiple translation units will\n+   be discarded by the linker.  */\n+#define MAKE_DECL_ONE_ONLY(DECL)\t\t\t\t\\\n+do {\t\t\t\t\t\t\t\t\\\n+  int len;\t\t\t\t\t\t\t\\\n+  char *name, *string, *prefix;\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+  DECL_WEAK (DECL) = 1;\t\t\t\t\t\t\\\n+  \t\t\t\t\t\t\t\t\\\n+  name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\t\\\n+\t\t\t\t\t\t\t\t\\\n+  if (DECL_ONE_ONLY (decl))\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      if (TREE_CODE (decl) == FUNCTION_DECL)\t\t\t\\\n+\tprefix = \".gnu.linkonce.t.\";\t\t\t\t\\\n+      else if (TREE_READONLY (decl))\t\t\t\t\\\n+\tprefix = \".gnu.linkonce.r.\";\t\t\t\t\\\n+      else\t\t\t\t\t\t\t\\\n+\tprefix = \".gnu.linkonce.d.\";\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    prefix = \"\";\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+  len = strlen (name) + strlen (prefix);\t\t\t\\\n+  string = alloca (len + 1);\t\t\t\t\t\\\n+  sprintf (string, \"%s%s\", prefix, name);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+  DECL_SECTION_NAME (DECL) = build_string (len, string);\t\\\n+} while (0)\n+\n /* A C statement (sans semicolon) to output an element in the table of\n    global constructors.  */\n #define ASM_OUTPUT_CONSTRUCTOR(FILE,NAME)\t\t\t\t\\"}]}