{"sha": "276ca6eaf8623ff4cda3416018f5885968791eb7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc2Y2E2ZWFmODYyM2ZmNGNkYTM0MTYwMThmNTg4NTk2ODc5MWViNw==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1998-05-26T10:47:58Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-05-26T10:47:58Z"}, "message": "lex.c (parse_options,yy_cur,yy_lim): Add for cpplib.\n\n1998-05-26  Dave Brolley  <brolley@cygnus.com>\n\t* lex.c (parse_options,yy_cur,yy_lim): Add for cpplib.\n\t(init_parse): Initialize cpplib interface.\n\t* Makefile.in (CXX_OBJS): Make sure dependencies nenver end with an\n\tempty continuation.\n\nFrom-SVN: r20059", "tree": {"sha": "0a88c48e4e79bad8cfe8ca2dd008aa15fe936a9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a88c48e4e79bad8cfe8ca2dd008aa15fe936a9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/276ca6eaf8623ff4cda3416018f5885968791eb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/276ca6eaf8623ff4cda3416018f5885968791eb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/276ca6eaf8623ff4cda3416018f5885968791eb7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/276ca6eaf8623ff4cda3416018f5885968791eb7/comments", "author": null, "committer": null, "parents": [{"sha": "ad076f4e6d18d6c69f538f064c852ab043523204", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad076f4e6d18d6c69f538f064c852ab043523204", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad076f4e6d18d6c69f538f064c852ab043523204"}], "stats": {"total": 29, "additions": 25, "deletions": 4}, "files": [{"sha": "b3c572c0c2d4b00caef0c2037688ef00d2c14cd6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/276ca6eaf8623ff4cda3416018f5885968791eb7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/276ca6eaf8623ff4cda3416018f5885968791eb7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=276ca6eaf8623ff4cda3416018f5885968791eb7", "patch": "@@ -1,3 +1,11 @@\n+1998-05-26  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* lex.c (parse_options,yy_cur,yy_lim): Add for cpplib.\n+\t(init_parse): Initialize cpplib interface.\n+\n+\t* Makefile.in (CXX_OBJS): Make sure dependencies nenver end with an\n+\tempty continuation.\n+\n 1998-05-26  Mark Mitchell  <mark@markmitchell.com>\n \n \t* decl.c (pushtag): Avoid crashing on erroneous input."}, {"sha": "8d816b02a036fe4e470c43a1ca3d6ed94ef808d1", "filename": "gcc/cp/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/276ca6eaf8623ff4cda3416018f5885968791eb7/gcc%2Fcp%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/276ca6eaf8623ff4cda3416018f5885968791eb7/gcc%2Fcp%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMakefile.in?ref=276ca6eaf8623ff4cda3416018f5885968791eb7", "patch": "@@ -176,8 +176,8 @@ INCLUDES = -I. -I.. -I$(srcdir) -I$(srcdir)/.. -I$(srcdir)/../config\n \n CXX_OBJS = call.o decl.o errfn.o expr.o pt.o sig.o typeck2.o \\\n  class.o decl2.o error.o lex.o parse.o ptree.o rtti.o spew.o typeck.o cvt.o \\\n- except.o friend.o init.o method.o search.o semantics.o tree.o xref.o repo.o \\\n- @extra_cxx_objs@\n+ except.o friend.o init.o method.o search.o semantics.o tree.o xref.o \\\n+ repo.o @extra_cxx_objs@\n \n # Language-independent object files.\n OBJS = `cat ../stamp-objlist` ../c-common.o ../c-pragma.o"}, {"sha": "0cc98af099299f77010ea96c3586e340495feae9", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/276ca6eaf8623ff4cda3416018f5885968791eb7/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/276ca6eaf8623ff4cda3416018f5885968791eb7/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=276ca6eaf8623ff4cda3416018f5885968791eb7", "patch": "@@ -114,7 +114,9 @@ char *inline_text_firstobj;\n \n #if USE_CPPLIB\n #include \"cpplib.h\"\n-extern cpp_reader parse_in;\n+extern cpp_reader  parse_in;\n+extern cpp_options parse_options;\n+extern unsigned char *yy_cur, *yy_lim;\n #else\n FILE *finput;\n #endif\n@@ -471,7 +473,18 @@ init_parse (filename)\n \n   int i;\n \n-#if !USE_CPPLIB\n+#if USE_CPPLIB\n+  yy_cur = \"\";\n+  yy_lim = yy_cur;\n+\n+  cpp_reader_init (&parse_in);\n+  parse_in.data = &parse_options;\n+  cpp_options_init (&parse_options);\n+  cpp_handle_options (&parse_in, 0, NULL); /* FIXME */\n+  parse_in.show_column = 1;\n+  if (! cpp_start_read (&parse_in, filename))\n+    abort ();\n+#else\n   /* Open input file.  */\n   if (filename == 0 || !strcmp (filename, \"-\"))\n     {"}]}