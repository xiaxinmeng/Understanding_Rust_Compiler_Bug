{"sha": "cd4aafd57bca02af58e42a8a59bfd571780b28fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q0YWFmZDU3YmNhMDJhZjU4ZTQyYThhNTliZmQ1NzE3ODBiMjhmYw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-04-08T18:44:21Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-04-08T18:44:21Z"}, "message": "(finish_function): Always warn if main doesn't return int.\n\nFrom-SVN: r11674", "tree": {"sha": "aaa8cc536c82e56306efbea48ff89c19561bc735", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aaa8cc536c82e56306efbea48ff89c19561bc735"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd4aafd57bca02af58e42a8a59bfd571780b28fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd4aafd57bca02af58e42a8a59bfd571780b28fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd4aafd57bca02af58e42a8a59bfd571780b28fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd4aafd57bca02af58e42a8a59bfd571780b28fc/comments", "author": null, "committer": null, "parents": [{"sha": "5ebfb2bafe1d541932739c72fab9feaf70d4e2a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ebfb2bafe1d541932739c72fab9feaf70d4e2a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ebfb2bafe1d541932739c72fab9feaf70d4e2a9"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "6ad09d94ba50ef889b5b60b678bffe80dc9d3291", "filename": "gcc/c-decl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd4aafd57bca02af58e42a8a59bfd571780b28fc/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd4aafd57bca02af58e42a8a59bfd571780b28fc/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=cd4aafd57bca02af58e42a8a59bfd571780b28fc", "patch": "@@ -6797,19 +6797,19 @@ finish_function (nested)\n       setjmp_protect_args ();\n     }\n \n-#ifdef DEFAULT_MAIN_RETURN\n   if (! strcmp (IDENTIFIER_POINTER (DECL_NAME (fndecl)), \"main\"))\n     {\n       if (TYPE_MAIN_VARIANT (TREE_TYPE (TREE_TYPE (fndecl)))\n \t  != integer_type_node)\n-\twarning_with_decl (fndecl, \"return type of `%s' is not `int'\");\n+\tpedwarn_with_decl (fndecl, \"return type of `%s' is not `int'\");\n       else\n \t{\n+#ifdef DEFAULT_MAIN_RETURN\n \t  /* Make it so that `main' always returns success by default.  */\n \t  DEFAULT_MAIN_RETURN;\n+#endif\n \t}\n     }\n-#endif\n \n   /* Generate rtl for function exit.  */\n   expand_function_end (input_filename, lineno, 0);"}]}