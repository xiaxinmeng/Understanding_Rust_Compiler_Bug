{"sha": "a8ba47cb4108fb929ceff43d1feb127d4122825d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThiYTQ3Y2I0MTA4ZmI5MjljZWZmNDNkMWZlYjEyN2Q0MTIyODI1ZA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-08-08T10:04:51Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-08-08T10:04:51Z"}, "message": "recog.c (split_all_insns): Set RTL profile\n\n\n\t* recog.c (split_all_insns): Set RTL profile\n\t(peephole2_optimize): Likewise.\n\t* function.c (thread_prologue_and_epilogue_insns): Likewise.\n\t* combine.c (combine_instructions): Likewise.\n\nFrom-SVN: r138863", "tree": {"sha": "0ff041ea1557ad221f15b8a44f72634292572329", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ff041ea1557ad221f15b8a44f72634292572329"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8ba47cb4108fb929ceff43d1feb127d4122825d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8ba47cb4108fb929ceff43d1feb127d4122825d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8ba47cb4108fb929ceff43d1feb127d4122825d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8ba47cb4108fb929ceff43d1feb127d4122825d/comments", "author": null, "committer": null, "parents": [{"sha": "1de853b169e6efe274f30270ef4ca7c9e827f773", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1de853b169e6efe274f30270ef4ca7c9e827f773", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1de853b169e6efe274f30270ef4ca7c9e827f773"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "20836b2f118c7a64ad055fcdfc25865e1fd7161c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a8ba47cb4108fb929ceff43d1feb127d4122825d", "patch": "@@ -1,3 +1,10 @@\n+2008-08-07  Jan Hubicka  <jh@suse.cz>\n+\n+\t* recog.c (split_all_insns): Set RTL profile\n+\t(peephole2_optimize): Likewise.\n+\t* function.c (thread_prologue_and_epilogue_insns): Likewise.\n+\t* combine.c (combine_instructions): Likewise.\n+\n 2008-08-07  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* c-common.c (c_common_reswords): Also warn about keyword \"bool\"."}, {"sha": "a39649d7c8eb1bfcef454f1319f39e23f1525c40", "filename": "gcc/combine.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=a8ba47cb4108fb929ceff43d1feb127d4122825d", "patch": "@@ -1112,6 +1112,7 @@ combine_instructions (rtx f, unsigned int nregs)\n       last_call_luid = 0;\n       mem_last_set = -1;\n       label_tick++;\n+      rtl_profile_for_bb (this_basic_block);\n       for (insn = BB_HEAD (this_basic_block);\n \t   insn != NEXT_INSN (BB_END (this_basic_block));\n \t   insn = next ? next : NEXT_INSN (insn))\n@@ -1268,6 +1269,7 @@ combine_instructions (rtx f, unsigned int nregs)\n \t}\n     }\n \n+  default_rtl_profile ();\n   clear_log_links ();\n   clear_bb_flags ();\n   new_direct_jump_p |= purge_all_dead_edges ();"}, {"sha": "98b8da0736567ccc6e275728854ee76a1da5ad1d", "filename": "gcc/function.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=a8ba47cb4108fb929ceff43d1feb127d4122825d", "patch": "@@ -4840,6 +4840,7 @@ thread_prologue_and_epilogue_insns (void)\n #endif\n   edge_iterator ei;\n \n+  rtl_profile_for_bb (ENTRY_BLOCK_PTR);\n #ifdef HAVE_prologue\n   if (HAVE_prologue)\n     {\n@@ -4886,6 +4887,7 @@ thread_prologue_and_epilogue_insns (void)\n   if (e == NULL)\n     goto epilogue_done;\n \n+  rtl_profile_for_bb (EXIT_BLOCK_PTR);\n #ifdef HAVE_return\n   if (optimize && HAVE_return)\n     {\n@@ -5035,6 +5037,7 @@ thread_prologue_and_epilogue_insns (void)\n       cfg_layout_finalize ();\n     }\n epilogue_done:\n+  default_rtl_profile ();\n \n   if (inserted)\n     {"}, {"sha": "44d3b40b643b8c3efddfd8ec492e5d8365d85e54", "filename": "gcc/recog.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8ba47cb4108fb929ceff43d1feb127d4122825d/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=a8ba47cb4108fb929ceff43d1feb127d4122825d", "patch": "@@ -2672,6 +2672,7 @@ split_all_insns (void)\n       rtx insn, next;\n       bool finish = false;\n \n+      rtl_profile_for_bb (bb);\n       for (insn = BB_HEAD (bb); !finish ; insn = next)\n \t{\n \t  /* Can't use `next_real_insn' because that might go across\n@@ -2714,6 +2715,7 @@ split_all_insns (void)\n \t}\n     }\n \n+  default_rtl_profile ();\n   if (changed)\n     find_many_sub_basic_blocks (blocks);\n \n@@ -2966,6 +2968,7 @@ peephole2_optimize (void)\n \n   FOR_EACH_BB_REVERSE (bb)\n     {\n+      rtl_profile_for_bb (bb);\n       /* Indicate that all slots except the last holds invalid data.  */\n       for (i = 0; i < MAX_INSNS_PER_PEEP2; ++i)\n \tpeep2_insn_data[i].insn = NULL_RTX;\n@@ -3182,6 +3185,7 @@ peephole2_optimize (void)\n \t}\n     }\n \n+  default_rtl_profile ();\n   for (i = 0; i < MAX_INSNS_PER_PEEP2 + 1; ++i)\n     BITMAP_FREE (peep2_insn_data[i].live_before);\n   BITMAP_FREE (live);"}]}