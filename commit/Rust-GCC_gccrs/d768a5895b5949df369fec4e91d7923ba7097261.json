{"sha": "d768a5895b5949df369fec4e91d7923ba7097261", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc2OGE1ODk1YjU5NDlkZjM2OWZlYzRlOTFkNzkyM2JhNzA5NzI2MQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-10-17T17:07:15Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-10-17T17:07:15Z"}, "message": "pt.c (convert_template_argument): Revert this change: 2002-10-16 Mark Mitchell <mark@codesourcery.com>\n\n\t* pt.c (convert_template_argument): Revert this change:\n\t\t2002-10-16  Mark Mitchell  <mark@codesourcery.com>\n\t\t* pt.c (convert_template_argument): Do not fold non-type\n\t\ttemplate rguments when inside a template.\n\n\t* g++.dg/abi/mangle17.C: Adjust.\n\nFrom-SVN: r58251", "tree": {"sha": "40459654f2f770068521f2fdc4d058fe0d3baff5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40459654f2f770068521f2fdc4d058fe0d3baff5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d768a5895b5949df369fec4e91d7923ba7097261", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d768a5895b5949df369fec4e91d7923ba7097261", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d768a5895b5949df369fec4e91d7923ba7097261", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d768a5895b5949df369fec4e91d7923ba7097261/comments", "author": null, "committer": null, "parents": [{"sha": "4bf1d92ee071cd9e207fcf70c3fd78bf2f7dc2a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bf1d92ee071cd9e207fcf70c3fd78bf2f7dc2a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bf1d92ee071cd9e207fcf70c3fd78bf2f7dc2a5"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "4f0b230a9628a18228fe09de616f5a7687968da3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d768a5895b5949df369fec4e91d7923ba7097261/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d768a5895b5949df369fec4e91d7923ba7097261/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=d768a5895b5949df369fec4e91d7923ba7097261", "patch": "@@ -1,5 +1,10 @@\n 2002-10-17  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* pt.c (convert_template_argument): Revert this change:\n+\t\t2002-10-16  Mark Mitchell  <mark@codesourcery.com>\n+\t\t* pt.c (convert_template_argument): Do not fold non-type\n+\t\ttemplate rguments when inside a template.\n+\n \t* init.c (expand_default_init): Handle brace-enclosed initializers\n \tcorrectly.\n "}, {"sha": "ceff84f0a06583d1ab698a4e97c9215ae4674050", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d768a5895b5949df369fec4e91d7923ba7097261/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d768a5895b5949df369fec4e91d7923ba7097261/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=d768a5895b5949df369fec4e91d7923ba7097261", "patch": "@@ -3487,11 +3487,10 @@ convert_template_argument (parm, arg, args, complain, i, in_decl)\n       if (invalid_nontype_parm_type_p (t, complain))\n         return error_mark_node;\n       \n-      if (processing_template_decl && !abi_version_at_least (2))\n+      if (processing_template_decl)\n \targ = maybe_fold_nontype_arg (arg);\n \n-      if ((!abi_version_at_least (2) || !processing_template_decl)\n-\t  && (!uses_template_parms (arg) && !uses_template_parms (t)))\n+      if (!uses_template_parms (arg) && !uses_template_parms (t))\n \t/* We used to call digest_init here.  However, digest_init\n \t   will report errors, which we don't want when complain\n \t   is zero.  More importantly, digest_init will try too"}, {"sha": "a7fd3521be662f49eb583cd59a1149097c0ec5ba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d768a5895b5949df369fec4e91d7923ba7097261/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d768a5895b5949df369fec4e91d7923ba7097261/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d768a5895b5949df369fec4e91d7923ba7097261", "patch": "@@ -1,5 +1,7 @@\n 2002-10-17  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* g++.dg/abi/mangle17.C: Adjust.\n+\n \t* g++.dg/init/array8.C: New test.\n \n 2002-10-17  Richard Sandiford  <rsandifo@redhat.com>"}]}