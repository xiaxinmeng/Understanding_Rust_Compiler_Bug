{"sha": "52388096c29387af5c2ac70f0a86e76bfbae2f8d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTIzODgwOTZjMjkzODdhZjVjMmFjNzBmMGE4NmU3NmJmYmFlMmY4ZA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2018-05-23T14:01:36Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2018-05-23T14:01:36Z"}, "message": "tree-ssa-sccvn.c (vn_reference_lookup_3): Remove restriction of fixed offset from memset VN.\n\n2018-05-23  Richard Biener  <rguenther@suse.de>\n\n\t* tree-ssa-sccvn.c (vn_reference_lookup_3): Remove restriction\n\tof fixed offset from memset VN.\n\n\t* gcc.dg/tree-ssa/ssa-fre-66.c: New testcase.\n\nFrom-SVN: r260609", "tree": {"sha": "39e4be87d5a7b021240e9db9ec9734722723998d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39e4be87d5a7b021240e9db9ec9734722723998d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52388096c29387af5c2ac70f0a86e76bfbae2f8d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52388096c29387af5c2ac70f0a86e76bfbae2f8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52388096c29387af5c2ac70f0a86e76bfbae2f8d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52388096c29387af5c2ac70f0a86e76bfbae2f8d/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d71dc99078ea4009a442559028d6110e599cdc96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d71dc99078ea4009a442559028d6110e599cdc96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d71dc99078ea4009a442559028d6110e599cdc96"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "d377909fba44e28b1dc42db9a8d852c2a21e1606", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=52388096c29387af5c2ac70f0a86e76bfbae2f8d", "patch": "@@ -1,3 +1,8 @@\n+2018-05-23  Richard Biener  <rguenther@suse.de>\n+\n+\t* tree-ssa-sccvn.c (vn_reference_lookup_3): Remove restriction\n+\tof fixed offset from memset VN.\n+\n 2018-05-23  Bill Schmidt  <wschmidt@linux.ibm.com>\n \n \t* gimple-ssa-strength-reduction.c (struct slsr_cand_d): Add"}, {"sha": "b3cf4b1fd95c04b5fc9a87d0c34e8c16fcd9eb71", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=52388096c29387af5c2ac70f0a86e76bfbae2f8d", "patch": "@@ -1,3 +1,7 @@\n+2018-05-23  Richard Biener  <rguenther@suse.de>\n+\n+\t* gcc.dg/tree-ssa/ssa-fre-66.c: New testcase.\n+\n 2018-05-23  Sudakshina Das  <sudi.das@arm.com>\n \n \tPR target/84882"}, {"sha": "1c86a1f386694bba8ec7b66adc5c03362b6ad6e0", "filename": "gcc/testsuite/gcc.dg/tree-ssa/ssa-fre-66.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-fre-66.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-fre-66.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-fre-66.c?ref=52388096c29387af5c2ac70f0a86e76bfbae2f8d", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O -fdump-tree-fre1\" } */\n+\n+int foo (int i)\n+{\n+  int a[16];\n+  __builtin_memset (a, 42, sizeof (a));\n+  return a[i];\n+}\n+\n+/* { dg-final { scan-tree-dump \"return 707406378;\" \"fre1\" { target { int32plus } } } } */"}, {"sha": "73e8fc5df49b8493cade3c3ad6027cb676505d70", "filename": "gcc/tree-ssa-sccvn.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2Ftree-ssa-sccvn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52388096c29387af5c2ac70f0a86e76bfbae2f8d/gcc%2Ftree-ssa-sccvn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-sccvn.c?ref=52388096c29387af5c2ac70f0a86e76bfbae2f8d", "patch": "@@ -1962,7 +1962,6 @@ vn_reference_lookup_3 (ao_ref *ref, tree vuse, void *vr_,\n \t  || ((TREE_CODE (gimple_call_arg (def_stmt, 1)) == INTEGER_CST\n \t       || (INTEGRAL_TYPE_P (vr->type) && known_eq (ref->size, 8)))\n \t      && CHAR_BIT == 8 && BITS_PER_UNIT == 8\n-\t      && known_eq (ref->size, maxsize)\n \t      && offset.is_constant (&offseti)\n \t      && offseti % BITS_PER_UNIT == 0))\n       && poly_int_tree_p (gimple_call_arg (def_stmt, 2))"}]}