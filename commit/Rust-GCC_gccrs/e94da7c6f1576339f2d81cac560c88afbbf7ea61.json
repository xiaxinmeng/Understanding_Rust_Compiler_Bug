{"sha": "e94da7c6f1576339f2d81cac560c88afbbf7ea61", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTk0ZGE3YzZmMTU3NjMzOWYyZDgxY2FjNTYwYzg4YWZiYmY3ZWE2MQ==", "commit": {"author": {"name": "Cary Coutant", "email": "ccoutant@gcc.gnu.org", "date": "2016-03-04T22:15:55Z"}, "committer": {"name": "Cary Coutant", "email": "ccoutant@gcc.gnu.org", "date": "2016-03-04T22:15:55Z"}, "message": "Sync include/plugin-api.h with binutils.\n\n2016-03-03  Than McIntosh <thanm@google.com>\n\n\t* plugin-api.h: Add new hooks to the plugin transfer vector to\n\tto support querying section alignment and section size.\n\t(ld_plugin_get_input_section_alignment): New hook.\n\t(ld_plugin_get_input_section_size): New hook.\n\t(ld_plugin_tag): Add LDPT_GET_INPUT_SECTION_ALIGNMENT\n\tand LDPT_GET_INPUT_SECTION_SIZE.\n\t(ld_plugin_tv): Add tv_get_input_section_alignment and\n\ttv_get_input_section_size.\n\n2016-03-03  Evgenii Stepanov  <eugenis@google.com>\n\n\t* plugin-api.h (enum ld_plugin_tag): Add LDPT_GET_SYMBOLS_V3.\n\nFrom-SVN: r233986", "tree": {"sha": "12f0bd59bde1e0ceb717beaf52e6f9b24624119a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12f0bd59bde1e0ceb717beaf52e6f9b24624119a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e94da7c6f1576339f2d81cac560c88afbbf7ea61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e94da7c6f1576339f2d81cac560c88afbbf7ea61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e94da7c6f1576339f2d81cac560c88afbbf7ea61", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e94da7c6f1576339f2d81cac560c88afbbf7ea61/comments", "author": null, "committer": null, "parents": [{"sha": "411d61c4af0a07a0f86b8fefabe568f519932d4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/411d61c4af0a07a0f86b8fefabe568f519932d4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/411d61c4af0a07a0f86b8fefabe568f519932d4e"}], "stats": {"total": 44, "additions": 42, "deletions": 2}, "files": [{"sha": "c48156f9887ca471532daeba4fa75040754ba44d", "filename": "include/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e94da7c6f1576339f2d81cac560c88afbbf7ea61/include%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e94da7c6f1576339f2d81cac560c88afbbf7ea61/include%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2FChangeLog?ref=e94da7c6f1576339f2d81cac560c88afbbf7ea61", "patch": "@@ -1,3 +1,18 @@\n+2016-03-03  Than McIntosh <thanm@google.com>\n+\n+\t* plugin-api.h: Add new hooks to the plugin transfer vector to\n+\tto support querying section alignment and section size.\n+\t(ld_plugin_get_input_section_alignment): New hook.\n+\t(ld_plugin_get_input_section_size): New hook.\n+\t(ld_plugin_tag): Add LDPT_GET_INPUT_SECTION_ALIGNMENT\n+\tand LDPT_GET_INPUT_SECTION_SIZE.\n+\t(ld_plugin_tv): Add tv_get_input_section_alignment and\n+\ttv_get_input_section_size.\n+\n+2016-03-03  Evgenii Stepanov  <eugenis@google.com>\n+\n+\t* plugin-api.h (enum ld_plugin_tag): Add LDPT_GET_SYMBOLS_V3.\n+\n 2016-01-19  Martin Jambor  <mjambor@suse.cz>\n \n \t* gomp-constants.h (GOMP_DEVICE_HSA): New macro."}, {"sha": "a794a37049a88aa1b7625c6ea231333e493240a7", "filename": "include/plugin-api.h", "status": "modified", "additions": 27, "deletions": 2, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e94da7c6f1576339f2d81cac560c88afbbf7ea61/include%2Fplugin-api.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e94da7c6f1576339f2d81cac560c88afbbf7ea61/include%2Fplugin-api.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fplugin-api.h?ref=e94da7c6f1576339f2d81cac560c88afbbf7ea61", "patch": "@@ -1,6 +1,6 @@\n /* plugin-api.h -- External linker plugin API.  */\n \n-/* Copyright (C) 2009-2015 Free Software Foundation, Inc.\n+/* Copyright (C) 2009-2016 Free Software Foundation, Inc.\n    Written by Cary Coutant <ccoutant@google.com>.\n \n    This file is part of binutils.\n@@ -345,6 +345,26 @@ enum ld_plugin_status\n     const struct ld_plugin_section * section_list,\n     unsigned int num_sections);\n \n+/* The linker's interface for retrieving the section alignment requirement\n+   of a specific section in an object.  This interface should only be invoked in the\n+   claim_file handler.  This function sets *ADDRALIGN to the ELF sh_addralign\n+   value of the input section.  */\n+\n+typedef\n+enum ld_plugin_status\n+(*ld_plugin_get_input_section_alignment) (const struct ld_plugin_section section,\n+                                          unsigned int *addralign);\n+\n+/* The linker's interface for retrieving the section size of a specific section\n+   in an object.  This interface should only be invoked in the claim_file handler.\n+   This function sets *SECSIZE to the ELF sh_size\n+   value of the input section.  */\n+\n+typedef\n+enum ld_plugin_status\n+(*ld_plugin_get_input_section_size) (const struct ld_plugin_section section,\n+                                     uint64_t *secsize);\n+\n enum ld_plugin_level\n {\n   LDPL_INFO,\n@@ -384,7 +404,10 @@ enum ld_plugin_tag\n   LDPT_ALLOW_SECTION_ORDERING = 24,\n   LDPT_GET_SYMBOLS_V2 = 25,\n   LDPT_ALLOW_UNIQUE_SEGMENT_FOR_SECTIONS = 26,\n-  LDPT_UNIQUE_SEGMENT_FOR_SECTIONS = 27\n+  LDPT_UNIQUE_SEGMENT_FOR_SECTIONS = 27,\n+  LDPT_GET_SYMBOLS_V3 = 28,\n+  LDPT_GET_INPUT_SECTION_ALIGNMENT = 29,\n+  LDPT_GET_INPUT_SECTION_SIZE = 30\n };\n \n /* The plugin transfer vector.  */\n@@ -416,6 +439,8 @@ struct ld_plugin_tv\n     ld_plugin_allow_section_ordering tv_allow_section_ordering;\n     ld_plugin_allow_unique_segment_for_sections tv_allow_unique_segment_for_sections; \n     ld_plugin_unique_segment_for_sections tv_unique_segment_for_sections;\n+    ld_plugin_get_input_section_alignment tv_get_input_section_alignment;\n+    ld_plugin_get_input_section_size tv_get_input_section_size;\n   } tv_u;\n };\n "}]}