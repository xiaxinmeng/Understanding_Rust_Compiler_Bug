{"sha": "b82daa87018663e0eb5db1ff1618070a55b08dc1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgyZGFhODcwMTg2NjNlMGViNWRiMWZmMTYxODA3MGE1NWIwOGRjMQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@cygnus.com", "date": "1999-01-08T15:50:10Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-01-08T15:50:10Z"}, "message": "check-init.c (check_init): If compiling to native, we don't see THROW_EXPR.\n\n@\n\t* check-init.c (check_init):  If compiling to native, we don't\n\tsee THROW_EXPR.  Instead, look for a call to throw_node (_Jv_Throw).\n\nFrom-SVN: r24575", "tree": {"sha": "ba6970e6a445fefc6399996a38e4e93bd830d686", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba6970e6a445fefc6399996a38e4e93bd830d686"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b82daa87018663e0eb5db1ff1618070a55b08dc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82daa87018663e0eb5db1ff1618070a55b08dc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b82daa87018663e0eb5db1ff1618070a55b08dc1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82daa87018663e0eb5db1ff1618070a55b08dc1/comments", "author": null, "committer": null, "parents": [{"sha": "642cac7ba0f1a07651de641ac1f00bc5b4744ed6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/642cac7ba0f1a07651de641ac1f00bc5b4744ed6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/642cac7ba0f1a07651de641ac1f00bc5b4744ed6"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "3e25bdf511edee980a54e39b359dabdcf971c50f", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82daa87018663e0eb5db1ff1618070a55b08dc1/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82daa87018663e0eb5db1ff1618070a55b08dc1/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=b82daa87018663e0eb5db1ff1618070a55b08dc1", "patch": "@@ -1,3 +1,8 @@\n+Fri Jan  8 15:48:03 1999  Per Bothner  <bothner@cygnus.com>\n+\n+\t* check-init.c (check_init):  If compiling to native, we don't\n+\tsee THROW_EXPR.  Instead, look for a call to throw_node (_Jv_Throw).\n+\n 1999-01-08  Tom Tromey  <tromey@cygnus.com>\n \n \t* parse-scan.y (variable_declarator_id): Set or increment"}, {"sha": "ec3e5adb1735b2dda194ad9f1cd1ed6a086ac032", "filename": "gcc/java/check-init.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82daa87018663e0eb5db1ff1618070a55b08dc1/gcc%2Fjava%2Fcheck-init.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82daa87018663e0eb5db1ff1618070a55b08dc1/gcc%2Fjava%2Fcheck-init.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fcheck-init.c?ref=b82daa87018663e0eb5db1ff1618070a55b08dc1", "patch": "@@ -571,12 +571,12 @@ check_init (exp, before)\n     case THROW_EXPR:\n       if (TREE_OPERAND (exp, 0))\n \tcheck_init (TREE_OPERAND (exp, 0), before);\n-      SET_ALL (before);\n-      return;\n+      goto never_continues;\n \n     case ERROR_MARK:\n+    never_continues:\n       SET_ALL (before);\n-      break;\n+      return;\n       \n     case COND_EXPR:\n     case TRUTH_ANDIF_EXPR:\n@@ -649,11 +649,16 @@ check_init (exp, before)\n     case NEW_CLASS_EXPR:\n     case CALL_EXPR:\n       {\n+\ttree func = TREE_OPERAND (exp, 0);\n \ttree x = TREE_OPERAND (exp, 1);\n-\tcheck_init (TREE_OPERAND (exp, 0), before);\n-\t\n+\tif (TREE_CODE (func) == ADDR_EXPR)\n+\t  func = TREE_OPERAND (func, 0);\n+\tcheck_init (func, before);\n+\n \tfor ( ;  x != NULL_TREE;  x = TREE_CHAIN (x))\n \t  check_init (TREE_VALUE (x), before);\n+\tif (func == throw_node)\n+\t  goto never_continues;\n       }\n       break;\n "}]}