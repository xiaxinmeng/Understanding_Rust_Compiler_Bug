{"sha": "bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJlYWYwNWRjMGY4NDVjYzlkNWNjZWYyZTVkYjZkNGU5ODI1NTU4MA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2014-06-13T22:30:47Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2014-06-13T22:30:47Z"}, "message": "re PR go/61496 (Many Go tests FAIL with ld warning about go$zerovalue)\n\n\tPR go/61496\n\t* gospec.c (lang_specific_driver): On Solaris, when not using GNU\n\tld, add -t option to avoid warning about common symbol changing\n\tsize.\n\nFrom-SVN: r211658", "tree": {"sha": "1f7525b8e3c4962514360e4f4be5a9b66f1f241a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f7525b8e3c4962514360e4f4be5a9b66f1f241a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580/comments", "author": null, "committer": null, "parents": [{"sha": "9afb455c25fabe799656b446eaa4511169339aad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9afb455c25fabe799656b446eaa4511169339aad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9afb455c25fabe799656b446eaa4511169339aad"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "6b535851d6d834c205435d793a66d4310fc115a4", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580", "patch": "@@ -1,3 +1,10 @@\n+2014-06-13  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR go/61496\n+\t* gospec.c (lang_specific_driver): On Solaris, when not using GNU\n+\tld, add -t option to avoid warning about common symbol changing\n+\tsize.\n+\n 2014-06-10  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* go/go-gcc.cc (Gcc_backend::global_variable_set_init): Use"}, {"sha": "8b2d8afda72d119906b62fd0f077ef6872f9d83c", "filename": "gcc/go/gospec.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580/gcc%2Fgo%2Fgospec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580/gcc%2Fgo%2Fgospec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgospec.c?ref=bbeaf05dc0f845cc9d5ccef2e5db6d4e98255580", "patch": "@@ -395,6 +395,15 @@ lang_specific_driver (struct cl_decoded_option **in_decoded_options,\n     }\n #endif\n \n+#if defined(TARGET_SOLARIS) && !defined(USE_GLD)\n+  /* We use a common symbol for go$zerovalue.  On Solaris, when not\n+     using the GNU linker, the Solaris linker needs an option to not\n+     warn about this.  Everything works without this option, but you\n+     get unsightly warnings at link time.  */\n+  generate_option (OPT_Wl_, \"-t\", 1, CL_DRIVER, &new_decoded_options[j]);\n+  j++;\n+#endif\n+\n   *in_decoded_options_count = j;\n   *in_decoded_options = new_decoded_options;\n   *in_added_libraries = added_libraries;"}]}