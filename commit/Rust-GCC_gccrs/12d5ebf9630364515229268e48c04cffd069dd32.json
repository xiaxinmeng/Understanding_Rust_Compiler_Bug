{"sha": "12d5ebf9630364515229268e48c04cffd069dd32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJkNWViZjk2MzAzNjQ1MTUyMjkyNjhlNDhjMDRjZmZkMDY5ZGQzMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-10-19T19:43:47Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-10-19T19:43:47Z"}, "message": "compiler: don't export any functions with special names\n    \n    This keeps init functions from appearing in the export data.  Checking\n    for special names in general means that we don't need to check\n    specifically for nested functions or thunks, which have special names.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/143237\n\nFrom-SVN: r265321", "tree": {"sha": "2317ee528d8f155674d9a4d87cf3324a9d39392e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2317ee528d8f155674d9a4d87cf3324a9d39392e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12d5ebf9630364515229268e48c04cffd069dd32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12d5ebf9630364515229268e48c04cffd069dd32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12d5ebf9630364515229268e48c04cffd069dd32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12d5ebf9630364515229268e48c04cffd069dd32/comments", "author": null, "committer": null, "parents": [{"sha": "3146c60f16558e7eae1039ba6c937f75413ce4f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3146c60f16558e7eae1039ba6c937f75413ce4f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3146c60f16558e7eae1039ba6c937f75413ce4f9"}], "stats": {"total": 10, "additions": 3, "deletions": 7}, "files": [{"sha": "1503672619f151a87a2a703278bc1dd8b6467985", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12d5ebf9630364515229268e48c04cffd069dd32/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12d5ebf9630364515229268e48c04cffd069dd32/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=12d5ebf9630364515229268e48c04cffd069dd32", "patch": "@@ -1,4 +1,4 @@\n-6f4bce815786ff3803741355f7f280e4e2c89668\n+e1dc92a6037a3f81ea1b8ea8fb6207af33505f0c\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "6365d6440b73d9cf59c16dfef416c2bf9c779c37", "filename": "gcc/go/gofrontend/export.cc", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12d5ebf9630364515229268e48c04cffd069dd32/gcc%2Fgo%2Fgofrontend%2Fexport.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12d5ebf9630364515229268e48c04cffd069dd32/gcc%2Fgo%2Fgofrontend%2Fexport.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexport.cc?ref=12d5ebf9630364515229268e48c04cffd069dd32", "patch": "@@ -75,12 +75,8 @@ should_export(Named_object* no)\n   if (Gogo::is_hidden_name(no->name()))\n     return false;\n \n-  // We don't export nested functions.\n-  if (no->is_function() && no->func_value()->enclosing() != NULL)\n-    return false;\n-\n-  // We don't export thunks.\n-  if (no->is_function() && Gogo::is_thunk(no))\n+  // We don't export various special functions.\n+  if (Gogo::is_special_name(no->name()))\n     return false;\n \n   // Methods are exported with the type, not here."}]}