{"sha": "d742bfc0094db87c2c8c4f061d649ff4816b56bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc0MmJmYzAwOTRkYjg3YzJjOGM0ZjA2MWQ2NDlmZjQ4MTZiNTZiYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-10-23T12:29:51Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-10-23T12:29:51Z"}, "message": "[multiple changes]\n\n2015-10-23  Bob Duff  <duff@adacore.com>\n\n\t* a-convec.adb (Copy): Make sure C is initialized\n\ton all paths, including when Checks is False.\n\n2015-10-23  Eric Botcazou  <ebotcazou@adacore.com>\n\n\t* sem_ch13.adb (Analyze_Attribute_Definition_Clause): Remove\n\terror as unreachable.\n\nFrom-SVN: r229242", "tree": {"sha": "2b1d5d993fc33ed6cfa13f3d2359ee294a235e55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b1d5d993fc33ed6cfa13f3d2359ee294a235e55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d742bfc0094db87c2c8c4f061d649ff4816b56bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d742bfc0094db87c2c8c4f061d649ff4816b56bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d742bfc0094db87c2c8c4f061d649ff4816b56bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d742bfc0094db87c2c8c4f061d649ff4816b56bc/comments", "author": null, "committer": null, "parents": [{"sha": "2700b9c1ee96244be32ca50533692d14f4b18eef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2700b9c1ee96244be32ca50533692d14f4b18eef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2700b9c1ee96244be32ca50533692d14f4b18eef"}], "stats": {"total": 34, "additions": 18, "deletions": 16}, "files": [{"sha": "e17fa0c5422539829f5a2d2aff8f39ef4685eacb", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d742bfc0094db87c2c8c4f061d649ff4816b56bc/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d742bfc0094db87c2c8c4f061d649ff4816b56bc/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d742bfc0094db87c2c8c4f061d649ff4816b56bc", "patch": "@@ -1,3 +1,13 @@\n+2015-10-23  Bob Duff  <duff@adacore.com>\n+\n+\t* a-convec.adb (Copy): Make sure C is initialized\n+\ton all paths, including when Checks is False.\n+\n+2015-10-23  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* sem_ch13.adb (Analyze_Attribute_Definition_Clause): Remove\n+\terror as unreachable.\n+\n 2015-10-23  Arnaud Charlet  <charlet@adacore.com>\n \n \t* gnat1drv.adb (Adjust_Global_Switches): Adjust."}, {"sha": "c009b6b90889fedfe9b89a8f16d071469cbb044f", "filename": "gcc/ada/a-convec.adb", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d742bfc0094db87c2c8c4f061d649ff4816b56bc/gcc%2Fada%2Fa-convec.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d742bfc0094db87c2c8c4f061d649ff4816b56bc/gcc%2Fada%2Fa-convec.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-convec.adb?ref=d742bfc0094db87c2c8c4f061d649ff4816b56bc", "patch": "@@ -346,15 +346,16 @@ package body Ada.Containers.Vectors is\n       C : Count_Type;\n \n    begin\n-      if Capacity = 0 then\n-         C := Source.Length;\n-\n-      elsif Capacity >= Source.Length then\n+      if Capacity >= Source.Length then\n          C := Capacity;\n \n-      elsif Checks then\n-         raise Capacity_Error with\n-           \"Requested capacity is less than Source length\";\n+      else\n+         C := Source.Length;\n+\n+         if Checks and then Capacity /= 0 then\n+            raise Capacity_Error with\n+              \"Requested capacity is less than Source length\";\n+         end if;\n       end if;\n \n       return Target : Vector do"}, {"sha": "02e5ed33ab6faab797a83eb0af6b8426aa03fb1f", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d742bfc0094db87c2c8c4f061d649ff4816b56bc/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d742bfc0094db87c2c8c4f061d649ff4816b56bc/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=d742bfc0094db87c2c8c4f061d649ff4816b56bc", "patch": "@@ -4808,15 +4808,6 @@ package body Sem_Ch13 is\n                      end if;\n                   end;\n \n-                  if Is_Exported (U_Ent) then\n-                     Error_Msg_N\n-                       (\"& cannot be exported if an address clause is given\",\n-                        Nam);\n-                     Error_Msg_N\n-                       (\"\\define and export a variable \"\n-                        & \"that holds its address instead\", Nam);\n-                  end if;\n-\n                   --  Entity has delayed freeze, so we will generate an\n                   --  alignment check at the freeze point unless suppressed.\n "}]}