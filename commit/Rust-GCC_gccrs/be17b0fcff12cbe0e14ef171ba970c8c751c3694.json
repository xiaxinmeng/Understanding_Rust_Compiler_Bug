{"sha": "be17b0fcff12cbe0e14ef171ba970c8c751c3694", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUxN2IwZmNmZjEyY2JlMGUxNGVmMTcxYmE5NzBjOGM3NTFjMzY5NA==", "commit": {"author": {"name": "Warren Levy", "email": "warrenl@redhat.com", "date": "2000-12-08T10:28:32Z"}, "committer": {"name": "Warren Levy", "email": "warrenl@gcc.gnu.org", "date": "2000-12-08T10:28:32Z"}, "message": "FileInputStream.java (close): Check if the fd is valid.\n\n\t* java/io/FileInputStream.java (close): Check if the fd is valid.\n\t* java/io/RandomAccessFile.java (close): Ditto.\n\t* java/net/PlainDatagramSocketImpl.java (close): Ditto.\n\t* java/net/PlainSocketImpl.java (close): Ditto.\n\nFrom-SVN: r38131", "tree": {"sha": "b4c3616d43b0eab88310fe6f45bc8a5671c3b806", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4c3616d43b0eab88310fe6f45bc8a5671c3b806"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be17b0fcff12cbe0e14ef171ba970c8c751c3694", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be17b0fcff12cbe0e14ef171ba970c8c751c3694", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be17b0fcff12cbe0e14ef171ba970c8c751c3694", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be17b0fcff12cbe0e14ef171ba970c8c751c3694/comments", "author": null, "committer": null, "parents": [{"sha": "cf9f5da02f82fdf782b13f75e5328ca3d5649a06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf9f5da02f82fdf782b13f75e5328ca3d5649a06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf9f5da02f82fdf782b13f75e5328ca3d5649a06"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "91f20e77135e4285de10255d4c4b53f785d7427e", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=be17b0fcff12cbe0e14ef171ba970c8c751c3694", "patch": "@@ -1,3 +1,10 @@\n+2000-12-08  Warren Levy  <warrenl@redhat.com>\n+\n+\t* java/io/FileInputStream.java (close): Check if the fd is valid.\n+\t* java/io/RandomAccessFile.java (close): Ditto.\n+\t* java/net/PlainDatagramSocketImpl.java (close): Ditto.\n+\t* java/net/PlainSocketImpl.java (close): Ditto.\n+\n 2000-12-06  Tom Tromey  <tromey@redhat.com>\n \n \t* java/awt/GridBagConstraints.java: Filled in values for static"}, {"sha": "67d4842f4f8a5711f3e1ffee89b2cd3facf8db2c", "filename": "libjava/java/io/FileInputStream.java", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fio%2FFileInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fio%2FFileInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FFileInputStream.java?ref=be17b0fcff12cbe0e14ef171ba970c8c751c3694", "patch": "@@ -51,11 +51,8 @@ public int available() throws IOException\n \n   public void close() throws IOException\n   {\n-    if (fd == null)\n-      return;\n-\n-    fd.close();\n-    fd = null;\n+    if (fd.valid())\n+      fd.close();\n   }\n \n   protected void finalize() throws IOException"}, {"sha": "9a0bf807202f58a3a7d213bce353b2d8986b95d4", "filename": "libjava/java/io/RandomAccessFile.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fio%2FRandomAccessFile.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fio%2FRandomAccessFile.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FRandomAccessFile.java?ref=be17b0fcff12cbe0e14ef171ba970c8c751c3694", "patch": "@@ -24,7 +24,8 @@ public class RandomAccessFile implements DataOutput, DataInput\n {\n   public void close () throws IOException\n   {\n-    fd.close();\n+    if (fd.valid())\n+      fd.close();\n   }\n \n   public final FileDescriptor getFD () throws IOException"}, {"sha": "7076ccf31b17734794614c39cabf8091c3a92286", "filename": "libjava/java/net/PlainDatagramSocketImpl.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fnet%2FPlainDatagramSocketImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fnet%2FPlainDatagramSocketImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FPlainDatagramSocketImpl.java?ref=be17b0fcff12cbe0e14ef171ba970c8c751c3694", "patch": "@@ -79,7 +79,8 @@ protected void close()\n     // we'll catch the IOException here.\n     try\n       {\n-        fd.close();\n+        if (fd.valid())\n+\t  fd.close();\n       }\n     catch (IOException e)\n       {"}, {"sha": "49155d942b76f3b9822144cafddd1cc55361c969", "filename": "libjava/java/net/PlainSocketImpl.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fnet%2FPlainSocketImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be17b0fcff12cbe0e14ef171ba970c8c751c3694/libjava%2Fjava%2Fnet%2FPlainSocketImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FPlainSocketImpl.java?ref=be17b0fcff12cbe0e14ef171ba970c8c751c3694", "patch": "@@ -92,6 +92,7 @@ protected int available () throws IOException\n \n   protected void close () throws IOException\n   {\n-    fd.close();\n+    if (fd.valid())\n+      fd.close();\n   }\n }"}]}