{"sha": "01771d4361d3fc7e89e292db5f15aa11783e7ec7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDE3NzFkNDM2MWQzZmM3ZTg5ZTI5MmRiNWYxNWFhMTE3ODNlN2VjNw==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2016-07-21T12:25:00Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2016-07-21T12:25:00Z"}, "message": "function-tests.c (build_trivial_generic_function): Set BLOCK_SUPERCONTEXT of DECL_INITIAL.\n\n2016-07-21  Richard Biener  <rguenther@suse.de>\n\n\t* function-tests.c (build_trivial_generic_function): Set\n\tBLOCK_SUPERCONTEXT of DECL_INITIAL.\n\t* omp-low.c (create_omp_child_function): Likewise.\n\t(grid_expand_target_grid_body): Likewise.\n\t* cgraphunit.c (init_lowered_empty_function): Likewise.\n\t(cgraph_node::expand_thunk): Likewise.\n\t* tree-parloops.c (create_loop_fn): Likewise.\n\t* ipa.c (cgraph_build_static_cdtor_1): Likewise.\n\n\tcp/\n\t* vtable-class-hierarchy.c (vtv_generate_init_routine): Set\n\tDECL_IGNORED_P.\n\n\tjava/\n\t* jcf-parse.c (java_emit_static_constructor): Set\n\tBLOCK_SUPERCONTEXT of DECL_INITIAL.\n\nFrom-SVN: r238589", "tree": {"sha": "6ccb528b6e7bd8484f44e339a0245205bba13e7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6ccb528b6e7bd8484f44e339a0245205bba13e7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01771d4361d3fc7e89e292db5f15aa11783e7ec7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01771d4361d3fc7e89e292db5f15aa11783e7ec7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01771d4361d3fc7e89e292db5f15aa11783e7ec7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01771d4361d3fc7e89e292db5f15aa11783e7ec7/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c7880c8c9220bd7cad0a711130417fd34c7d8497", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7880c8c9220bd7cad0a711130417fd34c7d8497", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7880c8c9220bd7cad0a711130417fd34c7d8497"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "6c79b12354ecc044f613648c9fe03f8b46201561", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1,3 +1,14 @@\n+2016-07-21  Richard Biener  <rguenther@suse.de>\n+\n+\t* function-tests.c (build_trivial_generic_function): Set\n+\tBLOCK_SUPERCONTEXT of DECL_INITIAL.\n+\t* omp-low.c (create_omp_child_function): Likewise.\n+\t(grid_expand_target_grid_body): Likewise.\n+\t* cgraphunit.c (init_lowered_empty_function): Likewise.\n+\t(cgraph_node::expand_thunk): Likewise.\n+\t* tree-parloops.c (create_loop_fn): Likewise.\n+\t* ipa.c (cgraph_build_static_cdtor_1): Likewise.\n+\n 2016-07-21  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n \n \t* tree-ssa-strlen.c (strlen_dom_walker::before_dom_children): Fix typo"}, {"sha": "d8f79036b407e85eeb5be09d5eedac9f5f8d6140", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1438,6 +1438,7 @@ init_lowered_empty_function (tree decl, bool in_ssa, gcov_type count)\n     }\n \n   DECL_INITIAL (decl) = make_node (BLOCK);\n+  BLOCK_SUPERCONTEXT (DECL_INITIAL (decl)) = decl;\n \n   DECL_SAVED_TREE (decl) = error_mark_node;\n   cfun->curr_properties |= (PROP_gimple_lcf | PROP_gimple_leh | PROP_gimple_any\n@@ -1627,6 +1628,7 @@ cgraph_node::expand_thunk (bool output_asm_thunks, bool force_gimple_thunk)\n       fn_block = make_node (BLOCK);\n       BLOCK_VARS (fn_block) = a;\n       DECL_INITIAL (thunk_fndecl) = fn_block;\n+      BLOCK_SUPERCONTEXT (fn_block) = thunk_fndecl;\n       allocate_struct_function (thunk_fndecl, false);\n       init_function_start (thunk_fndecl);\n       cfun->is_thunk = 1;"}, {"sha": "e7f5cb0dfbd59a6c1cba39a062f09deb4e76cb90", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1,3 +1,8 @@\n+2016-07-21  Richard Biener  <rguenther@suse.de>\n+\n+\t* vtable-class-hierarchy.c (vtv_generate_init_routine): Set\n+\tDECL_IGNORED_P.\n+\n 2016-07-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/71941"}, {"sha": "8c5f4c203a4e6f582e68420ab9a8eb78a5c0eb21", "filename": "gcc/cp/vtable-class-hierarchy.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fcp%2Fvtable-class-hierarchy.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fcp%2Fvtable-class-hierarchy.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fvtable-class-hierarchy.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1182,6 +1182,9 @@ vtv_generate_init_routine (void)\n       TREE_STATIC (vtv_fndecl) = 1;\n       TREE_USED (vtv_fndecl) = 1;\n       DECL_PRESERVE_P (vtv_fndecl) = 1;\n+      /* We are running too late to generate any meaningful debug information\n+         for this routine.  */\n+      DECL_IGNORED_P (vtv_fndecl) = 1;\n       if (flag_vtable_verify == VTV_PREINIT_PRIORITY && !TARGET_PECOFF)\n         DECL_STATIC_CONSTRUCTOR (vtv_fndecl) = 0;\n "}, {"sha": "4152cd386d5aed5c59ec4f4c5ec430bc689566c7", "filename": "gcc/function-tests.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Ffunction-tests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Ffunction-tests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction-tests.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -249,6 +249,7 @@ build_trivial_generic_function ()\n   tsi_link_after (&stmt_iter, return_stmt, TSI_CONTINUE_LINKING);\n \n   DECL_INITIAL (fndecl) = block;\n+  BLOCK_SUPERCONTEXT (block) = fndecl;\n \n   /* how to add to function? the following appears to be how to\n      set the body of a fndecl: */"}, {"sha": "6f4693fd59ad647c198968ff12a4440951c10d14", "filename": "gcc/ipa.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fipa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fipa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -935,6 +935,7 @@ cgraph_build_static_cdtor_1 (char which, tree body, int priority, bool final)\n   DECL_UNINLINABLE (decl) = 1;\n \n   DECL_INITIAL (decl) = make_node (BLOCK);\n+  BLOCK_SUPERCONTEXT (DECL_INITIAL (decl)) = decl;\n   TREE_USED (DECL_INITIAL (decl)) = 1;\n \n   DECL_SOURCE_LOCATION (decl) = input_location;"}, {"sha": "874466a7f0a08898ca392051f93733df363ebade", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1,3 +1,8 @@\n+2016-07-21  Richard Biener  <rguenther@suse.de>\n+\n+\t* jcf-parse.c (java_emit_static_constructor): Set\n+\tBLOCK_SUPERCONTEXT of DECL_INITIAL.\n+\n 2016-05-31  Roger Sayle  <roger@nextmovesoftware.com>\n \n \t* builtins.c (java_builtins): Use popcount* and bswap* builtins to"}, {"sha": "ed3e32f9788411e63c38fb840f3e95127d36696d", "filename": "gcc/java/jcf-parse.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fjava%2Fjcf-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fjava%2Fjcf-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-parse.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1719,6 +1719,7 @@ java_emit_static_constructor (void)\n       DECL_UNINLINABLE (decl) = 1;\n \n       DECL_INITIAL (decl) = make_node (BLOCK);\n+      BLOCK_SUPERCONTEXT (DECL_INITIAL (decl)) = decl;\n       TREE_USED (DECL_INITIAL (decl)) = 1;\n \n       DECL_STATIC_CONSTRUCTOR (decl) = 1;"}, {"sha": "c75452c81c85b76f51b27d06ee8ce0b7e921fd5b", "filename": "gcc/omp-low.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fomp-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Fomp-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-low.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -2472,6 +2472,7 @@ create_omp_child_function (omp_context *ctx, bool task_copy)\n   DECL_EXTERNAL (decl) = 0;\n   DECL_CONTEXT (decl) = NULL_TREE;\n   DECL_INITIAL (decl) = make_node (BLOCK);\n+  BLOCK_SUPERCONTEXT (DECL_INITIAL (decl)) = decl;\n   if (cgraph_node::get (current_function_decl)->offloadable)\n     cgraph_node::get_create (decl)->offloadable = 1;\n   else\n@@ -13670,6 +13671,7 @@ grid_expand_target_grid_body (struct omp_region *target)\n   BLOCK_ABSTRACT_ORIGIN (fniniblock) = tgtblock;\n   BLOCK_SOURCE_LOCATION (fniniblock) = BLOCK_SOURCE_LOCATION (tgtblock);\n   BLOCK_SOURCE_END_LOCATION (fniniblock) = BLOCK_SOURCE_END_LOCATION (tgtblock);\n+  BLOCK_SUPERCONTEXT (fniniblock) = kern_fndecl;\n   DECL_INITIAL (kern_fndecl) = fniniblock;\n   push_struct_function (kern_fndecl);\n   cfun->function_end_locus = gimple_location (tgt_stmt);"}, {"sha": "a16015271a13d9c6c67ef4d79e0c61e93b9c4a87", "filename": "gcc/tree-parloops.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Ftree-parloops.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01771d4361d3fc7e89e292db5f15aa11783e7ec7/gcc%2Ftree-parloops.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-parloops.c?ref=01771d4361d3fc7e89e292db5f15aa11783e7ec7", "patch": "@@ -1476,6 +1476,7 @@ create_loop_fn (location_t loc)\n   DECL_EXTERNAL (decl) = 0;\n   DECL_CONTEXT (decl) = NULL_TREE;\n   DECL_INITIAL (decl) = make_node (BLOCK);\n+  BLOCK_SUPERCONTEXT (DECL_INITIAL (decl)) = decl;\n \n   t = build_decl (loc, RESULT_DECL, NULL_TREE, void_type_node);\n   DECL_ARTIFICIAL (t) = 1;"}]}