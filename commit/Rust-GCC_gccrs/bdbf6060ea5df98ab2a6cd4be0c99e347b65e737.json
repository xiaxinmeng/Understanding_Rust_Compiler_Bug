{"sha": "bdbf6060ea5df98ab2a6cd4be0c99e347b65e737", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRiZjYwNjBlYTVkZjk4YWIyYTZjZDRiZTBjOTllMzQ3YjY1ZTczNw==", "commit": {"author": {"name": "Mohan Embar", "email": "gnustuff@thisiscool.com", "date": "2004-09-11T19:10:44Z"}, "committer": {"name": "Mohan Embar", "email": "membar@gcc.gnu.org", "date": "2004-09-11T19:10:44Z"}, "message": "natThread.cc (finalize_native): Destroy join conditional variable and mutex if...\n\n\t* java/lang/natThread.cc (finalize_native): Destroy\n\tjoin conditional variable and mutex if these destroy\n\toperations are supported.\n\nFrom-SVN: r87361", "tree": {"sha": "ddd9807928260a186739c179b20818c1d7a438ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ddd9807928260a186739c179b20818c1d7a438ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737/comments", "author": null, "committer": null, "parents": [{"sha": "af8f35b88f0a83caf2af2b812d6733e173fab866", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af8f35b88f0a83caf2af2b812d6733e173fab866", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af8f35b88f0a83caf2af2b812d6733e173fab866"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "d3a6cea9bbae9c403ac2a9c403305248adf641ec", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=bdbf6060ea5df98ab2a6cd4be0c99e347b65e737", "patch": "@@ -1,3 +1,9 @@\n+2004-09-11  Mohan Embar  <gnustuff@thisiscool.com>\n+\n+\t* java/lang/natThread.cc (finalize_native): Destroy\n+\tjoin conditional variable and mutex if these destroy\n+\toperations are supported.\n+\n 2004-09-10  Dalibor Topic <robilad@kaffe.org>\n \n \t* gnu/java/net/protocol/file/Connection.java (permission): New field."}, {"sha": "4782115d2cfedb6c1d7f0682bc58ec760799575c", "filename": "libjava/java/lang/natThread.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737/libjava%2Fjava%2Flang%2FnatThread.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdbf6060ea5df98ab2a6cd4be0c99e347b65e737/libjava%2Fjava%2Flang%2FnatThread.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatThread.cc?ref=bdbf6060ea5df98ab2a6cd4be0c99e347b65e737", "patch": "@@ -78,6 +78,12 @@ finalize_native (jobject ptr)\n {\n   natThread *nt = (natThread *) ptr;\n   _Jv_ThreadDestroyData (nt->thread);\n+#ifdef _Jv_HaveCondDestroy\n+  _Jv_CondDestroy (&nt->join_cond);\n+#endif\n+#ifdef _Jv_HaveMutexDestroy\n+  _Jv_MutexDestroy (&nt->join_mutex);\n+#endif\n }\n \n jint"}]}