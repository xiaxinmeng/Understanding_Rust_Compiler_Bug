{"sha": "460f31eeeb19cfe6e28120586f7a28ff53994723", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDYwZjMxZWVlYjE5Y2ZlNmUyODEyMDU4NmY3YTI4ZmY1Mzk5NDcyMw==", "commit": {"author": {"name": "Ilya Tocar", "email": "ilya.tocar@intel.com", "date": "2015-05-05T15:43:13Z"}, "committer": {"name": "Ilya Tocar", "email": "tocarip@gcc.gnu.org", "date": "2015-05-05T15:43:13Z"}, "message": "re PR target/65915 (FAIL: gcc.target/i386/avx512f-vrndscalepd-2.c (internal compiler error))\n\nPR target/65915\n* config/i386/i386.md (vector convert to float spltiter): Check for\nxmm16+, when splitting scalar float conversion.\n* config/i386/sse.md (sse2_cvtsi2sd): Support EVEX version.\n\ntestsuite/ChangeLog:\n\nPR target/65915\n* gcc.target/i386/pr65915.c: New.\n\nFrom-SVN: r222811", "tree": {"sha": "03b59bc1a13e3c96c4f754a1c3017953517aa163", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03b59bc1a13e3c96c4f754a1c3017953517aa163"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/460f31eeeb19cfe6e28120586f7a28ff53994723", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/460f31eeeb19cfe6e28120586f7a28ff53994723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/460f31eeeb19cfe6e28120586f7a28ff53994723", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/460f31eeeb19cfe6e28120586f7a28ff53994723/comments", "author": {"login": "TocarIP", "id": 16836375, "node_id": "MDQ6VXNlcjE2ODM2Mzc1", "avatar_url": "https://avatars.githubusercontent.com/u/16836375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TocarIP", "html_url": "https://github.com/TocarIP", "followers_url": "https://api.github.com/users/TocarIP/followers", "following_url": "https://api.github.com/users/TocarIP/following{/other_user}", "gists_url": "https://api.github.com/users/TocarIP/gists{/gist_id}", "starred_url": "https://api.github.com/users/TocarIP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TocarIP/subscriptions", "organizations_url": "https://api.github.com/users/TocarIP/orgs", "repos_url": "https://api.github.com/users/TocarIP/repos", "events_url": "https://api.github.com/users/TocarIP/events{/privacy}", "received_events_url": "https://api.github.com/users/TocarIP/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d7edde11e0632bfe5403a123dddf75b82d06964b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7edde11e0632bfe5403a123dddf75b82d06964b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7edde11e0632bfe5403a123dddf75b82d06964b"}], "stats": {"total": 32, "additions": 27, "deletions": 5}, "files": [{"sha": "2fcfad939e1110d9600fea80a7c1984dde3754e5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=460f31eeeb19cfe6e28120586f7a28ff53994723", "patch": "@@ -1,3 +1,10 @@\n+2015-05-05  Ilya Tocar  <ilya.tocar@intel.com>\n+\n+\tPR target/65915\n+\t* config/i386/i386.md (vector convert to float spltiter): Check for\n+\txmm16+, when splitting scalar float conversion.\n+\t* config/i386/sse.md (sse2_cvtsi2sd): Support EVEX version.\n+\n 2015-05-05  Nick Clifton  <nickc@redhat.com>\n \n \t* config/msp430/msp430-opts.h (enum msp430_regions): New."}, {"sha": "fc320f67b54311b7b11b6cb46212c2a0770a36f0", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=460f31eeeb19cfe6e28120586f7a28ff53994723", "patch": "@@ -4897,7 +4897,9 @@\n   \"TARGET_SSE2 && TARGET_SSE_MATH\n    && TARGET_USE_VECTOR_CONVERTS && optimize_function_for_speed_p (cfun)\n    && reload_completed && SSE_REG_P (operands[0])\n-   && (MEM_P (operands[1]) || TARGET_INTER_UNIT_MOVES_TO_VEC)\"\n+   && (MEM_P (operands[1]) || TARGET_INTER_UNIT_MOVES_TO_VEC)\n+   && (!EXT_REX_SSE_REG_P (operands[0])\n+       || TARGET_AVX512VL)\"\n   [(const_int 0)]\n {\n   operands[3] = simplify_gen_subreg (<ssevecmode>mode, operands[0],\n@@ -4921,7 +4923,9 @@\n   \"TARGET_SSE2 && TARGET_SSE_MATH\n    && TARGET_SSE_PARTIAL_REG_DEPENDENCY\n    && optimize_function_for_speed_p (cfun)\n-   && reload_completed && SSE_REG_P (operands[0])\"\n+   && reload_completed && SSE_REG_P (operands[0])\n+   && (!EXT_REX_SSE_REG_P (operands[0])\n+       || TARGET_AVX512VL)\"\n   [(const_int 0)]\n {\n   const machine_mode vmode = <MODEF:ssevecmode>mode;"}, {"sha": "c61098d9225b788713e3a2217185ebc2fc0bd658", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=460f31eeeb19cfe6e28120586f7a28ff53994723", "patch": "@@ -4258,11 +4258,11 @@\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_cvtsi2sd\"\n-  [(set (match_operand:V2DF 0 \"register_operand\" \"=x,x,x\")\n+  [(set (match_operand:V2DF 0 \"register_operand\" \"=x,x,v\")\n \t(vec_merge:V2DF\n \t  (vec_duplicate:V2DF\n \t    (float:DF (match_operand:SI 2 \"nonimmediate_operand\" \"r,m,rm\")))\n-\t  (match_operand:V2DF 1 \"register_operand\" \"0,0,x\")\n+\t  (match_operand:V2DF 1 \"register_operand\" \"0,0,v\")\n \t  (const_int 1)))]\n   \"TARGET_SSE2\"\n   \"@\n@@ -4275,7 +4275,7 @@\n    (set_attr \"amdfam10_decode\" \"vector,double,*\")\n    (set_attr \"bdver1_decode\" \"double,direct,*\")\n    (set_attr \"btver2_decode\" \"double,double,double\")\n-   (set_attr \"prefix\" \"orig,orig,vex\")\n+   (set_attr \"prefix\" \"orig,orig,maybe_evex\")\n    (set_attr \"mode\" \"DF\")])\n \n (define_insn \"sse2_cvtsi2sdq<round_name>\""}, {"sha": "db07b665ba75668f7672941a5b4faad37327f096", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=460f31eeeb19cfe6e28120586f7a28ff53994723", "patch": "@@ -1,3 +1,8 @@\n+2015-05-05  Ilya Tocar  <ilya.tocar@intel.com>\n+\n+\tPR target/65915\n+\t* gcc.target/i386/pr65915.c: New.\n+\n 2015-05-05  Tom de Vries  <tom@codesourcery.com>\n \n \t* gcc.dg/tree-ssa/stdarg-2.c: Xfail f15 scans which test for presence of"}, {"sha": "990c5aaa2e4df3cd3b4ebbf7b78a280736d5855a", "filename": "gcc/testsuite/gcc.target/i386/pr65915.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65915.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460f31eeeb19cfe6e28120586f7a28ff53994723/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65915.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65915.c?ref=460f31eeeb19cfe6e28120586f7a28ff53994723", "patch": "@@ -0,0 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O2 -mavx512f -fpic -mcmodel=medium\" } */\n+/* { dg-require-effective-target avx512f } */\n+/* { dg-require-effective-target lp64 } */\n+\n+#include \"avx512f-vrndscalepd-2.c\""}]}