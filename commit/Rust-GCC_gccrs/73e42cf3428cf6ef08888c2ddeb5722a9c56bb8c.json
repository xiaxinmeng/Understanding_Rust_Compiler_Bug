{"sha": "73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNlNDJjZjM0MjhjZjZlZjA4ODg4YzJkZGViNTcyMmE5YzU2YmI4Yw==", "commit": {"author": {"name": "Toon Moene", "email": "toon@moene.indiv.nluug.nl", "date": "2002-08-01T09:08:38Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2002-08-01T09:08:38Z"}, "message": "c-common.c (cb_register_builtins): Set __FINITE_MATH_ONLY__ to 1 if -ffinite-math-only is given, and to 0 otherwise.\n\n2002-08-01  Toon Moene  <toon@moene.indiv.nluug.nl>\n\n\t* c-common.c (cb_register_builtins): Set\n\t__FINITE_MATH_ONLY__ to 1 if -ffinite-math-only\n\tis given, and to 0 otherwise.\n\t* combine.c (simplify_if_then_else): HONOR_NANS\n\timplies FLOAT_MODE_P.\n\nFrom-SVN: r55932", "tree": {"sha": "bd9ac9db3906b37c6b2b5dac72cf898ae5f19f74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd9ac9db3906b37c6b2b5dac72cf898ae5f19f74"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/comments", "author": null, "committer": null, "parents": [{"sha": "e466f36952e08f91ce9490964cb93364ff29e6df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e466f36952e08f91ce9490964cb93364ff29e6df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e466f36952e08f91ce9490964cb93364ff29e6df"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "42d40c9733df97720057bceb182ba722c01323bb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "patch": "@@ -1,3 +1,11 @@\n+2002-08-01  Toon Moene  <toon@moene.indiv.nluug.nl>\n+\n+\t* c-common.c (cb_register_builtins): Set\n+\t__FINITE_MATH_ONLY__ to 1 if -ffinite-math-only\n+\tis given, and to 0 otherwise.\n+\t* combine.c (simplify_if_then_else): HONOR_NANS\n+\timplies FLOAT_MODE_P.\n+\n 2002-08-01  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* cppinit.c (COMMAND_LINE_OPTIONS): Remove OPT_dollar."}, {"sha": "b9df2e2ee220d790d24c1057c382b63f66e2f041", "filename": "gcc/c-common.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "patch": "@@ -4784,7 +4784,9 @@ cb_register_builtins (pfile)\n   if (flag_signaling_nans)\n     cpp_define (pfile, \"__SUPPORT_SNAN__\");\n   if (flag_finite_math_only)\n-    cpp_define (pfile, \"__FINITE_MATH_ONLY__\");\n+    cpp_define (pfile, \"__FINITE_MATH_ONLY__=1\");\n+  else\n+    cpp_define (pfile, \"__FINITE_MATH_ONLY__=0\");\n \n   if (flag_iso)\n     cpp_define (pfile, \"__STRICT_ANSI__\");"}, {"sha": "236ac2ef72c1e58f35efa5491c6136811222127f", "filename": "gcc/combine.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=73e42cf3428cf6ef08888c2ddeb5722a9c56bb8c", "patch": "@@ -4775,12 +4775,12 @@ simplify_if_then_else (x)\n \n   /* Convert a == b ? b : a to \"a\".  */\n   if (true_code == EQ && ! side_effects_p (cond)\n-      && (!FLOAT_MODE_P (mode) || !HONOR_NANS (mode))\n+      && !HONOR_NANS (mode)\n       && rtx_equal_p (XEXP (cond, 0), false_rtx)\n       && rtx_equal_p (XEXP (cond, 1), true_rtx))\n     return false_rtx;\n   else if (true_code == NE && ! side_effects_p (cond)\n-\t   && (!FLOAT_MODE_P (mode) || !HONOR_NANS (mode))\n+\t   && !HONOR_NANS (mode)\n \t   && rtx_equal_p (XEXP (cond, 0), true_rtx)\n \t   && rtx_equal_p (XEXP (cond, 1), false_rtx))\n     return true_rtx;"}]}