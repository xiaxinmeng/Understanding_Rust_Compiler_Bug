{"sha": "8d162cabbb5b9ad58baef5c8376857463ebcafb7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQxNjJjYWJiYjViOWFkNThiYWVmNWM4Mzc2ODU3NDYzZWJjYWZiNw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-12-26T23:11:58Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-12-26T23:11:58Z"}, "message": "(check_format): Using both a precision and the `0' flag is only a problem on `d'...\n\n(check_format): Using both a precision and the `0' flag is only a\nproblem on `d', `i', `o', `u', `x', and `X' conversions.\n\nFrom-SVN: r2915", "tree": {"sha": "4111a7cb08e372c573b746ef75adf1d078df47ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4111a7cb08e372c573b746ef75adf1d078df47ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d162cabbb5b9ad58baef5c8376857463ebcafb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d162cabbb5b9ad58baef5c8376857463ebcafb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d162cabbb5b9ad58baef5c8376857463ebcafb7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d162cabbb5b9ad58baef5c8376857463ebcafb7/comments", "author": null, "committer": null, "parents": [{"sha": "eae957a8b8701537efa1af34a619971e5f81827e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eae957a8b8701537efa1af34a619971e5f81827e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eae957a8b8701537efa1af34a619971e5f81827e"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "46e6dac09444865bb5821c4e7f41d49ec6388f87", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d162cabbb5b9ad58baef5c8376857463ebcafb7/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d162cabbb5b9ad58baef5c8376857463ebcafb7/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=8d162cabbb5b9ad58baef5c8376857463ebcafb7", "patch": "@@ -1556,11 +1556,6 @@ check_format (info, params)\n \t  if (*format_chars == '.')\n \t    {\n \t      precise = TRUE;\n-\t      /* \"For d, i, o, u, x, and X conversions,\n-\t\t if a precision is specified, the 0 flag will be ignored.\n-\t\t For other conversions, the behavior is undefined.\"  */\n-\t      if (index (flag_chars, '0') != 0)\n-\t\twarning (\"precision and `0' flag both used in one %%-sequence\");\n \t      ++format_chars;\n \t      if (*format_chars != '*' && !ISDIGIT (*format_chars))\n \t\twarning (\"`.' not followed by `*' or digit in format\");\n@@ -1667,6 +1662,16 @@ check_format (info, params)\n \t      warning (message);\n \t    }\n \t}\n+      if (precise && index (flag_chars, '0') != 0\n+\t  && (format_char == 'd' || format_char == 'i'\n+\t      || format_char == 'o' || format_char == 'u'\n+\t      || format_char == 'x' || format_char == 'x'))\n+\t{\n+\t  sprintf (message,\n+\t\t   \"precision and `0' flag not both allowed with `%c' format\",\n+\t\t   format_char);\n+\t  warning (message);\n+\t}\n       switch (length_char)\n \t{\n \tdefault: wanted_type = fci->nolen ? *(fci->nolen) : 0; break;"}]}