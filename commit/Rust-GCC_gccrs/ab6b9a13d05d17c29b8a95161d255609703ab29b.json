{"sha": "ab6b9a13d05d17c29b8a95161d255609703ab29b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWI2YjlhMTNkMDVkMTdjMjliOGE5NTE2MWQyNTU2MDk3MDNhYjI5Yg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2006-10-10T18:46:41Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2006-10-10T18:46:41Z"}, "message": "prims.cc (_Jv_PrependVersionedLibdir): Use _Jv_platform_path_separator.\n\n\t* prims.cc (_Jv_PrependVersionedLibdir): Use\n\t_Jv_platform_path_separator.\n\nFrom-SVN: r117611", "tree": {"sha": "46bd74f01980d69dcc128f6074dcd1b2c62efbaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46bd74f01980d69dcc128f6074dcd1b2c62efbaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab6b9a13d05d17c29b8a95161d255609703ab29b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab6b9a13d05d17c29b8a95161d255609703ab29b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab6b9a13d05d17c29b8a95161d255609703ab29b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab6b9a13d05d17c29b8a95161d255609703ab29b/comments", "author": null, "committer": null, "parents": [{"sha": "51d0a5cc301ae12e47e2152ad1152ecfaec23bad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51d0a5cc301ae12e47e2152ad1152ecfaec23bad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51d0a5cc301ae12e47e2152ad1152ecfaec23bad"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "b1853f4400600f531aeec31538718e749ad5aa30", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab6b9a13d05d17c29b8a95161d255609703ab29b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab6b9a13d05d17c29b8a95161d255609703ab29b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=ab6b9a13d05d17c29b8a95161d255609703ab29b", "patch": "@@ -1,3 +1,8 @@\n+2006-10-10  Tom Tromey  <tromey@redhat.com>\n+\n+\t* prims.cc (_Jv_PrependVersionedLibdir): Use\n+\t_Jv_platform_path_separator.\n+\n 2006-10-10  Tom Tromey  <tromey@redhat.com>\n \n \tPR libgcj/29205:"}, {"sha": "dfeb95766afa2887217699b79fc8e469ac89bbf3", "filename": "libjava/prims.cc", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab6b9a13d05d17c29b8a95161d255609703ab29b/libjava%2Fprims.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab6b9a13d05d17c29b8a95161d255609703ab29b/libjava%2Fprims.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fprims.cc?ref=ab6b9a13d05d17c29b8a95161d255609703ab29b", "patch": "@@ -1788,11 +1788,14 @@ _Jv_PrependVersionedLibdir (char* libpath)\n         {\n           // LD_LIBRARY_PATH is not prefixed with\n           // GCJ_VERSIONED_LIBDIR.\n-          jsize total = (sizeof (GCJ_VERSIONED_LIBDIR) - 1)\n-            + (sizeof (PATH_SEPARATOR) - 1) + strlen (libpath) + 1;\n+\t  char path_sep[2];\n+\t  path_sep[0] = (char) _Jv_platform_path_separator;\n+\t  path_sep[1] = '\\0';\n+          jsize total = ((sizeof (GCJ_VERSIONED_LIBDIR) - 1)\n+\t\t\t + 1 /* path separator */ + strlen (libpath) + 1);\n           retval = (char*) _Jv_Malloc (total);\n           strcpy (retval, GCJ_VERSIONED_LIBDIR);\n-          strcat (retval, PATH_SEPARATOR);\n+          strcat (retval, path_sep);\n           strcat (retval, libpath);\n         }\n     }"}]}