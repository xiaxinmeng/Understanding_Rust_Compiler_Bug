{"sha": "4e89adf9709dba511949a65a211d9bf702fe5753", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU4OWFkZjk3MDlkYmE1MTE5NDlhNjVhMjExZDliZjcwMmZlNTc1Mw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2017-01-05T21:20:16Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-01-05T21:20:16Z"}, "message": "invoke.texi (C Dialect Options): Document it.\n\n        * doc/invoke.texi (C Dialect Options): Document it.\nc-family/\n        * c.opt (fsso-struct): Add 'native' value.\n\nFrom-SVN: r244115", "tree": {"sha": "dbd4806f74ed6642850686f771644372bbfc0f73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dbd4806f74ed6642850686f771644372bbfc0f73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e89adf9709dba511949a65a211d9bf702fe5753", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e89adf9709dba511949a65a211d9bf702fe5753", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e89adf9709dba511949a65a211d9bf702fe5753", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e89adf9709dba511949a65a211d9bf702fe5753/comments", "author": null, "committer": null, "parents": [{"sha": "cfd719e7769fd43fbfecfc0c8f69d5f05e54169b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfd719e7769fd43fbfecfc0c8f69d5f05e54169b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfd719e7769fd43fbfecfc0c8f69d5f05e54169b"}], "stats": {"total": 50, "additions": 46, "deletions": 4}, "files": [{"sha": "1629b96894234db9eaec5ee2234fad0d9dbc2204", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4e89adf9709dba511949a65a211d9bf702fe5753", "patch": "@@ -1,3 +1,7 @@\n+2017-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* doc/invoke.texi (C Dialect Options): Document it.\n+\n 2017-01-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/71016"}, {"sha": "0e1b4dda006e929bbdb823aa3cb38b2aa0354b2c", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=4e89adf9709dba511949a65a211d9bf702fe5753", "patch": "@@ -1,3 +1,7 @@\n+2017-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* c.opt (fsso-struct): Add 'native' value.\n+\n 2017-01-05  Martin Liska  <mliska@suse.cz>\n \n \tPR pch/78970"}, {"sha": "0b74aba2f036682ce6dc3ae7f248ff8e8e9b891f", "filename": "gcc/c-family/c.opt", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Fc-family%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Fc-family%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc.opt?ref=4e89adf9709dba511949a65a211d9bf702fe5753", "patch": "@@ -1631,7 +1631,7 @@ C++ ObjC++ Ignore Warn(switch %qs is no longer supported)\n \n fsso-struct=\n C ObjC Joined RejectNegative Enum(sso_struct) Var(default_sso) Init(SSO_NATIVE)\n--fsso-struct=[big-endian|little-endian]\tSet the default scalar storage order.\n+-fsso-struct=[big-endian|little-endian|native]\tSet the default scalar storage order.\n \n Enum\n Name(sso_struct) Type(enum scalar_storage_order_kind) UnknownError(unrecognized scalar storage order value %qs)\n@@ -1642,6 +1642,9 @@ Enum(sso_struct) String(big-endian) Value(SSO_BIG_ENDIAN)\n EnumValue\n Enum(sso_struct) String(little-endian) Value(SSO_LITTLE_ENDIAN)\n \n+EnumValue\n+Enum(sso_struct) String(native) Value(SSO_NATIVE)\n+\n fstats\n C++ ObjC++ Var(flag_detailed_statistics)\n Display statistics accumulated during compilation."}, {"sha": "83ac1353a40bc50cedfad2b3ccc81e79bb4e9d06", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=4e89adf9709dba511949a65a211d9bf702fe5753", "patch": "@@ -2166,9 +2166,9 @@ basic integer types such as @code{int} are signed types.\n @item -fsso-struct=@var{endianness}\n @opindex fsso-struct\n Set the default scalar storage order of structures and unions to the\n-specified endianness.  The accepted values are @samp{big-endian} and\n-@samp{little-endian}.  If the option is not passed, the compiler uses\n-the native endianness of the target.  This option is not supported for C++.\n+specified endianness.  The accepted values are @samp{big-endian},\n+@samp{little-endian} and @samp{native} for the native endianness of\n+the target (the default).  This option is not supported for C++.\n \n @strong{Warning:} the @option{-fsso-struct} switch causes GCC to generate\n code that is not binary compatible with code generated without it if the"}, {"sha": "08fa8c632b45572c2d042bf02fe870a7877ce5c9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4e89adf9709dba511949a65a211d9bf702fe5753", "patch": "@@ -1,3 +1,7 @@\n+2017-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc.dg/sso-10.c: New test.\n+\n 2017-01-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/71016"}, {"sha": "9dfa2974a2e2cb08925396a7478e3e0fd8dce373", "filename": "gcc/testsuite/gcc.dg/sso-10.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Ftestsuite%2Fgcc.dg%2Fsso-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e89adf9709dba511949a65a211d9bf702fe5753/gcc%2Ftestsuite%2Fgcc.dg%2Fsso-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fsso-10.c?ref=4e89adf9709dba511949a65a211d9bf702fe5753", "patch": "@@ -0,0 +1,27 @@\n+/* { dg-do run } */\n+/* { dg-options \"-fsso-struct=native\" } */\n+/* { dg-require-effective-target int32plus } */\n+\n+struct S1\n+{\n+  int i;\n+};\n+\n+\n+struct S1 my_s1 = { 0x12345678 };\n+\n+unsigned char big_endian_pattern[4] = { 0x12, 0x34, 0x56, 0x78 };\n+unsigned char little_endian_pattern[4] = { 0x78, 0x56, 0x34, 0x12 };\n+\n+int main (void)\n+{\n+#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__\n+  if (__builtin_memcmp (&my_s1, &little_endian_pattern, 4) != 0)\n+    __builtin_abort ();\n+#else\n+  if (__builtin_memcmp (&my_s1, &big_endian_pattern, 4) != 0)\n+    __builtin_abort ();\n+#endif\n+\n+  return 0;\n+}"}]}