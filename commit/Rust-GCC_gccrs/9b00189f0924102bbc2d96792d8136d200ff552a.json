{"sha": "9b00189f0924102bbc2d96792d8136d200ff552a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWIwMDE4OWYwOTI0MTAyYmJjMmQ5Njc5MmQ4MTM2ZDIwMGZmNTUyYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@freesoft.cz", "date": "1999-10-01T01:35:37Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-01T01:35:37Z"}, "message": "Jan Hubicka  <hubicka@freesoft.cz>\n\n        * i386.c (ix86_adjust_cost): Ignore false ebp dependencies in\n        prologues.\n\nFrom-SVN: r29745", "tree": {"sha": "bad8e83250d92067fef30874a6094d0e7cbdef5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bad8e83250d92067fef30874a6094d0e7cbdef5d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b00189f0924102bbc2d96792d8136d200ff552a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b00189f0924102bbc2d96792d8136d200ff552a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b00189f0924102bbc2d96792d8136d200ff552a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b00189f0924102bbc2d96792d8136d200ff552a/comments", "author": null, "committer": null, "parents": [{"sha": "0d7148e3f20bd99e7053e5307aa511229a6820b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d7148e3f20bd99e7053e5307aa511229a6820b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d7148e3f20bd99e7053e5307aa511229a6820b7"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "f6ef56aaee368bcdc8f70b1e8bc2d6bb086b85fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b00189f0924102bbc2d96792d8136d200ff552a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b00189f0924102bbc2d96792d8136d200ff552a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9b00189f0924102bbc2d96792d8136d200ff552a", "patch": "@@ -1,3 +1,8 @@\n+Thu Sep 30 18:34:54 1999  Jan Hubicka  <hubicka@freesoft.cz>\n+\n+\t* i386.c (ix86_adjust_cost): Ignore false ebp dependencies in\n+\tprologues.\n+\n Thu Sep 30 18:31:36 1999  Jan Hubicka  <hubicka@freesoft.cz>\n \n \t* alias.c: Include insn-flags.h."}, {"sha": "69b1170a5020359567d89e43392af34d21f8ee56", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b00189f0924102bbc2d96792d8136d200ff552a/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b00189f0924102bbc2d96792d8136d200ff552a/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=9b00189f0924102bbc2d96792d8136d200ff552a", "patch": "@@ -5325,15 +5325,27 @@ ix86_adjust_cost (insn, link, dep_insn, cost)\n {\n   enum attr_type insn_type, dep_insn_type;\n   rtx set, set2;\n+  int dep_insn_code_number;\n \n   /* We describe no anti or output depenancies.  */\n   if (REG_NOTE_KIND (link) != 0)\n     return cost;\n \n+  dep_insn_code_number = recog_memoized (dep_insn);\n+\n   /* If we can't recognize the insns, we can't really do anything.  */\n-  if (recog_memoized (insn) < 0 || recog_memoized (dep_insn) < 0)\n+  if (dep_insn_code_number < 0 || recog_memoized (insn) < 0)\n     return cost;\n \n+  /* Prologue and epilogue allocators have false dependency on ebp.\n+     This results in one cycle extra stall on Pentium prologue scheduling, so\n+     handle this important case manually. */\n+\n+  if ((dep_insn_code_number == CODE_FOR_prologue_allocate_stack\n+       || dep_insn_code_number == CODE_FOR_epilogue_deallocate_stack)\n+      && !reg_mentioned_p (stack_pointer_rtx, insn))\n+    return 0;\n+\n   insn_type = get_attr_type (insn);\n   dep_insn_type = get_attr_type (dep_insn);\n "}]}