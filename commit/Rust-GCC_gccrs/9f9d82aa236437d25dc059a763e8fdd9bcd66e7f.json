{"sha": "9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY5ZDgyYWEyMzY0MzdkMjVkYzA1OWE3NjNlOGZkZDliY2Q2NmU3Zg==", "commit": {"author": {"name": "Catherine Moore", "email": "clm@codesourcery.com", "date": "2014-01-08T22:26:05Z"}, "committer": {"name": "Catherine Moore", "email": "clm@gcc.gnu.org", "date": "2014-01-08T22:26:05Z"}, "message": "umips-branch-3.c: New test.\n\n2014-01-08  Catherine Moore  <clm@codesourcery.com>\n\n\tgcc/testsuite/\n\t* gcc.target/mips/umips-branch-3.c: New test.\n\t* gcc.target/mips/umips-branch-4.c: New test.\n\n\tgcc/\n\t* config/mips/mips.md (simple_return): Attempt to use JRC for microMIPS.\n\t* config/mips/mips.h (MIPS_CALL): Attempt to use JALS for microMIPS.\n\nFrom-SVN: r206447", "tree": {"sha": "058234ac244be17065c849a54c6651380eb896f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/058234ac244be17065c849a54c6651380eb896f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/comments", "author": {"login": "CatherineMoore", "id": 15636327, "node_id": "MDQ6VXNlcjE1NjM2MzI3", "avatar_url": "https://avatars.githubusercontent.com/u/15636327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CatherineMoore", "html_url": "https://github.com/CatherineMoore", "followers_url": "https://api.github.com/users/CatherineMoore/followers", "following_url": "https://api.github.com/users/CatherineMoore/following{/other_user}", "gists_url": "https://api.github.com/users/CatherineMoore/gists{/gist_id}", "starred_url": "https://api.github.com/users/CatherineMoore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CatherineMoore/subscriptions", "organizations_url": "https://api.github.com/users/CatherineMoore/orgs", "repos_url": "https://api.github.com/users/CatherineMoore/repos", "events_url": "https://api.github.com/users/CatherineMoore/events{/privacy}", "received_events_url": "https://api.github.com/users/CatherineMoore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3e17f4298dabdeae8ed7aa902067638fbbe695a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e17f4298dabdeae8ed7aa902067638fbbe695a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e17f4298dabdeae8ed7aa902067638fbbe695a3"}], "stats": {"total": 43, "additions": 41, "deletions": 2}, "files": [{"sha": "8bd7ef398360d0720245f12bbcb1b1255482477a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "patch": "@@ -1,3 +1,8 @@\n+2014-01-08  Catherine Moore  <clm@codesourcery.com>\n+\n+\t* config/mips/mips.md (simple_return): Attempt to use JRC for microMIPS.\n+\t* config/mips/mips.h (MIPS_CALL): Attempt to use JALS for microMIPS.\n+\n 2014-01-08  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR rtl-optimization/59137"}, {"sha": "bc9d301291c699a27af8ff6bac64da044b6050b1", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "patch": "@@ -2529,7 +2529,9 @@ typedef struct mips_args {\n       : TARGET_MICROMIPS && !TARGET_INTERLINK_COMPRESSED\t\\\n       ? \"%*\" INSN \"r%!\\t%\" #TARGET_OPNO \"%/\"\t\t\t\\\n       : \"%*\" INSN \"r\\t%\" #TARGET_OPNO \"%/\")\t\t\t\\\n-   : MIPS_ABSOLUTE_JUMP (\"%*\" INSN \"\\t%\" #TARGET_OPNO \"%/\"))\n+   : TARGET_MICROMIPS && !TARGET_INTERLINK_COMPRESSED\t\t\\\n+     ? MIPS_ABSOLUTE_JUMP (\"%*\" INSN \"%!\\t%\" #TARGET_OPNO \"%/\")\t\\\n+     : MIPS_ABSOLUTE_JUMP (\"%*\" INSN \"\\t%\" #TARGET_OPNO \"%/\"))\t\\\n \n /* Similar to MIPS_CALL, but this is for MICROMIPS \"j\" to generate\n    \"jrc\" when nop is in the delay slot of \"jr\".  */"}, {"sha": "fb47a890c4c43957d30ec973c34a376eba599004", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "patch": "@@ -6161,7 +6161,12 @@\n (define_insn \"*<optab>\"\n   [(any_return)]\n   \"\"\n-  \"%*j\\t$31%/\"\n+  {\n+    if (TARGET_MICROMIPS)\n+      return \"%*jr%:\\t$31\";\n+    else\n+      return \"%*j\\t$31%/\";\n+  }\n   [(set_attr \"type\"\t\"jump\")\n    (set_attr \"mode\"\t\"none\")])\n "}, {"sha": "d1b72ecdc682767b770aa208cc301992cabfc16a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "patch": "@@ -1,3 +1,8 @@\n+2014-01-08  Catherine Moore  <clm@codesourcery.com>\n+\n+\t* gcc.target/mips/umips-branch-3.c: New test.\n+\t* gcc.target/mips/umips-branch-4.c: New test.\n+\n 2014-01-08  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* gcc.dg/tree-ssa/reassoc-32.c, gcc.dg/tree-ssa/reassoc-33.c,"}, {"sha": "8717362e044ba603a0d42f86fcd0a9e822221713", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-3.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-3.c?ref=9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-options \"(-mmicromips)\" } */\n+/* { dg-skip-if \"code quality test\" { *-*-* } { \"-O0\" } { \"\" } } */\n+\n+void MICROMIPS\n+foo (void)\n+{\n+  return;\n+}\n+\n+/* { dg-final { scan-assembler \"\\tjrc\\t\\\\\\$31\\n\" } } */"}, {"sha": "b346d11723fa8243c495c4d7070c854c72940333", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-4.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f9d82aa236437d25dc059a763e8fdd9bcd66e7f/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-4.c?ref=9f9d82aa236437d25dc059a763e8fdd9bcd66e7f", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-options \"(-mmicromips)\" } */\n+\n+void foo (void);\n+\n+int MICROMIPS\n+a (void)\n+{\n+  foo ();\n+  return 0;\n+}\n+\n+/* { dg-final { scan-assembler \"\\tjals\\tfoo\\n\\tnop\" } } */"}]}