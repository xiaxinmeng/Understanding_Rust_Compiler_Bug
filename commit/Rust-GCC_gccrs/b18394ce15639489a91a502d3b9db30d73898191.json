{"sha": "b18394ce15639489a91a502d3b9db30d73898191", "node_id": "C_kwDOANBUbNoAKGIxODM5NGNlMTU2Mzk0ODlhOTFhNTAyZDNiOWRiMzBkNzM4OTgxOTE", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-11-01T20:20:59Z"}, "committer": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-11-03T14:13:32Z"}, "message": "Check for constant builtin value first.\n\nThe original code imported from EVRP for evaluating built_in_constant_p\ndidn't check to see if the value was a constant before checking the\ninlining flag.  Now we check for a constant first.\n\n\t* gimple-range-fold.cc (fold_using_range::range_of_builtin_call): Test\n\tfor constant before any other processing.", "tree": {"sha": "618bb961f99b0105d1835292c9e99e8a661f3d3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/618bb961f99b0105d1835292c9e99e8a661f3d3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b18394ce15639489a91a502d3b9db30d73898191", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b18394ce15639489a91a502d3b9db30d73898191", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b18394ce15639489a91a502d3b9db30d73898191", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b18394ce15639489a91a502d3b9db30d73898191/comments", "author": null, "committer": null, "parents": [{"sha": "309bb7ff6e2807ecd849c133c3639705f20e5894", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/309bb7ff6e2807ecd849c133c3639705f20e5894", "html_url": "https://github.com/Rust-GCC/gccrs/commit/309bb7ff6e2807ecd849c133c3639705f20e5894"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "6cc7753a750d492e7aac2d0f90be70148b972b3b", "filename": "gcc/gimple-range-fold.cc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b18394ce15639489a91a502d3b9db30d73898191/gcc%2Fgimple-range-fold.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b18394ce15639489a91a502d3b9db30d73898191/gcc%2Fgimple-range-fold.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-range-fold.cc?ref=b18394ce15639489a91a502d3b9db30d73898191", "patch": "@@ -960,18 +960,18 @@ fold_using_range::range_of_builtin_call (irange &r, gcall *call,\n   switch (func)\n     {\n     case CFN_BUILT_IN_CONSTANT_P:\n-      if (cfun->after_inlining)\n-\t{\n-\t  r.set_zero (type);\n-\t  // r.equiv_clear ();\n-\t  return true;\n-\t}\n       arg = gimple_call_arg (call, 0);\n       if (src.get_operand (r, arg) && r.singleton_p ())\n \t{\n \t  r.set (build_one_cst (type), build_one_cst (type));\n \t  return true;\n \t}\n+      if (cfun->after_inlining)\n+\t{\n+\t  r.set_zero (type);\n+\t  // r.equiv_clear ();\n+\t  return true;\n+\t}\n       break;\n \n     case CFN_BUILT_IN_TOUPPER:"}]}