{"sha": "c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ0Y2ExNjI2YzhlMmI2NTE5YTZhZTU4NzgwYTU1YTc0MWZkNDJlMg==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2005-12-05T19:06:11Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2005-12-05T19:06:11Z"}, "message": "re PR testsuite/25247 (syntax error in target selector for gcc.dg/torture/fp-int-convert-float128-timode.c)\n\n\tPR testsuite/25247\n\t* lib/target-supports-dg.exp (dg-skip-if): Fix target selector for\n\tuse in selector expressions.\n\t(dg-xfail-if): Ditto.\n\t* gcc.test-framework/dg-dot-run-sif-exp-P.c: New test.\n\t* gcc.test-framework/dg-dot-run-sif-exp-U.c: New test.\n\t* gcc.test-framework/dg-dot-run-xif-exp-P.c: New test.\n\t* gcc.test-framework/dg-dot-run-xif-exp-XP.c: New test.\n\t* gcc.test-framework/test-framework.exp: Skip generated tests if\n\tCHECK_TEST_FRAMEWORK is not 1.\n\nFrom-SVN: r108069", "tree": {"sha": "571b65b09f05606180281f7736da5f185e5507ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/571b65b09f05606180281f7736da5f185e5507ce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/comments", "author": null, "committer": null, "parents": [{"sha": "6ef6ea5ea2df85f63a31793f6c2b0ed01ad5bdbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ef6ea5ea2df85f63a31793f6c2b0ed01ad5bdbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ef6ea5ea2df85f63a31793f6c2b0ed01ad5bdbd"}], "stats": {"total": 55, "additions": 53, "deletions": 2}, "files": [{"sha": "05418ed35adb82986569edc777e5b15aa424f12f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -1,3 +1,16 @@\n+2005-12-05  Janis Johnson  <janis187@us.ibm.com>\n+\n+\tPR testsuite/25247\n+\t* lib/target-supports-dg.exp (dg-skip-if): Fix target selector for\n+\tuse in selector expressions.\n+\t(dg-xfail-if): Ditto.\n+\t* gcc.test-framework/dg-dot-run-sif-exp-P.c: New test.\n+\t* gcc.test-framework/dg-dot-run-sif-exp-U.c: New test.\n+\t* gcc.test-framework/dg-dot-run-xif-exp-P.c: New test.\n+\t* gcc.test-framework/dg-dot-run-xif-exp-XP.c: New test.\n+\t* gcc.test-framework/test-framework.exp: Skip generated tests if\n+\tCHECK_TEST_FRAMEWORK is not 1.\n+\n 2005-12-05  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \tPR tree-optimization/24963"}, {"sha": "bf473616abb7d62e6902dc7e7b85942d1e7ce808", "filename": "gcc/testsuite/gcc.test-framework/dg-dot-run-sif-exp-P.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-sif-exp-P.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-sif-exp-P.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-sif-exp-P.c?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do run { target { *-*-* && yes } } } */\n+/* { dg-skip-if \"comment\" { no && yes } { \"*\" } { \"\" } } */\n+\n+int\n+main ()\n+{\n+  return 0;\n+}"}, {"sha": "65008c8ab2889d100f3019fbac96e99751472163", "filename": "gcc/testsuite/gcc.test-framework/dg-dot-run-sif-exp-U.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-sif-exp-U.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-sif-exp-U.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-sif-exp-U.c?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do run { target { *-*-* || no } } } */\n+/* { dg-skip-if \"comment\" { *-*-* && yes } { \"*\" } { \"\" } } */\n+\n+int\n+main ()\n+{\n+  return 0;\n+}"}, {"sha": "eb2af26081f05a8ec3cc6d4c71fa85aae337f19e", "filename": "gcc/testsuite/gcc.test-framework/dg-dot-run-xif-exp-P.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-xif-exp-P.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-xif-exp-P.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-xif-exp-P.c?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do run { target { *-*-* && yes } } } */\n+/* { dg-xfail-if \"comment\" { empty-*-* && yes } { \"*\" } { \"\" } } */\n+\n+int\n+main ()\n+{\n+  return 0;\n+}"}, {"sha": "59cb768940183e9c7e9c7f49038c97447c5ad1cc", "filename": "gcc/testsuite/gcc.test-framework/dg-dot-run-xif-exp-XP.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-xif-exp-XP.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-xif-exp-XP.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.test-framework%2Fdg-dot-run-xif-exp-XP.c?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do compile { target { *-*-* empty-*-* } } } */\n+/* { dg-xfail-if \"comment\" { *-*-* && yes } { \"*\" } { \"\" } } */\n+\n+int\n+main ()\n+{\n+  return 0;\n+}"}, {"sha": "495ffe2cb99b087f629fbc2d62b333279d8114cd", "filename": "gcc/testsuite/gcc.test-framework/test-framework.exp", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Ftest-framework.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Fgcc.test-framework%2Ftest-framework.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.test-framework%2Ftest-framework.exp?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -51,6 +51,12 @@ dg-init\n # Run tests from the source directory.\n dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/dg-*.c]] \"\" \"\"\n \n+# Skip generated tests unless CHECK_TEST_FRAMEWORK is 1.\n+if { $env(CHECK_TEST_FRAMEWORK) != 1 } {\n+    verbose \"skipping generated test framework tests, CHECK_TEST_FRAMEWORK is not 1\" 0\n+    return\n+}\n+\n # Generate additional tests.\n set tstobjdir \"$tmpdir/gcc.test-framework\"\n set generator \"$srcdir/$subdir/gen_directive_tests\""}, {"sha": "4f77f85135b2c5af08f3455ccf5623a19469ce4e", "filename": "gcc/testsuite/lib/target-supports-dg.exp", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c44ca1626c8e2b6519a6ae58780a55a741fd42e2/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp?ref=c44ca1626c8e2b6519a6ae58780a55a741fd42e2", "patch": "@@ -183,7 +183,7 @@ proc check_test_flags { args } {\n proc dg-skip-if { args } {\n     set args [lreplace $args 0 0]\n \n-    set selector \"target [join [lindex $args 1]]\"\n+    set selector [list target [lindex $args 1]]\n     if { [dg-process-target $selector] == \"S\" } {\n \t# The target list matched; now check the flags.  The DejaGnu proc\n \t# check_conditional_xfail will look at the options in compiler_flags,\n@@ -223,7 +223,7 @@ proc dg-xfail-if { args } {\n     }\n \n     set args [lreplace $args 0 0]\n-    set selector \"target [join [lindex $args 1]]\"\n+    set selector [list target [lindex $args 1]]\n     if { [dg-process-target $selector] == \"S\" } {\n \tglobal compiler_conditional_xfail_data\n \tset compiler_conditional_xfail_data [lreplace $args 1 1 \"*-*-*\"]"}]}