{"sha": "f954388e83ba4f428163bb3508d4f24586ab20cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjk1NDM4OGU4M2JhNGY0MjgxNjNiYjM1MDhkNGYyNDU4NmFiMjBjZA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-01-13T13:24:37Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-01-13T13:24:37Z"}, "message": "arm.c (thumb_legitimate_address_p): Only allow constant pool references from SImode.\n\n* arm.c (thumb_legitimate_address_p): Only allow constant pool\nreferences from SImode.\n* arm.md (thumb_movhi_insn): Don't allow minipool references.\n\nFrom-SVN: r75804", "tree": {"sha": "ff53ffc73f85b4faf4119340db2cffc0dce070dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff53ffc73f85b4faf4119340db2cffc0dce070dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f954388e83ba4f428163bb3508d4f24586ab20cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f954388e83ba4f428163bb3508d4f24586ab20cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f954388e83ba4f428163bb3508d4f24586ab20cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f954388e83ba4f428163bb3508d4f24586ab20cd/comments", "author": null, "committer": null, "parents": [{"sha": "e5baf3bd82e549059b55fe169e637efbecbf8eca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5baf3bd82e549059b55fe169e637efbecbf8eca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5baf3bd82e549059b55fe169e637efbecbf8eca"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "c7ec9b33aa81c2a55a0dabfbb042697010f97904", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f954388e83ba4f428163bb3508d4f24586ab20cd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f954388e83ba4f428163bb3508d4f24586ab20cd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f954388e83ba4f428163bb3508d4f24586ab20cd", "patch": "@@ -1,3 +1,9 @@\n+2004-01-13  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm.c (thumb_legitimate_address_p): Only allow constant pool \n+\treferences from SImode.\n+\t* arm.md (thumb_movhi_insn): Don't allow minipool references.\n+\n 2004-01-13  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* system.h (TEXT_SECTION): Poison."}, {"sha": "6cf226e2c4cb9ebf74077f6218d21098856e53e5", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f954388e83ba4f428163bb3508d4f24586ab20cd/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f954388e83ba4f428163bb3508d4f24586ab20cd/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=f954388e83ba4f428163bb3508d4f24586ab20cd", "patch": "@@ -1,6 +1,6 @@\n /* Output routines for GCC for ARM.\n-   Copyright (C) 1991, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003\n-   Free Software Foundation, Inc.\n+   Copyright (C) 1991, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,\n+   2002, 2003, 2004  Free Software Foundation, Inc.\n    Contributed by Pieter `Tiggr' Schoenmakers (rcpieter@win.tue.nl)\n    and Martin Simmons (@harleqn.co.uk).\n    More major hacks by Richard Earnshaw (rearnsha@arm.com).\n@@ -2997,6 +2997,7 @@ thumb_legitimate_address_p (enum machine_mode mode, rtx x, int strict_p)\n     }\n \n   else if (GET_MODE_CLASS (mode) != MODE_FLOAT\n+\t   && GET_MODE_SIZE (mode) == 4\n \t   && GET_CODE (x) == SYMBOL_REF\n \t   && CONSTANT_POOL_ADDRESS_P (x)\n \t   && !(flag_pic"}, {"sha": "9f10d1063dfa2aee6662b05863caec8fe18afa55", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f954388e83ba4f428163bb3508d4f24586ab20cd/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f954388e83ba4f428163bb3508d4f24586ab20cd/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=f954388e83ba4f428163bb3508d4f24586ab20cd", "patch": "@@ -1,6 +1,6 @@\n ;;- Machine description for ARM for GNU compiler\n ;;  Copyright 1991, 1993, 1994, 1995, 1996, 1996, 1997, 1998, 1999, 2000,\n-;;  2001, 2002, 2003  Free Software Foundation, Inc.\n+;;  2001, 2002, 2003 2004  Free Software Foundation, Inc.\n ;;  Contributed by Pieter `Tiggr' Schoenmakers (rcpieter@win.tue.nl)\n ;;  and Martin Simmons (@harleqn.co.uk).\n ;;  More major hacks by Richard Earnshaw (rearnsha@arm.com).\n@@ -4481,8 +4481,8 @@\n )\n \n (define_insn \"*thumb_movhi_insn\"\n-  [(set (match_operand:HI 0 \"nonimmediate_operand\" \"=l,l, m,*r,*h,l\")\n-\t(match_operand:HI 1 \"general_operand\"       \"l,mn,l,*h,*r,I\"))]\n+  [(set (match_operand:HI 0 \"nonimmediate_operand\" \"=l,l,m,*r,*h,l\")\n+\t(match_operand:HI 1 \"general_operand\"       \"l,m,l,*h,*r,I\"))]\n   \"TARGET_THUMB\n    && (   register_operand (operands[0], HImode)\n        || register_operand (operands[1], HImode))\"\n@@ -4514,8 +4514,7 @@\n       return \\\"ldrh\t%0, %1\\\";\n     }\"\n   [(set_attr \"length\" \"2,4,2,2,2,2\")\n-   (set_attr \"type\" \"*,load,store1,*,*,*\")\n-   (set_attr \"pool_range\" \"*,64,*,*,*,*\")]\n+   (set_attr \"type\" \"*,load,store1,*,*,*\")]\n )\n \n "}]}