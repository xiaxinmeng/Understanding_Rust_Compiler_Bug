{"sha": "5386abe0daa9f1cdc2a2ca07457500e155d24810", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTM4NmFiZTBkYWE5ZjFjZGMyYTJjYTA3NDU3NTAwZTE1NWQyNDgxMA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-05-03T16:14:32Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-05-03T16:14:32Z"}, "message": "re PR ipa/80609 (crash_signal in reset_inline_summary on ia64 bootstrap)\n\n\n\tPR bootstrap/80609\n\t* ipa-inline.h (inline_summary): Add ctor.\n\t(create_ggc): Do not use ggc_cleared_alloc.\n\nFrom-SVN: r247555", "tree": {"sha": "6b686950258579a5a7a01776798eaa6f2ac284ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b686950258579a5a7a01776798eaa6f2ac284ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5386abe0daa9f1cdc2a2ca07457500e155d24810", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5386abe0daa9f1cdc2a2ca07457500e155d24810", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5386abe0daa9f1cdc2a2ca07457500e155d24810", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5386abe0daa9f1cdc2a2ca07457500e155d24810/comments", "author": null, "committer": null, "parents": [{"sha": "f47337aef62435fcaa2549a42bac21020507a2c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f47337aef62435fcaa2549a42bac21020507a2c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f47337aef62435fcaa2549a42bac21020507a2c8"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "5cb7dee02542f1f4989987566b4e697a6762258d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5386abe0daa9f1cdc2a2ca07457500e155d24810/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5386abe0daa9f1cdc2a2ca07457500e155d24810/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5386abe0daa9f1cdc2a2ca07457500e155d24810", "patch": "@@ -1,3 +1,9 @@\n+2017-05-03  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR bootstrap/80609\n+\t* ipa-inline.h (inline_summary): Add ctor.\n+\t(create_ggc): Do not use ggc_cleared_alloc.\n+\n 2017-05-03  Jeff Downs  <heydowns@somuchpressure.net>\n \t    Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n "}, {"sha": "9027100f85ae82e4adb47b63893b915e032e6e35", "filename": "gcc/ipa-inline.h", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5386abe0daa9f1cdc2a2ca07457500e155d24810/gcc%2Fipa-inline.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5386abe0daa9f1cdc2a2ca07457500e155d24810/gcc%2Fipa-inline.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline.h?ref=5386abe0daa9f1cdc2a2ca07457500e155d24810", "patch": "@@ -175,6 +175,18 @@ struct GTY(()) inline_summary\n   int growth;\n   /* Number of SCC on the beginning of inlining process.  */\n   int scc_no;\n+\n+  /* Keep all field empty so summary dumping works during its computation.\n+     This is useful for debugging.  */\n+  inline_summary ()\n+    : estimated_self_stack_size (0), self_size (0), self_time (0), min_size (0),\n+      inlinable (false), contains_cilk_spawn (false), single_caller (false),\n+      fp_expressions (false), estimated_stack_size (false),\n+      stack_frame_offset (false), time (0), size (0), conds (NULL),\n+      entry (NULL), loop_iterations (NULL), loop_stride (NULL),\n+      array_index (NULL), growth (0), scc_no (0)\n+    {\n+    }\n };\n \n class GTY((user)) inline_summary_t: public function_summary <inline_summary *>\n@@ -185,7 +197,7 @@ class GTY((user)) inline_summary_t: public function_summary <inline_summary *>\n \n   static inline_summary_t *create_ggc (symbol_table *symtab)\n   {\n-    struct inline_summary_t *summary = new (ggc_cleared_alloc <inline_summary_t> ())\n+    struct inline_summary_t *summary = new (ggc_alloc <inline_summary_t> ())\n       inline_summary_t(symtab, true);\n     summary->disable_insertion_hook ();\n     return summary;"}]}