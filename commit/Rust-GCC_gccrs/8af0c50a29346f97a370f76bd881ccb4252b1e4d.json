{"sha": "8af0c50a29346f97a370f76bd881ccb4252b1e4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGFmMGM1MGEyOTM0NmY5N2EzNzBmNzZiZDg4MWNjYjQyNTJiMWU0ZA==", "commit": {"author": {"name": "Martin Uecker", "email": "muecker@gwdg.de", "date": "2021-07-28T06:41:38Z"}, "committer": {"name": "Martin Uecker", "email": "muecker@gwdg.de", "date": "2021-07-28T06:48:30Z"}, "message": "Correct a mistake in a warnung for -Wnonnull.\n\nIn the warning for -Wnonnull when warning about array parameters\nwith bounds > 0 and which are NULL the numbers referring to the\ntwo arguments are switched. This patch corrects the mistake.\n\n2021-07-28  Martin Uecker  <muecker@gwdg.de>\n\ngcc/\n\t* calls.c (maybe_warn_rdwr_sizes): Correct argument\n\tnumbers in warning that were switched.\n\ngcc/testsuite/\n\t* gcc.dg/Wnonnull-4.c: Correct argument numbers in warnings.", "tree": {"sha": "7f945fa19ee014ad27cadf887ada47fefa190458", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f945fa19ee014ad27cadf887ada47fefa190458"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8af0c50a29346f97a370f76bd881ccb4252b1e4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8af0c50a29346f97a370f76bd881ccb4252b1e4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8af0c50a29346f97a370f76bd881ccb4252b1e4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8af0c50a29346f97a370f76bd881ccb4252b1e4d/comments", "author": {"login": "uecker", "id": 2036635, "node_id": "MDQ6VXNlcjIwMzY2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/2036635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uecker", "html_url": "https://github.com/uecker", "followers_url": "https://api.github.com/users/uecker/followers", "following_url": "https://api.github.com/users/uecker/following{/other_user}", "gists_url": "https://api.github.com/users/uecker/gists{/gist_id}", "starred_url": "https://api.github.com/users/uecker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uecker/subscriptions", "organizations_url": "https://api.github.com/users/uecker/orgs", "repos_url": "https://api.github.com/users/uecker/repos", "events_url": "https://api.github.com/users/uecker/events{/privacy}", "received_events_url": "https://api.github.com/users/uecker/received_events", "type": "User", "site_admin": false}, "committer": {"login": "uecker", "id": 2036635, "node_id": "MDQ6VXNlcjIwMzY2MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/2036635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uecker", "html_url": "https://github.com/uecker", "followers_url": "https://api.github.com/users/uecker/followers", "following_url": "https://api.github.com/users/uecker/following{/other_user}", "gists_url": "https://api.github.com/users/uecker/gists{/gist_id}", "starred_url": "https://api.github.com/users/uecker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uecker/subscriptions", "organizations_url": "https://api.github.com/users/uecker/orgs", "repos_url": "https://api.github.com/users/uecker/repos", "events_url": "https://api.github.com/users/uecker/events{/privacy}", "received_events_url": "https://api.github.com/users/uecker/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e78480ad0983cf75813af5e02d68cdad09e441e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e78480ad0983cf75813af5e02d68cdad09e441e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e78480ad0983cf75813af5e02d68cdad09e441e9"}], "stats": {"total": 40, "additions": 20, "deletions": 20}, "files": [{"sha": "c54c57206c7c61076c84533290eb1e4833bc628f", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af0c50a29346f97a370f76bd881ccb4252b1e4d/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af0c50a29346f97a370f76bd881ccb4252b1e4d/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=8af0c50a29346f97a370f76bd881ccb4252b1e4d", "patch": "@@ -2128,8 +2128,8 @@ maybe_warn_rdwr_sizes (rdwr_map *rwm, tree fndecl, tree fntype, tree exp)\n \t\t\t\t  \"array %s is null but \"\n \t\t\t\t  \"the corresponding bound argument \"\n \t\t\t\t  \"%i value is %s\",\n-\t\t\t\t  sizidx + 1, argtypestr.c_str (),\n-\t\t\t\t  ptridx + 1, sizstr))\n+\t\t\t\t  ptridx + 1, argtypestr.c_str (),\n+\t\t\t\t  sizidx + 1, sizstr))\n \t\t    arg_warned = OPT_Wnonnull;\n \t\t}\n \t      else if (warning_at (loc, OPT_Wnonnull,"}, {"sha": "2c1c45a98567d4936eca43980c4f2b91a77f0ae6", "filename": "gcc/testsuite/gcc.dg/Wnonnull-4.c", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af0c50a29346f97a370f76bd881ccb4252b1e4d/gcc%2Ftestsuite%2Fgcc.dg%2FWnonnull-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af0c50a29346f97a370f76bd881ccb4252b1e4d/gcc%2Ftestsuite%2Fgcc.dg%2FWnonnull-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWnonnull-4.c?ref=8af0c50a29346f97a370f76bd881ccb4252b1e4d", "patch": "@@ -27,9 +27,9 @@ void test_fca_n (int r_m1)\n   T (  0);\n \n   // Verify positive bounds.\n-  T (  1);          // { dg-warning \"argument 1 of variable length array 'char\\\\\\[n]' is null but the corresponding bound argument 2 value is 1\" }\n-  T (  9);          // { dg-warning \"argument 1 of variable length array 'char\\\\\\[n]' is null but the corresponding bound argument 2 value is 9\" }\n-  T (max);          // { dg-warning \"argument 1 of variable length array 'char\\\\\\[n]' is null but the corresponding bound argument 2 value is \\\\d+\" }\n+  T (  1);          // { dg-warning \"argument 2 of variable length array 'char\\\\\\[n]' is null but the corresponding bound argument 1 value is 1\" }\n+  T (  9);          // { dg-warning \"argument 2 of variable length array 'char\\\\\\[n]' is null but the corresponding bound argument 1 value is 9\" }\n+  T (max);          // { dg-warning \"argument 2 of variable length array 'char\\\\\\[n]' is null but the corresponding bound argument 1 value is \\\\d+\" }\n }\n \n \n@@ -55,9 +55,9 @@ void test_fsa_x_n (int r_m1)\n   T (  0);\n \n   // Verify positive bounds.\n-  T (  1);          // { dg-warning \"argument 1 of variable length array 'short int\\\\\\[]\\\\\\[n]' is null but the corresponding bound argument 2 value is 1\" }\n-  T (  9);          // { dg-warning \"argument 1 of variable length array 'short int\\\\\\[]\\\\\\[n]' is null but the corresponding bound argument 2 value is 9\" }\n-  T (max);          // { dg-warning \"argument 1 of variable length array 'short int\\\\\\[]\\\\\\[n]' is null but the corresponding bound argument 2 value is \\\\d+\" }\n+  T (  1);          // { dg-warning \"argument 2 of variable length array 'short int\\\\\\[]\\\\\\[n]' is null but the corresponding bound argument 1 value is 1\" }\n+  T (  9);          // { dg-warning \"argument 2 of variable length array 'short int\\\\\\[]\\\\\\[n]' is null but the corresponding bound argument 1 value is 9\" }\n+  T (max);          // { dg-warning \"argument 2 of variable length array 'short int\\\\\\[]\\\\\\[n]' is null but the corresponding bound argument 1 value is \\\\d+\" }\n }\n \n \n@@ -83,9 +83,9 @@ void test_fia_1_n (int r_m1)\n   T (  0);\n \n   // Verify positive bounds.\n-  T (  1);          // { dg-warning \"argument 1 of variable length array 'int\\\\\\[1]\\\\\\[n]' is null but the corresponding bound argument 2 value is 1\" }\n-  T (  9);          // { dg-warning \"argument 1 of variable length array 'int\\\\\\[1]\\\\\\[n]' is null but the corresponding bound argument 2 value is 9\" }\n-  T (max);          // { dg-warning \"argument 1 of variable length array 'int\\\\\\[1]\\\\\\[n]' is null but the corresponding bound argument 2 value is \\\\d+\" }\n+  T (  1);          // { dg-warning \"argument 2 of variable length array 'int\\\\\\[1]\\\\\\[n]' is null but the corresponding bound argument 1 value is 1\" }\n+  T (  9);          // { dg-warning \"argument 2 of variable length array 'int\\\\\\[1]\\\\\\[n]' is null but the corresponding bound argument 1 value is 9\" }\n+  T (max);          // { dg-warning \"argument 2 of variable length array 'int\\\\\\[1]\\\\\\[n]' is null but the corresponding bound argument 1 value is \\\\d+\" }\n }\n \n \n@@ -111,9 +111,9 @@ void test_fla_3_n (int r_m1)\n   T (  0);\n \n   // Verify positive bounds.\n-  T (  1);          // { dg-warning \"argument 1 of variable length array 'long int\\\\\\[3]\\\\\\[n]' is null but the corresponding bound argument 2 value is 1\" }\n-  T (  9);          // { dg-warning \"argument 1 of variable length array 'long int\\\\\\[3]\\\\\\[n]' is null but the corresponding bound argument 2 value is 9\" }\n-  T (max);          // { dg-warning \"argument 1 of variable length array 'long int\\\\\\[3]\\\\\\[n]' is null but the corresponding bound argument 2 value is \\\\d+\" }\n+  T (  1);          // { dg-warning \"argument 2 of variable length array 'long int\\\\\\[3]\\\\\\[n]' is null but the corresponding bound argument 1 value is 1\" }\n+  T (  9);          // { dg-warning \"argument 2 of variable length array 'long int\\\\\\[3]\\\\\\[n]' is null but the corresponding bound argument 1 value is 9\" }\n+  T (max);          // { dg-warning \"argument 2 of variable length array 'long int\\\\\\[3]\\\\\\[n]' is null but the corresponding bound argument 1 value is \\\\d+\" }\n }\n \n \n@@ -139,9 +139,9 @@ void test_fda_n_5 (int r_m1)\n   T (  0);\n \n   // Verify positive bounds.\n-  T (  1);          // { dg-warning \"argument 1 of variable length array 'double\\\\\\[n]\\\\\\[5]' is null but the corresponding bound argument 2 value is 1\" }\n-  T (  9);          // { dg-warning \"argument 1 of variable length array 'double\\\\\\[n]\\\\\\[5]' is null but the corresponding bound argument 2 value is 9\" }\n-  T (max);          // { dg-warning \"argument 1 of variable length array 'double\\\\\\[n]\\\\\\[5]' is null but the corresponding bound argument 2 value is \\\\d+\" }\n+  T (  1);          // { dg-warning \"argument 2 of variable length array 'double\\\\\\[n]\\\\\\[5]' is null but the corresponding bound argument 1 value is 1\" }\n+  T (  9);          // { dg-warning \"argument 2 of variable length array 'double\\\\\\[n]\\\\\\[5]' is null but the corresponding bound argument 1 value is 9\" }\n+  T (max);          // { dg-warning \"argument 2 of variable length array 'double\\\\\\[n]\\\\\\[5]' is null but the corresponding bound argument 1 value is \\\\d+\" }\n }\n \n \n@@ -167,7 +167,7 @@ void test_fca_n_n (int r_m1)\n   T (  0);\n \n   // Verify positive bounds.\n-  T (  1);          // { dg-warning \"argument 1 of variable length array 'char\\\\\\[n]\\\\\\[n]' is null but the corresponding bound argument 2 value is 1\" }\n-  T (  9);          // { dg-warning \"argument 1 of variable length array 'char\\\\\\[n]\\\\\\[n]' is null but the corresponding bound argument 2 value is 9\" }\n-  T (max);          // { dg-warning \"argument 1 of variable length array 'char\\\\\\[n]\\\\\\[n]' is null but the corresponding bound argument 2 value is \\\\d+\" }\n+  T (  1);          // { dg-warning \"argument 2 of variable length array 'char\\\\\\[n]\\\\\\[n]' is null but the corresponding bound argument 1 value is 1\" }\n+  T (  9);          // { dg-warning \"argument 2 of variable length array 'char\\\\\\[n]\\\\\\[n]' is null but the corresponding bound argument 1 value is 9\" }\n+  T (max);          // { dg-warning \"argument 2 of variable length array 'char\\\\\\[n]\\\\\\[n]' is null but the corresponding bound argument 1 value is \\\\d+\" }\n }"}]}