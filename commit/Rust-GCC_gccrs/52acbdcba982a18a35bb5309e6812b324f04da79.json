{"sha": "52acbdcba982a18a35bb5309e6812b324f04da79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJhY2JkY2JhOTgyYTE4YTM1YmI1MzA5ZTY4MTJiMzI0ZjA0ZGE3OQ==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2001-12-03T18:47:44Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-12-03T18:47:44Z"}, "message": "rs6000.h (RETURN_IN_MEMORY): Cast result of int_size_in_bytes to unsigned HOST_WIDEST_INT so that -1 > 8.\n\n\t* rs6000.h (RETURN_IN_MEMORY): Cast result of\n\tint_size_in_bytes to unsigned HOST_WIDEST_INT so that -1 > 8.\n\nFrom-SVN: r47554", "tree": {"sha": "76f0e72c54702203107fbef538ff770d1d8ce664", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76f0e72c54702203107fbef538ff770d1d8ce664"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52acbdcba982a18a35bb5309e6812b324f04da79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52acbdcba982a18a35bb5309e6812b324f04da79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52acbdcba982a18a35bb5309e6812b324f04da79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52acbdcba982a18a35bb5309e6812b324f04da79/comments", "author": null, "committer": null, "parents": [{"sha": "97d521024f77c2b5911aaf44d6a6edbc49ccf91a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97d521024f77c2b5911aaf44d6a6edbc49ccf91a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97d521024f77c2b5911aaf44d6a6edbc49ccf91a"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "0458f583aeca27e6344c2d0d38736664108f9090", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52acbdcba982a18a35bb5309e6812b324f04da79/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52acbdcba982a18a35bb5309e6812b324f04da79/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=52acbdcba982a18a35bb5309e6812b324f04da79", "patch": "@@ -1,3 +1,8 @@\n+2001-12-03  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* rs6000.h (RETURN_IN_MEMORY): Cast result of\n+\tint_size_in_bytes to unsigned HOST_WIDEST_INT so that -1 > 8.\n+\n Mon Dec  3 09:18:34 2001  Jeffrey A Law  (law@cygnus.com)\n \n \t* mn10200.md (negsf2): Use -0x8000 instead of 0x8000 for"}, {"sha": "3baf6866f602e33ed58b5c96d9412b5371795697", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52acbdcba982a18a35bb5309e6812b324f04da79/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52acbdcba982a18a35bb5309e6812b324f04da79/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=52acbdcba982a18a35bb5309e6812b324f04da79", "patch": "@@ -1486,11 +1486,15 @@ typedef struct rs6000_stack {\n    controls this instead of DEFAULT_ABI; V.4 targets needing backward\n    compatibility can change DRAFT_V4_STRUCT_RET to override the\n    default, and -m switches get the final word.  See\n-   rs6000_override_options for more details.  */\n-   \n+   rs6000_override_options for more details.\n+\n+   int_size_in_bytes returns -1 for variable size objects, which go in\n+   memory always.  The cast to unsigned makes -1 > 8.  */\n+\n #define RETURN_IN_MEMORY(TYPE) \\\n   (AGGREGATE_TYPE_P (TYPE) && \\\n-   (TARGET_AIX_STRUCT_RET || int_size_in_bytes (TYPE) > 8))\n+   (TARGET_AIX_STRUCT_RET || \\\n+    (unsigned HOST_WIDEST_INT) int_size_in_bytes (TYPE) > 8))\n \n /* DRAFT_V4_STRUCT_RET defaults off.  */\n #define DRAFT_V4_STRUCT_RET 0"}]}