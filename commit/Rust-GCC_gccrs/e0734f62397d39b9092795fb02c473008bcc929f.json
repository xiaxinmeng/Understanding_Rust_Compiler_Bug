{"sha": "e0734f62397d39b9092795fb02c473008bcc929f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA3MzRmNjIzOTdkMzliOTA5Mjc5NWZiMDJjNDczMDA4YmNjOTI5Zg==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2007-10-30T13:22:36Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2007-10-30T13:22:36Z"}, "message": "tree-ssa-operands.c (add_vars_for_offset): Fix exit test of loop adding SFTs as virtual operands.\n\n2007-10-30  Richard Guenther  <rguenther@suse.de>\n\n\t* tree-ssa-operands.c (add_vars_for_offset): Fix exit test\n\tof loop adding SFTs as virtual operands.\n\n\t* gcc.c-torture/execute/20071030-1.c: New testcase copied from\n\tgcc.target/i386/loop-3.c.\n\nFrom-SVN: r129770", "tree": {"sha": "c4e04f419dce73a4235be56fbfc7adda40554ed6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4e04f419dce73a4235be56fbfc7adda40554ed6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0734f62397d39b9092795fb02c473008bcc929f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0734f62397d39b9092795fb02c473008bcc929f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0734f62397d39b9092795fb02c473008bcc929f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0734f62397d39b9092795fb02c473008bcc929f/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ebb82e27513e78bac987eda8a6cca289be3ff43d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebb82e27513e78bac987eda8a6cca289be3ff43d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebb82e27513e78bac987eda8a6cca289be3ff43d"}], "stats": {"total": 92, "additions": 91, "deletions": 1}, "files": [{"sha": "14c0428daf2b787939792e6a1c21dfcc04915b52", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0734f62397d39b9092795fb02c473008bcc929f", "patch": "@@ -1,3 +1,8 @@\n+2007-10-30  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree-ssa-operands.c (add_vars_for_offset): Fix exit test\n+\tof loop adding SFTs as virtual operands.\n+\n 2007-10-30  Richard Guenther  <rguenther@suse.de>\n \n \t* Makefile.in (dse.o): Add $(OPTABS_H) and $(RECOG_H) dependencies."}, {"sha": "11a54f178588614dbb837fe16933999193cca7cd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e0734f62397d39b9092795fb02c473008bcc929f", "patch": "@@ -1,3 +1,8 @@\n+2007-10-30  Richard Guenther  <rguenther@suse.de>\n+\n+\t* gcc.c-torture/execute/20071030-1.c: New testcase copied from\n+\tgcc.target/i386/loop-3.c.\n+\n 2007-10-30  Revital Eres  <eres@il.ibm.com>\n \n \t* testsuite/gcc.dg/vect/pr33866.c: Require vect_long."}, {"sha": "7be3cd8c8237615e3ed852f8849dd301862f21ff", "filename": "gcc/testsuite/gcc.c-torture/execute/20071030-1.c", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20071030-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20071030-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20071030-1.c?ref=e0734f62397d39b9092795fb02c473008bcc929f", "patch": "@@ -0,0 +1,79 @@\n+/* PR target/11044 */\n+/* Originator: Tim McGrath <misty-@charter.net> */\n+/* Testcase contributed by Eric Botcazou <ebotcazou@libertysurf.fr> */\n+\n+/* Testcase copied from gcc.target/i386/loop-3.c */\n+\n+extern void *memset (void *, int, __SIZE_TYPE__);\n+extern void abort (void);\n+\n+typedef struct\n+{\n+        unsigned char colormod;\n+} entity_state_t;\n+\n+typedef struct\n+{\n+        int num_entities;\n+        entity_state_t *entities;\n+} packet_entities_t;\n+\n+typedef struct\n+{\n+        double senttime;\n+        float ping_time;\n+        packet_entities_t entities;\n+} client_frame_t;\n+\n+typedef enum\n+{\n+        cs_free,\n+        cs_server,\n+        cs_zombie,\n+        cs_connected,\n+        cs_spawned\n+} sv_client_state_t;\n+\n+typedef struct client_s\n+{\n+        sv_client_state_t state;\n+        int ping;\n+        client_frame_t frames[64];\n+} client_t;\n+\n+int CalcPing (client_t *cl)\n+{\n+        float ping;\n+        int count, i;\n+        register client_frame_t *frame;\n+\n+        if (cl->state == cs_server)\n+                return cl->ping;\n+        ping = 0;\n+        count = 0;\n+        for (frame = cl->frames, i = 0; i < 64; i++, frame++) {\n+                if (frame->ping_time > 0) {\n+                        ping += frame->ping_time;\n+                        count++;\n+                }\n+        }\n+        if (!count)\n+                return 9999;\n+        ping /= count;\n+\n+        return ping * 1000;\n+}\n+\n+int main(void)\n+{\n+   client_t cl;\n+\n+   memset(&cl, 0, sizeof(cl));\n+\n+   cl.frames[0].ping_time = 1.0f;\n+\n+   if (CalcPing(&cl) != 1000)\n+     abort();\n+\n+   return 0;\n+}"}, {"sha": "2f957054310c044632b927b108211ce69a7c68c5", "filename": "gcc/tree-ssa-operands.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2Ftree-ssa-operands.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0734f62397d39b9092795fb02c473008bcc929f/gcc%2Ftree-ssa-operands.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-operands.c?ref=e0734f62397d39b9092795fb02c473008bcc929f", "patch": "@@ -1409,7 +1409,8 @@ add_vars_for_offset (tree var,\n \n   for (; VEC_iterate (tree, sv, i, subvar); ++i)\n     {\n-      if (size <= SFT_OFFSET (subvar) - offset)\n+      if (SFT_OFFSET (subvar) > offset\n+\t  && size <= SFT_OFFSET (subvar) - offset)\n \tbreak;\n \n       if (is_def)"}]}