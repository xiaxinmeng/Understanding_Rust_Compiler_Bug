{"sha": "ac61ba6af2767152007278e0b1637d1447ca93a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWM2MWJhNmFmMjc2NzE1MjAwNzI3OGUwYjE2MzdkMTQ0N2NhOTNhNw==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2008-01-06T19:36:44Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2008-01-06T19:36:44Z"}, "message": "re PR fortran/34689 (libgomp.fortran/appendix-a/a.33.3.f90  -O  (test for excess errors))\n\n2008-01-06  Tobias Burnus  <burnus@net-b.de>\n\n       PR fortran/34689\n       * interface.c (compare_actual_formal): Fix intent(out) check for\n       function result variables.\n\n2008-01-06  Tobias Burnus  <burnus@net-b.de>\n\n       PR fortran/34689\n       * gfortran.dg/intent_out_4.f90: New.\n\nFrom-SVN: r131359", "tree": {"sha": "898255a182219879150de12200496747201e247e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/898255a182219879150de12200496747201e247e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ac61ba6af2767152007278e0b1637d1447ca93a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac61ba6af2767152007278e0b1637d1447ca93a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac61ba6af2767152007278e0b1637d1447ca93a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac61ba6af2767152007278e0b1637d1447ca93a7/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "43db79799897b90ef8232cc187064e095b2470f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43db79799897b90ef8232cc187064e095b2470f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43db79799897b90ef8232cc187064e095b2470f3"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "09155e3f26a98be8135238d0078b133feb0da892", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ac61ba6af2767152007278e0b1637d1447ca93a7", "patch": "@@ -1,3 +1,9 @@\n+2008-01-06  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/34689\n+\t* interface.c (compare_actual_formal): Fix intent(out) check for\n+\tfunction result variables.\n+\n 2008-01-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/34387"}, {"sha": "8088fc65432162cbc9e29aeaa037e7909a95577a", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=ac61ba6af2767152007278e0b1637d1447ca93a7", "patch": "@@ -1909,7 +1909,8 @@ compare_actual_formal (gfc_actual_arglist **ap, gfc_formal_arglist *formal,\n \n       /* Check intent = OUT/INOUT for definable actual argument.  */\n       if ((a->expr->expr_type != EXPR_VARIABLE\n-\t   || a->expr->symtree->n.sym->attr.flavor != FL_VARIABLE)\n+\t   || (a->expr->symtree->n.sym->attr.flavor != FL_VARIABLE\n+\t       && a->expr->symtree->n.sym->attr.flavor != FL_PROCEDURE))\n \t  && (f->sym->attr.intent == INTENT_OUT\n \t      || f->sym->attr.intent == INTENT_INOUT))\n \t{"}, {"sha": "1631fe900214695477b21a2ea59705a0acd56362", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ac61ba6af2767152007278e0b1637d1447ca93a7", "patch": "@@ -1,3 +1,8 @@\n+2008-01-06  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/34689\n+\t* gfortran.dg/intent_out_4.f90: New.\n+\n 2008-01-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libfortran/34540"}, {"sha": "e34c452e8e6a98468fa152220da7a51a3d437ccb", "filename": "gcc/testsuite/gfortran.dg/intent_out_4.f90", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac61ba6af2767152007278e0b1637d1447ca93a7/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_4.f90?ref=ac61ba6af2767152007278e0b1637d1447ca93a7", "patch": "@@ -0,0 +1,18 @@\n+! { dg-do compile }\n+!\n+! PR fortran/34689\n+!\n+! The following (cf. libgomp.fortran/appendix-a/a.33.3.f90)\n+! was rejected because the intent check missed a FL_FUNCTION\n+! for the result variable.\n+!\n+function test()\n+  implicit none\n+  integer :: test\n+  interface\n+    subroutine foo(a)\n+      integer(inout) :: a\n+    end subroutine foo\n+  end interface\n+  call foo(a)\n+end function test"}]}