{"sha": "8cb81753ef6a152040f98464643f9fa5f5eff924", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGNiODE3NTNlZjZhMTUyMDQwZjk4NDY0NjQzZjlmYTVmNWVmZjkyNA==", "commit": {"author": {"name": "Kaushik Phatak", "email": "kaushik.phatak@kpitcummins.com", "date": "2010-04-16T18:19:50Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2010-04-16T18:19:50Z"}, "message": "h8300.md (movqi_h8sx, [...]): Emit instructions in #xx:3 and #xx:4 mode.\n\n\t* config/h8300/h8300.md (movqi_h8sx, movhi_h8sx, movsi_h8sx, \n\tcmphi_h8300hs_znvc, cmpsi, addhi3_h8sx) : Emit instructions in #xx:3 \n\tand #xx:4 mode.\n\nFrom-SVN: r158439", "tree": {"sha": "64287aeb3ee87e9f756e73a1d60b1a5c9c310930", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64287aeb3ee87e9f756e73a1d60b1a5c9c310930"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8cb81753ef6a152040f98464643f9fa5f5eff924", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cb81753ef6a152040f98464643f9fa5f5eff924", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8cb81753ef6a152040f98464643f9fa5f5eff924", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cb81753ef6a152040f98464643f9fa5f5eff924/comments", "author": null, "committer": null, "parents": [{"sha": "4a81b412140496842501099dd5e7a00a95474a04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a81b412140496842501099dd5e7a00a95474a04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a81b412140496842501099dd5e7a00a95474a04"}], "stats": {"total": 48, "additions": 40, "deletions": 8}, "files": [{"sha": "b5ed79cf92294021ff3bbad9c2d385a74dfeba46", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8cb81753ef6a152040f98464643f9fa5f5eff924/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8cb81753ef6a152040f98464643f9fa5f5eff924/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8cb81753ef6a152040f98464643f9fa5f5eff924", "patch": "@@ -20,6 +20,10 @@\n \n 2010-04-12  Kaushik Phatak  <kaushik.phatak@kpitcummins.com>\n \n+\t* config/h8300/h8300.md (movqi_h8sx, movhi_h8sx, movsi_h8sx, \n+\tcmphi_h8300hs_znvc, cmpsi, addhi3_h8sx) : Emit instructions in\n+\t#xx:3 and #xx:4 mode.\n+\n \t* config/h8300/h8300.md (inverted load with HImode dest): Add\n \tsupport for H8300SX.\n "}, {"sha": "289c33972ebd11c60941ad4647abfb3fd3f51d12", "filename": "gcc/config/h8300/h8300.md", "status": "modified", "additions": 36, "deletions": 8, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8cb81753ef6a152040f98464643f9fa5f5eff924/gcc%2Fconfig%2Fh8300%2Fh8300.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8cb81753ef6a152040f98464643f9fa5f5eff924/gcc%2Fconfig%2Fh8300%2Fh8300.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.md?ref=8cb81753ef6a152040f98464643f9fa5f5eff924", "patch": "@@ -222,7 +222,7 @@\n \t(match_operand:QI 1 \"general_operand_src\" \"P4>X,rQi\"))]\n   \"TARGET_H8300SX\"\n   \"@\n-    mov.b\t%X1,%X0\n+    mov.b\t%X1:4,%X0\n     mov.b\t%X1,%X0\"\n   [(set_attr \"length_table\" \"mov_imm4,movb\")\n    (set_attr \"cc\" \"set_znv\")])\n@@ -300,8 +300,8 @@\n   \"TARGET_H8300SX\"\n   \"@\n    sub.w\t%T0,%T0\n-   mov.w\t%T1,%T0\n-   mov.w\t%T1,%T0\n+   mov.w\t%T1:3,%T0\n+   mov.w\t%T1:4,%T0\n    mov.w\t%T1,%T0\n    mov.w\t%T1,%T0\"\n   [(set_attr \"length_table\" \"*,*,mov_imm4,short_immediate,movw\")\n@@ -511,7 +511,7 @@\n   \"TARGET_H8300SX\"\n   \"@\n    sub.l\t%S0,%S0\n-   mov.l\t%S1,%S0\n+   mov.l\t%S1:3,%S0\n    mov.l\t%S1,%S0\n    mov.l\t%S1,%S0\n    clrmac\n@@ -1143,7 +1143,21 @@\n \t(compare (match_operand:HI 0 \"h8300_dst_operand\" \"rU,rQ\")\n \t\t (match_operand:HI 1 \"h8300_src_operand\" \"P3>X,rQi\")))]\n   \"TARGET_H8300H || TARGET_H8300S\"\n-  \"cmp.w\t%T1,%T0\"\n+  \"*\n+{\n+  switch (which_alternative)\n+    {\n+    case 0:\n+      if (!TARGET_H8300SX)\n+\treturn \\\"cmp.w\t%T1,%T0\\\";\n+      else\n+\treturn \\\"cmp.w\t%T1:3,%T0\\\";\n+    case 1:\n+      return \\\"cmp.w\t%T1,%T0\\\";\n+    default:\n+      gcc_unreachable ();\n+      }\n+}\"\n   [(set_attr \"length_table\" \"short_immediate,addw\")\n    (set_attr \"cc\" \"compare,compare\")])\n \n@@ -1152,7 +1166,21 @@\n \t(compare (match_operand:SI 0 \"h8300_dst_operand\" \"r,rQ\")\n \t\t (match_operand:SI 1 \"h8300_src_operand\" \"P3>X,rQi\")))]\n   \"TARGET_H8300H || TARGET_H8300S\"\n-  \"cmp.l\t%S1,%S0\"\n+  \"*\n+{\n+  switch (which_alternative)\n+    {\n+    case 0:\n+      if (!TARGET_H8300SX)\n+\treturn \\\"cmp.l\t%S1,%S0\\\";\n+      else\n+\treturn \\\"cmp.l\t%S1:3,%S0\\\";\n+    case 1:\n+      return \\\"cmp.l\t%S1,%S0\\\";\n+    default:\n+      gcc_unreachable ();\n+    }\n+}\"\n   [(set_attr \"length\" \"2,*\")\n    (set_attr \"length_table\" \"*,addl\")\n    (set_attr \"cc\" \"compare,compare\")])\n@@ -1259,8 +1287,8 @@\n \t\t (match_operand:HI 2 \"h8300_src_operand\" \"P3>X,P3<X,J,rQi\")))]\n   \"TARGET_H8300SX && h8300_operands_match_p (operands)\"\n   \"@\n-   add.w\t%T2,%T0\n-   sub.w\t%G2,%T0\n+   add.w\t%T2:3,%T0\n+   sub.w\t%G2:3,%T0\n    add.b\t%t2,%t0\n    add.w\t%T2,%T0\"\n   [(set_attr \"length_table\" \"short_immediate,short_immediate,*,addw\")"}]}