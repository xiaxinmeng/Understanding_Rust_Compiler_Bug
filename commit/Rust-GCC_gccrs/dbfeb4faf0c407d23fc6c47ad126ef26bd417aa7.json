{"sha": "dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGJmZWI0ZmFmMGM0MDdkMjNmYzZjNDdhZDEyNmVmMjZiZDQxN2FhNw==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2013-01-02T09:48:32Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-01-02T09:48:32Z"}, "message": "errout.adb (Set_Msg_Insertion_Warning): Correct typo causing tests to fail if insertion sequence is at end of message...\n\n2013-01-02  Robert Dewar  <dewar@adacore.com>\n\n\t* errout.adb (Set_Msg_Insertion_Warning): Correct typo causing\n\ttests to fail if insertion sequence is at end of message string.\n\t* opt.ads: Minor comment fixes and additions.\n\t* sem_ch7.adb, sem_ch8.adb, sem_ch9.adb, sem_ch10.adb, sem_ch11.adb,\n\tsem_ch12.adb, sem_ch13.adb: Add tags to warning messages.\n\t* sem_ch6.ads, sem_ch6.adb (Cannot_Inline): Deal with warning message\n\ttags. Add tags to warning messages.\n\nFrom-SVN: r194785", "tree": {"sha": "e35c582209499de18f5cd35aec0dd5eed3a5eae7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e35c582209499de18f5cd35aec0dd5eed3a5eae7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/comments", "author": null, "committer": null, "parents": [{"sha": "a3633438f36dbcef65df4758dcbc552303ad578d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3633438f36dbcef65df4758dcbc552303ad578d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3633438f36dbcef65df4758dcbc552303ad578d"}], "stats": {"total": 446, "additions": 226, "deletions": 220}, "files": [{"sha": "8cbeb9240886833ed586453ae1e17c76bde278c3", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -1,3 +1,13 @@\n+2013-01-02  Robert Dewar  <dewar@adacore.com>\n+\n+\t* errout.adb (Set_Msg_Insertion_Warning): Correct typo causing\n+\ttests to fail if insertion sequence is at end of message string.\n+\t* opt.ads: Minor comment fixes and additions.\n+\t* sem_ch7.adb, sem_ch8.adb, sem_ch9.adb, sem_ch10.adb, sem_ch11.adb,\n+\tsem_ch12.adb, sem_ch13.adb: Add tags to warning messages.\n+\t* sem_ch6.ads, sem_ch6.adb (Cannot_Inline): Deal with warning message\n+\ttags. Add tags to warning messages.\n+\n 2013-01-02  Robert Dewar  <dewar@adacore.com>\n \n \t* err_vars.ads (Warning_Doc_Switch): New flag."}, {"sha": "052b43f8dab654fb5c4de7f7c2488db2d74a9e6b", "filename": "gcc/ada/errout.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Ferrout.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Ferrout.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrout.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -2677,14 +2677,14 @@ package body Errout is\n       begin\n          Warning_Msg_Char := ' ';\n \n-         if P + 1 <= Text'Last and then Text (P) = '?' then\n+         if P <= Text'Last and then Text (P) = '?' then\n             if Warning_Doc_Switch then\n                Warning_Msg_Char := '?';\n             end if;\n \n             P := P + 1;\n \n-         elsif P + 2 <= Text'Last\n+         elsif P + 1 <= Text'Last\n            and then (Text (P) in 'a' .. 'z'\n                       or else\n                      Text (P) in 'A' .. 'Z')"}, {"sha": "493f962c17a052f893b169af284da32b1184ee69", "filename": "gcc/ada/opt.ads", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fopt.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fopt.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fopt.ads?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -1506,8 +1506,8 @@ package Opt is\n    Warn_On_Biased_Representation : Boolean := True;\n    --  GNAT\n    --  Set to True to generate warnings for size clauses, component clauses\n-   --  and component_size clauses that force biased representation. Set False\n-   --  by -gnatw.B.\n+   --  and component_size clauses that force biased representation. Modified\n+   --  by use of -gnatw.b/.B.\n \n    Warn_On_Constant : Boolean := False;\n    --  GNAT\n@@ -1567,12 +1567,14 @@ package Opt is\n    Warn_On_Object_Renames_Function : Boolean := False;\n    --  GNAT\n    --  Set to True to generate warnings when a function result is renamed as\n-   --  an object. The default is that this warning is disabled.\n+   --  an object. The default is that this warning is disabled. Modified by\n+   --  use of -gnatw.r/.R.\n \n    Warn_On_Obsolescent_Feature : Boolean := False;\n    --  GNAT\n    --  Set to True to generate warnings on use of any feature in Annex or if a\n-   --  subprogram is called for which a pragma Obsolescent applies.\n+   --  subprogram is called for which a pragma Obsolescent applies. Modified\n+   --  by use of -gnatwj/J.\n \n    Warn_On_Overlap : Boolean := False;\n    --  GNAT\n@@ -1600,7 +1602,7 @@ package Opt is\n    --  GNAT\n    --  Set to True to generate warning (informational) messages for component\n    --  clauses that are affected by non-standard bit-order. The default is\n-   --  that this warning is enabled.\n+   --  that this warning is enabled. Modified by -gnatw.v/.V.\n \n    Warn_On_Suspicious_Contract : Boolean := False;\n    --  GNAT\n@@ -1616,8 +1618,8 @@ package Opt is\n    Warn_On_Unchecked_Conversion : Boolean := True;\n    --  GNAT\n    --  Set to True to generate warnings for unchecked conversions that may have\n-   --  non-portable semantics (e.g. because sizes of types differ). The default\n-   --  is that this warning is enabled.\n+   --  non-portable semantics (e.g. because sizes of types differ). Modified\n+   --  by use of -gnatw.z/.Z.\n \n    Warn_On_Unordered_Enumeration_Type : Boolean := False;\n    --  GNAT\n@@ -1635,7 +1637,7 @@ package Opt is\n    --  GNAT\n    --  Set to True to generate warnings for the case of components of record\n    --  which have a record representation clause but this component does not\n-   --  have a component clause. The default is that this warning is disabled.\n+   --  have a component clause. Modified by use of -gnatw.c/.C.\n \n    Warn_On_Warnings_Off : Boolean := False;\n    --  GNAT"}, {"sha": "b55d064f7bb6b09c746d95137c8059849aa2c7b2", "filename": "gcc/ada/sem_ch10.adb", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch10.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch10.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch10.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -556,7 +556,7 @@ package body Sem_Ch10 is\n                                        Used_In_Spec)\n                      then\n                         Error_Msg_N -- CODEFIX\n-                          (\"?redundant with clause in body\", Clause);\n+                          (\"redundant with clause in body??\", Clause);\n                      end if;\n \n                      Used_In_Body := False;\n@@ -585,7 +585,7 @@ package body Sem_Ch10 is\n \n                      if Withed then\n                         Error_Msg_N -- CODEFIX\n-                          (\"?redundant with clause\", Clause);\n+                          (\"redundant with clause??\", Clause);\n                      end if;\n                   end;\n                end if;\n@@ -1793,7 +1793,7 @@ package body Sem_Ch10 is\n                Error_Msg_File_1 :=\n                  Get_File_Name (Subunit_Name, Subunit => True);\n                Error_Msg_N\n-                 (\"subunit$$ in file{ not found?!!\", N);\n+                 (\"subunit$$ in file{ not found??!!\", N);\n                Subunits_Missing := True;\n             end if;\n \n@@ -2513,30 +2513,30 @@ package body Sem_Ch10 is\n \n             begin\n                if U_Kind = Implementation_Unit then\n-                  Error_Msg_F (\"& is an internal 'G'N'A'T unit?\", Name (N));\n+                  Error_Msg_F (\"& is an internal 'G'N'A'T unit?i?\", Name (N));\n \n                   --  Add alternative name if available, otherwise issue a\n                   --  general warning message.\n \n                   if Error_Msg_Strlen /= 0 then\n-                     Error_Msg_F (\"\\use \"\"~\"\" instead\", Name (N));\n+                     Error_Msg_F (\"\\use \"\"~\"\" instead?i?\", Name (N));\n                   else\n                      Error_Msg_F\n                        (\"\\use of this unit is non-portable \" &\n-                        \"and version-dependent?\", Name (N));\n+                        \"and version-dependent?i?\", Name (N));\n                   end if;\n \n                elsif U_Kind = Ada_2005_Unit\n                  and then Ada_Version < Ada_2005\n                  and then Warn_On_Ada_2005_Compatibility\n                then\n-                  Error_Msg_N (\"& is an Ada 2005 unit?\", Name (N));\n+                  Error_Msg_N (\"& is an Ada 2005 unit?i?\", Name (N));\n \n                elsif U_Kind = Ada_2012_Unit\n                  and then Ada_Version < Ada_2012\n                  and then Warn_On_Ada_2012_Compatibility\n                then\n-                  Error_Msg_N (\"& is an Ada 2012 unit?\", Name (N));\n+                  Error_Msg_N (\"& is an Ada 2012 unit?i?\", Name (N));\n                end if;\n             end;\n          end if;\n@@ -3342,7 +3342,7 @@ package body Sem_Ch10 is\n                   procedure License_Error is\n                   begin\n                      Error_Msg_N\n-                       (\"?license of withed unit & may be inconsistent\",\n+                       (\"license of withed unit & may be inconsistent??\",\n                         Name (Item));\n                   end License_Error;\n \n@@ -4129,7 +4129,7 @@ package body Sem_Ch10 is\n                         then\n                            Error_Msg_NE\n                               (\"child unit& hides compilation unit \" &\n-                               \"with the same name?\",\n+                               \"with the same name??\",\n                                  Name (Item), Id);\n                            exit;\n                         end if;"}, {"sha": "e3635c66e171652318b77b20fba11da31627301d", "filename": "gcc/ada/sem_ch11.adb", "status": "modified", "additions": 10, "deletions": 11, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch11.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2012, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -266,7 +266,7 @@ package body Sem_Ch11 is\n                        and then Scope (Entity (Id)) = Current_Scope\n                      then\n                         Error_Msg_NE\n-                          (\"?exception & is never raised\", Entity (Id), Id);\n+                          (\"exception & is never raised?r?\", Entity (Id), Id);\n                      end if;\n \n                      if Present (Renamed_Entity (Entity (Id))) then\n@@ -276,9 +276,9 @@ package body Sem_Ch11 is\n                            if Warn_On_Obsolescent_Feature then\n                               Error_Msg_N\n                                 (\"Numeric_Error is an \" &\n-                                 \"obsolescent feature (RM J.6(1))?\", Id);\n+                                 \"obsolescent feature (RM J.6(1))?j?\", Id);\n                               Error_Msg_N\n-                                (\"\\use Constraint_Error instead?\", Id);\n+                                (\"\\use Constraint_Error instead?j?\", Id);\n                            end if;\n                         end if;\n                      end if;\n@@ -345,7 +345,7 @@ package body Sem_Ch11 is\n                                               N_Others_Choice)\n             then\n                Error_Msg_N\n-                 (\"useless handler contains only a reraise statement?\",\n+                 (\"useless handler contains only a reraise statement?r?\",\n                   Handler);\n             end if;\n \n@@ -445,8 +445,7 @@ package body Sem_Ch11 is\n       end if;\n \n       --  Check for useless assignment to OUT or IN OUT scalar preceding the\n-      --  raise. Right now we only look at assignment statements, we could do\n-      --  more.\n+      --  raise. Right now only look at assignment statements, could do more???\n \n       if Is_List_Member (N) then\n          declare\n@@ -496,11 +495,11 @@ package body Sem_Ch11 is\n \n                   if No (Exception_Handlers (Par)) then\n                      Error_Msg_N\n-                       (\"?assignment to pass-by-copy formal \" &\n-                        \"may have no effect\", P);\n+                       (\"assignment to pass-by-copy formal \" &\n+                        \"may have no effect??\", P);\n                      Error_Msg_N\n-                       (\"\\?RAISE statement may result in abnormal return\" &\n-                        \" (RM 6.4.1(17))\", P);\n+                       (\"\\RAISE statement may result in abnormal return\" &\n+                        \" (RM 6.4.1(17))??\", P);\n                   end if;\n                end if;\n             end if;"}, {"sha": "fdf69d15694d2dd8576cae53177eed7a0e61549e", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -10491,8 +10491,7 @@ package body Sem_Ch12 is\n \n          --  This is a binding interpretation that applies to previous versions\n          --  of the language, but for now we retain the milder check in order\n-         --  to preserve ACATS tests.\n-         --  These will be protested eventually ???\n+         --  to preserve ACATS tests. These will be protested eventually ???\n \n          if Ada_Version < Ada_2012 then\n             Check_Mode_Conformant\n@@ -12155,8 +12154,8 @@ package body Sem_Ch12 is\n       E1 := First_Entity (Form);\n       E2 := First_Entity (Act);\n       while Present (E1) and then E1 /= First_Private_Entity (Form) loop\n-         --  Could this test be a single condition???\n-         --  Seems like it could, and isn't FPE (Form) a constant anyway???\n+         --  Could this test be a single condition??? Seems like it could, and\n+         --  isn't FPE (Form) a constant anyway???\n \n          if not Is_Internal (E1)\n            and then Present (Parent (E1))\n@@ -12422,7 +12421,7 @@ package body Sem_Ch12 is\n                   --  provide additional warning which might explain the error.\n \n                   Set_Is_Immediately_Visible (Cur, Vis);\n-                  Error_Msg_NE (\"& hides outer unit with the same name?\",\n+                  Error_Msg_NE (\"& hides outer unit with the same name??\",\n                     N, Defining_Unit_Name (N));\n                end if;\n "}, {"sha": "c342a8b2178b8739da5c3133315d1af11ff792e0", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 86, "deletions": 95, "changes": 181, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -279,16 +279,16 @@ package body Sem_Ch13 is\n                      then\n                         Error_Msg_N\n                           (\"multi-byte field specified with non-standard\"\n-                           & \" Bit_Order?\", CLC);\n+                           & \" Bit_Order??\", CLC);\n \n                         if Bytes_Big_Endian then\n                            Error_Msg_N\n                              (\"bytes are not reversed \"\n-                              & \"(component is big-endian)?\", CLC);\n+                              & \"(component is big-endian)??\", CLC);\n                         else\n                            Error_Msg_N\n                              (\"bytes are not reversed \"\n-                              & \"(component is little-endian)?\", CLC);\n+                              & \"(component is little-endian)??\", CLC);\n                         end if;\n \n                         --  Do not allow non-contiguous field\n@@ -314,14 +314,14 @@ package body Sem_Ch13 is\n                        and then Warn_On_Reverse_Bit_Order\n                      then\n                         Error_Msg_N\n-                          (\"?Bit_Order clause does not affect \" &\n-                           \"byte ordering\", Pos);\n+                          (\"Bit_Order clause does not affect \" &\n+                           \"byte ordering?V?\", Pos);\n                         Error_Msg_Uint_1 :=\n                           Intval (Pos) + Intval (FB) /\n                           System_Storage_Unit;\n                         Error_Msg_N\n-                          (\"?position normalized to ^ before bit \" &\n-                           \"order interpreted\", Pos);\n+                          (\"position normalized to ^ before bit \" &\n+                           \"order interpreted?V?\", Pos);\n                      end if;\n \n                      --  Here is where we fix up the Component_Bit_Offset value\n@@ -390,10 +390,8 @@ package body Sem_Ch13 is\n \n                if Present (CC) then\n                   declare\n-                     Fbit : constant Uint :=\n-                              Static_Integer (First_Bit (CC));\n-                     Lbit : constant Uint :=\n-                              Static_Integer (Last_Bit (CC));\n+                     Fbit : constant Uint := Static_Integer (First_Bit (CC));\n+                     Lbit : constant Uint := Static_Integer (Last_Bit (CC));\n \n                   begin\n                      --  Case of component with last bit >= max machine scalar\n@@ -410,16 +408,16 @@ package body Sem_Ch13 is\n                            if Warn_On_Reverse_Bit_Order then\n                               Error_Msg_N\n                                 (\"multi-byte field specified with \"\n-                                 & \"  non-standard Bit_Order?\", CC);\n+                                 & \"  non-standard Bit_Order?V?\", CC);\n \n                               if Bytes_Big_Endian then\n                                  Error_Msg_N\n                                    (\"\\bytes are not reversed \"\n-                                    & \"(component is big-endian)?\", CC);\n+                                    & \"(component is big-endian)?V?\", CC);\n                               else\n                                  Error_Msg_N\n                                    (\"\\bytes are not reversed \"\n-                                    & \"(component is little-endian)?\", CC);\n+                                    & \"(component is little-endian)?V?\", CC);\n                               end if;\n                            end if;\n \n@@ -633,19 +631,19 @@ package body Sem_Ch13 is\n                            Error_Msg_Uint_1 := MSS;\n                            Error_Msg_N\n                              (\"info: reverse bit order in machine \" &\n-                              \"scalar of length^?\", First_Bit (CC));\n+                              \"scalar of length^?V?\", First_Bit (CC));\n                            Error_Msg_Uint_1 := NFB;\n                            Error_Msg_Uint_2 := NLB;\n \n                            if Bytes_Big_Endian then\n                               Error_Msg_NE\n-                                (\"?\\info: big-endian range for \"\n-                                 & \"component & is ^ .. ^\",\n+                                (\"\\info: big-endian range for \"\n+                                 & \"component & is ^ .. ^?V?\",\n                                  First_Bit (CC), Comp);\n                            else\n                               Error_Msg_NE\n-                                (\"?\\info: little-endian range \"\n-                                 & \"for component & is ^ .. ^\",\n+                                (\"\\info: little-endian range \"\n+                                 & \"for component & is ^ .. ^?V?\",\n                                  First_Bit (CC), Comp);\n                            end if;\n                         end if;\n@@ -2759,9 +2757,9 @@ package body Sem_Ch13 is\n                  and then Comes_From_Source (Scope (U_Ent))\n                then\n                   Error_Msg_N\n-                    (\"?entry address declared for entry in task type\", N);\n+                    (\"??entry address declared for entry in task type\", N);\n                   Error_Msg_N\n-                    (\"\\?only one task can be declared of this type\", N);\n+                    (\"\\??only one task can be declared of this type\", N);\n                end if;\n \n                --  Entry address clauses are obsolescent\n@@ -2770,10 +2768,10 @@ package body Sem_Ch13 is\n \n                if Warn_On_Obsolescent_Feature then\n                   Error_Msg_N\n-                    (\"attaching interrupt to task entry is an \" &\n-                     \"obsolescent feature (RM J.7.1)?\", N);\n+                    (\"?j?attaching interrupt to task entry is an \" &\n+                     \"obsolescent feature (RM J.7.1)\", N);\n                   Error_Msg_N\n-                    (\"\\use interrupt procedure instead?\", N);\n+                    (\"\\?j?use interrupt procedure instead\", N);\n                end if;\n \n             --  Case of an address clause for a controlled object which we\n@@ -2783,9 +2781,9 @@ package body Sem_Ch13 is\n               or else Has_Controlled_Component (Etype (U_Ent))\n             then\n                Error_Msg_NE\n-                 (\"?controlled object& must not be overlaid\", Nam, U_Ent);\n+                 (\"??controlled object& must not be overlaid\", Nam, U_Ent);\n                Error_Msg_N\n-                 (\"\\?Program_Error will be raised at run time\", Nam);\n+                 (\"\\??Program_Error will be raised at run time\", Nam);\n                Insert_Action (Declaration_Node (U_Ent),\n                  Make_Raise_Program_Error (Loc,\n                    Reason => PE_Overlaid_Controlled_Object));\n@@ -2822,9 +2820,9 @@ package body Sem_Ch13 is\n                                 or else Is_Controlled (Etype (O_Ent)))\n                   then\n                      Error_Msg_N\n-                       (\"?cannot overlay with controlled object\", Expr);\n+                       (\"??cannot overlay with controlled object\", Expr);\n                      Error_Msg_N\n-                       (\"\\?Program_Error will be raised at run time\", Expr);\n+                       (\"\\??Program_Error will be raised at run time\", Expr);\n                      Insert_Action (Declaration_Node (U_Ent),\n                        Make_Raise_Program_Error (Loc,\n                          Reason => PE_Overlaid_Controlled_Object));\n@@ -2834,7 +2832,7 @@ package body Sem_Ch13 is\n                     and then Ekind (U_Ent) = E_Constant\n                     and then not Is_Constant_Object (O_Ent)\n                   then\n-                     Error_Msg_N (\"constant overlays a variable?\", Expr);\n+                     Error_Msg_N (\"??constant overlays a variable\", Expr);\n \n                   --  Imported variables can have an address clause, but then\n                   --  the import is pretty meaningless except to suppress\n@@ -3005,7 +3003,7 @@ package body Sem_Ch13 is\n \n                if Is_Tagged_Type (U_Ent) and then Align > Max_Align then\n                   Error_Msg_N\n-                    (\"?alignment for & set to Maximum_Aligment\", Nam);\n+                    (\"alignment for & set to Maximum_Aligment??\", Nam);\n                      Set_Alignment (U_Ent, Max_Align);\n \n                --  All other cases\n@@ -3133,7 +3131,7 @@ package body Sem_Ch13 is\n \n                   if not GNAT_Mode then\n                      Error_Msg_N\n-                       (\"?component size ignored in this configuration\", N);\n+                       (\"component size ignored in this configuration??\", N);\n                   end if;\n                end if;\n \n@@ -3144,8 +3142,7 @@ package body Sem_Ch13 is\n                  and then RM_Size (Ctyp) /= Csize\n                then\n                   Error_Msg_NE\n-                    (\"?component size overrides size clause for&\",\n-                     N, Ctyp);\n+                    (\"component size overrides size clause for&?S?\", N, Ctyp);\n                end if;\n \n                Set_Has_Component_Size_Clause (Btype, True);\n@@ -3301,11 +3298,12 @@ package body Sem_Ch13 is\n \n                if not Is_Library_Level_Entity (U_Ent) then\n                   Error_Msg_NE\n-                    (\"?non-unique external tag supplied for &\", N, U_Ent);\n+                    (\"??non-unique external tag supplied for &\", N, U_Ent);\n                   Error_Msg_N\n-                    (\"?\\same external tag applies to all subprogram calls\", N);\n+                       (\"\\??same external tag applies to all \"\n+                        & \"subprogram calls\", N);\n                   Error_Msg_N\n-                    (\"?\\corresponding internal tag cannot be obtained\", N);\n+                    (\"\\??corresponding internal tag cannot be obtained\", N);\n                end if;\n             end if;\n          end External_Tag;\n@@ -3586,7 +3584,7 @@ package body Sem_Ch13 is\n                   --  case this is useless.\n \n                   Error_Msg_N\n-                    (\"?size clauses are ignored in this configuration\", N);\n+                    (\"size clauses are ignored in this configuration??\", N);\n                end if;\n \n                if Is_Type (U_Ent) then\n@@ -3875,9 +3873,9 @@ package body Sem_Ch13 is\n \n                if Warn_On_Obsolescent_Feature then\n                   Error_Msg_N\n-                    (\"storage size clause for task is an \" &\n-                     \"obsolescent feature (RM J.9)?\", N);\n-                  Error_Msg_N (\"\\use Storage_Size pragma instead?\", N);\n+                    (\"?j?storage size clause for task is an \" &\n+                     \"obsolescent feature (RM J.9)\", N);\n+                  Error_Msg_N (\"\\?j?use Storage_Size pragma instead\", N);\n                end if;\n \n                FOnly := True;\n@@ -4510,7 +4508,7 @@ package body Sem_Ch13 is\n \n             if First_Entity (E) /= Last_Entity (E) then\n                Error_Msg_N\n-                 (\"?'C'P'P type must import at least one primitive from C++\",\n+                 (\"'C'P'P type must import at least one primitive from C++??\",\n                   E);\n             end if;\n          end if;\n@@ -4537,15 +4535,15 @@ package body Sem_Ch13 is\n                     or else Convention (Prim) /= Convention_CPP\n                   then\n                      Error_Msg_N\n-                       (\"?primitives of 'C'P'P types must be imported from C++\"\n-                        & \" or abstract\", Prim);\n+                       (\"primitives of 'C'P'P types must be imported from C++ \"\n+                        & \"or abstract??\", Prim);\n \n                   elsif not Has_Constructors\n                      and then not Error_Reported\n                   then\n                      Error_Msg_Name_1 := Chars (E);\n                      Error_Msg_N\n-                       (\"?'C'P'P constructor required for type %\", Prim);\n+                       (\"??'C'P'P constructor required for type %\", Prim);\n                      Error_Reported := True;\n                   end if;\n                end if;\n@@ -4723,7 +4721,7 @@ package body Sem_Ch13 is\n                Error_Msg_N\n                  (\"?j?mod clause is an obsolescent feature (RM J.8)\", N);\n                Error_Msg_N\n-                 (\"\\?j?use alignment attribute definition clause instead?\", N);\n+                 (\"\\?j?use alignment attribute definition clause instead\", N);\n             end if;\n \n             if Present (P) then\n@@ -4910,7 +4908,7 @@ package body Sem_Ch13 is\n                                  & \"with representation of ancestor\", CC);\n                            elsif Warn_On_Redundant_Constructs then\n                               Error_Msg_N\n-                                (\"?redundant component clause \"\n+                                (\"?r?redundant component clause \"\n                                  & \"for inherited component!\", CC);\n                            end if;\n                         end;\n@@ -4950,7 +4948,7 @@ package body Sem_Ch13 is\n                           and then RM_Size (Etype (Comp)) /= Esize (Comp)\n                         then\n                            Error_Msg_NE\n-                             (\"?component size overrides size clause for&\",\n+                             (\"?S?component size overrides size clause for&\",\n                               Component_Name (CC), Etype (Comp));\n                         end if;\n \n@@ -5016,7 +5014,7 @@ package body Sem_Ch13 is\n             Next_Component_Or_Discriminant (Comp);\n          end loop;\n \n-         --  If no Complete_Representation pragma, warn if missing components\n+      --  Give missing components warning if required\n \n       elsif Warn_On_Unrepped_Components then\n          declare\n@@ -5060,7 +5058,7 @@ package body Sem_Ch13 is\n                   then\n                      Error_Msg_Sloc := Sloc (Comp);\n                      Error_Msg_NE\n-                       (\"?no component clause given for & declared #\",\n+                       (\"?C?no component clause given for & declared #\",\n                         N, Comp);\n                   end if;\n \n@@ -5089,9 +5087,7 @@ package body Sem_Ch13 is\n \n       --  Check for duplicate definiations.\n \n-      if Has_Invariants (Typ)\n-        and then Present (Invariant_Procedure (Typ))\n-      then\n+      if Has_Invariants (Typ) and then Present (Invariant_Procedure (Typ)) then\n          return Empty;\n       end if;\n \n@@ -5567,7 +5563,7 @@ package body Sem_Ch13 is\n             then\n                Error_Msg_Sloc := Sloc (Predicate_Function (T));\n                Error_Msg_Node_2 := T;\n-               Error_Msg_N (\"?info: & inherits predicate from & #\", Typ);\n+               Error_Msg_N (\"info: & inherits predicate from & #??\", Typ);\n             end if;\n          end if;\n       end Add_Call;\n@@ -6777,7 +6773,7 @@ package body Sem_Ch13 is\n            (\"visibility of aspect for& changes after freeze point\",\n             ASN, Ent);\n          Error_Msg_NE\n-           (\"?info: & is frozen here, aspects evaluated at this point\",\n+           (\"info: & is frozen here, aspects evaluated at this point??\",\n             Freeze_Node (Ent), Ent);\n       end if;\n    end Check_Aspect_At_End_Of_Declarations;\n@@ -7954,7 +7950,7 @@ package body Sem_Ch13 is\n \n                      if Error_Msg_Uint_1 > 0 then\n                         Error_Msg_NE\n-                          (\"?^-bit gap before component&\",\n+                          (\"?H?^-bit gap before component&\",\n                            Component_Name (Component_Clause (CEnt)), CEnt);\n                      end if;\n \n@@ -8909,7 +8905,7 @@ package body Sem_Ch13 is\n \n          if Present (Freeze_Node (S)) then\n             Error_Msg_NE\n-              (\"?no more representation items for }\", Freeze_Node (S), S);\n+              (\"??no more representation items for }\", Freeze_Node (S), S);\n          end if;\n \n          return True;\n@@ -9291,7 +9287,7 @@ package body Sem_Ch13 is\n \n          if Warn_On_Biased_Representation then\n             Error_Msg_NE\n-              (\"?\" & Msg & \" forces biased representation for&\", N, E);\n+              (\"?B?\" & Msg & \" forces biased representation for&\", N, E);\n          end if;\n       end if;\n    end Set_Biased;\n@@ -9400,13 +9396,13 @@ package body Sem_Ch13 is\n                   Error_Msg_NE\n                     (\"?& overlays smaller object\", ACCR.N, ACCR.X);\n                   Error_Msg_N\n-                    (\"\\?program execution may be erroneous\", ACCR.N);\n+                    (\"\\??program execution may be erroneous\", ACCR.N);\n                   Error_Msg_Uint_1 := X_Size;\n                   Error_Msg_NE\n-                    (\"\\?size of & is ^\", ACCR.N, ACCR.X);\n+                    (\"\\??size of & is ^\", ACCR.N, ACCR.X);\n                   Error_Msg_Uint_1 := Y_Size;\n                   Error_Msg_NE\n-                    (\"\\?size of & is ^\", ACCR.N, ACCR.Y);\n+                    (\"\\??size of & is ^\", ACCR.N, ACCR.Y);\n \n                --  Check for inadequate alignment, both of the base object\n                --  and of the offset, if any.\n@@ -9427,24 +9423,20 @@ package body Sem_Ch13 is\n                                              /= Known_Compatible))\n                then\n                   Error_Msg_NE\n-                    (\"?specified address for& may be inconsistent \"\n-                       & \"with alignment\",\n-                     ACCR.N, ACCR.X);\n+                    (\"??specified address for& may be inconsistent \"\n+                       & \"with alignment\", ACCR.N, ACCR.X);\n                   Error_Msg_N\n-                    (\"\\?program execution may be erroneous (RM 13.3(27))\",\n+                    (\"\\??program execution may be erroneous (RM 13.3(27))\",\n                      ACCR.N);\n                   Error_Msg_Uint_1 := X_Alignment;\n                   Error_Msg_NE\n-                    (\"\\?alignment of & is ^\",\n-                     ACCR.N, ACCR.X);\n+                    (\"\\??alignment of & is ^\", ACCR.N, ACCR.X);\n                   Error_Msg_Uint_1 := Y_Alignment;\n                   Error_Msg_NE\n-                    (\"\\?alignment of & is ^\",\n-                     ACCR.N, ACCR.Y);\n+                    (\"\\??alignment of & is ^\", ACCR.N, ACCR.Y);\n                   if Y_Alignment >= X_Alignment then\n                      Error_Msg_N\n-                      (\"\\?but offset is not multiple of alignment\",\n-                       ACCR.N);\n+                      (\"\\??but offset is not multiple of alignment\", ACCR.N);\n                   end if;\n                end if;\n             end if;\n@@ -9805,7 +9797,8 @@ package body Sem_Ch13 is\n            or else OpenVMS_On_Target\n          then\n             Error_Msg_N\n-              (\"?conversion between pointers with different conventions!\", N);\n+              (\"?Z?conversion between pointers with different conventions!\",\n+               N);\n          end if;\n       end if;\n \n@@ -9831,7 +9824,7 @@ package body Sem_Ch13 is\n \n             if Source = Calendar_Time or else Target = Calendar_Time then\n                Error_Msg_N\n-                 (\"?representation of 'Time values may change between \" &\n+                 (\"?Z?representation of 'Time values may change between \" &\n                   \"'G'N'A'T versions\", N);\n             end if;\n          end;\n@@ -9853,7 +9846,8 @@ package body Sem_Ch13 is\n          --  known statically, then we need the annotation.\n \n          if Known_Static_RM_Size (Source)\n-           and then Known_Static_RM_Size (Target)\n+              and then\n+            Known_Static_RM_Size (Target)\n          then\n             null;\n          else\n@@ -9931,15 +9925,15 @@ package body Sem_Ch13 is\n \n                if Source_Siz /= Target_Siz then\n                   Error_Msg\n-                    (\"?types for unchecked conversion have different sizes!\",\n+                    (\"?Z?types for unchecked conversion have different sizes!\",\n                      Eloc);\n \n                   if All_Errors_Mode then\n                      Error_Msg_Name_1 := Chars (Source);\n                      Error_Msg_Uint_1 := Source_Siz;\n                      Error_Msg_Name_2 := Chars (Target);\n                      Error_Msg_Uint_2 := Target_Siz;\n-                     Error_Msg (\"\\size of % is ^, size of % is ^?\", Eloc);\n+                     Error_Msg (\"\\size of % is ^, size of % is ^?Z?\", Eloc);\n \n                      Error_Msg_Uint_1 := UI_Abs (Source_Siz - Target_Siz);\n \n@@ -9949,44 +9943,41 @@ package body Sem_Ch13 is\n                      then\n                         if Source_Siz > Target_Siz then\n                            Error_Msg\n-                             (\"\\?^ high order bits of source will be ignored!\",\n-                              Eloc);\n+                             (\"\\?Z?^ high order bits of source will \"\n+                              & \"be ignored!\", Eloc);\n \n                         elsif Is_Unsigned_Type (Source) then\n                            Error_Msg\n-                             (\"\\?source will be extended with ^ high order \" &\n-                              \"zero bits?!\", Eloc);\n+                             (\"\\?Z?source will be extended with ^ high order \"\n+                              & \"zero bits?!\", Eloc);\n \n                         else\n                            Error_Msg\n-                             (\"\\?source will be extended with ^ high order \" &\n-                              \"sign bits!\",\n-                              Eloc);\n+                             (\"\\?Z?source will be extended with ^ high order \"\n+                              & \"sign bits!\", Eloc);\n                         end if;\n \n                      elsif Source_Siz < Target_Siz then\n                         if Is_Discrete_Type (Target) then\n                            if Bytes_Big_Endian then\n                               Error_Msg\n-                                (\"\\?target value will include ^ undefined \" &\n-                                 \"low order bits!\",\n-                                 Eloc);\n+                                (\"\\?Z?target value will include ^ undefined \"\n+                                 & \"low order bits!\", Eloc);\n                            else\n                               Error_Msg\n-                                (\"\\?target value will include ^ undefined \" &\n-                                 \"high order bits!\",\n-                                 Eloc);\n+                                (\"\\?Z?target value will include ^ undefined \"\n+                                 & \"high order bits!\", Eloc);\n                            end if;\n \n                         else\n                            Error_Msg\n-                             (\"\\?^ trailing bits of target value will be \" &\n-                              \"undefined!\", Eloc);\n+                             (\"\\?Z?^ trailing bits of target value will be \"\n+                              & \"undefined!\", Eloc);\n                         end if;\n \n                      else pragma Assert (Source_Siz > Target_Siz);\n                         Error_Msg\n-                          (\"\\?^ trailing bits of source will be ignored!\",\n+                          (\"\\?Z?^ trailing bits of source will be ignored!\",\n                            Eloc);\n                      end if;\n                   end if;\n@@ -10039,11 +10030,11 @@ package body Sem_Ch13 is\n                            Error_Msg_Node_1 := D_Target;\n                            Error_Msg_Node_2 := D_Source;\n                            Error_Msg\n-                             (\"?alignment of & (^) is stricter than \" &\n-                              \"alignment of & (^)!\", Eloc);\n+                             (\"?Z?alignment of & (^) is stricter than \"\n+                              & \"alignment of & (^)!\", Eloc);\n                            Error_Msg\n-                             (\"\\?resulting access value may have invalid \" &\n-                              \"alignment!\", Eloc);\n+                             (\"\\?Z?resulting access value may have invalid \"\n+                              & \"alignment!\", Eloc);\n                         end if;\n                      end;\n                   end if;"}, {"sha": "36c139b7df630c26f54ba8a4d2ae8bf24d6387f1", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 39, "deletions": 39, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -261,7 +261,7 @@ package body Sem_Ch6 is\n                    or else Scop /= Scope (Etype (First_Formal (Designator))))\n       then\n          Error_Msg_N\n-           (\"?abstract subprogram is not dispatching or overriding\", N);\n+           (\"abstract subprogram is not dispatching or overriding?r?\", N);\n       end if;\n \n       Generate_Reference_To_Formals (Designator);\n@@ -579,16 +579,16 @@ package body Sem_Ch6 is\n                if Inside_A_Generic then\n                   Error_Msg_N\n                     (\"return of limited object not permitted in Ada 2005 \"\n-                     & \"(RM-2005 6.5(5.5/2))?\", Expr);\n+                     & \"(RM-2005 6.5(5.5/2))?y?\", Expr);\n \n                elsif Is_Immutably_Limited_Type (R_Type) then\n                   Error_Msg_N\n                     (\"return by reference not permitted in Ada 2005 \"\n-                     & \"(RM-2005 6.5(5.5/2))?\", Expr);\n+                     & \"(RM-2005 6.5(5.5/2))?y?\", Expr);\n                else\n                   Error_Msg_N\n                     (\"cannot copy object of a limited type in Ada 2005 \"\n-                     & \"(RM-2005 6.5(5.5/2))?\", Expr);\n+                     & \"(RM-2005 6.5(5.5/2))?y?\", Expr);\n                end if;\n \n             --  Ada 95 mode, compatibility warnings disabled\n@@ -847,7 +847,12 @@ package body Sem_Ch6 is\n \n             if Has_Aliased then\n                if Ada_Version < Ada_2012 then\n-                  Error_Msg_N (\"aliased only allowed for limited\"\n+\n+                  --  Shouldn't this test Warn_On_Ada_2012_Compatibility ???\n+                  --  Can it really happen (extended return???)\n+\n+                  Error_Msg_N\n+                    (\"aliased only allowed for limited\"\n                      & \" return objects in Ada 2012?\", N);\n \n                elsif not Is_Immutably_Limited_Type (R_Type) then\n@@ -937,7 +942,6 @@ package body Sem_Ch6 is\n            and then Object_Access_Level (Expr) >\n                       Subprogram_Access_Level (Scope_Id)\n          then\n-\n             --  Suppress the message in a generic, where the rewriting\n             --  is irrelevant.\n \n@@ -951,9 +955,9 @@ package body Sem_Ch6 is\n                Analyze (N);\n \n                Error_Msg_N\n-                 (\"cannot return a local value by reference?\", N);\n+                 (\"cannot return a local value by reference??\", N);\n                Error_Msg_NE\n-                 (\"\\& will be raised at run time?\",\n+                 (\"\\& will be raised at run time??\",\n                    N, Standard_Program_Error);\n             end if;\n          end if;\n@@ -965,7 +969,7 @@ package body Sem_Ch6 is\n             Apply_Compile_Time_Constraint_Error\n               (N      => Expr,\n                Msg    => \"(Ada 2005) null not allowed for \"\n-                         & \"null-excluding return?\",\n+                         & \"null-excluding return??\",\n                Reason => CE_Null_Not_Allowed);\n          end if;\n \n@@ -4168,7 +4172,7 @@ package body Sem_Ch6 is\n             Error_Msg_NE (Msg (Msg'First .. Msg'Last - 1), N, Subp);\n \n          elsif Ineffective_Inline_Warnings then\n-            Error_Msg_NE (Msg, N, Subp);\n+            Error_Msg_NE (Msg & \"p?\", N, Subp);\n          end if;\n \n          return;\n@@ -4207,7 +4211,7 @@ package body Sem_Ch6 is\n                     (Unit_File_Name (Get_Source_Unit (Gen_P)))\n                   then\n                      Set_Is_Inlined (Subp, False);\n-                     Error_Msg_NE (Msg, N, Subp);\n+                     Error_Msg_NE (Msg & \"p?\", N, Subp);\n                      return;\n                   end if;\n                end;\n@@ -4225,7 +4229,7 @@ package body Sem_Ch6 is\n             --  For backward compatibility we still report a warning.\n \n             if Ineffective_Inline_Warnings then\n-               Error_Msg_NE (Msg, N, Subp);\n+               Error_Msg_NE (Msg & \"p?\", N, Subp);\n             end if;\n          end if;\n \n@@ -6912,10 +6916,10 @@ package body Sem_Ch6 is\n          if Mode = 'F' then\n             if not Raise_Exception_Call then\n                Error_Msg_N\n-                 (\"??RETURN statement missing following this statement!\",\n+                 (\"RETURN statement missing following this statement??!\",\n                   Last_Stm);\n                Error_Msg_N\n-                 (\"\\??Program_Error may be raised at run time!\",\n+                 (\"\\Program_Error may be raised at run time??!\",\n                   Last_Stm);\n             end if;\n \n@@ -6931,11 +6935,11 @@ package body Sem_Ch6 is\n          else\n             if not Raise_Exception_Call then\n                Error_Msg_N\n-                 (\"?implied return after this statement \" &\n-                  \"will raise Program_Error\",\n+                 (\"implied return after this statement \" &\n+                  \"will raise Program_Error??\",\n                   Last_Stm);\n                Error_Msg_NE\n-                 (\"\\?procedure & is marked as No_Return!\",\n+                 (\"\\procedure & is marked as No_Return??!\",\n                   Last_Stm, Proc);\n             end if;\n \n@@ -7172,7 +7176,7 @@ package body Sem_Ch6 is\n                   No_Warning_On_Some_Postcondition := True;\n                else\n                   Error_Msg_N\n-                    (\"?`Ensures` component refers only to pre-state\", Prag);\n+                    (\"`Ensures` component refers only to pre-state??\", Prag);\n                end if;\n             end if;\n \n@@ -7229,7 +7233,7 @@ package body Sem_Ch6 is\n                      No_Warning_On_Some_Postcondition := True;\n                   else\n                      Error_Msg_N\n-                       (\"?postcondition refers only to pre-state\", Prag);\n+                       (\"postcondition refers only to pre-state??\", Prag);\n                   end if;\n                end if;\n             end if;\n@@ -7283,16 +7287,16 @@ package body Sem_Ch6 is\n       then\n          if Present (Last_Postcondition) then\n             if Present (Last_Contract_Case) then\n-               Error_Msg_N (\"?neither function postcondition nor \" &\n-                              \"contract cases do mention result\",\n+               Error_Msg_N (\"neither function postcondition nor \"\n+                            & \"contract cases mention result??\",\n                             Last_Postcondition);\n \n             else\n-               Error_Msg_N (\"?function postcondition does not mention result\",\n+               Error_Msg_N (\"function postcondition does not mention result??\",\n                             Last_Postcondition);\n             end if;\n          else\n-            Error_Msg_N (\"?contract cases do not mention result\",\n+            Error_Msg_N (\"contract cases do not mention result??\",\n                          Last_Contract_Case);\n          end if;\n       end if;\n@@ -8143,14 +8147,14 @@ package body Sem_Ch6 is\n             then\n                if Scope (E) /= Standard_Standard then\n                   Error_Msg_Sloc := Sloc (E);\n-                  Error_Msg_N (\"declaration of & hides one#?\", S);\n+                  Error_Msg_N (\"declaration of & hides one#?h?\", S);\n \n                elsif Nkind (S) = N_Defining_Operator_Symbol\n                  and then\n                    Scope (Base_Type (Etype (First_Formal (S)))) /= Scope (S)\n                then\n                   Error_Msg_N\n-                    (\"declaration of & hides predefined operator?\", S);\n+                    (\"declaration of & hides predefined operator?h?\", S);\n                end if;\n             end if;\n          end loop;\n@@ -8199,17 +8203,15 @@ package body Sem_Ch6 is\n                    & \"before type& is frozen\", Eq_Op, Typ);\n \n                Obj_Decl := Next (Parent (Typ));\n-               while Present (Obj_Decl)\n-                 and then Obj_Decl /= Decl\n-               loop\n+               while Present (Obj_Decl) and then Obj_Decl /= Decl loop\n                   if Nkind (Obj_Decl) = N_Object_Declaration\n                     and then Etype (Defining_Identifier (Obj_Decl)) = Typ\n                   then\n-                     Error_Msg_NE (\"type& is frozen by declaration?\",\n-                        Obj_Decl, Typ);\n+                     Error_Msg_NE\n+                       (\"type& is frozen by declaration??\", Obj_Decl, Typ);\n                      Error_Msg_N\n                        (\"\\an equality operator cannot be declared after this \"\n-                         & \"point (RM 4.5.2 (9.8)) (Ada 2012))?\", Obj_Decl);\n+                         & \"point (RM 4.5.2 (9.8)) (Ada 2012))??\", Obj_Decl);\n                      exit;\n                   end if;\n \n@@ -9328,7 +9330,7 @@ package body Sem_Ch6 is\n                   Error_Msg_Node_2 := F_Typ;\n                   Error_Msg_NE\n                     (\"private operation& in generic unit does not override \" &\n-                     \"any primitive operation of& (RM 12.3 (18))?\",\n+                     \"any primitive operation of& (RM 12.3 (18))??\",\n                      New_E, New_E);\n                end if;\n \n@@ -9350,24 +9352,22 @@ package body Sem_Ch6 is\n         and then (Is_Subprogram (E) or else Is_Generic_Subprogram (E))\n       then\n          declare\n-            Inherited : constant Subprogram_List :=\n-                          Inherited_Subprograms (E);\n+            Inherited : constant Subprogram_List := Inherited_Subprograms (E);\n             P         : Node_Id;\n \n          begin\n             for J in Inherited'Range loop\n                P := Spec_PPC_List (Contract (Inherited (J)));\n-\n                while Present (P) loop\n                   Error_Msg_Sloc := Sloc (P);\n \n                   if Class_Present (P) and then not Split_PPC (P) then\n                      if Pragma_Name (P) = Name_Precondition then\n                         Error_Msg_N\n-                          (\"?info: & inherits `Pre''Class` aspect from #\", E);\n+                          (\"info: & inherits `Pre''Class` aspect from #?\", E);\n                      else\n                         Error_Msg_N\n-                          (\"?info: & inherits `Post''Class` aspect from #\", E);\n+                          (\"info: & inherits `Post''Class` aspect from #?\", E);\n                      end if;\n                   end if;\n \n@@ -10659,7 +10659,7 @@ package body Sem_Ch6 is\n                        and then No (F1)\n                        and then No (F2)\n                      then\n-                        Error_Msg_NE (\"calls to& may be ambiguous?\", S, S);\n+                        Error_Msg_NE (\"calls to& may be ambiguous??\", S, S);\n                      end if;\n                   end;\n                end if;\n@@ -11094,7 +11094,7 @@ package body Sem_Ch6 is\n \n             if Convention (Formal_Type) = Convention_Ada_Pass_By_Copy then\n                Error_Msg_N\n-                 (\"?cannot pass aliased parameter & by copy\", Formal);\n+                 (\"cannot pass aliased parameter & by copy?\", Formal);\n             end if;\n \n          --  Force mechanism if type has Convention Ada_Pass_By_Ref/Copy"}, {"sha": "5aa18f78acfeb37131682f13c1a5cb64a88fa1d7", "filename": "gcc/ada/sem_ch6.ads", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch6.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch6.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.ads?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -58,26 +58,30 @@ package Sem_Ch6 is\n       Is_Serious : Boolean := False);\n    --  This procedure is called if the node N, an instance of a call to\n    --  subprogram Subp, cannot be inlined. Msg is the message to be issued,\n-   --  and has a ? as the last character. Temporarily the behavior of this\n-   --  routine depends on the value of -gnatd.k:\n+   --  which ends with ? (but not ?p?, this routine takes care of the need\n+   --  to change ? to ?p?). Temporarily the behavior of this routine depends\n+   --  on the value of -gnatd.k:\n+   --\n    --    * If -gnatd.k is not set (ie. old inlining model) then if Subp has\n    --      a pragma Always_Inlined, then an error message is issued (by\n    --      removing the last character of Msg). If Subp is not Always_Inlined,\n    --      then a warning is issued if the flag Ineffective_Inline_Warnings\n    --      is set, and if not, the call has no effect.\n+   --\n    --    * If -gnatd.k is set (ie. new inlining model) then:\n    --      - If Is_Serious is true, then an error is reported (by removing the\n    --        last character of Msg);\n    --      - otherwise:\n+   --\n    --        * Compiling without optimizations if Subp has a pragma\n    --          Always_Inlined, then an error message is issued; if Subp is\n    --          not Always_Inlined, then a warning is issued if the flag\n    --          Ineffective_Inline_Warnings is set, and if not, the call\n    --          has no effect.\n-   --        * Compiling with optimizations then a warning is issued if\n-   --          the flag Ineffective_Inline_Warnings is set; otherwise the\n-   --          call has no effect since inlining may be performed by the\n-   --          backend.\n+   --\n+   --        * Compiling with optimizations then a warning is issued if the\n+   --          flag Ineffective_Inline_Warnings is set; otherwise the call has\n+   --          no effect since inlining may be performed by the backend.\n \n    procedure Check_Conventions (Typ : Entity_Id);\n    --  Ada 2005 (AI-430): Check that the conventions of all inherited and"}, {"sha": "5201463617c9f84e579b02d6a4f29bdc612e4c56", "filename": "gcc/ada/sem_ch7.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch7.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch7.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch7.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -261,7 +261,7 @@ package body Sem_Ch7 is\n          then\n             if Ada_Version = Ada_83 then\n                Error_Msg_N\n-                 (\"optional package body (not allowed in Ada 95)?\", N);\n+                 (\"optional package body (not allowed in Ada 95)??\", N);\n             else\n                Error_Msg_N (\"spec of this package does not allow a body\", N);\n             end if;"}, {"sha": "33a80e5d9fc169ceec3cc3ddc5a931718be350b2", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 28, "deletions": 27, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -1017,13 +1017,13 @@ package body Sem_Ch8 is\n                  and then Comes_From_Source (Nam)\n                then\n                   Error_Msg_N\n-                    (\"?renaming function result object is suspicious\", Nam);\n+                    (\"renaming function result object is suspicious?R?\", Nam);\n                   Error_Msg_NE\n-                    (\"\\?function & will be called only once\", Nam,\n+                    (\"\\function & will be called only once?R?\", Nam,\n                      Entity (Name (Nam)));\n                   Error_Msg_N -- CODEFIX\n-                    (\"\\?suggest using an initialized constant object instead\",\n-                     Nam);\n+                    (\"\\suggest using an initialized constant \"\n+                     & \"object instead?R?\", Nam);\n                end if;\n \n          end case;\n@@ -2289,10 +2289,10 @@ package body Sem_Ch8 is\n                        and then Hidden /= Old_S\n                      then\n                         Error_Msg_Sloc := Sloc (Hidden);\n-                        Error_Msg_N (\"?default subprogram is resolved \" &\n+                        Error_Msg_N (\"default subprogram is resolved \" &\n                                      \"in the generic declaration \" &\n-                                     \"(RM 12.6(17))\", N);\n-                        Error_Msg_NE (\"\\?and will not use & #\", N, Hidden);\n+                                     \"(RM 12.6(17))??\", N);\n+                        Error_Msg_NE (\"\\and will not use & #??\", N, Hidden);\n                      end if;\n                   end;\n                end if;\n@@ -2942,7 +2942,7 @@ package body Sem_Ch8 is\n         and then Chars (Old_S) /= Chars (New_S)\n       then\n          Error_Msg_NE\n-           (\"?& is being renamed as a different operator\", N, Old_S);\n+           (\"& is being renamed as a different operator??\", N, Old_S);\n       end if;\n \n       --  Check for renaming of obsolescent subprogram\n@@ -2965,7 +2965,7 @@ package body Sem_Ch8 is\n         and then Chars (Current_Scope) /= Chars (Old_S)\n       then\n          Error_Msg_N\n-          (\"?redundant renaming, entity is directly visible\", Name (N));\n+          (\"redundant renaming, entity is directly visible?r?\", Name (N));\n       end if;\n \n       --  Implementation-defined aspect specifications can appear in a renaming\n@@ -3219,7 +3219,7 @@ package body Sem_Ch8 is\n            and then Pack = Current_Scope\n          then\n             Error_Msg_NE -- CODEFIX\n-              (\"& is already use-visible within itself?\", Pack_Name, Pack);\n+              (\"& is already use-visible within itself?r?\", Pack_Name, Pack);\n          end if;\n \n          return False;\n@@ -6015,7 +6015,8 @@ package body Sem_Ch8 is\n          then\n             --  Selected component of record. Type checking will validate\n             --  name of selector.\n-            --  ??? could we rewrite an implicit dereference into an explicit\n+\n+            --  ??? Could we rewrite an implicit dereference into an explicit\n             --  one here?\n \n             Analyze_Selected_Component (N);\n@@ -6275,18 +6276,18 @@ package body Sem_Ch8 is\n                         Set_Entity (N, Any_Type);\n                         return;\n \n-                  --  ??? This test is temporarily disabled (always False)\n-                  --  because it causes an unwanted warning on GNAT sources\n-                  --  (built with -gnatg, which includes Warn_On_Obsolescent_\n-                  --  Feature). Once this issue is cleared in the sources, it\n-                  --  can be enabled.\n+                     --  ??? This test is temporarily disabled (always\n+                     --  False) because it causes an unwanted warning on\n+                     --  GNAT sources (built with -gnatg, which includes\n+                     --  Warn_On_Obsolescent_ Feature). Once this issue\n+                     --  is cleared in the sources, it can be enabled.\n \n                      elsif Warn_On_Obsolescent_Feature\n                        and then False\n                      then\n                         Error_Msg_N\n                           (\"applying 'Class to an untagged incomplete type\"\n-                           & \" is an obsolescent feature  (RM J.11)\", N);\n+                           & \" is an obsolescent feature (RM J.11)?r?\", N);\n                      end if;\n                   end if;\n \n@@ -6379,7 +6380,7 @@ package body Sem_Ch8 is\n                  and then Base_Type (Typ) = Typ\n                then\n                   Error_Msg_NE -- CODEFIX\n-                    (\"?redundant attribute, & is its own base type\", N, Typ);\n+                    (\"redundant attribute, & is its own base type?r?\", N, Typ);\n                end if;\n \n                T := Base_Type (Typ);\n@@ -7248,7 +7249,7 @@ package body Sem_Ch8 is\n       if Present (Redundant) then\n          Error_Msg_Sloc := Sloc (Prev_Use);\n          Error_Msg_NE -- CODEFIX\n-           (\"& is already use-visible through previous use clause #?\",\n+           (\"& is already use-visible through previous use clause #??\",\n             Redundant, Pack_Name);\n       end if;\n    end Note_Redundant_Use;\n@@ -8362,14 +8363,14 @@ package body Sem_Ch8 is\n                         Error_Msg_Sloc := Sloc (Current_Use_Clause (T));\n                         Error_Msg_NE -- CODEFIX\n                           (\"& is already use-visible through previous \"\n-                           & \"use_type_clause #?\", Clause1, T);\n+                           & \"use_type_clause #??\", Clause1, T);\n                         return;\n \n                      elsif Nkind (Unit1) = N_Subunit then\n                         Error_Msg_Sloc := Sloc (Current_Use_Clause (T));\n                         Error_Msg_NE -- CODEFIX\n                           (\"& is already use-visible through previous \"\n-                           & \"use_type_clause #?\", Clause1, T);\n+                           & \"use_type_clause #??\", Clause1, T);\n                         return;\n \n                      elsif Nkind_In (Unit2, N_Package_Body, N_Subprogram_Body)\n@@ -8379,7 +8380,7 @@ package body Sem_Ch8 is\n                         Error_Msg_Sloc := Sloc (Clause1);\n                         Error_Msg_NE -- CODEFIX\n                           (\"& is already use-visible through previous \"\n-                           & \"use_type_clause #?\", Current_Use_Clause (T), T);\n+                           & \"use_type_clause #??\", Current_Use_Clause (T), T);\n                         return;\n                      end if;\n \n@@ -8431,7 +8432,7 @@ package body Sem_Ch8 is\n \n                      Error_Msg_NE -- CODEFIX\n                        (\"& is already use-visible through previous \"\n-                        & \"use_type_clause #?\", Err_No, Id);\n+                        & \"use_type_clause #??\", Err_No, Id);\n \n                   --  Case where current use type clause and the use type\n                   --  clause for the type are not both at the compilation unit\n@@ -8440,7 +8441,7 @@ package body Sem_Ch8 is\n                   else\n                      Error_Msg_NE -- CODEFIX\n                        (\"& is already use-visible through previous \"\n-                        & \"use type clause?\", Id, T);\n+                        & \"use type clause??\", Id, T);\n                   end if;\n                end Use_Clause_Known;\n \n@@ -8450,23 +8451,23 @@ package body Sem_Ch8 is\n             else\n                Error_Msg_NE -- CODEFIX\n                  (\"& is already use-visible through previous \"\n-                  & \"use type clause?\", Id, T);\n+                  & \"use type clause??\", Id, T);\n             end if;\n \n          --  The package where T is declared is already used\n \n          elsif In_Use (Scope (T)) then\n             Error_Msg_Sloc := Sloc (Current_Use_Clause (Scope (T)));\n             Error_Msg_NE -- CODEFIX\n-              (\"& is already use-visible through package use clause #?\",\n+              (\"& is already use-visible through package use clause #??\",\n                Id, T);\n \n          --  The current scope is the package where T is declared\n \n          else\n             Error_Msg_Node_2 := Scope (T);\n             Error_Msg_NE -- CODEFIX\n-              (\"& is already use-visible inside package &?\", Id, T);\n+              (\"& is already use-visible inside package &??\", Id, T);\n          end if;\n       end if;\n    end Use_One_Type;"}, {"sha": "16c011c5ad8c9b295275b1890fd022cdd889a865", "filename": "gcc/ada/sem_ch9.adb", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7/gcc%2Fada%2Fsem_ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch9.adb?ref=dbfeb4faf0c407d23fc6c47ad126ef26bd417aa7", "patch": "@@ -1062,9 +1062,9 @@ package body Sem_Ch9 is\n         and then Nkind (First (Else_Statements (N))) in N_Delay_Statement\n       then\n          Error_Msg_N\n-           (\"suspicious form of conditional entry call?!\", N);\n+           (\"suspicious form of conditional entry call??!\", N);\n          Error_Msg_N\n-           (\"\\`SELECT OR` may be intended rather than `SELECT ELSE`!\", N);\n+           (\"\\`SELECT OR` may be intended rather than `SELECT ELSE`??!\", N);\n       end if;\n \n       --  Postpone the analysis of the statements till expansion. Analyze only\n@@ -1987,11 +1987,11 @@ package body Sem_Ch9 is\n          if Error_Msg_Sloc = No_Location then\n             Error_Msg_N\n               (\"objects of this type will violate \" &\n-               \"`No_Local_Protected_Objects`?\", N);\n+               \"`No_Local_Protected_Objects`??\", N);\n          else\n             Error_Msg_N\n               (\"objects of this type will violate \" &\n-               \"`No_Local_Protected_Objects`?#\", N);\n+               \"`No_Local_Protected_Objects`#??\", N);\n          end if;\n       end if;\n \n@@ -2052,15 +2052,15 @@ package body Sem_Ch9 is\n                  or else From_Aspect_Specification (Prio_Item)\n                then\n                   Error_Msg_Name_1 := Chars (Identifier (Prio_Item));\n-                  Error_Msg_NE (\"?aspect% for & has no effect when Lock_Free\" &\n-                                \" given\", Prio_Item, Id);\n+                  Error_Msg_NE (\"aspect% for & has no effect when Lock_Free\" &\n+                                \" given??\", Prio_Item, Id);\n \n                --  Pragma case\n \n                else\n                   Error_Msg_Name_1 := Pragma_Name (Prio_Item);\n-                  Error_Msg_NE (\"?pragma% for & has no effect when Lock_Free\" &\n-                                \" given\", Prio_Item, Id);\n+                  Error_Msg_NE (\"pragma% for & has no effect when Lock_Free\" &\n+                                \" given??\", Prio_Item, Id);\n                end if;\n             end if;\n          end;\n@@ -2089,16 +2089,16 @@ package body Sem_Ch9 is\n                     or else From_Aspect_Specification (Prio_Item))\n                  and then Chars (Identifier (Prio_Item)) = Name_Priority\n                then\n-                  Error_Msg_N (\"?aspect Interrupt_Priority is preferred \"\n-                               & \"in presence of handlers\", Prio_Item);\n+                  Error_Msg_N (\"aspect Interrupt_Priority is preferred \"\n+                               & \"in presence of handlers??\", Prio_Item);\n \n                --  Pragma case\n \n                elsif Nkind (Prio_Item) = N_Pragma\n                  and then Pragma_Name (Prio_Item) = Name_Priority\n                then\n-                  Error_Msg_N (\"?pragma Interrupt_Priority is preferred \"\n-                               & \"in presence of handlers\", Prio_Item);\n+                  Error_Msg_N (\"pragma Interrupt_Priority is preferred \"\n+                               & \"in presence of handlers??\", Prio_Item);\n                end if;\n             end if;\n          end;\n@@ -2516,7 +2516,7 @@ package body Sem_Ch9 is\n                               if Entity (EDN1) = Ent then\n                                  Error_Msg_Sloc := Sloc (Stm1);\n                                  Error_Msg_N\n-                                   (\"?accept duplicates one on line#\", Stm);\n+                                   (\"accept duplicates one on line#??\", Stm);\n                                  exit;\n                               end if;\n                            end if;\n@@ -2799,7 +2799,7 @@ package body Sem_Ch9 is\n               and then not Entry_Accepted (Ent)\n               and then Comes_From_Source (Ent)\n             then\n-               Error_Msg_NE (\"no accept for entry &?\", N, Ent);\n+               Error_Msg_NE (\"no accept for entry &??\", N, Ent);\n             end if;\n \n             Next_Entity (Ent);\n@@ -2923,10 +2923,10 @@ package body Sem_Ch9 is\n \n          if Error_Msg_Sloc = No_Location then\n             Error_Msg_N\n-              (\"objects of this type will violate `No_Task_Hierarchy`?\", N);\n+              (\"objects of this type will violate `No_Task_Hierarchy`??\", N);\n          else\n             Error_Msg_N\n-              (\"objects of this type will violate `No_Task_Hierarchy`?#\", N);\n+              (\"objects of this type will violate `No_Task_Hierarchy`#??\", N);\n          end if;\n       end if;\n "}]}