{"sha": "83eb5a035858bca79d7a8ac589ae5b98fd8467c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNlYjVhMDM1ODU4YmNhNzlkN2E4YWM1ODlhZTViOThmZDg0NjdjNg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2016-01-16T04:38:19Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2016-01-16T04:38:19Z"}, "message": "PR diagnostic/68899: fix read-beyond-buffer when printing very wide source lines\n\ngcc/ChangeLog:\n\tPR diagnostic/68899\n\t* diagnostic-show-locus.c (layout::print_source_line): Move x\n\toffset of line until after call to\n\tget_line_width_without_trailing_whitespace.\n\nFrom-SVN: r232465", "tree": {"sha": "45f7f5e67a67ee9f4da14fefddd832d74c8c746c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45f7f5e67a67ee9f4da14fefddd832d74c8c746c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83eb5a035858bca79d7a8ac589ae5b98fd8467c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83eb5a035858bca79d7a8ac589ae5b98fd8467c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83eb5a035858bca79d7a8ac589ae5b98fd8467c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83eb5a035858bca79d7a8ac589ae5b98fd8467c6/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ec7886c19b5853d27c37cfb269f70805e4296231", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec7886c19b5853d27c37cfb269f70805e4296231", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec7886c19b5853d27c37cfb269f70805e4296231"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "cf0421880c0ff085200c04300797344d874a9d32", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83eb5a035858bca79d7a8ac589ae5b98fd8467c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83eb5a035858bca79d7a8ac589ae5b98fd8467c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=83eb5a035858bca79d7a8ac589ae5b98fd8467c6", "patch": "@@ -1,3 +1,10 @@\n+2016-01-15  David Malcolm  <dmalcolm@redhat.com>\n+\n+\tPR diagnostic/68899\n+\t* diagnostic-show-locus.c (layout::print_source_line): Move x\n+\toffset of line until after call to\n+\tget_line_width_without_trailing_whitespace.\n+\n 2016-01-15  Jeff Law  <law@redhat.com>\n \n \tPR tree-optimization/69270"}, {"sha": "e32325486af96e137991a67d19e265424e015b54", "filename": "gcc/diagnostic-show-locus.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83eb5a035858bca79d7a8ac589ae5b98fd8467c6/gcc%2Fdiagnostic-show-locus.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83eb5a035858bca79d7a8ac589ae5b98fd8467c6/gcc%2Fdiagnostic-show-locus.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic-show-locus.c?ref=83eb5a035858bca79d7a8ac589ae5b98fd8467c6", "patch": "@@ -524,14 +524,13 @@ layout::print_source_line (int row, line_bounds *lbounds_out)\n   if (!line)\n     return false;\n \n-  line += m_x_offset;\n-\n   m_colorizer.set_normal_text ();\n \n   /* We will stop printing the source line at any trailing\n      whitespace.  */\n   line_width = get_line_width_without_trailing_whitespace (line,\n \t\t\t\t\t\t\t   line_width);\n+  line += m_x_offset;\n \n   pp_space (m_pp);\n   int first_non_ws = INT_MAX;"}]}