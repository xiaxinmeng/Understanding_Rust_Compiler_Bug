{"sha": "09f15d1b52b9e1e37dc02c8674c8738a1b036ea7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDlmMTVkMWI1MmI5ZTFlMzdkYzAyYzg2NzRjODczOGExYjAzNmVhNw==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2014-03-24T19:53:52Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2014-03-24T19:53:52Z"}, "message": "invoke.texi (-flto): Expand section about using static libraries with LTO.\n\n2014-03-24  Tobias Burnus  <burnus@net-b.de>\n\n        * doc/invoke.texi (-flto): Expand section about\n        using static libraries with LTO.\n\nFrom-SVN: r208798", "tree": {"sha": "8d3b75c7f580fdd02d924c5a0f27b9915d8b8bab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d3b75c7f580fdd02d924c5a0f27b9915d8b8bab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f6c00f3a3e5f79e89c4ec8a4901ac270d451023", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f6c00f3a3e5f79e89c4ec8a4901ac270d451023", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f6c00f3a3e5f79e89c4ec8a4901ac270d451023"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "3741b54df970f48e6f3391f5d423b675ed52c68b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=09f15d1b52b9e1e37dc02c8674c8738a1b036ea7", "patch": "@@ -1,3 +1,8 @@\n+2014-03-24  Tobias Burnus  <burnus@net-b.de>\n+\n+\t* doc/invoke.texi (-flto): Expand section about\n+\tusing static libraries with LTO.\n+\n 2014-03-24  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \tPR rtl-optimization/60501"}, {"sha": "78ddde07f9bcaf16cb7b608d414fe0d323bc09ea", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/09f15d1b52b9e1e37dc02c8674c8738a1b036ea7/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=09f15d1b52b9e1e37dc02c8674c8738a1b036ea7", "patch": "@@ -8664,8 +8664,13 @@ regular (non-LTO) compilation.\n \n If object files containing GIMPLE bytecode are stored in a library archive, say\n @file{libfoo.a}, it is possible to extract and use them in an LTO link if you\n-are using a linker with plugin support.  To enable this feature, use\n-the flag @option{-fuse-linker-plugin} at link time:\n+are using a linker with plugin support.  To create static libraries suitable\n+for LTO, use @command{gcc-ar} and @command{gcc-ranlib} instead of @command{ar}\n+and @code{ranlib}; to show the symbols of object files with GIMPLE bytecode, use\n+@command{gcc-nm}.  Those commands require that @command{ar}, @command{ranlib}\n+and @command{nm} have been compiled with plugin support.  At link time, use the the\n+flag @option{-fuse-linker-plugin} to ensure that the library participates in\n+the LTO optimization process:\n \n @smallexample\n gcc -o myprog -O2 -flto -fuse-linker-plugin a.o b.o -lfoo\n@@ -8678,7 +8683,9 @@ to make them part of the aggregated GIMPLE image to be optimized.\n If you are not using a linker with plugin support and/or do not\n enable the linker plugin, then the objects inside @file{libfoo.a}\n are extracted and linked as usual, but they do not participate\n-in the LTO optimization process.\n+in the LTO optimization process.  In order to make a static library suitable\n+for both LTO optimization and usual linkage, compile its object files with\n+@option{-flto} @code{-ffat-lto-objects}.\n \n Link-time optimizations do not require the presence of the whole program to\n operate.  If the program does not require any symbols to be exported, it is"}]}