{"sha": "61330a1417cf9e6aeea26fa9949f3bbf7c7336f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjEzMzBhMTQxN2NmOWU2YWVlYTI2ZmE5OTQ5ZjNiYmY3YzczMzZmNg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1997-07-30T12:52:22Z"}, "committer": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1997-07-30T12:52:22Z"}, "message": "(TARGET_CPU_DEFAULT): define.\n\ninclude aout.h rather than arm.h directly.\n(ASM_SPEC): remove.\n(CPP_SPEC): replace with...\n(SUBTARGET_CPP_SPEC): ... this.\n\nFrom-SVN: r14561", "tree": {"sha": "78ca816a51dc58690db85e961c524e2a63331db7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78ca816a51dc58690db85e961c524e2a63331db7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61330a1417cf9e6aeea26fa9949f3bbf7c7336f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61330a1417cf9e6aeea26fa9949f3bbf7c7336f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61330a1417cf9e6aeea26fa9949f3bbf7c7336f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61330a1417cf9e6aeea26fa9949f3bbf7c7336f6/comments", "author": null, "committer": null, "parents": [{"sha": "32bf7057dd150c7cb1aba6e1f9dd96ad8d82cb7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32bf7057dd150c7cb1aba6e1f9dd96ad8d82cb7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32bf7057dd150c7cb1aba6e1f9dd96ad8d82cb7c"}], "stats": {"total": 24, "additions": 6, "deletions": 18}, "files": [{"sha": "55579cec724eb6712ad8dfadb76d1050285c8322", "filename": "gcc/config/arm/linux.h", "status": "modified", "additions": 6, "deletions": 18, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61330a1417cf9e6aeea26fa9949f3bbf7c7336f6/gcc%2Fconfig%2Farm%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61330a1417cf9e6aeea26fa9949f3bbf7c7336f6/gcc%2Fconfig%2Farm%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux.h?ref=61330a1417cf9e6aeea26fa9949f3bbf7c7336f6", "patch": "@@ -24,30 +24,18 @@ Boston, MA 02111-1307, USA.  */\n /* these are different... */\n #undef STARTFILE_SPEC\n #define STARTFILE_SPEC \\\n-\t\"%{pg:gcrt0.o%s} %{!pg:%{p:gcrt0.o%s} %{!p:crt0.o%s}} %{static:-static}\"\n+\"%{pg:gcrt0.o%s} %{!pg:%{p:gcrt0.o%s} %{!p:crt0.o%s}} %{static:-static}\"\n \n #undef ASM_APP_ON\n #undef ASM_APP_OFF\n #undef COMMENT_BEGIN\n  \n /* We default to ARM3.  */\n-#define __DEFAULT_CPP \"-D__arm3__\"\n-#define __DEFAULT_ASM \"-marm3\"\n-#define __DEFAULT_MLB \"m3\"\n+#define TARGET_CPU_DEFAULT TARGET_CPU_arm3\n \n #undef CPP_PREDEFINES\n #define CPP_PREDEFINES \\\n-\t\"-Dunix -Darm -Dlinux -Asystem(unix) -Asystem(posix) -Acpu(arm) -Amachine(arm)\"\n-\n-#undef CPP_SPEC\n-#define CPP_SPEC \\\n-\t\"%{m2:-D__arm2__} %{m3:-D__arm3__} %{m6:-D__arm6__} %{m7:-D__arm7__} \" \\\n-\t\"%{!m2:%{!m3:%{!m6:%{!m7:\" __DEFAULT_CPP \"}}}} %{posix:-D_POSIX_SOURCE}\"\n-\n-#undef ASM_SPEC\n-#define ASM_SPEC \\\n-\t\"%{m2:-marm2} %{m3:-marm3} %{m6:-marm6} %{m7:-marm7} \" \\\n-\t\"%{!m2:%{!m3:%{!m6:%{!m7:\" __DEFAULT_ASM \"}}}}\"\n+\"-Dunix -Darm -Dlinux -Asystem(unix) -Asystem(posix) -Acpu(arm) -Amachine(arm)\"\n \n #undef LIB_SPEC\n #define LIB_SPEC \\\n@@ -79,7 +67,7 @@ Boston, MA 02111-1307, USA.  */\n \n /* Maths operation domain error number, EDOM */\n #define TARGET_EDOM 33\n-#include \"arm/arm.h\"\n+#include \"arm/aout.h\"\n \n-#undef MULTILIB_DEFAULTS\n-#define MULTILIB_DEFAULTS { __DEFAULT_MLB }\n+#undef SUBTARGET_CPP_SPEC\n+#define SUBTARGET_CPP_SPEC  \"%{posix:-D_POSIX_SOURCE}\""}]}