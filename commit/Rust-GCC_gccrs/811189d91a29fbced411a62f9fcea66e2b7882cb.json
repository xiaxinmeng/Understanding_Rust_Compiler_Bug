{"sha": "811189d91a29fbced411a62f9fcea66e2b7882cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODExMTg5ZDkxYTI5ZmJjZWQ0MTFhNjJmOWZjZWE2NmUyYjc4ODJjYg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-14T14:38:00Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-14T14:38:00Z"}, "message": "Complete previous change.\n\nFrom-SVN: r203567", "tree": {"sha": "7c1c6d007fb7edb2bf1bc6d24d8a2e8d2c8f71fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c1c6d007fb7edb2bf1bc6d24d8a2e8d2c8f71fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/811189d91a29fbced411a62f9fcea66e2b7882cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/811189d91a29fbced411a62f9fcea66e2b7882cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/811189d91a29fbced411a62f9fcea66e2b7882cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/811189d91a29fbced411a62f9fcea66e2b7882cb/comments", "author": null, "committer": null, "parents": [{"sha": "1394237ec94d0d377f7c2cf7359f3c899c2ff482", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1394237ec94d0d377f7c2cf7359f3c899c2ff482", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1394237ec94d0d377f7c2cf7359f3c899c2ff482"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "9ed804e420f193bb640ff11aecda0f01748b3c73", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/811189d91a29fbced411a62f9fcea66e2b7882cb/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/811189d91a29fbced411a62f9fcea66e2b7882cb/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=811189d91a29fbced411a62f9fcea66e2b7882cb", "patch": "@@ -4894,6 +4894,19 @@ Exception_Handler_to_gnu_zcx (Node_Id gnat_node)\n   add_stmt_with_node (build_call_n_expr (begin_handler_decl, 1,\n \t\t\t\t\t gnu_incoming_exc_ptr),\n \t\t      gnat_node);\n+\n+  /* Declare and initialize the choice parameter, if present.  */\n+  if (Present (Choice_Parameter (gnat_node)))\n+    {\n+      tree gnu_param = gnat_to_gnu_entity\n+\t(Choice_Parameter (gnat_node), NULL_TREE, 1);\n+\n+      add_stmt (build_call_n_expr\n+\t\t(set_exception_parameter_decl, 2,\n+\t\t build_unary_op (ADDR_EXPR, NULL_TREE, gnu_param),\n+\t\t gnu_incoming_exc_ptr));\n+    }\n+\n   /* We don't have an End_Label at hand to set the location of the cleanup\n      actions, so we use that of the exception handler itself instead.  */\n   add_cleanup (build_call_n_expr (end_handler_decl, 1, gnu_incoming_exc_ptr),"}]}