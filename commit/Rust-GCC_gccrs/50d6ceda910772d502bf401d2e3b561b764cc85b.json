{"sha": "50d6ceda910772d502bf401d2e3b561b764cc85b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBkNmNlZGE5MTA3NzJkNTAyYmY0MDFkMmUzYjU2MWI3NjRjYzg1Yg==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2008-11-04T21:17:53Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2008-11-04T21:17:53Z"}, "message": "re PR fortran/37597 (internal procedure fails to access host-associated module procedure)\n\n2008-11-04  Paul Thomas  <pault@gcc.gnu.org>\n\n        PR fortran/37597\n        * parse.c (gfc_fixup_sibling_symbols ): Fixup contained, even\n\twhen symbol not found.\n\n2008-11-04  Paul Thomas  <pault@gcc.gnu.org>\n\n        PR fortran/37597\n        * gfortran.dg/host_assoc_call_5.f90: New test.\n\nFrom-SVN: r141588", "tree": {"sha": "fddea279e34f33f8a49766f025fea1f340e20f9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fddea279e34f33f8a49766f025fea1f340e20f9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50d6ceda910772d502bf401d2e3b561b764cc85b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50d6ceda910772d502bf401d2e3b561b764cc85b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50d6ceda910772d502bf401d2e3b561b764cc85b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50d6ceda910772d502bf401d2e3b561b764cc85b/comments", "author": null, "committer": null, "parents": [{"sha": "ead51d365447a3441fa087e0f9120b8199d19da2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ead51d365447a3441fa087e0f9120b8199d19da2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ead51d365447a3441fa087e0f9120b8199d19da2"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "c5abefaaee6edc583e28a7e109ae0cf6a0a34505", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=50d6ceda910772d502bf401d2e3b561b764cc85b", "patch": "@@ -1,3 +1,9 @@\n+2008-11-04  Paul Thomas  <pault@gcc.gnu.org>\n+\n+        PR fortran/37597\n+        * parse.c (gfc_fixup_sibling_symbols ): Fixup contained, even\n+\twhen symbol not found.\n+\n 2008-11-03  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/37821"}, {"sha": "e52c06f0a5a699a9aa4fe745e0c977e3727df12a", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=50d6ceda910772d502bf401d2e3b561b764cc85b", "patch": "@@ -3313,7 +3313,7 @@ gfc_fixup_sibling_symbols (gfc_symbol *sym, gfc_namespace *siblings)\n       gfc_find_sym_tree (sym->name, ns, 0, &st);\n \n       if (!st || (st->n.sym->attr.dummy && ns == st->n.sym->ns))\n-\tcontinue;\n+\tgoto fixup_contained;\n \n       old_sym = st->n.sym;\n       if (old_sym->ns == ns\n@@ -3347,6 +3347,7 @@ gfc_fixup_sibling_symbols (gfc_symbol *sym, gfc_namespace *siblings)\n \t    gfc_free_symbol (old_sym);\n \t}\n \n+fixup_contained:\n       /* Do the same for any contained procedures.  */\n       gfc_fixup_sibling_symbols (sym, ns->contained);\n     }"}, {"sha": "41c76e4dd282417aae5c385c0fbebc13ea3a2589", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=50d6ceda910772d502bf401d2e3b561b764cc85b", "patch": "@@ -1,3 +1,8 @@\n+2008-11-04  Paul Thomas  <pault@gcc.gnu.org>\n+\n+        PR fortran/37597\n+        * gfortran.dg/host_assoc_call_5.f90: New test.\n+\n 2008-11-04  Jakub Jelinek  <jakub@redhat.com>\n \t    Andrew Pinski  <andrew_pinski@playstation.sony.com>\n "}, {"sha": "6ce57ce019069bc0cef4e212a9dbe17319be3083", "filename": "gcc/testsuite/gfortran.dg/host_assoc_call_5.f90", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ftestsuite%2Fgfortran.dg%2Fhost_assoc_call_5.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d6ceda910772d502bf401d2e3b561b764cc85b/gcc%2Ftestsuite%2Fgfortran.dg%2Fhost_assoc_call_5.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fhost_assoc_call_5.f90?ref=50d6ceda910772d502bf401d2e3b561b764cc85b", "patch": "@@ -0,0 +1,21 @@\n+! { dg-do compile }\n+! Tests the fix for PR37597, where the reference to other_sub would generate\n+! Error: Symbol 'other_sub' at (1) has no IMPLICIT type.\n+!\n+! Contributed by Tobias Burnus <burnus@gcc.gnu.org>\n+! from a report on clf by Rich Townsend <rhdt@barvoidtol.udel.edu>\n+!\n+module foo\n+   implicit none\n+contains\n+   subroutine main_sub ()\n+     call internal_sub()\n+   contains\n+     subroutine internal_sub()\n+       call QAG(other_sub)\n+     end subroutine internal_sub\n+   end subroutine main_sub\n+   subroutine other_sub ()\n+   end subroutine other_sub\n+end module foo\n+! { dg-final { cleanup-modules \"foo\" } }"}]}