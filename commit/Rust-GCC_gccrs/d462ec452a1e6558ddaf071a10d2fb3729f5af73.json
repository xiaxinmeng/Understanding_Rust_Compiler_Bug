{"sha": "d462ec452a1e6558ddaf071a10d2fb3729f5af73", "node_id": "C_kwDOANBUbNoAKGQ0NjJlYzQ1MmExZTY1NThkZGFmMDcxYTEwZDJmYjM3MjlmNWFmNzM", "commit": {"author": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-04-26T08:54:51Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-04-28T13:15:05Z"}, "message": "privacy: visibility: Do not use SimplePaths this late", "tree": {"sha": "18a53d627dd0826903d4bff53ba62f673b9cd888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18a53d627dd0826903d4bff53ba62f673b9cd888"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d462ec452a1e6558ddaf071a10d2fb3729f5af73", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d462ec452a1e6558ddaf071a10d2fb3729f5af73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d462ec452a1e6558ddaf071a10d2fb3729f5af73", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d462ec452a1e6558ddaf071a10d2fb3729f5af73/comments", "author": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad326924829d618e1f2ec94a2152bfad2a0ad0c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad326924829d618e1f2ec94a2152bfad2a0ad0c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad326924829d618e1f2ec94a2152bfad2a0ad0c5"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "3ab6085ce617c85e73c1f67cead161da6ea0607b", "filename": "gcc/rust/privacy/rust-visibility-resolver.cc", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d462ec452a1e6558ddaf071a10d2fb3729f5af73/gcc%2Frust%2Fprivacy%2Frust-visibility-resolver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d462ec452a1e6558ddaf071a10d2fb3729f5af73/gcc%2Frust%2Fprivacy%2Frust-visibility-resolver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fprivacy%2Frust-visibility-resolver.cc?ref=d462ec452a1e6558ddaf071a10d2fb3729f5af73", "patch": "@@ -45,6 +45,17 @@ VisibilityResolver::go (HIR::Crate &crate)\n     }\n }\n \n+// FIXME: At this point in the pipeline, we should not be dealing with\n+// `AST::SimplePath`s anymore! We need to be dealing with their \"resolved\n+// counterpart\", so probably a NodeId/HirId/DefId.\n+\n+// static bool\n+// resolve_module_path (std::vector<HIR::Module> &module_stack,\n+// \t\t     const AST::SimplePath &restriction, DefId &id)\n+// {\n+//   return false;\n+// }\n+\n bool\n VisibilityResolver::resolve_visibility (const HIR::Visibility &visibility,\n \t\t\t\t\tModuleVisibility &to_resolve)"}]}