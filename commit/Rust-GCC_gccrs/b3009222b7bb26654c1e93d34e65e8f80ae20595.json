{"sha": "b3009222b7bb26654c1e93d34e65e8f80ae20595", "node_id": "C_kwDOANBUbNoAKGIzMDA5MjIyYjdiYjI2NjU0YzFlOTNkMzRlNjVlOGY4MGFlMjA1OTU", "commit": {"author": {"name": "Siddhesh Poyarekar", "email": "siddhesh@gotplt.org", "date": "2022-12-15T19:24:55Z"}, "committer": {"name": "Siddhesh Poyarekar", "email": "siddhesh@gotplt.org", "date": "2023-01-03T15:24:30Z"}, "message": "tree-optimization/105043: Object Size Checking docs cleanup\n\nBreak the _FORTIFY_SOURCE-specific builtins out into a separate\nsubsection from Object Size Checking built-ins and mention\n_FORTIFY_SOURCE in there so that the link between the object size\nchecking builtins, the helper builtins (e.g. __builtin___memcpy_chk) and\n_FORTIFY_SOURCE is clearer.\n\ngcc/ChangeLog:\n\n\tPR tree-optimization/105043\n\t* doc/extend.texi (Object Size Checking): Split out into two\n\tsubsections and mention _FORTIFY_SOURCE.\n\nSigned-off-by: Siddhesh Poyarekar <siddhesh@gotplt.org>", "tree": {"sha": "12dcf17dd045cc4d2d53e6dac7e20922de844b89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12dcf17dd045cc4d2d53e6dac7e20922de844b89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3009222b7bb26654c1e93d34e65e8f80ae20595", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3009222b7bb26654c1e93d34e65e8f80ae20595", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3009222b7bb26654c1e93d34e65e8f80ae20595", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3009222b7bb26654c1e93d34e65e8f80ae20595/comments", "author": {"login": "siddhesh", "id": 158582, "node_id": "MDQ6VXNlcjE1ODU4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/158582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siddhesh", "html_url": "https://github.com/siddhesh", "followers_url": "https://api.github.com/users/siddhesh/followers", "following_url": "https://api.github.com/users/siddhesh/following{/other_user}", "gists_url": "https://api.github.com/users/siddhesh/gists{/gist_id}", "starred_url": "https://api.github.com/users/siddhesh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siddhesh/subscriptions", "organizations_url": "https://api.github.com/users/siddhesh/orgs", "repos_url": "https://api.github.com/users/siddhesh/repos", "events_url": "https://api.github.com/users/siddhesh/events{/privacy}", "received_events_url": "https://api.github.com/users/siddhesh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "siddhesh", "id": 158582, "node_id": "MDQ6VXNlcjE1ODU4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/158582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siddhesh", "html_url": "https://github.com/siddhesh", "followers_url": "https://api.github.com/users/siddhesh/followers", "following_url": "https://api.github.com/users/siddhesh/following{/other_user}", "gists_url": "https://api.github.com/users/siddhesh/gists{/gist_id}", "starred_url": "https://api.github.com/users/siddhesh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siddhesh/subscriptions", "organizations_url": "https://api.github.com/users/siddhesh/orgs", "repos_url": "https://api.github.com/users/siddhesh/repos", "events_url": "https://api.github.com/users/siddhesh/events{/privacy}", "received_events_url": "https://api.github.com/users/siddhesh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0558f420b2a5692fd38ac76ffa97ae6c1726ed9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0558f420b2a5692fd38ac76ffa97ae6c1726ed9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0558f420b2a5692fd38ac76ffa97ae6c1726ed9"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "68d7760bd0c9e8d9b988bf4b999b610a898b6d4b", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3009222b7bb26654c1e93d34e65e8f80ae20595/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3009222b7bb26654c1e93d34e65e8f80ae20595/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=b3009222b7bb26654c1e93d34e65e8f80ae20595", "patch": "@@ -12796,7 +12796,9 @@ __atomic_store_n(&lockvar, 0, __ATOMIC_RELEASE|__ATOMIC_HLE_RELEASE);\n @end smallexample\n \n @node Object Size Checking\n-@section Object Size Checking Built-in Functions\n+@section Object Size Checking\n+\n+@subsection Object Size Checking Built-in Functions\n @findex __builtin_object_size\n @findex __builtin_dynamic_object_size\n @findex __builtin___memcpy_chk\n@@ -12878,11 +12880,17 @@ which objects @var{ptr} points to at compile time are the same as in the case\n of @code{__builtin_object_size}.\n @end deftypefn\n \n-There are built-in functions added for many common string operation\n-functions, e.g., for @code{memcpy} @code{__builtin___memcpy_chk}\n-built-in is provided.  This built-in has an additional last argument,\n-which is the number of bytes remaining in the object the @var{dest}\n-argument points to or @code{(size_t) -1} if the size is not known.\n+@subsection Object Size Checking and Source Fortification\n+\n+Hardening of function calls using the @code{_FORTIFY_SOURCE} macro is\n+one of the key uses of the object size checking built-in functions.  To\n+make implementation of these features more convenient and improve\n+optimization and diagnostics, there are built-in functions added for\n+many common string operation functions, e.g., for @code{memcpy}\n+@code{__builtin___memcpy_chk} built-in is provided.  This built-in has\n+an additional last argument, which is the number of bytes remaining in\n+the object the @var{dest} argument points to or @code{(size_t) -1} if\n+the size is not known.\n \n The built-in functions are optimized into the normal string functions\n like @code{memcpy} if the last argument is @code{(size_t) -1} or if"}]}