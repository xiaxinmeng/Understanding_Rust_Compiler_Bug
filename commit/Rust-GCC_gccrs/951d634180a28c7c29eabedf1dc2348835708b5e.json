{"sha": "951d634180a28c7c29eabedf1dc2348835708b5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTUxZDYzNDE4MGEyOGM3YzI5ZWFiZWRmMWRjMjM0ODgzNTcwOGI1ZQ==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2010-07-31T10:27:36Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2010-07-31T10:27:36Z"}, "message": "re PR fortran/42051 ([OOP] ICE on array-valued function with CLASS formal argument)\n\n2010-07-31  Mikael Morin  <mikael@gcc.gnu.org>\n\n\tPR fortran/42051\n\tPR fortran/44064\n\t* symbol.c (changed_syms): Made non-static.\n\t* parse.c (changed_syms): Declare new external. \n\t(next_statement): Assert changed_syms is NULL at the beginning.\n\nFrom-SVN: r162776", "tree": {"sha": "b50f122afa9060807026a341587a53113334fbe9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b50f122afa9060807026a341587a53113334fbe9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/951d634180a28c7c29eabedf1dc2348835708b5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/951d634180a28c7c29eabedf1dc2348835708b5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/951d634180a28c7c29eabedf1dc2348835708b5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/951d634180a28c7c29eabedf1dc2348835708b5e/comments", "author": null, "committer": null, "parents": [{"sha": "8aadc2f3e5d25589294430a7eb66edabcbced1ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8aadc2f3e5d25589294430a7eb66edabcbced1ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8aadc2f3e5d25589294430a7eb66edabcbced1ce"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "1bc2a1fa2af754956585b8cfd8ae7897b109f256", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/951d634180a28c7c29eabedf1dc2348835708b5e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/951d634180a28c7c29eabedf1dc2348835708b5e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=951d634180a28c7c29eabedf1dc2348835708b5e", "patch": "@@ -1,3 +1,11 @@\n+2010-07-31  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/42051\n+\tPR fortran/44064\n+\t* symbol.c (changed_syms): Made non-static.\n+\t* parse.c (changed_syms): Declare new external. \n+\t(next_statement): Assert changed_syms is NULL at the beginning.\n+\n 2010-07-30  Janus Weil  <janus@gcc.gnu.org>\n \t    Steven G. Kargl  <kargl@gcc.gnu.org>\n "}, {"sha": "94440e984576280550b5d86c97823ae6c889c2aa", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/951d634180a28c7c29eabedf1dc2348835708b5e/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/951d634180a28c7c29eabedf1dc2348835708b5e/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=951d634180a28c7c29eabedf1dc2348835708b5e", "patch": "@@ -879,6 +879,7 @@ next_fixed (void)\n   return ST_NONE;\n }\n \n+extern gfc_symbol *changed_syms;\n \n /* Return the next non-ST_NONE statement to the caller.  We also worry\n    about including files and the ends of include files at this stage.  */\n@@ -889,6 +890,9 @@ next_statement (void)\n   gfc_statement st;\n   locus old_locus;\n \n+  /* We start with a clean state.  */\n+  gcc_assert (changed_syms == NULL);\n+\n   gfc_new_block = NULL;\n \n   gfc_current_ns->old_cl_list = gfc_current_ns->cl_list;"}, {"sha": "0231da110fe357847216d1d0eab711a413f891ad", "filename": "gcc/fortran/symbol.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/951d634180a28c7c29eabedf1dc2348835708b5e/gcc%2Ffortran%2Fsymbol.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/951d634180a28c7c29eabedf1dc2348835708b5e/gcc%2Ffortran%2Fsymbol.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsymbol.c?ref=951d634180a28c7c29eabedf1dc2348835708b5e", "patch": "@@ -98,7 +98,7 @@ gfc_namespace *gfc_global_ns_list;\n \n gfc_gsymbol *gfc_gsym_root = NULL;\n \n-static gfc_symbol *changed_syms = NULL;\n+gfc_symbol *changed_syms = NULL;\n \n gfc_dt_list *gfc_derived_types;\n "}]}