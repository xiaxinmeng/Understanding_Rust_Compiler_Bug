{"sha": "5667638c698a7278aba553815e68226cd8d604d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY2NzYzOGM2OThhNzI3OGFiYTU1MzgxNWU2ODIyNmNkOGQ2MDRkOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-04T23:29:49Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-04T23:29:49Z"}, "message": "Check for identical package name and prefix in imported package.\n\nFrom-SVN: r168494", "tree": {"sha": "d8e649c922b189726921e13e6b4397a2cf445265", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8e649c922b189726921e13e6b4397a2cf445265"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5667638c698a7278aba553815e68226cd8d604d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5667638c698a7278aba553815e68226cd8d604d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5667638c698a7278aba553815e68226cd8d604d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5667638c698a7278aba553815e68226cd8d604d8/comments", "author": null, "committer": null, "parents": [{"sha": "3ebb5ca6cc306dd91af6fd129033971a47da6c8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ebb5ca6cc306dd91af6fd129033971a47da6c8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ebb5ca6cc306dd91af6fd129033971a47da6c8c"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "b12eeb7857dd749e18de9e7045a7adab639cd504", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5667638c698a7278aba553815e68226cd8d604d8/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5667638c698a7278aba553815e68226cd8d604d8/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=5667638c698a7278aba553815e68226cd8d604d8", "patch": "@@ -332,6 +332,12 @@ Gogo::import_package(const std::string& filename,\n   Package* package = imp.import(this, local_name, is_local_name_exported);\n   if (package != NULL)\n     {\n+      if (package->name() == this->package_name()\n+\t  && package->unique_prefix() == this->unique_prefix())\n+\terror_at(location,\n+\t\t (\"imported package uses same package name and prefix \"\n+\t\t  \"as package being compiled (see -fgo-prefix option)\"));\n+\n       this->imports_.insert(std::make_pair(filename, package));\n       package->set_is_imported();\n     }"}]}