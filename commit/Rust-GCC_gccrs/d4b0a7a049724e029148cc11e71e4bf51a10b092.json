{"sha": "d4b0a7a049724e029148cc11e71e4bf51a10b092", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDRiMGE3YTA0OTcyNGUwMjkxNDhjYzExZTcxZTRiZjUxYTEwYjA5Mg==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-12-07T20:58:08Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-12-07T20:58:08Z"}, "message": "(locate_and_pad_parm): Do padding before rounding\nso pad_below knows how much is needed.\n\nFrom-SVN: r8622", "tree": {"sha": "1cdc1119bc43386b9468d91cb0fa58222d1ede01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1cdc1119bc43386b9468d91cb0fa58222d1ede01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4b0a7a049724e029148cc11e71e4bf51a10b092", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4b0a7a049724e029148cc11e71e4bf51a10b092", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4b0a7a049724e029148cc11e71e4bf51a10b092", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4b0a7a049724e029148cc11e71e4bf51a10b092/comments", "author": null, "committer": null, "parents": [{"sha": "b0c312a930d1394f8140e0aeb5bbd025e8ba9ab4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c312a930d1394f8140e0aeb5bbd025e8ba9ab4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0c312a930d1394f8140e0aeb5bbd025e8ba9ab4"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "7e50c844b7eea5df97e1482ad29b849f12479fb8", "filename": "gcc/function.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4b0a7a049724e029148cc11e71e4bf51a10b092/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4b0a7a049724e029148cc11e71e4bf51a10b092/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=d4b0a7a049724e029148cc11e71e4bf51a10b092", "patch": "@@ -4015,15 +4015,16 @@ locate_and_pad_parm (passed_mode, type, in_regs, fndecl,\n     sizetree = size_int (PUSH_ROUNDING (TREE_INT_CST_LOW (sizetree)));\n #endif\n \n+  /* Pad_below needs the pre-rounded size to know how much to pad below\n+     so this must be done before rounding up.  */\n+  if (where_pad == downward)\n+    pad_below (offset_ptr, passed_mode, sizetree);\n+\n   if (where_pad != none\n       && (TREE_CODE (sizetree) != INTEGER_CST\n \t  || ((TREE_INT_CST_LOW (sizetree) * BITS_PER_UNIT) % PARM_BOUNDARY)))\n     sizetree = round_up (sizetree, PARM_BOUNDARY / BITS_PER_UNIT);\n \n-  /* This must be done after rounding sizetree, so that it will subtract\n-     the same value that we explicitly add below.  */\n-  if (where_pad == downward)\n-    pad_below (offset_ptr, passed_mode, sizetree);\n   ADD_PARM_SIZE (*arg_size_ptr, sizetree);\n #endif /* ARGS_GROW_DOWNWARD */\n }"}]}