{"sha": "6764d92cee35440ff57dec636720bd4a7110b918", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njc2NGQ5MmNlZTM1NDQwZmY1N2RlYzYzNjcyMGJkNGE3MTEwYjkxOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2010-02-26T11:03:46Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2010-02-26T11:03:46Z"}, "message": "Makefile.in (var-tracking.o): Depend on $(DIAGNOSTIC_H).\n\n\t* Makefile.in (var-tracking.o): Depend on $(DIAGNOSTIC_H).\n\t* var-tracking.c: Include diagnostic.h.\n\t(debug_dv): New function.\n\t(dump_var): Print DEBUG_EXPR_DECLs as D#N instead of D.-N.\n\nFrom-SVN: r157085", "tree": {"sha": "fac744086a908f3a248241a609608809305cd3af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fac744086a908f3a248241a609608809305cd3af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6764d92cee35440ff57dec636720bd4a7110b918", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6764d92cee35440ff57dec636720bd4a7110b918", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6764d92cee35440ff57dec636720bd4a7110b918", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6764d92cee35440ff57dec636720bd4a7110b918/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5a309965110f1d0e18ea005bcf487f08310365fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a309965110f1d0e18ea005bcf487f08310365fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a309965110f1d0e18ea005bcf487f08310365fd"}], "stats": {"total": 34, "additions": 27, "deletions": 7}, "files": [{"sha": "149d2f3712dfbe707894c963b6345f26a04924b2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6764d92cee35440ff57dec636720bd4a7110b918/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6764d92cee35440ff57dec636720bd4a7110b918/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6764d92cee35440ff57dec636720bd4a7110b918", "patch": "@@ -1,5 +1,10 @@\n 2010-02-26  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* Makefile.in (var-tracking.o): Depend on $(DIAGNOSTIC_H).\n+\t* var-tracking.c: Include diagnostic.h.\n+\t(debug_dv): New function.\n+\t(dump_var): Print DEBUG_EXPR_DECLs as D#N instead of D.-N.\n+\n \tPR debug/43160\n \t* var-tracking.c (dv_onepart_p): Return true for DEBUG_EXPR_DECLs.\n \t(add_value_chain, add_value_chains, remove_value_chain,"}, {"sha": "d5c23c900f911d2afacc6ad20b0c6550cdcbf51b", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6764d92cee35440ff57dec636720bd4a7110b918/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6764d92cee35440ff57dec636720bd4a7110b918/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=6764d92cee35440ff57dec636720bd4a7110b918", "patch": "@@ -3025,7 +3025,7 @@ var-tracking.o : var-tracking.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    $(RTL_H) $(TREE_H) hard-reg-set.h insn-config.h reload.h $(FLAGS_H) \\\n    $(BASIC_BLOCK_H) output.h sbitmap.h alloc-pool.h $(FIBHEAP_H) $(HASHTAB_H) \\\n    $(REGS_H) $(EXPR_H) $(TIMEVAR_H) $(TREE_PASS_H) $(TREE_FLOW_H) \\\n-   cselib.h $(TARGET_H) $(TOPLEV_H) $(PARAMS_H)\n+   cselib.h $(TARGET_H) $(TOPLEV_H) $(PARAMS_H) $(DIAGNOSTIC_H)\n profile.o : profile.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) \\\n    $(TREE_H) $(FLAGS_H) output.h $(REGS_H) $(EXPR_H) $(FUNCTION_H) \\\n    $(TOPLEV_H) $(COVERAGE_H) $(TREE_FLOW_H) value-prof.h cfghooks.h \\"}, {"sha": "59369cb08bed0dc492c8cf980c328b9391aaebf9", "filename": "gcc/var-tracking.c", "status": "modified", "additions": 21, "deletions": 6, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6764d92cee35440ff57dec636720bd4a7110b918/gcc%2Fvar-tracking.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6764d92cee35440ff57dec636720bd4a7110b918/gcc%2Fvar-tracking.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvar-tracking.c?ref=6764d92cee35440ff57dec636720bd4a7110b918", "patch": "@@ -111,6 +111,7 @@\n #include \"target.h\"\n #include \"toplev.h\"\n #include \"params.h\"\n+#include \"diagnostic.h\"\n \n /* var-tracking.c assumes that tree code with the same value as VALUE rtx code\n    has no chance to appear in REG_EXPR/MEM_EXPRs and isn't a decl.\n@@ -822,6 +823,17 @@ dv_from_value (rtx value)\n   return dv;\n }\n \n+extern void debug_dv (decl_or_value dv);\n+\n+void\n+debug_dv (decl_or_value dv)\n+{\n+  if (dv_is_value_p (dv))\n+    debug_rtx (dv_as_value (dv));\n+  else\n+    debug_generic_stmt (dv_as_decl (dv));\n+}\n+\n typedef unsigned int dvuid;\n \n /* Return the uid of DV.  */\n@@ -5779,14 +5791,17 @@ dump_var (variable var)\n       const_tree decl = dv_as_decl (var->dv);\n \n       if (DECL_NAME (decl))\n-\tfprintf (dump_file, \"  name: %s\",\n-\t\t IDENTIFIER_POINTER (DECL_NAME (decl)));\n+\t{\n+\t  fprintf (dump_file, \"  name: %s\",\n+\t\t   IDENTIFIER_POINTER (DECL_NAME (decl)));\n+\t  if (dump_flags & TDF_UID)\n+\t    fprintf (dump_file, \"D.%u\", DECL_UID (decl));\n+\t}\n+      else if (TREE_CODE (decl) == DEBUG_EXPR_DECL)\n+\tfprintf (dump_file, \"  name: D#%u\", DEBUG_TEMP_UID (decl));\n       else\n \tfprintf (dump_file, \"  name: D.%u\", DECL_UID (decl));\n-      if (dump_flags & TDF_UID)\n-\tfprintf (dump_file, \" D.%u\\n\", DECL_UID (decl));\n-      else\n-\tfprintf (dump_file, \"\\n\");\n+      fprintf (dump_file, \"\\n\");\n     }\n   else\n     {"}]}