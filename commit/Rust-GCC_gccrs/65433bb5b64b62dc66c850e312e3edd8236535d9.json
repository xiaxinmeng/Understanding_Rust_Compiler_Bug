{"sha": "65433bb5b64b62dc66c850e312e3edd8236535d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU0MzNiYjViNjRiNjJkYzY2Yzg1MGUzMTJlM2VkZDgyMzY1MzVkOQ==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim.kuvyrkov@linaro.org", "date": "2016-02-24T16:41:52Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2016-02-24T16:41:52Z"}, "message": "re PR debug/61033 (Infinite loop in variable tracking)\n\n\tPR debug/61033\n\t* g++.dg/pr61033.C: Add a regression testcase for PR debug/61033.\n\nCo-Authored-By: Charles Baylis <charles.baylis@linaro.org>\n\nFrom-SVN: r233675", "tree": {"sha": "87433cfa8b7dace6214e7f4cbdd683a8f2c29364", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87433cfa8b7dace6214e7f4cbdd683a8f2c29364"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65433bb5b64b62dc66c850e312e3edd8236535d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65433bb5b64b62dc66c850e312e3edd8236535d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65433bb5b64b62dc66c850e312e3edd8236535d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65433bb5b64b62dc66c850e312e3edd8236535d9/comments", "author": {"login": "maxim-kuvyrkov", "id": 12545699, "node_id": "MDQ6VXNlcjEyNTQ1Njk5", "avatar_url": "https://avatars.githubusercontent.com/u/12545699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxim-kuvyrkov", "html_url": "https://github.com/maxim-kuvyrkov", "followers_url": "https://api.github.com/users/maxim-kuvyrkov/followers", "following_url": "https://api.github.com/users/maxim-kuvyrkov/following{/other_user}", "gists_url": "https://api.github.com/users/maxim-kuvyrkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxim-kuvyrkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxim-kuvyrkov/subscriptions", "organizations_url": "https://api.github.com/users/maxim-kuvyrkov/orgs", "repos_url": "https://api.github.com/users/maxim-kuvyrkov/repos", "events_url": "https://api.github.com/users/maxim-kuvyrkov/events{/privacy}", "received_events_url": "https://api.github.com/users/maxim-kuvyrkov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a021961c055d4d056d8bd7875a93c5e53450afd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a021961c055d4d056d8bd7875a93c5e53450afd9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a021961c055d4d056d8bd7875a93c5e53450afd9"}], "stats": {"total": 92, "additions": 92, "deletions": 0}, "files": [{"sha": "7db6b61f86ae4c30b270c6a0eba822e25aab9dd1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65433bb5b64b62dc66c850e312e3edd8236535d9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65433bb5b64b62dc66c850e312e3edd8236535d9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=65433bb5b64b62dc66c850e312e3edd8236535d9", "patch": "@@ -1,3 +1,9 @@\n+2016-02-24  Maxim Kuvyrkov  <maxim.kuvyrkov@linaro.org>\n+\t    Charles Baylis  <charles.baylis@linaro.org>\n+\n+\tPR debug/61033\n+\t* g++.dg/pr61033.C: Add a regression testcase for PR debug/61033.\n+\n 2016-02-24  Richard Biener  <rguenther@suse.de>\n \tJakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "6974351a9c03d88a90e0a2131401bc07c1296983", "filename": "gcc/testsuite/g++.dg/pr61033.C", "status": "added", "additions": 86, "deletions": 0, "changes": 86, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65433bb5b64b62dc66c850e312e3edd8236535d9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr61033.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65433bb5b64b62dc66c850e312e3edd8236535d9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr61033.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr61033.C?ref=65433bb5b64b62dc66c850e312e3edd8236535d9", "patch": "@@ -0,0 +1,86 @@\n+// PR debug/61033\n+// { dg-do compile }\n+// { dg-options \"-g -O2\" }\n+\n+# 0 \"\" 3\n+struct A {\n+  A(int) : ch() {}\n+  unicode() {}\n+  int ch;\n+};\n+class QChar {\n+public:\n+  QChar(A ch) : ucs(ch.unicode()) {}\n+  int ucs;\n+};\n+class B {\n+public:\n+  int isShared_count;\n+  isShared() { return isShared_count; }\n+};\n+struct C {\n+  unsigned short *data() {\n+    void *__trans_tmp_1;\n+    __trans_tmp_1 = reinterpret_cast<char *>(0) + offset;\n+    return static_cast<unsigned short *>(__trans_tmp_1);\n+  }\n+  B ref;\n+  int size;\n+  int alloc;\n+  int offset;\n+};\n+class D {\n+public:\n+  D(char *) : m_data() {} * m_data;\n+};\n+class F {\n+public:\n+  F(int, QChar);\n+  F(D);\n+  operator+=(QChar) {\n+    if (d->ref.isShared() || d->alloc)\n+      reallocData();\n+    d->data()[d->size++] = 0;\n+    d->data()[0] = '\\0';\n+  }\n+  C *d;\n+  reallocData();\n+};\n+struct G {\n+  struct H {\n+    int begin;\n+  };\n+  H d;\n+  size() { return d.begin; }\n+};\n+class I {\n+  G p;\n+public:\n+  ~I();\n+  length() { return p.size(); }\n+};\n+class J;\n+class K {\n+public:\n+  J toNodeListProperty() const;\n+};\n+class L {\n+  F toQml(const K &property) const;\n+  toQml() const;\n+};\n+class J {\n+public:\n+  I toModelNodeList();\n+};\n+F::F(D) {}\n+F L::toQml(const K &property) const {\n+  I nodes = property.toNodeListProperty().toModelNodeList();\n+  F result(\"\");\n+  F(0, A(' '));\n+  for (int i = 0; i < nodes.length(); ++i) {\n+    if (i)\n+      result += A(',');\n+    result += A('\\n');\n+    toQml();\n+  }\n+}"}]}