{"sha": "2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmYwZmEyOGUxZjdjNjRjNGUwZjM1MmRmZDk3YjAyZGUwNmM2ZTk0Yg==", "commit": {"author": {"name": "Ira Rosen", "email": "irar@il.ibm.com", "date": "2009-04-02T12:39:28Z"}, "committer": {"name": "Ira Rosen", "email": "irar@gcc.gnu.org", "date": "2009-04-02T12:39:28Z"}, "message": "re PR tree-optimization/39595 (ICE in vectorizable_store at tree-vect-transform.c:5361)\n\n\n\tPR tree-optimization/39595\n\t* tree-vect-slp.c (vect_build_slp_tree): Check that the size of \n\tinterleaved loads group is not greater than the SLP group size.\n\nFrom-SVN: r145445", "tree": {"sha": "371fec7a7015b77218a0b409cfefc05f54e3c921", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/371fec7a7015b77218a0b409cfefc05f54e3c921"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/comments", "author": {"login": "irar2", "id": 16818592, "node_id": "MDQ6VXNlcjE2ODE4NTky", "avatar_url": "https://avatars.githubusercontent.com/u/16818592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/irar2", "html_url": "https://github.com/irar2", "followers_url": "https://api.github.com/users/irar2/followers", "following_url": "https://api.github.com/users/irar2/following{/other_user}", "gists_url": "https://api.github.com/users/irar2/gists{/gist_id}", "starred_url": "https://api.github.com/users/irar2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/irar2/subscriptions", "organizations_url": "https://api.github.com/users/irar2/orgs", "repos_url": "https://api.github.com/users/irar2/repos", "events_url": "https://api.github.com/users/irar2/events{/privacy}", "received_events_url": "https://api.github.com/users/irar2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bbf7ce1102df37e77231586abee685e96c19f25c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbf7ce1102df37e77231586abee685e96c19f25c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbf7ce1102df37e77231586abee685e96c19f25c"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "3081e26cd073b7859afe13a3517de2103afa2f67", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "patch": "@@ -1,3 +1,9 @@\n+2009-04-02  Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/39595\n+\t* tree-vect-slp.c (vect_build_slp_tree): Check that the size of \n+\tinterleaved loads group is not  greater than the SLP group size.\n+\n 2009-04-02  Rafael Avila de Espindola  <espindola@google.com>\n \n \t* builtins.c (is_builtin_name): New."}, {"sha": "3e949b907308012cfdbe148f07e33c1e8fef1153", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "patch": "@@ -1,3 +1,8 @@\n+2009-04-02  Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/39595\n+\t* gfortran.dg/vect/O3-pr39595.f: New test.\n+\n 2009-04-02  Dodji Seketeli  <dodji@redhat.com>\n \n \tPR c++/26693"}, {"sha": "021d35b90eaa030ccc8eeec058b0e93c9f3282d2", "filename": "gcc/testsuite/gfortran.dg/vect/O3-pr39595.f", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2Ftestsuite%2Fgfortran.dg%2Fvect%2FO3-pr39595.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2Ftestsuite%2Fgfortran.dg%2Fvect%2FO3-pr39595.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fvect%2FO3-pr39595.f?ref=2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "patch": "@@ -0,0 +1,17 @@\n+! { dg-do compile }\n+      subroutine foo(a,c,i,m)\n+      real a(4,*),b(3,64),c(3,200),d(64)\n+      integer*8 i,j,k,l,m\n+      do j=1,m,64\n+        do k=1,m-j+1\n+          d(k)=a(4,j-1+k)\n+          do l=1,3\n+            b(l,k)=c(l,i)+a(l,j-1+k)\n+          end do\n+        end do\n+        call bar(b,d,i)\n+      end do\n+      end\n+\n+! { dg-final { cleanup-tree-dump \"vect\" } }\n+"}, {"sha": "60478e9e5e8ddf1094ef224e2886598340100315", "filename": "gcc/tree-vect-slp.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2Ftree-vect-slp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b/gcc%2Ftree-vect-slp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-slp.c?ref=2f0fa28e1f7c64c4e0f352dfd97b02de06c6e94b", "patch": "@@ -466,6 +466,22 @@ vect_build_slp_tree (loop_vec_info loop_vinfo, slp_tree *node,\n  \n                     return false;\n                   }\n+\n+                /* Check that the size of interleaved loads group is not\n+                   greater than the SLP group size.  */\n+                if (DR_GROUP_SIZE (vinfo_for_stmt (stmt))\n+                    > ncopies * group_size)\n+                  {\n+                    if (vect_print_dump_info (REPORT_SLP))\n+                      {\n+                        fprintf (vect_dump, \"Build SLP failed: the number of \"\n+                                            \"interleaved loads is greater than\"\n+                                            \" the SLP group size \");\n+                        print_gimple_stmt (vect_dump, stmt, 0, TDF_SLIM);\n+                      }\n+\n+                    return false;\n+                  }\n  \n                 first_load = DR_GROUP_FIRST_DR (vinfo_for_stmt (stmt));\n  "}]}