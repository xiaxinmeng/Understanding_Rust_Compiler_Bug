{"sha": "2f0a2a5b4ac9639466b535fe4d0cb252611901c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmYwYTJhNWI0YWM5NjM5NDY2YjUzNWZlNGQwY2IyNTI2MTE5MDFjNg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-05-31T11:44:46Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-05-31T11:44:46Z"}, "message": "cccp.c (handle_directive): Handle backslash-newlines in quoted strings correctly.\n\n        * cccp.c (handle_directive): Handle backslash-newlines in quoted\n        strings correctly.\n\nFrom-SVN: r27279", "tree": {"sha": "52d08baf01725cba44bffca068fd1784e74f5feb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52d08baf01725cba44bffca068fd1784e74f5feb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f0a2a5b4ac9639466b535fe4d0cb252611901c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f0a2a5b4ac9639466b535fe4d0cb252611901c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f0a2a5b4ac9639466b535fe4d0cb252611901c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f0a2a5b4ac9639466b535fe4d0cb252611901c6/comments", "author": null, "committer": null, "parents": [{"sha": "305423e8d8fbf43c1723fa8ec0d0b4503269c616", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305423e8d8fbf43c1723fa8ec0d0b4503269c616", "html_url": "https://github.com/Rust-GCC/gccrs/commit/305423e8d8fbf43c1723fa8ec0d0b4503269c616"}], "stats": {"total": 33, "additions": 30, "deletions": 3}, "files": [{"sha": "e83b9fe681e9781d819d67edf54b2e7b07ba9917", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0a2a5b4ac9639466b535fe4d0cb252611901c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0a2a5b4ac9639466b535fe4d0cb252611901c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f0a2a5b4ac9639466b535fe4d0cb252611901c6", "patch": "@@ -1,3 +1,8 @@\n+Mon May 31 11:48:07 1999  Mark Mitchell  <mark@codesourcery.com>\n+\n+        * cccp.c (handle_directive): Handle backslash-newlines in quoted\n+        strings correctly.\n+\n Mon May 31 09:36:11 1999  Cort Dougan  <cort@cs.nmt.edu>\n \n \t* rs6000/linux.h (LINK_SPEC): Use emulation elf32ppclinux."}, {"sha": "6e2d519f6263bee59b2c39076638b1c02b430e11", "filename": "gcc/cccp.c", "status": "modified", "additions": 25, "deletions": 3, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0a2a5b4ac9639466b535fe4d0cb252611901c6/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0a2a5b4ac9639466b535fe4d0cb252611901c6/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=2f0a2a5b4ac9639466b535fe4d0cb252611901c6", "patch": "@@ -3981,11 +3981,33 @@ handle_directive (ip, op)\n \t  case '\\'':\n \t  case '\\\"':\n \t    {\n+\t      int backslash_newlines_p;\n+\n \t      register U_CHAR *bp1\n \t\t= skip_quoted_string (xp - 1, bp, ip->lineno,\n-\t\t\t\t      NULL_PTR, NULL_PTR, NULL_PTR);\n-\t      while (xp != bp1)\n-\t\t*cp++ = *xp++;\n+\t\t\t\t      NULL_PTR, &backslash_newlines_p, \n+\t\t\t\t      NULL_PTR);\n+\t      if (backslash_newlines_p)\n+\t\twhile (xp != bp1)\n+\t\t  {\n+\t\t    /* With something like:\n+\n+\t\t\t #define X \"a\\\n+\t\t\t b\"\n+\n+\t\t       we should still remove the backslash-newline\n+\t\t       pair as part of phase two.  */\n+\t\t    if (xp[0] == '\\\\' && xp[1] == '\\n')\n+\t\t      xp += 2;\n+\t\t    else\n+\t\t      *cp++ = *xp++;\n+\t\t  }\n+\t      else\n+\t\t/* This is the same as the loop above, but taking\n+\t\t   advantage of the fact that we know there are no\n+\t\t   backslash-newline pairs.  */\n+\t\twhile (xp != bp1)\n+\t\t  *cp++ = *xp++;\n \t    }\n \t    break;\n "}]}