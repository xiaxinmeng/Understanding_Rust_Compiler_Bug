{"sha": "3e1a978b9e52756b4e183d95c13885607fb7f09a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2UxYTk3OGI5ZTUyNzU2YjRlMTgzZDk1YzEzODg1NjA3ZmI3ZjA5YQ==", "commit": {"author": {"name": "Karl Berry", "email": "karl@gnu.org", "date": "1996-11-17T00:12:46Z"}, "committer": {"name": "Karl Berry", "email": "karl@gnu.org", "date": "1996-11-17T00:12:46Z"}, "message": "\\indexbreaks, \\realunder, \\multitable, \\footnotezzz.\n\nFrom-SVN: r13196", "tree": {"sha": "3bf16ac8d5d557f013650305b2beeb0bdb61584a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3bf16ac8d5d557f013650305b2beeb0bdb61584a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e1a978b9e52756b4e183d95c13885607fb7f09a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e1a978b9e52756b4e183d95c13885607fb7f09a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e1a978b9e52756b4e183d95c13885607fb7f09a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e1a978b9e52756b4e183d95c13885607fb7f09a/comments", "author": null, "committer": null, "parents": [{"sha": "2e645d8871594a89bb4223850fe68b92a8bd0cc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e645d8871594a89bb4223850fe68b92a8bd0cc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e645d8871594a89bb4223850fe68b92a8bd0cc1"}], "stats": {"total": 37, "additions": 30, "deletions": 7}, "files": [{"sha": "a89acabd62b82865d250b46e9eda54c41af4d534", "filename": "gcc/texinfo.tex", "status": "modified", "additions": 30, "deletions": 7, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e1a978b9e52756b4e183d95c13885607fb7f09a/gcc%2Ftexinfo.tex", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e1a978b9e52756b4e183d95c13885607fb7f09a/gcc%2Ftexinfo.tex", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftexinfo.tex?ref=3e1a978b9e52756b4e183d95c13885607fb7f09a", "patch": "@@ -1,5 +1,5 @@\n %% TeX macros to handle Texinfo files.\n-%% $Id: texinfo.tex,v 2.190 1996/11/16 00:19:07 karl Exp karl $\n+%% $Id: texinfo.tex,v 2.191 1996/11/16 00:20:09 karl Exp karl $\n \n %  Copyright (C) 1985, 86, 88, 90, 91, 92, 93,\n %                94, 95, 1996 Free Software Foundation, Inc.\n@@ -36,7 +36,7 @@\n \n % This automatically updates the version number based on RCS.\n \\def\\deftexinfoversion$#1: #2 ${\\def\\texinfoversion{#2}}\n-\\deftexinfoversion$Revision: 2.190 $\n+\\deftexinfoversion$Revision: 2.191 $\n \\message{Loading texinfo package [Version \\texinfoversion]:}\n \n % If in a .fmt file, print the version number\n@@ -1315,16 +1315,21 @@\n {\n \\catcode`\\-=\\active\n \\catcode`\\_=\\active\n+\\catcode`\\|=\\active\n \\global\\def\\code{\\begingroup \\catcode`\\-=\\active \\let-\\codedash \\catcode`\\_=\\active \\let_\\codeunder \\codex}\n % The following is used by \\doprintindex to insure that long function names\n % wrap around.  It is necessary for - and _ to be active before the index is\n % read from the file, as \\entry parses the arguments long before \\code is\n % ever called.  -- mycroft\n-\\global\\def\\indexbreaks{\\catcode`\\-=\\active \\let-\\realdash \\catcode`\\_=\\active \\let_\\realunder}\n+% _ is always active; and it shouldn't be \\let = to an _ that is a\n+% subscript character anyway. Then, @cindex @samp{_} (for example)\n+% fails.  --karl\n+\\global\\def\\indexbreaks{%\n+  \\catcode`\\-=\\active \\let-\\realdash\n+}\n }\n \n \\def\\realdash{-}\n-\\def\\realunder{_}\n \\def\\codedash{-\\discretionary{}{}{}}\n \\def\\codeunder{\\normalunderscore\\discretionary{}{}{}}\n \\def\\codex #1{\\tclose{#1}\\endgroup}\n@@ -2062,7 +2067,16 @@\n  % In either case we will make \\leftskip=\\multitablecolspace:\n \\leftskip=\\multitablecolspace\n \\fi\n-\\noindent##\\multistrut}\\cr%\n+ % Ignoring space at the beginning and end avoids an occasional spurious\n+ % blank line, when TeX decides to break the line at the space before the\n+ % box from the multistrut, so the strut ends up on a line by itself.\n+ % For example:\n+ % @multitable @columnfractions .11 .89\n+ % @item @code{#}\n+ % @tab Legal holiday which is valid in major parts of the whole country.\n+ % Is automatically provided with highlighing sequences respectively marking\n+ % characters.\n+ \\noindent\\ignorespaces##\\unskip\\multistrut}\\cr\n  % \\everycr will reset column counter, \\colcount, at the end of\n  % each line. Every column  entry will cause \\colcount to advance by one. \n  % The table preamble\n@@ -4373,8 +4387,12 @@\n \n % Don't bother with the trickery in plain.tex to not require the\n % footnote text as a parameter.  Our footnotes don't need to be so general.\n+% \n+% Oh yes, they do; otherwise, @ifset and anything else that uses\n+% \\parseargline fail inside footnotes because the tokens are fixed when\n+% the footnote is read.  --karl, 16nov96.\n %\n-\\long\\gdef\\footnotezzz#1{\\insert\\footins{%\n+\\long\\gdef\\footnotezzz{\\insert\\footins\\bgroup\n   % We want to typeset this text as a normal paragraph, even if the\n   % footnote reference occurs in (for example) a display environment.\n   % So reset some parameters.\n@@ -4396,8 +4414,13 @@\n   % expands into a box, it must come within the paragraph, lest it\n   % provide a place where TeX can split the footnote.\n   \\footstrut\n-  #1\\strut}%\n+  \\futurelet\\next\\fo@t\n }\n+\\def\\fo@t{\\ifcat\\bgroup\\noexpand\\next \\let\\next\\f@@t\n+  \\else\\let\\next\\f@t\\fi \\next}\n+\\def\\f@@t{\\bgroup\\aftergroup\\@foot\\let\\next}\n+\\def\\f@t#1{#1\\@foot}\n+\\def\\@foot{\\strut\\egroup}\n \n }%end \\catcode `\\@=11\n "}]}