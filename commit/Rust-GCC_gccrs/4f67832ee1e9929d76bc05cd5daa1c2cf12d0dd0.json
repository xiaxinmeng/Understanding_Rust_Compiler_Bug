{"sha": "4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY2NzgzMmVlMWU5OTI5ZDc2YmMwNWNkNWRhYTFjMmNmMTJkMGRkMA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2019-11-11T20:05:49Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-11-11T20:05:49Z"}, "message": "re PR bootstrap/92433 (r276645 breaks bootstrap on powerpc)\n\n\tPR bootstrap/92433\n\t* config/rs6000/rs6000-c.c (altivec_build_resolved_builtin): Guard\n\tALTIVEC_BUILTIN_VEC_VCMPGE_P argument swapping with n == 3 check.  Use\n\tstd::swap.\n\nFrom-SVN: r278066", "tree": {"sha": "1bcccfa307a6e4c937af5cffbaea13772222e300", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bcccfa307a6e4c937af5cffbaea13772222e300"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7cec95887a274390a45b266622ef15dcb1c2b784", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cec95887a274390a45b266622ef15dcb1c2b784", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cec95887a274390a45b266622ef15dcb1c2b784"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "2d50a752ec145a43651cc32f08ae78e3fd352ded", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0", "patch": "@@ -1,3 +1,10 @@\n+2019-11-11  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/92433\n+\t* config/rs6000/rs6000-c.c (altivec_build_resolved_builtin): Guard\n+\tALTIVEC_BUILTIN_VEC_VCMPGE_P argument swapping with n == 3 check.  Use\n+\tstd::swap.\n+\n 2019-11-11  Richard Sandiford  <richard.sandiford@arm.com>\n \n \tPR tree-optimization/92420"}, {"sha": "81db96f990f4a20e8b2f2176abe8e288dfca938a", "filename": "gcc/config/rs6000/rs6000-c.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-c.c?ref=4f67832ee1e9929d76bc05cd5daa1c2cf12d0dd0", "patch": "@@ -6076,14 +6076,14 @@ altivec_build_resolved_builtin (tree *args, int n,\n      condition (LT vs. EQ, which is recognizable by bit 1 of the first\n      argument) is reversed.  Patch the arguments here before building\n      the resolved CALL_EXPR.  */\n-  if (desc->code == ALTIVEC_BUILTIN_VEC_VCMPGE_P\n+  if (n == 3\n+      && desc->code == ALTIVEC_BUILTIN_VEC_VCMPGE_P\n       && desc->overloaded_code != ALTIVEC_BUILTIN_VCMPGEFP_P\n       && desc->overloaded_code != VSX_BUILTIN_XVCMPGEDP_P)\n     {\n-      tree t;\n-      t = args[2], args[2] = args[1], args[1] = t;\n-      t = arg_type[2], arg_type[2] = arg_type[1], arg_type[1] = t;\n-      \n+      std::swap (args[1], args[2]);\n+      std::swap (arg_type[1], arg_type[2]);\n+\n       args[0] = fold_build2 (BIT_XOR_EXPR, TREE_TYPE (args[0]), args[0],\n \t\t\t     build_int_cst (NULL_TREE, 2));\n     }"}]}