{"sha": "67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjdlMjNkMmY1YzNkNDQ5MjY4MTU0NGJmNGIxZGJlZTVmOGUxZGM3YQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-07-12T17:09:32Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-07-12T17:09:32Z"}, "message": "(end_final): Store full path name in .d file not just the filename.\n\nFrom-SVN: r7745", "tree": {"sha": "348d94ba074b964e3bd0250bf9b8dae2791d1cf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/348d94ba074b964e3bd0250bf9b8dae2791d1cf4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a/comments", "author": null, "committer": null, "parents": [{"sha": "78221d63e7596bac0d05b905219f01e0b9daab6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78221d63e7596bac0d05b905219f01e0b9daab6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78221d63e7596bac0d05b905219f01e0b9daab6d"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "78a0a07368ba6751532cf934aa09c70c29aac115", "filename": "gcc/final.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=67e23d2f5c3d4492681544bf4b1dbee5f8e1dc7a", "patch": "@@ -378,9 +378,13 @@ end_final (filename)\n \t compatibility.  */\n       ASM_OUTPUT_INTERNAL_LABEL (asm_out_file, \"LPBX\", 1);\n       {\n-\tint len = strlen (filename);\n-\tchar *data_file = (char *) alloca (len + 3);\n-\tstrcpy (data_file, filename);\n+\tchar *cwd = getpwd ();\n+\tint len = strlen (filename) + strlen (cwd) + 1;\n+\tchar *data_file = (char *) alloca (len + 4);\n+\n+\tstrcpy (data_file, cwd);\n+\tstrcat (data_file, \"/\");\n+\tstrcat (data_file, filename);\n \tstrip_off_ending (data_file, len);\n \tstrcat (data_file, \".d\");\n \tassemble_string (data_file, strlen (data_file) + 1);"}]}