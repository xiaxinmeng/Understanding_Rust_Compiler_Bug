{"sha": "e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZThmZTQ2ZDRkNjRiNGU0ODJkNzY4OGVlNTljMzk3NzBhYjk1YTViZA==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@nerim.net", "date": "2002-08-15T11:42:51Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2002-08-15T11:42:51Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r56347", "tree": {"sha": "932fed35b8959e38e8df7c752740193d91a038d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/932fed35b8959e38e8df7c752740193d91a038d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/comments", "author": null, "committer": null, "parents": [{"sha": "eac5ce6c93ebae62a03b741975086d5b09151334", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eac5ce6c93ebae62a03b741975086d5b09151334", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eac5ce6c93ebae62a03b741975086d5b09151334"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "7f3c144ae2a5c7d1c4334e5c703d2390840a431b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "patch": "@@ -1,3 +1,9 @@\n+2002-08-15  Gabriel Dos Reis  <gdr@nerim.net>\n+\n+\tFix PR/7504\n+\t* parse.y (parse_finish_call_expr): Handle incomplete\n+\ttype used to name a scope.\n+\n 2002-08-15  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/7598"}, {"sha": "02a69d8b4c4082e6ffa080a2867b18532e4224c4", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "patch": "@@ -4133,7 +4133,13 @@ parse_finish_call_expr (tree fn, tree args, int koenig)\n \t    fn = lookup_namespace_name (scope, name);\n \t  else\n \t    {\n-\t      if (TREE_CODE (name) == TEMPLATE_ID_EXPR)\n+\t      if (!COMPLETE_TYPE_P (scope) && !TYPE_BEING_DEFINED (scope))\n+\t\t{\n+\t\t  error (\"incomplete type '%T' cannot be used to name a scope\",\n+\t\t\t scope);\n+\t\t  return error_mark_node;\n+\t\t}\n+\t      else if (TREE_CODE (name) == TEMPLATE_ID_EXPR)\n \t\t{\n \t\t  template_id = name;\n \t\t  template_args = TREE_OPERAND (name, 1);"}, {"sha": "9fe65bc976ad521e77e524c4eaa11b0ccc2610c2", "filename": "gcc/testsuite/g++.dg/expr/member-of-incomplete-type-1.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fmember-of-incomplete-type-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fmember-of-incomplete-type-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fmember-of-incomplete-type-1.C?ref=e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "patch": "@@ -0,0 +1,12 @@\n+// Copyright (C) 2002 Free Software Foundation\n+// Origin: jmr@fulcrummicro.com\n+// Contributed by Gabriel Dos Reis <gdr@integrable-solutions.net>\n+\n+\n+struct A;\n+\n+int main()\n+{\n+    A::g();           // { dg-error \"incomplete\" \"\" }\n+}\n+"}]}