{"sha": "63041e68a4c1b6043872652c07223117ebfb07f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjMwNDFlNjhhNGMxYjYwNDM4NzI2NTJjMDcyMjMxMTdlYmZiMDdmNw==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-03-29T09:54:15Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-03-29T09:54:15Z"}, "message": "pthread7-rope.cc: Fix...\n\n2004-03-29  Paolo Carlini  <pcarlini@suse.de>\n\n\t* testsuite/thread/pthread7-rope.cc: Fix, unpredictably, depending\n\ton allocator behavior, the memory pointed by data2 may well be not\n\ttrashed.\n\nFrom-SVN: r80051", "tree": {"sha": "0586c31ea095fdae52e9645bd2bdf0d6f3eb9bd2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0586c31ea095fdae52e9645bd2bdf0d6f3eb9bd2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63041e68a4c1b6043872652c07223117ebfb07f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63041e68a4c1b6043872652c07223117ebfb07f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63041e68a4c1b6043872652c07223117ebfb07f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63041e68a4c1b6043872652c07223117ebfb07f7/comments", "author": null, "committer": null, "parents": [{"sha": "0e32714724d8e7311a46d0ff77003d775da2d788", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e32714724d8e7311a46d0ff77003d775da2d788", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e32714724d8e7311a46d0ff77003d775da2d788"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "cabb954e15ed551ff283060b0b46dfcaaae49a75", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63041e68a4c1b6043872652c07223117ebfb07f7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63041e68a4c1b6043872652c07223117ebfb07f7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=63041e68a4c1b6043872652c07223117ebfb07f7", "patch": "@@ -1,3 +1,9 @@\n+2004-03-29  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* testsuite/thread/pthread7-rope.cc: Fix, unpredictably, depending\n+\ton allocator behavior, the memory pointed by data2 may well be not\n+\ttrashed.\n+\n 2004-03-28  Chavdar Botev  <cbotev@yahoo.com>\n \n \tPR libstdc++/14245"}, {"sha": "f2183de77dbf15668770e0a73d06fb32349f4e7e", "filename": "libstdc++-v3/testsuite/thread/pthread7-rope.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63041e68a4c1b6043872652c07223117ebfb07f7/libstdc%2B%2B-v3%2Ftestsuite%2Fthread%2Fpthread7-rope.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63041e68a4c1b6043872652c07223117ebfb07f7/libstdc%2B%2B-v3%2Ftestsuite%2Fthread%2Fpthread7-rope.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fthread%2Fpthread7-rope.cc?ref=63041e68a4c1b6043872652c07223117ebfb07f7", "patch": "@@ -34,6 +34,7 @@\n const int max_thread_count = 4;\n const int max_loop_count = 10000;\n \n+__gnu_cxx::crope foo2;\n __gnu_cxx::crope foo4;\n \n void* thread_main(void *) \n@@ -81,7 +82,6 @@ main()\n \n   const char* data2;\n   {\n-    __gnu_cxx::crope foo2;\n     foo2 += \"bar2\";\n     foo2 += \"baz2\";\n     foo2 += \"bongle2\";\n@@ -108,7 +108,8 @@ main()\n     }\n \n   // Nothing says the data will be trashed at this point...\n-  VERIFY( std::strcmp (data2, \"bar2baz2bongle2\") );\n+  VERIFY( !std::strcmp (data, \"barbazbongle\") );\n+  VERIFY( !std::strcmp (data2, \"bar2baz2bongle2\") );\n \n   return 0;\n }"}]}