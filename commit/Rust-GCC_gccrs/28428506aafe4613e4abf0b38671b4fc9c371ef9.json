{"sha": "28428506aafe4613e4abf0b38671b4fc9c371ef9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg0Mjg1MDZhYWZlNDYxM2U0YWJmMGIzODY3MWI0ZmM5YzM3MWVmOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2018-08-30T12:36:24Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2018-08-30T12:36:24Z"}, "message": "lto-streamer-out.c (DFS::DFS_write_tree_body): Do not walk DECL_VINDEX.\n\n\n\t* lto-streamer-out.c (DFS::DFS_write_tree_body): Do not walk\n\tDECL_VINDEX.\n\t(hash_tree): Likewise.\n\nFrom-SVN: r263979", "tree": {"sha": "fd3823838354c6f00cae148b13338a10b309b01e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd3823838354c6f00cae148b13338a10b309b01e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28428506aafe4613e4abf0b38671b4fc9c371ef9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28428506aafe4613e4abf0b38671b4fc9c371ef9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28428506aafe4613e4abf0b38671b4fc9c371ef9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28428506aafe4613e4abf0b38671b4fc9c371ef9/comments", "author": null, "committer": null, "parents": [{"sha": "7ee6e37a8e59789aba4dac00f9a08adfdc084bbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ee6e37a8e59789aba4dac00f9a08adfdc084bbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ee6e37a8e59789aba4dac00f9a08adfdc084bbb"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "0349cdc919d2af0c2d6b3b8bf3a049ab8e7dcd4c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28428506aafe4613e4abf0b38671b4fc9c371ef9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28428506aafe4613e4abf0b38671b4fc9c371ef9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=28428506aafe4613e4abf0b38671b4fc9c371ef9", "patch": "@@ -1,3 +1,9 @@\n+2018-08-29  Jan Hubicka  <jh@suse.cz>\n+\n+\t* lto-streamer-out.c (DFS::DFS_write_tree_body): Do not walk\n+\tDECL_VINDEX.\n+\t(hash_tree): Likewise.\n+\n 2018-08-29  Jan Hubicka  <jh@suse.cz>\n \n \t* tree.c (find_decls_types_r): Walk also TYPE_NEXT_PTR_TO"}, {"sha": "9c6ba2619f0119e60e48c0a38ee3baaf22744d3d", "filename": "gcc/lto-streamer-out.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28428506aafe4613e4abf0b38671b4fc9c371ef9/gcc%2Flto-streamer-out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28428506aafe4613e4abf0b38671b4fc9c371ef9/gcc%2Flto-streamer-out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer-out.c?ref=28428506aafe4613e4abf0b38671b4fc9c371ef9", "patch": "@@ -837,7 +837,7 @@ DFS::DFS_write_tree_body (struct output_block *ob,\n \n   if (CODE_CONTAINS_STRUCT (code, TS_FUNCTION_DECL))\n     {\n-      DFS_follow_tree_edge (DECL_VINDEX (expr));\n+      gcc_checking_assert (DECL_VINDEX (expr) == NULL);\n       DFS_follow_tree_edge (DECL_FUNCTION_PERSONALITY (expr));\n       DFS_follow_tree_edge (DECL_FUNCTION_SPECIFIC_TARGET (expr));\n       DFS_follow_tree_edge (DECL_FUNCTION_SPECIFIC_OPTIMIZATION (expr));\n@@ -1253,7 +1253,6 @@ hash_tree (struct streamer_tree_cache_d *cache, hash_map<tree, hashval_t> *map,\n \n   if (CODE_CONTAINS_STRUCT (code, TS_FUNCTION_DECL))\n     {\n-      visit (DECL_VINDEX (t));\n       visit (DECL_FUNCTION_PERSONALITY (t));\n       visit (DECL_FUNCTION_SPECIFIC_TARGET (t));\n       visit (DECL_FUNCTION_SPECIFIC_OPTIMIZATION (t));"}]}