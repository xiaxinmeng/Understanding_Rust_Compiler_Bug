{"sha": "da1512ad7ede2ab7b321baa4cb03e7239342a154", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGExNTEyYWQ3ZWRlMmFiN2IzMjFiYWE0Y2IwM2U3MjM5MzQyYTE1NA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-02-07T02:05:04Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-02-07T02:05:04Z"}, "message": "re PR c++/35147 (ICE trying to expand an argument pack with zero arguments)\n\n/cp\n2009-02-06  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/35147\n\tPR c++/37737\n\t* cp-tree.h (TMPL_ARGS_HAVE_MULTIPLE_LEVELS): Check TREE_VEC_LENGTH.\n\n/testsuite\n2009-02-06  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/35147\n\tPR c++/37737\n\t* g++.dg/cpp0x/vt-35147.C: New.\n\t* g++.dg/cpp0x/vt-37737-1.C: Likewise.\n\t* g++.dg/cpp0x/vt-37737-2.C: Likewise.\n\nFrom-SVN: r144001", "tree": {"sha": "d7dc4df955e233e85f3cf9717534111f6cd9502e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7dc4df955e233e85f3cf9717534111f6cd9502e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da1512ad7ede2ab7b321baa4cb03e7239342a154", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da1512ad7ede2ab7b321baa4cb03e7239342a154", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da1512ad7ede2ab7b321baa4cb03e7239342a154", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da1512ad7ede2ab7b321baa4cb03e7239342a154/comments", "author": null, "committer": null, "parents": [{"sha": "feab5a6736e2b15d13d3d989b802f5da630a143d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feab5a6736e2b15d13d3d989b802f5da630a143d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/feab5a6736e2b15d13d3d989b802f5da630a143d"}], "stats": {"total": 61, "additions": 59, "deletions": 2}, "files": [{"sha": "690334d6e453f8e0a323a51fe4c9a87f38580b4c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=da1512ad7ede2ab7b321baa4cb03e7239342a154", "patch": "@@ -1,3 +1,9 @@\n+2009-02-06  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/35147\n+\tPR c++/37737\n+\t* cp-tree.h (TMPL_ARGS_HAVE_MULTIPLE_LEVELS): Check TREE_VEC_LENGTH.\n+\n 2009-02-04  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/39095"}, {"sha": "f37c88836887c2db6b0fa31ef1f152ce981e67e1", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=da1512ad7ede2ab7b321baa4cb03e7239342a154", "patch": "@@ -2270,8 +2270,8 @@ extern void decl_shadowed_for_var_insert (tree, tree);\n \n /* Nonzero if the template arguments is actually a vector of vectors,\n    rather than just a vector.  */\n-#define TMPL_ARGS_HAVE_MULTIPLE_LEVELS(NODE)\t\t\\\n-  (NODE && TREE_VEC_ELT (NODE, 0)                       \\\n+#define TMPL_ARGS_HAVE_MULTIPLE_LEVELS(NODE)\t\t     \\\n+  (NODE && TREE_VEC_LENGTH (NODE) && TREE_VEC_ELT (NODE, 0)  \\\n    && TREE_CODE (TREE_VEC_ELT (NODE, 0)) == TREE_VEC)\n \n /* The depth of a template argument vector.  When called directly by"}, {"sha": "7cde83d6c5e464db8c2b72e0487c8cd03a22b983", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=da1512ad7ede2ab7b321baa4cb03e7239342a154", "patch": "@@ -1,3 +1,11 @@\n+2009-02-06  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/35147\n+\tPR c++/37737\n+\t* g++.dg/cpp0x/vt-35147.C: New.\n+\t* g++.dg/cpp0x/vt-37737-1.C: Likewise.\n+\t* g++.dg/cpp0x/vt-37737-2.C: Likewise.\n+\n 2009-02-06  Joseph Myers  <joseph@codesourcery.com>\n \n \tPR c/35434"}, {"sha": "67f282ef9c3829db0c7cd7a8548239103ed7b5c5", "filename": "gcc/testsuite/g++.dg/cpp0x/vt-35147.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-35147.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-35147.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-35147.C?ref=da1512ad7ede2ab7b321baa4cb03e7239342a154", "patch": "@@ -0,0 +1,17 @@\n+// { dg-options \"-std=c++0x\" }\n+\n+template<typename _Tp>\n+  _Tp&& forward(_Tp&& __t) { return __t; }\n+\n+void f(...);\n+\n+template<typename... Args>\n+void g(Args&&... args)\n+{\n+  f(forward<Args...>(args...)); // { dg-error \"no matching\" }\n+}\n+\n+void h()\n+{\n+  g();\n+}"}, {"sha": "32ea22db2783388cea27f9725f400581569388f4", "filename": "gcc/testsuite/g++.dg/cpp0x/vt-37737-1.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-37737-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-37737-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-37737-1.C?ref=da1512ad7ede2ab7b321baa4cb03e7239342a154", "patch": "@@ -0,0 +1,11 @@\n+// { dg-options \"-std=c++0x\" }\n+\n+void f() { }\n+\n+template<class U, class... T>\n+void f(){ f<T...>(); } // { dg-error \"no matching\" }\n+\n+int main()\n+{ \n+  f<char>();\n+}"}, {"sha": "11547e5e24954b036f56a0eb7f4939793dff5d6e", "filename": "gcc/testsuite/g++.dg/cpp0x/vt-37737-2.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-37737-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1512ad7ede2ab7b321baa4cb03e7239342a154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-37737-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvt-37737-2.C?ref=da1512ad7ede2ab7b321baa4cb03e7239342a154", "patch": "@@ -0,0 +1,15 @@\n+// { dg-options \"-std=c++0x\" }\n+\n+template<class U, class... T>\n+void f()\n+{\n+  f<T...>(); // { dg-error \"no matching\" }\n+}\n+\n+template<>\n+void f() { } // { dg-error \"template-id\" }\n+\n+int main()\n+{\n+  f<char>();\n+}"}]}