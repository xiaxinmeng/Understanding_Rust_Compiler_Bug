{"sha": "38734e55b348c29115121efadb90275d3f150e81", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg3MzRlNTViMzQ4YzI5MTE1MTIxZWZhZGI5MDI3NWQzZjE1MGU4MQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1997-01-23T20:05:52Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1997-01-23T20:05:52Z"}, "message": "Get the right COST for a SUBREG when truncating\n\nFrom-SVN: r13549", "tree": {"sha": "0b69b9ae0996ddabd4c7781e7103fbac1a0d0deb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b69b9ae0996ddabd4c7781e7103fbac1a0d0deb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38734e55b348c29115121efadb90275d3f150e81", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38734e55b348c29115121efadb90275d3f150e81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38734e55b348c29115121efadb90275d3f150e81", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38734e55b348c29115121efadb90275d3f150e81/comments", "author": null, "committer": null, "parents": [{"sha": "26bbb20697bc7ad7df8903005843dea21ee3b7fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26bbb20697bc7ad7df8903005843dea21ee3b7fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26bbb20697bc7ad7df8903005843dea21ee3b7fc"}], "stats": {"total": 26, "additions": 19, "deletions": 7}, "files": [{"sha": "cc9c142c570a5f671d43d634f308cb3e7ce91131", "filename": "gcc/cse.c", "status": "modified", "additions": 19, "deletions": 7, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38734e55b348c29115121efadb90275d3f150e81/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38734e55b348c29115121efadb90275d3f150e81/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=38734e55b348c29115121efadb90275d3f150e81", "patch": "@@ -1,5 +1,5 @@\n /* Common subexpression elimination for GNU compiler.\n-   Copyright (C) 1987, 88, 89, 92-5, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 89, 92-6, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -478,12 +478,24 @@ struct table_elt\n   ((REG_USERVAR_P (N) && REGNO (N) < FIRST_PSEUDO_REGISTER)\t\\\n    || CHEAP_REGNO (REGNO (N)))\n \n-#define COST(X)\t\t\t\t\t\t\\\n-  (GET_CODE (X) == REG\t\t\t\t\t\\\n-   ? (CHEAP_REG (X) ? 0\t\t\t\t\t\\\n-      : REGNO (X) >= FIRST_PSEUDO_REGISTER ? 1\t\t\\\n-      : 2)\t\t\t\t\t\t\\\n-   : rtx_cost (X, SET) * 2)\n+#define COST(X)\t\t\t\t\t\t\t\t\\\n+  (GET_CODE (X) == REG\t\t\t\t\t\t\t\\\n+   ? (CHEAP_REG (X) ? 0\t\t\t\t\t\t\t\\\n+      : REGNO (X) >= FIRST_PSEUDO_REGISTER ? 1\t\t\t\t\\\n+      : 2)\t\t\t\t\t\t\t\t\\\n+   : ((GET_CODE (X) == SUBREG\t\t\t\t\t\t\\\n+       && GET_CODE (SUBREG_REG (X)) == REG\t\t\t\t\\\n+       && GET_MODE_CLASS (GET_MODE (X)) == MODE_INT\t\t\t\\\n+       && GET_MODE_CLASS (GET_MODE (SUBREG_REG (X))) == MODE_INT\t\\\n+       && (GET_MODE_SIZE (GET_MODE (X))\t\t\t\t\t\\\n+\t   < GET_MODE_SIZE (GET_MODE (SUBREG_REG (X))))\t\t\t\\\n+       && subreg_lowpart_p (X)\t\t\t\t\t\t\\\n+       && TRULY_NOOP_TRUNCATION (GET_MODE_BITSIZE (GET_MODE (X)),\t\\\n+\t\t\t\t GET_MODE_BITSIZE (GET_MODE (SUBREG_REG (X))))) \\\n+      ? (CHEAP_REG (SUBREG_REG (X)) ? 0\t\t\t\t\t\\\n+\t : REGNO (SUBREG_REG (X)) >= FIRST_PSEUDO_REGISTER ? 1\t\t\\\n+\t : 2)\t\t\t\t\t\t\t\t\\\n+      : rtx_cost (X, SET) * 2))\n \n /* Determine if the quantity number for register X represents a valid index\n    into the `qty_...' variables.  */"}]}