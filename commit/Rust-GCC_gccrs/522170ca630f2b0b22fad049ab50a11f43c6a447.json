{"sha": "522170ca630f2b0b22fad049ab50a11f43c6a447", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTIyMTcwY2E2MzBmMmIwYjIyZmFkMDQ5YWI1MGExMWY0M2M2YTQ0Nw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-03-04T23:39:06Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-03-04T23:39:06Z"}, "message": "(CRT0STUFF_T_CFLAGS): New macro.\n\n(stamp-crt0, crt0.o, mcrt0.o): New goals.\n(STAGESTUFF): stamp-crt0 added.\n\nFrom-SVN: r11425", "tree": {"sha": "c2cf2e6d2ad46cea3f87b98989d86eb41a1212db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2cf2e6d2ad46cea3f87b98989d86eb41a1212db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/522170ca630f2b0b22fad049ab50a11f43c6a447", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/522170ca630f2b0b22fad049ab50a11f43c6a447", "html_url": "https://github.com/Rust-GCC/gccrs/commit/522170ca630f2b0b22fad049ab50a11f43c6a447", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/522170ca630f2b0b22fad049ab50a11f43c6a447/comments", "author": null, "committer": null, "parents": [{"sha": "2425db7e1783d3e8f599051367bff707467c89ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2425db7e1783d3e8f599051367bff707467c89ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2425db7e1783d3e8f599051367bff707467c89ef"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "186bccd4c5f76a8c72189b78900e82556fcb7d64", "filename": "gcc/Makefile.in", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522170ca630f2b0b22fad049ab50a11f43c6a447/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522170ca630f2b0b22fad049ab50a11f43c6a447/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=522170ca630f2b0b22fad049ab50a11f43c6a447", "patch": "@@ -384,6 +384,9 @@ FIXPROTO_DEFINES =\n # Extra flags to use when compiling crt{begin,end}.o.\n CRTSTUFF_T_CFLAGS = \n \n+# Extra flags to use when compiling [m]crt0.o.\n+CRT0STUFF_T_CFLAGS = \n+\n # End of variables for you to override.\n \n # Definition of `all' is here so that new rules inserted by sed\n@@ -541,7 +544,7 @@ STAGESTUFF = *$(objext) insn-flags.h insn-config.h insn-codes.h \\\n  insn-attr.h insn-attrtab.c insn-opinit.c \\\n  stamp-flags stamp-config stamp-codes \\\n  stamp-output stamp-recog stamp-emit stamp-extract stamp-peep \\\n- stamp-attr stamp-attrtab stamp-opinit stamp-proto stamp-crt stamp-crtS \\\n+ stamp-attr stamp-attrtab stamp-opinit stamp-proto stamp-crt stamp-crtS stamp-crt0 \\\n  genemit$(exeext) genoutput$(exeext) genrecog$(exeext) genextract$(exeext) \\\n  genflags$(exeext) gencodes$(exeext) genconfig$(exeext) genpeep$(exeext) \\\n  genattrtab$(exeext) genattr$(exeext) genopinit$(exeext) \\\n@@ -1053,6 +1056,17 @@ stamp-crtS:\tcrtstuff.c $(GCC_PASSES) $(CONFIG_H) gbl-ctors.h\n \t  -g0 -c $(srcdir)/crtstuff.c\n \tmv crtstuff$(objext) crtendS$(objext)\n \ttouch stamp-crtS\n+\n+# Compile the start modules crt0.o and mcrt0.o that are linked with every program\n+crt0.o: stamp-crt0 ; @true\n+mcrt0.o: stamp-crt0; @true\n+\n+stamp-crt0:\t$(CRT0_S) $(MCRT0_S) $(GCC_PASSES) $(CONFIG_H)\n+\t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(CRT0STUFF_T_CFLAGS) \\\n+\t  -o crt0.o -c $(CRT0_S)\n+\t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(CRT0STUFF_T_CFLAGS) \\\n+\t  -o mcrt0.o -c $(MCRT0_S)\n+\ttouch stamp-crt0\n \f\n # Compiling object files from source files.\n "}]}