{"sha": "393f3ad5b9faca002ce01cd61db226174f01f44a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzkzZjNhZDViOWZhY2EwMDJjZTAxY2Q2MWRiMjI2MTc0ZjAxZjQ0YQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-04T18:39:19Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-04T18:39:19Z"}, "message": "* sbitmap.c (sbitmap_ones): Don't set too many bits.\n\nFrom-SVN: r29807", "tree": {"sha": "3e752ed8fedf827fbcb5fb994aa11957817cc386", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e752ed8fedf827fbcb5fb994aa11957817cc386"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/393f3ad5b9faca002ce01cd61db226174f01f44a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/393f3ad5b9faca002ce01cd61db226174f01f44a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/393f3ad5b9faca002ce01cd61db226174f01f44a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/393f3ad5b9faca002ce01cd61db226174f01f44a/comments", "author": null, "committer": null, "parents": [{"sha": "4afd525437e0b5de945306de871c34f08e6f1e13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4afd525437e0b5de945306de871c34f08e6f1e13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4afd525437e0b5de945306de871c34f08e6f1e13"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "8aae23aac64005cd29d4ad6d0b5ee83f02aa66d0", "filename": "gcc/sbitmap.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/393f3ad5b9faca002ce01cd61db226174f01f44a/gcc%2Fsbitmap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/393f3ad5b9faca002ce01cd61db226174f01f44a/gcc%2Fsbitmap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsbitmap.c?ref=393f3ad5b9faca002ce01cd61db226174f01f44a", "patch": "@@ -115,7 +115,16 @@ void\n sbitmap_ones (bmap)\n      sbitmap bmap;\n {\n+  unsigned int last_bit;\n+\n   memset (bmap->elms, -1, bmap->bytes);\n+\n+  last_bit = bmap->n_bits % (unsigned) SBITMAP_ELT_BITS;\n+  if (last_bit)\n+    {\n+      bmap->elms[bmap->size - 1]\n+        = (SBITMAP_ELT_TYPE)-1 >> (SBITMAP_ELT_BITS - last_bit);\n+    }\n }\n \n /* Zero a vector of N_VECS bitmaps.  */\n@@ -208,7 +217,7 @@ sbitmap_difference (dst, a, b)\n     *dstp++ = *ap++ & (~*bp++);\n }\n \n-/* Set DST to be (A and B)).\n+/* Set DST to be (A and B).\n    Return non-zero if any change is made.  */\n \n int"}]}