{"sha": "1c7b110e1e44da0c93d0d011f5109c5d09bf4399", "node_id": "C_kwDOANBUbNoAKDFjN2IxMTBlMWU0NGRhMGM5M2QwZDAxMWY1MTA5YzVkMDliZjQzOTk", "commit": {"author": {"name": "Xi Ruoyao", "email": "xry111@mengyan1223.wang", "date": "2022-03-09T03:46:03Z"}, "committer": {"name": "Xi Ruoyao", "email": "xry111@mengyan1223.wang", "date": "2022-03-09T09:27:23Z"}, "message": "vect: fix out-of-bound access in supports_vec_convert_optab_p [PR 104851]\n\nCalling VECTOR_MODE_P with MAX_MACHINE_MODE has caused out-of-bound\naccess.\n\ngcc/\n\n\tPR tree-optimization/104851\n\t* optabs-query.cc (supports_vec_convert_optab_p): Fix off-by-one\n\terror.", "tree": {"sha": "2695ccafb62c217f1106fddd4c98daf10e61cd38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2695ccafb62c217f1106fddd4c98daf10e61cd38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c7b110e1e44da0c93d0d011f5109c5d09bf4399", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEEunTLnZqV9wGnXaw2V5HFsy7NNwFAmIocvsACgkQ2V5HFsy7\nNNylHw/8DtsKmGONNQdYaFIoHAhJ77bPGjmtn8rR2rY/16IM1MAmRIFegpUpsCIR\nGgVU+lnIUP9oUMzB6imWv6RJ42euFow3cwVXSeWweZ1UUB2ryLtoq3erfzDJXQ9q\n+qVTK6YiO5rlczcRCkcbj+x9vGvT7OFLNvVc1PSKDtVAFZJMh3G2HMhyEcNlMdq1\nlfvWVsmbaEkxyNfxN9ezZ0clHQmOIu7I8ODL6G3d+ZLlpTtwyxQFXnGdOmCg33Md\n646TCySnCob0Dia+tRz642yomdtykZNPYtDrTouLHr96sPPs4tGmT8Y74QX5XHRX\nglaq0Y0RqdXUnBfYJV6Z3f9cVtec+TB4veMD7zP2CoMMpB0qh+QA9htRrUrzw4As\nKuMr+VXYQ7LHDl88vx6dn19yfeNNxvbNJQZEYSC+0PQBxrMfNExaoSPETZ9eruwT\nHj278Ry9w0huVNISEeippu7r6OBrxGloeowWlYASAHBeCE5LBwOcCZsqZE/GA4qe\n32SRAA319kjZkEYeF5R4DiCOLNaQ5n1bIVE16DOZqZ0CjJgw5ZAwRwQB4IbaLtir\ntrX7Js8twSOzEh5VS8ITnHDVE+EFcT38601bQwt0QZ65Z02CSZW8KdHDOH2INuaq\nq0PUuZW9K1A++qJ44hw1fQTC5yOKy6pKQgUdgCTDsIu8hT9GycU=\n=oqHy\n-----END PGP SIGNATURE-----", "payload": "tree 2695ccafb62c217f1106fddd4c98daf10e61cd38\nparent a5c9b7c4f95ef77b83da82241cabdf80d8b1cad5\nauthor Xi Ruoyao <xry111@mengyan1223.wang> 1646797563 +0800\ncommitter Xi Ruoyao <xry111@mengyan1223.wang> 1646818043 +0800\n\nvect: fix out-of-bound access in supports_vec_convert_optab_p [PR 104851]\n\nCalling VECTOR_MODE_P with MAX_MACHINE_MODE has caused out-of-bound\naccess.\n\ngcc/\n\n\tPR tree-optimization/104851\n\t* optabs-query.cc (supports_vec_convert_optab_p): Fix off-by-one\n\terror.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c7b110e1e44da0c93d0d011f5109c5d09bf4399", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c7b110e1e44da0c93d0d011f5109c5d09bf4399", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c7b110e1e44da0c93d0d011f5109c5d09bf4399/comments", "author": {"login": "xry111", "id": 8733039, "node_id": "MDQ6VXNlcjg3MzMwMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8733039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xry111", "html_url": "https://github.com/xry111", "followers_url": "https://api.github.com/users/xry111/followers", "following_url": "https://api.github.com/users/xry111/following{/other_user}", "gists_url": "https://api.github.com/users/xry111/gists{/gist_id}", "starred_url": "https://api.github.com/users/xry111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xry111/subscriptions", "organizations_url": "https://api.github.com/users/xry111/orgs", "repos_url": "https://api.github.com/users/xry111/repos", "events_url": "https://api.github.com/users/xry111/events{/privacy}", "received_events_url": "https://api.github.com/users/xry111/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xry111", "id": 8733039, "node_id": "MDQ6VXNlcjg3MzMwMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8733039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xry111", "html_url": "https://github.com/xry111", "followers_url": "https://api.github.com/users/xry111/followers", "following_url": "https://api.github.com/users/xry111/following{/other_user}", "gists_url": "https://api.github.com/users/xry111/gists{/gist_id}", "starred_url": "https://api.github.com/users/xry111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xry111/subscriptions", "organizations_url": "https://api.github.com/users/xry111/orgs", "repos_url": "https://api.github.com/users/xry111/repos", "events_url": "https://api.github.com/users/xry111/events{/privacy}", "received_events_url": "https://api.github.com/users/xry111/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a5c9b7c4f95ef77b83da82241cabdf80d8b1cad5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5c9b7c4f95ef77b83da82241cabdf80d8b1cad5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5c9b7c4f95ef77b83da82241cabdf80d8b1cad5"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "68dc679cc6a566ed5920bb62d70adb2ecf1ce873", "filename": "gcc/optabs-query.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c7b110e1e44da0c93d0d011f5109c5d09bf4399/gcc%2Foptabs-query.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c7b110e1e44da0c93d0d011f5109c5d09bf4399/gcc%2Foptabs-query.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs-query.cc?ref=1c7b110e1e44da0c93d0d011f5109c5d09bf4399", "patch": "@@ -720,7 +720,7 @@ static bool\n supports_vec_convert_optab_p (optab op, machine_mode mode)\n {\n   int start = mode == VOIDmode ? 0 : mode;\n-  int end = mode == VOIDmode ? MAX_MACHINE_MODE : mode;\n+  int end = mode == VOIDmode ? MAX_MACHINE_MODE - 1 : mode;\n   for (int i = start; i <= end; ++i)\n     if (VECTOR_MODE_P ((machine_mode) i))\n       for (int j = MIN_MODE_VECTOR_INT; j < MAX_MODE_VECTOR_INT; ++j)"}]}