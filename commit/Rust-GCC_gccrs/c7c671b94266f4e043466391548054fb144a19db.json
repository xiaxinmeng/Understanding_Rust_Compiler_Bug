{"sha": "c7c671b94266f4e043466391548054fb144a19db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdjNjcxYjk0MjY2ZjRlMDQzNDY2MzkxNTQ4MDU0ZmIxNDRhMTlkYg==", "commit": {"author": {"name": "Ilya Perminov", "email": "iperminov@logicalsoft.com", "date": "2004-09-24T12:29:48Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2004-09-24T12:29:48Z"}, "message": "2004-09-24  Ilya Perminov  <iperminov@logicalsoft.com>\n\n\t* gnu/java/rmi/server/UnicastServer.java\n\t(incomingMessageCall): Added code to handle Errors.\n\t* gnu/java/rmi/server/UnicastServerRef.java\n\t(incomingMessageCall): Added code to handle Errors.\n\nFrom-SVN: r88030", "tree": {"sha": "1414f9fef849b90b5293dd244ccb050373a73eba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1414f9fef849b90b5293dd244ccb050373a73eba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7c671b94266f4e043466391548054fb144a19db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7c671b94266f4e043466391548054fb144a19db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7c671b94266f4e043466391548054fb144a19db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7c671b94266f4e043466391548054fb144a19db/comments", "author": null, "committer": null, "parents": [{"sha": "4a198dea280ea52235713b009c161fce6460aea3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a198dea280ea52235713b009c161fce6460aea3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a198dea280ea52235713b009c161fce6460aea3"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "ab395dc22af4902f5abf38f80b88ad189abba260", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7c671b94266f4e043466391548054fb144a19db/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7c671b94266f4e043466391548054fb144a19db/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=c7c671b94266f4e043466391548054fb144a19db", "patch": "@@ -1,3 +1,11 @@\n+2004-09-24  Ilya Perminov  <iperminov@logicalsoft.com>\n+\n+\t* gnu/java/rmi/server/UnicastServer.java\n+\t(incomingMessageCall): Added code to handle Errors.\n+\t* gnu/java/rmi/server/UnicastServerRef.java\n+\t(incomingMessageCall): Added code to handle Errors.\n+\n+\n 2004-09-24  Tom Tromey  <tromey@redhat.com>\n \n \t* java/lang/ClassLoader.java (loadedClasses): Declare as HashMap."}, {"sha": "4230954044202916ece7fb808fb0fd11b3f29101", "filename": "libjava/gnu/java/rmi/server/UnicastServer.java", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7c671b94266f4e043466391548054fb144a19db/libjava%2Fgnu%2Fjava%2Frmi%2Fserver%2FUnicastServer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7c671b94266f4e043466391548054fb144a19db/libjava%2Fgnu%2Fjava%2Frmi%2Fserver%2FUnicastServer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Frmi%2Fserver%2FUnicastServer.java?ref=c7c671b94266f4e043466391548054fb144a19db", "patch": "@@ -46,6 +46,7 @@\n import java.util.Hashtable;\n import java.net.UnknownHostException;\n import java.rmi.Remote;\n+import java.rmi.ServerError;\n import java.rmi.server.ObjID;\n import java.rmi.server.UnicastRemoteObject;\n import java.rmi.server.UID;\n@@ -136,6 +137,10 @@ private static void incomingMessageCall(UnicastConnection conn) throws IOExcepti\n \t\t\treturnval = e;\n \t\t\treturncode = RETURN_NACK;\n \t\t}\n+                catch (Error e) {\n+\t\t\treturnval = new ServerError (\"An Error is thrown while processing the invocation on the server\", e);\n+\t\t\treturncode = RETURN_NACK;\n+                }\n \t}\n \telse {\n \t\treturnval = new NoSuchObjectException(\"\");"}, {"sha": "1c5823a7070fdfb712568a220bded0f98284226e", "filename": "libjava/gnu/java/rmi/server/UnicastServerRef.java", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7c671b94266f4e043466391548054fb144a19db/libjava%2Fgnu%2Fjava%2Frmi%2Fserver%2FUnicastServerRef.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7c671b94266f4e043466391548054fb144a19db/libjava%2Fgnu%2Fjava%2Frmi%2Fserver%2FUnicastServerRef.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Frmi%2Fserver%2FUnicastServerRef.java?ref=c7c671b94266f4e043466391548054fb144a19db", "patch": "@@ -284,7 +284,16 @@ public Object incomingMessageCall(UnicastConnection conn, int method, long hash)\n \t\ttry{\n \t\t    ret = meth.invoke(myself, args);\n \t\t}catch(InvocationTargetException e){\n-\t\t    throw (Exception)(e.getTargetException());\n+                    Throwable cause = e.getTargetException();\n+                    if (cause instanceof Exception) {\n+                        throw (Exception)cause;\n+                    }\n+                    else if (cause instanceof Error) {\n+                        throw (Error)cause;\n+                    }\n+                    else {\n+                        throw new Error(\"The remote method threw a java.lang.Throwable that is neither java.lang.Exception nor java.lang.Error.\", e);\n+                    }\n \t\t}\n \t\treturn ret;\n \t}"}]}