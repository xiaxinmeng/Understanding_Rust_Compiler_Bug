{"sha": "db9e0d2af65c2caafd568536b3613e7e729ab006", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI5ZTBkMmFmNjVjMmNhYWZkNTY4NTM2YjM2MTNlN2U3MjlhYjAwNg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2007-02-15T04:19:33Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2007-02-15T04:19:33Z"}, "message": "dwarf2out.c (dwarf2out_finish): Accept namespaces as context of limbo die nodes.\n\ngcc/ChangeLog:\n* dwarf2out.c (dwarf2out_finish): Accept namespaces as context of\nlimbo die nodes.\ngcc/testsuite/ChangeLog:\n* g++.dg/ext/interface4.C, g++.dg/ext/interface4.h: New.\n\nFrom-SVN: r121979", "tree": {"sha": "8033203ffbf059b35b6d05a1dfa5a9d51a41693f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8033203ffbf059b35b6d05a1dfa5a9d51a41693f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db9e0d2af65c2caafd568536b3613e7e729ab006", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db9e0d2af65c2caafd568536b3613e7e729ab006", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db9e0d2af65c2caafd568536b3613e7e729ab006", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db9e0d2af65c2caafd568536b3613e7e729ab006/comments", "author": null, "committer": null, "parents": [{"sha": "5ad17e7d5ae0ce60235583e542fbe958812c3310", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ad17e7d5ae0ce60235583e542fbe958812c3310", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ad17e7d5ae0ce60235583e542fbe958812c3310"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "870b1e550f447204cffa5c1973752d018e547a8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=db9e0d2af65c2caafd568536b3613e7e729ab006", "patch": "@@ -1,3 +1,8 @@\n+2007-02-15  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* dwarf2out.c (dwarf2out_finish): Accept namespaces as context of\n+\tlimbo die nodes.\n+\n 2007-02-14  Joseph Myers  <joseph@codesourcery.com>\n \n \t* emit-rtl.c (set_mem_attributes_minus_bitpos): Treat complex"}, {"sha": "901fbff52797ba85bc22cb956fde0b02da7e3633", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=db9e0d2af65c2caafd568536b3613e7e729ab006", "patch": "@@ -14375,7 +14375,9 @@ dwarf2out_finish (const char *filename)\n \t      else if (TYPE_P (node->created_for))\n \t\tcontext = TYPE_CONTEXT (node->created_for);\n \n-\t      gcc_assert (context && TREE_CODE (context) == FUNCTION_DECL);\n+\t      gcc_assert (context\n+\t\t\t  && (TREE_CODE (context) == FUNCTION_DECL\n+\t\t\t      || TREE_CODE (context) == NAMESPACE_DECL));\n \n \t      origin = lookup_decl_die (context);\n \t      if (origin)"}, {"sha": "2c93af2f32d77b5bf3f0fd489fbc0d97fd9e107a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=db9e0d2af65c2caafd568536b3613e7e729ab006", "patch": "@@ -1,3 +1,7 @@\n+2007-02-15  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* g++.dg/ext/interface4.C, g++.dg/ext/interface4.h: New.\n+\n 2007-02-14  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* g++.dg/tree-ssa/nothrow-1.C: Skip test if -fpic/-fPIC is used."}, {"sha": "85bb912839ad482624ccfce11d7ad233ad13a922", "filename": "gcc/testsuite/g++.dg/ext/interface4.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Finterface4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Finterface4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Finterface4.C?ref=db9e0d2af65c2caafd568536b3613e7e729ab006", "patch": "@@ -0,0 +1,13 @@\n+/* https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=227376 */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-g2\" } */\n+\n+/* We used to crash when emitting debug info for type N::A because its\n+   context was a namespace, not a function.  */\n+\n+#include \"interface4.h\"\n+\n+void f ( ) {\n+        g ( );\n+}"}, {"sha": "0971b3722171f4e56fe08fcb26d52a9bd55c845a", "filename": "gcc/testsuite/g++.dg/ext/interface4.h", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Finterface4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db9e0d2af65c2caafd568536b3613e7e729ab006/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Finterface4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Finterface4.h?ref=db9e0d2af65c2caafd568536b3613e7e729ab006", "patch": "@@ -0,0 +1,8 @@\n+#pragma interface\n+namespace N {\n+        typedef int A;\n+}\n+inline void g ( ) {\n+        static N :: A a = 0;\n+        a = a;\n+}"}]}