{"sha": "05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDVhYmVkNzZhOWE0NDM3ODJkOGJmM2FlZTE4Y2NjNmYzZTVmYThkYw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-11-22T23:19:17Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-11-22T23:19:17Z"}, "message": "rtti2.C: New test.\n\n\t* g++.dg/abi/rtti2.C: New test.\n\n\t* rtti.c (qualifier_flags): Fix thinko.\n\nFrom-SVN: r59391", "tree": {"sha": "42a5ad3156c1c922e60a485f810e47309776fe22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/42a5ad3156c1c922e60a485f810e47309776fe22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/comments", "author": null, "committer": null, "parents": [{"sha": "dd06be9e8d59e0678a74c1591a1f62376ba8a02d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd06be9e8d59e0678a74c1591a1f62376ba8a02d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd06be9e8d59e0678a74c1591a1f62376ba8a02d"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "21d16c00443772454ff73eb1b647ccece75fccd9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "patch": "@@ -1,3 +1,7 @@\n+2002-11-22  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* rtti.c (qualifier_flags): Fix thinko.\n+\n 2002-11-21  Glen Nakamura  <glen@imodulo.com>\n \n \tPR c++/8342"}, {"sha": "17942c30fd6f49a7cc9deddd7e38531fb08bcbde", "filename": "gcc/cp/rtti.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Fcp%2Frtti.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Fcp%2Frtti.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Frtti.c?ref=05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "patch": "@@ -685,8 +685,7 @@ qualifier_flags (type)\n      tree type;\n {\n   int flags = 0;\n-  /* we want the qualifiers on this type, not any array core, it might have */\n-  int quals = TYPE_QUALS (type);\n+  int quals = cp_type_quals (type);\n   \n   if (quals & TYPE_QUAL_CONST)\n     flags |= 1;"}, {"sha": "94ebf42ae136b359e737be8412f2ca84eb8a4744", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "patch": "@@ -1,3 +1,7 @@\n+2002-11-22  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* g++.dg/abi/rtti2.C: New test.\n+\n 2002-11-21 \ufffdEric Botcazou \ufffd<ebotcazou@libertysurf.fr>\n \n \t* gcc.dg/i386-unroll-1.c: New test."}, {"sha": "eece8724a2a29f6de4e545edacd3950ef97a78a9", "filename": "gcc/testsuite/g++.dg/abi/rtti2.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Frtti2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Frtti2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Frtti2.C?ref=05abed76a9a443782d8bf3aee18ccc6f3e5fa8dc", "patch": "@@ -0,0 +1,12 @@\n+// { dg-do run }\n+\n+#include <cxxabi.h>\n+#include <typeinfo>\n+\n+int main () {\n+  const std::type_info& ti = typeid (const int (*)[3]);\n+  const abi::__pointer_type_info& pti \n+    = static_cast<const abi::__pointer_type_info&>(ti);\n+  if ((pti.__flags & pti.__const_mask) == 0)\n+    return 1;\n+}"}]}