{"sha": "f56887a78f92924a34a2226f4ac546c21f1ff686", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU2ODg3YTc4ZjkyOTI0YTM0YTIyMjZmNGFjNTQ2YzIxZjFmZjY4Ng==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.co.uk", "date": "2000-12-05T16:51:13Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2000-12-05T16:51:13Z"}, "message": "Fix building on non-INSN_SCHEDULING targets, and fix a small bug in rgn_print_insn.\n\nFrom-SVN: r38042", "tree": {"sha": "2faccb8009c09517598fd7a29dc850c272e2bfe8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2faccb8009c09517598fd7a29dc850c272e2bfe8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f56887a78f92924a34a2226f4ac546c21f1ff686", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f56887a78f92924a34a2226f4ac546c21f1ff686", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f56887a78f92924a34a2226f4ac546c21f1ff686", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f56887a78f92924a34a2226f4ac546c21f1ff686/comments", "author": null, "committer": null, "parents": [{"sha": "3dc9aec61fefd723e28780c84e83b9c5d2219186", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3dc9aec61fefd723e28780c84e83b9c5d2219186", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3dc9aec61fefd723e28780c84e83b9c5d2219186"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "7fad8ade3155a9b471f0909f2bf53d942cf37661", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f56887a78f92924a34a2226f4ac546c21f1ff686/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f56887a78f92924a34a2226f4ac546c21f1ff686/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f56887a78f92924a34a2226f4ac546c21f1ff686", "patch": "@@ -1,3 +1,9 @@\n+2000-12-05  Bernd Schmidt  <bernds@redhat.co.uk>\n+\n+\t* sched-vis.c: Guard with #ifdef INSN_SCHEDULING.\n+\t* sched-rgn.c: Likewise.\n+\t(rgn_print_insn): Fix output.\n+\n 2000-12-05  Bruce Korb  <bkorb@gnu.org>\n \n \t* fixinc/Makefile.*: make these more consistent"}, {"sha": "46a79058867a8bf488e414374af0f133e35357ba", "filename": "gcc/sched-rgn.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f56887a78f92924a34a2226f4ac546c21f1ff686/gcc%2Fsched-rgn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f56887a78f92924a34a2226f4ac546c21f1ff686/gcc%2Fsched-rgn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-rgn.c?ref=f56887a78f92924a34a2226f4ac546c21f1ff686", "patch": "@@ -62,6 +62,7 @@ the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #include \"recog.h\"\n #include \"sched-int.h\"\n \n+#ifdef INSN_SCHEDULING\n /* Some accessor macros for h_i_d members only used within this file.  */\n #define INSN_REF_COUNT(INSN)\t(h_i_d[INSN_UID (INSN)].ref_count)\n #define FED_BY_SPEC_LOAD(insn)\t(h_i_d[INSN_UID (insn)].fed_by_spec_load)\n@@ -2255,9 +2256,10 @@ rgn_print_insn (insn, aligned)\n     sprintf (tmp, \"b%3d: i%4d\", INSN_BB (insn), INSN_UID (insn));\n   else\n     {\n-      sprintf (tmp, \"%d\", INSN_UID (insn));\n       if (current_nr_blocks > 1 && INSN_BB (insn) != target_bb)\n-\tsprintf (tmp, \"/b%d \", INSN_BB (insn));\n+\tsprintf (tmp, \"%d/b%d\", INSN_UID (insn), INSN_BB (insn));\n+      else\n+\tsprintf (tmp, \"%d\", INSN_UID (insn));\n     }\n   return tmp;\n }\n@@ -3114,3 +3116,4 @@ schedule_insns (dump_file)\n \n   free (deaths_in_region);\n }\n+#endif"}, {"sha": "7e4fdab2d717bdfc9c5d8563ef040c18e95f5a17", "filename": "gcc/sched-vis.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f56887a78f92924a34a2226f4ac546c21f1ff686/gcc%2Fsched-vis.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f56887a78f92924a34a2226f4ac546c21f1ff686/gcc%2Fsched-vis.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-vis.c?ref=f56887a78f92924a34a2226f4ac546c21f1ff686", "patch": "@@ -30,6 +30,7 @@ the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #include \"insn-attr.h\"\n #include \"sched-int.h\"\n \n+#ifdef INSN_SCHEDULING\n /* target_units bitmask has 1 for each unit in the cpu.  It should be\n    possible to compute this variable from the machine description.\n    But currently it is computed by examining the insn list.  Since\n@@ -927,3 +928,4 @@ visualize_free ()\n {\n   free (visual_tbl);\n }\n+#endif"}]}