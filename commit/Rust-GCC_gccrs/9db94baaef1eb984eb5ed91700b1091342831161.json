{"sha": "9db94baaef1eb984eb5ed91700b1091342831161", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRiOTRiYWFlZjFlYjk4NGViNWVkOTE3MDBiMTA5MTM0MjgzMTE2MQ==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2010-04-13T14:27:22Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2010-04-13T14:27:22Z"}, "message": "opt-functions.awk (opt_sanitized_name): New.\n\n2010-04-13  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n\n\t* opt-functions.awk (opt_sanitized_name): New.\n\t(opt_enum): New.\n\t* optc-gen.awk: Use it\n\t* opth-gen.awk: Use it.\n\nFrom-SVN: r158272", "tree": {"sha": "dc424ba0e4c45bee7be4f49b2afb355c7a222f5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dc424ba0e4c45bee7be4f49b2afb355c7a222f5e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9db94baaef1eb984eb5ed91700b1091342831161", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9db94baaef1eb984eb5ed91700b1091342831161", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9db94baaef1eb984eb5ed91700b1091342831161", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9db94baaef1eb984eb5ed91700b1091342831161/comments", "author": null, "committer": null, "parents": [{"sha": "0f2ffb9ac573bf202ff8fc99a2a4e2f735b09e7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f2ffb9ac573bf202ff8fc99a2a4e2f735b09e7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f2ffb9ac573bf202ff8fc99a2a4e2f735b09e7a"}], "stats": {"total": 39, "additions": 27, "deletions": 12}, "files": [{"sha": "dbc73df1cb789edf69ef24ac1b425ef886a9e1b5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9db94baaef1eb984eb5ed91700b1091342831161", "patch": "@@ -1,3 +1,10 @@\n+2010-04-13  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n+\n+\t* opt-functions.awk (opt_sanitized_name): New.\n+\t(opt_enum): New.\n+\t* optc-gen.awk: Use it\n+\t* opth-gen.awk: Use it.\n+\n 2010-04-13  Martin Jambor  <mjambor@suse.cz>\n \n \t* tree-sra.c (replace_uses_with_default_def_ssa_name): New function."}, {"sha": "4eeb67bdbeae8f36150d0c0dadff31262bc27a1c", "filename": "gcc/opt-functions.awk", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2Fopt-functions.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2Fopt-functions.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopt-functions.awk?ref=9db94baaef1eb984eb5ed91700b1091342831161", "patch": "@@ -194,3 +194,21 @@ function var_ref(name, flags)\n \t\treturn \"&target_flags\"\n \treturn \"0\"\n }\n+\n+# Given the option called NAME return a sanitized version of its name.\n+function opt_sanitized_name(name)\n+{\n+\tif (name == \"finline-limit=\" || name == \"Wlarger-than=\" \\\n+\t    || name == \"ftemplate-depth=\")\n+\t\tname = name \"eq\"\n+\tif (name == \"gdwarf+\")\n+\t\tname = \"gdwarfplus\"\n+\tgsub (\"[^A-Za-z0-9]\", \"_\", name)\n+\treturn name\n+}\n+\n+# Given the option called NAME return the appropriate enum for it.\n+function opt_enum(name)\n+{\n+\treturn \"OPT_\" opt_sanitized_name(name)\n+}"}, {"sha": "da595e94bc0d324829d73885a872659b13bfb7ce", "filename": "gcc/optc-gen.awk", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2Foptc-gen.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2Foptc-gen.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptc-gen.awk?ref=9db94baaef1eb984eb5ed91700b1091342831161", "patch": "@@ -170,11 +170,7 @@ for (i = 0; i < n_opts; i++) {\n \t}\n \n \tlen = length (opts[i]);\n-\tenum = \"OPT_\" opts[i]\n-\tif (opts[i] == \"finline-limit=\" || opts[i] == \"Wlarger-than=\" \\\n-\t    || opts[i] == \"ftemplate-depth=\")\n-\t\tenum = enum \"eq\"\n-\tgsub (\"[^A-Za-z0-9]\", \"_\", enum)\n+\tenum = opt_enum(opts[i])\n \n \t# If this switch takes joined arguments, back-chain all\n \t# subsequent switches to it for which it is a prefix.  If"}, {"sha": "cf2ef9683c842bcf11f354f387afa4fefb728683", "filename": "gcc/opth-gen.awk", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2Fopth-gen.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9db94baaef1eb984eb5ed91700b1091342831161/gcc%2Fopth-gen.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopth-gen.awk?ref=9db94baaef1eb984eb5ed91700b1091342831161", "patch": "@@ -331,13 +331,7 @@ for (i = 0; i < n_opts; i++) {\n \t}\n \n \tlen = length (opts[i]);\n-\tenum = \"OPT_\" opts[i]\n-\tif (opts[i] == \"finline-limit=\" || opts[i] == \"Wlarger-than=\" \\\n-\t    || opts[i] == \"ftemplate-depth=\")\n-\t\tenum = enum \"eq\"\n-\tif (opts[i] == \"gdwarf+\")\n-\t\tenum = \"OPT_gdwarfplus\"\n-\tgsub (\"[^A-Za-z0-9]\", \"_\", enum)\n+\tenum = opt_enum(opts[i])\n \n \t# If this switch takes joined arguments, back-chain all\n \t# subsequent switches to it for which it is a prefix.  If"}]}