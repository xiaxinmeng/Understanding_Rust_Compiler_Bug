{"sha": "b7b92f15d30a1cae3d59af69dad849fe4025f24f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdiOTJmMTVkMzBhMWNhZTNkNTlhZjY5ZGFkODQ5ZmU0MDI1ZjI0Zg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-05-21T13:04:54Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-05-21T13:04:54Z"}, "message": "[multiple changes]\n\n2014-05-21  Robert Dewar  <dewar@adacore.com>\n\n\t* prj.ads, sem_ch12.adb, prj.adb, exp_pakd.adb,\n\tsem_elab.ads: Minor reformatting.\n\t* erroutc.adb, erroutc.ads (Warning_Specifically_Suppressed): Make Tag\n\tparameter optional.\n\n2014-05-21  Pascal Obry  <obry@adacore.com>\n\n\t* prj-dect.adb: Allow package Install in aggregate project.\n\nFrom-SVN: r210703", "tree": {"sha": "216101f8a11441cc9848074c0539cf34e7ba9bd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/216101f8a11441cc9848074c0539cf34e7ba9bd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7b92f15d30a1cae3d59af69dad849fe4025f24f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7b92f15d30a1cae3d59af69dad849fe4025f24f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7b92f15d30a1cae3d59af69dad849fe4025f24f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7b92f15d30a1cae3d59af69dad849fe4025f24f/comments", "author": null, "committer": null, "parents": [{"sha": "0df5ae93e08e17fbe36bfcd1bda8ea24af968a64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df5ae93e08e17fbe36bfcd1bda8ea24af968a64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0df5ae93e08e17fbe36bfcd1bda8ea24af968a64"}], "stats": {"total": 83, "additions": 54, "deletions": 29}, "files": [{"sha": "77294463ff69175e6b7a96f6be61b3702b3f7f11", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -1,3 +1,14 @@\n+2014-05-21  Robert Dewar  <dewar@adacore.com>\n+\n+\t* prj.ads, sem_ch12.adb, prj.adb, exp_pakd.adb,\n+\tsem_elab.ads: Minor reformatting.\n+\t* erroutc.adb, erroutc.ads (Warning_Specifically_Suppressed): Make Tag\n+\tparameter optional.\n+\n+2014-05-21  Pascal Obry  <obry@adacore.com>\n+\n+\t* prj-dect.adb: Allow package Install in aggregate project.\n+\n 2014-05-21  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_ch13.adb (Analyze_Aspect_Specifications):"}, {"sha": "7e5b4a04a7911f89ac17e81886a79ac1c09aa3e3", "filename": "gcc/ada/erroutc.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Ferroutc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Ferroutc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferroutc.adb?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -1458,7 +1458,7 @@ package body Erroutc is\n    function Warning_Specifically_Suppressed\n      (Loc : Source_Ptr;\n       Msg : String_Ptr;\n-      Tag : String) return String_Id\n+      Tag : String := \"\") return String_Id\n    is\n    begin\n       --  Loop through specific warning suppression entries"}, {"sha": "96ac67632d015cd221e6020e796016bb7697c049", "filename": "gcc/ada/erroutc.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Ferroutc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Ferroutc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferroutc.ads?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -557,13 +557,13 @@ package Erroutc is\n    function Warning_Specifically_Suppressed\n      (Loc : Source_Ptr;\n       Msg : String_Ptr;\n-      Tag : String) return String_Id;\n+      Tag : String := \"\") return String_Id;\n    --  Determines if given message to be posted at given location is suppressed\n    --  by specific ON/OFF Warnings pragmas specifying this particular message.\n    --  If the warning is not suppressed then No_String is returned, otherwise\n    --  the corresponding warning string is returned (or the null string if no\n    --  Warning argument was present in the pragma). Tag is the error message\n-   --  tag for the message in question.\n+   --  tag for the message in question or the null string if there is no tag.\n \n    function Warning_Treated_As_Error (Msg : String) return Boolean;\n    --  Returns True if the warning message Msg matches any of the strings"}, {"sha": "b3be6643c127d5a358f9cc6bafc4d6ce088a4be3", "filename": "gcc/ada/exp_pakd.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fexp_pakd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fexp_pakd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_pakd.adb?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2013, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2014, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -484,8 +484,8 @@ package body Exp_Pakd is\n       Expr : Node_Id) return Node_Id;\n    --  The packed array code does unchecked conversions which in some cases\n    --  may involve non-discrete types with differing sizes. The semantics of\n-   --  such conversions is potentially endian dependent, and the effect we\n-   --  want here for such a conversion is to do the conversion in size as\n+   --  such conversions is potentially endianness dependent, and the effect\n+   --  we want here for such a conversion is to do the conversion in size as\n    --  though numeric items are involved, and we extend or truncate on the\n    --  left side. This happens naturally in the little-endian case, but in\n    --  the big endian case we can get left justification, when what we want"}, {"sha": "dafe8821794690026f26e6c141534a68d149fddc", "filename": "gcc/ada/prj-dect.adb", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fprj-dect.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fprj-dect.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-dect.adb?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2001-2013, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2001-2014, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -214,8 +214,11 @@ package body Prj.Dect is\n                  Project_Qualifier_Of (Project, In_Tree);\n       Name   : constant Name_Id := Name_Of (Current_Package, In_Tree);\n    begin\n-      if Qualif in Aggregate_Project\n-        and then Name /= Snames.Name_Builder\n+      if (Qualif = Aggregate and then Name /= Snames.Name_Builder)\n+        or else\n+         (Qualif = Aggregate_Library\n+          and then Name /= Snames.Name_Builder\n+          and then Name /= Snames.Name_Install)\n       then\n          Error_Msg_Name_1 := Name;\n          Error_Msg"}, {"sha": "808325e3905a7846f211083ee890f01ec368f43a", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -906,6 +906,11 @@ package body Prj is\n \n       type Empty_State is null record;\n       No_State : Empty_State;\n+      --  This is needed for the State parameter of procedure Look_For_Sources\n+      --  below, because of the instantiation For_Imported_Projects of generic\n+      --  procedure For_Every_Project_Imported. As procedure Look_For_Sources\n+      --  does not modify parameter State, there is no need to give its type\n+      --  more than one value.\n \n       procedure Look_For_Sources\n         (Proj  : Project_Id;"}, {"sha": "ce6e01e7e16b582e9a00733d4e19d1afa2a4d7be", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -1534,13 +1534,19 @@ package Prj is\n       In_Imported_Only : Boolean := False;\n       In_Extended_Only : Boolean := False;\n       Base_Name        : File_Name_Type;\n-      Index            : Int := 0) return Source_Ids;\n-   --  Find all source files with the given name.\n-   --  If In_Extended_Only is True, it will search in project and the project\n-   --     it extends, but not in the imported projects.\n-   --  Elsif In_Imported_Only is True, it will search in project and the\n-   --     projects it imports, but not in the others or in aggregated projects.\n-   --  Else it searches in the whole tree.\n+      Index            : Int     := 0) return Source_Ids;\n+   --  Find all source files with the given name:\n+   --\n+   --    If In_Extended_Only is True, it will search in project and the project\n+   --    it extends, but not in the imported projects.\n+   --\n+   --    If Extended_Only is False, and In_Imported_Only is True, it will\n+   --    search in project and the projects it imports, but not in the others\n+   --    or in aggregated projects.\n+   --\n+   --    If both Extended_Only and In_Imported_Only are False (the default)\n+   --    then it searches the whole tree.\n+   --\n    --  If Index is specified, this only search for sources with that index.\n \n    -----------------------"}, {"sha": "0874a031fbc2ddac642eecc85916c62ab08531f9", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -8207,9 +8207,9 @@ package body Sem_Ch12 is\n          while Scop /= Standard_Standard loop\n             if Scop = Subp then\n                return True;\n+            else\n+               Scop := Scope (Scop);\n             end if;\n-\n-            Scop := Scope (Scop);\n          end loop;\n \n          return False;\n@@ -8257,10 +8257,10 @@ package body Sem_Ch12 is\n       --  the generic body appears textually later, and the generic body is\n       --  also in the main unit.\n \n-      --  If instance is nested within a subprogram, and the generic body is\n-      --  not, the instance is delayed because the enclosing body is. If\n-      --  instance and body are within the same scope, or the same sub-\n-      --  program body, indicate explicitly that the instance is delayed.\n+      --  If instance is nested within a subprogram, and the generic body\n+      --  is not, the instance is delayed because the enclosing body is. If\n+      --  instance and body are within the same scope, or the same subprogram\n+      --  body, indicate explicitly that the instance is delayed.\n \n       Must_Delay :=\n         (Gen_Unit = Act_Unit\n@@ -8308,14 +8308,14 @@ package body Sem_Ch12 is\n                --    package Inst is new ...\n \n                --  In this particular scenario, the freeze node for Inst must\n-               --  be inserted in the same manner as that of Parent_Inst -\n+               --  be inserted in the same manner as that of Parent_Inst,\n                --  before the next source body or at the end of the declarative\n                --  list (body not available). If body P did not exist and\n                --  Parent_Inst was frozen after Inst, either by a body\n-               --  following Inst or at the end of the declarative region, the\n-               --  freeze node for Inst must be inserted after that of\n-               --  Parent_Inst. This relation is established by comparing the\n-               --  Slocs of Parent_Inst freeze node and Inst.\n+               --  following Inst or at the end of the declarative region,\n+               --  the freeze node for Inst must be inserted after that of\n+               --  Parent_Inst. This relation is established by comparing\n+               --  the Slocs of Parent_Inst freeze node and Inst.\n \n                if List_Containing (Get_Package_Instantiation_Node (Par)) =\n                   List_Containing (N)"}, {"sha": "797e04a98adf2853faf9214f91e6329f0b989e9a", "filename": "gcc/ada/sem_elab.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fsem_elab.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b92f15d30a1cae3d59af69dad849fe4025f24f/gcc%2Fada%2Fsem_elab.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_elab.ads?ref=b7b92f15d30a1cae3d59af69dad849fe4025f24f", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1997-2012, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1997-2014, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -158,7 +158,7 @@ package Sem_Elab is\n    --  not be generated (see detailed description in body).\n \n    procedure Check_Task_Activation (N : Node_Id);\n-   --  at the point at which tasks are activated in a package body, check\n+   --  Tt the point at which tasks are activated in a package body, check\n    --  that the bodies of the tasks are elaborated.\n \n end Sem_Elab;"}]}