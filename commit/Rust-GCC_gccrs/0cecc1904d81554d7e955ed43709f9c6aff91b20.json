{"sha": "0cecc1904d81554d7e955ed43709f9c6aff91b20", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGNlY2MxOTA0ZDgxNTU0ZDdlOTU1ZWQ0MzcwOWY5YzZhZmY5MWIyMA==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1997-10-27T23:07:37Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-10-27T23:07:37Z"}, "message": "* mn10300.h (GO_IF_LEGITIMATE_ADDRESS): Disable reg+reg.\n\nFrom-SVN: r16209", "tree": {"sha": "b616fe416f6fe8aa95e5d9d1ea195bf437efad28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b616fe416f6fe8aa95e5d9d1ea195bf437efad28"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0cecc1904d81554d7e955ed43709f9c6aff91b20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cecc1904d81554d7e955ed43709f9c6aff91b20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cecc1904d81554d7e955ed43709f9c6aff91b20", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cecc1904d81554d7e955ed43709f9c6aff91b20/comments", "author": null, "committer": null, "parents": [{"sha": "c9670e62b999b5175c774224e0db88655103ff6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9670e62b999b5175c774224e0db88655103ff6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9670e62b999b5175c774224e0db88655103ff6c"}], "stats": {"total": 21, "additions": 16, "deletions": 5}, "files": [{"sha": "fd6a5768f04b7639763b83d3bbea46e05f8bff98", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0cecc1904d81554d7e955ed43709f9c6aff91b20/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0cecc1904d81554d7e955ed43709f9c6aff91b20/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0cecc1904d81554d7e955ed43709f9c6aff91b20", "patch": "@@ -1,3 +1,7 @@\n+Mon Oct 27 16:11:10 1997  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* mn10300.h (GO_IF_LEGITIMATE_ADDRESS): Disable reg+reg.\n+\n Sun Oct 26 13:50:44 1997  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.c (alpha_sa_mask [VMS]): Don't include $26 in the mask."}, {"sha": "252a70f1846a3f837f78defa9929c0554e42677b", "filename": "gcc/config/mn10300/mn10300.h", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0cecc1904d81554d7e955ed43709f9c6aff91b20/gcc%2Fconfig%2Fmn10300%2Fmn10300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0cecc1904d81554d7e955ed43709f9c6aff91b20/gcc%2Fconfig%2Fmn10300%2Fmn10300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Fmn10300.h?ref=0cecc1904d81554d7e955ed43709f9c6aff91b20", "patch": "@@ -639,7 +639,18 @@ extern struct rtx_def *mn10300_builtin_saveregs ();\n \n    The other macros defined here are used only in GO_IF_LEGITIMATE_ADDRESS,\n    except for CONSTANT_ADDRESS_P which is actually\n-   machine-independent.  */\n+   machine-independent.\n+\n+   On the mn10300, the value in the address register must be\n+   in the same memory space/segment as the effective address.\n+\n+   This is problematical for reload since it does not understand\n+   that base+index != index+base in a memory reference.\n+\n+   Note it is still possible to use reg+reg addressing modes,\n+   it's just much more difficult.  For a discussion of a possible\n+   workaround and solution, see the comments in pa.c before the\n+   function record_unscaled_index_insn_codes.  */\n \n /* Accept either REG or SUBREG where a register is valid.  */\n   \n@@ -667,10 +678,6 @@ extern struct rtx_def *mn10300_builtin_saveregs ();\n \t{\t\t\t\t\t\t\\\n \t  if (GET_CODE (index) == CONST_INT)\t\t\\\n \t    goto ADDR;\t\t\t\t\t\\\n-\t  if (REG_P (index)\t\t\t\t\\\n-\t      && REG_OK_FOR_INDEX_P (index)\t\t\\\n-\t      && GET_MODE_SIZE (mode) <= GET_MODE_SIZE (word_mode)) \\\n-\t    goto ADDR;\t\t\t\t\t\\\n \t}\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\\\n }"}]}