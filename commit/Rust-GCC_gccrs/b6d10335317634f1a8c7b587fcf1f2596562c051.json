{"sha": "b6d10335317634f1a8c7b587fcf1f2596562c051", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjZkMTAzMzUzMTc2MzRmMWE4YzdiNTg3ZmNmMWYyNTk2NTYyYzA1MQ==", "commit": {"author": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2012-07-10T22:07:29Z"}, "committer": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2012-07-10T22:07:29Z"}, "message": "re PR target/53886 (Seg fault in sh_insn_length_adjustment)\n\n\tPR target/53886\n\t* gcc.c-torture/compile/pr53886.c: New.\n\nFrom-SVN: r189417", "tree": {"sha": "6451f1018340857a61c07e7d05ae477484adfd62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6451f1018340857a61c07e7d05ae477484adfd62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6d10335317634f1a8c7b587fcf1f2596562c051", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6d10335317634f1a8c7b587fcf1f2596562c051", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6d10335317634f1a8c7b587fcf1f2596562c051", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6d10335317634f1a8c7b587fcf1f2596562c051/comments", "author": null, "committer": null, "parents": [{"sha": "c03cfe1eee37ec8369d85559af885a697149205a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c03cfe1eee37ec8369d85559af885a697149205a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c03cfe1eee37ec8369d85559af885a697149205a"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "3de157822f6de083c5c8e34f7609c9de56ecbff2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d10335317634f1a8c7b587fcf1f2596562c051/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d10335317634f1a8c7b587fcf1f2596562c051/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b6d10335317634f1a8c7b587fcf1f2596562c051", "patch": "@@ -1,3 +1,8 @@\n+2012-07-10  Oleg Endo  <olegendo@gcc.gnu.org>\n+\n+\tPR target/53886\n+\t* gcc.c-torture/compile/pr53886.c: New.\n+\n 2012-07-10  Dehao Chen  <dehao@google.com>\n \n \t* gcc.dg/debug_info_inline.c: New test."}, {"sha": "89b696635296a7bd88caee38828fb8b37e535a08", "filename": "gcc/testsuite/gcc.c-torture/compile/pr53886.c", "status": "added", "additions": 68, "deletions": 0, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d10335317634f1a8c7b587fcf1f2596562c051/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr53886.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d10335317634f1a8c7b587fcf1f2596562c051/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr53886.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr53886.c?ref=b6d10335317634f1a8c7b587fcf1f2596562c051", "patch": "@@ -0,0 +1,68 @@\n+/* PR target/53886  */\n+typedef struct asn1_string_st ASN1_BIT_STRING;\n+typedef struct bignum_st BIGNUM;\n+typedef struct ec_group_st EC_GROUP;\n+typedef struct ec_key_st EC_KEY;\n+\n+struct ec_key_st\n+{\n+  EC_GROUP *group;\n+  BIGNUM *priv_key;\n+  unsigned int enc_flag;\n+}\n+X9_62_PENTANOMIAL;\n+typedef struct ec_privatekey_st\n+{\n+  ASN1_BIT_STRING *publicKey;\n+}\n+EC_PRIVATEKEY;\n+\n+extern EC_PRIVATEKEY* EC_PRIVATEKEY_new (void);\n+extern void EC_PRIVATEKEY_free (EC_PRIVATEKEY*);\n+extern unsigned char* CRYPTO_realloc (char*,int,const char*,int);\n+\n+int\n+i2d_ECPrivateKey (EC_KEY * a, unsigned char **out)\n+{\n+  int ret = 0, ok = 0;\n+  unsigned char *buffer = 0;\n+  unsigned buf_len = 0, tmp_len;\n+  EC_PRIVATEKEY *priv_key = 0;\n+  if (a == 0 || a->group == 0 || a->priv_key == 0)\n+    {\n+      ERR_put_error (16, (192), ((3 | 64)),\n+\t\t     \"\",\n+\t\t     1234);\n+      goto err;\n+    }\n+  if ((priv_key = EC_PRIVATEKEY_new ()) == 0)\n+    {\n+      ERR_put_error (16, (192), ((1 | 64)),\n+\t\t     \"\",\n+\t\t     1241);\n+      goto err;\n+    }\n+  if (!(a->enc_flag & 0x002))\n+    {\n+      if (priv_key->publicKey == 0)\n+\t{\n+\t  goto err;\n+\t}\n+      if (tmp_len > buf_len)\n+\t{\n+\t  unsigned char *tmp_buffer =\n+\t    CRYPTO_realloc ((char *) buffer, (int) tmp_len, \"\", 1293);\n+\t  buffer = tmp_buffer;\n+\t}\n+    }\n+  if ((ret = i2d_EC_PRIVATEKEY (priv_key, out)) == 0)\n+    {\n+    }\n+  ok = 1;\n+err:\n+  if (buffer)\n+    CRYPTO_free (buffer);\n+  if (priv_key)\n+    EC_PRIVATEKEY_free (priv_key);\n+  return (ok ? ret : 0);\n+}"}]}