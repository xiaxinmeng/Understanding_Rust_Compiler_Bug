{"sha": "da48638eff3749271bc9b30e1e9fc70c2ed952ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGE0ODYzOGVmZjM3NDkyNzFiYzliMzBlMWU5ZmM3MGMyZWQ5NTJjYQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@cygnus.com", "date": "1999-09-10T16:07:18Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "1999-09-10T16:07:18Z"}, "message": "tree.c (type_hash_lookup): Check for equal TYPE_ALIGN fields when comparing types.\n\nFri Sep 10 16:48:26 1999  Andrew Haley  <aph@cygnus.com>\n\n        * tree.c (type_hash_lookup): Check for equal TYPE_ALIGN fields\n        when comparing types.\n\nFrom-SVN: r29271", "tree": {"sha": "b7e1bdcd9b38a8dee973d017290ccf541f756f77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b7e1bdcd9b38a8dee973d017290ccf541f756f77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da48638eff3749271bc9b30e1e9fc70c2ed952ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da48638eff3749271bc9b30e1e9fc70c2ed952ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da48638eff3749271bc9b30e1e9fc70c2ed952ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da48638eff3749271bc9b30e1e9fc70c2ed952ca/comments", "author": null, "committer": null, "parents": [{"sha": "69ba6af33edee3f85b3e10b5838d7af24bf8dd9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69ba6af33edee3f85b3e10b5838d7af24bf8dd9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69ba6af33edee3f85b3e10b5838d7af24bf8dd9a"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "f5d04131dc8fe9ae6d2e4db355675f38ed8669f4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da48638eff3749271bc9b30e1e9fc70c2ed952ca/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da48638eff3749271bc9b30e1e9fc70c2ed952ca/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=da48638eff3749271bc9b30e1e9fc70c2ed952ca", "patch": "@@ -1,3 +1,8 @@\n+Fri Sep 10 16:48:26 1999  Andrew Haley  <aph@cygnus.com>\n+\n+\t* tree.c (type_hash_lookup): Check for equal TYPE_ALIGN fields\n+\twhen comparing types.\n+\n Wed Sep  8 16:12:04 1999  Andrew Haley  <aph@cygnus.com>\n \n \t* alias.c (rtx_equal_for_memref_p): Allow CONST_DOUBLEs to be used"}, {"sha": "b10ce01ccfdab7f86b6e0ecf147955c6ec01d3b4", "filename": "gcc/tree.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da48638eff3749271bc9b30e1e9fc70c2ed952ca/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da48638eff3749271bc9b30e1e9fc70c2ed952ca/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=da48638eff3749271bc9b30e1e9fc70c2ed952ca", "patch": "@@ -3672,12 +3672,18 @@ type_hash_lookup (hashcode, type)\n      tree type;\n {\n   register struct type_hash *h;\n+\n+  /* The TYPE_ALIGN field of a type is set by layout_type(), so we\n+     must call that routine before comparing TYPE_ALIGNs. */\n+  layout_type (type);\n+\n   for (h = type_hash_table[hashcode % TYPE_HASH_SIZE]; h; h = h->next)\n     if (h->hashcode == hashcode\n \t&& TREE_CODE (h->type) == TREE_CODE (type)\n \t&& TREE_TYPE (h->type) == TREE_TYPE (type)\n         && attribute_list_equal (TYPE_ATTRIBUTES (h->type),\n \t\t\t\t   TYPE_ATTRIBUTES (type))\n+\t&& TYPE_ALIGN (h->type) == TYPE_ALIGN (type)\n \t&& (TYPE_MAX_VALUE (h->type) == TYPE_MAX_VALUE (type)\n \t    || tree_int_cst_equal (TYPE_MAX_VALUE (h->type),\n \t\t\t\t   TYPE_MAX_VALUE (type)))"}]}