{"sha": "864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY0YzI4ZTEzNWI5YWE2YjY2YjFjY2MzNjQ5NWEwZDZiZThiODg1ZQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2018-08-14T22:51:36Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2018-08-14T22:51:36Z"}, "message": "Include <sys/random.h> for getentropy on Solaris\n\n\t* configure.ac: Check for <sys/random.h>.\n\t* configure, config.h.in: Regenerate.\n\t* intrinsics/random.c [HAVE_SYS_RANDOM_H]: Include <sys/random.h>.\n\nFrom-SVN: r263543", "tree": {"sha": "82c8265f8c4d153b505b42446f8566d038ff3760", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82c8265f8c4d153b505b42446f8566d038ff3760"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "aa7df52e4f86b6a92ab236895a85ce2cb7b1a98b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa7df52e4f86b6a92ab236895a85ce2cb7b1a98b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa7df52e4f86b6a92ab236895a85ce2cb7b1a98b"}], "stats": {"total": 24, "additions": 20, "deletions": 4}, "files": [{"sha": "c1e236e48c3f582ea96a0e4d08bb128d01f0e9dc", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "patch": "@@ -1,3 +1,9 @@\n+2018-08-15  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* configure.ac: Check for <sys/random.h>.\n+\t* configure, config.h.in: Regenerate.\n+\t* intrinsics/random.c [HAVE_SYS_RANDOM_H]: Include <sys/random.h>.\n+\n 2018-08-13  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \t* configure.ac: Check for getentropy."}, {"sha": "65fd27c6b11c6a723609de3820192b8c21dd3ef7", "filename": "libgfortran/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfig.h.in?ref=864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "patch": "@@ -744,6 +744,9 @@\n /* Define to 1 if the target supports __sync_fetch_and_add */\n #undef HAVE_SYNC_FETCH_AND_ADD\n \n+/* Define to 1 if you have the <sys/random.h> header file. */\n+#undef HAVE_SYS_RANDOM_H\n+\n /* Define to 1 if you have the <sys/resource.h> header file. */\n #undef HAVE_SYS_RESOURCE_H\n "}, {"sha": "a583b676a3e5e45b25e1251149dac172f7fcf429", "filename": "libgfortran/configure", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "patch": "@@ -2547,6 +2547,7 @@ $as_echo \"$as_me: creating cache $cache_file\" >&6;}\n fi\n \n as_fn_append ac_header_list \" unistd.h\"\n+as_fn_append ac_header_list \" sys/random.h\"\n as_fn_append ac_header_list \" sys/time.h\"\n as_fn_append ac_header_list \" sys/times.h\"\n as_fn_append ac_header_list \" sys/resource.h\"\n@@ -12513,7 +12514,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12516 \"configure\"\n+#line 12517 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12619,7 +12620,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12622 \"configure\"\n+#line 12623 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -16181,6 +16182,8 @@ done\n \n \n \n+\n+\n \n \n "}, {"sha": "05952aa0d406df8b0a636af18ff9bcd6e5c89a0b", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "patch": "@@ -275,8 +275,9 @@ AC_TYPE_UINTPTR_T\n AC_CHECK_TYPES([ptrdiff_t])\n \n # check header files (we assume C89 is available, so don't check for that)\n-AC_CHECK_HEADERS_ONCE(unistd.h sys/time.h sys/times.h sys/resource.h \\\n-sys/types.h sys/stat.h sys/wait.h floatingpoint.h ieeefp.h fenv.h fptrap.h \\\n+AC_CHECK_HEADERS_ONCE(unistd.h sys/random.h sys/time.h sys/times.h \\\n+sys/resource.h sys/types.h sys/stat.h sys/wait.h \\\n+floatingpoint.h ieeefp.h fenv.h fptrap.h \\\n fpxcp.h pwd.h complex.h xlocale.h)\n \n GCC_HEADER_STDINT(gstdint.h)"}, {"sha": "f84905e7c423d6c29da47dbd6cd712214b78d051", "filename": "libgfortran/intrinsics/random.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fintrinsics%2Frandom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864c28e135b9aa6b66b1ccc36495a0d6be8b885e/libgfortran%2Fintrinsics%2Frandom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Frandom.c?ref=864c28e135b9aa6b66b1ccc36495a0d6be8b885e", "patch": "@@ -37,6 +37,9 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include <sys/stat.h>\n #include <fcntl.h>\n #include \"time_1.h\"\n+#ifdef HAVE_SYS_RANDOM_H\n+#include <sys/random.h>\n+#endif\n \n #ifdef __MINGW32__\n #define HAVE_GETPID 1"}]}