{"sha": "97adc6ed4cac5b3e857ea1d8166972021ceb772f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdhZGM2ZWQ0Y2FjNWIzZTg1N2VhMWQ4MTY2OTcyMDIxY2ViNzcyZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1996-12-13T01:28:42Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1996-12-13T01:28:42Z"}, "message": "Check CONSTANT_POOL_BEFORE_FUNCTION to control placement of constant\npool\n\nFrom-SVN: r13304", "tree": {"sha": "64276c12d4db4d77a767e668fd3a2075ce7cedae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64276c12d4db4d77a767e668fd3a2075ce7cedae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97adc6ed4cac5b3e857ea1d8166972021ceb772f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97adc6ed4cac5b3e857ea1d8166972021ceb772f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97adc6ed4cac5b3e857ea1d8166972021ceb772f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97adc6ed4cac5b3e857ea1d8166972021ceb772f/comments", "author": null, "committer": null, "parents": [{"sha": "2922fe9ecc6ee2f98ca693bfd47eaf52fcab2e93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2922fe9ecc6ee2f98ca693bfd47eaf52fcab2e93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2922fe9ecc6ee2f98ca693bfd47eaf52fcab2e93"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "a862647e1f7159211dc80bc9629c17ca25679c88", "filename": "gcc/varasm.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97adc6ed4cac5b3e857ea1d8166972021ceb772f/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97adc6ed4cac5b3e857ea1d8166972021ceb772f/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=97adc6ed4cac5b3e857ea1d8166972021ceb772f", "patch": "@@ -899,6 +899,16 @@ assemble_gc_entry (name)\n #endif\n }\n \f\n+/* CONSTANT_POOL_BEFORE_FUNCTION may be defined as an expression with\n+   a non-zero value if the constant pool should be output before the\n+   start of the function, or a zero value if the pool should output\n+   after the end of the function.  The default is to put it before the\n+   start.  */\n+\n+#ifndef CONSTANT_POOL_BEFORE_FUNCTION\n+#define CONSTANT_POOL_BEFORE_FUNCTION 1\n+#endif\n+\n /* Output assembler code for the constant pool of a function and associated\n    with defining the name of the function.  DECL describes the function.\n    NAME is the function's name.  For the constant pool, we use the current\n@@ -915,7 +925,8 @@ assemble_start_function (decl, fnname)\n \n   app_disable ();\n \n-  output_constant_pool (fnname, decl);\n+  if (CONSTANT_POOL_BEFORE_FUNCTION)\n+    output_constant_pool (fnname, decl);\n \n #ifdef ASM_OUTPUT_SECTION_NAME\n   /* If the function is to be put in its own section and it's not in a section\n@@ -1012,6 +1023,8 @@ assemble_end_function (decl, fnname)\n #ifdef ASM_DECLARE_FUNCTION_SIZE\n   ASM_DECLARE_FUNCTION_SIZE (asm_out_file, fnname, decl);\n #endif\n+  if (! CONSTANT_POOL_BEFORE_FUNCTION)\n+    output_constant_pool (fnname, decl);\n }\n \f\n /* Assemble code to leave SIZE bytes of zeros.  */"}]}