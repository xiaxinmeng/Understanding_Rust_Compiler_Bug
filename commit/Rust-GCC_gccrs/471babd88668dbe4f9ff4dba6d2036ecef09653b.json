{"sha": "471babd88668dbe4f9ff4dba6d2036ecef09653b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDcxYmFiZDg4NjY4ZGJlNGY5ZmY0ZGJhNmQyMDM2ZWNlZjA5NjUzYg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-03-29T22:41:46Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-03-29T22:45:38Z"}, "message": "Fix wrong assignment of aggregate to full-access component\n\nThis is a regression present on the mainline: the compiler (front-end) fails\nto assign an aggregate to a full-access component (i.e. Atomic or VFA) as a\nwhole if the type of the component is not full access itself.\n\ngcc/ada/\n\tPR ada/99802\n\t* freeze.adb (Is_Full_Access_Aggregate): Call Is_Full_Access_Object\n\ton the name of an N_Assignment_Statement to spot full access.", "tree": {"sha": "73aa1b5e7865a9a15caa7b9818f4a51278628f48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73aa1b5e7865a9a15caa7b9818f4a51278628f48"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/471babd88668dbe4f9ff4dba6d2036ecef09653b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/471babd88668dbe4f9ff4dba6d2036ecef09653b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/471babd88668dbe4f9ff4dba6d2036ecef09653b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/471babd88668dbe4f9ff4dba6d2036ecef09653b/comments", "author": null, "committer": null, "parents": [{"sha": "af739c8797d4cdf550366d0ef48136e0073df5c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af739c8797d4cdf550366d0ef48136e0073df5c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af739c8797d4cdf550366d0ef48136e0073df5c9"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "da14af9b8bd0b49ba07d79cd04490bbf38d9c5b8", "filename": "gcc/ada/freeze.adb", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/471babd88668dbe4f9ff4dba6d2036ecef09653b/gcc%2Fada%2Ffreeze.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/471babd88668dbe4f9ff4dba6d2036ecef09653b/gcc%2Fada%2Ffreeze.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffreeze.adb?ref=471babd88668dbe4f9ff4dba6d2036ecef09653b", "patch": "@@ -1754,8 +1754,7 @@ package body Freeze is\n             Typ := Etype (Name (Par));\n \n             if not Is_Full_Access (Typ)\n-              and then not (Is_Entity_Name (Name (Par))\n-                             and then Is_Full_Access (Entity (Name (Par))))\n+              and then not Is_Full_Access_Object (Name (Par))\n             then\n                return False;\n             end if;"}]}