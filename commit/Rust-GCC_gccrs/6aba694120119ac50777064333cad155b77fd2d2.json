{"sha": "6aba694120119ac50777064333cad155b77fd2d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFiYTY5NDEyMDExOWFjNTA3NzcwNjQzMzNjYWQxNTViNzdmZDJkMg==", "commit": {"author": {"name": "Marc Glisse", "email": "marc.glisse@inria.fr", "date": "2014-02-22T10:24:11Z"}, "committer": {"name": "Marc Glisse", "email": "glisse@gcc.gnu.org", "date": "2014-02-22T10:24:11Z"}, "message": "re PR libstdc++/60308 (std::deque leaks memory)\n\n2014-02-22  Marc Glisse  <marc.glisse@inria.fr>\n\n\tPR libstdc++/60308\n\t* include/bits/stl_deque.h (_Deque_base::_Deque_base(const\n\tallocator_type&)): Remove redundant call to _M_initialize_map.\n\t(deque::deque(const allocator_type&)): Initialize _Base with a\n\tconstructor that calls _M_initialize_map.\n\n\tPartial revert:\n\n\t2013-09-20  Marc Glisse  <marc.glisse@inria.fr>\n\tPR libstdc++/58338\n\t(_Deque_base) [_Deque_base(const allocator_type&)]: Add missing call to\n\t_M_initialize_map.\n\nFrom-SVN: r208041", "tree": {"sha": "efea88bc06d580abc854a58e6c37e0114dbddadc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efea88bc06d580abc854a58e6c37e0114dbddadc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6aba694120119ac50777064333cad155b77fd2d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aba694120119ac50777064333cad155b77fd2d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6aba694120119ac50777064333cad155b77fd2d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aba694120119ac50777064333cad155b77fd2d2/comments", "author": {"login": "mglisse", "id": 10097863, "node_id": "MDQ6VXNlcjEwMDk3ODYz", "avatar_url": "https://avatars.githubusercontent.com/u/10097863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mglisse", "html_url": "https://github.com/mglisse", "followers_url": "https://api.github.com/users/mglisse/followers", "following_url": "https://api.github.com/users/mglisse/following{/other_user}", "gists_url": "https://api.github.com/users/mglisse/gists{/gist_id}", "starred_url": "https://api.github.com/users/mglisse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mglisse/subscriptions", "organizations_url": "https://api.github.com/users/mglisse/orgs", "repos_url": "https://api.github.com/users/mglisse/repos", "events_url": "https://api.github.com/users/mglisse/events{/privacy}", "received_events_url": "https://api.github.com/users/mglisse/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7eae5d361e34f2286b133096e66bbc69ed191956", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eae5d361e34f2286b133096e66bbc69ed191956", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eae5d361e34f2286b133096e66bbc69ed191956"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "50ed52f2543dde84211107e1ac913a30c77164ff", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6aba694120119ac50777064333cad155b77fd2d2/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6aba694120119ac50777064333cad155b77fd2d2/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6aba694120119ac50777064333cad155b77fd2d2", "patch": "@@ -1,3 +1,18 @@\n+2014-02-22  Marc Glisse  <marc.glisse@inria.fr>\n+\n+\tPR libstdc++/60308\n+\t* include/bits/stl_deque.h (_Deque_base::_Deque_base(const\n+\tallocator_type&)): Remove redundant call to _M_initialize_map.\n+\t(deque::deque(const allocator_type&)): Initialize _Base with a\n+\tconstructor that calls _M_initialize_map.\n+\n+\tPartial revert:\n+\n+\t2013-09-20  Marc Glisse  <marc.glisse@inria.fr>\n+\tPR libstdc++/58338\n+\t(_Deque_base) [_Deque_base(const allocator_type&)]: Add missing call to\n+\t_M_initialize_map.\n+\n 2014-02-21  Ed Smith-Rowland  <3dw4rd@verizon.net>\n \n \tRename testsuite directory shared_mutex to shared_timed_mutex"}, {"sha": "add8742a102c268a9569f803ca45df811ec0a0a7", "filename": "libstdc++-v3/include/bits/stl_deque.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6aba694120119ac50777064333cad155b77fd2d2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_deque.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6aba694120119ac50777064333cad155b77fd2d2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_deque.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_deque.h?ref=6aba694120119ac50777064333cad155b77fd2d2", "patch": "@@ -467,7 +467,7 @@ _GLIBCXX_BEGIN_NAMESPACE_CONTAINER\n \n       _Deque_base(const allocator_type& __a)\n       : _M_impl(__a)\n-      { _M_initialize_map(0); }\n+      { }\n \n #if __cplusplus >= 201103L\n       _Deque_base(_Deque_base&& __x)\n@@ -793,7 +793,7 @@ _GLIBCXX_BEGIN_NAMESPACE_CONTAINER\n        */\n       explicit\n       deque(const allocator_type& __a)\n-      : _Base(__a) { }\n+      : _Base(__a, 0) { }\n \n #if __cplusplus >= 201103L\n       /**"}]}