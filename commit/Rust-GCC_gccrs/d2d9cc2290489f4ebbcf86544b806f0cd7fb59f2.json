{"sha": "d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDJkOWNjMjI5MDQ4OWY0ZWJiY2Y4NjU0NGI4MDZmMGNkN2ZiNTlmMg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-02T13:29:08Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-02T13:29:08Z"}, "message": "[multiple changes]\n\n2011-08-02  Robert Dewar  <dewar@adacore.com>\n\n\t* exp_ch3.adb: Minor comment additions.\n\t* sem_ch13.adb: Minor reformatting.\n\n2011-08-02  Arnaud Charlet  <charlet@adacore.com>\n\n\t* exp_pakd.adb (Expand_Packed_Element_Reference): Revert previous change\n\n2011-08-02  Pascal Obry  <obry@adacore.com>\n\n\t* make.adb, makeutl.adb: Removes some superfluous directory separator.\n\nFrom-SVN: r177150", "tree": {"sha": "d0f9653bdcece87e55a5dc4212df8a0f1aaa4fcc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0f9653bdcece87e55a5dc4212df8a0f1aaa4fcc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/comments", "author": null, "committer": null, "parents": [{"sha": "c32d4bcf4a1a99704c542114daea0b08efc76ecc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c32d4bcf4a1a99704c542114daea0b08efc76ecc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c32d4bcf4a1a99704c542114daea0b08efc76ecc"}], "stats": {"total": 58, "additions": 17, "deletions": 41}, "files": [{"sha": "cf7374dc8bff95e53ed70ed670740e46c330a5ec", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "patch": "@@ -1,3 +1,12 @@\n+2011-08-02  Robert Dewar  <dewar@adacore.com>\n+\n+\t* exp_ch3.adb: Minor comment additions.\n+\t* sem_ch13.adb: Minor reformatting.\n+\n+2011-08-02  Pascal Obry  <obry@adacore.com>\n+\n+\t* make.adb, makeutl.adb: Removes some superfluous directory separator.\n+\n 2011-08-02  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_attr.adb: Minor reformatting.\n@@ -63,11 +72,6 @@\n \t(Interface_Name): Add missing documentation on JGNAT only uses of\n \tthis attribute.\n \n-2011-08-02  Javier Miranda  <miranda@adacore.com>\n-\n-\t* exp_pakd.adb (Expand_Packed_Element_Reference): Disable this routine\n-\tin CodePeer mode.\n-\n 2011-08-02  Geert Bosch  <bosch@adacore.com>\n \n \t* cstand.adb (Back_End_Float_Types): Use Elist instead of Nlist"}, {"sha": "f41db8628987c7e2e58bfdd1f42a6744cb5be3c1", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "patch": "@@ -4481,7 +4481,8 @@ package body Exp_Ch3 is\n    --  table and the initialization procedure have to be deferred to this\n    --  point, since we reference previously declared primitive subprograms.\n \n-   --  For all types, we call an initialization procedure if there is one\n+   --  The above comment is in the wrong place, it should be at the proper\n+   --  point in this routine ???\n \n    procedure Expand_N_Object_Declaration (N : Node_Id) is\n       Def_Id   : constant Entity_Id  := Defining_Identifier (N);\n@@ -4998,6 +4999,8 @@ package body Exp_Ch3 is\n \n             return;\n \n+         --  Comment needed here, what case is this???\n+\n          else\n             --  In most cases, we must check that the initial value meets any\n             --  constraint imposed by the declared type. However, there is one\n@@ -5300,6 +5303,8 @@ package body Exp_Ch3 is\n    -- Expand_Record_Controller --\n    ------------------------------\n \n+   --  Need some more comments in this body ???\n+\n    procedure Expand_Record_Controller (T : Entity_Id) is\n       Def             : Node_Id := Type_Definition (Parent (T));\n       Comp_List       : Node_Id;"}, {"sha": "4d3ea06881942ed9c17182ef51914f6763a2dbea", "filename": "gcc/ada/exp_pakd.adb", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fexp_pakd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fexp_pakd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_pakd.adb?ref=d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "patch": "@@ -1932,13 +1932,6 @@ package body Exp_Pakd is\n       Arg   : Node_Id;\n \n    begin\n-      --  Disable this routine in CodePeer mode since the expansion of packed\n-      --  arrays confuses the gnat2scil back end.\n-\n-      if CodePeer_Mode then\n-         return;\n-      end if;\n-\n       --  If not bit packed, we have the enumeration case, which is easily\n       --  dealt with (just adjust the subscripts of the indexed component)\n "}, {"sha": "d1fec9219530725b4e2d1d5e4cf24c86cfdaab74", "filename": "gcc/ada/make.adb", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmake.adb?ref=d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "patch": "@@ -3826,14 +3826,7 @@ package body Make is\n                     Get_Name_String (Project.Directory.Display_Name);\n \n                begin\n-                  if Parent_Directory (Parent_Directory'Last) =\n-                                                 Directory_Separator\n-                  then\n-                     return Parent_Directory & Path_Name;\n-\n-                  else\n-                     return Parent_Directory & Directory_Separator & Path_Name;\n-                  end if;\n+                  return Parent_Directory & Path_Name;\n                end;\n             end if;\n          end;\n@@ -5203,13 +5196,6 @@ package body Make is\n                   if not Is_Absolute_Path (Exec_File_Name) then\n                      Get_Name_String\n                        (Main_Project.Exec_Directory.Display_Name);\n-\n-                     if not\n-                       Is_Directory_Separator (Name_Buffer (Name_Len))\n-                     then\n-                        Add_Char_To_Name_Buffer (Directory_Separator);\n-                     end if;\n-\n                      Add_Str_To_Name_Buffer (Exec_File_Name);\n                      Saved_Linker_Switches.Table (J + 1) :=\n                        new String'(Name_Buffer (1 .. Name_Len));\n@@ -5458,11 +5444,6 @@ package body Make is\n             begin\n                if not Is_Absolute_Path (Exec_File_Name) then\n                   Get_Name_String (Main_Project.Exec_Directory.Display_Name);\n-\n-                  if Name_Buffer (Name_Len) /= Directory_Separator then\n-                     Add_Char_To_Name_Buffer (Directory_Separator);\n-                  end if;\n-\n                   Add_Str_To_Name_Buffer (Exec_File_Name);\n                   Executable := Name_Find;\n                end if;\n@@ -6074,7 +6055,6 @@ package body Make is\n                                (Get_Name_String\n                                  (Library_Projs.Table\n                                    (Index).Library_Dir.Display_Name) &\n-                                Directory_Separator &\n                                 \"lib\" &\n                                 Get_Name_String\n                                   (Library_Projs.Table (Index). Library_Name) &"}, {"sha": "e5c5a9e4bdc017ab47d57f53e91ce73e63c0f696", "filename": "gcc/ada/makeutl.adb", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fmakeutl.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fmakeutl.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmakeutl.adb?ref=d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "patch": "@@ -417,12 +417,6 @@ package body Makeutl is\n                           (ALI_Project.Object_Directory.Display_Name);\n                      end if;\n \n-                     if not\n-                       Is_Directory_Separator (Name_Buffer (Name_Len))\n-                     then\n-                        Add_Char_To_Name_Buffer (Directory_Separator);\n-                     end if;\n-\n                      Add_Str_To_Name_Buffer (ALI);\n                      Add_Char_To_Name_Buffer (ASCII.LF);\n "}, {"sha": "a1af56f5aec2dedfcecab1b0967c9825de9836a8", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=d2d9cc2290489f4ebbcf86544b806f0cd7fb59f2", "patch": "@@ -7002,7 +7002,7 @@ package body Sem_Ch13 is\n         and then No (Underlying_Type (T))\n         and then\n           (Nkind (N) /= N_Pragma\n-             or else Get_Pragma_Id (N) /= Pragma_Import)\n+            or else Get_Pragma_Id (N) /= Pragma_Import)\n       then\n          Error_Msg_N\n            (\"representation item must be after full type declaration\", N);"}]}