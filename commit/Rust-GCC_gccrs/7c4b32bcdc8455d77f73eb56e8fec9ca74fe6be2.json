{"sha": "7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M0YjMyYmNkYzg0NTVkNzdmNzNlYjU2ZThmZWM5Y2E3NGZlNmJlMg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-11-02T20:02:35Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-11-02T20:02:35Z"}, "message": "re PR java/33765 (gcj internal compiler error when reading an empty file)\n\n\tPR java/33765:\n\t* jcf-parse.c (java_parse_file): Ignore ZIPEMPTYMAGIC files.\n\t* zipfile.h (ZIPEMPTYMAGIC): New define.\n\nFrom-SVN: r129860", "tree": {"sha": "90163de1e6b727cfe012f66de458f03150d43180", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90163de1e6b727cfe012f66de458f03150d43180"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/comments", "author": null, "committer": null, "parents": [{"sha": "ea094d1f239ecc2e057ccff9829dbee7c26f142f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea094d1f239ecc2e057ccff9829dbee7c26f142f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea094d1f239ecc2e057ccff9829dbee7c26f142f"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "194edc55a78d0d41e474d76844f9a7672bc70e1a", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "patch": "@@ -1,3 +1,9 @@\n+2007-11-02  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR java/33765:\n+\t* jcf-parse.c (java_parse_file): Ignore ZIPEMPTYMAGIC files.\n+\t* zipfile.h (ZIPEMPTYMAGIC): New define.\n+\n 2007-11-01  Tom Tromey  <tromey@redhat.com>\n \n \t* Make-lang.in (java/jcf-dump.o): Depend on zipfile.h."}, {"sha": "ab2a385e0e109d9785c0142c13548b3eaaeb7b5d", "filename": "gcc/java/jcf-parse.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/gcc%2Fjava%2Fjcf-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/gcc%2Fjava%2Fjcf-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-parse.c?ref=7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "patch": "@@ -1946,6 +1946,10 @@ java_parse_file (int set_yydebug ATTRIBUTE_UNUSED)\n #endif\n \t  parse_zip_file_entries ();\n \t}\n+      else if (magic == (JCF_u4) ZIPEMPTYMAGIC)\n+\t{\n+\t  /* Ignore an empty input jar.  */\n+\t}\n       else\n \t{\n \t  gcc_unreachable ();"}, {"sha": "d78226a495cbf83c27e2cdfa956e5005044a325a", "filename": "gcc/java/zipfile.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/gcc%2Fjava%2Fzipfile.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2/gcc%2Fjava%2Fzipfile.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fzipfile.h?ref=7c4b32bcdc8455d77f73eb56e8fec9ca74fe6be2", "patch": "@@ -58,6 +58,7 @@ extern struct ZipFile *SeenZipFiles;\n #define ZIPDIR_NEXT(ZIPD) \\\n    ((ZipDirectory*)((char*)(ZIPD)+(ZIPD)->direntry_size))\n #define ZIPMAGIC 0x504b0304\t\n+#define ZIPEMPTYMAGIC 0x504b0506\n \n extern ZipFile * opendir_in_zip (const char *, int);\n extern int read_zip_archive (ZipFile *);"}]}