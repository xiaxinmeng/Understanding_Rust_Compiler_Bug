{"sha": "7671d67b18474ccaf6e8422bf48f6fa67694bbc4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY3MWQ2N2IxODQ3NGNjYWY2ZTg0MjJiZjQ4ZjZmYTY3Njk0YmJjNA==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1997-07-22T19:25:25Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1997-07-22T19:25:25Z"}, "message": "tree.c (array_type_nelts): Make sure the domain of TYPE is set before we try to use it.\n\n        * tree.c (array_type_nelts): Make sure the domain of TYPE is set\n        before we try to use it.\n\nFrom-SVN: r14518", "tree": {"sha": "fc7e25f6b39be8bd9ea0d49967e18cd010508a47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc7e25f6b39be8bd9ea0d49967e18cd010508a47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7671d67b18474ccaf6e8422bf48f6fa67694bbc4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7671d67b18474ccaf6e8422bf48f6fa67694bbc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7671d67b18474ccaf6e8422bf48f6fa67694bbc4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7671d67b18474ccaf6e8422bf48f6fa67694bbc4/comments", "author": null, "committer": null, "parents": [{"sha": "efc9daa36e39dd8970be51bd835e0cf3d67568ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc9daa36e39dd8970be51bd835e0cf3d67568ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efc9daa36e39dd8970be51bd835e0cf3d67568ae"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "0f91d7b116411c645b17c8778184be3600126c9a", "filename": "gcc/tree.c", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7671d67b18474ccaf6e8422bf48f6fa67694bbc4/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7671d67b18474ccaf6e8422bf48f6fa67694bbc4/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=7671d67b18474ccaf6e8422bf48f6fa67694bbc4", "patch": "@@ -2147,9 +2147,16 @@ tree\n array_type_nelts (type)\n      tree type;\n {\n-  tree index_type = TYPE_DOMAIN (type);\n-  tree min = TYPE_MIN_VALUE (index_type);\n-  tree max = TYPE_MAX_VALUE (index_type);\n+  tree index_type, min, max;\n+\n+  /* If they did it with unspecified bounds, then we should have already\n+     given an error about it before we got here.  */\n+  if (! TYPE_DOMAIN (type))\n+    return error_mark_node;\n+\n+  index_type = TYPE_DOMAIN (type);\n+  min = TYPE_MIN_VALUE (index_type);\n+  max = TYPE_MAX_VALUE (index_type);\n \n   if (! TREE_CONSTANT (min))\n     {"}]}