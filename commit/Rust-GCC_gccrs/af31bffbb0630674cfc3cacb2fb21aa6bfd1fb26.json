{"sha": "af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWYzMWJmZmJiMDYzMDY3NGNmYzNjYWNiMmZiMjFhYTZiZmQxZmIyNg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-08T13:02:55Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-08T13:02:55Z"}, "message": "[multiple changes]\n\n2010-10-08  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_prag.adb (Check_Duplicate_Pragma): New procedure\n\tAdd calls to this new procedure where appropriate\n\n2010-10-08  Vincent Celier  <celier@adacore.com>\n\n\t* a-textio.adb (Get_Chunk): Code clean up.\n\n2010-10-08  Robert Dewar  <dewar@adacore.com>\n\n\t* a-strbou.ads, a-strfix.adb, a-strfix.ads, a-strsea.adb, a-strsea.ads,\n\ta-strsup.adb, a-strsup.ads, a-strunb-shared.adb, a-strunb-shared.ads,\n\ta-strunb.adb, a-strunb.ads, a-stwibo.ads, a-stwifi.adb, a-stwifi.ads,\n\ta-stwise.adb, a-stwise.ads, a-stwisu.adb, a-stwisu.ads,\n\ta-stwiun-shared.adb, a-stwiun-shared.ads, a-stwiun.adb, a-stwiun.ads,\n\ta-stzbou.ads, a-stzfix.adb, a-stzfix.ads, a-stzsea.adb, a-stzsea.ads,\n\ta-stzsup.adb, a-stzsup.ads, a-stzunb-shared.adb, a-stzunb-shared.ads,\n\ta-stzunb.adb, a-stzunb.ads (Find_Token): New version with From\n\tparameter.\n\nFrom-SVN: r165174", "tree": {"sha": "0126ea2b3ba29b875348601ed7cceb253d55ec95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0126ea2b3ba29b875348601ed7cceb253d55ec95"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/comments", "author": null, "committer": null, "parents": [{"sha": "0db0c8367c64555fbbff491b9a340976d7a517fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0db0c8367c64555fbbff491b9a340976d7a517fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0db0c8367c64555fbbff491b9a340976d7a517fb"}], "stats": {"total": 558, "additions": 528, "deletions": 30}, "files": [{"sha": "68b248fab51771a892834b542ffd858c8a4c7b13", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -1,3 +1,24 @@\n+2010-10-08  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_prag.adb (Check_Duplicate_Pragma): New procedure\n+\tAdd calls to this new procedure where appropriate\n+\n+2010-10-08  Vincent Celier  <celier@adacore.com>\n+\n+\t* a-textio.adb (Get_Chunk): Code clean up.\n+\n+2010-10-08  Robert Dewar  <dewar@adacore.com>\n+\n+\t* a-strbou.ads, a-strfix.adb, a-strfix.ads, a-strsea.adb, a-strsea.ads,\n+\ta-strsup.adb, a-strsup.ads, a-strunb-shared.adb, a-strunb-shared.ads,\n+\ta-strunb.adb, a-strunb.ads, a-stwibo.ads, a-stwifi.adb, a-stwifi.ads,\n+\ta-stwise.adb, a-stwise.ads, a-stwisu.adb, a-stwisu.ads,\n+\ta-stwiun-shared.adb, a-stwiun-shared.ads, a-stwiun.adb, a-stwiun.ads,\n+\ta-stzbou.ads, a-stzfix.adb, a-stzfix.ads, a-stzsea.adb, a-stzsea.ads,\n+\ta-stzsup.adb, a-stzsup.ads, a-stzunb-shared.adb, a-stzunb-shared.ads,\n+\ta-stzunb.adb, a-stzunb.ads (Find_Token): New version with From\n+\tparameter.\n+\n 2010-10-08  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_cat.adb (Check_Categorization_Dependencies): Remote types"}, {"sha": "ddc8c337683df6a0d7169bc37c7398ced267298d", "filename": "gcc/ada/a-strbou.ads", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strbou.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strbou.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strbou.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -289,6 +289,15 @@ package Ada.Strings.Bounded is\n         (Source : Bounded_String;\n          Set    : Maps.Character_Set) return Natural;\n \n+      procedure Find_Token\n+        (Source : Bounded_String;\n+         Set    : Maps.Character_Set;\n+         From   : Positive;\n+         Test   : Membership;\n+         First  : out Positive;\n+         Last   : out Natural);\n+      pragma Ada_2012 (Find_Token);\n+\n       procedure Find_Token\n         (Source : Bounded_String;\n          Set    : Maps.Character_Set;\n@@ -746,6 +755,15 @@ package Ada.Strings.Bounded is\n          Set    : Maps.Character_Set) return Natural\n          renames Super_Count;\n \n+      procedure Find_Token\n+        (Source : Bounded_String;\n+         Set    : Maps.Character_Set;\n+         From   : Positive;\n+         Test   : Membership;\n+         First  : out Positive;\n+         Last   : out Natural)\n+         renames Super_Find_Token;\n+\n       procedure Find_Token\n         (Source : Bounded_String;\n          Set    : Maps.Character_Set;"}, {"sha": "6bb0229c71efc380b19a95fcb3ead79d40311c1f", "filename": "gcc/ada/a-strfix.adb", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strfix.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strfix.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strfix.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -120,6 +120,15 @@ package body Ada.Strings.Fixed is\n       Set    : Maps.Character_Set) return Natural\n    renames Ada.Strings.Search.Count;\n \n+   procedure Find_Token\n+     (Source : String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   renames Ada.Strings.Search.Find_Token;\n+\n    procedure Find_Token\n      (Source : String;\n       Set    : Maps.Character_Set;"}, {"sha": "56db8bc9458bc5305e0a497d0eb84c19900bcadf", "filename": "gcc/ada/a-strfix.ads", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strfix.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strfix.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strfix.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -99,6 +99,15 @@ package Ada.Strings.Fixed is\n      (Source : String;\n       Set    : Maps.Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : String;\n       Set    : Maps.Character_Set;"}, {"sha": "6f458ff23957d5af323a72d99af0a091c0f7d3ef", "filename": "gcc/ada/a-strsea.adb", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsea.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsea.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strsea.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -194,6 +194,40 @@ package body Ada.Strings.Search is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      for J in From .. Source'Last loop\n+         if Belongs (Source (J), Set, Test) then\n+            First := J;\n+\n+            for K in J + 1 .. Source'Last loop\n+               if not Belongs (Source (K), Set, Test) then\n+                  Last := K - 1;\n+                  return;\n+               end if;\n+            end loop;\n+\n+            --  Here if J indexes first char of token, and all chars after J\n+            --  are in the token.\n+\n+            Last := Source'Last;\n+            return;\n+         end if;\n+      end loop;\n+\n+      --  Here if no token found\n+\n+      First := From;\n+      Last  := 0;\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : String;\n       Set    : Maps.Character_Set;"}, {"sha": "bf8686815c02cb8eb75c15ea7cc98bf113678bf7", "filename": "gcc/ada/a-strsea.ads", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsea.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsea.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strsea.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -103,6 +103,14 @@ private package Ada.Strings.Search is\n      (Source : String;\n       Set    : Maps.Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+\n    procedure Find_Token\n      (Source : String;\n       Set    : Maps.Character_Set;"}, {"sha": "707d9ec7055b7833649926fdaff0ee164d534d88", "filename": "gcc/ada/a-strsup.adb", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsup.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsup.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strsup.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2003-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -792,6 +792,19 @@ package body Ada.Strings.Superbounded is\n    -- Super_Find_Token --\n    ----------------------\n \n+   procedure Super_Find_Token\n+     (Source : Super_String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      Search.Find_Token\n+        (Source.Data (From .. Source.Current_Length), Set, Test, First, Last);\n+   end Super_Find_Token;\n+\n    procedure Super_Find_Token\n      (Source : Super_String;\n       Set    : Maps.Character_Set;"}, {"sha": "c88c563d3d619ab58b7b5b0999d69371e5d84d00", "filename": "gcc/ada/a-strsup.ads", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsup.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strsup.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strsup.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2003-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -290,6 +290,14 @@ package Ada.Strings.Superbounded is\n      (Source : Super_String;\n       Set    : Maps.Character_Set) return Natural;\n \n+   procedure Super_Find_Token\n+     (Source : Super_String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+\n    procedure Super_Find_Token\n      (Source : Super_String;\n       Set    : Maps.Character_Set;"}, {"sha": "2b497b88dcb159e8ce32615cb8b8de877d57f976", "filename": "gcc/ada/a-strunb-shared.adb", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb-shared.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb-shared.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strunb-shared.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -816,6 +816,19 @@ package body Ada.Strings.Unbounded is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Unbounded_String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+      SR : constant Shared_String_Access := Source.Reference;\n+   begin\n+      Search.Find_Token (SR.Data (From .. SR.Last), Set, Test, First, Last);\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Unbounded_String;\n       Set    : Maps.Character_Set;"}, {"sha": "f07ac3145904e345687a4afc420a78e0a09cfa65", "filename": "gcc/ada/a-strunb-shared.ads", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb-shared.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb-shared.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strunb-shared.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -294,6 +294,15 @@ package Ada.Strings.Unbounded is\n      (Source : Unbounded_String;\n       Set    : Maps.Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Unbounded_String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Unbounded_String;\n       Set    : Maps.Character_Set;"}, {"sha": "eae34bee885baf4e35fffdcc5a30a9a264eccbc0", "filename": "gcc/ada/a-strunb.adb", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strunb.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -504,6 +504,19 @@ package body Ada.Strings.Unbounded is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Unbounded_String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      Search.Find_Token\n+        (Source.Reference (From .. Source.Last), Set, Test, First, Last);\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Unbounded_String;\n       Set    : Maps.Character_Set;"}, {"sha": "af063f0c9d2de9b9faecd6c5c37896987a105e2e", "filename": "gcc/ada/a-strunb.ads", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-strunb.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strunb.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -256,6 +256,15 @@ package Ada.Strings.Unbounded is\n      (Source : Unbounded_String;\n       Set    : Maps.Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Unbounded_String;\n+      Set    : Maps.Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Unbounded_String;\n       Set    : Maps.Character_Set;"}, {"sha": "c5a54d14b1476d999187b9b9448f17dae71b4110", "filename": "gcc/ada/a-stwibo.ads", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwibo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwibo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwibo.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -293,6 +293,15 @@ package Ada.Strings.Wide_Bounded is\n         (Source : Bounded_Wide_String;\n          Set    : Wide_Maps.Wide_Character_Set) return Natural;\n \n+      procedure Find_Token\n+        (Source : Bounded_Wide_String;\n+         Set    : Wide_Maps.Wide_Character_Set;\n+         From   : Positive;\n+         Test   : Membership;\n+         First  : out Positive;\n+         Last   : out Natural);\n+      pragma Ada_2012 (Find_Token);\n+\n       procedure Find_Token\n         (Source : Bounded_Wide_String;\n          Set    : Wide_Maps.Wide_Character_Set;\n@@ -751,6 +760,15 @@ package Ada.Strings.Wide_Bounded is\n          Set    : Wide_Maps.Wide_Character_Set) return Natural\n          renames Super_Count;\n \n+      procedure Find_Token\n+        (Source : Bounded_Wide_String;\n+         Set    : Wide_Maps.Wide_Character_Set;\n+         From   : Positive;\n+         Test   : Membership;\n+         First  : out Positive;\n+         Last   : out Natural)\n+         renames Super_Find_Token;\n+\n       procedure Find_Token\n         (Source : Bounded_Wide_String;\n          Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "c4229062424cc1e9dc63fd316b19d3713f191883", "filename": "gcc/ada/a-stwifi.adb", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwifi.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwifi.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwifi.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -114,6 +114,15 @@ package body Ada.Strings.Wide_Fixed is\n       Set    : Wide_Maps.Wide_Character_Set) return Natural\n    renames Ada.Strings.Wide_Search.Count;\n \n+   procedure Find_Token\n+     (Source : Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   renames Ada.Strings.Wide_Search.Find_Token;\n+\n    procedure Find_Token\n      (Source : Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "75de811cfb32fe9de6d8680ea67f4f42db69ce9a", "filename": "gcc/ada/a-stwifi.ads", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwifi.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwifi.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwifi.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -102,6 +102,15 @@ package Ada.Strings.Wide_Fixed is\n      (Source : Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "adc8e5f621a56800fdd923aae15d1ee716e648ee", "filename": "gcc/ada/a-stwise.adb", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwise.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwise.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwise.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -189,6 +189,40 @@ package body Ada.Strings.Wide_Search is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      for J in From .. Source'Last loop\n+         if Belongs (Source (J), Set, Test) then\n+            First := J;\n+\n+            for K in J + 1 .. Source'Last loop\n+               if not Belongs (Source (K), Set, Test) then\n+                  Last := K - 1;\n+                  return;\n+               end if;\n+            end loop;\n+\n+            --  Here if J indexes first char of token, and all chars after J\n+            --  are in the token.\n+\n+            Last := Source'Last;\n+            return;\n+         end if;\n+      end loop;\n+\n+      --  Here if no token found\n+\n+      First := From;\n+      Last  := 0;\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "fa06c5b15024479fc69248f06198e522001f4f6a", "filename": "gcc/ada/a-stwise.ads", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwise.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwise.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwise.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -106,6 +106,15 @@ private package Ada.Strings.Wide_Search is\n      (Source : Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "2ffae8146827c7b122b124e920e899e2c1dd787a", "filename": "gcc/ada/a-stwisu.adb", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwisu.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwisu.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwisu.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2003-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -793,6 +793,19 @@ package body Ada.Strings.Wide_Superbounded is\n    -- Super_Find_Token --\n    ----------------------\n \n+   procedure Super_Find_Token\n+     (Source : Super_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      Wide_Search.Find_Token\n+        (Source.Data (From .. Source.Current_Length), Set, Test, First, Last);\n+   end Super_Find_Token;\n+\n    procedure Super_Find_Token\n      (Source : Super_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "0390031f3da5ee58e780254e1553460187e7d534", "filename": "gcc/ada/a-stwisu.ads", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwisu.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwisu.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwisu.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2003-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -296,6 +296,14 @@ package Ada.Strings.Wide_Superbounded is\n      (Source : Super_String;\n       Set    : Wide_Maps.Wide_Character_Set) return Natural;\n \n+   procedure Super_Find_Token\n+     (Source : Super_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+\n    procedure Super_Find_Token\n      (Source : Super_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "7b99542510e80da06a1fdf12f999a12a6c4e555f", "filename": "gcc/ada/a-stwiun-shared.adb", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun-shared.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun-shared.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwiun-shared.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -820,6 +820,20 @@ package body Ada.Strings.Wide_Unbounded is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+      SR : constant Shared_Wide_String_Access := Source.Reference;\n+   begin\n+      Wide_Search.Find_Token\n+        (SR.Data (From .. SR.Last), Set, Test, First, Last);\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;\n@@ -829,7 +843,8 @@ package body Ada.Strings.Wide_Unbounded is\n    is\n       SR : constant Shared_Wide_String_Access := Source.Reference;\n    begin\n-      Wide_Search.Find_Token (SR.Data (1 .. SR.Last), Set, Test, First, Last);\n+      Wide_Search.Find_Token\n+        (SR.Data (1 .. SR.Last), Set, Test, First, Last);\n    end Find_Token;\n \n    ----------"}, {"sha": "79cde5042b40237f6a54a52839343cbf51892930", "filename": "gcc/ada/a-stwiun-shared.ads", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun-shared.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun-shared.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwiun-shared.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -270,6 +270,15 @@ package Ada.Strings.Wide_Unbounded is\n      (Source : Unbounded_Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "77e427f92971d2e01a637b9107483f48f2fa5413", "filename": "gcc/ada/a-stwiun.adb", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwiun.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -511,6 +511,19 @@ package body Ada.Strings.Wide_Unbounded is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      Wide_Search.Find_Token\n+        (Source.Reference (From .. Source.Last), Set, Test, First, Last);\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "dcec88977e353b1908726b53923108a44163184c", "filename": "gcc/ada/a-stwiun.ads", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stwiun.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwiun.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -261,6 +261,15 @@ package Ada.Strings.Wide_Unbounded is\n      (Source : Unbounded_Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_String;\n+      Set    : Wide_Maps.Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_String;\n       Set    : Wide_Maps.Wide_Character_Set;"}, {"sha": "9574802f255fb526d3b2f85c2a3c509914b07e10", "filename": "gcc/ada/a-stzbou.ads", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzbou.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzbou.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzbou.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -299,6 +299,15 @@ package Ada.Strings.Wide_Wide_Bounded is\n         (Source : Bounded_Wide_Wide_String;\n          Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural;\n \n+      procedure Find_Token\n+        (Source : Bounded_Wide_Wide_String;\n+         Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+         From   : Positive;\n+         Test   : Membership;\n+         First  : out Positive;\n+         Last   : out Natural);\n+      pragma Ada_2012 (Find_Token);\n+\n       procedure Find_Token\n         (Source : Bounded_Wide_Wide_String;\n          Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n@@ -766,6 +775,15 @@ package Ada.Strings.Wide_Wide_Bounded is\n          Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural\n          renames Super_Count;\n \n+      procedure Find_Token\n+        (Source : Bounded_Wide_Wide_String;\n+         Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+         From   : Positive;\n+         Test   : Membership;\n+         First  : out Positive;\n+         Last   : out Natural)\n+         renames Super_Find_Token;\n+\n       procedure Find_Token\n         (Source : Bounded_Wide_Wide_String;\n          Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "077a65c0ecd78318e19dcf1b684f7e48832b9a50", "filename": "gcc/ada/a-stzfix.adb", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzfix.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzfix.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzfix.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -120,6 +120,15 @@ package body Ada.Strings.Wide_Wide_Fixed is\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural\n    renames Ada.Strings.Wide_Wide_Search.Count;\n \n+   procedure Find_Token\n+     (Source : Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   renames Ada.Strings.Wide_Wide_Search.Find_Token;\n+\n    procedure Find_Token\n      (Source : Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "bee76582527b7cb61d3959c84fb6dafc54c38b9f", "filename": "gcc/ada/a-stzfix.ads", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzfix.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzfix.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzfix.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -107,6 +107,15 @@ package Ada.Strings.Wide_Wide_Fixed is\n      (Source : Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "e745091f6bae856d1d1d0c9c668049dc0050f9f0", "filename": "gcc/ada/a-stzsea.adb", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsea.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsea.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzsea.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -191,6 +191,40 @@ package body Ada.Strings.Wide_Wide_Search is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      for J in From .. Source'Last loop\n+         if Belongs (Source (J), Set, Test) then\n+            First := J;\n+\n+            for K in J + 1 .. Source'Last loop\n+               if not Belongs (Source (K), Set, Test) then\n+                  Last := K - 1;\n+                  return;\n+               end if;\n+            end loop;\n+\n+            --  Here if J indexes first char of token, and all chars after J\n+            --  are in the token.\n+\n+            Last := Source'Last;\n+            return;\n+         end if;\n+      end loop;\n+\n+      --  Here if no token found\n+\n+      First := From;\n+      Last  := 0;\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "b8e39d25a4e078e69981f76eda2503d40e5e641e", "filename": "gcc/ada/a-stzsea.ads", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsea.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsea.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzsea.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -112,6 +112,14 @@ private package Ada.Strings.Wide_Wide_Search is\n      (Source : Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+\n    procedure Find_Token\n      (Source : Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "efad7b0f8c7d4aaab4453020f12ce8b13a28e473", "filename": "gcc/ada/a-stzsup.adb", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsup.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsup.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzsup.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2003-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -796,6 +796,19 @@ package body Ada.Strings.Wide_Wide_Superbounded is\n    -- Super_Find_Token --\n    ----------------------\n \n+   procedure Super_Find_Token\n+     (Source : Super_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      Wide_Wide_Search.Find_Token\n+        (Source.Data (From .. Source.Current_Length), Set, Test, First, Last);\n+   end Super_Find_Token;\n+\n    procedure Super_Find_Token\n      (Source : Super_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "7e67f53bae849e7720f15ad49489482657a3074f", "filename": "gcc/ada/a-stzsup.ads", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsup.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzsup.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzsup.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2003-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -304,6 +304,14 @@ package Ada.Strings.Wide_Wide_Superbounded is\n      (Source : Super_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural;\n \n+   procedure Super_Find_Token\n+     (Source : Super_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+\n    procedure Super_Find_Token\n      (Source : Super_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "75799dad2f224e13e06bfc671f69002503c5e6b8", "filename": "gcc/ada/a-stzunb-shared.adb", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb-shared.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb-shared.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzunb-shared.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -824,6 +824,20 @@ package body Ada.Strings.Wide_Wide_Unbounded is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+      SR : constant Shared_Wide_Wide_String_Access := Source.Reference;\n+   begin\n+      Wide_Wide_Search.Find_Token\n+        (SR.Data (From .. SR.Last), Set, Test, First, Last);\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "3a3cba300a357a2052921154d65c189c371324f1", "filename": "gcc/ada/a-stzunb-shared.ads", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb-shared.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb-shared.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzunb-shared.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -276,6 +276,15 @@ package Ada.Strings.Wide_Wide_Unbounded is\n      (Source : Unbounded_Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "82dae6f88b74e8358c1d233bf855a846a506dbb0", "filename": "gcc/ada/a-stzunb.adb", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzunb.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -514,6 +514,19 @@ package body Ada.Strings.Wide_Wide_Unbounded is\n    -- Find_Token --\n    ----------------\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Strings.Membership;\n+      First  : out Positive;\n+      Last   : out Natural)\n+   is\n+   begin\n+      Wide_Wide_Search.Find_Token\n+        (Source.Reference (From .. Source.Last), Set, Test, First, Last);\n+   end Find_Token;\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "fa7bc17d93de7065c77030a7aef3d57b448ac399", "filename": "gcc/ada/a-stzunb.ads", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-stzunb.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzunb.ads?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2010, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -266,6 +266,15 @@ package Ada.Strings.Wide_Wide_Unbounded is\n      (Source : Unbounded_Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set) return Natural;\n \n+   procedure Find_Token\n+     (Source : Unbounded_Wide_Wide_String;\n+      Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;\n+      From   : Positive;\n+      Test   : Membership;\n+      First  : out Positive;\n+      Last   : out Natural);\n+   pragma Ada_2012 (Find_Token);\n+\n    procedure Find_Token\n      (Source : Unbounded_Wide_Wide_String;\n       Set    : Wide_Wide_Maps.Wide_Wide_Character_Set;"}, {"sha": "924bfe59b3e2246058dc58124b424e2d100e2dd7", "filename": "gcc/ada/a-textio.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-textio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fa-textio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-textio.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -758,7 +758,7 @@ package body Ada.Text_IO is\n \n          if P = Null_Address then\n             pragma Assert (Buf (N) = ASCII.NUL);\n-            memcpy (Item (Item'First + Last)'Address,\n+            memcpy (Item (Last + 1)'Address,\n                     Buf (1)'Address, size_t (N - 1));\n             Last := Last + N - 1;\n \n@@ -783,7 +783,7 @@ package body Ada.Text_IO is\n                   K := K - 1;\n                end if;\n \n-               memcpy (Item (Item'First + Last)'Address,\n+               memcpy (Item (Last + 1)'Address,\n                        Buf (1)'Address, size_t (K));\n                Last := Last + K;\n             end;"}, {"sha": "bd7e144a2981c78fe022717ec0731c5830ba7f13", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 45, "deletions": 1, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=af31bffbb0630674cfc3cacb2fb21aa6bfd1fb26", "patch": "@@ -407,6 +407,11 @@ package body Sem_Prag is\n       --  UU_Typ is the related Unchecked_Union type. Flag In_Variant_Part\n       --  should be set when Comp comes from a record variant.\n \n+      procedure Check_Duplicate_Pragma (E : Entity_Id);\n+      --  Check if a pragma of the same name as the current pragma is already\n+      --  chained as a rep pragma to the given entity. if so give a message\n+      --  about the duplicate, using Error_Pragma so the call does not return.\n+\n       procedure Check_Duplicated_Export_Name (Nam : Node_Id);\n       --  Nam is an N_String_Literal node containing the external name set by\n       --  an Import or Export pragma (or extended Import or Export pragma).\n@@ -1194,6 +1199,17 @@ package body Sem_Prag is\n          end if;\n       end Check_Component;\n \n+      procedure Check_Duplicate_Pragma (E : Entity_Id) is\n+         P : constant Node_Id := Get_Rep_Pragma (E, Pragma_Name (N));\n+      begin\n+         if Present (P) then\n+            Error_Msg_Name_1 := Pname;\n+            Error_Msg_Sloc := Sloc (P);\n+            Error_Msg_NE (\"pragma% for & duplicates one#\", N, E);\n+            raise Pragma_Exit;\n+         end if;\n+      end Check_Duplicate_Pragma;\n+\n       ----------------------------------\n       -- Check_Duplicated_Export_Name --\n       ----------------------------------\n@@ -1306,8 +1322,16 @@ package body Sem_Prag is\n               (\"argument for pragma% must be library level entity\", Arg1);\n          end if;\n \n+         --  AI05-0033 : pragma cannot appear within a generic body, because\n+         --  instance can be in a nested scope. The check that protected type\n+         --  is itself a library-level declaration is done elsewhere.\n+\n          if Inside_A_Generic then\n-            Error_Pragma (\"pragma% cannot be used inside a generic\");\n+            if Ekind (Scope (Current_Scope)) = E_Generic_Package\n+               and then In_Package_Body (Scope (Current_Scope))\n+            then\n+               Error_Pragma (\"pragma% cannot be used inside a generic\");\n+            end if;\n          end if;\n       end Check_Interrupt_Or_Attach_Handler;\n \n@@ -2220,6 +2244,12 @@ package body Sem_Prag is\n          D := Declaration_Node (E);\n          K := Nkind (D);\n \n+         --  Check duplicate before we chain ourselves!\n+\n+         Check_Duplicate_Pragma (E);\n+\n+         --  Now check appropriateness of the entity\n+\n          if Is_Type (E) then\n             if Rep_Item_Too_Early (E, N)\n                  or else\n@@ -5946,6 +5976,8 @@ package body Sem_Prag is\n \n             E := Entity (E_Id);\n \n+            Check_Duplicate_Pragma (E);\n+\n             if Rep_Item_Too_Early (E, N)\n                  or else\n                Rep_Item_Too_Late (E, N)\n@@ -8410,6 +8442,12 @@ package body Sem_Prag is\n             D := Declaration_Node (E);\n             K := Nkind (D);\n \n+            --  Check duplicate before we chain ourselves!\n+\n+            Check_Duplicate_Pragma (E);\n+\n+            --  Check appropriate entity\n+\n             if Is_Type (E) then\n                if Rep_Item_Too_Early (E, N)\n                     or else\n@@ -8464,6 +8502,12 @@ package body Sem_Prag is\n \n             E := Entity (E_Id);\n \n+            --  Check duplicate before we chain ourselves!\n+\n+            Check_Duplicate_Pragma (E);\n+\n+            --  Check appropriate entity\n+\n             if Rep_Item_Too_Early (E, N)\n                  or else\n                Rep_Item_Too_Late (E, N)"}]}