{"sha": "94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTRkMzk5NWFhMzY0OWQ3Nzc3OTRiOGE3MGM5YjhlYTIxYmRmZGQwNA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2006-10-18T04:08:30Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2006-10-18T04:08:30Z"}, "message": "re PR fortran/29277 (Formated stream output: Translate \"\\n\" / achar(10) into \"\\r\\n\" on some platforms)\n\n2006-10-17  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libgfortran/29277\n\t* gfortran.dg/streamio_4.f90: Update test.\n\t* gfortran.dg/streamio_11.f90: New test.\n\nFrom-SVN: r117847", "tree": {"sha": "82bc051e27bedb032c5a3c78af5b7d72a670086f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82bc051e27bedb032c5a3c78af5b7d72a670086f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/comments", "author": null, "committer": null, "parents": [{"sha": "09861cbee63a833e24b235a82432f2086f993624", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09861cbee63a833e24b235a82432f2086f993624", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09861cbee63a833e24b235a82432f2086f993624"}], "stats": {"total": 53, "additions": 49, "deletions": 4}, "files": [{"sha": "5080ad4913aeded3966d4199b21af998fc122dfd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "patch": "@@ -1,3 +1,9 @@\n+2006-10-17  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/29277\n+\t* gfortran.dg/streamio_4.f90: Update test.\n+\t* gfortran.dg/streamio_11.f90: New test.\n+\n 2006-10-17  Lee Millward  <lee.millward@codesuorcery.com>\n \n         PR c++/27952"}, {"sha": "2084a23159b4b321c389707b9ae60059615e3b90", "filename": "gcc/testsuite/gfortran.dg/streamio_11.f90", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/gcc%2Ftestsuite%2Fgfortran.dg%2Fstreamio_11.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/gcc%2Ftestsuite%2Fgfortran.dg%2Fstreamio_11.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstreamio_11.f90?ref=94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "patch": "@@ -0,0 +1,43 @@\n+! { dg-do run }\n+! PR29277 Stream IO test 11, tests formatted form.\n+! Contributed by Tobias Burnas.\n+program stream_test\n+    implicit none\n+    character(len=*), parameter :: rec1 = 'record1'\n+    character(len=*), parameter :: rec2 = 'record2'\n+    character(len=50) :: str1,str2\n+    integer           :: len, i\n+    real              :: r\n+\n+    open(10,form='formatted',access='stream',&\n+         status='scratch',position='rewind')\n+    write(10,'(a)') rec1//new_line('a')//rec2\n+    rewind(10)\n+    read(10,*) str1\n+    read(10,*) str2\n+    if(str1 /= rec1 .or. str2 /= rec2) call abort()\n+    rewind(10)\n+    read(10,'(a)') str1\n+    read(10,'(a)') str2\n+    if(str1 /= rec1 .or. str2 /= rec2) call abort()\n+    close(10)\n+\n+    open(10,form='formatted',access='stream',&\n+         status='scratch',position='rewind')\n+    write(10,*) '123 '//trim(rec1)//'  1e-12'\n+    write(10,*) '12345.6789'\n+    rewind(10)\n+    read(10,*) i,str1\n+    read(10,*) r\n+    if(i /= 123 .or. str1 /= rec1 .or. r /= 12345.6789) &\n+      call abort()\n+    close(10)\n+\n+    open(unit=10,form='unformatted',access='stream', &\n+         status='scratch',position='rewind')\n+    write(10) rec1//new_line('a')//rec2\n+    len = len_trim(rec1//new_line('a')//rec2)\n+    rewind(10)\n+    read(10) str1(1:len)\n+    if(str1 /= rec1//new_line('a')//rec2) call abort()\n+end program stream_test"}, {"sha": "64d2f52dbf16ce5df82258a4735aa280e6c15937", "filename": "gcc/testsuite/gfortran.dg/streamio_4.f90", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/gcc%2Ftestsuite%2Fgfortran.dg%2Fstreamio_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94d3995aa3649d777794b8a70c9b8ea21bdfdd04/gcc%2Ftestsuite%2Fgfortran.dg%2Fstreamio_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstreamio_4.f90?ref=94d3995aa3649d777794b8a70c9b8ea21bdfdd04", "patch": "@@ -15,7 +15,6 @@ program streamtest\n     do j=0,9\n       write(10,\"(i5)\") j\n     end do\n-    write(10,\"(a)\") lf\n   end do\n   \n   close(10)\n@@ -26,16 +25,13 @@ program streamtest\n     do j=0,9\n       write(10,\"(i5)\") j\n     end do\n-    write(10,\"(a)\") lf\n   end do\n   rewind(10)\n   do i=1,lines\n     do j=0,9\n       read(10,\"(i5)\") k\n       if (k.ne.j) call abort()\n     end do\n-    read(10,\"(a)\") tchar\n-    if (tchar.ne.lf) call abort()\n   end do\n \n   close(10,status=\"delete\")"}]}