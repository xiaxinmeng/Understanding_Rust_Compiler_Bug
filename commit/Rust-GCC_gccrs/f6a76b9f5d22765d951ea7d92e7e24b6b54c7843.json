{"sha": "f6a76b9f5d22765d951ea7d92e7e24b6b54c7843", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZhNzZiOWY1ZDIyNzY1ZDk1MWVhN2Q5MmU3ZTI0YjZiNTRjNzg0Mw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-02-26T01:24:37Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-02-26T01:24:37Z"}, "message": "c-common.c (handle_alias_attribute): Reject the attribute if current_function_decl is set.\n\n        * c-common.c (handle_alias_attribute): Reject the attribute if\n        current_function_decl is set.\n\nFrom-SVN: r78472", "tree": {"sha": "259232151172287ef6bbde3e486554b4b92b2a0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/259232151172287ef6bbde3e486554b4b92b2a0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843/comments", "author": null, "committer": null, "parents": [{"sha": "6ce7631670c254d52eddcdf5cd53257a6ca4a7e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ce7631670c254d52eddcdf5cd53257a6ca4a7e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ce7631670c254d52eddcdf5cd53257a6ca4a7e8"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "80a9c564d0c426256e460f99fc5c0b3568fa57d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f6a76b9f5d22765d951ea7d92e7e24b6b54c7843", "patch": "@@ -1,3 +1,8 @@\n+2004-02-25  Richard Henderson  <rth@redhat.com>\n+\n+\t* c-common.c (handle_alias_attribute): Reject the attribute if\n+\tcurrent_function_decl is set.\n+\n 2004-02-25  Kelley Cook  <kcook@gcc.gnu.org>\n \n \t* config.gcc: Add comment describing extra_gcc_objs."}, {"sha": "4c0ce271077cc5323907c8c7fb21a4c7ac9e2e9f", "filename": "gcc/c-common.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a76b9f5d22765d951ea7d92e7e24b6b54c7843/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=f6a76b9f5d22765d951ea7d92e7e24b6b54c7843", "patch": "@@ -4827,7 +4827,13 @@ handle_alias_attribute (tree *node, tree name, tree args,\n       error (\"%J'%D' defined both normally and as an alias\", decl, decl);\n       *no_add_attrs = true;\n     }\n-  else if (decl_function_context (decl) == 0)\n+\n+  /* Note that the very first time we process a nested declaration,\n+     decl_function_context will not be set.  Indeed, *would* never\n+     be set except for the DECL_INITIAL/DECL_EXTERNAL frobbery that\n+     we do below.  After such frobbery, pushdecl would set the context.\n+     In any case, this is never what we want.  */\n+  else if (decl_function_context (decl) == 0 && current_function_decl == NULL)\n     {\n       tree id;\n "}]}