{"sha": "cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2YyNDkzNThlYWQxZGJlY2Q4MDlhYjQ3NjZlMGQxZGFjMjZmM2NiOA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2004-11-18T01:10:12Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2004-11-18T01:10:12Z"}, "message": "defaults.h, darwin.h: Don't define TARGET_SUPPORTS_HIDDEN.\n\n\t* defaults.h, config/darwin.h: Don't define TARGET_SUPPORTS_HIDDEN.\n\t* system.h: Poison it.\n\t* doc/tm.texi: Delete its documentation.\n\nFrom-SVN: r90840", "tree": {"sha": "6c6d9cfe38742347fc3e657a253bd1f6cdcf94ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c6d9cfe38742347fc3e657a253bd1f6cdcf94ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/comments", "author": null, "committer": null, "parents": [{"sha": "a8e68029244bf2bcafbb82c7419438d185dc4c5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8e68029244bf2bcafbb82c7419438d185dc4c5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8e68029244bf2bcafbb82c7419438d185dc4c5d"}], "stats": {"total": 34, "additions": 8, "deletions": 26}, "files": [{"sha": "1e2265ce8748e383979faa92141a350c703e8246", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "patch": "@@ -1,5 +1,11 @@\n+2004-11-17  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* defaults.h, config/darwin.h: Don't define TARGET_SUPPORTS_HIDDEN.\n+\t* system.h: Poison it.\n+\t* doc/tm.texi: Delete its documentation.\n+\n 2004-11-18  Daniel Jacobowitz  <dan@codesourcery.com>\n-            Mark Mitchell  <mark@codesourcery.com>\n+\t    Mark Mitchell  <mark@codesourcery.com>\n \n \t* config/i386/sol2-10.h, config/i386/t-sol2-10: New files.\n \t* config/i386/i386.c (i386_solaris_elf_named_section): New"}, {"sha": "a4d18281a185a46e49374a5a5dd8da248155d5c0", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "patch": "@@ -408,10 +408,6 @@ extern const char *darwin_fix_and_continue_switch;\n    links to, so there's no need for weak-ness for that.  */\n #define GTHREAD_USE_WEAK 0\n \n-/* We support hidden visibility */\n-#undef TARGET_SUPPORTS_HIDDEN\n-#define TARGET_SUPPORTS_HIDDEN 1\n-\n /* The Darwin linker imposes two limitations on common symbols: they \n    can't have hidden visibility, and they can't appear in dylibs.  As\n    a consequence, we should never use common symbols to represent "}, {"sha": "1e1bdc87e08a4222ed734a2be30978b1f2e38561", "filename": "gcc/defaults.h", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fdefaults.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fdefaults.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdefaults.h?ref=cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "patch": "@@ -270,17 +270,6 @@ do { fputs (integer_asm_op (POINTER_SIZE / BITS_PER_UNIT, TRUE), FILE); \\\n # endif\n #endif\n \n-/* This determines whether this target supports hidden visibility.\n-   This is a weaker condition than HAVE_GAS_HIDDEN, which probes for\n-   specific assembler syntax.  */\n-#ifndef TARGET_SUPPORTS_HIDDEN\n-# ifdef HAVE_GAS_HIDDEN\n-#  define TARGET_SUPPORTS_HIDDEN 1\n-# else\n-#  define TARGET_SUPPORTS_HIDDEN 0\n-# endif\n-#endif\n-\n /* Determines whether we may use common symbols to represent one-only\n    semantics (a.k.a. \"vague linkage\").  */\n #ifndef USE_COMMON_FOR_ONE_ONLY"}, {"sha": "afc029b19554a6b0958b2be224d9e7cadcb695b3", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "patch": "@@ -6839,15 +6839,6 @@ restrictions require weak symbols to be left out of a static archive's\n table of contents.\n @end defmac\n \n-@defmac TARGET_SUPPORTS_HIDDEN\n-A C expression that evaluates to true if the target supports hidden\n-visibility.  By default this expression is true if and only if\n-@code{HAS_GAS_HIDDEN} is defined.  Set this macro if the\n-@code{HAS_GAS_HIDDEN} macro gives the wrong answer for this\n-target.  (For example, if the target's mechanism for supporting\n-hidden visibility is not the same as GAS's.)\n-@end defmac\n-\n @defmac ASM_OUTPUT_EXTERNAL (@var{stream}, @var{decl}, @var{name})\n A C statement (sans semicolon) to output to the stdio stream\n @var{stream} any text necessary for declaring the name of an external"}, {"sha": "05b5150da76ee4e56b0f146c6f70634e95718348", "filename": "gcc/system.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf249358ead1dbecd809ab4766e0d1dac26f3cb8/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=cf249358ead1dbecd809ab4766e0d1dac26f3cb8", "patch": "@@ -614,7 +614,7 @@ extern void fancy_abort (const char *, int, const char *) ATTRIBUTE_NORETURN;\n \tDEFAULT_SHORT_ENUMS SPLIT_COMPLEX_ARGS MD_ASM_CLOBBERS\t\t\\\n \tHANDLE_PRAGMA_REDEFINE_EXTNAME HANDLE_PRAGMA_EXTERN_PREFIX\t\\\n \tMUST_PASS_IN_STACK FUNCTION_ARG_PASS_BY_REFERENCE               \\\n-        VECTOR_MODE_SUPPORTED_P\n+        VECTOR_MODE_SUPPORTED_P TARGET_SUPPORTS_HIDDEN\n \n /* Other obsolete target macros, or macros that used to be in target\n    headers and were not used, and may be obsolete or may never have"}]}