{"sha": "2cab2431d519b8ce951829624c882dd24485bde8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmNhYjI0MzFkNTE5YjhjZTk1MTgyOTYyNGM4ODJkZDI0NDg1YmRlOA==", "commit": {"author": {"name": "Ilya Leoshkevich", "email": "iii@linux.ibm.com", "date": "2020-09-02T16:00:35Z"}, "committer": {"name": "Ilya Leoshkevich", "email": "iii@linux.ibm.com", "date": "2020-09-16T12:16:34Z"}, "message": "IBM Z: Fix *vec_tf_to_v1tf constraints\n\nCertain alternatives of *vec_tf_to_v1tf use \"v\" constraint for its\nTFmode source operand.  Therefore it is assigned to VEC_REGS class,\nand when it is reloaded using *movtf_64, whose relevant alternatives\nneed FP_REGS, LRA loops and ICE happens.  The reason is that register\nclass mismatch causes LRA to emit another reload, which triggers this\nissue again.\n\nFix by using \"f\" constraint, which is more appropriate for FP register\npairs anyway.\n\ngcc/ChangeLog:\n\n2020-09-02  Ilya Leoshkevich  <iii@linux.ibm.com>\n\n\t* config/s390/vector.md(*vec_tf_to_v1tf): Use \"f\" instead of \"v\"\n\t  for the source operand.", "tree": {"sha": "18b7c7a43b77e73079d71e8048eb4209e0f90e83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18b7c7a43b77e73079d71e8048eb4209e0f90e83"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2cab2431d519b8ce951829624c882dd24485bde8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cab2431d519b8ce951829624c882dd24485bde8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cab2431d519b8ce951829624c882dd24485bde8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cab2431d519b8ce951829624c882dd24485bde8/comments", "author": {"login": "iii-i", "id": 45998171, "node_id": "MDQ6VXNlcjQ1OTk4MTcx", "avatar_url": "https://avatars.githubusercontent.com/u/45998171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iii-i", "html_url": "https://github.com/iii-i", "followers_url": "https://api.github.com/users/iii-i/followers", "following_url": "https://api.github.com/users/iii-i/following{/other_user}", "gists_url": "https://api.github.com/users/iii-i/gists{/gist_id}", "starred_url": "https://api.github.com/users/iii-i/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iii-i/subscriptions", "organizations_url": "https://api.github.com/users/iii-i/orgs", "repos_url": "https://api.github.com/users/iii-i/repos", "events_url": "https://api.github.com/users/iii-i/events{/privacy}", "received_events_url": "https://api.github.com/users/iii-i/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iii-i", "id": 45998171, "node_id": "MDQ6VXNlcjQ1OTk4MTcx", "avatar_url": "https://avatars.githubusercontent.com/u/45998171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iii-i", "html_url": "https://github.com/iii-i", "followers_url": "https://api.github.com/users/iii-i/followers", "following_url": "https://api.github.com/users/iii-i/following{/other_user}", "gists_url": "https://api.github.com/users/iii-i/gists{/gist_id}", "starred_url": "https://api.github.com/users/iii-i/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iii-i/subscriptions", "organizations_url": "https://api.github.com/users/iii-i/orgs", "repos_url": "https://api.github.com/users/iii-i/repos", "events_url": "https://api.github.com/users/iii-i/events{/privacy}", "received_events_url": "https://api.github.com/users/iii-i/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d66f83c25b1e37b5b6d60a368366269ff7c5260b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d66f83c25b1e37b5b6d60a368366269ff7c5260b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d66f83c25b1e37b5b6d60a368366269ff7c5260b"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2573b7d980abe5b6d671572cc91443863d73e111", "filename": "gcc/config/s390/vector.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cab2431d519b8ce951829624c882dd24485bde8/gcc%2Fconfig%2Fs390%2Fvector.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cab2431d519b8ce951829624c882dd24485bde8/gcc%2Fconfig%2Fs390%2Fvector.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fvector.md?ref=2cab2431d519b8ce951829624c882dd24485bde8", "patch": "@@ -567,7 +567,7 @@\n ; single vector register.\n (define_insn \"*vec_tf_to_v1tf\"\n   [(set (match_operand:V1TF                   0 \"nonimmediate_operand\" \"=v,v,R,v,v\")\n-\t(vec_duplicate:V1TF (match_operand:TF 1 \"general_operand\"       \"v,R,v,G,d\")))]\n+\t(vec_duplicate:V1TF (match_operand:TF 1 \"general_operand\"       \"f,R,f,G,d\")))]\n   \"TARGET_VX\"\n   \"@\n    vmrhg\\t%v0,%1,%N1"}]}