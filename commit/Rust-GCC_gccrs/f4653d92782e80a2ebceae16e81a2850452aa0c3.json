{"sha": "f4653d92782e80a2ebceae16e81a2850452aa0c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ2NTNkOTI3ODJlODBhMmViY2VhZTE2ZTgxYTI4NTA0NTJhYTBjMw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-07-21T09:17:26Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-07-21T09:17:26Z"}, "message": "Remove old-abi tests.\n\n\t* g++.old-deja/g++.mike/p11116.C: Remove.\n\t* g++.old-deja/g++.eh/catchptr1.C: Remove old-abi ifdef.\n\nFrom-SVN: r44226", "tree": {"sha": "d2a5062bad499cae6470bf8365111bcbe0f0af30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2a5062bad499cae6470bf8365111bcbe0f0af30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4653d92782e80a2ebceae16e81a2850452aa0c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4653d92782e80a2ebceae16e81a2850452aa0c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4653d92782e80a2ebceae16e81a2850452aa0c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4653d92782e80a2ebceae16e81a2850452aa0c3/comments", "author": null, "committer": null, "parents": [{"sha": "06dff162a868fd624d4ff20a1d2a24a3bfdc6323", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06dff162a868fd624d4ff20a1d2a24a3bfdc6323", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06dff162a868fd624d4ff20a1d2a24a3bfdc6323"}], "stats": {"total": 43, "additions": 6, "deletions": 37}, "files": [{"sha": "0a35d48eacb55655d68680c8f051107f51cc48d2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4653d92782e80a2ebceae16e81a2850452aa0c3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4653d92782e80a2ebceae16e81a2850452aa0c3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f4653d92782e80a2ebceae16e81a2850452aa0c3", "patch": "@@ -1,3 +1,9 @@\n+2001-07-21  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tRemove old-abi tests.\n+\t* g++.old-deja/g++.mike/p11116.C: Remove.\n+\t* g++.old-deja/g++.eh/catchptr1.C: Remove old-abi ifdef.\n+\n 2001-07-20  David Billinghurst <David.Billinghurst@riotinto.org>\n \n \t* g77.f-torture/compile/pr3743.f:  New test"}, {"sha": "723b437d7ed1369720c4baaf9504ca07eada4031", "filename": "gcc/testsuite/g++.old-deja/g++.eh/catchptr1.C", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4653d92782e80a2ebceae16e81a2850452aa0c3/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Fcatchptr1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4653d92782e80a2ebceae16e81a2850452aa0c3/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Fcatchptr1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Fcatchptr1.C?ref=f4653d92782e80a2ebceae16e81a2850452aa0c3", "patch": "@@ -184,8 +184,6 @@ int test7 ()\n \n int test8 ()\n {\n-#if defined (__GXX_ABI_VERSION) && __GXX_ABI_VERSION >= 100\n-// old-abi fails this test, by segfaulting in the runtime.\n   try\n     {\n       throw (B **)0;\n@@ -203,14 +201,10 @@ int test8 ()\n       return 2;\n     }\n   return -1;\n-#endif\n-  return 0;\n }\n \n int test9 ()\n {\n-#if defined (__GXX_ABI_VERSION) && __GXX_ABI_VERSION >= 100\n-// old-abi fails this test, by segfaulting in the runtime.\n   try\n     {\n       throw (B **)0;\n@@ -228,8 +222,6 @@ int test9 ()\n       return 2;\n     }\n   return -1;\n-#endif\n-  return 0;\n }\n \n static int (*tests[])() ="}, {"sha": "ed670a1ac71170b31aada51cbc4554c00e64d92c", "filename": "gcc/testsuite/g++.old-deja/g++.mike/p11116.C", "status": "removed", "additions": 0, "deletions": 29, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06dff162a868fd624d4ff20a1d2a24a3bfdc6323/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp11116.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06dff162a868fd624d4ff20a1d2a24a3bfdc6323/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp11116.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp11116.C?ref=06dff162a868fd624d4ff20a1d2a24a3bfdc6323", "patch": "@@ -1,29 +0,0 @@\n-// Build don't link:\n-// Special g++ Options: -Wno-pmf-conversions\n-// prms-id: 11116\n-\n-#if defined (__GXX_ABI_VERSION) && __GXX_ABI_VERSION >= 100\n-// This test tests the rather strange property afforded one by G++ to\n-// peek inside a pointer-to-member, as if it were a structure.  We\n-// probably shouldn't allow that.  In any case, under the new ABI,\n-// the fields don't have the same names.\n-#else\n-class Bar {\n-public:\n-  int f(int a) { val = a; return val; }\n-private:\n-  int val;\n-};\n-\n-typedef int (Bar::*BarPtr)(int);\n-\n-void foo() {\n-  int a;\n-  int (Bar::*bp)(int) = &Bar::f;\n-  Bar bar;\n-  int (*p)(void *, int);\n-\n-  p = (int (*)(void*,int))((void (*)())((bp).__pfn_or_delta2.__pfn));\n-  a = (*p)(&bar, 4);\n-}\n-#endif"}]}