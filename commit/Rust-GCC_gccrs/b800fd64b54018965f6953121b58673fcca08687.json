{"sha": "b800fd64b54018965f6953121b58673fcca08687", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgwMGZkNjRiNTQwMTg5NjVmNjk1MzEyMWI1ODY3M2ZjY2EwODY4Nw==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2008-11-16T12:00:44Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2008-11-16T12:00:44Z"}, "message": "re PR fortran/37926 (Program gives wrong output (connected to char len))\n\n2008-11-16  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/37926\n\t* trans-expr.c (gfc_free_interface_mapping): Null sym->formal\n\t(gfc_add_interface_mapping): Copy the pointer to the formal\n\targlist, rather than using copy_formal_args.\n\nFrom-SVN: r141914", "tree": {"sha": "c2fcc0b76322c1e52d199636a9de594873b232d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2fcc0b76322c1e52d199636a9de594873b232d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b800fd64b54018965f6953121b58673fcca08687", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b800fd64b54018965f6953121b58673fcca08687", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b800fd64b54018965f6953121b58673fcca08687", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b800fd64b54018965f6953121b58673fcca08687/comments", "author": null, "committer": null, "parents": [{"sha": "e66e5d9e4079b7a44fcdd963838218812cfb534e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e66e5d9e4079b7a44fcdd963838218812cfb534e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e66e5d9e4079b7a44fcdd963838218812cfb534e"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "ca9f86576b42cfeac90a8c3986aea03955a82631", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b800fd64b54018965f6953121b58673fcca08687/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b800fd64b54018965f6953121b58673fcca08687/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b800fd64b54018965f6953121b58673fcca08687", "patch": "@@ -1,3 +1,10 @@\n+2008-11-16  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/37926\n+\t* trans-expr.c (gfc_free_interface_mapping): Null sym->formal\n+\t(gfc_add_interface_mapping): Copy the pointer to the formal\n+\targlist, rather than using copy_formal_args - fixes regression.\n+\n 2008-11-15  Paul Thomas  <pault@gcc.gnu.org>\n \n         PR fortran/37926"}, {"sha": "2e148f2c765a6bec29d7a9786b09a936cc7e23f9", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b800fd64b54018965f6953121b58673fcca08687/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b800fd64b54018965f6953121b58673fcca08687/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=b800fd64b54018965f6953121b58673fcca08687", "patch": "@@ -1583,6 +1583,7 @@ gfc_free_interface_mapping (gfc_interface_mapping * mapping)\n   for (sym = mapping->syms; sym; sym = nextsym)\n     {\n       nextsym = sym->next;\n+      sym->new_sym->n.sym->formal = NULL;\n       gfc_free_symbol (sym->new_sym->n.sym);\n       gfc_free_expr (sym->expr);\n       gfc_free (sym->new_sym);\n@@ -1715,7 +1716,7 @@ gfc_add_interface_mapping (gfc_interface_mapping * mapping,\n      descriptors are passed for array actual arguments.  */\n   if (sym->attr.flavor == FL_PROCEDURE)\n     {\n-      copy_formal_args (new_sym, expr->symtree->n.sym);\n+      new_sym->formal = expr->symtree->n.sym->formal;\n       new_sym->attr.always_explicit\n \t    = expr->symtree->n.sym->attr.always_explicit;\n     }"}]}