{"sha": "228ae4702ca5dde9464e8f6f190deb639a59612b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI4YWU0NzAyY2E1ZGRlOTQ2NGU4ZjZmMTkwZGViNjM5YTU5NjEyYg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2015-10-01T10:06:27Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2015-10-01T10:06:27Z"}, "message": "pr65105-1.c: Require sse2 effective target.\n\n\t* gcc.target/i386/pr65105-1.c: Require sse2 effective target.\n\t(main): Rename to sse2_test.  Abort if count != 5.\n\t(dg-options): Add -save-temps.  Use \"-msse2 -mtune=slm\" instead\n\tof -march=slm.\n\t* gcc.target/i386/pr46865-2.c (dg-options): Remove -save-temps.\n\nFrom-SVN: r228326", "tree": {"sha": "97b77216e61d8588f7a37d3ab50acb2339cb6c73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/97b77216e61d8588f7a37d3ab50acb2339cb6c73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/228ae4702ca5dde9464e8f6f190deb639a59612b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/228ae4702ca5dde9464e8f6f190deb639a59612b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/228ae4702ca5dde9464e8f6f190deb639a59612b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/228ae4702ca5dde9464e8f6f190deb639a59612b/comments", "author": null, "committer": null, "parents": [{"sha": "295bdf5c3b7c3d29000b2624e477f756e74e8721", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/295bdf5c3b7c3d29000b2624e477f756e74e8721", "html_url": "https://github.com/Rust-GCC/gccrs/commit/295bdf5c3b7c3d29000b2624e477f756e74e8721"}], "stats": {"total": 136, "additions": 73, "deletions": 63}, "files": [{"sha": "11ea8b35836211c4493c6721f7f34bbe2d3fe396", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 63, "deletions": 58, "changes": 121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/228ae4702ca5dde9464e8f6f190deb639a59612b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/228ae4702ca5dde9464e8f6f190deb639a59612b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=228ae4702ca5dde9464e8f6f190deb639a59612b", "patch": "@@ -1,3 +1,11 @@\n+2015-10-01  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* gcc.target/i386/pr65105-1.c: Require sse2 effective target.\n+\t(main): Rename to sse2_test.  Abort if count != 5.\n+\t(dg-options): Add -save-temps.  Use \"-msse2 -mtune=slm\" instead\n+\tof -march=slm.\n+\t* gcc.target/i386/pr46865-2.c (dg-options): Remove -save-temps.\n+\n 2015-10-01  Richard Biener  <rguenther@suse.de>\n \n \t* gcc.dg/tree-ssa/ssa-fre-7.c: Adjust.\n@@ -38,14 +46,12 @@\n \n 2015-09-30  Christophe Lyon  <christophe.lyon@linaro.org>\n \n-\t* g++.dg/cpp0x/stdint.C: Move dg-require-effective-target after\n-\tdg-do.\n+\t* g++.dg/cpp0x/stdint.C: Move dg-require-effective-target after dg-do.\n \t* g++.dg/gomp/tls-wrap4.C: Likewise.\n \t* gcc.dg/atomic-op-optimize.c: Likewise.\n \t* gcc.dg/pr54087.c: Likewise.\n \t* gcc.dg/tls/section-2.c: Likewise.\n-\t* gcc.dg/vect/costmodel/ppc/costmodel-bb-slp-9a-pr63175.c:\n-\tLikewise.\n+\t* gcc.dg/vect/costmodel/ppc/costmodel-bb-slp-9a-pr63175.c: Likewise.\n \t* gcc.dg/vect/costmodel/ppc/costmodel-pr37194.c: Likewise.\n \t* gcc.dg/vect/trapv-vect-reduc-4.c: Likewise.\n \t* gcc.target/arm/divzero.c: Likewise.\n@@ -67,8 +73,8 @@\n \n 2015-09-29  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n-\tgfortran.dg/ieee/ieee_4.f90: xfail on i386-*-freebsd*\n-\tgfortran.dg/round_4.f90: ditto.\n+\t* gfortran.dg/ieee/ieee_4.f90: xfail on i386-*-freebsd*\n+\t* gfortran.dg/round_4.f90: ditto.\n \n 2015-09-29  Richard Biener  <rguenther@suse.de>\n \n@@ -120,7 +126,7 @@\n 2015-09-28  Aditya Kumar  <aditya.k7@samsung.com>\n \t    Sebastian Pop  <s.pop@samsung.com>\n \n-\t* gcc/testsuite/gcc.dg/graphite/run-id-pr67700-1.c: New test case.\n+\t* gcc.dg/graphite/run-id-pr67700-1.c: New test case.\n \t* gcc.dg/graphite/block-1.c: Modified to match the pattern.\n \t* gcc.dg/graphite/block-3.c: Same.\n \t* gcc.dg/graphite/block-4.c: Same.\n@@ -162,7 +168,7 @@\n \t    Sebastian Pop  <s.pop@samsung.com>\n \n \tPR tree-optimization/67700\n-\t* testsuite/gcc.dg/graphite/run-id-pr67700.c: New.\n+\t* gcc.dg/graphite/run-id-pr67700.c: New.\n \n 2015-09-28  Oleg Endo  <olegendo@gcc.gnu.org>\n \n@@ -1243,19 +1249,19 @@\n \n 2015-08-28  Nathan Sidwell  <nathan@acm.org>\n \n-\t* gcc/testsuite/gcc.dg/compat/struct-layout-1_generate.c: Simply\n+\t* gcc.dg/compat/struct-layout-1_generate.c: Simply\n \tuse exit code for failure.\n \n-\t* gcc/testsuite/gcc.dg/torture/matrix-1.c: Use plain printf.\n-\t* gcc/testsuite/gcc.dg/torture/matrix-2.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/matrix-5.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/matrix-6.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/transpose-1.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/transpose-2.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/transpose-3.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/transpose-4.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/transpose-5.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/transpose-6.c: Likewise.\n+\t* gcc.dg/torture/matrix-1.c: Use plain printf.\n+\t* gcc.dg/torture/matrix-2.c: Likewise.\n+\t* gcc.dg/torture/matrix-5.c: Likewise.\n+\t* gcc.dg/torture/matrix-6.c: Likewise.\n+\t* gcc.dg/torture/transpose-1.c: Likewise.\n+\t* gcc.dg/torture/transpose-2.c: Likewise.\n+\t* gcc.dg/torture/transpose-3.c: Likewise.\n+\t* gcc.dg/torture/transpose-4.c: Likewise.\n+\t* gcc.dg/torture/transpose-5.c: Likewise.\n+\t* gcc.dg/torture/transpose-6.c: Likewise.\n \n 2015-08-28  Jeff Law  <law@redhat.com>\n \n@@ -1440,38 +1446,37 @@\n \n 2015-08-24  Nathan Sidwell  <nathan@acm.org>\n \n-\t* gcc/testsuite/gcc.dg/pr49551.c: Needs -fdata-sections.\n+\t* gcc.dg/pr49551.c: Needs -fdata-sections.\n \n-\t* gcc/testsuite/gcc.dg/pr64935-2.c: Needs scheduling.\n+\t* gcc.dg/pr64935-2.c: Needs scheduling.\n \n-\t* gcc/testsuite/gcc.dg/torture/pr66101.c: Needs nonlocal goto.\n-\t* gcc/testsuite/gcc.dg/torture/pr63738.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/torture/pr64728.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/pr63748.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/20020312-2.c: Likewise.\n+\t* gcc.dg/torture/pr66101.c: Needs nonlocal goto.\n+\t* gcc.dg/torture/pr63738.c: Likewise.\n+\t* gcc.dg/torture/pr64728.c: Likewise.\n+\t* gcc.dg/pr63748.c: Likewise.\n+\t* gcc.dg/20020312-2.c: Likewise.\n \n-\t* gcc/testsuite/gcc.dg/torture/pr66123.c: Needs label_values.\n+\t* gcc.dg/torture/pr66123.c: Needs label_values.\n \n-\t* gcc/testsuite/gcc.dg/torture/pr41261.c: Needs profiling.\n-\t* gcc/testsuite/gcc.dg/pr26570.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/pr61776.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/tree-ssa/ssa-lim-11.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/gomp/pr34610.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/pr54121.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/20050325-1.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/pr66899.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/pr48770.c: Likewise.\n-\t* gcc/testsuite/gcc.dg/pr24225.c: Likewise.\n+\t* gcc.dg/torture/pr41261.c: Needs profiling.\n+\t* gcc.dg/pr26570.c: Likewise.\n+\t* gcc.dg/pr61776.c: Likewise.\n+\t* gcc.dg/tree-ssa/ssa-lim-11.c: Likewise.\n+\t* gcc.dg/gomp/pr34610.c: Likewise.\n+\t* gcc.dg/pr54121.c: Likewise.\n+\t* gcc.dg/20050325-1.c: Likewise.\n+\t* gcc.dg/pr66899.c: Likewise.\n+\t* gcc.dg/pr48770.c: Likewise.\n+\t* gcc.dg/pr24225.c: Likewise.\n \n-\t* gcc/testsuite/gcc.dg/pr27531-1.c: Needs io.\n-\t* gcc/testsuite/gcc.dg/pr44606.c: Likewise.\n+\t* gcc.dg/pr27531-1.c: Needs io.\n+\t* gcc.dg/pr44606.c: Likewise.\n \n-\t* gcc/testsuite/gcc.dg/tree-ssa/nonzero-1.c: Needs weak.\n+\t* gcc.dg/tree-ssa/nonzero-1.c: Needs weak.\n \n-\t* gcc/testsuite/gcc.dg/pr51990.c: Needs alloca.\n+\t* gcc.dg/pr51990.c: Needs alloca.\n \n-\t* gcc/testsuite/gcc.misc-tests/options.exp: Disable profiling\n-\tcheck for nvptx.\n+\t* gcc.misc-tests/options.exp: Disable profiling check for nvptx.\n \n 2015-08-24  Tom de Vries  <tom@codesourcery.com>\n \n@@ -4492,7 +4497,7 @@\n \n 2015-06-10  Uros Bizjak  <ubizjak@gmail.com>\n \n-\t* g++.dg/abi/mangle-regparm.C (dg-optiond): Add -save-temps.\n+\t* g++.dg/abi/mangle-regparm.C (dg-options): Add -save-temps.\n \n 2015-06-10  Uros Bizjak  <ubizjak@gmail.com>\n \n@@ -4714,10 +4719,10 @@\n \n 2015-06-04  Sriraman Tallam  <tmsriram@google.com>\n \n-\t* testsuite/gcc.target/i386/noplt-1.c: New test.\n-\t* testsuite/gcc.target/i386/noplt-2.c: New test.\n-\t* testsuite/gcc.target/i386/noplt-3.c: New test.\n-\t* testsuite/gcc.target/i386/noplt-4.c: New test.\n+\t* gcc.target/i386/noplt-1.c: New test.\n+\t* gcc.target/i386/noplt-2.c: New test.\n+\t* gcc.target/i386/noplt-3.c: New test.\n+\t* gcc.target/i386/noplt-4.c: New test.\n \n 2015-06-04  Thomas Koenig  <tkoenig@netcologne.de>\n \n@@ -6041,14 +6046,14 @@\n \n \tPR c/65179\n \t* c-c++-common/Wshift-negative-value-1.c: New test.\n-\t* testsuite/c-c++-common/Wshift-negative-value-2.c: New test.\n-\t* testsuite/c-c++-common/Wshift-negative-value-3.c: New test.\n-\t* testsuite/c-c++-common/Wshift-negative-value-4.c: New test.\n-\t* testsuite/c-c++-common/Wshift-negative-value-5.c: New test.\n-\t* testsuite/c-c++-common/Wshift-negative-value-6.c: New test.\n-\t* testsuite/gcc.dg/c90-left-shift-1.c: New test.\n-\t* testsuite/gcc.dg/c99-const-expr-7.c: Add dg-error.\n-\t* testsuite/gcc.dg/c99-left-shift-1.c: New test.\n+\t* c-c++-common/Wshift-negative-value-2.c: New test.\n+\t* c-c++-common/Wshift-negative-value-3.c: New test.\n+\t* c-c++-common/Wshift-negative-value-4.c: New test.\n+\t* c-c++-common/Wshift-negative-value-5.c: New test.\n+\t* c-c++-common/Wshift-negative-value-6.c: New test.\n+\t* gcc.dg/c90-left-shift-1.c: New test.\n+\t* gcc.dg/c99-const-expr-7.c: Add dg-error.\n+\t* gcc.dg/c99-left-shift-1.c: New test.\n \n 2015-05-07  Segher Boessenkool  <segher@kernel.crashing.org>\n \n@@ -8955,8 +8960,8 @@\n 2015-02-20  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR testsuite/64158\n-\t* gcc.dg/pr44194-1.c: Add two extra {} pairs to fix up powerpc*-*-linux*\n-\tand nvptx-*-* blacklisting.\n+\t* gcc.dg/pr44194-1.c: Add two extra {} pairs to fix up\n+\tpowerpc*-*-linux* and nvptx-*-* blacklisting.\n \n \t* gcc.dg/sibcall-9.c: New test.\n \t* gcc.dg/sibcall-10.c: New test."}, {"sha": "220a1c0778bbc8eaca6d2521eb7ea1133159c246", "filename": "gcc/testsuite/gcc.target/i386/pr46865-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/228ae4702ca5dde9464e8f6f190deb639a59612b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46865-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/228ae4702ca5dde9464e8f6f190deb639a59612b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46865-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46865-2.c?ref=228ae4702ca5dde9464e8f6f190deb639a59612b", "patch": "@@ -1,6 +1,6 @@\n /* PR rtl-optimization/46865 */\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps\" } */\n+/* { dg-options \"-O2\" } */\n \n extern unsigned long f;\n "}, {"sha": "de91a20e238ba9f2135952d171e2e35cf4269f2f", "filename": "gcc/testsuite/gcc.target/i386/pr65105-1.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/228ae4702ca5dde9464e8f6f190deb639a59612b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65105-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/228ae4702ca5dde9464e8f6f190deb639a59612b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65105-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65105-1.c?ref=228ae4702ca5dde9464e8f6f190deb639a59612b", "patch": "@@ -1,9 +1,12 @@\n /* PR target/pr65105 */\n /* { dg-do run { target { ia32 } } } */\n-/* { dg-options \"-O2 -march=slm\" } */\n+/* { dg-options \"-O2 -msse2 -mtune=slm -save-temps\" } */\n+/* { dg-require-effective-target sse2 } */\n /* { dg-final { scan-assembler \"por\" } } */\n /* { dg-final { scan-assembler \"pand\" } } */\n \n+#include \"sse2-check.h\"\n+\n #include \"stdlib.h\"\n \n static int count = 0;\n@@ -40,11 +43,13 @@ fill_data (long long *arr)\n   arr[5] = 0xff000000L;\n }\n \n-int\n-main (int argc, const char **argv)\n+static void\n+sse2_test (void)\n {\n   long long arr[6];\n   fill_data (arr);\n   test (arr);\n-  return count - 5;\n+\n+  if (count != 5)\n+    __builtin_abort ();\n }"}]}