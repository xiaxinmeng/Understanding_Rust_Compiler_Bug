{"sha": "b125fe15d745572a8fbcde73996bf82037130253", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjEyNWZlMTVkNzQ1NTcyYThmYmNkZTczOTk2YmY4MjAzNzEzMDI1Mw==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2009-07-28T08:21:57Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-28T08:21:57Z"}, "message": "prj-nmsc.adb, [...]: Minor reformatting\n\n2009-07-28  Robert Dewar  <dewar@adacore.com>\n\n\t* prj-nmsc.adb, g-expect.adb, prj.ads: Minor reformatting\n\nFrom-SVN: r150148", "tree": {"sha": "a090d3564524b89c37339b0bc298736b3fce2272", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a090d3564524b89c37339b0bc298736b3fce2272"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b125fe15d745572a8fbcde73996bf82037130253", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b125fe15d745572a8fbcde73996bf82037130253", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b125fe15d745572a8fbcde73996bf82037130253", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b125fe15d745572a8fbcde73996bf82037130253/comments", "author": null, "committer": null, "parents": [{"sha": "056b0f6f80112c19254a0c265d52720d299c65bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/056b0f6f80112c19254a0c265d52720d299c65bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/056b0f6f80112c19254a0c265d52720d299c65bc"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "a8df543262935c311bbc6b4a7920de740f06dc35", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=b125fe15d745572a8fbcde73996bf82037130253", "patch": "@@ -1,3 +1,7 @@\n+2009-07-28  Robert Dewar  <dewar@adacore.com>\n+\n+\t* prj-nmsc.adb, g-expect.adb, prj.ads: Minor reformatting\n+\n 2009-07-28  Sergey Rybin  <rybin@adacore.com>\n \n \t* gnat_ugn.texi: Add section about gnatcheck rule exemption."}, {"sha": "02bc6cf8a79c2abc5dc4fffcea5179d4043e450f", "filename": "gcc/ada/g-expect.adb", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2Fg-expect.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2Fg-expect.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-expect.adb?ref=b125fe15d745572a8fbcde73996bf82037130253", "patch": "@@ -1196,15 +1196,18 @@ package body GNAT.Expect is\n       pragma Warnings (Off, Pipe3);\n \n       On_Windows : constant Boolean := Directory_Separator = '\\';\n+      --  This is ugly, we need a better way of doing this test ???\n \n       Input  : File_Descriptor;\n       Output : File_Descriptor;\n       Error  : File_Descriptor;\n \n    begin\n       if On_Windows then\n+\n          --  Since Windows does not have a separate fork/exec, we need to\n          --  perform the following actions:\n+\n          --    - save stdin, stdout, stderr\n          --    - replace them by our pipes\n          --    - create the child with process handle inheritance"}, {"sha": "75e4c6ea7174ca4eefae61a578b6200e96d5f9f7", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=b125fe15d745572a8fbcde73996bf82037130253", "patch": "@@ -730,13 +730,14 @@ package body Prj.Nmsc is\n       Id.File                := File_Name;\n       Id.Display_File        := Display_File;\n       Id.Dep_Name            := Dependency_Name\n-                               (File_Name, Lang_Id.Config.Dependency_Kind);\n+                                  (File_Name, Lang_Id.Config.Dependency_Kind);\n       Id.Naming_Exception    := Naming_Exception;\n \n       --  Add the source id to the Unit_Sources_HT hash table, if the unit name\n       --  is not null.\n \n       if Unit /= No_Name then\n+\n          --  Note: we might be creating a dummy unit here, when we in fact have\n          --  a separate. For instance, file file-bar.adb will initially be\n          --  assumed to be the IMPL of unit \"file.bar\". Only later on (in"}, {"sha": "53229fd89e0d02c239f0fce9f31194bf2150022a", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b125fe15d745572a8fbcde73996bf82037130253/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=b125fe15d745572a8fbcde73996bf82037130253", "patch": "@@ -600,17 +600,24 @@ package Prj is\n    type Source_Kind is (Spec, Impl, Sep);\n    subtype Spec_Or_Body is Source_Kind range Spec .. Impl;\n \n+   --  The following declarations declare a structure used to store the Name\n+   --  and File and Path names of a unit, with a reference to its GNAT Project\n+   --  File(s). Some units might have neither Spec nor Impl when they were\n+   --  created for a \"separate\".\n+\n    type File_Names_Data is array (Spec_Or_Body) of Source_Id;\n+\n    type Unit_Data is record\n       Name       : Name_Id := No_Name;\n       File_Names : File_Names_Data;\n    end record;\n+\n    type Unit_Index is access all Unit_Data;\n+\n    No_Unit_Index : constant Unit_Index := null;\n-   --  Name and File and Path names of a unit, with a reference to its\n-   --  GNAT Project File(s).\n-   --  Some units might have neither Spec nor Impl when they were created for\n-   --  a \"separate\".\n+   --  Used to indicate a null entry for no unit\n+\n+   --  Structure to define source data\n \n    type Source_Data is record\n       Project                : Project_Id          := No_Project;\n@@ -627,7 +634,7 @@ package Prj is\n       Declared_In_Interfaces : Boolean             := False;\n       --  True when source is declared in attribute Interfaces\n \n-      Alternate_Languages    : Language_List;\n+      Alternate_Languages    : Language_List       := null;\n       --  List of languages a header file may also be, in addition of language\n       --  Language_Name.\n "}]}