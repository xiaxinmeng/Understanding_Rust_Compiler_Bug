{"sha": "57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdmYzYyY2IzMjZhYjkxM2Q3ZWVmNmQwYWMwY2Q3Nzg4ZWRkMTc5Nw==", "commit": {"author": {"name": "Zhenqiang Chen", "email": "zhenqiang.chen@linaro.org", "date": "2012-10-19T09:24:39Z"}, "committer": {"name": "Xuepeng Guo", "email": "xguo@gcc.gnu.org", "date": "2012-10-19T09:24:39Z"}, "message": "re PR target/54892 (, ICE in extract_insn, at recog.c:2123)\n\n\tgcc/ChangeLog\n\tPR target/54892\n\t* config/arm/arm.c (arm_expand_compare_and_swap): Use SImode to make\n\tsure the mode is correct when falling through from above cases.\n\n\tgcc/testsuite/ChangeLog\n\tPR target/54892\n\t* gcc.target/arm/pr54892.c: New.\n\nFrom-SVN: r192609", "tree": {"sha": "8919ecc2537c84ca7a9c3e262c47f0ad343aff1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8919ecc2537c84ca7a9c3e262c47f0ad343aff1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/comments", "author": null, "committer": null, "parents": [{"sha": "c8379865b38e7dfdd18d1aa64bb95ed76c7b54f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8379865b38e7dfdd18d1aa64bb95ed76c7b54f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8379865b38e7dfdd18d1aa64bb95ed76c7b54f0"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "cdba3366b0098dcd341e921c7836a3e057432c82", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "patch": "@@ -1,3 +1,9 @@\n+2012-10-19  Zhenqiang Chen <zhenqiang.chen@linaro.org>\n+\n+\tPR target/54892\n+\t* config/arm/arm.c (arm_expand_compare_and_swap): Use SImode to make\n+\tsure the mode is correct when falling through from above cases.\n+\n 2012-10-19  Bin Cheng  <bin.cheng@arm.com>\n \n \t* common.opt (flag_ira_hoist_pressure): New."}, {"sha": "11f793d5d77730340ad2685bddaaf9562c2fba8b", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "patch": "@@ -25447,8 +25447,8 @@ arm_expand_compare_and_swap (rtx operands[])\n     case SImode:\n       /* Force the value into a register if needed.  We waited until after\n \t the zero-extension above to do this properly.  */\n-      if (!arm_add_operand (oldval, mode))\n-\toldval = force_reg (mode, oldval);\n+      if (!arm_add_operand (oldval, SImode))\n+\toldval = force_reg (SImode, oldval);\n       break;\n \n     case DImode:"}, {"sha": "4af8265d80d3574f122c0b55766b43b767a5944b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "patch": "@@ -1,3 +1,8 @@\n+2012-10-19  Zhenqiang Chen <zhenqiang.chen@linaro.org>\n+\n+\tPR target/54892\n+\t* gcc.target/arm/pr54892.c: New.\n+\n 2012-10-19  Bin Cheng  <bin.cheng@arm.com>\n \n \t* testsuite/gcc.dg/hoist-register-pressure.c: New test."}, {"sha": "a7fe1bc66761e7c94472fb72514a82d988ef71de", "filename": "gcc/testsuite/gcc.target/arm/pr54892.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr54892.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57fc62cb326ab913d7eef6d0ac0cd7788edd1797/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr54892.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr54892.c?ref=57fc62cb326ab913d7eef6d0ac0cd7788edd1797", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-do compile } */\n+\n+int set_role(unsigned char role_id, short m_role)\n+{\n+  return __sync_bool_compare_and_swap(&m_role, -1, role_id);\n+}\n+"}]}