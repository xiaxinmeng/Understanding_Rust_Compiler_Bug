{"sha": "18d2ada84b8b162ba6961d18d9db3b743e17db32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThkMmFkYTg0YjhiMTYyYmE2OTYxZDE4ZDlkYjNiNzQzZTE3ZGIzMg==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2016-11-15T17:14:32Z"}, "committer": {"name": "Alexander Monakov", "email": "amonakov@gcc.gnu.org", "date": "2016-11-15T17:14:32Z"}, "message": "libgomp testsuite: add missing map clauses\n\n\t* testsuite/libgomp.fortran/examples-4/device-1.f90 (e_57_1): Add\n\tmapping clauses to target constructs.\n\t* testsuite/libgomp.fortran/examples-4/device-3.f90 (e_57_3): Ditto.\n\n\nCo-Authored-By: Alexander Monakov <amonakov@ispras.ru>\n\nFrom-SVN: r242436", "tree": {"sha": "bb748ab4e2514fc5c9361eb649ccfd2d0630775e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb748ab4e2514fc5c9361eb649ccfd2d0630775e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18d2ada84b8b162ba6961d18d9db3b743e17db32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18d2ada84b8b162ba6961d18d9db3b743e17db32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18d2ada84b8b162ba6961d18d9db3b743e17db32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18d2ada84b8b162ba6961d18d9db3b743e17db32/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5a65a911cccb7d9491ee529b687d9a2fb526ab9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a65a911cccb7d9491ee529b687d9a2fb526ab9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a65a911cccb7d9491ee529b687d9a2fb526ab9d"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "a982c3afef43ad6fe3960d5a57e7d7895d84052b", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d2ada84b8b162ba6961d18d9db3b743e17db32/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d2ada84b8b162ba6961d18d9db3b743e17db32/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=18d2ada84b8b162ba6961d18d9db3b743e17db32", "patch": "@@ -1,3 +1,10 @@\n+2016-11-15  Martin Jambor  <mjambor@suse.cz>\n+            Alexander Monakov  <amonakov@ispras.ru>\n+\n+\t* testsuite/libgomp.fortran/examples-4/device-1.f90 (e_57_1): Add\n+\tmapping clauses to target constructs.\n+\t* testsuite/libgomp.fortran/examples-4/device-3.f90 (e_57_3): Ditto.\n+\n 2016-11-15  Matthias Klose  <doko@ubuntu.com>\n \n \t* configure: Regenerate."}, {"sha": "30148f1b20023430ee1481692073f088bb04310c", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/device-1.f90", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d2ada84b8b162ba6961d18d9db3b743e17db32/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d2ada84b8b162ba6961d18d9db3b743e17db32/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-1.f90?ref=18d2ada84b8b162ba6961d18d9db3b743e17db32", "patch": "@@ -9,12 +9,12 @@ program e_57_1\n   a = 100\n   b = 0\n \n-  !$omp target if(a > 200 .and. a < 400)\n+  !$omp target map(from: c) if(a > 200 .and. a < 400)\n     c = omp_is_initial_device ()\n   !$omp end target\n \n   !$omp target data map(to: b) if(a > 200 .and. a < 400)\n-    !$omp target\n+    !$omp target map(from: b, d)\n       b = 100\n       d = omp_is_initial_device ()\n     !$omp end target\n@@ -25,12 +25,12 @@ program e_57_1\n   a = a + 200\n   b = 0\n \n-  !$omp target if(a > 200 .and. a < 400)\n+  !$omp target map(from: c) if(a > 200 .and. a < 400)\n     c = omp_is_initial_device ()\n   !$omp end target\n \n   !$omp target data map(to: b) if(a > 200 .and. a < 400)\n-    !$omp target\n+    !$omp target map(from: b, d)\n       b = 100\n       d = omp_is_initial_device ()\n     !$omp end target\n@@ -41,12 +41,12 @@ program e_57_1\n   a = a + 200\n   b = 0\n \n-  !$omp target if(a > 200 .and. a < 400)\n+  !$omp target map(from: c) if(a > 200 .and. a < 400)\n     c = omp_is_initial_device ()\n   !$omp end target\n \n   !$omp target data map(to: b) if(a > 200 .and. a < 400)\n-    !$omp target\n+    !$omp target map(from: b, d)\n       b = 100\n       d = omp_is_initial_device ()\n     !$omp end target"}, {"sha": "d770b910e1a0d75f927b495bbcdeb916e2405704", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/device-3.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d2ada84b8b162ba6961d18d9db3b743e17db32/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d2ada84b8b162ba6961d18d9db3b743e17db32/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-3.f90?ref=18d2ada84b8b162ba6961d18d9db3b743e17db32", "patch": "@@ -8,13 +8,13 @@ program e_57_3\n   integer :: default_device\n \n   default_device = omp_get_default_device ()\n-  !$omp target\n+  !$omp target map(from: res)\n     res = omp_is_initial_device ()\n   !$omp end target\n   if (res) call abort\n \n   call omp_set_default_device (omp_get_num_devices ())\n-  !$omp target\n+  !$omp target map(from: res)\n     res = omp_is_initial_device ()\n   !$omp end target\n   if (.not. res) call abort"}]}