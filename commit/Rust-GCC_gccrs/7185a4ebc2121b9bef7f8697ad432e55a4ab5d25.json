{"sha": "7185a4ebc2121b9bef7f8697ad432e55a4ab5d25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzE4NWE0ZWJjMjEyMWI5YmVmN2Y4Njk3YWQ0MzJlNTVhNGFiNWQyNQ==", "commit": {"author": {"name": "Sam Tebbs", "email": "sam.tebbs@arm.com", "date": "2018-11-28T17:08:17Z"}, "committer": {"name": "Sam Tebbs", "email": "samtebbs@gcc.gnu.org", "date": "2018-11-28T17:08:17Z"}, "message": "[PATCH][GCC][AARCH64] Replace calls to strtok with strtok_r in aarch64 attribute handling code\n\n2018-11-28  Sam Tebbs  <sam.tebbs@arm.com>\n\n\t* config/aarch64/aarch64.c (aarch64_process_target_attr): Replace\n\tcalls to strtok with strtok_r.\n\nFrom-SVN: r266570", "tree": {"sha": "9772a3f15244e49796eb7b38654af196dc1d1338", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9772a3f15244e49796eb7b38654af196dc1d1338"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25/comments", "author": null, "committer": null, "parents": [{"sha": "345d2d034989be69e97c45e7fcea8fe4c2409a6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/345d2d034989be69e97c45e7fcea8fe4c2409a6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/345d2d034989be69e97c45e7fcea8fe4c2409a6f"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "2e4af6f97f7d80d9dd3377e276bedc9a6064612f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7185a4ebc2121b9bef7f8697ad432e55a4ab5d25", "patch": "@@ -1,3 +1,8 @@\n+2018-11-28  Sam Tebbs  <sam.tebbs@arm.com>\n+\n+\t* config/aarch64/aarch64.c (aarch64_process_target_attr): Replace\n+\t\tcalls to strtok with strtok_r.\n+\n 2018-11-28  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/88223"}, {"sha": "3d597ca95c711d7f32ac0ee726be35bbb3bc331e", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7185a4ebc2121b9bef7f8697ad432e55a4ab5d25/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=7185a4ebc2121b9bef7f8697ad432e55a4ab5d25", "patch": "@@ -12017,7 +12017,7 @@ aarch64_process_target_attr (tree args)\n   unsigned int num_commas = num_occurences_in_str (',', str_to_check);\n \n   /* Handle multiple target attributes separated by ','.  */\n-  char *token = strtok (str_to_check, \",\");\n+  char *token = strtok_r (str_to_check, \",\", &str_to_check);\n \n   unsigned int num_attrs = 0;\n   while (token)\n@@ -12029,7 +12029,7 @@ aarch64_process_target_attr (tree args)\n \t  return false;\n \t}\n \n-      token = strtok (NULL, \",\");\n+      token = strtok_r (NULL, \",\", &str_to_check);\n     }\n \n   if (num_attrs != num_commas + 1)"}]}