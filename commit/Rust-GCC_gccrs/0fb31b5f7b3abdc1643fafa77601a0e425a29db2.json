{"sha": "0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZiMzFiNWY3YjNhYmRjMTY0M2ZhZmE3NzYwMWEwZTQyNWEyOWRiMg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-16T15:47:23Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-16T15:47:23Z"}, "message": "[multiple changes]\n\n2010-06-16  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch3.adb (Complete_Private_Subtype): Inherit class_wide type from\n\tbase type only if it was not previously created for the partial view.\n\n2010-06-16  Thomas Quinot  <quinot@adacore.com>\n\n\t* tbuild.ads: Minor comment fix\n\nFrom-SVN: r160843", "tree": {"sha": "a0d97dbe81d505415bc7b31d7bb5192dbc0245e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0d97dbe81d505415bc7b31d7bb5192dbc0245e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/comments", "author": null, "committer": null, "parents": [{"sha": "59f9c2ed530507a5dcaaf4c6d3789b908dc3dfa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59f9c2ed530507a5dcaaf4c6d3789b908dc3dfa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59f9c2ed530507a5dcaaf4c6d3789b908dc3dfa6"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "a5e8ab6a9c033dab84df749ae03166f88815ab60", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "patch": "@@ -1,3 +1,12 @@\n+2010-06-16  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch3.adb (Complete_Private_Subtype): Inherit class_wide type from\n+\tbase type only if it was not previously created for the partial view.\n+\n+2010-06-16  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* tbuild.ads: Minor comment fix\n+\n 2010-06-15  Nathan Froyd  <froydnj@codesourcery.com>\n \n \t* gcc-interface/trans.c (gnu_stack_free_list): Delete."}, {"sha": "160bdbb1211f02a4424f032ba66e4213add8d9c5", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "patch": "@@ -9584,7 +9584,14 @@ package body Sem_Ch3 is\n       if Is_Tagged_Type (Full_Base) then\n          Set_Is_Tagged_Type (Full);\n          Set_Primitive_Operations (Full, Primitive_Operations (Full_Base));\n-         Set_Class_Wide_Type      (Full, Class_Wide_Type (Full_Base));\n+\n+         --  Inherit class_wide type of full_base in case the partial view was\n+         --  not tagged. Otherwise it has already been created when the private\n+         --  subtype was analyzed.\n+\n+         if No (Class_Wide_Type (Full)) then\n+            Set_Class_Wide_Type (Full, Class_Wide_Type (Full_Base));\n+         end if;\n \n       --  If this is a subtype of a protected or task type, constrain its\n       --  corresponding record, unless this is a subtype without constraints,"}, {"sha": "f6b02ccbb0907c3997d52298db206e1c8bcb3aa2", "filename": "gcc/ada/tbuild.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/gcc%2Fada%2Ftbuild.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fb31b5f7b3abdc1643fafa77601a0e425a29db2/gcc%2Fada%2Ftbuild.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftbuild.ads?ref=0fb31b5f7b3abdc1643fafa77601a0e425a29db2", "patch": "@@ -183,7 +183,7 @@ package Tbuild is\n    --  Create a defining identifier to capture the value of an expression\n    --  or aggregate, and link it to the expression that it replaces, in\n    --  order to provide better CodePeer reports. The defining identifier\n-   --  name is obtained by Make_Internal_Name (Id).\n+   --  name is obtained by New_Internal_Name (Id).\n \n    function Make_Unsuppress_Block\n      (Loc   : Source_Ptr;"}]}