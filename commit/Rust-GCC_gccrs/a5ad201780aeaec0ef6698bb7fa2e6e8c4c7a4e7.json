{"sha": "a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVhZDIwMTc4MGFlYWVjMGVmNjY5OGJiN2ZhMmU2ZThjNGM3YTRlNw==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2007-03-25T12:44:40Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2007-03-25T12:44:40Z"}, "message": "rs6000.c (rs6000_emit_prologue): Always clobber LR in SImode for save_world.\n\n        * config/rs6000/rs6000.c (rs6000_emit_prologue): Always clobber LR\n        in SImode for save_world.\n        * config/rs6000/altivec.md (save_world, restore_world): Convert to\n        LR hard reg.\n\nFrom-SVN: r123198", "tree": {"sha": "0d2f854daab109343695917219a8dca580cf1572", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d2f854daab109343695917219a8dca580cf1572"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/comments", "author": null, "committer": null, "parents": [{"sha": "5773afc5b5b659bc20842e72627b492023d65cb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5773afc5b5b659bc20842e72627b492023d65cb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5773afc5b5b659bc20842e72627b492023d65cb5"}], "stats": {"total": 21, "additions": 14, "deletions": 7}, "files": [{"sha": "6f2c3dca48b8354b8f1ef32ecd6a45ebae3cbb9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "patch": "@@ -1,3 +1,10 @@\n+2007-03-25  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/rs6000.c (rs6000_emit_prologue): Always clobber LR\n+\tin SImode for save_world.\n+\t* config/rs6000/altivec.md (save_world, restore_world): Convert to\n+\tLR hard reg.\n+\n 2007-03-25  Dorit Nuzman  <dorit@il.ibm.com>\n \n \tPR tree-optimization/30784"}, {"sha": "1c1d6a64f178e5341083c6dbd7738ac80d670927", "filename": "gcc/config/rs6000/altivec.md", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/gcc%2Fconfig%2Frs6000%2Faltivec.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/gcc%2Fconfig%2Frs6000%2Faltivec.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faltivec.md?ref=a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "patch": "@@ -302,21 +302,21 @@\n \n (define_insn \"*save_world\"\n  [(match_parallel 0 \"save_world_operation\"\n-                  [(clobber (match_operand:SI 1 \"register_operand\" \"=l\"))\n-                   (use (match_operand:SI 2 \"call_operand\" \"s\"))])]\n+                  [(clobber (reg:SI 65))\n+                   (use (match_operand:SI 1 \"call_operand\" \"s\"))])]\n  \"TARGET_MACHO && (DEFAULT_ABI == ABI_DARWIN) && TARGET_32BIT\"         \n- \"bl %z2\"\n+ \"bl %z1\"\n   [(set_attr \"type\" \"branch\")\n    (set_attr \"length\" \"4\")])\n \n (define_insn \"*restore_world\"\n  [(match_parallel 0 \"restore_world_operation\"\n                   [(return)\n \t\t   (use (reg:SI 65))\n-                   (use (match_operand:SI 2 \"call_operand\" \"s\"))\n-                   (clobber (match_operand:SI 3 \"gpc_reg_operand\" \"=r\"))])]\n+                   (use (match_operand:SI 1 \"call_operand\" \"s\"))\n+                   (clobber (match_operand:SI 2 \"gpc_reg_operand\" \"=r\"))])]\n  \"TARGET_MACHO && (DEFAULT_ABI == ABI_DARWIN) && TARGET_32BIT\"\n- \"b %z2\")\n+ \"b %z1\")\n \n ;; Simple binary operations.\n "}, {"sha": "43ee19e6296b6d44615cecd3048a1d9aa1536878", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=a5ad201780aeaec0ef6698bb7fa2e6e8c4c7a4e7", "patch": "@@ -14727,7 +14727,7 @@ rs6000_emit_prologue (void)\n       p = rtvec_alloc (sz);\n       j = 0;\n       RTVEC_ELT (p, j++) = gen_rtx_CLOBBER (VOIDmode,\n-\t\t\t\t\t    gen_rtx_REG (Pmode,\n+\t\t\t\t\t    gen_rtx_REG (SImode,\n \t\t\t\t\t\t\t LINK_REGISTER_REGNUM));\n       RTVEC_ELT (p, j++) = gen_rtx_USE (VOIDmode,\n \t\t\t\t\tgen_rtx_SYMBOL_REF (Pmode,"}]}