{"sha": "2f71a20a3eacb437535ffe41d0c45516362ecb19", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmY3MWEyMGEzZWFjYjQzNzUzNWZmZTQxZDBjNDU1MTYzNjJlY2IxOQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-08-03T13:27:02Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-08-03T13:27:02Z"}, "message": "gentune.sh: New file.\n\n* arm/gentune.sh: New file.\n* arm/t-arm: New file.\n* arm/arm-tune.md: New file (autogenerated).\n* config.gcc (arm*-*-*): Add t-arm to tmake_file for all variants.\n* arm.md (attribute tune): Delete.  Include arm-tune.md.\n\nFrom-SVN: r85472", "tree": {"sha": "4a5d13d20e0ccede49a086b847bc8313dbc676a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a5d13d20e0ccede49a086b847bc8313dbc676a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f71a20a3eacb437535ffe41d0c45516362ecb19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f71a20a3eacb437535ffe41d0c45516362ecb19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f71a20a3eacb437535ffe41d0c45516362ecb19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f71a20a3eacb437535ffe41d0c45516362ecb19/comments", "author": null, "committer": null, "parents": [{"sha": "6e0a7f2bdb195af927b40aa4dd689703b730a22b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e0a7f2bdb195af927b40aa4dd689703b730a22b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e0a7f2bdb195af927b40aa4dd689703b730a22b"}], "stats": {"total": 80, "additions": 61, "deletions": 19}, "files": [{"sha": "1bf347c1a96adf41ee9a5ccd8d7c1ba06936516c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f71a20a3eacb437535ffe41d0c45516362ecb19", "patch": "@@ -1,3 +1,11 @@\n+2004-08-03  Richard Earnshaw <rearnsha@arm.com>\n+\n+\t* arm/gentune.sh: New file.\n+\t* arm/t-arm: New file.\n+\t* arm/arm-tune.md: New file (autogenerated).\n+\t* config.gcc (arm*-*-*): Add t-arm to tmake_file for all variants.\n+\t* arm.md (attribute tune): Delete.  Include arm-tune.md.\n+\n 2004-08-03  Paolo Bonzini <bonzini@gnu.org>\n \n \t* gcc.c (add_prefix, add_sysrooted_prefix): Remove"}, {"sha": "3d9a8844505812a6f9f1513cb408f4634a3d3406", "filename": "gcc/config.gcc", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=2f71a20a3eacb437535ffe41d0c45516362ecb19", "patch": "@@ -614,65 +614,65 @@ arc-*-elf*)\n \t;;\n arm-*-coff* | armel-*-coff*)\n \ttm_file=\"arm/semi.h arm/aout.h arm/arm.h arm/coff.h dbxcoff.h\"\n-\ttmake_file=arm/t-arm-coff\n+\ttmake_file=arm/t-arm arm/t-arm-coff\n \t;;\n arm-semi-aof | armel-semi-aof)\n \ttm_file=\"arm/semiaof.h arm/aof.h arm/arm.h\"\n-\ttmake_file=arm/t-semi\n+\ttmake_file=arm/t-arm arm/t-semi\n \t;;\n arm-wrs-vxworks)\n \ttm_file=\"dbxelf.h elfos.h svr4.h vxworks.h arm/elf.h arm/aout.h arm/arm.h arm/vxworks.h\"\n-\ttmake_file=\"${tmake_file} arm/t-vxworks\"\n+\ttmake_file=\"${tmake_file} arm/t-arm arm/t-vxworks\"\n \t;;\n arm*-*-freebsd*|strongarm*-*-freebsd*)\n \ttm_file=\"dbxelf.h elfos.h ${fbsd_tm_file} arm/elf.h arm/aout.h arm/freebsd.h arm/arm.h\"\n-\ttmake_file=\"${tmake_file} arm/t-strongarm-elf\"\n+\ttmake_file=\"${tmake_file} arm/t-arm arm/t-strongarm-elf\"\n \t;;\n arm*-*-netbsdelf*)\n \ttm_file=\"dbxelf.h elfos.h netbsd.h netbsd-elf.h arm/elf.h arm/aout.h arm/arm.h arm/netbsd-elf.h\"\n-\ttmake_file=\"${tmake_file} arm/t-netbsd\"\n+\ttmake_file=\"${tmake_file} arm/t-arm arm/t-netbsd\"\n \t;;\n arm*-*-netbsd*)\n \ttm_file=\"arm/aout.h arm/arm.h netbsd.h netbsd-aout.h arm/netbsd.h\"\n-\ttmake_file=\"t-netbsd arm/t-netbsd\"\n+\ttmake_file=\"t-netbsd arm/t-arm arm/t-netbsd\"\n \textra_parts=\"\"\n \tuse_collect2=yes\n \t;;\n arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n \ttm_file=\"dbxelf.h elfos.h linux.h arm/elf.h  arm/linux-gas.h arm/linux-elf.h arm/aout.h arm/arm.h\"\n-\ttmake_file=\"${tmake_file} arm/t-linux\"\n+\ttmake_file=\"${tmake_file} arm/t-arm arm/t-linux\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n \t;;\n arm*-*-uclinux*)\t\t# ARM ucLinux\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/linux-gas.h arm/linux-elf.h arm/uclinux-elf.h\"\n-\ttmake_file=arm/t-arm-elf\n+\ttmake_file=\"arm/t-arm arm/t-arm-elf\"\n \t;;\n arm*-*-ecos-elf)\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/ecos-elf.h\"\n-\ttmake_file=arm/t-arm-elf\n+\ttmake_file=arm/t-arm arm/t-arm-elf\n \t;;\n arm*-*-rtems*)\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/rtems-elf.h rtems.h\"\n-\ttmake_file=\"arm/t-arm-elf t-rtems\"\n+\ttmake_file=\"arm/t-arm arm/t-arm-elf t-rtems\"\n \t;;\n arm*-*-elf | ep9312-*-elf)\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h\"\n-\ttmake_file=arm/t-arm-elf\n+\ttmake_file=\"arm/t-arm arm/t-arm-elf\"\n \t;;\n arm*-wince-pe*)\n \ttm_file=\"arm/semi.h arm/aout.h arm/arm.h arm/coff.h dbxcoff.h arm/pe.h arm/wince-pe.h\"\n-\ttmake_file=arm/t-wince-pe\n+\ttmake_file=\"arm/t-arm arm/t-wince-pe\"\n \textra_objs=\"pe.o\"\n \t;;\n arm-*-pe*)\n \ttm_file=\"arm/semi.h arm/aout.h arm/arm.h arm/coff.h dbxcoff.h arm/pe.h\"\n-\ttmake_file=arm/t-pe\n+\ttmake_file=\"arm/t-arm arm/t-pe\"\n \textra_objs=\"pe.o\"\n \t;;\n arm*-*-kaos*)\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h kaos.h arm/kaos-arm.h\"\n-\ttmake_file=arm/t-arm-elf\n+\ttmake_file=\"arm/t-arm arm/t-arm-elf\"\n \t;;\n avr-*-*)\n \ttm_file=\"avr/avr.h dbxelf.h\""}, {"sha": "cd23587532916dfb2f6aa7df403525a54d8d6bc2", "filename": "gcc/config/arm/arm-tune.md", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Farm-tune.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Farm-tune.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-tune.md?ref=2f71a20a3eacb437535ffe41d0c45516362ecb19", "patch": "@@ -0,0 +1,5 @@\n+;; -*- buffer-read-only: t -*-\n+;; Generated automatically by gentune.sh from arm-cores.def\n+(define_attr \"tune\"\n+\t\"arm2,arm250,arm3,arm6,arm60,arm600,arm610,arm620,arm7,arm7m,arm7d,arm7dm,arm7di,arm7dmi,arm70,arm700,arm700i,arm710,arm720,arm710c,arm7100,arm7500,arm7500fe,arm7tdmi,arm710t,arm720t,arm740t,arm8,arm810,arm9,arm920,arm920t,arm940t,arm9tdmi,arm9e,ep9312,strongarm,strongarm110,strongarm1100,strongarm1110,arm10tdmi,arm1020t,arm926ejs,arm1026ejs,xscale,iwmmxt,arm1136js,arm1136jfs\"\n+\t(const (symbol_ref \"arm_tune\")))"}, {"sha": "54a3f1e09c615d54790c24a9613710cec6ebffcf", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=2f71a20a3eacb437535ffe41d0c45516362ecb19", "patch": "@@ -287,11 +287,8 @@\n ;;---------------------------------------------------------------------------\n ;; Pipeline descriptions\n \n-;; Processor type.  This attribute must exactly match the table in \n-;; arm-cores.def.\n-(define_attr \"tune\" \n-\t     \"arm2,arm250,arm3,arm6,arm60,arm600,arm610,arm620,arm7,arm7m,arm7d,arm7dm,arm7di,arm7dmi,arm70,arm700,arm700i,arm710,arm720,arm710c,arm7100,arm7500,arm7500fe,arm7tdmi,arm710t,arm720t,arm740t,arm8,arm810,arm9,arm920,arm920t,arm940t,arm9tdmi,arm9e,ep9312,strongarm,strongarm110,strongarm1100,strongarm1110,arm10tdmi,arm1020t,arm926ejs,arm1026ejs,xscale,iwmmxt,arm1136js,arm1136jfs\"\n-\t     (const (symbol_ref \"arm_tune\")))\n+;; Processor type.  This is created automatically from arm-cores.def.\n+(include \"arm-tune.md\")\n \n ;; True if the generic scheduling description should be used.\n "}, {"sha": "74cc8533a11ee4032122d7e601606e5c972926cf", "filename": "gcc/config/arm/gentune.sh", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Fgentune.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Fgentune.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fgentune.sh?ref=2f71a20a3eacb437535ffe41d0c45516362ecb19", "patch": "@@ -0,0 +1,12 @@\n+#!/bin/sh\n+# Generate arm-tune.md, a file containing the tune attribute from the list of \n+# CPUs in arm-cores.def\n+\n+echo \";; -*- buffer-read-only: t -*-\"\n+echo \";; Generated automatically by gentune.sh from arm-cores.def\"\n+\n+allcores=`awk -F'[(,]' '/^ARM_CORE/ { cores = cores$2\",\" } END { print cores } ' $1`\n+\n+echo \"(define_attr \\\"tune\\\"\"\n+echo \"\t\\\"$allcores\\\"\" | sed -e 's/,\"$/\"/'\n+echo \"\t(const (symbol_ref \\\"arm_tune\\\")))\""}, {"sha": "4f801ce939aefed429b1007d1169927f0b44aa6f", "filename": "gcc/config/arm/t-arm", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Ft-arm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f71a20a3eacb437535ffe41d0c45516362ecb19/gcc%2Fconfig%2Farm%2Ft-arm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-arm?ref=2f71a20a3eacb437535ffe41d0c45516362ecb19", "patch": "@@ -0,0 +1,20 @@\n+# Rules common to all arm targets\n+\n+MD_INCLUDES= \t$(srcdir)/config/arm/arm-tune.md \\\n+\t\t$(srcdir)/config/arm/arm-generic.md \\\n+\t\t$(srcdir)/config/arm/arm1026ejs.md \\\n+\t\t$(srcdir)/config/arm/arm1136jfs.md \\\n+\t\t$(srcdir)/config/arm/arm926ejs.md \\\n+\t\t$(srcdir)/config/arm/cirrus.md \\\n+\t\t$(srcdir)/config/arm/fpa.md \\\n+\t\t$(srcdir)/config/arm/iwmmxt.md \\\n+\t\t$(srcdir)/config/arm/vfp.md\n+\n+s-config s-conditions s-flags s-codes s-constants s-emit s-recog \\\n+\ts-opinit s-extract s-peep s-attr s-attrtab s-output: $(MD_INCLUDES)\n+\n+$(srcdir)/config/arm/arm-tune.md: $(srcdir)/config/arm/gentune.sh \\\n+\t$(srcdir)/config/arm/arm-cores.def\n+\t$(SHELL) $(srcdir)/config/arm/gentune.sh \\\n+\t\t$(srcdir)/config/arm/arm-cores.def > \\\n+\t\t$(srcdir)/config/arm/arm-tune.md"}]}