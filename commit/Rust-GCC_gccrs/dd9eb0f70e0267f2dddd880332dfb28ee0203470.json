{"sha": "dd9eb0f70e0267f2dddd880332dfb28ee0203470", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ5ZWIwZjcwZTAyNjdmMmRkZGQ4ODAzMzJkZmIyOGVlMDIwMzQ3MA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2014-04-26T21:56:48Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2014-04-26T21:56:48Z"}, "message": "re PR libfortran/52539 (I/O: Wrong result for UTF-8/UCS-4 list-directed and namelist read and nml write)\n\n2014-04-26  Jerry DeLisle  <jvdelisle@gcc.gnu>\n\n\tPR libfortran/52539\n\t* gfortran.dg/namelist_utf8.f90: New test.\n\nFrom-SVN: r209829", "tree": {"sha": "69816a463d1c40e71729d7b11c1283f5878ef62d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69816a463d1c40e71729d7b11c1283f5878ef62d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd9eb0f70e0267f2dddd880332dfb28ee0203470", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd9eb0f70e0267f2dddd880332dfb28ee0203470", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd9eb0f70e0267f2dddd880332dfb28ee0203470", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd9eb0f70e0267f2dddd880332dfb28ee0203470/comments", "author": null, "committer": null, "parents": [{"sha": "42c1e008b0153a83329fb63497f936cbb95c68e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42c1e008b0153a83329fb63497f936cbb95c68e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42c1e008b0153a83329fb63497f936cbb95c68e1"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "7d01d44e36967ba2357f7e7c38a01491e1aeee6f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd9eb0f70e0267f2dddd880332dfb28ee0203470/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd9eb0f70e0267f2dddd880332dfb28ee0203470/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=dd9eb0f70e0267f2dddd880332dfb28ee0203470", "patch": "@@ -1,3 +1,8 @@\n+2014-04-26  Jerry DeLisle  <jvdelisle@gcc.gnu>\n+\n+\tPR libfortran/52539\n+\t* gfortran.dg/namelist_utf8.f90: New test.\n+\n 2014-04-26  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* gcc.dg/tree-ssa/alias-30.c (dg-options): Dump only fre1 details."}, {"sha": "c494b8c3b772c8352a6abb0c74f7a31cfb00a57e", "filename": "gcc/testsuite/gfortran.dg/namelist_utf8.f90", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd9eb0f70e0267f2dddd880332dfb28ee0203470/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_utf8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd9eb0f70e0267f2dddd880332dfb28ee0203470/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_utf8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_utf8.f90?ref=dd9eb0f70e0267f2dddd880332dfb28ee0203470", "patch": "@@ -0,0 +1,30 @@\n+! { dg-do run }\n+! PR52539 UTF-8 support for namelist read and write\n+\n+character(len=10, kind=4) :: str, str2\n+character(len=25, kind=4) :: str3\n+\n+namelist /nml/ str\n+\n+str = 4_'a'//char (int (z'4F60'),4)     &\n+      //char (int (z'597D'), 4)//4_'b'\n+\n+open(99, encoding='utf-8',form='formatted')\n+write(99, '(3a)') '&nml str = \"', str, '\" /'\n+write(99, '(a)') str\n+rewind(99)\n+\n+str = 4_'XXXX'\n+str2 = 4_'YYYY'\n+read(99,nml=nml)\n+read(99, *) str2\n+if (str2 /= str) call abort\n+rewind(99)\n+\n+read(99,'(A)') str3\n+if (str3 /= 4_'&nml str = \"' // str // 4_'\" /') call abort\n+read(99,'(A)') str3\n+if (str3 /= str) call abort\n+\n+close(99, status='delete')\n+end"}]}