{"sha": "35d8090d78a398e73813e3c752e0468e69c96750", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzVkODA5MGQ3OGEzOThlNzM4MTNlM2M3NTJlMDQ2OGU2OWM5Njc1MA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2011-07-13T17:33:38Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2011-07-13T17:33:38Z"}, "message": "crtfastmath.c: Move to ../libgcc/config/alpha.\n\n\tgcc:\n\t* config/alpha/crtfastmath.c: Move to ../libgcc/config/alpha.\n\t* config/alpha/t-crtfm: Remove.\n\t* config/i386/crtfastmath.c: Move to ../libgcc/config/i386.\n\t* config/i386/t-crtfm: Remove.\n\t* config/ia64/crtfastmath.c: Move to ../libgcc/config/ia64.\n\t* config/mips/crtfastmath.c: Move to ../libgcc/config/mips.\n\t* config/sparc/crtfastmath.c: Move to ../libgcc/config/sparc.\n\t* config/sparc/t-crtfm: Remove.\n\n\t* config.gcc (alpha*-*-linux*): Remove alpha/t-crtfm from tmake_file.\n\t(alpha*-*-freebsd*): Likewise.\n\t(i[34567]86-*-darwin*): Remove i386/t-crtfm from tmake_file.\n\t(x86_64-*-darwin*): Likewise.\n\t(i[34567]86-*-linux*): Likewise.\n\t(x86_64-*-linux*): Likewise.\n\t(x86_64-*-mingw*): Likewise.\n\t(ia64*-*-elf*): Remove crtfastmath.o from extra_parts.\n\t(ia64*-*-freebsd*): Likewise.\n\t(ia64*-*-linux*): Likewise.\n\t(mips64*-*-linux*): Likewise.\n\t(mips*-*-linux*): Likewise.\n\t(sparc-*-linux*): Remove sparc/t-crtfm from tmake_file.\n\t(sparc64-*-linux*): Likewise.\n\t(sparc64-*-freebsd*): Likewise.\n\n\tlibgcc:\n\t* config/alpha/crtfastmath.c: New file.\n\t* config/i386/crtfastmath.c: New file.\n\t* config/ia64/crtfastmath.c: New file.\n\t* config/mips/crtfastmath.c: New file.\n\t* config/sparc/crtfastmath.c: New file.\n\n\t* config/t-crtfm (crtfastmath.o): Use $(srcdir) to refer to\n\tcrtfastmath.c.\n\tAdd -frandom-seed=gcc-crtfastmath.\n\t* config/alpha/t-crtfm: Remove.\n\t* config/i386/t-crtfm: Use $(srcdir) to refer to crtfastmath.c.\n\t* config/ia64/t-ia64 (crtfastmath.o): Remove.\n\n\t* config.host (alpha*-*-linux*): Replace alpha/t-crtfm by t-crtfm.\n\t(alpha*-dec-osf5.1*): Likewise.\n\t(alpha*-*-freebsd*): Add t-crtfm to tmake_file.\n\tAdd crtfastmath.o to extra_parts.\n\t(i[34567]86-*-darwin*): Add i386/t-crtfm to tmake_file.\n\tAdd crtfastmath.o to extra_parts.\n\t(x86_64-*-darwin*): Likewise.\n\t(x86_64-*-mingw*): Likewise.\n\t(ia64*-*-elf*): Add t-crtfm to tmake_file.\n\t(ia64*-*-freebsd*): Likewise.\n\t(ia64*-*-linux*): Likewise.\n\t(sparc64-*-freebsd*): Add t-crtfm to tmake_file.\n\tAdd crtfastmath.o to extra_parts.\n\nFrom-SVN: r176241", "tree": {"sha": "43558081045fc254d40f3c818a030ebac045ba73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43558081045fc254d40f3c818a030ebac045ba73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/35d8090d78a398e73813e3c752e0468e69c96750", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35d8090d78a398e73813e3c752e0468e69c96750", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35d8090d78a398e73813e3c752e0468e69c96750", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35d8090d78a398e73813e3c752e0468e69c96750/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "19073ebc7ad340bcbcfc9e47715f235a53e0dc73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19073ebc7ad340bcbcfc9e47715f235a53e0dc73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19073ebc7ad340bcbcfc9e47715f235a53e0dc73"}], "stats": {"total": 143, "additions": 87, "deletions": 56}, "files": [{"sha": "8f83ff3ecb517fe02f2ac864deaf10e9642e43ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -1,3 +1,30 @@\n+2011-07-13  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* config/alpha/crtfastmath.c: Move to ../libgcc/config/alpha.\n+\t* config/alpha/t-crtfm: Remove.\n+\t* config/i386/crtfastmath.c: Move to ../libgcc/config/i386.\n+\t* config/i386/t-crtfm: Remove.\n+\t* config/ia64/crtfastmath.c: Move to ../libgcc/config/ia64.\n+\t* config/mips/crtfastmath.c: Move to ../libgcc/config/mips.\n+\t* config/sparc/crtfastmath.c: Move to ../libgcc/config/sparc.\n+\t* config/sparc/t-crtfm: Remove.\n+\n+\t* config.gcc (alpha*-*-linux*): Remove alpha/t-crtfm from tmake_file.\n+\t(alpha*-*-freebsd*): Likewise.\n+\t(i[34567]86-*-darwin*): Remove i386/t-crtfm from tmake_file.\n+\t(x86_64-*-darwin*): Likewise.\n+\t(i[34567]86-*-linux*): Likewise.\n+\t(x86_64-*-linux*): Likewise.\n+\t(x86_64-*-mingw*): Likewise.\n+\t(ia64*-*-elf*): Remove crtfastmath.o from extra_parts.\n+\t(ia64*-*-freebsd*): Likewise.\n+\t(ia64*-*-linux*): Likewise.\n+\t(mips64*-*-linux*): Likewise.\n+\t(mips*-*-linux*): Likewise.\n+\t(sparc-*-linux*): Remove sparc/t-crtfm from tmake_file.\n+\t(sparc64-*-linux*): Likewise.\n+\t(sparc64-*-freebsd*): Likewise.\n+\n 2011-07-13  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* config/darwin-crt2.c: Move to ../libgcc/config/rs6000."}, {"sha": "77424f2df512dfbd96553be734667c43cdbf6643", "filename": "gcc/config.gcc", "status": "modified", "additions": 10, "deletions": 21, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -756,13 +756,13 @@ alpha*-*-linux*)\n \ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h glibc-stdint.h\"\n \textra_options=\"${extra_options} alpha/elf.opt\"\n \ttarget_cpu_default=\"MASK_GAS\"\n-\ttmake_file=\"${tmake_file} alpha/t-crtfm alpha/t-alpha alpha/t-ieee alpha/t-linux\"\n+\ttmake_file=\"${tmake_file} alpha/t-alpha alpha/t-ieee alpha/t-linux\"\n \t;;\n alpha*-*-freebsd*)\n \ttm_file=\"${tm_file} ${fbsd_tm_file} alpha/elf.h alpha/freebsd.h\"\n \textra_options=\"${extra_options} alpha/elf.opt\"\n \ttarget_cpu_default=\"MASK_GAS\"\n-\ttmake_file=\"${tmake_file} alpha/t-crtfm alpha/t-alpha alpha/t-ieee\"\n+\ttmake_file=\"${tmake_file} alpha/t-alpha alpha/t-ieee\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\"\n \t;;\n alpha*-*-netbsd*)\n@@ -1208,12 +1208,12 @@ i[34567]86-*-darwin*)\n \tneed_64bit_isa=yes\n \t# Baseline choice for a machine that allows m64 support.\n \twith_cpu=${with_cpu:-core2}\n-\ttmake_file=\"${tmake_file} t-slibgcc-dummy i386/t-crtpc i386/t-crtfm\"\n+\ttmake_file=\"${tmake_file} t-slibgcc-dummy i386/t-crtpc\"\n \tlibgcc_tm_file=\"$libgcc_tm_file i386/darwin-lib.h\"\n \t;;\n x86_64-*-darwin*)\n \twith_cpu=${with_cpu:-core2}\n-\ttmake_file=\"${tmake_file} ${cpu_type}/t-darwin64 t-slibgcc-dummy i386/t-crtpc i386/t-crtfm\"\n+\ttmake_file=\"${tmake_file} ${cpu_type}/t-darwin64 t-slibgcc-dummy i386/t-crtpc\"\n \ttm_file=\"${tm_file} ${cpu_type}/darwin64.h\"\n \tlibgcc_tm_file=\"$libgcc_tm_file i386/darwin-lib.h\"\n \t;;\n@@ -1311,7 +1311,7 @@ i[34567]86-*-linux* | i[34567]86-*-kfreebsd*-gnu | i[34567]86-*-knetbsd*-gnu | i\n \ti[34567]86-*-kopensolaris*-gnu) tm_file=\"${tm_file} i386/gnu-user.h kopensolaris-gnu.h i386/kopensolaris-gnu.h\" ;;\n \ti[34567]86-*-gnu*) tm_file=\"$tm_file i386/gnu-user.h gnu.h i386/gnu.h\";;\n \tesac\n-\ttmake_file=\"${tmake_file} i386/t-crtstuff i386/t-crtpc i386/t-crtfm\"\n+\ttmake_file=\"${tmake_file} i386/t-crtstuff i386/t-crtpc\"\n \t;;\n x86_64-*-linux* | x86_64-*-kfreebsd*-gnu | x86_64-*-knetbsd*-gnu)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h gnu-user.h glibc-stdint.h \\\n@@ -1323,7 +1323,7 @@ x86_64-*-linux* | x86_64-*-kfreebsd*-gnu | x86_64-*-knetbsd*-gnu)\n \tx86_64-*-kfreebsd*-gnu) tm_file=\"${tm_file} kfreebsd-gnu.h i386/kfreebsd-gnu64.h\" ;;\n \tx86_64-*-knetbsd*-gnu) tm_file=\"${tm_file} knetbsd-gnu.h\" ;;\n \tesac\n-\ttmake_file=\"${tmake_file} i386/t-linux64 i386/t-crtstuff i386/t-crtpc i386/t-crtfm\"\n+\ttmake_file=\"${tmake_file} i386/t-linux64 i386/t-crtstuff i386/t-crtpc\"\n \tx86_multilibs=\"${with_multilib_list}\"\n \tif test \"$x86_multilibs\" = \"default\"; then\n \t\tx86_multilibs=\"m64,m32\"\n@@ -1558,13 +1558,6 @@ i[34567]86-*-mingw* | x86_64-*-mingw*)\n \t    tmake_file=\"i386/t-mingw-pthread ${tmake_file}\"\n \t    ;;\n \tesac\n-\tcase ${target} in\n-\t\tx86_64-*-mingw*)\n-\t\t\ttmake_file=\"${tmake_file} i386/t-crtfm\"\n-\t\t\t;;\n-\t\t*)\n-\t\t\t;;\n-\tesac\n \tcase ${target} in\n  \t\t*mingw32crt*)\n  \t\t\ttm_file=\"${tm_file} i386/crtdll.h\"\n@@ -1598,13 +1591,13 @@ ia64*-*-elf*)\n \tthen\n \t\ttarget_cpu_default=\"${target_cpu_default}|MASK_GNU_LD\"\n \tfi\n-\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n+\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \t;;\n ia64*-*-freebsd*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h ${fbsd_tm_file} ia64/sysv4.h ia64/freebsd.h\"\n \ttarget_cpu_default=\"MASK_GNU_AS|MASK_GNU_LD\"\n \ttmake_file=\"${tmake_file} ia64/t-ia64\"\n-\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n+\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \t;;\n ia64*-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h gnu-user.h linux.h glibc-stdint.h ia64/sysv4.h ia64/linux.h\"\n@@ -1613,7 +1606,7 @@ ia64*-*-linux*)\n \t\ttmake_file=\"${tmake_file} t-libunwind-elf ia64/t-glibc-libunwind\"\n \tfi\n \ttarget_cpu_default=\"MASK_GNU_AS|MASK_GNU_LD\"\n-\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n+\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \t;;\n ia64*-*-hpux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h ia64/sysv4.h ia64/hpux.h\"\n@@ -1853,7 +1846,6 @@ mips64*-*-linux* | mipsisa64*-*-linux*)\n \t\t\ttm_defines=\"${tm_defines} MIPS_ISA_DEFAULT=65\"\n \t\t\t;;\n \tesac\n-\textra_parts=\"$extra_parts crtfastmath.o\"\n \tgnu_ld=yes\n \tgas=yes\n \ttest x$with_llsc != x || with_llsc=yes\n@@ -1873,7 +1865,6 @@ mips*-*-linux*)\t\t\t\t# Linux MIPS, either endian.\n         mipsisa32*)\n \t\ttm_defines=\"${tm_defines} MIPS_ISA_DEFAULT=32\"\n         esac\n-\textra_parts=\"$extra_parts crtfastmath.o\"\n \ttest x$with_llsc != x || with_llsc=yes\n \t;;\n mips*-*-openbsd*)\n@@ -2499,7 +2490,6 @@ sparc-*-linux*)\n \telse\n \t\ttm_file=\"${tm_file} sparc/linux.h\"\n \tfi\n-\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n \t;;\n sparc-*-netbsdelf*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h sparc/sysv4.h netbsd.h netbsd-elf.h sparc/netbsd-elf.h\"\n@@ -2534,12 +2524,11 @@ sparc64-*-rtems*)\n sparc64-*-linux*)\n \ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h sparc/sysv4.h gnu-user.h linux.h glibc-stdint.h sparc/linux64.h\"\n \textra_options=\"${extra_options} sparc/long-double-switch.opt\"\n-\ttmake_file=\"${tmake_file} sparc/t-linux sparc/t-linux64 sparc/t-crtfm\"\n+\ttmake_file=\"${tmake_file} sparc/t-linux sparc/t-linux64\"\n \t;;\n sparc64-*-freebsd*|ultrasparc-*-freebsd*)\n \ttm_file=\"${tm_file} ${fbsd_tm_file} dbxelf.h elfos.h sparc/sysv4.h sparc/freebsd.h\"\n \textra_options=\"${extra_options} sparc/long-double-switch.opt\"\n-\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n \tcase \"x$with_cpu\" in\n \t\txultrasparc) ;;\n \t\tx) with_cpu=ultrasparc ;;"}, {"sha": "b4103834acae3cab967f0a6156f57a3caa27bb7a", "filename": "gcc/config/alpha/t-crtfm", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/gcc%2Fconfig%2Falpha%2Ft-crtfm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/gcc%2Fconfig%2Falpha%2Ft-crtfm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ft-crtfm?ref=19073ebc7ad340bcbcfc9e47715f235a53e0dc73", "patch": "@@ -1,5 +0,0 @@\n-EXTRA_PARTS += crtfastmath.o\n-\n-$(T)crtfastmath.o: $(srcdir)/config/alpha/crtfastmath.c $(GCC_PASSES)\n-\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -frandom-seed=gcc-crtfastmath -c \\\n-\t\t-o $(T)crtfastmath.o $(srcdir)/config/alpha/crtfastmath.c"}, {"sha": "4fa27e91ca5c7356d92b58fd88247c06a71e6dc4", "filename": "gcc/config/i386/t-crtfm", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/gcc%2Fconfig%2Fi386%2Ft-crtfm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/gcc%2Fconfig%2Fi386%2Ft-crtfm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-crtfm?ref=19073ebc7ad340bcbcfc9e47715f235a53e0dc73", "patch": "@@ -1,8 +0,0 @@\n-EXTRA_PARTS += crtfastmath.o\n-\n-$(T)crtfastmath.o: $(srcdir)/config/i386/crtfastmath.c \\\n-  $(srcdir)/config/i386/cpuid.h $(GCC_PASSES)\n-\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) $(MULTILIB_CFLAGS) \\\n-\t\t-msse -minline-all-stringops -c \\\n-\t\t$(srcdir)/config/i386/crtfastmath.c \\\n-\t\t-o $(T)crtfastmath$(objext)"}, {"sha": "e0adb97bd3bfc68b8e5eec0f0761fe77184c5c05", "filename": "gcc/config/sparc/t-crtfm", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/gcc%2Fconfig%2Fsparc%2Ft-crtfm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/gcc%2Fconfig%2Fsparc%2Ft-crtfm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-crtfm?ref=19073ebc7ad340bcbcfc9e47715f235a53e0dc73", "patch": "@@ -1,4 +0,0 @@\n-EXTRA_PARTS += crtfastmath.o\n-\n-$(T)crtfastmath.o: $(srcdir)/config/sparc/crtfastmath.c $(GCC_PASSES)\n-\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) $(LIBGCC2_CFLAGS) -c -o $(T)crtfastmath.o $(srcdir)/config/sparc/crtfastmath.c"}, {"sha": "401287cfb064cfa6c860cb479c4592ed26b9df19", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -1,3 +1,32 @@\n+2011-07-13  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* config/alpha/crtfastmath.c: New file.\n+\t* config/i386/crtfastmath.c: New file.\n+\t* config/ia64/crtfastmath.c: New file.\n+\t* config/mips/crtfastmath.c: New file.\n+\t* config/sparc/crtfastmath.c: New file.\n+\n+\t* config/t-crtfm (crtfastmath.o): Use $(srcdir) to refer to\n+\tcrtfastmath.c.\n+\tAdd -frandom-seed=gcc-crtfastmath.\n+\t* config/alpha/t-crtfm: Remove.\n+\t* config/i386/t-crtfm: Use $(srcdir) to refer to crtfastmath.c.\n+\t* config/ia64/t-ia64 (crtfastmath.o): Remove.\n+\n+\t* config.host (alpha*-*-linux*): Replace alpha/t-crtfm by t-crtfm.\n+\t(alpha*-dec-osf5.1*): Likewise.\n+\t(alpha*-*-freebsd*): Add t-crtfm to tmake_file.\n+\tAdd crtfastmath.o to extra_parts.\n+\t(i[34567]86-*-darwin*): Add i386/t-crtfm to tmake_file.\n+\tAdd crtfastmath.o to extra_parts.\n+\t(x86_64-*-darwin*): Likewise.\n+\t(x86_64-*-mingw*): Likewise.\n+\t(ia64*-*-elf*): Add t-crtfm to tmake_file.\n+\t(ia64*-*-freebsd*): Likewise.\n+\t(ia64*-*-linux*): Likewise.\n+\t(sparc64-*-freebsd*): Add t-crtfm to tmake_file.\n+\tAdd crtfastmath.o to extra_parts.\n+\n 2011-07-13  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* config/darwin-crt3.o: New file."}, {"sha": "fba7ecd67ab75feee88b855b50a1233c68b1701d", "filename": "libgcc/config.host", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -224,18 +224,20 @@ esac\n \n case ${host} in\n alpha*-*-linux*)\n-\ttmake_file=\"${tmake_file} alpha/t-crtfm\"\n+\ttmake_file=\"${tmake_file} t-crtfm\"\n \textra_parts=\"$extra_parts crtfastmath.o\"\n \tmd_unwind_header=alpha/linux-unwind.h\n \t;;\n alpha*-*-freebsd*)\n+\ttmake_file=\"${tmake_file} t-crtfm\"\n+\textra_parts=\"$extra_parts crtfastmath.o\"\n \t;;\n alpha*-*-netbsd*)\n \t;;\n alpha*-*-openbsd*)\n \t;;\n alpha*-dec-osf5.1*)\n-\ttmake_file=\"${tmake_file} alpha/t-alpha alpha/t-ieee alpha/t-crtfm t-slibgcc alpha/t-slibgcc-osf\"\n+\ttmake_file=\"${tmake_file} alpha/t-alpha alpha/t-ieee t-crtfm t-slibgcc alpha/t-slibgcc-osf\"\n \tcase ${target_thread_file} in\n \t  posix)\n \t    tmake_file=\"${tmake_file} alpha/t-osf-pthread\"\n@@ -323,9 +325,12 @@ hppa[12]*-*-hpux11*)\n \tmd_unwind_header=pa/hpux-unwind.h\n \t;;\n i[34567]86-*-darwin*)\n+\ttmake_file=\"$tmake_file i386/t-crtfm\"\n+\textra_parts=\"$extra_parts crtfastmath.o\"\n \t;;\n x86_64-*-darwin*)\n-\ttmake_file=\"t-darwin ${cpu_type}/t-darwin64 t-slibgcc-darwin\"\n+\ttmake_file=\"t-darwin ${cpu_type}/t-darwin64 i386/t-crtfm t-slibgcc-darwin\"\n+\textra_parts=\"$extra_parts crtfastmath.o\"\n \t;;\n i[34567]86-*-elf*)\n \t;;\n@@ -398,21 +403,22 @@ i[34567]86-*-mingw*)\n \tmd_unwind_header=i386/w32-unwind.h\n \t;;\n x86_64-*-mingw*)\n-\ttmake_file=t-dfprules\n+\ttmake_file=\"t-dfprules i386/t-crtfm\"\n+\textra_parts=\"$extra_parts crtfastmath.o\"\n \t;;\n i[34567]86-*-interix3*)\n \t;;\n ia64*-*-elf*)\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n-\ttmake_file=\"ia64/t-ia64\"\n+\ttmake_file=\"ia64/t-ia64 t-crtfm\"\n \t;;\n ia64*-*-freebsd*)\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n-\ttmake_file=\"ia64/t-ia64\"\n+\ttmake_file=\"ia64/t-ia64 t-crtfm\"\n \t;;\n ia64*-*-linux*)\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n-\ttmake_file=\"ia64/t-ia64 t-softfp ia64/t-fprules-softfp ia64/t-softfp-compat\"\n+\ttmake_file=\"ia64/t-ia64 t-crtfm t-softfp ia64/t-fprules-softfp ia64/t-softfp-compat\"\n \tmd_unwind_header=ia64/linux-unwind.h\n \t;;\n ia64*-*-hpux*)\n@@ -644,6 +650,8 @@ sparc64-*-elf*)\n sparc-wrs-vxworks)\n \t;;\n sparc64-*-freebsd*|ultrasparc-*-freebsd*)\n+\ttmake_file=\"$tmake_file t-crtfm\"\n+\textra_parts=crtfastmath.o\n \t;;\n sparc64-*-linux*)\t\t# 64-bit SPARC's running GNU/Linux\n \textra_parts=\"$extra_parts crtfastmath.o\""}, {"sha": "677b9edfa607106851b2bbff7cb7adf07ac4eac2", "filename": "libgcc/config/alpha/crtfastmath.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Falpha%2Fcrtfastmath.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Falpha%2Fcrtfastmath.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Falpha%2Fcrtfastmath.c?ref=35d8090d78a398e73813e3c752e0468e69c96750", "previous_filename": "gcc/config/alpha/crtfastmath.c"}, {"sha": "5060c1564513b26443220b7b8d3ae68f4d05d3f3", "filename": "libgcc/config/alpha/t-crtfm", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/libgcc%2Fconfig%2Falpha%2Ft-crtfm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19073ebc7ad340bcbcfc9e47715f235a53e0dc73/libgcc%2Fconfig%2Falpha%2Ft-crtfm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Falpha%2Ft-crtfm?ref=19073ebc7ad340bcbcfc9e47715f235a53e0dc73", "patch": "@@ -1,5 +0,0 @@\n-# FIXME drow/20061228 - I have preserved this -frandom-seed option\n-# while migrating this rule from the GCC directory, but I do not\n-# know why it is necessary if no other crt file uses it.\n-crtfastmath.o: $(gcc_srcdir)/config/alpha/crtfastmath.c\n-\t$(gcc_compile) -frandom-seed=gcc-crtfastmath -c $<"}, {"sha": "7abe500e98194d4da37880ee6f973485d805def7", "filename": "libgcc/config/i386/crtfastmath.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fi386%2Fcrtfastmath.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fi386%2Fcrtfastmath.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fcrtfastmath.c?ref=35d8090d78a398e73813e3c752e0468e69c96750", "previous_filename": "gcc/config/i386/crtfastmath.c"}, {"sha": "46ce70bbb21f9794c29ba7a03661b3afaa3ba300", "filename": "libgcc/config/i386/t-crtfm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fi386%2Ft-crtfm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fi386%2Ft-crtfm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Ft-crtfm?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -1,4 +1,4 @@\n # This is an endfile, Use -minline-all-stringops to ensure\n # that __builtin_memset doesn't refer to the lib function memset().\n-crtfastmath.o: $(gcc_srcdir)/config/i386/crtfastmath.c\n+crtfastmath.o: $(srcdir)/config/i386/crtfastmath.c\n \t$(gcc_compile) -msse -minline-all-stringops -c $<"}, {"sha": "0decd2a3f9c59e36609d8ff79e2ff0d20eca64a4", "filename": "libgcc/config/ia64/crtfastmath.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fia64%2Fcrtfastmath.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fia64%2Fcrtfastmath.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fia64%2Fcrtfastmath.c?ref=35d8090d78a398e73813e3c752e0468e69c96750", "previous_filename": "gcc/config/ia64/crtfastmath.c"}, {"sha": "3ec5fc5db084c6d8076f05b2758dfd100e5c509f", "filename": "libgcc/config/ia64/t-ia64", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fia64%2Ft-ia64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fia64%2Ft-ia64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fia64%2Ft-ia64?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -13,6 +13,3 @@ crtbeginS.o: $(gcc_srcdir)/config/ia64/crtbegin.asm\n crtendS.o: $(gcc_srcdir)/config/ia64/crtend.asm\n \t$(CC) $(compile_deps) -I. -I$(gcc_objdir) -c -x assembler-with-cpp \\\n \t\t-o $@ -DSHARED $(gcc_srcdir)/config/ia64/crtend.asm\n-\n-crtfastmath.o: $(gcc_srcdir)/config/ia64/crtfastmath.c\n-\t$(gcc_compile) -c $(gcc_srcdir)/config/ia64/crtfastmath.c"}, {"sha": "a9586b0a797b135410c31d3a126109ad5edf0e27", "filename": "libgcc/config/mips/crtfastmath.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fmips%2Fcrtfastmath.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fmips%2Fcrtfastmath.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fmips%2Fcrtfastmath.c?ref=35d8090d78a398e73813e3c752e0468e69c96750", "previous_filename": "gcc/config/mips/crtfastmath.c"}, {"sha": "04727ec945b7c8102219c6bbecba89c9b778b4db", "filename": "libgcc/config/sparc/crtfastmath.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fsparc%2Fcrtfastmath.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Fsparc%2Fcrtfastmath.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fsparc%2Fcrtfastmath.c?ref=35d8090d78a398e73813e3c752e0468e69c96750", "previous_filename": "gcc/config/sparc/crtfastmath.c"}, {"sha": "1d3b8ecfc3587b6dcef45c31b857b0360ceefa14", "filename": "libgcc/config/t-crtfm", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Ft-crtfm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35d8090d78a398e73813e3c752e0468e69c96750/libgcc%2Fconfig%2Ft-crtfm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Ft-crtfm?ref=35d8090d78a398e73813e3c752e0468e69c96750", "patch": "@@ -1,2 +1,5 @@\n-crtfastmath.o: $(gcc_srcdir)/config/$(cpu_type)/crtfastmath.c\n-\t$(gcc_compile) -c $<\n+# -frandom-seed is necessary to avoid bootstrap comparison failures due to\n+# changing mangled names of the constructor on Tru64 Unix, but harmless\n+# otherwise.\n+crtfastmath.o: $(srcdir)/config/$(cpu_type)/crtfastmath.c\n+\t$(gcc_compile) -frandom-seed=gcc-crtfastmath -c $<"}]}