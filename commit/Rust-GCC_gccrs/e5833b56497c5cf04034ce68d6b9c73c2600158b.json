{"sha": "e5833b56497c5cf04034ce68d6b9c73c2600158b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTU4MzNiNTY0OTdjNWNmMDQwMzRjZTY4ZDZiOWM3M2MyNjAwMTU4Yg==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2019-07-03T16:40:17Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2019-07-03T16:40:17Z"}, "message": "Fix store merging tests on Arm\n\nFix the failing store merging test on Arm.  Aligning variables fixes a\nfew cases, otherwise disable the test on Arm.  All store merging tests\nnow pass.  Committed as obvious.\n\n    testsuite/\n\t* gcc.dg/store_merging_27.c: Fix test for Arm.\n\t* gcc.dg/store_merging_28.c: Likewise.\n\t* gcc.dg/store_merging_29.c: Likewise.\n\t* gcc.dg/tree-ssa/dump-6.c: Likewise.\n\nFrom-SVN: r273011", "tree": {"sha": "4ccc7002974d845a48c2b3907c0d24f14038c0d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ccc7002974d845a48c2b3907c0d24f14038c0d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5833b56497c5cf04034ce68d6b9c73c2600158b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5833b56497c5cf04034ce68d6b9c73c2600158b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5833b56497c5cf04034ce68d6b9c73c2600158b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5833b56497c5cf04034ce68d6b9c73c2600158b/comments", "author": null, "committer": null, "parents": [{"sha": "a35d6e9f2176f066837387ef4916ffbd1dae0828", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a35d6e9f2176f066837387ef4916ffbd1dae0828", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a35d6e9f2176f066837387ef4916ffbd1dae0828"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "1695bab499b929adb682672a0ff7332850d5fd58", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e5833b56497c5cf04034ce68d6b9c73c2600158b", "patch": "@@ -1,3 +1,10 @@\n+2019-07-03  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\t* gcc.dg/store_merging_27.c: Fix test for Arm.\n+\t* gcc.dg/store_merging_28.c: Likewise.\n+\t* gcc.dg/store_merging_29.c: Likewise.\n+\t* gcc.dg/tree-ssa/dump-6.c: Likewise.\n+\n 2019-07-03  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/91069"}, {"sha": "d3cd117bdc63442bc0ea4377365f2f83f93af143", "filename": "gcc/testsuite/gcc.dg/store_merging_27.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_27.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_27.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_27.c?ref=e5833b56497c5cf04034ce68d6b9c73c2600158b", "patch": "@@ -18,7 +18,7 @@ bar (struct S *x)\n int\n main ()\n {\n-  struct S s = {};\n+  __attribute__((aligned(8))) struct S s = {};\n   s.buf[1] = 1;\n   s.buf[3] = 2;\n   bar (&s);"}, {"sha": "2d6cffc46945596566aa4e529b0935df6c33b786", "filename": "gcc/testsuite/gcc.dg/store_merging_28.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_28.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_28.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_28.c?ref=e5833b56497c5cf04034ce68d6b9c73c2600158b", "patch": "@@ -3,7 +3,7 @@\n /* { dg-require-effective-target store_merge } */\n /* { dg-options \"-O2 -fno-ipa-icf -fdump-tree-store-merging-details\" } */\n /* { dg-final { scan-tree-dump-times \"New sequence of \\[24] stores to replace old one of 16 stores\" 8 \"store-merging\" { target { i?86-*-* x86_64-*-* } } } } */\n-/* { dg-final { scan-tree-dump-times \"New sequence of \\[24] stores to replace old one of 6 stores\" 1 \"store-merging\" } } */\n+/* { dg-final { scan-tree-dump-times \"New sequence of \\[24] stores to replace old one of 6 stores\" 1 \"store-merging\" { target { ! arm*-*-* } } } } */\n \n typedef struct S { char data[16]; } S;\n void optimize_me (S);"}, {"sha": "6b32aa9b6f973b8ce6daec34870d37f0fe92622d", "filename": "gcc/testsuite/gcc.dg/store_merging_29.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_29.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_29.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstore_merging_29.c?ref=e5833b56497c5cf04034ce68d6b9c73c2600158b", "patch": "@@ -3,7 +3,7 @@\n /* { dg-require-effective-target store_merge } */\n /* { dg-options \"-O2 -fdump-tree-store-merging-details\" } */\n /* { dg-final { scan-tree-dump \"New sequence of 3 stores to replace old one of 6 stores\" \"store-merging\" { target { le && { ! arm*-*-* } } } } } */\n-/* { dg-final { scan-tree-dump \"New sequence of \\[34] stores to replace old one of 6 stores\" \"store-merging\" { target { be || { arm*-*-* } } } } } */\n+/* { dg-final { scan-tree-dump \"New sequence of \\[34] stores to replace old one of 6 stores\" \"store-merging\" { target { be && { ! arm*-*-* } } } } } */\n \n struct T { char a[1024]; };\n "}, {"sha": "70659c00c0efde5548fa69d4acd234bfde94791a", "filename": "gcc/testsuite/gcc.dg/tree-ssa/dump-6.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fdump-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5833b56497c5cf04034ce68d6b9c73c2600158b/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fdump-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fdump-6.c?ref=e5833b56497c5cf04034ce68d6b9c73c2600158b", "patch": "@@ -5,15 +5,15 @@\n    { dg-require-effective-target store_merge } */\n \n \n-extern char a2[2];\n+extern __attribute__((aligned(2))) char a2[2];\n \n void f2 (void)\n {\n   a2[0] = 1;\n   a2[1] = 0;\n }\n \n-extern char a4[4];\n+extern __attribute__((aligned(4))) char a4[4];\n \n void f4 (void)\n {\n@@ -23,7 +23,7 @@ void f4 (void)\n   a4[3] = 0;\n }\n \n-extern char a8[8];\n+extern __attribute__((aligned(8))) char a8[8];\n \n void f8 (void)\n {"}]}