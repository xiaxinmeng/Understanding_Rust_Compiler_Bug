{"sha": "52fb98560854235bdf791d6e2c7cfef3d52b1a93", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJmYjk4NTYwODU0MjM1YmRmNzkxZDZlMmM3Y2ZlZjNkNTJiMWE5Mw==", "commit": {"author": {"name": "Ira Rosen", "email": "irar@il.ibm.com", "date": "2006-10-22T10:45:36Z"}, "committer": {"name": "Ira Rosen", "email": "irar@gcc.gnu.org", "date": "2006-10-22T10:45:36Z"}, "message": "tree-vect-transform.c (vectorizable_load): Use the type of the return value of the mask_for_load builtin to create...\n\n        * tree-vect-transform.c (vectorizable_load): Use the type of the\n        return value of the mask_for_load builtin to create realign_load\n        stmt.\n\nFrom-SVN: r117952", "tree": {"sha": "e9ec620f83f9eaca49d4facf37792c145adeeb73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9ec620f83f9eaca49d4facf37792c145adeeb73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52fb98560854235bdf791d6e2c7cfef3d52b1a93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52fb98560854235bdf791d6e2c7cfef3d52b1a93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52fb98560854235bdf791d6e2c7cfef3d52b1a93", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52fb98560854235bdf791d6e2c7cfef3d52b1a93/comments", "author": {"login": "irar2", "id": 16818592, "node_id": "MDQ6VXNlcjE2ODE4NTky", "avatar_url": "https://avatars.githubusercontent.com/u/16818592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/irar2", "html_url": "https://github.com/irar2", "followers_url": "https://api.github.com/users/irar2/followers", "following_url": "https://api.github.com/users/irar2/following{/other_user}", "gists_url": "https://api.github.com/users/irar2/gists{/gist_id}", "starred_url": "https://api.github.com/users/irar2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/irar2/subscriptions", "organizations_url": "https://api.github.com/users/irar2/orgs", "repos_url": "https://api.github.com/users/irar2/repos", "events_url": "https://api.github.com/users/irar2/events{/privacy}", "received_events_url": "https://api.github.com/users/irar2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7dc7d8a2e4fe80934e66828232ef1d8c38b4b8b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dc7d8a2e4fe80934e66828232ef1d8c38b4b8b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dc7d8a2e4fe80934e66828232ef1d8c38b4b8b1"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "cbc5d7b1f7078e095d5e78b02ab90497e4f9278b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52fb98560854235bdf791d6e2c7cfef3d52b1a93/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52fb98560854235bdf791d6e2c7cfef3d52b1a93/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=52fb98560854235bdf791d6e2c7cfef3d52b1a93", "patch": "@@ -1,3 +1,9 @@\n+2006-10-22  Ira Rosen  <irar@il.ibm.com>\n+\n+        * tree-vect-transform.c (vectorizable_load): Use the type of the\n+        return value of the mask_for_load builtin to create realign_load\n+        stmt.\n+\n 2006-10-22  Richard Sandiford  <richard@codesourcery.com>\n \n \t* config/mips/mips.c (mips_split_const): Don't accept bare PLUS"}, {"sha": "ee17fa443bfac77317bb003f531d28fbac638616", "filename": "gcc/tree-vect-transform.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52fb98560854235bdf791d6e2c7cfef3d52b1a93/gcc%2Ftree-vect-transform.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52fb98560854235bdf791d6e2c7cfef3d52b1a93/gcc%2Ftree-vect-transform.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-transform.c?ref=52fb98560854235bdf791d6e2c7cfef3d52b1a93", "patch": "@@ -1916,11 +1916,13 @@ vectorizable_load (tree stmt, block_stmt_iterator *bsi, tree *vec_stmt)\n \t  /* Create permutation mask, if required, in loop preheader.  */\n \t  tree builtin_decl;\n \t  params = build_tree_list (NULL_TREE, init_addr);\n-\t  vec_dest = vect_create_destination_var (scalar_dest, vectype);\n \t  builtin_decl = targetm.vectorize.builtin_mask_for_load ();\n \t  new_stmt = build_function_call_expr (builtin_decl, params);\n-\t  new_stmt = build2 (MODIFY_EXPR, vectype, vec_dest, new_stmt);\n-\t  new_temp = make_ssa_name (vec_dest, new_stmt);\n+\t  vec_dest = vect_create_destination_var (scalar_dest,\n+                                                  TREE_TYPE (new_stmt));\n+          new_stmt = build2 (MODIFY_EXPR, TREE_TYPE (vec_dest), vec_dest,\n+                             new_stmt);\n+          new_temp = make_ssa_name (vec_dest, new_stmt);\n \t  TREE_OPERAND (new_stmt, 0) = new_temp;\n \t  new_bb = bsi_insert_on_edge_immediate (pe, new_stmt);\n \t  gcc_assert (!new_bb);"}]}