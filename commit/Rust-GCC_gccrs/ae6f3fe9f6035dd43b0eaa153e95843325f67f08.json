{"sha": "ae6f3fe9f6035dd43b0eaa153e95843325f67f08", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU2ZjNmZTlmNjAzNWRkNDNiMGVhYTE1M2U5NTg0MzMyNWY2N2YwOA==", "commit": {"author": {"name": "Jonathan Larmour", "email": "jlarmour@redhat.co.uk", "date": "2000-02-10T01:30:43Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2000-02-10T01:30:43Z"}, "message": "Use -static when testing --gc-sections on native targets\n\nFrom-SVN: r31880", "tree": {"sha": "04e91be825698a2364d01f0a837b35b3717453be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04e91be825698a2364d01f0a837b35b3717453be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae6f3fe9f6035dd43b0eaa153e95843325f67f08", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae6f3fe9f6035dd43b0eaa153e95843325f67f08", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae6f3fe9f6035dd43b0eaa153e95843325f67f08", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae6f3fe9f6035dd43b0eaa153e95843325f67f08/comments", "author": null, "committer": null, "parents": [{"sha": "564ad5f49e3f4d9d55e972d8ed66ac12bd2c83dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/564ad5f49e3f4d9d55e972d8ed66ac12bd2c83dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/564ad5f49e3f4d9d55e972d8ed66ac12bd2c83dc"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "eca8f2520fa09d3baca3340ebd5379e457812b0e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae6f3fe9f6035dd43b0eaa153e95843325f67f08/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae6f3fe9f6035dd43b0eaa153e95843325f67f08/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae6f3fe9f6035dd43b0eaa153e95843325f67f08", "patch": "@@ -1,3 +1,8 @@\n+2000-02-09  Jonathan Larmour  <jlarmour@redhat.co.uk>\n+\n+\t* gcc.dg/special/ecos.exp: Use -static when testing --gc-sections\n+        on native targets\n+\n 2000-02-08  Nathan Sidwell  <nathan@acm.org>\n \n \t* g++.old-deja/g++.other/cast5.C: New test."}, {"sha": "8ed0daf3afb045d62491df2b266d8e47c09733bd", "filename": "gcc/testsuite/gcc.dg/special/ecos.exp", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae6f3fe9f6035dd43b0eaa153e95843325f67f08/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fecos.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae6f3fe9f6035dd43b0eaa153e95843325f67f08/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fecos.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fecos.exp?ref=ae6f3fe9f6035dd43b0eaa153e95843325f67f08", "patch": "@@ -139,7 +139,11 @@ set ld_output [ remote_exec host \"[ find_ld ]\" \"--help\" ]\n if { [ string first \"--gc-sections\" $ld_output ] >= 0 } {\n \n     dg-init\n-    dg-runtest \"$srcdir/$subdir/gcsec-1.c\" \"-ffunction-sections -fdata-sections -Wl,--gc-sections\" \"\"\n+    if [isnative] {\n+\tdg-runtest \"$srcdir/$subdir/gcsec-1.c\" \"-ffunction-sections -fdata-sections -Wl,--gc-sections -static\" \"\"\n+    } else {\n+\tdg-runtest \"$srcdir/$subdir/gcsec-1.c\" \"-ffunction-sections -fdata-sections -Wl,--gc-sections\" \"\"\n+    }\n     dg-finish\n } else {\n     unsupported \"gcsec-1.c\""}]}