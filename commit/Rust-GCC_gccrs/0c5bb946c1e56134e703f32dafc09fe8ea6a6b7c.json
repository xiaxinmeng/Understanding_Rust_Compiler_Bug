{"sha": "0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM1YmI5NDZjMWU1NjEzNGU3MDNmMzJkYWZjMDlmZThlYTZhNmI3Yw==", "commit": {"author": {"name": "Xinliang David Li", "email": "davidxl@google.com", "date": "2010-07-29T14:30:18Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2010-07-29T14:30:18Z"}, "message": "Revert change in revision 162652.\n\n2010-07-29  Xinliang David Li  <davidxl@google.com>\n\n\tPR bootstrap/45119\n\t* tree-ssa-loop-ivopts.c (get_address_cost): Revert change\n\tin revision 162652.\n\nFrom-SVN: r162683", "tree": {"sha": "fa372df681d68e0eef348db5c49e9e3d9453bebf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa372df681d68e0eef348db5c49e9e3d9453bebf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c/comments", "author": {"login": "vns-mn", "id": 57157229, "node_id": "MDQ6VXNlcjU3MTU3MjI5", "avatar_url": "https://avatars.githubusercontent.com/u/57157229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vns-mn", "html_url": "https://github.com/vns-mn", "followers_url": "https://api.github.com/users/vns-mn/followers", "following_url": "https://api.github.com/users/vns-mn/following{/other_user}", "gists_url": "https://api.github.com/users/vns-mn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vns-mn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vns-mn/subscriptions", "organizations_url": "https://api.github.com/users/vns-mn/orgs", "repos_url": "https://api.github.com/users/vns-mn/repos", "events_url": "https://api.github.com/users/vns-mn/events{/privacy}", "received_events_url": "https://api.github.com/users/vns-mn/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2c2fbff7d6acedd8a19e388b6d5a2ac6bb995b0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c2fbff7d6acedd8a19e388b6d5a2ac6bb995b0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c2fbff7d6acedd8a19e388b6d5a2ac6bb995b0c"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "310f06ecf1bdb0d7e046dbbabdd94efe4d8a9b52", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c", "patch": "@@ -1,3 +1,9 @@\n+2010-07-29  Xinliang David Li  <davidxl@google.com>\n+\n+\tPR bootstrap/45119\n+\t* tree-ssa-loop-ivopts.c (get_address_cost): Revert change\n+\tin revision 162652.\n+\n 2010-07-29  Richard Guenther  <rguenther@suse.de>\n \n \t* timevar.def (TV_TREE_STORE_COPY_PROP): Remove."}, {"sha": "1d65b4aadfa08e85ce5ad08a1378928d068e3e08", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=0c5bb946c1e56134e703f32dafc09fe8ea6a6b7c", "patch": "@@ -3243,7 +3243,7 @@ get_address_cost (bool symbol_present, bool var_present,\n       HOST_WIDE_INT i;\n       HOST_WIDE_INT start = BIGGEST_ALIGNMENT / BITS_PER_UNIT;\n       HOST_WIDE_INT rat, off;\n-      int old_cse_not_expected, width;\n+      int old_cse_not_expected;\n       unsigned sym_p, var_p, off_p, rat_p, add_c;\n       rtx seq, addr, base;\n       rtx reg0, reg1;\n@@ -3252,10 +3252,8 @@ get_address_cost (bool symbol_present, bool var_present,\n \n       reg1 = gen_raw_REG (address_mode, LAST_VIRTUAL_REGISTER + 1);\n \n-      width = (GET_MODE_BITSIZE (address_mode) <  HOST_BITS_PER_WIDE_INT - 2)\n-          ? GET_MODE_BITSIZE (address_mode) : HOST_BITS_PER_WIDE_INT - 2;\n       addr = gen_rtx_fmt_ee (PLUS, address_mode, reg1, NULL_RTX);\n-      for (i = start; i <= 1ll << width; i <<= 1)\n+      for (i = start; i <= 1 << 20; i <<= 1)\n \t{\n \t  XEXP (addr, 1) = gen_int_mode (i, address_mode);\n \t  if (!memory_address_addr_space_p (mem_mode, addr, as))\n@@ -3264,7 +3262,7 @@ get_address_cost (bool symbol_present, bool var_present,\n       data->max_offset = i == start ? 0 : i >> 1;\n       off = data->max_offset;\n \n-      for (i = start; i <= 1ll << width; i <<= 1)\n+      for (i = start; i <= 1 << 20; i <<= 1)\n \t{\n \t  XEXP (addr, 1) = gen_int_mode (-i, address_mode);\n \t  if (!memory_address_addr_space_p (mem_mode, addr, as))\n@@ -3275,12 +3273,12 @@ get_address_cost (bool symbol_present, bool var_present,\n       if (dump_file && (dump_flags & TDF_DETAILS))\n \t{\n \t  fprintf (dump_file, \"get_address_cost:\\n\");\n-\t  fprintf (dump_file, \"  min offset %s \" HOST_WIDE_INT_PRINT_DEC \"\\n\",\n+\t  fprintf (dump_file, \"  min offset %s %d\\n\",\n \t\t   GET_MODE_NAME (mem_mode),\n-\t\t   data->min_offset);\n-\t  fprintf (dump_file, \"  max offset %s \" HOST_WIDE_INT_PRINT_DEC \"\\n\",\n+\t\t   (int) data->min_offset);\n+\t  fprintf (dump_file, \"  max offset %s %d\\n\",\n \t\t   GET_MODE_NAME (mem_mode),\n-\t\t   data->max_offset);\n+\t\t   (int) data->max_offset);\n \t}\n \n       rat = 1;"}]}