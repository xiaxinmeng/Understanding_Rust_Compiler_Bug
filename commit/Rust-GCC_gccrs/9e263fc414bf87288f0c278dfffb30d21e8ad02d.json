{"sha": "9e263fc414bf87288f0c278dfffb30d21e8ad02d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWUyNjNmYzQxNGJmODcyODhmMGMyNzhkZmZmYjMwZDIxZThhZDAyZA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-01-12T22:52:37Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-01-12T22:52:37Z"}, "message": "(main): Set signal handler for SIGPIPE.\n\n(pipe_closed): New function, to handle SIGPIPE.\n\nFrom-SVN: r3205", "tree": {"sha": "f9ac2321497c07052aa857bec7fc347d3a5257d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9ac2321497c07052aa857bec7fc347d3a5257d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e263fc414bf87288f0c278dfffb30d21e8ad02d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e263fc414bf87288f0c278dfffb30d21e8ad02d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e263fc414bf87288f0c278dfffb30d21e8ad02d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e263fc414bf87288f0c278dfffb30d21e8ad02d/comments", "author": null, "committer": null, "parents": [{"sha": "a7c5971afba533de4a1c555f441ce2f4dee55039", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7c5971afba533de4a1c555f441ce2f4dee55039", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7c5971afba533de4a1c555f441ce2f4dee55039"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "1036414f865b1f28e4d7727fe6311d29217750d6", "filename": "gcc/cccp.c", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e263fc414bf87288f0c278dfffb30d21e8ad02d/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e263fc414bf87288f0c278dfffb30d21e8ad02d/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=9e263fc414bf87288f0c278dfffb30d21e8ad02d", "patch": "@@ -75,6 +75,7 @@ typedef unsigned char U_CHAR;\n #include <sys/stat.h>\n #include <ctype.h>\n #include <stdio.h>\n+#include <signal.h>\n \n #ifndef VMS\n #ifndef USG\n@@ -248,6 +249,7 @@ static void fatal ();\n void fancy_abort ();\n static void pfatal_with_name ();\n static void perror_with_name ();\n+static void pipe_closed ();\n static void print_containing_files ();\n static int lookup_import ();\n static int redundant_include_p ();\n@@ -983,6 +985,8 @@ main (argc, argv)\n   }\n #endif /* RLIMIT_STACK defined */\n \n+  signal (SIGPIPE, pipe_closed);\n+\n   progname = argv[0];\n #ifdef VMS\n   {\n@@ -8662,6 +8666,15 @@ pfatal_with_name (name)\n #endif\n }\n \n+/* Handler for SIGPIPE.  */\n+\n+static void\n+pipe_closed (signo)\n+     /* If this is missing, some compilers complain.  */\n+     int signo;\n+{\n+  fatal (\"output pipe has been closed\");\n+}\n \f\n static void\n memory_full ()"}]}