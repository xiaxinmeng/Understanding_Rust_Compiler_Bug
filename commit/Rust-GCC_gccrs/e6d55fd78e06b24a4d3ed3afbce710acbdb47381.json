{"sha": "e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTZkNTVmZDc4ZTA2YjI0YTRkM2VkM2FmYmNlNzEwYWNiZGI0NzM4MQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@libertysurf.fr", "date": "2004-03-13T18:16:14Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2004-03-13T18:16:14Z"}, "message": "re PR tree-optimization/14470 ([tree-ssa] trouble with post-increment)\n\n\tPR middle-end/14470\n\t* expr.c (store_expr): Call emit_queue before generating the move\n\tfrom the temporary to the original target.  Protect the temporary\n\tfrom emit_queue.\n\nFrom-SVN: r79452", "tree": {"sha": "a6144fe568a13119f10b6b8b1e2f18f21066b8d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6144fe568a13119f10b6b8b1e2f18f21066b8d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/comments", "author": {"login": "ebotcazou", "id": 48091907, "node_id": "MDQ6VXNlcjQ4MDkxOTA3", "avatar_url": "https://avatars.githubusercontent.com/u/48091907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebotcazou", "html_url": "https://github.com/ebotcazou", "followers_url": "https://api.github.com/users/ebotcazou/followers", "following_url": "https://api.github.com/users/ebotcazou/following{/other_user}", "gists_url": "https://api.github.com/users/ebotcazou/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebotcazou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebotcazou/subscriptions", "organizations_url": "https://api.github.com/users/ebotcazou/orgs", "repos_url": "https://api.github.com/users/ebotcazou/repos", "events_url": "https://api.github.com/users/ebotcazou/events{/privacy}", "received_events_url": "https://api.github.com/users/ebotcazou/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cfbab41c7dc3ab8ee146d1787cb0fe50800a83c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfbab41c7dc3ab8ee146d1787cb0fe50800a83c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfbab41c7dc3ab8ee146d1787cb0fe50800a83c8"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "8b0b58ef3c2f98406235cde3edf3c3d82a8b20ed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "patch": "@@ -1,3 +1,10 @@\n+2004-03-13  Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\tPR middle-end/14470\n+\t* expr.c (store_expr): Call emit_queue before generating the move\n+\tfrom the temporary to the original target.  Protect the temporary\n+\tfrom emit_queue.\n+\n 2004-03-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/14533"}, {"sha": "46140bbf3e4a06aadc6ff18ad5e3b873fda8a9b3", "filename": "gcc/expr.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "patch": "@@ -4245,7 +4245,9 @@ store_expr (tree exp, rtx target, int want_value)\n \t bit-initialized.  */\n       && expr_size (exp) != const0_rtx)\n     {\n+      emit_queue();\n       target = protect_from_queue (target, 1);\n+      temp = protect_from_queue (temp, 0);\n       if (GET_MODE (temp) != GET_MODE (target)\n \t  && GET_MODE (temp) != VOIDmode)\n \t{"}, {"sha": "7a113afdc88ee2081ff90b814800d2fd58270877", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "patch": "@@ -1,3 +1,7 @@\n+2004-03-13  Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\t* gcc.c-torture/execute/20040313-1.c: New test.\n+\n 2004-03-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/14533\n@@ -21388,3 +21392,4 @@ rlsruhe.de>\n \tcorrespond to c-torture\t1.11.\n \n \t* New file.\n+"}, {"sha": "c05fe730f0c24e126257c571878eb2562814ff6a", "filename": "gcc/testsuite/gcc.c-torture/execute/20040313-1.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040313-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6d55fd78e06b24a4d3ed3afbce710acbdb47381/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040313-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040313-1.c?ref=e6d55fd78e06b24a4d3ed3afbce710acbdb47381", "patch": "@@ -0,0 +1,17 @@\n+/* PR middle-end/14470 */\n+/* Origin: Lodewijk Voge <lvoge@cs.vu.nl> */\n+\n+extern void abort(void);\n+\n+int main()\n+{\n+  int t[1025] = { 1024 }, d;\n+\n+  d = 0;\n+  d = t[d]++;\n+  if (t[0] != 1025)\n+    abort();\n+  if (d != 1024)\n+    abort();\n+  return 0;\n+}"}]}