{"sha": "7b49d6db24d87f69458eaa3712445741997e80c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I0OWQ2ZGIyNGQ4N2Y2OTQ1OGVhYTM3MTI0NDU3NDE5OTdlODBjNw==", "commit": {"author": {"name": "Tulio Magno Quites Machado Filho", "email": "tuliom@linux.vnet.ibm.com", "date": "2012-09-19T19:08:00Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2012-09-19T19:08:00Z"}, "message": "ppc-get-timebase.c: New file.\n\n2012-09-19  Tulio Magno Quites Machado Filho  <tuliom@linux.vnet.ibm.com>\n\n        * gcc.target/powerpc/ppc-get-timebase.c: New file.\n        * gcc.target/powerpc/ppc-mftb.c: New file.\n\nFrom-SVN: r191492", "tree": {"sha": "9570cfd73f6fb3e572664a17fc612bd66e2af134", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9570cfd73f6fb3e572664a17fc612bd66e2af134"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b49d6db24d87f69458eaa3712445741997e80c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b49d6db24d87f69458eaa3712445741997e80c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b49d6db24d87f69458eaa3712445741997e80c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b49d6db24d87f69458eaa3712445741997e80c7/comments", "author": {"login": "tuliom", "id": 85220, "node_id": "MDQ6VXNlcjg1MjIw", "avatar_url": "https://avatars.githubusercontent.com/u/85220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tuliom", "html_url": "https://github.com/tuliom", "followers_url": "https://api.github.com/users/tuliom/followers", "following_url": "https://api.github.com/users/tuliom/following{/other_user}", "gists_url": "https://api.github.com/users/tuliom/gists{/gist_id}", "starred_url": "https://api.github.com/users/tuliom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tuliom/subscriptions", "organizations_url": "https://api.github.com/users/tuliom/orgs", "repos_url": "https://api.github.com/users/tuliom/repos", "events_url": "https://api.github.com/users/tuliom/events{/privacy}", "received_events_url": "https://api.github.com/users/tuliom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0efbf084f42a63c393962eb2207c826eb91c5029", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0efbf084f42a63c393962eb2207c826eb91c5029", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0efbf084f42a63c393962eb2207c826eb91c5029"}], "stats": {"total": 43, "additions": 43, "deletions": 0}, "files": [{"sha": "5371a94945eee9958f56beb84f98ea06dbd27228", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b49d6db24d87f69458eaa3712445741997e80c7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b49d6db24d87f69458eaa3712445741997e80c7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7b49d6db24d87f69458eaa3712445741997e80c7", "patch": "@@ -1,3 +1,8 @@\n+2012-09-19  Tulio Magno Quites Machado Filho  <tuliom@linux.vnet.ibm.com>\n+\n+\t* gcc.target/powerpc/ppc-get-timebase.c: New file.\n+\t* gcc.target/powerpc/ppc-mftb.c: New file.\n+\n 2012-09-19  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \tPR target/54089"}, {"sha": "9de8929af1efdfb46dbc9b7f991dd5dd03cc0578", "filename": "gcc/testsuite/gcc.target/powerpc/ppc-get-timebase.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b49d6db24d87f69458eaa3712445741997e80c7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-get-timebase.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b49d6db24d87f69458eaa3712445741997e80c7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-get-timebase.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-get-timebase.c?ref=7b49d6db24d87f69458eaa3712445741997e80c7", "patch": "@@ -0,0 +1,20 @@\n+/* { dg-do run { target { powerpc*-*-* } } } */\n+\n+/* Test if __builtin_ppc_get_timebase () is compatible with the current\n+   processor and if it's changing between reads.  A read failure might indicate\n+   a Power ISA or binutils change.  */\n+\n+#include <inttypes.h>\n+\n+int\n+main (void)\n+{\n+  uint64_t t = __builtin_ppc_get_timebase ();\n+  int j;\n+\n+  for (j = 0; j < 1000000; j++)\n+    if (t != __builtin_ppc_get_timebase ())\n+      return 0;\n+\n+  return 1;\n+}"}, {"sha": "f64e45d1dad81d3bf425e1932fb6d8a12da6584e", "filename": "gcc/testsuite/gcc.target/powerpc/ppc-mftb.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b49d6db24d87f69458eaa3712445741997e80c7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-mftb.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b49d6db24d87f69458eaa3712445741997e80c7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-mftb.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-mftb.c?ref=7b49d6db24d87f69458eaa3712445741997e80c7", "patch": "@@ -0,0 +1,18 @@\n+/* { dg-do run { target { powerpc*-*-* } } } */\n+\n+/* Test if __builtin_ppc_mftb () is compatible with the current processor and\n+   if it's changing between reads.  A read failure might indicate a Power\n+   ISA or binutils change.  */\n+\n+int\n+main (void)\n+{\n+  unsigned long t = __builtin_ppc_mftb ();\n+  int j;\n+\n+  for (j = 0; j < 1000000; j++)\n+    if (t != __builtin_ppc_mftb ())\n+      return 0;\n+\n+  return 1;\n+}"}]}