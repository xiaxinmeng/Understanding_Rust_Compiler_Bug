{"sha": "0b2b7ef3676920c120d9b329e5b65924650ab44c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGIyYjdlZjM2NzY5MjBjMTIwZDliMzI5ZTViNjU5MjQ2NTBhYjQ0Yw==", "commit": {"author": {"name": "Ayush Mittal", "email": "ayush.m@samsung.com", "date": "2021-02-19T04:59:03Z"}, "committer": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2021-02-19T05:00:06Z"}, "message": "[PATCH v2] libiberty(argv.c): Fix memory leak in expandargv\n\nlibiberty:\n\t* argv.c (expandargv): free allocated buffer if read fails.", "tree": {"sha": "72664f00635506847ca548af99a9f4172b704983", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72664f00635506847ca548af99a9f4172b704983"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b2b7ef3676920c120d9b329e5b65924650ab44c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b2b7ef3676920c120d9b329e5b65924650ab44c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b2b7ef3676920c120d9b329e5b65924650ab44c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b2b7ef3676920c120d9b329e5b65924650ab44c/comments", "author": null, "committer": null, "parents": [{"sha": "d909ead68214042e9876a8df136d0835273d4b86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d909ead68214042e9876a8df136d0835273d4b86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d909ead68214042e9876a8df136d0835273d4b86"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "48dcd102461f69d70331a73975109ddbc5766e66", "filename": "libiberty/argv.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b2b7ef3676920c120d9b329e5b65924650ab44c/libiberty%2Fargv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b2b7ef3676920c120d9b329e5b65924650ab44c/libiberty%2Fargv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fargv.c?ref=0b2b7ef3676920c120d9b329e5b65924650ab44c", "patch": "@@ -442,7 +442,10 @@ expandargv (int *argcp, char ***argvp)\n \t     due to CR/LF->CR translation when reading text files.\n \t     That does not in-and-of itself indicate failure.  */\n \t  && ferror (f))\n-\tgoto error;\n+\t{\n+\t  free (buffer);\n+\t  goto error;\n+\t}\n       /* Add a NUL terminator.  */\n       buffer[len] = '\\0';\n       /* If the file is empty or contains only whitespace, buildargv would"}]}