{"sha": "f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjllODRiMzFkZjJhNWRkOTExZGU4NmM5ZjExNzdhOWQ4YzhlYTQ5ZA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2020-01-23T14:36:12Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2020-01-23T19:44:54Z"}, "message": "reject macros in math decl check\n\nThe C++ headers #undef the functions we are testing for, just in case\nthey're implemented as macros, so do that in the cross math decl tests\nas well.\n\n\nfor  libstdc++-v3/ChangeLog\n\n\t* crossconfig.m4 (GLIBCXX_CHECK_MATH_DECL): Reject macros.\n\t* configure: Rebuild.", "tree": {"sha": "10137a19d6f0c2fed308fcf935b11801addfe202", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10137a19d6f0c2fed308fcf935b11801addfe202"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/comments", "author": null, "committer": null, "parents": [{"sha": "7a900bcecab71593b731aa7dcad0fa3be8137f5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a900bcecab71593b731aa7dcad0fa3be8137f5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a900bcecab71593b731aa7dcad0fa3be8137f5a"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "61efaa5b08561aca35d0d2d5c53070eedab98a03", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "patch": "@@ -1,5 +1,8 @@\n 2020-01-23  Alexandre Oliva <oliva@adacore.com>\n \n+\t* crossconfig.m4 (GLIBCXX_CHECK_MATH_DECL): Reject macros.\n+\t* configure: Rebuild.\n+\n \t* testsuite/27_io/fpos/mbstate_t/1.cc: Zero-init mbstate_t.\n \n 2020-01-23  Jonathan Wakely  <jwakely@redhat.com>"}, {"sha": "f3f2bdfec1dd9d0658c9e785fe8cd54312b50d3c", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "patch": "@@ -72956,6 +72956,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef acosl\n \n int\n main ()\n@@ -73006,6 +73007,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef asinl\n \n int\n main ()\n@@ -73056,6 +73058,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef atan2l\n \n int\n main ()\n@@ -73106,6 +73109,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef atanl\n \n int\n main ()\n@@ -73156,6 +73160,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef ceill\n \n int\n main ()\n@@ -73206,6 +73211,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef cosl\n \n int\n main ()\n@@ -73256,6 +73262,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef coshl\n \n int\n main ()\n@@ -73306,6 +73313,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef expl\n \n int\n main ()\n@@ -73356,6 +73364,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef fabsl\n \n int\n main ()\n@@ -73406,6 +73415,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef floorl\n \n int\n main ()\n@@ -73456,6 +73466,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef fmodl\n \n int\n main ()\n@@ -73506,6 +73517,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef frexpl\n \n int\n main ()\n@@ -73556,6 +73568,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef ldexpl\n \n int\n main ()\n@@ -73606,6 +73619,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef log10l\n \n int\n main ()\n@@ -73656,6 +73670,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef logl\n \n int\n main ()\n@@ -73706,6 +73721,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef modfl\n \n int\n main ()\n@@ -73756,6 +73772,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef powl\n \n int\n main ()\n@@ -73806,6 +73823,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef sinl\n \n int\n main ()\n@@ -73856,6 +73874,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef sinhl\n \n int\n main ()\n@@ -73906,6 +73925,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef sqrtl\n \n int\n main ()\n@@ -73956,6 +73976,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef tanl\n \n int\n main ()\n@@ -74006,6 +74027,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef tanhl\n \n int\n main ()"}, {"sha": "fe1828835368dd5c2c16a20cf4abc52739e52f30", "filename": "libstdc++-v3/crossconfig.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/libstdc%2B%2B-v3%2Fcrossconfig.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d/libstdc%2B%2B-v3%2Fcrossconfig.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fcrossconfig.m4?ref=f9e84b31df2a5dd911de86c9f1177a9d8c8ea49d", "patch": "@@ -333,6 +333,7 @@ AC_DEFUN([GLIBCXX_CHECK_MATH_DECL], [\n #ifdef HAVE_IEEEFP_H\n # include <ieeefp.h>\n #endif\n+#undef $1\n ], [\n   void (*f)(void) = (void (*)(void))$1;\n ], [glibcxx_cv_func_$1_use=yes"}]}