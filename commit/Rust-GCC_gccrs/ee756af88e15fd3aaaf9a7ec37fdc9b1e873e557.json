{"sha": "ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU3NTZhZjg4ZTE1ZmQzYWFhZjlhN2VjMzdmZGM5YjFlODczZTU1Nw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-07T15:38:24Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-07T15:38:24Z"}, "message": "compiler: Don't assign to embedded builtins in imported struct composite\nliterals.\n\nFixes https://github.com/golang/go/issues/6832.\n\nFrom-SVN: r219313", "tree": {"sha": "fcec12af91791a3df6f56aac083de204601cf1a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcec12af91791a3df6f56aac083de204601cf1a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557/comments", "author": null, "committer": null, "parents": [{"sha": "50bb6c8e11803519bba0e58f9efee524acb99fc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50bb6c8e11803519bba0e58f9efee524acb99fc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50bb6c8e11803519bba0e58f9efee524acb99fc1"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "323ce16f93eb9e58e857b9c0b798059f926f6b4c", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=ee756af88e15fd3aaaf9a7ec37fdc9b1e873e557", "patch": "@@ -12937,7 +12937,8 @@ Composite_literal_expression::lower_struct(Gogo* gogo, Type* type)\n \t       pf != st->fields()->end();\n \t       ++pf)\n \t    {\n-\t      if (Gogo::is_hidden_name(pf->field_name()))\n+\t      if (Gogo::is_hidden_name(pf->field_name())\n+\t\t  || pf->is_embedded_builtin(gogo))\n \t\terror_at(this->location(),\n \t\t\t \"assignment of unexported field %qs in %qs literal\",\n \t\t\t Gogo::message_name(pf->field_name()).c_str(),\n@@ -13114,7 +13115,8 @@ Composite_literal_expression::lower_struct(Gogo* gogo, Type* type)\n \n       if (type->named_type() != NULL\n \t  && type->named_type()->named_object()->package() != NULL\n-\t  && Gogo::is_hidden_name(sf->field_name()))\n+\t  && (Gogo::is_hidden_name(sf->field_name())\n+\t      || sf->is_embedded_builtin(gogo)))\n \terror_at(name_expr->location(),\n \t\t \"assignment of unexported field %qs in %qs literal\",\n \t\t Gogo::message_name(sf->field_name()).c_str(),"}]}