{"sha": "d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQyODQ0ZjFmYWRkYTdjYjhiZjM3YTEwNGQ1N2Y0ZjBlMDMwMmExZg==", "commit": {"author": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2016-06-19T10:38:16Z"}, "committer": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2016-06-19T10:38:16Z"}, "message": "Use gfc_add_*_component defines where appropriate\n\nA couple of places used gfc_add_component_ref(expr, \"string\") instead of\nthe defines from gfortran.h\n\nFrom-SVN: r237580", "tree": {"sha": "b40b06f72522e2e295cc3d3c5b40fbc5c2e9f312", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b40b06f72522e2e295cc3d3c5b40fbc5c2e9f312"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/comments", "author": null, "committer": null, "parents": [{"sha": "323524d939e45afe9b9e209f6e860980f3bad9d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/323524d939e45afe9b9e209f6e860980f3bad9d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/323524d939e45afe9b9e209f6e860980f3bad9d0"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "d1f384ecc14f3a6a74c3e97613d2de15109ca4dc", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "patch": "@@ -1,3 +1,15 @@\n+2016-06-19  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n+\n+\t* class.c (gfc_add_class_array_ref): Call gfc_add_data_component()\n+\tinstead of gfc_add_component_ref().\n+\t(gfc_get_len_component): Call gfc_add_len_component() instead of\n+\tgfc_add_component_ref().\n+\t* trans-intrinsic.c (gfc_conv_intrinsic_loc): Call\n+\tgfc_add_data_component() instead of gfc_add_component_ref().\n+\t* trans.c (gfc_add_finalizer_call): Call\n+\tgfc_add_final_component() and gfc_add_size_component() instead\n+\tof gfc_add_component_ref.\n+\n 2016-06-18  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n \n \t* trans-types.c (gfc_typenode_for_spec): Commentary typo fix."}, {"sha": "a627448529e32734fbb98a65198fd75d02ba8ee4", "filename": "gcc/fortran/class.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fclass.c?ref=d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "patch": "@@ -257,7 +257,7 @@ gfc_add_class_array_ref (gfc_expr *e)\n   int rank = CLASS_DATA (e)->as->rank;\n   gfc_array_spec *as = CLASS_DATA (e)->as;\n   gfc_ref *ref = NULL;\n-  gfc_add_component_ref (e, \"_data\");\n+  gfc_add_data_component (e);\n   e->rank = rank;\n   for (ref = e->ref; ref; ref = ref->next)\n     if (!ref->next)\n@@ -582,7 +582,7 @@ gfc_get_len_component (gfc_expr *e)\n       ref = ref->next;\n     }\n   /* And replace if with a ref to the _len component.  */\n-  gfc_add_component_ref (ptr, \"_len\");\n+  gfc_add_len_component (ptr);\n   return ptr;\n }\n "}, {"sha": "574300eabb53caa5a9c7424ab31fd4ab65cdf96b", "filename": "gcc/fortran/trans-intrinsic.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2Ftrans-intrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2Ftrans-intrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-intrinsic.c?ref=d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "patch": "@@ -7137,7 +7137,7 @@ gfc_conv_intrinsic_loc (gfc_se * se, gfc_expr * expr)\n   if (arg_expr->rank == 0)\n     {\n       if (arg_expr->ts.type == BT_CLASS)\n-\tgfc_add_component_ref (arg_expr, \"_data\");\n+\tgfc_add_data_component (arg_expr);\n       gfc_conv_expr_reference (se, arg_expr);\n     }\n   else"}, {"sha": "28d1341cc7ef187d2ba9d650124cef9777e6d73b", "filename": "gcc/fortran/trans.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d42844f1fadda7cb8bf37a104d57f4f0e0302a1f/gcc%2Ffortran%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans.c?ref=d42844f1fadda7cb8bf37a104d57f4f0e0302a1f", "patch": "@@ -1148,11 +1148,11 @@ gfc_add_finalizer_call (stmtblock_t *block, gfc_expr *expr2)\n \n       final_expr = gfc_copy_expr (expr);\n       gfc_add_vptr_component (final_expr);\n-      gfc_add_component_ref (final_expr, \"_final\");\n+      gfc_add_final_component (final_expr);\n \n       elem_size = gfc_copy_expr (expr);\n       gfc_add_vptr_component (elem_size);\n-      gfc_add_component_ref (elem_size, \"_size\");\n+      gfc_add_size_component (elem_size);\n     }\n \n   gcc_assert (final_expr->expr_type == EXPR_VARIABLE);"}]}