{"sha": "b98bd80dcf9d82564a9f38930c87121910d7505f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk4YmQ4MGRjZjlkODI1NjRhOWYzODkzMGM4NzEyMTkxMGQ3NTA1Zg==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2008-05-26T09:41:03Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-26T09:41:03Z"}, "message": "2008-05-26  Robert Dewar  <dewar@adacore.com>\n\n\t* exp_ch2.adb:\n\t(Expand_Current_Value): Properly type generated integer literal\n\nFrom-SVN: r135904", "tree": {"sha": "e61a2ec7f895f9b887d25f053c8e2cfee548edf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e61a2ec7f895f9b887d25f053c8e2cfee548edf9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b98bd80dcf9d82564a9f38930c87121910d7505f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b98bd80dcf9d82564a9f38930c87121910d7505f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b98bd80dcf9d82564a9f38930c87121910d7505f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b98bd80dcf9d82564a9f38930c87121910d7505f/comments", "author": null, "committer": null, "parents": [{"sha": "ac38d4afd3c32dbedf87fc5aadf6cf5e40264389", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac38d4afd3c32dbedf87fc5aadf6cf5e40264389", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac38d4afd3c32dbedf87fc5aadf6cf5e40264389"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "3825405dccf1ed6ac584290be2421153482a02f3", "filename": "gcc/ada/exp_ch2.adb", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b98bd80dcf9d82564a9f38930c87121910d7505f/gcc%2Fada%2Fexp_ch2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b98bd80dcf9d82564a9f38930c87121910d7505f/gcc%2Fada%2Fexp_ch2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch2.adb?ref=b98bd80dcf9d82564a9f38930c87121910d7505f", "patch": "@@ -193,13 +193,21 @@ package body Exp_Ch2 is\n               Unchecked_Convert_To (T,\n                 New_Occurrence_Of (Entity (Val), Loc)));\n \n-         --  Otherwise get the value, and convert to appropriate type\n+         --  If constant is of an integer type, just make an appropriately\n+         --  integer literal, which will get the proper type.\n+\n+         elsif Is_Integer_Type (T) then\n+            Rewrite (N,\n+              Make_Integer_Literal (Loc,\n+                Intval => Expr_Rep_Value (Val)));\n+\n+         --  Otherwise do unchecked conversion of value to right type\n \n          else\n             Rewrite (N,\n               Unchecked_Convert_To (T,\n-                Make_Integer_Literal (Loc,\n-                  Intval => Expr_Rep_Value (Val))));\n+                 Make_Integer_Literal (Loc,\n+                   Intval => Expr_Rep_Value (Val))));\n          end if;\n \n          Analyze_And_Resolve (N, T);"}]}