{"sha": "a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTBiOTZiYjc2YzRhOTc5ZjVhYzdjMTk5ZjNlMzM3MDIwZDc1MWFjMg==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2004-04-21T22:44:55Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2004-04-21T22:44:55Z"}, "message": "1c-01.c: Use ptrdiff_t for casts of pointers.\n\n2004-04-21  Janis Johnson  <janis187@us.ibm.com>\n\n\t* gcc.dg/vmx/1c-01.c: Use ptrdiff_t for casts of pointers.\n\t* gcc.dg/vmx/bug-1.c: Ditto.\n\nFrom-SVN: r80985", "tree": {"sha": "b179cd2377393c8c041d9a5f3ec01948fbc548bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b179cd2377393c8c041d9a5f3ec01948fbc548bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/comments", "author": null, "committer": null, "parents": [{"sha": "cb7761f5300f7aabf6c00860016caafbe7f11c62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb7761f5300f7aabf6c00860016caafbe7f11c62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb7761f5300f7aabf6c00860016caafbe7f11c62"}], "stats": {"total": 57, "additions": 32, "deletions": 25}, "files": [{"sha": "fe705e11b6c363f317a3bcb2bf12a0a0cedf6e25", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "patch": "@@ -1,3 +1,8 @@\n+2004-04-21  Janis Johnson  <janis187@us.ibm.com>\n+\n+\t* gcc.dg/vmx/1c-01.c: Use ptrdiff_t for casts of pointers.\n+\t* gcc.dg/vmx/bug-1.c: Ditto.\n+\n 2004-04-20  Eric Christopher  <echristo@redhat.com>\n \n \t* gcc.dg/charset/extern.c: New test."}, {"sha": "974bda19ed51c5337e1de5a85ccf9b5d11ce0ce9", "filename": "gcc/testsuite/gcc.dg/vmx/1c-01.c", "status": "modified", "additions": 25, "deletions": 24, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2F1c-01.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2F1c-01.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2F1c-01.c?ref=a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "patch": "@@ -1,3 +1,4 @@\n+#include <stddef.h>\n #include \"harness.h\"\n \n /* Declare vector types.  */\n@@ -27,29 +28,29 @@ vector pixel *p16c = &p16;\n \n static void test()\n {\n-  check(((int)u8c & 15) == 0, \"alignof(u8)\");\n-  check(((int)u8c & 15) == 0, \"alignof(u8)\");\n-  check(((int)s8c & 15) == 0, \"alignof(s8)\");\n-  check(((int)b8c & 15) == 0, \"alignof(b8)\");\n-  check(((int)u16c & 15) == 0, \"alignof(u16)\");\n-  check(((int)s16c & 15) == 0, \"alignof(s16)\");\n-  check(((int)b16c & 15) == 0, \"alignof(b16)\");\n-  check(((int)u32c & 15) == 0, \"alignof(u32)\");\n-  check(((int)s32c & 15) == 0, \"alignof(s32)\");\n-  check(((int)b32c & 15) == 0, \"alignof(b32)\");\n-  check(((int)f32c & 15) == 0, \"alignof(f32)\");\n-  check(((int)p16c & 15) == 0, \"alignof(p16)\");\n+  check(((ptrdiff_t)u8c & 15) == 0, \"alignof(u8)\");\n+  check(((ptrdiff_t)u8c & 15) == 0, \"alignof(u8)\");\n+  check(((ptrdiff_t)s8c & 15) == 0, \"alignof(s8)\");\n+  check(((ptrdiff_t)b8c & 15) == 0, \"alignof(b8)\");\n+  check(((ptrdiff_t)u16c & 15) == 0, \"alignof(u16)\");\n+  check(((ptrdiff_t)s16c & 15) == 0, \"alignof(s16)\");\n+  check(((ptrdiff_t)b16c & 15) == 0, \"alignof(b16)\");\n+  check(((ptrdiff_t)u32c & 15) == 0, \"alignof(u32)\");\n+  check(((ptrdiff_t)s32c & 15) == 0, \"alignof(s32)\");\n+  check(((ptrdiff_t)b32c & 15) == 0, \"alignof(b32)\");\n+  check(((ptrdiff_t)f32c & 15) == 0, \"alignof(f32)\");\n+  check(((ptrdiff_t)p16c & 15) == 0, \"alignof(p16)\");\n \n-  check((int)u8c == (int)&u8, \"u8c == &u8\");\n-  check((int)u8c == (int)&u8, \"u8c == &u8\");\n-  check((int)s8c == (int)&s8, \"s8c == &s8\");\n-  check((int)b8c == (int)&b8, \"b8c == &b8\");\n-  check((int)u16c == (int)&u16, \"u16c == &u16\");\n-  check((int)s16c == (int)&s16, \"s16c == &s16\");\n-  check((int)b16c == (int)&b16, \"b16c == &b16\");\n-  check((int)u32c == (int)&u32, \"u32c == &u32\");\n-  check((int)s32c == (int)&s32, \"s32c == &s32\");\n-  check((int)b32c == (int)&b32, \"b32c == &b32\");\n-  check((int)f32c == (int)&f32, \"f32c == &f32\");\n-  check((int)p16c == (int)&p16, \"p16c == &p16\");\n+  check((ptrdiff_t)u8c == (ptrdiff_t)&u8, \"u8c == &u8\");\n+  check((ptrdiff_t)u8c == (ptrdiff_t)&u8, \"u8c == &u8\");\n+  check((ptrdiff_t)s8c == (ptrdiff_t)&s8, \"s8c == &s8\");\n+  check((ptrdiff_t)b8c == (ptrdiff_t)&b8, \"b8c == &b8\");\n+  check((ptrdiff_t)u16c == (ptrdiff_t)&u16, \"u16c == &u16\");\n+  check((ptrdiff_t)s16c == (ptrdiff_t)&s16, \"s16c == &s16\");\n+  check((ptrdiff_t)b16c == (ptrdiff_t)&b16, \"b16c == &b16\");\n+  check((ptrdiff_t)u32c == (ptrdiff_t)&u32, \"u32c == &u32\");\n+  check((ptrdiff_t)s32c == (ptrdiff_t)&s32, \"s32c == &s32\");\n+  check((ptrdiff_t)b32c == (ptrdiff_t)&b32, \"b32c == &b32\");\n+  check((ptrdiff_t)f32c == (ptrdiff_t)&f32, \"f32c == &f32\");\n+  check((ptrdiff_t)p16c == (ptrdiff_t)&p16, \"p16c == &p16\");\n }"}, {"sha": "fdf392d5f9b09c1c18b6c096c4064038beaf3113", "filename": "gcc/testsuite/gcc.dg/vmx/bug-1.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fbug-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0b96bb76c4a979f5ac7c199f3e337020d751ac2/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fbug-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fbug-1.c?ref=a0b96bb76c4a979f5ac7c199f3e337020d751ac2", "patch": "@@ -1,5 +1,6 @@\n #include <stdlib.h>\n #include <stdio.h>\n+#include <stddef.h>\n #include <altivec.h>\n \n #define NPAGES 20\n@@ -12,7 +13,7 @@ static int failed;\n static void f(vector float *p)\n {\n   int i = 1;\n-  p = (vector float *)(((int)p + 4095) & ~4095);\n+  p = (vector float *)(((ptrdiff_t)p + 4095) & ~4095);\n \n   i += NSKIP;\n   p += NSKIP*4096/16;"}]}