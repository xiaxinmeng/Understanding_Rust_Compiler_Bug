{"sha": "0925a9772960c946440833033423bff41c330154", "node_id": "C_kwDOANBUbNoAKDA5MjVhOTc3Mjk2MGM5NDY0NDA4MzMwMzM0MjNiZmY0MWMzMzAxNTQ", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2023-01-09T15:41:51Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2023-01-09T15:44:42Z"}, "message": "Fix compilation of server.cc on hpux.\n\nSelect and FD_ISSET are declared in sys/time.h on most versions\nof hpux.  As a result, HAVE_PSELECT and HAVE_SELECT can be 0.\n\n2023-01-08  John David Anglin  <danglin@gcc.gnu.org>\n\nc++tools/ChangeLog:\n\n\tPR other/107616\n\t* server.cc (server): Don't call FD_ISSET when HAVE_PSELECT\n\tand HAVE_SELECT are zero.", "tree": {"sha": "9d9a5f698764e8c76e7b82602f3a07644a2e2dbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d9a5f698764e8c76e7b82602f3a07644a2e2dbc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0925a9772960c946440833033423bff41c330154", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0925a9772960c946440833033423bff41c330154", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0925a9772960c946440833033423bff41c330154", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0925a9772960c946440833033423bff41c330154/comments", "author": null, "committer": null, "parents": [{"sha": "cccef0517f3a73f638a96ee879e94ff2bece7298", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cccef0517f3a73f638a96ee879e94ff2bece7298", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cccef0517f3a73f638a96ee879e94ff2bece7298"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "79905eca9accc45928cca4859ff7e5183fb0e7cb", "filename": "c++tools/server.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0925a9772960c946440833033423bff41c330154/c%2B%2Btools%2Fserver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0925a9772960c946440833033423bff41c330154/c%2B%2Btools%2Fserver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fserver.cc?ref=0925a9772960c946440833033423bff41c330154", "patch": "@@ -753,8 +753,10 @@ server (bool ipv6, int sock_fd, module_resolver *resolver)\n \t\t      }\n \t\t  }\n \n+#if defined (HAVE_PSELECT) || defined (HAVE_SELECT)\n \t      if (active < 0 && sock_fd >= 0 && FD_ISSET (sock_fd, &readers))\n \t\tactive = -1;\n+#endif\n \t    }\n \n \t  if (active >= 0)"}]}