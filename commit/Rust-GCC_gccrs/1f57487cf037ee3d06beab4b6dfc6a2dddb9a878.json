{"sha": "1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY1NzQ4N2NmMDM3ZWUzZDA2YmVhYjRiNmRmYzZhMmRkZGI5YTg3OA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2008-09-09T16:36:14Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2008-09-09T16:36:14Z"}, "message": "Makefile.in (mips-tfile.o-warn): Don't error out on mips-tfile.c warnings.\n\n\t* Makefile.in (mips-tfile.o-warn): Don't error out on mips-tfile.c\n\twarnings.\n\t* mips-tfile.c (copy_object): Cast alloca result to int *.\n\t* mips-tdump.c (print_symbol): Cast xmalloc return values to\n\tproper types.\n\tRename class to sclass.\n\t(read_tfile): Cast read_seek return values to proper types.\n\tCast xcalloc return value to proper type.\n\nFrom-SVN: r140158", "tree": {"sha": "7f56945272b1970151fb4c039272d8f22336a453", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f56945272b1970151fb4c039272d8f22336a453"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/comments", "author": null, "committer": null, "parents": [{"sha": "00efcc2b88028e7582b1090617125256e3cd7292", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00efcc2b88028e7582b1090617125256e3cd7292", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00efcc2b88028e7582b1090617125256e3cd7292"}], "stats": {"total": 82, "additions": 49, "deletions": 33}, "files": [{"sha": "66b6584588fe4982049036c3154114882d7cc052", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "patch": "@@ -1,3 +1,14 @@\n+2008-09-09  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* Makefile.in (mips-tfile.o-warn): Don't error out on mips-tfile.c\n+\twarnings.\n+\t* mips-tfile.c (copy_object): Cast alloca result to int *.\n+\t* mips-tdump.c (print_symbol): Cast xmalloc return values to\n+\tproper types.\n+\tRename class to sclass.\n+\t(read_tfile): Cast read_seek return values to proper types.\n+\tCast xcalloc return value to proper type.\n+\n 2008-09-09  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* config/sol2.h (REGISTER_TARGET_PRAGMAS): Move ..."}, {"sha": "49c394d79be63d950c6e75237cf7d70afeb98ee4", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "patch": "@@ -185,6 +185,8 @@ bitmap.o-warn = -Wno-error\n dominance.o-warn = -Wno-error\n # graphite.c contains code calling cloog that has problems.\n graphite.o-warn = -Wno-error\n+# mips-tfile.c contains -Wcast-qual warnings.\n+mips-tfile.o-warn = -Wno-error\n \n # All warnings have to be shut off in stage1 if the compiler used then\n # isn't gcc; configure determines that.  WARN_CFLAGS will be either"}, {"sha": "2164a6e4b488c899caf3c3d8bdf5f58e0ea87120", "filename": "gcc/mips-tdump.c", "status": "modified", "additions": 35, "deletions": 32, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2Fmips-tdump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2Fmips-tdump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmips-tdump.c?ref=1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "patch": "@@ -883,7 +883,7 @@ print_symbol (SYMR *sym_ptr, int number, const char *strbase, AUXU *aux_base,\n \tif (want_scope)\n \t  {\n \t    if (free_scope == (scope_t *) 0)\n-\t      scope_ptr = xmalloc (sizeof (scope_t));\n+\t      scope_ptr = (scope_t *) xmalloc (sizeof (scope_t));\n \t    else\n \t      {\n \t\tscope_ptr = free_scope;\n@@ -937,7 +937,7 @@ print_symbol (SYMR *sym_ptr, int number, const char *strbase, AUXU *aux_base,\n \tif (want_scope)\n \t  {\n \t    if (free_scope == (scope_t *) 0)\n-\t      scope_ptr = xmalloc (sizeof (scope_t));\n+\t      scope_ptr = (scope_t *) xmalloc (sizeof (scope_t));\n \t    else\n \t      {\n \t\tscope_ptr = free_scope;\n@@ -980,19 +980,19 @@ print_symbol (SYMR *sym_ptr, int number, const char *strbase, AUXU *aux_base,\n \t       scope_ptr != (scope_t *) 0;\n \t       scope_ptr = scope_ptr->prev)\n \t    {\n-\t      const char *class;\n+\t      const char *sclass;\n \t      if (scope_ptr->st == st_Proc || scope_ptr->st == st_StaticProc)\n-\t\tclass = \"func.\";\n+\t\tsclass = \"func.\";\n \t      else if (scope_ptr->st == st_File)\n-\t\tclass = \"file\";\n+\t\tsclass = \"file\";\n \t      else if (scope_ptr->st == st_Block && scope_ptr->sc == sc_Text)\n-\t\tclass = \"block\";\n+\t\tsclass = \"block\";\n \t      else if (scope_ptr->st == st_Block && scope_ptr->sc == sc_Info)\n-\t\tclass = \"type\";\n+\t\tsclass = \"type\";\n \t      else\n-\t\tclass = \"???\";\n+\t\tsclass = \"???\";\n \n-\t      printf (\" %ld [%s]\", scope_ptr->open_sym, class);\n+\t      printf (\" %ld [%s]\", scope_ptr->open_sym, sclass);\n \t    }\n \t  printf (\"\\n\");\n \t}\n@@ -1345,41 +1345,44 @@ read_tfile (void)\n \n   print_sym_hdr (&sym_hdr);\n \n-  lines = read_seek (NULL, sym_hdr.cbLine, sym_hdr.cbLineOffset,\n-\t\t     \"Line numbers\");\n+  lines = (LINER *) read_seek (NULL, sym_hdr.cbLine, sym_hdr.cbLineOffset,\n+\t\t\t       \"Line numbers\");\n \n-  dense_nums = read_seek (NULL, sym_hdr.idnMax * sizeof (DNR),\n-\t\t\t  sym_hdr.cbDnOffset, \"Dense numbers\");\n+  dense_nums = (DNR *) read_seek (NULL, sym_hdr.idnMax * sizeof (DNR),\n+\t\t\t\t  sym_hdr.cbDnOffset, \"Dense numbers\");\n \n-  proc_desc = read_seek (NULL, sym_hdr.ipdMax * sizeof (PDR),\n-\t\t\t sym_hdr.cbPdOffset, \"Procedure tables\");\n+  proc_desc = (PDR *) read_seek (NULL, sym_hdr.ipdMax * sizeof (PDR),\n+\t\t\t\t sym_hdr.cbPdOffset, \"Procedure tables\");\n \n-  l_symbols = read_seek (NULL, sym_hdr.isymMax * sizeof (SYMR),\n-\t\t\t sym_hdr.cbSymOffset, \"Local symbols\");\n+  l_symbols = (SYMR *) read_seek (NULL, sym_hdr.isymMax * sizeof (SYMR),\n+\t\t\t\t  sym_hdr.cbSymOffset, \"Local symbols\");\n \n-  opt_symbols = read_seek (NULL, sym_hdr.ioptMax * sizeof (OPTR),\n-\t\t\t   sym_hdr.cbOptOffset, \"Optimization symbols\");\n+  opt_symbols = (OPTR *) read_seek (NULL, sym_hdr.ioptMax * sizeof (OPTR),\n+\t\t\t\t    sym_hdr.cbOptOffset,\n+\t\t\t\t    \"Optimization symbols\");\n \n-  aux_symbols = read_seek (NULL, sym_hdr.iauxMax * sizeof (AUXU),\n-\t\t\t   sym_hdr.cbAuxOffset, \"Auxiliary symbols\");\n+  aux_symbols = (AUXU *) read_seek (NULL, sym_hdr.iauxMax * sizeof (AUXU),\n+\t\t\t\t    sym_hdr.cbAuxOffset, \"Auxiliary symbols\");\n \n   if (sym_hdr.iauxMax > 0)\n-    aux_used = xcalloc (sym_hdr.iauxMax, 1);\n+    aux_used = (char *) xcalloc (sym_hdr.iauxMax, 1);\n \n-  l_strings = read_seek (NULL, sym_hdr.issMax,\n-\t\t\t sym_hdr.cbSsOffset, \"Local string table\");\n+  l_strings = (char *) read_seek (NULL, sym_hdr.issMax,\n+\t\t\t\t  sym_hdr.cbSsOffset, \"Local string table\");\n \n-  e_strings = read_seek (NULL, sym_hdr.issExtMax,\n-\t\t\t sym_hdr.cbSsExtOffset, \"External string table\");\n+  e_strings = (char *) read_seek (NULL, sym_hdr.issExtMax,\n+\t\t\t\t  sym_hdr.cbSsExtOffset,\n+\t\t\t\t  \"External string table\");\n \n-  file_desc = read_seek (NULL, sym_hdr.ifdMax * sizeof (FDR),\n-\t\t\t sym_hdr.cbFdOffset, \"File tables\");\n+  file_desc = (FDR *) read_seek (NULL, sym_hdr.ifdMax * sizeof (FDR),\n+\t\t\t\t sym_hdr.cbFdOffset, \"File tables\");\n \n-  rfile_desc = read_seek (NULL, sym_hdr.crfd * sizeof (ulong),\n-\t\t\t  sym_hdr.cbRfdOffset, \"Relative file tables\");\n+  rfile_desc = (ulong *) read_seek (NULL, sym_hdr.crfd * sizeof (ulong),\n+\t\t\t\t    sym_hdr.cbRfdOffset,\n+\t\t\t\t    \"Relative file tables\");\n \n-  e_symbols = read_seek (NULL, sym_hdr.iextMax * sizeof (EXTR),\n-\t\t\t sym_hdr.cbExtOffset, \"External symbols\");\n+  e_symbols = (EXTR *) read_seek (NULL, sym_hdr.iextMax * sizeof (EXTR),\n+\t\t\t\t  sym_hdr.cbExtOffset, \"External symbols\");\n }\n \n \f"}, {"sha": "87b278ab4d6d016ae64a508e5ab857cfcb2a7252", "filename": "gcc/mips-tfile.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2Fmips-tfile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f57487cf037ee3d06beab4b6dfc6a2dddb9a878/gcc%2Fmips-tfile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmips-tfile.c?ref=1f57487cf037ee3d06beab4b6dfc6a2dddb9a878", "patch": "@@ -4469,7 +4469,7 @@ copy_object (void)\n      (in case there are duplicate filenames, we collapse them into one\n      file section, the MIPS assembler may or may not collapse them).  */\n \n-  remap_file_number = alloca (sizeof (int) * orig_sym_hdr.ifdMax);\n+  remap_file_number = (int *) alloca (sizeof (int) * orig_sym_hdr.ifdMax);\n \n   for (fd = delete_ifd; fd < orig_sym_hdr.ifdMax; fd++)\n     {"}]}