{"sha": "65c045482b5b629a2ac5098a083f1a6566e888e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjVjMDQ1NDgyYjViNjI5YTJhYzUwOThhMDgzZjFhNjU2NmU4ODhlOA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2003-02-26T23:09:58Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-02-26T23:09:58Z"}, "message": "builtins.c (purge_builtin_constant_p): Handle subreg of constant_p_rtx too.\n\n* builtins.c (purge_builtin_constant_p): Handle subreg of\nconstant_p_rtx too.\n\nFrom-SVN: r63490", "tree": {"sha": "bb82fd600d50271ab4fa36c3dc68debb48a0f875", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb82fd600d50271ab4fa36c3dc68debb48a0f875"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65c045482b5b629a2ac5098a083f1a6566e888e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65c045482b5b629a2ac5098a083f1a6566e888e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65c045482b5b629a2ac5098a083f1a6566e888e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65c045482b5b629a2ac5098a083f1a6566e888e8/comments", "author": null, "committer": null, "parents": [{"sha": "c41536f56a6a1217ca42091a358992d902b7be34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c41536f56a6a1217ca42091a358992d902b7be34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c41536f56a6a1217ca42091a358992d902b7be34"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "9cf8fa1652f03adc0a0ee33817aa78fbd6a66ef6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65c045482b5b629a2ac5098a083f1a6566e888e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65c045482b5b629a2ac5098a083f1a6566e888e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=65c045482b5b629a2ac5098a083f1a6566e888e8", "patch": "@@ -1,5 +1,8 @@\n 2003-02-26  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* builtins.c (purge_builtin_constant_p): Handle subreg of\n+\tconstant_p_rtx too.\n+\n \t* function.c (assign_stack_local_1): Truncate constant added to\n \tframe_pointer_rtx or virtual_stack_vars_rtx for Pmode.\n "}, {"sha": "d2505cd3a7ee84b09610b0ac51135ade4a0982e9", "filename": "gcc/builtins.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65c045482b5b629a2ac5098a083f1a6566e888e8/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65c045482b5b629a2ac5098a083f1a6566e888e8/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=65c045482b5b629a2ac5098a083f1a6566e888e8", "patch": "@@ -4952,9 +4952,12 @@ purge_builtin_constant_p ()\n   for (insn = get_insns (); insn; insn = NEXT_INSN (insn))\n     if (INSN_P (insn)\n \t&& (set = single_set (insn)) != NULL_RTX\n-\t&& GET_CODE (SET_SRC (set)) == CONSTANT_P_RTX)\n+\t&& (GET_CODE (arg = SET_SRC (set)) == CONSTANT_P_RTX\n+\t    || (GET_CODE (arg) == SUBREG\n+\t\t&& (GET_CODE (arg = SUBREG_REG (arg))\n+\t\t    == CONSTANT_P_RTX))))\n       {\n-\targ = XEXP (SET_SRC (set), 0);\n+\targ = XEXP (arg, 0);\n \tnew = CONSTANT_P (arg) ? const1_rtx : const0_rtx;\n \tvalidate_change (insn, &SET_SRC (set), new, 0);\n "}]}