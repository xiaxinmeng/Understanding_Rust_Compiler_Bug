{"sha": "875c29a245150b6d023b8b0eb7f0ba224df082d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc1YzI5YTI0NTE1MGI2ZDAyM2I4YjBlYjdmMGJhMjI0ZGYwODJkMA==", "commit": {"author": {"name": "Mark Eggleston", "email": "markeggleston@gcc.gnu.org", "date": "2020-10-01T10:14:09Z"}, "committer": {"name": "Mark Eggleston", "email": "markeggleston@gcc.gnu.org", "date": "2020-10-12T07:56:13Z"}, "message": "Fortran  : ICE in gfc_validate_kind PR96099\n\nOnly check for kind if the type supports kind.\n\n2020-10-12  Mark Eggleston  <markeggleston@gcc.gnu.org>\n\ngcc/fortran/ChangeLog:\n\n\tPR fortran/96099\n\t* decl.c (gfc_match_implicit): Check for numeric and logical\n\ttypes.\n\n2020-10-12  Mark Eggleston  <markeggleston@gcc.gnu.org>\n\ngcc/testsuite/ChangeLog:\n\n\tPR fortran/96099\n\t* gfortran.dg/pr96099_1.f90: New test.\n\t* gfortran.dg/pr96099_2.f90: New test.", "tree": {"sha": "b8da5db633ac05a3f4ff096bff034e48ddaf23b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8da5db633ac05a3f4ff096bff034e48ddaf23b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/875c29a245150b6d023b8b0eb7f0ba224df082d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/875c29a245150b6d023b8b0eb7f0ba224df082d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/875c29a245150b6d023b8b0eb7f0ba224df082d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/875c29a245150b6d023b8b0eb7f0ba224df082d0/comments", "author": null, "committer": null, "parents": [{"sha": "2baa36d4911940a068e63f2ee4298c13f92cf8d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2baa36d4911940a068e63f2ee4298c13f92cf8d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2baa36d4911940a068e63f2ee4298c13f92cf8d9"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "bddf69cce19830dff781a225579638b633e09153", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/875c29a245150b6d023b8b0eb7f0ba224df082d0/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/875c29a245150b6d023b8b0eb7f0ba224df082d0/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=875c29a245150b6d023b8b0eb7f0ba224df082d0", "patch": "@@ -4835,7 +4835,7 @@ gfc_match_implicit (void)\n       /* Last chance -- check <TYPE> <SELECTOR> (<RANGE>).  */\n       if (ts.type == BT_CHARACTER)\n \tm = gfc_match_char_spec (&ts);\n-      else if (ts.type != BT_DERIVED)\n+      else if (gfc_numeric_ts(&ts) || ts.type == BT_LOGICAL)\n \t{\n \t  m = gfc_match_kind_spec (&ts, false);\n \t  if (m == MATCH_NO)"}, {"sha": "9754bd39dfc7126808aaaf11413c62510f68c215", "filename": "gcc/testsuite/gfortran.dg/pr96099_1.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/875c29a245150b6d023b8b0eb7f0ba224df082d0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr96099_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/875c29a245150b6d023b8b0eb7f0ba224df082d0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr96099_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr96099_1.f90?ref=875c29a245150b6d023b8b0eb7f0ba224df082d0", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+\n+program pr96099_1\n+   implicit class(t) (1) ! { dg-error \"Syntax error in IMPLICIT\" }\n+   type t\n+   end type\n+end\n+"}, {"sha": "3136d2ef377b8b177d6ba1bbed90f9b53ea95ee4", "filename": "gcc/testsuite/gfortran.dg/pr96099_2.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/875c29a245150b6d023b8b0eb7f0ba224df082d0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr96099_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/875c29a245150b6d023b8b0eb7f0ba224df082d0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr96099_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr96099_2.f90?ref=875c29a245150b6d023b8b0eb7f0ba224df082d0", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do compile }\n+\n+program pr96099_2\n+   integer n1\n+   parameter (n1 = 1)\n+   implicit class(t) (n1) ! { dg-error \"Syntax error in IMPLICIT\" }\n+   type t\n+   end type\n+end"}]}