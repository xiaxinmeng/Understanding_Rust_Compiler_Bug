{"sha": "f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE1ZGI0MjdlMWYzYWQwYTQxNWFiYmUwOGNiZDUzZjgwZTVlNmViOA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-12-26T03:37:01Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-12-26T03:37:01Z"}, "message": "transfer.c (read_sf): Check if readlen was less than the requested number of bytes to read and if so...\n\n2007-12-25  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* io/transfer.c (read_sf): Check if readlen was less than the requested\n\tnumber of bytes to read and if so, generate error.\n\nFrom-SVN: r131177", "tree": {"sha": "b2c4f84f5769d56c6a5e2b5210b0725ea7b0492e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2c4f84f5769d56c6a5e2b5210b0725ea7b0492e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8/comments", "author": null, "committer": null, "parents": [{"sha": "2e39477a2313bef24916e596f283a3a05d8bd9e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e39477a2313bef24916e596f283a3a05d8bd9e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e39477a2313bef24916e596f283a3a05d8bd9e8"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "b4f77b77e217c525425857d377a6aa1033393a30", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8", "patch": "@@ -1,3 +1,8 @@\n+2007-12-25  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* io/transfer.c (read_sf): Check if readlen was less than the requested\n+\tnumber of bytes to read and if so, generate error.\n+\n 2007-12-25  Daniel Franke  <franke.daniel@gmail.com>\n \n \tPR fortran/34533"}, {"sha": "48f6033465f8f9d1c51cb8d4f330a0c406ae6846", "filename": "libgfortran/io/transfer.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8/libgfortran%2Fio%2Ftransfer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8/libgfortran%2Fio%2Ftransfer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Ftransfer.c?ref=f15db427e1f3ad0a415abbe08cbd53f80e5e6eb8", "patch": "@@ -166,7 +166,14 @@ read_sf (st_parameter_dt *dtp, int *length, int no_error)\n     {\n       readlen = *length;\n       q = salloc_r (dtp->u.p.current_unit->s, &readlen);\n-      memcpy (p, q, readlen);\n+      if (readlen < *length)\n+\t{\n+\t  generate_error (&dtp->common, LIBERROR_END, NULL);\n+\t  return NULL;\n+\t}\n+\t\n+      if (q != NULL)\n+        memcpy (p, q, readlen);\n       goto done;\n     }\n "}]}