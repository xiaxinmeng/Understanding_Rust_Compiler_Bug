{"sha": "8b06b20a144ed8e5b3e518930a211ce7b70fa2fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGIwNmIyMGExNDRlZDhlNWIzZTUxODkzMGEyMTFjZTdiNzBmYTJmZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-07-18T22:06:04Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-07-18T22:06:04Z"}, "message": "(target_alias): New and used for all current uses of `target'.\n\nFrom-SVN: r12514", "tree": {"sha": "3a4a1b8d04cb2dd6bee17e1d3b3fc93a66e37b61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a4a1b8d04cb2dd6bee17e1d3b3fc93a66e37b61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b06b20a144ed8e5b3e518930a211ce7b70fa2fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b06b20a144ed8e5b3e518930a211ce7b70fa2fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b06b20a144ed8e5b3e518930a211ce7b70fa2fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b06b20a144ed8e5b3e518930a211ce7b70fa2fd/comments", "author": null, "committer": null, "parents": [{"sha": "c26383a78b7b31b1dbd69a20a6f2c5ccd064df0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c26383a78b7b31b1dbd69a20a6f2c5ccd064df0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c26383a78b7b31b1dbd69a20a6f2c5ccd064df0e"}], "stats": {"total": 29, "additions": 15, "deletions": 14}, "files": [{"sha": "9c6fae742eb03df8b22a500dacbdae5989a260a4", "filename": "gcc/Makefile.in", "status": "modified", "additions": 15, "deletions": 14, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b06b20a144ed8e5b3e518930a211ce7b70fa2fd/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b06b20a144ed8e5b3e518930a211ce7b70fa2fd/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=8b06b20a144ed8e5b3e518930a211ce7b70fa2fd", "patch": "@@ -142,7 +142,7 @@ ENQUIRE_LDFLAGS = $(LDFLAGS)\n \n # Sed command to transform gcc to installed name.  Overwritten by configure.\n program_transform_name = -e s,x,x,\n-program_transform_cross_name = -e s,^,$(target)-,\n+program_transform_cross_name = -e s,^,$(target_alias)-,\n \n # Tools to use when building a cross-compiler.\n # These are used because `configure' appends `cross-make'\n@@ -171,6 +171,7 @@ PREMADE_ATTRTAB_MD = Makefile  # Guaranteed not to cmp equal to md.\n PREMADE_ATTRTAB = \n \n target= ... `configure' substitutes actual target name here.\n+target_alias= ... `configure' substitutes specified target name here.\n xmake_file= ... `configure' substitutes actual x- file name here.\n tmake_file= ... `configure' substitutes actual t- file name here.\n out_file= ... `configure' substitutes actual out file name here.\n@@ -202,7 +203,7 @@ bindir = $(exec_prefix)/bin\n # Directory in which to put the directories used by the compiler.\n libdir = $(exec_prefix)/lib\n # Directory in which the compiler finds executables, libraries, etc.\n-libsubdir = $(libdir)/gcc-lib/$(target)/$(version)\n+libsubdir = $(libdir)/gcc-lib/$(target_alias)/$(version)\n # Directory in which the compiler finds g++ includes.\n gxx_include_dir= $(prefix)/include/g++\n # Directory in which the old g++ header files may be found.\n@@ -223,7 +224,7 @@ exeext =\n mandir = $(prefix)/man/man1\n # Directory in which to find other cross-compilation tools and headers.\n # Used in install-cross.\n-tooldir = $(exec_prefix)/$(target)\n+tooldir = $(exec_prefix)/$(target_alias)\n # Dir for temp files.\n tmpdir = /tmp\n \n@@ -1124,7 +1125,7 @@ collect2 : collect2.o cplus-dem.o underscore.o version.o \\\n \n collect2.o : collect2.c $(CONFIG_H) gstab.h obstack.h demangle.h\n \t$(CC) $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES)  \\\n-\t-DTARGET_MACHINE=\\\"$(target)\\\" $(MAYBE_USE_COLLECT2) \\\n+\t-DTARGET_MACHINE=\\\"$(target_alias)\\\" $(MAYBE_USE_COLLECT2) \\\n \t-c `echo $(srcdir)/collect2.c | sed 's,^\\./,,'`\n \n cplus-dem.o: cplus-dem.c demangle.h\n@@ -1172,7 +1173,7 @@ gcc.o: gcc.c $(CONFIG_H) multilib.h config.status $(lang_specs_files)\n   -DSTANDARD_STARTFILE_PREFIX=\\\"$(libdir)/\\\" \\\n   -DSTANDARD_EXEC_PREFIX=\\\"$(libdir)/gcc-lib/\\\" \\\n   -DDEFAULT_TARGET_VERSION=\\\"$(version)\\\" \\\n-  -DDEFAULT_TARGET_MACHINE=\\\"$(target)\\\" \\\n+  -DDEFAULT_TARGET_MACHINE=\\\"$(target_alias)\\\" \\\n   -DTOOLDIR_BASE_PREFIX=\\\"$(exec_prefix)/\\\" \\\n   -c `echo $(srcdir)/gcc.c | sed 's,^\\./,,'`\n \n@@ -1193,7 +1194,7 @@ toplev.o : toplev.c $(CONFIG_H) $(TREE_H) $(RTL_H) bytecode.h bc-emit.h \\\n    flags.h input.h insn-attr.h xcoffout.h defaults.h output.h \\\n    $(lang_options_files)\n \t$(CC) $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(MAYBE_USE_COLLECT2) \\\n-\t  -DTARGET_NAME=\\\"$(target)\\\" \\\n+\t  -DTARGET_NAME=\\\"$(target_alias)\\\" \\\n \t  -c `echo $(srcdir)/toplev.c | sed 's,^\\./,,'`\n \n rtl.o : rtl.c $(CONFIG_H) $(RTL_H)\n@@ -2094,9 +2095,9 @@ install-dir:\n \t-if [ -d $(libdir)/gcc-lib ] ; then true ; else mkdir $(libdir)/gcc-lib ; chmod a+rx $(libdir)/gcc-lib ; fi\n # This dir isn't currently searched by cpp.\n #\t-if [ -d $(libdir)/gcc-lib/include ] ; then true ; else mkdir $(libdir)/gcc-lib/include ; chmod a+rx $(libdir)/gcc-lib/include ; fi\n-\t-if [ -d $(libdir)/gcc-lib/$(target) ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target) ; chmod a+rx $(libdir)/gcc-lib/$(target) ; fi\n-\t-if [ -d $(libdir)/gcc-lib/$(target)/$(version) ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target)/$(version) ; chmod a+rx $(libdir)/gcc-lib/$(target)/$(version) ; fi\n-\t-if [ -d $(libdir)/gcc-lib/$(target)/$(version)/include ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target)/$(version)/include ; chmod a+rx $(libdir)/gcc-lib/$(target)/$(version)/include ; fi\n+\t-if [ -d $(libdir)/gcc-lib/$(target_alias) ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target_alias) ; chmod a+rx $(libdir)/gcc-lib/$(target_alias) ; fi\n+\t-if [ -d $(libdir)/gcc-lib/$(target_alias)/$(version) ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target_alias)/$(version) ; chmod a+rx $(libdir)/gcc-lib/$(target_alias)/$(version) ; fi\n+\t-if [ -d $(libdir)/gcc-lib/$(target_alias)/$(version)/include ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target_alias)/$(version)/include ; chmod a+rx $(libdir)/gcc-lib/$(target_alias)/$(version)/include ; fi\n \t-if [ -d $(bindir) ] ; then true ; else mkdir $(bindir) ; chmod a+rx $(bindir) ; fi\n \t-if [ -d $(includedir) ] ; then true ; else mkdir $(includedir) ; chmod a+rx $(includedir) ; fi\n \t-if [ -d $(tooldir) ] ; then true ; else mkdir $(tooldir) ; chmod a+rx $(tooldir) ; fi\n@@ -2149,7 +2150,7 @@ install-common: native install-dir $(EXTRA_PARTS) lang.install-common\n \t-rm -f $(libsubdir)/cpp$(exeext)\n \t$(INSTALL_PROGRAM) cpp$(exeext) $(libsubdir)/cpp$(exeext)\n \n-# Install the driver program as $(target)-gcc\n+# Install the driver program as $(target_alias)-gcc\n # and also as either gcc (if native) or $(tooldir)/bin/gcc.\n install-driver: xgcc\n \t-if [ -f gcc-cross$(exeext) ] ; then \\\n@@ -2162,11 +2163,11 @@ install-driver: xgcc\n \telse \\\n \t  rm -f $(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n \t  $(INSTALL_PROGRAM) xgcc$(exeext) $(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n-\t  rm -f $(bindir)/$(target)-gcc-1$(exeext); \\\n-\t  ln $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target)-gcc-1$(exeext) \\\n+\t  rm -f $(bindir)/$(target_alias)-gcc-1$(exeext); \\\n+\t  ln $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-1$(exeext) \\\n \t    > /dev/null 2>&1 \\\n-\t    || cp $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target)-gcc-1$(exeext); \\\n-\t  mv $(bindir)/$(target)-gcc-1$(exeext) $(bindir)/$(target)-gcc$(exeext); \\\n+\t    || cp $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-1$(exeext); \\\n+\t  mv $(bindir)/$(target_alias)-gcc-1$(exeext) $(bindir)/$(target_alias)-gcc$(exeext); \\\n \tfi\n \n # Install the info files."}]}