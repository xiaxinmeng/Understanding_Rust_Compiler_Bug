{"sha": "aafc759a8a4e404469bf39a92bb10522baf4a281", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWFmYzc1OWE4YTRlNDA0NDY5YmYzOWE5MmJiMTA1MjJiYWY0YTI4MQ==", "commit": {"author": {"name": "Pat Haugen", "email": "pthaugen@us.ibm.com", "date": "2008-04-22T19:28:56Z"}, "committer": {"name": "Pat Haugen", "email": "pthaugen@gcc.gnu.org", "date": "2008-04-22T19:28:56Z"}, "message": "rs6000.c (rs6000_register_move_cost): Increase cost of LR/CTR moves for Power6.\n\n\t* config/rs6000/rs6000.c (rs6000_register_move_cost): Increase cost\n\tof LR/CTR moves for Power6.\n\nFrom-SVN: r134565", "tree": {"sha": "844d4181de7bd4105f283a45c12619969dfc5e2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/844d4181de7bd4105f283a45c12619969dfc5e2f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aafc759a8a4e404469bf39a92bb10522baf4a281", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aafc759a8a4e404469bf39a92bb10522baf4a281", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aafc759a8a4e404469bf39a92bb10522baf4a281", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aafc759a8a4e404469bf39a92bb10522baf4a281/comments", "author": null, "committer": null, "parents": [{"sha": "28f68625537daa396681d2b5bc5f5ada52d5853d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f68625537daa396681d2b5bc5f5ada52d5853d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28f68625537daa396681d2b5bc5f5ada52d5853d"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "761cf7ff99485bb5286741dab63dc250c602ecdb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aafc759a8a4e404469bf39a92bb10522baf4a281/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aafc759a8a4e404469bf39a92bb10522baf4a281/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aafc759a8a4e404469bf39a92bb10522baf4a281", "patch": "@@ -1,3 +1,8 @@\n+2008-04-22  Pat Haugen  <pthaugen@us.ibm.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_register_move_cost): Increase cost\n+\tof LR/CTR moves for Power6.\n+\n 2008-04-22  Kenneth Zadeck <zadeck@naturalbridge.com>\n \n \tPR middle-end/36003"}, {"sha": "6ac9ee159f9741a5f1d0e794ffa108ef108c8798", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aafc759a8a4e404469bf39a92bb10522baf4a281/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aafc759a8a4e404469bf39a92bb10522baf4a281/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=aafc759a8a4e404469bf39a92bb10522baf4a281", "patch": "@@ -21331,6 +21331,12 @@ rs6000_register_move_cost (enum machine_mode mode,\n       else if (from == CR_REGS)\n \treturn 4;\n \n+      /* Power6 has slower LR/CTR moves so make them more expensive than\n+\t memory in order to bias spills to memory .*/\n+      else if (rs6000_cpu == PROCESSOR_POWER6\n+\t       && reg_classes_intersect_p (from, LINK_OR_CTR_REGS))\n+        return 6 * hard_regno_nregs[0][mode];\n+\n       else\n \t/* A move will cost one instruction per GPR moved.  */\n \treturn 2 * hard_regno_nregs[0][mode];"}]}