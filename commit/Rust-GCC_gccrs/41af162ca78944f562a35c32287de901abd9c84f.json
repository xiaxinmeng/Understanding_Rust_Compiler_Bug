{"sha": "41af162ca78944f562a35c32287de901abd9c84f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFhZjE2MmNhNzg5NDRmNTYyYTM1YzMyMjg3ZGU5MDFhYmQ5Yzg0Zg==", "commit": {"author": {"name": "Craig Burley", "email": "craig@jcb-sc.com", "date": "1999-05-12T04:38:14Z"}, "committer": {"name": "Craig Burley", "email": "burley@gcc.gnu.org", "date": "1999-05-12T04:38:14Z"}, "message": "disable maintenance of errno\n\nFrom-SVN: r26897", "tree": {"sha": "f7c4558b2172417e3b2b03bb7c224145bce433f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7c4558b2172417e3b2b03bb7c224145bce433f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41af162ca78944f562a35c32287de901abd9c84f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41af162ca78944f562a35c32287de901abd9c84f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41af162ca78944f562a35c32287de901abd9c84f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41af162ca78944f562a35c32287de901abd9c84f/comments", "author": null, "committer": null, "parents": [{"sha": "7d9a55eb5b7415e6ccdfa4cfb87c1dfdacff2379", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d9a55eb5b7415e6ccdfa4cfb87c1dfdacff2379", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d9a55eb5b7415e6ccdfa4cfb87c1dfdacff2379"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "89a5ef30c4d33a161de628dee1a1546118e85b1f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -1,3 +1,11 @@\n+Wed May 12 07:27:31 1999  Craig Burley  <craig@jcb-sc.com>\n+\n+\tAllow front end (like g77's) to override maintenance of errno:\n+\t* expr.c (expand_builtin): Bother with errno only if\n+\tflag_errno_math.\n+\t* flags.h: Declare flag_errno_math.\n+\t* toplev.c: Define flag_errno_math.\n+\n Tue May 11 23:55:49 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* fixproto: Change \"mkdir\" calls to \"mkdir -p\""}, {"sha": "17fa1be1fdc4dc2750c2ce74ad828780a578632c", "filename": "gcc/expr.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -8757,7 +8757,7 @@ expand_builtin (exp, target, subtarget, mode, ignore)\n       /* Check the results by default.  But if flag_fast_math is turned on,\n \t then assume sqrt will always be called with valid arguments.  */\n \n-      if (! flag_fast_math)\n+      if (flag_errno_math && ! flag_fast_math)\n \t{\n \t  /* Don't define the builtin FP instructions\n \t     if your machine is not IEEE.  */"}, {"sha": "265a565ddc4195ff84497a79c50f710678ce93b4", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -1,3 +1,9 @@\n+Wed May 12 07:30:05 1999  Craig Burley  <craig@jcb-sc.com>\n+\n+\t* com.c (lang_init_options): Disable back end's maintenance\n+\tof errno.\n+\t* news.texi: Document dropping of errno.\n+\n 1999-05-10 18:21 -0400  Zack Weinberg  <zack@rabi.phys.columbia.edu>\n \n \t* lang-specs.h: Pass -$ to the preprocessor."}, {"sha": "5af35225d2dc91145cb7a8ab2e73a168fbdc2324", "filename": "gcc/f/com.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -14958,6 +14958,7 @@ lang_init_options ()\n   flag_move_all_movables = 1;\n   flag_reduce_all_givs = 1;\n   flag_argument_noalias = 2;\n+  flag_errno_math = 0;\n }\n \n void"}, {"sha": "9b293181db5f0d81da93b6a8466827422b64cb98", "filename": "gcc/f/news.texi", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ff%2Fnews.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ff%2Fnews.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fnews.texi?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -9,7 +9,7 @@\n @c in the standalone derivations of this file (e.g. NEWS).\n @set copyrights-news 1995-1999\n \n-@set last-update-news 1999-05-10\n+@set last-update-news 1999-05-12\n \n @include root.texi\n \n@@ -273,6 +273,11 @@ that are not in @code{EQUIVALENCE} areas\n and not @code{SAVE}'d.\n @end ifclear\n \n+@item\n+@code{g77} no longer generates code to maintain @code{errno},\n+a C-language concept,\n+when performing operations such as the @code{SqRt} intrinsic.\n+\n @ifclear USERVISONLY\n @item\n A substantial portion of the @code{g77} front end's code-generation component"}, {"sha": "df736988ccef765de8c0f84c8446eb8b6bdadeb3", "filename": "gcc/flags.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Fflags.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Fflags.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflags.h?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -291,6 +291,11 @@ extern int flag_volatile_static;\n \n extern int flag_fast_math;\n \n+/* Nonzero means the front end generally wants `errno' maintained by math\n+   operations, like built-in SQRT, unless overridden by flag_fast_math.  */\n+\n+extern int flag_errno_math;\n+\n /* Nonzero means to run loop optimizations twice.  */\n \n extern int flag_rerun_loop_opt;"}, {"sha": "7a1277cedce4e3e8e076dcfe4a36eb60ffea3a96", "filename": "gcc/toplev.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41af162ca78944f562a35c32287de901abd9c84f/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=41af162ca78944f562a35c32287de901abd9c84f", "patch": "@@ -558,6 +558,11 @@ int flag_no_peephole = 0;\n \n int flag_fast_math = 0;\n \n+/* Nonzero means the front end generally wants `errno' maintained by math\n+   operations, like built-in SQRT, unless overridden by flag_fast_math.  */\n+\n+int flag_errno_math = 1;\n+\n /* Nonzero means all references through pointers are volatile.  */\n \n int flag_volatile;"}]}