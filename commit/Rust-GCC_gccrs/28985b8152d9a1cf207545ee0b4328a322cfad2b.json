{"sha": "28985b8152d9a1cf207545ee0b4328a322cfad2b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg5ODViODE1MmQ5YTFjZjIwNzU0NWVlMGI0MzI4YTMyMmNmYWQyYg==", "commit": {"author": {"name": "Anthony Green", "email": "green@cygnus.com", "date": "2000-08-03T21:04:42Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2000-08-03T21:04:42Z"}, "message": "Apply patch from Anthony Green to add java language support to Dwarf generation.\n\nFrom-SVN: r35460", "tree": {"sha": "64134f63d177542c0e7860e254607f42b3d980f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64134f63d177542c0e7860e254607f42b3d980f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28985b8152d9a1cf207545ee0b4328a322cfad2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28985b8152d9a1cf207545ee0b4328a322cfad2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28985b8152d9a1cf207545ee0b4328a322cfad2b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28985b8152d9a1cf207545ee0b4328a322cfad2b/comments", "author": null, "committer": null, "parents": [{"sha": "e81b330a2d0278a03132221ae1d90f7ccd2bb758", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e81b330a2d0278a03132221ae1d90f7ccd2bb758", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e81b330a2d0278a03132221ae1d90f7ccd2bb758"}], "stats": {"total": 30, "additions": 27, "deletions": 3}, "files": [{"sha": "57a57bbb08a3030acf98c2d431f5a01f853189fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=28985b8152d9a1cf207545ee0b4328a322cfad2b", "patch": "@@ -1,3 +1,12 @@\n+2000-08-03  Anthony Green  <green@cygnus.com>\n+\n+\t* dwarf2out.c (gen_compile_unit_die): Add java language support.\n+\t(add_bound_info): Check for java language.\n+\t(is_java): New function.\n+\t* dwarfout.c (output_compile_unit_die): Ditto.\n+\t* dwarf.h (dwarf_source_language): Add java source language type.\n+\t* dwarf2.h (dwarf_source_language): Ditto.\n+\n Thu Aug  3 20:32:25 MET DST 2000  Jan Hubicka  <jh@suse.cz>\n \n \t* reg-stack.c (subst_stack_regs_pat):  Use replace_reg to swap"}, {"sha": "db4526e02f7f170941e46ad7402a850bf52eac3c", "filename": "gcc/dwarf.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf.h?ref=28985b8152d9a1cf207545ee0b4328a322cfad2b", "patch": "@@ -302,7 +302,8 @@ enum dwarf_source_language {\n     LANG_FORTRAN77\t= 0x00000007,\n     LANG_FORTRAN90\t= 0x00000008,\n     LANG_PASCAL83\t= 0x00000009,\n-    LANG_MODULA2\t= 0x0000000a\n+    LANG_MODULA2\t= 0x0000000a,\n+    LANG_JAVA\t\t= 0x00009af4\n };\n \n #define LANG_lo_user\t0x00008000  /* implementation-defined range start */"}, {"sha": "08a1caedbacc5609809866c1a9d3ee0d769d00e2", "filename": "gcc/dwarf2.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarf2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarf2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2.h?ref=28985b8152d9a1cf207545ee0b4328a322cfad2b", "patch": "@@ -534,7 +534,8 @@ enum dwarf_source_language\n     DW_LANG_Fortran90 = 0x0008,\n     DW_LANG_Pascal83 = 0x0009,\n     DW_LANG_Modula2 = 0x000a,\n-    DW_LANG_Mips_Assembler = 0x8001\n+    DW_LANG_Mips_Assembler = 0x8001,\n+    DW_LANG_Java = 0x9af4\n   };\n \n "}, {"sha": "5b1ec0427c25eea3c0bfb2ee03617b78613d01bb", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=28985b8152d9a1cf207545ee0b4328a322cfad2b", "patch": "@@ -3324,6 +3324,7 @@ static unsigned get_AT_unsigned\t\tPARAMS ((dw_die_ref,\n static inline dw_die_ref get_AT_ref \tPARAMS ((dw_die_ref,\n \t\t\t\t\t\t enum dwarf_attribute));\n static int is_c_family\t\t\tPARAMS ((void));\n+static int is_java\t\t\tPARAMS ((void));\n static int is_fortran\t\t\tPARAMS ((void));\n static void remove_AT\t\t\tPARAMS ((dw_die_ref,\n \t\t\t\t\t\t enum dwarf_attribute));\n@@ -4516,6 +4517,14 @@ is_fortran ()\n   return (lang == DW_LANG_Fortran77 || lang == DW_LANG_Fortran90);\n } \n \n+static inline int\n+is_java ()\n+{\n+  register unsigned lang = get_AT_unsigned (comp_unit_die, DW_AT_language);\n+\n+  return (lang == DW_LANG_Java);\n+}\n+\n /* Free up the memory used by A.  */\n \n static inline void free_AT PARAMS ((dw_attr_ref));\n@@ -7407,7 +7416,7 @@ add_bound_info (subrange_die, bound_attr, bound)\n     case INTEGER_CST:\n       if (! host_integerp (bound, 0)\n \t  || (bound_attr == DW_AT_lower_bound\n-\t      && ((is_c_family () && integer_zerop (bound))\n+\t      && (((is_c_family () || is_java ()) &&  integer_zerop (bound))\n \t\t  || (is_fortran () && integer_onep (bound)))))\n \t/* use the default */\n \t;\n@@ -9036,6 +9045,8 @@ gen_compile_unit_die (filename)\n     language = DW_LANG_Fortran77;\n   else if (strcmp (language_string, \"GNU Pascal\") == 0)\n     language = DW_LANG_Pascal83;\n+  else if (strcmp (language_string, \"GNU Java\") == 0)\n+    language = DW_LANG_Java;\n   else if (flag_traditional)\n     language = DW_LANG_C;\n   else"}, {"sha": "7df90f20b8fc3dc6c04feab69a3dc0a487c3b5a1", "filename": "gcc/dwarfout.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarfout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28985b8152d9a1cf207545ee0b4328a322cfad2b/gcc%2Fdwarfout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarfout.c?ref=28985b8152d9a1cf207545ee0b4328a322cfad2b", "patch": "@@ -3703,6 +3703,8 @@ output_compile_unit_die (arg)\n     language_attribute (LANG_FORTRAN77);\n   else if (strcmp (language_string, \"GNU Pascal\") == 0)\n     language_attribute (LANG_PASCAL83);\n+  else if (strcmp (language_string, \"GNU Java\") == 0)\n+    language_attribute (LANG_JAVA);\n   else if (flag_traditional)\n     language_attribute (LANG_C);\n   else"}]}