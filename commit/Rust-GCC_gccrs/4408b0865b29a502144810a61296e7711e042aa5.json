{"sha": "4408b0865b29a502144810a61296e7711e042aa5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQwOGIwODY1YjI5YTUwMjE0NDgxMGE2MTI5NmU3NzExZTA0MmFhNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-11-08T23:36:33Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-11-08T23:36:33Z"}, "message": "Fix a darwin10 build problem.\n\nlocal.cc:113:6: error: only weak aliases are supported in this configuration\n\n\t* local.cc (_ITM_LB): Use a normal call, not a function alias.\n\nFrom-SVN: r181182", "tree": {"sha": "d0891a591984503d7c411f9058f22a5a94d46653", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0891a591984503d7c411f9058f22a5a94d46653"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4408b0865b29a502144810a61296e7711e042aa5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4408b0865b29a502144810a61296e7711e042aa5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4408b0865b29a502144810a61296e7711e042aa5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4408b0865b29a502144810a61296e7711e042aa5/comments", "author": null, "committer": null, "parents": [{"sha": "b8bc0ff76b12959e1aefafda407c03604605728c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8bc0ff76b12959e1aefafda407c03604605728c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8bc0ff76b12959e1aefafda407c03604605728c"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "fe1d7d0fb4872c8ab9524ea0eb0b7505a834b2f3", "filename": "libitm/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4408b0865b29a502144810a61296e7711e042aa5/libitm%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4408b0865b29a502144810a61296e7711e042aa5/libitm%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2FChangeLog?ref=4408b0865b29a502144810a61296e7711e042aa5", "patch": "@@ -1,3 +1,7 @@\n+2011-11-08  Richard Henderson  <rth@redhat.com>\n+\n+\t* local.cc (_ITM_LB): Use a normal call, not a function alias.\n+\n 2011-11-08  Richard Henderson  <rth@redhat.com>\n \n \t* configure.tgt: Test correct directory for supported cpus."}, {"sha": "4f47ff2e5f6c7525d15cedded020868d2a714c34", "filename": "libitm/local.cc", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4408b0865b29a502144810a61296e7711e042aa5/libitm%2Flocal.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4408b0865b29a502144810a61296e7711e042aa5/libitm%2Flocal.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2Flocal.cc?ref=4408b0865b29a502144810a61296e7711e042aa5", "patch": "@@ -110,8 +110,14 @@ GTM_LB (const void *ptr, size_t len)\n \n using namespace GTM;\n \n-void _ITM_LB (const void *ptr, size_t len) ITM_REGPARM\n-\t__attribute__((alias(\"GTM_LB\")));\n+/* ??? Use configure to determine if aliases are supported.  Or convince\n+   the compiler to not just tail call this, but actually generate the\n+   same_body_alias itself.  */\n+void ITM_REGPARM\n+_ITM_LB (const void *ptr, size_t len)\n+{\n+  GTM_LB (ptr, len);\n+}\n \n #define ITM_LOG_DEF(T) \\\n void ITM_REGPARM _ITM_L##T (const _ITM_TYPE_##T *ptr) \\"}]}