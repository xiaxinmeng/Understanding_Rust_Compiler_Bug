{"sha": "ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2UwMGJlOWVkZTE5MDNjZDMwZDhlYTI0MzFmZjk4NDI4OGFjOWViMA==", "commit": {"author": {"name": "Adam Nemet", "email": "anemet@caviumnetworks.com", "date": "2008-09-21T06:15:52Z"}, "committer": {"name": "Adam Nemet", "email": "nemet@gcc.gnu.org", "date": "2008-09-21T06:15:52Z"}, "message": "mips.h (TUNE_OCTEON): New macro.\n\n\t* config/mips/mips.h (TUNE_OCTEON): New macro.\n\t* config/mips/mips.c (mips_issue_rate): Return 2 for Octeon.\n\t(mips_multipass_dfa_lookahead): Return 2 for Octeon.\n\t* config/mips/octeon.md: New file.\n\t* config/mips/mips.md: Include octeon.md.  Restore\n\tsemi-alphabetical order of include files.\n\nFrom-SVN: r140521", "tree": {"sha": "161876a1c52f148a340078a7ba2e107f690f916f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/161876a1c52f148a340078a7ba2e107f690f916f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/comments", "author": null, "committer": null, "parents": [{"sha": "4881ceecf3d354bb54ec93acbf701c768d4fde78", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4881ceecf3d354bb54ec93acbf701c768d4fde78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4881ceecf3d354bb54ec93acbf701c768d4fde78"}], "stats": {"total": 105, "additions": 104, "deletions": 1}, "files": [{"sha": "f659c2e8afab268a3e5953b06699fb3394c8fcaa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "patch": "@@ -1,3 +1,12 @@\n+2008-09-20  Adam Nemet  <anemet@caviumnetworks.com>\n+\n+\t* config/mips/mips.h (TUNE_OCTEON): New macro.\n+\t* config/mips/mips.c (mips_issue_rate): Return 2 for Octeon.\n+\t(mips_multipass_dfa_lookahead): Return 2 for Octeon.\n+\t* config/mips/octeon.md: New file.\n+\t* config/mips/mips.md: Include octeon.md.  Restore\n+\tsemi-alphabetical order of include files.\n+\n 2008-09-20  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/37571"}, {"sha": "20532ba3de25d5427910361ce1c42194805c25f6", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "patch": "@@ -10377,6 +10377,7 @@ mips_issue_rate (void)\n     case PROCESSOR_R5500:\n     case PROCESSOR_R7000:\n     case PROCESSOR_R9000:\n+    case PROCESSOR_OCTEON:\n       return 2;\n \n     case PROCESSOR_SB1:\n@@ -10518,6 +10519,9 @@ mips_multipass_dfa_lookahead (void)\n   if (TUNE_LOONGSON_2EF)\n     return 4;\n \n+  if (TUNE_OCTEON)\n+    return 2;\n+\n   return 0;\n }\n \f"}, {"sha": "ab248692f56b95e113fab10edea7c87c18ea6879", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "patch": "@@ -281,6 +281,7 @@ enum mips_code_readable_setting {\n #define TUNE_MIPS6000               (mips_tune == PROCESSOR_R6000)\n #define TUNE_MIPS7000               (mips_tune == PROCESSOR_R7000)\n #define TUNE_MIPS9000               (mips_tune == PROCESSOR_R9000)\n+#define TUNE_OCTEON\t\t    (mips_tune == PROCESSOR_OCTEON)\n #define TUNE_SB1                    (mips_tune == PROCESSOR_SB1\t\t\\\n \t\t\t\t     || mips_tune == PROCESSOR_SB1A)\n "}, {"sha": "58d1fd6637ff34d23337bb60591e33199ef61dfe", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "patch": "@@ -935,10 +935,11 @@\n (include \"6000.md\")\n (include \"7000.md\")\n (include \"9000.md\")\n+(include \"loongson2ef.md\")\n+(include \"octeon.md\")\n (include \"sb1.md\")\n (include \"sr71k.md\")\n (include \"xlr.md\")\n-(include \"loongson2ef.md\")\n (include \"generic.md\")\n \f\n ;;"}, {"sha": "0d94e6eecffa34c54caa451d3c63148f7d9d196b", "filename": "gcc/config/mips/octeon.md", "status": "added", "additions": 88, "deletions": 0, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Focteon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce00be9ede1903cd30d8ea2431ff984288ac9eb0/gcc%2Fconfig%2Fmips%2Focteon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Focteon.md?ref=ce00be9ede1903cd30d8ea2431ff984288ac9eb0", "patch": "@@ -0,0 +1,88 @@\n+;;  Octeon pipeline description.\n+;;  Copyright (C) 2008\n+;;  Free Software Foundation, Inc.\n+\n+;; This file is part of GCC.\n+\n+;; GCC is free software; you can redistribute it and/or modify\n+;; it under the terms of the GNU General Public License as published by\n+;; the Free Software Foundation; either version 3, or (at your option)\n+;; any later version.\n+\n+;; GCC is distributed in the hope that it will be useful,\n+;; but WITHOUT ANY WARRANTY; without even the implied warranty of\n+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+;; GNU General Public License for more details.\n+\n+;; You should have received a copy of the GNU General Public License\n+;; along with GCC; see the file COPYING3.  If not see\n+;; <http://www.gnu.org/licenses/>.\n+;;   Copyright (C) 2004, 2005, 2006 Cavium Networks.\n+\n+\n+;; Octeon is a dual-issue processor that can issue all instructions on\n+;; pipe0 and a subset on pipe1.\n+\n+(define_automaton \"octeon_main, octeon_mult\")\n+\n+(define_cpu_unit \"octeon_pipe0\" \"octeon_main\")\n+(define_cpu_unit \"octeon_pipe1\" \"octeon_main\")\n+(define_cpu_unit \"octeon_mult\" \"octeon_mult\")\n+\n+(define_insn_reservation \"octeon_arith\" 1\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"arith,const,logical,move,shift,signext,slt,nop\"))\n+  \"octeon_pipe0 | octeon_pipe1\")\n+\n+(define_insn_reservation \"octeon_condmove\" 2\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"condmove\"))\n+  \"octeon_pipe0 | octeon_pipe1\")\n+\n+(define_insn_reservation \"octeon_load\" 2\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"load,prefetch,mtc,mfc\"))\n+  \"octeon_pipe0\")\n+\n+(define_insn_reservation \"octeon_store\" 1\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"store\"))\n+  \"octeon_pipe0\")\n+\n+(define_insn_reservation \"octeon_brj\" 1\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"branch,jump,call,trap\"))\n+  \"octeon_pipe0\")\n+\n+(define_insn_reservation \"octeon_imul3\" 5\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"imul3,pop,clz\"))\n+  \"(octeon_pipe0 | octeon_pipe1) + octeon_mult\")\n+\n+(define_insn_reservation \"octeon_imul\" 2\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"imul,mthilo\"))\n+  \"(octeon_pipe0 | octeon_pipe1) + octeon_mult, octeon_mult\")\n+\n+(define_insn_reservation \"octeon_mfhilo\" 5\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"mfhilo\"))\n+  \"(octeon_pipe0 | octeon_pipe1) + octeon_mult\")\n+\n+(define_insn_reservation \"octeon_imadd\" 4\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"imadd\"))\n+  \"(octeon_pipe0 | octeon_pipe1) + octeon_mult, octeon_mult*3\")\n+\n+(define_insn_reservation \"octeon_idiv\" 72\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"idiv\"))\n+  \"(octeon_pipe0 | octeon_pipe1) + octeon_mult, octeon_mult*71\")\n+\n+;; Assume both pipes are needed for unknown and multiple-instruction\n+;; patterns.\n+\n+(define_insn_reservation \"octeon_unknown\" 1\n+  (and (eq_attr \"cpu\" \"octeon\")\n+       (eq_attr \"type\" \"unknown,multi\"))\n+  \"octeon_pipe0 + octeon_pipe1\")"}]}