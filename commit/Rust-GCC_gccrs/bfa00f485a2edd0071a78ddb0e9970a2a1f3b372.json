{"sha": "bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZhMDBmNDg1YTJlZGQwMDcxYTc4ZGRiMGU5OTcwYTJhMWYzYjM3Mg==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-11-25T05:00:08Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-11-25T05:00:08Z"}, "message": "graphite-poly.c (dot_lst_1): New.\n\n2009-10-13  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-poly.c (dot_lst_1): New.\n\t(dot_lst): New.\n\t* graphite-poly.h (dot_lst): Declared.\n\nFrom-SVN: r154573", "tree": {"sha": "6aa7bea622c1c47180461df05f081e8803a88cc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6aa7bea622c1c47180461df05f081e8803a88cc5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c7bdeb832a18ea64c7b1a66327dea3c438eac4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c7bdeb832a18ea64c7b1a66327dea3c438eac4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c7bdeb832a18ea64c7b1a66327dea3c438eac4b"}], "stats": {"total": 71, "additions": 70, "deletions": 1}, "files": [{"sha": "382dcbae348658d5fe97956be00d868f0468f024", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "patch": "@@ -1,3 +1,9 @@\n+2009-10-13  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-poly.c (dot_lst_1): New.\n+\t(dot_lst): New.\n+\t* graphite-poly.h (dot_lst): Declared.\n+\n 2009-10-13  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-dependences.c (dot_deps_stmt_1): New."}, {"sha": "5480a36a6d6155610b17c22fcbe8dfa95e000a41", "filename": "gcc/graphite-dependences.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2Fgraphite-dependences.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2Fgraphite-dependences.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-dependences.c?ref=bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "patch": "@@ -908,7 +908,7 @@ dot_deps_stmt (scop_p scop)\n \n   x = system (\"dotty /tmp/scopdeps.dot\");\n #else\n-  dot_deps_1 (stderr, scop);\n+  dot_deps_stmt_1 (stderr, scop);\n #endif\n }\n "}, {"sha": "659839d28ede807e1d8603dfce982165459ccab1", "filename": "gcc/graphite-poly.c", "status": "modified", "additions": 62, "deletions": 0, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2Fgraphite-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2Fgraphite-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.c?ref=bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "patch": "@@ -906,5 +906,67 @@ debug_lst (lst_p lst)\n   print_lst (stderr, lst, 0);\n }\n \n+/* Pretty print to FILE the loop statement tree LST in DOT format.  */\n+\n+static void\n+dot_lst_1 (FILE *file, lst_p lst)\n+{\n+  if (!lst)\n+    return;\n+\n+  if (LST_LOOP_P (lst))\n+    {\n+      int i;\n+      lst_p l;\n+\n+      if (!LST_LOOP_FATHER (lst))\n+\tfprintf (file, \"L -> L_%d_%d\\n\",\n+\t\t lst_depth (lst),\n+\t\t lst_dewey_number (lst));\n+      else\n+\tfprintf (file, \"L_%d_%d -> L_%d_%d\\n\",\n+\t\t lst_depth (LST_LOOP_FATHER (lst)),\n+\t\t lst_dewey_number (LST_LOOP_FATHER (lst)),\n+\t\t lst_depth (lst),\n+\t\t lst_dewey_number (lst));\n+\n+      for (i = 0; VEC_iterate (lst_p, LST_SEQ (lst), i, l); i++)\n+\tdot_lst_1 (file, l);\n+    }\n+\n+  else\n+    fprintf (file, \"L_%d_%d -> S_%d\\n\",\n+\t     lst_depth (LST_LOOP_FATHER (lst)),\n+\t     lst_dewey_number (LST_LOOP_FATHER (lst)),\n+\t     pbb_index (LST_PBB (lst)));\n+\n+}\n+\n+/* Display the LST using dotty.  */\n+\n+void\n+dot_lst (lst_p lst)\n+{\n+  /* When debugging, enable the following code.  This cannot be used\n+     in production compilers because it calls \"system\".  */\n+#if 0\n+  int x;\n+  FILE *stream = fopen (\"/tmp/lst.dot\", \"w\");\n+  gcc_assert (stream);\n+\n+  fputs (\"digraph all {\\n\", stream);\n+  dot_lst_1 (stream, lst);\n+  fputs (\"}\\n\\n\", stream);\n+  fclose (stream);\n+\n+  x = system (\"dotty /tmp/lst.dot\");\n+#else\n+  fputs (\"digraph all {\\n\", stderr);\n+  dot_lst_1 (stderr, lst);\n+  fputs (\"}\\n\\n\", stderr);\n+\n+#endif\n+}\n+\n #endif\n "}, {"sha": "3c82e68cd9c4e4c5f6f5b6186b7f0343fe3041a3", "filename": "gcc/graphite-poly.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2Fgraphite-poly.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa00f485a2edd0071a78ddb0e9970a2a1f3b372/gcc%2Fgraphite-poly.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.h?ref=bfa00f485a2edd0071a78ddb0e9970a2a1f3b372", "patch": "@@ -636,6 +636,7 @@ struct lst {\n void scop_to_lst (scop_p);\n void print_lst (FILE *, lst_p, int);\n void debug_lst (lst_p);\n+void dot_lst (lst_p);\n \n /* Creates a new LST loop with SEQ.  */\n "}]}