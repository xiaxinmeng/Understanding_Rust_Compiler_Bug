{"sha": "9cf8d5481b7dc75b18f0375dc2c1f79295214b84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWNmOGQ1NDgxYjdkYzc1YjE4ZjAzNzVkYzJjMWY3OTI5NTIxNGI4NA==", "commit": {"author": {"name": "Kresten Krab Thorup", "email": "krab@gcc.gnu.org", "date": "1993-09-20T10:27:23Z"}, "committer": {"name": "Kresten Krab Thorup", "email": "krab@gcc.gnu.org", "date": "1993-09-20T10:27:23Z"}, "message": "(objc_read_string): Allocate n+1 chars instead of just n.\n\nFrom-SVN: r5371", "tree": {"sha": "ea7ff12e4639137f57337613cb7a4d4fbc384741", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea7ff12e4639137f57337613cb7a4d4fbc384741"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9cf8d5481b7dc75b18f0375dc2c1f79295214b84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cf8d5481b7dc75b18f0375dc2c1f79295214b84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cf8d5481b7dc75b18f0375dc2c1f79295214b84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cf8d5481b7dc75b18f0375dc2c1f79295214b84/comments", "author": null, "committer": null, "parents": [{"sha": "5738a80a2e2e360a5481d97e2018f491c9facce1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5738a80a2e2e360a5481d97e2018f491c9facce1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5738a80a2e2e360a5481d97e2018f491c9facce1"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "ad822fad53f025a483b4d8d4b72209e9e429a087", "filename": "gcc/objc/archive.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cf8d5481b7dc75b18f0375dc2c1f79295214b84/gcc%2Fobjc%2Farchive.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cf8d5481b7dc75b18f0375dc2c1f79295214b84/gcc%2Fobjc%2Farchive.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Farchive.c?ref=9cf8d5481b7dc75b18f0375dc2c1f79295214b84", "patch": "@@ -627,10 +627,10 @@ objc_read_string (struct objc_typed_stream* stream,\n \t  unsigned int nbytes = buf[0]&_B_VALUE;\n \t  len = __objc_read_nbyte_uint(stream, nbytes, &nbytes);\n \t  if (len) {\n-\t    (*string) = (char*)__objc_xmalloc(nbytes);\n+\t    (*string) = (char*)__objc_xmalloc(nbytes+1);\n \t    if (key)\n \t      hash_add (&stream->stream_table, (void*)key, *string);\n-\t    len = (*stream->read)(stream->physical, *string, buf[0]&_B_VALUE);\n+\t    len = (*stream->read)(stream->physical, *string, nbytes);\n \t    (*string)[nbytes] = '\\0';\n \t  }\n \t}"}]}