{"sha": "27a144872845b00b6a526ccf6c03792a027a4494", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjdhMTQ0ODcyODQ1YjAwYjZhNTI2Y2NmNmMwMzc5MmEwMjdhNDQ5NA==", "commit": {"author": {"name": "Matt Kraai", "email": "kraai@alumni.carnegiemellon.edu", "date": "2001-08-20T13:39:36Z"}, "committer": {"name": "Matt Kraai", "email": "kraai@gcc.gnu.org", "date": "2001-08-20T13:39:36Z"}, "message": "gcc.c (make_relative_prefix): Allocate a sufficiently large buffer.\n\n\t* gcc.c (make_relative_prefix): Allocate a sufficiently large\n\tbuffer.\n\nFrom-SVN: r45049", "tree": {"sha": "0e411b3a5f83d59c12a0843bdd4f7718385bb15e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e411b3a5f83d59c12a0843bdd4f7718385bb15e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/27a144872845b00b6a526ccf6c03792a027a4494", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27a144872845b00b6a526ccf6c03792a027a4494", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27a144872845b00b6a526ccf6c03792a027a4494", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27a144872845b00b6a526ccf6c03792a027a4494/comments", "author": null, "committer": null, "parents": [{"sha": "2a895e441a50a1e70dad9e97f271e9aa0b53907b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a895e441a50a1e70dad9e97f271e9aa0b53907b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a895e441a50a1e70dad9e97f271e9aa0b53907b"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "ac9cee0c258565ca92f65462c60e28ec3588354e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27a144872845b00b6a526ccf6c03792a027a4494/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27a144872845b00b6a526ccf6c03792a027a4494/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=27a144872845b00b6a526ccf6c03792a027a4494", "patch": "@@ -1,3 +1,8 @@\n+2001-08-20  Matt Kraai  <kraai@alumni.carnegiemellon.edu>\n+\n+\t* gcc.c (make_relative_prefix): Allocate a sufficiently large\n+\tbuffer.\n+\n 2001-08-20  Richard Henderson  <rth@redhat.com>\n \n \t* final.c (end_final): Fix typo last change."}, {"sha": "99a5c3cd59495ed34807d27806be3419d29d52b4", "filename": "gcc/gcc.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27a144872845b00b6a526ccf6c03792a027a4494/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27a144872845b00b6a526ccf6c03792a027a4494/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=27a144872845b00b6a526ccf6c03792a027a4494", "patch": "@@ -2285,8 +2285,12 @@ make_relative_prefix (progname, bin_prefix, prefix)\n       GET_ENV_PATH_LIST (temp, \"PATH\");\n       if (temp)\n \t{\n-\t  char *startp, *endp;\n-\t  char *nstore = (char *) alloca (strlen (temp) + strlen (progname) + 1);\n+\t  char *startp, *endp, *nstore;\n+\t  size_t prefixlen = strlen (temp) + 1;\n+\t  if (prefixlen < 2)\n+\t    prefixlen = 2;\n+\n+\t  nstore = (char *) alloca (prefixlen + strlen (progname) + 1);\n \n \t  startp = endp = temp;\n \t  while (1)"}]}