{"sha": "6dfb529ce2820d176b3f4c637a23544998377e39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmRmYjUyOWNlMjgyMGQxNzZiM2Y0YzYzN2EyMzU0NDk5ODM3N2UzOQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2009-03-02T11:52:15Z"}, "committer": {"name": "Ira Rosen", "email": "irar@gcc.gnu.org", "date": "2009-03-02T11:52:15Z"}, "message": "re PR middle-end/39318 (internal compiler error: verify_stmts failed)\n\n2009-03-02  Richard Guenther  <rguenther@suse.de>\n            Ira Rosen  <irar@il.ibm.com>\n\n\tPR tree-optimization/39318\n\t* tree-vect-transform.c (vectorizable_call): Transfer the EH region\n\tinformation to the vectorized statement.\n\n\nCo-Authored-By: Ira Rosen <irar@il.ibm.com>\n\nFrom-SVN: r144541", "tree": {"sha": "1e9f60d4ee1b8a71ee3949aebf2a305e9f557b62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e9f60d4ee1b8a71ee3949aebf2a305e9f557b62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6dfb529ce2820d176b3f4c637a23544998377e39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6dfb529ce2820d176b3f4c637a23544998377e39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6dfb529ce2820d176b3f4c637a23544998377e39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6dfb529ce2820d176b3f4c637a23544998377e39/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cbf92fc258302dc21b6720f01a0c1ae40b68fd5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbf92fc258302dc21b6720f01a0c1ae40b68fd5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbf92fc258302dc21b6720f01a0c1ae40b68fd5d"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "18ebfbf0ea1e218f62c5f237656e56b0b9bead78", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6dfb529ce2820d176b3f4c637a23544998377e39", "patch": "@@ -1,3 +1,10 @@\n+2009-03-02  Richard Guenther  <rguenther@suse.de>\n+            Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/39318\n+\t* tree-vect-transform.c (vectorizable_call): Transfer the EH region\n+\tinformation to the vectorized statement.\n+\n 2009-03-01  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.h (CONDITIONAL_REGISTER_USAGE): Do not shadow \"i\""}, {"sha": "239c9e4aacc166c819ebebd87ad928032c49d1ab", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6dfb529ce2820d176b3f4c637a23544998377e39", "patch": "@@ -1,3 +1,9 @@\n+2009-03-02  Richard Guenther  <rguenther@suse.de>\n+            Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/39318\n+\t* gfortran.dg/vect/pr39318.f90: New test.\n+\n 2009-03-01  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc.dg/debug/dwarf2/ipa-cp1.c: New testcase."}, {"sha": "9e58a17b526970abe063d6095512a279517f6c21", "filename": "gcc/testsuite/gfortran.dg/vect/pr39318.f90", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2Ftestsuite%2Fgfortran.dg%2Fvect%2Fpr39318.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2Ftestsuite%2Fgfortran.dg%2Fvect%2Fpr39318.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fvect%2Fpr39318.f90?ref=6dfb529ce2820d176b3f4c637a23544998377e39", "patch": "@@ -0,0 +1,21 @@\n+! { dg-do compile } \n+! { dg-options \"-c -fopenmp -fexceptions -O2 -ftree-vectorize\" } \n+\n+      subroutine adw_trajsp (F_u,i0,in,j0,jn)\n+      implicit none\n+      real F_u(*)\n+      integer i0,in,j0,jn\n+      integer n,i,j\n+      real*8 xsin(i0:in,j0:jn)\n+!$omp parallel do private(xsin)\n+         do j=j0,jn\n+         do i=i0,in\n+            xsin(i,j) = sqrt(F_u(n))\n+         end do\n+         end do\n+!$omp end parallel do\n+      return\n+      end\n+\n+! { dg-final { cleanup-tree-dump \"vect\" } }\n+"}, {"sha": "5f9884f00104698f32e4a9803ae1653b9cdeb253", "filename": "gcc/tree-vect-transform.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2Ftree-vect-transform.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dfb529ce2820d176b3f4c637a23544998377e39/gcc%2Ftree-vect-transform.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-transform.c?ref=6dfb529ce2820d176b3f4c637a23544998377e39", "patch": "@@ -3450,6 +3450,10 @@ vectorizable_call (gimple stmt, gimple_stmt_iterator *gsi, gimple *vec_stmt)\n \n   VEC_free (tree, heap, vargs);\n \n+  /* Update the exception handling table with the vector stmt if necessary.  */\n+  if (maybe_clean_or_replace_eh_stmt (stmt, *vec_stmt))\n+    gimple_purge_dead_eh_edges (gimple_bb (stmt));\n+\n   /* The call in STMT might prevent it from being removed in dce.\n      We however cannot remove it here, due to the way the ssa name\n      it defines is mapped to the new definition.  So just replace"}]}