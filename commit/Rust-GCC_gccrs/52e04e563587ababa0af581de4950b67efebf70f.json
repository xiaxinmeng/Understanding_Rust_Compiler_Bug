{"sha": "52e04e563587ababa0af581de4950b67efebf70f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJlMDRlNTYzNTg3YWJhYmEwYWY1ODFkZTQ5NTBiNjdlZmViZjcwZg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-12-11T09:43:46Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-12-11T09:43:46Z"}, "message": "* gcc-interface/trans.c (gigi): Initialize the linemap earlier.\n\nFrom-SVN: r182199", "tree": {"sha": "f59a5067095437fde97bc479df640af61dd45781", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f59a5067095437fde97bc479df640af61dd45781"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52e04e563587ababa0af581de4950b67efebf70f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52e04e563587ababa0af581de4950b67efebf70f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52e04e563587ababa0af581de4950b67efebf70f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52e04e563587ababa0af581de4950b67efebf70f/comments", "author": null, "committer": null, "parents": [{"sha": "e7bb3661e1be7e342d8018b65be95d1b78e1b1ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7bb3661e1be7e342d8018b65be95d1b78e1b1ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7bb3661e1be7e342d8018b65be95d1b78e1b1ce"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "495dbf45d1d578011ad92e68d262c0c2864611df", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52e04e563587ababa0af581de4950b67efebf70f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52e04e563587ababa0af581de4950b67efebf70f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=52e04e563587ababa0af581de4950b67efebf70f", "patch": "@@ -1,3 +1,7 @@\n+2011-12-11  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/trans.c (gigi): Initialize the linemap earlier.\n+\n 2011-12-06  Dave Korn  <dave.korn.cygwin@gmail.com>\n \n \t* gcc-interface/Makefile.in (LIBGNAT_TARGET_PAIRS [windows targets]):"}, {"sha": "da1a8f1f4ee7dabd8027322e18a7e479991b865c", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52e04e563587ababa0af581de4950b67efebf70f/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52e04e563587ababa0af581de4950b67efebf70f/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=52e04e563587ababa0af581de4950b67efebf70f", "patch": "@@ -297,13 +297,6 @@ gigi (Node_Id gnat_root, int max_gnat_node, int number_name ATTRIBUTE_UNUSED,\n \n   type_annotate_only = (gigi_operating_mode == 1);\n \n-  gcc_assert (Nkind (gnat_root) == N_Compilation_Unit);\n-\n-  /* Declare the name of the compilation unit as the first global\n-     name in order to make the middle-end fully deterministic.  */\n-  t = create_concat_name (Defining_Entity (Unit (gnat_root)), NULL);\n-  first_global_object_name = ggc_strdup (IDENTIFIER_POINTER (t));\n-\n   for (i = 0; i < number_file; i++)\n     {\n       /* Use the identifier table to make a permanent copy of the filename as\n@@ -328,6 +321,13 @@ gigi (Node_Id gnat_root, int max_gnat_node, int number_name ATTRIBUTE_UNUSED,\n       linemap_add (line_table, LC_LEAVE, 0, NULL, 0);\n     }\n \n+  gcc_assert (Nkind (gnat_root) == N_Compilation_Unit);\n+\n+  /* Declare the name of the compilation unit as the first global\n+     name in order to make the middle-end fully deterministic.  */\n+  t = create_concat_name (Defining_Entity (Unit (gnat_root)), NULL);\n+  first_global_object_name = ggc_strdup (IDENTIFIER_POINTER (t));\n+\n   /* Initialize ourselves.  */\n   init_code_table ();\n   init_gnat_to_gnu ();"}]}