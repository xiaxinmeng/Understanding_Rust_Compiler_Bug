{"sha": "da81cc570f27e78f71fed25d3c21a1d7d7f3ed66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGE4MWNjNTcwZjI3ZTc4ZjcxZmVkMjVkM2MyMWExZDdkN2YzZWQ2Ng==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2019-08-30T14:26:20Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2019-08-30T14:26:20Z"}, "message": "* gcc-interface/trans.c (Attribute_to_gnu) <Attr_Size>: Add assertion.\n\nFrom-SVN: r275187", "tree": {"sha": "cf18e5e319ce548f35ee202bce982abb79ec9603", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf18e5e319ce548f35ee202bce982abb79ec9603"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66/comments", "author": null, "committer": null, "parents": [{"sha": "81e753d9c8a5930b5465676304df5d0d0c90294e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81e753d9c8a5930b5465676304df5d0d0c90294e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81e753d9c8a5930b5465676304df5d0d0c90294e"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "af3db1d63776a6928b89c80376a4c4b8baa8b013", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=da81cc570f27e78f71fed25d3c21a1d7d7f3ed66", "patch": "@@ -1,3 +1,7 @@\n+2019-08-30  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/trans.c (Attribute_to_gnu) <Attr_Size>: Add assertion.\n+\n 2019-08-30  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/gigi.h (gigi_checking_assert): New macro."}, {"sha": "bd861f350c1df80a1d5c3177f65b0cd6d39ced7f", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da81cc570f27e78f71fed25d3c21a1d7d7f3ed66/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=da81cc570f27e78f71fed25d3c21a1d7d7f3ed66", "patch": "@@ -2351,6 +2351,9 @@ Attribute_to_gnu (Node_Id gnat_node, tree *gnu_result_type_p, int attribute)\n \t    gnu_type = TREE_TYPE (DECL_CHAIN (TYPE_FIELDS (gnu_type)));\n \t}\n \n+      /* The type must be frozen at this point.  */\n+      gcc_assert (COMPLETE_TYPE_P (gnu_type));\n+\n       /* If we're looking for the size of a field, return the field size.  */\n       if (TREE_CODE (gnu_prefix) == COMPONENT_REF)\n \tgnu_result = DECL_SIZE (TREE_OPERAND (gnu_prefix, 1));"}]}