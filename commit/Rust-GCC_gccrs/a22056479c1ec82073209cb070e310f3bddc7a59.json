{"sha": "a22056479c1ec82073209cb070e310f3bddc7a59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTIyMDU2NDc5YzFlYzgyMDczMjA5Y2IwNzBlMzEwZjNiZGRjN2E1OQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@kss-loka.si", "date": "2005-10-25T13:01:12Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2005-10-25T13:01:12Z"}, "message": "i386-1.C: Include i386-cpuid.h.\n\n\t* g++.dg/other/i386-1.C: Include i386-cpuid.h.  Pass if\n\tCPU has no SSE support.\n\nFrom-SVN: r105885", "tree": {"sha": "ce897d7c1e6a098b28782791fdeb1e49a2f3b12a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce897d7c1e6a098b28782791fdeb1e49a2f3b12a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a22056479c1ec82073209cb070e310f3bddc7a59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a22056479c1ec82073209cb070e310f3bddc7a59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a22056479c1ec82073209cb070e310f3bddc7a59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a22056479c1ec82073209cb070e310f3bddc7a59/comments", "author": null, "committer": null, "parents": [{"sha": "e4b600fb239763b1da37a00cd42032415ff95c2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4b600fb239763b1da37a00cd42032415ff95c2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4b600fb239763b1da37a00cd42032415ff95c2a"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "53cddc0bbc2516aab8054e38bc0f1b3212dbdc59", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a22056479c1ec82073209cb070e310f3bddc7a59/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a22056479c1ec82073209cb070e310f3bddc7a59/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a22056479c1ec82073209cb070e310f3bddc7a59", "patch": "@@ -1,3 +1,8 @@\n+2005-10-25  Uros Bizjak  <uros@kss-loka.si>\n+\n+\t* g++.dg/other/i386-1.C: Include i386-cpuid.h.  Pass if\n+\tCPU has no SSE support.\n+\n 2005-10-24  Jerry DeLisle  <jvdelisle@verizon.net>\n \n         PR libgfortran/24224"}, {"sha": "c579cf2f8c6efaa744e78ed51214386573d516ed", "filename": "gcc/testsuite/g++.dg/other/i386-1.C", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a22056479c1ec82073209cb070e310f3bddc7a59/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a22056479c1ec82073209cb070e310f3bddc7a59/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-1.C?ref=a22056479c1ec82073209cb070e310f3bddc7a59", "patch": "@@ -3,13 +3,23 @@\n \n #include <xmmintrin.h>\n #include <stdio.h>\n+#include \"../../gcc.dg/i386-cpuid.h\"\n \n int main(int argc, char** argv) {\n   float a = 1.0f;\n   float b = 2.0f;\n   float c = 3.0f;\n   float r;\n-  \n+\n+  unsigned long cpu_facilities;\n+\n+  cpu_facilities = i386_cpuid ();\n+\n+  if ((cpu_facilities & (bit_MMX | bit_SSE | bit_CMOV))\n+      != (bit_MMX | bit_SSE | bit_CMOV))\n+    /* If host has no vector support, pass.  */\n+    return 0;\n+\n   __m128 v = _mm_set_ps(a, b, c, 0);\n   \n   v = (__m128)_mm_srli_si128((__m128i)v, 4);"}]}