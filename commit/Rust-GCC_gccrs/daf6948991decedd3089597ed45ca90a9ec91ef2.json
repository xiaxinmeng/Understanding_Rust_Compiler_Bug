{"sha": "daf6948991decedd3089597ed45ca90a9ec91ef2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFmNjk0ODk5MWRlY2VkZDMwODk1OTdlZDQ1Y2E5MGE5ZWM5MWVmMg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-05-10T12:35:45Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-05-10T12:35:45Z"}, "message": "PR libstdc++/85729 add linkage specifications to headers\n\n\tPR libstdc++/85729\n\t* include/bits/c++config.h (__replacement_assert): Add linkage\n\tspecification.\n\t* include/bits/std_abs.h: Add comment to closing brace of block.\n\t* include/c_global/cstddef: Add linkage specification.\n\t* include/c_global/cstring: Likewise.\n\t* include/c_global/cwchar: Likewise.\n\nFrom-SVN: r260114", "tree": {"sha": "ac5c5d0974d9f47e18b6a2ffc43a0f47d511dfbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac5c5d0974d9f47e18b6a2ffc43a0f47d511dfbd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/daf6948991decedd3089597ed45ca90a9ec91ef2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daf6948991decedd3089597ed45ca90a9ec91ef2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/daf6948991decedd3089597ed45ca90a9ec91ef2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daf6948991decedd3089597ed45ca90a9ec91ef2/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9caa7e073b3e03a8fd1402fe0087b8078c6973de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9caa7e073b3e03a8fd1402fe0087b8078c6973de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9caa7e073b3e03a8fd1402fe0087b8078c6973de"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "53d84b09b3a12ad3a70db1ac29bff0c17e33c13e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=daf6948991decedd3089597ed45ca90a9ec91ef2", "patch": "@@ -1,3 +1,13 @@\n+2018-05-10  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/85729\n+\t* include/bits/c++config.h (__replacement_assert): Add linkage\n+\tspecification.\n+\t* include/bits/std_abs.h: Add comment to closing brace of block.\n+\t* include/c_global/cstddef: Add linkage specification.\n+\t* include/c_global/cstring: Likewise.\n+\t* include/c_global/cwchar: Likewise.\n+\n 2018-05-09  Fran\u00e7ois Dumont  <fdumont@gcc.gnu.org>\n \n \t* include/debug/safe_iterator.h (_Safe_iterator<>::_M_constant()):"}, {"sha": "280f65e1ba0a4d1f1f8d462f499c47969a52ce53", "filename": "libstdc++-v3/include/bits/c++config", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig?ref=daf6948991decedd3089597ed45ca90a9ec91ef2", "patch": "@@ -438,7 +438,7 @@ namespace std\n {\n   // Avoid the use of assert, because we're trying to keep the <cassert>\n   // include out of the mix.\n-  inline void\n+  extern \"C++\" inline void\n   __replacement_assert(const char* __file, int __line,\n \t\t       const char* __function, const char* __condition)\n   {"}, {"sha": "bcea4f492035d2480d01cc7f5b8eabfd82a512c4", "filename": "libstdc++-v3/include/bits/std_abs.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_abs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_abs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_abs.h?ref=daf6948991decedd3089597ed45ca90a9ec91ef2", "patch": "@@ -105,6 +105,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace\n-}\n+} // extern \"C\"++\"\n \n #endif // _GLIBCXX_BITS_STD_ABS_H"}, {"sha": "0ca3b82338ad0d841eb6012477ea6a093a21b925", "filename": "libstdc++-v3/include/c_global/cstddef", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcstddef", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcstddef", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcstddef?ref=daf6948991decedd3089597ed45ca90a9ec91ef2", "patch": "@@ -49,13 +49,15 @@\n #include <bits/c++config.h>\n #include <stddef.h>\n \n+extern \"C++\"\n+{\n #if __cplusplus >= 201103L\n namespace std\n {\n   // We handle size_t, ptrdiff_t, and nullptr_t in c++config.h.\n   using ::max_align_t;\n }\n-#endif\n+#endif // C++11\n \n #if __cplusplus >= 201703L\n namespace std\n@@ -186,6 +188,7 @@ namespace std\n     { return _IntegerType(__b); }\n \n } // namespace std\n-#endif\n+#endif // C++17\n+} // extern \"C++\"\n \n #endif // _GLIBCXX_CSTDDEF"}, {"sha": "2bca01b7f085363497e3cdda15f44bbc82d34d35", "filename": "libstdc++-v3/include/c_global/cstring", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcstring", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcstring", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcstring?ref=daf6948991decedd3089597ed45ca90a9ec91ef2", "patch": "@@ -68,6 +68,8 @@\n #undef strtok\n #undef strxfrm\n \n+extern \"C++\"\n+{\n namespace std _GLIBCXX_VISIBILITY(default)\n {\n _GLIBCXX_BEGIN_NAMESPACE_VERSION\n@@ -119,5 +121,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace\n+} // extern \"C++\"\n \n #endif"}, {"sha": "7557c7768aa09b1a224574670723172991ab0771", "filename": "libstdc++-v3/include/c_global/cwchar", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcwchar", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daf6948991decedd3089597ed45ca90a9ec91ef2/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcwchar", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fc_global%2Fcwchar?ref=daf6948991decedd3089597ed45ca90a9ec91ef2", "patch": "@@ -132,6 +132,8 @@ namespace std\n \n #if _GLIBCXX_USE_WCHAR_T\n \n+extern \"C++\"\n+{\n namespace std _GLIBCXX_VISIBILITY(default)\n {\n _GLIBCXX_BEGIN_NAMESPACE_VERSION\n@@ -231,6 +233,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace\n+} // extern \"C++\"\n \n #if _GLIBCXX_USE_C99_WCHAR\n "}]}