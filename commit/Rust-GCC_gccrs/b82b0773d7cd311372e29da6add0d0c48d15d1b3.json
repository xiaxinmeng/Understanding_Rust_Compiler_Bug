{"sha": "b82b0773d7cd311372e29da6add0d0c48d15d1b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgyYjA3NzNkN2NkMzExMzcyZTI5ZGE2YWRkMGQwYzQ4ZDE1ZDFiMw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1993-04-06T16:09:50Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1993-04-06T16:09:50Z"}, "message": "More mips gas changes, allow -gdwarf on OSF/1\n\nFrom-SVN: r4027", "tree": {"sha": "efdf3f445fb01405ccc4ffb37ed88c7ae94eda2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efdf3f445fb01405ccc4ffb37ed88c7ae94eda2a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b82b0773d7cd311372e29da6add0d0c48d15d1b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82b0773d7cd311372e29da6add0d0c48d15d1b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b82b0773d7cd311372e29da6add0d0c48d15d1b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82b0773d7cd311372e29da6add0d0c48d15d1b3/comments", "author": null, "committer": null, "parents": [{"sha": "196ddf8aff827d9cf52aa9c3d5646aaf2578bb19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/196ddf8aff827d9cf52aa9c3d5646aaf2578bb19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/196ddf8aff827d9cf52aa9c3d5646aaf2578bb19"}], "stats": {"total": 46, "additions": 28, "deletions": 18}, "files": [{"sha": "736824f41598ecc7bb6e221746bb9b21f3e35c87", "filename": "gcc/config/i386/osfrose.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fi386%2Fosfrose.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fi386%2Fosfrose.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fosfrose.h?ref=b82b0773d7cd311372e29da6add0d0c48d15d1b3", "patch": "@@ -49,6 +49,13 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n      { \"no-half-pic\",\t-MASK_HALF_PIC},\t\t\t\t\\\n      { \"debugb\",\t MASK_HALF_PIC_DEBUG},\n \n+/* OSF/rose uses stabs, not dwarf.  */\n+#define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n+\n+#ifndef DWARF_DEBUGGING_INFO\n+#define DWARF_DEBUGGING_INFO\t/* enable dwarf debugging for testing */\n+#endif\n+\n /* Prefix that appears before all global/static identifiers, except for\n    temporary labels.  */\n "}, {"sha": "1bf3d2d88307697f7619f64af7f35ca56d465b5e", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=b82b0773d7cd311372e29da6add0d0c48d15d1b3", "patch": "@@ -2764,11 +2764,7 @@ override_options ()\n   register int regno;\n   register enum machine_mode mode;\n \n-  if (g_switch_set)\n-    mips_section_threshold = g_switch_value;\n-\n-  else\n-    mips_section_threshold = (TARGET_MIPS_AS) ? 8 : 0;\n+  mips_section_threshold = (g_switch_set) ? g_switch_value : MIPS_DEFAULT_GVALUE;\n \n   /* Identify the processor type */\n   if (mips_cpu_string == (char *)0"}, {"sha": "07ecb22a5868ae41725c305828092e9cecc4dfbc", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=b82b0773d7cd311372e29da6add0d0c48d15d1b3", "patch": "@@ -645,7 +645,7 @@ while (0)\n \f\n /* Print subsidiary information on the compiler version in use.  */\n \n-#define MIPS_VERSION \"[AL 1.1, MM 37]\"\n+#define MIPS_VERSION \"[AL 1.1, MM 38]\"\n \n #ifndef MACHINE_TYPE\n #define MACHINE_TYPE \"BSD Mips\"\n@@ -720,15 +720,17 @@ do {\t\t\t\t\t\t\t\\\n #define PUT_SDB_DEF(a)\t\t\t\t\t\\\n do {\t\t\t\t\t\t\t\\\n   extern FILE *asm_out_text_file;\t\t\t\\\n-  fprintf (asm_out_text_file, \"\\t#.def\\t\");\t\t\\\n+  fprintf (asm_out_text_file, \"\\t%s.def\\t\",\t\t\\\n+\t   (TARGET_GAS) ? \"\" : \"#\");\t\t\t\\\n   ASM_OUTPUT_LABELREF (asm_out_text_file, a); \t\t\\\n   fputc (';', asm_out_text_file);\t\t\t\\\n } while (0)\n \n #define PUT_SDB_PLAIN_DEF(a)\t\t\t\t\\\n do {\t\t\t\t\t\t\t\\\n   extern FILE *asm_out_text_file;\t\t\t\\\n-  fprintf (asm_out_text_file, \"\\t#.def\\t.%s;\", (a));\t\\\n+  fprintf (asm_out_text_file, \"\\t%s.def\\t.%s;\",\t\t\\\n+\t   (TARGET_GAS) ? \"\" : \"#\", (a));\t\t\\\n } while (0)\n \n #define PUT_SDB_ENDEF\t\t\t\t\t\\\n@@ -796,8 +798,9 @@ do {\t\t\t\t\t\t\t\\\n do {\t\t\t\t\t\t\t\\\n   extern FILE *asm_out_text_file;\t\t\t\\\n   fprintf (asm_out_text_file,\t\t\t\t\\\n-\t   \"$Lb%d:\\n\\t#.begin\\t$Lb%d\\t%d\\n\",\t\t\\\n+\t   \"$Lb%d:\\n\\t%s.begin\\t$Lb%d\\t%d\\n\",\t\t\\\n \t   sdb_label_count,\t\t\t\t\\\n+\t   (TARGET_GAS) ? \"\" : \"#\",\t\t\t\\\n \t   sdb_label_count,\t\t\t\t\\\n \t   (LINE));\t\t\t\t\t\\\n   sdb_label_count++;\t\t\t\t\t\\\n@@ -807,8 +810,9 @@ do {\t\t\t\t\t\t\t\\\n do {\t\t\t\t\t\t\t\\\n   extern FILE *asm_out_text_file;\t\t\t\\\n   fprintf (asm_out_text_file,\t\t\t\t\\\n-\t   \"$Le%d:\\n\\t#.bend\\t$Le%d\\t%d\\n\",\t\t\\\n+\t   \"$Le%d:\\n\\t%s.bend\\t$Le%d\\t%d\\n\",\t\t\\\n \t   sdb_label_count,\t\t\t\t\\\n+\t   (TARGET_GAS) ? \"\" : \"#\",\t\t\t\\\n \t   sdb_label_count,\t\t\t\t\\\n \t   (LINE));\t\t\t\t\t\\\n   sdb_label_count++;\t\t\t\t\t\\\n@@ -3368,6 +3372,10 @@ do {\t\t\t\t\t\t\t\t\t\\\n   assemble_string (p, size);\t\t\t\t\t\t\\\n }\n \f\n+/* Default to -G 8 */\n+#ifndef MIPS_DEFAULT_GVALUE\n+#define MIPS_DEFAULT_GVALUE 8\n+#endif\n \n /* Define the strings to put out for each section in the object file.  */\n #define TEXT_SECTION_ASM_OP\t\"\\t.text\"\t/* instructions */"}, {"sha": "f2afd62cd35bf8554386d247107fec57bf7e904f", "filename": "gcc/config/mips/osfrose.h", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fmips%2Fosfrose.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82b0773d7cd311372e29da6add0d0c48d15d1b3/gcc%2Fconfig%2Fmips%2Fosfrose.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fosfrose.h?ref=b82b0773d7cd311372e29da6add0d0c48d15d1b3", "patch": "@@ -126,19 +126,15 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define WCHAR_TYPE\t\"unsigned int\"\n #define WCHAR_TYPE_SIZE BITS_PER_WORD\n \n-#if 0\n-#define WCHAR_TYPE\t((TARGET_WC8)\t\t\t\t\t\\\n-\t\t\t\t? \"unsigned char\"\t\t\t\\\n-\t\t\t\t: ((TARGET_WC16)\t\t\t\\\n-\t\t\t\t\t? \"short unsigned int\"\t\t\\\n-\t\t\t\t\t: \"long unsigned int\"))\n-#endif\n-\n+/* OSF/1 uses gas, not the mips assembler.  */\n #define TARGET_DEFAULT MASK_GAS\n \n /* OSF/rose uses stabs, not ECOFF.  */\n #define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n \n+/* enable dwarf debugging for testing */\n+#define DWARF_DEBUGGING_INFO\n+\n /* Tell collect that the object format is OSF/rose.  */\n #define OBJECT_FORMAT_ROSE\n \n@@ -147,6 +143,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define REAL_NM_FILE_NAME\t\"/usr/ccs/bin/nm\"\n #define REAL_STRIP_FILE_NAME\t\"/usr/ccs/bin/strip\"\n \n+/* Default to -G 0 unless doing ecoff work.  */\n+#define MIPS_DEFAULT_GVALUE ((TARGET_MIPS_AS) ? 8 : 0)\n+\n /* Use atexit for static constructors/destructors, instead of defining\n    our own exit function.  */\n #define HAVE_ATEXIT"}]}