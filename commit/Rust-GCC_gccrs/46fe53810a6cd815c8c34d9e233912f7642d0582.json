{"sha": "46fe53810a6cd815c8c34d9e233912f7642d0582", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZmZTUzODEwYTZjZDgxNWM4YzM0ZDllMjMzOTEyZjc2NDJkMDU4Mg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-08-24T00:54:37Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-08-24T00:54:37Z"}, "message": "* fixinc.irix: Add curses.h handling from fixinc.wrap.\n\nFrom-SVN: r21923", "tree": {"sha": "3a9a786a0da6b854e8c87a5ebf0dd82f2cc1426e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a9a786a0da6b854e8c87a5ebf0dd82f2cc1426e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46fe53810a6cd815c8c34d9e233912f7642d0582", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46fe53810a6cd815c8c34d9e233912f7642d0582", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46fe53810a6cd815c8c34d9e233912f7642d0582", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46fe53810a6cd815c8c34d9e233912f7642d0582/comments", "author": null, "committer": null, "parents": [{"sha": "44af3436ad5a76ed22f089d99acf6aed5e8dba94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44af3436ad5a76ed22f089d99acf6aed5e8dba94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44af3436ad5a76ed22f089d99acf6aed5e8dba94"}], "stats": {"total": 43, "additions": 43, "deletions": 0}, "files": [{"sha": "79b54c3540bc345a9fe460fdd04c68055d2a107c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46fe53810a6cd815c8c34d9e233912f7642d0582/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46fe53810a6cd815c8c34d9e233912f7642d0582/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=46fe53810a6cd815c8c34d9e233912f7642d0582", "patch": "@@ -1,3 +1,13 @@\n+Mon Aug 24 00:53:53 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* fixinc.irix: Add curses.h handling from fixinc.wrap.\n+\n+Fri Aug 14 14:12:59 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* c-common.c (combine_strings): Also set TREE_READONLY.\n+\tChange warn_write_strings to flag_const_strings.\n+\t* c-decl.c, c-tree.h: Likewise.\n+\n Sun Aug 23 18:39:11 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n \n \t* config/sparc/sparc.c (sparc_emit_set_const32): If outputting a"}, {"sha": "6562581df6eb1090d6fb2d0f9893deab37435fc7", "filename": "gcc/fixinc.irix", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46fe53810a6cd815c8c34d9e233912f7642d0582/gcc%2Ffixinc.irix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46fe53810a6cd815c8c34d9e233912f7642d0582/gcc%2Ffixinc.irix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.irix?ref=46fe53810a6cd815c8c34d9e233912f7642d0582", "patch": "@@ -97,6 +97,39 @@ __EOF__\n   fi\n fi\n \n+# Avoid the definition of the bool type in curses.h when using\n+# g++, since it's now an official type in the C++ language.\n+\n+# This is also from fixinc.wrap.\n+\n+file=curses.h\n+if [ -r $INPUT/$file ]; then\n+  echo Checking $INPUT/$file\n+  w='[\t ]'\n+  if grep \"typedef$w$w*char$w$w*bool$w*;\" $INPUT/$file >/dev/null\n+  then\n+    echo Fixed $file\n+    rm -f $LIB/$file\n+    cat <<'__EOF__' >$LIB/$file\n+#ifndef _CURSES_H_WRAPPER\n+#ifdef __cplusplus\n+# define bool __curses_bool_t\n+#endif\n+#include_next <curses.h>\n+#ifdef __cplusplus\n+# undef bool\n+#endif\n+#define _CURSES_H_WRAPPER\n+#endif /* _CURSES_H_WRAPPER */\n+__EOF__\n+    # Define _CURSES_H_WRAPPER at the end of the wrapper, not the start,\n+    # so that if #include_next gets another instance of the wrapper,\n+    # this will follow the #include_next chain until we arrive at\n+    # the real <curses.h>.\n+    chmod a+r $LIB/$file\n+  fi\n+fi\n+\n # In limits.h, put #ifndefs around things that are supposed to be defined\n # in float.h to avoid redefinition errors if float.h is included first.\n "}]}