{"sha": "8fdf766886512c1558c3d7d3604c25d00fb8c943", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZkZjc2Njg4NjUxMmMxNTU4YzNkN2QzNjA0YzI1ZDAwZmI4Yzk0Mw==", "commit": {"author": {"name": "Matt Kraai", "email": "kraai@gcc.gnu.org", "date": "2003-05-30T00:43:08Z"}, "committer": {"name": "Matt Kraai", "email": "kraai@gcc.gnu.org", "date": "2003-05-30T00:43:08Z"}, "message": "gthr-gnat.c: Remove #undef UNUSED.\n\n\t* gthr-gnat.c: Remove #undef UNUSED.\n\t(__gnat_default_lock, __gnat_default_unlock): Prototype.\n\t(__gnat_task_lock, __gnat_task_unlock): Make declarations\n\tprototypes.\n\t(__gnat_install_locks): Convert declaration to ISO C90, make\n\tparameter declarations prototypes, and remove blank line.\n\t* gthr-gnat.h (__gnat_install_locks): Make parameter\n\tdeclarations prototypes.\n\nFrom-SVN: r67238", "tree": {"sha": "3f0c5cfb333419fc813a0b381089414fccd0ce03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f0c5cfb333419fc813a0b381089414fccd0ce03"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8fdf766886512c1558c3d7d3604c25d00fb8c943", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fdf766886512c1558c3d7d3604c25d00fb8c943", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fdf766886512c1558c3d7d3604c25d00fb8c943", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fdf766886512c1558c3d7d3604c25d00fb8c943/comments", "author": null, "committer": null, "parents": [{"sha": "f0ae2326c0c185044fe477b6acdeab85da7d0fea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0ae2326c0c185044fe477b6acdeab85da7d0fea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0ae2326c0c185044fe477b6acdeab85da7d0fea"}], "stats": {"total": 29, "additions": 19, "deletions": 10}, "files": [{"sha": "fe298df89c3c873fd89c7d6bc6b6711465e0b8ea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fdf766886512c1558c3d7d3604c25d00fb8c943/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fdf766886512c1558c3d7d3604c25d00fb8c943/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8fdf766886512c1558c3d7d3604c25d00fb8c943", "patch": "@@ -1,3 +1,14 @@\n+2003-05-29  Matt Kraai  <kraai@alumni.cmu.edu>\n+\n+\t* gthr-gnat.c: Remove #undef UNUSED.\n+\t(__gnat_default_lock, __gnat_default_unlock): Prototype.\n+\t(__gnat_task_lock, __gnat_task_unlock): Make declarations\n+\tprototypes.\n+\t(__gnat_install_locks): Convert declaration to ISO C90, make\n+\tparameter declarations prototypes, and remove blank line.\n+\t* gthr-gnat.h (__gnat_install_locks): Make parameter\n+\tdeclarations prototypes.\n+\n 2003-05-29  Jason Merrill  <jason@redhat.com>\n \n \t* Makefile.in (unstrap): Remove stage_last after make unstage1.\n@@ -40,6 +51,7 @@\n \t(expand_unreachable_stmt): Expand unreachable while statements\n \tusing genrtl_do_stmt_1.\n \n+>>>>>>> 1.17950\n 2003-05-29  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips-protos.h (mips_output_load_label): Declare."}, {"sha": "586e7d1a188ec06f7a92d83770e6a672a9903133", "filename": "gcc/gthr-gnat.c", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fdf766886512c1558c3d7d3604c25d00fb8c943/gcc%2Fgthr-gnat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fdf766886512c1558c3d7d3604c25d00fb8c943/gcc%2Fgthr-gnat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-gnat.c?ref=8fdf766886512c1558c3d7d3604c25d00fb8c943", "patch": "@@ -35,6 +35,9 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define UNUSED(x) x __attribute__((unused))\n #endif\n \n+void __gnat_default_lock (void);\n+void __gnat_default_unlock (void);\n+\n void\n __gnat_default_lock (void)\n {\n@@ -47,17 +50,14 @@ __gnat_default_unlock (void)\n   return;\n }\n \n-static void (*__gnat_task_lock) () = *__gnat_default_lock;\n-static void (*__gnat_task_unlock) () = *__gnat_default_unlock;\n+static void (*__gnat_task_lock) (void) = *__gnat_default_lock;\n+static void (*__gnat_task_unlock) (void) = *__gnat_default_unlock;\n \n  void\n-__gnat_install_locks (lock, unlock)\n-     void (*lock) ();\n-     void (*unlock) ();\n+__gnat_install_locks (void (*lock) (void), void (*unlock) (void))\n {\n   __gnat_task_lock = lock;\n   __gnat_task_unlock = unlock;\n-\n }\n \n int\n@@ -79,6 +79,3 @@ __gthread_mutex_unlock (__gthread_mutex_t * UNUSED (mutex))\n   __gnat_task_unlock ();\n   return 0;\n }\n-\n-#undef UNUSED\n-"}, {"sha": "727814197c08585217414d163f6afd1c6a28c973", "filename": "gcc/gthr-gnat.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fdf766886512c1558c3d7d3604c25d00fb8c943/gcc%2Fgthr-gnat.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fdf766886512c1558c3d7d3604c25d00fb8c943/gcc%2Fgthr-gnat.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-gnat.h?ref=8fdf766886512c1558c3d7d3604c25d00fb8c943", "patch": "@@ -34,7 +34,7 @@ typedef int __gthread_mutex_t;\n \n #define __GTHREAD_MUTEX_INIT 0\n \n-extern void __gnat_install_locks (void (*lock) (), void (*unlock) ());\n+extern void __gnat_install_locks (void (*lock) (void), void (*unlock) (void));\n extern int __gthread_active_p (void);\n extern int __gthread_mutex_lock (__gthread_mutex_t *);\n extern int __gthread_mutex_unlock (__gthread_mutex_t *);"}]}