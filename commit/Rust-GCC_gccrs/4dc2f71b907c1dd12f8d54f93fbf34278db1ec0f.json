{"sha": "4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRjMmY3MWI5MDdjMWRkMTJmOGQ1NGY5M2ZiZjM0Mjc4ZGIxZWMwZg==", "commit": {"author": {"name": "David Daney", "email": "ddaney@avtrex.com", "date": "2005-02-03T17:44:20Z"}, "committer": {"name": "David Daney", "email": "daney@gcc.gnu.org", "date": "2005-02-03T17:44:20Z"}, "message": "InetAddress.java (InetAddress): Make a private copy of the address.\n\n\t2005-02-02  David Daney  <ddaney@avtrex.com>\n\n\t* java/net/InetAddress.java (InetAddress): Make a private copy of\n\tthe address.\n\t* java/net/Inet4Address.java (getAddress): Return a copy of the\n\taddress.\n\t* java/net/Inet6Address.java (Inet6Address): Use private copy of\n\tthe address\n\t(getAddress): Return a copy of the address.\n\t(equals): Rewrote.\n\nFrom-SVN: r94664", "tree": {"sha": "9b69152f633ffbb0192b4b1ab1aa7f6cd64f6d8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9b69152f633ffbb0192b4b1ab1aa7f6cd64f6d8e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/comments", "author": null, "committer": null, "parents": [{"sha": "773af5d0df2ac4ce1ba2764bfe70059ba81d64bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/773af5d0df2ac4ce1ba2764bfe70059ba81d64bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/773af5d0df2ac4ce1ba2764bfe70059ba81d64bb"}], "stats": {"total": 27, "additions": 20, "deletions": 7}, "files": [{"sha": "1ee4076912b53fb21d5b1593df5c52c16cbef6b6", "filename": "libjava/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "patch": "@@ -1,3 +1,14 @@\n+2005-02-02  David Daney  <ddaney@avtrex.com>\n+\n+\t* java/net/InetAddress.java (InetAddress): Make a private copy of\n+\tthe address.\n+\t* java/net/Inet4Address.java (getAddress): Return a copy of the\n+\taddress.\n+\t* java/net/Inet6Address.java (Inet6Address): Use private copy of\n+\tthe address\n+\t(getAddress): Return a copy of the address.\n+\t(equals): Rewrote.\n+\n 2005-02-02  Tom Tromey  <tromey@redhat.com>\n \n \t* Makefile.in: Rebuilt."}, {"sha": "b654ce6cddb431f2976d5cf69f4631d8c9976abf", "filename": "libjava/java/net/Inet4Address.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2Fjava%2Fnet%2FInet4Address.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2Fjava%2Fnet%2FInet4Address.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FInet4Address.java?ref=4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "patch": "@@ -207,7 +207,7 @@ public boolean isMCOrgLocal()\n    */\n   public byte[] getAddress()\n   {\n-    return addr;\n+    return (byte[]) addr.clone();\n   }\n \n   /**"}, {"sha": "69d266a4c1764c18d451adba3be5a3cfea18fd92", "filename": "libjava/java/net/Inet6Address.java", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2Fjava%2Fnet%2FInet6Address.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2Fjava%2Fnet%2FInet6Address.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FInet6Address.java?ref=4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "patch": "@@ -65,7 +65,8 @@ public final class Inet6Address extends InetAddress\n   Inet6Address(byte[] addr, String host)\n   {\n     super(addr, host);\n-    this.ipaddress = addr;\n+    // Super constructor clones the addr.  Get a reference to the clone.\n+    this.ipaddress = this.addr;\n   }\n \n   /**\n@@ -194,7 +195,7 @@ public boolean isMCOrgLocal()\n    */\n   public byte[] getAddress()\n   {\n-    return ipaddress;\n+    return (byte[]) ipaddress.clone();\n   }\n \n   /**\n@@ -233,9 +234,10 @@ public boolean equals(Object obj)\n     if (! (obj instanceof Inet6Address))\n       return false;\n \n-    Inet6Address tmp = (Inet6Address) obj;\n-\n-    return super.equals(tmp) && this.ipaddress == tmp.ipaddress;\n+    // this.ipaddress is never set in this class except to\n+    // the value of the super class' addr.  The super classes\n+    // equals(Object) will do the compare.\n+    return super.equals(obj);\n   }\n \n   /**"}, {"sha": "5a3ec474cf9e6d9816f36e6d227bc587e73415a0", "filename": "libjava/java/net/InetAddress.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2Fjava%2Fnet%2FInetAddress.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f/libjava%2Fjava%2Fnet%2FInetAddress.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FInetAddress.java?ref=4dc2f71b907c1dd12f8d54f93fbf34278db1ec0f", "patch": "@@ -123,7 +123,7 @@ public class InetAddress implements Serializable\n    */\n   InetAddress(byte[] ipaddr, String hostname)\n   {\n-    addr = ipaddr;\n+    addr = (null == ipaddr) ? null : (byte[]) ipaddr.clone();\n     hostName = hostname;\n     \n     if (ipaddr != null)"}]}