{"sha": "a26c3bb59317a6518c2b9b3854bc664657f36216", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTI2YzNiYjU5MzE3YTY1MThjMmI5YjM4NTRiYzY2NDY1N2YzNjIxNg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2001-05-25T21:36:08Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-05-25T21:36:08Z"}, "message": "inclhack.def (strict_ansi_not, [...]): Don't run if stdc_0_in_system_headers.\n\n        * fixinc/inclhack.def (strict_ansi_not, strict_ansi_not_ctd,\n        strict_ansi_only): Don't run if stdc_0_in_system_headers.\n        * fixinc/fixincl.x: Regenerate.\n        * fixinc/fixtests.c (stdc_0_in_system_headers_test): New function.\n        (FIX_TEST_TABLE): Declare it.\n        * fixinc/fixlib.h: Include config.h.\n\nFrom-SVN: r42593", "tree": {"sha": "b1a2c30c2a7aded201df738360daeab353748b35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1a2c30c2a7aded201df738360daeab353748b35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a26c3bb59317a6518c2b9b3854bc664657f36216", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a26c3bb59317a6518c2b9b3854bc664657f36216", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a26c3bb59317a6518c2b9b3854bc664657f36216", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a26c3bb59317a6518c2b9b3854bc664657f36216/comments", "author": null, "committer": null, "parents": [{"sha": "a88072eb43e3fdaba206d8685782ebad4743f641", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a88072eb43e3fdaba206d8685782ebad4743f641", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a88072eb43e3fdaba206d8685782ebad4743f641"}], "stats": {"total": 50, "additions": 46, "deletions": 4}, "files": [{"sha": "907c45c2f706930ec61e7f19fd20e6a6846c9516", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a26c3bb59317a6518c2b9b3854bc664657f36216", "patch": "@@ -1,3 +1,12 @@\n+2001-05-25  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* fixinc/inclhack.def (strict_ansi_not, strict_ansi_not_ctd,\n+\tstrict_ansi_only): Don't run if stdc_0_in_system_headers.\n+\t* fixinc/fixincl.x: Regenerate.\n+\t* fixinc/fixtests.c (stdc_0_in_system_headers_test): New function.\n+\t(FIX_TEST_TABLE): Declare it.\n+\t* fixinc/fixlib.h: Include config.h.\n+\n 2001-05-25  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* fixinc/inclhack.def (alpha___assert): Change char * args to"}, {"sha": "15087ae01fa2425f5e8ea0d60b639cadf78a43e7", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=a26c3bb59317a6518c2b9b3854bc664657f36216", "patch": "@@ -3700,8 +3700,14 @@ tSCC zStrict_Ansi_NotName[] =\n tSCC zStrict_Ansi_NotSelect0[] =\n        \"^([ \\t]*#[ \\t]*if.*)(!__STDC__|__STDC__[ \\t]*==[ \\t]*0|__STDC__[ \\t]*!=[ \\t]*1|__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*0)(.*)\";\n \n-#define    STRICT_ANSI_NOT_TEST_CT  1\n+/*\n+ *  perform the C function call test\n+ */\n+tSCC zStrict_Ansi_NotFTst0[] = \"stdc_0_in_system_headers\";\n+\n+#define    STRICT_ANSI_NOT_TEST_CT  2\n static tTestDesc aStrict_Ansi_NotTests[] = {\n+  { TT_FUNCTION, zStrict_Ansi_NotFTst0,   0 /* unused */ },\n   { TT_EGREP,    zStrict_Ansi_NotSelect0, (regex_t*)NULL }, };\n \n /*\n@@ -3736,8 +3742,14 @@ tSCC zStrict_Ansi_Not_CtdList[] =\n tSCC zStrict_Ansi_Not_CtdSelect0[] =\n        \"^([ \\t]*[|&][|&][ \\t(]*)(__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*0)(.*)\";\n \n-#define    STRICT_ANSI_NOT_CTD_TEST_CT  1\n+/*\n+ *  perform the C function call test\n+ */\n+tSCC zStrict_Ansi_Not_CtdFTst0[] = \"stdc_0_in_system_headers\";\n+\n+#define    STRICT_ANSI_NOT_CTD_TEST_CT  2\n static tTestDesc aStrict_Ansi_Not_CtdTests[] = {\n+  { TT_FUNCTION, zStrict_Ansi_Not_CtdFTst0,   0 /* unused */ },\n   { TT_EGREP,    zStrict_Ansi_Not_CtdSelect0, (regex_t*)NULL }, };\n \n /*\n@@ -3771,8 +3783,14 @@ tSCC zStrict_Ansi_OnlyName[] =\n tSCC zStrict_Ansi_OnlySelect0[] =\n        \"^([ \\t]*#[ \\t]*if.*)(__STDC__[ \\t]*!=[ \\t]*0|__STDC__[ \\t]*==[ \\t]*1|__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*1|__STDC__[ \\t]*-[ \\t]*0[ \\t]*!=[ \\t]*0)(.*)\";\n \n-#define    STRICT_ANSI_ONLY_TEST_CT  1\n+/*\n+ *  perform the C function call test\n+ */\n+tSCC zStrict_Ansi_OnlyFTst0[] = \"stdc_0_in_system_headers\";\n+\n+#define    STRICT_ANSI_ONLY_TEST_CT  2\n static tTestDesc aStrict_Ansi_OnlyTests[] = {\n+  { TT_FUNCTION, zStrict_Ansi_OnlyFTst0,   0 /* unused */ },\n   { TT_EGREP,    zStrict_Ansi_OnlySelect0, (regex_t*)NULL }, };\n \n /*"}, {"sha": "e42c43d2ba6b06d84c8001b47363ff4eeb738eae", "filename": "gcc/fixinc/fixlib.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Ffixlib.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Ffixlib.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixlib.h?ref=a26c3bb59317a6518c2b9b3854bc664657f36216", "patch": "@@ -27,6 +27,7 @@ Boston, MA 02111-1307, USA.  */\n \n #include \"auto-host.h\"\n #include \"ansidecl.h\"\n+#include \"config.h\"\n #include \"system.h\"\n \n #include \"gnu-regex.h\""}, {"sha": "a2d5fafe59a036a6cc92589c2c326f8ad43ef132", "filename": "gcc/fixinc/fixtests.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Ffixtests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Ffixtests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixtests.c?ref=a26c3bb59317a6518c2b9b3854bc664657f36216", "patch": "@@ -55,7 +55,8 @@ typedef struct {\n } test_entry_t;\n \n #define FIX_TEST_TABLE \\\n-  _FT_( \"machine_name\",     machine_name_test )\n+  _FT_( \"machine_name\",     machine_name_test )        \\\n+  _FT_( \"stdc_0_in_system_headers\",    stdc_0_in_system_headers_test )\n \n #define TEST_FOR_FIX_PROC_HEAD( test )          \\\n static apply_fix_p_t test PARAMS(( tCC* file, tCC* text ));  \\\n@@ -116,6 +117,16 @@ TEST_FOR_FIX_PROC_HEAD( machine_name_test )\n }\n \n \n+TEST_FOR_FIX_PROC_HEAD( stdc_0_in_system_headers_test )\n+{\n+#ifdef STDC_0_IN_SYSTEM_HEADERS\n+  return SKIP_FIX;\n+#else\n+  return APPLY_FIX;\n+#endif\n+}\n+\n+\n /* = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =\n \n      test for fix selector"}, {"sha": "6c1389882ae8b039039ead7ef2efc6f56ed27857", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a26c3bb59317a6518c2b9b3854bc664657f36216/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=a26c3bb59317a6518c2b9b3854bc664657f36216", "patch": "@@ -1985,6 +1985,7 @@ fix = {\n                \"|__STDC__[ \\t]*!=[ \\t]*1\"\n                \"|__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*0\"\n                \")(.*)\";\n+    c_test   = stdc_0_in_system_headers;\n \n     c_fix     = format;\n     c_fix_arg = \"%1 !defined(__STRICT_ANSI__)%3\";\n@@ -2011,6 +2012,7 @@ fix = {\n     select   = \"^([ \\t]*[|&][|&][ \\t(]*)\"\n                \"(__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*0\"\n                \")(.*)\";\n+    c_test   = stdc_0_in_system_headers;\n \n     c_fix     = format;\n     c_fix_arg = \"%1 !defined(__STRICT_ANSI__)%3\";\n@@ -2031,6 +2033,7 @@ fix = {\n                \"|__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*1\"\n                \"|__STDC__[ \\t]*-[ \\t]*0[ \\t]*!=[ \\t]*0\"\n                \")(.*)\";\n+    c_test   = stdc_0_in_system_headers;\n \n     c_fix     = format;\n     c_fix_arg = \"%1 defined(__STRICT_ANSI__)%3\";"}]}