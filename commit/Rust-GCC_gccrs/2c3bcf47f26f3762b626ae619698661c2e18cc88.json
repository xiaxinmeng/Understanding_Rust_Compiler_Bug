{"sha": "2c3bcf47f26f3762b626ae619698661c2e18cc88", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmMzYmNmNDdmMjZmMzc2MmI2MjZhZTYxOTY5ODY2MWMyZTE4Y2M4OA==", "commit": {"author": {"name": "Matthew Fortune", "email": "matthew.fortune@imgtec.com", "date": "2015-01-15T11:00:18Z"}, "committer": {"name": "Matthew Fortune", "email": "mpf@gcc.gnu.org", "date": "2015-01-15T11:00:18Z"}, "message": "[MIPS] Remove all excess parallel constructs\n\ngcc/\n\n\t* config/mips/micromips.md (*swp): Remove explicit parallel.\n\t(jraddiusp, *movep<MOVEP1:mode><MOVEP2:mode>): Likewise.\n\t* config/mips/mips-dsp.md (add<DSPV:mode>3): Likewise.\n\t(mips_add<DSP:dspfmt1>_s_<DSP:dspfmt2>, sub<DSPV:mode>3): Likewise.\n\t(mips_sub<DSP:dspfmt1>_s_<DSP:dspfmt2>, mips_addsc): Likewise.\n\t(mips_addwc, mips_absq_s_<DSPQ:dspfmt2>): Likewise.\n\t(mips_precrq_rs_ph_w, mips_precrqu_s_qb_ph): Likewise.\n\t(mips_shll_<DSPV:dspfmt2>, mips_shll_s_<DSPQ:dspfmt2>): Likewise.\n\t(mips_muleu_s_ph_qbl, mips_muleu_s_ph_qbr): Likewise.\n\t(mips_mulq_rs_ph, mips_muleq_s_w_phl, mips_muleq_s_w_phr): Likewise.\n\t(mips_dpaq_s_w_ph, mips_dpsq_s_w_ph, mips_mulsaq_s_w_ph): Likewise.\n\t(mips_dpaq_sa_l_w, mips_dpsq_sa_l_w, mips_maq_s_w_phl): Likewise.\n\t(mips_maq_s_w_phr, mips_maq_sa_w_phl, mips_maq_sa_w_phr): Likewise.\n\t(mips_extr_w, mips_extr_r_w, mips_extr_rs_w): Likewise.\n\t(mips_extr_s_h, mips_extp, mips_extpdp, mips_mthlip): Likewise.\n\t(mips_wrdsp): Likewise.\n\t* config/mips/mips-dspr2.md (mips_absq_s_qb): Remove explicit\n\tparallel.\n\t(mips_addu_ph, mips_addu_s_ph, mips_cmpgdu_eq_qb): Likewise.\n\t(mips_cmpgdu_lt_qb, mips_cmpgdu_le_qb, mulv2hi3): Likewise.\n\t(mips_mul_s_ph, mips_mulq_rs_w, mips_mulq_s_ph): Likewise.\n\t(mips_mulq_s_w, mips_subu_ph, mips_subu_s_ph): Likewise.\n\t(mips_dpaqx_s_w_ph, mips_dpaqx_sa_w_ph): Likewise.\n\t(mips_dpsqx_s_w_ph, mips_dpsqx_sa_w_ph): Likewise.\n\t* config/mips/mips-fixed.md (usadd<mode>3): Remove explicit parallel.\n\t(ssadd<mode>3, ussub<mode>3, sssub<mode>3, ssmul<mode>3): Likewise.\n\t(ssmaddsqdq4, ssmsubsqdq4): Likewise.\n\nFrom-SVN: r219639", "tree": {"sha": "73c8aa2a0a478cbdd0035091ded6573942eb44be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73c8aa2a0a478cbdd0035091ded6573942eb44be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c3bcf47f26f3762b626ae619698661c2e18cc88", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c3bcf47f26f3762b626ae619698661c2e18cc88", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c3bcf47f26f3762b626ae619698661c2e18cc88", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c3bcf47f26f3762b626ae619698661c2e18cc88/comments", "author": {"login": "mfortune", "id": 10220247, "node_id": "MDQ6VXNlcjEwMjIwMjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/10220247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfortune", "html_url": "https://github.com/mfortune", "followers_url": "https://api.github.com/users/mfortune/followers", "following_url": "https://api.github.com/users/mfortune/following{/other_user}", "gists_url": "https://api.github.com/users/mfortune/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfortune/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfortune/subscriptions", "organizations_url": "https://api.github.com/users/mfortune/orgs", "repos_url": "https://api.github.com/users/mfortune/repos", "events_url": "https://api.github.com/users/mfortune/events{/privacy}", "received_events_url": "https://api.github.com/users/mfortune/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "954bdd58817e70b138423906f6a4c9947dbd712a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/954bdd58817e70b138423906f6a4c9947dbd712a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/954bdd58817e70b138423906f6a4c9947dbd712a"}], "stats": {"total": 914, "additions": 443, "deletions": 471}, "files": [{"sha": "f363748aa889fc483f16f9b163bb1bb0f443d670", "filename": "gcc/ChangeLog", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2c3bcf47f26f3762b626ae619698661c2e18cc88", "patch": "@@ -1,3 +1,33 @@\n+2015-01-15  Matthew Fortune  <matthew.fortune@imgtec.com>\n+\n+\t* config/mips/micromips.md (*swp): Remove explicit parallel.\n+\t(jraddiusp, *movep<MOVEP1:mode><MOVEP2:mode>): Likewise.\n+\t* config/mips/mips-dsp.md (add<DSPV:mode>3): Likewise.\n+\t(mips_add<DSP:dspfmt1>_s_<DSP:dspfmt2>, sub<DSPV:mode>3): Likewise.\n+\t(mips_sub<DSP:dspfmt1>_s_<DSP:dspfmt2>, mips_addsc): Likewise.\n+\t(mips_addwc, mips_absq_s_<DSPQ:dspfmt2>): Likewise.\n+\t(mips_precrq_rs_ph_w, mips_precrqu_s_qb_ph): Likewise.\n+\t(mips_shll_<DSPV:dspfmt2>, mips_shll_s_<DSPQ:dspfmt2>): Likewise.\n+\t(mips_muleu_s_ph_qbl, mips_muleu_s_ph_qbr): Likewise.\n+\t(mips_mulq_rs_ph, mips_muleq_s_w_phl, mips_muleq_s_w_phr): Likewise.\n+\t(mips_dpaq_s_w_ph, mips_dpsq_s_w_ph, mips_mulsaq_s_w_ph): Likewise.\n+\t(mips_dpaq_sa_l_w, mips_dpsq_sa_l_w, mips_maq_s_w_phl): Likewise.\n+\t(mips_maq_s_w_phr, mips_maq_sa_w_phl, mips_maq_sa_w_phr): Likewise.\n+\t(mips_extr_w, mips_extr_r_w, mips_extr_rs_w): Likewise.\n+\t(mips_extr_s_h, mips_extp, mips_extpdp, mips_mthlip): Likewise.\n+\t(mips_wrdsp): Likewise.\n+\t* config/mips/mips-dspr2.md (mips_absq_s_qb): Remove explicit\n+\tparallel.\n+\t(mips_addu_ph, mips_addu_s_ph, mips_cmpgdu_eq_qb): Likewise.\n+\t(mips_cmpgdu_lt_qb, mips_cmpgdu_le_qb, mulv2hi3): Likewise.\n+\t(mips_mul_s_ph, mips_mulq_rs_w, mips_mulq_s_ph): Likewise.\n+\t(mips_mulq_s_w, mips_subu_ph, mips_subu_s_ph): Likewise.\n+\t(mips_dpaqx_s_w_ph, mips_dpaqx_sa_w_ph): Likewise.\n+\t(mips_dpsqx_s_w_ph, mips_dpsqx_sa_w_ph): Likewise.\n+\t* config/mips/mips-fixed.md (usadd<mode>3): Remove explicit parallel.\n+\t(ssadd<mode>3, ussub<mode>3, sssub<mode>3, ssmul<mode>3): Likewise.\n+\t(ssmaddsqdq4, ssmsubsqdq4): Likewise.\n+\n 2015-01-14  Matthew Fortune  <matthew.fortune@imgtec.com>\n \n \t* config/mips/mips.c (mips_rtx_costs): Set costs for LSA/DLSA."}, {"sha": "ef9920f47765a33991c5bd914c711c6990d7fee2", "filename": "gcc/config/mips/micromips.md", "status": "modified", "additions": 13, "deletions": 14, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmicromips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmicromips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmicromips.md?ref=2c3bcf47f26f3762b626ae619698661c2e18cc88", "patch": "@@ -80,11 +80,10 @@\n \n ;; The behavior of the SWP insn is undefined if placed in a delay slot.\n (define_insn \"*swp\"\n-  [(parallel [(set (match_operand:SI 0 \"non_volatile_mem_operand\")\n-\t\t   (match_operand:SI 1 \"d_operand\"))\n-\t      (set (match_operand:SI 2 \"non_volatile_mem_operand\")\n-\t\t   (match_operand:SI 3 \"d_operand\"))])]\n-\n+  [(set (match_operand:SI 0 \"non_volatile_mem_operand\")\n+\t(match_operand:SI 1 \"d_operand\"))\n+   (set (match_operand:SI 2 \"non_volatile_mem_operand\")\n+\t(match_operand:SI 3 \"d_operand\"))]\n   \"TARGET_MICROMIPS\n    && umips_load_store_pair_p (false, operands)\"\n {\n@@ -97,11 +96,11 @@\n \n ;; For JRADDIUSP.\n (define_insn \"jraddiusp\"\n-  [(parallel [(return)\n-\t      (use (reg:SI 31))\n-\t      (set (reg:SI 29)\n-\t\t   (plus:SI (reg:SI 29)\n-\t\t\t    (match_operand 0 \"uw5_operand\")))])]\n+  [(return)\n+   (use (reg:SI 31))\n+   (set (reg:SI 29)\n+\t(plus:SI (reg:SI 29)\n+\t\t (match_operand 0 \"uw5_operand\")))]\n   \"TARGET_MICROMIPS\"\n   \"jraddiusp\\t%0\"\n   [(set_attr \"type\"\t\"trap\")\n@@ -121,10 +120,10 @@\n \n ;; The behavior of the MOVEP insn is undefined if placed in a delay slot.\n (define_insn \"*movep<MOVEP1:mode><MOVEP2:mode>\"\n-  [(parallel [(set (match_operand:MOVEP1 0 \"register_operand\")\n-\t\t   (match_operand:MOVEP1 1 \"movep_src_operand\"))\n-\t      (set (match_operand:MOVEP2 2 \"register_operand\")\n-\t\t   (match_operand:MOVEP2 3 \"movep_src_operand\"))])]\n+  [(set (match_operand:MOVEP1 0 \"register_operand\")\n+\t(match_operand:MOVEP1 1 \"movep_src_operand\"))\n+   (set (match_operand:MOVEP2 2 \"register_operand\")\n+\t(match_operand:MOVEP2 3 \"movep_src_operand\"))]\n   \"TARGET_MICROMIPS\n    && umips_movep_target_p (operands[0], operands[2])\"\n {"}, {"sha": "a852b6d85f2a4ed14a8d0b47b4697c9dc7e28da8", "filename": "gcc/config/mips/mips-dsp.md", "status": "modified", "additions": 236, "deletions": 269, "changes": 505, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmips-dsp.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmips-dsp.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-dsp.md?ref=2c3bcf47f26f3762b626ae619698661c2e18cc88", "patch": "@@ -126,80 +126,74 @@\n ;; Table 2-1. MIPS DSP ASE Instructions: Arithmetic\n ;; ADDQ*\n (define_insn \"add<DSPV:mode>3\"\n-  [(parallel\n-    [(set (match_operand:DSPV 0 \"register_operand\" \"=d\")\n-\t  (plus:DSPV (match_operand:DSPV 1 \"register_operand\" \"d\")\n-\t\t     (match_operand:DSPV 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ))])]\n+  [(set (match_operand:DSPV 0 \"register_operand\" \"=d\")\n+\t(plus:DSPV (match_operand:DSPV 1 \"register_operand\" \"d\")\n+\t\t   (match_operand:DSPV 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ))]\n   \"ISA_HAS_DSP\"\n   \"add<DSPV:dspfmt1>.<DSPV:dspfmt2>\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_add<DSP:dspfmt1>_s_<DSP:dspfmt2>\"\n-  [(parallel\n-    [(set (match_operand:DSP 0 \"register_operand\" \"=d\")\n-\t  (unspec:DSP [(match_operand:DSP 1 \"register_operand\" \"d\")\n-\t\t       (match_operand:DSP 2 \"register_operand\" \"d\")]\n-\t\t      UNSPEC_ADDQ_S))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ_S))])]\n+  [(set (match_operand:DSP 0 \"register_operand\" \"=d\")\n+\t(unspec:DSP [(match_operand:DSP 1 \"register_operand\" \"d\")\n+\t\t     (match_operand:DSP 2 \"register_operand\" \"d\")]\n+\t\t    UNSPEC_ADDQ_S))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ_S))]\n   \"ISA_HAS_DSP\"\n   \"add<DSP:dspfmt1>_s.<DSP:dspfmt2>\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalusat\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; SUBQ*\n (define_insn \"sub<DSPV:mode>3\"\n-  [(parallel\n-    [(set (match_operand:DSPV 0 \"register_operand\" \"=d\")\n-\t  (minus:DSPV (match_operand:DSPV 1 \"register_operand\" \"d\")\n-\t\t      (match_operand:DSPV 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ))])]\n+  [(set (match_operand:DSPV 0 \"register_operand\" \"=d\")\n+\t(minus:DSPV (match_operand:DSPV 1 \"register_operand\" \"d\")\n+\t\t    (match_operand:DSPV 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ))]\n   \"ISA_HAS_DSP\"\n   \"sub<DSPV:dspfmt1>.<DSPV:dspfmt2>\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_sub<DSP:dspfmt1>_s_<DSP:dspfmt2>\"\n-  [(parallel\n-    [(set (match_operand:DSP 0 \"register_operand\" \"=d\")\n-\t  (unspec:DSP [(match_operand:DSP 1 \"register_operand\" \"d\")\n-\t\t       (match_operand:DSP 2 \"register_operand\" \"d\")]\n-\t\t      UNSPEC_SUBQ_S))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ_S))])]\n+  [(set (match_operand:DSP 0 \"register_operand\" \"=d\")\n+\t(unspec:DSP [(match_operand:DSP 1 \"register_operand\" \"d\")\n+\t\t     (match_operand:DSP 2 \"register_operand\" \"d\")]\n+\t\t    UNSPEC_SUBQ_S))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ_S))]\n   \"ISA_HAS_DSP\"\n   \"sub<DSP:dspfmt1>_s.<DSP:dspfmt2>\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalusat\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; ADDSC\n (define_insn \"mips_addsc\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:SI 1 \"register_operand\" \"d\")\n-\t\t      (match_operand:SI 2 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_ADDSC))\n-     (set (reg:CCDSP CCDSP_CA_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDSC))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:SI 1 \"register_operand\" \"d\")\n+\t\t    (match_operand:SI 2 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_ADDSC))\n+   (set (reg:CCDSP CCDSP_CA_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDSC))]\n   \"ISA_HAS_DSP\"\n   \"addsc\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; ADDWC\n (define_insn \"mips_addwc\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:SI 1 \"register_operand\" \"d\")\n-\t\t      (match_operand:SI 2 \"register_operand\" \"d\")\n-\t\t    (reg:CCDSP CCDSP_CA_REGNUM)]\n-\t\t     UNSPEC_ADDWC))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDWC))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:SI 1 \"register_operand\" \"d\")\n+\t\t    (match_operand:SI 2 \"register_operand\" \"d\")\n+\t\t  (reg:CCDSP CCDSP_CA_REGNUM)]\n+\t\t   UNSPEC_ADDWC))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDWC))]\n   \"ISA_HAS_DSP\"\n   \"addwc\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalu\")\n@@ -228,12 +222,11 @@\n \n ;; ABSQ*\n (define_insn \"mips_absq_s_<DSPQ:dspfmt2>\"\n-  [(parallel\n-    [(set (match_operand:DSPQ 0 \"register_operand\" \"=d\")\n-\t  (unspec:DSPQ [(match_operand:DSPQ 1 \"register_operand\" \"d\")]\n-\t\t       UNSPEC_ABSQ_S))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1)] UNSPEC_ABSQ_S))])]\n+  [(set (match_operand:DSPQ 0 \"register_operand\" \"=d\")\n+\t(unspec:DSPQ [(match_operand:DSPQ 1 \"register_operand\" \"d\")]\n+\t\t     UNSPEC_ABSQ_S))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1)] UNSPEC_ABSQ_S))]\n   \"ISA_HAS_DSP\"\n   \"absq_s.<DSPQ:dspfmt2>\\t%0,%1\"\n   [(set_attr \"type\"\t\"dspalusat\")\n@@ -261,29 +254,27 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_precrq_rs_ph_w\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:SI 1 \"register_operand\" \"d\")\n-\t\t\t(match_operand:SI 2 \"register_operand\" \"d\")]\n-\t\t       UNSPEC_PRECRQ_RS_PH_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)]\n-\t\t\tUNSPEC_PRECRQ_RS_PH_W))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:SI 1 \"register_operand\" \"d\")\n+\t\t      (match_operand:SI 2 \"register_operand\" \"d\")]\n+\t\t     UNSPEC_PRECRQ_RS_PH_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)]\n+\t\t      UNSPEC_PRECRQ_RS_PH_W))]\n   \"ISA_HAS_DSP\"\n   \"precrq_rs.ph.w\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; PRECRQU*\n (define_insn \"mips_precrqu_s_qb_ph\"\n-  [(parallel\n-    [(set (match_operand:V4QI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V4QI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n-\t\t\t(match_operand:V2HI 2 \"register_operand\" \"d\")]\n-\t\t       UNSPEC_PRECRQU_S_QB_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)]\n-\t\t\tUNSPEC_PRECRQU_S_QB_PH))])]\n+  [(set (match_operand:V4QI 0 \"register_operand\" \"=d\")\n+\t(unspec:V4QI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n+\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")]\n+\t\t     UNSPEC_PRECRQU_S_QB_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)]\n+\t\t      UNSPEC_PRECRQU_S_QB_PH))]\n   \"ISA_HAS_DSP\"\n   \"precrqu_s.qb.ph\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"dspalusat\")\n@@ -385,13 +376,12 @@\n ;; Table 2-2. MIPS DSP ASE Instructions: Shift\n ;; SHLL*\n (define_insn \"mips_shll_<DSPV:dspfmt2>\"\n-  [(parallel\n-    [(set (match_operand:DSPV 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:DSPV [(match_operand:DSPV 1 \"register_operand\" \"d,d\")\n-\t\t\t(match_operand:SI 2 \"arith_operand\" \"I,d\")]\n-\t\t       UNSPEC_SHLL))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SHLL))])]\n+  [(set (match_operand:DSPV 0 \"register_operand\" \"=d,d\")\n+\t(unspec:DSPV [(match_operand:DSPV 1 \"register_operand\" \"d,d\")\n+\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n+\t\t     UNSPEC_SHLL))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SHLL))]\n   \"ISA_HAS_DSP\"\n {\n   if (which_alternative == 0)\n@@ -407,13 +397,12 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_shll_s_<DSPQ:dspfmt2>\"\n-  [(parallel\n-    [(set (match_operand:DSPQ 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:DSPQ [(match_operand:DSPQ 1 \"register_operand\" \"d,d\")\n-\t\t\t(match_operand:SI 2 \"arith_operand\" \"I,d\")]\n-\t\t       UNSPEC_SHLL_S))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SHLL_S))])]\n+  [(set (match_operand:DSPQ 0 \"register_operand\" \"=d,d\")\n+\t(unspec:DSPQ [(match_operand:DSPQ 1 \"register_operand\" \"d,d\")\n+\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n+\t\t     UNSPEC_SHLL_S))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SHLL_S))]\n   \"ISA_HAS_DSP\"\n {\n   if (which_alternative == 0)\n@@ -488,72 +477,67 @@\n ;; Table 2-3. MIPS DSP ASE Instructions: Multiply\n ;; MULEU*\n (define_insn \"mips_muleu_s_ph_qbl\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V4QI 1 \"register_operand\" \"d\")\n-\t\t\t(match_operand:V2HI 2 \"register_operand\" \"d\")]\n-\t\t       UNSPEC_MULEU_S_PH_QBL))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEU_S_PH_QBL))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V4QI 1 \"register_operand\" \"d\")\n+\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")]\n+\t\t     UNSPEC_MULEU_S_PH_QBL))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEU_S_PH_QBL))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSP\"\n   \"muleu_s.ph.qbl\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_muleu_s_ph_qbr\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V4QI 1 \"register_operand\" \"d\")\n-\t\t\t(match_operand:V2HI 2 \"register_operand\" \"d\")]\n-\t\t       UNSPEC_MULEU_S_PH_QBR))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEU_S_PH_QBR))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V4QI 1 \"register_operand\" \"d\")\n+\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")]\n+\t\t     UNSPEC_MULEU_S_PH_QBR))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEU_S_PH_QBR))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSP\"\n   \"muleu_s.ph.qbr\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; MULQ*\n (define_insn \"mips_mulq_rs_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n-\t\t\t(match_operand:V2HI 2 \"register_operand\" \"d\")]\n-\t\t       UNSPEC_MULQ_RS_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_RS_PH))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n+\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")]\n+\t\t     UNSPEC_MULQ_RS_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_RS_PH))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSP\"\n   \"mulq_rs.ph\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; MULEQ*\n (define_insn \"mips_muleq_s_w_phl\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MULEQ_S_W_PHL))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEQ_S_W_PHL))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MULEQ_S_W_PHL))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEQ_S_W_PHL))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSP\"\n   \"muleq_s.w.phl\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_muleq_s_w_phr\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MULEQ_S_W_PHR))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEQ_S_W_PHR))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:V2HI 1 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MULEQ_S_W_PHR))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULEQ_S_W_PHR))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSP\"\n   \"muleq_s.w.phr\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"imul3\")\n@@ -611,15 +595,14 @@\n \n ;; DPAQ*\n (define_insn \"mips_dpaq_s_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_DPAQ_S_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPAQ_S_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_DPAQ_S_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPAQ_S_W_PH))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"dpaq_s.w.ph\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmac\")\n@@ -628,15 +611,14 @@\n \n ;; DPSQ*\n (define_insn \"mips_dpsq_s_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_DPSQ_S_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPSQ_S_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_DPSQ_S_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPSQ_S_W_PH))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"dpsq_s.w.ph\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmac\")\n@@ -645,15 +627,14 @@\n \n ;; MULSAQ*\n (define_insn \"mips_mulsaq_s_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MULSAQ_S_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_MULSAQ_S_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MULSAQ_S_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_MULSAQ_S_W_PH))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"mulsaq_s.w.ph\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmac\")\n@@ -662,15 +643,14 @@\n \n ;; DPAQ*\n (define_insn \"mips_dpaq_sa_l_w\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:SI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:SI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_DPAQ_SA_L_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPAQ_SA_L_W))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:SI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:SI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_DPAQ_SA_L_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPAQ_SA_L_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"dpaq_sa.l.w\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmacsat\")\n@@ -679,15 +659,14 @@\n \n ;; DPSQ*\n (define_insn \"mips_dpsq_sa_l_w\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:SI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:SI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_DPSQ_SA_L_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPSQ_SA_L_W))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:SI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:SI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_DPSQ_SA_L_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPSQ_SA_L_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"dpsq_sa.l.w\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmacsat\")\n@@ -696,31 +675,29 @@\n \n ;; MAQ*\n (define_insn \"mips_maq_s_w_phl\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MAQ_S_W_PHL))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_MAQ_S_W_PHL))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MAQ_S_W_PHL))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_MAQ_S_W_PHL))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"maq_s.w.phl\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmac\")\n    (set_attr \"accum_in\" \"1\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_maq_s_w_phr\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MAQ_S_W_PHR))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_MAQ_S_W_PHR))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MAQ_S_W_PHR))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_MAQ_S_W_PHR))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"maq_s.w.phr\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmac\")\n@@ -729,31 +706,29 @@\n \n ;; MAQ_SA*\n (define_insn \"mips_maq_sa_w_phl\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MAQ_SA_W_PHL))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_MAQ_SA_W_PHL))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MAQ_SA_W_PHL))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_MAQ_SA_W_PHL))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"maq_sa.w.phl\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmacsat\")\n    (set_attr \"accum_in\" \"1\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_maq_sa_w_phr\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"register_operand\" \"d\")\n-\t\t      (match_operand:V2HI 3 \"register_operand\" \"d\")]\n-\t\t     UNSPEC_MAQ_SA_W_PHR))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_MAQ_SA_W_PHR))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"register_operand\" \"d\")\n+\t\t    (match_operand:V2HI 3 \"register_operand\" \"d\")]\n+\t\t   UNSPEC_MAQ_SA_W_PHR))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_MAQ_SA_W_PHR))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"maq_sa.w.phr\\t%q0,%2,%3\"\n   [(set_attr \"type\"\t\"dspmacsat\")\n@@ -904,13 +879,12 @@\n ;; Table 2-6. MIPS DSP ASE Instructions: Accumulator and DSPControl Access\n ;; EXTR*\n (define_insn \"mips_extr_w\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n-\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n-\t\t     UNSPEC_EXTR_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_W))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n+\t(unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n+\t\t    (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n+\t\t   UNSPEC_EXTR_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n {\n   if (which_alternative == 0)\n@@ -925,13 +899,12 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_extr_r_w\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n-\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n-\t\t     UNSPEC_EXTR_R_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_R_W))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n+\t(unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n+\t\t    (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n+\t\t   UNSPEC_EXTR_R_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_R_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n {\n   if (which_alternative == 0)\n@@ -946,13 +919,12 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_extr_rs_w\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n-\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n-\t\t     UNSPEC_EXTR_RS_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_RS_W))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n+\t(unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n+\t\t    (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n+\t\t   UNSPEC_EXTR_RS_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_RS_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n {\n   if (which_alternative == 0)\n@@ -968,13 +940,12 @@\n \n ;; EXTR*_S.H\n (define_insn \"mips_extr_s_h\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n-\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n-\t\t     UNSPEC_EXTR_S_H))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_S_H))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n+\t(unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n+\t\t    (match_operand:SI 2 \"arith_operand\" \"I,d\")]\n+\t\t   UNSPEC_EXTR_S_H))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTR_S_H))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n {\n   if (which_alternative == 0)\n@@ -990,14 +961,13 @@\n \n ;; EXTP*\n (define_insn \"mips_extp\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n-\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")\n-\t\t      (reg:CCDSP CCDSP_PO_REGNUM)]\n-\t\t     UNSPEC_EXTP))\n-     (set (reg:CCDSP CCDSP_EF_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTP))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n+\t(unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n+\t\t    (match_operand:SI 2 \"arith_operand\" \"I,d\")\n+\t\t    (reg:CCDSP CCDSP_PO_REGNUM)]\n+\t\t   UNSPEC_EXTP))\n+   (set (reg:CCDSP CCDSP_EF_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTP))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n {\n   if (which_alternative == 0)\n@@ -1012,17 +982,16 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_extpdp\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n-\t  (unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n-\t\t      (match_operand:SI 2 \"arith_operand\" \"I,d\")\n-\t\t      (reg:CCDSP CCDSP_PO_REGNUM)]\n-\t\t     UNSPEC_EXTPDP))\n-     (set (reg:CCDSP CCDSP_PO_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)\n-\t\t\t (reg:CCDSP CCDSP_PO_REGNUM)] UNSPEC_EXTPDP))\n-     (set (reg:CCDSP CCDSP_EF_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTPDP))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n+\t(unspec:SI [(match_operand:DI 1 \"register_operand\" \"a,a\")\n+\t\t    (match_operand:SI 2 \"arith_operand\" \"I,d\")\n+\t\t    (reg:CCDSP CCDSP_PO_REGNUM)]\n+\t\t   UNSPEC_EXTPDP))\n+   (set (reg:CCDSP CCDSP_PO_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)\n+\t\t       (reg:CCDSP CCDSP_PO_REGNUM)] UNSPEC_EXTPDP))\n+   (set (reg:CCDSP CCDSP_EF_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_EXTPDP))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n {\n   if (which_alternative == 0)\n@@ -1057,37 +1026,35 @@\n \n ;; MTHLIP*\n (define_insn \"mips_mthlip\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:SI 2 \"register_operand\" \"d\")\n-\t\t      (reg:CCDSP CCDSP_PO_REGNUM)]\n-\t\t     UNSPEC_MTHLIP))\n-     (set (reg:CCDSP CCDSP_PO_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)\n-\t\t\t (reg:CCDSP CCDSP_PO_REGNUM)] UNSPEC_MTHLIP))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:SI 2 \"register_operand\" \"d\")\n+\t\t    (reg:CCDSP CCDSP_PO_REGNUM)]\n+\t\t   UNSPEC_MTHLIP))\n+   (set (reg:CCDSP CCDSP_PO_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)\n+\t\t       (reg:CCDSP CCDSP_PO_REGNUM)] UNSPEC_MTHLIP))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"mthlip\\t%2,%q0\"\n   [(set_attr \"type\"\t\"accmod\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; WRDSP\n (define_insn \"mips_wrdsp\"\n-  [(parallel\n-    [(set (reg:CCDSP CCDSP_PO_REGNUM)\n-\t  (unspec:CCDSP [(match_operand:SI 0 \"register_operand\" \"d\")\n-\t\t\t (match_operand:SI 1 \"const_uimm6_operand\" \"YA\")]\n-\t\t\t UNSPEC_WRDSP))\n-     (set (reg:CCDSP CCDSP_SC_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n-     (set (reg:CCDSP CCDSP_CA_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n-     (set (reg:CCDSP CCDSP_CC_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n-     (set (reg:CCDSP CCDSP_EF_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))])]\n+  [(set (reg:CCDSP CCDSP_PO_REGNUM)\n+\t(unspec:CCDSP [(match_operand:SI 0 \"register_operand\" \"d\")\n+\t\t       (match_operand:SI 1 \"const_uimm6_operand\" \"YA\")]\n+\t\t      UNSPEC_WRDSP))\n+   (set (reg:CCDSP CCDSP_SC_REGNUM)\n+\t(unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n+   (set (reg:CCDSP CCDSP_CA_REGNUM)\n+\t(unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n+   (set (reg:CCDSP CCDSP_CC_REGNUM)\n+\t(unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))\n+   (set (reg:CCDSP CCDSP_EF_REGNUM)\n+\t(unspec:CCDSP [(match_dup 0) (match_dup 1)] UNSPEC_WRDSP))]\n   \"ISA_HAS_DSP\"\n   \"wrdsp\\t%0,%1\"\n   [(set_attr \"type\"\t\"dspalu\")"}, {"sha": "78b2f1fb3deacb56a6712b614fec290ee9c7062f", "filename": "gcc/config/mips/mips-dspr2.md", "status": "modified", "additions": 118, "deletions": 135, "changes": 253, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmips-dspr2.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmips-dspr2.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-dspr2.md?ref=2c3bcf47f26f3762b626ae619698661c2e18cc88", "patch": "@@ -71,37 +71,34 @@\n ])\n \n (define_insn \"mips_absq_s_qb\"\n-  [(parallel\n-    [(set (match_operand:V4QI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V4QI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")]\n-\t\t       UNSPEC_ABSQ_S_QB))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1)] UNSPEC_ABSQ_S_QB))])]\n+  [(set (match_operand:V4QI 0 \"register_operand\" \"=d\")\n+\t(unspec:V4QI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")]\n+\t\t     UNSPEC_ABSQ_S_QB))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1)] UNSPEC_ABSQ_S_QB))]\n   \"ISA_HAS_DSPR2\"\n   \"absq_s.qb\\t%0,%z1\"\n   [(set_attr \"type\"\t\"dspalusat\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_addu_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (plus:V2HI (match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t     (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDU_PH))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(plus:V2HI (match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t   (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDU_PH))]\n   \"ISA_HAS_DSPR2\"\n   \"addu.ph\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_addu_s_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t\t(match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t       UNSPEC_ADDU_S_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDU_S_PH))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t     UNSPEC_ADDU_S_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDU_S_PH))]\n   \"ISA_HAS_DSPR2\"\n   \"addu_s.ph\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalusat\")\n@@ -158,45 +155,42 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_cmpgdu_eq_qb\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V4QI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_CMPGDU_EQ_QB))\n-     (set (reg:CCDSP CCDSP_CC_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)\n-\t\t\t (reg:CCDSP CCDSP_CC_REGNUM)]\n-\t\t\tUNSPEC_CMPGDU_EQ_QB))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V4QI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_CMPGDU_EQ_QB))\n+   (set (reg:CCDSP CCDSP_CC_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)\n+\t\t       (reg:CCDSP CCDSP_CC_REGNUM)]\n+\t\t      UNSPEC_CMPGDU_EQ_QB))]\n   \"ISA_HAS_DSPR2\"\n   \"cmpgdu.eq.qb\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_cmpgdu_lt_qb\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V4QI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_CMPGDU_LT_QB))\n-     (set (reg:CCDSP CCDSP_CC_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)\n-\t\t\t (reg:CCDSP CCDSP_CC_REGNUM)]\n-\t\t\tUNSPEC_CMPGDU_LT_QB))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V4QI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_CMPGDU_LT_QB))\n+   (set (reg:CCDSP CCDSP_CC_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)\n+\t\t       (reg:CCDSP CCDSP_CC_REGNUM)]\n+\t\t      UNSPEC_CMPGDU_LT_QB))]\n   \"ISA_HAS_DSPR2\"\n   \"cmpgdu.lt.qb\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_cmpgdu_le_qb\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V4QI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_CMPGDU_LE_QB))\n-     (set (reg:CCDSP CCDSP_CC_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)\n-\t\t\t (reg:CCDSP CCDSP_CC_REGNUM)]\n-\t\t\tUNSPEC_CMPGDU_LE_QB))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:V4QI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V4QI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_CMPGDU_LE_QB))\n+   (set (reg:CCDSP CCDSP_CC_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)\n+\t\t       (reg:CCDSP CCDSP_CC_REGNUM)]\n+\t\t      UNSPEC_CMPGDU_LE_QB))]\n   \"ISA_HAS_DSPR2\"\n   \"cmpgdu.le.qb\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalu\")\n@@ -227,69 +221,64 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mulv2hi3\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (mult:V2HI (match_operand:V2HI 1 \"register_operand\" \"d\")\n-\t\t     (match_operand:V2HI 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MUL_PH))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(mult:V2HI (match_operand:V2HI 1 \"register_operand\" \"d\")\n+\t\t   (match_operand:V2HI 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MUL_PH))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSPR2\"\n   \"mul.ph\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_mul_s_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t\t(match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t       UNSPEC_MUL_S_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MUL_S_PH))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t     UNSPEC_MUL_S_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MUL_S_PH))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSPR2\"\n   \"mul_s.ph\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_mulq_rs_w\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:SI 1 \"reg_or_0_operand\" \"dJ\")\n-\t\t      (match_operand:SI 2 \"reg_or_0_operand\" \"dJ\")]\n-\t\t     UNSPEC_MULQ_RS_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_RS_W))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:SI 1 \"reg_or_0_operand\" \"dJ\")\n+\t\t    (match_operand:SI 2 \"reg_or_0_operand\" \"dJ\")]\n+\t\t   UNSPEC_MULQ_RS_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_RS_W))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSPR2\"\n   \"mulq_rs.w\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_mulq_s_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t\t(match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t       UNSPEC_MULQ_S_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_S_PH))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t     UNSPEC_MULQ_S_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_S_PH))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSPR2\"\n   \"mulq_s.ph\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"imul3\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_mulq_s_w\"\n-  [(parallel\n-    [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n-\t  (unspec:SI [(match_operand:SI 1 \"reg_or_0_operand\" \"dJ\")\n-\t\t      (match_operand:SI 2 \"reg_or_0_operand\" \"dJ\")]\n-\t\t     UNSPEC_MULQ_S_W))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_S_W))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(unspec:SI [(match_operand:SI 1 \"reg_or_0_operand\" \"dJ\")\n+\t\t    (match_operand:SI 2 \"reg_or_0_operand\" \"dJ\")]\n+\t\t   UNSPEC_MULQ_S_W))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_S_W))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"ISA_HAS_DSPR2\"\n   \"mulq_s.w\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"imul3\")\n@@ -418,26 +407,24 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_subu_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t\t(match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t       UNSPEC_SUBU_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBU_PH))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t     UNSPEC_SUBU_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBU_PH))]\n   \"ISA_HAS_DSPR2\"\n   \"subu.ph\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalu\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_subu_s_ph\"\n-  [(parallel\n-    [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n-\t  (unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n-\t\t\t(match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n-\t\t       UNSPEC_SUBU_S_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBU_S_PH))])]\n+  [(set (match_operand:V2HI 0 \"register_operand\" \"=d\")\n+\t(unspec:V2HI [(match_operand:V2HI 1 \"reg_or_0_operand\" \"dYG\")\n+\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")]\n+\t\t     UNSPEC_SUBU_S_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBU_S_PH))]\n   \"ISA_HAS_DSPR2\"\n   \"subu_s.ph\\t%0,%z1,%z2\"\n   [(set_attr \"type\"\t\"dspalusat\")\n@@ -568,63 +555,59 @@\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_dpaqx_s_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_DPAQX_S_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPAQX_S_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_DPAQX_S_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPAQX_S_W_PH))]\n   \"ISA_HAS_DSPR2 && !TARGET_64BIT\"\n   \"dpaqx_s.w.ph\\t%q0,%z2,%z3\"\n   [(set_attr \"type\"\t\"dspmac\")\n    (set_attr \"accum_in\" \"1\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_dpaqx_sa_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_DPAQX_SA_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPAQX_SA_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_DPAQX_SA_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPAQX_SA_W_PH))]\n   \"ISA_HAS_DSPR2 && !TARGET_64BIT\"\n   \"dpaqx_sa.w.ph\\t%q0,%z2,%z3\"\n   [(set_attr \"type\"\t\"dspmacsat\")\n    (set_attr \"accum_in\" \"1\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_dpsqx_s_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_DPSQX_S_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPSQX_S_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_DPSQX_S_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPSQX_S_W_PH))]\n   \"ISA_HAS_DSPR2 && !TARGET_64BIT\"\n   \"dpsqx_s.w.ph\\t%q0,%z2,%z3\"\n   [(set_attr \"type\"\t\"dspmac\")\n    (set_attr \"accum_in\" \"1\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"mips_dpsqx_sa_w_ph\"\n-  [(parallel\n-    [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n-\t  (unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n-\t\t      (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n-\t\t      (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n-\t\t     UNSPEC_DPSQX_SA_W_PH))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPSQX_SA_W_PH))])]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=a\")\n+\t(unspec:DI [(match_operand:DI 1 \"register_operand\" \"0\")\n+\t\t    (match_operand:V2HI 2 \"reg_or_0_operand\" \"dYG\")\n+\t\t    (match_operand:V2HI 3 \"reg_or_0_operand\" \"dYG\")]\n+\t\t   UNSPEC_DPSQX_SA_W_PH))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPSQX_SA_W_PH))]\n   \"ISA_HAS_DSPR2 && !TARGET_64BIT\"\n   \"dpsqx_sa.w.ph\\t%q0,%z2,%z3\"\n   [(set_attr \"type\"\t\"dspmacsat\")"}, {"sha": "3d5bb060eedabd2bc80161a3ed5ebd4d946d835f", "filename": "gcc/config/mips/mips-fixed.md", "status": "modified", "additions": 46, "deletions": 53, "changes": 99, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmips-fixed.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3bcf47f26f3762b626ae619698661c2e18cc88/gcc%2Fconfig%2Fmips%2Fmips-fixed.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-fixed.md?ref=2c3bcf47f26f3762b626ae619698661c2e18cc88", "patch": "@@ -52,24 +52,22 @@\n    (set_attr \"mode\" \"<IMODE>\")])\n \n (define_insn \"usadd<mode>3\"\n-  [(parallel\n-    [(set (match_operand:UADDSUB 0 \"register_operand\" \"=d\")\n-\t  (us_plus:UADDSUB (match_operand:UADDSUB 1 \"register_operand\" \"d\")\n-\t\t\t   (match_operand:UADDSUB 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ_S))])]\n+  [(set (match_operand:UADDSUB 0 \"register_operand\" \"=d\")\n+\t(us_plus:UADDSUB (match_operand:UADDSUB 1 \"register_operand\" \"d\")\n+\t\t\t (match_operand:UADDSUB 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ_S))]\n   \"\"\n   \"addu_s.<uaddsubfmt>\\t%0,%1,%2\"\n   [(set_attr \"type\" \"arith\")\n    (set_attr \"mode\" \"<IMODE>\")])\n \n (define_insn \"ssadd<mode>3\"\n-  [(parallel\n-    [(set (match_operand:ADDSUB 0 \"register_operand\" \"=d\")\n-\t  (ss_plus:ADDSUB (match_operand:ADDSUB 1 \"register_operand\" \"d\")\n-\t\t\t  (match_operand:ADDSUB 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ_S))])]\n+  [(set (match_operand:ADDSUB 0 \"register_operand\" \"=d\")\n+\t(ss_plus:ADDSUB (match_operand:ADDSUB 1 \"register_operand\" \"d\")\n+\t\t\t(match_operand:ADDSUB 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_ADDQ_S))]\n   \"ISA_HAS_DSP\"\n   \"addq_s.<addsubfmt>\\t%0,%1,%2\"\n   [(set_attr \"type\" \"arith\")\n@@ -85,71 +83,66 @@\n    (set_attr \"mode\" \"<IMODE>\")])\n \n (define_insn \"ussub<mode>3\"\n-  [(parallel\n-    [(set (match_operand:UADDSUB 0 \"register_operand\" \"=d\")\n-\t  (us_minus:UADDSUB (match_operand:UADDSUB 1 \"register_operand\" \"d\")\n-\t\t\t    (match_operand:UADDSUB 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ_S))])]\n+  [(set (match_operand:UADDSUB 0 \"register_operand\" \"=d\")\n+\t(us_minus:UADDSUB (match_operand:UADDSUB 1 \"register_operand\" \"d\")\n+\t\t\t  (match_operand:UADDSUB 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ_S))]\n   \"\"\n   \"subu_s.<uaddsubfmt>\\t%0,%1,%2\"\n   [(set_attr \"type\" \"arith\")\n    (set_attr \"mode\" \"<IMODE>\")])\n \n (define_insn \"sssub<mode>3\"\n-  [(parallel\n-    [(set (match_operand:ADDSUB 0 \"register_operand\" \"=d\")\n-\t  (ss_minus:ADDSUB (match_operand:ADDSUB 1 \"register_operand\" \"d\")\n-\t\t\t   (match_operand:ADDSUB 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ_S))])]\n+  [(set (match_operand:ADDSUB 0 \"register_operand\" \"=d\")\n+\t(ss_minus:ADDSUB (match_operand:ADDSUB 1 \"register_operand\" \"d\")\n+\t\t\t (match_operand:ADDSUB 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_SUBQ_S))]\n   \"ISA_HAS_DSP\"\n   \"subq_s.<addsubfmt>\\t%0,%1,%2\"\n   [(set_attr \"type\" \"arith\")\n    (set_attr \"mode\" \"<IMODE>\")])\n \n (define_insn \"ssmul<mode>3\"\n-  [(parallel\n-    [(set (match_operand:MULQ 0 \"register_operand\" \"=d\")\n-          (ss_mult:MULQ (match_operand:MULQ 1 \"register_operand\" \"d\")\n-\t\t\t(match_operand:MULQ 2 \"register_operand\" \"d\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-          (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_RS_PH))\n-     (clobber (match_scratch:DI 3 \"=x\"))])]\n+  [(set (match_operand:MULQ 0 \"register_operand\" \"=d\")\n+\t(ss_mult:MULQ (match_operand:MULQ 1 \"register_operand\" \"d\")\n+\t\t      (match_operand:MULQ 2 \"register_operand\" \"d\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+        (unspec:CCDSP [(match_dup 1) (match_dup 2)] UNSPEC_MULQ_RS_PH))\n+   (clobber (match_scratch:DI 3 \"=x\"))]\n   \"\"\n   \"mulq_rs.<mulqfmt>\\t%0,%1,%2\"\n   [(set_attr \"type\"     \"imul3\")\n    (set_attr \"mode\"     \"<IMODE>\")])\n \n (define_insn \"ssmaddsqdq4\"\n-  [(parallel\n-    [(set (match_operand:DQ 0 \"register_operand\" \"=a\")\n-\t  (ss_plus:DQ\n-\t  (ss_mult:DQ (sat_fract:DQ (match_operand:SQ 1\n-\t\t\t\t     \"register_operand\" \"d\"))\n-                      (sat_fract:DQ (match_operand:SQ 2\n-\t\t\t\t     \"register_operand\" \"d\")))\n-          (match_operand:DQ 3 \"register_operand\" \"0\")))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPAQ_SA_L_W))])]\n+  [(set (match_operand:DQ 0 \"register_operand\" \"=a\")\n+\t(ss_plus:DQ\n+\t(ss_mult:DQ (sat_fract:DQ (match_operand:SQ 1\n+\t\t\t\t   \"register_operand\" \"d\"))\n+                    (sat_fract:DQ (match_operand:SQ 2\n+\t\t\t\t   \"register_operand\" \"d\")))\n+        (match_operand:DQ 3 \"register_operand\" \"0\")))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPAQ_SA_L_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"dpaq_sa.l.w\\t%q0,%1,%2\"\n   [(set_attr \"type\" \"imadd\")\n    (set_attr \"mode\" \"SI\")])\n \n (define_insn \"ssmsubsqdq4\"\n-  [(parallel\n-    [(set (match_operand:DQ 0 \"register_operand\" \"=a\")\n-          (ss_minus:DQ\n-\t   (match_operand:DQ 3 \"register_operand\" \"0\")\n-           (ss_mult:DQ (sat_fract:DQ (match_operand:SQ 1\n-\t\t\t\t      \"register_operand\" \"d\"))\n-                       (sat_fract:DQ (match_operand:SQ 2\n-\t\t\t\t      \"register_operand\" \"d\")))))\n-     (set (reg:CCDSP CCDSP_OU_REGNUM)\n-\t  (unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n-\t\t\tUNSPEC_DPSQ_SA_L_W))])]\n+  [(set (match_operand:DQ 0 \"register_operand\" \"=a\")\n+\t(ss_minus:DQ\n+\t (match_operand:DQ 3 \"register_operand\" \"0\")\n+         (ss_mult:DQ (sat_fract:DQ (match_operand:SQ 1\n+\t\t\t\t    \"register_operand\" \"d\"))\n+                     (sat_fract:DQ (match_operand:SQ 2\n+\t\t\t\t    \"register_operand\" \"d\")))))\n+   (set (reg:CCDSP CCDSP_OU_REGNUM)\n+\t(unspec:CCDSP [(match_dup 1) (match_dup 2) (match_dup 3)]\n+\t\t      UNSPEC_DPSQ_SA_L_W))]\n   \"ISA_HAS_DSP && !TARGET_64BIT\"\n   \"dpsq_sa.l.w\\t%q0,%1,%2\"\n   [(set_attr \"type\" \"imadd\")"}]}