{"sha": "fba1b95f239ccead8ac1373c61a77e660efaa650", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmJhMWI5NWYyMzljY2VhZDhhYzEzNzNjNjFhNzdlNjYwZWZhYTY1MA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2009-03-31T19:13:15Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2009-03-31T19:13:15Z"}, "message": "ptree.c (cxx_print_decl): Pretty-print full name of function/template.\n\n        * ptree.c (cxx_print_decl): Pretty-print full name of\n        function/template.\n        (cxx_print_type): Pretty-print full name of class.\n\nFrom-SVN: r145368", "tree": {"sha": "81a23c2f80d7841967bf4c71933d2c225ff5457f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81a23c2f80d7841967bf4c71933d2c225ff5457f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fba1b95f239ccead8ac1373c61a77e660efaa650", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fba1b95f239ccead8ac1373c61a77e660efaa650", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fba1b95f239ccead8ac1373c61a77e660efaa650", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fba1b95f239ccead8ac1373c61a77e660efaa650/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2553fb66d9d37fd930230be595f37460fde6cd0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2553fb66d9d37fd930230be595f37460fde6cd0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2553fb66d9d37fd930230be595f37460fde6cd0a"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "21a5f07f4145e77f5f3fc91cfa115cb9b6e1e051", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba1b95f239ccead8ac1373c61a77e660efaa650/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba1b95f239ccead8ac1373c61a77e660efaa650/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=fba1b95f239ccead8ac1373c61a77e660efaa650", "patch": "@@ -1,5 +1,9 @@\n 2009-03-31  Jason Merrill  <jason@redhat.com>\n \n+\t* ptree.c (cxx_print_decl): Pretty-print full name of\n+\tfunction/template.\n+\t(cxx_print_type): Pretty-print full name of class.\n+\n \t* decl.c (grokdeclarator): Reject pointer to qualified function\n \ttype.\n "}, {"sha": "2452abc462252fdec2678c11e4357b1b256e15ee", "filename": "gcc/cp/ptree.c", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba1b95f239ccead8ac1373c61a77e660efaa650/gcc%2Fcp%2Fptree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba1b95f239ccead8ac1373c61a77e660efaa650/gcc%2Fcp%2Fptree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fptree.c?ref=fba1b95f239ccead8ac1373c61a77e660efaa650", "patch": "@@ -44,7 +44,23 @@ cxx_print_decl (FILE *file, tree node, int indent)\n   if (!CODE_CONTAINS_STRUCT (TREE_CODE (node), TS_DECL_COMMON)\n       || !DECL_LANG_SPECIFIC (node))\n     return;\n+  if (TREE_CODE (node) == FUNCTION_DECL)\n+    {\n+      int flags = TFF_DECL_SPECIFIERS|TFF_RETURN_TYPE\n+\t|TFF_FUNCTION_DEFAULT_ARGUMENTS|TFF_EXCEPTION_SPECIFICATION ;\n+      indent_to (file, indent + 3);\n+      fprintf (file, \" full-name \\\"%s\\\"\", decl_as_string (node, flags));\n+    }\n+  else if (TREE_CODE (node) == TEMPLATE_DECL)\n+    {\n+      indent_to (file, indent + 3);\n+      fprintf (file, \" full-name \\\"%s\\\"\",\n+\t       decl_as_string (node, TFF_TEMPLATE_HEADER));\n+    }\n+\n   indent_to (file, indent + 3);\n+  if (DECL_EXTERNAL (node) && DECL_NOT_REALLY_EXTERN (node))\n+    fprintf (file, \" not-really-extern\");\n   if (TREE_CODE (node) == FUNCTION_DECL\n       && DECL_PENDING_INLINE_INFO (node))\n     fprintf (file, \" pending-inline-info %p\",\n@@ -81,6 +97,9 @@ cxx_print_type (FILE *file, tree node, int indent)\n \n     case RECORD_TYPE:\n     case UNION_TYPE:\n+      indent_to (file, indent + 4);\n+      fprintf (file, \"full-name \\\"%s\\\"\",\n+\t       type_as_string (node, TFF_CLASS_KEY_OR_ENUM));\n       break;\n \n     default:\n@@ -97,7 +116,7 @@ cxx_print_type (FILE *file, tree node, int indent)\n   indent_to (file, indent + 3);\n \n   if (TYPE_NEEDS_CONSTRUCTING (node))\n-    fputs ( \"needs-constructor\", file);\n+    fputs ( \" needs-constructor\", file);\n   if (TYPE_HAS_NONTRIVIAL_DESTRUCTOR (node))\n     fputs (\" needs-destructor\", file);\n   if (TYPE_HAS_DEFAULT_CONSTRUCTOR (node))"}]}