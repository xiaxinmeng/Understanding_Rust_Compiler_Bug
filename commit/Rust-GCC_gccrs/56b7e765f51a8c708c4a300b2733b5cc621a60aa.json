{"sha": "56b7e765f51a8c708c4a300b2733b5cc621a60aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZiN2U3NjVmNTFhOGM3MDhjNGEzMDBiMjczM2I1Y2M2MjFhNjBhYQ==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2008-07-24T15:47:17Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2008-07-24T15:47:17Z"}, "message": "i386.c (get_dllimport_decl): Treat user_label_prefix for imp symbol extension.\n\n2008-07-24  Kai Tietz  <kai.tietz@onevision.com>\n\n\t* config/i386/i386.c (get_dllimport_decl): Treat user_label_prefix for\n\timp symbol extension.\n\nFrom-SVN: r138119", "tree": {"sha": "7775e84c8584b29c6c82513ce5b78acddacb815f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7775e84c8584b29c6c82513ce5b78acddacb815f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56b7e765f51a8c708c4a300b2733b5cc621a60aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b7e765f51a8c708c4a300b2733b5cc621a60aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56b7e765f51a8c708c4a300b2733b5cc621a60aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b7e765f51a8c708c4a300b2733b5cc621a60aa/comments", "author": null, "committer": null, "parents": [{"sha": "bdfd2ff072c47616e8e34dd99abf00df4cff3e51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdfd2ff072c47616e8e34dd99abf00df4cff3e51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdfd2ff072c47616e8e34dd99abf00df4cff3e51"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "cc38bbc3e8d484744621bb95d2a427c21cdebd00", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b7e765f51a8c708c4a300b2733b5cc621a60aa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b7e765f51a8c708c4a300b2733b5cc621a60aa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=56b7e765f51a8c708c4a300b2733b5cc621a60aa", "patch": "@@ -1,4 +1,9 @@\n-2008-07-23  Ian Lance Taylor  <iant@google.com>\n+2008-07-24  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\t* config/i386/i386.c (get_dllimport_decl): Treat user_label_prefix for\n+\timp symbol extension.\n+\n+        2008-07-23  Ian Lance Taylor  <iant@google.com>\n \n \t* tree-vrp.c (infer_value_range): Ignore asm statements when\n \tlooking for memory accesses for -fdelete-null-pointer-checks."}, {"sha": "b814a42855b27af55b515dccac95b04010625baa", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b7e765f51a8c708c4a300b2733b5cc621a60aa/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b7e765f51a8c708c4a300b2733b5cc621a60aa/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=56b7e765f51a8c708c4a300b2733b5cc621a60aa", "patch": "@@ -9123,7 +9123,8 @@ get_dllimport_decl (tree decl)\n \n   name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n   name = targetm.strip_name_encoding (name);\n-  prefix = name[0] == FASTCALL_PREFIX  ?  \"*__imp_\": \"*__imp__\";\n+  prefix = name[0] == FASTCALL_PREFIX || user_label_prefix[0] == 0\n+    ? \"*__imp_\" : \"*__imp__\";\n   namelen = strlen (name);\n   prefixlen = strlen (prefix);\n   imp_name = (char *) alloca (namelen + prefixlen + 1);"}]}