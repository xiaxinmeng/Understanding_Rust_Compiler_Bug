{"sha": "9185a8d526d92f84d14f4e25734441ea6a69a0f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTE4NWE4ZDUyNmQ5MmY4NGQxNGY0ZTI1NzM0NDQxZWE2YTY5YTBmNg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-02-17T20:15:50Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-02-17T20:15:50Z"}, "message": "function.c (thread_prologue_and_epilogue_insns): Put a line note after the prologue.\n\n\t* function.c (thread_prologue_and_epilogue_insns): Put a line note\n\tafter the prologue.\n\nFrom-SVN: r32037", "tree": {"sha": "b03d9e056780762fe4275ffb3de8e1ab8dbb40d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b03d9e056780762fe4275ffb3de8e1ab8dbb40d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9185a8d526d92f84d14f4e25734441ea6a69a0f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9185a8d526d92f84d14f4e25734441ea6a69a0f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9185a8d526d92f84d14f4e25734441ea6a69a0f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9185a8d526d92f84d14f4e25734441ea6a69a0f6/comments", "author": null, "committer": null, "parents": [{"sha": "de3cb4e4c18d35375226e557402ec64b6c70d5ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de3cb4e4c18d35375226e557402ec64b6c70d5ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de3cb4e4c18d35375226e557402ec64b6c70d5ef"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "9248a10c3a04f0d87b761a5097550b52c0758eaa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9185a8d526d92f84d14f4e25734441ea6a69a0f6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9185a8d526d92f84d14f4e25734441ea6a69a0f6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9185a8d526d92f84d14f4e25734441ea6a69a0f6", "patch": "@@ -1,3 +1,8 @@\n+2000-02-17  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* function.c (thread_prologue_and_epilogue_insns): Put a line note\n+\tafter the prologue.\n+\n 2000-02-17  Nick Clifton  <nickc@cygnus.com>\n \n \t* config/arm/thumb.c: Replace includes of system headers with"}, {"sha": "914cc959f5268e7f7182c876b26f6978f56601b8", "filename": "gcc/function.c", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9185a8d526d92f84d14f4e25734441ea6a69a0f6/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9185a8d526d92f84d14f4e25734441ea6a69a0f6/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=9185a8d526d92f84d14f4e25734441ea6a69a0f6", "patch": "@@ -6626,6 +6626,8 @@ thread_prologue_and_epilogue_insns (f)\n #ifdef HAVE_prologue\n   if (HAVE_prologue)\n     {\n+      rtx insn;\n+\n       start_sequence ();\n       seq = gen_prologue();\n       emit_insn (seq);\n@@ -6634,8 +6636,27 @@ thread_prologue_and_epilogue_insns (f)\n       if (GET_CODE (seq) != SEQUENCE)\n \tseq = get_insns ();\n       prologue = record_insns (seq);\n-\n       emit_note (NULL, NOTE_INSN_PROLOGUE_END);\n+\n+      /* GDB handles `break f' by setting a breakpoint on the first\n+\t line note *after* the prologue.  That means that we should\n+\t insert a line note here; otherwise, if the next line note\n+\t comes part way into the next block, GDB will skip all the way\n+\t to that point.  */\n+      insn = next_nonnote_insn (f);\n+      while (insn)\n+\t{\n+\t  if (GET_CODE (insn) == NOTE \n+\t      && NOTE_LINE_NUMBER (insn) >= 0)\n+\t    {\n+\t      emit_line_note_force (NOTE_SOURCE_FILE (insn),\n+\t\t\t\t    NOTE_LINE_NUMBER (insn));\n+\t      break;\n+\t    }\n+\n+\t  insn = PREV_INSN (insn);\n+\t}\n+\n       seq = gen_sequence ();\n       end_sequence ();\n "}]}