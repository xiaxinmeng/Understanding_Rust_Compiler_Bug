{"sha": "d041a6fcae6d87a98d86efdc8ebe384192236f98", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA0MWE2ZmNhZTZkODdhOThkODZlZmRjOGViZTM4NDE5MjIzNmY5OA==", "commit": {"author": {"name": "Yury Gribov", "email": "y.gribov@samsung.com", "date": "2015-04-13T08:59:55Z"}, "committer": {"name": "Yury Gribov", "email": "ygribov@gcc.gnu.org", "date": "2015-04-13T08:59:55Z"}, "message": "re PR sanitizer/64839 (libsanitizer shouldn't require <rpc/xdr.h>)\n\n2015-04-13  Yury Gribov  <y.gribov@samsung.com>\n\n\tPR sanitizer/64839\n\n\tlibsanitizer/\n\t* sanitizer_common/sanitizer_platform.h: Cherry pick\n\tupstream r234470.\n\t* sanitizer_common/sanitizer_platform_limits_posix.cc: Ditto.\n\t* configure.ac (RPC_DEFS): Check for precense of RPC headers.\n\t* sanitizer_common/Makefile.am (DEFS): Pass info to compiler.\n\t* Makefile.in: Regenerate.\n\t* asan/Makefile.in: Regenerate.\n\t* config.h.in: Regenerate.\n\t* configure: Regenerate.\n\t* interception/Makefile.in: Regenerate.\n\t* libbacktrace/Makefile.in: Regenerate.\n\t* lsan/Makefile.in: Regenerate.\n\t* sanitizer_common/Makefile.in: Regenerate.\n\t* tsan/Makefile.in: Regenerate.\n\t* ubsan/Makefile.in: Regenerate.\n\nFrom-SVN: r222043", "tree": {"sha": "ce212c7156016d260084a0dac2ec9881a230e242", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce212c7156016d260084a0dac2ec9881a230e242"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d041a6fcae6d87a98d86efdc8ebe384192236f98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d041a6fcae6d87a98d86efdc8ebe384192236f98", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d041a6fcae6d87a98d86efdc8ebe384192236f98", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d041a6fcae6d87a98d86efdc8ebe384192236f98/comments", "author": null, "committer": null, "parents": [{"sha": "49bd12939f7397551000217ac4929fe065549c23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49bd12939f7397551000217ac4929fe065549c23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49bd12939f7397551000217ac4929fe065549c23"}], "stats": {"total": 116, "additions": 110, "deletions": 6}, "files": [{"sha": "6f44dcf09ec96ea052a8982f6bddc3d91a9892da", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -1,3 +1,23 @@\n+2015-04-13  Yury Gribov  <y.gribov@samsung.com>\n+\n+\tPR sanitizer/64839\n+\t* sanitizer_common/sanitizer_platform.h: Cherry pick\n+\tupstream r234470.\n+\t* sanitizer_common/sanitizer_platform_limits_posix.cc: Ditto.\n+\t* configure.ac (RPC_DEFS): Check for precense of RPC headers.\n+\t* sanitizer_common/Makefile.am (DEFS): Pass info to compiler.\n+\t* Makefile.in: Regenerate.\n+\t* asan/Makefile.in: Regenerate.\n+\t* config.h.in: Regenerate.\n+\t* configure: Regenerate.\n+\t* interception/Makefile.in: Regenerate.\n+\t* libbacktrace/Makefile.in: Regenerate.\n+\t* lsan/Makefile.in: Regenerate.\n+\t* sanitizer_common/Makefile.in: Regenerate.\n+\t* tsan/Makefile.in: Regenerate.\n+\t* ubsan/Makefile.in: Regenerate.\n+\n+\n 2015-03-23  Christophe Lyon  <christophe.lyon@linaro.org>\n \n \tPR sanitizer/59009"}, {"sha": "2f5f1bd8ff9a1e98d8e623f33040db568ef38222", "filename": "libsanitizer/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -181,6 +181,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "a56c6b14bbfed6d64c600740948f03d65007850c", "filename": "libsanitizer/asan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fasan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fasan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -190,6 +190,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "7195840f2db182f8b42957097167a5befd7a689a", "filename": "libsanitizer/config.h.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfig.h.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -43,6 +43,9 @@\n /* Define to 1 if you have the <memory.h> header file. */\n #undef HAVE_MEMORY_H\n \n+/* Define to 1 if you have the <rpc/xdr.h> header file. */\n+#undef HAVE_RPC_XDR_H\n+\n /* Define to 1 if you have the <stdint.h> header file. */\n #undef HAVE_STDINT_H\n \n@@ -67,6 +70,9 @@\n /* Define to 1 if you have the <sys/types.h> header file. */\n #undef HAVE_SYS_TYPES_H\n \n+/* Define to 1 if you have the <tirpc/rpc/xdr.h> header file. */\n+#undef HAVE_TIRPC_RPC_XDR_H\n+\n /* Define to 1 if you have the <unistd.h> header file. */\n #undef HAVE_UNISTD_H\n "}, {"sha": "1efbd5314afc8f40a064f84afe8e13a8d7baff26", "filename": "libsanitizer/configure", "status": "modified", "additions": 44, "deletions": 2, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -607,6 +607,7 @@ LIBOBJS\n TSAN_TARGET_DEPENDENT_OBJECTS\n LIBBACKTRACE_SUPPORTED_FALSE\n LIBBACKTRACE_SUPPORTED_TRUE\n+RPC_DEFS\n BACKTRACE_SUPPORTS_THREADS\n BACKTRACE_USES_MALLOC\n ALLOC_FILE\n@@ -12021,7 +12022,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12024 \"configure\"\n+#line 12025 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12127,7 +12128,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12130 \"configure\"\n+#line 12131 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -16341,6 +16342,47 @@ $as_echo \"#define HAVE_GETEXECNAME 1\" >>confdefs.h\n \n fi\n \n+# Check for rpc/xdr.h\n+for ac_header in rpc/xdr.h\n+do :\n+  ac_fn_c_check_header_mongrel \"$LINENO\" \"rpc/xdr.h\" \"ac_cv_header_rpc_xdr_h\" \"$ac_includes_default\"\n+if test \"x$ac_cv_header_rpc_xdr_h\" = x\"\"yes; then :\n+  cat >>confdefs.h <<_ACEOF\n+#define HAVE_RPC_XDR_H 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n+if test x\"$ac_cv_header_rpc_xdr_h\" = xyes; then\n+  rpc_defs=\"$rpc_defs -DHAVE_RPC_XDR_H=1\"\n+else\n+  rpc_defs=\"$rpc_defs -DHAVE_RPC_XDR_H=0\"\n+fi\n+\n+# Check for tirpc/rpc/xdr.h\n+for ac_header in tirpc/rpc/xdr.h\n+do :\n+  ac_fn_c_check_header_mongrel \"$LINENO\" \"tirpc/rpc/xdr.h\" \"ac_cv_header_tirpc_rpc_xdr_h\" \"$ac_includes_default\"\n+if test \"x$ac_cv_header_tirpc_rpc_xdr_h\" = x\"\"yes; then :\n+  cat >>confdefs.h <<_ACEOF\n+#define HAVE_TIRPC_RPC_XDR_H 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n+if test x\"$ac_cv_header_tirpc_rpc_xdr_h\" = xyes; then\n+  rpc_defs=\"$rpc_defs -DHAVE_TIRPC_RPC_XDR_H=1\"\n+else\n+  rpc_defs=\"$rpc_defs -DHAVE_TIRPC_RPC_XDR_H=0\"\n+fi\n+\n+RPC_DEFS=$rpc_defs\n+\n+\n  if test \"x${BACKTRACE_SUPPORTED}x${BACKTRACE_USES_MALLOC}\" = \"x1x0\"; then\n   LIBBACKTRACE_SUPPORTED_TRUE=\n   LIBBACKTRACE_SUPPORTED_FALSE='#'"}, {"sha": "11e2d9961d66f757ce75409fd9ea7f9ca64fd6af", "filename": "libsanitizer/configure.ac", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure.ac?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -312,6 +312,24 @@ if test \"$have_getexecname\" = \"yes\"; then\n   AC_DEFINE(HAVE_GETEXECNAME, 1, [Define if getexecname is available.])\n fi\n \n+# Check for rpc/xdr.h\n+AC_CHECK_HEADERS(rpc/xdr.h)\n+if test x\"$ac_cv_header_rpc_xdr_h\" = xyes; then\n+  rpc_defs=\"$rpc_defs -DHAVE_RPC_XDR_H=1\"\n+else\n+  rpc_defs=\"$rpc_defs -DHAVE_RPC_XDR_H=0\"\n+fi\n+\n+# Check for tirpc/rpc/xdr.h\n+AC_CHECK_HEADERS(tirpc/rpc/xdr.h)\n+if test x\"$ac_cv_header_tirpc_rpc_xdr_h\" = xyes; then\n+  rpc_defs=\"$rpc_defs -DHAVE_TIRPC_RPC_XDR_H=1\"\n+else\n+  rpc_defs=\"$rpc_defs -DHAVE_TIRPC_RPC_XDR_H=0\"\n+fi\n+\n+AC_SUBST([RPC_DEFS], [$rpc_defs])\n+\n AM_CONDITIONAL(LIBBACKTRACE_SUPPORTED,\n \t       [test \"x${BACKTRACE_SUPPORTED}x${BACKTRACE_USES_MALLOC}\" = \"x1x0\"])\n "}, {"sha": "5a49650758839c941b1588379440227e99eaf137", "filename": "libsanitizer/interception/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Finterception%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Finterception%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Finterception%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -146,6 +146,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "66d1962711c8e7fb56307fb105cb2d8cb7212931", "filename": "libsanitizer/libbacktrace/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Flibbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Flibbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Flibbacktrace%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -188,6 +188,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "49fa874946168061fe2b6e9fd19b3d0460cb1973", "filename": "libsanitizer/lsan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Flsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Flsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Flsan%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -181,6 +181,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "d541717866b338ffc00b544046d7454f9677f35f", "filename": "libsanitizer/sanitizer_common/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2FMakefile.am?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -3,7 +3,7 @@ AM_CPPFLAGS = -I $(top_srcdir)/include -isystem $(top_srcdir)/include/system\n # May be used by toolexeclibdir.\n gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n \n-DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS \n+DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS @RPC_DEFS@\n AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros\n AM_CXXFLAGS += $(LIBSTDCXX_RAW_CXX_CXXFLAGS)\n AM_CXXFLAGS += -std=gnu++11"}, {"sha": "77ad416defb3555c3dd86bc602d9b9907ffc9092", "filename": "libsanitizer/sanitizer_common/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -129,7 +129,7 @@ CXXCPP = @CXXCPP@\n CXXDEPMODE = @CXXDEPMODE@\n CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n-DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS \n+DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS @RPC_DEFS@\n DEPDIR = @DEPDIR@\n DSYMUTIL = @DSYMUTIL@\n DUMPBIN = @DUMPBIN@\n@@ -174,6 +174,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "e0e740225e21a39a3069d9813ebcb1391eff7f83", "filename": "libsanitizer/sanitizer_common/sanitizer_platform.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2Fsanitizer_platform.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2Fsanitizer_platform.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2Fsanitizer_platform.h?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -126,4 +126,10 @@\n # define SANITIZER_POINTER_FORMAT_LENGTH FIRST_32_SECOND_64(8, 12)\n #endif\n \n+// Assume obsolete RPC headers are available by default\n+#if !defined(HAVE_RPC_XDR_H) && !defined(HAVE_TIRPC_RPC_XDR_H)\n+# define HAVE_RPC_XDR_H (SANITIZER_LINUX && !SANITIZER_ANDROID)\n+# define HAVE_TIRPC_RPC_XDR_H 0\n+#endif\n+\n #endif // SANITIZER_PLATFORM_H"}, {"sha": "2ef4ca22276e9ea67b6f983c1b4f10f4b98cbcab", "filename": "libsanitizer/sanitizer_common/sanitizer_platform_limits_posix.cc", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2Fsanitizer_platform_limits_posix.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fsanitizer_common%2Fsanitizer_platform_limits_posix.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2Fsanitizer_platform_limits_posix.cc?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -131,7 +131,11 @@\n #include <netax25/ax25.h>\n #include <netipx/ipx.h>\n #include <netrom/netrom.h>\n-#include <rpc/xdr.h>\n+#if HAVE_RPC_XDR_H\n+# include <rpc/xdr.h>\n+#elif HAVE_TIRPC_RPC_XDR_H\n+# include <tirpc/rpc/xdr.h>\n+#endif\n #include <scsi/scsi.h>\n #include <sys/mtio.h>\n #include <sys/kd.h>\n@@ -1147,7 +1151,7 @@ CHECK_SIZE_AND_OFFSET(group, gr_passwd);\n CHECK_SIZE_AND_OFFSET(group, gr_gid);\n CHECK_SIZE_AND_OFFSET(group, gr_mem);\n \n-#if SANITIZER_LINUX && !SANITIZER_ANDROID\n+#if HAVE_RPC_XDR_H || HAVE_TIRPC_RPC_XDR_H\n CHECK_TYPE_SIZE(XDR);\n CHECK_SIZE_AND_OFFSET(XDR, x_op);\n CHECK_SIZE_AND_OFFSET(XDR, x_ops);"}, {"sha": "ed594a6f63167e19dfc018036a117b73cfaa828a", "filename": "libsanitizer/tsan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Ftsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Ftsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Ftsan%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -194,6 +194,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}, {"sha": "0973a7a050e8556c5acffe98401c184855e82f30", "filename": "libsanitizer/ubsan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fubsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d041a6fcae6d87a98d86efdc8ebe384192236f98/libsanitizer%2Fubsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fubsan%2FMakefile.in?ref=d041a6fcae6d87a98d86efdc8ebe384192236f98", "patch": "@@ -177,6 +177,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n RANLIB = @RANLIB@\n+RPC_DEFS = @RPC_DEFS@\n SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@"}]}