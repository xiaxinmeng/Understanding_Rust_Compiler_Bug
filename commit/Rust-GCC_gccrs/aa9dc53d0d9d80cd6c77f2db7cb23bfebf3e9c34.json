{"sha": "aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWE5ZGM1M2QwZDlkODBjZDZjNzdmMmRiN2NiMjNiZmViZjNlOWMzNA==", "commit": {"author": {"name": "Albert Chin-A-Young", "email": "china@thewrittenword.com", "date": "2003-06-09T05:20:02Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-06-09T05:20:02Z"}, "message": "re PR bootstrap/10974 (Bootstrap failure)\n\n\tPR bootstrap/10974\n\t* physmem.c: Update comment.\n\t* configure.in: Modify test for _system_configuration for older\n\tAIX systems.\n\n\t* config.in, configure: Regenerated.\n\nFrom-SVN: r67649", "tree": {"sha": "c94420163ab9f196125403404db6b5b340f4b093", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c94420163ab9f196125403404db6b5b340f4b093"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/comments", "author": null, "committer": null, "parents": [{"sha": "017e1b43f9a203228c25da74d49ce5367eaee65b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/017e1b43f9a203228c25da74d49ce5367eaee65b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/017e1b43f9a203228c25da74d49ce5367eaee65b"}], "stats": {"total": 167, "additions": 105, "deletions": 62}, "files": [{"sha": "75b66361296596ab56c997a8272da3fe3d81c729", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "patch": "@@ -1,3 +1,12 @@\n+2003-06-09  Albert Chin-A-Young  <china@thewrittenword.com>\n+\t\n+\tPR bootstrap/10974\n+\t* physmem.c: Update comment.\n+\t* configure.in: Modify test for _system_configuration for older\n+\tAIX systems.\n+\n+\t* config.in, configure: Regenerated.\n+\t\n 2003-06-05  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \tPR other/10810"}, {"sha": "51d161a46069a793343dce75ed8974c10d4e78fa", "filename": "libiberty/config.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig.in?ref=aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "patch": "@@ -316,9 +316,6 @@\n /* Define if you have the sys_siglist variable. */\n #undef HAVE_SYS_SIGLIST\n \n-/* Define if you have the _system_configuration variable. */\n-#undef HAVE__SYSTEM_CONFIGURATION\n-\n /* Define to one of _getb67, GETB67, getb67 for Cray-2 and Cray-YMP\n    systems. This function is required for alloca.c support on those\n    systems. */\n@@ -331,6 +328,9 @@\n         STACK_DIRECTION = 0 => direction of growth unknown */\n #undef STACK_DIRECTION\n \n+/* Define if you have the _system_configuration variable. */\n+#undef HAVE__SYSTEM_CONFIGURATION\n+\n /* Define if canonicalize_file_name is not declared in system header files. */\n #undef NEED_DECLARATION_CANONICALIZE_FILE_NAME\n "}, {"sha": "9182fc3f98ec3fde6ca8940d0cead8d785f5fd52", "filename": "libiberty/configure", "status": "modified", "additions": 80, "deletions": 56, "changes": 136, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "patch": "@@ -1875,7 +1875,7 @@ funcs=\"$funcs waitpid\"\n \n # Also in the old function.def file: alloca, vfork, getopt.\n \n-vars=\"sys_errlist sys_nerr sys_siglist _system_configuration\"\n+vars=\"sys_errlist sys_nerr sys_siglist\"\n \n checkfuncs=\"getrusage on_exit psignal strerror strsignal sysconf times sbrk gettimeofday\"\n checkfuncs=\"$checkfuncs realpath canonicalize_file_name pstat_getstatic pstat_getdynamic sysmp\"\n@@ -1957,10 +1957,6 @@ EOF\n \n   cat >> confdefs.h <<\\EOF\n #define HAVE_SYS_SIGLIST 1\n-EOF\n-\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE__SYSTEM_CONFIGURATION 1\n EOF\n \n fi\n@@ -2157,7 +2153,7 @@ if test -z \"${setobjs}\"; then\n   # We haven't set the list of objects yet.  Use the standard autoconf\n   # tests.  This will only work if the compiler works.\n   echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:2161: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:2157: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2168,12 +2164,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2172 \"configure\"\n+#line 2168 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2177: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2173: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2199,19 +2195,19 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2203: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:2199: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n   for ac_func in $funcs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2210: checking for $ac_func\" >&5\n+echo \"configure:2206: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2215 \"configure\"\n+#line 2211 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2234,7 +2230,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2238: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2234: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2261,12 +2257,12 @@ done\n \n \n   echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:2265: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:2261: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2270 \"configure\"\n+#line 2266 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -2291,12 +2287,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n   for ac_func in _getb67 GETB67 getb67; do\n     echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2295: checking for $ac_func\" >&5\n+echo \"configure:2291: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2300 \"configure\"\n+#line 2296 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2319,7 +2315,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2323: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2319: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2345,15 +2341,15 @@ fi\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2349: checking stack direction for C alloca\" >&5\n+echo \"configure:2345: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2357 \"configure\"\n+#line 2353 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -2372,7 +2368,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:2376: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2372: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -2394,17 +2390,17 @@ EOF\n \n   ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2398: checking for vfork.h\" >&5\n+echo \"configure:2394: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2403 \"configure\"\n+#line 2399 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2408: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2404: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2429,18 +2425,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2433: checking for working vfork\" >&5\n+echo \"configure:2429: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2439: checking for vfork\" >&5\n+echo \"configure:2435: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2444 \"configure\"\n+#line 2440 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2463,7 +2459,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2467: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2463: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2485,7 +2481,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2489 \"configure\"\n+#line 2485 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2580,7 +2576,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2584: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2580: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2612,12 +2608,12 @@ fi\n     for ac_func in _doprnt\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2616: checking for $ac_func\" >&5\n+echo \"configure:2612: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2621 \"configure\"\n+#line 2617 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2640,7 +2636,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2644: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2640: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2670,12 +2666,12 @@ done\n     for ac_func in _doprnt\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2674: checking for $ac_func\" >&5\n+echo \"configure:2670: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2679 \"configure\"\n+#line 2675 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2698,7 +2694,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2702: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2698: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2726,19 +2722,19 @@ done\n \n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:2730: checking for $v\" >&5\n+echo \"configure:2726: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2735 \"configure\"\n+#line 2731 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v []; p = $v;\n ; return 0; }\n EOF\n-if { (eval echo configure:2742: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2738: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -2761,15 +2757,43 @@ EOF\n       echo \"$ac_t\"\"no\" 1>&6\n     fi\n   done\n+\n+  # special check for _system_configuration because AIX <4.3.2 do not\n+  # contain the `physmem' member.\n+  echo $ac_n \"checking for external symbol _system_configuration\"\"... $ac_c\" 1>&6\n+echo \"configure:2765: checking for external symbol _system_configuration\" >&5\n+  cat > conftest.$ac_ext <<EOF\n+#line 2767 \"configure\"\n+#include \"confdefs.h\"\n+#include <sys/systemcfg.h>\n+int main() {\n+double x = _system_configuration.physmem;\n+; return 0; }\n+EOF\n+if { (eval echo configure:2774: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    cat >> confdefs.h <<\\EOF\n+#define HAVE__SYSTEM_CONFIGURATION 1\n+EOF\n+\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+rm -f conftest*\n+\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2768: checking for $ac_func\" >&5\n+echo \"configure:2792: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2773 \"configure\"\n+#line 2797 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2792,7 +2816,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2796: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2820: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2817,12 +2841,12 @@ fi\n done\n \n   echo $ac_n \"checking whether canonicalize_file_name must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2821: checking whether canonicalize_file_name must be declared\" >&5\n+echo \"configure:2845: checking whether canonicalize_file_name must be declared\" >&5\n if eval \"test \\\"`echo '$''{'libiberty_cv_decl_needed_canonicalize_file_name'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2826 \"configure\"\n+#line 2850 \"configure\"\n #include \"confdefs.h\"\n \n #include \"confdefs.h\"\n@@ -2844,7 +2868,7 @@ int main() {\n char *(*pfn) = (char *(*)) canonicalize_file_name\n ; return 0; }\n EOF\n-if { (eval echo configure:2848: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2872: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libiberty_cv_decl_needed_canonicalize_file_name=no\n else\n@@ -2880,17 +2904,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2884: checking for $ac_hdr\" >&5\n+echo \"configure:2908: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2889 \"configure\"\n+#line 2913 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2894: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2918: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2919,12 +2943,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2923: checking for $ac_func\" >&5\n+echo \"configure:2947: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2928 \"configure\"\n+#line 2952 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2947,7 +2971,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2951: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2975: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2972,15 +2996,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2976: checking for working mmap\" >&5\n+echo \"configure:3000: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2984 \"configure\"\n+#line 3008 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -3120,7 +3144,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3124: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3148: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -3144,15 +3168,15 @@ fi\n \n \n echo $ac_n \"checking for working strncmp\"\"... $ac_c\" 1>&6\n-echo \"configure:3148: checking for working strncmp\" >&5\n+echo \"configure:3172: checking for working strncmp\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strncmp_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_strncmp_works=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3156 \"configure\"\n+#line 3180 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Jim Wilson and Kaveh Ghazi.\n@@ -3216,7 +3240,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:3220: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3244: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_strncmp_works=yes\n else"}, {"sha": "0eab85513da15ad4b872de32f4a2ec9aaa05e702", "filename": "libiberty/configure.in", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "patch": "@@ -209,7 +209,7 @@ funcs=\"$funcs waitpid\"\n \n # Also in the old function.def file: alloca, vfork, getopt.\n \n-vars=\"sys_errlist sys_nerr sys_siglist _system_configuration\"\n+vars=\"sys_errlist sys_nerr sys_siglist\"\n \n checkfuncs=\"getrusage on_exit psignal strerror strsignal sysconf times sbrk gettimeofday\"\n checkfuncs=\"$checkfuncs realpath canonicalize_file_name pstat_getstatic pstat_getdynamic sysmp\"\n@@ -230,7 +230,6 @@ if test \"x\" = \"y\"; then\n   AC_DEFINE(HAVE_SYS_ERRLIST, 1, [Define if you have the sys_errlist variable.])\n   AC_DEFINE(HAVE_SYS_NERR,    1, [Define if you have the sys_nerr variable.])\n   AC_DEFINE(HAVE_SYS_SIGLIST, 1, [Define if you have the sys_siglist variable.])\n-  AC_DEFINE(HAVE__SYSTEM_CONFIGURATION, 1, [Define if you have the _system_configuration variable.])\n fi\n \n # For each of these functions, if the host does not provide the\n@@ -433,6 +432,17 @@ if test -z \"${setobjs}\"; then\n       AC_MSG_RESULT(no)\n     fi\n   done\n+\n+  # special check for _system_configuration because AIX <4.3.2 do not\n+  # contain the `physmem' member.\n+  AC_MSG_CHECKING([for external symbol _system_configuration])\n+  AC_TRY_COMPILE([#include <sys/systemcfg.h>],\n+                 [double x = _system_configuration.physmem;],\n+    [AC_MSG_RESULT([yes])\n+    AC_DEFINE(HAVE__SYSTEM_CONFIGURATION, 1,\n+              [Define if you have the _system_configuration variable.])],\n+    [AC_MSG_RESULT([no])])\n+\n   AC_CHECK_FUNCS($checkfuncs)\n   libiberty_NEED_DECLARATION(canonicalize_file_name)\n fi"}, {"sha": "f64e07c74d4f1bc035c22856111d6f53de9b7f22", "filename": "libiberty/physmem.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fphysmem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34/libiberty%2Fphysmem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fphysmem.c?ref=aa9dc53d0d9d80cd6c77f2db7cb23bfebf3e9c34", "patch": "@@ -145,7 +145,7 @@ physmem_total ()\n #endif\n \n #if HAVE__SYSTEM_CONFIGURATION\n-  /* This works on AIX.  */\n+  /* This works on AIX 4.3.3+.  */\n   return _system_configuration.physmem;\n #endif\n "}]}