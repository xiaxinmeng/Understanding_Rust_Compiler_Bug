{"sha": "1a06f5e6a34797a74e86d2d76369eb9d78c4c538", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWEwNmY1ZTZhMzQ3OTdhNzRlODZkMmQ3NjM2OWViOWQ3OGM0YzUzOA==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2016-02-02T12:48:41Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2016-02-02T12:48:41Z"}, "message": "libgomp: Skip hsa offloading for OpenACC test cases\n\n\tlibgomp/\n\t* testsuite/lib/libgomp.exp: Skip hsa offloading for OpenACC test\n\tcases.\n\nFrom-SVN: r233073", "tree": {"sha": "f3b6f3f58ee5ee972f2bb850ccddb256e21bcdec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f3b6f3f58ee5ee972f2bb850ccddb256e21bcdec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a06f5e6a34797a74e86d2d76369eb9d78c4c538", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a06f5e6a34797a74e86d2d76369eb9d78c4c538", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a06f5e6a34797a74e86d2d76369eb9d78c4c538", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a06f5e6a34797a74e86d2d76369eb9d78c4c538/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "033ff3d1302e18505f9d4fea5b60bde5b85a3fe1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033ff3d1302e18505f9d4fea5b60bde5b85a3fe1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/033ff3d1302e18505f9d4fea5b60bde5b85a3fe1"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "6c9bf6ac43d57038d121a95f8da47cbd4048af91", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a06f5e6a34797a74e86d2d76369eb9d78c4c538/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a06f5e6a34797a74e86d2d76369eb9d78c4c538/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=1a06f5e6a34797a74e86d2d76369eb9d78c4c538", "patch": "@@ -1,5 +1,8 @@\n 2016-02-02  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\t* testsuite/lib/libgomp.exp: Skip hsa offloading for OpenACC test\n+\tcases.\n+\n \t* plugin/configfrag.ac (HSA_KMT_LIB, HSA_KMT_LDFLAGS): New\n \tvariables.\n \t* testsuite/libgomp-test-support.exp.in (hsa_runtime_lib)"}, {"sha": "a4c9d834e461aa96cebb15ac90e07668d98da297", "filename": "libgomp/testsuite/lib/libgomp.exp", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a06f5e6a34797a74e86d2d76369eb9d78c4c538/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a06f5e6a34797a74e86d2d76369eb9d78c4c538/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp?ref=1a06f5e6a34797a74e86d2d76369eb9d78c4c538", "patch": "@@ -42,15 +42,17 @@ load_file libgomp-test-support.exp\n set offload_targets_s [split $offload_targets \",\"]\n set offload_targets_s_openacc {}\n foreach offload_target_openacc $offload_targets_s {\n+    # Translate to OpenACC names, or skip if not yet supported.\n     switch $offload_target_openacc {\n \tintelmic {\n-\t    # Skip; will all FAIL because of missing\n-\t    # GOMP_OFFLOAD_CAP_OPENACC_200.\n \t    continue\n \t}\n \tnvptx {\n \t    set offload_target_openacc \"nvidia\"\n \t}\n+\thsa {\n+\t    continue\n+\t}\n     }\n     lappend offload_targets_s_openacc \"$offload_target_openacc\"\n }"}]}