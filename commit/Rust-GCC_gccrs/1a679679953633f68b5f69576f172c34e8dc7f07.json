{"sha": "1a679679953633f68b5f69576f172c34e8dc7f07", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWE2Nzk2Nzk5NTM2MzNmNjhiNWY2OTU3NmYxNzJjMzRlOGRjN2YwNw==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2003-11-13T19:42:03Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2003-11-13T19:42:03Z"}, "message": "lib1funcs.asm (udivsi3): Don't save/restore unused registers.\n\n\t* config/h8300/lib1funcs.asm (udivsi3): Don't save/restore\n\tunused registers.  Don't jump to exitdiv.\n\t(umodsi3): Likewise.\n\nFrom-SVN: r73555", "tree": {"sha": "92714624f3652d00628919df9c666c71517f8904", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92714624f3652d00628919df9c666c71517f8904"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a679679953633f68b5f69576f172c34e8dc7f07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a679679953633f68b5f69576f172c34e8dc7f07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a679679953633f68b5f69576f172c34e8dc7f07", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a679679953633f68b5f69576f172c34e8dc7f07/comments", "author": null, "committer": null, "parents": [{"sha": "49012f5c0f56b39c22a5bf5cf7a1f3626387eda7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49012f5c0f56b39c22a5bf5cf7a1f3626387eda7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49012f5c0f56b39c22a5bf5cf7a1f3626387eda7"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "646a7be8a314b36a42c71d825b8eeb4ce28122c6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a679679953633f68b5f69576f172c34e8dc7f07/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a679679953633f68b5f69576f172c34e8dc7f07/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1a679679953633f68b5f69576f172c34e8dc7f07", "patch": "@@ -1,3 +1,9 @@\n+2003-11-13  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* config/h8300/lib1funcs.asm (udivsi3): Don't save/restore\n+\tunused registers.  Don't jump to exitdiv.\n+\t(umodsi3): Likewise.\n+\n 2003-11-13  Mark Mitchell  <mark@codesourcery.com>\n             Kean Johnston <jkj@sco.com>\n "}, {"sha": "5b16ce3074fb4896d40b3ef5f9e9ee9ebd5b0ee0", "filename": "gcc/config/h8300/lib1funcs.asm", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a679679953633f68b5f69576f172c34e8dc7f07/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a679679953633f68b5f69576f172c34e8dc7f07/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm?ref=1a679679953633f68b5f69576f172c34e8dc7f07", "patch": "@@ -448,27 +448,40 @@ ___modsi3:\n \n \t.global\t___udivsi3\n ___udivsi3:\n+#ifdef __H8300__\n \tPUSHP\tS2P\n \tPUSHP\tS0P\n \tPUSHP\tS1P\n \tmov.b\t#0,S2L\t; keep sign low\n \tbsr\tdivmodsi4\n \tbra\texitdiv\n+#else\n+\t;; H8/300H and H8S version of divmodsi4 does not clobber S1P or S2P.\n+\tPUSHP\tS0P\n+\tbsr\tdivmodsi4\n+\tPOPP\tS0P\n+\trts\n+#endif\n \n \t.global\t___umodsi3\n ___umodsi3:\n+#ifdef __H8300__\n \tPUSHP\tS2P\n \tPUSHP\tS0P\n \tPUSHP\tS1P\n \tmov.b\t#0,S2L\t; keep sign low\n \tbsr\tdivmodsi4\n-#ifdef __H8300__\n \tmov\tS0,A0\n \tmov\tS1,A1\n+\tbra\texitdiv\n #else\n+\t;; H8/300H and H8S version of divmodsi4 does not clobber S1P or S2P.\n+\tPUSHP\tS0P\n+\tbsr\tdivmodsi4\n \tmov.l\tS0P,A0P\n+\tPOPP\tS0P\n+\trts\n #endif\n-\tbra\texitdiv\n \n \t.global\t___divsi3\n ___divsi3:"}]}