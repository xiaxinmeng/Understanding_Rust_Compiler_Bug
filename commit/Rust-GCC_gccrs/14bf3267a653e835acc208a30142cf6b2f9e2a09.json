{"sha": "14bf3267a653e835acc208a30142cf6b2f9e2a09", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRiZjMyNjdhNjUzZTgzNWFjYzIwOGEzMDE0MmNmNmIyZjllMmEwOQ==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T21:24:24Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T21:24:24Z"}, "message": "trans-array.c (gfc_trans_array_bound_check): Use ss argument to get name.\n\n\t* trans-array.c (gfc_trans_array_bound_check): Use ss argument\n\tto get name.\n\nFrom-SVN: r180858", "tree": {"sha": "9d85806354e40d5376a1de065a312ff138b42299", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d85806354e40d5376a1de065a312ff138b42299"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14bf3267a653e835acc208a30142cf6b2f9e2a09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14bf3267a653e835acc208a30142cf6b2f9e2a09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14bf3267a653e835acc208a30142cf6b2f9e2a09", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14bf3267a653e835acc208a30142cf6b2f9e2a09/comments", "author": null, "committer": null, "parents": [{"sha": "36e783e3824427f779f293a991ea97a4d7782588", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36e783e3824427f779f293a991ea97a4d7782588", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36e783e3824427f779f293a991ea97a4d7782588"}], "stats": {"total": 29, "additions": 7, "deletions": 22}, "files": [{"sha": "a7d0680dcf6d41e2baea8322ca5c5d3c19aa598b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14bf3267a653e835acc208a30142cf6b2f9e2a09/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14bf3267a653e835acc208a30142cf6b2f9e2a09/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=14bf3267a653e835acc208a30142cf6b2f9e2a09", "patch": "@@ -1,3 +1,8 @@\n+2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.c (gfc_trans_array_bound_check): Use ss argument\n+\tto get name.\n+\n 2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans-array.c (gfc_trans_array_bound_check,"}, {"sha": "d8f5448ff878f199bcfdbcbb045e595ea35b8201", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 2, "deletions": 22, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14bf3267a653e835acc208a30142cf6b2f9e2a09/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14bf3267a653e835acc208a30142cf6b2f9e2a09/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=14bf3267a653e835acc208a30142cf6b2f9e2a09", "patch": "@@ -2443,28 +2443,8 @@ trans_array_bound_check (gfc_se * se, gfc_ss *ss, tree index, int n,\n   index = gfc_evaluate_now (index, &se->pre);\n \n   /* We find a name for the error message.  */\n-  if (se->ss)\n-    name = se->ss->expr->symtree->name;\n-\n-  if (!name && se->loop && se->loop->ss && se->loop->ss->expr\n-      && se->loop->ss->expr->symtree)\n-    name = se->loop->ss->expr->symtree->name;\n-\n-  if (!name && se->loop && se->loop->ss && se->loop->ss->loop_chain\n-      && se->loop->ss->loop_chain->expr\n-      && se->loop->ss->loop_chain->expr->symtree)\n-    name = se->loop->ss->loop_chain->expr->symtree->name;\n-\n-  if (!name && se->loop && se->loop->ss && se->loop->ss->expr)\n-    {\n-      if (se->loop->ss->expr->expr_type == EXPR_FUNCTION\n-\t  && se->loop->ss->expr->value.function.name)\n-\tname = se->loop->ss->expr->value.function.name;\n-      else\n-\tif (se->loop->ss->type == GFC_SS_CONSTRUCTOR\n-\t    || se->loop->ss->type == GFC_SS_SCALAR)\n-\t  name = \"unnamed constant\";\n-    }\n+  name = ss->expr->symtree->n.sym->name;\n+  gcc_assert (name != NULL);\n \n   if (TREE_CODE (descriptor) == VAR_DECL)\n     name = IDENTIFIER_POINTER (DECL_NAME (descriptor));"}]}