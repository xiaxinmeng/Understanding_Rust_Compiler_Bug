{"sha": "cea32bca722edb23b8225c79be664232c3b756b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2VhMzJiY2E3MjJlZGIyM2I4MjI1Yzc5YmU2NjQyMzJjM2I3NTZiNQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2009-05-27T19:53:03Z"}, "committer": {"name": "Taras Glek", "email": "tglek@gcc.gnu.org", "date": "2009-05-27T19:53:03Z"}, "message": "system.h (CONST_CAST2): Use C++ const_cast when compiled as C++\n\ngcc/ChangeLog\n\t* system.h (CONST_CAST2): Use C++ const_cast when compiled as C++\n\nFrom-SVN: r147928", "tree": {"sha": "1df0cfc50045f71ab10be3320417d55473654481", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1df0cfc50045f71ab10be3320417d55473654481"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cea32bca722edb23b8225c79be664232c3b756b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cea32bca722edb23b8225c79be664232c3b756b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cea32bca722edb23b8225c79be664232c3b756b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cea32bca722edb23b8225c79be664232c3b756b5/comments", "author": null, "committer": null, "parents": [{"sha": "c607156f995fc3f5142e58456524e9d34c3f0c31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c607156f995fc3f5142e58456524e9d34c3f0c31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c607156f995fc3f5142e58456524e9d34c3f0c31"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "306b3f844d87ac3db99aa21c2ec8e67096807ea0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cea32bca722edb23b8225c79be664232c3b756b5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cea32bca722edb23b8225c79be664232c3b756b5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cea32bca722edb23b8225c79be664232c3b756b5", "patch": "@@ -1,3 +1,7 @@\n+2009-05-27  Tom Tromey  <tromey@redhat.com>\n+\n+\t* system.h (CONST_CAST2): Use C++ const_cast when compiled as C++\n+\n 2009-05-27  Ian Lance Taylor  <iant@google.com>\n \n \t* Makefile.in (LINKER, LINKER_FLAGS): Define."}, {"sha": "2a111ee8e84cd0a5b706e436e8edc93948290350", "filename": "gcc/system.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cea32bca722edb23b8225c79be664232c3b756b5/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cea32bca722edb23b8225c79be664232c3b756b5/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=cea32bca722edb23b8225c79be664232c3b756b5", "patch": "@@ -786,13 +786,17 @@ extern void fancy_abort (const char *, int, const char *) ATTRIBUTE_NORETURN;\n    change after the fact).  Beyond these uses, most other cases of\n    using this macro should be viewed with extreme caution.  */\n \n+#ifdef __cplusplus\n+#define CONST_CAST2(TOTYPE,FROMTYPE,X) (const_cast<TOTYPE> (X))\n+#else\n #if defined(__GNUC__) && GCC_VERSION > 4000\n /* GCC 4.0.x has a bug where it may ICE on this expression,\n    so does GCC 3.4.x (PR17436).  */\n #define CONST_CAST2(TOTYPE,FROMTYPE,X) ((__extension__(union {FROMTYPE _q; TOTYPE _nq;})(X))._nq)\n #else\n #define CONST_CAST2(TOTYPE,FROMTYPE,X) ((TOTYPE)(FROMTYPE)(X))\n #endif\n+#endif\n #define CONST_CAST(TYPE,X) CONST_CAST2(TYPE, const TYPE, (X))\n #define CONST_CAST_TREE(X) CONST_CAST(union tree_node *, (X))\n #define CONST_CAST_RTX(X) CONST_CAST(struct rtx_def *, (X))"}]}