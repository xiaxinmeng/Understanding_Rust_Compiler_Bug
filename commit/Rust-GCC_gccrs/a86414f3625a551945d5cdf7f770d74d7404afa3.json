{"sha": "a86414f3625a551945d5cdf7f770d74d7404afa3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTg2NDE0ZjM2MjVhNTUxOTQ1ZDVjZGY3Zjc3MGQ3NGQ3NDA0YWZhMw==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "2001-04-26T20:06:25Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2001-04-26T20:06:25Z"}, "message": "initp1.C: Moved here from g++.old-deja/g++.ext.\n\n        * g++.dg/special/initp1.C: Moved here from g++.old-deja/g++.ext.\n        Tweak slightly to work with g++.dg framework.\n        * g++.dg/special/ecos.exp: Run initp1.C test.\n        * g++.old-deja/g++.ext/initp1.C: Moved to g++.dg/special.\n\nFrom-SVN: r41610", "tree": {"sha": "3abe1bacf4a77cc37d04ff871fed5d5e69a063a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3abe1bacf4a77cc37d04ff871fed5d5e69a063a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a86414f3625a551945d5cdf7f770d74d7404afa3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a86414f3625a551945d5cdf7f770d74d7404afa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a86414f3625a551945d5cdf7f770d74d7404afa3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a86414f3625a551945d5cdf7f770d74d7404afa3/comments", "author": null, "committer": null, "parents": [{"sha": "fcca588c9490ffd09b2d1bcb24f532a2a7b815bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcca588c9490ffd09b2d1bcb24f532a2a7b815bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcca588c9490ffd09b2d1bcb24f532a2a7b815bc"}], "stats": {"total": 39, "additions": 30, "deletions": 9}, "files": [{"sha": "640a2d6d7d96a070afec6504e2fe4dfa4c2a5a97", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86414f3625a551945d5cdf7f770d74d7404afa3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86414f3625a551945d5cdf7f770d74d7404afa3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a86414f3625a551945d5cdf7f770d74d7404afa3", "patch": "@@ -1,5 +1,10 @@\n Thu Apr 26 11:15:12 2001  Jeffrey A Law  (law@cygnus.com)\n \n+\t* g++.dg/special/initp1.C: Moved here from g++.old-deja/g++.ext.\n+\tTweak slightly to work with g++.dg framework.\n+\t* g++.dg/special/ecos.exp: Run initp1.C test.\n+\t* g++.old-deja/g++.ext/initp1.C: Moved to g++.dg/special.\n+\n \t* g++.old-deja/g++.ext/instantiate2.C: XFAIL for HPUX too since\n \tits linker doesn't give line numbers either.\n \t* g++.old-deja/g++.ext/instantiate3.C: Similarly."}, {"sha": "df94956c19edd0b19607a64e88879aa890c02c2d", "filename": "gcc/testsuite/g++.dg/special/ecos.exp", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86414f3625a551945d5cdf7f770d74d7404afa3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fspecial%2Fecos.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86414f3625a551945d5cdf7f770d74d7404afa3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fspecial%2Fecos.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fspecial%2Fecos.exp?ref=a86414f3625a551945d5cdf7f770d74d7404afa3", "patch": "@@ -84,5 +84,22 @@ if [string match \"*init_priority*\" $lines] then {\n }\n dg-finish\n \n+###########\n+# initp1.C\n+###########\n+\n+dg-init\n+set lines [g++_target_compile \"$srcdir/$subdir/initp1.C\" \"$objdir/a.out\" executable \"\"]\n+if [string match \"*init_priority*\" $lines] then {\n+    xfail \"initp1.C\"\n+    file delete $objdir/a.out\n+} elseif ![string match \"\" $lines] then {\n+    fail \"initp1.C\"\n+} else {\n+    dg-runtest \"$srcdir/$subdir/conpr-1.C\" \"\" \"\" \n+    file delete $objdir/a.out\n+}\n+dg-finish\n+\n \n ### EOF ecos.exp"}, {"sha": "74bcb5f764d1ad5726a321b144d59b46927c8da7", "filename": "gcc/testsuite/g++.dg/special/initp1.C", "status": "renamed", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86414f3625a551945d5cdf7f770d74d7404afa3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fspecial%2Finitp1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86414f3625a551945d5cdf7f770d74d7404afa3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fspecial%2Finitp1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fspecial%2Finitp1.C?ref=a86414f3625a551945d5cdf7f770d74d7404afa3", "patch": "@@ -1,6 +1,5 @@\n-// Test for proper handling of the init_priority attribute.\n-// Contributed by Hugo Tyson <hmt@cygnus.co.uk>\n-// excess errors test - XFAIL mips*-sgi-irix*\n+/* { dg-do run } */\n+#include <stdlib.h>\n \n class Two {\n private:\n@@ -63,29 +62,29 @@ int main()\n     X( koo[0].kay() );\n     X( koo[1].kay() );\n     X( koo[2].kay() );\n-    if ( 0x3f != x ) return 1;\n+    if ( 0x3f != x ) abort ();\n \n     X( foo.kay() );\n-    if ( 0x7f != x ) return 1;\n+    if ( 0x7f != x ) abort ();\n \n     X( goo.kay() );\n-    if ( 0xff != x ) return 1;\n+    if ( 0xff != x ) abort ();\n \n     X( xoo[0].kay() );\n     X( xoo[1].kay() );\n     X( xoo[2].kay() );\n     X( zoo[0].kay() );\n     X( zoo[1].kay() );\n     X( zoo[2].kay() );\n-    if ( 0x3fff != x ) return 1;\n+    if ( 0x3fff != x ) abort ();\n \n     X( doo[0].kay() );\n     X( doo[1].kay() );\n     X( doo[2].kay() );\n     X( hoo[0].kay() );\n     X( hoo[1].kay() );\n     X( hoo[2].kay() );\n-    if ( 0xfffff != x ) return 1;\n+    if ( 0xfffff != x ) abort ();\n \n-    return 0;\n+    exit (0);\n }", "previous_filename": "gcc/testsuite/g++.old-deja/g++.ext/initp1.C"}]}