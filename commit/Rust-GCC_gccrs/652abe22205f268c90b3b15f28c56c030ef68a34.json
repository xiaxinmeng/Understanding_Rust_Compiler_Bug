{"sha": "652abe22205f268c90b3b15f28c56c030ef68a34", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUyYWJlMjIyMDVmMjY4YzkwYjNiMTVmMjhjNTZjMDMwZWY2OGEzNA==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2021-05-12T01:07:19Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2021-06-30T00:44:12Z"}, "message": "aix: align text CSECTs to at least 32 bytes.\n\ngcc/ChangeLog:\n\n\t* config/rs6000/rs6000.c (rs6000_xcoff_section_type_flags):\n\tIncrease code CSECT alignment to at least 32 bytes.\n\t* config/rs6000/xcoff.h (TEXT_SECTION_ASM_OP): Add 32 byte\n\talignment designation.", "tree": {"sha": "7e0cdf18eb85947a73d25a84b36df43c42792ffc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e0cdf18eb85947a73d25a84b36df43c42792ffc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/652abe22205f268c90b3b15f28c56c030ef68a34", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/652abe22205f268c90b3b15f28c56c030ef68a34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/652abe22205f268c90b3b15f28c56c030ef68a34", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/652abe22205f268c90b3b15f28c56c030ef68a34/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6bc18203dd2a696cdfcd9d45eae3b9cce7b08822", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bc18203dd2a696cdfcd9d45eae3b9cce7b08822", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bc18203dd2a696cdfcd9d45eae3b9cce7b08822"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "075c156ae13c2513fd2d14834f5a349a4edda029", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/652abe22205f268c90b3b15f28c56c030ef68a34/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/652abe22205f268c90b3b15f28c56c030ef68a34/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=652abe22205f268c90b3b15f28c56c030ef68a34", "patch": "@@ -1,3 +1,4 @@\n+// SPDX-License-Identifier: GPL-3.0-or-later\n /* Subroutines used for code generation on IBM RS/6000.\n    Copyright (C) 1991-2021 Free Software Foundation, Inc.\n    Contributed by Richard Kenner (kenner@vlsi1.ultra.nyu.edu)\n@@ -21361,8 +21362,11 @@ rs6000_xcoff_section_type_flags (tree decl, const char *name, int reloc)\n     flags |= SECTION_BSS;\n \n   /* Align to at least UNIT size.  */\n-  if ((flags & SECTION_CODE) != 0 || !decl || !DECL_P (decl))\n+  if (!decl || !DECL_P (decl))\n     align = MIN_UNITS_PER_WORD;\n+  /* Align code CSECT to at least 32 bytes.  */\n+  else if ((flags & SECTION_CODE) != 0)\n+    align = MAX ((DECL_ALIGN (decl) / BITS_PER_UNIT), 32);\n   else\n     /* Increase alignment of large objects if not already stricter.  */\n     align = MAX ((DECL_ALIGN (decl) / BITS_PER_UNIT),"}, {"sha": "f3546fadf3390af433dc909dbce1323dcd89d6a9", "filename": "gcc/config/rs6000/xcoff.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/652abe22205f268c90b3b15f28c56c030ef68a34/gcc%2Fconfig%2Frs6000%2Fxcoff.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/652abe22205f268c90b3b15f28c56c030ef68a34/gcc%2Fconfig%2Frs6000%2Fxcoff.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fxcoff.h?ref=652abe22205f268c90b3b15f28c56c030ef68a34", "patch": "@@ -1,3 +1,4 @@\n+// SPDX-License-Identifier: GPL-3.0-or-later\n /* Definitions of target machine for GNU compiler,\n    for some generic XCOFF file format\n    Copyright (C) 2001-2021 Free Software Foundation, Inc.\n@@ -249,7 +250,7 @@\n #define DOUBLE_INT_ASM_OP \"\\t.llong\\t\"\n \n /* Output before instructions.  */\n-#define TEXT_SECTION_ASM_OP \"\\t.csect .text[PR]\"\n+#define TEXT_SECTION_ASM_OP \"\\t.csect .text[PR],5\"\n \n /* Output before writable data.  */\n #define DATA_SECTION_ASM_OP \\"}]}