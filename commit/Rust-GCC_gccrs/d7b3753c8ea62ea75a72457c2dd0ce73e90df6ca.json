{"sha": "d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdiMzc1M2M4ZWE2MmVhNzVhNzI0NTdjMmRkMGNlNzNlOTBkZjZjYQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-10-29T21:47:33Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-10-29T21:47:33Z"}, "message": "* decl.c (lookup_name_real): OK, only warn if not lexing.\n\nFrom-SVN: r23438", "tree": {"sha": "a97e66116d6440e5d248184926a1d3976dbc042f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a97e66116d6440e5d248184926a1d3976dbc042f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca/comments", "author": null, "committer": null, "parents": [{"sha": "afcfe58c3860cc80d80c82de080afc1711d8beed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afcfe58c3860cc80d80c82de080afc1711d8beed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afcfe58c3860cc80d80c82de080afc1711d8beed"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "122977e282a4a0e4efb2a8d99e60fe21b24268df", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca", "patch": "@@ -1,5 +1,7 @@\n 1998-10-29  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* decl.c (lookup_name_real): OK, only warn if not lexing.\n+\n \t* cp-tree.h (IDENTIFIER_MARKED): New macro.\n \t* search.c (lookup_conversions): Use breadth_first_search.\n \t(add_conversions): Avoid adding two conversions to the same type."}, {"sha": "ff1dc1b39f7fb36ded0f16aad224b24a9f505afe", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=d7b3753c8ea62ea75a72457c2dd0ce73e90df6ca", "patch": "@@ -5233,10 +5233,10 @@ lookup_name_real (name, prefer_type, nonclass, namespaces_only)\n \n \t  val = locval;\n \n-\t  /* To avoid redundant warnings, only warn when lexing, and the\n-\t     decls are significantly different.  */\n+\t  /* Only warn when not lexing; we don't want to warn if they\n+\t     use this name as a declarator.  */\n \t  subtype = TREE_TYPE (TREE_TYPE (classval));\n-\t  if (yylex\n+\t  if (! yylex\n \t      && ! (TREE_CODE (locval) == TEMPLATE_DECL\n \t\t    && CLASSTYPE_TEMPLATE_INFO (subtype)\n \t\t    && CLASSTYPE_TI_TEMPLATE (subtype) == locval)"}]}