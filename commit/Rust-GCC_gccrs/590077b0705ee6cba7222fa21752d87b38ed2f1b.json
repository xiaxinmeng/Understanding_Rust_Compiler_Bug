{"sha": "590077b0705ee6cba7222fa21752d87b38ed2f1b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTkwMDc3YjA3MDVlZTZjYmE3MjIyZmEyMTc1MmQ4N2IzOGVkMmYxYg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-11-19T01:04:15Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-11-19T01:04:15Z"}, "message": "verify.cc (_Jv_BytecodeVerifier::get_ushort): Use `jint' for temporary values.\n\n\t* verify.cc (_Jv_BytecodeVerifier::get_ushort): Use `jint' for\n\ttemporary values.\n\t(_Jv_BytecodeVerifier::get_short): Likewise.\n\t(_Jv_BytecodeVerifier::get_int): Likewise.\n\t(_Jv_BytecodeVerifier::check_return_type): Reverse ordering of\n\t`compatible' call.\n\nFrom-SVN: r47161", "tree": {"sha": "d1960b38cca3ffbcd273190bc8285e3067560342", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1960b38cca3ffbcd273190bc8285e3067560342"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/590077b0705ee6cba7222fa21752d87b38ed2f1b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/590077b0705ee6cba7222fa21752d87b38ed2f1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/590077b0705ee6cba7222fa21752d87b38ed2f1b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/590077b0705ee6cba7222fa21752d87b38ed2f1b/comments", "author": null, "committer": null, "parents": [{"sha": "e7b35eec24998f295038354a424ca8b6a2ce808b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7b35eec24998f295038354a424ca8b6a2ce808b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7b35eec24998f295038354a424ca8b6a2ce808b"}], "stats": {"total": 27, "additions": 17, "deletions": 10}, "files": [{"sha": "d52d3228002a539086109d4317faff8010199b1d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/590077b0705ee6cba7222fa21752d87b38ed2f1b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/590077b0705ee6cba7222fa21752d87b38ed2f1b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=590077b0705ee6cba7222fa21752d87b38ed2f1b", "patch": "@@ -1,5 +1,12 @@\n 2001-11-18  Tom Tromey  <tromey@redhat.com>\n \n+\t* verify.cc (_Jv_BytecodeVerifier::get_ushort): Use `jint' for\n+\ttemporary values.\n+\t(_Jv_BytecodeVerifier::get_short): Likewise.\n+\t(_Jv_BytecodeVerifier::get_int): Likewise.\n+\t(_Jv_BytecodeVerifier::check_return_type): Reverse ordering of\n+\t`compatible' call.\n+\n \t* verify.cc (_Jv_BytecodeVerifier::pop_type): Put PC into error\n \tmessage.\n \t(_Jv_BytecodeVerifier::pop64): Likewise."}, {"sha": "cc1c5c4fb3dca8d8bd4bd2f725d130bdae60b34a", "filename": "libjava/verify.cc", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/590077b0705ee6cba7222fa21752d87b38ed2f1b/libjava%2Fverify.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/590077b0705ee6cba7222fa21752d87b38ed2f1b/libjava%2Fverify.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fverify.cc?ref=590077b0705ee6cba7222fa21752d87b38ed2f1b", "patch": "@@ -946,25 +946,25 @@ class _Jv_BytecodeVerifier\n \n   jint get_ushort ()\n   {\n-    jbyte b1 = get_byte ();\n-    jbyte b2 = get_byte ();\n+    jint b1 = get_byte ();\n+    jint b2 = get_byte ();\n     return (jint) ((b1 << 8) | b2) & 0xffff;\n   }\n \n   jint get_short ()\n   {\n-    jbyte b1 = get_byte ();\n-    jbyte b2 = get_byte ();\n+    jint b1 = get_byte ();\n+    jint b2 = get_byte ();\n     jshort s = (b1 << 8) | b2;\n     return (jint) s;\n   }\n \n   jint get_int ()\n   {\n-    jbyte b1 = get_byte ();\n-    jbyte b2 = get_byte ();\n-    jbyte b3 = get_byte ();\n-    jbyte b4 = get_byte ();\n+    jint b1 = get_byte ();\n+    jint b2 = get_byte ();\n+    jint b3 = get_byte ();\n+    jint b4 = get_byte ();\n     return (b1 << 24) | (b2 << 16) | (b3 << 8) | b4;\n   }\n \n@@ -1644,10 +1644,10 @@ class _Jv_BytecodeVerifier\n     return get_one_type (p);\n   }\n \n-  void check_return_type (type expected)\n+  void check_return_type (type onstack)\n   {\n     type rt = compute_return_type (current_method->self->signature);\n-    if (! expected.compatible (rt))\n+    if (! rt.compatible (onstack))\n       verify_fail (\"incompatible return type\", start_PC);\n   }\n "}]}