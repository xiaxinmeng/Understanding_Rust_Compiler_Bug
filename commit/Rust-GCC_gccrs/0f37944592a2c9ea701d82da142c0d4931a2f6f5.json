{"sha": "0f37944592a2c9ea701d82da142c0d4931a2f6f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGYzNzk0NDU5MmEyYzllYTcwMWQ4MmRhMTQyYzBkNDkzMWEyZjZmNQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-12-08T18:56:21Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-12-08T18:56:21Z"}, "message": "Make jit/notes.txt better reflect current status quo\n\ngcc/jit/ChangeLog:\n\t* notes.txt: Show the beginning and ending of\n\trecording::context::compile vs playback::context::compile.  Show\n\tthe creation and unlinking of the tempdir.  Show toplev::finalize.\n\tMove \"RELEASE MUTEX\" to the correct location.  Show\n\tgcc_jit_result_release, and indicate where the\n\tdlopen/dlsym/dlclose occur.\n\nFrom-SVN: r218488", "tree": {"sha": "0bb308ca66d1df145842feb5be0033e052b2c2bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0bb308ca66d1df145842feb5be0033e052b2c2bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f37944592a2c9ea701d82da142c0d4931a2f6f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f37944592a2c9ea701d82da142c0d4931a2f6f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f37944592a2c9ea701d82da142c0d4931a2f6f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f37944592a2c9ea701d82da142c0d4931a2f6f5/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b09e592eeefde7c1e9159d69358314308b3cb350", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b09e592eeefde7c1e9159d69358314308b3cb350", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b09e592eeefde7c1e9159d69358314308b3cb350"}], "stats": {"total": 47, "additions": 43, "deletions": 4}, "files": [{"sha": "a809566beb27e8f6f9136fff2023866337da4fbf", "filename": "gcc/jit/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f37944592a2c9ea701d82da142c0d4931a2f6f5/gcc%2Fjit%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f37944592a2c9ea701d82da142c0d4931a2f6f5/gcc%2Fjit%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2FChangeLog?ref=0f37944592a2c9ea701d82da142c0d4931a2f6f5", "patch": "@@ -1,3 +1,12 @@\n+2014-12-08  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* notes.txt: Show the beginning and ending of\n+\trecording::context::compile vs playback::context::compile.  Show\n+\tthe creation and unlinking of the tempdir.  Show toplev::finalize.\n+\tMove \"RELEASE MUTEX\" to the correct location.  Show\n+\tgcc_jit_result_release, and indicate where the\n+\tdlopen/dlsym/dlclose occur.\n+\n 2014-12-01  David Malcolm  <dmalcolm@redhat.com>\n \n \t* docs/examples/tut02-square.c (main): Release the context"}, {"sha": "12bb6d68c91f0306de38fb84c131995393357c9b", "filename": "gcc/jit/notes.txt", "status": "modified", "additions": 34, "deletions": 4, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f37944592a2c9ea701d82da142c0d4931a2f6f5/gcc%2Fjit%2Fnotes.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f37944592a2c9ea701d82da142c0d4931a2f6f5/gcc%2Fjit%2Fnotes.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2Fnotes.txt?ref=0f37944592a2c9ea701d82da142c0d4931a2f6f5", "patch": "@@ -18,9 +18,13 @@ Client Code   . Generated .            libgccjit.so\n    \u2502          .           .          .               .\n    V          .           .  gcc_jit_context_compile .\n     \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>      .               .\n+              .           .    \u2502 start of recording::context::compile ()\n               .           .    \u2502     .               .\n               .           .    \u2502 ACQUIRE MUTEX       .\n               .           .    \u2502     .               .\n+              .           .    \u2502 start of playback::context::compile ()\n+              .           .    \u2502   (create tempdir)  .\n+              .           .    \u2502     .               .\n               .           .    V\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500> toplev::main (for now)\n               .           .          .               .       \u2502\n               .           .          .               .   (various code)\n@@ -65,13 +69,33 @@ Client Code   . Generated .            libgccjit.so\n               .           .          .               .   (the middle\u2500end and backend)\n               .           .          .               .       \u2193\n               .           .    <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 end of toplev::main\n-              .           .    \u2502 RELEASE MUTEX       .\n               .           .    \u2502     .               .\n-              .           .    \u2502 Convert assembler to DSO\n+              .           .    V\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500> toplev::finalize\n+              .           .          .               . \u2502   (purge internal state)\n+              .           .    <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 end of toplev::finalize\n+              .           .    \u2502     .               .\n+              .           .    \u2502 Convert assembler to DSO (\"fake.so\")\n+              .           .    \u2502     .               .\n+              .           .    \u2502 Load DSO (dlopen \"fake.so\")\n               .           .    \u2502     .               .\n-              .           .    \u2502 Load DSO            .\n+              .           .    \u2502 end of playback::context::compile ()\n+              .           .    \u2502     .               .\n+              .           .    \u2502 playback::context dtor\n+              .           .     \u2500\u2500>  .               .\n+              .           .       \u2502 Cleanup tempdir  .\n+              .           .       \u2502   (\"fake.so\" is unlinked from the\n+              .           .       \u2502    filesystem at this point)\n+              .           .    <\u2500\u2500   .               .\n+              .           .    \u2502     .               .\n+              .           .    \u2502 RELEASE MUTEX       .\n+              .           .    \u2502     .               .\n+              .           .    \u2502 end of recording::context::compile ()\n    <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      .               .\n    \u2502          .           .          .               .\n+   V          .           .  gcc_jit_result_get_code .\n+    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>      .               .\n+              .           .    \u2502 dlsym () within loaded DSO\n+   <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      .               .\n    Get (void*).           .          .               .\n    \u2502          .           .          .               .\n    \u2502 Call it  .           .          .               .\n@@ -80,5 +104,11 @@ Client Code   . Generated .            libgccjit.so\n               .    \u2502      .          .               .\n    <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500       .          .               .\n    \u2502          .           .          .               .\n+etc\u2502          .           .          .               .\n+   \u2502          .           .          .               .\n+   V          .           .  gcc_jit_result_release  .\n+    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>      .               .\n+              .           .    \u2502 dlclose () the loaded DSO\n+              .           .    \u2502    (code becomes uncallable)\n+   <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      .               .\n    \u2502          .           .          .               .\n-etc"}]}