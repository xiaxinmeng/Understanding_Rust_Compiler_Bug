{"sha": "5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ2NmQzZjE1MWVhYjgyYTM5ZmM4OWI2ZjBiOTczYjUyOWY2YjNjYg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-12-04T08:26:18Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-12-04T08:26:18Z"}, "message": "re PR tree-optimization/83238 ([graphite] ICE in graphite_can_represent_scev, at graphite-scop-detection.c:971)\n\n2017-12-04  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/83238\n\t* graphite-scop-detection.c (scop_detection::merge_sese): Make\n\tcode match comment, rejecting invalid SESE regions.\n\n\t* gcc.dg/graphite/pr83238.c: New testcase.\n\nFrom-SVN: r255375", "tree": {"sha": "cedb6d1ccfdc6069517ce5037708ed64e7b2c6fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cedb6d1ccfdc6069517ce5037708ed64e7b2c6fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b6ecbf313bff50f4f6d3ea645cddc0a9976eb623", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6ecbf313bff50f4f6d3ea645cddc0a9976eb623", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6ecbf313bff50f4f6d3ea645cddc0a9976eb623"}], "stats": {"total": 53, "additions": 51, "deletions": 2}, "files": [{"sha": "acde3e97806e73b948159bde92ce8ddfe6af4150", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "patch": "@@ -1,3 +1,9 @@\n+2017-12-04  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/83238\n+\t* graphite-scop-detection.c (scop_detection::merge_sese): Make\n+\tcode match comment, rejecting invalid SESE regions.\n+\n 2017-12-03  John David Anglin  <danglin@gcc.gnu.org>\n \n \t* config/pa/pa.c (pa_legitimate_address_p): For scaled indexing,"}, {"sha": "3d854a13e6f3aa22d262a18ef8808288581b443d", "filename": "gcc/graphite-scop-detection.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2Fgraphite-scop-detection.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2Fgraphite-scop-detection.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-scop-detection.c?ref=5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "patch": "@@ -570,8 +570,7 @@ scop_detection::merge_sese (sese_l first, sese_l second) const\n      which post-dominates dom, until it stabilizes.  Also, ENTRY->SRC and\n      EXIT->DEST should be in the same loop nest.  */\n   if (!dominated_by_p (CDI_DOMINATORS, pdom, dom)\n-      || loop_depth (entry->src->loop_father)\n-\t != loop_depth (exit->dest->loop_father))\n+      || entry->src->loop_father != exit->dest->loop_father)\n     return invalid_sese;\n \n   /* For now we just bail out when there is a loop exit in the region"}, {"sha": "d49bbe483c12ee9bef9523e1a401db1c5e8247bc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "patch": "@@ -1,3 +1,8 @@\n+2017-12-04  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/83238\n+\t* gcc.dg/graphite/pr83238.c: New testcase.\n+\n 2017-12-04  Tom de Vries  <tom@codesourcery.com>\n \n \t* gcc.dg/pr82875.c: Require effective target alloca."}, {"sha": "4b640f29a6a96528dfbf5fd288fe1871940d7410", "filename": "gcc/testsuite/gcc.dg/graphite/pr83238.c", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr83238.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d66d3f151eab82a39fc89b6f0b973b529f6b3cb/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr83238.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr83238.c?ref=5d66d3f151eab82a39fc89b6f0b973b529f6b3cb", "patch": "@@ -0,0 +1,39 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -floop-parallelize-all\" } */\n+\n+void\n+vw (int *dk, int zd, int jb)\n+{\n+  int sq;\n+  int *kv = &sq;\n+\n+  for (sq = 0; sq < 2; ++sq)\n+    {\n+      int u1;\n+\n+      for (u1 = 0; u1 < 5; ++u1)\n+\tif (zd == 0)\n+\t  return;\n+    }\n+\n+  for (;;)\n+    {\n+      ++zd;\n+      if (zd == 0)\n+\twhile (jb != 0)\n+\t  kv = &jb;\n+\n+      while (*dk < 1)\n+\t{\n+\t  for (jb = 0; jb < 2; ++jb)\n+\t    {\n+\t    }\n+\t  ++*dk;\n+\t}\n+\n+      for (*kv = 0; *kv < 2; ++*kv)\n+\tfor (*dk = 0; *dk < 2; ++*dk)\n+\t  {\n+\t  }\n+    }\n+}"}]}