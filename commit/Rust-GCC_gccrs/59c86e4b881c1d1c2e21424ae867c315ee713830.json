{"sha": "59c86e4b881c1d1c2e21424ae867c315ee713830", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTljODZlNGI4ODFjMWQxYzJlMjE0MjRhZTg2N2MzMTVlZTcxMzgzMA==", "commit": {"author": {"name": "Casey Marshall", "email": "csm@gnu.org", "date": "2004-09-26T14:47:41Z"}, "committer": {"name": "Mark Wielaard", "email": "mark@gcc.gnu.org", "date": "2004-09-26T14:47:41Z"}, "message": "2004-09-26  Casey Marshall <csm@gnu.org>\n\n       * java/security/ProtectionDomain.java\n       (<init>(CodeSource,PermissionCollection)): set `staticBinding' to\n       `true'.\n\n       * java/security/SecureClassLoader.java\n       (defineClass): make protection domain dynamically bound.\n       (getPermissions): call `getCurrentPolicy' to avoid permission\n       check.\n\nFrom-SVN: r88127", "tree": {"sha": "b6c8528bb35a8c4e6f3a421c0d9439e0b38db0d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b6c8528bb35a8c4e6f3a421c0d9439e0b38db0d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59c86e4b881c1d1c2e21424ae867c315ee713830", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59c86e4b881c1d1c2e21424ae867c315ee713830", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59c86e4b881c1d1c2e21424ae867c315ee713830", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59c86e4b881c1d1c2e21424ae867c315ee713830/comments", "author": null, "committer": null, "parents": [{"sha": "68629d160ec6986d2eb65284c3ab7290a0e83c4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68629d160ec6986d2eb65284c3ab7290a0e83c4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68629d160ec6986d2eb65284c3ab7290a0e83c4c"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "b2c70bcf158ef657a8de3ca1a1c13e1f62e7311a", "filename": "libjava/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59c86e4b881c1d1c2e21424ae867c315ee713830/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59c86e4b881c1d1c2e21424ae867c315ee713830/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=59c86e4b881c1d1c2e21424ae867c315ee713830", "patch": "@@ -1,3 +1,14 @@\n+2004-09-26  Casey Marshall <csm@gnu.org>\n+\n+\t* java/security/ProtectionDomain.java\n+\t(<init>(CodeSource,PermissionCollection)): set `staticBinding' to\n+\t`true'.\n+\n+\t* java/security/SecureClassLoader.java\n+\t(defineClass): make protection domain dynamically bound.\n+\t(getPermissions): call `getCurrentPolicy' to avoid permission\n+\tcheck.\n+\n 2004-09-25  Mark Wielaard  <mark@klomp.org>\n \n \t* Makefile.am (core_java_source_files): Add VMTimeZone.java."}, {"sha": "d0768b3a4376c951c882df1d221eae54cd0da69d", "filename": "libjava/java/security/ProtectionDomain.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59c86e4b881c1d1c2e21424ae867c315ee713830/libjava%2Fjava%2Fsecurity%2FProtectionDomain.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59c86e4b881c1d1c2e21424ae867c315ee713830/libjava%2Fjava%2Fsecurity%2FProtectionDomain.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fsecurity%2FProtectionDomain.java?ref=59c86e4b881c1d1c2e21424ae867c315ee713830", "patch": "@@ -83,7 +83,7 @@\n    */\n   public ProtectionDomain(CodeSource codesource, PermissionCollection permissions)\n   {\n-    this(codesource, permissions, null, null, false);\n+    this(codesource, permissions, null, null, true);\n   }\n \n   /**"}, {"sha": "7546edc85e5f55f5a07436a73cbe4193633918b9", "filename": "libjava/java/security/SecureClassLoader.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59c86e4b881c1d1c2e21424ae867c315ee713830/libjava%2Fjava%2Fsecurity%2FSecureClassLoader.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59c86e4b881c1d1c2e21424ae867c315ee713830/libjava%2Fjava%2Fsecurity%2FSecureClassLoader.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fsecurity%2FSecureClassLoader.java?ref=59c86e4b881c1d1c2e21424ae867c315ee713830", "patch": "@@ -84,7 +84,7 @@ protected final Class defineClass(String name, byte[] b, int off, int len,\n     if (cs != null)\n       {\n \tProtectionDomain protectionDomain\n-\t\t= new ProtectionDomain(cs, getPermissions(cs));\n+          = new ProtectionDomain(cs, getPermissions(cs), this, null);\n \treturn super.defineClass(name, b, off, len, protectionDomain);\n       } \n     else\n@@ -102,7 +102,7 @@ protected final Class defineClass(String name, byte[] b, int off, int len,\n    */\n   protected PermissionCollection getPermissions(CodeSource cs)\n   {\n-    Policy policy = Policy.getPolicy();\n+    Policy policy = Policy.getCurrentPolicy();\n     return policy.getPermissions(cs);\n   }\n }"}]}