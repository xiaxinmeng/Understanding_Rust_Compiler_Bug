{"sha": "7eea5554ce33c1031a635d538695de0de1e5d97b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2VlYTU1NTRjZTMzYzEwMzFhNjM1ZDUzODY5NWRlMGRlMWU1ZDk3Yg==", "commit": {"author": {"name": "Neil Booth", "email": "neilb@earthling.net", "date": "2000-09-19T21:41:26Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2000-09-19T21:41:26Z"}, "message": "cpplex.c (lex_line): Drop the EOF token for unknown directives in assembler.\n\n\t* cpplex.c (lex_line): Drop the EOF token for unknown\n\tdirectives in assembler.\n\nFrom-SVN: r36545", "tree": {"sha": "d0d0c442763c0e8b486994a7f2b3e1ea577052bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0d0c442763c0e8b486994a7f2b3e1ea577052bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7eea5554ce33c1031a635d538695de0de1e5d97b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eea5554ce33c1031a635d538695de0de1e5d97b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eea5554ce33c1031a635d538695de0de1e5d97b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eea5554ce33c1031a635d538695de0de1e5d97b/comments", "author": null, "committer": null, "parents": [{"sha": "c2f099e7fa6789eacddac3f8755447479db828d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2f099e7fa6789eacddac3f8755447479db828d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2f099e7fa6789eacddac3f8755447479db828d5"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "c18716e626d792d2f8e875cf97039fbf212b7740", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7eea5554ce33c1031a635d538695de0de1e5d97b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7eea5554ce33c1031a635d538695de0de1e5d97b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7eea5554ce33c1031a635d538695de0de1e5d97b", "patch": "@@ -1,3 +1,8 @@\n+Tue 19-Sep-2000 22:38:57 BST  Neil Booth  <NeilB@earthling.net>\n+\n+\t* cpplex.c (lex_line): Drop the EOF token for unknown\n+\tdirectives in assembler.\n+\n 2000-09-19  David Edelsohn  <edelsohn@gnu.org>\n \n \t* configure.in: Allow enable_threads_flag value of \"aix\".  Define"}, {"sha": "c0bf875aaff06a9e713d66872803214388e198d4", "filename": "gcc/cpplex.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7eea5554ce33c1031a635d538695de0de1e5d97b/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7eea5554ce33c1031a635d538695de0de1e5d97b/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=7eea5554ce33c1031a635d538695de0de1e5d97b", "patch": "@@ -1669,11 +1669,6 @@ lex_line (pfile, list)\n   first->flags |= BOL;\n   pfile->first_directive_token = first;\n \n-  /* Drop the EOF unless really at EOF or in a directive.  */\n-  if (!(cur_token == first || pfile->state.in_directive\n-\t|| !pfile->done_initializing))\n-    list->tokens_used--;\n-\n   /* Don't complain about the null directive, nor directives in\n      assembly source: we don't know where the comments are, and # may\n      introduce assembler pseudo-ops.  Don't complain about invalid\n@@ -1697,6 +1692,11 @@ lex_line (pfile, list)\n       goto retry;\n     }\n \n+  /* Drop the EOF unless really at EOF or in a directive.  */\n+  if (cur_token != first && !KNOWN_DIRECTIVE (list)\n+      && pfile->done_initializing)\n+    list->tokens_used--;\n+\n   pfile->state.in_lex_line = 0;\n }\n "}]}