{"sha": "852d22b41a1467860f59d3aa900a8b9a96ed8be7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODUyZDIyYjQxYTE0Njc4NjBmNTlkM2FhOTAwYThiOWE5NmVkOGJlNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2008-11-10T16:52:50Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2008-11-10T16:52:50Z"}, "message": "calls.c (store_unaligned_arguments_into_pseudos): Deal only with values living in memory and use more precise alignment information.\n\n\t* calls.c (store_unaligned_arguments_into_pseudos): Deal only with\n\tvalues living in memory and use more precise alignment information.\n\nFrom-SVN: r141742", "tree": {"sha": "e3d180fb52be941078efe7fa4bcca0c71faa1a38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3d180fb52be941078efe7fa4bcca0c71faa1a38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/852d22b41a1467860f59d3aa900a8b9a96ed8be7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/852d22b41a1467860f59d3aa900a8b9a96ed8be7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/852d22b41a1467860f59d3aa900a8b9a96ed8be7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/852d22b41a1467860f59d3aa900a8b9a96ed8be7/comments", "author": null, "committer": null, "parents": [{"sha": "959f8cd7dac3ddd84c486ab0ab584513f2d150a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/959f8cd7dac3ddd84c486ab0ab584513f2d150a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/959f8cd7dac3ddd84c486ab0ab584513f2d150a6"}], "stats": {"total": 41, "additions": 40, "deletions": 1}, "files": [{"sha": "2d62c074b8793af4873bef0e282b862d19e0dfa6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=852d22b41a1467860f59d3aa900a8b9a96ed8be7", "patch": "@@ -1,3 +1,8 @@\n+2008-11-10  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* calls.c (store_unaligned_arguments_into_pseudos): Deal only with\n+\tvalues living in memory and use more precise alignment information.\n+\n 2008-11-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/35314"}, {"sha": "096dde4948c83c268ba6cb52050673efed7dfba9", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=852d22b41a1467860f59d3aa900a8b9a96ed8be7", "patch": "@@ -837,7 +837,8 @@ store_unaligned_arguments_into_pseudos (struct arg_data *args, int num_actuals)\n   for (i = 0; i < num_actuals; i++)\n     if (args[i].reg != 0 && ! args[i].pass_on_stack\n \t&& args[i].mode == BLKmode\n-\t&& (TYPE_ALIGN (TREE_TYPE (args[i].tree_value))\n+\t&& MEM_P (args[i].value)\n+\t&& (MEM_ALIGN (args[i].value)\n \t    < (unsigned int) MIN (BIGGEST_ALIGNMENT, BITS_PER_WORD)))\n       {\n \tint bytes = int_size_in_bytes (TREE_TYPE (args[i].tree_value));"}, {"sha": "48794e8fdbd93653e9cc9430de1e1bc103789112", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=852d22b41a1467860f59d3aa900a8b9a96ed8be7", "patch": "@@ -1,3 +1,7 @@\n+2008-11-10  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/pack11.adb: New test.\n+\n 2008-11-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/38021"}, {"sha": "479062b5fd5ee480febd3babfceca262f86f3182", "filename": "gcc/testsuite/gnat.dg/pack11.adb", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2Ftestsuite%2Fgnat.dg%2Fpack11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/852d22b41a1467860f59d3aa900a8b9a96ed8be7/gcc%2Ftestsuite%2Fgnat.dg%2Fpack11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fpack11.adb?ref=852d22b41a1467860f59d3aa900a8b9a96ed8be7", "patch": "@@ -0,0 +1,29 @@\n+-- { dg-do run }\n+-- { dg-options \"-gnatws\" }\n+\n+with System;\n+\n+procedure Pack11 is\n+\n+  type R1 is record\n+    A1, A2, A3 : System.Address;\n+  end record;\n+\n+  type R2 is record\n+    C : Character;\n+    R : R1;\n+  end record;\n+  pragma Pack (R2);\n+\n+  procedure Dummy (R : R1) is begin null; end;\n+\n+  procedure Init (X : R2) is\n+  begin\n+    Dummy (X.R);\n+  end;\n+\n+  My_R2 : R2;\n+\n+begin\n+  Init (My_R2);\n+end;"}]}