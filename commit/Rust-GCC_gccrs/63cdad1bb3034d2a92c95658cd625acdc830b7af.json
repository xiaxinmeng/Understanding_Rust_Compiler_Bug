{"sha": "63cdad1bb3034d2a92c95658cd625acdc830b7af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjNjZGFkMWJiMzAzNGQyYTkyYzk1NjU4Y2Q2MjVhY2RjODMwYjdhZg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2003-10-08T18:12:36Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2003-10-08T18:12:36Z"}, "message": "* mklibgcc.in: Don't hide undefined or typeless symbols.\n\nFrom-SVN: r72235", "tree": {"sha": "2e864eed6fb2ec8a086f03313746bc18f768555f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e864eed6fb2ec8a086f03313746bc18f768555f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63cdad1bb3034d2a92c95658cd625acdc830b7af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63cdad1bb3034d2a92c95658cd625acdc830b7af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63cdad1bb3034d2a92c95658cd625acdc830b7af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63cdad1bb3034d2a92c95658cd625acdc830b7af/comments", "author": null, "committer": null, "parents": [{"sha": "9ab81df26115cdf383adc130c78074aa48a45ae2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ab81df26115cdf383adc130c78074aa48a45ae2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ab81df26115cdf383adc130c78074aa48a45ae2"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "0f6d632bc61529754fd3eb041d171a1771d18b18", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63cdad1bb3034d2a92c95658cd625acdc830b7af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63cdad1bb3034d2a92c95658cd625acdc830b7af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=63cdad1bb3034d2a92c95658cd625acdc830b7af", "patch": "@@ -1,3 +1,7 @@\n+2003-10-08  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* mklibgcc.in: Don't hide undefined or typeless symbols.\n+\n 2003-10-08  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \tPR optimization/12142"}, {"sha": "28ea8532fa70cea20065a0e66772fa9d012bbde6", "filename": "gcc/mklibgcc.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63cdad1bb3034d2a92c95658cd625acdc830b7af/gcc%2Fmklibgcc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63cdad1bb3034d2a92c95658cd625acdc830b7af/gcc%2Fmklibgcc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmklibgcc.in?ref=63cdad1bb3034d2a92c95658cd625acdc830b7af", "patch": "@@ -347,7 +347,9 @@ EOF\n       # .oS objects will have all non-local symbol definitions .hidden\n       oS=`echo ${o} | sed s~${objext}'$~.oS~g'`\n       echo \"${oS}: stmp-dirs libgcc/${dir}/stacknote.s ${o}\"\n-      echo '\t( $(NM_FOR_TARGET) '${SHLIB_NM_FLAGS} ${o}' | $(AWK) '\\''NF == 3 { print \"\\t.hidden\", $$3 }'\\''; cat libgcc/${dir}/stacknote.s ) | $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) '${flags}' -r -nostdinc -nostdlib -o $@ '${o}' -xassembler -'\n+      # non-GNU nm emits three fields even for undefined and typeless symbols,\n+      # so explicitly omit them\n+      echo '\t( $(NM_FOR_TARGET) '${SHLIB_NM_FLAGS} ${o}' | $(AWK) '\\''NF == 3 && $$2 !~ /^[UN]$$/ { print \"\\t.hidden\", $$3 }'\\''; cat libgcc/${dir}/stacknote.s ) | $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) '${flags}' -r -nostdinc -nostdlib -o $@ '${o}' -xassembler -'\n       libgcc_a_objs=\"${libgcc_a_objs} ${oS}\"\n     done\n   fi"}]}