{"sha": "359cd11e36c75042c0daf24017b8c10a71f54dd0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU5Y2QxMWUzNmM3NTA0MmMwZGFmMjQwMTdiOGMxMGE3MWY1NGRkMA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2001-11-09T17:51:56Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-11-09T17:51:56Z"}, "message": "Makefile.in (.po.pox): Look both in srcdir and builddir for $(PACKAGE).pot.\n\n\t* Makefile.in (.po.pox): Look both in srcdir and builddir\n\tfor $(PACKAGE).pot.\n\t(po/$(PACKAGE).pot): Don't move-if-change the new potfile over\n\tto the source directory.\n\t* po/exgettext: Deposit new potfile in po subdir.\n\nFrom-SVN: r46884", "tree": {"sha": "677421f6037abba13396e0e5fc0c5100fcc7b648", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/677421f6037abba13396e0e5fc0c5100fcc7b648"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/359cd11e36c75042c0daf24017b8c10a71f54dd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/359cd11e36c75042c0daf24017b8c10a71f54dd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/359cd11e36c75042c0daf24017b8c10a71f54dd0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/359cd11e36c75042c0daf24017b8c10a71f54dd0/comments", "author": null, "committer": null, "parents": [{"sha": "8fbea508b1fb6be8eac773b5c3adbe1ea16b63d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fbea508b1fb6be8eac773b5c3adbe1ea16b63d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fbea508b1fb6be8eac773b5c3adbe1ea16b63d2"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "8581a299eca7c0bf09ed6833054c93c71d91351c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=359cd11e36c75042c0daf24017b8c10a71f54dd0", "patch": "@@ -1,3 +1,10 @@\n+2001-11-08  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.in (.po.pox): Look both in srcdir and builddir\n+\tfor $(PACKAGE).pot.\n+\t(po/$(PACKAGE).pot): Don't move-if-change the new potfile over\n+\tto the source directory.\n+\n 2001-11-09 Ben Elliston  <bje@redhat.com>\n \t   Michael Meissner  <meissner@redhat.com>\n            Andrew MacLeod  <amacleod@redhat.com>"}, {"sha": "f3caa0371071b1ad744c70b475b0d4d9e5e7b256", "filename": "gcc/Makefile.in", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=359cd11e36c75042c0daf24017b8c10a71f54dd0", "patch": "@@ -3379,9 +3379,13 @@ update-po: $(CATALOGS:.gmo=.pox)\n \n # The new .po has to be gone over by hand, so we deposit it into\n # build/po with a different extension.\n+# If build/po/$(PACKAGE).pot exists, use it (it was just created),\n+# else use the one in srcdir.\n .po.pox:\n \ttest -d po || mkdir po\n-\t$(MSGMERGE) $< $(srcdir)/po/$(PACKAGE).pot -o $@\n+\t$(MSGMERGE) $< `if test -f po/$(PACKAGE).pot; \\\n+\t\t\tthen echo po/$(PACKAGE).pot; \\\n+\t\t\telse echo $(srcdir)/po/$(PACKAGE).pot; fi` -o $@\n \n # This rule has to look for .gmo modules in both srcdir and\n # the cwd, and has to check that we actually have a catalog\n@@ -3408,11 +3412,10 @@ install-po:\n # relatively harmless since the .po files do not directly depend on it.\n # Note that exgettext has an awk script embedded in it which requires a\n # fairly modern (POSIX-compliant) awk.\n+# The .pot file is left in the build directory.\n $(PACKAGE).pot: po/$(PACKAGE).pot\n po/$(PACKAGE).pot: force\n \ttest -d po || mkdir po\n \t$(MAKE) po-generated\n \tAWK=$(AWK) $(SHELL) $(srcdir)/po/exgettext \\\n \t\t$(XGETTEXT) $(PACKAGE) $(srcdir)\n-\t$(SHELL) $(srcdir)/move-if-change $(PACKAGE).pot \\\n-\t\t$(srcdir)/po/$(PACKAGE).pot"}, {"sha": "aae815fe089869ff3a6216df33d32ef74bc9743e", "filename": "gcc/po/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2Fpo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2Fpo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2FChangeLog?ref=359cd11e36c75042c0daf24017b8c10a71f54dd0", "patch": "@@ -1,3 +1,7 @@\n+2001-11-08  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* exgettext: Deposit new potfile in po subdir.\n+\n 2001-10-31  Zack Weinberg  <zack@codesourcery.com>\n \n \t* EXCLUDES: New file."}, {"sha": "6b1073eff1d0e930a0d172f4c4b916a6de6071c7", "filename": "gcc/po/exgettext", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2Fpo%2Fexgettext", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/359cd11e36c75042c0daf24017b8c10a71f54dd0/gcc%2Fpo%2Fexgettext", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2Fexgettext?ref=359cd11e36c75042c0daf24017b8c10a71f54dd0", "patch": "@@ -153,4 +153,4 @@ END {\n echo \"running xgettext...\" >&2\n $xgettext --default-domain=$package --directory=$srcdir \\\n \t  --add-comments `cat $kopt` --files-from=$posr \\\n-\t  -o $package.pot\n+\t  -o po/$package.pot"}]}