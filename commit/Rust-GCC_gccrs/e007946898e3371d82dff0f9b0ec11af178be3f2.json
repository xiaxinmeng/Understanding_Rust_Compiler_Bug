{"sha": "e007946898e3371d82dff0f9b0ec11af178be3f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAwNzk0Njg5OGUzMzcxZDgyZGZmMGY5YjBlYzExYWYxNzhiZTNmMg==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2009-02-02T17:09:45Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2009-02-02T17:09:45Z"}, "message": "arm.md (arm_addsi3): Add r/r/k alternative.\n\n2009-02-02  Paul Brook  <paul@codesourcery.com>\n\n\tgcc/\n\t* config/arm/arm.md (arm_addsi3): Add r/r/k alternative.\n\nFrom-SVN: r143874", "tree": {"sha": "a190294fb128d69fe3712cd4ec1aa09dd33e7321", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a190294fb128d69fe3712cd4ec1aa09dd33e7321"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e007946898e3371d82dff0f9b0ec11af178be3f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e007946898e3371d82dff0f9b0ec11af178be3f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e007946898e3371d82dff0f9b0ec11af178be3f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e007946898e3371d82dff0f9b0ec11af178be3f2/comments", "author": null, "committer": null, "parents": [{"sha": "eca72963aad838236301cfed220a41f8b4fa6b60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eca72963aad838236301cfed220a41f8b4fa6b60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eca72963aad838236301cfed220a41f8b4fa6b60"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "8ed5b7fc92e3847a97a725065743ecbbbe23f6cf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e007946898e3371d82dff0f9b0ec11af178be3f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e007946898e3371d82dff0f9b0ec11af178be3f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e007946898e3371d82dff0f9b0ec11af178be3f2", "patch": "@@ -1,3 +1,7 @@\n+2009-02-02  Paul Brook  <paul@codesourcery.com>\n+\n+\t* config/arm/arm.md (arm_addsi3): Add r/r/k alternative.\n+\n 2009-02-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR inline-asm/39058"}, {"sha": "4eccd734b826a882e1abcc6a2816dc815d0bbf54", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e007946898e3371d82dff0f9b0ec11af178be3f2/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e007946898e3371d82dff0f9b0ec11af178be3f2/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=e007946898e3371d82dff0f9b0ec11af178be3f2", "patch": "@@ -605,14 +605,18 @@\n   \"\"\n )\n \n+;; The r/r/k alternative is required when reloading the address\n+;;  (plus (reg rN) (reg sp)) into (reg rN).  In this case reload will\n+;; put the duplicated register first, and not try the commutative version.\n (define_insn_and_split \"*arm_addsi3\"\n-  [(set (match_operand:SI          0 \"s_register_operand\" \"=r, !k,r, !k,r\")\n-\t(plus:SI (match_operand:SI 1 \"s_register_operand\" \"%rk,!k,rk,!k,rk\")\n-\t\t (match_operand:SI 2 \"reg_or_int_operand\" \"rI, rI,L, L,?n\")))]\n+  [(set (match_operand:SI          0 \"s_register_operand\" \"=r, !k, r,r, !k,r\")\n+\t(plus:SI (match_operand:SI 1 \"s_register_operand\" \"%rk,!k, r,rk,!k,rk\")\n+\t\t (match_operand:SI 2 \"reg_or_int_operand\" \"rI, rI,!k,L, L,?n\")))]\n   \"TARGET_32BIT\"\n   \"@\n    add%?\\\\t%0, %1, %2\n    add%?\\\\t%0, %1, %2\n+   add%?\\\\t%0, %2, %1\n    sub%?\\\\t%0, %1, #%n2\n    sub%?\\\\t%0, %1, #%n2\n    #\"\n@@ -627,7 +631,7 @@\n \t\t      operands[1], 0);\n   DONE;\n   \"\n-  [(set_attr \"length\" \"4,4,4,4,16\")\n+  [(set_attr \"length\" \"4,4,4,4,4,16\")\n    (set_attr \"predicable\" \"yes\")]\n )\n "}]}