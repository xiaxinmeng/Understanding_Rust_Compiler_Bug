{"sha": "d789184e741fa75916c104a333108d05c2534aba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc4OTE4NGU3NDFmYTc1OTE2YzEwNGEzMzMxMDhkMDVjMjUzNGFiYQ==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2008-09-04T05:57:10Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2008-09-04T05:57:10Z"}, "message": "configure.ac (--with-cloog-polylib): New.\n\n2008-09-03  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* configure.ac (--with-cloog-polylib): New.\n\t(--disable-cloog-version-check): New.\n\t(--disable-ppl-version-check): New.\n\t* configure: Re-generate.\n\nFrom-SVN: r139973", "tree": {"sha": "870b42fa7cd1f98f603bae7f05221ec6e22d92f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/870b42fa7cd1f98f603bae7f05221ec6e22d92f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d789184e741fa75916c104a333108d05c2534aba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d789184e741fa75916c104a333108d05c2534aba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d789184e741fa75916c104a333108d05c2534aba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d789184e741fa75916c104a333108d05c2534aba/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0da366c7378372ad8c433e1b06e7329e5dd7f58b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0da366c7378372ad8c433e1b06e7329e5dd7f58b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0da366c7378372ad8c433e1b06e7329e5dd7f58b"}], "stats": {"total": 235, "additions": 146, "deletions": 89}, "files": [{"sha": "ea03b415d8aa90979a8c6818ce683e49f4258305", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d789184e741fa75916c104a333108d05c2534aba/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d789184e741fa75916c104a333108d05c2534aba/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=d789184e741fa75916c104a333108d05c2534aba", "patch": "@@ -1,3 +1,10 @@\n+2008-09-03  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* configure.ac (--with-cloog-polylib): New.\n+\t(--disable-cloog-version-check): New.\n+\t(--disable-ppl-version-check): New.\n+\t* configure: Re-generate.\n+\n 2008-09-03  Richard Guenther  <rguenther@suse.de>\n \n \t* configure.ac: Always pass -DCLOOG_PPL_BACKEND to the"}, {"sha": "f5fe41a76dd966997b332a8b99ac2b0169c4e550", "filename": "configure", "status": "modified", "additions": 97, "deletions": 65, "changes": 162, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d789184e741fa75916c104a333108d05c2534aba/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d789184e741fa75916c104a333108d05c2534aba/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=d789184e741fa75916c104a333108d05c2534aba", "patch": "@@ -935,6 +935,8 @@ Optional Features:\n   --enable-gold           use gold instead of ld\n   --enable-libada         build libada directory\n   --enable-libssp         build libssp directory\n+  --disable-ppl-version-check    disable check for PPL version\n+  --disable-cloog-version-check  disable check for CLooG version\n   --enable-stage1-languages[=all]   choose additional languages to build during\n                           stage1.  Mostly useful for compiler development.\n   --enable-objc-gc        enable use of Boehm's garbage collector with the\n@@ -972,11 +974,12 @@ Optional Packages:\n                           plus --with-ppl-lib=PATH/lib\n   --with-ppl-include=PATH Specify directory for installed PPL include files\n   --with-ppl-lib=PATH     Specify the directory for the installed PPL library\n-  --with-cloog=PATH         Specify prefix directory for the installed CLOOG package\n+  --with-cloog=PATH       Specify prefix directory for the installed CLooG-PPL package\n                           Equivalent to --with-cloog-include=PATH/include\n                           plus --with-cloog-lib=PATH/lib\n-  --with-cloog-include=PATH Specify directory for installed CLOOG include files\n-  --with-cloog-lib=PATH     Specify the directory for the installed CLOOG library\n+  --with-cloog-include=PATH Specify directory for installed CLooG include files\n+  --with-cloog-lib=PATH   Specify the directory for the installed CLooG library\n+  --with-cloog-polylib=PATH Specify prefix directory for the installed CLooG-PolyLib package\n   --with-build-sysroot=SYSROOT\n                           use sysroot as the system root during the build\n   --with-debug-prefix-map='A=B C=D ...'\n@@ -4845,58 +4848,20 @@ if test \"x$with_ppl$with_ppl_include$with_ppl_lib\" = x && test -d ${srcdir}/ppl;\n   LIBS=\"$ppllibs $LIBS\"\n fi\n \n-# Flags needed for PPL\n-\n-\n-\n-\n-# Check for CLOOG\n-clooglibs=\n-clooginc=\n-\n-\n-# Check whether --with-cloog or --without-cloog was given.\n-if test \"${with_cloog+set}\" = set; then\n-  withval=\"$with_cloog\"\n-\n-fi;\n-\n-# Check whether --with-cloog_include or --without-cloog_include was given.\n-if test \"${with_cloog_include+set}\" = set; then\n-  withval=\"$with_cloog_include\"\n-\n-fi;\n-\n-# Check whether --with-cloog_lib or --without-cloog_lib was given.\n-if test \"${with_cloog_lib+set}\" = set; then\n-  withval=\"$with_cloog_lib\"\n-\n+# Check whether --enable-ppl-version-check or --disable-ppl-version-check was given.\n+if test \"${enable_ppl_version_check+set}\" = set; then\n+  enableval=\"$enable_ppl_version_check\"\n+  ENABLE_PPL_CHECK=$enableval\n+else\n+  ENABLE_PPL_CHECK=yes\n fi;\n \n-if test \"x$with_cloog\" != x; then\n-  clooglibs=\"-L$with_cloog/lib -lcloog\"\n-  clooginc=\"-I$with_cloog/include -DCLOOG_PPL_BACKEND \"\n-  LIBS=\"$clooglibs $LIBS\"\n-fi\n-if test \"x$with_cloog_include\" != x; then\n-  clooginc=\"-I$with_cloog_include -DCLOOG_PPL_BACKEND \"\n-fi\n-if test \"x$with_cloog_lib\" != x; then\n-  clooglibs=\"-L$with_cloog_lib -lcloog\"\n-  LIBS=\"$clooglibs $LIBS\"\n-fi\n-if test \"x$with_cloog$with_cloog_include$with_cloog_lib\" = x && test -d ${srcdir}/cloog; then\n-  clooglibs='-L$$r/$(HOST_SUBDIR)/cloog/.libs -L$$r/$(HOST_SUBDIR)/cloog/_libs -lcloog '\n-  clooginc='-I$$r/$(HOST_SUBDIR)/cloog/include -I$$s/cloog/include -DCLOOG_PPL_BACKEND '\n-  LIBS=\"$clooglibs $LIBS\"\n-fi\n-\n-saved_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\"$CFLAGS $pplinc $gmpinc\"\n-\n-echo \"$as_me:$LINENO: checking for version $ppl_major_version.$ppl_minor_version of PPL\" >&5\n+if test \"${ENABLE_PPL_CHECK}\" = \"yes\"; then\n+  saved_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS $pplinc $gmpinc\"\n+  echo \"$as_me:$LINENO: checking for version $ppl_major_version.$ppl_minor_version of PPL\" >&5\n echo $ECHO_N \"checking for version $ppl_major_version.$ppl_minor_version of PPL... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -4907,9 +4872,9 @@ int\n main ()\n {\n \n-#if PPL_VERSION_MAJOR != $ppl_major_version || PPL_VERSION_MINOR != $ppl_minor_version\n-choke me\n-#endif\n+  #if PPL_VERSION_MAJOR != $ppl_major_version || PPL_VERSION_MINOR != $ppl_minor_version\n+  choke me\n+  #endif\n \n   ;\n   return 0;\n@@ -4944,17 +4909,83 @@ else\n sed 's/^/| /' conftest.$ac_ext >&5\n \n echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6; clooglibs= ; clooginc=\n+echo \"${ECHO_T}no\" >&6; ppllibs= ; pplinc=\n fi\n rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-CFLAGS=\"$saved_CFLAGS\"\n+  CFLAGS=\"$saved_CFLAGS\"\n+fi\n+\n+# Flags needed for PPL\n+\n+\n \n-saved_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\"$CFLAGS $clooginc -DCLOOG_PPL_BACKEND $gmpinc $pplinc\"\n \n-echo \"$as_me:$LINENO: checking for correct version of CLooG\" >&5\n+# Check for CLOOG\n+clooglibs=\n+clooginc=\" -DCLOOG_PPL_BACKEND \"\n+\n+\n+# Check whether --with-cloog or --without-cloog was given.\n+if test \"${with_cloog+set}\" = set; then\n+  withval=\"$with_cloog\"\n+\n+fi;\n+\n+# Check whether --with-cloog_include or --without-cloog_include was given.\n+if test \"${with_cloog_include+set}\" = set; then\n+  withval=\"$with_cloog_include\"\n+\n+fi;\n+\n+# Check whether --with-cloog_lib or --without-cloog_lib was given.\n+if test \"${with_cloog_lib+set}\" = set; then\n+  withval=\"$with_cloog_lib\"\n+\n+fi;\n+\n+# Check whether --with-cloog-polylib or --without-cloog-polylib was given.\n+if test \"${with_cloog_polylib+set}\" = set; then\n+  withval=\"$with_cloog_polylib\"\n+\n+fi;\n+\n+if test \"x$with_cloog\" != x; then\n+  clooglibs=\"-L$with_cloog/lib -lcloog\"\n+  clooginc=\"-I$with_cloog/include -DCLOOG_PPL_BACKEND \"\n+  LIBS=\"$clooglibs $LIBS\"\n+fi\n+if test \"x$with_cloog_polylib\" != x; then\n+  clooglibs=\"-L$with_cloog/lib -lcloog\"\n+  clooginc=\"-I$with_cloog/include \"\n+  LIBS=\"$clooglibs $LIBS\"\n+fi\n+if test \"x$with_cloog_include\" != x; then\n+  clooginc=\"-I$with_cloog_include -DCLOOG_PPL_BACKEND \"\n+fi\n+if test \"x$with_cloog_lib\" != x; then\n+  clooglibs=\"-L$with_cloog_lib -lcloog\"\n+  LIBS=\"$clooglibs $LIBS\"\n+fi\n+if test \"x$with_cloog$with_cloog_include$with_cloog_lib\" = x && test -d ${srcdir}/cloog; then\n+  clooglibs='-L$$r/$(HOST_SUBDIR)/cloog/.libs -L$$r/$(HOST_SUBDIR)/cloog/_libs -lcloog '\n+  clooginc='-I$$r/$(HOST_SUBDIR)/cloog/include -I$$s/cloog/include -DCLOOG_PPL_BACKEND '\n+  LIBS=\"$clooglibs $LIBS\"\n+fi\n+\n+# Check whether --enable-cloog-version-check or --disable-cloog-version-check was given.\n+if test \"${enable_cloog_version_check+set}\" = set; then\n+  enableval=\"$enable_cloog_version_check\"\n+  ENABLE_CLOOG_CHECK=$enableval\n+else\n+  ENABLE_CLOOG_CHECK=yes\n+fi;\n+\n+if test \"${ENABLE_CLOOG_CHECK}\" = \"yes\"; then\n+  saved_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS $clooginc $gmpinc $pplinc\"\n+  echo \"$as_me:$LINENO: checking for correct version of CLooG\" >&5\n echo $ECHO_N \"checking for correct version of CLooG... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -4965,9 +4996,9 @@ int\n main ()\n {\n \n-#if CLOOG_VERSION_MAJOR != 0 || CLOOG_VERSION_MINOR != 15\n-choke me\n-#endif\n+  #if CLOOG_VERSION_MAJOR != 0 || CLOOG_VERSION_MINOR != 15\n+  choke me\n+  #endif\n \n   ;\n   return 0;\n@@ -5005,7 +5036,8 @@ echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6; clooglibs= ; clooginc=\n fi\n rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-CFLAGS=\"$saved_CFLAGS\"\n+  CFLAGS=\"$saved_CFLAGS\"\n+fi\n \n # Flags needed for CLOOG\n "}, {"sha": "b7e44617d545e8593a07fe8e70bf0b884f069255", "filename": "configure.ac", "status": "modified", "additions": 42, "deletions": 24, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d789184e741fa75916c104a333108d05c2534aba/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d789184e741fa75916c104a333108d05c2534aba/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=d789184e741fa75916c104a333108d05c2534aba", "patch": "@@ -1341,26 +1341,49 @@ if test \"x$with_ppl$with_ppl_include$with_ppl_lib\" = x && test -d ${srcdir}/ppl;\n   LIBS=\"$ppllibs $LIBS\"\n fi\n \n+AC_ARG_ENABLE(ppl-version-check,\n+[  --disable-ppl-version-check    disable check for PPL version],\n+ENABLE_PPL_CHECK=$enableval,\n+ENABLE_PPL_CHECK=yes)\n+\n+if test \"${ENABLE_PPL_CHECK}\" = \"yes\"; then\n+  saved_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS $pplinc $gmpinc\"\n+  AC_MSG_CHECKING([for version $ppl_major_version.$ppl_minor_version of PPL])\n+  AC_TRY_COMPILE([#include \"ppl_c.h\"],[\n+  #if PPL_VERSION_MAJOR != $ppl_major_version || PPL_VERSION_MINOR != $ppl_minor_version\n+  choke me\n+  #endif\n+  ], [AC_MSG_RESULT([yes])], [AC_MSG_RESULT([no]); ppllibs= ; pplinc= ])\n+  CFLAGS=\"$saved_CFLAGS\"\n+fi\n+\n # Flags needed for PPL\n AC_SUBST(ppllibs)\n AC_SUBST(pplinc)\n \n \n # Check for CLOOG\n clooglibs=\n-clooginc=\n+clooginc=\" -DCLOOG_PPL_BACKEND \"\n \n-AC_ARG_WITH(cloog, [  --with-cloog=PATH         Specify prefix directory for the installed CLOOG package\n+AC_ARG_WITH(cloog, [  --with-cloog=PATH       Specify prefix directory for the installed CLooG-PPL package\n                           Equivalent to --with-cloog-include=PATH/include\n                           plus --with-cloog-lib=PATH/lib])\n-AC_ARG_WITH(cloog_include, [  --with-cloog-include=PATH Specify directory for installed CLOOG include files])\n-AC_ARG_WITH(cloog_lib, [  --with-cloog-lib=PATH     Specify the directory for the installed CLOOG library])\n+AC_ARG_WITH(cloog_include, [  --with-cloog-include=PATH Specify directory for installed CLooG include files])\n+AC_ARG_WITH(cloog_lib, [  --with-cloog-lib=PATH   Specify the directory for the installed CLooG library])\n+AC_ARG_WITH(cloog-polylib, [  --with-cloog-polylib=PATH Specify prefix directory for the installed CLooG-PolyLib package])\n \n if test \"x$with_cloog\" != x; then\n   clooglibs=\"-L$with_cloog/lib -lcloog\"\n   clooginc=\"-I$with_cloog/include -DCLOOG_PPL_BACKEND \"\n   LIBS=\"$clooglibs $LIBS\"\n fi\n+if test \"x$with_cloog_polylib\" != x; then\n+  clooglibs=\"-L$with_cloog/lib -lcloog\"\n+  clooginc=\"-I$with_cloog/include \"\n+  LIBS=\"$clooglibs $LIBS\"\n+fi\n if test \"x$with_cloog_include\" != x; then\n   clooginc=\"-I$with_cloog_include -DCLOOG_PPL_BACKEND \"\n fi\n@@ -1374,27 +1397,22 @@ if test \"x$with_cloog$with_cloog_include$with_cloog_lib\" = x && test -d ${srcdir\n   LIBS=\"$clooglibs $LIBS\"\n fi\n \n-saved_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\"$CFLAGS $pplinc $gmpinc\"\n+AC_ARG_ENABLE(cloog-version-check,\n+[  --disable-cloog-version-check  disable check for CLooG version],\n+ENABLE_CLOOG_CHECK=$enableval,\n+ENABLE_CLOOG_CHECK=yes)\n \n-AC_MSG_CHECKING([for version $ppl_major_version.$ppl_minor_version of PPL])\n-AC_TRY_COMPILE([#include \"ppl_c.h\"],[\n-#if PPL_VERSION_MAJOR != $ppl_major_version || PPL_VERSION_MINOR != $ppl_minor_version\n-choke me\n-#endif\n-], [AC_MSG_RESULT([yes])], [AC_MSG_RESULT([no]); clooglibs= ; clooginc= ])\n-CFLAGS=\"$saved_CFLAGS\"\n-\n-saved_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\"$CFLAGS $clooginc -DCLOOG_PPL_BACKEND $gmpinc $pplinc\"\n-\n-AC_MSG_CHECKING([for correct version of CLooG])\n-AC_TRY_COMPILE([#include \"cloog/cloog.h\"],[\n-#if CLOOG_VERSION_MAJOR != 0 || CLOOG_VERSION_MINOR != 15\n-choke me\n-#endif\n-], [AC_MSG_RESULT([yes])], [AC_MSG_RESULT([no]); clooglibs= ; clooginc= ])\n-CFLAGS=\"$saved_CFLAGS\"\n+if test \"${ENABLE_CLOOG_CHECK}\" = \"yes\"; then\n+  saved_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS $clooginc $gmpinc $pplinc\"\n+  AC_MSG_CHECKING([for correct version of CLooG])\n+  AC_TRY_COMPILE([#include \"cloog/cloog.h\"],[\n+  #if CLOOG_VERSION_MAJOR != 0 || CLOOG_VERSION_MINOR != 15\n+  choke me\n+  #endif\n+  ], [AC_MSG_RESULT([yes])], [AC_MSG_RESULT([no]); clooglibs= ; clooginc= ])\n+  CFLAGS=\"$saved_CFLAGS\"\n+fi\n \n # Flags needed for CLOOG\n AC_SUBST(clooglibs)"}]}