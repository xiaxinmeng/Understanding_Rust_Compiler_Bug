{"sha": "ae5512dd4fbfb031cc967fc154a534863d4c05f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU1NTEyZGQ0ZmJmYjAzMWNjOTY3ZmMxNTRhNTM0ODYzZDRjMDVmNQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-06-08T14:47:26Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-06-08T14:47:26Z"}, "message": "opts.c (finish_options): x_flag_reorder_blocks_and_partition no longer requires x_flag_profile_use.\n\n\n\t* opts.c (finish_options): x_flag_reorder_blocks_and_partition no\n\tlonger requires x_flag_profile_use.\n\nFrom-SVN: r249019", "tree": {"sha": "b71e7c77cb1a38ba46577f3b0dfab90a8b39aad5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b71e7c77cb1a38ba46577f3b0dfab90a8b39aad5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae5512dd4fbfb031cc967fc154a534863d4c05f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae5512dd4fbfb031cc967fc154a534863d4c05f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae5512dd4fbfb031cc967fc154a534863d4c05f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae5512dd4fbfb031cc967fc154a534863d4c05f5/comments", "author": null, "committer": null, "parents": [{"sha": "853ed6bc10c6948ffd1d3c6730d78818375458e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/853ed6bc10c6948ffd1d3c6730d78818375458e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/853ed6bc10c6948ffd1d3c6730d78818375458e1"}], "stats": {"total": 15, "additions": 5, "deletions": 10}, "files": [{"sha": "8bff6313c910d5201089da55ce6464a15340247d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae5512dd4fbfb031cc967fc154a534863d4c05f5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae5512dd4fbfb031cc967fc154a534863d4c05f5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ae5512dd4fbfb031cc967fc154a534863d4c05f5", "patch": "@@ -1,3 +1,8 @@\n+2017-06-08  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* opts.c (finish_options): x_flag_reorder_blocks_and_partition no\n+\tlonger requires x_flag_profile_use.\n+\n 2017-06-08  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* cfgrtl.c (cfg_layout_initialize): Check crtl->has_bb_partition"}, {"sha": "ac409f404aa9319f3b3db550192c86d4329aa6d0", "filename": "gcc/opts.c", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae5512dd4fbfb031cc967fc154a534863d4c05f5/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae5512dd4fbfb031cc967fc154a534863d4c05f5/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=ae5512dd4fbfb031cc967fc154a534863d4c05f5", "patch": "@@ -863,16 +863,6 @@ finish_options (struct gcc_options *opts, struct gcc_options *opts_set,\n       opts->x_flag_reorder_blocks = 1;\n     }\n \n-  /* Disable -freorder-blocks-and-partition when -fprofile-use is not in\n-     effect. Function splitting was not actually being performed in that case,\n-     as probably_never_executed_bb_p does not distinguish any basic blocks as\n-     being cold vs hot when there is no profile data. Leaving it enabled,\n-     however, causes the assembly code generator to create (empty) cold\n-     sections and labels, leading to unnecessary size overhead.  */\n-  if (opts->x_flag_reorder_blocks_and_partition\n-      && !opts_set->x_flag_profile_use)\n-    opts->x_flag_reorder_blocks_and_partition = 0;\n-\n   if (opts->x_flag_reorder_blocks_and_partition\n       && !opts_set->x_flag_reorder_functions)\n     opts->x_flag_reorder_functions = 1;"}]}