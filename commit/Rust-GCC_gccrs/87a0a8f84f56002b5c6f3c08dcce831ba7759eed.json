{"sha": "87a0a8f84f56002b5c6f3c08dcce831ba7759eed", "node_id": "C_kwDOANBUbNoAKDg3YTBhOGY4NGY1NjAwMmI1YzZmM2MwOGRjY2U4MzFiYTc3NTllZWQ", "commit": {"author": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2023-03-28T09:15:41Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2023-03-29T21:16:30Z"}, "message": "docker: Do not run update-alternatives on invalid path\n\nWe do not need to set the system's compiler to `gccrs`, as we are mostly\ninterested in *having* gccrs - not necessarily using it as a C and C++\ncompiler as well.\n\nChangeLog:\n\n\t* Dockerfile: Remove update-alternatives invocation.\n\nCo-authored-by: Marc Poulhi\u00e8s <dkm@kataplop.net>", "tree": {"sha": "e4947d36519ef19ead01e69a07ac673162a29b66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4947d36519ef19ead01e69a07ac673162a29b66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87a0a8f84f56002b5c6f3c08dcce831ba7759eed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a0a8f84f56002b5c6f3c08dcce831ba7759eed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87a0a8f84f56002b5c6f3c08dcce831ba7759eed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a0a8f84f56002b5c6f3c08dcce831ba7759eed/comments", "author": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70b889b90ae982a2c0c6fe8596d9885d5dcc644f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70b889b90ae982a2c0c6fe8596d9885d5dcc644f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70b889b90ae982a2c0c6fe8596d9885d5dcc644f"}], "stats": {"total": 5, "additions": 0, "deletions": 5}, "files": [{"sha": "8e73f20f285da34adbee7321709cde7d17b1ce99", "filename": "Dockerfile", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a0a8f84f56002b5c6f3c08dcce831ba7759eed/Dockerfile", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a0a8f84f56002b5c6f3c08dcce831ba7759eed/Dockerfile", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Dockerfile?ref=87a0a8f84f56002b5c6f3c08dcce831ba7759eed", "patch": "@@ -64,11 +64,6 @@ RUN /bin/sh -c set -ex; \\\n     echo '/usr/local/lib64' > /etc/ld.so.conf.d/local-lib64.conf; \\\n     ldconfig -v\n \n-RUN /bin/sh -c set -ex; \\\n-    dpkg-divert --divert /usr/bin/gcc.orig --rename /usr/bin/gcc; \\\n-    dpkg-divert --divert /usr/bin/g++.orig --rename /usr/bin/g++; \\\n-    update-alternatives --install /usr/bin/cc cc /usr/local/bin/gcc 999\n-\n FROM rust:latest\n COPY --from=gcc-builder /usr/ /usr/\n COPY --from=gcc-builder /GCCRS_BUILD /GCCRS_BUILD"}]}