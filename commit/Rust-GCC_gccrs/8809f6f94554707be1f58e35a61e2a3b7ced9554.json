{"sha": "8809f6f94554707be1f58e35a61e2a3b7ced9554", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODgwOWY2Zjk0NTU0NzA3YmUxZjU4ZTM1YTYxZTJhM2I3Y2VkOTU1NA==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "coudert@clipper.ens.fr", "date": "2005-05-10T08:34:58Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2005-05-10T08:34:58Z"}, "message": "re PR libfortran/20788 (Loading libgfortran.so clobbers C redirection of stdin/stdout/stderr)\n\n\tPR libfortran/20788\n\tMissing entry from previous commit:\n\t* io/unix.c (fd_to_stream): Add an avoid_mmap argument indicating\n\twe don't we to mmap this stream. Use fd_open instead of mmap_open\n\tin that case.\n\t(open_external): Call fd_to_stream with avoid_mmap = 0.\n\t(input_stream): Call fd_to_stream with avoid_mmap = 1.\n\t(output_stream): Likewise.\n\t(error_stream): Likewise.\n\n\tReally committing:\n\t* io/read.c (read_f): Accept 'e', 'E', 'd' and 'D' as first\n\tnon-blank characters of a real number.\n\nFrom-SVN: r99508", "tree": {"sha": "af0abe5192ffbd06502c6cebf66a8794affacbd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af0abe5192ffbd06502c6cebf66a8794affacbd9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8809f6f94554707be1f58e35a61e2a3b7ced9554", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8809f6f94554707be1f58e35a61e2a3b7ced9554", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8809f6f94554707be1f58e35a61e2a3b7ced9554", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8809f6f94554707be1f58e35a61e2a3b7ced9554/comments", "author": null, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a9e266b0b78a36f39b9d1dcdadd52de84e68dac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a9e266b0b78a36f39b9d1dcdadd52de84e68dac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a9e266b0b78a36f39b9d1dcdadd52de84e68dac"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "496da2ec5333e88655b09b8e23ce702f90e042a0", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8809f6f94554707be1f58e35a61e2a3b7ced9554/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8809f6f94554707be1f58e35a61e2a3b7ced9554/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=8809f6f94554707be1f58e35a61e2a3b7ced9554", "patch": "@@ -1,3 +1,14 @@\n+2005-05-10  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\tPR libfortran/20788\n+\t* io/unix.c (fd_to_stream): Add an avoid_mmap argument indicating\n+\twe don't we to mmap this stream. Use fd_open instead of mmap_open\n+\tin that case.\n+\t(open_external): Call fd_to_stream with avoid_mmap = 0.\n+\t(input_stream): Call fd_to_stream with avoid_mmap = 1.\n+\t(output_stream): Likewise.\n+\t(error_stream): Likewise.\n+\n 2005-05-09  Mike Stump  <mrs@apple.com>\n \n \t* configure: Regenerate."}, {"sha": "1c8b3b0daa8d6b6ae3a34a09505c1fd77a9f13cb", "filename": "libgfortran/io/read.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8809f6f94554707be1f58e35a61e2a3b7ced9554/libgfortran%2Fio%2Fread.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8809f6f94554707be1f58e35a61e2a3b7ced9554/libgfortran%2Fio%2Fread.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fread.c?ref=8809f6f94554707be1f58e35a61e2a3b7ced9554", "patch": "@@ -536,9 +536,11 @@ read_f (fnode * f, char *dest, int length)\n \n   exponent_sign = 1;\n \n-  /* A digit (or a '.') is required at this point */\n+  /* A digit, a '.' or a exponent character ('e', 'E', 'd' or 'D')\n+     is required at this point */\n \n-  if (!isdigit (*p) && *p != '.')\n+  if (!isdigit (*p) && *p != '.' && *p != 'd' && *p != 'D'\n+      && *p != 'e' && *p != 'E')\n     goto bad_float;\n \n   /* Remember the position of the first digit.  */"}]}