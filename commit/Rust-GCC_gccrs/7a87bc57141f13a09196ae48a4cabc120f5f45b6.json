{"sha": "7a87bc57141f13a09196ae48a4cabc120f5f45b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E4N2JjNTcxNDFmMTNhMDkxOTZhZTQ4YTRjYWJjMTIwZjVmNDViNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-13T07:34:25Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-13T07:34:25Z"}, "message": "(ffssi2, ffshi2): Assume bsf produces garbage if input is 0.\n\n(ffssi2, ffshi2): Assume bsf produces\ngarbage if input is 0.  Use jumps to load output in that case.\n\nFrom-SVN: r4911", "tree": {"sha": "5c8c31f61d9e4689ede8625d6bb712d3446952c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c8c31f61d9e4689ede8625d6bb712d3446952c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a87bc57141f13a09196ae48a4cabc120f5f45b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a87bc57141f13a09196ae48a4cabc120f5f45b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a87bc57141f13a09196ae48a4cabc120f5f45b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a87bc57141f13a09196ae48a4cabc120f5f45b6/comments", "author": null, "committer": null, "parents": [{"sha": "da3c61151d5e85eb4723f3e8f5a2ed1c33e56ea6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da3c61151d5e85eb4723f3e8f5a2ed1c33e56ea6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da3c61151d5e85eb4723f3e8f5a2ed1c33e56ea6"}], "stats": {"total": 25, "additions": 17, "deletions": 8}, "files": [{"sha": "983f49734f8961f0ff0e4e606bd5d784f50f40d0", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 17, "deletions": 8, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a87bc57141f13a09196ae48a4cabc120f5f45b6/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a87bc57141f13a09196ae48a4cabc120f5f45b6/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=7a87bc57141f13a09196ae48a4cabc120f5f45b6", "patch": "@@ -4460,12 +4460,17 @@\n   \"\"\n   \"*\n {\n-  rtx xops[2];\n+  rtx xops[3];\n \n   xops[0] = operands[0];\n-  xops[1] = constm1_rtx;\n-  output_asm_insn (AS2 (mov%L0,%1,%0), xops);\n-  return AS2 (bsf%L0,%1,%0);\n+  xops[1] = operands[1];\n+  xops[2] = constm1_rtx;\n+  /* Can there be a way to avoid the jump here?  */\n+  output_asm_insn (AS2 (bsf%L0,%1,%0), xops);\n+  output_asm_insn (\\\"jnz 1f\\\", xops);\n+  output_asm_insn (AS2 (mov%L0,%2,%0), xops);\n+  output_asm_insn (\\\"1:\\\", xops);\n+  return \\\"\\\";\n }\")\n \n (define_expand \"ffshi2\"\n@@ -4484,12 +4489,16 @@\n   \"\"\n   \"*\n {\n-  rtx xops[2];\n+  rtx xops[3];\n \n   xops[0] = operands[0];\n-  xops[1] = constm1_rtx;\n-  output_asm_insn (AS2 (mov%W0,%1,%0), xops);\n-  return AS2 (bsf%W0,%1,%0);\n+  xops[1] = operands[1];\n+  xops[2] = constm1_rtx;\n+  output_asm_insn (AS2 (bsf%W0,%1,%0), xops);\n+  output_asm_insn (\\\"jnz 1f\\\", xops);\n+  output_asm_insn (AS2 (mov%W0,%2,%0), xops);\n+  output_asm_insn (\\\"1:\\\", xops);\n+  return \\\"\\\";\n }\")\n \f\n ;; These patterns match the binary 387 instructions for addM3, subM3,"}]}