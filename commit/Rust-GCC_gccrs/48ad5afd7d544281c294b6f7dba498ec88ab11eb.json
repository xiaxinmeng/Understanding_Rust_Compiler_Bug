{"sha": "48ad5afd7d544281c294b6f7dba498ec88ab11eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDhhZDVhZmQ3ZDU0NDI4MWMyOTRiNmY3ZGJhNDk4ZWM4OGFiMTFlYg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-10-13T11:50:20Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-10-13T11:50:20Z"}, "message": "iris6.h (ASM_OUTPUT_WEAK_ALIAS): Call ASM_GLOBALIZE_LABEL.\n\n\t* mips/iris6.h (ASM_OUTPUT_WEAK_ALIAS): Call ASM_GLOBALIZE_LABEL.\n\t* varasm.c (assemble_start_function et al): Don't call\n\tASM_GLOBALIZE_LABEL for weak symbols.\n\nFrom-SVN: r23051", "tree": {"sha": "ad6585dad7a4d43a3a4bc3db45e990324c092a5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad6585dad7a4d43a3a4bc3db45e990324c092a5c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48ad5afd7d544281c294b6f7dba498ec88ab11eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48ad5afd7d544281c294b6f7dba498ec88ab11eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48ad5afd7d544281c294b6f7dba498ec88ab11eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48ad5afd7d544281c294b6f7dba498ec88ab11eb/comments", "author": null, "committer": null, "parents": [{"sha": "0a65887a3817cedf471aa17c7ae25ac7996abac1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a65887a3817cedf471aa17c7ae25ac7996abac1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a65887a3817cedf471aa17c7ae25ac7996abac1"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "0adf8876dec027e1856a3925c14547ae5c7f3fd9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48ad5afd7d544281c294b6f7dba498ec88ab11eb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48ad5afd7d544281c294b6f7dba498ec88ab11eb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=48ad5afd7d544281c294b6f7dba498ec88ab11eb", "patch": "@@ -1,3 +1,9 @@\n+Tue Oct 13 11:49:14 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* mips/iris6.h (ASM_OUTPUT_WEAK_ALIAS): Call ASM_GLOBALIZE_LABEL.\n+\t* varasm.c (assemble_start_function et al): Don't call\n+\tASM_GLOBALIZE_LABEL for weak symbols.\n+\n Tue Oct 13 11:37:45 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* cse.c (equiv_constant): Check for NULL return from"}, {"sha": "005901323f9d48a535c31651aaea3d1300e57056", "filename": "gcc/config/mips/iris6.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48ad5afd7d544281c294b6f7dba498ec88ab11eb/gcc%2Fconfig%2Fmips%2Firis6.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48ad5afd7d544281c294b6f7dba498ec88ab11eb/gcc%2Fconfig%2Fmips%2Firis6.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6.h?ref=48ad5afd7d544281c294b6f7dba498ec88ab11eb", "patch": "@@ -187,6 +187,7 @@ Boston, MA 02111-1307, USA.  */\n \n #define ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,VALUE)\t\\\n  do {\t\t\t\t\t\t\\\n+  ASM_GLOBALIZE_LABEL (FILE, NAME);\t\t\\\n   fputs (\"\\t.weakext\\t\", FILE);\t\t\t\\\n   assemble_name (FILE, NAME);\t\t\t\\\n   if (VALUE)\t\t\t\t\t\\"}, {"sha": "d9e526132815e8b844609c7bb32b11678beb4ece", "filename": "gcc/varasm.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48ad5afd7d544281c294b6f7dba498ec88ab11eb/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48ad5afd7d544281c294b6f7dba498ec88ab11eb/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=48ad5afd7d544281c294b6f7dba498ec88ab11eb", "patch": "@@ -1005,11 +1005,12 @@ assemble_start_function (decl, fnname)\n \t  strcpy (*name, p);\n \t}\n \n-      ASM_GLOBALIZE_LABEL (asm_out_file, fnname);\n #ifdef ASM_WEAKEN_LABEL\n       if (DECL_WEAK (decl))\n \tASM_WEAKEN_LABEL (asm_out_file, fnname);\n+      else\n #endif\n+      ASM_GLOBALIZE_LABEL (asm_out_file, fnname);\n     }\n \n   /* Do any machine/system dependent processing of the function name */\n@@ -1425,11 +1426,12 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n   /* First make the assembler name(s) global if appropriate.  */\n   if (TREE_PUBLIC (decl) && DECL_NAME (decl))\n     {\n-      ASM_GLOBALIZE_LABEL (asm_out_file, name);\n #ifdef ASM_WEAKEN_LABEL\n       if (DECL_WEAK (decl))\n \tASM_WEAKEN_LABEL (asm_out_file, name);\n+      else\n #endif\n+      ASM_GLOBALIZE_LABEL (asm_out_file, name);\n     }\n #if 0\n   for (d = equivalents; d; d = TREE_CHAIN (d))\n@@ -4259,7 +4261,6 @@ weak_finish ()\n       struct weak_syms *t;\n       for (t = weak_decls; t; t = t->next)\n \t{\n-\t  ASM_GLOBALIZE_LABEL (asm_out_file, t->name);\n \t  ASM_WEAKEN_LABEL (asm_out_file, t->name);\n \t  if (t->value)\n \t    ASM_OUTPUT_DEF (asm_out_file, t->name, t->value);\n@@ -4282,11 +4283,12 @@ assemble_alias (decl, target)\n \n   if (TREE_PUBLIC (decl))\n     {\n-      ASM_GLOBALIZE_LABEL (asm_out_file, name);\n #ifdef ASM_WEAKEN_LABEL\n       if (DECL_WEAK (decl))\n \tASM_WEAKEN_LABEL (asm_out_file, name);\n+      else\n #endif\n+\tASM_GLOBALIZE_LABEL (asm_out_file, name);\n     }\n \n   ASM_OUTPUT_DEF (asm_out_file, name, IDENTIFIER_POINTER (target));"}]}