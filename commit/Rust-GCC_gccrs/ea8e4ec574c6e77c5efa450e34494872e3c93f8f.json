{"sha": "ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWE4ZTRlYzU3NGM2ZTc3YzVlZmE0NTBlMzQ0OTQ4NzJlM2M5M2Y4Zg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-14T22:49:07Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-14T22:49:07Z"}, "message": "(output_prolog): Changed stack probe at function entry.\n\nFrom-SVN: r9385", "tree": {"sha": "339002264ed68399f20d3cfee61768ffa5d06ac2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/339002264ed68399f20d3cfee61768ffa5d06ac2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea8e4ec574c6e77c5efa450e34494872e3c93f8f/comments", "author": null, "committer": null, "parents": [{"sha": "13aa593cd623101246e1d2382131a86b8638a562", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13aa593cd623101246e1d2382131a86b8638a562", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13aa593cd623101246e1d2382131a86b8638a562"}], "stats": {"total": 18, "additions": 7, "deletions": 11}, "files": [{"sha": "3de0175a69872531a1d88b2c9ee930862890670a", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 7, "deletions": 11, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea8e4ec574c6e77c5efa450e34494872e3c93f8f/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea8e4ec574c6e77c5efa450e34494872e3c93f8f/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "patch": "@@ -1383,19 +1383,15 @@ output_prolog (file, size)\n       if (frame_size > 4096)\n \t{\n \t  int probed = 4096;\n-\t  int regnum = 2;\t/* $1 is static chain, so start with $2.  */\n \n-\t  fprintf (file, \"\\tldq $%d,-%d($30)\\n\", regnum++, probed);\n+\t  fprintf (file, \"\\tstq $31,-%d($30)\\n\", probed);\n \n \t  while (probed + 8192 < frame_size)\n-\t    fprintf (file, \"\\tldq $%d,-%d($30)\\n\", regnum++, probed += 8192);\n+\t    fprintf (file, \"\\tstq $31,-%d($30)\\n\", probed += 8192);\n \n \t  /* We only have to do this probe if we aren't saving registers.  */\n \t  if (sa_size == 0 && probed + 4096 < frame_size)\n-\t    fprintf (file, \"\\tldq $%d,-%d($30)\\n\", regnum++, probed += 4096);\n-\n-\t  if (regnum > 9)\n-\t    abort ();\n+\t    fprintf (file, \"\\tstq $31,-%d($30)\\n\", frame_size);\n \t}\n \n       if (frame_size != 0)\n@@ -1419,18 +1415,18 @@ output_prolog (file, size)\n       assemble_name (file, alpha_function_name);\n       fprintf (file, \"..sc:\\n\");\n \n-      fprintf (file, \"\\tldq $6,-8192($4)\\n\");\n+      fprintf (file, \"\\tstq $31,-8192($4)\\n\");\n       fprintf (file, \"\\tsubq $5,1,$5\\n\");\n       fprintf (file, \"\\tlda $4,-8192($4)\\n\");\n \n       fprintf (file, \"\\tbne $5,\");\n       assemble_name (file, alpha_function_name);\n       fprintf (file, \"..sc\\n\");\n \n-      fprintf (file, \"\\tlda $30,-%d($4)\\n\", leftover);\n-\n       if (leftover > 4096 && sa_size == 0)\n-\tfprintf (file, \"\\tldq $2,%d($30)\\n\", leftover - 4096);\n+\tfprintf (file, \"\\tstq $31,-%d($4)\\n\", leftover);\n+\n+      fprintf (file, \"\\tlda $30,-%d($4)\\n\", leftover);\n     }\n \n   /* Describe our frame.  */"}]}