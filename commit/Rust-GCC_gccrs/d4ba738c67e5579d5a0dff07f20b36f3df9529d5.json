{"sha": "d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDRiYTczOGM2N2U1NTc5ZDVhMGRmZjA3ZjIwYjM2ZjNkZjk1MjlkNQ==", "commit": {"author": {"name": "Dmitriy Anisimkov", "email": "anisimko@adacore.com", "date": "2019-07-11T08:02:26Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-07-11T08:02:26Z"}, "message": "[Ada] GNAT.Sockets: add support for RAW sockets\n\n2019-07-11  Dmitriy Anisimkov  <anisimko@adacore.com>\n\ngcc/ada/\n\n\t* libgnat/g-socket.ads (Mode_Type): Add a Socket_Raw enumerator.\n\t* libgnat/g-socket.adb (Modes): Handle Socket_Raw.\n\nFrom-SVN: r273393", "tree": {"sha": "5c6be16187ae06db87aaa797a15653fc6f40038e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c6be16187ae06db87aaa797a15653fc6f40038e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/comments", "author": {"login": "anisimkov", "id": 15864134, "node_id": "MDQ6VXNlcjE1ODY0MTM0", "avatar_url": "https://avatars.githubusercontent.com/u/15864134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anisimkov", "html_url": "https://github.com/anisimkov", "followers_url": "https://api.github.com/users/anisimkov/followers", "following_url": "https://api.github.com/users/anisimkov/following{/other_user}", "gists_url": "https://api.github.com/users/anisimkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/anisimkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anisimkov/subscriptions", "organizations_url": "https://api.github.com/users/anisimkov/orgs", "repos_url": "https://api.github.com/users/anisimkov/repos", "events_url": "https://api.github.com/users/anisimkov/events{/privacy}", "received_events_url": "https://api.github.com/users/anisimkov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ae59bda92bbab1a02562683dd54fb9c287307a9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae59bda92bbab1a02562683dd54fb9c287307a9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae59bda92bbab1a02562683dd54fb9c287307a9e"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "e20d10cb525446edc9f91c68ce38ed540e179cdb", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "patch": "@@ -1,3 +1,8 @@\n+2019-07-11  Dmitriy Anisimkov  <anisimko@adacore.com>\n+\n+\t* libgnat/g-socket.ads (Mode_Type): Add a Socket_Raw enumerator.\n+\t* libgnat/g-socket.adb (Modes): Handle Socket_Raw.\n+\n 2019-07-11  Justin Squirek  <squirek@adacore.com>\n \n \t* exp_ch9.adb (Build_Private_Protected_Declaration): Add"}, {"sha": "689389f9cc885ec94ac5fc15dac4c02cb4f095fa", "filename": "gcc/ada/libgnat/g-socket.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/gcc%2Fada%2Flibgnat%2Fg-socket.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/gcc%2Fada%2Flibgnat%2Fg-socket.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fg-socket.adb?ref=d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "patch": "@@ -77,7 +77,8 @@ package body GNAT.Sockets is\n \n    Modes : constant array (Mode_Type) of C.int :=\n              (Socket_Stream   => SOSC.SOCK_STREAM,\n-              Socket_Datagram => SOSC.SOCK_DGRAM);\n+              Socket_Datagram => SOSC.SOCK_DGRAM,\n+              Socket_Raw      => SOSC.SOCK_RAW);\n \n    Shutmodes : constant array (Shutmode_Type) of C.int :=\n                  (Shut_Read       => SOSC.SHUT_RD,"}, {"sha": "342577a4ae3888d5230686fcd9bce1b40c5ff3ff", "filename": "gcc/ada/libgnat/g-socket.ads", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/gcc%2Fada%2Flibgnat%2Fg-socket.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba738c67e5579d5a0dff07f20b36f3df9529d5/gcc%2Fada%2Flibgnat%2Fg-socket.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fg-socket.ads?ref=d4ba738c67e5579d5a0dff07f20b36f3df9529d5", "patch": "@@ -475,16 +475,17 @@ package GNAT.Sockets is\n    --  The order of the enumeration elements should not be changed unilaterally\n    --  because the IPv6_TCP_Preferred routine rely on it.\n \n-   type Mode_Type is (Socket_Stream, Socket_Datagram);\n+   type Mode_Type is (Socket_Stream, Socket_Datagram, Socket_Raw);\n    --  Stream sockets provide connection-oriented byte streams. Datagram\n-   --  sockets support unreliable connectionless message based communication.\n+   --  sockets support unreliable connectionless message-based communication.\n+   --  Raw sockets provide raw network-protocol access.\n    --  The order of the enumeration elements should not be changed unilaterally\n-   --  because the IPv6_TCP_Preferred routine rely on it.\n+   --  because the IPv6_TCP_Preferred routine relies on it.\n \n    type Shutmode_Type is (Shut_Read, Shut_Write, Shut_Read_Write);\n    --  When a process closes a socket, the policy is to retain any data queued\n    --  until either a delivery or a timeout expiration (in this case, the data\n-   --  are discarded). A finer control is available through shutdown. With\n+   --  are discarded). Finer control is available through shutdown. With\n    --  Shut_Read, no more data can be received from the socket. With_Write, no\n    --  more data can be transmitted. Neither transmission nor reception can be\n    --  performed with Shut_Read_Write."}]}