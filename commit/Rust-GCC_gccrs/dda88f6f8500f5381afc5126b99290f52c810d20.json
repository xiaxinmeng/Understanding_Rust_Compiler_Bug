{"sha": "dda88f6f8500f5381afc5126b99290f52c810d20", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGRhODhmNmY4NTAwZjUzODFhZmM1MTI2Yjk5MjkwZjUyYzgxMGQyMA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-11-29T18:01:07Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-11-29T18:01:07Z"}, "message": "cfg.c (flow_obstack): Remove.\n\n\t* cfg.c (flow_obstack): Remove.\n\t(flow_firstobj): Likewise.\n\t(init_flow): Remove all uses of flow_obstack.\n\nFrom-SVN: r91477", "tree": {"sha": "56eca6233c7cf2d2a65f6c1573cba27961fd8dc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56eca6233c7cf2d2a65f6c1573cba27961fd8dc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dda88f6f8500f5381afc5126b99290f52c810d20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dda88f6f8500f5381afc5126b99290f52c810d20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dda88f6f8500f5381afc5126b99290f52c810d20", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dda88f6f8500f5381afc5126b99290f52c810d20/comments", "author": null, "committer": null, "parents": [{"sha": "4edbbd3f258dd7059ee06f76ed2d780a5c91dffe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4edbbd3f258dd7059ee06f76ed2d780a5c91dffe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4edbbd3f258dd7059ee06f76ed2d780a5c91dffe"}], "stats": {"total": 20, "additions": 4, "deletions": 16}, "files": [{"sha": "c5801c2da637331dfc0e6fa7a856ca417db70738", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dda88f6f8500f5381afc5126b99290f52c810d20/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dda88f6f8500f5381afc5126b99290f52c810d20/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dda88f6f8500f5381afc5126b99290f52c810d20", "patch": "@@ -15,6 +15,10 @@\n \t* tree-cfg.c (tree_redirect_edge_and_branch): Call find_edge\n \tonly when needed.\n \n+\t* cfg.c (flow_obstack): Remove.\n+\t(flow_firstobj): Likewise.\n+\t(init_flow): Remove all uses of flow_obstack.\n+\n 2004-11-29  Alan Modra  <amodra@bigpond.net.au>\n \n \t* varasm.c (default_elf_select_section_1): Only pass DECL_P decl"}, {"sha": "c469661edc081312f1d9ce439fa19f9871c94658", "filename": "gcc/cfg.c", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dda88f6f8500f5381afc5126b99290f52c810d20/gcc%2Fcfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dda88f6f8500f5381afc5126b99290f52c810d20/gcc%2Fcfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfg.c?ref=dda88f6f8500f5381afc5126b99290f52c810d20", "patch": "@@ -66,8 +66,6 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n /* The obstack on which the flow graph components are allocated.  */\n \n struct bitmap_obstack reg_obstack;\n-struct obstack flow_obstack;\n-static char *flow_firstobj;\n \n /* Number of basic blocks in the current function.  */\n \n@@ -102,22 +100,8 @@ enum profile_status profile_status;\n void\n init_flow (void)\n {\n-  static int initialized;\n-\n   n_edges = 0;\n \n-  if (!initialized)\n-    {\n-      gcc_obstack_init (&flow_obstack);\n-      flow_firstobj = obstack_alloc (&flow_obstack, 0);\n-      initialized = 1;\n-    }\n-  else\n-    {\n-      obstack_free (&flow_obstack, flow_firstobj);\n-      flow_firstobj = obstack_alloc (&flow_obstack, 0);\n-    }\n-\n   ENTRY_BLOCK_PTR = ggc_alloc_cleared (sizeof (*ENTRY_BLOCK_PTR));\n   ENTRY_BLOCK_PTR->index = ENTRY_BLOCK;\n   EXIT_BLOCK_PTR = ggc_alloc_cleared (sizeof (*EXIT_BLOCK_PTR));"}]}