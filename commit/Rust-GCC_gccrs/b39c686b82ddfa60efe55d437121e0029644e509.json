{"sha": "b39c686b82ddfa60efe55d437121e0029644e509", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM5YzY4NmI4MmRkZmE2MGVmZTU1ZDQzNzEyMWUwMDI5NjQ0ZTUwOQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2019-04-17T08:34:20Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2019-04-17T08:34:20Z"}, "message": "[PR90048] Fortran OpenACC 'private' clause rejected for predetermined private loop iteration variable\n\n\tgcc/fortran/\n\tPR fortran/90048\n\t* openmp.c (gfc_resolve_do_iterator): Handle sharing_clauses for\n\tOpenACC, too.\n\t(gfc_resolve_oacc_blocks): Populate sharing_clauses with private\n\tclauses.\n\tgcc/testsuite/\n\tPR fortran/90048\n\t* gfortran.dg/goacc/private-explicit-kernels-1.f95: New file.\n\t* gfortran.dg/goacc/private-explicit-parallel-1.f95: Likewise.\n\t* gfortran.dg/goacc/private-explicit-routine-1.f95: Likewise.\n\nFrom-SVN: r270406", "tree": {"sha": "a6adcd73b96508a3e86b88d6e2aa553667de343c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6adcd73b96508a3e86b88d6e2aa553667de343c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b39c686b82ddfa60efe55d437121e0029644e509", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b39c686b82ddfa60efe55d437121e0029644e509", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b39c686b82ddfa60efe55d437121e0029644e509", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b39c686b82ddfa60efe55d437121e0029644e509/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "04017685100da5a1886be9739bbf1d0e3977263f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04017685100da5a1886be9739bbf1d0e3977263f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04017685100da5a1886be9739bbf1d0e3977263f"}], "stats": {"total": 674, "additions": 671, "deletions": 3}, "files": [{"sha": "1ff03e1e85b5fadae857bd3d9ed2c8f87a80fdd3", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b39c686b82ddfa60efe55d437121e0029644e509", "patch": "@@ -1,3 +1,11 @@\n+2019-04-17  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\tPR fortran/90048\n+\t* openmp.c (gfc_resolve_do_iterator): Handle sharing_clauses for\n+\tOpenACC, too.\n+\t(gfc_resolve_oacc_blocks): Populate sharing_clauses with private\n+\tclauses.\n+\n 2019-04-14  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/89843"}, {"sha": "1c7bce6c30000dbf17544b7252c6df1a072d9596", "filename": "gcc/fortran/openmp.c", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ffortran%2Fopenmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ffortran%2Fopenmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fopenmp.c?ref=b39c686b82ddfa60efe55d437121e0029644e509", "patch": "@@ -5510,8 +5510,7 @@ gfc_resolve_do_iterator (gfc_code *code, gfc_symbol *sym, bool add_clause)\n   if (!omp_current_ctx->is_openmp && !oacc_is_loop (omp_current_ctx->code))\n     return;\n \n-  if (omp_current_ctx->is_openmp\n-      && omp_current_ctx->sharing_clauses->contains (sym))\n+  if (omp_current_ctx->sharing_clauses->contains (sym))\n     return;\n \n   if (! omp_current_ctx->private_iterators->add (sym) && add_clause)\n@@ -5971,19 +5970,34 @@ void\n gfc_resolve_oacc_blocks (gfc_code *code, gfc_namespace *ns)\n {\n   fortran_omp_context ctx;\n+  gfc_omp_clauses *omp_clauses = code->ext.omp_clauses;\n+  gfc_omp_namelist *n;\n+  int list;\n \n   resolve_oacc_loop_blocks (code);\n \n   ctx.code = code;\n-  ctx.sharing_clauses = NULL;\n+  ctx.sharing_clauses = new hash_set<gfc_symbol *>;\n   ctx.private_iterators = new hash_set<gfc_symbol *>;\n   ctx.previous = omp_current_ctx;\n   ctx.is_openmp = false;\n   omp_current_ctx = &ctx;\n \n+  for (list = 0; list < OMP_LIST_NUM; list++)\n+    switch (list)\n+      {\n+      case OMP_LIST_PRIVATE:\n+\tfor (n = omp_clauses->lists[list]; n; n = n->next)\n+\t  ctx.sharing_clauses->add (n->sym);\n+\tbreak;\n+      default:\n+\tbreak;\n+      }\n+\n   gfc_resolve_blocks (code->block, ns);\n \n   omp_current_ctx = ctx.previous;\n+  delete ctx.sharing_clauses;\n   delete ctx.private_iterators;\n }\n "}, {"sha": "937057421e4594f42a8619b07aa6090f07ed4bb5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b39c686b82ddfa60efe55d437121e0029644e509", "patch": "@@ -1,5 +1,10 @@\n 2019-04-17  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\tPR fortran/90048\n+\t* gfortran.dg/goacc/private-explicit-kernels-1.f95: New file.\n+\t* gfortran.dg/goacc/private-explicit-parallel-1.f95: Likewise.\n+\t* gfortran.dg/goacc/private-explicit-routine-1.f95: Likewise.\n+\n \tPR fortran/90067\n \tPR fortran/90114\n \t* gfortran.dg/goacc/private-1.f95: Remove file."}, {"sha": "5d563d226b0c30439c62713e113c4a3ec139fda3", "filename": "gcc/testsuite/gfortran.dg/goacc/private-explicit-kernels-1.f95", "status": "added", "additions": 248, "deletions": 0, "changes": 248, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-kernels-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-kernels-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-kernels-1.f95?ref=b39c686b82ddfa60efe55d437121e0029644e509", "patch": "@@ -0,0 +1,248 @@\n+! Explicit 'private' clauses related to 'do' loops inside an OpenACC\n+! 'kernels' construct.\n+\n+! { dg-additional-options \"-fdump-tree-original -fdump-tree-gimple\" }\n+\n+! (The 'independent' clauses are used as end of directive markers in tree dump\n+! scanning.)\n+\n+program test\n+  implicit none\n+  integer :: i0_1\n+  integer :: i0_2, j0_2\n+  integer :: i1_s\n+  integer :: i1_c\n+  integer :: i2_1_s, j2_1_s\n+  integer :: i2_1_c, j2_1_c\n+  integer :: i2_2_s, j2_2_s\n+  integer :: i2_3_s, j2_3_s\n+  integer :: i2_3_c, j2_3_c\n+  integer :: i3_1_s, j3_1_s, k3_1_s\n+  integer :: i3_1_c, j3_1_c, k3_1_c\n+  integer :: i3_2_s, j3_2_s, k3_2_s\n+  integer :: i3_2_c, j3_2_c, k3_2_c\n+  integer :: i3_3_s, j3_3_s, k3_3_s\n+  integer :: i3_3_c, j3_3_c, k3_3_c\n+  integer :: i3_4_s, j3_4_s, k3_4_s\n+  integer :: i3_4_c, j3_4_c, k3_4_c\n+  integer :: i3_5_s, j3_5_s, k3_5_s\n+\n+  !$acc kernels ! Explicit \"private(i0_1)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:i0_1 \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i0_1 = 1, 100\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels ! Explicit \"private(i0_2, j0_2)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:j0_2 \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\) map\\\\(force_tofrom:i0_2 \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i0_2 = 1, 100\n+     do j0_2 = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels\n+  !$acc loop private(i1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i1_s = 1, 100\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i1_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i1_c = 1, 100\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop private(i2_1_s, j2_1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_s = 1, 100\n+     do j2_1_s = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i2_1_c, j2_1_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_c = 1, 100\n+     do j2_1_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc kernels ! Explicit \"private(i2_2_s)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:i2_2_s \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i2_2_s = 1, 100\n+     !$acc loop private(j2_2_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_2_s = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels\n+  !$acc loop private(i2_3_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_s = 1, 100\n+     !$acc loop private(j2_3_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_s = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i2_3_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_c = 1, 100\n+     !$acc loop private(j2_3_c) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop private(i3_1_s, j3_1_s, k3_1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_s = 1, 100\n+     do j3_1_s = 1, 100\n+        do k3_1_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i3_1_c, j3_1_c, k3_1_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_c = 1, 100\n+     do j3_1_c = 1, 100\n+        do k3_1_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop private(i3_2_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_s = 1, 100\n+     !$acc loop private(j3_2_s, k3_2_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_s = 1, 100\n+        do k3_2_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i3_2_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_c = 1, 100\n+     !$acc loop private(j3_2_c, k3_2_c) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_c = 1, 100\n+        do k3_2_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop private(i3_3_s, j3_3_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_s = 1, 100\n+     do j3_3_s = 1, 100\n+        !$acc loop private(k3_3_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i3_3_c, j3_3_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_c = 1, 100\n+     do j3_3_c = 1, 100\n+        !$acc loop private(k3_3_c) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop private(i3_4_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_s = 1, 100\n+     !$acc loop private(j3_4_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_s = 1, 100\n+        !$acc loop private(k3_4_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop private(i3_4_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_c = 1, 100\n+     !$acc loop private(j3_4_c) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_c = 1, 100\n+        !$acc loop private(k3_4_c) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels ! Explicit \"private(i3_5_s)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:i3_5_s \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i3_5_s = 1, 100\n+     !$acc loop private(j3_5_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_5_s = 1, 100\n+        !$acc loop private(k3_5_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_5_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+end program test"}, {"sha": "bac919b645de3d426f446b1a8e894b1fef06ffc5", "filename": "gcc/testsuite/gfortran.dg/goacc/private-explicit-parallel-1.f95", "status": "added", "additions": 247, "deletions": 0, "changes": 247, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-parallel-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-parallel-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-parallel-1.f95?ref=b39c686b82ddfa60efe55d437121e0029644e509", "patch": "@@ -0,0 +1,247 @@\n+! Explicit 'private' clauses related to 'do' loops inside an OpenACC\n+! 'parallel' construct.\n+\n+! { dg-additional-options \"-fdump-tree-original -fdump-tree-gimple\" }\n+\n+! (The 'independent' clauses are used as end of directive markers in tree dump\n+! scanning.)\n+\n+program test\n+  implicit none\n+  integer :: i0_1\n+  integer :: i0_2, j0_2\n+  integer :: i1_s\n+  integer :: i1_c\n+  integer :: i2_1_s, j2_1_s\n+  integer :: i2_1_c, j2_1_c\n+  integer :: i2_2_s, j2_2_s\n+  integer :: i2_3_s, j2_3_s\n+  integer :: i2_3_c, j2_3_c\n+  integer :: i3_1_s, j3_1_s, k3_1_s\n+  integer :: i3_1_c, j3_1_c, k3_1_c\n+  integer :: i3_2_s, j3_2_s, k3_2_s\n+  integer :: i3_2_c, j3_2_c, k3_2_c\n+  integer :: i3_3_s, j3_3_s, k3_3_s\n+  integer :: i3_3_c, j3_3_c, k3_3_c\n+  integer :: i3_4_s, j3_4_s, k3_4_s\n+  integer :: i3_4_c, j3_4_c, k3_4_c\n+  integer :: i3_5_s, j3_5_s, k3_5_s\n+\n+  !$acc parallel private(i0_1)\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc parallel private\\\\(i0_1\\\\)\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel private\\\\(i0_1\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i0_1\\\\)\" 0 \"gimple\" } }\n+  do i0_1 = 1, 100\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel private(i0_2, j0_2)\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc parallel private\\\\(i0_2\\\\) private\\\\(j0_2\\\\)\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel private\\\\(i0_2\\\\) private\\\\(j0_2\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i0_2\\\\)\" 0 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(j0_2\\\\)\" 0 \"gimple\" } }\n+  do i0_2 = 1, 100\n+     do j0_2 = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel\n+  !$acc loop private(i1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i1_s = 1, 100\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i1_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i1_c = 1, 100\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop private(i2_1_s, j2_1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_s = 1, 100\n+     do j2_1_s = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i2_1_c, j2_1_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_c = 1, 100\n+     do j2_1_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc parallel private(i2_2_s)\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc parallel private\\\\(i2_2_s\\\\)\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel private\\\\(i2_2_s\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i2_2_s\\\\)\" 0 \"gimple\" } }\n+  do i2_2_s = 1, 100\n+     !$acc loop private(j2_2_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_2_s = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel\n+  !$acc loop private(i2_3_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_s = 1, 100\n+     !$acc loop private(j2_3_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_s = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i2_3_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_c = 1, 100\n+     !$acc loop private(j2_3_c) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop private(i3_1_s, j3_1_s, k3_1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_s = 1, 100\n+     do j3_1_s = 1, 100\n+        do k3_1_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i3_1_c, j3_1_c, k3_1_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_c = 1, 100\n+     do j3_1_c = 1, 100\n+        do k3_1_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop private(i3_2_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_s = 1, 100\n+     !$acc loop private(j3_2_s, k3_2_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_s = 1, 100\n+        do k3_2_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i3_2_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_c = 1, 100\n+     !$acc loop private(j3_2_c, k3_2_c) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_c = 1, 100\n+        do k3_2_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop private(i3_3_s, j3_3_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_s = 1, 100\n+     do j3_3_s = 1, 100\n+        !$acc loop private(k3_3_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i3_3_c, j3_3_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_c = 1, 100\n+     do j3_3_c = 1, 100\n+        !$acc loop private(k3_3_c) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop private(i3_4_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_s = 1, 100\n+     !$acc loop private(j3_4_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_s = 1, 100\n+        !$acc loop private(k3_4_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop private(i3_4_c) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_c = 1, 100\n+     !$acc loop private(j3_4_c) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_c = 1, 100\n+        !$acc loop private(k3_4_c) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel private(i3_5_s)\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc parallel private\\\\(i3_5_s\\\\)\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel private\\\\(i3_5_s\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i3_5_s\\\\)\" 0 \"gimple\" } }\n+  do i3_5_s = 1, 100\n+     !$acc loop private(j3_5_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_5_s = 1, 100\n+        !$acc loop private(k3_5_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_5_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+end program test"}, {"sha": "b7f8c3d5b3787bc71b564b6c0a3327fc4e75932f", "filename": "gcc/testsuite/gfortran.dg/goacc/private-explicit-routine-1.f95", "status": "added", "additions": 146, "deletions": 0, "changes": 146, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-routine-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39c686b82ddfa60efe55d437121e0029644e509/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-routine-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-explicit-routine-1.f95?ref=b39c686b82ddfa60efe55d437121e0029644e509", "patch": "@@ -0,0 +1,146 @@\n+! Explicit 'private' clauses related to 'do' loops inside an OpenACC\n+! accelerator routine.\n+\n+! { dg-additional-options \"-fdump-tree-original -fdump-tree-gimple\" }\n+\n+! (The 'independent' clauses are used as end of directive markers in tree dump\n+! scanning.)\n+\n+! The PR90114 XFAILs need to scan for the appropriate predetermined private\n+! level.\n+\n+subroutine test\n+  implicit none\n+  integer :: i0_1\n+  integer :: i0_2, j0_2\n+  integer :: i1_s\n+  integer :: i2_1_s, j2_1_s\n+  integer :: i2_2_s, j2_2_s\n+  integer :: i2_3_s, j2_3_s\n+  integer :: i3_1_s, j3_1_s, k3_1_s\n+  integer :: i3_2_s, j3_2_s, k3_2_s\n+  integer :: i3_3_s, j3_3_s, k3_3_s\n+  integer :: i3_4_s, j3_4_s, k3_4_s\n+  integer :: i3_5_s, j3_5_s, k3_5_s\n+  !$acc routine gang\n+\n+  ! Explicit \"private(i0_1)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i0_1 = 1, 100\n+  end do\n+\n+  ! Explicit \"private(i0_2, j0_2)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i0_2 = 1, 100\n+     do j0_2 = 1, 100\n+     end do\n+  end do\n+\n+  !$acc loop private(i1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i1_s = 1, 100\n+  end do\n+\n+  !$acc loop private(i2_1_s, j2_1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_s = 1, 100\n+     do j2_1_s = 1, 100\n+     end do\n+  end do\n+\n+  ! Explicit \"private(i2_2_s)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i2_2_s = 1, 100\n+     !$acc loop private(j2_2_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_2_s = 1, 100\n+     end do\n+  end do\n+\n+  !$acc loop private(i2_3_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_s = 1, 100\n+     !$acc loop private(j2_3_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_s = 1, 100\n+     end do\n+  end do\n+\n+  !$acc loop private(i3_1_s, j3_1_s, k3_1_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_s = 1, 100\n+     do j3_1_s = 1, 100\n+        do k3_1_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc loop private(i3_2_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_s = 1, 100\n+     !$acc loop private(j3_2_s, k3_2_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_s = 1, 100\n+        do k3_2_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc loop private(i3_3_s, j3_3_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_s = 1, 100\n+     do j3_3_s = 1, 100\n+        !$acc loop private(k3_3_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc loop private(i3_4_s) independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_s = 1, 100\n+     !$acc loop private(j3_4_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_s = 1, 100\n+        !$acc loop private(k3_4_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  ! Explicit \"private(i3_5_s)\" clause cannot be specified here.\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i3_5_s = 1, 100\n+     !$acc loop private(j3_5_s) independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_5_s = 1, 100\n+        !$acc loop private(k3_5_s) independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_5_s = 1, 100\n+        end do\n+     end do\n+  end do\n+end subroutine test"}]}