{"sha": "ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWQ2MGEwNGJiYjQ3ODdkZGM1ZWZlNWMyOTIwZDZjNDA2ZmU1NjZlMQ==", "commit": {"author": {"name": "Naveen H.S", "email": "naveenh@gcc.gnu.org", "date": "2014-11-03T05:13:43Z"}, "committer": {"name": "Naveen H.S", "email": "naveenh@gcc.gnu.org", "date": "2014-11-03T05:13:43Z"}, "message": "[multiple changes]\n\n2014-10-31  Andrew Pinski  <apinski@cavium.com>\n\n\t* config/mips/mips-cpus.def (octeon3): New cpu.\n\t* config/mips/mips.c (mips_rtx_cost_data): Add octeon3.\n\t(mips_print_operand <case 'T', case 't'>): Fix a bug as the mode\n\tof the comparison no longer matches mode of the operands.\n\t(mips_issue_rate): Handle PROCESSOR_OCTEON3.\n\t* config/mips/mips.h (TARGET_OCTEON):  Add Octeon3.\n\t(TARGET_OCTEON2): Likewise.\n\t(TUNE_OCTEON): Add Octeon3.\n\t* config/mips/mips.md (processor): Add octeon3.\n\t* config/mips/octeon.md (octeon_fpu): New automaton and cpu_unit.\n\t(octeon_arith): Add octeon3.\n\t(octeon_condmove): Remove.\n\t(octeon_condmove_o1): New reservation.\n\t(octeon_condmove_o2): New reservation.\n\t(octeon_condmove_o3_int_on_cc): New reservation.\n\t(octeon_load_o2): Add octeon3.\n\t(octeon_cop_o2): Likewise.\n\t(octeon_store): Likewise.\n\t(octeon_brj_o2): Likewise.\n\t(octeon_imul3_o2): Likewise.\n\t(octeon_imul_o2): Likewise.\n\t(octeon_mfhilo_o2): Likewise.\n\t(octeon_imadd_o2): Likewise.\n\t(octeon_idiv_o2_si): Likewise.\n\t(octeon_idiv_o2_di): Likewise.\n\t(octeon_fpu): Add to the automaton.\n\t(octeon_fpu): New cpu unit.\n\t(octeon_condmove_o2): Check for non floating point modes.\n\t(octeon_load_o2): Add prefetchx.\n\t(octeon_cop_o2): Don't check for octeon3.\n\t(octeon3_faddsubcvt): New reservation.\n\t(octeon3_fmul): Likewise.\n\t(octeon3_fmadd): Likewise.\n\t(octeon3_div_sf): Likewise.\n\t(octeon3_div_df): Likewise.\n\t(octeon3_sqrt_sf): Likewise.\n\t(octeon3_sqrt_df): Likewise.\n\t(octeon3_rsqrt_sf): Likewise.\n\t(octeon3_rsqrt_df): Likewise.\n\t(octeon3_fabsnegmov): Likewise.\n\t(octeon_fcond): Likewise.\n\t(octeon_fcondmov): Likewise.\n\t(octeon_fpmtc1): Likewise.\n\t(octeon_fpmfc1): Likewise.\n\t(octeon_fpload): Likewise.\n\t(octeon_fpstore): Likewise.\n\t* config/mips/mips-tables.opt: Regenerate.\n\t* doc/invoke.texi (-march=@var{arch}): Add octeon3.\n\n2014-10-31  Naveen H.S  <Naveen.Hurugalawadi@caviumnetworks.com>\n\n\t* gcc.target/mips/octeon3-pipe-1.c: New test.\n\nFrom-SVN: r217028", "tree": {"sha": "76792aee904b42e9ffb40cf342d429d0b728dc86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76792aee904b42e9ffb40cf342d429d0b728dc86"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/comments", "author": null, "committer": null, "parents": [{"sha": "81a55f55dabdb89bd9bedbd8b95c34a393b2e364", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81a55f55dabdb89bd9bedbd8b95c34a393b2e364", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81a55f55dabdb89bd9bedbd8b95c34a393b2e364"}], "stats": {"total": 221, "additions": 201, "deletions": 20}, "files": [{"sha": "116bc37660cc8fb579fd037a71f881598f1ed993", "filename": "gcc/ChangeLog", "status": "modified", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -1,3 +1,54 @@\n+2014-11-03  Andrew Pinski  <apinski@cavium.com>\n+\n+\t* config/mips/mips-cpus.def (octeon3): New cpu.\n+\t* config/mips/mips.c (mips_rtx_cost_data): Add octeon3.\n+\t(mips_print_operand <case 'T', case 't'>): Fix a bug as the mode\n+\tof the comparison no longer matches mode of the operands.\n+\t(mips_issue_rate): Handle PROCESSOR_OCTEON3.\n+\t* config/mips/mips.h (TARGET_OCTEON):  Add Octeon3.\n+\t(TARGET_OCTEON2): Likewise.\n+\t(TUNE_OCTEON): Add Octeon3.\n+\t* config/mips/mips.md (processor): Add octeon3.\n+\t* config/mips/octeon.md (octeon_fpu): New automaton and cpu_unit.\n+\t(octeon_arith): Add octeon3.\n+\t(octeon_condmove): Remove.\n+\t(octeon_condmove_o1): New reservation.\n+\t(octeon_condmove_o2): New reservation.\n+\t(octeon_condmove_o3_int_on_cc): New reservation.\n+\t(octeon_load_o2): Add octeon3.\n+\t(octeon_cop_o2): Likewise.\n+\t(octeon_store): Likewise.\n+\t(octeon_brj_o2): Likewise.\n+\t(octeon_imul3_o2): Likewise.\n+\t(octeon_imul_o2): Likewise.\n+\t(octeon_mfhilo_o2): Likewise.\n+\t(octeon_imadd_o2): Likewise.\n+\t(octeon_idiv_o2_si): Likewise.\n+\t(octeon_idiv_o2_di): Likewise.\n+\t(octeon_fpu): Add to the automaton.\n+\t(octeon_fpu): New cpu unit.\n+\t(octeon_condmove_o2): Check for non floating point modes.\n+\t(octeon_load_o2): Add prefetchx.\n+\t(octeon_cop_o2): Don't check for octeon3.\n+\t(octeon3_faddsubcvt): New reservation.\n+\t(octeon3_fmul): Likewise.\n+\t(octeon3_fmadd): Likewise.\n+\t(octeon3_div_sf): Likewise.\n+\t(octeon3_div_df): Likewise.\n+\t(octeon3_sqrt_sf): Likewise.\n+\t(octeon3_sqrt_df): Likewise.\n+\t(octeon3_rsqrt_sf): Likewise.\n+\t(octeon3_rsqrt_df): Likewise.\n+\t(octeon3_fabsnegmov): Likewise.\n+\t(octeon_fcond): Likewise.\n+\t(octeon_fcondmov): Likewise.\n+\t(octeon_fpmtc1): Likewise.\n+\t(octeon_fpmfc1): Likewise.\n+\t(octeon_fpload): Likewise.\n+\t(octeon_fpstore): Likewise.\n+\t* config/mips/mips-tables.opt: Regenerate.\n+\t* doc/invoke.texi (-march=@var{arch}): Add octeon3.\n+\n 2014-11-03  Zhenqiang Chen  <zhenqiang.chen@arm.com>\n \n \t* ifcvt.c (noce_emit_cmove, noce_get_alt_condition, noce_get_condition):"}, {"sha": "e2985b8b6fd6d28f84f42dc05c3094c4f7205db1", "filename": "gcc/config/mips/mips-cpus.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips-cpus.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips-cpus.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-cpus.def?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -162,4 +162,5 @@ MIPS_CPU (\"loongson3a\", PROCESSOR_LOONGSON_3A, 65, PTF_AVOID_BRANCHLIKELY)\n MIPS_CPU (\"octeon\", PROCESSOR_OCTEON, 65, PTF_AVOID_BRANCHLIKELY)\n MIPS_CPU (\"octeon+\", PROCESSOR_OCTEON, 65, PTF_AVOID_BRANCHLIKELY)\n MIPS_CPU (\"octeon2\", PROCESSOR_OCTEON2, 65, PTF_AVOID_BRANCHLIKELY)\n+MIPS_CPU (\"octeon3\", PROCESSOR_OCTEON3, 65, PTF_AVOID_BRANCHLIKELY)\n MIPS_CPU (\"xlp\", PROCESSOR_XLP, 65, PTF_AVOID_BRANCHLIKELY)"}, {"sha": "99d2ed8d5e405c4249e3beee9f2aaf4160d25c59", "filename": "gcc/config/mips/mips-tables.opt", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips-tables.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips-tables.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-tables.opt?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -667,5 +667,8 @@ EnumValue\n Enum(mips_arch_opt_value) String(octeon2) Value(94) Canonical\n \n EnumValue\n-Enum(mips_arch_opt_value) String(xlp) Value(95) Canonical\n+Enum(mips_arch_opt_value) String(octeon3) Value(95) Canonical\n+\n+EnumValue\n+Enum(mips_arch_opt_value) String(xlp) Value(96) Canonical\n "}, {"sha": "a09883b988fd36e425dae68006bdf49f30d8551a", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -975,6 +975,20 @@ static const struct mips_rtx_cost_data\n     COSTS_N_INSNS (35),           /* int_div_di */\n                      4,\t\t  /* branch_cost */\n                      4\t\t  /* memory_latency */\n+  },\n+    /* Octeon III */\n+  {\n+    COSTS_N_INSNS (6),            /* fp_add */\n+    COSTS_N_INSNS (6),            /* fp_mult_sf */\n+    COSTS_N_INSNS (7),            /* fp_mult_df */\n+    COSTS_N_INSNS (25),           /* fp_div_sf */\n+    COSTS_N_INSNS (48),           /* fp_div_df */\n+    COSTS_N_INSNS (6),            /* int_mult_si */\n+    COSTS_N_INSNS (6),            /* int_mult_di */\n+    COSTS_N_INSNS (18),           /* int_div_si */\n+    COSTS_N_INSNS (35),           /* int_div_di */\n+                     4,\t\t  /* branch_cost */\n+                     4\t\t  /* memory_latency */\n   },\n   { /* R3900 */\n     COSTS_N_INSNS (2),            /* fp_add */\n@@ -13177,6 +13191,7 @@ mips_issue_rate (void)\n     case PROCESSOR_R9000:\n     case PROCESSOR_OCTEON:\n     case PROCESSOR_OCTEON2:\n+    case PROCESSOR_OCTEON3:\n       return 2;\n \n     case PROCESSOR_SB1:"}, {"sha": "39e6926bd0a01c167383a4cc5c152a18088aa7b8", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -230,8 +230,10 @@ struct mips_cpu_info {\n #define TARGET_MIPS7000             (mips_arch == PROCESSOR_R7000)\n #define TARGET_MIPS9000             (mips_arch == PROCESSOR_R9000)\n #define TARGET_OCTEON\t\t    (mips_arch == PROCESSOR_OCTEON\t\\\n-\t\t\t\t     || mips_arch == PROCESSOR_OCTEON2)\n-#define TARGET_OCTEON2\t\t    (mips_arch == PROCESSOR_OCTEON2)\n+\t\t\t\t     || mips_arch == PROCESSOR_OCTEON2\t\\\n+\t\t\t\t     || mips_arch == PROCESSOR_OCTEON3)\n+#define TARGET_OCTEON2\t\t    (mips_arch == PROCESSOR_OCTEON2\t\\\n+\t\t\t\t     || mips_arch == PROCESSOR_OCTEON3)\n #define TARGET_SB1                  (mips_arch == PROCESSOR_SB1\t\t\\\n \t\t\t\t     || mips_arch == PROCESSOR_SB1A)\n #define TARGET_SR71K                (mips_arch == PROCESSOR_SR71000)\n@@ -261,7 +263,8 @@ struct mips_cpu_info {\n #define TUNE_MIPS7000               (mips_tune == PROCESSOR_R7000)\n #define TUNE_MIPS9000               (mips_tune == PROCESSOR_R9000)\n #define TUNE_OCTEON\t\t    (mips_tune == PROCESSOR_OCTEON\t\\\n-\t\t\t\t     || mips_tune == PROCESSOR_OCTEON2)\n+\t\t\t\t     || mips_tune == PROCESSOR_OCTEON2\t\\\n+\t\t\t\t     || mips_tune == PROCESSOR_OCTEON3)\n #define TUNE_SB1                    (mips_tune == PROCESSOR_SB1\t\t\\\n \t\t\t\t     || mips_tune == PROCESSOR_SB1A)\n #define TUNE_P5600                  (mips_tune == PROCESSOR_P5600)"}, {"sha": "4b725467467fd654c025c3b0f7886f86d5b037dd", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -41,6 +41,7 @@\n   m4k\n   octeon\n   octeon2\n+  octeon3\n   r3900\n   r6000\n   r4000"}, {"sha": "960894f0a2981c9eec2c7811daecb3c0ceec2732", "filename": "gcc/config/mips/octeon.md", "status": "modified", "additions": 118, "deletions": 15, "changes": 133, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Focteon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fconfig%2Fmips%2Focteon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Focteon.md?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -22,41 +22,55 @@\n ;; Octeon is a dual-issue processor that can issue all instructions on\n ;; pipe0 and a subset on pipe1.\n \n-(define_automaton \"octeon_main, octeon_mult\")\n+(define_automaton \"octeon_main, octeon_mult, octeon_fpu\")\n \n (define_cpu_unit \"octeon_pipe0\" \"octeon_main\")\n (define_cpu_unit \"octeon_pipe1\" \"octeon_main\")\n (define_cpu_unit \"octeon_mult\" \"octeon_mult\")\n+(define_cpu_unit \"octeon_fpu\" \"octeon_fpu\")\n \n (define_insn_reservation \"octeon_arith\" 1\n-  (and (eq_attr \"cpu\" \"octeon,octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon,octeon2,octeon3\")\n        (eq_attr \"type\" \"arith,const,logical,move,shift,signext,slt,nop\"))\n   \"octeon_pipe0 | octeon_pipe1\")\n \n-(define_insn_reservation \"octeon_condmove\" 2\n-  (and (eq_attr \"cpu\" \"octeon,octeon2\")\n+(define_insn_reservation \"octeon_condmove_o1\" 2\n+  (and (eq_attr \"cpu\" \"octeon\")\n        (eq_attr \"type\" \"condmove\"))\n   \"octeon_pipe0 | octeon_pipe1\")\n \n+(define_insn_reservation \"octeon_condmove_o2\" 3\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n+       (eq_attr \"type\" \"condmove\")\n+       (not (eq_attr \"mode\" \"SF, DF\")))\n+  \"octeon_pipe0 | octeon_pipe1\")\n+\n+;; movt/movf can only issue in pipe1\n+(define_insn_reservation \"octeon_condmove_o3_int_on_cc\" 3\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n+       (eq_attr \"type\" \"condmove\")\n+       (not (eq_attr \"mode\" \"SF, DF\")))\n+  \"octeon_pipe1\")\n+\n (define_insn_reservation \"octeon_load_o1\" 2\n   (and (eq_attr \"cpu\" \"octeon\")\n        (eq_attr \"type\" \"load,prefetch,mtc,mfc\"))\n   \"octeon_pipe0\")\n \n (define_insn_reservation \"octeon_load_o2\" 3\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"load,prefetch\"))\n   \"octeon_pipe0\")\n \n ;; ??? memory-related cop0 reads are pipe0 with 3-cycle latency.\n ;; Front-end-related ones are 1-cycle on pipe1.  Assume front-end for now.\n (define_insn_reservation \"octeon_cop_o2\" 1\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"mtc,mfc\"))\n   \"octeon_pipe1\")\n \n (define_insn_reservation \"octeon_store\" 1\n-  (and (eq_attr \"cpu\" \"octeon,octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon,octeon2,octeon3\")\n        (eq_attr \"type\" \"store\"))\n   \"octeon_pipe0\")\n \n@@ -66,7 +80,7 @@\n   \"octeon_pipe0\")\n \n (define_insn_reservation \"octeon_brj_o2\" 2\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"branch,jump,call,trap\"))\n   \"octeon_pipe1\")\n \n@@ -76,7 +90,7 @@\n   \"(octeon_pipe0 | octeon_pipe1) + octeon_mult\")\n \n (define_insn_reservation \"octeon_imul3_o2\" 6\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"imul3,pop,clz\"))\n   \"octeon_pipe1 + octeon_mult\")\n \n@@ -86,7 +100,7 @@\n   \"(octeon_pipe0 | octeon_pipe1) + octeon_mult, octeon_mult\")\n \n (define_insn_reservation \"octeon_imul_o2\" 1\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"imul,mthi,mtlo\"))\n   \"octeon_pipe1 + octeon_mult\")\n \n@@ -96,7 +110,7 @@\n   \"(octeon_pipe0 | octeon_pipe1) + octeon_mult\")\n \n (define_insn_reservation \"octeon_mfhilo_o2\" 6\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"mfhi,mflo\"))\n   \"octeon_pipe1 + octeon_mult\")\n \n@@ -106,7 +120,7 @@\n   \"(octeon_pipe0 | octeon_pipe1) + octeon_mult, octeon_mult*3\")\n \n (define_insn_reservation \"octeon_imadd_o2\" 1\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"type\" \"imadd\"))\n   \"octeon_pipe1 + octeon_mult\")\n \n@@ -116,13 +130,13 @@\n   \"(octeon_pipe0 | octeon_pipe1) + octeon_mult, octeon_mult*71\")\n \n (define_insn_reservation \"octeon_idiv_o2_si\" 18\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"mode\" \"SI\")\n        (eq_attr \"type\" \"idiv\"))\n   \"octeon_pipe1 + octeon_mult, octeon_mult*17\")\n \n (define_insn_reservation \"octeon_idiv_o2_di\" 35\n-  (and (eq_attr \"cpu\" \"octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon2,octeon3\")\n        (eq_attr \"mode\" \"DI\")\n        (eq_attr \"type\" \"idiv\"))\n   \"octeon_pipe1 + octeon_mult, octeon_mult*34\")\n@@ -131,6 +145,95 @@\n ;; patterns.\n \n (define_insn_reservation \"octeon_unknown\" 1\n-  (and (eq_attr \"cpu\" \"octeon,octeon2\")\n+  (and (eq_attr \"cpu\" \"octeon,octeon2,octeon3\")\n        (eq_attr \"type\" \"unknown,multi,atomic,syncloop\"))\n   \"octeon_pipe0 + octeon_pipe1\")\n+\n+;; Octeon3 FPU\n+\n+(define_insn_reservation \"octeon3_faddsubcvt\" 4\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fadd, fcvt\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon3_fmul\" 5\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fmul\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon3_fmadd\" 9\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fmadd\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu\")\n+\n+(define_insn_reservation \"octeon3_div_sf\" 12\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fdiv, frdiv\")\n+       (eq_attr \"mode\" \"SF\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu*8\")\n+\n+(define_insn_reservation \"octeon3_div_df\" 22\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fdiv, frdiv\")\n+       (eq_attr \"mode\" \"SF\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu*18\")\n+\n+(define_insn_reservation \"octeon3_sqrt_sf\" 16\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fsqrt\")\n+       (eq_attr \"mode\" \"SF\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu*12\")\n+\n+(define_insn_reservation \"octeon3_sqrt_df\" 30\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fsqrt\")\n+       (eq_attr \"mode\" \"DF\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu*26\")\n+\n+(define_insn_reservation \"octeon3_rsqrt_sf\" 27\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"frsqrt\")\n+       (eq_attr \"mode\" \"SF\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu*23\")\n+\n+(define_insn_reservation \"octeon3_rsqrt_df\" 51\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"frsqrt\")\n+       (eq_attr \"mode\" \"DF\"))\n+  \"octeon_pipe1 + octeon_fpu, octeon_fpu*47\")\n+\n+(define_insn_reservation \"octeon3_fabsnegmov\" 2\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fabs, fneg, fmove\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon_fcond\" 1\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fcmp\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon_fcondmov\" 2\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"condmove\")\n+       (eq_attr \"mode\" \"SF,DF\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon_fpmtc1\" 2\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"mtc\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon_fpmfc1\" 6\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"mtc\"))\n+  \"octeon_pipe1 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon_fpload\" 3\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fpload,fpidxload\"))\n+  \"octeon_pipe0 + octeon_fpu\")\n+\n+(define_insn_reservation \"octeon_fpstore\" 3\n+  (and (eq_attr \"cpu\" \"octeon3\")\n+       (eq_attr \"type\" \"fpstore,fpidxstore\"))\n+  \"octeon_pipe0 + octeon_pipe1\")"}, {"sha": "b75ebc7535caef3d660c0bea0c9f8675e76b508e", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -17531,7 +17531,7 @@ The processor names are:\n @samp{loongson2e}, @samp{loongson2f}, @samp{loongson3a},\n @samp{m4k},\n @samp{m14k}, @samp{m14kc}, @samp{m14ke}, @samp{m14kec},\n-@samp{octeon}, @samp{octeon+}, @samp{octeon2},\n+@samp{octeon}, @samp{octeon+}, @samp{octeon2}, @samp{octeon3},\n @samp{orion},\n @samp{p5600},\n @samp{r2000}, @samp{r3000}, @samp{r3900}, @samp{r4000}, @samp{r4400},"}, {"sha": "967ccb9df09f999401efcb9a02dbe0ac3ebec1b1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed60a04bbb4787ddc5efe5c2920d6c406fe566e1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ed60a04bbb4787ddc5efe5c2920d6c406fe566e1", "patch": "@@ -1,3 +1,7 @@\n+2014-11-03  Naveen H.S  <Naveen.Hurugalawadi@caviumnetworks.com>\n+\n+\t* gcc.target/mips/octeon3-pipe-1.c: New test.\n+\n 2014-11-02  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* g++.dg/cpp0x/gen-attrs-42.C: Add x86_64-*-* target."}]}