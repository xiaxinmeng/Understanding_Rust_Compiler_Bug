{"sha": "911461693337552b76b5994d9d875e1b78e64b28", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTExNDYxNjkzMzM3NTUyYjc2YjU5OTRkOWQ4NzVlMWI3OGU2NGIyOA==", "commit": {"author": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-11-24T10:40:16Z"}, "committer": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-11-24T10:40:16Z"}, "message": "re PR c++/8929 (G++ accepts invalid template headers in member definitions of explicitly specialized classes)\n\n\tPR c++/8929\n\t* decl.c (start_decl): Check for invalid specialization headers.\n\n\tPR c++/8929\n\t* g++.old-deja/g++.oliva/template10.C: Remove xfail.\n\nFrom-SVN: r91145", "tree": {"sha": "d71b5c1314fa42547e06fc0b88f93a7a018827f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d71b5c1314fa42547e06fc0b88f93a7a018827f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/911461693337552b76b5994d9d875e1b78e64b28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/911461693337552b76b5994d9d875e1b78e64b28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/911461693337552b76b5994d9d875e1b78e64b28", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/911461693337552b76b5994d9d875e1b78e64b28/comments", "author": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "592590f532f891f2edf87b73ae8e632bbfb08421", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/592590f532f891f2edf87b73ae8e632bbfb08421", "html_url": "https://github.com/Rust-GCC/gccrs/commit/592590f532f891f2edf87b73ae8e632bbfb08421"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "8797df9d516e61fba890de2e559dc37904a7999c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=911461693337552b76b5994d9d875e1b78e64b28", "patch": "@@ -1,3 +1,8 @@\n+2004-11-24  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n+\n+\tPR c++/8929\n+\t* decl.c (start_decl): Check for invalid specialization headers.\n+\n 2004-11-24  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR c++/16882"}, {"sha": "bca328846e555e630bdb012abe3a051c51a35acd", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=911461693337552b76b5994d9d875e1b78e64b28", "patch": "@@ -3776,6 +3776,11 @@ start_decl (const cp_declarator *declarator,\n \t\t\t     context, DECL_NAME (decl));\n \t\t  DECL_CONTEXT (decl) = DECL_CONTEXT (field);\n \t\t}\n+\t      if (processing_specialization\n+\t\t  && template_class_depth (context) == 0\n+\t\t  && CLASSTYPE_TEMPLATE_SPECIALIZATION (context))\n+\t\terror (\"template header not allowed in member definition \"\n+\t\t       \"of explicitly specialized class\");\n \t      /* Static data member are tricky; an in-class initialization\n \t\t still doesn't provide a definition, so the in-class\n \t\t declaration will have DECL_EXTERNAL set, but will have an"}, {"sha": "6a98976fcf6c7e3ea80af6eaf1154e5fcab94df0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=911461693337552b76b5994d9d875e1b78e64b28", "patch": "@@ -1,3 +1,8 @@\n+2004-11-24  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n+\n+\tPR c++/8929\n+\t* g++.old-deja/g++.oliva/template10.C: Remove xfail.\n+\n 2004-11-24  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* gcc.target/sparc/align.c: Do not include <stdint.h>."}, {"sha": "5c1204bddcf9aaecc0ed885f7533cf512e9d2612", "filename": "gcc/testsuite/g++.old-deja/g++.oliva/template10.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Ftemplate10.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/911461693337552b76b5994d9d875e1b78e64b28/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Ftemplate10.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Ftemplate10.C?ref=911461693337552b76b5994d9d875e1b78e64b28", "patch": "@@ -19,4 +19,4 @@ template<> struct A<int> {\n };\n \n bool A<int>::a = true; // ok\n-template<> bool A<int>::b = false; // { dg-error \"\" \"\" { xfail *-*-* } } \n+template<> bool A<int>::b = false; // { dg-error \"template header\" } "}]}