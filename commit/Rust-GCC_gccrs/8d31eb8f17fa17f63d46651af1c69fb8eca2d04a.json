{"sha": "8d31eb8f17fa17f63d46651af1c69fb8eca2d04a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQzMWViOGYxN2ZhMTdmNjNkNDY2NTFhZjFjNjlmYjhlY2EyZDA0YQ==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-10-19T12:59:46Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-10-19T13:19:52Z"}, "message": "rs6000: correct BE vextract_fp_from_short[hl] vperm masks\n\nxvcvhpsp instruction converts a vector of bfloat16 half precision to single\nprecision.  The intrinsics vextract_fp_from_shorth and\nvextract_fp_from_shortl select the high or low four elements of a\nhalf precision vector to convert.  The intrinsics use vperm to select\nthe appropriate portion of the half precision vector and redistribute\nthe values for the xvcvhpsp instruction.  The big endian versions of the\nmasks for the intrinsics were initialized wrong.  This patch replaces the\nmasks with the correct values.  This corrects the failure of\nbuiltins-3-p9-runnable.c testcase on big endian systems.\n\nBootstrapped powerpc-ibm-aix7.2.3.0 Power9.\n\ngcc/ChangeLog:\n\n\t* config/rs6000/vsx.md (vextract_fp_from_shorth):  Fix vals_be.\n\t(vextract_fp_from_shortl) Same.", "tree": {"sha": "2cabaa3f9c501b5dfb3dac838d70967960f2bde7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2cabaa3f9c501b5dfb3dac838d70967960f2bde7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d31eb8f17fa17f63d46651af1c69fb8eca2d04a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d31eb8f17fa17f63d46651af1c69fb8eca2d04a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d31eb8f17fa17f63d46651af1c69fb8eca2d04a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d31eb8f17fa17f63d46651af1c69fb8eca2d04a/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d2f4ffc97a8510e72a99ee106159aeae2627a42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d2f4ffc97a8510e72a99ee106159aeae2627a42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d2f4ffc97a8510e72a99ee106159aeae2627a42"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "c023bc0baaaec197b91017b5feba37709d81d09f", "filename": "gcc/config/rs6000/vsx.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d31eb8f17fa17f63d46651af1c69fb8eca2d04a/gcc%2Fconfig%2Frs6000%2Fvsx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d31eb8f17fa17f63d46651af1c69fb8eca2d04a/gcc%2Fconfig%2Frs6000%2Fvsx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvsx.md?ref=8d31eb8f17fa17f63d46651af1c69fb8eca2d04a", "patch": "@@ -5659,7 +5659,7 @@\n {\n   int i;\n   int vals_le[16] = {15, 14, 0, 0, 13, 12, 0, 0, 11, 10, 0, 0, 9, 8, 0, 0};\n-  int vals_be[16] = {7, 6, 0, 0, 5, 4, 0, 0, 3, 2, 0, 0, 1, 0, 0, 0};\n+  int vals_be[16] = {0, 0, 0, 1, 0, 0, 2, 3, 0, 0, 4, 5, 0, 0, 6, 7};\n \n   rtx rvals[16];\n   rtx mask = gen_reg_rtx (V16QImode);\n@@ -5693,7 +5693,7 @@\n   \"TARGET_P9_VECTOR\"\n {\n   int vals_le[16] = {7, 6, 0, 0, 5, 4, 0, 0, 3, 2, 0, 0, 1, 0, 0, 0};\n-  int vals_be[16] = {15, 14, 0, 0, 13, 12, 0, 0, 11, 10, 0, 0, 9, 8, 0, 0};\n+  int vals_be[16] = {0, 0, 8, 9, 0, 0, 10, 11, 0, 0, 12, 13, 0, 0, 14, 15};\n \n   int i;\n   rtx rvals[16];"}]}