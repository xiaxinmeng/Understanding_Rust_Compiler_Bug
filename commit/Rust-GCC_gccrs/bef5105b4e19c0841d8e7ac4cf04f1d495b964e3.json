{"sha": "bef5105b4e19c0841d8e7ac4cf04f1d495b964e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVmNTEwNWI0ZTE5YzA4NDFkOGU3YWM0Y2YwNGYxZDQ5NWI5NjRlMw==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2004-01-17T23:49:44Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-01-17T23:49:44Z"}, "message": "builtins.c (expand_builtin_expect_jump): Fix mistake in my last patch.\n\n\n\t* builtins.c (expand_builtin_expect_jump): Fix mistake in my\n\tlast patch.  Use XEXP (x, 0) to get a LABEL_REF's CODE_LABEL.\n\nFrom-SVN: r76064", "tree": {"sha": "0d445cda6176b4d01ae4dc6c2b3cb60e0062d0f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d445cda6176b4d01ae4dc6c2b3cb60e0062d0f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3/comments", "author": null, "committer": null, "parents": [{"sha": "dd3adcf8a12c0b9d478553fa84d64febf7c6fcdd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd3adcf8a12c0b9d478553fa84d64febf7c6fcdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd3adcf8a12c0b9d478553fa84d64febf7c6fcdd"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "38aed72d86659bb6762d1fa41f96a0bed9b29cfa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bef5105b4e19c0841d8e7ac4cf04f1d495b964e3", "patch": "@@ -1,3 +1,8 @@\n+2004-01-17  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* builtins.c (expand_builtin_expect_jump): Fix mistake in my\n+\tlast patch.  Use XEXP (x, 0) to get a LABEL_REF's CODE_LABEL.\n+\n 2004-01-17  Daniel Jacobowitz  <drow@mvista.com>\n \n \t* rtl.h (emit_insn_before_sameloc, emit_jump_insn_before_sameloc)"}, {"sha": "d34cbd6a0b705c02d88425da4972e51e99524396", "filename": "gcc/builtins.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef5105b4e19c0841d8e7ac4cf04f1d495b964e3/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=bef5105b4e19c0841d8e7ac4cf04f1d495b964e3", "patch": "@@ -4492,16 +4492,16 @@ expand_builtin_expect_jump (tree exp, rtx if_false_label, rtx if_true_label)\n \n \t      /* First check if we recognize any of the labels.  */\n \t      if (GET_CODE (then_dest) == LABEL_REF\n-\t\t  && XEXP (then_dest, 1) == if_true_label)\n+\t\t  && XEXP (then_dest, 0) == if_true_label)\n \t\ttaken = 1;\n \t      else if (GET_CODE (then_dest) == LABEL_REF\n-\t\t       && XEXP (then_dest, 1) == if_false_label)\n+\t\t       && XEXP (then_dest, 0) == if_false_label)\n \t\ttaken = 0;\n \t      else if (GET_CODE (else_dest) == LABEL_REF\n-\t\t       && XEXP (else_dest, 1) == if_false_label)\n+\t\t       && XEXP (else_dest, 0) == if_false_label)\n \t\ttaken = 1;\n \t      else if (GET_CODE (else_dest) == LABEL_REF\n-\t\t       && XEXP (else_dest, 1) == if_true_label)\n+\t\t       && XEXP (else_dest, 0) == if_true_label)\n \t\ttaken = 0;\n \t      /* Otherwise check where we drop through.  */\n \t      else if (else_dest == pc_rtx)\n@@ -4511,7 +4511,7 @@ expand_builtin_expect_jump (tree exp, rtx if_false_label, rtx if_true_label)\n \n \t\t  if (next && GET_CODE (next) == JUMP_INSN\n \t\t      && any_uncondjump_p (next))\n-\t\t    next = XEXP (SET_SRC (pc_set (next)), 1);\n+\t\t    next = XEXP (SET_SRC (pc_set (next)), 0);\n \n \t\t  /* NEXT is either a CODE_LABEL, NULL_RTX or something\n \t\t     else that can't possibly match either target label.  */\n@@ -4527,7 +4527,7 @@ expand_builtin_expect_jump (tree exp, rtx if_false_label, rtx if_true_label)\n \n \t\t  if (next && GET_CODE (next) == JUMP_INSN\n \t\t      && any_uncondjump_p (next))\n-\t\t    next = XEXP (SET_SRC (pc_set (next)), 1);\n+\t\t    next = XEXP (SET_SRC (pc_set (next)), 0);\n \n \t\t  if (next == if_false_label)\n \t\t    taken = 0;"}]}