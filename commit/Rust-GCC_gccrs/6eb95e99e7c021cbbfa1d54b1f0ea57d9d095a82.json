{"sha": "6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmViOTVlOTllN2MwMjFjYmJmYTFkNTRiMWYwZWE1N2Q5ZDA5NWE4Mg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-07-04T18:18:54Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-07-04T18:18:54Z"}, "message": "intl: New directory; see intl/ChangeLog for details.\n\ntop:\n\t* intl: New directory; see intl/ChangeLog for details.\n\t* ABOUT-NLS, config.rpath: Import from gettext 0.12.1.\n\t* Makefile.tpl: all-gcc depends on maybe-all-intl.\n\t* Makefile.in: Regenerate.\nconfig:\n\t* gettext.m4: New file - copy of gettext.m4 from binutils\n\tCVS, with added AC_ISC_POSIX macro from gcc/aclocal.m4.\ngcc:\n\t* ABOUT-NLS: Delete.\n\t* intl: Delete entire directory.\n\t* aclocal.m4: Include ../config/gettext.m4.  Delete\n\tAC_ISC_POSIX, AM_LANGINFO_CODESET, jm_GLIBC21, AM_LC_MESSAGES,\n\tAM_PATH_PROG_WITH_TEST, AM_WITH_NLS, and AM_GNU_GETTEXT.\n\t* configure.in: Use CY_GNU_GETTEXT, not AM_GNU_GETTEXT.\n\tRemove intl/Makefile from all_outputs.\n\t* configure, config.in: Regenerate.\n\t* Makefile.in: Expunge all references to intl subdirectory.\n\tAdd -I../intl to INCLUDES.\n\t* intl.h: Include libintl.h if and only if ENABLE_NLS is defined.\nintl:\n\t* Makefile.in: Remove unnecessary capabilities for\n\tinstallation, build of shared libraries, generation of\n\tdistribution tarballs, etc.  Fix all the places that rely on\n\tthe parent directory.  Don't generate libgnuintl.h from\n\tanything; do generate $(objdir)/libintl.h from libgnuintl.h if\n\tnecessary.  Adjust DEFS for use of config.h.\n\t* libgnuintl.h.in: Rename libgnuintl.h.\n\t* README: New file.\n\t* config.charset, ref-add.sin, ref-del.sin: Delete (unused).\n\t* COPYING.LIB-2.0, COPYING.LIB-2.1: Delete (redundant).\n\t* aclocal.m4: New; generated per instructions in gettext manual.\n\t* configure.in: New; written from scratch for this configuration.\n\t* configure, config.h.in: Generated.\ncontrib:\n\t* gcc_update: Remove gcc/intl/plural.c from list.\n\tAdd new generated files intl/plural.c, intl/configure,\n\tintl/config.h.in.\n\nFrom-SVN: r68928", "tree": {"sha": "b01fd4f285dcf287b34caf7b296d58a120edb505", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b01fd4f285dcf287b34caf7b296d58a120edb505"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/comments", "author": null, "committer": null, "parents": [{"sha": "2f8058688a1a5bd6545e5249c013c10759b15758", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f8058688a1a5bd6545e5249c013c10759b15758", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f8058688a1a5bd6545e5249c013c10759b15758"}], "stats": {"total": 25597, "additions": 19059, "deletions": 6538}, "files": [{"sha": "47d5e39f0e1a0e94d55613496dc65eb016be95cf", "filename": "ABOUT-NLS", "status": "added", "additions": 625, "deletions": 0, "changes": 625, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/ABOUT-NLS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/ABOUT-NLS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ABOUT-NLS?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,625 @@\n+Notes on the Free Translation Project\n+*************************************\n+\n+   Free software is going international!  The Free Translation Project\n+is a way to get maintainers of free software, translators, and users all\n+together, so that will gradually become able to speak many languages.\n+A few packages already provide translations for their messages.\n+\n+   If you found this `ABOUT-NLS' file inside a distribution, you may\n+assume that the distributed package does use GNU `gettext' internally,\n+itself available at your nearest GNU archive site.  But you do _not_\n+need to install GNU `gettext' prior to configuring, installing or using\n+this package with messages translated.\n+\n+   Installers will find here some useful hints.  These notes also\n+explain how users should proceed for getting the programs to use the\n+available translations.  They tell how people wanting to contribute and\n+work at translations should contact the appropriate team.\n+\n+   When reporting bugs in the `intl/' directory or bugs which may be\n+related to internationalization, you should tell about the version of\n+`gettext' which is used.  The information can be found in the\n+`intl/VERSION' file, in internationalized packages.\n+\n+Quick configuration advice\n+==========================\n+\n+   If you want to exploit the full power of internationalization, you\n+should configure it using\n+\n+     ./configure --with-included-gettext\n+\n+to force usage of internationalizing routines provided within this\n+package, despite the existence of internationalizing capabilities in the\n+operating system where this package is being installed.  So far, only\n+the `gettext' implementation in the GNU C library version 2 provides as\n+many features (such as locale alias, message inheritance, automatic\n+charset conversion or plural form handling) as the implementation here.\n+It is also not possible to offer this additional functionality on top\n+of a `catgets' implementation.  Future versions of GNU `gettext' will\n+very likely convey even more functionality.  So it might be a good idea\n+to change to GNU `gettext' as soon as possible.\n+\n+   So you need _not_ provide this option if you are using GNU libc 2 or\n+you have installed a recent copy of the GNU gettext package with the\n+included `libintl'.\n+\n+INSTALL Matters\n+===============\n+\n+   Some packages are \"localizable\" when properly installed; the\n+programs they contain can be made to speak your own native language.\n+Most such packages use GNU `gettext'.  Other packages have their own\n+ways to internationalization, predating GNU `gettext'.\n+\n+   By default, this package will be installed to allow translation of\n+messages.  It will automatically detect whether the system already\n+provides the GNU `gettext' functions.  If not, the GNU `gettext' own\n+library will be used.  This library is wholly contained within this\n+package, usually in the `intl/' subdirectory, so prior installation of\n+the GNU `gettext' package is _not_ required.  Installers may use\n+special options at configuration time for changing the default\n+behaviour.  The commands:\n+\n+     ./configure --with-included-gettext\n+     ./configure --disable-nls\n+\n+will respectively bypass any pre-existing `gettext' to use the\n+internationalizing routines provided within this package, or else,\n+_totally_ disable translation of messages.\n+\n+   When you already have GNU `gettext' installed on your system and run\n+configure without an option for your new package, `configure' will\n+probably detect the previously built and installed `libintl.a' file and\n+will decide to use this.  This might be not what is desirable.  You\n+should use the more recent version of the GNU `gettext' library.  I.e.\n+if the file `intl/VERSION' shows that the library which comes with this\n+package is more recent, you should use\n+\n+     ./configure --with-included-gettext\n+\n+to prevent auto-detection.\n+\n+   The configuration process will not test for the `catgets' function\n+and therefore it will not be used.  The reason is that even an\n+emulation of `gettext' on top of `catgets' could not provide all the\n+extensions of the GNU `gettext' library.\n+\n+   Internationalized packages have usually many `po/LL.po' files, where\n+LL gives an ISO 639 two-letter code identifying the language.  Unless\n+translations have been forbidden at `configure' time by using the\n+`--disable-nls' switch, all available translations are installed\n+together with the package.  However, the environment variable `LINGUAS'\n+may be set, prior to configuration, to limit the installed set.\n+`LINGUAS' should then contain a space separated list of two-letter\n+codes, stating which languages are allowed.\n+\n+Using This Package\n+==================\n+\n+   As a user, if your language has been installed for this package, you\n+only have to set the `LANG' environment variable to the appropriate\n+`LL_CC' combination.  Here `LL' is an ISO 639 two-letter language code,\n+and `CC' is an ISO 3166 two-letter country code.  For example, let's\n+suppose that you speak German and live in Germany.  At the shell\n+prompt, merely execute `setenv LANG de_DE' (in `csh'),\n+`export LANG; LANG=de_DE' (in `sh') or `export LANG=de_DE' (in `bash').\n+This can be done from your `.login' or `.profile' file, once and for\n+all.\n+\n+   You might think that the country code specification is redundant.\n+But in fact, some languages have dialects in different countries.  For\n+example, `de_AT' is used for Austria, and `pt_BR' for Brazil.  The\n+country code serves to distinguish the dialects.\n+\n+   The locale naming convention of `LL_CC', with `LL' denoting the\n+language and `CC' denoting the country, is the one use on systems based\n+on GNU libc.  On other systems, some variations of this scheme are\n+used, such as `LL' or `LL_CC.ENCODING'.  You can get the list of\n+locales supported by your system for your country by running the command\n+`locale -a | grep '^LL''.\n+\n+   Not all programs have translations for all languages.  By default, an\n+English message is shown in place of a nonexistent translation.  If you\n+understand other languages, you can set up a priority list of languages.\n+This is done through a different environment variable, called\n+`LANGUAGE'.  GNU `gettext' gives preference to `LANGUAGE' over `LANG'\n+for the purpose of message handling, but you still need to have `LANG'\n+set to the primary language; this is required by other parts of the\n+system libraries.  For example, some Swedish users who would rather\n+read translations in German than English for when Swedish is not\n+available, set `LANGUAGE' to `sv:de' while leaving `LANG' to `sv_SE'.\n+\n+   In the `LANGUAGE' environment variable, but not in the `LANG'\n+environment variable, `LL_CC' combinations can be abbreviated as `LL'\n+to denote the language's main dialect.  For example, `de' is equivalent\n+to `de_DE' (German as spoken in Germany), and `pt' to `pt_PT'\n+(Portuguese as spoken in Portugal) in this context.\n+\n+Translating Teams\n+=================\n+\n+   For the Free Translation Project to be a success, we need interested\n+people who like their own language and write it well, and who are also\n+able to synergize with other translators speaking the same language.\n+Each translation team has its own mailing list.  The up-to-date list of\n+teams can be found at the Free Translation Project's homepage,\n+`http://www.iro.umontreal.ca/contrib/po/HTML/', in the \"National teams\"\n+area.\n+\n+   If you'd like to volunteer to _work_ at translating messages, you\n+should become a member of the translating team for your own language.\n+The subscribing address is _not_ the same as the list itself, it has\n+`-request' appended.  For example, speakers of Swedish can send a\n+message to `sv-request@li.org', having this message body:\n+\n+     subscribe\n+\n+   Keep in mind that team members are expected to participate\n+_actively_ in translations, or at solving translational difficulties,\n+rather than merely lurking around.  If your team does not exist yet and\n+you want to start one, or if you are unsure about what to do or how to\n+get started, please write to `translation@iro.umontreal.ca' to reach the\n+coordinator for all translator teams.\n+\n+   The English team is special.  It works at improving and uniformizing\n+the terminology in use.  Proven linguistic skill are praised more than\n+programming skill, here.\n+\n+Available Packages\n+==================\n+\n+   Languages are not equally supported in all packages.  The following\n+matrix shows the current state of internationalization, as of May 2003.\n+The matrix shows, in regard of each package, for which languages PO\n+files have been submitted to translation coordination, with a\n+translation percentage of at least 50%.\n+\n+     Ready PO files       am az be bg ca cs da de el en en_GB eo es\n+                        +-------------------------------------------+\n+     a2ps               |       []          [] [] []                |\n+     aegis              |                      ()                   |\n+     anubis             |                                           |\n+     ap-utils           |                                           |\n+     bash               |                      []             [] [] |\n+     batchelor          |                                           |\n+     bfd                |                   []                   [] |\n+     binutils           |                   []                   [] |\n+     bison              |                   [] []                [] |\n+     bluez-pin          |                []                   []    |\n+     clisp              |                                           |\n+     clisp              |                      []    []          [] |\n+     coreutils          |             []    [] []                [] |\n+     cpio               |                   [] []                [] |\n+     darkstat           |                   ()                   [] |\n+     diffutils          |             [] [] [] [] []          [] [] |\n+     e2fsprogs          |                []    []                   |\n+     enscript           |             []    [] []        []         |\n+     error              |             []    [] []        []      [] |\n+     fetchmail          |             [] () [] [] []             [] |\n+     fileutils          |                   [] []                [] |\n+     findutils          |             []    [] [] []          [] [] |\n+     flex               |             []    [] []                [] |\n+     gas                |                                        [] |\n+     gawk               |             []    [] []                [] |\n+     gcal               |             []                            |\n+     gcc                |                   []                   [] |\n+     gettext            |       []    []    [] []                [] |\n+     gettext-runtime    |       []    []    [] []                [] |\n+     gettext-tools      |                      []                [] |\n+     gimp-print         |                [] [] []        []      [] |\n+     gliv               |                                           |\n+     glunarclock        |    []             [] []                   |\n+     gnucash            |                      ()        []         |\n+     gnucash-glossary   |                   [] ()                [] |\n+     gnupg              |             [] ()    [] []          [] [] |\n+     gpe-calendar       |                      []                   |\n+     gpe-conf           |                      []                   |\n+     gpe-contacts       |                      []                   |\n+     gpe-edit           |                                           |\n+     gpe-login          |                      []                   |\n+     gpe-ownerinfo      |                      []                   |\n+     gpe-sketchbook     |                      []                   |\n+     gpe-timesheet      |                                           |\n+     gpe-today          |                      []                   |\n+     gpe-todo           |                      []                   |\n+     gphoto2            |                [] [] []                [] |\n+     gprof              |                   []                   [] |\n+     gpsdrive           |                      ()    ()          () |\n+     grep               |          [] []       [] []             [] |\n+     gretl              |                                        [] |\n+     hello              |             []    [] [] []          [] [] |\n+     id-utils           |                   [] []                   |\n+     indent             |             []       []             [] [] |\n+     jpilot             |                [] [] []                [] |\n+     jwhois             |                                        [] |\n+     kbd                |                [] [] [] []             [] |\n+     ld                 |                   []                   [] |\n+     libc               |             [] [] [] [] []             [] |\n+     libgpewidget       |                      []                   |\n+     libiconv           |             []    [] []             [] [] |\n+     lifelines          |                   [] ()                   |\n+     lilypond           |                   []                      |\n+     lingoteach         |                                           |\n+     lingoteach_lessons |                      ()                () |\n+     lynx               |             [] [] [] []                   |\n+     m4                 |                [] [] [] []                |\n+     mailutils          |             []                         [] |\n+     make               |                   [] []                [] |\n+     man-db             |             [] () [] []                () |\n+     mysecretdiary      |                   [] []                [] |\n+     nano               |             [] () [] []                [] |\n+     nano_1_0           |             [] () [] []                [] |\n+     opcodes            |                   []                   [] |\n+     parted             |             [] [] [] []                [] |\n+     ptx                |             []    [] []             [] [] |\n+     python             |                                           |\n+     radius             |                                           |\n+     recode             |       []          [] [] []          [] [] |\n+     screem             |                                           |\n+     sed                |             []    [] []             [] [] |\n+     sh-utils           |                   [] []                [] |\n+     sharutils          |             [] [] [] [] []             [] |\n+     sketch             |                   [] ()                [] |\n+     soundtracker       |                   [] []                [] |\n+     sp                 |                      []                   |\n+     tar                |                [] [] []                [] |\n+     texinfo            |                [] [] []             []    |\n+     textutils          |             []    [] []                [] |\n+     tin                |                      ()        ()         |\n+     util-linux         |             [] [] [] []                [] |\n+     vorbis-tools       |                [] []                   [] |\n+     wastesedge         |                      ()                   |\n+     wdiff              |             []    [] []                [] |\n+     wget               |          [] [] [] [] [] []             [] |\n+     xchat              |             []          []             [] |\n+     xpad               |                                           |\n+                        +-------------------------------------------+\n+                          am az be bg ca cs da de el en en_GB eo es\n+                           0  1  4  2 31 17 54 60 14  1   4   12 56\n+     \n+                          et fa fi fr ga gl he hr hu id it ja ko\n+                        +----------------------------------------+\n+     a2ps               | []    [] []                   ()    () |\n+     aegis              |                                        |\n+     anubis             |          []                            |\n+     ap-utils           |          []                            |\n+     bash               |          []             []             |\n+     batchelor          |             []                         |\n+     bfd                |          []                      []    |\n+     binutils           |          []                      []    |\n+     bison              | []       []                [] []       |\n+     bluez-pin          |          [] []          [] []          |\n+     clisp              |                                        |\n+     clisp              |          []                            |\n+     coreutils          | []       []                   [] []    |\n+     cpio               |          []    []       []          [] |\n+     darkstat           |          () []          [] []          |\n+     diffutils          |       [] []    [] []    [] []    []    |\n+     e2fsprogs          |                                        |\n+     enscript           |          []          []                |\n+     error              |       [] [] []          []             |\n+     fetchmail          |                                  []    |\n+     fileutils          | []       []             []    [] []    |\n+     findutils          | []    [] [] [] []    [] [] [] [] [] [] |\n+     flex               |          []                         [] |\n+     gas                |          []                            |\n+     gawk               |          []       []                   |\n+     gcal               |          []                            |\n+     gcc                |          []                            |\n+     gettext            |          []                      [] [] |\n+     gettext-runtime    |          []                []    [] [] |\n+     gettext-tools      |                                  []    |\n+     gimp-print         |          []                      []    |\n+     gliv               |          ()                            |\n+     glunarclock        |             [] []       []       []    |\n+     gnucash            |                               []       |\n+     gnucash-glossary   |                               []       |\n+     gnupg              | []    [] []    []          [] [] []    |\n+     gpe-calendar       |                            []          |\n+     gpe-conf           |                                        |\n+     gpe-contacts       |          []                            |\n+     gpe-edit           |          []                []          |\n+     gpe-login          |          []                            |\n+     gpe-ownerinfo      |          []             [] []          |\n+     gpe-sketchbook     |          []                            |\n+     gpe-timesheet      |          [] []             []          |\n+     gpe-today          |          [] []                         |\n+     gpe-todo           |          []                []          |\n+     gphoto2            |          []             []       []    |\n+     gprof              |          []                []          |\n+     gpsdrive           |          ()             []    () ()    |\n+     grep               | []    [] [] [] [] [] [] [] [] [] []    |\n+     gretl              |          []                            |\n+     hello              | [] [] [] [] [] [] [] [] [] [] [] [] [] |\n+     id-utils           |          []             [] []          |\n+     indent             | []    [] []    []       [] [] [] []    |\n+     jpilot             |          []                      ()    |\n+     jwhois             |          []             [] [] []       |\n+     kbd                |          []                            |\n+     ld                 |          []                            |\n+     libc               |       [] []    []       []       [] [] |\n+     libgpewidget       |          [] []             []          |\n+     libiconv           |       [] [] [] []    [] [] [] []       |\n+     lifelines          |          ()                            |\n+     lilypond           |          []                            |\n+     lingoteach         |          []                []          |\n+     lingoteach_lessons |                                        |\n+     lynx               | []                      []    [] []    |\n+     m4                 |          []    []          []    []    |\n+     mailutils          |                                        |\n+     make               |          []    [] [] []          [] [] |\n+     man-db             |          []                   () ()    |\n+     mysecretdiary      |          []                []          |\n+     nano               |          []    []          [] []       |\n+     nano_1_0           |          []    []          [] []       |\n+     opcodes            |          []                []          |\n+     parted             |          []    []                []    |\n+     ptx                | []    [] [] [] []       [] []          |\n+     python             |                                        |\n+     radius             |                                        |\n+     recode             |          []    [] []    [] [] []       |\n+     screem             |                                        |\n+     sed                | []       [] [] []       [] [] [] []    |\n+     sh-utils           | []    [] []             []    [] []    |\n+     sharutils          | []       []    []       []       []    |\n+     sketch             |          []                            |\n+     soundtracker       |          []    []    []                |\n+     sp                 |          []                      ()    |\n+     tar                | []    [] []    []    [] [] [] [] []    |\n+     texinfo            |          []       [] []          []    |\n+     textutils          |          []    []       []       [] [] |\n+     tin                | []       ()                            |\n+     util-linux         | []    [] []             []    () []    |\n+     vorbis-tools       |          []                            |\n+     wastesedge         |          ()                            |\n+     wdiff              | []       []    []       [] []          |\n+     wget               | []    [] []    [] [] [] []       []    |\n+     xchat              | []       []                      []    |\n+     xpad               |                                        |\n+                        +----------------------------------------+\n+                          et fa fi fr ga gl he hr hu id it ja ko\n+                          20  1 15 73 14 24  8 10 30 31 19 31  9\n+     \n+                          lg lt lv ms nb nl nn no pl pt pt_BR ro\n+                        +----------------------------------------+\n+     a2ps               |          []    []    () () ()  []   [] |\n+     aegis              |                ()                      |\n+     anubis             |          []                         [] |\n+     ap-utils           |                         ()             |\n+     bash               |                                []      |\n+     batchelor          |                                        |\n+     bfd                |                                        |\n+     binutils           |                                        |\n+     bison              |          []    []              []   [] |\n+     bluez-pin          |                                     [] |\n+     clisp              |                                        |\n+     clisp              |                []                      |\n+     coreutils          |                         []             |\n+     cpio               |                []       []     []      |\n+     darkstat           |          []    []              []   [] |\n+     diffutils          |          []             []     []      |\n+     e2fsprogs          |                                        |\n+     enscript           |                []              []      |\n+     error              |                []              []      |\n+     fetchmail          |                         ()     ()      |\n+     fileutils          |                         []             |\n+     findutils          |                []       []     []   [] |\n+     flex               |                                []      |\n+     gas                |                                        |\n+     gawk               |                                []      |\n+     gcal               |                                        |\n+     gcc                |                                        |\n+     gettext            |                         []             |\n+     gettext-runtime    |                         []             |\n+     gettext-tools      |                                        |\n+     gimp-print         |                []                      |\n+     gliv               |                                []      |\n+     glunarclock        |          []                            |\n+     gnucash            |                                        |\n+     gnucash-glossary   |                []          []          |\n+     gnupg              |                                        |\n+     gpe-calendar       |                            []       [] |\n+     gpe-conf           |                            []       [] |\n+     gpe-contacts       |                            []          |\n+     gpe-edit           |                            []       [] |\n+     gpe-login          |                            []       [] |\n+     gpe-ownerinfo      |                            []       [] |\n+     gpe-sketchbook     |                            []       [] |\n+     gpe-timesheet      |                            []       [] |\n+     gpe-today          |                            []       [] |\n+     gpe-todo           |                            []       [] |\n+     gphoto2            |                                        |\n+     gprof              |                                []      |\n+     gpsdrive           |                ()    ()        ()      |\n+     grep               |                         [] []  []   [] |\n+     gretl              |                                        |\n+     hello              |       [] [] [] [] [] [] []     []   [] |\n+     id-utils           |                []              []   [] |\n+     indent             |                []              []   [] |\n+     jpilot             |                ()    ()                |\n+     jwhois             |                []              []   [] |\n+     kbd                |                                        |\n+     ld                 |                                        |\n+     libc               |             []       [] []     []      |\n+     libgpewidget       |                            []       [] |\n+     libiconv           |                                []   [] |\n+     lifelines          |                                        |\n+     lilypond           |                []                      |\n+     lingoteach         |                                        |\n+     lingoteach_lessons |                                        |\n+     lynx               |                []              []      |\n+     m4                 |                []       []     []   [] |\n+     mailutils          |                                        |\n+     make               |                []              []      |\n+     man-db             |                                []      |\n+     mysecretdiary      |                                []      |\n+     nano               |          []    []       []          [] |\n+     nano_1_0           |          [] []    []    []             |\n+     opcodes            |                []              []   [] |\n+     parted             |                   []       []  []      |\n+     ptx                |             [] []    [] [] []  []   [] |\n+     python             |                                        |\n+     radius             |                                        |\n+     recode             |                         []     []   [] |\n+     screem             |                                        |\n+     sed                |                                []   [] |\n+     sh-utils           |             []                         |\n+     sharutils          |                []                      |\n+     sketch             |                                []      |\n+     soundtracker       |                                        |\n+     sp                 |                                        |\n+     tar                |          [] []       [] []     []   [] |\n+     texinfo            |                                     [] |\n+     textutils          |             []                         |\n+     tin                |                                        |\n+     util-linux         |                []              []      |\n+     vorbis-tools       |                []                   [] |\n+     wastesedge         |                                        |\n+     wdiff              |          []             []     []   [] |\n+     wget               |                []       []          [] |\n+     xchat              |       []       []                      |\n+     xpad               |                                     [] |\n+                        +----------------------------------------+\n+                          lg lt lv ms nb nl nn no pl pt pt_BR ro\n+                           0  0  2 11  7 26  3  4 18 15  34   34\n+     \n+                          ru sk sl sr sv ta tr uk vi wa zh_CN zh_TW\n+                        +-------------------------------------------+\n+     a2ps               | []    []    []    [] []                   | 16\n+     aegis              | ()                                        |  0\n+     anubis             |                   [] []                   |  5\n+     ap-utils           |                      ()                   |  1\n+     bash               | []                                        |  7\n+     batchelor          |                                           |  1\n+     bfd                |             []    []           []         |  7\n+     binutils           |             []    []           []         |  7\n+     bison              | []          []                            | 13\n+     bluez-pin          |                                           |  7\n+     clisp              |                                           |  0\n+     clisp              |                                           |  5\n+     coreutils          | []    []    []    []                 []   | 14\n+     cpio               | []          []                 []         | 13\n+     darkstat           |             []                 ()    ()   |  9\n+     diffutils          | []          []    []                 []   | 21\n+     e2fsprogs          |                   []                      |  3\n+     enscript           | []          []    []                      | 11\n+     error              |    []             []                 []   | 14\n+     fetchmail          |                   []                      |  7\n+     fileutils          | []    []    []    []           []    []   | 15\n+     findutils          | [] [] []    []    []           []         | 27\n+     flex               | []          []    []                      | 10\n+     gas                |                   []                      |  3\n+     gawk               |             []    []                      |  9\n+     gcal               |             []    []                      |  4\n+     gcc                |                   []                      |  4\n+     gettext            | [] [] []    []    []                 []   | 15\n+     gettext-runtime    | [] [] []    []    []                 []   | 16\n+     gettext-tools      |    [] []                                  |  5\n+     gimp-print         |    []       []                            | 10\n+     gliv               |                                           |  1\n+     glunarclock        | []          []             []             | 11\n+     gnucash            |    []                                []   |  4\n+     gnucash-glossary   |    []       []                       []   |  8\n+     gnupg              |    []       []    []                 []   | 16\n+     gpe-calendar       |                                      []   |  5\n+     gpe-conf           |                                           |  3\n+     gpe-contacts       |                                      []   |  4\n+     gpe-edit           |                                      []   |  5\n+     gpe-login          |                                      []   |  5\n+     gpe-ownerinfo      |                                      []   |  7\n+     gpe-sketchbook     |                                      []   |  5\n+     gpe-timesheet      |                                      []   |  6\n+     gpe-today          |                                      []   |  6\n+     gpe-todo           |                                      []   |  6\n+     gphoto2            |             []                 []         |  9\n+     gprof              |             []    []                      |  7\n+     gpsdrive           |    []       []                            |  3\n+     grep               | []    []          [] []                   | 24\n+     gretl              |                                           |  2\n+     hello              | [] []       []    [] []                   | 33\n+     id-utils           | []          []    []                      | 11\n+     indent             | [] []       []    []                      | 19\n+     jpilot             |             []    []    []     []    []   | 10\n+     jwhois             | ()          ()    []                 []   | 10\n+     kbd                |             []    []                      |  8\n+     ld                 |             []    []                      |  5\n+     libc               |    []       []    []           []         | 20\n+     libgpewidget       |                                           |  6\n+     libiconv           | [] [] []    []    [] []                   | 21\n+     lifelines          |             []                            |  2\n+     lilypond           |             []                            |  4\n+     lingoteach         |                                           |  2\n+     lingoteach_lessons |                                ()         |  0\n+     lynx               | []          []    [] []                   | 14\n+     m4                 | []          []                 []         | 15\n+     mailutils          |                                           |  2\n+     make               | []          []    []           []         | 15\n+     man-db             |             []                            |  6\n+     mysecretdiary      |             []    []                      |  8\n+     nano               | []          []       []                   | 15\n+     nano_1_0           | []          []       []                   | 15\n+     opcodes            |             []    []                      |  9\n+     parted             |             []    []                      | 13\n+     ptx                | []          []    []                      | 22\n+     python             |                                           |  0\n+     radius             |                                           |  0\n+     recode             | []    []    []    []                      | 19\n+     screem             |             []                            |  1\n+     sed                |    [] []    []    [] []                   | 20\n+     sh-utils           | []    []          []                      | 13\n+     sharutils          | []          []    []                 []   | 16\n+     sketch             |             []                            |  5\n+     soundtracker       |             []                            |  7\n+     sp                 |                   []                      |  3\n+     tar                |    [] []    []    []           []         | 24\n+     texinfo            | []          []    []           []         | 13\n+     textutils          | []    []    []    []                 []   | 15\n+     tin                |                                           |  1\n+     util-linux         |             []    []                      | 14\n+     vorbis-tools       | []                                        |  7\n+     wastesedge         |                                           |  0\n+     wdiff              | [] []       []    []                      | 17\n+     wget               | [] [] []    []    [] []              []   | 25\n+     xchat              |    [] []    []                            | 11\n+     xpad               |                                           |  1\n+                        +-------------------------------------------+\n+       50 teams           ru sk sl sr sv ta tr uk vi wa zh_CN zh_TW\n+       97 domains         32 19 16  0 56  0 48 10  1  1  12    23    913\n+\n+   Some counters in the preceding matrix are higher than the number of\n+visible blocks let us expect.  This is because a few extra PO files are\n+used for implementing regional variants of languages, or language\n+dialects.\n+\n+   For a PO file in the matrix above to be effective, the package to\n+which it applies should also have been internationalized and\n+distributed as such by its maintainer.  There might be an observable\n+lag between the mere existence a PO file and its wide availability in a\n+distribution.\n+\n+   If May 2003 seems to be old, you may fetch a more recent copy of\n+this `ABOUT-NLS' file on most GNU archive sites.  The most up-to-date\n+matrix with full percentage details can be found at\n+`http://www.iro.umontreal.ca/contrib/po/HTML/matrix.html'.\n+\n+Using `gettext' in new packages\n+===============================\n+\n+   If you are writing a freely available program and want to\n+internationalize it you are welcome to use GNU `gettext' in your\n+package.  Of course you have to respect the GNU Library General Public\n+License which covers the use of the GNU `gettext' library.  This means\n+in particular that even non-free programs can use `libintl' as a shared\n+library, whereas only free software can use `libintl' as a static\n+library or use modified versions of `libintl'.\n+\n+   Once the sources are changed appropriately and the setup can handle\n+the use of `gettext' the only thing missing are the translations.  The\n+Free Translation Project is also available for packages which are not\n+developed inside the GNU project.  Therefore the information given above\n+applies also for every other Free Software Project.  Contact\n+`translation@iro.umontreal.ca' to make the `.pot' files available to\n+the translation teams.\n+"}, {"sha": "a282bb7ced8234822ba8d94665f8320238d7ea9c", "filename": "ChangeLog", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,3 +1,10 @@\n+2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* intl: New directory; see intl/ChangeLog for details.\n+\t* ABOUT-NLS, config.rpath: Import from gettext 0.12.1.\n+\t* Makefile.tpl: all-gcc depends on maybe-all-intl.\n+\t* Makefile.in: Regenerate.\n+\n 2003-06-27  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* configure.in: Clean up config-lang.in handling.  Delete\n@@ -33,7 +40,7 @@\n \n \t* configure.in: Update testsuite_flags to new location.\n \t* configure. Regenerate.\n-\t\n+\n 2003-06-18  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* Makefile.tpl: Remove BUILD_CC stuff.\n@@ -48,7 +55,7 @@\n \t* MAINTAINERS (Write After Approval): Add myself.\n \n 2003-06-14  H.J. Lu <hongjiu.lu@intel.com>\n- \n+\n \t* config.guess: Update to 2003-06-12 version.\n \t* config.sub: Update to 2003-06-13 version.\n \n@@ -128,7 +135,7 @@\n \t* configure: Regenerate.\n \n 2003-05-21  DJ Delorie  <dj@redhat.com>\n-\t\n+\n \t* Makefile.tpl (configure-target-libiberty): Depend only on gcc, not\n \tnewlib or libgloss.\n \t* Makefile.in: Regenerate.\n@@ -145,7 +152,7 @@\n 2003-05-19  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* configure.in: Switch more things to use maybe dependencies.\n-\t* Makefile.tpl: Switch more things to use maybe dependencies.  \n+\t* Makefile.tpl: Switch more things to use maybe dependencies.\n \tFactor out common code from autogen IF statements.\n \t* configure: Regenerate.\n \t* Makefile.in: Regenerate.\n@@ -199,8 +206,8 @@\n \n 2003-05-02  Chris Demetriou  <cgd@broadcom.com>\n \n-        * Makefile.tpl: Require \"makeinfo\" from texinfo 4.2 or later.\n-        * Makefile.in: Regenerate.\n+\t* Makefile.tpl: Require \"makeinfo\" from texinfo 4.2 or later.\n+\t* Makefile.in: Regenerate.\n \n 2003-05-02  Wolfgang Bangerth  <bangerth@dealii.org>\n "}, {"sha": "116d7cb5b136643a3c4cbd216d95adf3e11b6331", "filename": "Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -23739,7 +23739,7 @@ gcc-no-fixedincludes:\n # Host modules specific to gcc.\n # GCC needs to identify certain tools.\n configure-gcc: maybe-configure-binutils maybe-configure-gas maybe-configure-ld maybe-configure-bison maybe-configure-flex\n-all-gcc: maybe-all-libiberty maybe-all-bison maybe-all-byacc maybe-all-binutils maybe-all-gas maybe-all-ld maybe-all-zlib\n+all-gcc: maybe-all-libiberty maybe-all-intl maybe-all-bison maybe-all-byacc maybe-all-binutils maybe-all-gas maybe-all-ld maybe-all-zlib\n # This is a slightly kludgy method of getting dependencies on \n # all-build-libiberty correct; it would be better to build it every time.\n all-gcc: maybe-all-build-libiberty"}, {"sha": "a38cb13e0708310b94a889e9e27f017ae22f9c91", "filename": "Makefile.tpl", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1284,7 +1284,7 @@ gcc-no-fixedincludes:\n # Host modules specific to gcc.\n # GCC needs to identify certain tools.\n configure-gcc: maybe-configure-binutils maybe-configure-gas maybe-configure-ld maybe-configure-bison maybe-configure-flex\n-all-gcc: maybe-all-libiberty maybe-all-bison maybe-all-byacc maybe-all-binutils maybe-all-gas maybe-all-ld maybe-all-zlib\n+all-gcc: maybe-all-libiberty maybe-all-intl maybe-all-bison maybe-all-byacc maybe-all-binutils maybe-all-gas maybe-all-ld maybe-all-zlib\n # This is a slightly kludgy method of getting dependencies on \n # all-build-libiberty correct; it would be better to build it every time.\n all-gcc: maybe-all-build-libiberty"}, {"sha": "fa24bfc2d785e1a304cb1c9fe539dd18cbb5c45b", "filename": "config.rpath", "status": "added", "additions": 548, "deletions": 0, "changes": 548, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/config.rpath", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/config.rpath", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config.rpath?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,548 @@\n+#! /bin/sh\n+# Output a system dependent set of variables, describing how to set the\n+# run time search path of shared libraries in an executable.\n+#\n+#   Copyright 1996-2003 Free Software Foundation, Inc.\n+#   Taken from GNU libtool, 2001\n+#   Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+#\n+#   This program is free software; you can redistribute it and/or modify\n+#   it under the terms of the GNU General Public License as published by\n+#   the Free Software Foundation; either version 2 of the License, or\n+#   (at your option) any later version.\n+#\n+#   This program is distributed in the hope that it will be useful, but\n+#   WITHOUT ANY WARRANTY; without even the implied warranty of\n+#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+#   General Public License for more details.\n+#\n+#   You should have received a copy of the GNU General Public License\n+#   along with this program; if not, write to the Free Software\n+#   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n+#\n+#   As a special exception to the GNU General Public License, if you\n+#   distribute this file as part of a program that contains a\n+#   configuration script generated by Autoconf, you may include it under\n+#   the same distribution terms that you use for the rest of that program.\n+#\n+# The first argument passed to this file is the canonical host specification,\n+#    CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM\n+# or\n+#    CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM\n+# The environment variables CC, GCC, LDFLAGS, LD, with_gnu_ld\n+# should be set by the caller.\n+#\n+# The set of defined variables is at the end of this script.\n+\n+# Known limitations:\n+# - On IRIX 6.5 with CC=\"cc\", the run time search patch must not be longer\n+#   than 256 bytes, otherwise the compiler driver will dump core. The only\n+#   known workaround is to choose shorter directory names for the build\n+#   directory and/or the installation directory.\n+\n+# All known linkers require a `.a' archive for static linking (except M$VC,\n+# which needs '.lib').\n+libext=a\n+shrext=.so\n+\n+host=\"$1\"\n+host_cpu=`echo \"$host\" | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+host_vendor=`echo \"$host\" | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+host_os=`echo \"$host\" | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+\n+# Code taken from libtool.m4's AC_LIBTOOL_PROG_COMPILER_PIC.\n+\n+wl=\n+if test \"$GCC\" = yes; then\n+  wl='-Wl,'\n+else\n+  case \"$host_os\" in\n+    aix*)\n+      wl='-Wl,'\n+      ;;\n+    mingw* | pw32* | os2*)\n+      ;;\n+    hpux9* | hpux10* | hpux11*)\n+      wl='-Wl,'\n+      ;;\n+    irix5* | irix6* | nonstopux*)\n+      wl='-Wl,'\n+      ;;\n+    newsos6)\n+      ;;\n+    linux*)\n+      case $CC in\n+        icc|ecc)\n+          wl='-Wl,'\n+          ;;\n+        ccc)\n+          wl='-Wl,'\n+          ;;\n+      esac\n+      ;;\n+    osf3* | osf4* | osf5*)\n+      wl='-Wl,'\n+      ;;\n+    sco3.2v5*)\n+      ;;\n+    solaris*)\n+      wl='-Wl,'\n+      ;;\n+    sunos4*)\n+      wl='-Qoption ld '\n+      ;;\n+    sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n+      wl='-Wl,'\n+      ;;\n+    sysv4*MP*)\n+      ;;\n+    uts4*)\n+      ;;\n+  esac\n+fi\n+\n+# Code taken from libtool.m4's AC_LIBTOOL_PROG_LD_SHLIBS.\n+\n+hardcode_libdir_flag_spec=\n+hardcode_libdir_separator=\n+hardcode_direct=no\n+hardcode_minus_L=no\n+\n+case \"$host_os\" in\n+  cygwin* | mingw* | pw32*)\n+    # FIXME: the MSVC++ port hasn't been tested in a loooong time\n+    # When not using gcc, we currently assume that we are using\n+    # Microsoft Visual C++.\n+    if test \"$GCC\" != yes; then\n+      with_gnu_ld=no\n+    fi\n+    ;;\n+  openbsd*)\n+    with_gnu_ld=no\n+    ;;\n+esac\n+\n+ld_shlibs=yes\n+if test \"$with_gnu_ld\" = yes; then\n+  case \"$host_os\" in\n+    aix3* | aix4* | aix5*)\n+      # On AIX/PPC, the GNU linker is very broken\n+      if test \"$host_cpu\" != ia64; then\n+        ld_shlibs=no\n+      fi\n+      ;;\n+    amigaos*)\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      hardcode_minus_L=yes\n+      # Samuel A. Falvo II <kc5tja@dolphin.openprojects.net> reports\n+      # that the semantics of dynamic libraries on AmigaOS, at least up\n+      # to version 4, is to share data among multiple programs linked\n+      # with the same dynamic library.  Since this doesn't match the\n+      # behavior of shared libraries on other platforms, we can use\n+      # them.\n+      ld_shlibs=no\n+      ;;\n+    beos*)\n+      if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n+        :\n+      else\n+        ld_shlibs=no\n+      fi\n+      ;;\n+    cygwin* | mingw* | pw32*)\n+      # hardcode_libdir_flag_spec is actually meaningless, as there is\n+      # no search path for DLLs.\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then\n+        :\n+      else\n+        ld_shlibs=no\n+      fi\n+      ;;\n+    netbsd*)\n+      ;;\n+    solaris* | sysv5*)\n+      if $LD -v 2>&1 | egrep 'BFD 2\\.8' > /dev/null; then\n+        ld_shlibs=no\n+      elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n+        :\n+      else\n+        ld_shlibs=no\n+      fi\n+      ;;\n+    sunos4*)\n+      hardcode_direct=yes\n+      ;;\n+    *)\n+      if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n+        :\n+      else\n+        ld_shlibs=no\n+      fi\n+      ;;\n+  esac\n+  if test \"$ld_shlibs\" = yes; then\n+    # Unlike libtool, we use -rpath here, not --rpath, since the documented\n+    # option of GNU ld is called -rpath, not --rpath.\n+    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n+  fi\n+else\n+  case \"$host_os\" in\n+    aix3*)\n+      # Note: this linker hardcodes the directories in LIBPATH if there\n+      # are no directories specified by -L.\n+      hardcode_minus_L=yes\n+      if test \"$GCC\" = yes; then\n+        # Neither direct hardcoding nor static linking is supported with a\n+        # broken collect2.\n+        hardcode_direct=unsupported\n+      fi\n+      ;;\n+    aix4* | aix5*)\n+      if test \"$host_cpu\" = ia64; then\n+        # On IA64, the linker does run time linking by default, so we don't\n+        # have to do anything special.\n+        aix_use_runtimelinking=no\n+      else\n+        aix_use_runtimelinking=no\n+        # Test if we are trying to use run time linking or normal\n+        # AIX style linking. If -brtl is somewhere in LDFLAGS, we\n+        # need to do runtime linking.\n+        case $host_os in aix4.[23]|aix4.[23].*|aix5*)\n+          for ld_flag in $LDFLAGS; do\n+            if (test $ld_flag = \"-brtl\" || test $ld_flag = \"-Wl,-brtl\"); then\n+              aix_use_runtimelinking=yes\n+              break\n+            fi\n+          done\n+        esac\n+      fi\n+      hardcode_direct=yes\n+      hardcode_libdir_separator=':'\n+      if test \"$GCC\" = yes; then\n+        case $host_os in aix4.[012]|aix4.[012].*)\n+          collect2name=`${CC} -print-prog-name=collect2`\n+          if test -f \"$collect2name\" && \\\n+            strings \"$collect2name\" | grep resolve_lib_name >/dev/null\n+          then\n+            # We have reworked collect2\n+            hardcode_direct=yes\n+          else\n+            # We have old collect2\n+            hardcode_direct=unsupported\n+            hardcode_minus_L=yes\n+            hardcode_libdir_flag_spec='-L$libdir'\n+            hardcode_libdir_separator=\n+          fi\n+        esac\n+      fi\n+      # Begin _LT_AC_SYS_LIBPATH_AIX.\n+      echo 'int main () { return 0; }' > conftest.c\n+      ${CC} ${LDFLAGS} conftest.c -o conftest\n+      aix_libpath=`dump -H conftest 2>/dev/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\\(.*\\)$/\\1/; p; }\n+}'`\n+      if test -z \"$aix_libpath\"; then\n+        aix_libpath=`dump -HX64 conftest 2>/dev/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\\(.*\\)$/\\1/; p; }\n+}'`\n+      fi\n+      if test -z \"$aix_libpath\"; then\n+        aix_libpath=\"/usr/lib:/lib\"\n+      fi\n+      rm -f conftest.c conftest\n+      # End _LT_AC_SYS_LIBPATH_AIX.\n+      if test \"$aix_use_runtimelinking\" = yes; then\n+        hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:'\"$aix_libpath\"\n+      else\n+        if test \"$host_cpu\" = ia64; then\n+          hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'\n+        else\n+          hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:'\"$aix_libpath\"\n+        fi\n+      fi\n+      ;;\n+    amigaos*)\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      hardcode_minus_L=yes\n+      # see comment about different semantics on the GNU ld section\n+      ld_shlibs=no\n+      ;;\n+    bsdi4*)\n+      ;;\n+    cygwin* | mingw* | pw32*)\n+      # When not using gcc, we currently assume that we are using\n+      # Microsoft Visual C++.\n+      # hardcode_libdir_flag_spec is actually meaningless, as there is\n+      # no search path for DLLs.\n+      hardcode_libdir_flag_spec=' '\n+      libext=lib\n+      ;;\n+    darwin* | rhapsody*)\n+      if $CC -v 2>&1 | grep 'Apple' >/dev/null ; then\n+        hardcode_direct=no\n+      fi\n+      ;;\n+    dgux*)\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      ;;\n+    freebsd1*)\n+      ld_shlibs=no\n+      ;;\n+    freebsd2.2*)\n+      hardcode_libdir_flag_spec='-R$libdir'\n+      hardcode_direct=yes\n+      ;;\n+    freebsd2*)\n+      hardcode_direct=yes\n+      hardcode_minus_L=yes\n+      ;;\n+    freebsd*)\n+      hardcode_libdir_flag_spec='-R$libdir'\n+      hardcode_direct=yes\n+      ;;\n+    hpux9*)\n+      hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n+      hardcode_libdir_separator=:\n+      hardcode_direct=yes\n+      # hardcode_minus_L: Not really in the search PATH,\n+      # but as the default location of the library.\n+      hardcode_minus_L=yes\n+      ;;\n+    hpux10* | hpux11*)\n+      if test \"$with_gnu_ld\" = no; then\n+        case \"$host_cpu\" in\n+          hppa*64*)\n+            hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n+            hardcode_libdir_separator=:\n+            hardcode_direct=no\n+            ;;\n+          ia64*)\n+            hardcode_libdir_flag_spec='-L$libdir'\n+            hardcode_direct=no\n+            # hardcode_minus_L: Not really in the search PATH,\n+            # but as the default location of the library.\n+            hardcode_minus_L=yes\n+            ;;\n+          *)\n+            hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n+            hardcode_libdir_separator=:\n+            hardcode_direct=yes\n+            # hardcode_minus_L: Not really in the search PATH,\n+            # but as the default location of the library.\n+            hardcode_minus_L=yes\n+            ;;\n+        esac\n+      fi\n+      ;;\n+    irix5* | irix6* | nonstopux*)\n+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n+      hardcode_libdir_separator=:\n+      ;;\n+    netbsd*)\n+      hardcode_libdir_flag_spec='-R$libdir'\n+      hardcode_direct=yes\n+      ;;\n+    newsos6)\n+      hardcode_direct=yes\n+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n+      hardcode_libdir_separator=:\n+      ;;\n+    openbsd*)\n+      hardcode_direct=yes\n+      if test -z \"`echo __ELF__ | $CC -E - | grep __ELF__`\" || test \"$host_os-$host_cpu\" = \"openbsd2.8-powerpc\"; then\n+        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'\n+      else\n+        case \"$host_os\" in\n+          openbsd[01].* | openbsd2.[0-7] | openbsd2.[0-7].*)\n+            hardcode_libdir_flag_spec='-R$libdir'\n+            ;;\n+          *)\n+            hardcode_libdir_flag_spec='${wl}-rpath,$libdir'\n+            ;;\n+        esac\n+      fi\n+      ;;\n+    os2*)\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      hardcode_minus_L=yes\n+      ;;\n+    osf3*)\n+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n+      hardcode_libdir_separator=:\n+      ;;\n+    osf4* | osf5*)\n+      if test \"$GCC\" = yes; then\n+        hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n+      else\n+        # Both cc and cxx compiler support -rpath directly\n+        hardcode_libdir_flag_spec='-rpath $libdir'\n+      fi\n+      hardcode_libdir_separator=:\n+      ;;\n+    sco3.2v5*)\n+      ;;\n+    solaris*)\n+      hardcode_libdir_flag_spec='-R$libdir'\n+      ;;\n+    sunos4*)\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      hardcode_direct=yes\n+      hardcode_minus_L=yes\n+      ;;\n+    sysv4)\n+      case $host_vendor in\n+        sni)\n+          hardcode_direct=yes # is this really true???\n+          ;;\n+        siemens)\n+          hardcode_direct=no\n+          ;;\n+        motorola)\n+          hardcode_direct=no #Motorola manual says yes, but my tests say they lie\n+          ;;\n+      esac\n+      ;;\n+    sysv4.3*)\n+      ;;\n+    sysv4*MP*)\n+      if test -d /usr/nec; then\n+        ld_shlibs=yes\n+      fi\n+      ;;\n+    sysv4.2uw2*)\n+      hardcode_direct=yes\n+      hardcode_minus_L=no\n+      ;;\n+    sysv5OpenUNIX8* | sysv5UnixWare7* |  sysv5uw[78]* | unixware7*)\n+      ;;\n+    sysv5*)\n+      hardcode_libdir_flag_spec=\n+      ;;\n+    uts4*)\n+      hardcode_libdir_flag_spec='-L$libdir'\n+      ;;\n+    *)\n+      ld_shlibs=no\n+      ;;\n+  esac\n+fi\n+\n+# Check dynamic linker characteristics\n+# Code taken from libtool.m4's AC_LIBTOOL_SYS_DYNAMIC_LINKER.\n+libname_spec='lib$name'\n+case \"$host_os\" in\n+  aix3*)\n+    ;;\n+  aix4* | aix5*)\n+    ;;\n+  amigaos*)\n+    ;;\n+  beos*)\n+    ;;\n+  bsdi4*)\n+    ;;\n+  cygwin* | mingw* | pw32*)\n+    shrext=.dll\n+    ;;\n+  darwin* | rhapsody*)\n+    shrext=.dylib\n+    ;;\n+  dgux*)\n+    ;;\n+  freebsd1*)\n+    ;;\n+  freebsd*)\n+    ;;\n+  gnu*)\n+    ;;\n+  hpux9* | hpux10* | hpux11*)\n+    case \"$host_cpu\" in\n+      ia64*)\n+        shrext=.so\n+        ;;\n+      hppa*64*)\n+        shrext=.sl\n+        ;;\n+      *)\n+        shrext=.sl\n+        ;;\n+    esac\n+    ;;\n+  irix5* | irix6* | nonstopux*)\n+    case \"$host_os\" in\n+      irix5* | nonstopux*)\n+        libsuff= shlibsuff=\n+        ;;\n+      *)\n+        case $LD in\n+          *-32|*\"-32 \"|*-melf32bsmip|*\"-melf32bsmip \") libsuff= shlibsuff= ;;\n+          *-n32|*\"-n32 \"|*-melf32bmipn32|*\"-melf32bmipn32 \") libsuff=32 shlibsuff=N32 ;;\n+          *-64|*\"-64 \"|*-melf64bmip|*\"-melf64bmip \") libsuff=64 shlibsuff=64 ;;\n+          *) libsuff= shlibsuff= ;;\n+        esac\n+        ;;\n+    esac\n+    ;;\n+  linux*oldld* | linux*aout* | linux*coff*)\n+    ;;\n+  linux*)\n+    ;;\n+  netbsd*)\n+    ;;\n+  newsos6)\n+    ;;\n+  nto-qnx)\n+    ;;\n+  openbsd*)\n+    ;;\n+  os2*)\n+    libname_spec='$name'\n+    shrext=.dll\n+    ;;\n+  osf3* | osf4* | osf5*)\n+    ;;\n+  sco3.2v5*)\n+    ;;\n+  solaris*)\n+    ;;\n+  sunos4*)\n+    ;;\n+  sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n+    ;;\n+  sysv4*MP*)\n+    ;;\n+  uts4*)\n+    ;;\n+esac\n+\n+sed_quote_subst='s/\\([\"`$\\\\]\\)/\\\\\\1/g'\n+escaped_wl=`echo \"X$wl\" | sed -e 's/^X//' -e \"$sed_quote_subst\"`\n+shlibext=`echo \"$shrext\" | sed -e 's,^\\.,,'`\n+escaped_hardcode_libdir_flag_spec=`echo \"X$hardcode_libdir_flag_spec\" | sed -e 's/^X//' -e \"$sed_quote_subst\"`\n+\n+sed -e 's/^\\([a-zA-Z0-9_]*\\)=/acl_cv_\\1=/' <<EOF\n+\n+# How to pass a linker flag through the compiler.\n+wl=\"$escaped_wl\"\n+\n+# Static library suffix (normally \"a\").\n+libext=\"$libext\"\n+\n+# Shared library suffix (normally \"so\").\n+shlibext=\"$shlibext\"\n+\n+# Flag to hardcode \\$libdir into a binary during linking.\n+# This must work even if \\$libdir does not exist.\n+hardcode_libdir_flag_spec=\"$escaped_hardcode_libdir_flag_spec\"\n+\n+# Whether we need a single -rpath flag with a separated argument.\n+hardcode_libdir_separator=\"$hardcode_libdir_separator\"\n+\n+# Set to yes if using DIR/libNAME.so during linking hardcodes DIR into the\n+# resulting binary.\n+hardcode_direct=\"$hardcode_direct\"\n+\n+# Set to yes if using the -LDIR flag during linking hardcodes DIR into the\n+# resulting binary.\n+hardcode_minus_L=\"$hardcode_minus_L\"\n+\n+EOF"}, {"sha": "4e9d441871667a7ac31f11de7fb468fb66c1e3a4", "filename": "config/ChangeLog", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,3 +1,8 @@\n+2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* gettext.m4: New file - copy of gettext.m4 from binutils\n+\tCVS, with added AC_ISC_POSIX macro from gcc/aclocal.m4.\n+\n 2003-05-14  Kelley Cook  <kelleycook@wideopenwest.com>\n \n \t* acinclude.m4: Accept i[3456789]86 for machine type.\n@@ -15,7 +20,7 @@\n 2002-12-28  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* acx.m4: Name cache variables properly.\n-\t(NCN_STRICT_CHECK_TOOL): If program is not found and \n+\t(NCN_STRICT_CHECK_TOOL): If program is not found and\n \tvalue-if-not-found is empty, use ${ncn_tool_prefix}$2 or $2,\n \tdepending on whether build != host or not.\n \t(NCN_STRICT_CHECK_TARGET_TOOL): Ditto, with the target prefix.\n@@ -139,7 +144,7 @@\n 2000-07-21  Andrew Haley  <aph@cygnus.com>\n \n \t* mh-ia64pic: New file.\n-\t* mt-ia64pic: New file.\t\n+\t* mt-ia64pic: New file.\n \n 2001-02-09  Martin Schwidefsky  <schwidefsky@de.ibm.com>\n \n@@ -207,8 +212,8 @@ Wed Nov 18 20:29:46 1998  Christopher Faylor <cgf@cygnus.com>\n \n Mon Nov  2 15:15:33 1998  Geoffrey Noer  <noer@cygnus.com>\n \n-        * mh-cygwin32: delete\n-        * mh-cygwin: was mh-cygwin32\n+\t* mh-cygwin32: delete\n+\t* mh-cygwin: was mh-cygwin32\n \n 1998-10-26  Syd Polk  <spolk@cygnus.com>\n \n@@ -235,7 +240,7 @@ Mon Aug 10 00:15:47 1998  HJ Lu (hjl@gnu.org)\n 1998-05-29  Rob Savoye  <rob@chinadoll.cygnus.com>\n \n \t* acinclude.m4: New collection of generic autoconf macros.\n-\t\n+\n Wed Apr 22 12:24:28 1998  Michael Meissner  <meissner@cygnus.com>\n \n \t* mt-ospace: New file, support using -Os instead of -O2 to compile\n@@ -278,8 +283,8 @@ Tue Mar 25 18:16:43 1997  Geoffrey Noer  <noer@cygnus.com>\n \n Wed Jan  8 19:56:43 1997  Geoffrey Noer  <noer@cygnus.com>\n \n-        * mh-cygwin32: override CFLAGS so debug info isn't included\n-        in cygwin32-hosted tools by default\n+\t* mh-cygwin32: override CFLAGS so debug info isn't included\n+\tin cygwin32-hosted tools by default\n \n Tue Dec 31 16:04:26 1996  Ian Lance Taylor  <ian@cygnus.com>\n \n@@ -377,7 +382,7 @@ Tue Nov  7 15:41:30 1995  Stan Shebs  <shebs@andros.cygnus.com>\n \t(CC_MWCPPC): Add -mpw_chars, disable warnings, add comments\n \texplaining reasons for various flags.\n \t(EXTRALIBS_PPC, EXTRALIBS_MWCPPC ): Put runtime library first.\n-\t\n+\n Fri Oct 13 14:44:25 1995  Jason Molenda  (crash@phydeaux.cygnus.com)\n \n \t* mh-aix, mh-sun:  Removed.\n@@ -386,7 +391,7 @@ Fri Oct 13 14:44:25 1995  Jason Molenda  (crash@phydeaux.cygnus.com)\n \n \t* mh-sco, mh-solaris, mh-sysv4 (X11_EXTRA_LIBS): Define.\n \n-        * mh-hp300, mh-hpux, mh-hpux8, mh-solaris, mh-sun3, mh-sysv4: Don't \n+\t* mh-hp300, mh-hpux, mh-hpux8, mh-solaris, mh-sun3, mh-sysv4: Don't\n \thardcode location of X stuff here.\n \n Thu Sep 28 13:14:56 1995  Stan Shebs  <shebs@andros.cygnus.com>\n@@ -412,7 +417,7 @@ Thu Jun 22 17:47:24 1995  Stan Shebs  <shebs@andros.cygnus.com>\n Mon Apr 10 12:29:48 1995  Stan Shebs  <shebs@andros.cygnus.com>\n \n \t* mpw-mh-mpw (EXTRALIBS): Always link in Math.o, CSANELIB.o,\n-        and ToolLibs.o.\n+\tand ToolLibs.o.\n \n \t* mpw-mh-mpw (CC): Define ALMOST_STDC.\n \t(CFLAGS): Remove ALMOST_STDC, -mc68881."}, {"sha": "829684fd0856523153a08dead9767d4da9b11ac7", "filename": "config/gettext.m4", "status": "added", "additions": 361, "deletions": 0, "changes": 361, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/config%2Fgettext.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/config%2Fgettext.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fgettext.m4?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,361 @@\n+# This file is derived from `gettext.m4'.  The difference is that the\n+# included macros assume Cygnus-style source and build trees.\n+\n+#serial 1\n+dnl This test replaces the one in autoconf.\n+dnl Currently this macro should have the same name as the autoconf macro\n+dnl because gettext's gettext.m4 (distributed in the automake package)\n+dnl still uses it.  Otherwise, the use in gettext.m4 makes autoheader\n+dnl give these diagnostics:\n+dnl   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX\n+dnl   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX\n+\n+undefine([AC_ISC_POSIX])\n+AC_DEFUN(AC_ISC_POSIX,\n+  [\n+    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.\n+    AC_CHECK_LIB(cposix, strerror, [LIBS=\"$LIBS -lcposix\"])\n+  ]\n+)\n+\n+# Macro to add for using GNU gettext.\n+# Ulrich Drepper <drepper@cygnus.com>, 1995.\n+#\n+# This file file be copied and used freely without restrictions.  It can\n+# be used in projects which are not available under the GNU Public License\n+# but which still want to provide support for the GNU gettext functionality.\n+# Please note that the actual code is *not* freely available.\n+\n+# serial 3\n+\n+AC_DEFUN(CY_WITH_NLS,\n+  [AC_MSG_CHECKING([whether NLS is requested])\n+    dnl Default is enabled NLS\n+    AC_ARG_ENABLE(nls,\n+      [  --disable-nls           do not use Native Language Support],\n+      USE_NLS=$enableval, USE_NLS=yes)\n+    AC_MSG_RESULT($USE_NLS)\n+    AC_SUBST(USE_NLS)\n+\n+    USE_INCLUDED_LIBINTL=no\n+\n+    dnl If we use NLS figure out what method\n+    if test \"$USE_NLS\" = \"yes\"; then\n+      AC_DEFINE(ENABLE_NLS, 1, [Define to 1 if NLS is requested])\n+      AC_MSG_CHECKING([whether included gettext is requested])\n+      AC_ARG_WITH(included-gettext,\n+        [  --with-included-gettext use the GNU gettext library included here],\n+        nls_cv_force_use_gnu_gettext=$withval,\n+        nls_cv_force_use_gnu_gettext=no)\n+      AC_MSG_RESULT($nls_cv_force_use_gnu_gettext)\n+\n+      nls_cv_use_gnu_gettext=\"$nls_cv_force_use_gnu_gettext\"\n+      if test \"$nls_cv_force_use_gnu_gettext\" != \"yes\"; then\n+        dnl User does not insist on using GNU NLS library.  Figure out what\n+        dnl to use.  If gettext or catgets are available (in this order) we\n+        dnl use this.  Else we have to fall back to GNU NLS library.\n+\tdnl catgets is only used if permitted by option --with-catgets.\n+\tnls_cv_header_intl=\n+\tnls_cv_header_libgt=\n+\tCATOBJEXT=NONE\n+\n+\tAC_CHECK_HEADER(libintl.h,\n+\t  [AC_CACHE_CHECK([for gettext in libc], gt_cv_func_gettext_libc,\n+\t    [AC_TRY_LINK([#include <libintl.h>], [return (int) gettext (\"\")],\n+\t       gt_cv_func_gettext_libc=yes, gt_cv_func_gettext_libc=no)])\n+\n+\t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n+\t     AC_CHECK_LIB(intl, bindtextdomain,\n+\t       [AC_CACHE_CHECK([for gettext in libintl],\n+\t\t gt_cv_func_gettext_libintl,\n+\t\t [AC_TRY_LINK([], [return (int) gettext (\"\")],\n+\t\t gt_cv_func_gettext_libintl=yes,\n+\t\t gt_cv_func_gettext_libintl=no)])])\n+\t   fi\n+\n+\t   if test \"$gt_cv_func_gettext_libc\" = \"yes\" \\\n+\t      || test \"$gt_cv_func_gettext_libintl\" = \"yes\"; then\n+\t      AC_DEFINE(HAVE_GETTEXT, 1,\n+\t\t\t[Define as 1 if you have gettext and don't want to use GNU gettext.])\n+\t      AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n+\t\t[test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)dnl\n+\t      if test \"$MSGFMT\" != \"no\"; then\n+\t\tAC_CHECK_FUNCS(dcgettext)\n+\t\tAC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n+\t\tAM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n+\t\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n+\t\tAC_TRY_LINK(, [extern int _nl_msg_cat_cntr;\n+\t\t\t       return _nl_msg_cat_cntr],\n+\t\t  [CATOBJEXT=.gmo\n+\t\t   DATADIRNAME=share],\n+\t\t  [CATOBJEXT=.mo\n+\t\t   DATADIRNAME=lib])\n+\t\tINSTOBJEXT=.mo\n+\t      fi\n+\t    fi\n+\t])\n+\n+\tdnl In the standard gettext, we would now check for catgets.\n+        dnl However, we never want to use catgets for our releases.\n+\n+        if test \"$CATOBJEXT\" = \"NONE\"; then\n+\t  dnl Neither gettext nor catgets in included in the C library.\n+\t  dnl Fall back on GNU gettext library.\n+\t  nls_cv_use_gnu_gettext=yes\n+        fi\n+      fi\n+\n+      if test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n+        dnl Mark actions used to generate GNU NLS library.\n+        INTLOBJS=\"\\$(GETTOBJS)\"\n+        AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n+\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], msgfmt)\n+        AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n+        AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n+\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n+        AC_SUBST(MSGFMT)\n+\tUSE_INCLUDED_LIBINTL=yes\n+        CATOBJEXT=.gmo\n+        INSTOBJEXT=.mo\n+        DATADIRNAME=share\n+\tINTLDEPS='$(top_builddir)/../intl/libintl.a'\n+\tINTLLIBS=$INTLDEPS\n+\tLIBS=`echo $LIBS | sed -e 's/-lintl//'`\n+        nls_cv_header_intl=libintl.h\n+        nls_cv_header_libgt=libgettext.h\n+      fi\n+\n+      dnl Test whether we really found GNU xgettext.\n+      if test \"$XGETTEXT\" != \":\"; then\n+\tdnl If it is no GNU xgettext we define it as : so that the\n+\tdnl Makefiles still can work.\n+\tif $XGETTEXT --omit-header /dev/null 2> /dev/null; then\n+\t  : ;\n+\telse\n+\t  AC_MSG_RESULT(\n+\t    [found xgettext programs is not GNU xgettext; ignore it])\n+\t  XGETTEXT=\":\"\n+\tfi\n+      fi\n+\n+      # We need to process the po/ directory.\n+      POSUB=po\n+    else\n+      DATADIRNAME=share\n+      nls_cv_header_intl=libintl.h\n+      nls_cv_header_libgt=libgettext.h\n+    fi\n+\n+    # If this is used in GNU gettext we have to set USE_NLS to `yes'\n+    # because some of the sources are only built for this goal.\n+    if test \"$PACKAGE\" = gettext; then\n+      USE_NLS=yes\n+      USE_INCLUDED_LIBINTL=yes\n+    fi\n+\n+    dnl These rules are solely for the distribution goal.  While doing this\n+    dnl we only have to keep exactly one list of the available catalogs\n+    dnl in configure.in.\n+    for lang in $ALL_LINGUAS; do\n+      GMOFILES=\"$GMOFILES $lang.gmo\"\n+      POFILES=\"$POFILES $lang.po\"\n+    done\n+\n+    dnl Make all variables we use known to autoconf.\n+    AC_SUBST(USE_INCLUDED_LIBINTL)\n+    AC_SUBST(CATALOGS)\n+    AC_SUBST(CATOBJEXT)\n+    AC_SUBST(DATADIRNAME)\n+    AC_SUBST(GMOFILES)\n+    AC_SUBST(INSTOBJEXT)\n+    AC_SUBST(INTLDEPS)\n+    AC_SUBST(INTLLIBS)\n+    AC_SUBST(INTLOBJS)\n+    AC_SUBST(POFILES)\n+    AC_SUBST(POSUB)\n+  ])\n+\n+AC_DEFUN(CY_GNU_GETTEXT,\n+  [AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n+   AC_REQUIRE([AC_PROG_CC])dnl\n+   AC_REQUIRE([AC_PROG_RANLIB])dnl\n+   AC_REQUIRE([AC_ISC_POSIX])dnl\n+   AC_REQUIRE([AC_HEADER_STDC])dnl\n+   AC_REQUIRE([AC_C_CONST])dnl\n+   AC_REQUIRE([AC_C_INLINE])dnl\n+   AC_REQUIRE([AC_TYPE_OFF_T])dnl\n+   AC_REQUIRE([AC_TYPE_SIZE_T])dnl\n+   AC_REQUIRE([AC_FUNC_ALLOCA])dnl\n+   AC_REQUIRE([AC_FUNC_MMAP])dnl\n+\n+   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h string.h \\\n+unistd.h values.h sys/param.h])\n+   AC_CHECK_FUNCS([getcwd munmap putenv setenv setlocale strchr strcasecmp \\\n+__argz_count __argz_stringify __argz_next])\n+\n+   if test \"${ac_cv_func_stpcpy+set}\" != \"set\"; then\n+     AC_CHECK_FUNCS(stpcpy)\n+   fi\n+   if test \"${ac_cv_func_stpcpy}\" = \"yes\"; then\n+     AC_DEFINE(HAVE_STPCPY, 1, [Define if you have the stpcpy function])\n+   fi\n+\n+   AM_LC_MESSAGES\n+   CY_WITH_NLS\n+\n+   if test \"x$CATOBJEXT\" != \"x\"; then\n+     if test \"x$ALL_LINGUAS\" = \"x\"; then\n+       LINGUAS=\n+     else\n+       AC_MSG_CHECKING(for catalogs to be installed)\n+       NEW_LINGUAS=\n+       for lang in ${LINGUAS=$ALL_LINGUAS}; do\n+         case \"$ALL_LINGUAS\" in\n+          *$lang*) NEW_LINGUAS=\"$NEW_LINGUAS $lang\" ;;\n+         esac\n+       done\n+       LINGUAS=$NEW_LINGUAS\n+       AC_MSG_RESULT($LINGUAS)\n+     fi\n+\n+     dnl Construct list of names of catalog files to be constructed.\n+     if test -n \"$LINGUAS\"; then\n+       for lang in $LINGUAS; do CATALOGS=\"$CATALOGS $lang$CATOBJEXT\"; done\n+     fi\n+   fi\n+\n+   dnl The reference to <locale.h> in the installed <libintl.h> file\n+   dnl must be resolved because we cannot expect the users of this\n+   dnl to define HAVE_LOCALE_H.\n+   if test $ac_cv_header_locale_h = yes; then\n+     INCLUDE_LOCALE_H=\"#include <locale.h>\"\n+   else\n+     INCLUDE_LOCALE_H=\"\\\n+/* The system does not provide the header <locale.h>.  Take care yourself.  */\"\n+   fi\n+   AC_SUBST(INCLUDE_LOCALE_H)\n+\n+   dnl Determine which catalog format we have (if any is needed)\n+   dnl For now we know about two different formats:\n+   dnl   Linux libc-5 and the normal X/Open format\n+   if test -f $srcdir/po2tbl.sed.in; then\n+      if test \"$CATOBJEXT\" = \".cat\"; then\n+\t AC_CHECK_HEADER(linux/version.h, msgformat=linux, msgformat=xopen)\n+\n+\t dnl Transform the SED scripts while copying because some dumb SEDs\n+         dnl cannot handle comments.\n+\t sed -e '/^#/d' $srcdir/$msgformat-msg.sed > po2msg.sed\n+      fi\n+      dnl po2tbl.sed is always needed.\n+      sed -e '/^#.*[^\\\\]$/d' -e '/^#$/d' \\\n+\t $srcdir/po2tbl.sed.in > po2tbl.sed\n+   fi\n+\n+   dnl In the intl/Makefile.in we have a special dependency which makes\n+   dnl only sense for gettext.  We comment this out for non-gettext\n+   dnl packages.\n+   if test \"$PACKAGE\" = \"gettext\"; then\n+     GT_NO=\"#NO#\"\n+     GT_YES=\n+   else\n+     GT_NO=\n+     GT_YES=\"#YES#\"\n+   fi\n+   AC_SUBST(GT_NO)\n+   AC_SUBST(GT_YES)\n+\n+   MKINSTALLDIRS=\"\\$(srcdir)/../../mkinstalldirs\"\n+   AC_SUBST(MKINSTALLDIRS)\n+\n+   dnl *** For now the libtool support in intl/Makefile is not for real.\n+   l=\n+   AC_SUBST(l)\n+\n+   dnl Generate list of files to be processed by xgettext which will\n+   dnl be included in po/Makefile.  But only do this if the po directory\n+   dnl exists in srcdir and contains POTFILES.in.\n+   if test -f $srcdir/po/POTFILES.in; then\n+      test -d po || mkdir po\n+      if test \"x$srcdir\" != \"x.\"; then\n+\t if test \"x`echo $srcdir | sed 's@/.*@@'`\" = \"x\"; then\n+\t    posrcprefix=\"$srcdir/\"\n+\t else\n+\t    posrcprefix=\"../$srcdir/\"\n+\t fi\n+      else\n+\t posrcprefix=\"../\"\n+      fi\n+      rm -f po/POTFILES\n+      sed -e \"/^#/d\" -e \"/^\\$/d\" -e \"s,.*,\t$posrcprefix& \\\\\\\\,\" -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" \\\n+\t < $srcdir/po/POTFILES.in > po/POTFILES\n+   fi\n+  ])\n+\n+# Search path for a program which passes the given test.\n+# Ulrich Drepper <drepper@cygnus.com>, 1996.\n+#\n+# This file file be copied and used freely without restrictions.  It can\n+# be used in projects which are not available under the GNU Public License\n+# but which still want to provide support for the GNU gettext functionality.\n+# Please note that the actual code is *not* freely available.\n+\n+# serial 1\n+\n+dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n+dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n+AC_DEFUN(AM_PATH_PROG_WITH_TEST,\n+[# Extract the first word of \"$2\", so it can be a program name with args.\n+set dummy $2; ac_word=[$]2\n+AC_MSG_CHECKING([for $ac_word])\n+AC_CACHE_VAL(ac_cv_path_$1,\n+[case \"[$]$1\" in\n+  /*)\n+  ac_cv_path_$1=\"[$]$1\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in ifelse([$5], , $PATH, [$5]); do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      if [$3]; then\n+\tac_cv_path_$1=\"$ac_dir/$ac_word\"\n+\tbreak\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+dnl If no 4th arg is given, leave the cache variable unset,\n+dnl so AC_PATH_PROGS will keep looking.\n+ifelse([$4], , , [  test -z \"[$]ac_cv_path_$1\" && ac_cv_path_$1=\"$4\"\n+])dnl\n+  ;;\n+esac])dnl\n+$1=\"$ac_cv_path_$1\"\n+if test -n \"[$]$1\"; then\n+  AC_MSG_RESULT([$]$1)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+AC_SUBST($1)dnl\n+])\n+\n+# Check whether LC_MESSAGES is available in <locale.h>.\n+# Ulrich Drepper <drepper@cygnus.com>, 1995.\n+#\n+# This file file be copied and used freely without restrictions.  It can\n+# be used in projects which are not available under the GNU Public License\n+# but which still want to provide support for the GNU gettext functionality.\n+# Please note that the actual code is *not* freely available.\n+\n+# serial 1\n+\n+AC_DEFUN(AM_LC_MESSAGES,\n+  [if test $ac_cv_header_locale_h = yes; then\n+    AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,\n+      [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n+       am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])\n+    if test $am_cv_val_LC_MESSAGES = yes; then\n+      AC_DEFINE(HAVE_LC_MESSAGES, 1,\n+\t\t[Define if your locale.h file contains LC_MESSAGES.])\n+    fi\n+  fi])"}, {"sha": "6cde5eeb3a81be2fd77b80603edb9e9a6566c0cc", "filename": "contrib/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,3 +1,9 @@\n+2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* gcc_update: Remove gcc/intl/plural.c from list.\n+\tAdd new generated files intl/plural.c, intl/configure,\n+\tintl/config.h.in.\n+\n 2003-06-13  Jason Thorpe  <thorpej@wasabisystems.com>\n \n \t* gcc_update (files_and_dependencies): Add\n@@ -53,7 +59,7 @@\n 2002-12-28  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* gcc_update (configure): Depend on config/acx.m4 as well.\n-\t\n+\n \t* gcc_update (configure): Depend on configure.in.\n \n 2002-12-24  Joseph S. Myers  <jsm@polyomino.org.uk>"}, {"sha": "0563c1d1c1afd8afabc6c05e15e7590a027832b2", "filename": "contrib/gcc_update", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/contrib%2Fgcc_update", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/contrib%2Fgcc_update", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc_update?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -66,12 +66,15 @@ texinfo/stamp-h.in: texinfo/configure.in texinfo/aclocal.m4 texinfo/acconfig.h\n texinfo/lib/Makefile.in: texinfo/lib/Makefile.am texinfo/configure.in texinfo/aclocal.m4\n texinfo/makeinfo/Makefile.in: texinfo/makeinfo/Makefile.am texinfo/configure.in texinfo/aclocal.m4\n texinfo/util/Makefile.in: texinfo/util/Makefile.am texinfo/configure.in texinfo/aclocal.m4\n+# intl library\n+intl/plural.c: intl/plural.y\n+intl/configure: intl/configure.in intl/aclocal.m4\n+intl/config.h.in: intl/configure.in intl/aclocal.m4\n # Now, proceed to gcc automatically generated files\n gcc/configure: gcc/configure.in\n gcc/cstamp-h.in: gcc/configure.in gcc/acconfig.h\n gcc/config.in: gcc/cstamp-h.in\n gcc/fixinc/fixincl.x: gcc/fixinc/fixincl.tpl gcc/fixinc/inclhack.def\n-gcc/intl/plural.c: gcc/intl/plural.y\n # And then, language-specific files\n gcc/f/intdoc.texi: gcc/f/intdoc.in gcc/f/intdoc.c gcc/f/intrin.h gcc/f/intrin.def\n gcc/cp/cfns.h: gcc/cp/cfns.gperf"}, {"sha": "f76b5d7b0043ef659ade504ad8544b64fc868703", "filename": "gcc/ABOUT-NLS", "status": "removed", "additions": 0, "deletions": 324, "changes": 324, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2FABOUT-NLS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2FABOUT-NLS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FABOUT-NLS?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,324 +0,0 @@\n-Notes on the Free Translation Project\n-*************************************\n-\n-   Free software is going international!  The Free Translation Project\n-is a way to get maintainers of free software, translators, and users all\n-together, so that will gradually become able to speak many languages.\n-A few packages already provide translations for their messages.\n-\n-   If you found this `ABOUT-NLS' file inside a distribution, you may\n-assume that the distributed package does use GNU `gettext' internally,\n-itself available at your nearest GNU archive site.  But you do _not_\n-need to install GNU `gettext' prior to configuring, installing or using\n-this package with messages translated.\n-\n-   Installers will find here some useful hints.  These notes also\n-explain how users should proceed for getting the programs to use the\n-available translations.  They tell how people wanting to contribute and\n-work at translations should contact the appropriate team.\n-\n-   When reporting bugs in the `intl/' directory or bugs which may be\n-related to internationalization, you should tell about the version of\n-`gettext' which is used.  The information can be found in the\n-`intl/VERSION' file, in internationalized packages.\n-\n-Quick configuration advice\n-==========================\n-\n-   If you want to exploit the full power of internationalization, you\n-should configure it using\n-\n-     ./configure --with-included-gettext\n-\n-to force usage of internationalizing routines provided within this\n-package, despite the existence of internationalizing capabilities in the\n-operating system where this package is being installed.  So far, only\n-the `gettext' implementation in the GNU C library version 2 provides as\n-many features (such as locale alias, message inheritance, automatic\n-charset conversion or plural form handling) as the implementation here.\n-It is also not possible to offer this additional functionality on top\n-of a `catgets' implementation.  Future versions of GNU `gettext' will\n-very likely convey even more functionality.  So it might be a good idea\n-to change to GNU `gettext' as soon as possible.\n-\n-   So you need _not_ provide this option if you are using GNU libc 2 or\n-you have installed a recent copy of the GNU gettext package with the\n-included `libintl'.\n-\n-INSTALL Matters\n-===============\n-\n-   Some packages are \"localizable\" when properly installed; the\n-programs they contain can be made to speak your own native language.\n-Most such packages use GNU `gettext'.  Other packages have their own\n-ways to internationalization, predating GNU `gettext'.\n-\n-   By default, this package will be installed to allow translation of\n-messages.  It will automatically detect whether the system already\n-provides the GNU `gettext' functions.  If not, the GNU `gettext' own\n-library will be used.  This library is wholly contained within this\n-package, usually in the `intl/' subdirectory, so prior installation of\n-the GNU `gettext' package is _not_ required.  Installers may use\n-special options at configuration time for changing the default\n-behavior.  The commands:\n-\n-     ./configure --with-included-gettext\n-     ./configure --disable-nls\n-\n-will respectively bypass any pre-existing `gettext' to use the\n-internationalizing routines provided within this package, or else,\n-_totally_ disable translation of messages.\n-\n-   When you already have GNU `gettext' installed on your system and run\n-configure without an option for your new package, `configure' will\n-probably detect the previously built and installed `libintl.a' file and\n-will decide to use this.  This might be not what is desirable.  You\n-should use the more recent version of the GNU `gettext' library.  I.e.\n-if the file `intl/VERSION' shows that the library which comes with this\n-package is more recent, you should use\n-\n-     ./configure --with-included-gettext\n-\n-to prevent auto-detection.\n-\n-   The configuration process will not test for the `catgets' function\n-and therefore it will not be used.  The reason is that even an\n-emulation of `gettext' on top of `catgets' could not provide all the\n-extensions of the GNU `gettext' library.\n-\n-   Internationalized packages have usually many `po/LL.po' files, where\n-LL gives an ISO 639 two-letter code identifying the language.  Unless\n-translations have been forbidden at `configure' time by using the\n-`--disable-nls' switch, all available translations are installed\n-together with the package.  However, the environment variable `LINGUAS'\n-may be set, prior to configuration, to limit the installed set.\n-`LINGUAS' should then contain a space separated list of two-letter\n-codes, stating which languages are allowed.\n-\n-Using This Package\n-==================\n-\n-   As a user, if your language has been installed for this package, you\n-only have to set the `LANG' environment variable to the appropriate\n-`LL_CC' combination.  Here `LL' is an ISO 639 two-letter language code,\n-and `CC' is an ISO 3166 two-letter country code.  For example, let's\n-suppose that you speak German and live in Germany.  At the shell\n-prompt, merely execute `setenv LANG de_DE' (in `csh'),\n-`export LANG; LANG=de_DE' (in `sh') or `export LANG=de_DE' (in `bash').\n-This can be done from your `.login' or `.profile' file, once and for\n-all.\n-\n-   You might think that the country code specification is redundant.\n-But in fact, some languages have dialects in different countries.  For\n-example, `de_AT' is used for Austria, and `pt_BR' for Brazil.  The\n-country code serves to distinguish the dialects.\n-\n-   Not all programs have translations for all languages.  By default, an\n-English message is shown in place of a nonexistent translation.  If you\n-understand other languages, you can set up a priority list of languages.\n-This is done through a different environment variable, called\n-`LANGUAGE'.  GNU `gettext' gives preference to `LANGUAGE' over `LANG'\n-for the purpose of message handling, but you still need to have `LANG'\n-set to the primary language; this is required by other parts of the\n-system libraries.  For example, some Swedish users who would rather\n-read translations in German than English for when Swedish is not\n-available, set `LANGUAGE' to `sv:de' while leaving `LANG' to `sv_SE'.\n-\n-   In the `LANGUAGE' environment variable, but not in the `LANG'\n-environment variable, `LL_CC' combinations can be abbreviated as `LL'\n-to denote the language's main dialect.  For example, `de' is equivalent\n-to `de_DE' (German as spoken in Germany), and `pt' to `pt_PT'\n-(Portuguese as spoken in Portugal) in this context.\n-\n-Translating Teams\n-=================\n-\n-   For the Free Translation Project to be a success, we need interested\n-people who like their own language and write it well, and who are also\n-able to synergize with other translators speaking the same language.\n-Each translation team has its own mailing list.  The up-to-date list of\n-teams can be found at the Free Translation Project's homepage,\n-`http://www.iro.umontreal.ca/contrib/po/HTML/', in the \"National teams\"\n-area.\n-\n-   If you'd like to volunteer to _work_ at translating messages, you\n-should become a member of the translating team for your own language.\n-The subscribing address is _not_ the same as the list itself, it has\n-`-request' appended.  For example, speakers of Swedish can send a\n-message to `sv-request@li.org', having this message body:\n-\n-     subscribe\n-\n-   Keep in mind that team members are expected to participate\n-_actively_ in translations, or at solving translational difficulties,\n-rather than merely lurking around.  If your team does not exist yet and\n-you want to start one, or if you are unsure about what to do or how to\n-get started, please write to `translation@iro.umontreal.ca' to reach the\n-coordinator for all translator teams.\n-\n-   The English team is special.  It works at improving and uniformizing\n-the terminology in use.  Proven linguistic skill are praised more than\n-programming skill, here.\n-\n-Available Packages\n-==================\n-\n-   Languages are not equally supported in all packages.  The following\n-matrix shows the current state of internationalization, as of September\n-2001.  The matrix shows, in regard of each package, for which languages\n-PO files have been submitted to translation coordination, with a\n-translation percentage of at least 50%.\n-\n-     Ready PO files    bg cs da de el en eo es et fi fr gl he hr id it ja\n-                     +----------------------------------------------------+\n-     a2ps            |          []             []    []                   |\n-     bash            |          []       [] []       []                   |\n-     bfd             |                                                    |\n-     binutils        |                               []                   |\n-     bison           |          []          [] []    []                [] |\n-     clisp           |          []    []    []       []                   |\n-     cpio            |       [] []          []       [] []                |\n-     diffutils       |       [] []       [] []       [] []       []       |\n-     enscript        |          []                   []                   |\n-     error           |                      []       []                   |\n-     fetchmail       |                                                    |\n-     fileutils       |    [] [] [] []       []       [] []             [] |\n-     findutils       |       [] []          [] []    [] []       [] []    |\n-     flex            |       []             []       []                   |\n-     freetype        |                                                    |\n-     gas             |                                                    |\n-     gawk            |                               []    []             |\n-     gcal            |                                                    |\n-     gcc             |                                                    |\n-     gettext         |    [] [] [] []       []       [] []       [] [] [] |\n-     gnupg           |          []       []    []    [] []          [] [] |\n-     gprof           |                                                    |\n-     grep            |    []    []       [] [] []    [] []          []    |\n-     hello           |       [] [] []    [] [] [] [] [] []          [] [] |\n-     id-utils        |       [] []                   []                   |\n-     indent          |       [] []             []    [] []                |\n-     jpilot          |                               []                   |\n-     kbd             |                                                    |\n-     ld              |                               []                   |\n-     libc            |    [] [] [] []       []       [] []             [] |\n-     lilypond        |                                                 [] |\n-     lynx            |    [] [] []                                     [] |\n-     m4              |    [] [] [] []                [] []       []    [] |\n-     make            |       [] []          []       [] []             [] |\n-     mysecretdiary   |          []                                        |\n-     nano            |                      []          []       []       |\n-     opcodes         |                                                    |\n-     parted          |          []                      []             [] |\n-     ptx             |       [] []          [] []    [] []       []       |\n-     python          |                                                    |\n-     recode          |       [] [] []    [] []       [] [] []       []    |\n-     sed             |    [] [] [] []    []    []    [] [] []    [] [] [] |\n-     sh-utils        |    [] [] [] []       [] []    [] []          [] [] |\n-     sharutils       |    [] [] [] []       []       [] []             [] |\n-     sketch          |                                                    |\n-     soundtracker    |          []          []          []                |\n-     sp              |                                                    |\n-     tar             |    [] [] []          [] []    []             [] [] |\n-     texinfo         |    [] [] []       []          []                [] |\n-     textutils       |    [] [] [] []       []       [] []             [] |\n-     util-linux      |    [] []                                           |\n-     wdiff           |       [] []             []                         |\n-     wget            |    [] [] [] []       [] []    [] [] []          [] |\n-                     +----------------------------------------------------+\n-                       bg cs da de el en eo es et fi fr gl he hr id it ja\n-                        0 14 24 32 11  1  8 23 13  1 33 22  4  0  7  9 18\n-     \n-                       ko lv nb nl nn no pl pt pt_BR ru sk sl sv tr uk zh\n-                     +----------------------------------------------------+\n-     a2ps            |          []                   []    []             |  6\n-     bash            |                                                    |  4\n-     bfd             |                                                    |  0\n-     binutils        |                                                    |  1\n-     bison           |                               []                   |  6\n-     clisp           |          []                                        |  5\n-     cpio            | []       []       []     []   []                   | 10\n-     diffutils       |                   []          []       [] []       | 11\n-     enscript        |          []              []   []                   |  5\n-     error           |                                  []       []       |  4\n-     fetchmail       |                                                    |  0\n-     fileutils       | []       []       []     []   [] [] [] [] []       | 17\n-     findutils       | []       []       []     []   []    [] [] []       | 16\n-     flex            | []                            []       []          |  6\n-     freetype        |                                                    |  0\n-     gas             |                                                    |  0\n-     gawk            |                                           []       |  3\n-     gcal            |                                                    |  0\n-     gcc             |                                                    |  0\n-     gettext         | []                []     []   []    [] [] []    [] | 18\n-     gnupg           |                   []                   [] []       | 10\n-     gprof           |                                                    |  0\n-     grep            |                   []                [] [] []       | 12\n-     hello           | [] [] [] []    [] []          [] []    [] [] []    | 22\n-     id-utils        |          []                   []       []          |  6\n-     indent          | []       []       []          [] []    [] []       | 12\n-     jpilot          |                                                    |  1\n-     kbd             |                                           []       |  1\n-     ld              |                                                    |  1\n-     libc            | []    []       [] []     []      []    [] []       | 16\n-     lilypond        |          []                            []          |  3\n-     lynx            |          []              []   []       []          |  8\n-     m4              |          []       []          []       []          | 12\n-     make            | []       []       []     []   []          []       | 12\n-     mysecretdiary   |                                                    |  1\n-     nano            |                                        []          |  4\n-     opcodes         |                                           []       |  1\n-     parted          |          []                   []                   |  5\n-     ptx             |       [] []    [] [] []       []       [] []       | 15\n-     python          |                                                    |  0\n-     recode          |                   []          []    [] []          | 13\n-     sed             |          []              []   [] [] [] [] []       | 19\n-     sh-utils        |       [] []    [] []     []   [] [] [] [] []    [] | 21\n-     sharutils       |          []                   []       []          | 11\n-     sketch          |                                                    |  0\n-     soundtracker    |                                                    |  3\n-     sp              |                                                    |  0\n-     tar             |       []       [] []     []         [] [] []       | 15\n-     texinfo         |                               []                   |  7\n-     textutils       |       [] []    [] []     []   [] [] []             | 16\n-     util-linux      |                          []               []       |  4\n-     wdiff           |                               [] []    [] []       |  7\n-     wget            |          []                   [] [] [] [] [] []    | 17\n-                     +----------------------------------------------------+\n-       33 teams        ko lv nb nl nn no pl pt pt_BR ru sk sl sv tr uk zh\n-       53 domains       9  1  6 20  0  6 17  1  13   25 10 11 23 21  2  2  387\n-\n-   Some counters in the preceding matrix are higher than the number of\n-visible blocks let us expect.  This is because a few extra PO files are\n-used for implementing regional variants of languages, or language\n-dialects.\n-\n-   For a PO file in the matrix above to be effective, the package to\n-which it applies should also have been internationalized and\n-distributed as such by its maintainer.  There might be an observable\n-lag between the mere existence a PO file and its wide availability in a\n-distribution.\n-\n-   If September 2001 seems to be old, you may fetch a more recent copy\n-of this `ABOUT-NLS' file on most GNU archive sites.  The most\n-up-to-date matrix with full percentage details can be found at\n-`http://www.iro.umontreal.ca/contrib/po/HTML/matrix.html'.\n-\n-Using `gettext' in new packages\n-===============================\n-\n-   If you are writing a freely available program and want to\n-internationalize it you are welcome to use GNU `gettext' in your\n-package.  Of course you have to respect the GNU Library General Public\n-License which covers the use of the GNU `gettext' library.  This means\n-in particular that even non-free programs can use `libintl' as a shared\n-library, whereas only free software can use `libintl' as a static\n-library or use modified versions of `libintl'.\n-\n-   Once the sources are changed appropriately and the setup can handle\n-to use of `gettext' the only thing missing are the translations.  The\n-Free Translation Project is also available for packages which are not\n-developed inside the GNU project.  Therefore the information given above\n-applies also for every other Free Software Project.  Contact\n-`translation@iro.umontreal.ca' to make the `.pot' files available to\n-the translation teams.\n-"}, {"sha": "8a0d0a111bf775f3c042ab69321555c64a657385", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,3 +1,17 @@\n+2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* ABOUT-NLS: Delete.\n+\t* intl: Delete entire directory.\n+\t* aclocal.m4: Include ../config/gettext.m4.  Delete\n+\tAC_ISC_POSIX, AM_LANGINFO_CODESET, jm_GLIBC21, AM_LC_MESSAGES,\n+\tAM_PATH_PROG_WITH_TEST, AM_WITH_NLS, and AM_GNU_GETTEXT.\n+\t* configure.in: Use CY_GNU_GETTEXT, not AM_GNU_GETTEXT.\n+\tRemove intl/Makefile from all_outputs.\n+\t* configure, config.in: Regenerate.\n+\t* Makefile.in: Expunge all references to intl subdirectory.\n+\tAdd -I../intl to INCLUDES.\n+\t* intl.h: Include libintl.h if and only if ENABLE_NLS is defined.\n+\n 2003-07-04  Roger Sayle  <roger@eyesopen.com>\n \n \t* config/rs6000/aix51.h (TARGET_C99_FUNCTIONS): Define.\n@@ -59,7 +73,7 @@\n \n \t* c-opts.c (c_common_parse_file): Remove extra\n \tdebug_hooks->start_source_file call.\n-\t\n+\n 2003-07-03  Roger Sayle  <roger@eyesopen.com>\n \n \t* real.c (real_trunc, real_floor, real_ceil): New functions"}, {"sha": "0e4fc583e944728a74d7d55df5ad101e847963bd", "filename": "gcc/Makefile.in", "status": "modified", "additions": 18, "deletions": 47, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -439,9 +439,6 @@ INTLDEPS = @INTLDEPS@\n # Character encoding conversion library.\n LIBICONV = @LIBICONV@\n \n-# List of internationalization subdirectories.\n-INTL_SUBDIRS = intl\n-\n # The GC method to be used on this system.\n GGC=@GGC@.o\n \n@@ -719,8 +716,9 @@ BUILD_VARRAY = $(BUILD_PREFIX)varray.o\n # subdirectory rather than in the source directory.\n # -I$(@D) and -I$(srcdir)/$(@D) cause the subdirectory of the file\n # currently being compiled, in both source trees, to be examined as well.\n+# libintl.h will be found in ../intl if we are using the included libintl.\n INCLUDES = -I. -I$(@D) -I$(srcdir) -I$(srcdir)/$(@D) \\\n-\t   -I$(srcdir)/config -I$(srcdir)/../include\n+\t   -I$(srcdir)/config -I$(srcdir)/../include -I../intl\n \n # Always use -I$(srcdir)/config when compiling.\n .c.o:\n@@ -1008,7 +1006,7 @@ start.encap: native xgcc$(exeext) cpp$(exeext) specs \\\n rest.encap: $(STMP_FIXPROTO) $(LIBGCC) $(EXTRA_PARTS) lang.rest.encap\n # This is what is made with the host's compiler\n # whether making a cross compiler or not.\n-native: config.status auto-host.h intl.all build-@POSUB@ $(LANGUAGES) \\\n+native: config.status auto-host.h build-@POSUB@ $(LANGUAGES) \\\n \t$(EXTRA_PASSES) $(EXTRA_PROGRAMS) $(USE_COLLECT2)\n \n # Define the names for selecting languages in LANGUAGES.\n@@ -2320,19 +2318,6 @@ intl.o: intl.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) intl.h Makefile\n \n $(top_builddir)/intl/libintl.a: intl.all\n \n-intl.all intl.install intl.uninstall \\\n-  intl.mostlyclean intl.clean intl.distclean intl.maintainer-clean:\n-\t@for d in $(INTL_SUBDIRS); do \\\n-\t  target=`expr $@ : 'intl.\\(.*\\)'` && \\\n-\t  echo \"(cd $$d && $(MAKE) $$target)\" && \\\n-\t  (cd $$d && AWK='$(AWK)' $(MAKE) $(SUBDIR_FLAGS_TO_PASS) $$target); \\\n-\t  if [ $$? -eq 0 ] ; then true ; else exit 1 ; fi ; \\\n-\tdone\n-\n-# intl.all and intl.install need config.h to exist, and the files it includes.\n-# (FIXME: intl/*.c shouldn't need to see insn-foo.h!)\n-intl.all intl.install: config.h insn-flags.h insn-constants.h\n-\n # Make-lang.in should add dependencies of po-generated on any generated\n # files which need to be scanned by gettext (usually Yacc-generated parsers).\n po-generated: $(parsedir)/c-parse.c\n@@ -2787,8 +2772,7 @@ $(docobjdir)/fsf-funding.7: $(docdir)/include/funding.texi\n # We remove as much from the language subdirectories as we can\n # (less duplicated code).\n \n-INTL_MOSTLYCLEAN = intl.mostlyclean\n-mostlyclean: $(INTL_MOSTLYCLEAN) lang.mostlyclean\n+mostlyclean: lang.mostlyclean\n \t-rm -f $(STAGESTUFF)\n \t-rm -f *$(coverageexts)\n \t-rm -rf libgcc\n@@ -2830,8 +2814,7 @@ mostlyclean: $(INTL_MOSTLYCLEAN) lang.mostlyclean\n \n # Delete all files made by compilation\n # that don't exist in the distribution.\n-INTL_CLEAN = intl.clean\n-clean: mostlyclean $(INTL_CLEAN) lang.clean\n+clean: mostlyclean lang.clean\n \t-rm -f libgcc.a libgcc_eh.a libgcov.a\n \t-rm -f libgcc_s$(SHLIB_EXT) libgcc_s$(SHLIB_EXT).1\n \t-rm -f config.h tconfig.h bconfig.h tm_p.h tm.h\n@@ -2856,8 +2839,7 @@ clean: mostlyclean $(INTL_CLEAN) lang.clean\n \n # Delete all files that users would normally create\n # while building and installing GCC.\n-INTL_DISTCLEAN = intl.distclean\n-distclean: clean $(INTL_DISTCLEAN) lang.distclean\n+distclean: clean lang.distclean\n \t-rm -f auto-host.h auto-build.h\n \t-rm -f cstamp-h\n \t-rm -f config.status config.run config.cache config.bak\n@@ -2872,7 +2854,6 @@ distclean: clean $(INTL_DISTCLEAN) lang.distclean\n \t-cd testsuite && rm -f x *.x *.x? *.exe *.rpo *.o *.s *.S *.c\n \t-cd testsuite && rm -f *.out *.gcov *$(coverageexts)\n \t-rm -rf ${QMTEST_DIR} stamp-qmtest\n-\t-rm -f intl/libintl.h libintl.h\n \t-rm -f cxxmain.c\n \t-rm -f mklibgcc mkheaders gccbug .gdbinit configargs.h\n \t-rm -f gcov.pod\n@@ -2901,14 +2882,10 @@ extraclean: distclean lang.extraclean\n \n # Get rid of every file that's generated from some other file, except for `configure'.\n # Most of these files ARE PRESENT in the GCC distribution.\n-# We define INTL_DISTCLEAN, INTL_CLEAN & INTL_MOSTLYCLEAN to be empty in the\n-# submake, so that we don't descend into intl after its makefile has been\n-# removed.\n maintainer-clean:\n \t@echo 'This command is intended for maintainers to use; it'\n \t@echo 'deletes files that may need special tools to rebuild.'\n-\t$(MAKE) INTL_DISTCLEAN= INTL_CLEAN= INTL_MOSTLYCLEAN= \\\n-\t\tintl.maintainer-clean lang.maintainer-clean distclean\n+\t$(MAKE) lang.maintainer-clean distclean\n \t-rm -f c-parse.y c-parse.c c-parse.output TAGS\n \t-rm -f cpp.??s cpp.*aux\n \t-rm -f gcc.??s gcc.*aux\n@@ -2924,7 +2901,7 @@ maintainer-clean:\n # Install the driver last so that the window when things are\n # broken is small.\n install: install-common $(INSTALL_HEADERS) $(INSTALL_LIBGCC) \\\n-    install-cpp install-man install-info intl.install install-@POSUB@ \\\n+    install-cpp install-man install-info install-@POSUB@ \\\n     lang.install-normal install-driver\n \n # Handle cpp installation.\n@@ -3219,7 +3196,7 @@ install-collect2: collect2 installdirs\n \t$(INSTALL_PROGRAM) xgcc$(exeext) $(DESTDIR)$(libsubdir)/gcc$(exeext)\n \n # Cancel installation by deleting the installed files.\n-uninstall: intl.uninstall lang.uninstall\n+uninstall: lang.uninstall\n \t-rm -rf $(DESTDIR)$(libsubdir)\n \t-rm -rf $(DESTDIR)$(bindir)/$(GCC_INSTALL_NAME)$(exeext)\n \t-rm -rf $(DESTDIR)$(bindir)/$(GCC_CROSS_NAME)$(exeext)\n@@ -3690,7 +3667,7 @@ slowcompare slowcompare3 slowcompare4 slowcompare-lean slowcompare3-lean slowcom\n \t    && (cmp tmp-foo1 tmp-foo2 > /dev/null 2>&1 || echo $$file differs >> .bad_compare) || true; \\\n \tdone\n \tcase \"$@\" in slowcompare | slowcompare-lean ) stage=2 ;; * ) stage=`echo $@ | sed -e 's,^slowcompare\\([0-9][0-9]*\\).*,\\1,'` ;; esac; \\\n-\tfor dir in tmp-foo intl $(SUBDIRS); do \\\n+\tfor dir in tmp-foo $(SUBDIRS); do \\\n \t  if [ \"`echo $$dir/*$(objext)`\" != \"$$dir/*$(objext)\" ] ; then \\\n \t    for file in $$dir/*$(objext); do \\\n \t      tail +16c ./$$file > tmp-foo1; \\\n@@ -3725,7 +3702,7 @@ gnucompare gnucompare3 gnucompare4 gnucompare-lean gnucompare3-lean gnucompare4-\n \t  test $$? -eq 1 && echo $$file differs >> .bad_compare || true; \\\n \tdone\n \tcase \"$@\" in gnucompare | gnucompare-lean ) stage=2 ;; * ) stage=`echo $@ | sed -e 's,^gnucompare\\([0-9][0-9]*\\).*,\\1,'` ;; esac; \\\n-\tfor dir in tmp-foo intl $(SUBDIRS); do \\\n+\tfor dir in tmp-foo $(SUBDIRS); do \\\n \t  if [ \"`echo $$dir/*$(objext)`\" != \"$$dir/*$(objext)\" ] ; then \\\n \t    for file in $$dir/*$(objext); do \\\n \t      cmp --ignore-initial=16 $$file stage$$stage/$$file > /dev/null 2>&1; \\\n@@ -3756,14 +3733,13 @@ compare4-lean: @make_compare_target@4-lean\n stage1-start:\n \t-if [ -d stage1 ] ; then true ; else mkdir stage1 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage1\n-\t-for dir in intl $(SUBDIRS) ; \\\n+\t-for dir in $(SUBDIRS) ; \\\n \t do \\\n \t   if [ -d stage1/$$dir ] ; then true ; else mkdir stage1/$$dir ; fi ; \\\n \t done\n # If SPECS is overridden, make sure it is `installed' as specs.\n \t-mv $(SPECS) stage1/specs\n \t-mv $(STAGESTUFF) stage1\n-\t-mv intl/*$(objext) stage1/intl\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n \t-if [ -f as$(exeext) ] ; then (cd stage1 && $(LN_S) ../as$(exeext) .) ; else true ; fi\n@@ -3790,14 +3766,13 @@ stage1: force stage1-start lang.stage1\n stage2-start:\n \t-if [ -d stage2 ] ; then true ; else mkdir stage2 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage2\n-\t-for dir in intl $(SUBDIRS) ; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n \t do \\\n \t   if [ -d stage2/$$dir ] ; then true ; else mkdir stage2/$$dir ; fi ; \\\n \t done\n # If SPECS is overridden, make sure it is `installed' as specs.\n \t-mv $(SPECS) stage2/specs\n \t-mv $(STAGESTUFF) stage2\n-\t-mv intl/*$(objext) stage2/intl\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n \t-if [ -f as$(exeext) ] ; then (cd stage2 && $(LN_S) ../as$(exeext) .) ; else true ; fi\n@@ -3820,14 +3795,13 @@ stage2: force stage2-start lang.stage2\n stage3-start:\n \t-if [ -d stage3 ] ; then true ; else mkdir stage3 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage3\n-\t-for dir in intl $(SUBDIRS) ; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n \t do \\\n \t   if [ -d stage3/$$dir ] ; then true ; else mkdir stage3/$$dir ; fi ; \\\n \t done\n # If SPECS is overridden, make sure it is `installed' as specs.\n \t-mv $(SPECS) stage3/specs\n \t-mv $(STAGESTUFF) stage3\n-\t-mv intl/*$(objext) stage3/intl\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n \t-if [ -f as$(exeext) ] ; then (cd stage3 && $(LN_S) ../as$(exeext) .) ; else true ; fi\n@@ -3850,14 +3824,13 @@ stage3: force stage3-start lang.stage3\n stage4-start:\n \t-if [ -d stage4 ] ; then true ; else mkdir stage4 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage4\n-\t-for dir in intl $(SUBDIRS) ; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n \t do \\\n \t   if [ -d stage4/$$dir ] ; then true ; else mkdir stage4/$$dir ; fi ; \\\n \t done\n # If SPECS is overridden, make sure it is `installed' as specs.\n \t-mv $(SPECS) stage4/specs\n \t-mv $(STAGESTUFF) stage4\n-\t-mv intl/*$(objext) stage4/intl\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n \t-if [ -f as$(exeext) ] ; then (cd stage4 && $(LN_S) ../as$(exeext) .) ; else true ; fi\n@@ -3880,12 +3853,11 @@ stage4: force stage4-start lang.stage4\n stageprofile-start:\n \t-if [ -d stageprofile ] ; then true ; else mkdir stageprofile ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stageprofile\n-\t-for dir in intl $(SUBDIRS) ; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n \t do \\\n \t   if [ -d stageprofile/$$dir ] ; then true ; else mkdir stageprofile/$$dir ; fi ; \\\n \t done\n \t-mv $(STAGESTUFF) stageprofile\n-\t-mv intl/*$(objext) stageprofile/intl\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n \t-if [ -f as$(exeext) ] ; then (cd stageprofile && $(LN_S) ../as$(exeext) .) ; else true ; fi\n@@ -3908,20 +3880,19 @@ stageprofile: force stageprofile-start lang.stageprofile\n stagefeedback-start:\n \t-if [ -d stagefeedback ] ; then true ; else mkdir stagefeedback ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stagefeedback\n-\t-for dir in intl $(SUBDIRS) ; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n \t do \\\n \t   if [ -d stagefeedback/$$dir ] ; then true ; else mkdir stagefeedback/$$dir ; fi ; \\\n \t done\n \t-mv $(STAGESTUFF) stagefeedback\n-\t-mv intl/*$(objext) stagefeedback/intl\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n \t-if [ -f as$(exeext) ] ; then (cd stagefeedback && $(LN_S) ../as$(exeext) .) ; else true ; fi\n \t-if [ -f ld$(exeext) ] ; then (cd stagefeedback && $(LN_S) ../ld$(exeext) .) ; else true ; fi\n \t-if [ -f collect-ld$(exeext) ] ; then (cd stagefeedback && $(LN_S) ../collect-ld$(exeext) .) ; else true ; fi\n \t-rm -f stagefeedback/libgcc.a stagefeedback/libgcov.a stagefeedback/libgcc_eh.a\n \t-rm -f *.da\n-\t-for dir in fixinc intl po testsuite $(SUBDIRS); \\\n+\t-for dir in fixinc po testsuite $(SUBDIRS); \\\n \t do \\\n \t   rm -f $$dir/*.da ; \\\n \t done"}, {"sha": "52db15ffc234ec618ff3730165157fa520ee57b9", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 1, "deletions": 546, "changes": 547, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,6 @@\n sinclude(../config/acx.m4)\n sinclude(../config/accross.m4)\n+sinclude(../config/gettext.m4)\n \n dnl See if stdbool.h properly defines bool and true/false.\n AC_DEFUN(gcc_AC_HEADER_STDBOOL,\n@@ -308,24 +309,6 @@ else\n fi\n ])\n \n-#serial 1\n-dnl This test replaces the one in autoconf.\n-dnl Currently this macro should have the same name as the autoconf macro\n-dnl because gettext's gettext.m4 (distributed in the automake package)\n-dnl still uses it.  Otherwise, the use in gettext.m4 makes autoheader\n-dnl give these diagnostics:\n-dnl   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX\n-dnl   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX\n-\n-undefine([AC_ISC_POSIX])\n-AC_DEFUN(AC_ISC_POSIX,\n-  [\n-    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.\n-    AC_CHECK_LIB(cposix, strerror, [LIBS=\"$LIBS -lcposix\"])\n-  ]\n-)\n-\n-\n dnl GCC_PATH_PROG(VARIABLE, PROG-TO-CHECK-FOR [, VALUE-IF-NOT-FOUND [, PATH]])\n dnl like AC_PATH_PROG but use other cache variables\n AC_DEFUN(GCC_PATH_PROG,\n@@ -635,534 +618,6 @@ size_t iconv();\n   AC_SUBST(LIBICONV)\n ])\n \n-### Gettext macros begin here.\n-### Changes for GCC marked by 'dnl GCC LOCAL'.\n-### Note iconv.m4 appears above, as it's used for other reasons.\n-\n-#serial AM1\n-\n-dnl From Bruno Haible.\n-\n-AC_DEFUN([AM_LANGINFO_CODESET],\n-[\n-  AC_CACHE_CHECK([for nl_langinfo and CODESET], am_cv_langinfo_codeset,\n-    [AC_TRY_LINK([#include <langinfo.h>],\n-      [char* cs = nl_langinfo(CODESET);],\n-      am_cv_langinfo_codeset=yes,\n-      am_cv_langinfo_codeset=no)\n-    ])\n-  if test $am_cv_langinfo_codeset = yes; then\n-    AC_DEFINE(HAVE_LANGINFO_CODESET, 1,\n-      [Define if you have <langinfo.h> and nl_langinfo(CODESET).])\n-  fi\n-])\n-\n-#serial 1\n-# This test replaces the one in autoconf.\n-# Currently this macro should have the same name as the autoconf macro\n-# because gettext's gettext.m4 (distributed in the automake package)\n-# still uses it.  Otherwise, the use in gettext.m4 makes autoheader\n-# give these diagnostics:\n-#   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX\n-#   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX\n-\n-undefine([AC_ISC_POSIX])\n-\n-AC_DEFUN([AC_ISC_POSIX],\n-  [\n-    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.\n-    dnl GCC LOCAL: Use AC_SEARCH_LIBS.\n-    AC_SEARCH_LIBS(strerror, cposix)\n-  ]\n-)\n-\n-#serial 2\n-\n-# Test for the GNU C Library, version 2.1 or newer.\n-# From Bruno Haible.\n-\n-AC_DEFUN([jm_GLIBC21],\n-  [\n-    AC_CACHE_CHECK(whether we are using the GNU C Library 2.1 or newer,\n-      ac_cv_gnu_library_2_1,\n-      [AC_EGREP_CPP([Lucky GNU user],\n-\t[\n-#include <features.h>\n-#ifdef __GNU_LIBRARY__\n- #if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 1) || (__GLIBC__ > 2)\n-  Lucky GNU user\n- #endif\n-#endif\n-\t],\n-\tac_cv_gnu_library_2_1=yes,\n-\tac_cv_gnu_library_2_1=no)\n-      ]\n-    )\n-    AC_SUBST(GLIBC21)\n-    GLIBC21=\"$ac_cv_gnu_library_2_1\"\n-  ]\n-)\n-\n-# Check whether LC_MESSAGES is available in <locale.h>.\n-# Ulrich Drepper <drepper@cygnus.com>, 1995.\n-#\n-# This file can be copied and used freely without restrictions.  It can\n-# be used in projects which are not available under the GNU General Public\n-# License or the GNU Library General Public License but which still want\n-# to provide support for the GNU gettext functionality.\n-# Please note that the actual code of the GNU gettext library is covered\n-# by the GNU Library General Public License, and the rest of the GNU\n-# gettext package package is covered by the GNU General Public License.\n-# They are *not* in the public domain.\n-\n-# serial 2\n-\n-AC_DEFUN([AM_LC_MESSAGES],\n-  [if test $ac_cv_header_locale_h = yes; then\n-    AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,\n-      [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n-       am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])\n-    if test $am_cv_val_LC_MESSAGES = yes; then\n-      AC_DEFINE(HAVE_LC_MESSAGES, 1,\n-        [Define if your <locale.h> file defines LC_MESSAGES.])\n-    fi\n-  fi])\n-\n-# Search path for a program which passes the given test.\n-# Ulrich Drepper <drepper@cygnus.com>, 1996.\n-#\n-# This file can be copied and used freely without restrictions.  It can\n-# be used in projects which are not available under the GNU General Public\n-# License or the GNU Library General Public License but which still want\n-# to provide support for the GNU gettext functionality.\n-# Please note that the actual code of the GNU gettext library is covered\n-# by the GNU Library General Public License, and the rest of the GNU\n-# gettext package package is covered by the GNU General Public License.\n-# They are *not* in the public domain.\n-\n-# serial 2\n-\n-dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n-dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n-AC_DEFUN([AM_PATH_PROG_WITH_TEST],\n-[# Extract the first word of \"$2\", so it can be a program name with args.\n-set dummy $2; ac_word=[$]2\n-AC_MSG_CHECKING([for $ac_word])\n-AC_CACHE_VAL(ac_cv_path_$1,\n-[case \"[$]$1\" in\n-  /*)\n-  ac_cv_path_$1=\"[$]$1\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for ac_dir in ifelse([$5], , $PATH, [$5]); do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      if [$3]; then\n-\tac_cv_path_$1=\"$ac_dir/$ac_word\"\n-\tbreak\n-      fi\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-dnl If no 4th arg is given, leave the cache variable unset,\n-dnl so AC_PATH_PROGS will keep looking.\n-ifelse([$4], , , [  test -z \"[$]ac_cv_path_$1\" && ac_cv_path_$1=\"$4\"\n-])dnl\n-  ;;\n-esac])dnl\n-$1=\"$ac_cv_path_$1\"\n-if test ifelse([$4], , [-n \"[$]$1\"], [\"[$]$1\" != \"$4\"]); then\n-  AC_MSG_RESULT([$]$1)\n-else\n-  AC_MSG_RESULT(no)\n-fi\n-AC_SUBST($1)dnl\n-])\n-\n-# Macro to add for using GNU gettext.\n-# Ulrich Drepper <drepper@cygnus.com>, 1995.\n-#\n-# This file can be copied and used freely without restrictions.  It can\n-# be used in projects which are not available under the GNU General Public\n-# License or the GNU Library General Public License but which still want\n-# to provide support for the GNU gettext functionality.\n-# Please note that the actual code of the GNU gettext library is covered\n-# by the GNU Library General Public License, and the rest of the GNU\n-# gettext package package is covered by the GNU General Public License.\n-# They are *not* in the public domain.\n-\n-# serial 10\n-\n-dnl Usage: AM_WITH_NLS([TOOLSYMBOL], [NEEDSYMBOL], [LIBDIR]).\n-dnl If TOOLSYMBOL is specified and is 'use-libtool', then a libtool library\n-dnl    $(top_builddir)/intl/libintl.la will be created (shared and/or static,\n-dnl    depending on --{enable,disable}-{shared,static} and on the presence of\n-dnl    AM-DISABLE-SHARED). Otherwise, a static library\n-dnl    $(top_builddir)/intl/libintl.a will be created.\n-dnl If NEEDSYMBOL is specified and is 'need-ngettext', then GNU gettext\n-dnl    implementations (in libc or libintl) without the ngettext() function\n-dnl    will be ignored.\n-dnl LIBDIR is used to find the intl libraries.  If empty,\n-dnl    the value `$(top_builddir)/intl/' is used.\n-dnl\n-dnl The result of the configuration is one of three cases:\n-dnl 1) GNU gettext, as included in the intl subdirectory, will be compiled\n-dnl    and used.\n-dnl    Catalog format: GNU --> install in $(datadir)\n-dnl    Catalog extension: .mo after installation, .gmo in source tree\n-dnl 2) GNU gettext has been found in the system's C library.\n-dnl    Catalog format: GNU --> install in $(datadir)\n-dnl    Catalog extension: .mo after installation, .gmo in source tree\n-dnl 3) No internationalization, always use English msgid.\n-dnl    Catalog format: none\n-dnl    Catalog extension: none\n-dnl The use of .gmo is historical (it was needed to avoid overwriting the\n-dnl GNU format catalogs when building on a platform with an X/Open gettext),\n-dnl but we keep it in order not to force irrelevant filename changes on the\n-dnl maintainers.\n-dnl\n-AC_DEFUN([AM_WITH_NLS],\n-  [AC_MSG_CHECKING([whether NLS is requested])\n-    dnl Default is enabled NLS\n-    AC_ARG_ENABLE(nls,\n-      [  --disable-nls           do not use Native Language Support],\n-      USE_NLS=$enableval, USE_NLS=yes)\n-    AC_MSG_RESULT($USE_NLS)\n-    AC_SUBST(USE_NLS)\n-\n-    BUILD_INCLUDED_LIBINTL=no\n-    USE_INCLUDED_LIBINTL=no\n-dnl GCC LOCAL: Separate concept of link command line from dependencies.\n-    INTLLIBS=\n-    INTLDEPS=\n-\n-    dnl If we use NLS figure out what method\n-    if test \"$USE_NLS\" = \"yes\"; then\n-      AC_DEFINE(ENABLE_NLS, 1,\n-        [Define to 1 if translation of program messages to the user's native language\n-   is requested.])\n-      AC_MSG_CHECKING([whether included gettext is requested])\n-      AC_ARG_WITH(included-gettext,\n-        [  --with-included-gettext use the GNU gettext library included here],\n-        nls_cv_force_use_gnu_gettext=$withval,\n-        nls_cv_force_use_gnu_gettext=no)\n-      AC_MSG_RESULT($nls_cv_force_use_gnu_gettext)\n-\n-      nls_cv_use_gnu_gettext=\"$nls_cv_force_use_gnu_gettext\"\n-      if test \"$nls_cv_force_use_gnu_gettext\" != \"yes\"; then\n-        dnl User does not insist on using GNU NLS library.  Figure out what\n-        dnl to use.  If GNU gettext is available we use this.  Else we have\n-        dnl to fall back to GNU NLS library.\n-\tCATOBJEXT=NONE\n-\n-        dnl Add a version number to the cache macros.\n-        define(gt_cv_func_gnugettext_libc, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libc])\n-        define(gt_cv_func_gnugettext_libintl, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libintl])\n-\n-dnl GCC LOCAL: Expose presence of libintl.h to C code.\n-\tAC_CHECK_HEADER(libintl.h,\n-\t  [AC_DEFINE([HAVE_LIBINTL_H], 1,\n-\t\t[Define if you have the <libintl.h> header file.])\n-           AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,\n-\t    [AC_TRY_LINK([#include <libintl.h>\n-extern int _nl_msg_cat_cntr;],\n-\t       [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr],\n-\t       gt_cv_func_gnugettext_libc=yes,\n-\t       gt_cv_func_gnugettext_libc=no)])\n-\n-\t   if test \"$gt_cv_func_gnugettext_libc\" != \"yes\"; then\n-\t     AC_CACHE_CHECK([for GNU gettext in libintl],\n-\t       gt_cv_func_gnugettext_libintl,\n-\t       [gt_save_LIBS=\"$LIBS\"\n-\t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n-\t\tAC_TRY_LINK([#include <libintl.h>\n-extern int _nl_msg_cat_cntr;],\n-\t\t  [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr],\n-\t\t  gt_cv_func_gnugettext_libintl=yes,\n-\t\t  gt_cv_func_gnugettext_libintl=no)\n-\t\tLIBS=\"$gt_save_LIBS\"])\n-\t   fi\n-\n-\t   dnl If an already present or preinstalled GNU gettext() is found,\n-\t   dnl use it.  But if this macro is used in GNU gettext, and GNU\n-\t   dnl gettext is already preinstalled in libintl, we update this\n-\t   dnl libintl.  (Cf. the install rule in intl/Makefile.in.)\n-\t   if test \"$gt_cv_func_gnugettext_libc\" = \"yes\" \\\n-\t      || { test \"$gt_cv_func_gnugettext_libintl\" = \"yes\" \\\n-\t\t   && test \"$PACKAGE\" != gettext; }; then\n-\t     AC_DEFINE(HAVE_GETTEXT, 1,\n-               [Define if the GNU gettext() function is already present or preinstalled.])\n-\n-\t     if test \"$gt_cv_func_gnugettext_libintl\" = \"yes\"; then\n-\t       dnl If iconv() is in a separate libiconv library, then anyone\n-\t       dnl linking with libintl{.a,.so} also needs to link with\n-\t       dnl libiconv.\n-\t       INTLLIBS=\"-lintl $LIBICONV\"\n-\t     fi\n-\n-\t     gt_save_LIBS=\"$LIBS\"\n-\t     LIBS=\"$LIBS $INTLLIBS\"\n-\t     AC_CHECK_FUNCS(dcgettext)\n-\t     LIBS=\"$gt_save_LIBS\"\n-\n-\t     dnl Search for GNU msgfmt in the PATH.\n-\t     AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n-\t       [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1], :)\n-\t     AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n-\n-\t     dnl Search for GNU xgettext in the PATH.\n-\t     AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n-\t       [$ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1], :)\n-\n-\t     CATOBJEXT=.gmo\n-\t   fi\n-\t])\n-\n-        if test \"$CATOBJEXT\" = \"NONE\"; then\n-\t  dnl GNU gettext is not found in the C library.\n-\t  dnl Fall back on GNU gettext library.\n-\t  nls_cv_use_gnu_gettext=yes\n-        fi\n-      fi\n-\n-      if test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n-        dnl Mark actions used to generate GNU NLS library.\n-        INTLOBJS=\"\\$(GETTOBJS)\"\n-        AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n-\t  [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1], :)\n-        AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n-        AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n-\t  [$ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1], :)\n-        AC_SUBST(MSGFMT)\n-\tBUILD_INCLUDED_LIBINTL=yes\n-\tUSE_INCLUDED_LIBINTL=yes\n-        CATOBJEXT=.gmo\n-\tINTLLIBS=\"ifelse([$3],[],\\$(top_builddir)/intl,[$3])/libintl.ifelse([$1], use-libtool, [l], [])a $LIBICONV\"\n-\tINTLDEPS=\"ifelse([$3],[],\\$(top_builddir)/intl,[$3])/libintl.ifelse([$1], use-libtool, [l], [])a\"\n-\tLIBS=`echo \" $LIBS \" | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`\n-      fi\n-\n-      dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.\n-      dnl Test whether we really found GNU msgfmt.\n-      if test \"$GMSGFMT\" != \":\"; then\n-\tdnl If it is no GNU msgfmt we define it as : so that the\n-\tdnl Makefiles still can work.\n-\tif $GMSGFMT --statistics /dev/null >/dev/null 2>&1; then\n-\t  : ;\n-\telse\n-\t  AC_MSG_RESULT(\n-\t    [found msgfmt program is not GNU msgfmt; ignore it])\n-\t  GMSGFMT=\":\"\n-\tfi\n-      fi\n-\n-      dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.\n-      dnl Test whether we really found GNU xgettext.\n-      if test \"$XGETTEXT\" != \":\"; then\n-\tdnl If it is no GNU xgettext we define it as : so that the\n-\tdnl Makefiles still can work.\n-\tif $XGETTEXT --omit-header /dev/null >/dev/null 2>&1; then\n-\t  : ;\n-\telse\n-\t  AC_MSG_RESULT(\n-\t    [found xgettext program is not GNU xgettext; ignore it])\n-\t  XGETTEXT=\":\"\n-\tfi\n-      fi\n-\n-      dnl We need to process the po/ directory.\n-      POSUB=po\n-    fi\n-    AC_OUTPUT_COMMANDS(\n-     [for ac_file in $CONFIG_FILES; do\n-        # Support \"outfile[:infile[:infile...]]\"\n-        case \"$ac_file\" in\n-          *:*) ac_file=`echo \"$ac_file\"|sed 's%:.*%%'` ;;\n-        esac\n-        # PO directories have a Makefile.in generated from Makefile.in.in.\n-        case \"$ac_file\" in */Makefile.in)\n-          # Adjust a relative srcdir.\n-          ac_dir=`echo \"$ac_file\"|sed 's%/[^/][^/]*$%%'`\n-          ac_dir_suffix=\"/`echo \"$ac_dir\"|sed 's%^\\./%%'`\"\n-          ac_dots=`echo \"$ac_dir_suffix\"|sed 's%/[^/]*%../%g'`\n-          # In autoconf-2.13 it is called $ac_given_srcdir.\n-          # In autoconf-2.50 it is called $srcdir.\n-          test -n \"$ac_given_srcdir\" || ac_given_srcdir=\"$srcdir\"\n-          case \"$ac_given_srcdir\" in\n-            .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;\n-            /*) top_srcdir=\"$ac_given_srcdir\" ;;\n-            *)  top_srcdir=\"$ac_dots$ac_given_srcdir\" ;;\n-          esac\n-          if test -f \"$ac_given_srcdir/$ac_dir/POTFILES.in\"; then\n-            rm -f \"$ac_dir/POTFILES\"\n-            test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/POTFILES\" || echo \"creating $ac_dir/POTFILES\"\n-            sed -e \"/^#/d\" -e \"/^[ \t]*\\$/d\" -e \"s,.*,     $top_srcdir/& \\\\\\\\,\" -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" < \"$ac_given_srcdir/$ac_dir/POTFILES.in\" > \"$ac_dir/POTFILES\"\n-            test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/Makefile\" || echo \"creating $ac_dir/Makefile\"\n-            sed -e \"/POTFILES =/r $ac_dir/POTFILES\" \"$ac_dir/Makefile.in\" > \"$ac_dir/Makefile\"\n-          fi\n-          ;;\n-        esac\n-      done])\n-\n-\n-    dnl If this is used in GNU gettext we have to set BUILD_INCLUDED_LIBINTL\n-    dnl to 'yes' because some of the testsuite requires it.\n-    if test \"$PACKAGE\" = gettext; then\n-      BUILD_INCLUDED_LIBINTL=yes\n-    fi\n-\n-    dnl intl/plural.c is generated from intl/plural.y. It requires bison,\n-    dnl because plural.y uses bison specific features. It requires at least\n-    dnl bison-1.26 because earlier versions generate a plural.c that doesn't\n-    dnl compile.\n-    dnl bison is only needed for the maintainer (who touches plural.y). But in\n-    dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put\n-    dnl the rule in general Makefile. Now, some people carelessly touch the\n-    dnl files or have a broken \"make\" program, hence the plural.c rule will\n-    dnl sometimes fire. To avoid an error, defines BISON to \":\" if it is not\n-    dnl present or too old.\n-    AC_CHECK_PROGS([INTLBISON], [bison])\n-    if test -z \"$INTLBISON\"; then\n-      ac_verc_fail=yes\n-    else\n-      dnl Found it, now check the version.\n-      AC_MSG_CHECKING([version of bison])\n-changequote(<<,>>)dnl\n-      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n-      case $ac_prog_version in\n-        '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n-        1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)\n-changequote([,])dnl\n-           ac_prog_version=\"$ac_prog_version, ok\"; ac_verc_fail=no;;\n-        *) ac_prog_version=\"$ac_prog_version, bad\"; ac_verc_fail=yes;;\n-      esac\n-      AC_MSG_RESULT([$ac_prog_version])\n-    fi\n-    if test $ac_verc_fail = yes; then\n-      INTLBISON=:\n-    fi\n-\n-    dnl GCC LOCAL: GMOFILES/POFILES removed as unnecessary.\n-\n-    dnl Make all variables we use known to autoconf.\n-    AC_SUBST(BUILD_INCLUDED_LIBINTL)\n-    AC_SUBST(USE_INCLUDED_LIBINTL)\n-    AC_SUBST(CATALOGS)\n-    AC_SUBST(CATOBJEXT)\n-    AC_SUBST(INTLLIBS)\n-    AC_SUBST(INTLDEPS)\n-    AC_SUBST(INTLOBJS)\n-    AC_SUBST(POSUB)\n-dnl GCC LOCAL: Make USE_INCLUDED_LIBINTL visible to C code.\n-    if test $USE_INCLUDED_LIBINTL = yes; then\n-      AC_DEFINE([USE_INCLUDED_LIBINTL], 1,\n-  [Define to use the libintl included with this package instead of any\n-   version in the system libraries.])\n-    fi\n-\n-    dnl For backward compatibility. Some configure.ins may be using this.\n-    nls_cv_header_intl=\n-    nls_cv_header_libgt=\n-\n-    dnl For backward compatibility. Some Makefiles may be using this.\n-    DATADIRNAME=share\n-    AC_SUBST(DATADIRNAME)\n-\n-    dnl For backward compatibility. Some Makefiles may be using this.\n-    INSTOBJEXT=.mo\n-    AC_SUBST(INSTOBJEXT)\n-\n-    dnl For backward compatibility. Some Makefiles may be using this.\n-    GENCAT=gencat\n-    AC_SUBST(GENCAT)\n-  ])\n-\n-dnl Usage: Just like AM_WITH_NLS, which see.\n-AC_DEFUN([AM_GNU_GETTEXT],\n-  [AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n-   AC_REQUIRE([AC_PROG_CC])dnl\n-   AC_REQUIRE([AC_CANONICAL_HOST])dnl\n-   AC_REQUIRE([AC_PROG_RANLIB])dnl\n-   AC_REQUIRE([AC_ISC_POSIX])dnl\n-   AC_REQUIRE([AC_HEADER_STDC])dnl\n-   AC_REQUIRE([AC_C_CONST])dnl\n-   AC_REQUIRE([AC_C_INLINE])dnl\n-   AC_REQUIRE([AC_TYPE_OFF_T])dnl\n-   AC_REQUIRE([AC_TYPE_SIZE_T])dnl\n-   AC_REQUIRE([AC_FUNC_ALLOCA])dnl\n-dnl GCC LOCAL: Do not refer to AC_FUNC_MMAP, we have special needs.\n-dnl   AC_REQUIRE([AC_FUNC_MMAP])dnl\n-   AC_REQUIRE([jm_GLIBC21])dnl\n-\n-   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h stddef.h \\\n-stdlib.h string.h unistd.h sys/param.h])\n-   AC_CHECK_FUNCS([feof_unlocked fgets_unlocked getcwd getegid geteuid \\\n-getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n-strdup strtoul tsearch __argz_count __argz_stringify __argz_next])\n-\n-   AM_ICONV\n-   AM_LANGINFO_CODESET\n-   AM_LC_MESSAGES\n-   AM_WITH_NLS([$1],[$2],[$3])\n-\n-   dnl GCC LOCAL: The LINGUAS/ALL_LINGUAS/CATALOGS mess that was here\n-   dnl has been torn out and replaced with this more sensible scheme.\n-   if test \"x$CATOBJEXT\" != x; then\n-     AC_MSG_CHECKING(for catalogs to be installed)\n-     # Look for .po and .gmo files in the source directory.\n-     CATALOGS=\n-     XLINGUAS=\n-     for cat in $srcdir/po/*$CATOBJEXT $srcdir/po/*.po; do\n-\t# If there aren't any .gmo files the shell will give us the\n-\t# literal string \"../path/to/srcdir/po/*.gmo\" which has to be\n-\t# weeded out.\n-\tcase \"$cat\" in *\\**)\n-\t    continue;;\n-\tesac\n-\t# The quadruple backslash is collapsed to a double backslash\n-\t# by the backticks, then collapsed again by the double quotes,\n-\t# leaving us with one backslash in the sed expression (right\n-\t# before the dot that mustn't act as a wildcard).  The dot to\n-\t# be escaped in the second expression is hiding inside CATOBJEXT.\n-\tcat=`echo $cat | sed -e \"s!$srcdir/!!\" -e \"s!\\\\\\\\.po!$CATOBJEXT!\"`\n-\tlang=`echo $cat | sed -e 's!po/!!' -e \"s!\\\\\\\\$CATOBJEXT!!\"`\n-\t# The user is allowed to set LINGUAS to a list of languages to\n-\t# install catalogs for.  If it's empty that means \"all of them.\"\n-\tif test \"x$LINGUAS\" = x; then\n-\t    CATALOGS=\"$CATALOGS $cat\"\n-\t    XLINGUAS=\"$XLINGUAS $lang\"\n-\telse\n-\t  case \"$LINGUAS\" in *$lang*)\n-\t    CATALOGS=\"$CATALOGS $cat\"\n-\t    XLINGUAS=\"$XLINGUAS $lang\"\n-\t    ;;\n-\t  esac\n-\tfi\n-     done\n-     LINGUAS=\"$XLINGUAS\"\n-     AC_MSG_RESULT($LINGUAS)\n-   fi\n-\n-   dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly\n-   dnl find the mkinstalldirs script in another subdir but $(top_srcdir).\n-   dnl Try to locate is.\n-   MKINSTALLDIRS=\n-   if test -n \"$ac_aux_dir\"; then\n-     MKINSTALLDIRS=\"$ac_aux_dir/mkinstalldirs\"\n-   fi\n-   if test -z \"$MKINSTALLDIRS\"; then\n-     MKINSTALLDIRS=\"\\$(top_srcdir)/mkinstalldirs\"\n-   fi\n-   AC_SUBST(MKINSTALLDIRS)\n-\n-   dnl Enable libtool support if the surrounding package wishes it.\n-   INTL_LIBTOOL_SUFFIX_PREFIX=ifelse([$1], use-libtool, [l], [])\n-   AC_SUBST(INTL_LIBTOOL_SUFFIX_PREFIX)\n-  ])\n-\n AC_DEFUN(gcc_AC_INITFINI_ARRAY,\n [AC_ARG_ENABLE(initfini-array,\n \t[  --enable-initfini-array\tuse .init_array/.fini_array sections],"}, {"sha": "d17fd693ceb1ad8315106e1cf12d625c67bb0ee2", "filename": "gcc/config.in", "status": "modified", "additions": 14, "deletions": 49, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,4 +1,4 @@\n-/* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define if using alloca.c.  */\n #undef C_ALLOCA\n@@ -23,6 +23,9 @@\n /* Define if you have <alloca.h> and it should be used (not on Ultrix).  */\n #undef HAVE_ALLOCA_H\n \n+/* Define if you have a working `mmap' system call.  */\n+#undef HAVE_MMAP\n+\n /* Define if you have <sys/wait.h> that is POSIX.1 compatible.  */\n #undef HAVE_SYS_WAIT_H\n \n@@ -108,12 +111,6 @@\n /* Define if you have the dup2 function.  */\n #undef HAVE_DUP2\n \n-/* Define if you have the feof_unlocked function.  */\n-#undef HAVE_FEOF_UNLOCKED\n-\n-/* Define if you have the fgets_unlocked function.  */\n-#undef HAVE_FGETS_UNLOCKED\n-\n /* Define if you have the fprintf_unlocked function.  */\n #undef HAVE_FPRINTF_UNLOCKED\n \n@@ -129,14 +126,8 @@\n /* Define if you have the getcwd function.  */\n #undef HAVE_GETCWD\n \n-/* Define if you have the getegid function.  */\n-#undef HAVE_GETEGID\n-\n-/* Define if you have the geteuid function.  */\n-#undef HAVE_GETEUID\n-\n-/* Define if you have the getgid function.  */\n-#undef HAVE_GETGID\n+/* Define if you have the getpagesize function.  */\n+#undef HAVE_GETPAGESIZE\n \n /* Define if you have the getrlimit function.  */\n #undef HAVE_GETRLIMIT\n@@ -147,9 +138,6 @@\n /* Define if you have the gettimeofday function.  */\n #undef HAVE_GETTIMEOFDAY\n \n-/* Define if you have the getuid function.  */\n-#undef HAVE_GETUID\n-\n /* Define if you have the kill function.  */\n #undef HAVE_KILL\n \n@@ -159,9 +147,6 @@\n /* Define if you have the mbstowcs function.  */\n #undef HAVE_MBSTOWCS\n \n-/* Define if you have the mempcpy function.  */\n-#undef HAVE_MEMPCPY\n-\n /* Define if you have the mincore function.  */\n #undef HAVE_MINCORE\n \n@@ -201,24 +186,15 @@\n /* Define if you have the strchr function.  */\n #undef HAVE_STRCHR\n \n-/* Define if you have the strdup function.  */\n-#undef HAVE_STRDUP\n-\n /* Define if you have the strsignal function.  */\n #undef HAVE_STRSIGNAL\n \n-/* Define if you have the strtoul function.  */\n-#undef HAVE_STRTOUL\n-\n /* Define if you have the sysconf function.  */\n #undef HAVE_SYSCONF\n \n /* Define if you have the times function.  */\n #undef HAVE_TIMES\n \n-/* Define if you have the tsearch function.  */\n-#undef HAVE_TSEARCH\n-\n /* Define if you have the wcswidth function.  */\n #undef HAVE_WCSWIDTH\n \n@@ -288,6 +264,9 @@\n /* Define if you have the <unistd.h> header file.  */\n #undef HAVE_UNISTD_H\n \n+/* Define if you have the <values.h> header file.  */\n+#undef HAVE_VALUES_H\n+\n /* Define if you have the <wchar.h> header file.  */\n #undef HAVE_WCHAR_H\n \n@@ -529,32 +508,18 @@\n    the results of comparisons. */\n #undef EXTRA_CC_MODES\n \n-/* Define if you have the iconv() function. */\n-#undef HAVE_ICONV\n-\n-/* Define as const if the declaration of iconv() needs const. */\n-#undef ICONV_CONST\n-\n-/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */\n-#undef HAVE_LANGINFO_CODESET\n+/* Define if you have the stpcpy function */\n+#undef HAVE_STPCPY\n \n-/* Define if your <locale.h> file defines LC_MESSAGES. */\n+/* Define if your locale.h file contains LC_MESSAGES. */\n #undef HAVE_LC_MESSAGES\n \n-/* Define to 1 if translation of program messages to the user's native language\n-   is requested. */\n+/* Define to 1 if NLS is requested */\n #undef ENABLE_NLS\n \n-/* Define if you have the <libintl.h> header file. */\n-#undef HAVE_LIBINTL_H\n-\n-/* Define if the GNU gettext() function is already present or preinstalled. */\n+/* Define as 1 if you have gettext and don't want to use GNU gettext. */\n #undef HAVE_GETTEXT\n \n-/* Define to use the libintl included with this package instead of any\n-   version in the system libraries. */\n-#undef USE_INCLUDED_LIBINTL\n-\n /* Define to 1 if installation paths should be looked up in Windows32\n    Registry. Ignored on non windows32 hosts. */\n #undef ENABLE_WIN32_REGISTRY"}, {"sha": "74995a9006f8aed382150962c6250f8fc02359b2", "filename": "gcc/configure", "status": "modified", "additions": 864, "deletions": 778, "changes": 1642, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82"}, {"sha": "ddb4615bc4dfcc423e340aa859f180b5ad6f6c15", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1217,7 +1217,7 @@ if test \"${build}\" != \"${host}\" && test \"x$enable_nls\" = \"xyes\"; then\n   enable_nls=no\n fi\n \n-AM_GNU_GETTEXT\n+CY_GNU_GETTEXT\n \n # Windows32 Registry support for specifying GCC installation paths.\n AC_ARG_ENABLE(win32-registry,\n@@ -2923,7 +2923,7 @@ all_languages=\n all_boot_languages=\n all_compilers=\n all_stagestuff=\n-all_outputs='Makefile intl/Makefile fixinc/Makefile gccbug mklibgcc mkheaders'\n+all_outputs='Makefile fixinc/Makefile gccbug mklibgcc mkheaders'\n # List of language makefile fragments.\n all_lang_makefiles=\n # Files for gengtype\n@@ -3236,11 +3236,6 @@ if test \"$symbolic_link\" = \"ln -s\"; then\n    fi\n  done\n else true ; fi\n-# Avoid having to add intl to our include paths.\n-if test -f intl/libintl.h; then\n-  echo creating libintl.h\n-  echo '#include \"intl/libintl.h\"' >libintl.h\n-fi\n ], \n [subdirs='$subdirs'\n symbolic_link='$symbolic_link'"}, {"sha": "18f66490c590dc2d076084171248fba37094d0ef", "filename": "gcc/intl.h", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fintl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/gcc%2Fintl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -27,17 +27,8 @@\n # define setlocale(category, locale) (locale)\n #endif\n \n-#ifdef USE_INCLUDED_LIBINTL\n-# include <intl/libgnuintl.h>\n-#else\n-# ifdef HAVE_LIBINTL_H\n-#  include <libintl.h>\n-# else\n-#  undef ENABLE_NLS\n-# endif\n-#endif\n-\n #ifdef ENABLE_NLS\n+#include <libintl.h>\n extern void gcc_init_libintl (void);\n extern size_t gcc_gettext_width (const char *);\n #else"}, {"sha": "4c1f235fd792c9f7b99006dc225fc5b3e42ebf56", "filename": "gcc/intl/ChangeLog", "status": "removed", "additions": 0, "deletions": 1190, "changes": 1190, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FChangeLog?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,1190 +0,0 @@\n-2003-03-14  Loren J. Rittle <ljrittle@acm.org>\n-\n-\t* Makefile.in (.y.c): Only enable production rule when\n-\tmaintaining.\n-\n-2002-05-25  Roman Lechtchinsky  <rl@cs.tu-berlin.de>\n-\n-\t* gettextP.h (SWAP): Change parameter type to unsigned int.\n-\n-Tue Dec 11 07:08:57 2001  Douglas B. Rupp  <rupp@gnat.com>\n-\n-\t* localealias.c (strings.h): Include.\n-\n-Mon Dec 10 06:09:57 2001  Douglas B. Rupp  <rupp@gnat.com>\n-\n-\t* Makefile.in (OUTPUT_OPTION): Add configure variable.\n-\t(.c.o): Add $(OUTPUT_OPTION).\n-\n-2001-11-03  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n-\n-\t* l10nflist.c (_nl_normalize_codeset): Cast argument of ctype\n-\tfunction to `unsigned char'.\n-\t* loadmsgcat.c (_nl_load_domain): Likewise.\n-\t* localealias.c (read_alias_file, alias_compare): Likewise.\n-\t* localcharset.c: Include \"gettextP.h\".\n-\t* plural.y (__attribute__): Define.\n-\t(yyerror): Mark parameter with __attribute__ ((__unused__)).\n-\t* plural.c: Regenerate.\n-\n-2001-10-24  Zack Weinberg  <zack@codesourcery.com>\n-\n-\t* loadmsgcat.c (INTTYPE_SIGNED, INTTYPE_MINIMUM,\n-\tINTTYPE_MAXIMUM): Clone from system.h.\n-\t(_nl_load_domain): Use them when testing for overflow of size_t.\n-\tCast result of sizeof to off_t to compare to st_size value.\n-\tMove side effects out of conditional for comprehensibility.\n-\n-2001-10-21  Zack Weinberg  <zack@codesourcery.com>\n-\n-\t* dcigettext.c: Don't use #elif.\n-\t* gettextP.h: Prototype nls_uint32 and locale_charset here.\n-\tAlways define ZERO to 1 to avoid warnings (ZERO is used in\n-\tflexible-array-member declarations).\n-\t* loadmsgcat.c: Apply __extension__ to structure definitions\n-\tusing C99 designated initializer syntax.\n-\tDo not prototype locale_charset here.\n-\t* localcharset.c: Prototype get_charset_aliases before use.\n-\tGet rid of STATIC nonsense.\n-\n-2001-10-19  Zack Weinberg  <zack@codesourcery.com>\n-\n-\t* Makefile.in: Don't copy libgnuintl.h anywhere.\n-\n-2001-10-12  Zack Weinberg  <zack@codesourcery.com>\n-\n-\t* Update entire directory from gettext 0.10.40.\n-\t* cat-compat.c, linux-msg.sed, po2tbl.sed.in, xopen-msg.sed:\n-\tRemoved.\n-\t* config.charset, dcigettext.c, dcngettext.c, libgnuintl.h,\n-\tlocalcharset.c, locale.alias, ngettext.c, plural.c, plural.y,\n-\tref-add.sin, ref-del.sin: New.\n-\n-2001-07-06  Roman Lechtchinsky  <rl@cs.tu-berlin.de>\n-\n-\t* gettextP.h (SWAP): Change parameter type to unsigned int.\n-\n-2001-05-25  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n-\n-\t* po2tbl.sed.in: Fixed typo.\n-\n-2000-09-18  Bruno Haible  <haible@clisp.cons.org>\n-\n-\t* intl/dcgettext.c: Outside libc, use local variable names that don't\n-\tclash with those in libc.\n-\t* intl/bindtextdom.c: Likewise.\n-\t* intl/textdomain.c: Likewise.\n-\n-2000-09-05  John David Anglin <dave@hiauly1.hia.nrc.ca>\n-\n-\t* gettext.h (nls_uint32): Choose via INT_MAX instead of UINT_MAX.\n-\n-2000-08-02  Zack Weinberg  <zack@wolery.cumb.org>\n-\n-\t* dcgettext.c (find_msg): Initialize act before loop.\n-\t(guess_category_value): Add dummy uses of both parameters.\n-\t* localealias.c (read_alias_file): Cast arg of strchr to char *.\n-\n-2000-06-06  Philipp Thomas  <pthomas@suse.de>\n-\n-\t* Makefile.in: Add -DIN_GCC to DEFS, add appropriate -I switches.\n-\t* dcgettext.c: Define _GNU_SOURCE before any system header is\n-\tincluded. Guard getcwd declaration with HAVE_DECL_GETCWD.\n-\t* loadmsgcat.c (_nl_load_domain): Cast st.st_size in compaison to\n-\tsize_t.\n-\t* localealias.c: Define _GNU_SOURCE before any system header is\n-\tincluded. Don't use return value of memcpy because it could be a\n-\tmacro defined in terms of bcopy.\n-\t(read_alias_file): Remove HAVE_MEMCPY guard and just don't use the\n-\treturn value of memcpy. Cast argument to fgets and strlen to char *.\n-\t* explodename.c (_nl_explode_name): Cast codeset to unsigned char **\n-\tin call to _nl_normalize_codeset.\n-\t* l10nflist.c: Define _GNU_SOURCE before any system header is\n-\tincluded.\n-\n-1998-04-29  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* intl/localealias.c (read_alias_file): Use unsigned char for\n-\tlocal variables.  Remove unused variable tp.\n-\t* intl/l10nflist.c (_nl_normalize_codeset): Use unsigned char *\n-\tfor type of codeset.  For loosing Solaris systems.\n-\t* intl/loadinfo.h: Adapt prototype of _nl_normalize_codeset.\n-\t* intl/bindtextdom.c (BINDTEXTDOMAIN): Don't define local variable\n-\tlen if not needed.\n-\tPatches by Jim Meyering.\n-\n-1998-04-28  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* loadmsgcat.c (_nl_load_domain): Don't assign the element use_mmap if\n-\tmmap is not supported.\n-\n-\t* hash-string.h: Don't include <values.h>.\n-\n-1998-04-27  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* textdomain.c: Use strdup is available.\n-\n-\t* localealias.c: Define HAVE_MEMPCPY so that we can use this\n-\tfunction.  Define and use semapahores to protect modfication of\n-\tglobal objects when compiling for glibc.  Add code to allow\n-\tfreeing alias table.\n-\n-\t* l10nflist.c: Don't assume stpcpy not being a macro.\n-\n-\t* gettextP.h: Define internal_function macri if not already done.\n-\tUse glibc byte-swap macros instead of defining SWAP when compiled\n-\tfor glibc.\n-\t(struct loaded_domain): Add elements to allow unloading.\n-\n-\t* Makefile.in (distclean): Don't remove libintl.h here.\n-\n-\t* bindtextdomain.c: Carry over changes from glibc.  Use strdup if\n-\tavailable.\n-\n-\t* dcgettext.c: Don't assume stpcpy not being a macro.  Mark internal\n-\tfunctions.  Add memory freeing code for glibc.\n-\n-\t* dgettext.c: Update copyright.\n-\n-\t* explodename.c: Include stdlib.h and string.h only if they exist.\n-\tUse strings.h eventually.\n-\n-\t* finddomain.c: Mark internal functions.  Use strdup if available.\n-\tAdd memory freeing code for glibc.\n-\n-1997-10-10 20:00  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* libgettext.h: Fix dummy textdomain and bindtextdomain macros.\n-\tThey should return reasonable values.\n-\tReported by Tom Tromey <tromey@cygnus.com>.\n-\n-1997-09-16 03:33  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* libgettext.h: Define PARAMS also to `args' if __cplusplus is defined.\n-\t* intlh.inst.in: Likewise.\n-\tReported by Jean-Marc Lasgouttes <Jean-Marc.Lasgouttes@inria.fr>.\n-\n-\t* libintl.glibc: Update from current glibc version.\n-\n-1997-09-06 02:10  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* intlh.inst.in: Reformat copyright.\n-\n-1997-08-19 15:22  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* dcgettext.c (DCGETTEXT): Remove wrong comment.\n-\n-1997-08-16 00:13  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (install-data): Don't change directory to install.\n-\n-1997-08-01 14:30  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* cat-compat.c: Fix copyright.\n-\n-\t* localealias.c: Don't define strchr unless !HAVE_STRCHR.\n-\n-\t* loadmsgcat.c: Update copyright.  Fix typos.\n-\n-\t* l10nflist.c: Don't define strchr unless !HAVE_STRCHR.\n-\t(_nl_make_l10nflist): Handle sponsor and revision correctly.\n-\n-\t* gettext.c: Update copyright.\n-\t* gettext.h: Likewise.\n-\t* hash-string.h: Likewise.\n-\n-\t* finddomain.c: Remoave dead code.  Define strchr only if\n-\t!HAVE_STRCHR.\n-\n-\t* explodename.c: Include <sys/types.h>.\n-\n-\t* explodename.c: Reformat copyright text.\n-\t(_nl_explode_name): Fix typo.\n-\n-\t* dcgettext.c: Define and use __set_errno.\n-\t(guess_category_value): Don't use setlocale if HAVE_LC_MESSAGES is\n-\tnot defined.\n-\n-\t* bindtextdom.c: Pretty printing.\n-\n-1997-05-01 02:25  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* dcgettext.c (guess_category_value): Don't depend on\n-\tHAVE_LC_MESSAGES.  We don't need the macro here.\n-\tPatch by Bruno Haible <haible@ilog.fr>.\n-\n-\t* cat-compat.c (textdomain): DoN't refer to HAVE_SETLOCALE_NULL\n-\tmacro.  Instead use HAVE_LOCALE_NULL and define it when using\n-\tglibc, as in dcgettext.c.\n-\tPatch by Bruno Haible <haible@ilog.fr>.\n-\n-\t* Makefile.in (CPPFLAGS): New variable.  Reported by Franc,ois\n-\tPinard.\n-\n-Mon Mar 10 06:51:17 1997  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in: Implement handling of libtool.\n-\n-\t* gettextP.h: Change data structures for use of generic lowlevel\n-\ti18n file handling.\n-\n-Wed Dec  4 20:21:18 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* textdomain.c: Put parentheses around arguments of memcpy macro\n-\tdefinition.\n-\t* localealias.c: Likewise.\n-\t* l10nflist.c: Likewise.\n-\t* finddomain.c: Likewise.\n-\t* bindtextdom.c: Likewise.\n-\tReported by Thomas Esken.\n-\n-Mon Nov 25 22:57:51 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* textdomain.c: Move definition of `memcpy` macro to right\n-\tposition.\n-\n-Fri Nov 22 04:01:58 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* finddomain.c [!HAVE_STRING_H && !_LIBC]: Define memcpy using\n- \tbcopy if not already defined.  Reported by Thomas Esken.\n-\t* bindtextdom.c: Likewise.\n-\t* l10nflist.c: Likewise.\n-\t* localealias.c: Likewise.\n-\t* textdomain.c: Likewise.\n-\n-Tue Oct 29 11:10:27 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (libdir): Change to use exec_prefix instead of\n- \tprefix.  Reported by Knut-H\ufffdvardAksnes <etokna@eto.ericsson.se>.\n-\n-Sat Aug 31 03:07:09 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* l10nflist.c (_nl_normalize_codeset): We convert to lower case,\n-\tso don't prepend uppercase `ISO' for only numeric arg.\n-\n-Fri Jul 19 00:15:46 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* l10nflist.c: Move inclusion of argz.h, ctype.h, stdlib.h after\n-\tdefinition of _GNU_SOURCE.  Patch by Roland McGrath.\n-\n-\t* Makefile.in (uninstall): Fix another bug with `for' loop and\n-\tempty arguments.  Patch by Jim Meyering.  Correct name os\n-\tuninstalled files: no intl- prefix anymore.\n-\n-\t* Makefile.in (install-data): Again work around shells which\n-\tcannot handle mpty for list.  Reported by Jim Meyering.\n-\n-Sat Jul 13 18:11:35 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (install): Split goal.  Now depend on install-exec\n-\tand install-data.\n-\t(install-exec, install-data): New goals.  Created from former\n-\tinstall goal.\n-\tReported by Karl Berry.\n-\n-Sat Jun 22 04:58:14 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (MKINSTALLDIRS): New variable.  Path to\n-\tmkinstalldirs script.\n-\t(install): use MKINSTALLDIRS variable or if the script is not present\n-\ttry to find it in the $top_scrdir).\n-\n-Wed Jun 19 02:56:56 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* l10nflist.c: Linux libc *partly* includes the argz_* functions.\n-\tGrr.  Work around by renaming the static version and use macros\n-\tfor renaming.\n-\n-Tue Jun 18 20:11:17 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* l10nflist.c: Correct presence test macros of __argz_* functions.\n-\n-\t* l10nflist.c: Include <argz.h> based on test of it instead when\n-\t__argz_* functions are available.\n-\tReported by Andreas Schwab.\n-\n-Thu Jun 13 15:17:44 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* explodename.c, l10nflist.c: Define NULL for dumb systems.\n-\n-Tue Jun 11 17:05:13 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* intlh.inst.in, libgettext.h (dcgettext): Rename local variable\n-\tresult to __result to prevent name clash.\n-\n-\t* l10nflist.c, localealias.c, dcgettext.c: Define _GNU_SOURCE to\n-\tget prototype for stpcpy and strcasecmp.\n-\n-\t* intlh.inst.in, libgettext.h: Move declaration of\n-\t`_nl_msg_cat_cntr' outside __extension__ block to prevent warning\n-\tfrom gcc's -Wnested-extern option.\n-\n-Fri Jun  7 01:58:00 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (install): Remove comment.\n-\n-Thu Jun  6 17:28:17 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (install): Work around for another Buglix stupidity.\n-\tAlways use an `else' close for `if's.  Reported by Nelson Beebe.\n-\n-\t* Makefile.in (intlh.inst): Correct typo in phony rule.\n-\tReported by Nelson Beebe.\n-\n-Thu Jun  6 01:49:52 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* dcgettext.c (read_alias_file): Rename variable alloca_list to\n-\tblock_list as the macro calls assume.\n-\tPatch by Eric Backus.\n-\n-\t* localealias.c [!HAVE_ALLOCA]: Define alloca as macro using\n-\tmalloc.\n-\t(read_alias_file): Rename varriabe alloca_list to block_list as the\n-\tmacro calls assume.\n-\tPatch by Eric Backus.\n-\n-\t* l10nflist.c: Correct conditional for <argz.h> inclusion.\n-\tReported by Roland McGrath.\n-\n-\t* Makefile.in (all): Depend on all-@USE_INCLUDED_LIBINTL@, not\n-\tall-@USE_NLS@.\n-\n-\t* Makefile.in (install): intlh.inst comes from local dir, not\n-\t$(srcdir).\n-\n-\t* Makefile.in (intlh.inst): Special handling of this goal.  If\n-\tused in gettext, this is really a rul to construct this file.  If\n-\tused in any other package it is defined as a .PHONY rule with\n-\tempty body.\n-\n-\t* finddomain.c: Extract locale file information handling into\n-\tl10nfile.c.  Rename local stpcpy__ function to stpcpy.\n-\n-\t* dcgettext.c (stpcpy): Add local definition.\n-\n-\t* l10nflist.c: Solve some portability problems.  Patches partly by\n-\tThomas Esken.  Add local definition of stpcpy.\n-\n-Tue Jun  4 02:47:49 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* intlh.inst.in: Don't depend including <locale.h> on\n-\tHAVE_LOCALE_H.  Instead configure must rewrite this fiile\n-\tdepending on the result of the configure run.\n-\n-\t* Makefile.in (install): libintl.inst is now called intlh.inst.\n-\tAdd rules for updating intlh.inst from intlh.inst.in.\n-\n-\t* libintl.inst: Renamed to intlh.inst.in.\n-\n-\t* localealias.c, dcgettext.c [__GNUC__]: Define HAVE_ALLOCA to 1\n-\tbecause gcc has __buitlin_alloca.\n-\tReported by Roland McGrath.\n-\n-Mon Jun  3 00:32:16 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* Makefile.in (installcheck): New goal to fulfill needs of\n-\tautomake's distcheck.\n-\n-\t* Makefile.in (install): Reorder commands so that VERSION is\n-\tfound.\n-\n-\t* Makefile.in (gettextsrcdir): Now use subdirectory intl/ in\n-\t@datadir@/gettext.\n-\t(COMSRCS): Add l10nfile.c.\n-\t(OBJECTS): Add l10nfile.o.\n-\t(DISTFILES): Rename to DISTFILE.normal.  Remove $(DISTFILES.common).\n-\t(DISTFILE.gettext): Remove $(DISTFILES.common).\n-\t(all-gettext): Remove goal.\n-\t(install): If $(PACKAGE) = gettext install, otherwose do nothing.  No\n-\tpackage but gettext itself should install libintl.h + headers.\n-\t(dist): Extend goal to work for gettext, too.\n-\t(dist-gettext): Remove goal.\n-\n-\t* dcgettext.c [!HAVE_ALLOCA]: Define macro alloca by using malloc.\n-\n-Sun Jun  2 17:33:06 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* loadmsgcat.c (_nl_load_domain): Parameter is now comes from\n-\tfind_l10nfile.\n-\n-Sat Jun  1 02:23:03 1996  Ulrich Drepper  <drepper@cygnus.com>\n-\n-\t* l10nflist.c (__argz_next): Add definition.\n-\n-\t* dcgettext.c [!HAVE_ALLOCA]: Add code for handling missing alloca\n-\tcode.  Use new l10nfile handling.\n-\n-\t* localealias.c [!HAVE_ALLOCA]: Add code for handling missing\n-\talloca code.\n-\n-\t* l10nflist.c: Initial revision.\n-\n-Tue Apr  2 18:51:18 1996  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (all-gettext): New goal.  Same as all-yes.\n-\n-Thu Mar 28 23:01:22 1996  Karl Eichwalder  <ke@ke.central.de>\n-\n-\t* Makefile.in (gettextsrcdir): Define using @datadir@.\n-\n-Tue Mar 26 12:39:14 1996  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c: Include <ctype.h>.  Reported by Roland McGrath.\n-\n-Sat Mar 23 02:00:35 1996  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (stpcpy): Rename to stpcpy__ to prevent clashing\n-\twith external declaration.\n-\n-Sat Mar  2 00:47:09 1996  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (all-no): Rename from all_no.\n-\n-Sat Feb 17 00:25:59 1996  Ulrich Drepper  <drepper@myware>\n-\n-\t* gettextP.h [loaded_domain]: Array `successor' must now contain up\n-\tto 63 elements (because of codeset name normalization).\n-\n-\t* finddomain.c: Implement codeset name normalization.\n-\n-Thu Feb 15 04:39:09 1996  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (all): Define to `all-@USE_NLS@'.\n-\t(all-yes, all_no): New goals.  `all-no' is noop, `all-yes'\n-\tis former all.\n-\n-Mon Jan 15 21:46:01 1996  Howard Gayle  <howard@hal.com>\n-\n-\t* localealias.c (alias_compare): Increment string pointers in loop\n-\tof strcasecmp replacement.\n-\n-Fri Dec 29 21:16:34 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (install-src): Who commented this goal out ? :-)\n-\n-Fri Dec 29 15:08:16 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* dcgettext.c (DCGETTEXT): Save `errno'.  Failing system calls\n-\tshould not effect it because a missing catalog is no error.\n-\tReported by Harald K<o:>nig <koenig@tat.physik.uni-tuebingen.de>.\n-\n-Tue Dec 19 22:09:13 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (Makefile): Explicitly use $(SHELL) for running\n-\tshell scripts.\n-\n-Fri Dec 15 17:34:59 1995  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n-\n-\t* Makefile.in (install-src): Only install library and header when\n-\twe use the own implementation.  Don't do it when using the\n-\tsystem's gettext or catgets functions.\n-\n-\t* dcgettext.c (find_msg): Must not swap domain->hash_size here.\n-\n-Sat Dec  9 16:24:37 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* localealias.c, libintl.inst, libgettext.h, hash-string.h,\n-\tgettextP.h, finddomain.c, dcgettext.c, cat-compat.c:\n-\tUse PARAMS instead of __P.  Suggested by Roland McGrath.\n-\n-Tue Dec  5 11:39:14 1995  Larry Schwimmer  <rosebud@cyclone.stanford.edu>\n-\n-\t* libgettext.h: Use `#if !defined (_LIBINTL_H)' instead of `#if\n-\t!_LIBINTL_H' because Solaris defines _LIBINTL_H as empty.\n-\n-Mon Dec  4 15:42:07 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (install-src):\n-\tInstall libintl.inst instead of libintl.h.install.\n-\n-Sat Dec  2 22:51:38 1995  Marcus Daniels  <marcus@sysc.pdx.edu>\n-\n-\t* cat-compat.c (textdomain):\n-\tReverse order in which files are tried you load.  First\n-\ttry local file, when this failed absolute path.\n-\n-Wed Nov 29 02:03:53 1995  Nelson H. F. Beebe  <beebe@math.utah.edu>\n-\n-\t* cat-compat.c (bindtextdomain): Add missing { }.\n-\n-Sun Nov 26 18:21:41 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* libintl.inst: Add missing __P definition.  Reported by Nelson Beebe.\n-\n-\t* Makefile.in:\n-\tAdd dummy `all' and `dvi' goals.  Reported by Tom Tromey.\n-\n-Sat Nov 25 16:12:01 1995  Franc,ois Pinard  <pinard@iro.umontreal.ca>\n-\n-\t* hash-string.h: Capitalize arguments of macros.\n-\n-Sat Nov 25 12:01:36 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (DISTFILES): Prevent files names longer than 13\n-\tcharacters.  libintl.h.glibc->libintl.glibc,\n-\tlibintl.h.install->libintl.inst.  Reported by Joshua R. Poulson.\n-\n-Sat Nov 25 11:31:12 1995  Eric Backus  <ericb@lsid.hp.com>\n-\n-\t* dcgettext.c: Fix bug in preprocessor conditionals.\n-\n-Sat Nov 25 02:35:27 1995  Nelson H. F. Beebe  <beebe@math.utah.edu>\n-\n-\t* libgettext.h: Solaris cc does not understand\n-\t #if !SYMBOL1 && !SYMBOL2.  Sad\tbut true.\n-\n-Thu Nov 23 16:22:14 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* hash-string.h (hash_string):\n-\tFix for machine with >32 bit `unsigned long's.\n-\n-\t* dcgettext.c (DCGETTEXT):\n-\tFix horrible bug in loop for alternative translation.\n-\n-Thu Nov 23 01:45:29 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* po2tbl.sed.in, linux-msg.sed, xopen-msg.sed:\n-\tSome further simplifications in message number generation.\n-\n-Mon Nov 20 21:08:43 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* libintl.h.glibc: Use __const instead of const in prototypes.\n-\n-\t* Makefile.in (install-src):\n-\tInstall libintl.h.install instead of libintl.h.  This\n-\tis a stripped-down version.  Suggested by Peter Miller.\n-\n-\t* libintl.h.install, libintl.h.glibc: Initial revision.\n-\n-\t* localealias.c (_nl_expand_alias, read_alias_file):\n-\tProtect prototypes in type casts by __P.\n-\n-Tue Nov 14 16:43:58 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* hash-string.h: Correct prototype for hash_string.\n-\n-Sun Nov 12 12:42:30 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* hash-string.h (hash_string): Add prototype.\n-\n-\t* gettextP.h: Fix copyright.\n-\t(SWAP): Add prototype.\n-\n-Wed Nov  8 22:56:33 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* localealias.c (read_alias_file): Forgot sizeof.\n-\tAvoid calling *printf function.  This introduces a big overhead.\n-\tPatch by Roland McGrath.\n-\n-Tue Nov  7 14:21:08 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c, cat-compat.c: Wrong indentation in #if for stpcpy.\n-\n-\t* finddomain.c (stpcpy):\n-\tDefine substitution function local.  The macro was to flaky.\n-\n-\t* cat-compat.c: Fix typo.\n-\n-\t* xopen-msg.sed, linux-msg.sed:\n-\tWhile bringing message number to right place only accept digits.\n-\n-\t* linux-msg.sed, xopen-msg.sed: Now that the counter does not have\n-\tleading 0s we don't need to remove them.  Reported by Marcus\n-\tDaniels.\n-\n-\t* Makefile.in (../po/cat-id-tbl.o): Use $(top_srdir) in\n-\tdependency.  Reported by Marcus Daniels.\n-\n-\t* cat-compat.c: (stpcpy) [!_LIBC && !HAVE_STPCPY]: Define replacement.\n-\tGenerally cleanup using #if instead of #ifndef.\n-\n-\t* Makefile.in: Correct typos in comment.  By Franc,ois Pinard.\n-\n-Mon Nov  6 00:27:02 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (install-src): Don't install libintl.h and libintl.a\n-\tif we use an available gettext implementation.\n-\n-Sun Nov  5 22:02:08 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* libgettext.h: Fix typo: HAVE_CATGETTS -> HAVE_CATGETS.  Reported\n-\tby Franc,ois Pinard.\n-\n-\t* libgettext.h: Use #if instead of #ifdef/#ifndef.\n-\n-\t* finddomain.c:\n-\tComments describing what has to be done should start with FIXME.\n-\n-Sun Nov  5 19:38:01 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (DISTFILES): Split.  Use DISTFILES with normal meaning.\n-\tDISTFILES.common names the files common to both dist goals.\n-\tDISTFILES.gettext are the files only distributed in GNU gettext.\n-\n-Sun Nov  5 17:32:54 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* dcgettext.c (DCGETTEXT): Correct searching in derived locales.\n-\tThis was necessary since a change in _nl_find_msg several weeks\n-\tago.  I really don't know this is still not fixed.\n-\n-Sun Nov  5 12:43:12 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* loadmsgcat.c (_nl_load_domain): Test for FILENAME == NULL.  This\n-\tmight mark a special condition.\n-\n-\t* finddomain.c (make_entry_rec): Don't make illegal entry as decided.\n-\n-\t* Makefile.in (dist): Suppress error message when ln failed.\n-\tGet files from $(srcdir) explicitly.\n-\n-\t* libgettext.h (gettext_const): Rename to gettext_noop.\n-\n-Fri Nov  3 07:36:50 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (make_entry_rec):\n-\tProtect against wrong locale names by testing mask.\n-\n-\t* libgettext.h (gettext_const): Add macro definition.\n-\tCapitalize macro arguments.\n-\n-Thu Nov  2 23:15:51 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (_nl_find_domain):\n-\tTest for pointer != NULL before accessing value.\n-\tReported by Tom Tromey.\n-\n-\t* gettext.c (NULL):\n-\tDefine as (void*)0 instad of 0.  Reported by Franc,ois Pinard.\n-\n-Mon Oct 30 21:28:52 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* po2tbl.sed.in: Serious typo bug fixed by Jim Meyering.\n-\n-Sat Oct 28 23:20:47 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* libgettext.h: Disable dcgettext optimization for Solaris 2.3.\n-\n-\t* localealias.c (alias_compare):\n-\tPeter Miller reported that tolower in some systems is\n-\teven dumber than I thought.  Protect call by `isupper'.\n-\n-Fri Oct 27 22:22:51 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (libdir, includedir): New variables.\n-\t(install-src): Install libintl.a and libintl.h in correct dirs.\n-\n-Fri Oct 27 22:07:29 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (SOURCES): Fix typo: intrl.compat.c -> intl-compat.c.\n-\n-\t* po2tbl.sed.in: Patch for buggy SEDs by Christian von Roques.\n-\n-\t* localealias.c:\n-\tFix typo and superflous test.  Reported by Christian von Roques.\n-\n-Fri Oct  6 11:52:05 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (_nl_find_domain):\n-\tCorrect some remainder from the pre-CEN syntax.  Now\n-\twe don't have a constant number of successors anymore.\n-\n-Wed Sep 27 21:41:13 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (DISTFILES): Add libintl.h.glibc.\n-\n-\t* Makefile.in (dist-libc): Add goal for packing sources for glibc.\n-\t(COMSRCS, COMHDRS): Splitted to separate sources shared with glibc.\n-\n-\t* loadmsgcat.c: Forget to continue #if line.\n-\n-\t* localealias.c:\n-\t[_LIBC]: Rename strcasecmp to __strcasecmp to keep ANSI C name\n-\tspace clean.\n-\n-\t* dcgettext.c, finddomain.c: Better comment to last change.\n-\n-\t* loadmsgcat.c:\n-\t[_LIBC]: Rename fstat, open, close, read, mmap, and munmap to\n-\t__fstat, __open, __close, __read, __mmap, and __munmap resp\n-\tto keep ANSI C name space clean.\n-\n-\t* finddomain.c:\n-\t[_LIBC]: Rename stpcpy to __stpcpy to keep ANSI C name space clean.\n-\n-\t* dcgettext.c:\n-\t[_LIBC]: Rename getced and stpcpy to __getcwd and __stpcpy resp to\n-\tkeep ANSI C name space clean.\n-\n-\t* libgettext.h:\n-\tInclude sys/types.h for those old SysV systems out there.\n-\tReported by Francesco Potorti`.\n-\n-\t* loadmsgcat.c (use_mmap): Define if compiled for glibc.\n-\n-\t* bindtextdom.c: Include all those standard headers\n-\tunconditionally if _LIBC is defined.\n-\n-\t* finddomain.c: Fix 2 times defiend -> defined.\n-\n-\t* textdomain.c: Include libintl.h instead of libgettext.h when\n-\tcompiling for glibc.  Include all those standard headers\n-\tunconditionally if _LIBC is defined.\n-\n-\t* localealias.c, loadmsgcat.c: Prepare to be compiled in glibc.\n-\n-\t* gettext.c:\n-\tInclude libintl.h instead of libgettext.h when compiling for glibc.\n-\tGet NULL from stddef.h if we compile for glibc.\n-\n-\t* finddomain.c: Include libintl.h instead of libgettext.h when\n-\tcompiling for glibc.  Include all those standard headers\n-\tunconditionally if _LIBC is defined.\n-\n-\t* dcgettext.c: Include all those standard headers unconditionally\n-\tif _LIBC is defined.\n-\n-\t* dgettext.c: If compiled in glibc include libintl.h instead of\n-\tlibgettext.h.\n-\t(locale.h): Don't rely on HAVE_LOCALE_H when compiling for glibc.\n-\n-\t* dcgettext.c: If compiled in glibc include libintl.h instead of\n-\tlibgettext.h.\n-\t(getcwd): Don't rely on HAVE_GETCWD when compiling for glibc.\n-\n-\t* bindtextdom.c:\n-\tIf compiled in glibc include libintl.h instead of libgettext.h.\n-\n-Mon Sep 25 22:23:06 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* localealias.c (_nl_expand_alias): Don't call bsearch if NMAP <= 0.\n-\tReported by Marcus Daniels.\n-\n-\t* cat-compat.c (bindtextdomain):\n-\tString used in putenv must not be recycled.\n-\tReported by Marcus Daniels.\n-\n-\t* libgettext.h (__USE_GNU_GETTEXT):\n-\tAdditional symbol to signal that we use GNU gettext\n-\tlibrary.\n-\n-\t* cat-compat.c (bindtextdomain):\n-\tFix bug with the strange stpcpy replacement.\n-\tReported by Nelson Beebe.\n-\n-Sat Sep 23 08:23:51 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* cat-compat.c: Include <string.h> for stpcpy prototype.\n-\n-\t* localealias.c (read_alias_file):\n-\tWhile expand strdup code temporary variable `cp' hided\n-\thigher level variable with same name.  Rename to `tp'.\n-\n-\t* textdomain.c (textdomain):\n-\tAvoid warning by using temporary variable in strdup code.\n-\n-\t* finddomain.c (_nl_find_domain): Remove unused variable `application'.\n-\n-Thu Sep 21 15:51:44 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* localealias.c (alias_compare):\n-\tUse strcasecmp() only if available.  Else use\n-\timplementation in place.\n-\n-\t* intl-compat.c:\n-\tWrapper functions now call *__ functions instead of __*.\n-\n-\t* libgettext.h: Declare prototypes for *__ functions instead for __*.\n-\n-\t* cat-compat.c, loadmsgcat.c:\n-\tDon't use xmalloc, xstrdup, and stpcpy.  These functions are not part\n-\tof the standard libc and so prevent libintl.a from being used\n-\tstandalone.\n-\n-\t* bindtextdom.c:\n-\tDon't use xmalloc, xstrdup, and stpcpy.  These functions are not part\n-\tof the standard libc and so prevent libintl.a from being used\n-\tstandalone.\n-\tRename to bindtextdomain__ if not used in GNU C Library.\n-\n-\t* dgettext.c:\n-\tRename function to dgettext__ if not used in GNU C Library.\n-\n-\t* gettext.c:\n-\tDon't use xmalloc, xstrdup, and stpcpy.  These functions are not part\n-\tof the standard libc and so prevent libintl.a from being used\n-\tstandalone.\n-\tFunctions now called gettext__ if not used in GNU C Library.\n-\n-\t* dcgettext.c, localealias.c, textdomain.c, finddomain.c:\n-\tDon't use xmalloc, xstrdup, and stpcpy.  These functions are not part\n-\tof the standard libc and so prevent libintl.a from being used\n-\tstandalone.\n-\n-Sun Sep 17 23:14:49 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c: Correct some bugs in handling of CEN standard\n- \tlocale definitions.\n-\n-Thu Sep  7 01:49:28 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c: Implement CEN syntax.\n-\n-\t* gettextP.h (loaded_domain): Extend number of successors to 31.\n-\n-Sat Aug 19 19:25:29 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (aliaspath): Remove path to X11 locale dir.\n-\n-\t* Makefile.in: Make install-src depend on install.  This helps\n- \tgettext to install the sources and other packages can use the\n- \tinstall goal.\n-\n-Sat Aug 19 15:19:33 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (uninstall): Remove stuff installed by install-src.\n-\n-Tue Aug 15 13:13:53 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* VERSION.in: Initial revision.\n-\n-\t* Makefile.in (DISTFILES):\n-\tAdd VERSION file.  This is not necessary for gettext, but\n-\tfor other packages using this library.\n-\n-Tue Aug 15 06:16:44 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* gettextP.h (_nl_find_domain):\n-\tNew prototype after changing search strategy.\n-\n-\t* finddomain.c (_nl_find_domain):\n-\tWe now try only to find a specified catalog.  Fall back to other\n-\tcatalogs listed in the locale list is now done in __dcgettext.\n-\n-\t* dcgettext.c (__dcgettext):\n-\tNow we provide message fall back even to different languages.\n-\tI.e. if a message is not available in one language all the other\n- \tin the locale list a tried.  Formerly fall back was only possible\n- \twithin one language.  Implemented by moving one loop from\n- \t_nl_find_domain to here.\n-\n-Mon Aug 14 23:45:50 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (gettextsrcdir):\n-\tDirectory where source of GNU gettext library are made\n-\tavailable.\n-\t(INSTALL, INSTALL_DATA): Programs used for installing sources.\n-\t(gettext-src): New.  Rule to install GNU gettext sources for use in\n-\tgettextize shell script.\n-\n-Sun Aug 13 14:40:48 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* loadmsgcat.c (_nl_load_domain):\n-\tUse mmap for loading only when munmap function is\n-\talso available.\n-\n-\t* Makefile.in (install): Depend on `all' goal.\n-\n-Wed Aug  9 11:04:33 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* localealias.c (read_alias_file):\n-\tDo not overwrite '\\n' when terminating alias value string.\n-\n-\t* localealias.c (read_alias_file):\n-\tHandle long lines.  Ignore the rest not fitting in\n-\tthe buffer after the initial `fgets' call.\n-\n-Wed Aug  9 00:54:29 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* gettextP.h (_nl_load_domain):\n-\tAdd prototype, replacing prototype for _nl_load_msg_cat.\n-\n-\t* finddomain.c (_nl_find_domain):\n-\tRemove unneeded variable filename and filename_len.\n-\t(expand_alias): Remove prototype because functions does not\n- \texist anymore.\n-\n-\t* localealias.c (read_alias_file):\n-\tChange type of fname_len parameter to int.\n-\t(xmalloc): Add prototype.\n-\n-\t* loadmsgcat.c: Better prototypes for xmalloc.\n-\n-Tue Aug  8 22:30:39 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (_nl_find_domain):\n-\tAllow alias name to be constructed from the four components.\n-\n-\t* Makefile.in (aliaspath): New variable.  Set to preliminary value.\n-\t(SOURCES): Add localealias.c.\n-\t(OBJECTS): Add localealias.o.\n-\n-\t* gettextP.h: Add prototype for _nl_expand_alias.\n-\n-\t* finddomain.c: Aliasing handled in intl/localealias.c.\n-\n-\t* localealias.c: Aliasing for locale names.\n-\n-\t* bindtextdom.c: Better prototypes for xmalloc and xstrdup.\n-\n-Mon Aug  7 23:47:42 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (DISTFILES): gettext.perl is now found in misc/.\n-\n-\t* cat-compat.c (bindtextdomain):\n-\tCorrect implementation.  dirname parameter was not used.\n-\tReported by Marcus Daniels.\n-\n-\t* gettextP.h (loaded_domain):\n-\tNew fields `successor' and `decided' for oo, lazy\n-\tmessage handling implementation.\n-\n-\t* dcgettext.c:\n-\tAdopt for oo, lazy message handliing.\n-  \tNow we can inherit translations from less specific locales.\n-\t(find_msg): New function.\n-\n-\t* loadmsgcat.c, finddomain.c:\n-\tComplete rewrite.  Implement oo, lazy message handling :-).\n-  \tWe now have an additional environment variable `LANGUAGE' with\n- \ta higher priority than LC_ALL for the LC_MESSAGE locale.\n-  \tHere we can set a colon separated list of specifications each\n- \tof the form `language[_territory[.codeset]][@modifier]'.\n-\n-Sat Aug  5 09:55:42 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (unistd.h):\n-\tInclude to get _PC_PATH_MAX defined on system having it.\n-\n-Fri Aug  4 22:42:00 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* finddomain.c (stpcpy): Include prototype.\n-\n-\t* Makefile.in (dist): Remove `copying instead' message.\n-\n-Wed Aug  2 18:52:03 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (ID, TAGS): Do not use $^.\n-\n-Tue Aug  1 20:07:11 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (TAGS, ID): Use $^ as command argument.\n-\t(TAGS): Give etags -o option t write to current directory,\n- \tnot $(srcdir).\n-\t(ID): Use $(srcdir) instead os $(top_srcdir)/src.\n-\t(distclean): Remove ID.\n-\n-Sun Jul 30 11:51:46 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (gnulocaledir):\n-\tNew variable, always using share/ for data directory.\n-\t(DEFS): Add GNULOCALEDIR, used in finddomain.c.\n-\n-\t* finddomain.c (_nl_default_dirname):\n-\tSet to GNULOCALEDIR, because it always has to point\n-\tto the directory where GNU gettext Library writes it to.\n-\n-\t* intl-compat.c (textdomain, bindtextdomain):\n-\tUndefine macros before function definition.\n-\n-Sat Jul 22 01:10:02 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* libgettext.h (_LIBINTL_H):\n-\tProtect definition in case where this file is included as\n-\tlibgettext.h on Solaris machines.  Add comment about this.\n-\n-Wed Jul 19 02:36:42 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* intl-compat.c (textdomain): Correct typo.\n-\n-Wed Jul 19 01:51:35 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* dcgettext.c (dcgettext): Function now called __dcgettext.\n-\n-\t* dgettext.c (dgettext): Now called __dgettext and calls\n- \t__dcgettext.\n-\n-\t* gettext.c (gettext):\n-\tFunction now called __gettext and calls __dgettext.\n-\n-\t* textdomain.c (textdomain): Function now called __textdomain.\n-\n-\t* bindtextdom.c (bindtextdomain): Function now called\n- \t__bindtextdomain.\n-\n-\t* intl-compat.c: Initial revision.\n-\n-\t* Makefile.in (SOURCES): Add intl-compat.c.\n-\t(OBJECTS): We always compile the GNU gettext library functions.\n-  \tOBJECTS contains all objects but cat-compat.o, ../po/cat-if-tbl.o,\n- \tand intl-compat.o.\n-  \t(GETTOBJS): Contains now only intl-compat.o.\n-\n-\t* libgettext.h:\n-\tRe-include protection matches dualistic character of libgettext.h.\n-\tFor all functions in GNU gettext library define __ counter part.\n-\n-\t* finddomain.c (strchr): Define as index if not found in C library.\n-\t(_nl_find_domain): For relative paths paste / in between.\n-\n-Tue Jul 18 16:37:45 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* loadmsgcat.c, finddomain.c: Add inclusion of sys/types.h.\n-\n-\t* xopen-msg.sed: Fix bug with `msgstr \"\"' lines.\n-\tA little bit better comments.\n-\n-Tue Jul 18 01:18:27 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in:\n-\tpo-mode.el, makelinks, combine-sh are now found in ../misc.\n-\n-\t* po-mode.el, makelinks, combine-sh, elisp-comp:\n-\tMoved to ../misc/.\n-\n-\t* libgettext.h, gettextP.h, gettext.h: Uniform test for __STDC__.\n-\n-Sun Jul 16 22:33:02 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (INSTALL, INSTALL_DATA): New variables.\n-\t(install-data, uninstall): Install/uninstall .elc file.\n-\n-\t* po-mode.el (Installation comment):\n-\tAdd .pox as possible extension of .po files.\n-\n-Sun Jul 16 13:23:27 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* elisp-comp: Complete new version by Franc,ois: This does not\n- \tfail when not compiling in the source directory.\n-\n-Sun Jul 16 00:12:17 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (../po/cat-id-tbl.o):\n-\tUse $(MAKE) instead of make for recursive make.\n-\n-\t* Makefile.in (.el.elc): Use $(SHELL) instead of /bin/sh.\n-\t(install-exec): Add missing dummy goal.\n-\t(install-data, uninstall): @ in multi-line shell command at\n- \tbeginning, not in front of echo.  Reported by Eric Backus.\n-\n-Sat Jul 15 00:21:28 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (DISTFILES):\n-\tRename libgettext.perl to gettext.perl to fit in 14 chars\n-\tfile systems.\n-\n-\t* gettext.perl:\n- \tRename to gettext.perl to fit in 14 chars file systems.\n-\n-Thu Jul 13 23:17:20 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* cat-compat.c: If !STDC_HEADERS try to include malloc.h.\n-\n-Thu Jul 13 20:55:02 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* po2tbl.sed.in: Pretty printing.\n-\n-\t* linux-msg.sed, xopen-msg.sed:\n-\tCorrect bugs with handling substitute flags in branches.\n-\n-\t* hash-string.h (hash_string):\n-\tOld K&R compilers don't under stand `unsigned char'.\n-\n-\t* gettext.h (nls_uint32):\n-\tSome old K&R compilers (eg HP) don't understand `unsigned int'.\n-\n-\t* cat-compat.c (msg_to_cat_id): De-ANSI-fy prototypes.\n-\n-Thu Jul 13 01:34:33 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (ELCFILES): New variable.\n-\t(DISTFILES): Add elisp-comp.\n-\tAdd implicit rule for .el -> .elc compilation.\n-\t(install-data): install $ELCFILES\n-\t(clean): renamed po-to-tbl and po-to-msg to po2tbl and po2msg resp.\n-\n-\t* elisp-comp: Initial revision\n-\n-Wed Jul 12 16:14:52 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in:\n-\tcat-id-tbl.c is now found in po/.  This enables us to use an identical\n-\tintl/ directory in all packages.\n-\n-\t* dcgettext.c (dcgettext): hashing does not work for table size <= 2.\n-\n-\t* textdomain.c: fix typo (#if def -> #if defined)\n-\n-Tue Jul 11 18:44:43 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in (stamp-cat-id): use top_srcdir to address source files\n-\t(DISTFILES,distclean): move tupdate.perl to src/\n-\n-\t* po-to-tbl.sed.in:\n-\tadd additional jump to clear change flag to recognize multiline strings\n-\n-Tue Jul 11 01:32:50 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* textdomain.c: Protect inclusion of stdlib.h and string.h.\n-\n-\t* loadmsgcat.c: Protect inclusion of stdlib.h.\n-\n-\t* libgettext.h: Protect inclusion of locale.h.\n-\tAllow use in C++ programs.\n-\tDefine NULL is not happened already.\n-\n-\t* Makefile.in (DISTFILES): ship po-to-tbl.sed.in instead of\n-\tpo-to-tbl.sed.\n-\t(distclean): remove po-to-tbl.sed and tupdate.perl.\n-\n-\t* tupdate.perl.in: Substitute Perl path even in exec line.\n-\tDon't include entries without translation from old .po file.\n-\n-Tue Jul  4 00:41:51 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* tupdate.perl.in: use \"Updated: \" in msgid \"\".\n-\n-\t* cat-compat.c: Fix typo (LOCALDIR -> LOCALEDIR).\n- \tDefine getenv if !__STDC__.\n-\n-\t* bindtextdom.c: Protect stdlib.h and string.h inclusion.\n- \tDefine free if !__STDC__.\n-\n-\t* finddomain.c: Change DEF_MSG_DOM_DIR to LOCALEDIR.\n- \tDefine free if !__STDC__.\n-\n-\t* cat-compat.c: Change DEF_MSG_DOM_DIR to LOCALEDIR.\n-\n-Mon Jul  3 23:56:30 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* Makefile.in: Use LOCALEDIR instead of DEF_MSG_DOM_DIR.\n-\tRemove unneeded $(srcdir) from Makefile.in dependency.\n-\n-\t* makelinks: Add copyright and short description.\n-\n-\t* po-mode.el: Last version for 0.7.\n-\n-\t* tupdate.perl.in: Fix die message.\n-\n-\t* dcgettext.c: Protect include of string.h.\n-\n-\t* gettext.c: Protect include of stdlib.h and further tries to get NULL.\n-\n-\t* finddomain.c: Some corrections in includes.\n-\n-\t* Makefile.in (INCLUDES): Prune list correct path to Makefile.in.\n-\n-\t* po-to-tbl.sed: Adopt for new .po file format.\n-\n-\t* linux-msg.sed, xopen-msg.sed: Adopt for new .po file format.\n-\n-Sun Jul  2 23:55:03 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* tupdate.perl.in: Complete rewrite for new .po file format.\n-\n-Sun Jul  2 02:06:50 1995  Ulrich Drepper  <drepper@myware>\n-\n-\t* First official release.  This directory contains all the code\n-\tneeded to internationalize own packages.  It provides functions\n-\twhich allow to use the X/Open catgets function with an interface\n-\tlike the Uniforum gettext function.  For system which does not\n-\thave neither of those a complete implementation is provided."}, {"sha": "645cd33c1567b2bc6fb8bb1701550c5bb1d8a592", "filename": "gcc/intl/Makefile.in", "status": "removed", "additions": 0, "deletions": 320, "changes": 320, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FMakefile.in?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,320 +0,0 @@\n-# Makefile for directory with message catalog handling in GNU NLS Utilities.\n-# Copyright (C) 1995-1998, 2000, 2001 Free Software Foundation, Inc.\n-#\n-# This program is free software; you can redistribute it and/or modify it\n-# under the terms of the GNU Library General Public License as published\n-# by the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-#\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-# Library General Public License for more details.\n-#\n-# You should have received a copy of the GNU Library General Public\n-# License along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-# USA.\n-\n-PACKAGE = @PACKAGE@\n-VERSION = @VERSION@\n-\n-SHELL = /bin/sh\n-\n-srcdir = @srcdir@\n-top_srcdir = @top_srcdir@\n-top_builddir = ..\n-VPATH = @srcdir@\n-\n-prefix = @prefix@\n-exec_prefix = @exec_prefix@\n-transform = @program_transform_name@\n-libdir = @libdir@\n-includedir = @includedir@\n-datadir = @datadir@\n-localedir = $(datadir)/locale\n-gettextsrcdir = $(datadir)/gettext/intl\n-aliaspath = $(localedir)\n-subdir = intl\n-\n-INSTALL = @INSTALL@\n-INSTALL_DATA = @INSTALL_DATA@\n-MKINSTALLDIRS = @MKINSTALLDIRS@\n-mkinstalldirs = $(SHELL) `case \"$(MKINSTALLDIRS)\" in /*) echo \"$(MKINSTALLDIRS)\" ;; *) echo \"$(top_builddir)/$(MKINSTALLDIRS)\" ;; esac`\n-\n-l = @INTL_LIBTOOL_SUFFIX_PREFIX@\n-OUTPUT_OPTION = @OUTPUT_OPTION@\n-\n-AR = ar\n-CC = @CC@\n-LIBTOOL = @LIBTOOL@\n-RANLIB = @RANLIB@\n-YACC = @INTLBISON@ -y -d\n-YFLAGS = --name-prefix=__gettext\n-\n-DEFS = -DIN_GCC -DLOCALEDIR=\\\"$(localedir)\\\" -DLOCALE_ALIAS_PATH=\\\"$(aliaspath)\\\" \\\n--DLIBDIR=\\\"$(libdir)\\\" @DEFS@\n-CPPFLAGS = @CPPFLAGS@\n-CFLAGS = @CFLAGS@\n-LDFLAGS = @LDFLAGS@\n-\n-COMPILE = $(CC) -c $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(XCFLAGS)\n-\n-HEADERS = $(COMHDRS) libgnuintl.h libgettext.h loadinfo.h\n-COMHDRS = gettext.h gettextP.h hash-string.h\n-SOURCES = $(COMSRCS) intl-compat.c\n-COMSRCS = bindtextdom.c dcgettext.c dgettext.c gettext.c \\\n-finddomain.c loadmsgcat.c localealias.c textdomain.c l10nflist.c \\\n-explodename.c dcigettext.c dcngettext.c dngettext.c ngettext.c plural.y \\\n-localcharset.c\n-OBJECTS = @INTLOBJS@ bindtextdom.$lo dcgettext.$lo dgettext.$lo gettext.$lo \\\n-finddomain.$lo loadmsgcat.$lo localealias.$lo textdomain.$lo l10nflist.$lo \\\n-explodename.$lo dcigettext.$lo dcngettext.$lo dngettext.$lo ngettext.$lo \\\n-plural.$lo localcharset.$lo\n-GETTOBJS = intl-compat.$lo\n-DISTFILES.common = Makefile.in \\\n-config.charset locale.alias ref-add.sin ref-del.sin $(HEADERS) $(SOURCES)\n-DISTFILES.generated = plural.c\n-DISTFILES.normal = VERSION\n-DISTFILES.gettext = COPYING.LIB-2 COPYING.LIB-2.1 libintl.glibc\n-DISTFILES.obsolete = xopen-msg.sed linux-msg.sed po2tbl.sed.in cat-compat.c\n-\n-# Libtool's library version information for libintl.\n-# Before making a gettext release, the gettext maintainer must change this\n-# according to the libtool documentation, section \"Library interface versions\".\n-# Maintainers of other packages that include the intl directory must *not*\n-# change these values.\n-LTV_CURRENT=1\n-LTV_REVISION=1\n-LTV_AGE=0\n-\n-.SUFFIXES:\n-.SUFFIXES: .c .y .o .lo .sin .sed\n-.c.o:\n-\t$(COMPILE) $< $(OUTPUT_OPTION)\n-.c.lo:\n-\t$(LIBTOOL) --mode=compile $(COMPILE) $<\n-\n-# Unless maintaining, suppress (a) smart makes who think they know how to\n-# automake Yacc files and (b) makes who handle VPATH search of generated\n-# files differently than GNU make.\n-.y.c:\n-@MAINT@\t$(YACC) $(YFLAGS) --output $@ $<\n-@MAINT@\trm -f $*.h\n-\n-.sin.sed:\n-\tsed -e '/^#/d' -e 's/@''PACKAGE''@/@PACKAGE@/g' $< > t-$@\n-\tmv t-$@ $@\n-\n-INCLUDES = -I.. -I. -I$(top_srcdir)/intl -I$(top_srcdir) \\\n-\t   -I$(top_srcdir)/config -I$(top_srcdir)/../include\n-\n-# GCC LOCAL: Removed libintl.h from all-yes.\n-all: all-@USE_INCLUDED_LIBINTL@\n-all-yes: libintl.$la charset.alias ref-add.sed ref-del.sed\n-all-no: all-no-@BUILD_INCLUDED_LIBINTL@\n-all-no-yes: libgnuintl.$la\n-all-no-no:\n-\n-libintl.a libgnuintl.a: $(OBJECTS)\n-\trm -f $@\n-\t$(AR) cru $@ $(OBJECTS)\n-\t$(RANLIB) $@\n-\n-libintl.la libgnuintl.la: $(OBJECTS)\n-\t$(LIBTOOL) --mode=link \\\n-\t  $(CC) $(CPPFLAGS) $(CFLAGS) $(XCFLAGS) $(LDFLAGS) -o $@ \\\n-\t  $(OBJECTS) @LIBICONV@ \\\n-\t  -version-info $(LTV_CURRENT):$(LTV_REVISION):$(LTV_AGE) \\\n-\t  -rpath $(libdir) \\\n-\t  -no-undefined\n-\n-#GCC LOCAL: Do not install this file.\n-#libintl.h: libgnuintl.h\n-#\tcp $(srcdir)/libgnuintl.h libintl.h\n-\n-charset.alias: config.charset\n-\t$(SHELL) $(srcdir)/config.charset '@host@' > t-$@\n-\tmv t-$@ $@\n-\n-check: all\n-\n-# This installation goal is only used in GNU gettext.  Packages which\n-# only use the library should use install instead.\n-\n-# We must not install the libintl.h/libintl.a files if we are on a\n-# system which has the GNU gettext() function in its C library or in a\n-# separate library.\n-# If you want to use the one which comes with this version of the\n-# package, you have to use `configure --with-included-gettext'.\n-install: install-exec install-data\n-install-exec: all\n-\tif test \"$(PACKAGE)\" = \"gettext\" \\\n-\t   && test '@INTLOBJS@' = '$(GETTOBJS)'; then \\\n-\t  $(mkinstalldirs) $(DESTDIR)$(libdir) $(DESTDIR)$(includedir); \\\n-\t  $(INSTALL_DATA) libintl.h $(DESTDIR)$(includedir)/libintl.h; \\\n-\t  $(LIBTOOL) --mode=install \\\n-\t    $(INSTALL_DATA) libintl.$la $(DESTDIR)$(libdir)/libintl.$la; \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-\tif test '@USE_INCLUDED_LIBINTL@' = yes; then \\\n-\t  $(mkinstalldirs) $(DESTDIR)$(libdir); \\\n-\t  temp=$(DESTDIR)$(libdir)/t-charset.alias; \\\n-\t  dest=$(DESTDIR)$(libdir)/charset.alias; \\\n-\t  if test -f $(DESTDIR)$(libdir)/charset.alias; then \\\n-\t    orig=$(DESTDIR)$(libdir)/charset.alias; \\\n-\t    sed -f ref-add.sed $$orig > $$temp; \\\n-\t    $(INSTALL_DATA) $$temp $$dest; \\\n-\t    rm -f $$temp; \\\n-\t  else \\\n-\t    if test @GLIBC21@ = no; then \\\n-\t      orig=charset.alias; \\\n-\t      sed -f ref-add.sed $$orig > $$temp; \\\n-\t      $(INSTALL_DATA) $$temp $$dest; \\\n-\t      rm -f $$temp; \\\n-\t    fi; \\\n-\t  fi; \\\n-\t  $(mkinstalldirs) $(DESTDIR)$(localedir); \\\n-\t  test -f $(DESTDIR)$(localedir)/locale.alias \\\n-\t    && orig=$(DESTDIR)$(localedir)/locale.alias \\\n-\t    || orig=$(srcdir)/locale.alias; \\\n-\t  temp=$(DESTDIR)$(localedir)/t-locale.alias; \\\n-\t  dest=$(DESTDIR)$(localedir)/locale.alias; \\\n-\t  sed -f ref-add.sed $$orig > $$temp; \\\n-\t  $(INSTALL_DATA) $$temp $$dest; \\\n-\t  rm -f $$temp; \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-install-data: all\n-\tif test \"$(PACKAGE)\" = \"gettext\"; then \\\n-\t  $(mkinstalldirs) $(DESTDIR)$(gettextsrcdir); \\\n-\t  $(INSTALL_DATA) VERSION $(DESTDIR)$(gettextsrcdir)/VERSION; \\\n-\t  $(INSTALL_DATA) ChangeLog.inst $(DESTDIR)$(gettextsrcdir)/ChangeLog; \\\n-\t  dists=\"COPYING.LIB-2 COPYING.LIB-2.1 $(DISTFILES.common)\"; \\\n-\t  for file in $$dists; do \\\n-\t    $(INSTALL_DATA) $(srcdir)/$$file \\\n-\t\t\t    $(DESTDIR)$(gettextsrcdir)/$$file; \\\n-\t  done; \\\n-\t  chmod a+x $(DESTDIR)$(gettextsrcdir)/config.charset; \\\n-\t  dists=\"$(DISTFILES.generated)\"; \\\n-\t  for file in $$dists; do \\\n-\t    if test -f $$file; then dir=.; else dir=$(srcdir); fi; \\\n-\t    $(INSTALL_DATA) $$dir/$$file \\\n-\t\t\t    $(DESTDIR)$(gettextsrcdir)/$$file; \\\n-\t  done; \\\n-\t  dists=\"$(DISTFILES.obsolete)\"; \\\n-\t  for file in $$dists; do \\\n-\t    rm -f $(DESTDIR)$(gettextsrcdir)/$$file; \\\n-\t  done; \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-\n-# Define this as empty until I found a useful application.\n-installcheck:\n-\n-uninstall:\n-\tif test \"$(PACKAGE)\" = \"gettext\" \\\n-\t   && test '@INTLOBJS@' = '$(GETTOBJS)'; then \\\n-\t  rm -f $(DESTDIR)$(includedir)/libintl.h; \\\n-\t  $(LIBTOOL) --mode=uninstall \\\n-\t    rm -f $(DESTDIR)$(libdir)/libintl.$la; \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-\tif test '@USE_INCLUDED_LIBINTL@' = yes; then \\\n-\t  if test -f $(DESTDIR)$(libdir)/charset.alias; then \\\n-\t    temp=$(DESTDIR)$(libdir)/t-charset.alias; \\\n-\t    dest=$(DESTDIR)$(libdir)/charset.alias; \\\n-\t    sed -f ref-del.sed $$dest > $$temp; \\\n-\t    if grep '^# Packages using this file: $$' $$temp > /dev/null; then \\\n-\t      rm -f $$dest; \\\n-\t    else \\\n-\t      $(INSTALL_DATA) $$temp $$dest; \\\n-\t    fi; \\\n-\t    rm -f $$temp; \\\n-\t  fi; \\\n-\t  if test -f $(DESTDIR)$(localedir)/locale.alias; then \\\n-\t    temp=$(DESTDIR)$(localedir)/t-locale.alias; \\\n-\t    dest=$(DESTDIR)$(localedir)/locale.alias; \\\n-\t    sed -f ref-del.sed $$dest > $$temp; \\\n-\t    if grep '^# Packages using this file: $$' $$temp > /dev/null; then \\\n-\t      rm -f $$dest; \\\n-\t    else \\\n-\t      $(INSTALL_DATA) $$temp $$dest; \\\n-\t    fi; \\\n-\t    rm -f $$temp; \\\n-\t  fi; \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-\tif test \"$(PACKAGE)\" = \"gettext\"; then \\\n-\t  for file in VERSION ChangeLog COPYING.LIB-2 COPYING.LIB-2.1 $(DISTFILES.common) $(DISTFILES.generated); do \\\n-\t    rm -f $(DESTDIR)$(gettextsrcdir)/$$file; \\\n-\t  done; \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-\n-info dvi:\n-\n-$(OBJECTS): ../config.h libgnuintl.h\n-bindtextdom.$lo finddomain.$lo loadmsgcat.$lo: gettextP.h gettext.h loadinfo.h\n-dcgettext.$lo: gettextP.h gettext.h hash-string.h loadinfo.h\n-\n-tags: TAGS\n-\n-TAGS: $(HEADERS) $(SOURCES)\n-\there=`pwd`; cd $(srcdir) && etags -o $$here/TAGS $(HEADERS) $(SOURCES)\n-\n-id: ID\n-\n-ID: $(HEADERS) $(SOURCES)\n-\there=`pwd`; cd $(srcdir) && mkid -f$$here/ID $(HEADERS) $(SOURCES)\n-\n-\n-mostlyclean:\n-\trm -f *.a *.la *.o *.lo core core.*\n-\trm -f libintl.h charset.alias ref-add.sed ref-del.sed\n-\trm -f -r .libs _libs\n-\n-clean: mostlyclean\n-\n-distclean: clean\n-\trm -f Makefile ID TAGS\n-\tif test \"$(PACKAGE)\" = gettext; then \\\n-\t  rm -f ChangeLog.inst $(DISTFILES.normal); \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n-\n-maintainer-clean: distclean\n-\t@echo \"This command is intended for maintainers to use;\"\n-\t@echo \"it deletes files that may require special tools to rebuild.\"\n-\n-\n-# GNU gettext needs not contain the file `VERSION' but contains some\n-# other files which should not be distributed in other packages.\n-distdir = ../$(PACKAGE)-$(VERSION)/$(subdir)\n-dist distdir: Makefile\n-\tif test \"$(PACKAGE)\" = gettext; then \\\n-\t  additional=\"$(DISTFILES.gettext)\"; \\\n-\telse \\\n-\t  additional=\"$(DISTFILES.normal)\"; \\\n-\tfi; \\\n-\t$(MAKE) $(DISTFILES.common) $(DISTFILES.generated) $$additional; \\\n-\tfor file in ChangeLog $(DISTFILES.common) $(DISTFILES.generated) $$additional; do \\\n-\t  if test -f $$file; then dir=.; else dir=$(srcdir); fi; \\\n-\t  ln $$dir/$$file $(distdir) 2> /dev/null \\\n-\t    || cp -p $$dir/$$file $(distdir); \\\n-\tdone\n-\n-Makefile: Makefile.in ../config.status\n-\tcd .. \\\n-\t  && CONFIG_FILES=$(subdir)/$@ CONFIG_HEADERS= $(SHELL) ./config.status\n-\n-# Tell versions [3.59,3.63) of GNU make not to export all variables.\n-# Otherwise a system limit (for SysV at least) may be exceeded.\n-.NOEXPORT:"}, {"sha": "cb8a01a78115bcb8969c79fc7aee7f412bcdbc5e", "filename": "gcc/intl/VERSION", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2FVERSION", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2FVERSION", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FVERSION?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1 +0,0 @@\n-GNU gettext library from gettext-0.10.40"}, {"sha": "f4f2611c5ecbd837f86df20638b117e577e3a969", "filename": "gcc/intl/config.charset", "status": "removed", "additions": 0, "deletions": 438, "changes": 438, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fconfig.charset", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fconfig.charset", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Fconfig.charset?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,438 +0,0 @@\n-#! /bin/sh\n-# Output a system dependent table of character encoding aliases.\n-#\n-#   Copyright (C) 2000-2001 Free Software Foundation, Inc.\n-#\n-#   This program is free software; you can redistribute it and/or modify it\n-#   under the terms of the GNU Library General Public License as published\n-#   by the Free Software Foundation; either version 2, or (at your option)\n-#   any later version.\n-#\n-#   This program is distributed in the hope that it will be useful,\n-#   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-#   Library General Public License for more details.\n-#\n-#   You should have received a copy of the GNU Library General Public\n-#   License along with this program; if not, write to the Free Software\n-#   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-#   USA.\n-#\n-# The table consists of lines of the form\n-#    ALIAS  CANONICAL\n-#\n-# ALIAS is the (system dependent) result of \"nl_langinfo (CODESET)\".\n-# ALIAS is compared in a case sensitive way.\n-#\n-# CANONICAL is the GNU canonical name for this character encoding.\n-# It must be an encoding supported by libiconv. Support by GNU libc is\n-# also desirable. CANONICAL is case insensitive. Usually an upper case\n-# MIME charset name is preferred.\n-# The current list of GNU canonical charset names is as follows.\n-#\n-#       name                         used by which systems         a MIME name?\n-#   ASCII, ANSI_X3.4-1968     glibc solaris freebsd\n-#   ISO-8859-1                glibc aix hpux irix osf solaris freebsd   yes\n-#   ISO-8859-2                glibc aix hpux irix osf solaris freebsd   yes\n-#   ISO-8859-3                glibc                                     yes\n-#   ISO-8859-4                osf solaris freebsd                       yes\n-#   ISO-8859-5                glibc aix hpux irix osf solaris freebsd   yes\n-#   ISO-8859-6                glibc aix hpux solaris                    yes\n-#   ISO-8859-7                glibc aix hpux irix osf solaris           yes\n-#   ISO-8859-8                glibc aix hpux osf solaris                yes\n-#   ISO-8859-9                glibc aix hpux irix osf solaris           yes\n-#   ISO-8859-13               glibc\n-#   ISO-8859-15               glibc aix osf solaris freebsd\n-#   KOI8-R                    glibc solaris freebsd                     yes\n-#   KOI8-U                    glibc freebsd                             yes\n-#   CP437                     dos\n-#   CP775                     dos\n-#   CP850                     aix osf dos\n-#   CP852                     dos\n-#   CP855                     dos\n-#   CP856                     aix\n-#   CP857                     dos\n-#   CP861                     dos\n-#   CP862                     dos\n-#   CP864                     dos\n-#   CP865                     dos\n-#   CP866                     freebsd dos\n-#   CP869                     dos\n-#   CP874                     win32 dos\n-#   CP922                     aix\n-#   CP932                     aix win32 dos\n-#   CP943                     aix\n-#   CP949                     osf win32 dos\n-#   CP950                     win32 dos\n-#   CP1046                    aix\n-#   CP1124                    aix\n-#   CP1129                    aix\n-#   CP1250                    win32\n-#   CP1251                    glibc win32\n-#   CP1252                    aix win32\n-#   CP1253                    win32\n-#   CP1254                    win32\n-#   CP1255                    win32\n-#   CP1256                    win32\n-#   CP1257                    win32\n-#   GB2312                    glibc aix hpux irix solaris freebsd       yes\n-#   EUC-JP                    glibc aix hpux irix osf solaris freebsd   yes\n-#   EUC-KR                    glibc aix hpux irix osf solaris freebsd   yes\n-#   EUC-TW                    glibc aix hpux irix osf solaris\n-#   BIG5                      glibc aix hpux osf solaris freebsd        yes\n-#   BIG5-HKSCS                glibc\n-#   GBK                       aix osf win32 dos\n-#   GB18030                   glibc\n-#   SHIFT_JIS                 hpux osf solaris freebsd                  yes\n-#   JOHAB                     glibc win32\n-#   TIS-620                   glibc aix hpux osf solaris\n-#   VISCII                    glibc                                     yes\n-#   HP-ROMAN8                 hpux\n-#   HP-ARABIC8                hpux\n-#   HP-GREEK8                 hpux\n-#   HP-HEBREW8                hpux\n-#   HP-TURKISH8               hpux\n-#   HP-KANA8                  hpux\n-#   DEC-KANJI                 osf\n-#   DEC-HANYU                 osf\n-#   UTF-8                     glibc aix hpux osf solaris                yes\n-#\n-# Note: Names which are not marked as being a MIME name should not be used in\n-# Internet protocols for information interchange (mail, news, etc.).\n-#\n-# Note: ASCII and ANSI_X3.4-1968 are synonymous canonical names. Applications\n-# must understand both names and treat them as equivalent.\n-#\n-# The first argument passed to this file is the canonical host specification,\n-#    CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM\n-# or\n-#    CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM\n-\n-host=\"$1\"\n-os=`echo \"$host\" | sed -e 's/^[^-]*-[^-]*-\\(.*\\)$/\\1/'`\n-echo \"# This file contains a table of character encoding aliases,\"\n-echo \"# suitable for operating system '${os}'.\"\n-echo \"# It was automatically generated from config.charset.\"\n-# List of references, updated during installation:\n-echo \"# Packages using this file: \"\n-case \"$os\" in\n-    linux* | *-gnu*)\n-\t# With glibc-2.1 or newer, we don't need any canonicalization,\n-\t# because glibc has iconv and both glibc and libiconv support all\n-\t# GNU canonical names directly. Therefore, the Makefile does not\n-\t# need to install the alias file at all.\n-\t# The following applies only to glibc-2.0.x and older libcs.\n-\techo \"ISO_646.IRV:1983 ASCII\"\n-\t;;\n-    aix*)\n-\techo \"ISO8859-1 ISO-8859-1\"\n-\techo \"ISO8859-2 ISO-8859-2\"\n-\techo \"ISO8859-5 ISO-8859-5\"\n-\techo \"ISO8859-6 ISO-8859-6\"\n-\techo \"ISO8859-7 ISO-8859-7\"\n-\techo \"ISO8859-8 ISO-8859-8\"\n-\techo \"ISO8859-9 ISO-8859-9\"\n-\techo \"ISO8859-15 ISO-8859-15\"\n-\techo \"IBM-850 CP850\"\n-\techo \"IBM-856 CP856\"\n-\techo \"IBM-921 ISO-8859-13\"\n-\techo \"IBM-922 CP922\"\n-\techo \"IBM-932 CP932\"\n-\techo \"IBM-943 CP943\"\n-\techo \"IBM-1046 CP1046\"\n-\techo \"IBM-1124 CP1124\"\n-\techo \"IBM-1129 CP1129\"\n-\techo \"IBM-1252 CP1252\"\n-\techo \"IBM-eucCN GB2312\"\n-\techo \"IBM-eucJP EUC-JP\"\n-\techo \"IBM-eucKR EUC-KR\"\n-\techo \"IBM-eucTW EUC-TW\"\n-\techo \"big5 BIG5\"\n-\techo \"GBK GBK\"\n-\techo \"TIS-620 TIS-620\"\n-\techo \"UTF-8 UTF-8\"\n-\t;;\n-    hpux*)\n-\techo \"iso88591 ISO-8859-1\"\n-\techo \"iso88592 ISO-8859-2\"\n-\techo \"iso88595 ISO-8859-5\"\n-\techo \"iso88596 ISO-8859-6\"\n-\techo \"iso88597 ISO-8859-7\"\n-\techo \"iso88598 ISO-8859-8\"\n-\techo \"iso88599 ISO-8859-9\"\n-\techo \"iso885915 ISO-8859-15\"\n-\techo \"roman8 HP-ROMAN8\"\n-\techo \"arabic8 HP-ARABIC8\"\n-\techo \"greek8 HP-GREEK8\"\n-\techo \"hebrew8 HP-HEBREW8\"\n-\techo \"turkish8 HP-TURKISH8\"\n-\techo \"kana8 HP-KANA8\"\n-\techo \"tis620 TIS-620\"\n-\techo \"big5 BIG5\"\n-\techo \"eucJP EUC-JP\"\n-\techo \"eucKR EUC-KR\"\n-\techo \"eucTW EUC-TW\"\n-\techo \"hp15CN GB2312\"\n-\t#echo \"ccdc ?\" # what is this?\n-\techo \"SJIS SHIFT_JIS\"\n-\techo \"utf8 UTF-8\"\n-\t;;\n-    irix*)\n-\techo \"ISO8859-1 ISO-8859-1\"\n-\techo \"ISO8859-2 ISO-8859-2\"\n-\techo \"ISO8859-5 ISO-8859-5\"\n-\techo \"ISO8859-7 ISO-8859-7\"\n-\techo \"ISO8859-9 ISO-8859-9\"\n-\techo \"eucCN GB2312\"\n-\techo \"eucJP EUC-JP\"\n-\techo \"eucKR EUC-KR\"\n-\techo \"eucTW EUC-TW\"\n-\t;;\n-    osf*)\n-\techo \"ISO8859-1 ISO-8859-1\"\n-\techo \"ISO8859-2 ISO-8859-2\"\n-\techo \"ISO8859-4 ISO-8859-4\"\n-\techo \"ISO8859-5 ISO-8859-5\"\n-\techo \"ISO8859-7 ISO-8859-7\"\n-\techo \"ISO8859-8 ISO-8859-8\"\n-\techo \"ISO8859-9 ISO-8859-9\"\n-\techo \"ISO8859-15 ISO-8859-15\"\n-\techo \"cp850 CP850\"\n-\techo \"big5 BIG5\"\n-\techo \"dechanyu DEC-HANYU\"\n-\techo \"dechanzi GB2312\"\n-\techo \"deckanji DEC-KANJI\"\n-\techo \"deckorean EUC-KR\"\n-\techo \"eucJP EUC-JP\"\n-\techo \"eucKR EUC-KR\"\n-\techo \"eucTW EUC-TW\"\n-\techo \"GBK GBK\"\n-\techo \"KSC5601 CP949\"\n-\techo \"sdeckanji EUC-JP\"\n-\techo \"SJIS SHIFT_JIS\"\n-\techo \"TACTIS TIS-620\"\n-\techo \"UTF-8 UTF-8\"\n-\t;;\n-    solaris*)\n-\techo \"646 ASCII\"\n-\techo \"ISO8859-1 ISO-8859-1\"\n-\techo \"ISO8859-2 ISO-8859-2\"\n-\techo \"ISO8859-4 ISO-8859-4\"\n-\techo \"ISO8859-5 ISO-8859-5\"\n-\techo \"ISO8859-6 ISO-8859-6\"\n-\techo \"ISO8859-7 ISO-8859-7\"\n-\techo \"ISO8859-8 ISO-8859-8\"\n-\techo \"ISO8859-9 ISO-8859-9\"\n-\techo \"ISO8859-15 ISO-8859-15\"\n-\techo \"koi8-r KOI8-R\"\n-\techo \"BIG5 BIG5\"\n-\techo \"gb2312 GB2312\"\n-\techo \"cns11643 EUC-TW\"\n-\techo \"5601 EUC-KR\"\n-\techo \"eucJP EUC-JP\"\n-\techo \"PCK SHIFT_JIS\"\n-\techo \"TIS620.2533 TIS-620\"\n-\t#echo \"sun_eu_greek ?\" # what is this?\n-\techo \"UTF-8 UTF-8\"\n-\t;;\n-    freebsd*)\n-\t# FreeBSD 4.2 doesn't have nl_langinfo(CODESET); therefore\n-\t# localcharset.c falls back to using the full locale name\n-\t# from the environment variables.\n-\techo \"C ASCII\"\n-\techo \"US-ASCII ASCII\"\n-\tfor l in la_LN lt_LN; do\n-\t  echo \"$l.ASCII ASCII\"\n-\tdone\n-\tfor l in da_DK de_AT de_CH de_DE en_AU en_CA en_GB en_US es_ES \\\n-\t         fi_FI fr_BE fr_CA fr_CH fr_FR is_IS it_CH it_IT la_LN \\\n-\t         lt_LN nl_BE nl_NL no_NO pt_PT sv_SE; do\n-\t  echo \"$l.ISO_8859-1 ISO-8859-1\"\n-\t  echo \"$l.DIS_8859-15 ISO-8859-15\"\n-\tdone\n-\tfor l in cs_CZ hr_HR hu_HU la_LN lt_LN pl_PL sl_SI; do\n-\t  echo \"$l.ISO_8859-2 ISO-8859-2\"\n-\tdone\n-\tfor l in la_LN lt_LT; do\n-\t  echo \"$l.ISO_8859-4 ISO-8859-4\"\n-\tdone\n-\tfor l in ru_RU ru_SU; do\n-\t  echo \"$l.KOI8-R KOI8-R\"\n-\t  echo \"$l.ISO_8859-5 ISO-8859-5\"\n-\t  echo \"$l.CP866 CP866\"\n-\tdone\n-\techo \"uk_UA.KOI8-U KOI8-U\"\n-\techo \"zh_TW.BIG5 BIG5\"\n-\techo \"zh_TW.Big5 BIG5\"\n-\techo \"zh_CN.EUC GB2312\"\n-\techo \"ja_JP.EUC EUC-JP\"\n-\techo \"ja_JP.SJIS SHIFT_JIS\"\n-\techo \"ja_JP.Shift_JIS SHIFT_JIS\"\n-\techo \"ko_KR.EUC EUC-KR\"\n-\t;;\n-    beos*)\n-\t# BeOS has a single locale, and it has UTF-8 encoding.\n-\techo \"* UTF-8\"\n-\t;;\n-    msdosdjgpp*)\n-\t# DJGPP 2.03 doesn't have nl_langinfo(CODESET); therefore\n-\t# localcharset.c falls back to using the full locale name\n-\t# from the environment variables.\n-\techo \"#\"\n-\techo \"# The encodings given here may not all be correct.\"\n-\techo \"# If you find that the encoding given for your language and\"\n-\techo \"# country is not the one your DOS machine actually uses, just\"\n-\techo \"# correct it in this file, and send a mail to\"\n-\techo \"# Juan Manuel Guerrero <st001906@hrz1.hrz.tu-darmstadt.de>\"\n-\techo \"# and Bruno Haible <haible@clisp.cons.org>.\"\n-\techo \"#\"\n-\techo \"C ASCII\"\n-\t# ISO-8859-1 languages\n-\techo \"ca CP850\"\n-\techo \"ca_ES CP850\"\n-\techo \"da CP865\"    # not CP850 ??\n-\techo \"da_DK CP865\" # not CP850 ??\n-\techo \"de CP850\"\n-\techo \"de_AT CP850\"\n-\techo \"de_CH CP850\"\n-\techo \"de_DE CP850\"\n-\techo \"en CP850\"\n-\techo \"en_AU CP850\" # not CP437 ??\n-\techo \"en_CA CP850\"\n-\techo \"en_GB CP850\"\n-\techo \"en_NZ CP437\"\n-\techo \"en_US CP437\"\n-\techo \"en_ZA CP850\" # not CP437 ??\n-\techo \"es CP850\"\n-\techo \"es_AR CP850\"\n-\techo \"es_BO CP850\"\n-\techo \"es_CL CP850\"\n-\techo \"es_CO CP850\"\n-\techo \"es_CR CP850\"\n-\techo \"es_CU CP850\"\n-\techo \"es_DO CP850\"\n-\techo \"es_EC CP850\"\n-\techo \"es_ES CP850\"\n-\techo \"es_GT CP850\"\n-\techo \"es_HN CP850\"\n-\techo \"es_MX CP850\"\n-\techo \"es_NI CP850\"\n-\techo \"es_PA CP850\"\n-\techo \"es_PY CP850\"\n-\techo \"es_PE CP850\"\n-\techo \"es_SV CP850\"\n-\techo \"es_UY CP850\"\n-\techo \"es_VE CP850\"\n-\techo \"et CP850\"\n-\techo \"et_EE CP850\"\n-\techo \"eu CP850\"\n-\techo \"eu_ES CP850\"\n-\techo \"fi CP850\"\n-\techo \"fi_FI CP850\"\n-\techo \"fr CP850\"\n-\techo \"fr_BE CP850\"\n-\techo \"fr_CA CP850\"\n-\techo \"fr_CH CP850\"\n-\techo \"fr_FR CP850\"\n-\techo \"ga CP850\"\n-\techo \"ga_IE CP850\"\n-\techo \"gd CP850\"\n-\techo \"gd_GB CP850\"\n-\techo \"gl CP850\"\n-\techo \"gl_ES CP850\"\n-\techo \"id CP850\"    # not CP437 ??\n-\techo \"id_ID CP850\" # not CP437 ??\n-\techo \"is CP861\"    # not CP850 ??\n-\techo \"is_IS CP861\" # not CP850 ??\n-\techo \"it CP850\"\n-\techo \"it_CH CP850\"\n-\techo \"it_IT CP850\"\n-\techo \"lt CP775\"\n-\techo \"lt_LT CP775\"\n-\techo \"lv CP775\"\n-\techo \"lv_LV CP775\"\n-\techo \"nb CP865\"    # not CP850 ??\n-\techo \"nb_NO CP865\" # not CP850 ??\n-\techo \"nl CP850\"\n-\techo \"nl_BE CP850\"\n-\techo \"nl_NL CP850\"\n-\techo \"nn CP865\"    # not CP850 ??\n-\techo \"nn_NO CP865\" # not CP850 ??\n-\techo \"no CP865\"    # not CP850 ??\n-\techo \"no_NO CP865\" # not CP850 ??\n-\techo \"pt CP850\"\n-\techo \"pt_BR CP850\"\n-\techo \"pt_PT CP850\"\n-\techo \"sv CP850\"\n-\techo \"sv_SE CP850\"\n-\t# ISO-8859-2 languages\n-\techo \"cs CP852\"\n-\techo \"cs_CZ CP852\"\n-\techo \"hr CP852\"\n-\techo \"hr_HR CP852\"\n-\techo \"hu CP852\"\n-\techo \"hu_HU CP852\"\n-\techo \"pl CP852\"\n-\techo \"pl_PL CP852\"\n-\techo \"ro CP852\"\n-\techo \"ro_RO CP852\"\n-\techo \"sk CP852\"\n-\techo \"sk_SK CP852\"\n-\techo \"sl CP852\"\n-\techo \"sl_SI CP852\"\n-\techo \"sq CP852\"\n-\techo \"sq_AL CP852\"\n-\techo \"sr CP852\"    # CP852 or CP866 or CP855 ??\n-\techo \"sr_YU CP852\" # CP852 or CP866 or CP855 ??\n-\t# ISO-8859-3 languages\n-\techo \"mt CP850\"\n-\techo \"mt_MT CP850\"\n-\t# ISO-8859-5 languages\n-\techo \"be CP866\"\n-\techo \"be_BE CP866\"\n-\techo \"bg CP866\"    # not CP855 ??\n-\techo \"bg_BG CP866\" # not CP855 ??\n-\techo \"mk CP866\"    # not CP855 ??\n-\techo \"mk_MK CP866\" # not CP855 ??\n-\techo \"ru KOI8-R\"    # not CP866 ??\n-\techo \"ru_RU KOI8-R\" # not CP866 ??\n-\t# ISO-8859-6 languages\n-\techo \"ar CP864\"\n-\techo \"ar_AE CP864\"\n-\techo \"ar_DZ CP864\"\n-\techo \"ar_EG CP864\"\n-\techo \"ar_IQ CP864\"\n-\techo \"ar_IR CP864\"\n-\techo \"ar_JO CP864\"\n-\techo \"ar_KW CP864\"\n-\techo \"ar_MA CP864\"\n-\techo \"ar_OM CP864\"\n-\techo \"ar_QA CP864\"\n-\techo \"ar_SA CP864\"\n-\techo \"ar_SY CP864\"\n-\t# ISO-8859-7 languages\n-\techo \"el CP869\"\n-\techo \"el_GR CP869\"\n-\t# ISO-8859-8 languages\n-\techo \"he CP862\"\n-\techo \"he_IL CP862\"\n-\t# ISO-8859-9 languages\n-\techo \"tr CP857\"\n-\techo \"tr_TR CP857\"\n-\t# Japanese\n-\techo \"ja CP932\"\n-\techo \"ja_JP CP932\"\n-\t# Chinese\n-\techo \"zh_CN GBK\"\n-\techo \"zh_TW CP950\" # not CP938 ??\n-\t# Korean\n-\techo \"kr CP949\"    # not CP934 ??\n-\techo \"kr_KR CP949\" # not CP934 ??\n-\t# Thai\n-\techo \"th CP874\"\n-\techo \"th_TH CP874\"\n-\t# Other\n-\techo \"eo CP850\"\n-\techo \"eo_EO CP850\"\n-\t;;\n-esac"}, {"sha": "0a06ce947bd7234174883ac4d48ae13af0b2c412", "filename": "gcc/intl/intl-compat.c", "status": "removed", "additions": 0, "deletions": 166, "changes": 166, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fintl-compat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fintl-compat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Fintl-compat.c?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,166 +0,0 @@\n-/* intl-compat.c - Stub functions to call gettext functions from GNU gettext\n-   Library.\n-   Copyright (C) 1995, 2000, 2001 Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-#ifdef HAVE_CONFIG_H\n-# include <config.h>\n-#endif\n-\n-#include \"libgnuintl.h\"\n-#include \"gettextP.h\"\n-\n-/* @@ end of prolog @@ */\n-\n-/* This file redirects the gettext functions (without prefix or suffix) to\n-   those defined in the included GNU gettext library (with \"__\" suffix).\n-   It is compiled into libintl when the included GNU gettext library is\n-   configured --with-included-gettext.\n-\n-   This redirection works also in the case that the system C library or\n-   the system libintl library contain gettext/textdomain/... functions.\n-   If it didn't, we would need to add preprocessor level redirections to\n-   libgnuintl.h of the following form:\n-\n-#    define gettext gettext__\n-#    define dgettext dgettext__\n-#    define dcgettext dcgettext__\n-#    define ngettext ngettext__\n-#    define dngettext dngettext__\n-#    define dcngettext dcngettext__\n-#    define textdomain textdomain__\n-#    define bindtextdomain bindtextdomain__\n-#    define bind_textdomain_codeset bind_textdomain_codeset__\n-\n-   How does this redirection work? There are two cases.\n-   A. When libintl.a is linked into an executable, it works because\n-      functions defined in the executable always override functions in\n-      the shared libraries.\n-   B. When libintl.so is used, it works because\n-      1. those systems defining gettext/textdomain/... in the C library\n-         (namely, Solaris 2.4 and newer, and GNU libc 2.0 and newer) are\n-         ELF systems and define these symbols as weak, thus explicitly\n-         letting other shared libraries override it.\n-      2. those systems defining gettext/textdomain/... in a standalone\n-         libintl.so library (namely, Solaris 2.3 and newer) have this\n-         shared library in /usr/lib, and the linker will search /usr/lib\n-         *after* the directory where the GNU gettext library is installed.\n-\n-   A third case, namely when libintl.a is linked into a shared library\n-   whose name is not libintl.so, is not supported. In this case, on\n-   Solaris, when -lintl precedes the linker option for the shared library\n-   containing GNU gettext, the system's gettext would indeed override\n-   the GNU gettext. Anyone doing this kind of stuff must be clever enough\n-   to 1. compile libintl.a with -fPIC, 2. remove -lintl from his linker\n-   command line.  */\n-\n-\n-#undef gettext\n-#undef dgettext\n-#undef dcgettext\n-#undef ngettext\n-#undef dngettext\n-#undef dcngettext\n-#undef textdomain\n-#undef bindtextdomain\n-#undef bind_textdomain_codeset\n-\n-\n-char *\n-gettext (msgid)\n-     const char *msgid;\n-{\n-  return gettext__ (msgid);\n-}\n-\n-\n-char *\n-dgettext (domainname, msgid)\n-     const char *domainname;\n-     const char *msgid;\n-{\n-  return dgettext__ (domainname, msgid);\n-}\n-\n-\n-char *\n-dcgettext (domainname, msgid, category)\n-     const char *domainname;\n-     const char *msgid;\n-     int category;\n-{\n-  return dcgettext__ (domainname, msgid, category);\n-}\n-\n-\n-char *\n-ngettext (msgid1, msgid2, n)\n-     const char *msgid1;\n-     const char *msgid2;\n-     unsigned long int n;\n-{\n-  return ngettext__ (msgid1, msgid2, n);\n-}\n-\n-\n-char *\n-dngettext (domainname, msgid1, msgid2, n)\n-     const char *domainname;\n-     const char *msgid1;\n-     const char *msgid2;\n-     unsigned long int n;\n-{\n-  return dngettext__ (domainname, msgid1, msgid2, n);\n-}\n-\n-\n-char *\n-dcngettext (domainname, msgid1, msgid2, n, category)\n-     const char *domainname;\n-     const char *msgid1;\n-     const char *msgid2;\n-     unsigned long int n;\n-     int category;\n-{\n-  return dcngettext__ (domainname, msgid1, msgid2, n, category);\n-}\n-\n-\n-char *\n-textdomain (domainname)\n-     const char *domainname;\n-{\n-  return textdomain__ (domainname);\n-}\n-\n-\n-char *\n-bindtextdomain (domainname, dirname)\n-     const char *domainname;\n-     const char *dirname;\n-{\n-  return bindtextdomain__ (domainname, dirname);\n-}\n-\n-\n-char *\n-bind_textdomain_codeset (domainname, codeset)\n-     const char *domainname;\n-     const char *codeset;\n-{\n-  return bind_textdomain_codeset__ (domainname, codeset);\n-}"}, {"sha": "c5be54a80af5eb239a5f67622d32135392ea8271", "filename": "gcc/intl/libgettext.h", "status": "removed", "additions": 0, "deletions": 49, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Flibgettext.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Flibgettext.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Flibgettext.h?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,49 +0,0 @@\n-/* Convenience header for conditional use of GNU <libintl.h>.\n-   Copyright (C) 1995-1998, 2000, 2001 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-#ifndef _LIBGETTEXT_H\n-#define _LIBGETTEXT_H 1\n-\n-/* NLS can be disabled through the configure --disable-nls option.  */\n-#if ENABLE_NLS\n-\n-/* Get declarations of GNU message catalog functions.  */\n-# include <libintl.h>\n-\n-#else\n-\n-# define gettext(Msgid) (Msgid)\n-# define dgettext(Domainname, Msgid) (Msgid)\n-# define dcgettext(Domainname, Msgid, Category) (Msgid)\n-# define ngettext(Msgid1, Msgid2, N) \\\n-    ((N) == 1 ? (char *) (Msgid1) : (char *) (Msgid2))\n-# define dngettext(Domainname, Msgid1, Msgid2, N) \\\n-    ((N) == 1 ? (char *) (Msgid1) : (char *) (Msgid2))\n-# define dcngettext(Domainname, Msgid1, Msgid2, N, Category) \\\n-    ((N) == 1 ? (char *) (Msgid1) : (char *) (Msgid2))\n-# define textdomain(Domainname) ((char *) (Domainname))\n-# define bindtextdomain(Domainname, Dirname) ((char *) (Dirname))\n-# define bind_textdomain_codeset(Domainname, Codeset) ((char *) (Codeset))\n-\n-#endif\n-\n-/* For automatical extraction of messages sometimes no real\n-   translation is needed.  Instead the string itself is the result.  */\n-#define gettext_noop(Str) (Str)\n-\n-#endif /* _LIBGETTEXT_H */"}, {"sha": "f891deb9636692416434e3affe55ad0bd1abfa02", "filename": "gcc/intl/libgnuintl.h", "status": "removed", "additions": 0, "deletions": 128, "changes": 128, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Flibgnuintl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Flibgnuintl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Flibgnuintl.h?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,128 +0,0 @@\n-/* Message catalogs for internationalization.\n-   Copyright (C) 1995-1997, 2000, 2001 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-#ifndef _LIBINTL_H\n-#define _LIBINTL_H\t1\n-\n-#include <locale.h>\n-\n-/* The LC_MESSAGES locale category is the category used by the functions\n-   gettext() and dgettext().  It is specified in POSIX, but not in ANSI C.\n-   On systems that don't define it, use an arbitrary value instead.\n-   On Solaris, <locale.h> defines __LOCALE_H then includes <libintl.h> (i.e.\n-   this file!) and then only defines LC_MESSAGES.  To avoid a redefinition\n-   warning, don't define LC_MESSAGES in this case.  */\n-#if !defined LC_MESSAGES && !defined __LOCALE_H\n-# define LC_MESSAGES 1729\n-#endif\n-\n-/* We define an additional symbol to signal that we use the GNU\n-   implementation of gettext.  */\n-#define __USE_GNU_GETTEXT 1\n-\n-/* Resolve a platform specific conflict on DJGPP.  GNU gettext takes\n-   precedence over _conio_gettext.  */\n-#ifdef __DJGPP__\n-# undef gettext\n-# define gettext gettext\n-#endif\n-\n-#ifndef PARAMS\n-# if __STDC__ || defined __cplusplus\n-#  define PARAMS(args) args\n-# else\n-#  define PARAMS(args) ()\n-# endif\n-#endif\n-\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-\n-/* Look up MSGID in the current default message catalog for the current\n-   LC_MESSAGES locale.  If not found, returns MSGID itself (the default\n-   text).  */\n-extern char *gettext PARAMS ((const char *__msgid));\n-\n-/* Look up MSGID in the DOMAINNAME message catalog for the current\n-   LC_MESSAGES locale.  */\n-extern char *dgettext PARAMS ((const char *__domainname, const char *__msgid));\n-\n-/* Look up MSGID in the DOMAINNAME message catalog for the current CATEGORY\n-   locale.  */\n-extern char *dcgettext PARAMS ((const char *__domainname, const char *__msgid,\n-\t\t\t\tint __category));\n-\n-\n-/* Similar to `gettext' but select the plural form corresponding to the\n-   number N.  */\n-extern char *ngettext PARAMS ((const char *__msgid1, const char *__msgid2,\n-\t\t\t       unsigned long int __n));\n-\n-/* Similar to `dgettext' but select the plural form corresponding to the\n-   number N.  */\n-extern char *dngettext PARAMS ((const char *__domainname, const char *__msgid1,\n-\t\t\t\tconst char *__msgid2, unsigned long int __n));\n-\n-/* Similar to `dcgettext' but select the plural form corresponding to the\n-   number N.  */\n-extern char *dcngettext PARAMS ((const char *__domainname, const char *__msgid1,\n-\t\t\t\t const char *__msgid2, unsigned long int __n,\n-\t\t\t\t int __category));\n-\n-\n-/* Set the current default message catalog to DOMAINNAME.\n-   If DOMAINNAME is null, return the current default.\n-   If DOMAINNAME is \"\", reset to the default of \"messages\".  */\n-extern char *textdomain PARAMS ((const char *__domainname));\n-\n-/* Specify that the DOMAINNAME message catalog will be found\n-   in DIRNAME rather than in the system locale data base.  */\n-extern char *bindtextdomain PARAMS ((const char *__domainname,\n-\t\t\t\t     const char *__dirname));\n-\n-/* Specify the character encoding in which the messages from the\n-   DOMAINNAME message catalog will be returned.  */\n-extern char *bind_textdomain_codeset PARAMS ((const char *__domainname,\n-\t\t\t\t\t      const char *__codeset));\n-\n-\n-/* Optimized version of the functions above.  */\n-#if defined __OPTIMIZED\n-/* These are macros, but could also be inline functions.  */\n-\n-# define gettext(msgid)\t\t\t\t\t\t\t      \\\n-  dgettext (NULL, msgid)\n-\n-# define dgettext(domainname, msgid)\t\t\t\t\t      \\\n-  dcgettext (domainname, msgid, LC_MESSAGES)\n-\n-# define ngettext(msgid1, msgid2, n)\t\t\t\t\t      \\\n-  dngettext (NULL, msgid1, msgid2, n)\n-\n-# define dngettext(domainname, msgid1, msgid2, n)\t\t\t      \\\n-  dcngettext (domainname, msgid1, msgid2, n, LC_MESSAGES)\n-\n-#endif /* Optimizing. */\n-\n-\n-#ifdef __cplusplus\n-}\n-#endif\n-\n-#endif /* libintl.h */"}, {"sha": "bf444f6ddd48192e81dc7510444ae959fc2e6393", "filename": "gcc/intl/loadmsgcat.c", "status": "removed", "additions": 0, "deletions": 580, "changes": 580, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Floadmsgcat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Floadmsgcat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Floadmsgcat.c?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,580 +0,0 @@\n-/* Load needed message catalogs.\n-   Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-/* Tell glibc's <string.h> to provide a prototype for mempcpy().\n-   This must come before <config.h> because <config.h> may include\n-   <features.h>, and once <features.h> has been included, it's too late.  */\n-#ifndef _GNU_SOURCE\n-# define _GNU_SOURCE    1\n-#endif\n-\n-#ifdef HAVE_CONFIG_H\n-# include <config.h>\n-#endif\n-\n-#include <ctype.h>\n-#include <errno.h>\n-#include <fcntl.h>\n-#include <sys/types.h>\n-#include <sys/stat.h>\n-\n-#ifdef __GNUC__\n-# define alloca __builtin_alloca\n-# define HAVE_ALLOCA 1\n-#else\n-# if defined HAVE_ALLOCA_H || defined _LIBC\n-#  include <alloca.h>\n-# else\n-#  ifdef _AIX\n- #pragma alloca\n-#  else\n-#   ifndef alloca\n-char *alloca ();\n-#   endif\n-#  endif\n-# endif\n-#endif\n-\n-#include <stdlib.h>\n-#include <string.h>\n-\n-#if defined HAVE_UNISTD_H || defined _LIBC\n-# include <unistd.h>\n-#endif\n-\n-#ifdef _LIBC\n-# include <langinfo.h>\n-# include <locale.h>\n-#endif\n-\n-#if (defined HAVE_MMAP_FILE && !defined DISALLOW_MMAP) \\\n-    || (defined _LIBC && defined _POSIX_MAPPED_FILES)\n-# include <sys/mman.h>\n-# undef HAVE_MMAP\n-# define HAVE_MMAP\t1\n-#else\n-# undef HAVE_MMAP\n-#endif\n-\n-#include \"gettext.h\"\n-#include \"gettextP.h\"\n-\n-#ifdef _LIBC\n-# include \"../locale/localeinfo.h\"\n-#endif\n-\n-/* GCC LOCAL: These macros are used below.  */\n-/* The extra casts work around common compiler bugs.  */\n-#define INTTYPE_SIGNED(t) (! ((t) 0 < (t) -1))\n-/* The outer cast is needed to work around a bug in Cray C 5.0.3.0.\n-   It is necessary at least when t == time_t.  */\n-#define INTTYPE_MINIMUM(t) ((t) (INTTYPE_SIGNED (t) \\\n-                             ? ~ (t) 0 << (sizeof(t) * CHAR_BIT - 1) : (t) 0))\n-#define INTTYPE_MAXIMUM(t) ((t) (~ (t) 0 - INTTYPE_MINIMUM (t)))\n-\n-/* @@ end of prolog @@ */\n-\n-#ifdef _LIBC\n-/* Rename the non ISO C functions.  This is required by the standard\n-   because some ISO C functions will require linking with this object\n-   file and the name space must not be polluted.  */\n-# define open   __open\n-# define close  __close\n-# define read   __read\n-# define mmap   __mmap\n-# define munmap __munmap\n-#endif\n-\n-/* Names for the libintl functions are a problem.  They must not clash\n-   with existing names and they should follow ANSI C.  But this source\n-   code is also used in GNU C Library where the names have a __\n-   prefix.  So we have to make a difference here.  */\n-#ifdef _LIBC\n-# define PLURAL_PARSE __gettextparse\n-#else\n-# define PLURAL_PARSE gettextparse__\n-#endif\n-\n-/* For those losing systems which don't have `alloca' we have to add\n-   some additional code emulating it.  */\n-#ifdef HAVE_ALLOCA\n-# define freea(p) /* nothing */\n-#else\n-# define alloca(n) malloc (n)\n-# define freea(p) free (p)\n-#endif\n-\n-/* For systems that distinguish between text and binary I/O.\n-   O_BINARY is usually declared in <fcntl.h>. */\n-#if !defined O_BINARY && defined _O_BINARY\n-  /* For MSC-compatible compilers.  */\n-# define O_BINARY _O_BINARY\n-# define O_TEXT _O_TEXT\n-#endif\n-#ifdef __BEOS__\n-  /* BeOS 5 has O_BINARY and O_TEXT, but they have no effect.  */\n-# undef O_BINARY\n-# undef O_TEXT\n-#endif\n-/* On reasonable systems, binary I/O is the default.  */\n-#ifndef O_BINARY\n-# define O_BINARY 0\n-#endif\n-\n-/* We need a sign, whether a new catalog was loaded, which can be associated\n-   with all translations.  This is important if the translations are\n-   cached by one of GCC's features.  */\n-int _nl_msg_cat_cntr;\n-\n-#if (defined __GNUC__ && !defined __APPLE_CC__) \\\n-    || (defined __STDC_VERSION__ && __STDC_VERSION__ >= 199901L)\n-\n-/* These structs are the constant expression for the germanic plural\n-   form determination.  It represents the expression  \"n != 1\".\n-   GCC LOCAL: Use __extension__ to suppress -Wtraditional warnings.  */\n-__extension__ static const struct expression plvar =\n-{\n-  .nargs = 0,\n-  .operation = var,\n-};\n-__extension__ static const struct expression plone =\n-{\n-  .nargs = 0,\n-  .operation = num,\n-  .val =\n-  {\n-    .num = 1\n-  }\n-};\n-__extension__ static struct expression germanic_plural =\n-{\n-  .nargs = 2,\n-  .operation = not_equal,\n-  .val =\n-  {\n-    .args =\n-    {\n-      [0] = (struct expression *) &plvar,\n-      [1] = (struct expression *) &plone\n-    }\n-  }\n-};\n-\n-# define INIT_GERMANIC_PLURAL()\n-\n-#else\n-\n-/* For compilers without support for ISO C 99 struct/union initializers:\n-   Initialization at run-time.  */\n-\n-static struct expression plvar;\n-static struct expression plone;\n-static struct expression germanic_plural;\n-\n-static void\n-init_germanic_plural ()\n-{\n-  if (plone.val.num == 0)\n-    {\n-      plvar.nargs = 0;\n-      plvar.operation = var;\n-\n-      plone.nargs = 0;\n-      plone.operation = num;\n-      plone.val.num = 1;\n-\n-      germanic_plural.nargs = 2;\n-      germanic_plural.operation = not_equal;\n-      germanic_plural.val.args[0] = &plvar;\n-      germanic_plural.val.args[1] = &plone;\n-    }\n-}\n-\n-# define INIT_GERMANIC_PLURAL() init_germanic_plural ()\n-\n-#endif\n-\n-\n-/* Initialize the codeset dependent parts of an opened message catalog.\n-   Return the header entry.  */\n-const char *\n-internal_function\n-_nl_init_domain_conv (domain_file, domain, domainbinding)\n-     struct loaded_l10nfile *domain_file;\n-     struct loaded_domain *domain;\n-     struct binding *domainbinding;\n-{\n-  /* Find out about the character set the file is encoded with.\n-     This can be found (in textual form) in the entry \"\".  If this\n-     entry does not exist or if this does not contain the `charset='\n-     information, we will assume the charset matches the one the\n-     current locale and we don't have to perform any conversion.  */\n-  char *nullentry;\n-  size_t nullentrylen;\n-\n-  /* Preinitialize fields, to avoid recursion during _nl_find_msg.  */\n-  domain->codeset_cntr =\n-    (domainbinding != NULL ? domainbinding->codeset_cntr : 0);\n-#ifdef _LIBC\n-  domain->conv = (__gconv_t) -1;\n-#else\n-# if HAVE_ICONV\n-  domain->conv = (iconv_t) -1;\n-# endif\n-#endif\n-  domain->conv_tab = NULL;\n-\n-  /* Get the header entry.  */\n-  nullentry = _nl_find_msg (domain_file, domainbinding, \"\", &nullentrylen);\n-\n-  if (nullentry != NULL)\n-    {\n-#if defined _LIBC || HAVE_ICONV\n-      const char *charsetstr;\n-\n-      charsetstr = strstr (nullentry, \"charset=\");\n-      if (charsetstr != NULL)\n-\t{\n-\t  size_t len;\n-\t  char *charset;\n-\t  const char *outcharset;\n-\n-\t  charsetstr += strlen (\"charset=\");\n-\t  len = strcspn (charsetstr, \" \\t\\n\");\n-\n-\t  charset = (char *) alloca (len + 1);\n-# if defined _LIBC || HAVE_MEMPCPY\n-\t  *((char *) mempcpy (charset, charsetstr, len)) = '\\0';\n-# else\n-\t  memcpy (charset, charsetstr, len);\n-\t  charset[len] = '\\0';\n-# endif\n-\n-\t  /* The output charset should normally be determined by the\n-\t     locale.  But sometimes the locale is not used or not correctly\n-\t     set up, so we provide a possibility for the user to override\n-\t     this.  Moreover, the value specified through\n-\t     bind_textdomain_codeset overrides both.  */\n-\t  if (domainbinding != NULL && domainbinding->codeset != NULL)\n-\t    outcharset = domainbinding->codeset;\n-\t  else\n-\t    {\n-\t      outcharset = getenv (\"OUTPUT_CHARSET\");\n-\t      if (outcharset == NULL || outcharset[0] == '\\0')\n-\t\t{\n-# ifdef _LIBC\n-\t\t  outcharset = (*_nl_current[LC_CTYPE])->values[_NL_ITEM_INDEX (CODESET)].string;\n-# else\n-#  if HAVE_ICONV\n-\t\t  outcharset = locale_charset ();\n-#  endif\n-# endif\n-\t\t}\n-\t    }\n-\n-# ifdef _LIBC\n-\t  /* We always want to use transliteration.  */\n-\t  outcharset = norm_add_slashes (outcharset, \"TRANSLIT\");\n-\t  charset = norm_add_slashes (charset, NULL);\n-\t  if (__gconv_open (outcharset, charset, &domain->conv,\n-\t\t\t    GCONV_AVOID_NOCONV)\n-\t      != __GCONV_OK)\n-\t    domain->conv = (__gconv_t) -1;\n-# else\n-#  if HAVE_ICONV\n-\t  /* When using GNU libiconv, we want to use transliteration.  */\n-#   if _LIBICONV_VERSION >= 0x0105\n-\t  len = strlen (outcharset);\n-\t  {\n-\t    char *tmp = (char *) alloca (len + 10 + 1);\n-\t    memcpy (tmp, outcharset, len);\n-\t    memcpy (tmp + len, \"//TRANSLIT\", 10 + 1);\n-\t    outcharset = tmp;\n-\t  }\n-#   endif\n-\t  domain->conv = iconv_open (outcharset, charset);\n-#   if _LIBICONV_VERSION >= 0x0105\n-\t  freea (outcharset);\n-#   endif\n-#  endif\n-# endif\n-\n-\t  freea (charset);\n-\t}\n-#endif /* _LIBC || HAVE_ICONV */\n-    }\n-\n-  return nullentry;\n-}\n-\n-/* Frees the codeset dependent parts of an opened message catalog.  */\n-void\n-internal_function\n-_nl_free_domain_conv (domain)\n-     struct loaded_domain *domain;\n-{\n-  if (domain->conv_tab != NULL && domain->conv_tab != (char **) -1)\n-    free (domain->conv_tab);\n-\n-#ifdef _LIBC\n-  if (domain->conv != (__gconv_t) -1)\n-    __gconv_close (domain->conv);\n-#else\n-# if HAVE_ICONV\n-  if (domain->conv != (iconv_t) -1)\n-    iconv_close (domain->conv);\n-# endif\n-#endif\n-}\n-\n-/* Load the message catalogs specified by FILENAME.  If it is no valid\n-   message catalog do nothing.  */\n-void\n-internal_function\n-_nl_load_domain (domain_file, domainbinding)\n-     struct loaded_l10nfile *domain_file;\n-     struct binding *domainbinding;\n-{\n-  int fd;\n-  size_t size;\n-#ifdef _LIBC\n-  struct stat64 st;\n-#else\n-  struct stat st;\n-#endif\n-  struct mo_file_header *data = (struct mo_file_header *) -1;\n-  int use_mmap = 0;\n-  struct loaded_domain *domain;\n-  const char *nullentry;\n-\n-  domain_file->decided = 1;\n-  domain_file->data = NULL;\n-\n-  /* Note that it would be useless to store domainbinding in domain_file\n-     because domainbinding might be == NULL now but != NULL later (after\n-     a call to bind_textdomain_codeset).  */\n-\n-  /* If the record does not represent a valid locale the FILENAME\n-     might be NULL.  This can happen when according to the given\n-     specification the locale file name is different for XPG and CEN\n-     syntax.  */\n-  if (domain_file->filename == NULL)\n-    return;\n-\n-  /* Try to open the addressed file.  */\n-  fd = open (domain_file->filename, O_RDONLY | O_BINARY);\n-  if (fd == -1)\n-    return;\n-\n-  /* We must know about the size of the file.  */\n-  /* GCC_LOCAL: Use INTTYPE_MAXIMUM for overflow check, cast sizeof to\n-     off_t, move set of size below if.  */\n-  if (\n-#ifdef _LIBC\n-      __builtin_expect (fstat64 (fd, &st) != 0, 0)\n-#else\n-      __builtin_expect (fstat (fd, &st) != 0, 0)\n-#endif\n-      || __builtin_expect (st.st_size > INTTYPE_MAXIMUM (ssize_t), 0)\n-      || __builtin_expect (st.st_size < (off_t) sizeof (struct mo_file_header),\n-\t\t\t   0))\n-    {\n-      /* Something went wrong.  */\n-      close (fd);\n-      return;\n-    }\n-  size = (size_t) st.st_size;\n-\n-#ifdef HAVE_MMAP\n-  /* Now we are ready to load the file.  If mmap() is available we try\n-     this first.  If not available or it failed we try to load it.  */\n-  data = (struct mo_file_header *) mmap (NULL, size, PROT_READ,\n-\t\t\t\t\t MAP_PRIVATE, fd, 0);\n-\n-  if (__builtin_expect (data != (struct mo_file_header *) -1, 1))\n-    {\n-      /* mmap() call was successful.  */\n-      close (fd);\n-      use_mmap = 1;\n-    }\n-#endif\n-\n-  /* If the data is not yet available (i.e. mmap'ed) we try to load\n-     it manually.  */\n-  if (data == (struct mo_file_header *) -1)\n-    {\n-      size_t to_read;\n-      char *read_ptr;\n-\n-      data = (struct mo_file_header *) malloc (size);\n-      if (data == NULL)\n-\treturn;\n-\n-      to_read = size;\n-      read_ptr = (char *) data;\n-      do\n-\t{\n-\t  long int nb = (long int) read (fd, read_ptr, to_read);\n-\t  if (nb <= 0)\n-\t    {\n-#ifdef EINTR\n-\t      if (nb == -1 && errno == EINTR)\n-\t\tcontinue;\n-#endif\n-\t      close (fd);\n-\t      return;\n-\t    }\n-\t  read_ptr += nb;\n-\t  to_read -= nb;\n-\t}\n-      while (to_read > 0);\n-\n-      close (fd);\n-    }\n-\n-  /* Using the magic number we can test whether it really is a message\n-     catalog file.  */\n-  if (__builtin_expect (data->magic != _MAGIC && data->magic != _MAGIC_SWAPPED,\n-\t\t\t0))\n-    {\n-      /* The magic number is wrong: not a message catalog file.  */\n-#ifdef HAVE_MMAP\n-      if (use_mmap)\n-\tmunmap ((caddr_t) data, size);\n-      else\n-#endif\n-\tfree (data);\n-      return;\n-    }\n-\n-  domain = (struct loaded_domain *) malloc (sizeof (struct loaded_domain));\n-  if (domain == NULL)\n-    return;\n-  domain_file->data = domain;\n-\n-  domain->data = (char *) data;\n-  domain->use_mmap = use_mmap;\n-  domain->mmap_size = size;\n-  domain->must_swap = data->magic != _MAGIC;\n-\n-  /* Fill in the information about the available tables.  */\n-  switch (W (domain->must_swap, data->revision))\n-    {\n-    case 0:\n-      domain->nstrings = W (domain->must_swap, data->nstrings);\n-      domain->orig_tab = (struct string_desc *)\n-\t((char *) data + W (domain->must_swap, data->orig_tab_offset));\n-      domain->trans_tab = (struct string_desc *)\n-\t((char *) data + W (domain->must_swap, data->trans_tab_offset));\n-      domain->hash_size = W (domain->must_swap, data->hash_tab_size);\n-      domain->hash_tab = (nls_uint32 *)\n-\t((char *) data + W (domain->must_swap, data->hash_tab_offset));\n-      break;\n-    default:\n-      /* This is an invalid revision.  */\n-#ifdef HAVE_MMAP\n-      if (use_mmap)\n-\tmunmap ((caddr_t) data, size);\n-      else\n-#endif\n-\tfree (data);\n-      free (domain);\n-      domain_file->data = NULL;\n-      return;\n-    }\n-\n-  /* Now initialize the character set converter from the character set\n-     the file is encoded with (found in the header entry) to the domain's\n-     specified character set or the locale's character set.  */\n-  nullentry = _nl_init_domain_conv (domain_file, domain, domainbinding);\n-\n-  /* Also look for a plural specification.  */\n-  if (nullentry != NULL)\n-    {\n-      const char *plural;\n-      const char *nplurals;\n-\n-      plural = strstr (nullentry, \"plural=\");\n-      nplurals = strstr (nullentry, \"nplurals=\");\n-      if (plural == NULL || nplurals == NULL)\n-\tgoto no_plural;\n-      else\n-\t{\n-\t  /* First get the number.  */\n-\t  char *endp;\n-\t  unsigned long int n;\n-\t  struct parse_args args;\n-\n-\t  nplurals += 9;\n-\t  while (*nplurals != '\\0' && isspace ((unsigned char)*nplurals))\n-\t    ++nplurals;\n-#if defined HAVE_STRTOUL || defined _LIBC\n-\t  n = strtoul (nplurals, &endp, 10);\n-#else\n-\t  for (endp = nplurals, n = 0; *endp >= '0' && *endp <= '9'; endp++)\n-\t    n = n * 10 + (*endp - '0');\n-#endif\n-\t  domain->nplurals = n;\n-\t  if (nplurals == endp)\n-\t    goto no_plural;\n-\n-\t  /* Due to the restrictions bison imposes onto the interface of the\n-\t     scanner function we have to put the input string and the result\n-\t     passed up from the parser into the same structure which address\n-\t     is passed down to the parser.  */\n-\t  plural += 7;\n-\t  args.cp = plural;\n-\t  if (PLURAL_PARSE (&args) != 0)\n-\t    goto no_plural;\n-\t  domain->plural = args.res;\n-\t}\n-    }\n-  else\n-    {\n-      /* By default we are using the Germanic form: singular form only\n-         for `one', the plural form otherwise.  Yes, this is also what\n-         English is using since English is a Germanic language.  */\n-    no_plural:\n-      INIT_GERMANIC_PLURAL ();\n-      domain->plural = &germanic_plural;\n-      domain->nplurals = 2;\n-    }\n-}\n-\n-\n-#ifdef _LIBC\n-void\n-internal_function\n-_nl_unload_domain (domain)\n-     struct loaded_domain *domain;\n-{\n-  if (domain->plural != &germanic_plural)\n-    __gettext_free_exp (domain->plural);\n-\n-  _nl_free_domain_conv (domain);\n-\n-# ifdef _POSIX_MAPPED_FILES\n-  if (domain->use_mmap)\n-    munmap ((caddr_t) domain->data, domain->mmap_size);\n-  else\n-# endif\t/* _POSIX_MAPPED_FILES */\n-    free ((void *) domain->data);\n-\n-  free (domain);\n-}\n-#endif"}, {"sha": "7d7e6af7de1edf04e6fd3f292d4a1016ed836f7f", "filename": "gcc/intl/plural.c", "status": "removed", "additions": 0, "deletions": 1329, "changes": 1329, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fplural.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fplural.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Fplural.c?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,1329 +0,0 @@\n-\n-/*  A Bison parser, made from plural.y\n-    by GNU Bison version 1.28  */\n-\n-#define YYBISON 1  /* Identify Bison output.  */\n-\n-#define yyparse __gettextparse\n-#define yylex __gettextlex\n-#define yyerror __gettexterror\n-#define yylval __gettextlval\n-#define yychar __gettextchar\n-#define yydebug __gettextdebug\n-#define yynerrs __gettextnerrs\n-#define\tEQUOP2\t257\n-#define\tCMPOP2\t258\n-#define\tADDOP2\t259\n-#define\tMULOP2\t260\n-#define\tNUMBER\t261\n-\n-#line 1 \"plural.y\"\n-\n-/* Expression parsing for plural form selection.\n-   Copyright (C) 2000, 2001 Free Software Foundation, Inc.\n-   Written by Ulrich Drepper <drepper@cygnus.com>, 2000.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-/* The bison generated parser uses alloca.  AIX 3 forces us to put this\n-   declaration at the beginning of the file.  The declaration in bison's\n-   skeleton file comes too late.  This must come before <config.h>\n-   because <config.h> may include arbitrary system headers.  */\n-#if defined _AIX && !defined __GNUC__\n- #pragma alloca\n-#endif\n-\n-#ifdef HAVE_CONFIG_H\n-# include <config.h>\n-#endif\n-\n-#include <stdlib.h>\n-#include \"gettextP.h\"\n-\n-/* Names for the libintl functions are a problem.  They must not clash\n-   with existing names and they should follow ANSI C.  But this source\n-   code is also used in GNU C Library where the names have a __\n-   prefix.  So we have to make a difference here.  */\n-#ifdef _LIBC\n-# define FREE_EXPRESSION __gettext_free_exp\n-#else\n-# define FREE_EXPRESSION gettext_free_exp__\n-# define __gettextparse gettextparse__\n-#endif\n-\n-#define YYLEX_PARAM\t&((struct parse_args *) arg)->cp\n-#define YYPARSE_PARAM\targ\n-\n-#line 53 \"plural.y\"\n-typedef union {\n-  unsigned long int num;\n-  enum operator op;\n-  struct expression *exp;\n-} YYSTYPE;\n-#line 59 \"plural.y\"\n-\n-/* Prototypes for local functions.  */\n-static struct expression *new_exp PARAMS ((int nargs, enum operator op,\n-\t\t\t\t\t   struct expression * const *args));\n-static inline struct expression *new_exp_0 PARAMS ((enum operator op));\n-static inline struct expression *new_exp_1 PARAMS ((enum operator op,\n-\t\t\t\t\t\t   struct expression *right));\n-static struct expression *new_exp_2 PARAMS ((enum operator op,\n-\t\t\t\t\t     struct expression *left,\n-\t\t\t\t\t     struct expression *right));\n-static inline struct expression *new_exp_3 PARAMS ((enum operator op,\n-\t\t\t\t\t\t   struct expression *bexp,\n-\t\t\t\t\t\t   struct expression *tbranch,\n-\t\t\t\t\t\t   struct expression *fbranch));\n-static int yylex PARAMS ((YYSTYPE *lval, const char **pexp));\n-static void yyerror PARAMS ((const char *str));\n-\n-/* Allocation of expressions.  */\n-\n-static struct expression *\n-new_exp (nargs, op, args)\n-     int nargs;\n-     enum operator op;\n-     struct expression * const *args;\n-{\n-  int i;\n-  struct expression *newp;\n-\n-  /* If any of the argument could not be malloc'ed, just return NULL.  */\n-  for (i = nargs - 1; i >= 0; i--)\n-    if (args[i] == NULL)\n-      goto fail;\n-\n-  /* Allocate a new expression.  */\n-  newp = (struct expression *) malloc (sizeof (*newp));\n-  if (newp != NULL)\n-    {\n-      newp->nargs = nargs;\n-      newp->operation = op;\n-      for (i = nargs - 1; i >= 0; i--)\n-\tnewp->val.args[i] = args[i];\n-      return newp;\n-    }\n-\n- fail:\n-  for (i = nargs - 1; i >= 0; i--)\n-    FREE_EXPRESSION (args[i]);\n-\n-  return NULL;\n-}\n-\n-static inline struct expression *\n-new_exp_0 (op)\n-     enum operator op;\n-{\n-  return new_exp (0, op, NULL);\n-}\n-\n-static inline struct expression *\n-new_exp_1 (op, right)\n-     enum operator op;\n-     struct expression *right;\n-{\n-  struct expression *args[1];\n-\n-  args[0] = right;\n-  return new_exp (1, op, args);\n-}\n-\n-static struct expression *\n-new_exp_2 (op, left, right)\n-     enum operator op;\n-     struct expression *left;\n-     struct expression *right;\n-{\n-  struct expression *args[2];\n-\n-  args[0] = left;\n-  args[1] = right;\n-  return new_exp (2, op, args);\n-}\n-\n-static inline struct expression *\n-new_exp_3 (op, bexp, tbranch, fbranch)\n-     enum operator op;\n-     struct expression *bexp;\n-     struct expression *tbranch;\n-     struct expression *fbranch;\n-{\n-  struct expression *args[3];\n-\n-  args[0] = bexp;\n-  args[1] = tbranch;\n-  args[2] = fbranch;\n-  return new_exp (3, op, args);\n-}\n-\n-#include <stdio.h>\n-\n-#ifndef __cplusplus\n-#ifndef __STDC__\n-#define const\n-#endif\n-#endif\n-\n-\n-\n-#define\tYYFINAL\t\t27\n-#define\tYYFLAG\t\t-32768\n-#define\tYYNTBASE\t16\n-\n-#define YYTRANSLATE(x) ((unsigned)(x) <= 261 ? yytranslate[x] : 18)\n-\n-static const char yytranslate[] = {     0,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,    10,     2,     2,     2,     2,     5,     2,    14,\n-    15,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,    12,     2,     2,\n-     2,     2,     3,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,    13,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     4,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n-     2,     2,     2,     2,     2,     1,     6,     7,     8,     9,\n-    11\n-};\n-\n-#if YYDEBUG != 0\n-static const short yyprhs[] = {     0,\n-     0,     2,     8,    12,    16,    20,    24,    28,    32,    35,\n-    37,    39\n-};\n-\n-static const short yyrhs[] = {    17,\n-     0,    17,     3,    17,    12,    17,     0,    17,     4,    17,\n-     0,    17,     5,    17,     0,    17,     6,    17,     0,    17,\n-     7,    17,     0,    17,     8,    17,     0,    17,     9,    17,\n-     0,    10,    17,     0,    13,     0,    11,     0,    14,    17,\n-    15,     0\n-};\n-\n-#endif\n-\n-#if YYDEBUG != 0\n-static const short yyrline[] = { 0,\n-   178,   186,   190,   194,   198,   202,   206,   210,   214,   218,\n-   222,   227\n-};\n-#endif\n-\n-\n-#if YYDEBUG != 0 || defined (YYERROR_VERBOSE)\n-\n-static const char * const yytname[] = {   \"$\",\"error\",\"$undefined.\",\"'?'\",\"'|'\",\n-\"'&'\",\"EQUOP2\",\"CMPOP2\",\"ADDOP2\",\"MULOP2\",\"'!'\",\"NUMBER\",\"':'\",\"'n'\",\"'('\",\"')'\",\n-\"start\",\"exp\", NULL\n-};\n-#endif\n-\n-static const short yyr1[] = {     0,\n-    16,    17,    17,    17,    17,    17,    17,    17,    17,    17,\n-    17,    17\n-};\n-\n-static const short yyr2[] = {     0,\n-     1,     5,     3,     3,     3,     3,     3,     3,     2,     1,\n-     1,     3\n-};\n-\n-static const short yydefact[] = {     0,\n-     0,    11,    10,     0,     1,     9,     0,     0,     0,     0,\n-     0,     0,     0,     0,    12,     0,     3,     4,     5,     6,\n-     7,     8,     0,     2,     0,     0,     0\n-};\n-\n-static const short yydefgoto[] = {    25,\n-     5\n-};\n-\n-static const short yypact[] = {    -9,\n-    -9,-32768,-32768,    -9,    34,-32768,    11,    -9,    -9,    -9,\n-    -9,    -9,    -9,    -9,-32768,    24,    39,    43,    16,    26,\n-    -3,-32768,    -9,    34,    21,    53,-32768\n-};\n-\n-static const short yypgoto[] = {-32768,\n-    -1\n-};\n-\n-\n-#define\tYYLAST\t\t53\n-\n-\n-static const short yytable[] = {     6,\n-     1,     2,     7,     3,     4,    14,    16,    17,    18,    19,\n-    20,    21,    22,     8,     9,    10,    11,    12,    13,    14,\n-    26,    24,    12,    13,    14,    15,     8,     9,    10,    11,\n-    12,    13,    14,    13,    14,    23,     8,     9,    10,    11,\n-    12,    13,    14,    10,    11,    12,    13,    14,    11,    12,\n-    13,    14,    27\n-};\n-\n-static const short yycheck[] = {     1,\n-    10,    11,     4,    13,    14,     9,     8,     9,    10,    11,\n-    12,    13,    14,     3,     4,     5,     6,     7,     8,     9,\n-     0,    23,     7,     8,     9,    15,     3,     4,     5,     6,\n-     7,     8,     9,     8,     9,    12,     3,     4,     5,     6,\n-     7,     8,     9,     5,     6,     7,     8,     9,     6,     7,\n-     8,     9,     0\n-};\n-#define YYPURE 1\n-\n-/* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n-#line 3 \"/home/haible/gnu/arch/linuxlibc6/share/bison.simple\"\n-/* This file comes from bison-1.28.  */\n-\n-/* Skeleton output parser for bison,\n-   Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify\n-   it under the terms of the GNU General Public License as published by\n-   the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-   GNU General Public License for more details.\n-\n-   You should have received a copy of the GNU General Public License\n-   along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330,\n-   Boston, MA 02111-1307, USA.  */\n-\n-/* As a special exception, when this file is copied by Bison into a\n-   Bison output file, you may use that output file without restriction.\n-   This special exception was added by the Free Software Foundation\n-   in version 1.24 of Bison.  */\n-\n-/* This is the parser code that is written into each bison parser\n-  when the %semantic_parser declaration is not specified in the grammar.\n-  It was written by Richard Stallman by simplifying the hairy parser\n-  used when %semantic_parser is specified.  */\n-\n-#ifndef YYSTACK_USE_ALLOCA\n-#ifdef alloca\n-#define YYSTACK_USE_ALLOCA\n-#else /* alloca not defined */\n-#ifdef __GNUC__\n-#define YYSTACK_USE_ALLOCA\n-#define alloca __builtin_alloca\n-#else /* not GNU C.  */\n-#if (!defined (__STDC__) && defined (sparc)) || defined (__sparc__) || defined (__sparc) || defined (__sgi) || (defined (__sun) && defined (__i386))\n-#define YYSTACK_USE_ALLOCA\n-#include <alloca.h>\n-#else /* not sparc */\n-/* We think this test detects Watcom and Microsoft C.  */\n-/* This used to test MSDOS, but that is a bad idea\n-   since that symbol is in the user namespace.  */\n-#if (defined (_MSDOS) || defined (_MSDOS_)) && !defined (__TURBOC__)\n-#if 0 /* No need for malloc.h, which pollutes the namespace;\n-\t instead, just don't use alloca.  */\n-#include <malloc.h>\n-#endif\n-#else /* not MSDOS, or __TURBOC__ */\n-#if defined(_AIX)\n-/* I don't know what this was needed for, but it pollutes the namespace.\n-   So I turned it off.   rms, 2 May 1997.  */\n-/* #include <malloc.h>  */\n- #pragma alloca\n-#define YYSTACK_USE_ALLOCA\n-#else /* not MSDOS, or __TURBOC__, or _AIX */\n-#if 0\n-#ifdef __hpux /* haible@ilog.fr says this works for HPUX 9.05 and up,\n-\t\t and on HPUX 10.  Eventually we can turn this on.  */\n-#define YYSTACK_USE_ALLOCA\n-#define alloca __builtin_alloca\n-#endif /* __hpux */\n-#endif\n-#endif /* not _AIX */\n-#endif /* not MSDOS, or __TURBOC__ */\n-#endif /* not sparc */\n-#endif /* not GNU C */\n-#endif /* alloca not defined */\n-#endif /* YYSTACK_USE_ALLOCA not defined */\n-\n-#ifdef YYSTACK_USE_ALLOCA\n-#define YYSTACK_ALLOC alloca\n-#else\n-#define YYSTACK_ALLOC malloc\n-#endif\n-\n-/* Note: there must be only one dollar sign in this file.\n-   It is replaced by the list of actions, each action\n-   as one case of the switch.  */\n-\n-#define yyerrok\t\t(yyerrstatus = 0)\n-#define yyclearin\t(yychar = YYEMPTY)\n-#define YYEMPTY\t\t-2\n-#define YYEOF\t\t0\n-#define YYACCEPT\tgoto yyacceptlab\n-#define YYABORT \tgoto yyabortlab\n-#define YYERROR\t\tgoto yyerrlab1\n-/* Like YYERROR except do call yyerror.\n-   This remains here temporarily to ease the\n-   transition to the new meaning of YYERROR, for GCC.\n-   Once GCC version 2 has supplanted version 1, this can go.  */\n-#define YYFAIL\t\tgoto yyerrlab\n-#define YYRECOVERING()  (!!yyerrstatus)\n-#define YYBACKUP(token, value) \\\n-do\t\t\t\t\t\t\t\t\\\n-  if (yychar == YYEMPTY && yylen == 1)\t\t\t\t\\\n-    { yychar = (token), yylval = (value);\t\t\t\\\n-      yychar1 = YYTRANSLATE (yychar);\t\t\t\t\\\n-      YYPOPSTACK;\t\t\t\t\t\t\\\n-      goto yybackup;\t\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else\t\t\t\t\t\t\t\t\\\n-    { yyerror (\"syntax error: cannot back up\"); YYERROR; }\t\\\n-while (0)\n-\n-#define YYTERROR\t1\n-#define YYERRCODE\t256\n-\n-#ifndef YYPURE\n-#define YYLEX\t\tyylex()\n-#endif\n-\n-#ifdef YYPURE\n-#ifdef YYLSP_NEEDED\n-#ifdef YYLEX_PARAM\n-#define YYLEX\t\tyylex(&yylval, &yylloc, YYLEX_PARAM)\n-#else\n-#define YYLEX\t\tyylex(&yylval, &yylloc)\n-#endif\n-#else /* not YYLSP_NEEDED */\n-#ifdef YYLEX_PARAM\n-#define YYLEX\t\tyylex(&yylval, YYLEX_PARAM)\n-#else\n-#define YYLEX\t\tyylex(&yylval)\n-#endif\n-#endif /* not YYLSP_NEEDED */\n-#endif\n-\n-/* If nonreentrant, generate the variables here */\n-\n-#ifndef YYPURE\n-\n-int\tyychar;\t\t\t/*  the lookahead symbol\t\t*/\n-YYSTYPE\tyylval;\t\t\t/*  the semantic value of the\t\t*/\n-\t\t\t\t/*  lookahead symbol\t\t\t*/\n-\n-#ifdef YYLSP_NEEDED\n-YYLTYPE yylloc;\t\t\t/*  location data for the lookahead\t*/\n-\t\t\t\t/*  symbol\t\t\t\t*/\n-#endif\n-\n-int yynerrs;\t\t\t/*  number of parse errors so far       */\n-#endif  /* not YYPURE */\n-\n-#if YYDEBUG != 0\n-int yydebug;\t\t\t/*  nonzero means print parse trace\t*/\n-/* Since this is uninitialized, it does not stop multiple parsers\n-   from coexisting.  */\n-#endif\n-\n-/*  YYINITDEPTH indicates the initial size of the parser's stacks\t*/\n-\n-#ifndef\tYYINITDEPTH\n-#define YYINITDEPTH 200\n-#endif\n-\n-/*  YYMAXDEPTH is the maximum size the stacks can grow to\n-    (effective only if the built-in stack extension method is used).  */\n-\n-#if YYMAXDEPTH == 0\n-#undef YYMAXDEPTH\n-#endif\n-\n-#ifndef YYMAXDEPTH\n-#define YYMAXDEPTH 10000\n-#endif\n-\f\n-/* Define __yy_memcpy.  Note that the size argument\n-   should be passed with type unsigned int, because that is what the non-GCC\n-   definitions require.  With GCC, __builtin_memcpy takes an arg\n-   of type size_t, but it can handle unsigned int.  */\n-\n-#if __GNUC__ > 1\t\t/* GNU C and GNU C++ define this.  */\n-#define __yy_memcpy(TO,FROM,COUNT)\t__builtin_memcpy(TO,FROM,COUNT)\n-#else\t\t\t\t/* not GNU C or C++ */\n-#ifndef __cplusplus\n-\n-/* This is the most reliable way to avoid incompatibilities\n-   in available built-in functions on various systems.  */\n-static void\n-__yy_memcpy (to, from, count)\n-     char *to;\n-     char *from;\n-     unsigned int count;\n-{\n-  register char *f = from;\n-  register char *t = to;\n-  register int i = count;\n-\n-  while (i-- > 0)\n-    *t++ = *f++;\n-}\n-\n-#else /* __cplusplus */\n-\n-/* This is the most reliable way to avoid incompatibilities\n-   in available built-in functions on various systems.  */\n-static void\n-__yy_memcpy (char *to, char *from, unsigned int count)\n-{\n-  register char *t = to;\n-  register char *f = from;\n-  register int i = count;\n-\n-  while (i-- > 0)\n-    *t++ = *f++;\n-}\n-\n-#endif\n-#endif\n-\f\n-#line 217 \"/home/haible/gnu/arch/linuxlibc6/share/bison.simple\"\n-\n-/* The user can define YYPARSE_PARAM as the name of an argument to be passed\n-   into yyparse.  The argument should have type void *.\n-   It should actually point to an object.\n-   Grammar actions can access the variable by casting it\n-   to the proper pointer type.  */\n-\n-#ifdef YYPARSE_PARAM\n-#ifdef __cplusplus\n-#define YYPARSE_PARAM_ARG void *YYPARSE_PARAM\n-#define YYPARSE_PARAM_DECL\n-#else /* not __cplusplus */\n-#define YYPARSE_PARAM_ARG YYPARSE_PARAM\n-#define YYPARSE_PARAM_DECL void *YYPARSE_PARAM;\n-#endif /* not __cplusplus */\n-#else /* not YYPARSE_PARAM */\n-#define YYPARSE_PARAM_ARG\n-#define YYPARSE_PARAM_DECL\n-#endif /* not YYPARSE_PARAM */\n-\n-/* Prevent warning if -Wstrict-prototypes.  */\n-#ifdef __GNUC__\n-#ifdef YYPARSE_PARAM\n-int yyparse (void *);\n-#else\n-int yyparse (void);\n-#endif\n-#endif\n-\n-int\n-yyparse(YYPARSE_PARAM_ARG)\n-     YYPARSE_PARAM_DECL\n-{\n-  register int yystate;\n-  register int yyn;\n-  register short *yyssp;\n-  register YYSTYPE *yyvsp;\n-  int yyerrstatus;\t/*  number of tokens to shift before error messages enabled */\n-  int yychar1 = 0;\t\t/*  lookahead token as an internal (translated) token number */\n-\n-  short\tyyssa[YYINITDEPTH];\t/*  the state stack\t\t\t*/\n-  YYSTYPE yyvsa[YYINITDEPTH];\t/*  the semantic value stack\t\t*/\n-\n-  short *yyss = yyssa;\t\t/*  refer to the stacks thru separate pointers */\n-  YYSTYPE *yyvs = yyvsa;\t/*  to allow yyoverflow to reallocate them elsewhere */\n-\n-#ifdef YYLSP_NEEDED\n-  YYLTYPE yylsa[YYINITDEPTH];\t/*  the location stack\t\t\t*/\n-  YYLTYPE *yyls = yylsa;\n-  YYLTYPE *yylsp;\n-\n-#define YYPOPSTACK   (yyvsp--, yyssp--, yylsp--)\n-#else\n-#define YYPOPSTACK   (yyvsp--, yyssp--)\n-#endif\n-\n-  int yystacksize = YYINITDEPTH;\n-  int yyfree_stacks = 0;\n-\n-#ifdef YYPURE\n-  int yychar;\n-  YYSTYPE yylval;\n-  int yynerrs;\n-#ifdef YYLSP_NEEDED\n-  YYLTYPE yylloc;\n-#endif\n-#endif\n-\n-  YYSTYPE yyval;\t\t/*  the variable used to return\t\t*/\n-\t\t\t\t/*  semantic values from the action\t*/\n-\t\t\t\t/*  routines\t\t\t\t*/\n-\n-  int yylen;\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    fprintf(stderr, \"Starting parse\\n\");\n-#endif\n-\n-  yystate = 0;\n-  yyerrstatus = 0;\n-  yynerrs = 0;\n-  yychar = YYEMPTY;\t\t/* Cause a token to be read.  */\n-\n-  /* Initialize stack pointers.\n-     Waste one element of value and location stack\n-     so that they stay on the same level as the state stack.\n-     The wasted elements are never initialized.  */\n-\n-  yyssp = yyss - 1;\n-  yyvsp = yyvs;\n-#ifdef YYLSP_NEEDED\n-  yylsp = yyls;\n-#endif\n-\n-/* Push a new state, which is found in  yystate  .  */\n-/* In all cases, when you get here, the value and location stacks\n-   have just been pushed. so pushing a state here evens the stacks.  */\n-yynewstate:\n-\n-  *++yyssp = yystate;\n-\n-  if (yyssp >= yyss + yystacksize - 1)\n-    {\n-      /* Give user a chance to reallocate the stack */\n-      /* Use copies of these so that the &'s don't force the real ones into memory. */\n-      YYSTYPE *yyvs1 = yyvs;\n-      short *yyss1 = yyss;\n-#ifdef YYLSP_NEEDED\n-      YYLTYPE *yyls1 = yyls;\n-#endif\n-\n-      /* Get the current used size of the three stacks, in elements.  */\n-      int size = yyssp - yyss + 1;\n-\n-#ifdef yyoverflow\n-      /* Each stack pointer address is followed by the size of\n-\t the data in use in that stack, in bytes.  */\n-#ifdef YYLSP_NEEDED\n-      /* This used to be a conditional around just the two extra args,\n-\t but that might be undefined if yyoverflow is a macro.  */\n-      yyoverflow(\"parser stack overflow\",\n-\t\t &yyss1, size * sizeof (*yyssp),\n-\t\t &yyvs1, size * sizeof (*yyvsp),\n-\t\t &yyls1, size * sizeof (*yylsp),\n-\t\t &yystacksize);\n-#else\n-      yyoverflow(\"parser stack overflow\",\n-\t\t &yyss1, size * sizeof (*yyssp),\n-\t\t &yyvs1, size * sizeof (*yyvsp),\n-\t\t &yystacksize);\n-#endif\n-\n-      yyss = yyss1; yyvs = yyvs1;\n-#ifdef YYLSP_NEEDED\n-      yyls = yyls1;\n-#endif\n-#else /* no yyoverflow */\n-      /* Extend the stack our own way.  */\n-      if (yystacksize >= YYMAXDEPTH)\n-\t{\n-\t  yyerror(\"parser stack overflow\");\n-\t  if (yyfree_stacks)\n-\t    {\n-\t      free (yyss);\n-\t      free (yyvs);\n-#ifdef YYLSP_NEEDED\n-\t      free (yyls);\n-#endif\n-\t    }\n-\t  return 2;\n-\t}\n-      yystacksize *= 2;\n-      if (yystacksize > YYMAXDEPTH)\n-\tyystacksize = YYMAXDEPTH;\n-#ifndef YYSTACK_USE_ALLOCA\n-      yyfree_stacks = 1;\n-#endif\n-      yyss = (short *) YYSTACK_ALLOC (yystacksize * sizeof (*yyssp));\n-      __yy_memcpy ((char *)yyss, (char *)yyss1,\n-\t\t   size * (unsigned int) sizeof (*yyssp));\n-      yyvs = (YYSTYPE *) YYSTACK_ALLOC (yystacksize * sizeof (*yyvsp));\n-      __yy_memcpy ((char *)yyvs, (char *)yyvs1,\n-\t\t   size * (unsigned int) sizeof (*yyvsp));\n-#ifdef YYLSP_NEEDED\n-      yyls = (YYLTYPE *) YYSTACK_ALLOC (yystacksize * sizeof (*yylsp));\n-      __yy_memcpy ((char *)yyls, (char *)yyls1,\n-\t\t   size * (unsigned int) sizeof (*yylsp));\n-#endif\n-#endif /* no yyoverflow */\n-\n-      yyssp = yyss + size - 1;\n-      yyvsp = yyvs + size - 1;\n-#ifdef YYLSP_NEEDED\n-      yylsp = yyls + size - 1;\n-#endif\n-\n-#if YYDEBUG != 0\n-      if (yydebug)\n-\tfprintf(stderr, \"Stack size increased to %d\\n\", yystacksize);\n-#endif\n-\n-      if (yyssp >= yyss + yystacksize - 1)\n-\tYYABORT;\n-    }\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    fprintf(stderr, \"Entering state %d\\n\", yystate);\n-#endif\n-\n-  goto yybackup;\n- yybackup:\n-\n-/* Do appropriate processing given the current state.  */\n-/* Read a lookahead token if we need one and don't already have one.  */\n-/* yyresume: */\n-\n-  /* First try to decide what to do without reference to lookahead token.  */\n-\n-  yyn = yypact[yystate];\n-  if (yyn == YYFLAG)\n-    goto yydefault;\n-\n-  /* Not known => get a lookahead token if don't already have one.  */\n-\n-  /* yychar is either YYEMPTY or YYEOF\n-     or a valid token in external form.  */\n-\n-  if (yychar == YYEMPTY)\n-    {\n-#if YYDEBUG != 0\n-      if (yydebug)\n-\tfprintf(stderr, \"Reading a token: \");\n-#endif\n-      yychar = YYLEX;\n-    }\n-\n-  /* Convert token to internal form (in yychar1) for indexing tables with */\n-\n-  if (yychar <= 0)\t\t/* This means end of input. */\n-    {\n-      yychar1 = 0;\n-      yychar = YYEOF;\t\t/* Don't call YYLEX any more */\n-\n-#if YYDEBUG != 0\n-      if (yydebug)\n-\tfprintf(stderr, \"Now at end of input.\\n\");\n-#endif\n-    }\n-  else\n-    {\n-      yychar1 = YYTRANSLATE(yychar);\n-\n-#if YYDEBUG != 0\n-      if (yydebug)\n-\t{\n-\t  fprintf (stderr, \"Next token is %d (%s\", yychar, yytname[yychar1]);\n-\t  /* Give the individual parser a way to print the precise meaning\n-\t     of a token, for further debugging info.  */\n-#ifdef YYPRINT\n-\t  YYPRINT (stderr, yychar, yylval);\n-#endif\n-\t  fprintf (stderr, \")\\n\");\n-\t}\n-#endif\n-    }\n-\n-  yyn += yychar1;\n-  if (yyn < 0 || yyn > YYLAST || yycheck[yyn] != yychar1)\n-    goto yydefault;\n-\n-  yyn = yytable[yyn];\n-\n-  /* yyn is what to do for this token type in this state.\n-     Negative => reduce, -yyn is rule number.\n-     Positive => shift, yyn is new state.\n-       New state is final state => don't bother to shift,\n-       just return success.\n-     0, or most negative number => error.  */\n-\n-  if (yyn < 0)\n-    {\n-      if (yyn == YYFLAG)\n-\tgoto yyerrlab;\n-      yyn = -yyn;\n-      goto yyreduce;\n-    }\n-  else if (yyn == 0)\n-    goto yyerrlab;\n-\n-  if (yyn == YYFINAL)\n-    YYACCEPT;\n-\n-  /* Shift the lookahead token.  */\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    fprintf(stderr, \"Shifting token %d (%s), \", yychar, yytname[yychar1]);\n-#endif\n-\n-  /* Discard the token being shifted unless it is eof.  */\n-  if (yychar != YYEOF)\n-    yychar = YYEMPTY;\n-\n-  *++yyvsp = yylval;\n-#ifdef YYLSP_NEEDED\n-  *++yylsp = yylloc;\n-#endif\n-\n-  /* count tokens shifted since error; after three, turn off error status.  */\n-  if (yyerrstatus) yyerrstatus--;\n-\n-  yystate = yyn;\n-  goto yynewstate;\n-\n-/* Do the default action for the current state.  */\n-yydefault:\n-\n-  yyn = yydefact[yystate];\n-  if (yyn == 0)\n-    goto yyerrlab;\n-\n-/* Do a reduction.  yyn is the number of a rule to reduce with.  */\n-yyreduce:\n-  yylen = yyr2[yyn];\n-  if (yylen > 0)\n-    yyval = yyvsp[1-yylen]; /* implement default value of the action */\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    {\n-      int i;\n-\n-      fprintf (stderr, \"Reducing via rule %d (line %d), \",\n-\t       yyn, yyrline[yyn]);\n-\n-      /* Print the symbols being reduced, and their result.  */\n-      for (i = yyprhs[yyn]; yyrhs[i] > 0; i++)\n-\tfprintf (stderr, \"%s \", yytname[yyrhs[i]]);\n-      fprintf (stderr, \" -> %s\\n\", yytname[yyr1[yyn]]);\n-    }\n-#endif\n-\n-\n-  switch (yyn) {\n-\n-case 1:\n-#line 179 \"plural.y\"\n-{\n-\t    if (yyvsp[0].exp == NULL)\n-\t      YYABORT;\n-\t    ((struct parse_args *) arg)->res = yyvsp[0].exp;\n-\t  ;\n-    break;}\n-case 2:\n-#line 187 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_3 (qmop, yyvsp[-4].exp, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 3:\n-#line 191 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_2 (lor, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 4:\n-#line 195 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_2 (land, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 5:\n-#line 199 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 6:\n-#line 203 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 7:\n-#line 207 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 8:\n-#line 211 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 9:\n-#line 215 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_1 (lnot, yyvsp[0].exp);\n-\t  ;\n-    break;}\n-case 10:\n-#line 219 \"plural.y\"\n-{\n-\t    yyval.exp = new_exp_0 (var);\n-\t  ;\n-    break;}\n-case 11:\n-#line 223 \"plural.y\"\n-{\n-\t    if ((yyval.exp = new_exp_0 (num)) != NULL)\n-\t      yyval.exp->val.num = yyvsp[0].num;\n-\t  ;\n-    break;}\n-case 12:\n-#line 228 \"plural.y\"\n-{\n-\t    yyval.exp = yyvsp[-1].exp;\n-\t  ;\n-    break;}\n-}\n-   /* the action file gets copied in in place of this dollarsign */\n-#line 543 \"/home/haible/gnu/arch/linuxlibc6/share/bison.simple\"\n-\f\n-  yyvsp -= yylen;\n-  yyssp -= yylen;\n-#ifdef YYLSP_NEEDED\n-  yylsp -= yylen;\n-#endif\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    {\n-      short *ssp1 = yyss - 1;\n-      fprintf (stderr, \"state stack now\");\n-      while (ssp1 != yyssp)\n-\tfprintf (stderr, \" %d\", *++ssp1);\n-      fprintf (stderr, \"\\n\");\n-    }\n-#endif\n-\n-  *++yyvsp = yyval;\n-\n-#ifdef YYLSP_NEEDED\n-  yylsp++;\n-  if (yylen == 0)\n-    {\n-      yylsp->first_line = yylloc.first_line;\n-      yylsp->first_column = yylloc.first_column;\n-      yylsp->last_line = (yylsp-1)->last_line;\n-      yylsp->last_column = (yylsp-1)->last_column;\n-      yylsp->text = 0;\n-    }\n-  else\n-    {\n-      yylsp->last_line = (yylsp+yylen-1)->last_line;\n-      yylsp->last_column = (yylsp+yylen-1)->last_column;\n-    }\n-#endif\n-\n-  /* Now \"shift\" the result of the reduction.\n-     Determine what state that goes to,\n-     based on the state we popped back to\n-     and the rule number reduced by.  */\n-\n-  yyn = yyr1[yyn];\n-\n-  yystate = yypgoto[yyn - YYNTBASE] + *yyssp;\n-  if (yystate >= 0 && yystate <= YYLAST && yycheck[yystate] == *yyssp)\n-    yystate = yytable[yystate];\n-  else\n-    yystate = yydefgoto[yyn - YYNTBASE];\n-\n-  goto yynewstate;\n-\n-yyerrlab:   /* here on detecting error */\n-\n-  if (! yyerrstatus)\n-    /* If not already recovering from an error, report this error.  */\n-    {\n-      ++yynerrs;\n-\n-#ifdef YYERROR_VERBOSE\n-      yyn = yypact[yystate];\n-\n-      if (yyn > YYFLAG && yyn < YYLAST)\n-\t{\n-\t  int size = 0;\n-\t  char *msg;\n-\t  int x, count;\n-\n-\t  count = 0;\n-\t  /* Start X at -yyn if nec to avoid negative indexes in yycheck.  */\n-\t  for (x = (yyn < 0 ? -yyn : 0);\n-\t       x < (sizeof(yytname) / sizeof(char *)); x++)\n-\t    if (yycheck[x + yyn] == x)\n-\t      size += strlen(yytname[x]) + 15, count++;\n-\t  msg = (char *) malloc(size + 15);\n-\t  if (msg != 0)\n-\t    {\n-\t      strcpy(msg, \"parse error\");\n-\n-\t      if (count < 5)\n-\t\t{\n-\t\t  count = 0;\n-\t\t  for (x = (yyn < 0 ? -yyn : 0);\n-\t\t       x < (sizeof(yytname) / sizeof(char *)); x++)\n-\t\t    if (yycheck[x + yyn] == x)\n-\t\t      {\n-\t\t\tstrcat(msg, count == 0 ? \", expecting `\" : \" or `\");\n-\t\t\tstrcat(msg, yytname[x]);\n-\t\t\tstrcat(msg, \"'\");\n-\t\t\tcount++;\n-\t\t      }\n-\t\t}\n-\t      yyerror(msg);\n-\t      free(msg);\n-\t    }\n-\t  else\n-\t    yyerror (\"parse error; also virtual memory exceeded\");\n-\t}\n-      else\n-#endif /* YYERROR_VERBOSE */\n-\tyyerror(\"parse error\");\n-    }\n-\n-  goto yyerrlab1;\n-yyerrlab1:   /* here on error raised explicitly by an action */\n-\n-  if (yyerrstatus == 3)\n-    {\n-      /* if just tried and failed to reuse lookahead token after an error, discard it.  */\n-\n-      /* return failure if at end of input */\n-      if (yychar == YYEOF)\n-\tYYABORT;\n-\n-#if YYDEBUG != 0\n-      if (yydebug)\n-\tfprintf(stderr, \"Discarding token %d (%s).\\n\", yychar, yytname[yychar1]);\n-#endif\n-\n-      yychar = YYEMPTY;\n-    }\n-\n-  /* Else will try to reuse lookahead token\n-     after shifting the error token.  */\n-\n-  yyerrstatus = 3;\t\t/* Each real token shifted decrements this */\n-\n-  goto yyerrhandle;\n-\n-yyerrdefault:  /* current state does not do anything special for the error token. */\n-\n-#if 0\n-  /* This is wrong; only states that explicitly want error tokens\n-     should shift them.  */\n-  yyn = yydefact[yystate];  /* If its default is to accept any token, ok.  Otherwise pop it.*/\n-  if (yyn) goto yydefault;\n-#endif\n-\n-yyerrpop:   /* pop the current state because it cannot handle the error token */\n-\n-  if (yyssp == yyss) YYABORT;\n-  yyvsp--;\n-  yystate = *--yyssp;\n-#ifdef YYLSP_NEEDED\n-  yylsp--;\n-#endif\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    {\n-      short *ssp1 = yyss - 1;\n-      fprintf (stderr, \"Error: state stack now\");\n-      while (ssp1 != yyssp)\n-\tfprintf (stderr, \" %d\", *++ssp1);\n-      fprintf (stderr, \"\\n\");\n-    }\n-#endif\n-\n-yyerrhandle:\n-\n-  yyn = yypact[yystate];\n-  if (yyn == YYFLAG)\n-    goto yyerrdefault;\n-\n-  yyn += YYTERROR;\n-  if (yyn < 0 || yyn > YYLAST || yycheck[yyn] != YYTERROR)\n-    goto yyerrdefault;\n-\n-  yyn = yytable[yyn];\n-  if (yyn < 0)\n-    {\n-      if (yyn == YYFLAG)\n-\tgoto yyerrpop;\n-      yyn = -yyn;\n-      goto yyreduce;\n-    }\n-  else if (yyn == 0)\n-    goto yyerrpop;\n-\n-  if (yyn == YYFINAL)\n-    YYACCEPT;\n-\n-#if YYDEBUG != 0\n-  if (yydebug)\n-    fprintf(stderr, \"Shifting error token, \");\n-#endif\n-\n-  *++yyvsp = yylval;\n-#ifdef YYLSP_NEEDED\n-  *++yylsp = yylloc;\n-#endif\n-\n-  yystate = yyn;\n-  goto yynewstate;\n-\n- yyacceptlab:\n-  /* YYACCEPT comes here.  */\n-  if (yyfree_stacks)\n-    {\n-      free (yyss);\n-      free (yyvs);\n-#ifdef YYLSP_NEEDED\n-      free (yyls);\n-#endif\n-    }\n-  return 0;\n-\n- yyabortlab:\n-  /* YYABORT comes here.  */\n-  if (yyfree_stacks)\n-    {\n-      free (yyss);\n-      free (yyvs);\n-#ifdef YYLSP_NEEDED\n-      free (yyls);\n-#endif\n-    }\n-  return 1;\n-}\n-#line 233 \"plural.y\"\n-\n-\n-void\n-internal_function\n-FREE_EXPRESSION (exp)\n-     struct expression *exp;\n-{\n-  if (exp == NULL)\n-    return;\n-\n-  /* Handle the recursive case.  */\n-  switch (exp->nargs)\n-    {\n-    case 3:\n-      FREE_EXPRESSION (exp->val.args[2]);\n-      /* FALLTHROUGH */\n-    case 2:\n-      FREE_EXPRESSION (exp->val.args[1]);\n-      /* FALLTHROUGH */\n-    case 1:\n-      FREE_EXPRESSION (exp->val.args[0]);\n-      /* FALLTHROUGH */\n-    default:\n-      break;\n-    }\n-\n-  free (exp);\n-}\n-\n-\n-static int\n-yylex (lval, pexp)\n-     YYSTYPE *lval;\n-     const char **pexp;\n-{\n-  const char *exp = *pexp;\n-  int result;\n-\n-  while (1)\n-    {\n-      if (exp[0] == '\\0')\n-\t{\n-\t  *pexp = exp;\n-\t  return YYEOF;\n-\t}\n-\n-      if (exp[0] != ' ' && exp[0] != '\\t')\n-\tbreak;\n-\n-      ++exp;\n-    }\n-\n-  result = *exp++;\n-  switch (result)\n-    {\n-    case '0': case '1': case '2': case '3': case '4':\n-    case '5': case '6': case '7': case '8': case '9':\n-      {\n-\tunsigned long int n = result - '0';\n-\twhile (exp[0] >= '0' && exp[0] <= '9')\n-\t  {\n-\t    n *= 10;\n-\t    n += exp[0] - '0';\n-\t    ++exp;\n-\t  }\n-\tlval->num = n;\n-\tresult = NUMBER;\n-      }\n-      break;\n-\n-    case '=':\n-      if (exp[0] == '=')\n-\t{\n-\t  ++exp;\n-\t  lval->op = equal;\n-\t  result = EQUOP2;\n-\t}\n-      else\n-\tresult = YYERRCODE;\n-      break;\n-\n-    case '!':\n-      if (exp[0] == '=')\n-\t{\n-\t  ++exp;\n-\t  lval->op = not_equal;\n-\t  result = EQUOP2;\n-\t}\n-      break;\n-\n-    case '&':\n-    case '|':\n-      if (exp[0] == result)\n-\t++exp;\n-      else\n-\tresult = YYERRCODE;\n-      break;\n-\n-    case '<':\n-      if (exp[0] == '=')\n-\t{\n-\t  ++exp;\n-\t  lval->op = less_or_equal;\n-\t}\n-      else\n-\tlval->op = less_than;\n-      result = CMPOP2;\n-      break;\n-\n-    case '>':\n-      if (exp[0] == '=')\n-\t{\n-\t  ++exp;\n-\t  lval->op = greater_or_equal;\n-\t}\n-      else\n-\tlval->op = greater_than;\n-      result = CMPOP2;\n-      break;\n-\n-    case '*':\n-      lval->op = mult;\n-      result = MULOP2;\n-      break;\n-\n-    case '/':\n-      lval->op = divide;\n-      result = MULOP2;\n-      break;\n-\n-    case '%':\n-      lval->op = module;\n-      result = MULOP2;\n-      break;\n-\n-    case '+':\n-      lval->op = plus;\n-      result = ADDOP2;\n-      break;\n-\n-    case '-':\n-      lval->op = minus;\n-      result = ADDOP2;\n-      break;\n-\n-    case 'n':\n-    case '?':\n-    case ':':\n-    case '(':\n-    case ')':\n-      /* Nothing, just return the character.  */\n-      break;\n-\n-    case ';':\n-    case '\\n':\n-    case '\\0':\n-      /* Be safe and let the user call this function again.  */\n-      --exp;\n-      result = YYEOF;\n-      break;\n-\n-    default:\n-      result = YYERRCODE;\n-#if YYDEBUG != 0\n-      --exp;\n-#endif\n-      break;\n-    }\n-\n-  *pexp = exp;\n-\n-  return result;\n-}\n-\n-#if __GNUC__ < 2 || (__GNUC__ == 2 && __GNUC_MINOR__ < 7)\n-#define __attribute__(x)\n-#endif\n-\n-static void\n-yyerror (str)\n-     const char *str __attribute__ ((__unused__));\n-{\n-  /* Do nothing.  We don't print error messages here.  */\n-}"}, {"sha": "167374e3c5e052d474f5ba092969cf7af41c9f5b", "filename": "gcc/intl/ref-add.sin", "status": "removed", "additions": 0, "deletions": 31, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fref-add.sin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fref-add.sin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Fref-add.sin?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,31 +0,0 @@\n-# Add this package to a list of references stored in a text file.\n-#\n-#   Copyright (C) 2000 Free Software Foundation, Inc.\n-#\n-#   This program is free software; you can redistribute it and/or modify it\n-#   under the terms of the GNU Library General Public License as published\n-#   by the Free Software Foundation; either version 2, or (at your option)\n-#   any later version.\n-#\n-#   This program is distributed in the hope that it will be useful,\n-#   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-#   Library General Public License for more details.\n-#\n-#   You should have received a copy of the GNU Library General Public\n-#   License along with this program; if not, write to the Free Software\n-#   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-#   USA.\n-#\n-# Written by Bruno Haible <haible@clisp.cons.org>.\n-#\n-/^# Packages using this file: / {\n-  s/# Packages using this file://\n-  ta\n-  :a\n-  s/ @PACKAGE@ / @PACKAGE@ /\n-  tb\n-  s/ $/ @PACKAGE@ /\n-  :b\n-  s/^/# Packages using this file:/\n-}"}, {"sha": "613cf37f3ba38311d4f1bf79c831e21c06b03b50", "filename": "gcc/intl/ref-del.sin", "status": "removed", "additions": 0, "deletions": 26, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fref-del.sin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f8058688a1a5bd6545e5249c013c10759b15758/gcc%2Fintl%2Fref-del.sin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Fref-del.sin?ref=2f8058688a1a5bd6545e5249c013c10759b15758", "patch": "@@ -1,26 +0,0 @@\n-# Remove this package from a list of references stored in a text file.\n-#\n-#   Copyright (C) 2000 Free Software Foundation, Inc.\n-#\n-#   This program is free software; you can redistribute it and/or modify it\n-#   under the terms of the GNU Library General Public License as published\n-#   by the Free Software Foundation; either version 2, or (at your option)\n-#   any later version.\n-#\n-#   This program is distributed in the hope that it will be useful,\n-#   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-#   Library General Public License for more details.\n-#\n-#   You should have received a copy of the GNU Library General Public\n-#   License along with this program; if not, write to the Free Software\n-#   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-#   USA.\n-#\n-# Written by Bruno Haible <haible@clisp.cons.org>.\n-#\n-/^# Packages using this file: / {\n-  s/# Packages using this file://\n-  s/ @PACKAGE@ / /\n-  s/^/# Packages using this file:/\n-}"}, {"sha": "0bdd31a26c690fdfc8f3b538435696c9b53d026c", "filename": "intl/ChangeLog", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FChangeLog?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,20 @@\n+2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.in: Remove unnecessary capabilities for\n+\tinstallation, build of shared libraries, generation of\n+\tdistribution tarballs, etc.  Fix all the places that rely on\n+\tthe parent directory.  Don't generate libgnuintl.h from\n+\tanything; do generate $(objdir)/libintl.h from libgnuintl.h if\n+\tnecessary.  Adjust DEFS for use of config.h.\n+\t* libgnuintl.h.in: Rename libgnuintl.h.\n+\t* README: New file.\n+\t* config.charset, ref-add.sin, ref-del.sin: Delete (unused).\n+\t* COPYING.LIB-2.0, COPYING.LIB-2.1: Delete (redundant).\n+\t* aclocal.m4: New; generated per instructions in gettext manual.\n+\t* configure.in: New; written from scratch for this configuration.\n+\t* configure, config.h.in: Generated.\n+\n+2003-05-22  GNU  <bug-gnu-gettext@gnu.org>\n+\n+\t* Version 0.12.1 released.\n+"}, {"sha": "a21675efcc4ee20a83acf628d75511f78ba4f672", "filename": "intl/Makefile.in", "status": "added", "additions": 220, "deletions": 0, "changes": 220, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FMakefile.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,220 @@\n+# Makefile for directory with message catalog handling library of GNU gettext\n+# Copyright (C) 1995-1998, 2000-2003 Free Software Foundation, Inc.\n+#\n+# This program is free software; you can redistribute it and/or modify it\n+# under the terms of the GNU Library General Public License as published\n+# by the Free Software Foundation; either version 2, or (at your option)\n+# any later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+# Library General Public License for more details.\n+#\n+# You should have received a copy of the GNU Library General Public\n+# License along with this program; if not, write to the Free Software\n+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+# USA.\n+\n+# This Makefile has been modified from the original shipped with\n+# gettext 0.12.1 to remove the ability to install libintl (which\n+# we do not need nor want), the ability to build a shared library\n+# (likewise), and a large number of heinous kludges.\n+\n+PACKAGE = @PACKAGE@\n+VERSION = @VERSION@\n+\n+SHELL = /bin/sh\n+\n+srcdir = @srcdir@\n+VPATH = $(srcdir)\n+\n+prefix = @prefix@\n+exec_prefix = @exec_prefix@\n+transform = @program_transform_name@\n+libdir = @libdir@\n+includedir = @includedir@\n+datadir = @datadir@\n+localedir = $(datadir)/locale\n+gettextsrcdir = $(datadir)/gettext/intl\n+aliaspath = $(localedir)\n+\n+INSTALL = @INSTALL@\n+INSTALL_DATA = @INSTALL_DATA@\n+MKINSTALLDIRS = @MKINSTALLDIRS@\n+mkinstalldirs = $(SHELL) $(MKINSTALLDIRS)\n+\n+l = @INTL_LIBTOOL_SUFFIX_PREFIX@\n+\n+AR = ar\n+CC = @CC@\n+RANLIB = @RANLIB@\n+YACC = @INTLBISON@ -y -d\n+YFLAGS = --name-prefix=__gettext\n+CPPFLAGS = @CPPFLAGS@\n+CFLAGS = @CFLAGS@\n+LDFLAGS = @LDFLAGS@\n+LIBS = @LIBS@\n+DEFS = -DHAVE_CONFIG_H\n+\n+COMPILE = $(CC) -c $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(XCFLAGS)\n+\n+HEADERS = \\\n+  gmo.h \\\n+  gettextP.h \\\n+  hash-string.h \\\n+  loadinfo.h \\\n+  plural-exp.h \\\n+  eval-plural.h \\\n+  localcharset.h \\\n+  relocatable.h \\\n+  os2compat.h \\\n+  libgnuintl.h.in\n+SOURCES = \\\n+  bindtextdom.c \\\n+  dcgettext.c \\\n+  dgettext.c \\\n+  gettext.c \\\n+  finddomain.c \\\n+  loadmsgcat.c \\\n+  localealias.c \\\n+  textdomain.c \\\n+  l10nflist.c \\\n+  explodename.c \\\n+  dcigettext.c \\\n+  dcngettext.c \\\n+  dngettext.c \\\n+  ngettext.c \\\n+  plural.y \\\n+  plural-exp.c \\\n+  localcharset.c \\\n+  relocatable.c \\\n+  localename.c \\\n+  log.c \\\n+  osdep.c \\\n+  os2compat.c \\\n+  intl-compat.c\n+OBJECTS = \\\n+  bindtextdom.o \\\n+  dcgettext.o \\\n+  dgettext.o \\\n+  gettext.o \\\n+  finddomain.o \\\n+  loadmsgcat.o \\\n+  localealias.o \\\n+  textdomain.o \\\n+  l10nflist.o \\\n+  explodename.o \\\n+  dcigettext.o \\\n+  dcngettext.o \\\n+  dngettext.o \\\n+  ngettext.o \\\n+  plural.o \\\n+  plural-exp.o \\\n+  localcharset.o \\\n+  relocatable.o \\\n+  localename.o \\\n+  log.o \\\n+  osdep.o \\\n+  intl-compat.o\n+\n+all: all-@USE_INCLUDED_LIBINTL@\n+all-yes: libintl.a libintl.h\n+all-no: # nothing\n+\n+libintl.a: $(OBJECTS)\n+\trm -f $@\n+\t$(AR) cru $@ $(OBJECTS)\n+\t$(RANLIB) $@\n+\n+libintl.h: $(srcdir)/libgnuintl.h\n+\tcat $(srcdir)/libgnuintl.h > $@\n+\n+.SUFFIXES:\n+.SUFFIXES: .c .y .o\n+\n+.c.o:\n+\t$(COMPILE) $<\n+\n+.y.c:\n+\t$(YACC) $(YFLAGS) --output $@ $<\n+\trm -f $*.h\n+\n+INCLUDES = -I. -I$(srcdir) -I..\n+\n+check: all\n+\n+# The installation targets have been disabled.\n+install: install-exec install-data\n+install-exec: all\n+install-data: all\n+install-strip: install\n+installdirs:\n+installcheck:\n+uninstall:\n+\n+info dvi ps pdf html:\n+\n+$(OBJECTS): config.h libintl.h\n+bindtextdom.o dcgettext.o dcigettext.o dcngettext.o dgettext.o \\\n+dngettext.o finddomain.o gettext.o intl-compat.o loadmsgcat.o \\\n+localealias.o ngettext.o textdomain.o: gettextP.h gmo.h loadinfo.h\n+dcigettext.o loadmsgcat.o: hash-string.h\n+explodename.o l10nflist.o: loadinfo.h\n+dcigettext.o loadmsgcat.o plural.o plural-exp.o: plural-exp.h\n+dcigettext.o: eval-plural.h\n+localcharset.o: localcharset.h\n+localealias.o localcharset.o relocatable.o: relocatable.h\n+\n+tags: TAGS\n+\n+TAGS: $(HEADERS) $(SOURCES)\n+\there=`pwd`; cd $(srcdir) && etags -o $$here/TAGS $(HEADERS) $(SOURCES)\n+\n+ctags: CTAGS\n+\n+CTAGS: $(HEADERS) $(SOURCES)\n+\there=`pwd`; cd $(srcdir) && ctags -o $$here/CTAGS $(HEADERS) $(SOURCES)\n+\n+id: ID\n+\n+ID: $(HEADERS) $(SOURCES)\n+\there=`pwd`; cd $(srcdir) && mkid -f$$here/ID $(HEADERS) $(SOURCES)\n+\n+\n+mostlyclean:\n+\trm -f *.a *.la *.o *.obj *.lo core core.*\n+\trm -f libgnuintl.h libintl.h charset.alias ref-add.sed ref-del.sed\n+\trm -f -r .libs _libs\n+\n+clean: mostlyclean\n+\n+distclean: clean\n+\trm -f Makefile ID TAGS\n+\tif test \"$(PACKAGE)\" = \"gettext-runtime\" || test \"$(PACKAGE)\" = \"gettext-tools\"; then \\\n+\t  rm -f ChangeLog.inst $(DISTFILES.normal); \\\n+\telse \\\n+\t  : ; \\\n+\tfi\n+\n+maintainer-clean: distclean\n+\n+# The 'make dist' targets have been disabled; the GNU toolchain handles this\n+# with a script maintained separately from the Makefile.\n+dist:\n+distdir:\n+\n+Makefile: Makefile.in config.status\n+\tCONFIG_HEADERS= CONFIG_FILES=Makefile $(SHELL) ./config.status\n+\n+config.h: cstamp-h; @:\n+cstamp-h: config.h.in config.status\n+\tCONFIG_HEADERS=config.h CONFIG_FILES= $(SHELL) config.status\n+\techo timestamp > cstamp-h\n+\n+config.status: configure\n+\t$(SHELL) config.status --recheck\n+\n+# Tell versions [3.59,3.63) of GNU make not to export all variables.\n+# Otherwise a system limit (for SysV at least) may be exceeded.\n+.NOEXPORT:"}, {"sha": "e13c18f9532efd7eb3e60f54ed5f042f2b987ea7", "filename": "intl/README", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FREADME?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,22 @@\n+GNU toolchain edition of GNU libintl 0.12.1\n+\n+Most of the content of this directory is taken from gettext 0.12.1\n+and is owned by that project.  Patches should be directed to the\n+gettext developers first.  However, note the following:\n+\n+* libintl.h comes from gettext, but is named libgnuintl.h.in in that\n+  project's source tree.\n+\n+* The files COPYING.LIB-2.0 and COPYING.LIB-2.1 are redundant with the\n+  top-level COPYING.LIB and have therefore been removed.\n+\n+* The files config.charset, ref-add.sin, and ref-del.sin are not used\n+  in this setup and have therefore been removed.\n+\n+* aclocal.m4 was constructed following the instructions printed by\n+  \"gettextize\" from the files that gettext 0.12.1 installs in\n+  $(prefix)/share/aclocal.\n+\n+* configure.in and Makefile.in were written for this directory\n+  layout, by Zack Weinberg <zack@codesourcery.com>.  Please direct\n+  patches for these files to gcc-patches@gcc.gnu.org."}, {"sha": "130318357bbec430d9b26966fabbe1038100e3c3", "filename": "intl/VERSION", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FVERSION", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FVERSION", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FVERSION?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1 @@\n+GNU gettext library from gettext-0.12.1"}, {"sha": "aeaada4725888ec41bcd79ccba4431bbe38c7d22", "filename": "intl/aclocal.m4", "status": "added", "additions": 2057, "deletions": 0, "changes": 2057, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Faclocal.m4?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,2057 @@\n+dnl aclocal.m4 generated automatically by aclocal 1.4-p6\n+\n+dnl Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+dnl This file is free software; the Free Software Foundation\n+dnl gives unlimited permission to copy and/or distribute it,\n+dnl with or without modifications, as long as this notice is preserved.\n+\n+dnl This program is distributed in the hope that it will be useful,\n+dnl but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n+dnl even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n+dnl PARTICULAR PURPOSE.\n+\n+# gettext.m4 serial 20 (gettext-0.12)\n+dnl Copyright (C) 1995-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1995-2000.\n+dnl   Bruno Haible <haible@clisp.cons.org>, 2000-2003.\n+\n+dnl Macro to add for using GNU gettext.\n+\n+dnl Usage: AM_GNU_GETTEXT([INTLSYMBOL], [NEEDSYMBOL], [INTLDIR]).\n+dnl INTLSYMBOL can be one of 'external', 'no-libtool', 'use-libtool'. The\n+dnl    default (if it is not specified or empty) is 'no-libtool'.\n+dnl    INTLSYMBOL should be 'external' for packages with no intl directory,\n+dnl    and 'no-libtool' or 'use-libtool' for packages with an intl directory.\n+dnl    If INTLSYMBOL is 'use-libtool', then a libtool library\n+dnl    $(top_builddir)/intl/libintl.la will be created (shared and/or static,\n+dnl    depending on --{enable,disable}-{shared,static} and on the presence of\n+dnl    AM-DISABLE-SHARED). If INTLSYMBOL is 'no-libtool', a static library\n+dnl    $(top_builddir)/intl/libintl.a will be created.\n+dnl If NEEDSYMBOL is specified and is 'need-ngettext', then GNU gettext\n+dnl    implementations (in libc or libintl) without the ngettext() function\n+dnl    will be ignored.  If NEEDSYMBOL is specified and is\n+dnl    'need-formatstring-macros', then GNU gettext implementations that don't\n+dnl    support the ISO C 99 <inttypes.h> formatstring macros will be ignored.\n+dnl INTLDIR is used to find the intl libraries.  If empty,\n+dnl    the value `$(top_builddir)/intl/' is used.\n+dnl\n+dnl The result of the configuration is one of three cases:\n+dnl 1) GNU gettext, as included in the intl subdirectory, will be compiled\n+dnl    and used.\n+dnl    Catalog format: GNU --> install in $(datadir)\n+dnl    Catalog extension: .mo after installation, .gmo in source tree\n+dnl 2) GNU gettext has been found in the system's C library.\n+dnl    Catalog format: GNU --> install in $(datadir)\n+dnl    Catalog extension: .mo after installation, .gmo in source tree\n+dnl 3) No internationalization, always use English msgid.\n+dnl    Catalog format: none\n+dnl    Catalog extension: none\n+dnl If INTLSYMBOL is 'external', only cases 2 and 3 can occur.\n+dnl The use of .gmo is historical (it was needed to avoid overwriting the\n+dnl GNU format catalogs when building on a platform with an X/Open gettext),\n+dnl but we keep it in order not to force irrelevant filename changes on the\n+dnl maintainers.\n+dnl\n+AC_DEFUN([AM_GNU_GETTEXT],\n+[\n+  dnl Argument checking.\n+  ifelse([$1], [], , [ifelse([$1], [external], , [ifelse([$1], [no-libtool], , [ifelse([$1], [use-libtool], ,\n+    [errprint([ERROR: invalid first argument to AM_GNU_GETTEXT\n+])])])])])\n+  ifelse([$2], [], , [ifelse([$2], [need-ngettext], , [ifelse([$2], [need-formatstring-macros], ,\n+    [errprint([ERROR: invalid second argument to AM_GNU_GETTEXT\n+])])])])\n+  define(gt_included_intl, ifelse([$1], [external], [no], [yes]))\n+  define(gt_libtool_suffix_prefix, ifelse([$1], [use-libtool], [l], []))\n+\n+  AC_REQUIRE([AM_PO_SUBDIRS])dnl\n+  ifelse(gt_included_intl, yes, [\n+    AC_REQUIRE([AM_INTL_SUBDIR])dnl\n+  ])\n+\n+  dnl Prerequisites of AC_LIB_LINKFLAGS_BODY.\n+  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n+  AC_REQUIRE([AC_LIB_RPATH])\n+\n+  dnl Sometimes libintl requires libiconv, so first search for libiconv.\n+  dnl Ideally we would do this search only after the\n+  dnl      if test \"$USE_NLS\" = \"yes\"; then\n+  dnl        if test \"$gt_cv_func_gnugettext_libc\" != \"yes\"; then\n+  dnl tests. But if configure.in invokes AM_ICONV after AM_GNU_GETTEXT\n+  dnl the configure script would need to contain the same shell code\n+  dnl again, outside any 'if'. There are two solutions:\n+  dnl - Invoke AM_ICONV_LINKFLAGS_BODY here, outside any 'if'.\n+  dnl - Control the expansions in more detail using AC_PROVIDE_IFELSE.\n+  dnl Since AC_PROVIDE_IFELSE is only in autoconf >= 2.52 and not\n+  dnl documented, we avoid it.\n+  ifelse(gt_included_intl, yes, , [\n+    AC_REQUIRE([AM_ICONV_LINKFLAGS_BODY])\n+  ])\n+\n+  dnl Set USE_NLS.\n+  AM_NLS\n+\n+  ifelse(gt_included_intl, yes, [\n+    BUILD_INCLUDED_LIBINTL=no\n+    USE_INCLUDED_LIBINTL=no\n+  ])\n+  LIBINTL=\n+  LTLIBINTL=\n+  POSUB=\n+\n+  dnl If we use NLS figure out what method\n+  if test \"$USE_NLS\" = \"yes\"; then\n+    gt_use_preinstalled_gnugettext=no\n+    ifelse(gt_included_intl, yes, [\n+      AC_MSG_CHECKING([whether included gettext is requested])\n+      AC_ARG_WITH(included-gettext,\n+        [  --with-included-gettext use the GNU gettext library included here],\n+        nls_cv_force_use_gnu_gettext=$withval,\n+        nls_cv_force_use_gnu_gettext=no)\n+      AC_MSG_RESULT($nls_cv_force_use_gnu_gettext)\n+\n+      nls_cv_use_gnu_gettext=\"$nls_cv_force_use_gnu_gettext\"\n+      if test \"$nls_cv_force_use_gnu_gettext\" != \"yes\"; then\n+    ])\n+        dnl User does not insist on using GNU NLS library.  Figure out what\n+        dnl to use.  If GNU gettext is available we use this.  Else we have\n+        dnl to fall back to GNU NLS library.\n+\n+        dnl Add a version number to the cache macros.\n+        define([gt_api_version], ifelse([$2], [need-formatstring-macros], 3, ifelse([$2], [need-ngettext], 2, 1)))\n+        define([gt_cv_func_gnugettext_libc], [gt_cv_func_gnugettext]gt_api_version[_libc])\n+        define([gt_cv_func_gnugettext_libintl], [gt_cv_func_gnugettext]gt_api_version[_libintl])\n+\n+        AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,\n+         [AC_TRY_LINK([#include <libintl.h>\n+]ifelse([$2], [need-formatstring-macros],\n+[#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n+#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n+#endif\n+changequote(,)dnl\n+typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n+changequote([,])dnl\n+], [])[extern int _nl_msg_cat_cntr;\n+extern int *_nl_domain_bindings;],\n+            [bindtextdomain (\"\", \"\");\n+return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr + *_nl_domain_bindings],\n+            gt_cv_func_gnugettext_libc=yes,\n+            gt_cv_func_gnugettext_libc=no)])\n+\n+        if test \"$gt_cv_func_gnugettext_libc\" != \"yes\"; then\n+          dnl Sometimes libintl requires libiconv, so first search for libiconv.\n+          ifelse(gt_included_intl, yes, , [\n+            AM_ICONV_LINK\n+          ])\n+          dnl Search for libintl and define LIBINTL, LTLIBINTL and INCINTL\n+          dnl accordingly. Don't use AC_LIB_LINKFLAGS_BODY([intl],[iconv])\n+          dnl because that would add \"-liconv\" to LIBINTL and LTLIBINTL\n+          dnl even if libiconv doesn't exist.\n+          AC_LIB_LINKFLAGS_BODY([intl])\n+          AC_CACHE_CHECK([for GNU gettext in libintl],\n+            gt_cv_func_gnugettext_libintl,\n+           [gt_save_CPPFLAGS=\"$CPPFLAGS\"\n+            CPPFLAGS=\"$CPPFLAGS $INCINTL\"\n+            gt_save_LIBS=\"$LIBS\"\n+            LIBS=\"$LIBS $LIBINTL\"\n+            dnl Now see whether libintl exists and does not depend on libiconv.\n+            AC_TRY_LINK([#include <libintl.h>\n+]ifelse([$2], [need-formatstring-macros],\n+[#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n+#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n+#endif\n+changequote(,)dnl\n+typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n+changequote([,])dnl\n+], [])[extern int _nl_msg_cat_cntr;\n+extern\n+#ifdef __cplusplus\n+\"C\"\n+#endif\n+const char *_nl_expand_alias ();],\n+              [bindtextdomain (\"\", \"\");\n+return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],\n+              gt_cv_func_gnugettext_libintl=yes,\n+              gt_cv_func_gnugettext_libintl=no)\n+            dnl Now see whether libintl exists and depends on libiconv.\n+            if test \"$gt_cv_func_gnugettext_libintl\" != yes && test -n \"$LIBICONV\"; then\n+              LIBS=\"$LIBS $LIBICONV\"\n+              AC_TRY_LINK([#include <libintl.h>\n+]ifelse([$2], [need-formatstring-macros],\n+[#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n+#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n+#endif\n+changequote(,)dnl\n+typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n+changequote([,])dnl\n+], [])[extern int _nl_msg_cat_cntr;\n+extern\n+#ifdef __cplusplus\n+\"C\"\n+#endif\n+const char *_nl_expand_alias ();],\n+                [bindtextdomain (\"\", \"\");\n+return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],\n+               [LIBINTL=\"$LIBINTL $LIBICONV\"\n+                LTLIBINTL=\"$LTLIBINTL $LTLIBICONV\"\n+                gt_cv_func_gnugettext_libintl=yes\n+               ])\n+            fi\n+            CPPFLAGS=\"$gt_save_CPPFLAGS\"\n+            LIBS=\"$gt_save_LIBS\"])\n+        fi\n+\n+        dnl If an already present or preinstalled GNU gettext() is found,\n+        dnl use it.  But if this macro is used in GNU gettext, and GNU\n+        dnl gettext is already preinstalled in libintl, we update this\n+        dnl libintl.  (Cf. the install rule in intl/Makefile.in.)\n+        if test \"$gt_cv_func_gnugettext_libc\" = \"yes\" \\\n+           || { test \"$gt_cv_func_gnugettext_libintl\" = \"yes\" \\\n+                && test \"$PACKAGE\" != gettext-runtime \\\n+                && test \"$PACKAGE\" != gettext-tools; }; then\n+          gt_use_preinstalled_gnugettext=yes\n+        else\n+          dnl Reset the values set by searching for libintl.\n+          LIBINTL=\n+          LTLIBINTL=\n+          INCINTL=\n+        fi\n+\n+    ifelse(gt_included_intl, yes, [\n+        if test \"$gt_use_preinstalled_gnugettext\" != \"yes\"; then\n+          dnl GNU gettext is not found in the C library.\n+          dnl Fall back on included GNU gettext library.\n+          nls_cv_use_gnu_gettext=yes\n+        fi\n+      fi\n+\n+      if test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n+        dnl Mark actions used to generate GNU NLS library.\n+        BUILD_INCLUDED_LIBINTL=yes\n+        USE_INCLUDED_LIBINTL=yes\n+        LIBINTL=\"ifelse([$3],[],\\${top_builddir}/intl,[$3])/libintl.[]gt_libtool_suffix_prefix[]a $LIBICONV\"\n+        LTLIBINTL=\"ifelse([$3],[],\\${top_builddir}/intl,[$3])/libintl.[]gt_libtool_suffix_prefix[]a $LTLIBICONV\"\n+        LIBS=`echo \" $LIBS \" | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`\n+      fi\n+\n+      if test \"$gt_use_preinstalled_gnugettext\" = \"yes\" \\\n+         || test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n+        dnl Mark actions to use GNU gettext tools.\n+        CATOBJEXT=.gmo\n+      fi\n+    ])\n+\n+    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\" \\\n+       || test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n+      AC_DEFINE(ENABLE_NLS, 1,\n+        [Define to 1 if translation of program messages to the user's native language\n+   is requested.])\n+    else\n+      USE_NLS=no\n+    fi\n+  fi\n+\n+  AC_MSG_CHECKING([whether to use NLS])\n+  AC_MSG_RESULT([$USE_NLS])\n+  if test \"$USE_NLS\" = \"yes\"; then\n+    AC_MSG_CHECKING([where the gettext function comes from])\n+    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\"; then\n+      if test \"$gt_cv_func_gnugettext_libintl\" = \"yes\"; then\n+        gt_source=\"external libintl\"\n+      else\n+        gt_source=\"libc\"\n+      fi\n+    else\n+      gt_source=\"included intl directory\"\n+    fi\n+    AC_MSG_RESULT([$gt_source])\n+  fi\n+\n+  if test \"$USE_NLS\" = \"yes\"; then\n+\n+    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\"; then\n+      if test \"$gt_cv_func_gnugettext_libintl\" = \"yes\"; then\n+        AC_MSG_CHECKING([how to link with libintl])\n+        AC_MSG_RESULT([$LIBINTL])\n+        AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCINTL])\n+      fi\n+\n+      dnl For backward compatibility. Some packages may be using this.\n+      AC_DEFINE(HAVE_GETTEXT, 1,\n+       [Define if the GNU gettext() function is already present or preinstalled.])\n+      AC_DEFINE(HAVE_DCGETTEXT, 1,\n+       [Define if the GNU dcgettext() function is already present or preinstalled.])\n+    fi\n+\n+    dnl We need to process the po/ directory.\n+    POSUB=po\n+  fi\n+\n+  ifelse(gt_included_intl, yes, [\n+    dnl If this is used in GNU gettext we have to set BUILD_INCLUDED_LIBINTL\n+    dnl to 'yes' because some of the testsuite requires it.\n+    if test \"$PACKAGE\" = gettext-runtime || test \"$PACKAGE\" = gettext-tools; then\n+      BUILD_INCLUDED_LIBINTL=yes\n+    fi\n+\n+    dnl Make all variables we use known to autoconf.\n+    AC_SUBST(BUILD_INCLUDED_LIBINTL)\n+    AC_SUBST(USE_INCLUDED_LIBINTL)\n+    AC_SUBST(CATOBJEXT)\n+\n+    dnl For backward compatibility. Some configure.ins may be using this.\n+    nls_cv_header_intl=\n+    nls_cv_header_libgt=\n+\n+    dnl For backward compatibility. Some Makefiles may be using this.\n+    DATADIRNAME=share\n+    AC_SUBST(DATADIRNAME)\n+\n+    dnl For backward compatibility. Some Makefiles may be using this.\n+    INSTOBJEXT=.mo\n+    AC_SUBST(INSTOBJEXT)\n+\n+    dnl For backward compatibility. Some Makefiles may be using this.\n+    GENCAT=gencat\n+    AC_SUBST(GENCAT)\n+\n+    dnl For backward compatibility. Some Makefiles may be using this.\n+    if test \"$USE_INCLUDED_LIBINTL\" = yes; then\n+      INTLOBJS=\"\\$(GETTOBJS)\"\n+    fi\n+    AC_SUBST(INTLOBJS)\n+\n+    dnl Enable libtool support if the surrounding package wishes it.\n+    INTL_LIBTOOL_SUFFIX_PREFIX=gt_libtool_suffix_prefix\n+    AC_SUBST(INTL_LIBTOOL_SUFFIX_PREFIX)\n+  ])\n+\n+  dnl For backward compatibility. Some Makefiles may be using this.\n+  INTLLIBS=\"$LIBINTL\"\n+  AC_SUBST(INTLLIBS)\n+\n+  dnl Make all documented variables known to autoconf.\n+  AC_SUBST(LIBINTL)\n+  AC_SUBST(LTLIBINTL)\n+  AC_SUBST(POSUB)\n+])\n+\n+\n+dnl Checks for all prerequisites of the intl subdirectory,\n+dnl except for INTL_LIBTOOL_SUFFIX_PREFIX (and possibly LIBTOOL), INTLOBJS,\n+dnl            USE_INCLUDED_LIBINTL, BUILD_INCLUDED_LIBINTL.\n+AC_DEFUN([AM_INTL_SUBDIR],\n+[\n+  AC_REQUIRE([AC_PROG_INSTALL])dnl\n+  AC_REQUIRE([AM_MKINSTALLDIRS])dnl\n+  AC_REQUIRE([AC_PROG_CC])dnl\n+  AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+  AC_REQUIRE([AC_PROG_RANLIB])dnl\n+  AC_REQUIRE([AC_ISC_POSIX])dnl\n+  AC_REQUIRE([AC_HEADER_STDC])dnl\n+  AC_REQUIRE([AC_C_CONST])dnl\n+  AC_REQUIRE([AC_C_INLINE])dnl\n+  AC_REQUIRE([AC_TYPE_OFF_T])dnl\n+  AC_REQUIRE([AC_TYPE_SIZE_T])dnl\n+  AC_REQUIRE([AC_FUNC_ALLOCA])dnl\n+  AC_REQUIRE([AC_FUNC_MMAP])dnl\n+  AC_REQUIRE([jm_GLIBC21])dnl\n+  AC_REQUIRE([gt_INTDIV0])dnl\n+  AC_REQUIRE([jm_AC_TYPE_UINTMAX_T])dnl\n+  AC_REQUIRE([gt_HEADER_INTTYPES_H])dnl\n+  AC_REQUIRE([gt_INTTYPES_PRI])dnl\n+\n+  AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h stddef.h \\\n+stdlib.h string.h unistd.h sys/param.h])\n+  AC_CHECK_FUNCS([feof_unlocked fgets_unlocked getc_unlocked getcwd getegid \\\n+geteuid getgid getuid mempcpy munmap putenv setenv setlocale stpcpy \\\n+strcasecmp strdup strtoul tsearch __argz_count __argz_stringify __argz_next \\\n+__fsetlocking])\n+\n+  AM_ICONV\n+  AM_LANGINFO_CODESET\n+  if test $ac_cv_header_locale_h = yes; then\n+    AM_LC_MESSAGES\n+  fi\n+\n+  dnl intl/plural.c is generated from intl/plural.y. It requires bison,\n+  dnl because plural.y uses bison specific features. It requires at least\n+  dnl bison-1.26 because earlier versions generate a plural.c that doesn't\n+  dnl compile.\n+  dnl bison is only needed for the maintainer (who touches plural.y). But in\n+  dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put\n+  dnl the rule in general Makefile. Now, some people carelessly touch the\n+  dnl files or have a broken \"make\" program, hence the plural.c rule will\n+  dnl sometimes fire. To avoid an error, defines BISON to \":\" if it is not\n+  dnl present or too old.\n+  AC_CHECK_PROGS([INTLBISON], [bison])\n+  if test -z \"$INTLBISON\"; then\n+    ac_verc_fail=yes\n+  else\n+    dnl Found it, now check the version.\n+    AC_MSG_CHECKING([version of bison])\n+changequote(<<,>>)dnl\n+    ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n+    case $ac_prog_version in\n+      '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n+      1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)\n+changequote([,])dnl\n+         ac_prog_version=\"$ac_prog_version, ok\"; ac_verc_fail=no;;\n+      *) ac_prog_version=\"$ac_prog_version, bad\"; ac_verc_fail=yes;;\n+    esac\n+    AC_MSG_RESULT([$ac_prog_version])\n+  fi\n+  if test $ac_verc_fail = yes; then\n+    INTLBISON=:\n+  fi\n+])\n+\n+\n+dnl Usage: AM_GNU_GETTEXT_VERSION([gettext-version])\n+AC_DEFUN([AM_GNU_GETTEXT_VERSION], [])\n+\n+# po.m4 serial 1 (gettext-0.12)\n+dnl Copyright (C) 1995-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1995-2000.\n+dnl   Bruno Haible <haible@clisp.cons.org>, 2000-2003.\n+\n+dnl Checks for all prerequisites of the po subdirectory.\n+AC_DEFUN([AM_PO_SUBDIRS],\n+[\n+  AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n+  AC_REQUIRE([AC_PROG_INSTALL])dnl\n+  AC_REQUIRE([AM_MKINSTALLDIRS])dnl\n+  AC_REQUIRE([AM_NLS])dnl\n+\n+  dnl Perform the following tests also if --disable-nls has been given,\n+  dnl because they are needed for \"make dist\" to work.\n+\n+  dnl Search for GNU msgfmt in the PATH.\n+  dnl The first test excludes Solaris msgfmt and early GNU msgfmt versions.\n+  dnl The second test excludes FreeBSD msgfmt.\n+  AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n+    [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&\n+     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],\n+    :)\n+  AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n+\n+  dnl Search for GNU xgettext 0.12 or newer in the PATH.\n+  dnl The first test excludes Solaris xgettext and early GNU xgettext versions.\n+  dnl The second test excludes FreeBSD xgettext.\n+  AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n+    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&\n+     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],\n+    :)\n+  dnl Remove leftover from FreeBSD xgettext call.\n+  rm -f messages.po\n+\n+  dnl Search for GNU msgmerge 0.11 or newer in the PATH.\n+  AM_PATH_PROG_WITH_TEST(MSGMERGE, msgmerge,\n+    [$ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1], :)\n+\n+  dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.\n+  dnl Test whether we really found GNU msgfmt.\n+  if test \"$GMSGFMT\" != \":\"; then\n+    dnl If it is no GNU msgfmt we define it as : so that the\n+    dnl Makefiles still can work.\n+    if $GMSGFMT --statistics /dev/null >/dev/null 2>&1 &&\n+       (if $GMSGFMT --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then\n+      : ;\n+    else\n+      GMSGFMT=`echo \"$GMSGFMT\" | sed -e 's,^.*/,,'`\n+      AC_MSG_RESULT(\n+        [found $GMSGFMT program is not GNU msgfmt; ignore it])\n+      GMSGFMT=\":\"\n+    fi\n+  fi\n+\n+  dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.\n+  dnl Test whether we really found GNU xgettext.\n+  if test \"$XGETTEXT\" != \":\"; then\n+    dnl If it is no GNU xgettext we define it as : so that the\n+    dnl Makefiles still can work.\n+    if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&\n+       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then\n+      : ;\n+    else\n+      AC_MSG_RESULT(\n+        [found xgettext program is not GNU xgettext; ignore it])\n+      XGETTEXT=\":\"\n+    fi\n+    dnl Remove leftover from FreeBSD xgettext call.\n+    rm -f messages.po\n+  fi\n+\n+  AC_OUTPUT_COMMANDS([\n+    for ac_file in $CONFIG_FILES; do\n+      # Support \"outfile[:infile[:infile...]]\"\n+      case \"$ac_file\" in\n+        *:*) ac_file=`echo \"$ac_file\"|sed 's%:.*%%'` ;;\n+      esac\n+      # PO directories have a Makefile.in generated from Makefile.in.in.\n+      case \"$ac_file\" in */Makefile.in)\n+        # Adjust a relative srcdir.\n+        ac_dir=`echo \"$ac_file\"|sed 's%/[^/][^/]*$%%'`\n+        ac_dir_suffix=\"/`echo \"$ac_dir\"|sed 's%^\\./%%'`\"\n+        ac_dots=`echo \"$ac_dir_suffix\"|sed 's%/[^/]*%../%g'`\n+        # In autoconf-2.13 it is called $ac_given_srcdir.\n+        # In autoconf-2.50 it is called $srcdir.\n+        test -n \"$ac_given_srcdir\" || ac_given_srcdir=\"$srcdir\"\n+        case \"$ac_given_srcdir\" in\n+          .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;\n+          /*) top_srcdir=\"$ac_given_srcdir\" ;;\n+          *)  top_srcdir=\"$ac_dots$ac_given_srcdir\" ;;\n+        esac\n+        if test -f \"$ac_given_srcdir/$ac_dir/POTFILES.in\"; then\n+          rm -f \"$ac_dir/POTFILES\"\n+          test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/POTFILES\" || echo \"creating $ac_dir/POTFILES\"\n+          cat \"$ac_given_srcdir/$ac_dir/POTFILES.in\" | sed -e \"/^#/d\" -e \"/^[ \t]*\\$/d\" -e \"s,.*,     $top_srcdir/& \\\\\\\\,\" | sed -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" > \"$ac_dir/POTFILES\"\n+          POMAKEFILEDEPS=\"POTFILES.in\"\n+          # ALL_LINGUAS, POFILES, GMOFILES, UPDATEPOFILES, DUMMYPOFILES depend\n+          # on $ac_dir but don't depend on user-specified configuration\n+          # parameters.\n+          if test -f \"$ac_given_srcdir/$ac_dir/LINGUAS\"; then\n+            # The LINGUAS file contains the set of available languages.\n+            if test -n \"$OBSOLETE_ALL_LINGUAS\"; then\n+              test -n \"$as_me\" && echo \"$as_me: setting ALL_LINGUAS in configure.in is obsolete\" || echo \"setting ALL_LINGUAS in configure.in is obsolete\"\n+            fi\n+            ALL_LINGUAS_=`sed -e \"/^#/d\" \"$ac_given_srcdir/$ac_dir/LINGUAS\"`\n+            # Hide the ALL_LINGUAS assigment from automake.\n+            eval 'ALL_LINGUAS''=$ALL_LINGUAS_'\n+            POMAKEFILEDEPS=\"$POMAKEFILEDEPS LINGUAS\"\n+          else\n+            # The set of available languages was given in configure.in.\n+            eval 'ALL_LINGUAS''=$OBSOLETE_ALL_LINGUAS'\n+          fi\n+          case \"$ac_given_srcdir\" in\n+            .) srcdirpre= ;;\n+            *) srcdirpre='$(srcdir)/' ;;\n+          esac\n+          POFILES=\n+          GMOFILES=\n+          UPDATEPOFILES=\n+          DUMMYPOFILES=\n+          for lang in $ALL_LINGUAS; do\n+            POFILES=\"$POFILES $srcdirpre$lang.po\"\n+            GMOFILES=\"$GMOFILES $srcdirpre$lang.gmo\"\n+            UPDATEPOFILES=\"$UPDATEPOFILES $lang.po-update\"\n+            DUMMYPOFILES=\"$DUMMYPOFILES $lang.nop\"\n+          done\n+          # CATALOGS depends on both $ac_dir and the user's LINGUAS\n+          # environment variable.\n+          INST_LINGUAS=\n+          if test -n \"$ALL_LINGUAS\"; then\n+            for presentlang in $ALL_LINGUAS; do\n+              useit=no\n+              if test \"%UNSET%\" != \"$LINGUAS\"; then\n+                desiredlanguages=\"$LINGUAS\"\n+              else\n+                desiredlanguages=\"$ALL_LINGUAS\"\n+              fi\n+              for desiredlang in $desiredlanguages; do\n+                # Use the presentlang catalog if desiredlang is\n+                #   a. equal to presentlang, or\n+                #   b. a variant of presentlang (because in this case,\n+                #      presentlang can be used as a fallback for messages\n+                #      which are not translated in the desiredlang catalog).\n+                case \"$desiredlang\" in\n+                  \"$presentlang\"*) useit=yes;;\n+                esac\n+              done\n+              if test $useit = yes; then\n+                INST_LINGUAS=\"$INST_LINGUAS $presentlang\"\n+              fi\n+            done\n+          fi\n+          CATALOGS=\n+          if test -n \"$INST_LINGUAS\"; then\n+            for lang in $INST_LINGUAS; do\n+              CATALOGS=\"$CATALOGS $lang.gmo\"\n+            done\n+          fi\n+          test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/Makefile\" || echo \"creating $ac_dir/Makefile\"\n+          sed -e \"/^POTFILES =/r $ac_dir/POTFILES\" -e \"/^# Makevars/r $ac_given_srcdir/$ac_dir/Makevars\" -e \"s|@POFILES@|$POFILES|g\" -e \"s|@GMOFILES@|$GMOFILES|g\" -e \"s|@UPDATEPOFILES@|$UPDATEPOFILES|g\" -e \"s|@DUMMYPOFILES@|$DUMMYPOFILES|g\" -e \"s|@CATALOGS@|$CATALOGS|g\" -e \"s|@POMAKEFILEDEPS@|$POMAKEFILEDEPS|g\" \"$ac_dir/Makefile.in\" > \"$ac_dir/Makefile\"\n+          for f in \"$ac_given_srcdir/$ac_dir\"/Rules-*; do\n+            if test -f \"$f\"; then\n+              case \"$f\" in\n+                *.orig | *.bak | *~) ;;\n+                *) cat \"$f\" >> \"$ac_dir/Makefile\" ;;\n+              esac\n+            fi\n+          done\n+        fi\n+        ;;\n+      esac\n+    done],\n+   [# Capture the value of obsolete ALL_LINGUAS because we need it to compute\n+    # POFILES, GMOFILES, UPDATEPOFILES, DUMMYPOFILES, CATALOGS. But hide it\n+    # from automake.\n+    eval 'OBSOLETE_ALL_LINGUAS''=\"$ALL_LINGUAS\"'\n+    # Capture the value of LINGUAS because we need it to compute CATALOGS.\n+    LINGUAS=\"${LINGUAS-%UNSET%}\"\n+   ])\n+])\n+\n+# nls.m4 serial 1 (gettext-0.12)\n+dnl Copyright (C) 1995-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1995-2000.\n+dnl   Bruno Haible <haible@clisp.cons.org>, 2000-2003.\n+\n+AC_DEFUN([AM_NLS],\n+[\n+  AC_MSG_CHECKING([whether NLS is requested])\n+  dnl Default is enabled NLS\n+  AC_ARG_ENABLE(nls,\n+    [  --disable-nls           do not use Native Language Support],\n+    USE_NLS=$enableval, USE_NLS=yes)\n+  AC_MSG_RESULT($USE_NLS)\n+  AC_SUBST(USE_NLS)\n+])\n+\n+AC_DEFUN([AM_MKINSTALLDIRS],\n+[\n+  dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly\n+  dnl find the mkinstalldirs script in another subdir but $(top_srcdir).\n+  dnl Try to locate it.\n+  MKINSTALLDIRS=\n+  if test -n \"$ac_aux_dir\"; then\n+    case \"$ac_aux_dir\" in\n+      /*) MKINSTALLDIRS=\"$ac_aux_dir/mkinstalldirs\" ;;\n+      *) MKINSTALLDIRS=\"\\$(top_builddir)/$ac_aux_dir/mkinstalldirs\" ;;\n+    esac\n+  fi\n+  if test -z \"$MKINSTALLDIRS\"; then\n+    MKINSTALLDIRS=\"\\$(top_srcdir)/mkinstalldirs\"\n+  fi\n+  AC_SUBST(MKINSTALLDIRS)\n+])\n+\n+# progtest.m4 serial 3 (gettext-0.12)\n+dnl Copyright (C) 1996-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1996.\n+\n+# Search path for a program which passes the given test.\n+\n+dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n+dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n+AC_DEFUN([AM_PATH_PROG_WITH_TEST],\n+[\n+# Prepare PATH_SEPARATOR.\n+# The user is always right.\n+if test \"${PATH_SEPARATOR+set}\" != set; then\n+  echo \"#! /bin/sh\" >conf$$.sh\n+  echo  \"exit 0\"   >>conf$$.sh\n+  chmod +x conf$$.sh\n+  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n+    PATH_SEPARATOR=';'\n+  else\n+    PATH_SEPARATOR=:\n+  fi\n+  rm -f conf$$.sh\n+fi\n+\n+# Find out how to test for executable files. Don't use a zero-byte file,\n+# as systems may use methods other than mode bits to determine executability.\n+cat >conf$$.file <<_ASEOF\n+#! /bin/sh\n+exit 0\n+_ASEOF\n+chmod +x conf$$.file\n+if test -x conf$$.file >/dev/null 2>&1; then\n+  ac_executable_p=\"test -x\"\n+else\n+  ac_executable_p=\"test -f\"\n+fi\n+rm -f conf$$.file\n+\n+# Extract the first word of \"$2\", so it can be a program name with args.\n+set dummy $2; ac_word=[$]2\n+AC_MSG_CHECKING([for $ac_word])\n+AC_CACHE_VAL(ac_cv_path_$1,\n+[case \"[$]$1\" in\n+  [[\\\\/]]* | ?:[[\\\\/]]*)\n+    ac_cv_path_$1=\"[$]$1\" # Let the user override the test with a path.\n+    ;;\n+  *)\n+    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n+    for ac_dir in ifelse([$5], , $PATH, [$5]); do\n+      IFS=\"$ac_save_IFS\"\n+      test -z \"$ac_dir\" && ac_dir=.\n+      for ac_exec_ext in '' $ac_executable_extensions; do\n+        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n+          if [$3]; then\n+            ac_cv_path_$1=\"$ac_dir/$ac_word$ac_exec_ext\"\n+            break 2\n+          fi\n+        fi\n+      done\n+    done\n+    IFS=\"$ac_save_IFS\"\n+dnl If no 4th arg is given, leave the cache variable unset,\n+dnl so AC_PATH_PROGS will keep looking.\n+ifelse([$4], , , [  test -z \"[$]ac_cv_path_$1\" && ac_cv_path_$1=\"$4\"\n+])dnl\n+    ;;\n+esac])dnl\n+$1=\"$ac_cv_path_$1\"\n+if test ifelse([$4], , [-n \"[$]$1\"], [\"[$]$1\" != \"$4\"]); then\n+  AC_MSG_RESULT([$]$1)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+AC_SUBST($1)dnl\n+])\n+\n+# lib-link.m4 serial 4 (gettext-0.12)\n+dnl Copyright (C) 2001-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Bruno Haible.\n+\n+dnl AC_LIB_LINKFLAGS(name [, dependencies]) searches for libname and\n+dnl the libraries corresponding to explicit and implicit dependencies.\n+dnl Sets and AC_SUBSTs the LIB${NAME} and LTLIB${NAME} variables and\n+dnl augments the CPPFLAGS variable.\n+AC_DEFUN([AC_LIB_LINKFLAGS],\n+[\n+  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n+  AC_REQUIRE([AC_LIB_RPATH])\n+  define([Name],[translit([$1],[./-], [___])])\n+  define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],\n+                               [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])\n+  AC_CACHE_CHECK([how to link with lib[]$1], [ac_cv_lib[]Name[]_libs], [\n+    AC_LIB_LINKFLAGS_BODY([$1], [$2])\n+    ac_cv_lib[]Name[]_libs=\"$LIB[]NAME\"\n+    ac_cv_lib[]Name[]_ltlibs=\"$LTLIB[]NAME\"\n+    ac_cv_lib[]Name[]_cppflags=\"$INC[]NAME\"\n+  ])\n+  LIB[]NAME=\"$ac_cv_lib[]Name[]_libs\"\n+  LTLIB[]NAME=\"$ac_cv_lib[]Name[]_ltlibs\"\n+  INC[]NAME=\"$ac_cv_lib[]Name[]_cppflags\"\n+  AC_LIB_APPENDTOVAR([CPPFLAGS], [$INC]NAME)\n+  AC_SUBST([LIB]NAME)\n+  AC_SUBST([LTLIB]NAME)\n+  dnl Also set HAVE_LIB[]NAME so that AC_LIB_HAVE_LINKFLAGS can reuse the\n+  dnl results of this search when this library appears as a dependency.\n+  HAVE_LIB[]NAME=yes\n+  undefine([Name])\n+  undefine([NAME])\n+])\n+\n+dnl AC_LIB_HAVE_LINKFLAGS(name, dependencies, includes, testcode)\n+dnl searches for libname and the libraries corresponding to explicit and\n+dnl implicit dependencies, together with the specified include files and\n+dnl the ability to compile and link the specified testcode. If found, it\n+dnl sets and AC_SUBSTs HAVE_LIB${NAME}=yes and the LIB${NAME} and\n+dnl LTLIB${NAME} variables and augments the CPPFLAGS variable, and\n+dnl #defines HAVE_LIB${NAME} to 1. Otherwise, it sets and AC_SUBSTs\n+dnl HAVE_LIB${NAME}=no and LIB${NAME} and LTLIB${NAME} to empty.\n+AC_DEFUN([AC_LIB_HAVE_LINKFLAGS],\n+[\n+  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n+  AC_REQUIRE([AC_LIB_RPATH])\n+  define([Name],[translit([$1],[./-], [___])])\n+  define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],\n+                               [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])\n+\n+  dnl Search for lib[]Name and define LIB[]NAME, LTLIB[]NAME and INC[]NAME\n+  dnl accordingly.\n+  AC_LIB_LINKFLAGS_BODY([$1], [$2])\n+\n+  dnl Add $INC[]NAME to CPPFLAGS before performing the following checks,\n+  dnl because if the user has installed lib[]Name and not disabled its use\n+  dnl via --without-lib[]Name-prefix, he wants to use it.\n+  ac_save_CPPFLAGS=\"$CPPFLAGS\"\n+  AC_LIB_APPENDTOVAR([CPPFLAGS], [$INC]NAME)\n+\n+  AC_CACHE_CHECK([for lib[]$1], [ac_cv_lib[]Name], [\n+    ac_save_LIBS=\"$LIBS\"\n+    LIBS=\"$LIBS $LIB[]NAME\"\n+    AC_TRY_LINK([$3], [$4], [ac_cv_lib[]Name=yes], [ac_cv_lib[]Name=no])\n+    LIBS=\"$ac_save_LIBS\"\n+  ])\n+  if test \"$ac_cv_lib[]Name\" = yes; then\n+    HAVE_LIB[]NAME=yes\n+    AC_DEFINE([HAVE_LIB]NAME, 1, [Define if you have the $1 library.])\n+    AC_MSG_CHECKING([how to link with lib[]$1])\n+    AC_MSG_RESULT([$LIB[]NAME])\n+  else\n+    HAVE_LIB[]NAME=no\n+    dnl If $LIB[]NAME didn't lead to a usable library, we don't need\n+    dnl $INC[]NAME either.\n+    CPPFLAGS=\"$ac_save_CPPFLAGS\"\n+    LIB[]NAME=\n+    LTLIB[]NAME=\n+  fi\n+  AC_SUBST([HAVE_LIB]NAME)\n+  AC_SUBST([LIB]NAME)\n+  AC_SUBST([LTLIB]NAME)\n+  undefine([Name])\n+  undefine([NAME])\n+])\n+\n+dnl Determine the platform dependent parameters needed to use rpath:\n+dnl libext, shlibext, hardcode_libdir_flag_spec, hardcode_libdir_separator,\n+dnl hardcode_direct, hardcode_minus_L.\n+AC_DEFUN([AC_LIB_RPATH],\n+[\n+  AC_REQUIRE([AC_PROG_CC])                dnl we use $CC, $GCC, $LDFLAGS\n+  AC_REQUIRE([AC_LIB_PROG_LD])            dnl we use $LD, $with_gnu_ld\n+  AC_REQUIRE([AC_CANONICAL_HOST])         dnl we use $host\n+  AC_REQUIRE([AC_CONFIG_AUX_DIR_DEFAULT]) dnl we use $ac_aux_dir\n+  AC_CACHE_CHECK([for shared library run path origin], acl_cv_rpath, [\n+    CC=\"$CC\" GCC=\"$GCC\" LDFLAGS=\"$LDFLAGS\" LD=\"$LD\" with_gnu_ld=\"$with_gnu_ld\" \\\n+    ${CONFIG_SHELL-/bin/sh} \"$ac_aux_dir/config.rpath\" \"$host\" > conftest.sh\n+    . ./conftest.sh\n+    rm -f ./conftest.sh\n+    acl_cv_rpath=done\n+  ])\n+  wl=\"$acl_cv_wl\"\n+  libext=\"$acl_cv_libext\"\n+  shlibext=\"$acl_cv_shlibext\"\n+  hardcode_libdir_flag_spec=\"$acl_cv_hardcode_libdir_flag_spec\"\n+  hardcode_libdir_separator=\"$acl_cv_hardcode_libdir_separator\"\n+  hardcode_direct=\"$acl_cv_hardcode_direct\"\n+  hardcode_minus_L=\"$acl_cv_hardcode_minus_L\"\n+  dnl Determine whether the user wants rpath handling at all.\n+  AC_ARG_ENABLE(rpath,\n+    [  --disable-rpath         do not hardcode runtime library paths],\n+    :, enable_rpath=yes)\n+])\n+\n+dnl AC_LIB_LINKFLAGS_BODY(name [, dependencies]) searches for libname and\n+dnl the libraries corresponding to explicit and implicit dependencies.\n+dnl Sets the LIB${NAME}, LTLIB${NAME} and INC${NAME} variables.\n+AC_DEFUN([AC_LIB_LINKFLAGS_BODY],\n+[\n+  define([NAME],[translit([$1],[abcdefghijklmnopqrstuvwxyz./-],\n+                               [ABCDEFGHIJKLMNOPQRSTUVWXYZ___])])\n+  dnl By default, look in $includedir and $libdir.\n+  use_additional=yes\n+  AC_LIB_WITH_FINAL_PREFIX([\n+    eval additional_includedir=\\\"$includedir\\\"\n+    eval additional_libdir=\\\"$libdir\\\"\n+  ])\n+  AC_LIB_ARG_WITH([lib$1-prefix],\n+[  --with-lib$1-prefix[=DIR]  search for lib$1 in DIR/include and DIR/lib\n+  --without-lib$1-prefix     don't search for lib$1 in includedir and libdir],\n+[\n+    if test \"X$withval\" = \"Xno\"; then\n+      use_additional=no\n+    else\n+      if test \"X$withval\" = \"X\"; then\n+        AC_LIB_WITH_FINAL_PREFIX([\n+          eval additional_includedir=\\\"$includedir\\\"\n+          eval additional_libdir=\\\"$libdir\\\"\n+        ])\n+      else\n+        additional_includedir=\"$withval/include\"\n+        additional_libdir=\"$withval/lib\"\n+      fi\n+    fi\n+])\n+  dnl Search the library and its dependencies in $additional_libdir and\n+  dnl $LDFLAGS. Using breadth-first-seach.\n+  LIB[]NAME=\n+  LTLIB[]NAME=\n+  INC[]NAME=\n+  rpathdirs=\n+  ltrpathdirs=\n+  names_already_handled=\n+  names_next_round='$1 $2'\n+  while test -n \"$names_next_round\"; do\n+    names_this_round=\"$names_next_round\"\n+    names_next_round=\n+    for name in $names_this_round; do\n+      already_handled=\n+      for n in $names_already_handled; do\n+        if test \"$n\" = \"$name\"; then\n+          already_handled=yes\n+          break\n+        fi\n+      done\n+      if test -z \"$already_handled\"; then\n+        names_already_handled=\"$names_already_handled $name\"\n+        dnl See if it was already located by an earlier AC_LIB_LINKFLAGS\n+        dnl or AC_LIB_HAVE_LINKFLAGS call.\n+        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n+        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n+        if test -n \"$value\"; then\n+          if test \"$value\" = yes; then\n+            eval value=\\\"\\$LIB$uppername\\\"\n+            test -z \"$value\" || LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$value\"\n+            eval value=\\\"\\$LTLIB$uppername\\\"\n+            test -z \"$value\" || LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }$value\"\n+          else\n+            dnl An earlier call to AC_LIB_HAVE_LINKFLAGS has determined\n+            dnl that this library doesn't exist. So just drop it.\n+            :\n+          fi\n+        else\n+          dnl Search the library lib$name in $additional_libdir and $LDFLAGS\n+          dnl and the already constructed $LIBNAME/$LTLIBNAME.\n+          found_dir=\n+          found_la=\n+          found_so=\n+          found_a=\n+          if test $use_additional = yes; then\n+            if test -n \"$shlibext\" && test -f \"$additional_libdir/lib$name.$shlibext\"; then\n+              found_dir=\"$additional_libdir\"\n+              found_so=\"$additional_libdir/lib$name.$shlibext\"\n+              if test -f \"$additional_libdir/lib$name.la\"; then\n+                found_la=\"$additional_libdir/lib$name.la\"\n+              fi\n+            else\n+              if test -f \"$additional_libdir/lib$name.$libext\"; then\n+                found_dir=\"$additional_libdir\"\n+                found_a=\"$additional_libdir/lib$name.$libext\"\n+                if test -f \"$additional_libdir/lib$name.la\"; then\n+                  found_la=\"$additional_libdir/lib$name.la\"\n+                fi\n+              fi\n+            fi\n+          fi\n+          if test \"X$found_dir\" = \"X\"; then\n+            for x in $LDFLAGS $LTLIB[]NAME; do\n+              AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+              case \"$x\" in\n+                -L*)\n+                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n+                  if test -n \"$shlibext\" && test -f \"$dir/lib$name.$shlibext\"; then\n+                    found_dir=\"$dir\"\n+                    found_so=\"$dir/lib$name.$shlibext\"\n+                    if test -f \"$dir/lib$name.la\"; then\n+                      found_la=\"$dir/lib$name.la\"\n+                    fi\n+                  else\n+                    if test -f \"$dir/lib$name.$libext\"; then\n+                      found_dir=\"$dir\"\n+                      found_a=\"$dir/lib$name.$libext\"\n+                      if test -f \"$dir/lib$name.la\"; then\n+                        found_la=\"$dir/lib$name.la\"\n+                      fi\n+                    fi\n+                  fi\n+                  ;;\n+              esac\n+              if test \"X$found_dir\" != \"X\"; then\n+                break\n+              fi\n+            done\n+          fi\n+          if test \"X$found_dir\" != \"X\"; then\n+            dnl Found the library.\n+            LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-L$found_dir -l$name\"\n+            if test \"X$found_so\" != \"X\"; then\n+              dnl Linking with a shared library. We attempt to hardcode its\n+              dnl directory into the executable's runpath, unless it's the\n+              dnl standard /usr/lib.\n+              if test \"$enable_rpath\" = no || test \"X$found_dir\" = \"X/usr/lib\"; then\n+                dnl No hardcoding is needed.\n+                LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n+              else\n+                dnl Use an explicit option to hardcode DIR into the resulting\n+                dnl binary.\n+                dnl Potentially add DIR to ltrpathdirs.\n+                dnl The ltrpathdirs will be appended to $LTLIBNAME at the end.\n+                haveit=\n+                for x in $ltrpathdirs; do\n+                  if test \"X$x\" = \"X$found_dir\"; then\n+                    haveit=yes\n+                    break\n+                  fi\n+                done\n+                if test -z \"$haveit\"; then\n+                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n+                fi\n+                dnl The hardcoding into $LIBNAME is system dependent.\n+                if test \"$hardcode_direct\" = yes; then\n+                  dnl Using DIR/libNAME.so during linking hardcodes DIR into the\n+                  dnl resulting binary.\n+                  LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n+                else\n+                  if test -n \"$hardcode_libdir_flag_spec\" && test \"$hardcode_minus_L\" = no; then\n+                    dnl Use an explicit option to hardcode DIR into the resulting\n+                    dnl binary.\n+                    LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n+                    dnl Potentially add DIR to rpathdirs.\n+                    dnl The rpathdirs will be appended to $LIBNAME at the end.\n+                    haveit=\n+                    for x in $rpathdirs; do\n+                      if test \"X$x\" = \"X$found_dir\"; then\n+                        haveit=yes\n+                        break\n+                      fi\n+                    done\n+                    if test -z \"$haveit\"; then\n+                      rpathdirs=\"$rpathdirs $found_dir\"\n+                    fi\n+                  else\n+                    dnl Rely on \"-L$found_dir\".\n+                    dnl But don't add it if it's already contained in the LDFLAGS\n+                    dnl or the already constructed $LIBNAME\n+                    haveit=\n+                    for x in $LDFLAGS $LIB[]NAME; do\n+                      AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+                      if test \"X$x\" = \"X-L$found_dir\"; then\n+                        haveit=yes\n+                        break\n+                      fi\n+                    done\n+                    if test -z \"$haveit\"; then\n+                      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-L$found_dir\"\n+                    fi\n+                    if test \"$hardcode_minus_L\" != no; then\n+                      dnl FIXME: Not sure whether we should use\n+                      dnl \"-L$found_dir -l$name\" or \"-L$found_dir $found_so\"\n+                      dnl here.\n+                      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_so\"\n+                    else\n+                      dnl We cannot use $hardcode_runpath_var and LD_RUN_PATH\n+                      dnl here, because this doesn't fit in flags passed to the\n+                      dnl compiler. So give up. No hardcoding. This affects only\n+                      dnl very old systems.\n+                      dnl FIXME: Not sure whether we should use\n+                      dnl \"-L$found_dir -l$name\" or \"-L$found_dir $found_so\"\n+                      dnl here.\n+                      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-l$name\"\n+                    fi\n+                  fi\n+                fi\n+              fi\n+            else\n+              if test \"X$found_a\" != \"X\"; then\n+                dnl Linking with a static library.\n+                LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$found_a\"\n+              else\n+                dnl We shouldn't come here, but anyway it's good to have a\n+                dnl fallback.\n+                LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-L$found_dir -l$name\"\n+              fi\n+            fi\n+            dnl Assume the include files are nearby.\n+            additional_includedir=\n+            case \"$found_dir\" in\n+              */lib | */lib/)\n+                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e 's,/lib/*$,,'`\n+                additional_includedir=\"$basedir/include\"\n+                ;;\n+            esac\n+            if test \"X$additional_includedir\" != \"X\"; then\n+              dnl Potentially add $additional_includedir to $INCNAME.\n+              dnl But don't add it\n+              dnl   1. if it's the standard /usr/include,\n+              dnl   2. if it's /usr/local/include and we are using GCC on Linux,\n+              dnl   3. if it's already present in $CPPFLAGS or the already\n+              dnl      constructed $INCNAME,\n+              dnl   4. if it doesn't exist as a directory.\n+              if test \"X$additional_includedir\" != \"X/usr/include\"; then\n+                haveit=\n+                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n+                  if test -n \"$GCC\"; then\n+                    case $host_os in\n+                      linux*) haveit=yes;;\n+                    esac\n+                  fi\n+                fi\n+                if test -z \"$haveit\"; then\n+                  for x in $CPPFLAGS $INC[]NAME; do\n+                    AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n+                      haveit=yes\n+                      break\n+                    fi\n+                  done\n+                  if test -z \"$haveit\"; then\n+                    if test -d \"$additional_includedir\"; then\n+                      dnl Really add $additional_includedir to $INCNAME.\n+                      INC[]NAME=\"${INC[]NAME}${INC[]NAME:+ }-I$additional_includedir\"\n+                    fi\n+                  fi\n+                fi\n+              fi\n+            fi\n+            dnl Look for dependencies.\n+            if test -n \"$found_la\"; then\n+              dnl Read the .la file. It defines the variables\n+              dnl dlname, library_names, old_library, dependency_libs, current,\n+              dnl age, revision, installed, dlopen, dlpreopen, libdir.\n+              save_libdir=\"$libdir\"\n+              case \"$found_la\" in\n+                */* | *\\\\*) . \"$found_la\" ;;\n+                *) . \"./$found_la\" ;;\n+              esac\n+              libdir=\"$save_libdir\"\n+              dnl We use only dependency_libs.\n+              for dep in $dependency_libs; do\n+                case \"$dep\" in\n+                  -L*)\n+                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n+                    dnl Potentially add $additional_libdir to $LIBNAME and $LTLIBNAME.\n+                    dnl But don't add it\n+                    dnl   1. if it's the standard /usr/lib,\n+                    dnl   2. if it's /usr/local/lib and we are using GCC on Linux,\n+                    dnl   3. if it's already present in $LDFLAGS or the already\n+                    dnl      constructed $LIBNAME,\n+                    dnl   4. if it doesn't exist as a directory.\n+                    if test \"X$additional_libdir\" != \"X/usr/lib\"; then\n+                      haveit=\n+                      if test \"X$additional_libdir\" = \"X/usr/local/lib\"; then\n+                        if test -n \"$GCC\"; then\n+                          case $host_os in\n+                            linux*) haveit=yes;;\n+                          esac\n+                        fi\n+                      fi\n+                      if test -z \"$haveit\"; then\n+                        haveit=\n+                        for x in $LDFLAGS $LIB[]NAME; do\n+                          AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n+                            haveit=yes\n+                            break\n+                          fi\n+                        done\n+                        if test -z \"$haveit\"; then\n+                          if test -d \"$additional_libdir\"; then\n+                            dnl Really add $additional_libdir to $LIBNAME.\n+                            LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-L$additional_libdir\"\n+                          fi\n+                        fi\n+                        haveit=\n+                        for x in $LDFLAGS $LTLIB[]NAME; do\n+                          AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n+                            haveit=yes\n+                            break\n+                          fi\n+                        done\n+                        if test -z \"$haveit\"; then\n+                          if test -d \"$additional_libdir\"; then\n+                            dnl Really add $additional_libdir to $LTLIBNAME.\n+                            LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-L$additional_libdir\"\n+                          fi\n+                        fi\n+                      fi\n+                    fi\n+                    ;;\n+                  -R*)\n+                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n+                    if test \"$enable_rpath\" != no; then\n+                      dnl Potentially add DIR to rpathdirs.\n+                      dnl The rpathdirs will be appended to $LIBNAME at the end.\n+                      haveit=\n+                      for x in $rpathdirs; do\n+                        if test \"X$x\" = \"X$dir\"; then\n+                          haveit=yes\n+                          break\n+                        fi\n+                      done\n+                      if test -z \"$haveit\"; then\n+                        rpathdirs=\"$rpathdirs $dir\"\n+                      fi\n+                      dnl Potentially add DIR to ltrpathdirs.\n+                      dnl The ltrpathdirs will be appended to $LTLIBNAME at the end.\n+                      haveit=\n+                      for x in $ltrpathdirs; do\n+                        if test \"X$x\" = \"X$dir\"; then\n+                          haveit=yes\n+                          break\n+                        fi\n+                      done\n+                      if test -z \"$haveit\"; then\n+                        ltrpathdirs=\"$ltrpathdirs $dir\"\n+                      fi\n+                    fi\n+                    ;;\n+                  -l*)\n+                    dnl Handle this in the next round.\n+                    names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n+                    ;;\n+                  *.la)\n+                    dnl Handle this in the next round. Throw away the .la's\n+                    dnl directory; it is already contained in a preceding -L\n+                    dnl option.\n+                    names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n+                    ;;\n+                  *)\n+                    dnl Most likely an immediate library name.\n+                    LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$dep\"\n+                    LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }$dep\"\n+                    ;;\n+                esac\n+              done\n+            fi\n+          else\n+            dnl Didn't find the library; assume it is in the system directories\n+            dnl known to the linker and runtime loader. (All the system\n+            dnl directories known to the linker should also be known to the\n+            dnl runtime loader, otherwise the system is severely misconfigured.)\n+            LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }-l$name\"\n+            LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-l$name\"\n+          fi\n+        fi\n+      fi\n+    done\n+  done\n+  if test \"X$rpathdirs\" != \"X\"; then\n+    if test -n \"$hardcode_libdir_separator\"; then\n+      dnl Weird platform: only the last -rpath option counts, the user must\n+      dnl pass all path elements in one option. We can arrange that for a\n+      dnl single library, but not when more than one $LIBNAMEs are used.\n+      alldirs=\n+      for found_dir in $rpathdirs; do\n+        alldirs=\"${alldirs}${alldirs:+$hardcode_libdir_separator}$found_dir\"\n+      done\n+      dnl Note: hardcode_libdir_flag_spec uses $libdir and $wl.\n+      acl_save_libdir=\"$libdir\"\n+      libdir=\"$alldirs\"\n+      eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n+      libdir=\"$acl_save_libdir\"\n+      LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$flag\"\n+    else\n+      dnl The -rpath options are cumulative.\n+      for found_dir in $rpathdirs; do\n+        acl_save_libdir=\"$libdir\"\n+        libdir=\"$found_dir\"\n+        eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n+        libdir=\"$acl_save_libdir\"\n+        LIB[]NAME=\"${LIB[]NAME}${LIB[]NAME:+ }$flag\"\n+      done\n+    fi\n+  fi\n+  if test \"X$ltrpathdirs\" != \"X\"; then\n+    dnl When using libtool, the option that works for both libraries and\n+    dnl executables is -R. The -R options are cumulative.\n+    for found_dir in $ltrpathdirs; do\n+      LTLIB[]NAME=\"${LTLIB[]NAME}${LTLIB[]NAME:+ }-R$found_dir\"\n+    done\n+  fi\n+])\n+\n+dnl AC_LIB_APPENDTOVAR(VAR, CONTENTS) appends the elements of CONTENTS to VAR,\n+dnl unless already present in VAR.\n+dnl Works only for CPPFLAGS, not for LIB* variables because that sometimes\n+dnl contains two or three consecutive elements that belong together.\n+AC_DEFUN([AC_LIB_APPENDTOVAR],\n+[\n+  for element in [$2]; do\n+    haveit=\n+    for x in $[$1]; do\n+      AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+      if test \"X$x\" = \"X$element\"; then\n+        haveit=yes\n+        break\n+      fi\n+    done\n+    if test -z \"$haveit\"; then\n+      [$1]=\"${[$1]}${[$1]:+ }$element\"\n+    fi\n+  done\n+])\n+\n+# lib-prefix.m4 serial 2 (gettext-0.12)\n+dnl Copyright (C) 2001-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Bruno Haible.\n+\n+dnl AC_LIB_ARG_WITH is synonymous to AC_ARG_WITH in autoconf-2.13, and\n+dnl similar to AC_ARG_WITH in autoconf 2.52...2.57 except that is doesn't\n+dnl require excessive bracketing.\n+ifdef([AC_HELP_STRING],\n+[AC_DEFUN([AC_LIB_ARG_WITH], [AC_ARG_WITH([$1],[[$2]],[$3],[$4])])],\n+[AC_DEFUN([AC_LIB_ARG_WITH], [AC_ARG_WITH([$1],[$2],[$3],[$4])])])\n+\n+dnl AC_LIB_PREFIX adds to the CPPFLAGS and LDFLAGS the flags that are needed\n+dnl to access previously installed libraries. The basic assumption is that\n+dnl a user will want packages to use other packages he previously installed\n+dnl with the same --prefix option.\n+dnl This macro is not needed if only AC_LIB_LINKFLAGS is used to locate\n+dnl libraries, but is otherwise very convenient.\n+AC_DEFUN([AC_LIB_PREFIX],\n+[\n+  AC_BEFORE([$0], [AC_LIB_LINKFLAGS])\n+  AC_REQUIRE([AC_PROG_CC])\n+  AC_REQUIRE([AC_CANONICAL_HOST])\n+  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n+  dnl By default, look in $includedir and $libdir.\n+  use_additional=yes\n+  AC_LIB_WITH_FINAL_PREFIX([\n+    eval additional_includedir=\\\"$includedir\\\"\n+    eval additional_libdir=\\\"$libdir\\\"\n+  ])\n+  AC_LIB_ARG_WITH([lib-prefix],\n+[  --with-lib-prefix[=DIR] search for libraries in DIR/include and DIR/lib\n+  --without-lib-prefix    don't search for libraries in includedir and libdir],\n+[\n+    if test \"X$withval\" = \"Xno\"; then\n+      use_additional=no\n+    else\n+      if test \"X$withval\" = \"X\"; then\n+        AC_LIB_WITH_FINAL_PREFIX([\n+          eval additional_includedir=\\\"$includedir\\\"\n+          eval additional_libdir=\\\"$libdir\\\"\n+        ])\n+      else\n+        additional_includedir=\"$withval/include\"\n+        additional_libdir=\"$withval/lib\"\n+      fi\n+    fi\n+])\n+  if test $use_additional = yes; then\n+    dnl Potentially add $additional_includedir to $CPPFLAGS.\n+    dnl But don't add it\n+    dnl   1. if it's the standard /usr/include,\n+    dnl   2. if it's already present in $CPPFLAGS,\n+    dnl   3. if it's /usr/local/include and we are using GCC on Linux,\n+    dnl   4. if it doesn't exist as a directory.\n+    if test \"X$additional_includedir\" != \"X/usr/include\"; then\n+      haveit=\n+      for x in $CPPFLAGS; do\n+        AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+        if test \"X$x\" = \"X-I$additional_includedir\"; then\n+          haveit=yes\n+          break\n+        fi\n+      done\n+      if test -z \"$haveit\"; then\n+        if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n+          if test -n \"$GCC\"; then\n+            case $host_os in\n+              linux*) haveit=yes;;\n+            esac\n+          fi\n+        fi\n+        if test -z \"$haveit\"; then\n+          if test -d \"$additional_includedir\"; then\n+            dnl Really add $additional_includedir to $CPPFLAGS.\n+            CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }-I$additional_includedir\"\n+          fi\n+        fi\n+      fi\n+    fi\n+    dnl Potentially add $additional_libdir to $LDFLAGS.\n+    dnl But don't add it\n+    dnl   1. if it's the standard /usr/lib,\n+    dnl   2. if it's already present in $LDFLAGS,\n+    dnl   3. if it's /usr/local/lib and we are using GCC on Linux,\n+    dnl   4. if it doesn't exist as a directory.\n+    if test \"X$additional_libdir\" != \"X/usr/lib\"; then\n+      haveit=\n+      for x in $LDFLAGS; do\n+        AC_LIB_WITH_FINAL_PREFIX([eval x=\\\"$x\\\"])\n+        if test \"X$x\" = \"X-L$additional_libdir\"; then\n+          haveit=yes\n+          break\n+        fi\n+      done\n+      if test -z \"$haveit\"; then\n+        if test \"X$additional_libdir\" = \"X/usr/local/lib\"; then\n+          if test -n \"$GCC\"; then\n+            case $host_os in\n+              linux*) haveit=yes;;\n+            esac\n+          fi\n+        fi\n+        if test -z \"$haveit\"; then\n+          if test -d \"$additional_libdir\"; then\n+            dnl Really add $additional_libdir to $LDFLAGS.\n+            LDFLAGS=\"${LDFLAGS}${LDFLAGS:+ }-L$additional_libdir\"\n+          fi\n+        fi\n+      fi\n+    fi\n+  fi\n+])\n+\n+dnl AC_LIB_PREPARE_PREFIX creates variables acl_final_prefix,\n+dnl acl_final_exec_prefix, containing the values to which $prefix and\n+dnl $exec_prefix will expand at the end of the configure script.\n+AC_DEFUN([AC_LIB_PREPARE_PREFIX],\n+[\n+  dnl Unfortunately, prefix and exec_prefix get only finally determined\n+  dnl at the end of configure.\n+  if test \"X$prefix\" = \"XNONE\"; then\n+    acl_final_prefix=\"$ac_default_prefix\"\n+  else\n+    acl_final_prefix=\"$prefix\"\n+  fi\n+  if test \"X$exec_prefix\" = \"XNONE\"; then\n+    acl_final_exec_prefix='${prefix}'\n+  else\n+    acl_final_exec_prefix=\"$exec_prefix\"\n+  fi\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  eval acl_final_exec_prefix=\\\"$acl_final_exec_prefix\\\"\n+  prefix=\"$acl_save_prefix\"\n+])\n+\n+dnl AC_LIB_WITH_FINAL_PREFIX([statement]) evaluates statement, with the\n+dnl variables prefix and exec_prefix bound to the values they will have\n+dnl at the end of the configure script.\n+AC_DEFUN([AC_LIB_WITH_FINAL_PREFIX],\n+[\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  acl_save_exec_prefix=\"$exec_prefix\"\n+  exec_prefix=\"$acl_final_exec_prefix\"\n+  $1\n+  exec_prefix=\"$acl_save_exec_prefix\"\n+  prefix=\"$acl_save_prefix\"\n+])\n+\n+# lib-ld.m4 serial 2 (gettext-0.12)\n+dnl Copyright (C) 1996-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl Subroutines of libtool.m4,\n+dnl with replacements s/AC_/AC_LIB/ and s/lt_cv/acl_cv/ to avoid collision\n+dnl with libtool.m4.\n+\n+dnl From libtool-1.4. Sets the variable with_gnu_ld to yes or no.\n+AC_DEFUN([AC_LIB_PROG_LD_GNU],\n+[AC_CACHE_CHECK([if the linker ($LD) is GNU ld], acl_cv_prog_gnu_ld,\n+[# I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  acl_cv_prog_gnu_ld=yes\n+else\n+  acl_cv_prog_gnu_ld=no\n+fi])\n+with_gnu_ld=$acl_cv_prog_gnu_ld\n+])\n+\n+dnl From libtool-1.4. Sets the variable LD.\n+AC_DEFUN([AC_LIB_PROG_LD],\n+[AC_ARG_WITH(gnu-ld,\n+[  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],\n+test \"$withval\" = no || with_gnu_ld=yes, with_gnu_ld=no)\n+AC_REQUIRE([AC_PROG_CC])dnl\n+AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+# Prepare PATH_SEPARATOR.\n+# The user is always right.\n+if test \"${PATH_SEPARATOR+set}\" != set; then\n+  echo \"#! /bin/sh\" >conf$$.sh\n+  echo  \"exit 0\"   >>conf$$.sh\n+  chmod +x conf$$.sh\n+  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n+    PATH_SEPARATOR=';'\n+  else\n+    PATH_SEPARATOR=:\n+  fi\n+  rm -f conf$$.sh\n+fi\n+ac_prog=ld\n+if test \"$GCC\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  AC_MSG_CHECKING([for ld used by GCC])\n+  case $host in\n+  *-*-mingw*)\n+    # gcc leaves a trailing carriage return which upsets mingw\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n+  *)\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n+  esac\n+  case $ac_prog in\n+    # Accept absolute paths.\n+    [[\\\\/]* | [A-Za-z]:[\\\\/]*)]\n+      [re_direlt='/[^/][^/]*/\\.\\./']\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  AC_MSG_CHECKING([for GNU ld])\n+else\n+  AC_MSG_CHECKING([for non-GNU ld])\n+fi\n+AC_CACHE_VAL(acl_cv_path_LD,\n+[if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+      acl_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$acl_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+\ttest \"$with_gnu_ld\" != yes && break\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+else\n+  acl_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+fi])\n+LD=\"$acl_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  AC_MSG_RESULT($LD)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+test -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\n+AC_LIB_PROG_LD_GNU\n+])\n+\n+# iconv.m4 serial AM4 (gettext-0.11.3)\n+dnl Copyright (C) 2000-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Bruno Haible.\n+\n+AC_DEFUN([AM_ICONV_LINKFLAGS_BODY],\n+[\n+  dnl Prerequisites of AC_LIB_LINKFLAGS_BODY.\n+  AC_REQUIRE([AC_LIB_PREPARE_PREFIX])\n+  AC_REQUIRE([AC_LIB_RPATH])\n+\n+  dnl Search for libiconv and define LIBICONV, LTLIBICONV and INCICONV\n+  dnl accordingly.\n+  AC_LIB_LINKFLAGS_BODY([iconv])\n+])\n+\n+AC_DEFUN([AM_ICONV_LINK],\n+[\n+  dnl Some systems have iconv in libc, some have it in libiconv (OSF/1 and\n+  dnl those with the standalone portable GNU libiconv installed).\n+\n+  dnl Search for libiconv and define LIBICONV, LTLIBICONV and INCICONV\n+  dnl accordingly.\n+  AC_REQUIRE([AM_ICONV_LINKFLAGS_BODY])\n+\n+  dnl Add $INCICONV to CPPFLAGS before performing the following checks,\n+  dnl because if the user has installed libiconv and not disabled its use\n+  dnl via --without-libiconv-prefix, he wants to use it. The first\n+  dnl AC_TRY_LINK will then fail, the second AC_TRY_LINK will succeed.\n+  am_save_CPPFLAGS=\"$CPPFLAGS\"\n+  AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCICONV])\n+\n+  AC_CACHE_CHECK(for iconv, am_cv_func_iconv, [\n+    am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n+    am_cv_lib_iconv=no\n+    AC_TRY_LINK([#include <stdlib.h>\n+#include <iconv.h>],\n+      [iconv_t cd = iconv_open(\"\",\"\");\n+       iconv(cd,NULL,NULL,NULL,NULL);\n+       iconv_close(cd);],\n+      am_cv_func_iconv=yes)\n+    if test \"$am_cv_func_iconv\" != yes; then\n+      am_save_LIBS=\"$LIBS\"\n+      LIBS=\"$LIBS $LIBICONV\"\n+      AC_TRY_LINK([#include <stdlib.h>\n+#include <iconv.h>],\n+        [iconv_t cd = iconv_open(\"\",\"\");\n+         iconv(cd,NULL,NULL,NULL,NULL);\n+         iconv_close(cd);],\n+        am_cv_lib_iconv=yes\n+        am_cv_func_iconv=yes)\n+      LIBS=\"$am_save_LIBS\"\n+    fi\n+  ])\n+  if test \"$am_cv_func_iconv\" = yes; then\n+    AC_DEFINE(HAVE_ICONV, 1, [Define if you have the iconv() function.])\n+  fi\n+  if test \"$am_cv_lib_iconv\" = yes; then\n+    AC_MSG_CHECKING([how to link with libiconv])\n+    AC_MSG_RESULT([$LIBICONV])\n+  else\n+    dnl If $LIBICONV didn't lead to a usable library, we don't need $INCICONV\n+    dnl either.\n+    CPPFLAGS=\"$am_save_CPPFLAGS\"\n+    LIBICONV=\n+    LTLIBICONV=\n+  fi\n+  AC_SUBST(LIBICONV)\n+  AC_SUBST(LTLIBICONV)\n+])\n+\n+AC_DEFUN([AM_ICONV],\n+[\n+  AM_ICONV_LINK\n+  if test \"$am_cv_func_iconv\" = yes; then\n+    AC_MSG_CHECKING([for iconv declaration])\n+    AC_CACHE_VAL(am_cv_proto_iconv, [\n+      AC_TRY_COMPILE([\n+#include <stdlib.h>\n+#include <iconv.h>\n+extern\n+#ifdef __cplusplus\n+\"C\"\n+#endif\n+#if defined(__STDC__) || defined(__cplusplus)\n+size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);\n+#else\n+size_t iconv();\n+#endif\n+], [], am_cv_proto_iconv_arg1=\"\", am_cv_proto_iconv_arg1=\"const\")\n+      am_cv_proto_iconv=\"extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);\"])\n+    am_cv_proto_iconv=`echo \"[$]am_cv_proto_iconv\" | tr -s ' ' | sed -e 's/( /(/'`\n+    AC_MSG_RESULT([$]{ac_t:-\n+         }[$]am_cv_proto_iconv)\n+    AC_DEFINE_UNQUOTED(ICONV_CONST, $am_cv_proto_iconv_arg1,\n+      [Define as const if the declaration of iconv() needs const.])\n+  fi\n+])\n+\n+# isc-posix.m4 serial 2 (gettext-0.11.2)\n+dnl Copyright (C) 1995-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+# This file is not needed with autoconf-2.53 and newer.  Remove it in 2005.\n+\n+# This test replaces the one in autoconf.\n+# Currently this macro should have the same name as the autoconf macro\n+# because gettext's gettext.m4 (distributed in the automake package)\n+# still uses it.  Otherwise, the use in gettext.m4 makes autoheader\n+# give these diagnostics:\n+#   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX\n+#   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX\n+\n+undefine([AC_ISC_POSIX])\n+\n+AC_DEFUN([AC_ISC_POSIX],\n+  [\n+    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.\n+    AC_CHECK_LIB(cposix, strerror, [LIBS=\"$LIBS -lcposix\"])\n+  ]\n+)\n+\n+# glibc21.m4 serial 2 (fileutils-4.1.3, gettext-0.10.40)\n+dnl Copyright (C) 2000-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+# Test for the GNU C Library, version 2.1 or newer.\n+# From Bruno Haible.\n+\n+AC_DEFUN([jm_GLIBC21],\n+  [\n+    AC_CACHE_CHECK(whether we are using the GNU C Library 2.1 or newer,\n+      ac_cv_gnu_library_2_1,\n+      [AC_EGREP_CPP([Lucky GNU user],\n+\t[\n+#include <features.h>\n+#ifdef __GNU_LIBRARY__\n+ #if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 1) || (__GLIBC__ > 2)\n+  Lucky GNU user\n+ #endif\n+#endif\n+\t],\n+\tac_cv_gnu_library_2_1=yes,\n+\tac_cv_gnu_library_2_1=no)\n+      ]\n+    )\n+    AC_SUBST(GLIBC21)\n+    GLIBC21=\"$ac_cv_gnu_library_2_1\"\n+  ]\n+)\n+\n+# intdiv0.m4 serial 1 (gettext-0.11.3)\n+dnl Copyright (C) 2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Bruno Haible.\n+\n+AC_DEFUN([gt_INTDIV0],\n+[\n+  AC_REQUIRE([AC_PROG_CC])dnl\n+  AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+\n+  AC_CACHE_CHECK([whether integer division by zero raises SIGFPE],\n+    gt_cv_int_divbyzero_sigfpe,\n+    [\n+      AC_TRY_RUN([\n+#include <stdlib.h>\n+#include <signal.h>\n+\n+static void\n+#ifdef __cplusplus\n+sigfpe_handler (int sig)\n+#else\n+sigfpe_handler (sig) int sig;\n+#endif\n+{\n+  /* Exit with code 0 if SIGFPE, with code 1 if any other signal.  */\n+  exit (sig != SIGFPE);\n+}\n+\n+int x = 1;\n+int y = 0;\n+int z;\n+int nan;\n+\n+int main ()\n+{\n+  signal (SIGFPE, sigfpe_handler);\n+/* IRIX and AIX (when \"xlc -qcheck\" is used) yield signal SIGTRAP.  */\n+#if (defined (__sgi) || defined (_AIX)) && defined (SIGTRAP)\n+  signal (SIGTRAP, sigfpe_handler);\n+#endif\n+/* Linux/SPARC yields signal SIGILL.  */\n+#if defined (__sparc__) && defined (__linux__)\n+  signal (SIGILL, sigfpe_handler);\n+#endif\n+\n+  z = x / y;\n+  nan = y / y;\n+  exit (1);\n+}\n+], gt_cv_int_divbyzero_sigfpe=yes, gt_cv_int_divbyzero_sigfpe=no,\n+        [\n+          # Guess based on the CPU.\n+          case \"$host_cpu\" in\n+            alpha* | i[34567]86 | m68k | s390*)\n+              gt_cv_int_divbyzero_sigfpe=\"guessing yes\";;\n+            *)\n+              gt_cv_int_divbyzero_sigfpe=\"guessing no\";;\n+          esac\n+        ])\n+    ])\n+  case \"$gt_cv_int_divbyzero_sigfpe\" in\n+    *yes) value=1;;\n+    *) value=0;;\n+  esac\n+  AC_DEFINE_UNQUOTED(INTDIV0_RAISES_SIGFPE, $value,\n+    [Define if integer division by zero raises signal SIGFPE.])\n+])\n+\n+# uintmax_t.m4 serial 7 (gettext-0.12)\n+dnl Copyright (C) 1997-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Paul Eggert.\n+\n+AC_PREREQ(2.13)\n+\n+# Define uintmax_t to 'unsigned long' or 'unsigned long long'\n+# if it is not already defined in <stdint.h> or <inttypes.h>.\n+\n+AC_DEFUN([jm_AC_TYPE_UINTMAX_T],\n+[\n+  AC_REQUIRE([jm_AC_HEADER_INTTYPES_H])\n+  AC_REQUIRE([jm_AC_HEADER_STDINT_H])\n+  if test $jm_ac_cv_header_inttypes_h = no && test $jm_ac_cv_header_stdint_h = no; then\n+    AC_REQUIRE([jm_AC_TYPE_UNSIGNED_LONG_LONG])\n+    test $ac_cv_type_unsigned_long_long = yes \\\n+      && ac_type='unsigned long long' \\\n+      || ac_type='unsigned long'\n+    AC_DEFINE_UNQUOTED(uintmax_t, $ac_type,\n+      [Define to unsigned long or unsigned long long\n+       if <stdint.h> and <inttypes.h> don't define.])\n+  else\n+    AC_DEFINE(HAVE_UINTMAX_T, 1,\n+      [Define if you have the 'uintmax_t' type in <stdint.h> or <inttypes.h>.])\n+  fi\n+])\n+\n+# inttypes_h.m4 serial 5 (gettext-0.12)\n+dnl Copyright (C) 1997-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Paul Eggert.\n+\n+# Define HAVE_INTTYPES_H_WITH_UINTMAX if <inttypes.h> exists,\n+# doesn't clash with <sys/types.h>, and declares uintmax_t.\n+\n+AC_DEFUN([jm_AC_HEADER_INTTYPES_H],\n+[\n+  AC_CACHE_CHECK([for inttypes.h], jm_ac_cv_header_inttypes_h,\n+  [AC_TRY_COMPILE(\n+    [#include <sys/types.h>\n+#include <inttypes.h>],\n+    [uintmax_t i = (uintmax_t) -1;],\n+    jm_ac_cv_header_inttypes_h=yes,\n+    jm_ac_cv_header_inttypes_h=no)])\n+  if test $jm_ac_cv_header_inttypes_h = yes; then\n+    AC_DEFINE_UNQUOTED(HAVE_INTTYPES_H_WITH_UINTMAX, 1,\n+      [Define if <inttypes.h> exists, doesn't clash with <sys/types.h>,\n+       and declares uintmax_t. ])\n+  fi\n+])\n+\n+# stdint_h.m4 serial 3 (gettext-0.12)\n+dnl Copyright (C) 1997-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Paul Eggert.\n+\n+# Define HAVE_STDINT_H_WITH_UINTMAX if <stdint.h> exists,\n+# doesn't clash with <sys/types.h>, and declares uintmax_t.\n+\n+AC_DEFUN([jm_AC_HEADER_STDINT_H],\n+[\n+  AC_CACHE_CHECK([for stdint.h], jm_ac_cv_header_stdint_h,\n+  [AC_TRY_COMPILE(\n+    [#include <sys/types.h>\n+#include <stdint.h>],\n+    [uintmax_t i = (uintmax_t) -1;],\n+    jm_ac_cv_header_stdint_h=yes,\n+    jm_ac_cv_header_stdint_h=no)])\n+  if test $jm_ac_cv_header_stdint_h = yes; then\n+    AC_DEFINE_UNQUOTED(HAVE_STDINT_H_WITH_UINTMAX, 1,\n+      [Define if <stdint.h> exists, doesn't clash with <sys/types.h>,\n+       and declares uintmax_t. ])\n+  fi\n+])\n+\n+# ulonglong.m4 serial 2 (fileutils-4.0.32, gettext-0.10.40)\n+dnl Copyright (C) 1999-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Paul Eggert.\n+\n+AC_DEFUN([jm_AC_TYPE_UNSIGNED_LONG_LONG],\n+[\n+  AC_CACHE_CHECK([for unsigned long long], ac_cv_type_unsigned_long_long,\n+  [AC_TRY_LINK([unsigned long long ull = 1; int i = 63;],\n+    [unsigned long long ullmax = (unsigned long long) -1;\n+     return ull << i | ull >> i | ullmax / ull | ullmax % ull;],\n+    ac_cv_type_unsigned_long_long=yes,\n+    ac_cv_type_unsigned_long_long=no)])\n+  if test $ac_cv_type_unsigned_long_long = yes; then\n+    AC_DEFINE(HAVE_UNSIGNED_LONG_LONG, 1,\n+      [Define if you have the unsigned long long type.])\n+  fi\n+])\n+\n+# inttypes.m4 serial 1 (gettext-0.11.4)\n+dnl Copyright (C) 1997-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Paul Eggert.\n+\n+# Define HAVE_INTTYPES_H if <inttypes.h> exists and doesn't clash with\n+# <sys/types.h>.\n+\n+AC_DEFUN([gt_HEADER_INTTYPES_H],\n+[\n+  AC_CACHE_CHECK([for inttypes.h], gt_cv_header_inttypes_h,\n+  [\n+    AC_TRY_COMPILE(\n+      [#include <sys/types.h>\n+#include <inttypes.h>],\n+      [], gt_cv_header_inttypes_h=yes, gt_cv_header_inttypes_h=no)\n+  ])\n+  if test $gt_cv_header_inttypes_h = yes; then\n+    AC_DEFINE_UNQUOTED(HAVE_INTTYPES_H, 1,\n+      [Define if <inttypes.h> exists and doesn't clash with <sys/types.h>.])\n+  fi\n+])\n+\n+# inttypes-pri.m4 serial 1 (gettext-0.11.4)\n+dnl Copyright (C) 1997-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Bruno Haible.\n+\n+# Define PRI_MACROS_BROKEN if <inttypes.h> exists and defines the PRI*\n+# macros to non-string values.  This is the case on AIX 4.3.3.\n+\n+AC_DEFUN([gt_INTTYPES_PRI],\n+[\n+  AC_REQUIRE([gt_HEADER_INTTYPES_H])\n+  if test $gt_cv_header_inttypes_h = yes; then\n+    AC_CACHE_CHECK([whether the inttypes.h PRIxNN macros are broken],\n+      gt_cv_inttypes_pri_broken,\n+      [\n+        AC_TRY_COMPILE([#include <inttypes.h>\n+#ifdef PRId32\n+char *p = PRId32;\n+#endif\n+], [], gt_cv_inttypes_pri_broken=no, gt_cv_inttypes_pri_broken=yes)\n+      ])\n+  fi\n+  if test \"$gt_cv_inttypes_pri_broken\" = yes; then\n+    AC_DEFINE_UNQUOTED(PRI_MACROS_BROKEN, 1,\n+      [Define if <inttypes.h> exists and defines unusable PRI* macros.])\n+  fi\n+])\n+\n+# codeset.m4 serial AM1 (gettext-0.10.40)\n+dnl Copyright (C) 2000-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl From Bruno Haible.\n+\n+AC_DEFUN([AM_LANGINFO_CODESET],\n+[\n+  AC_CACHE_CHECK([for nl_langinfo and CODESET], am_cv_langinfo_codeset,\n+    [AC_TRY_LINK([#include <langinfo.h>],\n+      [char* cs = nl_langinfo(CODESET);],\n+      am_cv_langinfo_codeset=yes,\n+      am_cv_langinfo_codeset=no)\n+    ])\n+  if test $am_cv_langinfo_codeset = yes; then\n+    AC_DEFINE(HAVE_LANGINFO_CODESET, 1,\n+      [Define if you have <langinfo.h> and nl_langinfo(CODESET).])\n+  fi\n+])\n+\n+# lcmessage.m4 serial 3 (gettext-0.11.3)\n+dnl Copyright (C) 1995-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1995.\n+\n+# Check whether LC_MESSAGES is available in <locale.h>.\n+\n+AC_DEFUN([AM_LC_MESSAGES],\n+[\n+  AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,\n+    [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n+       am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])\n+  if test $am_cv_val_LC_MESSAGES = yes; then\n+    AC_DEFINE(HAVE_LC_MESSAGES, 1,\n+      [Define if your <locale.h> file defines LC_MESSAGES.])\n+  fi\n+])\n+"}, {"sha": "250f5e863b19491cd558804c19fa0e41a5d381ba", "filename": "intl/bindtextdom.c", "status": "renamed", "additions": 21, "deletions": 16, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fbindtextdom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fbindtextdom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fbindtextdom.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the bindtextdomain(3) function\n-   Copyright (C) 1995-1998, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1998, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -45,8 +45,8 @@\n    names than the internal variables in GNU libc, otherwise programs\n    using libintl.a cannot be linked statically.  */\n #if !defined _LIBC\n-# define _nl_default_dirname _nl_default_dirname__\n-# define _nl_domain_bindings _nl_domain_bindings__\n+# define _nl_default_dirname libintl_nl_default_dirname\n+# define _nl_domain_bindings libintl_nl_domain_bindings\n #endif\n \n /* Some compilers, like SunOS4 cc, don't have offsetof in <stddef.h>.  */\n@@ -58,12 +58,17 @@\n \n /* Contains the default location of the message catalogs.  */\n extern const char _nl_default_dirname[];\n+#ifdef _LIBC\n+extern const char _nl_default_dirname_internal[] attribute_hidden;\n+#else\n+# define INTUSE(name) name\n+#endif\n \n /* List with bindings of specific domains.  */\n extern struct binding *_nl_domain_bindings;\n \n /* Lock variable to protect the global data in the gettext implementation.  */\n-__libc_rwlock_define (extern, _nl_state_lock)\n+__libc_rwlock_define (extern, _nl_state_lock attribute_hidden)\n \n \n /* Names for the libintl functions are a problem.  They must not clash\n@@ -77,15 +82,15 @@ __libc_rwlock_define (extern, _nl_state_lock)\n #  define strdup(str) __strdup (str)\n # endif\n #else\n-# define BINDTEXTDOMAIN bindtextdomain__\n-# define BIND_TEXTDOMAIN_CODESET bind_textdomain_codeset__\n+# define BINDTEXTDOMAIN libintl_bindtextdomain\n+# define BIND_TEXTDOMAIN_CODESET libintl_bind_textdomain_codeset\n #endif\n \n /* Prototypes for local functions.  */\n static void set_binding_values PARAMS ((const char *domainname,\n \t\t\t\t\tconst char **dirnamep,\n \t\t\t\t\tconst char **codesetp));\n-     \n+\n /* Specifies the directory name *DIRNAMEP and the output codeset *CODESETP\n    to be used for the DOMAINNAME message catalog.\n    If *DIRNAMEP or *CODESETP is NULL, the corresponding attribute is not\n@@ -146,8 +151,8 @@ set_binding_values (domainname, dirnamep, codesetp)\n \t      char *result = binding->dirname;\n \t      if (strcmp (dirname, result) != 0)\n \t\t{\n-\t\t  if (strcmp (dirname, _nl_default_dirname) == 0)\n-\t\t    result = (char *) _nl_default_dirname;\n+\t\t  if (strcmp (dirname, INTUSE(_nl_default_dirname)) == 0)\n+\t\t    result = (char *) INTUSE(_nl_default_dirname);\n \t\t  else\n \t\t    {\n #if defined _LIBC || defined HAVE_STRDUP\n@@ -162,7 +167,7 @@ set_binding_values (domainname, dirnamep, codesetp)\n \n \t\t  if (__builtin_expect (result != NULL, 1))\n \t\t    {\n-\t\t      if (binding->dirname != _nl_default_dirname)\n+\t\t      if (binding->dirname != INTUSE(_nl_default_dirname))\n \t\t\tfree (binding->dirname);\n \n \t\t      binding->dirname = result;\n@@ -216,7 +221,7 @@ set_binding_values (domainname, dirnamep, codesetp)\n     {\n       /* Simply return the default values.  */\n       if (dirnamep)\n-\t*dirnamep = _nl_default_dirname;\n+\t*dirnamep = INTUSE(_nl_default_dirname);\n       if (codesetp)\n \t*codesetp = NULL;\n     }\n@@ -238,11 +243,11 @@ set_binding_values (domainname, dirnamep, codesetp)\n \n \t  if (dirname == NULL)\n \t    /* The default value.  */\n-\t    dirname = _nl_default_dirname;\n+\t    dirname = INTUSE(_nl_default_dirname);\n \t  else\n \t    {\n-\t      if (strcmp (dirname, _nl_default_dirname) == 0)\n-\t\tdirname = _nl_default_dirname;\n+\t      if (strcmp (dirname, INTUSE(_nl_default_dirname)) == 0)\n+\t\tdirname = INTUSE(_nl_default_dirname);\n \t      else\n \t\t{\n \t\t  char *result;\n@@ -265,7 +270,7 @@ set_binding_values (domainname, dirnamep, codesetp)\n \t}\n       else\n \t/* The default value.  */\n-\tnew_binding->dirname = (char *) _nl_default_dirname;\n+\tnew_binding->dirname = (char *) INTUSE(_nl_default_dirname);\n \n       new_binding->codeset_cntr = 0;\n \n@@ -321,7 +326,7 @@ set_binding_values (domainname, dirnamep, codesetp)\n       if (0)\n \t{\n \tfailed_codeset:\n-\t  if (new_binding->dirname != _nl_default_dirname)\n+\t  if (new_binding->dirname != INTUSE(_nl_default_dirname))\n \t    free (new_binding->dirname);\n \tfailed_dirname:\n \t  free (new_binding);", "previous_filename": "gcc/intl/bindtextdom.c"}, {"sha": "80272b8c1beeac5d16d68905ea84378756774c9d", "filename": "intl/config.h.in", "status": "added", "additions": 255, "deletions": 0, "changes": 255, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfig.h.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,255 @@\n+/* config.h.in.  Generated from configure.in by autoheader.  */\n+\n+/* Define to one of `_getb67', `GETB67', `getb67' for Cray-2 and Cray-YMP\n+   systems. This function is required for `alloca.c' support on those systems.\n+   */\n+#undef CRAY_STACKSEG_END\n+\n+/* Define to 1 if using `alloca.c'. */\n+#undef C_ALLOCA\n+\n+/* Define because we depend on libiconv. */\n+#undef DEPENDS_ON_LIBICONV\n+\n+/* Define to 1 if translation of program messages to the user's native\n+   language is requested. */\n+#undef ENABLE_NLS\n+\n+/* Define to enable relocation. */\n+#undef ENABLE_RELOCATABLE\n+\n+/* Define to 1 if you have `alloca', as a function or macro. */\n+#undef HAVE_ALLOCA\n+\n+/* Define to 1 if you have <alloca.h> and it should be used (not on Ultrix).\n+   */\n+#undef HAVE_ALLOCA_H\n+\n+/* Define to 1 if you have the <argz.h> header file. */\n+#undef HAVE_ARGZ_H\n+\n+/* Define if the GNU dcgettext() function is already present or preinstalled.\n+   */\n+#undef HAVE_DCGETTEXT\n+\n+/* Define to 1 if you have the `feof_unlocked' function. */\n+#undef HAVE_FEOF_UNLOCKED\n+\n+/* Define to 1 if you have the `fgets_unlocked' function. */\n+#undef HAVE_FGETS_UNLOCKED\n+\n+/* Define to 1 if you have the `getcwd' function. */\n+#undef HAVE_GETCWD\n+\n+/* Define to 1 if you have the `getc_unlocked' function. */\n+#undef HAVE_GETC_UNLOCKED\n+\n+/* Define to 1 if you have the `getegid' function. */\n+#undef HAVE_GETEGID\n+\n+/* Define to 1 if you have the `geteuid' function. */\n+#undef HAVE_GETEUID\n+\n+/* Define to 1 if you have the `getgid' function. */\n+#undef HAVE_GETGID\n+\n+/* Define to 1 if you have the `getpagesize' function. */\n+#undef HAVE_GETPAGESIZE\n+\n+/* Define if the GNU gettext() function is already present or preinstalled. */\n+#undef HAVE_GETTEXT\n+\n+/* Define to 1 if you have the `getuid' function. */\n+#undef HAVE_GETUID\n+\n+/* Define if you have the iconv() function. */\n+#undef HAVE_ICONV\n+\n+/* Define if <inttypes.h> exists and doesn't clash with <sys/types.h>. */\n+#undef HAVE_INTTYPES_H\n+\n+/* Define if <inttypes.h> exists, doesn't clash with <sys/types.h>, and\n+   declares uintmax_t. */\n+#undef HAVE_INTTYPES_H_WITH_UINTMAX\n+\n+/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */\n+#undef HAVE_LANGINFO_CODESET\n+\n+/* Define if your <locale.h> file defines LC_MESSAGES. */\n+#undef HAVE_LC_MESSAGES\n+\n+/* Define to 1 if you have the <limits.h> header file. */\n+#undef HAVE_LIMITS_H\n+\n+/* Define to 1 if you have the <locale.h> header file. */\n+#undef HAVE_LOCALE_H\n+\n+/* Define to 1 if you have the <malloc.h> header file. */\n+#undef HAVE_MALLOC_H\n+\n+/* Define to 1 if you have the <memory.h> header file. */\n+#undef HAVE_MEMORY_H\n+\n+/* Define to 1 if you have the `mempcpy' function. */\n+#undef HAVE_MEMPCPY\n+\n+/* Define to 1 if you have a working `mmap' system call. */\n+#undef HAVE_MMAP\n+\n+/* Define to 1 if you have the `munmap' function. */\n+#undef HAVE_MUNMAP\n+\n+/* Define to 1 if you have the <nl_types.h> header file. */\n+#undef HAVE_NL_TYPES_H\n+\n+/* Define to 1 if you have the `putenv' function. */\n+#undef HAVE_PUTENV\n+\n+/* Define to 1 if you have the `setenv' function. */\n+#undef HAVE_SETENV\n+\n+/* Define to 1 if you have the `setlocale' function. */\n+#undef HAVE_SETLOCALE\n+\n+/* Define to 1 if you have the <stddef.h> header file. */\n+#undef HAVE_STDDEF_H\n+\n+/* Define to 1 if you have the <stdint.h> header file. */\n+#undef HAVE_STDINT_H\n+\n+/* Define if <stdint.h> exists, doesn't clash with <sys/types.h>, and declares\n+   uintmax_t. */\n+#undef HAVE_STDINT_H_WITH_UINTMAX\n+\n+/* Define to 1 if you have the <stdlib.h> header file. */\n+#undef HAVE_STDLIB_H\n+\n+/* Define to 1 if you have the `stpcpy' function. */\n+#undef HAVE_STPCPY\n+\n+/* Define to 1 if you have the `strcasecmp' function. */\n+#undef HAVE_STRCASECMP\n+\n+/* Define to 1 if you have the `strdup' function. */\n+#undef HAVE_STRDUP\n+\n+/* Define to 1 if you have the <strings.h> header file. */\n+#undef HAVE_STRINGS_H\n+\n+/* Define to 1 if you have the <string.h> header file. */\n+#undef HAVE_STRING_H\n+\n+/* Define to 1 if you have the `strtoul' function. */\n+#undef HAVE_STRTOUL\n+\n+/* Define to 1 if you have the <sys/param.h> header file. */\n+#undef HAVE_SYS_PARAM_H\n+\n+/* Define to 1 if you have the <sys/stat.h> header file. */\n+#undef HAVE_SYS_STAT_H\n+\n+/* Define to 1 if you have the <sys/types.h> header file. */\n+#undef HAVE_SYS_TYPES_H\n+\n+/* Define to 1 if you have the `tsearch' function. */\n+#undef HAVE_TSEARCH\n+\n+/* Define if you have the 'uintmax_t' type in <stdint.h> or <inttypes.h>. */\n+#undef HAVE_UINTMAX_T\n+\n+/* Define to 1 if you have the <unistd.h> header file. */\n+#undef HAVE_UNISTD_H\n+\n+/* Define if you have the unsigned long long type. */\n+#undef HAVE_UNSIGNED_LONG_LONG\n+\n+/* Define to 1 if you have the `__argz_count' function. */\n+#undef HAVE___ARGZ_COUNT\n+\n+/* Define to 1 if you have the `__argz_next' function. */\n+#undef HAVE___ARGZ_NEXT\n+\n+/* Define to 1 if you have the `__argz_stringify' function. */\n+#undef HAVE___ARGZ_STRINGIFY\n+\n+/* Define to 1 if you have the `__fsetlocking' function. */\n+#undef HAVE___FSETLOCKING\n+\n+/* Define as const if the declaration of iconv() needs const. */\n+#undef ICONV_CONST\n+\n+/* Define to the installation directory. */\n+#undef INSTALLDIR\n+\n+/* Define if integer division by zero raises signal SIGFPE. */\n+#undef INTDIV0_RAISES_SIGFPE\n+\n+/* Define because this is libintl. */\n+#undef IN_LIBINTL\n+\n+/* Define because this is a library. */\n+#undef IN_LIBRARY\n+\n+/* Define to the library directory. */\n+#undef LIBDIR\n+\n+/* Define to the directory holding the locale files. */\n+#undef LOCALEDIR\n+\n+/* Define to the locale alias path. */\n+#undef LOCALE_ALIAS_PATH\n+\n+/* Define if there is no xmalloc. */\n+#undef NO_XMALLOC\n+\n+/* Define to the address where bug reports for this package should be sent. */\n+#undef PACKAGE_BUGREPORT\n+\n+/* Define to the full name of this package. */\n+#undef PACKAGE_NAME\n+\n+/* Define to the full name and version of this package. */\n+#undef PACKAGE_STRING\n+\n+/* Define to the one symbol short name of this package. */\n+#undef PACKAGE_TARNAME\n+\n+/* Define to the version of this package. */\n+#undef PACKAGE_VERSION\n+\n+/* Define if <inttypes.h> exists and defines unusable PRI* macros. */\n+#undef PRI_MACROS_BROKEN\n+\n+/* If using the C implementation of alloca, define if you know the\n+   direction of stack growth for your system; otherwise it will be\n+   automatically deduced at run-time.\n+        STACK_DIRECTION > 0 => grows toward higher addresses\n+        STACK_DIRECTION < 0 => grows toward lower addresses\n+        STACK_DIRECTION = 0 => direction of growth unknown */\n+#undef STACK_DIRECTION\n+\n+/* Define to 1 if you have the ANSI C header files. */\n+#undef STDC_HEADERS\n+\n+/* Define to empty if `const' does not conform to ANSI C. */\n+#undef const\n+\n+/* Define as `__inline' if that's what the C compiler calls it, or to nothing\n+   if it is not supported. */\n+#undef inline\n+\n+/* Define to `long' if <sys/types.h> does not define. */\n+#undef off_t\n+\n+/* Define this entry point correctly. */\n+#undef relocate\n+\n+/* Define this entry point correctly. */\n+#undef set_relocation_prefix\n+\n+/* Define to `unsigned' if <sys/types.h> does not define. */\n+#undef size_t\n+\n+/* Define to unsigned long or unsigned long long if <stdint.h> and\n+   <inttypes.h> don't define. */\n+#undef uintmax_t"}, {"sha": "240a501760958fb294e9d0282e568e49a8ed44b9", "filename": "intl/configure", "status": "added", "additions": 7970, "deletions": 0, "changes": 7970, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfigure?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82"}, {"sha": "45735067c04be4b8cfb61c3b5fa15b94eafb503e", "filename": "intl/configure.in", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfigure.in?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,27 @@\n+AC_PREREQ(2.13)\n+AC_INIT(gettext.c)\n+AC_CONFIG_AUX_DIR(..)\n+AC_CONFIG_HEADER(config.h)\n+AM_GNU_GETTEXT_VERSION(0.12.1)\n+AM_GNU_GETTEXT\n+\n+dnl This replaces the extensive use of DEFS in the original Makefile.in.\n+AC_DEFINE_UNQUOTED(LOCALEDIR, \"$localedir\",\n+[Define to the directory holding the locale files.])\n+AC_DEFINE_UNQUOTED(LOCALE_ALIAS_PATH, \"$aliaspath\",\n+[Define to the locale alias path.])\n+AC_DEFINE_UNQUOTED(LIBDIR, \"$libdir\",\n+[Define to the library directory.])\n+AC_DEFINE_UNQUOTED(INSTALLDIR, \"$libdir\",\n+[Define to the installation directory.])\n+AC_DEFINE(IN_LIBINTL, 1, [Define because this is libintl.])\n+AC_DEFINE(IN_LIBRARY, 1, [Define because this is a library.])\n+AC_DEFINE(DEPENDS_ON_LIBICONV, 1, [Define because we depend on libiconv.])\n+AC_DEFINE(ENABLE_RELOCATABLE, 1, [Define to enable relocation.])\n+AC_DEFINE(NO_XMALLOC, 1, [Define if there is no xmalloc.])\n+AC_DEFINE(set_relocation_prefix, libintl_set_relocation_prefix,\n+[Define this entry point correctly.])\n+AC_DEFINE(relocate, libintl_relocate,\n+[Define this entry point correctly.])\n+\n+AC_OUTPUT(Makefile)"}, {"sha": "ca6a1c82d460cefeb1a8c4cc68ecb28b0af14531", "filename": "intl/dcgettext.c", "status": "renamed", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdcgettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdcgettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fdcgettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the dcgettext(3) function.\n-   Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -37,8 +37,8 @@\n # define DCGETTEXT __dcgettext\n # define DCIGETTEXT __dcigettext\n #else\n-# define DCGETTEXT dcgettext__\n-# define DCIGETTEXT dcigettext__\n+# define DCGETTEXT libintl_dcgettext\n+# define DCIGETTEXT libintl_dcigettext\n #endif\n \n /* Look up MSGID in the DOMAINNAME message catalog for the current CATEGORY\n@@ -54,5 +54,6 @@ DCGETTEXT (domainname, msgid, category)\n \n #ifdef _LIBC\n /* Alias for function name in GNU C Library.  */\n+INTDEF(__dcgettext)\n weak_alias (__dcgettext, dcgettext);\n #endif", "previous_filename": "gcc/intl/dcgettext.c"}, {"sha": "f6edb95c005996f72716d29a35fa3918752c49f5", "filename": "intl/dcigettext.c", "status": "renamed", "additions": 159, "deletions": 186, "changes": 345, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdcigettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdcigettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fdcigettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the internal dcigettext function.\n-   Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1999, 2000-2003 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -33,14 +33,19 @@\n # define alloca __builtin_alloca\n # define HAVE_ALLOCA 1\n #else\n-# if defined HAVE_ALLOCA_H || defined _LIBC\n-#  include <alloca.h>\n+# ifdef _MSC_VER\n+#  include <malloc.h>\n+#  define alloca _alloca\n # else\n-#  ifdef _AIX\n- #pragma alloca\n+#  if defined HAVE_ALLOCA_H || defined _LIBC\n+#   include <alloca.h>\n #  else\n-#   ifndef alloca\n+#   ifdef _AIX\n+ #pragma alloca\n+#   else\n+#    ifndef alloca\n char *alloca ();\n+#    endif\n #   endif\n #  endif\n # endif\n@@ -56,25 +61,34 @@ extern int errno;\n \n #include <stddef.h>\n #include <stdlib.h>\n-\n #include <string.h>\n-#if !HAVE_STRCHR && !defined _LIBC\n-# ifndef strchr\n-#  define strchr index\n-# endif\n-#endif\n \n #if defined HAVE_UNISTD_H || defined _LIBC\n # include <unistd.h>\n #endif\n \n #include <locale.h>\n \n+#ifdef _LIBC\n+  /* Guess whether integer division by zero raises signal SIGFPE.\n+     Set to 1 only if you know for sure.  In case of doubt, set to 0.  */\n+# if defined __alpha__ || defined __arm__ || defined __i386__ \\\n+     || defined __m68k__ || defined __s390__\n+#  define INTDIV0_RAISES_SIGFPE 1\n+# else\n+#  define INTDIV0_RAISES_SIGFPE 0\n+# endif\n+#endif\n+#if !INTDIV0_RAISES_SIGFPE\n+# include <signal.h>\n+#endif\n+\n #if defined HAVE_SYS_PARAM_H || defined _LIBC\n # include <sys/param.h>\n #endif\n \n #include \"gettextP.h\"\n+#include \"plural-exp.h\"\n #ifdef _LIBC\n # include <libintl.h>\n #else\n@@ -107,10 +121,10 @@ extern int errno;\n    names than the internal variables in GNU libc, otherwise programs\n    using libintl.a cannot be linked statically.  */\n #if !defined _LIBC\n-# define _nl_default_default_domain _nl_default_default_domain__\n-# define _nl_current_default_domain _nl_current_default_domain__\n-# define _nl_default_dirname _nl_default_dirname__\n-# define _nl_domain_bindings _nl_domain_bindings__\n+# define _nl_default_default_domain libintl_nl_default_default_domain\n+# define _nl_current_default_domain libintl_nl_current_default_domain\n+# define _nl_default_dirname libintl_nl_default_dirname\n+# define _nl_domain_bindings libintl_nl_domain_bindings\n #endif\n \n /* Some compilers, like SunOS4 cc, don't have offsetof in <stddef.h>.  */\n@@ -123,8 +137,7 @@ extern int errno;\n #ifdef _LIBC\n /* Rename the non ANSI C functions.  This is required by the standard\n    because some ANSI C functions will require linking with this object\n-   file and the name space must not be polluted.\n-   GCC LOCAL: Don't use #elif.  */\n+   file and the name space must not be polluted.  */\n # define getcwd __getcwd\n # ifndef stpcpy\n #  define stpcpy __stpcpy\n@@ -135,9 +148,7 @@ extern int errno;\n char *getwd ();\n #  define getcwd(buf, max) getwd (buf)\n # else\n-#  if !defined HAVE_DECL_GETCWD\n char *getcwd ();\n-#  endif\n # endif\n # ifndef HAVE_STPCPY\n static char *stpcpy PARAMS ((char *dest, const char *src));\n@@ -201,16 +212,6 @@ static void *mempcpy PARAMS ((void *dest, const void *src, size_t n));\n # define IS_PATH_WITH_DIR(P) (strchr (P, '/') != NULL)\n #endif\n \n-/* XPG3 defines the result of `setlocale (category, NULL)' as:\n-   ``Directs `setlocale()' to query `category' and return the current\n-     setting of `local'.''\n-   However it does not specify the exact format.  Neither do SUSV2 and\n-   ISO C 99.  So we can use this feature only on selected systems (e.g.\n-   those using GNU C Library).  */\n-#if defined _LIBC || (defined __GNU_LIBRARY__ && __GNU_LIBRARY__ >= 2)\n-# define HAVE_LOCALE_NULL\n-#endif\n-\n /* This is the type used for the search tree where known translations\n    are stored.  */\n struct known_translation_t\n@@ -275,15 +276,28 @@ transcmp (p1, p2)\n }\n #endif\n \n+#ifndef INTVARDEF\n+# define INTVARDEF(name)\n+#endif\n+#ifndef INTUSE\n+# define INTUSE(name) name\n+#endif\n+\n /* Name of the default domain used for gettext(3) prior any call to\n    textdomain(3).  The default value for this is \"messages\".  */\n-const char _nl_default_default_domain[] = \"messages\";\n+const char _nl_default_default_domain[] attribute_hidden = \"messages\";\n \n /* Value used as the default domain for gettext(3).  */\n-const char *_nl_current_default_domain = _nl_default_default_domain;\n+const char *_nl_current_default_domain attribute_hidden\n+     = _nl_default_default_domain;\n \n /* Contains the default location of the message catalogs.  */\n+#if defined __EMX__\n+extern const char _nl_default_dirname[];\n+#else\n const char _nl_default_dirname[] = LOCALEDIR;\n+INTVARDEF (_nl_default_dirname)\n+#endif\n \n /* List with bindings of specific domains created by bindtextdomain()\n    calls.  */\n@@ -295,19 +309,22 @@ static char *plural_lookup PARAMS ((struct loaded_l10nfile *domain,\n \t\t\t\t    const char *translation,\n \t\t\t\t    size_t translation_len))\n      internal_function;\n-static unsigned long int plural_eval PARAMS ((struct expression *pexp,\n-\t\t\t\t\t      unsigned long int n))\n-     internal_function;\n-static const char *category_to_name PARAMS ((int category)) internal_function;\n static const char *guess_category_value PARAMS ((int category,\n \t\t\t\t\t\t const char *categoryname))\n      internal_function;\n+#ifdef _LIBC\n+# include \"../locale/localeinfo.h\"\n+# define category_to_name(category)\t_nl_category_names[category]\n+#else\n+static const char *category_to_name PARAMS ((int category)) internal_function;\n+#endif\n \n \n /* For those loosing systems which don't have `alloca' we have to add\n    some additional code emulating it.  */\n #ifdef HAVE_ALLOCA\n /* Nothing has to be done.  */\n+# define freea(p) /* nothing */\n # define ADD_BLOCK(list, address) /* nothing */\n # define FREE_BLOCKS(list) /* nothing */\n #else\n@@ -332,11 +349,13 @@ struct block_list\n     while (list != NULL) {\t\t\t\t\t\t      \\\n       struct block_list *old = list;\t\t\t\t\t      \\\n       list = list->next;\t\t\t\t\t\t      \\\n+      free (old->address);\t\t\t\t\t\t      \\\n       free (old);\t\t\t\t\t\t\t      \\\n     }\t\t\t\t\t\t\t\t\t      \\\n   } while (0)\n # undef alloca\n # define alloca(size) (malloc (size))\n+# define freea(p) free (p)\n #endif\t/* have alloca */\n \n \n@@ -360,12 +379,12 @@ typedef unsigned char transmem_block_t;\n #ifdef _LIBC\n # define DCIGETTEXT __dcigettext\n #else\n-# define DCIGETTEXT dcigettext__\n+# define DCIGETTEXT libintl_dcigettext\n #endif\n \n /* Lock variable to protect the global data in the gettext implementation.  */\n #ifdef _LIBC\n-__libc_rwlock_define_initialized (, _nl_state_lock)\n+__libc_rwlock_define_initialized (, _nl_state_lock attribute_hidden)\n #endif\n \n /* Checking whether the binaries runs SUID must be done and glibc provides\n@@ -398,6 +417,9 @@ static int enable_secure;\n     }\n #endif\n \n+/* Get the function to evaluate the plural expression.  */\n+#include \"eval-plural.h\"\n+\n /* Look up MSGID in the DOMAINNAME message catalog for the current\n    CATEGORY locale and, if PLURAL is nonzero, search over string\n    depending on the plural form determined by N.  */\n@@ -433,6 +455,15 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n   if (msgid1 == NULL)\n     return NULL;\n \n+#ifdef _LIBC\n+  if (category < 0 || category >= __LC_LAST || category == LC_ALL)\n+    /* Bogus.  */\n+    return (plural == 0\n+\t    ? (char *) msgid1\n+\t    /* Use the Germanic plural rule.  */\n+\t    : n == 1 ? (char *) msgid1 : (char *) msgid2);\n+#endif\n+\n   __libc_rwlock_rdlock (_nl_state_lock);\n \n   /* If DOMAINNAME is NULL, we are interested in the default domain.  If\n@@ -441,6 +472,12 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n   if (domainname == NULL)\n     domainname = _nl_current_default_domain;\n \n+  /* OS/2 specific: backward compatibility with older libintl versions  */\n+#ifdef LC_MESSAGES_COMPAT\n+  if (category == LC_MESSAGES_COMPAT)\n+    category = LC_MESSAGES;\n+#endif\n+\n #if defined HAVE_TSEARCH || defined _LIBC\n   msgid_len = strlen (msgid1) + 1;\n \n@@ -453,6 +490,7 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n   search->category = category;\n \n   foundp = (struct known_translation_t **) tfind (search, &root, transcmp);\n+  freea (search);\n   if (foundp != NULL && (*foundp)->counter == _nl_msg_cat_cntr)\n     {\n       /* Now deal with plural.  */\n@@ -489,7 +527,7 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n     }\n \n   if (binding == NULL)\n-    dirname = (char *) _nl_default_dirname;\n+    dirname = (char *) INTUSE(_nl_default_dirname);\n   else if (IS_ABSOLUTE_PATH (binding->dirname))\n     dirname = binding->dirname;\n   else\n@@ -517,17 +555,9 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n \t}\n \n       if (ret == NULL)\n-\t{\n-\t  /* We cannot get the current working directory.  Don't signal an\n-\t     error but simply return the default string.  */\n-\t  FREE_BLOCKS (block_list);\n-\t  __libc_rwlock_unlock (_nl_state_lock);\n-\t  __set_errno (saved_errno);\n-\t  return (plural == 0\n-\t\t  ? (char *) msgid1\n-\t\t  /* Use the Germanic plural rule.  */\n-\t\t  : n == 1 ? (char *) msgid1 : (char *) msgid2);\n-\t}\n+\t/* We cannot get the current working directory.  Don't signal an\n+\t   error but simply return the default string.  */\n+\tgoto return_untranslated;\n \n       stpcpy (stpcpy (strchr (dirname, '\\0'), \"/\"), binding->dirname);\n     }\n@@ -584,16 +614,7 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n \t domain.  Return the MSGID.  */\n       if (strcmp (single_locale, \"C\") == 0\n \t  || strcmp (single_locale, \"POSIX\") == 0)\n-\t{\n-\t  FREE_BLOCKS (block_list);\n-\t  __libc_rwlock_unlock (_nl_state_lock);\n-\t  __set_errno (saved_errno);\n-\t  return (plural == 0\n-\t\t  ? (char *) msgid1\n-\t\t  /* Use the Germanic plural rule.  */\n-\t\t  : n == 1 ? (char *) msgid1 : (char *) msgid2);\n-\t}\n-\n+\tbreak;\n \n       /* Find structure describing the message catalog matching the\n \t DOMAINNAME and CATEGORY.  */\n@@ -625,7 +646,6 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n \t      /* Found the translation of MSGID1 in domain DOMAIN:\n \t\t starting at RETVAL, RETLEN bytes.  */\n \t      FREE_BLOCKS (block_list);\n-\t      __set_errno (saved_errno);\n #if defined HAVE_TSEARCH || defined _LIBC\n \t      if (foundp == NULL)\n \t\t{\n@@ -664,6 +684,8 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n \t\t  (*foundp)->translation_length = retlen;\n \t\t}\n #endif\n+\t      __set_errno (saved_errno);\n+\n \t      /* Now deal with plural.  */\n \t      if (plural)\n \t\tretval = plural_lookup (domain, n, retval, retlen);\n@@ -673,7 +695,30 @@ DCIGETTEXT (domainname, msgid1, msgid2, plural, n, category)\n \t    }\n \t}\n     }\n-  /* NOTREACHED */\n+\n+ return_untranslated:\n+  /* Return the untranslated MSGID.  */\n+  FREE_BLOCKS (block_list);\n+  __libc_rwlock_unlock (_nl_state_lock);\n+#ifndef _LIBC\n+  if (!ENABLE_SECURE)\n+    {\n+      extern void _nl_log_untranslated PARAMS ((const char *logfilename,\n+\t\t\t\t\t\tconst char *domainname,\n+\t\t\t\t\t\tconst char *msgid1,\n+\t\t\t\t\t\tconst char *msgid2,\n+\t\t\t\t\t\tint plural));\n+      const char *logfilename = getenv (\"GETTEXT_LOG_UNTRANSLATED\");\n+\n+      if (logfilename != NULL && logfilename[0] != '\\0')\n+\t_nl_log_untranslated (logfilename, domainname, msgid1, msgid2, plural);\n+    }\n+#endif\n+  __set_errno (saved_errno);\n+  return (plural == 0\n+\t  ? (char *) msgid1\n+\t  /* Use the Germanic plural rule.  */\n+\t  : n == 1 ? (char *) msgid1 : (char *) msgid2);\n }\n \n \n@@ -686,6 +731,7 @@ _nl_find_msg (domain_file, domainbinding, msgid, lengthp)\n      size_t *lengthp;\n {\n   struct loaded_domain *domain;\n+  nls_uint32 nstrings;\n   size_t act;\n   char *result;\n   size_t resultlen;\n@@ -698,8 +744,10 @@ _nl_find_msg (domain_file, domainbinding, msgid, lengthp)\n \n   domain = (struct loaded_domain *) domain_file->data;\n \n+  nstrings = domain->nstrings;\n+\n   /* Locate the MSGID and its translation.  */\n-  if (domain->hash_size > 2 && domain->hash_tab != NULL)\n+  if (domain->hash_tab != NULL)\n     {\n       /* Use the hashing table.  */\n       nls_uint32 len = strlen (msgid);\n@@ -709,22 +757,30 @@ _nl_find_msg (domain_file, domainbinding, msgid, lengthp)\n \n       while (1)\n \t{\n-\t  nls_uint32 nstr = W (domain->must_swap, domain->hash_tab[idx]);\n+\t  nls_uint32 nstr =\n+\t    W (domain->must_swap_hash_tab, domain->hash_tab[idx]);\n \n \t  if (nstr == 0)\n \t    /* Hash table entry is empty.  */\n \t    return NULL;\n \n-\t  /* Compare msgid with the original string at index nstr-1.\n+\t  nstr--;\n+\n+\t  /* Compare msgid with the original string at index nstr.\n \t     We compare the lengths with >=, not ==, because plural entries\n \t     are represented by strings with an embedded NUL.  */\n-\t  if (W (domain->must_swap, domain->orig_tab[nstr - 1].length) >= len\n-\t      && (strcmp (msgid,\n-\t\t\t  domain->data + W (domain->must_swap,\n-\t\t\t\t\t    domain->orig_tab[nstr - 1].offset))\n-\t\t  == 0))\n+\t  if (nstr < nstrings\n+\t      ? W (domain->must_swap, domain->orig_tab[nstr].length) >= len\n+\t\t&& (strcmp (msgid,\n+\t\t\t    domain->data + W (domain->must_swap,\n+\t\t\t\t\t      domain->orig_tab[nstr].offset))\n+\t\t    == 0)\n+\t      : domain->orig_sysdep_tab[nstr - nstrings].length > len\n+\t\t&& (strcmp (msgid,\n+\t\t\t    domain->orig_sysdep_tab[nstr - nstrings].pointer)\n+\t\t    == 0))\n \t    {\n-\t      act = nstr - 1;\n+\t      act = nstr;\n \t      goto found;\n \t    }\n \n@@ -742,8 +798,7 @@ _nl_find_msg (domain_file, domainbinding, msgid, lengthp)\n       size_t top, bottom;\n \n       bottom = 0;\n-      act = 0;\n-      top = domain->nstrings;\n+      top = nstrings;\n       while (bottom < top)\n \t{\n \t  int cmp_val;\n@@ -766,9 +821,17 @@ _nl_find_msg (domain_file, domainbinding, msgid, lengthp)\n  found:\n   /* The translation was found at index ACT.  If we have to convert the\n      string to use a different character set, this is the time.  */\n-  result = ((char *) domain->data\n-\t    + W (domain->must_swap, domain->trans_tab[act].offset));\n-  resultlen = W (domain->must_swap, domain->trans_tab[act].length) + 1;\n+  if (act < nstrings)\n+    {\n+      result = (char *)\n+\t(domain->data + W (domain->must_swap, domain->trans_tab[act].offset));\n+      resultlen = W (domain->must_swap, domain->trans_tab[act].length) + 1;\n+    }\n+  else\n+    {\n+      result = (char *) domain->trans_sysdep_tab[act - nstrings].pointer;\n+      resultlen = domain->trans_sysdep_tab[act - nstrings].length;\n+    }\n \n #if defined _LIBC || HAVE_ICONV\n   if (domain->codeset_cntr\n@@ -801,8 +864,9 @@ _nl_find_msg (domain_file, domainbinding, msgid, lengthp)\n \t NULs.  */\n \n       if (domain->conv_tab == NULL\n-\t  && ((domain->conv_tab = (char **) calloc (domain->nstrings,\n-\t\t\t\t\t\t    sizeof (char *)))\n+\t  && ((domain->conv_tab =\n+\t\t (char **) calloc (nstrings + domain->n_sysdep_strings,\n+\t\t\t\t   sizeof (char *)))\n \t      == NULL))\n \t/* Mark that we didn't succeed allocating a table.  */\n \tdomain->conv_tab = (char **) -1;\n@@ -1008,88 +1072,7 @@ plural_lookup (domain, n, translation, translation_len)\n   return (char *) p;\n }\n \n-\n-/* Function to evaluate the plural expression and return an index value.  */\n-static unsigned long int\n-internal_function\n-plural_eval (pexp, n)\n-     struct expression *pexp;\n-     unsigned long int n;\n-{\n-  switch (pexp->nargs)\n-    {\n-    case 0:\n-      switch (pexp->operation)\n-\t{\n-\tcase var:\n-\t  return n;\n-\tcase num:\n-\t  return pexp->val.num;\n-\tdefault:\n-\t  break;\n-\t}\n-      /* NOTREACHED */\n-      break;\n-    case 1:\n-      {\n-\t/* pexp->operation must be lnot.  */\n-\tunsigned long int arg = plural_eval (pexp->val.args[0], n);\n-\treturn ! arg;\n-      }\n-    case 2:\n-      {\n-\tunsigned long int leftarg = plural_eval (pexp->val.args[0], n);\n-\tif (pexp->operation == lor)\n-\t  return leftarg || plural_eval (pexp->val.args[1], n);\n-\telse if (pexp->operation == land)\n-\t  return leftarg && plural_eval (pexp->val.args[1], n);\n-\telse\n-\t  {\n-\t    unsigned long int rightarg = plural_eval (pexp->val.args[1], n);\n-\n-\t    switch (pexp->operation)\n-\t      {\n-\t      case mult:\n-\t\treturn leftarg * rightarg;\n-\t      case divide:\n-\t\treturn leftarg / rightarg;\n-\t      case module:\n-\t\treturn leftarg % rightarg;\n-\t      case plus:\n-\t\treturn leftarg + rightarg;\n-\t      case minus:\n-\t\treturn leftarg - rightarg;\n-\t      case less_than:\n-\t\treturn leftarg < rightarg;\n-\t      case greater_than:\n-\t\treturn leftarg > rightarg;\n-\t      case less_or_equal:\n-\t\treturn leftarg <= rightarg;\n-\t      case greater_or_equal:\n-\t\treturn leftarg >= rightarg;\n-\t      case equal:\n-\t\treturn leftarg == rightarg;\n-\t      case not_equal:\n-\t\treturn leftarg != rightarg;\n-\t      default:\n-\t\tbreak;\n-\t      }\n-\t  }\n-\t/* NOTREACHED */\n-\tbreak;\n-      }\n-    case 3:\n-      {\n-\t/* pexp->operation must be qmop.  */\n-\tunsigned long int boolarg = plural_eval (pexp->val.args[0], n);\n-\treturn plural_eval (pexp->val.args[boolarg ? 1 : 2], n);\n-      }\n-    }\n-  /* NOTREACHED */\n-  return 0;\n-}\n-\n-\n+#ifndef _LIBC\n /* Return string representation of locale CATEGORY.  */\n static const char *\n internal_function\n@@ -1149,6 +1132,7 @@ category_to_name (category)\n \n   return retval;\n }\n+#endif\n \n /* Guess value of current locale from value of the environment variables.  */\n static const char *\n@@ -1159,9 +1143,7 @@ guess_category_value (category, categoryname)\n {\n   const char *language;\n   const char *retval;\n-  (void) category;  /* shut up compiler */\n-  (void) categoryname;  /* ditto */\n-  \n+\n   /* The highest priority value is the `LANGUAGE' environment\n      variable.  But we don't use the value if the currently selected\n      locale is the C locale.  This is a GNU extension.  */\n@@ -1172,27 +1154,21 @@ guess_category_value (category, categoryname)\n   /* We have to proceed with the POSIX methods of looking to `LC_ALL',\n      `LC_xxx', and `LANG'.  On some systems this can be done by the\n      `setlocale' function itself.  */\n-#if defined _LIBC || (defined HAVE_SETLOCALE && defined HAVE_LC_MESSAGES && defined HAVE_LOCALE_NULL)\n-  retval = setlocale (category, NULL);\n+#ifdef _LIBC\n+  retval = __current_locale_name (category);\n #else\n-  /* Setting of LC_ALL overwrites all other.  */\n-  retval = getenv (\"LC_ALL\");\n-  if (retval == NULL || retval[0] == '\\0')\n-    {\n-      /* Next comes the name of the desired category.  */\n-      retval = getenv (categoryname);\n-      if (retval == NULL || retval[0] == '\\0')\n-\t{\n-\t  /* Last possibility is the LANG environment variable.  */\n-\t  retval = getenv (\"LANG\");\n-\t  if (retval == NULL || retval[0] == '\\0')\n-\t    /* We use C as the default domain.  POSIX says this is\n-\t       implementation defined.  */\n-\t    return \"C\";\n-\t}\n-    }\n+  retval = _nl_locale_name (category, categoryname);\n #endif\n \n+  /* Ignore LANGUAGE if the locale is set to \"C\" because\n+     1. \"C\" locale usually uses the ASCII encoding, and most international\n+\tmessages use non-ASCII characters. These characters get displayed\n+\tas question marks (if using glibc's iconv()) or as invalid 8-bit\n+\tcharacters (because other iconv()s refuse to convert most non-ASCII\n+\tcharacters to ASCII). In any case, the output is ugly.\n+     2. The precise output of some programs in the \"C\" locale is specified\n+\tby POSIX and should not depend on environment variables like\n+\t\"LANGUAGE\".  We allow such programs to use gettext().  */\n   return language != NULL && strcmp (retval, \"C\") != 0 ? language : retval;\n }\n \n@@ -1229,16 +1205,15 @@ mempcpy (dest, src, n)\n #ifdef _LIBC\n /* If we want to free all resources we have to do some work at\n    program's end.  */\n-static void __attribute__ ((unused))\n-free_mem (void)\n+libc_freeres_fn (free_mem)\n {\n   void *old;\n \n   while (_nl_domain_bindings != NULL)\n     {\n       struct binding *oldp = _nl_domain_bindings;\n       _nl_domain_bindings = _nl_domain_bindings->next;\n-      if (oldp->dirname != _nl_default_dirname)\n+      if (oldp->dirname != INTUSE(_nl_default_dirname))\n \t/* Yes, this is a pointer comparison.  */\n \tfree (oldp->dirname);\n       free (oldp->codeset);\n@@ -1260,6 +1235,4 @@ free_mem (void)\n       free (old);\n     }\n }\n-\n-text_set_element (__libc_subfreeres, free_mem);\n #endif", "previous_filename": "gcc/intl/dcigettext.c"}, {"sha": "3a3404e2cc244af4047791d50b207816e8f8315d", "filename": "intl/dcngettext.c", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdcngettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdcngettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fdcngettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the dcngettext(3) function.\n-   Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -37,8 +37,8 @@\n # define DCNGETTEXT __dcngettext\n # define DCIGETTEXT __dcigettext\n #else\n-# define DCNGETTEXT dcngettext__\n-# define DCIGETTEXT dcigettext__\n+# define DCNGETTEXT libintl_dcngettext\n+# define DCIGETTEXT libintl_dcigettext\n #endif\n \n /* Look up MSGID in the DOMAINNAME message catalog for the current CATEGORY", "previous_filename": "gcc/intl/dcngettext.c"}, {"sha": "cf5b4037f07c6f9346c0809c53e1cdfb2cfb1f21", "filename": "intl/dgettext.c", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdgettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdgettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fdgettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the dgettext(3) function.\n-   Copyright (C) 1995-1997, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1997, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -37,10 +37,10 @@\n    prefix.  So we have to make a difference here.  */\n #ifdef _LIBC\n # define DGETTEXT __dgettext\n-# define DCGETTEXT __dcgettext\n+# define DCGETTEXT INTUSE(__dcgettext)\n #else\n-# define DGETTEXT dgettext__\n-# define DCGETTEXT dcgettext__\n+# define DGETTEXT libintl_dgettext\n+# define DCGETTEXT libintl_dcgettext\n #endif\n \n /* Look up MSGID in the DOMAINNAME message catalog of the current", "previous_filename": "gcc/intl/dgettext.c"}, {"sha": "67fd030f255fc9efc322b5e3db5c050cab46b180", "filename": "intl/dngettext.c", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdngettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fdngettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fdngettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the dngettext(3) function.\n-   Copyright (C) 1995-1997, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1997, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -39,8 +39,8 @@\n # define DNGETTEXT __dngettext\n # define DCNGETTEXT __dcngettext\n #else\n-# define DNGETTEXT dngettext__\n-# define DCNGETTEXT dcngettext__\n+# define DNGETTEXT libintl_dngettext\n+# define DCNGETTEXT libintl_dcngettext\n #endif\n \n /* Look up MSGID in the DOMAINNAME message catalog of the current", "previous_filename": "gcc/intl/dngettext.c"}, {"sha": "19c7ca6aee34c79295dab941b0471acaf64d254e", "filename": "intl/eval-plural.h", "status": "added", "additions": 114, "deletions": 0, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Feval-plural.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Feval-plural.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Feval-plural.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,114 @@\n+/* Plural expression evaluation.\n+   Copyright (C) 2000-2002 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifndef STATIC\n+#define STATIC static\n+#endif\n+\n+/* Evaluate the plural expression and return an index value.  */\n+STATIC unsigned long int plural_eval PARAMS ((struct expression *pexp,\n+\t\t\t\t\t      unsigned long int n))\n+     internal_function;\n+\n+STATIC\n+unsigned long int\n+internal_function\n+plural_eval (pexp, n)\n+     struct expression *pexp;\n+     unsigned long int n;\n+{\n+  switch (pexp->nargs)\n+    {\n+    case 0:\n+      switch (pexp->operation)\n+\t{\n+\tcase var:\n+\t  return n;\n+\tcase num:\n+\t  return pexp->val.num;\n+\tdefault:\n+\t  break;\n+\t}\n+      /* NOTREACHED */\n+      break;\n+    case 1:\n+      {\n+\t/* pexp->operation must be lnot.  */\n+\tunsigned long int arg = plural_eval (pexp->val.args[0], n);\n+\treturn ! arg;\n+      }\n+    case 2:\n+      {\n+\tunsigned long int leftarg = plural_eval (pexp->val.args[0], n);\n+\tif (pexp->operation == lor)\n+\t  return leftarg || plural_eval (pexp->val.args[1], n);\n+\telse if (pexp->operation == land)\n+\t  return leftarg && plural_eval (pexp->val.args[1], n);\n+\telse\n+\t  {\n+\t    unsigned long int rightarg = plural_eval (pexp->val.args[1], n);\n+\n+\t    switch (pexp->operation)\n+\t      {\n+\t      case mult:\n+\t\treturn leftarg * rightarg;\n+\t      case divide:\n+#if !INTDIV0_RAISES_SIGFPE\n+\t\tif (rightarg == 0)\n+\t\t  raise (SIGFPE);\n+#endif\n+\t\treturn leftarg / rightarg;\n+\t      case module:\n+#if !INTDIV0_RAISES_SIGFPE\n+\t\tif (rightarg == 0)\n+\t\t  raise (SIGFPE);\n+#endif\n+\t\treturn leftarg % rightarg;\n+\t      case plus:\n+\t\treturn leftarg + rightarg;\n+\t      case minus:\n+\t\treturn leftarg - rightarg;\n+\t      case less_than:\n+\t\treturn leftarg < rightarg;\n+\t      case greater_than:\n+\t\treturn leftarg > rightarg;\n+\t      case less_or_equal:\n+\t\treturn leftarg <= rightarg;\n+\t      case greater_or_equal:\n+\t\treturn leftarg >= rightarg;\n+\t      case equal:\n+\t\treturn leftarg == rightarg;\n+\t      case not_equal:\n+\t\treturn leftarg != rightarg;\n+\t      default:\n+\t\tbreak;\n+\t      }\n+\t  }\n+\t/* NOTREACHED */\n+\tbreak;\n+      }\n+    case 3:\n+      {\n+\t/* pexp->operation must be qmop.  */\n+\tunsigned long int boolarg = plural_eval (pexp->val.args[0], n);\n+\treturn plural_eval (pexp->val.args[boolarg ? 1 : 2], n);\n+      }\n+    }\n+  /* NOTREACHED */\n+  return 0;\n+}"}, {"sha": "2985064c924952a07d171e26f27ad159da6d4867", "filename": "intl/explodename.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fexplodename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fexplodename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fexplodename.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "previous_filename": "gcc/intl/explodename.c"}, {"sha": "d24276442cb19c0038fe48b224744da953abe7de", "filename": "intl/finddomain.c", "status": "renamed", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Ffinddomain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Ffinddomain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Ffinddomain.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -178,8 +178,7 @@ _nl_find_domain (dirname, locale, domainname, domainbinding)\n \n \n #ifdef _LIBC\n-static void __attribute__ ((unused))\n-free_mem (void)\n+libc_freeres_fn (free_mem)\n {\n   struct loaded_l10nfile *runp = _nl_loaded_domains;\n \n@@ -193,6 +192,4 @@ free_mem (void)\n       free (here);\n     }\n }\n-\n-text_set_element (__libc_subfreeres, free_mem);\n #endif", "previous_filename": "gcc/intl/finddomain.c"}, {"sha": "43d689f55201f34c77b863c30f0717fe7fdc106b", "filename": "intl/gettext.c", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fgettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fgettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fgettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of gettext(3) function.\n-   Copyright (C) 1995, 1997, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995, 1997, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -42,10 +42,10 @@\n    prefix.  So we have to make a difference here.  */\n #ifdef _LIBC\n # define GETTEXT __gettext\n-# define DCGETTEXT __dcgettext\n+# define DCGETTEXT INTUSE(__dcgettext)\n #else\n-# define GETTEXT gettext__\n-# define DCGETTEXT dcgettext__\n+# define GETTEXT libintl_gettext\n+# define DCGETTEXT libintl_dcgettext\n #endif\n \n /* Look up MSGID in the current default message catalog for the current", "previous_filename": "gcc/intl/gettext.c"}, {"sha": "82135aa0f42ea7502afac89d59638e2d9093c326", "filename": "intl/gettextP.h", "status": "renamed", "additions": 59, "deletions": 96, "changes": 155, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FgettextP.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2FgettextP.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FgettextP.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Header describing internals of libintl library.\n-   Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1999, 2000-2003 Free Software Foundation, Inc.\n    Written by Ulrich Drepper <drepper@cygnus.com>, 1995.\n \n    This program is free software; you can redistribute it and/or modify it\n@@ -32,12 +32,12 @@\n \n #include \"loadinfo.h\"\n \n-#include \"gettext.h\"\t\t/* Get nls_uint32.  */\n+#include \"gmo.h\"\t\t/* Get nls_uint32.  */\n \n /* @@ end of prolog @@ */\n \n #ifndef PARAMS\n-# if __STDC__\n+# if __STDC__ || defined __GNUC__ || defined __SUNPRO_C || defined __cplusplus || __PROTOTYPES\n #  define PARAMS(args) args\n # else\n #  define PARAMS(args) ()\n@@ -48,6 +48,10 @@\n # define internal_function\n #endif\n \n+#ifndef attribute_hidden\n+# define attribute_hidden\n+#endif\n+\n /* Tell the compiler when a conditional or integer expression is\n    almost always true or almost always false.  */\n #ifndef HAVE_BUILTIN_EXPECT\n@@ -63,76 +67,59 @@\n # include <byteswap.h>\n # define SWAP(i) bswap_32 (i)\n #else\n-/* GCC LOCAL: Prototype first to avoid warnings; change argument to \n-   unsigned int to avoid K&R type promotion errors with 64-bit \"int\".  */\n-static inline nls_uint32 SWAP PARAMS ((unsigned int));\n static inline nls_uint32\n-SWAP (ii)\n-     unsigned int ii;\n+SWAP (i)\n+     nls_uint32 i;\n {\n-  nls_uint32 i = ii;\n   return (i << 24) | ((i & 0xff00) << 8) | ((i >> 8) & 0xff00) | (i >> 24);\n }\n #endif\n \n \n-/* This is the representation of the expressions to determine the\n-   plural form.  */\n-struct expression\n-{\n-  int nargs;\t\t\t/* Number of arguments.  */\n-  enum operator\n-  {\n-    /* Without arguments:  */\n-    var,\t\t\t/* The variable \"n\".  */\n-    num,\t\t\t/* Decimal number.  */\n-    /* Unary operators:  */\n-    lnot,\t\t\t/* Logical NOT.  */\n-    /* Binary operators:  */\n-    mult,\t\t\t/* Multiplication.  */\n-    divide,\t\t\t/* Division.  */\n-    module,\t\t\t/* Module operation.  */\n-    plus,\t\t\t/* Addition.  */\n-    minus,\t\t\t/* Subtraction.  */\n-    less_than,\t\t\t/* Comparison.  */\n-    greater_than,\t\t/* Comparison.  */\n-    less_or_equal,\t\t/* Comparison.  */\n-    greater_or_equal,\t\t/* Comparison.  */\n-    equal,\t\t\t/* Comparision for equality.  */\n-    not_equal,\t\t\t/* Comparision for inequality.  */\n-    land,\t\t\t/* Logical AND.  */\n-    lor,\t\t\t/* Logical OR.  */\n-    /* Ternary operators:  */\n-    qmop\t\t\t/* Question mark operator.  */\n-  } operation;\n-  union\n-  {\n-    unsigned long int num;\t/* Number value for `num'.  */\n-    struct expression *args[3];\t/* Up to three arguments.  */\n-  } val;\n-};\n-\n-/* This is the data structure to pass information to the parser and get\n-   the result in a thread-safe way.  */\n-struct parse_args\n+/* In-memory representation of system dependent string.  */\n+struct sysdep_string_desc\n {\n-  const char *cp;\n-  struct expression *res;\n+  /* Length of addressed string, including the trailing NUL.  */\n+  size_t length;\n+  /* Pointer to addressed string.  */\n+  const char *pointer;\n };\n \n-\n /* The representation of an opened message catalog.  */\n struct loaded_domain\n {\n+  /* Pointer to memory containing the .mo file.  */\n   const char *data;\n+  /* 1 if the memory is mmap()ed, 0 if the memory is malloc()ed.  */\n   int use_mmap;\n+  /* Size of mmap()ed memory.  */\n   size_t mmap_size;\n+  /* 1 if the .mo file uses a different endianness than this machine.  */\n   int must_swap;\n+  /* Pointer to additional malloc()ed memory.  */\n+  void *malloced;\n+\n+  /* Number of static strings pairs.  */\n   nls_uint32 nstrings;\n-  struct string_desc *orig_tab;\n-  struct string_desc *trans_tab;\n+  /* Pointer to descriptors of original strings in the file.  */\n+  const struct string_desc *orig_tab;\n+  /* Pointer to descriptors of translated strings in the file.  */\n+  const struct string_desc *trans_tab;\n+\n+  /* Number of system dependent strings pairs.  */\n+  nls_uint32 n_sysdep_strings;\n+  /* Pointer to descriptors of original sysdep strings.  */\n+  const struct sysdep_string_desc *orig_sysdep_tab;\n+  /* Pointer to descriptors of translated sysdep strings.  */\n+  const struct sysdep_string_desc *trans_sysdep_tab;\n+\n+  /* Size of hash table.  */\n   nls_uint32 hash_size;\n-  nls_uint32 *hash_tab;\n+  /* Pointer to hash table.  */\n+  const nls_uint32 *hash_tab;\n+  /* 1 if the hash table uses a different endianness than this machine.  */\n+  int must_swap_hash_tab;\n+\n   int codeset_cntr;\n #ifdef _LIBC\n   __gconv_t conv;\n@@ -148,13 +135,12 @@ struct loaded_domain\n };\n \n /* We want to allocate a string at the end of the struct.  But ISO C\n-   doesn't allow zero sized arrays.\n-   GCC LOCAL: Always use 1, to avoid warnings.  */\n-/*#ifdef __GNUC__*/\n-/*# define ZERO 0*/\n-/*#else*/\n+   doesn't allow zero sized arrays.  */\n+#ifdef __GNUC__\n+# define ZERO 0\n+#else\n # define ZERO 1\n-/*#endif*/\n+#endif\n \n /* A set of settings bound to a message domain.  Used to store settings\n    from bindtextdomain() and bind_textdomain_codeset().  */\n@@ -172,6 +158,10 @@ struct binding\n    This variable is part of the external ABI of the GNU libintl.  */\n extern int _nl_msg_cat_cntr;\n \n+#ifndef _LIBC\n+const char *_nl_locale_name PARAMS ((int category, const char *categoryname));\n+#endif\n+\n struct loaded_l10nfile *_nl_find_domain PARAMS ((const char *__dirname,\n \t\t\t\t\t\t char *__locale,\n \t\t\t\t\t\t const char *__domainname,\n@@ -194,10 +184,6 @@ char *_nl_find_msg PARAMS ((struct loaded_l10nfile *domain_file,\n \t\t\t    const char *msgid, size_t *lengthp))\n      internal_function;\n \n-/* GCC LOCAL: This prototype moved here from next to its\n-   use in loadmsgcat.c.  */\n-extern const char *locale_charset PARAMS ((void)) internal_function;\n-     \n #ifdef _LIBC\n extern char *__gettext PARAMS ((const char *__msgid));\n extern char *__dgettext PARAMS ((const char *__domainname,\n@@ -222,38 +208,15 @@ extern char *__bindtextdomain PARAMS ((const char *__domainname,\n extern char *__bind_textdomain_codeset PARAMS ((const char *__domainname,\n \t\t\t\t\t\tconst char *__codeset));\n #else\n-extern char *gettext__ PARAMS ((const char *__msgid));\n-extern char *dgettext__ PARAMS ((const char *__domainname,\n-\t\t\t\t const char *__msgid));\n-extern char *dcgettext__ PARAMS ((const char *__domainname,\n-\t\t\t\t  const char *__msgid, int __category));\n-extern char *ngettext__ PARAMS ((const char *__msgid1, const char *__msgid2,\n-\t\t\t\t unsigned long int __n));\n-extern char *dngettext__ PARAMS ((const char *__domainname,\n-\t\t\t\t  const char *__msgid1, const char *__msgid2,\n-\t\t\t\t  unsigned long int __n));\n-extern char *dcngettext__ PARAMS ((const char *__domainname,\n-\t\t\t\t   const char *__msgid1, const char *__msgid2,\n-\t\t\t\t   unsigned long int __n, int __category));\n-extern char *dcigettext__ PARAMS ((const char *__domainname,\n-\t\t\t\t   const char *__msgid1, const char *__msgid2,\n-\t\t\t\t   int __plural, unsigned long int __n,\n-\t\t\t\t   int __category));\n-extern char *textdomain__ PARAMS ((const char *__domainname));\n-extern char *bindtextdomain__ PARAMS ((const char *__domainname,\n-\t\t\t\t       const char *__dirname));\n-extern char *bind_textdomain_codeset__ PARAMS ((const char *__domainname,\n-\t\t\t\t\t\tconst char *__codeset));\n-#endif\n-\n-#ifdef _LIBC\n-extern void __gettext_free_exp PARAMS ((struct expression *exp))\n-     internal_function;\n-extern int __gettextparse PARAMS ((void *arg));\n-#else\n-extern void gettext_free_exp__ PARAMS ((struct expression *exp))\n-     internal_function;\n-extern int gettextparse__ PARAMS ((void *arg));\n+/* Declare the exported libintl_* functions, in a way that allows us to\n+   call them under their real name.  */\n+# define _INTL_REDIRECT_MACROS\n+# include \"libintl.h\"\n+extern char *libintl_dcigettext PARAMS ((const char *__domainname,\n+\t\t\t\t\t const char *__msgid1,\n+\t\t\t\t\t const char *__msgid2,\n+\t\t\t\t\t int __plural, unsigned long int __n,\n+\t\t\t\t\t int __category));\n #endif\n \n /* @@ begin of epilog @@ */", "previous_filename": "gcc/intl/gettextP.h"}, {"sha": "d1fe4d6b8fd4a23eac6a13b8cd6114629d7c1ffe", "filename": "intl/gmo.h", "status": "renamed", "additions": 67, "deletions": 18, "changes": 85, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fgmo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fgmo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fgmo.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Description of GNU message catalog format: general file layout.\n-   Copyright (C) 1995, 1997, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995, 1997, 2000-2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -19,9 +19,7 @@\n #ifndef _GETTEXT_H\n #define _GETTEXT_H 1\n \n-#if HAVE_LIMITS_H || _LIBC\n-# include <limits.h>\n-#endif\n+#include <limits.h>\n \n /* @@ end of prolog @@ */\n \n@@ -36,27 +34,30 @@\n    to determine an unsigned integral type that is 32 bits wide.  An\n    alternative approach is to use autoconf's AC_CHECK_SIZEOF macro, but\n    as of version autoconf-2.13, the AC_CHECK_SIZEOF macro doesn't work\n-   when cross-compiling.  We use the maximum values for signed ints\n-   for the test to avoid using U suffixes.  */\n+   when cross-compiling.  */\n \n-#define INT_MAX_32_BITS 2147483647\n+#if __STDC__\n+# define UINT_MAX_32_BITS 4294967295U\n+#else\n+# define UINT_MAX_32_BITS 0xFFFFFFFF\n+#endif\n \n-/* If INT_MAX isn't defined, assume it's a 32-bit type.\n+/* If UINT_MAX isn't defined, assume it's a 32-bit type.\n    This should be valid for all systems GNU cares about because\n    that doesn't include 16-bit systems, and only modern systems\n    (that certainly have <limits.h>) have 64+-bit integral types.  */\n \n-#ifndef INT_MAX\n-# define INT_MAX UINT_MAX_32_BITS\n+#ifndef UINT_MAX\n+# define UINT_MAX UINT_MAX_32_BITS\n #endif\n \n-#if INT_MAX == INT_MAX_32_BITS\n-typedef unsigned int nls_uint32;\n+#if UINT_MAX == UINT_MAX_32_BITS\n+typedef unsigned nls_uint32;\n #else\n-# if SHRT_MAX == INT_MAX_32_BITS\n+# if USHRT_MAX == UINT_MAX_32_BITS\n typedef unsigned short nls_uint32;\n # else\n-#  if LONG_MAX == INT_MAX_32_BITS\n+#  if ULONG_MAX == UINT_MAX_32_BITS\n typedef unsigned long nls_uint32;\n #  else\n   /* The following line is intended to throw an error.  Using #error is\n@@ -74,26 +75,74 @@ struct mo_file_header\n   nls_uint32 magic;\n   /* The revision number of the file format.  */\n   nls_uint32 revision;\n+\n+  /* The following are only used in .mo files with major revision 0.  */\n+\n   /* The number of strings pairs.  */\n   nls_uint32 nstrings;\n   /* Offset of table with start offsets of original strings.  */\n   nls_uint32 orig_tab_offset;\n-  /* Offset of table with start offsets of translation strings.  */\n+  /* Offset of table with start offsets of translated strings.  */\n   nls_uint32 trans_tab_offset;\n-  /* Size of hashing table.  */\n+  /* Size of hash table.  */\n   nls_uint32 hash_tab_size;\n-  /* Offset of first hashing entry.  */\n+  /* Offset of first hash table entry.  */\n   nls_uint32 hash_tab_offset;\n+\n+  /* The following are only used in .mo files with minor revision >= 1.  */\n+\n+  /* The number of system dependent segments.  */\n+  nls_uint32 n_sysdep_segments;\n+  /* Offset of table describing system dependent segments.  */\n+  nls_uint32 sysdep_segments_offset;\n+  /* The number of system dependent strings pairs.  */\n+  nls_uint32 n_sysdep_strings;\n+  /* Offset of table with start offsets of original sysdep strings.  */\n+  nls_uint32 orig_sysdep_tab_offset;\n+  /* Offset of table with start offsets of translated sysdep strings.  */\n+  nls_uint32 trans_sysdep_tab_offset;\n };\n \n+/* Descriptor for static string contained in the binary .mo file.  */\n struct string_desc\n {\n-  /* Length of addressed string.  */\n+  /* Length of addressed string, not including the trailing NUL.  */\n+  nls_uint32 length;\n+  /* Offset of string in file.  */\n+  nls_uint32 offset;\n+};\n+\n+/* The following are only used in .mo files with minor revision >= 1.  */\n+\n+/* Descriptor for system dependent string segment.  */\n+struct sysdep_segment\n+{\n+  /* Length of addressed string, including the trailing NUL.  */\n   nls_uint32 length;\n   /* Offset of string in file.  */\n   nls_uint32 offset;\n };\n \n+/* Descriptor for system dependent string.  */\n+struct sysdep_string\n+{\n+  /* Offset of static string segments in file.  */\n+  nls_uint32 offset;\n+  /* Alternating sequence of static and system dependent segments.\n+     The last segment is a static segment, including the trailing NUL.  */\n+  struct segment_pair\n+  {\n+    /* Size of static segment.  */\n+    nls_uint32 segsize;\n+    /* Reference to system dependent string segment, or ~0 at the end.  */\n+    nls_uint32 sysdepref;\n+  } segments[1];\n+};\n+\n+/* Marker for the end of the segments[] array.  This has the value 0xFFFFFFFF,\n+   regardless whether 'int' is 16 bit, 32 bit, or 64 bit.  */\n+#define SEGMENTS_END ((nls_uint32) ~0)\n+\n /* @@ begin of epilog @@ */\n \n #endif\t/* gettext.h  */", "previous_filename": "gcc/intl/gettext.h"}, {"sha": "b267a87788f1c7eec5d8d3068577c264eeec429e", "filename": "intl/hash-string.h", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fhash-string.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fhash-string.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fhash-string.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -19,7 +19,7 @@\n /* @@ end of prolog @@ */\n \n #ifndef PARAMS\n-# if __STDC__\n+# if __STDC__ || defined __GNUC__ || defined __SUNPRO_C || defined __cplusplus || __PROTOTYPES\n #  define PARAMS(Args) Args\n # else\n #  define PARAMS(Args) ()", "previous_filename": "gcc/intl/hash-string.h"}, {"sha": "36b7af0f83ba45a509229861895232cde048426d", "filename": "intl/intl-compat.c", "status": "added", "additions": 151, "deletions": 0, "changes": 151, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fintl-compat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fintl-compat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fintl-compat.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,151 @@\n+/* intl-compat.c - Stub functions to call gettext functions from GNU gettext\n+   Library.\n+   Copyright (C) 1995, 2000-2003 Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifdef HAVE_CONFIG_H\n+# include <config.h>\n+#endif\n+\n+#include \"gettextP.h\"\n+\n+/* @@ end of prolog @@ */\n+\n+/* This file redirects the gettext functions (without prefix) to those\n+   defined in the included GNU libintl library (with \"libintl_\" prefix).\n+   It is compiled into libintl in order to make the AM_GNU_GETTEXT test\n+   of gettext <= 0.11.2 work with the libintl library >= 0.11.3 which\n+   has the redirections primarily in the <libintl.h> include file.\n+   It is also compiled into libgnuintl so that libgnuintl.so can be used\n+   as LD_PRELOADable library on glibc systems, to provide the extra\n+   features that the functions in the libc don't have (namely, logging).  */\n+\n+\n+#undef gettext\n+#undef dgettext\n+#undef dcgettext\n+#undef ngettext\n+#undef dngettext\n+#undef dcngettext\n+#undef textdomain\n+#undef bindtextdomain\n+#undef bind_textdomain_codeset\n+\n+\n+/* When building a DLL, we must export some functions.  Note that because\n+   the functions are only defined for binary backward compatibility, we\n+   don't need to use __declspec(dllimport) in any case.  */\n+#if defined _MSC_VER && BUILDING_DLL\n+# define DLL_EXPORTED __declspec(dllexport)\n+#else\n+# define DLL_EXPORTED\n+#endif\n+\n+\n+DLL_EXPORTED\n+char *\n+gettext (msgid)\n+     const char *msgid;\n+{\n+  return libintl_gettext (msgid);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+dgettext (domainname, msgid)\n+     const char *domainname;\n+     const char *msgid;\n+{\n+  return libintl_dgettext (domainname, msgid);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+dcgettext (domainname, msgid, category)\n+     const char *domainname;\n+     const char *msgid;\n+     int category;\n+{\n+  return libintl_dcgettext (domainname, msgid, category);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+ngettext (msgid1, msgid2, n)\n+     const char *msgid1;\n+     const char *msgid2;\n+     unsigned long int n;\n+{\n+  return libintl_ngettext (msgid1, msgid2, n);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+dngettext (domainname, msgid1, msgid2, n)\n+     const char *domainname;\n+     const char *msgid1;\n+     const char *msgid2;\n+     unsigned long int n;\n+{\n+  return libintl_dngettext (domainname, msgid1, msgid2, n);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+dcngettext (domainname, msgid1, msgid2, n, category)\n+     const char *domainname;\n+     const char *msgid1;\n+     const char *msgid2;\n+     unsigned long int n;\n+     int category;\n+{\n+  return libintl_dcngettext (domainname, msgid1, msgid2, n, category);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+textdomain (domainname)\n+     const char *domainname;\n+{\n+  return libintl_textdomain (domainname);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+bindtextdomain (domainname, dirname)\n+     const char *domainname;\n+     const char *dirname;\n+{\n+  return libintl_bindtextdomain (domainname, dirname);\n+}\n+\n+\n+DLL_EXPORTED\n+char *\n+bind_textdomain_codeset (domainname, codeset)\n+     const char *domainname;\n+     const char *codeset;\n+{\n+  return libintl_bind_textdomain_codeset (domainname, codeset);\n+}"}, {"sha": "ec8713f8ecf2e3ad135c6cb5da4585cda99247b7", "filename": "intl/l10nflist.c", "status": "renamed", "additions": 97, "deletions": 49, "changes": 146, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fl10nflist.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fl10nflist.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fl10nflist.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n+/* Copyright (C) 1995-1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n    Contributed by Ulrich Drepper <drepper@gnu.ai.mit.edu>, 1995.\n \n    This program is free software; you can redistribute it and/or modify it\n@@ -28,11 +28,6 @@\n #endif\n \n #include <string.h>\n-#if !HAVE_STRCHR && !defined _LIBC\n-# ifndef strchr\n-#  define strchr index\n-# endif\n-#endif\n \n #if defined _LIBC || defined HAVE_ARGZ_H\n # include <argz.h>\n@@ -67,6 +62,24 @@ static char *stpcpy PARAMS ((char *dest, const char *src));\n # endif\n #endif\n \n+/* Pathname support.\n+   ISSLASH(C)           tests whether C is a directory separator character.\n+   IS_ABSOLUTE_PATH(P)  tests whether P is an absolute path.  If it is not,\n+                        it may be concatenated to a directory pathname.\n+ */\n+#if defined _WIN32 || defined __WIN32__ || defined __EMX__ || defined __DJGPP__\n+  /* Win32, OS/2, DOS */\n+# define ISSLASH(C) ((C) == '/' || (C) == '\\\\')\n+# define HAS_DEVICE(P) \\\n+    ((((P)[0] >= 'A' && (P)[0] <= 'Z') || ((P)[0] >= 'a' && (P)[0] <= 'z')) \\\n+     && (P)[1] == ':')\n+# define IS_ABSOLUTE_PATH(P) (ISSLASH ((P)[0]) || HAS_DEVICE (P))\n+#else\n+  /* Unix */\n+# define ISSLASH(C) ((C) == '/')\n+# define IS_ABSOLUTE_PATH(P) ISSLASH ((P)[0])\n+#endif\n+\n /* Define function which are usually not available.  */\n \n #if !defined _LIBC && !defined HAVE___ARGZ_COUNT\n@@ -90,6 +103,10 @@ argz_count__ (argz, len)\n }\n # undef __argz_count\n # define __argz_count(argz, len) argz_count__ (argz, len)\n+#else\n+# ifdef _LIBC\n+#  define __argz_count(argz, len) INTUSE(__argz_count) (argz, len)\n+# endif\n #endif\t/* !_LIBC && !HAVE___ARGZ_COUNT */\n \n #if !defined _LIBC && !defined HAVE___ARGZ_STRINGIFY\n@@ -114,6 +131,11 @@ argz_stringify__ (argz, len, sep)\n }\n # undef __argz_stringify\n # define __argz_stringify(argz, len, sep) argz_stringify__ (argz, len, sep)\n+#else\n+# ifdef _LIBC\n+#  define __argz_stringify(argz, len, sep) \\\n+  INTUSE(__argz_stringify) (argz, len, sep)\n+# endif\n #endif\t/* !_LIBC && !HAVE___ARGZ_STRINGIFY */\n \n #if !defined _LIBC && !defined HAVE___ARGZ_NEXT\n@@ -181,12 +203,18 @@ _nl_make_l10nflist (l10nfile_list, dirlist, dirlist_len, mask, language,\n      int do_allocate;\n {\n   char *abs_filename;\n-  struct loaded_l10nfile *last = NULL;\n+  struct loaded_l10nfile **lastp;\n   struct loaded_l10nfile *retval;\n   char *cp;\n+  size_t dirlist_count;\n   size_t entries;\n   int cnt;\n \n+  /* If LANGUAGE contains an absolute directory specification, we ignore\n+     DIRLIST.  */\n+  if (IS_ABSOLUTE_PATH (language))\n+    dirlist_len = 0;\n+\n   /* Allocate room for the full file name.  */\n   abs_filename = (char *) malloc (dirlist_len\n \t\t\t\t  + strlen (language)\n@@ -204,22 +232,24 @@ _nl_make_l10nflist (l10nfile_list, dirlist, dirlist_len, mask, language,\n \t\t\t\t  + (((mask & CEN_SPONSOR) != 0\n \t\t\t\t      || (mask & CEN_REVISION) != 0)\n \t\t\t\t     ? (1 + ((mask & CEN_SPONSOR) != 0\n-\t\t\t\t\t     ? strlen (sponsor) + 1 : 0)\n+\t\t\t\t\t     ? strlen (sponsor) : 0)\n \t\t\t\t\t+ ((mask & CEN_REVISION) != 0\n \t\t\t\t\t   ? strlen (revision) + 1 : 0)) : 0)\n \t\t\t\t  + 1 + strlen (filename) + 1);\n \n   if (abs_filename == NULL)\n     return NULL;\n \n-  retval = NULL;\n-  last = NULL;\n-\n   /* Construct file name.  */\n-  memcpy (abs_filename, dirlist, dirlist_len);\n-  __argz_stringify (abs_filename, dirlist_len, PATH_SEPARATOR);\n-  cp = abs_filename + (dirlist_len - 1);\n-  *cp++ = '/';\n+  cp = abs_filename;\n+  if (dirlist_len > 0)\n+    {\n+      memcpy (cp, dirlist, dirlist_len);\n+      __argz_stringify (cp, dirlist_len, PATH_SEPARATOR);\n+      cp += dirlist_len;\n+      cp[-1] = '/';\n+    }\n+\n   cp = stpcpy (cp, language);\n \n   if ((mask & TERRITORY) != 0)\n@@ -266,7 +296,7 @@ _nl_make_l10nflist (l10nfile_list, dirlist, dirlist_len, mask, language,\n \n   /* Look in list of already loaded domains whether it is already\n      available.  */\n-  last = NULL;\n+  lastp = l10nfile_list;\n   for (retval = *l10nfile_list; retval != NULL; retval = retval->next)\n     if (retval->filename != NULL)\n       {\n@@ -281,7 +311,7 @@ _nl_make_l10nflist (l10nfile_list, dirlist, dirlist_len, mask, language,\n \t    break;\n \t  }\n \n-\tlast = retval;\n+\tlastp = &retval->next;\n       }\n \n   if (retval != NULL || do_allocate == 0)\n@@ -290,48 +320,66 @@ _nl_make_l10nflist (l10nfile_list, dirlist, dirlist_len, mask, language,\n       return retval;\n     }\n \n-  retval = (struct loaded_l10nfile *)\n-    malloc (sizeof (*retval) + (__argz_count (dirlist, dirlist_len)\n-\t\t\t\t* (1 << pop (mask))\n-\t\t\t\t* sizeof (struct loaded_l10nfile *)));\n+  dirlist_count = (dirlist_len > 0 ? __argz_count (dirlist, dirlist_len) : 1);\n+\n+  /* Allocate a new loaded_l10nfile.  */\n+  retval =\n+    (struct loaded_l10nfile *)\n+    malloc (sizeof (*retval)\n+\t    + (((dirlist_count << pop (mask)) + (dirlist_count > 1 ? 1 : 0))\n+\t       * sizeof (struct loaded_l10nfile *)));\n   if (retval == NULL)\n     return NULL;\n \n   retval->filename = abs_filename;\n-  retval->decided = (__argz_count (dirlist, dirlist_len) != 1\n+\n+  /* We set retval->data to NULL here; it is filled in later.\n+     Setting retval->decided to 1 here means that retval does not\n+     correspond to a real file (dirlist_count > 1) or is not worth\n+     looking up (if an unnormalized codeset was specified).  */\n+  retval->decided = (dirlist_count > 1\n \t\t     || ((mask & XPG_CODESET) != 0\n \t\t\t && (mask & XPG_NORM_CODESET) != 0));\n   retval->data = NULL;\n \n-  if (last == NULL)\n-    {\n-      retval->next = *l10nfile_list;\n-      *l10nfile_list = retval;\n-    }\n-  else\n-    {\n-      retval->next = last->next;\n-      last->next = retval;\n-    }\n+  retval->next = *lastp;\n+  *lastp = retval;\n \n   entries = 0;\n-  /* If the DIRLIST is a real list the RETVAL entry corresponds not to\n-     a real file.  So we have to use the DIRLIST separation mechanism\n-     of the inner loop.  */\n-  cnt = __argz_count (dirlist, dirlist_len) == 1 ? mask - 1 : mask;\n-  for (; cnt >= 0; --cnt)\n+  /* Recurse to fill the inheritance list of RETVAL.\n+     If the DIRLIST is a real list (i.e. DIRLIST_COUNT > 1), the RETVAL\n+     entry does not correspond to a real file; retval->filename contains\n+     colons.  In this case we loop across all elements of DIRLIST and\n+     across all bit patterns dominated by MASK.\n+     If the DIRLIST is a single directory or entirely redundant (i.e.\n+     DIRLIST_COUNT == 1), we loop across all bit patterns dominated by\n+     MASK, excluding MASK itself.\n+     In either case, we loop down from MASK to 0.  This has the effect\n+     that the extra bits in the locale name are dropped in this order:\n+     first the modifier, then the territory, then the codeset, then the\n+     normalized_codeset.  */\n+  for (cnt = dirlist_count > 1 ? mask : mask - 1; cnt >= 0; --cnt)\n     if ((cnt & ~mask) == 0\n \t&& ((cnt & CEN_SPECIFIC) == 0 || (cnt & XPG_SPECIFIC) == 0)\n \t&& ((cnt & XPG_CODESET) == 0 || (cnt & XPG_NORM_CODESET) == 0))\n       {\n-\t/* Iterate over all elements of the DIRLIST.  */\n-\tchar *dir = NULL;\n-\n-\twhile ((dir = __argz_next ((char *) dirlist, dirlist_len, dir))\n-\t       != NULL)\n+\tif (dirlist_count > 1)\n+\t  {\n+\t    /* Iterate over all elements of the DIRLIST.  */\n+\t    char *dir = NULL;\n+\n+\t    while ((dir = __argz_next ((char *) dirlist, dirlist_len, dir))\n+\t\t   != NULL)\n+\t      retval->successor[entries++]\n+\t\t= _nl_make_l10nflist (l10nfile_list, dir, strlen (dir) + 1,\n+\t\t\t\t      cnt, language, territory, codeset,\n+\t\t\t\t      normalized_codeset, modifier, special,\n+\t\t\t\t      sponsor, revision, filename, 1);\n+\t  }\n+\telse\n \t  retval->successor[entries++]\n-\t    = _nl_make_l10nflist (l10nfile_list, dir, strlen (dir) + 1, cnt,\n-\t\t\t\t  language, territory, codeset,\n+\t    = _nl_make_l10nflist (l10nfile_list, dirlist, dirlist_len,\n+\t\t\t\t  cnt, language, territory, codeset,\n \t\t\t\t  normalized_codeset, modifier, special,\n \t\t\t\t  sponsor, revision, filename, 1);\n       }\n@@ -356,11 +404,11 @@ _nl_normalize_codeset (codeset, name_len)\n   size_t cnt;\n \n   for (cnt = 0; cnt < name_len; ++cnt)\n-    if (isalnum ((unsigned char)codeset[cnt]))\n+    if (isalnum ((unsigned char) codeset[cnt]))\n       {\n \t++len;\n \n-\tif (isalpha ((unsigned char)codeset[cnt]))\n+\tif (isalpha ((unsigned char) codeset[cnt]))\n \t  only_digit = 0;\n       }\n \n@@ -374,9 +422,9 @@ _nl_normalize_codeset (codeset, name_len)\n \twp = retval;\n \n       for (cnt = 0; cnt < name_len; ++cnt)\n-\tif (isalpha ((unsigned char)codeset[cnt]))\n-\t  *wp++ = tolower ((unsigned char)codeset[cnt]);\n-\telse if (isdigit ((unsigned char)codeset[cnt]))\n+\tif (isalpha ((unsigned char) codeset[cnt]))\n+\t  *wp++ = tolower ((unsigned char) codeset[cnt]);\n+\telse if (isdigit ((unsigned char) codeset[cnt]))\n \t  *wp++ = codeset[cnt];\n \n       *wp = '\\0';", "previous_filename": "gcc/intl/l10nflist.c"}, {"sha": "f596cfcb2c66564c53e8f94e43bb4af93816668c", "filename": "intl/libgnuintl.h", "status": "added", "additions": 309, "deletions": 0, "changes": 309, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flibgnuintl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flibgnuintl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flibgnuintl.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,309 @@\n+/* Message catalogs for internationalization.\n+   Copyright (C) 1995-1997, 2000-2003 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifndef _LIBINTL_H\n+#define _LIBINTL_H\t1\n+\n+#include <locale.h>\n+\n+/* The LC_MESSAGES locale category is the category used by the functions\n+   gettext() and dgettext().  It is specified in POSIX, but not in ANSI C.\n+   On systems that don't define it, use an arbitrary value instead.\n+   On Solaris, <locale.h> defines __LOCALE_H (or _LOCALE_H in Solaris 2.5)\n+   then includes <libintl.h> (i.e. this file!) and then only defines\n+   LC_MESSAGES.  To avoid a redefinition warning, don't define LC_MESSAGES\n+   in this case.  */\n+#if !defined LC_MESSAGES && !(defined __LOCALE_H || (defined _LOCALE_H && defined __sun))\n+# define LC_MESSAGES 1729\n+#endif\n+\n+/* We define an additional symbol to signal that we use the GNU\n+   implementation of gettext.  */\n+#define __USE_GNU_GETTEXT 1\n+\n+/* Provide information about the supported file formats.  Returns the\n+   maximum minor revision number supported for a given major revision.  */\n+#define __GNU_GETTEXT_SUPPORTED_REVISION(major) \\\n+  ((major) == 0 ? 1 : -1)\n+\n+/* Resolve a platform specific conflict on DJGPP.  GNU gettext takes\n+   precedence over _conio_gettext.  */\n+#ifdef __DJGPP__\n+# undef gettext\n+#endif\n+\n+/* Use _INTL_PARAMS, not PARAMS, in order to avoid clashes with identifiers\n+   used by programs.  Similarly, test __PROTOTYPES, not PROTOTYPES.  */\n+#ifndef _INTL_PARAMS\n+# if __STDC__ || defined __GNUC__ || defined __SUNPRO_C || defined __cplusplus || __PROTOTYPES\n+#  define _INTL_PARAMS(args) args\n+# else\n+#  define _INTL_PARAMS(args) ()\n+# endif\n+#endif\n+\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+\n+/* We redirect the functions to those prefixed with \"libintl_\".  This is\n+   necessary, because some systems define gettext/textdomain/... in the C\n+   library (namely, Solaris 2.4 and newer, and GNU libc 2.0 and newer).\n+   If we used the unprefixed names, there would be cases where the\n+   definition in the C library would override the one in the libintl.so\n+   shared library.  Recall that on ELF systems, the symbols are looked\n+   up in the following order:\n+     1. in the executable,\n+     2. in the shared libraries specified on the link command line, in order,\n+     3. in the dependencies of the shared libraries specified on the link\n+        command line,\n+     4. in the dlopen()ed shared libraries, in the order in which they were\n+        dlopen()ed.\n+   The definition in the C library would override the one in libintl.so if\n+   either\n+     * -lc is given on the link command line and -lintl isn't, or\n+     * -lc is given on the link command line before -lintl, or\n+     * libintl.so is a dependency of a dlopen()ed shared library but not\n+       linked to the executable at link time.\n+   Since Solaris gettext() behaves differently than GNU gettext(), this\n+   would be unacceptable.\n+\n+   The redirection happens by default through macros in C, so that &gettext\n+   is independent of the compilation unit, but through inline functions in\n+   C++, in order not to interfere with the name mangling of class fields or\n+   class methods called 'gettext'.  */\n+\n+/* The user can define _INTL_REDIRECT_INLINE or _INTL_REDIRECT_MACROS.\n+   If he doesn't, we choose the method.  A third possible method is\n+   _INTL_REDIRECT_ASM, supported only by GCC.  */\n+#if !(defined _INTL_REDIRECT_INLINE || defined _INTL_REDIRECT_MACROS)\n+# if __GNUC__ >= 2 && !defined __APPLE_CC__ && (defined __STDC__ || defined __cplusplus)\n+#  define _INTL_REDIRECT_ASM\n+# else\n+#  ifdef __cplusplus\n+#   define _INTL_REDIRECT_INLINE\n+#  else\n+#   define _INTL_REDIRECT_MACROS\n+#  endif\n+# endif\n+#endif\n+/* Auxiliary macros.  */\n+#ifdef _INTL_REDIRECT_ASM\n+# define _INTL_ASM(cname) __asm__ (_INTL_ASMNAME (__USER_LABEL_PREFIX__, #cname))\n+# define _INTL_ASMNAME(prefix,cnamestring) _INTL_STRINGIFY (prefix) cnamestring\n+# define _INTL_STRINGIFY(prefix) #prefix\n+#else\n+# define _INTL_ASM(cname)\n+#endif\n+\n+/* Look up MSGID in the current default message catalog for the current\n+   LC_MESSAGES locale.  If not found, returns MSGID itself (the default\n+   text).  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_gettext (const char *__msgid);\n+static inline char *gettext (const char *__msgid)\n+{\n+  return libintl_gettext (__msgid);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define gettext libintl_gettext\n+#endif\n+extern char *gettext _INTL_PARAMS ((const char *__msgid))\n+       _INTL_ASM (libintl_gettext);\n+#endif\n+\n+/* Look up MSGID in the DOMAINNAME message catalog for the current\n+   LC_MESSAGES locale.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_dgettext (const char *__domainname, const char *__msgid);\n+static inline char *dgettext (const char *__domainname, const char *__msgid)\n+{\n+  return libintl_dgettext (__domainname, __msgid);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define dgettext libintl_dgettext\n+#endif\n+extern char *dgettext _INTL_PARAMS ((const char *__domainname,\n+\t\t\t\t     const char *__msgid))\n+       _INTL_ASM (libintl_dgettext);\n+#endif\n+\n+/* Look up MSGID in the DOMAINNAME message catalog for the current CATEGORY\n+   locale.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_dcgettext (const char *__domainname, const char *__msgid,\n+\t\t\t\tint __category);\n+static inline char *dcgettext (const char *__domainname, const char *__msgid,\n+\t\t\t       int __category)\n+{\n+  return libintl_dcgettext (__domainname, __msgid, __category);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define dcgettext libintl_dcgettext\n+#endif\n+extern char *dcgettext _INTL_PARAMS ((const char *__domainname,\n+\t\t\t\t      const char *__msgid,\n+\t\t\t\t      int __category))\n+       _INTL_ASM (libintl_dcgettext);\n+#endif\n+\n+\n+/* Similar to `gettext' but select the plural form corresponding to the\n+   number N.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_ngettext (const char *__msgid1, const char *__msgid2,\n+\t\t\t       unsigned long int __n);\n+static inline char *ngettext (const char *__msgid1, const char *__msgid2,\n+\t\t\t      unsigned long int __n)\n+{\n+  return libintl_ngettext (__msgid1, __msgid2, __n);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define ngettext libintl_ngettext\n+#endif\n+extern char *ngettext _INTL_PARAMS ((const char *__msgid1,\n+\t\t\t\t     const char *__msgid2,\n+\t\t\t\t     unsigned long int __n))\n+       _INTL_ASM (libintl_ngettext);\n+#endif\n+\n+/* Similar to `dgettext' but select the plural form corresponding to the\n+   number N.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_dngettext (const char *__domainname, const char *__msgid1,\n+\t\t\t\tconst char *__msgid2, unsigned long int __n);\n+static inline char *dngettext (const char *__domainname, const char *__msgid1,\n+\t\t\t       const char *__msgid2, unsigned long int __n)\n+{\n+  return libintl_dngettext (__domainname, __msgid1, __msgid2, __n);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define dngettext libintl_dngettext\n+#endif\n+extern char *dngettext _INTL_PARAMS ((const char *__domainname,\n+\t\t\t\t      const char *__msgid1,\n+\t\t\t\t      const char *__msgid2,\n+\t\t\t\t      unsigned long int __n))\n+       _INTL_ASM (libintl_dngettext);\n+#endif\n+\n+/* Similar to `dcgettext' but select the plural form corresponding to the\n+   number N.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_dcngettext (const char *__domainname,\n+\t\t\t\t const char *__msgid1, const char *__msgid2,\n+\t\t\t\t unsigned long int __n, int __category);\n+static inline char *dcngettext (const char *__domainname,\n+\t\t\t\tconst char *__msgid1, const char *__msgid2,\n+\t\t\t\tunsigned long int __n, int __category)\n+{\n+  return libintl_dcngettext (__domainname, __msgid1, __msgid2, __n, __category);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define dcngettext libintl_dcngettext\n+#endif\n+extern char *dcngettext _INTL_PARAMS ((const char *__domainname,\n+\t\t\t\t       const char *__msgid1,\n+\t\t\t\t       const char *__msgid2,\n+\t\t\t\t       unsigned long int __n,\n+\t\t\t\t       int __category))\n+       _INTL_ASM (libintl_dcngettext);\n+#endif\n+\n+\n+/* Set the current default message catalog to DOMAINNAME.\n+   If DOMAINNAME is null, return the current default.\n+   If DOMAINNAME is \"\", reset to the default of \"messages\".  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_textdomain (const char *__domainname);\n+static inline char *textdomain (const char *__domainname)\n+{\n+  return libintl_textdomain (__domainname);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define textdomain libintl_textdomain\n+#endif\n+extern char *textdomain _INTL_PARAMS ((const char *__domainname))\n+       _INTL_ASM (libintl_textdomain);\n+#endif\n+\n+/* Specify that the DOMAINNAME message catalog will be found\n+   in DIRNAME rather than in the system locale data base.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_bindtextdomain (const char *__domainname,\n+\t\t\t\t     const char *__dirname);\n+static inline char *bindtextdomain (const char *__domainname,\n+\t\t\t\t    const char *__dirname)\n+{\n+  return libintl_bindtextdomain (__domainname, __dirname);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define bindtextdomain libintl_bindtextdomain\n+#endif\n+extern char *bindtextdomain _INTL_PARAMS ((const char *__domainname,\n+\t\t\t\t\t   const char *__dirname))\n+       _INTL_ASM (libintl_bindtextdomain);\n+#endif\n+\n+/* Specify the character encoding in which the messages from the\n+   DOMAINNAME message catalog will be returned.  */\n+#ifdef _INTL_REDIRECT_INLINE\n+extern char *libintl_bind_textdomain_codeset (const char *__domainname,\n+\t\t\t\t\t      const char *__codeset);\n+static inline char *bind_textdomain_codeset (const char *__domainname,\n+\t\t\t\t\t     const char *__codeset)\n+{\n+  return libintl_bind_textdomain_codeset (__domainname, __codeset);\n+}\n+#else\n+#ifdef _INTL_REDIRECT_MACROS\n+# define bind_textdomain_codeset libintl_bind_textdomain_codeset\n+#endif\n+extern char *bind_textdomain_codeset _INTL_PARAMS ((const char *__domainname,\n+\t\t\t\t\t\t    const char *__codeset))\n+       _INTL_ASM (libintl_bind_textdomain_codeset);\n+#endif\n+\n+\n+/* Support for relocatable packages.  */\n+\n+/* Sets the original and the current installation prefix of the package.\n+   Relocation simply replaces a pathname starting with the original prefix\n+   by the corresponding pathname with the current prefix instead.  Both\n+   prefixes should be directory names without trailing slash (i.e. use \"\"\n+   instead of \"/\").  */\n+#define libintl_set_relocation_prefix libintl_set_relocation_prefix\n+extern void\n+       libintl_set_relocation_prefix _INTL_PARAMS ((const char *orig_prefix,\n+\t\t\t\t\t\t    const char *curr_prefix));\n+\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+#endif /* libintl.h */"}, {"sha": "1d3ba6162499a63f69bc3089727a2fdd4aa586ae", "filename": "intl/loadinfo.h", "status": "renamed", "additions": 52, "deletions": 5, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Floadinfo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Floadinfo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Floadinfo.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1996-1999, 2000, 2001 Free Software Foundation, Inc.\n+/* Copyright (C) 1996-1999, 2000-2002 Free Software Foundation, Inc.\n    This file is part of the GNU C Library.\n    Contributed by Ulrich Drepper <drepper@cygnus.com>, 1996.\n \n@@ -20,8 +20,20 @@\n #ifndef _LOADINFO_H\n #define _LOADINFO_H\t1\n \n+/* Declarations of locale dependent catalog lookup functions.\n+   Implemented in\n+\n+     localealias.c    Possibly replace a locale name by another.\n+     explodename.c    Split a locale name into its various fields.\n+     l10nflist.c      Generate a list of filenames of possible message catalogs.\n+     finddomain.c     Find and open the relevant message catalogs.\n+\n+   The main function _nl_find_domain() in finddomain.c is declared\n+   in gettextP.h.\n+ */\n+\n #ifndef PARAMS\n-# if __STDC__\n+# if __STDC__ || defined __GNUC__ || defined __SUNPRO_C || defined __cplusplus || __PROTOTYPES\n #  define PARAMS(args) args\n # else\n #  define PARAMS(args) ()\n@@ -80,6 +92,20 @@ struct loaded_l10nfile\n extern const char *_nl_normalize_codeset PARAMS ((const char *codeset,\n \t\t\t\t\t\t  size_t name_len));\n \n+/* Lookup a locale dependent file.\n+   *L10NFILE_LIST denotes a pool of lookup results of locale dependent\n+   files of the same kind, sorted in decreasing order of ->filename.\n+   DIRLIST and DIRLIST_LEN are an argz list of directories in which to\n+   look, containing at least one directory (i.e. DIRLIST_LEN > 0).\n+   MASK, LANGUAGE, TERRITORY, CODESET, NORMALIZED_CODESET, MODIFIER,\n+   SPECIAL, SPONSOR, REVISION are the pieces of the locale name, as\n+   produced by _nl_explode_name().  FILENAME is the filename suffix.\n+   The return value is the lookup result, either found in *L10NFILE_LIST,\n+   or - if DO_ALLOCATE is nonzero - freshly allocated, or possibly NULL.\n+   If the return value is non-NULL, it is added to *L10NFILE_LIST, and\n+   its ->next field denotes the chaining inside *L10NFILE_LIST, and\n+   furthermore its ->successor[] field contains a list of other lookup\n+   results from which this lookup result inherits.  */\n extern struct loaded_l10nfile *\n _nl_make_l10nflist PARAMS ((struct loaded_l10nfile **l10nfile_list,\n \t\t\t    const char *dirlist, size_t dirlist_len, int mask,\n@@ -90,11 +116,29 @@ _nl_make_l10nflist PARAMS ((struct loaded_l10nfile **l10nfile_list,\n \t\t\t    const char *sponsor, const char *revision,\n \t\t\t    const char *filename, int do_allocate));\n \n-\n+/* Lookup the real locale name for a locale alias NAME, or NULL if\n+   NAME is not a locale alias (but possibly a real locale name).\n+   The return value is statically allocated and must not be freed.  */\n extern const char *_nl_expand_alias PARAMS ((const char *name));\n \n-/* normalized_codeset is dynamically allocated and has to be freed by\n-   the caller.  */\n+/* Split a locale name NAME into its pieces: language, modifier,\n+   territory, codeset, special, sponsor, revision.\n+   NAME gets destructively modified: NUL bytes are inserted here and\n+   there.  *LANGUAGE gets assigned NAME.  Each of *MODIFIER, *TERRITORY,\n+   *CODESET, *SPECIAL, *SPONSOR, *REVISION gets assigned either a\n+   pointer into the old NAME string, or NULL.  *NORMALIZED_CODESET\n+   gets assigned the expanded *CODESET, if it is different from *CODESET;\n+   this one is dynamically allocated and has to be freed by the caller.\n+   The return value is a bitmask, where each bit corresponds to one\n+   filled-in value:\n+     XPG_MODIFIER, CEN_AUDIENCE  for *MODIFIER,\n+     TERRITORY                   for *TERRITORY,\n+     XPG_CODESET                 for *CODESET,\n+     XPG_NORM_CODESET            for *NORMALIZED_CODESET,\n+     CEN_SPECIAL                 for *SPECIAL,\n+     CEN_SPONSOR                 for *SPONSOR,\n+     CEN_REVISION                for *REVISION.\n+ */\n extern int _nl_explode_name PARAMS ((char *name, const char **language,\n \t\t\t\t     const char **modifier,\n \t\t\t\t     const char **territory,\n@@ -104,6 +148,9 @@ extern int _nl_explode_name PARAMS ((char *name, const char **language,\n \t\t\t\t     const char **sponsor,\n \t\t\t\t     const char **revision));\n \n+/* Split a locale name NAME into a leading language part and all the\n+   rest.  Return a pointer to the first character after the language,\n+   i.e. to the first byte of the rest.  */\n extern char *_nl_find_language PARAMS ((const char *name));\n \n #endif\t/* loadinfo.h */", "previous_filename": "gcc/intl/loadinfo.h"}, {"sha": "8509bd34587e46cf8187c146c770b1e804bb2a6e", "filename": "intl/loadmsgcat.c", "status": "added", "additions": 1322, "deletions": 0, "changes": 1322, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Floadmsgcat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Floadmsgcat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Floadmsgcat.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,1322 @@\n+/* Load needed message catalogs.\n+   Copyright (C) 1995-1999, 2000-2003 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+/* Tell glibc's <string.h> to provide a prototype for mempcpy().\n+   This must come before <config.h> because <config.h> may include\n+   <features.h>, and once <features.h> has been included, it's too late.  */\n+#ifndef _GNU_SOURCE\n+# define _GNU_SOURCE    1\n+#endif\n+\n+#ifdef HAVE_CONFIG_H\n+# include <config.h>\n+#endif\n+\n+#include <ctype.h>\n+#include <errno.h>\n+#include <fcntl.h>\n+#include <sys/types.h>\n+#include <sys/stat.h>\n+\n+#ifdef __GNUC__\n+# undef  alloca\n+# define alloca __builtin_alloca\n+# define HAVE_ALLOCA 1\n+#else\n+# ifdef _MSC_VER\n+#  include <malloc.h>\n+#  define alloca _alloca\n+# else\n+#  if defined HAVE_ALLOCA_H || defined _LIBC\n+#   include <alloca.h>\n+#  else\n+#   ifdef _AIX\n+ #pragma alloca\n+#   else\n+#    ifndef alloca\n+char *alloca ();\n+#    endif\n+#   endif\n+#  endif\n+# endif\n+#endif\n+\n+#include <stdlib.h>\n+#include <string.h>\n+\n+#if defined HAVE_UNISTD_H || defined _LIBC\n+# include <unistd.h>\n+#endif\n+\n+#ifdef _LIBC\n+# include <langinfo.h>\n+# include <locale.h>\n+#endif\n+\n+#if (defined HAVE_MMAP && defined HAVE_MUNMAP && !defined DISALLOW_MMAP) \\\n+    || (defined _LIBC && defined _POSIX_MAPPED_FILES)\n+# include <sys/mman.h>\n+# undef HAVE_MMAP\n+# define HAVE_MMAP\t1\n+#else\n+# undef HAVE_MMAP\n+#endif\n+\n+#if defined HAVE_STDINT_H_WITH_UINTMAX || defined _LIBC\n+# include <stdint.h>\n+#endif\n+#if defined HAVE_INTTYPES_H || defined _LIBC\n+# include <inttypes.h>\n+#endif\n+\n+#include \"gmo.h\"\n+#include \"gettextP.h\"\n+#include \"hash-string.h\"\n+#include \"plural-exp.h\"\n+\n+#ifdef _LIBC\n+# include \"../locale/localeinfo.h\"\n+#endif\n+\n+/* Provide fallback values for macros that ought to be defined in <inttypes.h>.\n+   Note that our fallback values need not be literal strings, because we don't\n+   use them with preprocessor string concatenation.  */\n+#if !defined PRId8 || PRI_MACROS_BROKEN\n+# undef PRId8\n+# define PRId8 \"d\"\n+#endif\n+#if !defined PRIi8 || PRI_MACROS_BROKEN\n+# undef PRIi8\n+# define PRIi8 \"i\"\n+#endif\n+#if !defined PRIo8 || PRI_MACROS_BROKEN\n+# undef PRIo8\n+# define PRIo8 \"o\"\n+#endif\n+#if !defined PRIu8 || PRI_MACROS_BROKEN\n+# undef PRIu8\n+# define PRIu8 \"u\"\n+#endif\n+#if !defined PRIx8 || PRI_MACROS_BROKEN\n+# undef PRIx8\n+# define PRIx8 \"x\"\n+#endif\n+#if !defined PRIX8 || PRI_MACROS_BROKEN\n+# undef PRIX8\n+# define PRIX8 \"X\"\n+#endif\n+#if !defined PRId16 || PRI_MACROS_BROKEN\n+# undef PRId16\n+# define PRId16 \"d\"\n+#endif\n+#if !defined PRIi16 || PRI_MACROS_BROKEN\n+# undef PRIi16\n+# define PRIi16 \"i\"\n+#endif\n+#if !defined PRIo16 || PRI_MACROS_BROKEN\n+# undef PRIo16\n+# define PRIo16 \"o\"\n+#endif\n+#if !defined PRIu16 || PRI_MACROS_BROKEN\n+# undef PRIu16\n+# define PRIu16 \"u\"\n+#endif\n+#if !defined PRIx16 || PRI_MACROS_BROKEN\n+# undef PRIx16\n+# define PRIx16 \"x\"\n+#endif\n+#if !defined PRIX16 || PRI_MACROS_BROKEN\n+# undef PRIX16\n+# define PRIX16 \"X\"\n+#endif\n+#if !defined PRId32 || PRI_MACROS_BROKEN\n+# undef PRId32\n+# define PRId32 \"d\"\n+#endif\n+#if !defined PRIi32 || PRI_MACROS_BROKEN\n+# undef PRIi32\n+# define PRIi32 \"i\"\n+#endif\n+#if !defined PRIo32 || PRI_MACROS_BROKEN\n+# undef PRIo32\n+# define PRIo32 \"o\"\n+#endif\n+#if !defined PRIu32 || PRI_MACROS_BROKEN\n+# undef PRIu32\n+# define PRIu32 \"u\"\n+#endif\n+#if !defined PRIx32 || PRI_MACROS_BROKEN\n+# undef PRIx32\n+# define PRIx32 \"x\"\n+#endif\n+#if !defined PRIX32 || PRI_MACROS_BROKEN\n+# undef PRIX32\n+# define PRIX32 \"X\"\n+#endif\n+#if !defined PRId64 || PRI_MACROS_BROKEN\n+# undef PRId64\n+# define PRId64 (sizeof (long) == 8 ? \"ld\" : \"lld\")\n+#endif\n+#if !defined PRIi64 || PRI_MACROS_BROKEN\n+# undef PRIi64\n+# define PRIi64 (sizeof (long) == 8 ? \"li\" : \"lli\")\n+#endif\n+#if !defined PRIo64 || PRI_MACROS_BROKEN\n+# undef PRIo64\n+# define PRIo64 (sizeof (long) == 8 ? \"lo\" : \"llo\")\n+#endif\n+#if !defined PRIu64 || PRI_MACROS_BROKEN\n+# undef PRIu64\n+# define PRIu64 (sizeof (long) == 8 ? \"lu\" : \"llu\")\n+#endif\n+#if !defined PRIx64 || PRI_MACROS_BROKEN\n+# undef PRIx64\n+# define PRIx64 (sizeof (long) == 8 ? \"lx\" : \"llx\")\n+#endif\n+#if !defined PRIX64 || PRI_MACROS_BROKEN\n+# undef PRIX64\n+# define PRIX64 (sizeof (long) == 8 ? \"lX\" : \"llX\")\n+#endif\n+#if !defined PRIdLEAST8 || PRI_MACROS_BROKEN\n+# undef PRIdLEAST8\n+# define PRIdLEAST8 \"d\"\n+#endif\n+#if !defined PRIiLEAST8 || PRI_MACROS_BROKEN\n+# undef PRIiLEAST8\n+# define PRIiLEAST8 \"i\"\n+#endif\n+#if !defined PRIoLEAST8 || PRI_MACROS_BROKEN\n+# undef PRIoLEAST8\n+# define PRIoLEAST8 \"o\"\n+#endif\n+#if !defined PRIuLEAST8 || PRI_MACROS_BROKEN\n+# undef PRIuLEAST8\n+# define PRIuLEAST8 \"u\"\n+#endif\n+#if !defined PRIxLEAST8 || PRI_MACROS_BROKEN\n+# undef PRIxLEAST8\n+# define PRIxLEAST8 \"x\"\n+#endif\n+#if !defined PRIXLEAST8 || PRI_MACROS_BROKEN\n+# undef PRIXLEAST8\n+# define PRIXLEAST8 \"X\"\n+#endif\n+#if !defined PRIdLEAST16 || PRI_MACROS_BROKEN\n+# undef PRIdLEAST16\n+# define PRIdLEAST16 \"d\"\n+#endif\n+#if !defined PRIiLEAST16 || PRI_MACROS_BROKEN\n+# undef PRIiLEAST16\n+# define PRIiLEAST16 \"i\"\n+#endif\n+#if !defined PRIoLEAST16 || PRI_MACROS_BROKEN\n+# undef PRIoLEAST16\n+# define PRIoLEAST16 \"o\"\n+#endif\n+#if !defined PRIuLEAST16 || PRI_MACROS_BROKEN\n+# undef PRIuLEAST16\n+# define PRIuLEAST16 \"u\"\n+#endif\n+#if !defined PRIxLEAST16 || PRI_MACROS_BROKEN\n+# undef PRIxLEAST16\n+# define PRIxLEAST16 \"x\"\n+#endif\n+#if !defined PRIXLEAST16 || PRI_MACROS_BROKEN\n+# undef PRIXLEAST16\n+# define PRIXLEAST16 \"X\"\n+#endif\n+#if !defined PRIdLEAST32 || PRI_MACROS_BROKEN\n+# undef PRIdLEAST32\n+# define PRIdLEAST32 \"d\"\n+#endif\n+#if !defined PRIiLEAST32 || PRI_MACROS_BROKEN\n+# undef PRIiLEAST32\n+# define PRIiLEAST32 \"i\"\n+#endif\n+#if !defined PRIoLEAST32 || PRI_MACROS_BROKEN\n+# undef PRIoLEAST32\n+# define PRIoLEAST32 \"o\"\n+#endif\n+#if !defined PRIuLEAST32 || PRI_MACROS_BROKEN\n+# undef PRIuLEAST32\n+# define PRIuLEAST32 \"u\"\n+#endif\n+#if !defined PRIxLEAST32 || PRI_MACROS_BROKEN\n+# undef PRIxLEAST32\n+# define PRIxLEAST32 \"x\"\n+#endif\n+#if !defined PRIXLEAST32 || PRI_MACROS_BROKEN\n+# undef PRIXLEAST32\n+# define PRIXLEAST32 \"X\"\n+#endif\n+#if !defined PRIdLEAST64 || PRI_MACROS_BROKEN\n+# undef PRIdLEAST64\n+# define PRIdLEAST64 PRId64\n+#endif\n+#if !defined PRIiLEAST64 || PRI_MACROS_BROKEN\n+# undef PRIiLEAST64\n+# define PRIiLEAST64 PRIi64\n+#endif\n+#if !defined PRIoLEAST64 || PRI_MACROS_BROKEN\n+# undef PRIoLEAST64\n+# define PRIoLEAST64 PRIo64\n+#endif\n+#if !defined PRIuLEAST64 || PRI_MACROS_BROKEN\n+# undef PRIuLEAST64\n+# define PRIuLEAST64 PRIu64\n+#endif\n+#if !defined PRIxLEAST64 || PRI_MACROS_BROKEN\n+# undef PRIxLEAST64\n+# define PRIxLEAST64 PRIx64\n+#endif\n+#if !defined PRIXLEAST64 || PRI_MACROS_BROKEN\n+# undef PRIXLEAST64\n+# define PRIXLEAST64 PRIX64\n+#endif\n+#if !defined PRIdFAST8 || PRI_MACROS_BROKEN\n+# undef PRIdFAST8\n+# define PRIdFAST8 \"d\"\n+#endif\n+#if !defined PRIiFAST8 || PRI_MACROS_BROKEN\n+# undef PRIiFAST8\n+# define PRIiFAST8 \"i\"\n+#endif\n+#if !defined PRIoFAST8 || PRI_MACROS_BROKEN\n+# undef PRIoFAST8\n+# define PRIoFAST8 \"o\"\n+#endif\n+#if !defined PRIuFAST8 || PRI_MACROS_BROKEN\n+# undef PRIuFAST8\n+# define PRIuFAST8 \"u\"\n+#endif\n+#if !defined PRIxFAST8 || PRI_MACROS_BROKEN\n+# undef PRIxFAST8\n+# define PRIxFAST8 \"x\"\n+#endif\n+#if !defined PRIXFAST8 || PRI_MACROS_BROKEN\n+# undef PRIXFAST8\n+# define PRIXFAST8 \"X\"\n+#endif\n+#if !defined PRIdFAST16 || PRI_MACROS_BROKEN\n+# undef PRIdFAST16\n+# define PRIdFAST16 \"d\"\n+#endif\n+#if !defined PRIiFAST16 || PRI_MACROS_BROKEN\n+# undef PRIiFAST16\n+# define PRIiFAST16 \"i\"\n+#endif\n+#if !defined PRIoFAST16 || PRI_MACROS_BROKEN\n+# undef PRIoFAST16\n+# define PRIoFAST16 \"o\"\n+#endif\n+#if !defined PRIuFAST16 || PRI_MACROS_BROKEN\n+# undef PRIuFAST16\n+# define PRIuFAST16 \"u\"\n+#endif\n+#if !defined PRIxFAST16 || PRI_MACROS_BROKEN\n+# undef PRIxFAST16\n+# define PRIxFAST16 \"x\"\n+#endif\n+#if !defined PRIXFAST16 || PRI_MACROS_BROKEN\n+# undef PRIXFAST16\n+# define PRIXFAST16 \"X\"\n+#endif\n+#if !defined PRIdFAST32 || PRI_MACROS_BROKEN\n+# undef PRIdFAST32\n+# define PRIdFAST32 \"d\"\n+#endif\n+#if !defined PRIiFAST32 || PRI_MACROS_BROKEN\n+# undef PRIiFAST32\n+# define PRIiFAST32 \"i\"\n+#endif\n+#if !defined PRIoFAST32 || PRI_MACROS_BROKEN\n+# undef PRIoFAST32\n+# define PRIoFAST32 \"o\"\n+#endif\n+#if !defined PRIuFAST32 || PRI_MACROS_BROKEN\n+# undef PRIuFAST32\n+# define PRIuFAST32 \"u\"\n+#endif\n+#if !defined PRIxFAST32 || PRI_MACROS_BROKEN\n+# undef PRIxFAST32\n+# define PRIxFAST32 \"x\"\n+#endif\n+#if !defined PRIXFAST32 || PRI_MACROS_BROKEN\n+# undef PRIXFAST32\n+# define PRIXFAST32 \"X\"\n+#endif\n+#if !defined PRIdFAST64 || PRI_MACROS_BROKEN\n+# undef PRIdFAST64\n+# define PRIdFAST64 PRId64\n+#endif\n+#if !defined PRIiFAST64 || PRI_MACROS_BROKEN\n+# undef PRIiFAST64\n+# define PRIiFAST64 PRIi64\n+#endif\n+#if !defined PRIoFAST64 || PRI_MACROS_BROKEN\n+# undef PRIoFAST64\n+# define PRIoFAST64 PRIo64\n+#endif\n+#if !defined PRIuFAST64 || PRI_MACROS_BROKEN\n+# undef PRIuFAST64\n+# define PRIuFAST64 PRIu64\n+#endif\n+#if !defined PRIxFAST64 || PRI_MACROS_BROKEN\n+# undef PRIxFAST64\n+# define PRIxFAST64 PRIx64\n+#endif\n+#if !defined PRIXFAST64 || PRI_MACROS_BROKEN\n+# undef PRIXFAST64\n+# define PRIXFAST64 PRIX64\n+#endif\n+#if !defined PRIdMAX || PRI_MACROS_BROKEN\n+# undef PRIdMAX\n+# define PRIdMAX (sizeof (uintmax_t) == sizeof (long) ? \"ld\" : \"lld\")\n+#endif\n+#if !defined PRIiMAX || PRI_MACROS_BROKEN\n+# undef PRIiMAX\n+# define PRIiMAX (sizeof (uintmax_t) == sizeof (long) ? \"li\" : \"lli\")\n+#endif\n+#if !defined PRIoMAX || PRI_MACROS_BROKEN\n+# undef PRIoMAX\n+# define PRIoMAX (sizeof (uintmax_t) == sizeof (long) ? \"lo\" : \"llo\")\n+#endif\n+#if !defined PRIuMAX || PRI_MACROS_BROKEN\n+# undef PRIuMAX\n+# define PRIuMAX (sizeof (uintmax_t) == sizeof (long) ? \"lu\" : \"llu\")\n+#endif\n+#if !defined PRIxMAX || PRI_MACROS_BROKEN\n+# undef PRIxMAX\n+# define PRIxMAX (sizeof (uintmax_t) == sizeof (long) ? \"lx\" : \"llx\")\n+#endif\n+#if !defined PRIXMAX || PRI_MACROS_BROKEN\n+# undef PRIXMAX\n+# define PRIXMAX (sizeof (uintmax_t) == sizeof (long) ? \"lX\" : \"llX\")\n+#endif\n+#if !defined PRIdPTR || PRI_MACROS_BROKEN\n+# undef PRIdPTR\n+# define PRIdPTR \\\n+  (sizeof (void *) == sizeof (long) ? \"ld\" : \\\n+   sizeof (void *) == sizeof (int) ? \"d\" : \\\n+   \"lld\")\n+#endif\n+#if !defined PRIiPTR || PRI_MACROS_BROKEN\n+# undef PRIiPTR\n+# define PRIiPTR \\\n+  (sizeof (void *) == sizeof (long) ? \"li\" : \\\n+   sizeof (void *) == sizeof (int) ? \"i\" : \\\n+   \"lli\")\n+#endif\n+#if !defined PRIoPTR || PRI_MACROS_BROKEN\n+# undef PRIoPTR\n+# define PRIoPTR \\\n+  (sizeof (void *) == sizeof (long) ? \"lo\" : \\\n+   sizeof (void *) == sizeof (int) ? \"o\" : \\\n+   \"llo\")\n+#endif\n+#if !defined PRIuPTR || PRI_MACROS_BROKEN\n+# undef PRIuPTR\n+# define PRIuPTR \\\n+  (sizeof (void *) == sizeof (long) ? \"lu\" : \\\n+   sizeof (void *) == sizeof (int) ? \"u\" : \\\n+   \"llu\")\n+#endif\n+#if !defined PRIxPTR || PRI_MACROS_BROKEN\n+# undef PRIxPTR\n+# define PRIxPTR \\\n+  (sizeof (void *) == sizeof (long) ? \"lx\" : \\\n+   sizeof (void *) == sizeof (int) ? \"x\" : \\\n+   \"llx\")\n+#endif\n+#if !defined PRIXPTR || PRI_MACROS_BROKEN\n+# undef PRIXPTR\n+# define PRIXPTR \\\n+  (sizeof (void *) == sizeof (long) ? \"lX\" : \\\n+   sizeof (void *) == sizeof (int) ? \"X\" : \\\n+   \"llX\")\n+#endif\n+\n+/* @@ end of prolog @@ */\n+\n+#ifdef _LIBC\n+/* Rename the non ISO C functions.  This is required by the standard\n+   because some ISO C functions will require linking with this object\n+   file and the name space must not be polluted.  */\n+# define open   __open\n+# define close  __close\n+# define read   __read\n+# define mmap   __mmap\n+# define munmap __munmap\n+#endif\n+\n+/* For those losing systems which don't have `alloca' we have to add\n+   some additional code emulating it.  */\n+#ifdef HAVE_ALLOCA\n+# define freea(p) /* nothing */\n+#else\n+# define alloca(n) malloc (n)\n+# define freea(p) free (p)\n+#endif\n+\n+/* For systems that distinguish between text and binary I/O.\n+   O_BINARY is usually declared in <fcntl.h>. */\n+#if !defined O_BINARY && defined _O_BINARY\n+  /* For MSC-compatible compilers.  */\n+# define O_BINARY _O_BINARY\n+# define O_TEXT _O_TEXT\n+#endif\n+#ifdef __BEOS__\n+  /* BeOS 5 has O_BINARY and O_TEXT, but they have no effect.  */\n+# undef O_BINARY\n+# undef O_TEXT\n+#endif\n+/* On reasonable systems, binary I/O is the default.  */\n+#ifndef O_BINARY\n+# define O_BINARY 0\n+#endif\n+\n+\n+/* Prototypes for local functions.  Needed to ensure compiler checking of\n+   function argument counts despite of K&R C function definition syntax.  */\n+static const char *get_sysdep_segment_value PARAMS ((const char *name));\n+\n+\n+/* We need a sign, whether a new catalog was loaded, which can be associated\n+   with all translations.  This is important if the translations are\n+   cached by one of GCC's features.  */\n+int _nl_msg_cat_cntr;\n+\n+\n+/* Expand a system dependent string segment.  Return NULL if unsupported.  */\n+static const char *\n+get_sysdep_segment_value (name)\n+     const char *name;\n+{\n+  /* Test for an ISO C 99 section 7.8.1 format string directive.\n+     Syntax:\n+     P R I { d | i | o | u | x | X }\n+     { { | LEAST | FAST } { 8 | 16 | 32 | 64 } | MAX | PTR }  */\n+  /* We don't use a table of 14 times 6 'const char *' strings here, because\n+     data relocations cost startup time.  */\n+  if (name[0] == 'P' && name[1] == 'R' && name[2] == 'I')\n+    {\n+      if (name[3] == 'd' || name[3] == 'i' || name[3] == 'o' || name[3] == 'u'\n+\t  || name[3] == 'x' || name[3] == 'X')\n+\t{\n+\t  if (name[4] == '8' && name[5] == '\\0')\n+\t    {\n+\t      if (name[3] == 'd')\n+\t\treturn PRId8;\n+\t      if (name[3] == 'i')\n+\t\treturn PRIi8;\n+\t      if (name[3] == 'o')\n+\t\treturn PRIo8;\n+\t      if (name[3] == 'u')\n+\t\treturn PRIu8;\n+\t      if (name[3] == 'x')\n+\t\treturn PRIx8;\n+\t      if (name[3] == 'X')\n+\t\treturn PRIX8;\n+\t      abort ();\n+\t    }\n+\t  if (name[4] == '1' && name[5] == '6' && name[6] == '\\0')\n+\t    {\n+\t      if (name[3] == 'd')\n+\t\treturn PRId16;\n+\t      if (name[3] == 'i')\n+\t\treturn PRIi16;\n+\t      if (name[3] == 'o')\n+\t\treturn PRIo16;\n+\t      if (name[3] == 'u')\n+\t\treturn PRIu16;\n+\t      if (name[3] == 'x')\n+\t\treturn PRIx16;\n+\t      if (name[3] == 'X')\n+\t\treturn PRIX16;\n+\t      abort ();\n+\t    }\n+\t  if (name[4] == '3' && name[5] == '2' && name[6] == '\\0')\n+\t    {\n+\t      if (name[3] == 'd')\n+\t\treturn PRId32;\n+\t      if (name[3] == 'i')\n+\t\treturn PRIi32;\n+\t      if (name[3] == 'o')\n+\t\treturn PRIo32;\n+\t      if (name[3] == 'u')\n+\t\treturn PRIu32;\n+\t      if (name[3] == 'x')\n+\t\treturn PRIx32;\n+\t      if (name[3] == 'X')\n+\t\treturn PRIX32;\n+\t      abort ();\n+\t    }\n+\t  if (name[4] == '6' && name[5] == '4' && name[6] == '\\0')\n+\t    {\n+\t      if (name[3] == 'd')\n+\t\treturn PRId64;\n+\t      if (name[3] == 'i')\n+\t\treturn PRIi64;\n+\t      if (name[3] == 'o')\n+\t\treturn PRIo64;\n+\t      if (name[3] == 'u')\n+\t\treturn PRIu64;\n+\t      if (name[3] == 'x')\n+\t\treturn PRIx64;\n+\t      if (name[3] == 'X')\n+\t\treturn PRIX64;\n+\t      abort ();\n+\t    }\n+\t  if (name[4] == 'L' && name[5] == 'E' && name[6] == 'A'\n+\t      && name[7] == 'S' && name[8] == 'T')\n+\t    {\n+\t      if (name[9] == '8' && name[10] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdLEAST8;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiLEAST8;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoLEAST8;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuLEAST8;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxLEAST8;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXLEAST8;\n+\t\t  abort ();\n+\t\t}\n+\t      if (name[9] == '1' && name[10] == '6' && name[11] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdLEAST16;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiLEAST16;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoLEAST16;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuLEAST16;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxLEAST16;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXLEAST16;\n+\t\t  abort ();\n+\t\t}\n+\t      if (name[9] == '3' && name[10] == '2' && name[11] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdLEAST32;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiLEAST32;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoLEAST32;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuLEAST32;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxLEAST32;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXLEAST32;\n+\t\t  abort ();\n+\t\t}\n+\t      if (name[9] == '6' && name[10] == '4' && name[11] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdLEAST64;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiLEAST64;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoLEAST64;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuLEAST64;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxLEAST64;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXLEAST64;\n+\t\t  abort ();\n+\t\t}\n+\t    }\n+\t  if (name[4] == 'F' && name[5] == 'A' && name[6] == 'S'\n+\t      && name[7] == 'T')\n+\t    {\n+\t      if (name[8] == '8' && name[9] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdFAST8;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiFAST8;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoFAST8;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuFAST8;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxFAST8;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXFAST8;\n+\t\t  abort ();\n+\t\t}\n+\t      if (name[8] == '1' && name[9] == '6' && name[10] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdFAST16;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiFAST16;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoFAST16;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuFAST16;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxFAST16;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXFAST16;\n+\t\t  abort ();\n+\t\t}\n+\t      if (name[8] == '3' && name[9] == '2' && name[10] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdFAST32;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiFAST32;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoFAST32;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuFAST32;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxFAST32;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXFAST32;\n+\t\t  abort ();\n+\t\t}\n+\t      if (name[8] == '6' && name[9] == '4' && name[10] == '\\0')\n+\t\t{\n+\t\t  if (name[3] == 'd')\n+\t\t    return PRIdFAST64;\n+\t\t  if (name[3] == 'i')\n+\t\t    return PRIiFAST64;\n+\t\t  if (name[3] == 'o')\n+\t\t    return PRIoFAST64;\n+\t\t  if (name[3] == 'u')\n+\t\t    return PRIuFAST64;\n+\t\t  if (name[3] == 'x')\n+\t\t    return PRIxFAST64;\n+\t\t  if (name[3] == 'X')\n+\t\t    return PRIXFAST64;\n+\t\t  abort ();\n+\t\t}\n+\t    }\n+\t  if (name[4] == 'M' && name[5] == 'A' && name[6] == 'X'\n+\t      && name[7] == '\\0')\n+\t    {\n+\t      if (name[3] == 'd')\n+\t\treturn PRIdMAX;\n+\t      if (name[3] == 'i')\n+\t\treturn PRIiMAX;\n+\t      if (name[3] == 'o')\n+\t\treturn PRIoMAX;\n+\t      if (name[3] == 'u')\n+\t\treturn PRIuMAX;\n+\t      if (name[3] == 'x')\n+\t\treturn PRIxMAX;\n+\t      if (name[3] == 'X')\n+\t\treturn PRIXMAX;\n+\t      abort ();\n+\t    }\n+\t  if (name[4] == 'P' && name[5] == 'T' && name[6] == 'R'\n+\t      && name[7] == '\\0')\n+\t    {\n+\t      if (name[3] == 'd')\n+\t\treturn PRIdPTR;\n+\t      if (name[3] == 'i')\n+\t\treturn PRIiPTR;\n+\t      if (name[3] == 'o')\n+\t\treturn PRIoPTR;\n+\t      if (name[3] == 'u')\n+\t\treturn PRIuPTR;\n+\t      if (name[3] == 'x')\n+\t\treturn PRIxPTR;\n+\t      if (name[3] == 'X')\n+\t\treturn PRIXPTR;\n+\t      abort ();\n+\t    }\n+\t}\n+    }\n+  /* Other system dependent strings are not valid.  */\n+  return NULL;\n+}\n+\n+/* Initialize the codeset dependent parts of an opened message catalog.\n+   Return the header entry.  */\n+const char *\n+internal_function\n+_nl_init_domain_conv (domain_file, domain, domainbinding)\n+     struct loaded_l10nfile *domain_file;\n+     struct loaded_domain *domain;\n+     struct binding *domainbinding;\n+{\n+  /* Find out about the character set the file is encoded with.\n+     This can be found (in textual form) in the entry \"\".  If this\n+     entry does not exist or if this does not contain the `charset='\n+     information, we will assume the charset matches the one the\n+     current locale and we don't have to perform any conversion.  */\n+  char *nullentry;\n+  size_t nullentrylen;\n+\n+  /* Preinitialize fields, to avoid recursion during _nl_find_msg.  */\n+  domain->codeset_cntr =\n+    (domainbinding != NULL ? domainbinding->codeset_cntr : 0);\n+#ifdef _LIBC\n+  domain->conv = (__gconv_t) -1;\n+#else\n+# if HAVE_ICONV\n+  domain->conv = (iconv_t) -1;\n+# endif\n+#endif\n+  domain->conv_tab = NULL;\n+\n+  /* Get the header entry.  */\n+  nullentry = _nl_find_msg (domain_file, domainbinding, \"\", &nullentrylen);\n+\n+  if (nullentry != NULL)\n+    {\n+#if defined _LIBC || HAVE_ICONV\n+      const char *charsetstr;\n+\n+      charsetstr = strstr (nullentry, \"charset=\");\n+      if (charsetstr != NULL)\n+\t{\n+\t  size_t len;\n+\t  char *charset;\n+\t  const char *outcharset;\n+\n+\t  charsetstr += strlen (\"charset=\");\n+\t  len = strcspn (charsetstr, \" \\t\\n\");\n+\n+\t  charset = (char *) alloca (len + 1);\n+# if defined _LIBC || HAVE_MEMPCPY\n+\t  *((char *) mempcpy (charset, charsetstr, len)) = '\\0';\n+# else\n+\t  memcpy (charset, charsetstr, len);\n+\t  charset[len] = '\\0';\n+# endif\n+\n+\t  /* The output charset should normally be determined by the\n+\t     locale.  But sometimes the locale is not used or not correctly\n+\t     set up, so we provide a possibility for the user to override\n+\t     this.  Moreover, the value specified through\n+\t     bind_textdomain_codeset overrides both.  */\n+\t  if (domainbinding != NULL && domainbinding->codeset != NULL)\n+\t    outcharset = domainbinding->codeset;\n+\t  else\n+\t    {\n+\t      outcharset = getenv (\"OUTPUT_CHARSET\");\n+\t      if (outcharset == NULL || outcharset[0] == '\\0')\n+\t\t{\n+# ifdef _LIBC\n+\t\t  outcharset = _NL_CURRENT (LC_CTYPE, CODESET);\n+# else\n+#  if HAVE_ICONV\n+\t\t  extern const char *locale_charset PARAMS ((void));\n+\t\t  outcharset = locale_charset ();\n+#  endif\n+# endif\n+\t\t}\n+\t    }\n+\n+# ifdef _LIBC\n+\t  /* We always want to use transliteration.  */\n+\t  outcharset = norm_add_slashes (outcharset, \"TRANSLIT\");\n+\t  charset = norm_add_slashes (charset, NULL);\n+\t  if (__gconv_open (outcharset, charset, &domain->conv,\n+\t\t\t    GCONV_AVOID_NOCONV)\n+\t      != __GCONV_OK)\n+\t    domain->conv = (__gconv_t) -1;\n+# else\n+#  if HAVE_ICONV\n+\t  /* When using GNU libc >= 2.2 or GNU libiconv >= 1.5,\n+\t     we want to use transliteration.  */\n+#   if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 2) || __GLIBC__ > 2 \\\n+       || _LIBICONV_VERSION >= 0x0105\n+\t  if (strchr (outcharset, '/') == NULL)\n+\t    {\n+\t      char *tmp;\n+\n+\t      len = strlen (outcharset);\n+\t      tmp = (char *) alloca (len + 10 + 1);\n+\t      memcpy (tmp, outcharset, len);\n+\t      memcpy (tmp + len, \"//TRANSLIT\", 10 + 1);\n+\t      outcharset = tmp;\n+\n+\t      domain->conv = iconv_open (outcharset, charset);\n+\n+\t      freea (outcharset);\n+\t    }\n+\t  else\n+#   endif\n+\t    domain->conv = iconv_open (outcharset, charset);\n+#  endif\n+# endif\n+\n+\t  freea (charset);\n+\t}\n+#endif /* _LIBC || HAVE_ICONV */\n+    }\n+\n+  return nullentry;\n+}\n+\n+/* Frees the codeset dependent parts of an opened message catalog.  */\n+void\n+internal_function\n+_nl_free_domain_conv (domain)\n+     struct loaded_domain *domain;\n+{\n+  if (domain->conv_tab != NULL && domain->conv_tab != (char **) -1)\n+    free (domain->conv_tab);\n+\n+#ifdef _LIBC\n+  if (domain->conv != (__gconv_t) -1)\n+    __gconv_close (domain->conv);\n+#else\n+# if HAVE_ICONV\n+  if (domain->conv != (iconv_t) -1)\n+    iconv_close (domain->conv);\n+# endif\n+#endif\n+}\n+\n+/* Load the message catalogs specified by FILENAME.  If it is no valid\n+   message catalog do nothing.  */\n+void\n+internal_function\n+_nl_load_domain (domain_file, domainbinding)\n+     struct loaded_l10nfile *domain_file;\n+     struct binding *domainbinding;\n+{\n+  int fd;\n+  size_t size;\n+#ifdef _LIBC\n+  struct stat64 st;\n+#else\n+  struct stat st;\n+#endif\n+  struct mo_file_header *data = (struct mo_file_header *) -1;\n+  int use_mmap = 0;\n+  struct loaded_domain *domain;\n+  int revision;\n+  const char *nullentry;\n+\n+  domain_file->decided = 1;\n+  domain_file->data = NULL;\n+\n+  /* Note that it would be useless to store domainbinding in domain_file\n+     because domainbinding might be == NULL now but != NULL later (after\n+     a call to bind_textdomain_codeset).  */\n+\n+  /* If the record does not represent a valid locale the FILENAME\n+     might be NULL.  This can happen when according to the given\n+     specification the locale file name is different for XPG and CEN\n+     syntax.  */\n+  if (domain_file->filename == NULL)\n+    return;\n+\n+  /* Try to open the addressed file.  */\n+  fd = open (domain_file->filename, O_RDONLY | O_BINARY);\n+  if (fd == -1)\n+    return;\n+\n+  /* We must know about the size of the file.  */\n+  if (\n+#ifdef _LIBC\n+      __builtin_expect (fstat64 (fd, &st) != 0, 0)\n+#else\n+      __builtin_expect (fstat (fd, &st) != 0, 0)\n+#endif\n+      || __builtin_expect ((size = (size_t) st.st_size) != st.st_size, 0)\n+      || __builtin_expect (size < sizeof (struct mo_file_header), 0))\n+    {\n+      /* Something went wrong.  */\n+      close (fd);\n+      return;\n+    }\n+\n+#ifdef HAVE_MMAP\n+  /* Now we are ready to load the file.  If mmap() is available we try\n+     this first.  If not available or it failed we try to load it.  */\n+  data = (struct mo_file_header *) mmap (NULL, size, PROT_READ,\n+\t\t\t\t\t MAP_PRIVATE, fd, 0);\n+\n+  if (__builtin_expect (data != (struct mo_file_header *) -1, 1))\n+    {\n+      /* mmap() call was successful.  */\n+      close (fd);\n+      use_mmap = 1;\n+    }\n+#endif\n+\n+  /* If the data is not yet available (i.e. mmap'ed) we try to load\n+     it manually.  */\n+  if (data == (struct mo_file_header *) -1)\n+    {\n+      size_t to_read;\n+      char *read_ptr;\n+\n+      data = (struct mo_file_header *) malloc (size);\n+      if (data == NULL)\n+\treturn;\n+\n+      to_read = size;\n+      read_ptr = (char *) data;\n+      do\n+\t{\n+\t  long int nb = (long int) read (fd, read_ptr, to_read);\n+\t  if (nb <= 0)\n+\t    {\n+#ifdef EINTR\n+\t      if (nb == -1 && errno == EINTR)\n+\t\tcontinue;\n+#endif\n+\t      close (fd);\n+\t      return;\n+\t    }\n+\t  read_ptr += nb;\n+\t  to_read -= nb;\n+\t}\n+      while (to_read > 0);\n+\n+      close (fd);\n+    }\n+\n+  /* Using the magic number we can test whether it really is a message\n+     catalog file.  */\n+  if (__builtin_expect (data->magic != _MAGIC && data->magic != _MAGIC_SWAPPED,\n+\t\t\t0))\n+    {\n+      /* The magic number is wrong: not a message catalog file.  */\n+#ifdef HAVE_MMAP\n+      if (use_mmap)\n+\tmunmap ((caddr_t) data, size);\n+      else\n+#endif\n+\tfree (data);\n+      return;\n+    }\n+\n+  domain = (struct loaded_domain *) malloc (sizeof (struct loaded_domain));\n+  if (domain == NULL)\n+    return;\n+  domain_file->data = domain;\n+\n+  domain->data = (char *) data;\n+  domain->use_mmap = use_mmap;\n+  domain->mmap_size = size;\n+  domain->must_swap = data->magic != _MAGIC;\n+  domain->malloced = NULL;\n+\n+  /* Fill in the information about the available tables.  */\n+  revision = W (domain->must_swap, data->revision);\n+  /* We support only the major revision 0.  */\n+  switch (revision >> 16)\n+    {\n+    case 0:\n+      domain->nstrings = W (domain->must_swap, data->nstrings);\n+      domain->orig_tab = (const struct string_desc *)\n+\t((char *) data + W (domain->must_swap, data->orig_tab_offset));\n+      domain->trans_tab = (const struct string_desc *)\n+\t((char *) data + W (domain->must_swap, data->trans_tab_offset));\n+      domain->hash_size = W (domain->must_swap, data->hash_tab_size);\n+      domain->hash_tab =\n+\t(domain->hash_size > 2\n+\t ? (const nls_uint32 *)\n+\t   ((char *) data + W (domain->must_swap, data->hash_tab_offset))\n+\t : NULL);\n+      domain->must_swap_hash_tab = domain->must_swap;\n+\n+      /* Now dispatch on the minor revision.  */\n+      switch (revision & 0xffff)\n+\t{\n+\tcase 0:\n+\t  domain->n_sysdep_strings = 0;\n+\t  domain->orig_sysdep_tab = NULL;\n+\t  domain->trans_sysdep_tab = NULL;\n+\t  break;\n+\tcase 1:\n+\tdefault:\n+\t  {\n+\t    nls_uint32 n_sysdep_strings;\n+\n+\t    if (domain->hash_tab == NULL)\n+\t      /* This is invalid.  These minor revisions need a hash table.  */\n+\t      goto invalid;\n+\n+\t    n_sysdep_strings =\n+\t      W (domain->must_swap, data->n_sysdep_strings);\n+\t    if (n_sysdep_strings > 0)\n+\t      {\n+\t\tnls_uint32 n_sysdep_segments;\n+\t\tconst struct sysdep_segment *sysdep_segments;\n+\t\tconst char **sysdep_segment_values;\n+\t\tconst nls_uint32 *orig_sysdep_tab;\n+\t\tconst nls_uint32 *trans_sysdep_tab;\n+\t\tsize_t memneed;\n+\t\tchar *mem;\n+\t\tstruct sysdep_string_desc *inmem_orig_sysdep_tab;\n+\t\tstruct sysdep_string_desc *inmem_trans_sysdep_tab;\n+\t\tnls_uint32 *inmem_hash_tab;\n+\t\tunsigned int i;\n+\n+\t\t/* Get the values of the system dependent segments.  */\n+\t\tn_sysdep_segments =\n+\t\t  W (domain->must_swap, data->n_sysdep_segments);\n+\t\tsysdep_segments = (const struct sysdep_segment *)\n+\t\t  ((char *) data\n+\t\t   + W (domain->must_swap, data->sysdep_segments_offset));\n+\t\tsysdep_segment_values =\n+\t\t  alloca (n_sysdep_segments * sizeof (const char *));\n+\t\tfor (i = 0; i < n_sysdep_segments; i++)\n+\t\t  {\n+\t\t    const char *name =\n+\t\t      (char *) data\n+\t\t      + W (domain->must_swap, sysdep_segments[i].offset);\n+\t\t    nls_uint32 namelen =\n+\t\t      W (domain->must_swap, sysdep_segments[i].length);\n+\n+\t\t    if (!(namelen > 0 && name[namelen - 1] == '\\0'))\n+\t\t      {\n+\t\t\tfreea (sysdep_segment_values);\n+\t\t\tgoto invalid;\n+\t\t      }\n+\n+\t\t    sysdep_segment_values[i] = get_sysdep_segment_value (name);\n+\t\t  }\n+\n+\t\torig_sysdep_tab = (const nls_uint32 *)\n+\t\t  ((char *) data\n+\t\t   + W (domain->must_swap, data->orig_sysdep_tab_offset));\n+\t\ttrans_sysdep_tab = (const nls_uint32 *)\n+\t\t  ((char *) data\n+\t\t   + W (domain->must_swap, data->trans_sysdep_tab_offset));\n+\n+\t\t/* Compute the amount of additional memory needed for the\n+\t\t   system dependent strings and the augmented hash table.  */\n+\t\tmemneed = 2 * n_sysdep_strings\n+\t\t\t  * sizeof (struct sysdep_string_desc)\n+\t\t\t  + domain->hash_size * sizeof (nls_uint32);\n+\t\tfor (i = 0; i < 2 * n_sysdep_strings; i++)\n+\t\t  {\n+\t\t    const struct sysdep_string *sysdep_string =\n+\t\t      (const struct sysdep_string *)\n+\t\t      ((char *) data\n+\t\t       + W (domain->must_swap,\n+\t\t\t    i < n_sysdep_strings\n+\t\t\t    ? orig_sysdep_tab[i]\n+\t\t\t    : trans_sysdep_tab[i - n_sysdep_strings]));\n+\t\t    size_t need = 0;\n+\t\t    const struct segment_pair *p = sysdep_string->segments;\n+\n+\t\t    if (W (domain->must_swap, p->sysdepref) != SEGMENTS_END)\n+\t\t      for (p = sysdep_string->segments;; p++)\n+\t\t\t{\n+\t\t\t  nls_uint32 sysdepref;\n+\n+\t\t\t  need += W (domain->must_swap, p->segsize);\n+\n+\t\t\t  sysdepref = W (domain->must_swap, p->sysdepref);\n+\t\t\t  if (sysdepref == SEGMENTS_END)\n+\t\t\t    break;\n+\n+\t\t\t  if (sysdepref >= n_sysdep_segments)\n+\t\t\t    {\n+\t\t\t      /* Invalid.  */\n+\t\t\t      freea (sysdep_segment_values);\n+\t\t\t      goto invalid;\n+\t\t\t    }\n+\n+\t\t\t  need += strlen (sysdep_segment_values[sysdepref]);\n+\t\t\t}\n+\n+\t\t    memneed += need;\n+\t\t  }\n+\n+\t\t/* Allocate additional memory.  */\n+\t\tmem = (char *) malloc (memneed);\n+\t\tif (mem == NULL)\n+\t\t  goto invalid;\n+\n+\t\tdomain->malloced = mem;\n+\t\tinmem_orig_sysdep_tab = (struct sysdep_string_desc *) mem;\n+\t\tmem += n_sysdep_strings * sizeof (struct sysdep_string_desc);\n+\t\tinmem_trans_sysdep_tab = (struct sysdep_string_desc *) mem;\n+\t\tmem += n_sysdep_strings * sizeof (struct sysdep_string_desc);\n+\t\tinmem_hash_tab = (nls_uint32 *) mem;\n+\t\tmem += domain->hash_size * sizeof (nls_uint32);\n+\n+\t\t/* Compute the system dependent strings.  */\n+\t\tfor (i = 0; i < 2 * n_sysdep_strings; i++)\n+\t\t  {\n+\t\t    const struct sysdep_string *sysdep_string =\n+\t\t      (const struct sysdep_string *)\n+\t\t      ((char *) data\n+\t\t       + W (domain->must_swap,\n+\t\t\t    i < n_sysdep_strings\n+\t\t\t    ? orig_sysdep_tab[i]\n+\t\t\t    : trans_sysdep_tab[i - n_sysdep_strings]));\n+\t\t    const char *static_segments =\n+\t\t      (char *) data\n+\t\t      + W (domain->must_swap, sysdep_string->offset);\n+\t\t    const struct segment_pair *p = sysdep_string->segments;\n+\n+\t\t    /* Concatenate the segments, and fill\n+\t\t       inmem_orig_sysdep_tab[i] (for i < n_sysdep_strings) and\n+\t\t       inmem_trans_sysdep_tab[i-n_sysdep_strings] (for\n+\t\t       i >= n_sysdep_strings).  */\n+\n+\t\t    if (W (domain->must_swap, p->sysdepref) == SEGMENTS_END)\n+\t\t      {\n+\t\t\t/* Only one static segment.  */\n+\t\t\tinmem_orig_sysdep_tab[i].length =\n+\t\t\t  W (domain->must_swap, p->segsize);\n+\t\t\tinmem_orig_sysdep_tab[i].pointer = static_segments;\n+\t\t      }\n+\t\t    else\n+\t\t      {\n+\t\t\tinmem_orig_sysdep_tab[i].pointer = mem;\n+\n+\t\t\tfor (p = sysdep_string->segments;; p++)\n+\t\t\t  {\n+\t\t\t    nls_uint32 segsize =\n+\t\t\t      W (domain->must_swap, p->segsize);\n+\t\t\t    nls_uint32 sysdepref =\n+\t\t\t      W (domain->must_swap, p->sysdepref);\n+\t\t\t    size_t n;\n+\n+\t\t\t    if (segsize > 0)\n+\t\t\t      {\n+\t\t\t\tmemcpy (mem, static_segments, segsize);\n+\t\t\t\tmem += segsize;\n+\t\t\t\tstatic_segments += segsize;\n+\t\t\t      }\n+\n+\t\t\t    if (sysdepref == SEGMENTS_END)\n+\t\t\t      break;\n+\n+\t\t\t    n = strlen (sysdep_segment_values[sysdepref]);\n+\t\t\t    memcpy (mem, sysdep_segment_values[sysdepref], n);\n+\t\t\t    mem += n;\n+\t\t\t  }\n+\n+\t\t\tinmem_orig_sysdep_tab[i].length =\n+\t\t\t  mem - inmem_orig_sysdep_tab[i].pointer;\n+\t\t      }\n+\t\t  }\n+\n+\t\t/* Compute the augmented hash table.  */\n+\t\tfor (i = 0; i < domain->hash_size; i++)\n+\t\t  inmem_hash_tab[i] =\n+\t\t    W (domain->must_swap_hash_tab, domain->hash_tab[i]);\n+\t\tfor (i = 0; i < n_sysdep_strings; i++)\n+\t\t  {\n+\t\t    const char *msgid = inmem_orig_sysdep_tab[i].pointer;\n+\t\t    nls_uint32 hash_val = hash_string (msgid);\n+\t\t    nls_uint32 idx = hash_val % domain->hash_size;\n+\t\t    nls_uint32 incr = 1 + (hash_val % (domain->hash_size - 2));\n+\n+\t\t    for (;;)\n+\t\t      {\n+\t\t\tif (inmem_hash_tab[idx] == 0)\n+\t\t\t  {\n+\t\t\t    /* Hash table entry is empty.  Use it.  */\n+\t\t\t    inmem_hash_tab[idx] = 1 + domain->nstrings + i;\n+\t\t\t    break;\n+\t\t\t  }\n+\n+\t\t\tif (idx >= domain->hash_size - incr)\n+\t\t\t  idx -= domain->hash_size - incr;\n+\t\t\telse\n+\t\t\t  idx += incr;\n+\t\t      }\n+\t\t  }\n+\n+\t\tfreea (sysdep_segment_values);\n+\n+\t\tdomain->n_sysdep_strings = n_sysdep_strings;\n+\t\tdomain->orig_sysdep_tab = inmem_orig_sysdep_tab;\n+\t\tdomain->trans_sysdep_tab = inmem_trans_sysdep_tab;\n+\n+\t\tdomain->hash_tab = inmem_hash_tab;\n+\t\tdomain->must_swap_hash_tab = 0;\n+\t      }\n+\t    else\n+\t      {\n+\t\tdomain->n_sysdep_strings = 0;\n+\t\tdomain->orig_sysdep_tab = NULL;\n+\t\tdomain->trans_sysdep_tab = NULL;\n+\t      }\n+\t  }\n+\t  break;\n+\t}\n+      break;\n+    default:\n+      /* This is an invalid revision.  */\n+    invalid:\n+      /* This is an invalid .mo file.  */\n+      if (domain->malloced)\n+\tfree (domain->malloced);\n+#ifdef HAVE_MMAP\n+      if (use_mmap)\n+\tmunmap ((caddr_t) data, size);\n+      else\n+#endif\n+\tfree (data);\n+      free (domain);\n+      domain_file->data = NULL;\n+      return;\n+    }\n+\n+  /* Now initialize the character set converter from the character set\n+     the file is encoded with (found in the header entry) to the domain's\n+     specified character set or the locale's character set.  */\n+  nullentry = _nl_init_domain_conv (domain_file, domain, domainbinding);\n+\n+  /* Also look for a plural specification.  */\n+  EXTRACT_PLURAL_EXPRESSION (nullentry, &domain->plural, &domain->nplurals);\n+}\n+\n+\n+#ifdef _LIBC\n+void\n+internal_function\n+_nl_unload_domain (domain)\n+     struct loaded_domain *domain;\n+{\n+  if (domain->plural != &__gettext_germanic_plural)\n+    __gettext_free_exp (domain->plural);\n+\n+  _nl_free_domain_conv (domain);\n+\n+  if (domain->malloced)\n+    free (domain->malloced);\n+\n+# ifdef _POSIX_MAPPED_FILES\n+  if (domain->use_mmap)\n+    munmap ((caddr_t) domain->data, domain->mmap_size);\n+  else\n+# endif\t/* _POSIX_MAPPED_FILES */\n+    free ((void *) domain->data);\n+\n+  free (domain);\n+}\n+#endif"}, {"sha": "d04d05368f96b53fa19b61ea254dee638920a69c", "filename": "intl/localcharset.c", "status": "renamed", "additions": 144, "deletions": 20, "changes": 164, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalcharset.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalcharset.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flocalcharset.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,6 +1,6 @@\n /* Determine a canonical name for the current locale's character encoding.\n \n-   Copyright (C) 2000-2001 Free Software Foundation, Inc.\n+   Copyright (C) 2000-2003 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -17,12 +17,15 @@\n    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n    USA.  */\n \n-/* Written by Bruno Haible <haible@clisp.cons.org>.  */\n+/* Written by Bruno Haible <bruno@clisp.org>.  */\n \n #ifdef HAVE_CONFIG_H\n # include <config.h>\n #endif\n \n+/* Specification.  */\n+#include \"localcharset.h\"\n+\n #if HAVE_STDDEF_H\n # include <stddef.h>\n #endif\n@@ -42,20 +45,38 @@\n # define WIN32\n #endif\n \n-#ifndef WIN32\n+#if defined __EMX__\n+/* Assume EMX program runs on OS/2, even if compiled under DOS.  */\n+# define OS2\n+#endif\n+\n+#if !defined WIN32\n # if HAVE_LANGINFO_CODESET\n #  include <langinfo.h>\n # else\n #  if HAVE_SETLOCALE\n #   include <locale.h>\n #  endif\n # endif\n-#else /* WIN32 */\n+#elif defined WIN32\n # define WIN32_LEAN_AND_MEAN\n # include <windows.h>\n #endif\n+#if defined OS2\n+# define INCL_DOS\n+# include <os2.h>\n+#endif\n+\n+#if ENABLE_RELOCATABLE\n+# include \"relocatable.h\"\n+#else\n+# define relocate(pathname) (pathname)\n+#endif\n \n-#include \"gettextP.h\"\n+#if defined _WIN32 || defined __WIN32__ || defined __EMX__ || defined __DJGPP__\n+  /* Win32, OS/2, DOS */\n+# define ISSLASH(C) ((C) == '/' || (C) == '\\\\')\n+#endif\n \n #ifndef DIRECTORY_SEPARATOR\n # define DIRECTORY_SEPARATOR '/'\n@@ -65,6 +86,11 @@\n # define ISSLASH(C) ((C) == DIRECTORY_SEPARATOR)\n #endif\n \n+#ifdef HAVE_GETC_UNLOCKED\n+# undef getc\n+# define getc getc_unlocked\n+#endif\n+\n /* The following static variable is declared 'volatile' to avoid a\n    possible multithread problem in the function get_charset_aliases. If we\n    are running in a threaded environment, and if two threads initialize\n@@ -79,9 +105,6 @@\n    ALIAS_1 '\\0' CANONICAL_1 '\\0' ... ALIAS_n '\\0' CANONICAL_n '\\0' '\\0'  */\n static const char * volatile charset_aliases;\n \n-/* GCC LOCAL: Static function prototypes.  */\n-static const char *get_charset_aliases PARAMS ((void));\n-\n /* Return a pointer to the contents of the charset.alias file.  */\n static const char *\n get_charset_aliases ()\n@@ -91,9 +114,9 @@ get_charset_aliases ()\n   cp = charset_aliases;\n   if (cp == NULL)\n     {\n-#ifndef WIN32\n+#if !(defined VMS || defined WIN32)\n       FILE *fp;\n-      const char *dir = LIBDIR;\n+      const char *dir = relocate (LIBDIR);\n       const char *base = \"charset.alias\";\n       char *file_name;\n \n@@ -143,19 +166,19 @@ get_charset_aliases ()\n \t\t  continue;\n \t\t}\n \t      ungetc (c, fp);\n-\t      if (fscanf(fp, \"%50s %50s\", buf1, buf2) < 2)\n+\t      if (fscanf (fp, \"%50s %50s\", buf1, buf2) < 2)\n \t\tbreak;\n \t      l1 = strlen (buf1);\n \t      l2 = strlen (buf2);\n \t      if (res_size == 0)\n \t\t{\n \t\t  res_size = l1 + 1 + l2 + 1;\n-\t\t  res_ptr = malloc (res_size + 1);\n+\t\t  res_ptr = (char *) malloc (res_size + 1);\n \t\t}\n \t      else\n \t\t{\n \t\t  res_size += l1 + 1 + l2 + 1;\n-\t\t  res_ptr = realloc (res_ptr, res_size + 1);\n+\t\t  res_ptr = (char *) realloc (res_ptr, res_size + 1);\n \t\t}\n \t      if (res_ptr == NULL)\n \t\t{\n@@ -179,14 +202,54 @@ get_charset_aliases ()\n       if (file_name != NULL)\n \tfree (file_name);\n \n-#else /* WIN32 */\n+#else\n \n+# if defined VMS\n+      /* To avoid the troubles of an extra file charset.alias_vms in the\n+\t sources of many GNU packages, simply inline the aliases here.  */\n+      /* The list of encodings is taken from the OpenVMS 7.3-1 documentation\n+\t \"Compaq C Run-Time Library Reference Manual for OpenVMS systems\"\n+\t section 10.7 \"Handling Different Character Sets\".  */\n+      cp = \"ISO8859-1\" \"\\0\" \"ISO-8859-1\" \"\\0\"\n+\t   \"ISO8859-2\" \"\\0\" \"ISO-8859-2\" \"\\0\"\n+\t   \"ISO8859-5\" \"\\0\" \"ISO-8859-5\" \"\\0\"\n+\t   \"ISO8859-7\" \"\\0\" \"ISO-8859-7\" \"\\0\"\n+\t   \"ISO8859-8\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n+\t   \"ISO8859-9\" \"\\0\" \"ISO-8859-9\" \"\\0\"\n+\t   /* Japanese */\n+\t   \"eucJP\" \"\\0\" \"EUC-JP\" \"\\0\"\n+\t   \"SJIS\" \"\\0\" \"SHIFT_JIS\" \"\\0\"\n+\t   \"DECKANJI\" \"\\0\" \"DEC-KANJI\" \"\\0\"\n+\t   \"SDECKANJI\" \"\\0\" \"EUC-JP\" \"\\0\"\n+\t   /* Chinese */\n+\t   \"eucTW\" \"\\0\" \"EUC-TW\" \"\\0\"\n+\t   \"DECHANYU\" \"\\0\" \"DEC-HANYU\" \"\\0\"\n+\t   \"DECHANZI\" \"\\0\" \"GB2312\" \"\\0\"\n+\t   /* Korean */\n+\t   \"DECKOREAN\" \"\\0\" \"EUC-KR\" \"\\0\";\n+# endif\n+\n+# if defined WIN32\n       /* To avoid the troubles of installing a separate file in the same\n \t directory as the DLL and of retrieving the DLL's directory at\n \t runtime, simply inline the aliases here.  */\n \n       cp = \"CP936\" \"\\0\" \"GBK\" \"\\0\"\n-\t   \"CP1361\" \"\\0\" \"JOHAB\" \"\\0\";\n+\t   \"CP1361\" \"\\0\" \"JOHAB\" \"\\0\"\n+\t   \"CP20127\" \"\\0\" \"ASCII\" \"\\0\"\n+\t   \"CP20866\" \"\\0\" \"KOI8-R\" \"\\0\"\n+\t   \"CP21866\" \"\\0\" \"KOI8-RU\" \"\\0\"\n+\t   \"CP28591\" \"\\0\" \"ISO-8859-1\" \"\\0\"\n+\t   \"CP28592\" \"\\0\" \"ISO-8859-2\" \"\\0\"\n+\t   \"CP28593\" \"\\0\" \"ISO-8859-3\" \"\\0\"\n+\t   \"CP28594\" \"\\0\" \"ISO-8859-4\" \"\\0\"\n+\t   \"CP28595\" \"\\0\" \"ISO-8859-5\" \"\\0\"\n+\t   \"CP28596\" \"\\0\" \"ISO-8859-6\" \"\\0\"\n+\t   \"CP28597\" \"\\0\" \"ISO-8859-7\" \"\\0\"\n+\t   \"CP28598\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n+\t   \"CP28599\" \"\\0\" \"ISO-8859-9\" \"\\0\"\n+\t   \"CP28605\" \"\\0\" \"ISO-8859-15\" \"\\0\";\n+# endif\n #endif\n \n       charset_aliases = cp;\n@@ -199,16 +262,18 @@ get_charset_aliases ()\n    into one of the canonical names listed in config.charset.\n    The result must not be freed; it is statically allocated.\n    If the canonical name cannot be determined, the result is a non-canonical\n-   name.\n-   GCC LOCAL: Get rid of STATIC nonsense. */\n+   name.  */\n \n+#ifdef STATIC\n+STATIC\n+#endif\n const char *\n locale_charset ()\n {\n   const char *codeset;\n   const char *aliases;\n \n-#ifndef WIN32\n+#if !(defined WIN32 || defined OS2)\n \n # if HAVE_LANGINFO_CODESET\n \n@@ -245,14 +310,67 @@ locale_charset ()\n \n # endif\n \n-#else /* WIN32 */\n+#elif defined WIN32\n \n   static char buf[2 + 10 + 1];\n \n-  /* Win32 has a function returning the locale's codepage as a number.  */\n+  /* Woe32 has a function returning the locale's codepage as a number.  */\n   sprintf (buf, \"CP%u\", GetACP ());\n   codeset = buf;\n \n+#elif defined OS2\n+\n+  const char *locale;\n+  static char buf[2 + 10 + 1];\n+  ULONG cp[3];\n+  ULONG cplen;\n+\n+  /* Allow user to override the codeset, as set in the operating system,\n+     with standard language environment variables.  */\n+  locale = getenv (\"LC_ALL\");\n+  if (locale == NULL || locale[0] == '\\0')\n+    {\n+      locale = getenv (\"LC_CTYPE\");\n+      if (locale == NULL || locale[0] == '\\0')\n+\tlocale = getenv (\"LANG\");\n+    }\n+  if (locale != NULL && locale[0] != '\\0')\n+    {\n+      /* If the locale name contains an encoding after the dot, return it.  */\n+      const char *dot = strchr (locale, '.');\n+\n+      if (dot != NULL)\n+\t{\n+\t  const char *modifier;\n+\n+\t  dot++;\n+\t  /* Look for the possible @... trailer and remove it, if any.  */\n+\t  modifier = strchr (dot, '@');\n+\t  if (modifier == NULL)\n+\t    return dot;\n+\t  if (modifier - dot < sizeof (buf))\n+\t    {\n+\t      memcpy (buf, dot, modifier - dot);\n+\t      buf [modifier - dot] = '\\0';\n+\t      return buf;\n+\t    }\n+\t}\n+\n+      /* Resolve through the charset.alias file.  */\n+      codeset = locale;\n+    }\n+  else\n+    {\n+      /* OS/2 has a function returning the locale's codepage as a number.  */\n+      if (DosQueryCp (sizeof (cp), cp, &cplen))\n+\tcodeset = \"\";\n+      else\n+\t{\n+\t  sprintf (buf, \"CP%u\", cp[0]);\n+\t  codeset = buf;\n+\t}\n+    }\n+\n #endif\n \n   if (codeset == NULL)\n@@ -270,5 +388,11 @@ locale_charset ()\n \tbreak;\n       }\n \n+  /* Don't return an empty string.  GNU libc and GNU libiconv interpret\n+     the empty string as denoting \"the locale's character encoding\",\n+     thus GNU libiconv would call this function a second time.  */\n+  if (codeset[0] == '\\0')\n+    codeset = \"ASCII\";\n+\n   return codeset;\n }", "previous_filename": "gcc/intl/localcharset.c"}, {"sha": "3b137e73c552c9b1f37d33b379ee34dc586eaa01", "filename": "intl/localcharset.h", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalcharset.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalcharset.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flocalcharset.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,42 @@\n+/* Determine a canonical name for the current locale's character encoding.\n+   Copyright (C) 2000-2003 Free Software Foundation, Inc.\n+   This file is part of the GNU CHARSET Library.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifndef _LOCALCHARSET_H\n+#define _LOCALCHARSET_H\n+\n+\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+\n+/* Determine the current locale's character encoding, and canonicalize it\n+   into one of the canonical names listed in config.charset.\n+   The result must not be freed; it is statically allocated.\n+   If the canonical name cannot be determined, the result is a non-canonical\n+   name.  */\n+extern const char * locale_charset (void);\n+\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+\n+#endif /* _LOCALCHARSET_H */"}, {"sha": "bd7b9b31eb31edc971d28f1abc295ced77ad7210", "filename": "intl/locale.alias", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocale.alias", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocale.alias", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flocale.alias?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "previous_filename": "gcc/intl/locale.alias"}, {"sha": "7c4ce58f2a67ee15e50113a77d1a68dc6452b4c1", "filename": "intl/localealias.c", "status": "renamed", "additions": 71, "deletions": 60, "changes": 131, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalealias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalealias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flocalealias.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Handle aliases for locale names.\n-   Copyright (C) 1995-1999, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1999, 2000-2001, 2003 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -29,40 +29,45 @@\n \n #include <ctype.h>\n #include <stdio.h>\n+#if defined _LIBC || defined HAVE___FSETLOCKING\n+# include <stdio_ext.h>\n+#endif\n #include <sys/types.h>\n \n #ifdef __GNUC__\n+# undef alloca\n # define alloca __builtin_alloca\n # define HAVE_ALLOCA 1\n #else\n-# if defined HAVE_ALLOCA_H || defined _LIBC\n-#  include <alloca.h>\n+# ifdef _MSC_VER\n+#  include <malloc.h>\n+#  define alloca _alloca\n # else\n-#  ifdef _AIX\n- #pragma alloca\n+#  if defined HAVE_ALLOCA_H || defined _LIBC\n+#   include <alloca.h>\n #  else\n-#   ifndef alloca\n+#   ifdef _AIX\n+ #pragma alloca\n+#   else\n+#    ifndef alloca\n char *alloca ();\n+#    endif\n #   endif\n #  endif\n # endif\n #endif\n \n #include <stdlib.h>\n-\n #include <string.h>\n-#if !HAVE_STRCHR && !defined _LIBC\n-# ifndef strchr\n-#  define strchr index\n-# endif\n-#endif\n-\n-#ifdef STRING_WITH_STRINGS\n-#include <strings.h>\n-#endif\n \n #include \"gettextP.h\"\n \n+#if ENABLE_RELOCATABLE\n+# include \"relocatable.h\"\n+#else\n+# define relocate(pathname) (pathname)\n+#endif\n+\n /* @@ end of prolog @@ */\n \n #ifdef _LIBC\n@@ -75,6 +80,7 @@ char *alloca ();\n #  define mempcpy __mempcpy\n # endif\n # define HAVE_MEMPCPY\t1\n+# define HAVE___FSETLOCKING\t1\n \n /* We need locking here since we can be called from different places.  */\n # include <bits/libc-lock.h>\n@@ -86,6 +92,15 @@ __libc_lock_define_initialized (static, lock);\n # define internal_function\n #endif\n \n+/* Some optimizations for glibc.  */\n+#ifdef _LIBC\n+# define FEOF(fp)\t\tfeof_unlocked (fp)\n+# define FGETS(buf, n, fp)\tfgets_unlocked (buf, n, fp)\n+#else\n+# define FEOF(fp)\t\tfeof (fp)\n+# define FGETS(buf, n, fp)\tfgets (buf, n, fp)\n+#endif\n+\n /* For those losing systems which don't have `alloca' we have to add\n    some additional code emulating it.  */\n #ifdef HAVE_ALLOCA\n@@ -112,10 +127,14 @@ struct alias_map\n };\n \n \n-static char *string_space;\n+#ifndef _LIBC\n+# define libc_freeres_ptr(decl) decl\n+#endif\n+\n+libc_freeres_ptr (static char *string_space);\n static size_t string_space_act;\n static size_t string_space_max;\n-static struct alias_map *map;\n+libc_freeres_ptr (static struct alias_map *map);\n static size_t nmap;\n static size_t maxmap;\n \n@@ -132,7 +151,7 @@ const char *\n _nl_expand_alias (name)\n     const char *name;\n {\n-  static const char *locale_alias_path = LOCALE_ALIAS_PATH;\n+  static const char *locale_alias_path;\n   struct alias_map *retval;\n   const char *result = NULL;\n   size_t added;\n@@ -141,6 +160,9 @@ _nl_expand_alias (name)\n   __libc_lock_lock (lock);\n #endif\n \n+  if (locale_alias_path == NULL)\n+    locale_alias_path = LOCALE_ALIAS_PATH;\n+\n   do\n     {\n       struct alias_map item;\n@@ -211,58 +233,52 @@ read_alias_file (fname, fname_len)\n   memcpy (&full_fname[fname_len], aliasfile, sizeof aliasfile);\n #endif\n \n-  fp = fopen (full_fname, \"r\");\n+  fp = fopen (relocate (full_fname), \"r\");\n   freea (full_fname);\n   if (fp == NULL)\n     return 0;\n \n+#ifdef HAVE___FSETLOCKING\n+  /* No threads present.  */\n+  __fsetlocking (fp, FSETLOCKING_BYCALLER);\n+#endif\n+\n   added = 0;\n-  while (!feof (fp))\n+  while (!FEOF (fp))\n     {\n       /* It is a reasonable approach to use a fix buffer here because\n \t a) we are only interested in the first two fields\n \t b) these fields must be usable as file names and so must not\n \t    be that long\n-       */\n-      char buf[BUFSIZ];\n+\t We avoid a multi-kilobyte buffer here since this would use up\n+\t stack space which we might not have if the program ran out of\n+\t memory.  */\n+      char buf[400];\n       char *alias;\n       char *value;\n       char *cp;\n \n-      if (fgets (buf, sizeof buf, fp) == NULL)\n+      if (FGETS (buf, sizeof buf, fp) == NULL)\n \t/* EOF reached.  */\n \tbreak;\n \n-      /* Possibly not the whole line fits into the buffer.  Ignore\n-\t the rest of the line.  */\n-      if (strchr (buf, '\\n') == NULL)\n-\t{\n-\t  char altbuf[BUFSIZ];\n-\t  do\n-\t    if (fgets (altbuf, sizeof altbuf, fp) == NULL)\n-\t      /* Make sure the inner loop will be left.  The outer loop\n-\t\t will exit at the `feof' test.  */\n-\t      break;\n-\t  while (strchr (altbuf, '\\n') == NULL);\n-\t}\n-\n       cp = buf;\n       /* Ignore leading white space.  */\n-      while (isspace ((unsigned char)cp[0]))\n+      while (isspace ((unsigned char) cp[0]))\n \t++cp;\n \n       /* A leading '#' signals a comment line.  */\n       if (cp[0] != '\\0' && cp[0] != '#')\n \t{\n \t  alias = cp++;\n-\t  while (cp[0] != '\\0' && !isspace ((unsigned char)cp[0]))\n+\t  while (cp[0] != '\\0' && !isspace ((unsigned char) cp[0]))\n \t    ++cp;\n \t  /* Terminate alias name.  */\n \t  if (cp[0] != '\\0')\n \t    *cp++ = '\\0';\n \n \t  /* Now look for the beginning of the value.  */\n-\t  while (isspace ((unsigned char)cp[0]))\n+\t  while (isspace ((unsigned char) cp[0]))\n \t    ++cp;\n \n \t  if (cp[0] != '\\0')\n@@ -271,7 +287,7 @@ read_alias_file (fname, fname_len)\n \t      size_t value_len;\n \n \t      value = cp++;\n-\t      while (cp[0] != '\\0' && !isspace ((unsigned char)cp[0]))\n+\t      while (cp[0] != '\\0' && !isspace ((unsigned char) cp[0]))\n \t\t++cp;\n \t      /* Terminate value.  */\n \t      if (cp[0] == '\\n')\n@@ -317,18 +333,26 @@ read_alias_file (fname, fname_len)\n \t\t  string_space_max = new_size;\n \t\t}\n \n-\t      memcpy (&string_space[string_space_act], alias, alias_len);\n-\t      map[nmap].alias = &string_space[string_space_act];\n+\t      map[nmap].alias = memcpy (&string_space[string_space_act],\n+\t\t\t\t\talias, alias_len);\n \t      string_space_act += alias_len;\n \n-\t      memcpy (&string_space[string_space_act], value, value_len);\n-\t      map[nmap].value = &string_space[string_space_act];\n+\t      map[nmap].value = memcpy (&string_space[string_space_act],\n+\t\t\t\t\tvalue, value_len);\n \t      string_space_act += value_len;\n \n \t      ++nmap;\n \t      ++added;\n \t    }\n \t}\n+\n+      /* Possibly not the whole line fits into the buffer.  Ignore\n+\t the rest of the line.  */\n+      while (strchr (buf, '\\n') == NULL)\n+\tif (FGETS (buf, sizeof buf, fp) == NULL)\n+\t  /* Make sure the inner loop will be left.  The outer loop\n+\t     will exit at the `feof' test.  */\n+\t  break;\n     }\n \n   /* Should we test for ferror()?  I think we have to silently ignore\n@@ -362,19 +386,6 @@ extend_alias_table ()\n }\n \n \n-#ifdef _LIBC\n-static void __attribute__ ((unused))\n-free_mem (void)\n-{\n-  if (string_space != NULL)\n-    free (string_space);\n-  if (map != NULL)\n-    free (map);\n-}\n-text_set_element (__libc_subfreeres, free_mem);\n-#endif\n-\n-\n static int\n alias_compare (map1, map2)\n      const struct alias_map *map1;\n@@ -394,8 +405,8 @@ alias_compare (map1, map2)\n     {\n       /* I know this seems to be odd but the tolower() function in\n \t some systems libc cannot handle nonalpha characters.  */\n-      c1 = isupper ((unsigned char)*p1) ? tolower ((unsigned char)*p1) : *p1;\n-      c2 = isupper ((unsigned char)*p2) ? tolower ((unsigned char)*p2) : *p2;\n+      c1 = isupper (*p1) ? tolower (*p1) : *p1;\n+      c2 = isupper (*p2) ? tolower (*p2) : *p2;\n       if (c1 == '\\0')\n \tbreak;\n       ++p1;", "previous_filename": "gcc/intl/localealias.c"}, {"sha": "faacecd507a03d5703a1be629625067cbdcc6a15", "filename": "intl/localename.c", "status": "added", "additions": 772, "deletions": 0, "changes": 772, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flocalename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flocalename.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,772 @@\n+/* Determine the current selected locale.\n+   Copyright (C) 1995-1999, 2000-2002 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+/* Written by Ulrich Drepper <drepper@gnu.org>, 1995.  */\n+/* Win32 code written by Tor Lillqvist <tml@iki.fi>.  */\n+\n+#ifdef HAVE_CONFIG_H\n+# include <config.h>\n+#endif\n+\n+#include <stdlib.h>\n+#include <locale.h>\n+\n+#if defined _WIN32 || defined __WIN32__\n+# undef WIN32   /* avoid warning on mingw32 */\n+# define WIN32\n+#endif\n+\n+#ifdef WIN32\n+# define WIN32_LEAN_AND_MEAN\n+# include <windows.h>\n+/* Mingw headers don't have latest language and sublanguage codes.  */\n+# ifndef LANG_AFRIKAANS\n+# define LANG_AFRIKAANS 0x36\n+# endif\n+# ifndef LANG_ALBANIAN\n+# define LANG_ALBANIAN 0x1c\n+# endif\n+# ifndef LANG_ARABIC\n+# define LANG_ARABIC 0x01\n+# endif\n+# ifndef LANG_ARMENIAN\n+# define LANG_ARMENIAN 0x2b\n+# endif\n+# ifndef LANG_ASSAMESE\n+# define LANG_ASSAMESE 0x4d\n+# endif\n+# ifndef LANG_AZERI\n+# define LANG_AZERI 0x2c\n+# endif\n+# ifndef LANG_BASQUE\n+# define LANG_BASQUE 0x2d\n+# endif\n+# ifndef LANG_BELARUSIAN\n+# define LANG_BELARUSIAN 0x23\n+# endif\n+# ifndef LANG_BENGALI\n+# define LANG_BENGALI 0x45\n+# endif\n+# ifndef LANG_CATALAN\n+# define LANG_CATALAN 0x03\n+# endif\n+# ifndef LANG_DIVEHI\n+# define LANG_DIVEHI 0x65\n+# endif\n+# ifndef LANG_ESTONIAN\n+# define LANG_ESTONIAN 0x25\n+# endif\n+# ifndef LANG_FAEROESE\n+# define LANG_FAEROESE 0x38\n+# endif\n+# ifndef LANG_FARSI\n+# define LANG_FARSI 0x29\n+# endif\n+# ifndef LANG_GALICIAN\n+# define LANG_GALICIAN 0x56\n+# endif\n+# ifndef LANG_GEORGIAN\n+# define LANG_GEORGIAN 0x37\n+# endif\n+# ifndef LANG_GUJARATI\n+# define LANG_GUJARATI 0x47\n+# endif\n+# ifndef LANG_HEBREW\n+# define LANG_HEBREW 0x0d\n+# endif\n+# ifndef LANG_HINDI\n+# define LANG_HINDI 0x39\n+# endif\n+# ifndef LANG_INDONESIAN\n+# define LANG_INDONESIAN 0x21\n+# endif\n+# ifndef LANG_KANNADA\n+# define LANG_KANNADA 0x4b\n+# endif\n+# ifndef LANG_KASHMIRI\n+# define LANG_KASHMIRI 0x60\n+# endif\n+# ifndef LANG_KAZAK\n+# define LANG_KAZAK 0x3f\n+# endif\n+# ifndef LANG_KONKANI\n+# define LANG_KONKANI 0x57\n+# endif\n+# ifndef LANG_KYRGYZ\n+# define LANG_KYRGYZ 0x40\n+# endif\n+# ifndef LANG_LATVIAN\n+# define LANG_LATVIAN 0x26\n+# endif\n+# ifndef LANG_LITHUANIAN\n+# define LANG_LITHUANIAN 0x27\n+# endif\n+# ifndef LANG_MACEDONIAN\n+# define LANG_MACEDONIAN 0x2f\n+# endif\n+# ifndef LANG_MALAY\n+# define LANG_MALAY 0x3e\n+# endif\n+# ifndef LANG_MALAYALAM\n+# define LANG_MALAYALAM 0x4c\n+# endif\n+# ifndef LANG_MANIPURI\n+# define LANG_MANIPURI 0x58\n+# endif\n+# ifndef LANG_MARATHI\n+# define LANG_MARATHI 0x4e\n+# endif\n+# ifndef LANG_MONGOLIAN\n+# define LANG_MONGOLIAN 0x50\n+# endif\n+# ifndef LANG_NEPALI\n+# define LANG_NEPALI 0x61\n+# endif\n+# ifndef LANG_ORIYA\n+# define LANG_ORIYA 0x48\n+# endif\n+# ifndef LANG_PUNJABI\n+# define LANG_PUNJABI 0x46\n+# endif\n+# ifndef LANG_SANSKRIT\n+# define LANG_SANSKRIT 0x4f\n+# endif\n+# ifndef LANG_SERBIAN\n+# define LANG_SERBIAN 0x1a\n+# endif\n+# ifndef LANG_SINDHI\n+# define LANG_SINDHI 0x59\n+# endif\n+# ifndef LANG_SLOVAK\n+# define LANG_SLOVAK 0x1b\n+# endif\n+# ifndef LANG_SORBIAN\n+# define LANG_SORBIAN 0x2e\n+# endif\n+# ifndef LANG_SWAHILI\n+# define LANG_SWAHILI 0x41\n+# endif\n+# ifndef LANG_SYRIAC\n+# define LANG_SYRIAC 0x5a\n+# endif\n+# ifndef LANG_TAMIL\n+# define LANG_TAMIL 0x49\n+# endif\n+# ifndef LANG_TATAR\n+# define LANG_TATAR 0x44\n+# endif\n+# ifndef LANG_TELUGU\n+# define LANG_TELUGU 0x4a\n+# endif\n+# ifndef LANG_THAI\n+# define LANG_THAI 0x1e\n+# endif\n+# ifndef LANG_UKRAINIAN\n+# define LANG_UKRAINIAN 0x22\n+# endif\n+# ifndef LANG_URDU\n+# define LANG_URDU 0x20\n+# endif\n+# ifndef LANG_UZBEK\n+# define LANG_UZBEK 0x43\n+# endif\n+# ifndef LANG_VIETNAMESE\n+# define LANG_VIETNAMESE 0x2a\n+# endif\n+# ifndef SUBLANG_ARABIC_SAUDI_ARABIA\n+# define SUBLANG_ARABIC_SAUDI_ARABIA 0x01\n+# endif\n+# ifndef SUBLANG_ARABIC_IRAQ\n+# define SUBLANG_ARABIC_IRAQ 0x02\n+# endif\n+# ifndef SUBLANG_ARABIC_EGYPT\n+# define SUBLANG_ARABIC_EGYPT 0x03\n+# endif\n+# ifndef SUBLANG_ARABIC_LIBYA\n+# define SUBLANG_ARABIC_LIBYA 0x04\n+# endif\n+# ifndef SUBLANG_ARABIC_ALGERIA\n+# define SUBLANG_ARABIC_ALGERIA 0x05\n+# endif\n+# ifndef SUBLANG_ARABIC_MOROCCO\n+# define SUBLANG_ARABIC_MOROCCO 0x06\n+# endif\n+# ifndef SUBLANG_ARABIC_TUNISIA\n+# define SUBLANG_ARABIC_TUNISIA 0x07\n+# endif\n+# ifndef SUBLANG_ARABIC_OMAN\n+# define SUBLANG_ARABIC_OMAN 0x08\n+# endif\n+# ifndef SUBLANG_ARABIC_YEMEN\n+# define SUBLANG_ARABIC_YEMEN 0x09\n+# endif\n+# ifndef SUBLANG_ARABIC_SYRIA\n+# define SUBLANG_ARABIC_SYRIA 0x0a\n+# endif\n+# ifndef SUBLANG_ARABIC_JORDAN\n+# define SUBLANG_ARABIC_JORDAN 0x0b\n+# endif\n+# ifndef SUBLANG_ARABIC_LEBANON\n+# define SUBLANG_ARABIC_LEBANON 0x0c\n+# endif\n+# ifndef SUBLANG_ARABIC_KUWAIT\n+# define SUBLANG_ARABIC_KUWAIT 0x0d\n+# endif\n+# ifndef SUBLANG_ARABIC_UAE\n+# define SUBLANG_ARABIC_UAE 0x0e\n+# endif\n+# ifndef SUBLANG_ARABIC_BAHRAIN\n+# define SUBLANG_ARABIC_BAHRAIN 0x0f\n+# endif\n+# ifndef SUBLANG_ARABIC_QATAR\n+# define SUBLANG_ARABIC_QATAR 0x10\n+# endif\n+# ifndef SUBLANG_AZERI_LATIN\n+# define SUBLANG_AZERI_LATIN 0x01\n+# endif\n+# ifndef SUBLANG_AZERI_CYRILLIC\n+# define SUBLANG_AZERI_CYRILLIC 0x02\n+# endif\n+# ifndef SUBLANG_CHINESE_MACAU\n+# define SUBLANG_CHINESE_MACAU 0x05\n+# endif\n+# ifndef SUBLANG_ENGLISH_SOUTH_AFRICA\n+# define SUBLANG_ENGLISH_SOUTH_AFRICA 0x07\n+# endif\n+# ifndef SUBLANG_ENGLISH_JAMAICA\n+# define SUBLANG_ENGLISH_JAMAICA 0x08\n+# endif\n+# ifndef SUBLANG_ENGLISH_CARIBBEAN\n+# define SUBLANG_ENGLISH_CARIBBEAN 0x09\n+# endif\n+# ifndef SUBLANG_ENGLISH_BELIZE\n+# define SUBLANG_ENGLISH_BELIZE 0x0a\n+# endif\n+# ifndef SUBLANG_ENGLISH_TRINIDAD\n+# define SUBLANG_ENGLISH_TRINIDAD 0x0b\n+# endif\n+# ifndef SUBLANG_ENGLISH_ZIMBABWE\n+# define SUBLANG_ENGLISH_ZIMBABWE 0x0c\n+# endif\n+# ifndef SUBLANG_ENGLISH_PHILIPPINES\n+# define SUBLANG_ENGLISH_PHILIPPINES 0x0d\n+# endif\n+# ifndef SUBLANG_FRENCH_LUXEMBOURG\n+# define SUBLANG_FRENCH_LUXEMBOURG 0x05\n+# endif\n+# ifndef SUBLANG_FRENCH_MONACO\n+# define SUBLANG_FRENCH_MONACO 0x06\n+# endif\n+# ifndef SUBLANG_GERMAN_LUXEMBOURG\n+# define SUBLANG_GERMAN_LUXEMBOURG 0x04\n+# endif\n+# ifndef SUBLANG_GERMAN_LIECHTENSTEIN\n+# define SUBLANG_GERMAN_LIECHTENSTEIN 0x05\n+# endif\n+# ifndef SUBLANG_KASHMIRI_INDIA\n+# define SUBLANG_KASHMIRI_INDIA 0x02\n+# endif\n+# ifndef SUBLANG_MALAY_MALAYSIA\n+# define SUBLANG_MALAY_MALAYSIA 0x01\n+# endif\n+# ifndef SUBLANG_MALAY_BRUNEI_DARUSSALAM\n+# define SUBLANG_MALAY_BRUNEI_DARUSSALAM 0x02\n+# endif\n+# ifndef SUBLANG_NEPALI_INDIA\n+# define SUBLANG_NEPALI_INDIA 0x02\n+# endif\n+# ifndef SUBLANG_SERBIAN_LATIN\n+# define SUBLANG_SERBIAN_LATIN 0x02\n+# endif\n+# ifndef SUBLANG_SERBIAN_CYRILLIC\n+# define SUBLANG_SERBIAN_CYRILLIC 0x03\n+# endif\n+# ifndef SUBLANG_SPANISH_GUATEMALA\n+# define SUBLANG_SPANISH_GUATEMALA 0x04\n+# endif\n+# ifndef SUBLANG_SPANISH_COSTA_RICA\n+# define SUBLANG_SPANISH_COSTA_RICA 0x05\n+# endif\n+# ifndef SUBLANG_SPANISH_PANAMA\n+# define SUBLANG_SPANISH_PANAMA 0x06\n+# endif\n+# ifndef SUBLANG_SPANISH_DOMINICAN_REPUBLIC\n+# define SUBLANG_SPANISH_DOMINICAN_REPUBLIC 0x07\n+# endif\n+# ifndef SUBLANG_SPANISH_VENEZUELA\n+# define SUBLANG_SPANISH_VENEZUELA 0x08\n+# endif\n+# ifndef SUBLANG_SPANISH_COLOMBIA\n+# define SUBLANG_SPANISH_COLOMBIA 0x09\n+# endif\n+# ifndef SUBLANG_SPANISH_PERU\n+# define SUBLANG_SPANISH_PERU 0x0a\n+# endif\n+# ifndef SUBLANG_SPANISH_ARGENTINA\n+# define SUBLANG_SPANISH_ARGENTINA 0x0b\n+# endif\n+# ifndef SUBLANG_SPANISH_ECUADOR\n+# define SUBLANG_SPANISH_ECUADOR 0x0c\n+# endif\n+# ifndef SUBLANG_SPANISH_CHILE\n+# define SUBLANG_SPANISH_CHILE 0x0d\n+# endif\n+# ifndef SUBLANG_SPANISH_URUGUAY\n+# define SUBLANG_SPANISH_URUGUAY 0x0e\n+# endif\n+# ifndef SUBLANG_SPANISH_PARAGUAY\n+# define SUBLANG_SPANISH_PARAGUAY 0x0f\n+# endif\n+# ifndef SUBLANG_SPANISH_BOLIVIA\n+# define SUBLANG_SPANISH_BOLIVIA 0x10\n+# endif\n+# ifndef SUBLANG_SPANISH_EL_SALVADOR\n+# define SUBLANG_SPANISH_EL_SALVADOR 0x11\n+# endif\n+# ifndef SUBLANG_SPANISH_HONDURAS\n+# define SUBLANG_SPANISH_HONDURAS 0x12\n+# endif\n+# ifndef SUBLANG_SPANISH_NICARAGUA\n+# define SUBLANG_SPANISH_NICARAGUA 0x13\n+# endif\n+# ifndef SUBLANG_SPANISH_PUERTO_RICO\n+# define SUBLANG_SPANISH_PUERTO_RICO 0x14\n+# endif\n+# ifndef SUBLANG_SWEDISH_FINLAND\n+# define SUBLANG_SWEDISH_FINLAND 0x02\n+# endif\n+# ifndef SUBLANG_URDU_PAKISTAN\n+# define SUBLANG_URDU_PAKISTAN 0x01\n+# endif\n+# ifndef SUBLANG_URDU_INDIA\n+# define SUBLANG_URDU_INDIA 0x02\n+# endif\n+# ifndef SUBLANG_UZBEK_LATIN\n+# define SUBLANG_UZBEK_LATIN 0x01\n+# endif\n+# ifndef SUBLANG_UZBEK_CYRILLIC\n+# define SUBLANG_UZBEK_CYRILLIC 0x02\n+# endif\n+#endif\n+\n+/* XPG3 defines the result of 'setlocale (category, NULL)' as:\n+   \"Directs 'setlocale()' to query 'category' and return the current\n+    setting of 'local'.\"\n+   However it does not specify the exact format.  Neither do SUSV2 and\n+   ISO C 99.  So we can use this feature only on selected systems (e.g.\n+   those using GNU C Library).  */\n+#if defined _LIBC || (defined __GNU_LIBRARY__ && __GNU_LIBRARY__ >= 2)\n+# define HAVE_LOCALE_NULL\n+#endif\n+\n+/* Determine the current locale's name, and canonicalize it into XPG syntax\n+     language[_territory[.codeset]][@modifier]\n+   The codeset part in the result is not reliable; the locale_charset()\n+   should be used for codeset information instead.\n+   The result must not be freed; it is statically allocated.  */\n+\n+const char *\n+_nl_locale_name (category, categoryname)\n+     int category;\n+     const char *categoryname;\n+{\n+  const char *retval;\n+\n+#ifndef WIN32\n+\n+  /* Use the POSIX methods of looking to 'LC_ALL', 'LC_xxx', and 'LANG'.\n+     On some systems this can be done by the 'setlocale' function itself.  */\n+# if defined HAVE_SETLOCALE && defined HAVE_LC_MESSAGES && defined HAVE_LOCALE_NULL\n+  retval = setlocale (category, NULL);\n+# else\n+  /* Setting of LC_ALL overwrites all other.  */\n+  retval = getenv (\"LC_ALL\");\n+  if (retval == NULL || retval[0] == '\\0')\n+    {\n+      /* Next comes the name of the desired category.  */\n+      retval = getenv (categoryname);\n+      if (retval == NULL || retval[0] == '\\0')\n+\t{\n+\t  /* Last possibility is the LANG environment variable.  */\n+\t  retval = getenv (\"LANG\");\n+\t  if (retval == NULL || retval[0] == '\\0')\n+\t    /* We use C as the default domain.  POSIX says this is\n+\t       implementation defined.  */\n+\t    retval = \"C\";\n+\t}\n+    }\n+# endif\n+\n+  return retval;\n+\n+#else /* WIN32 */\n+\n+  /* Return an XPG style locale name language[_territory][@modifier].\n+     Don't even bother determining the codeset; it's not useful in this\n+     context, because message catalogs are not specific to a single\n+     codeset.  */\n+\n+  LCID lcid;\n+  LANGID langid;\n+  int primary, sub;\n+\n+  /* Let the user override the system settings through environment\n+     variables, as on POSIX systems.  */\n+  retval = getenv (\"LC_ALL\");\n+  if (retval != NULL && retval[0] != '\\0')\n+    return retval;\n+  retval = getenv (categoryname);\n+  if (retval != NULL && retval[0] != '\\0')\n+    return retval;\n+  retval = getenv (\"LANG\");\n+  if (retval != NULL && retval[0] != '\\0')\n+    return retval;\n+\n+  /* Use native Win32 API locale ID.  */\n+  lcid = GetThreadLocale ();\n+\n+  /* Strip off the sorting rules, keep only the language part.  */\n+  langid = LANGIDFROMLCID (lcid);\n+\n+  /* Split into language and territory part.  */\n+  primary = PRIMARYLANGID (langid);\n+  sub = SUBLANGID (langid);\n+\n+  /* Dispatch on language.\n+     See also http://www.unicode.org/unicode/onlinedat/languages.html .\n+     For details about languages, see http://www.ethnologue.com/ .  */\n+  switch (primary)\n+    {\n+    case LANG_AFRIKAANS: return \"af_ZA\";\n+    case LANG_ALBANIAN: return \"sq_AL\";\n+    case 0x5e: /* AMHARIC */ return \"am_ET\";\n+    case LANG_ARABIC:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_ARABIC_SAUDI_ARABIA: return \"ar_SA\";\n+\tcase SUBLANG_ARABIC_IRAQ: return \"ar_IQ\";\n+\tcase SUBLANG_ARABIC_EGYPT: return \"ar_EG\";\n+\tcase SUBLANG_ARABIC_LIBYA: return \"ar_LY\";\n+\tcase SUBLANG_ARABIC_ALGERIA: return \"ar_DZ\";\n+\tcase SUBLANG_ARABIC_MOROCCO: return \"ar_MA\";\n+\tcase SUBLANG_ARABIC_TUNISIA: return \"ar_TN\";\n+\tcase SUBLANG_ARABIC_OMAN: return \"ar_OM\";\n+\tcase SUBLANG_ARABIC_YEMEN: return \"ar_YE\";\n+\tcase SUBLANG_ARABIC_SYRIA: return \"ar_SY\";\n+\tcase SUBLANG_ARABIC_JORDAN: return \"ar_JO\";\n+\tcase SUBLANG_ARABIC_LEBANON: return \"ar_LB\";\n+\tcase SUBLANG_ARABIC_KUWAIT: return \"ar_KW\";\n+\tcase SUBLANG_ARABIC_UAE: return \"ar_AE\";\n+\tcase SUBLANG_ARABIC_BAHRAIN: return \"ar_BH\";\n+\tcase SUBLANG_ARABIC_QATAR: return \"ar_QA\";\n+\t}\n+      return \"ar\";\n+    case LANG_ARMENIAN: return \"hy_AM\";\n+    case LANG_ASSAMESE: return \"as_IN\";\n+    case LANG_AZERI:\n+      switch (sub)\n+\t{\n+\t/* FIXME: Adjust this when Azerbaijani locales appear on Unix.  */\n+\tcase SUBLANG_AZERI_LATIN: return \"az_AZ@latin\";\n+\tcase SUBLANG_AZERI_CYRILLIC: return \"az_AZ@cyrillic\";\n+\t}\n+      return \"az\";\n+    case LANG_BASQUE:\n+      return \"eu\"; /* Ambiguous: could be \"eu_ES\" or \"eu_FR\".  */\n+    case LANG_BELARUSIAN: return \"be_BY\";\n+    case LANG_BENGALI: return \"bn_IN\";\n+    case LANG_BULGARIAN: return \"bg_BG\";\n+    case 0x55: /* BURMESE */ return \"my_MM\";\n+    case 0x53: /* CAMBODIAN */ return \"km_KH\";\n+    case LANG_CATALAN: return \"ca_ES\";\n+    case 0x5c: /* CHEROKEE */ return \"chr_US\";\n+    case LANG_CHINESE:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_CHINESE_TRADITIONAL: return \"zh_TW\";\n+\tcase SUBLANG_CHINESE_SIMPLIFIED: return \"zh_CN\";\n+\tcase SUBLANG_CHINESE_HONGKONG: return \"zh_HK\";\n+\tcase SUBLANG_CHINESE_SINGAPORE: return \"zh_SG\";\n+\tcase SUBLANG_CHINESE_MACAU: return \"zh_MO\";\n+\t}\n+      return \"zh\";\n+    case LANG_CROATIAN:\t\t/* LANG_CROATIAN == LANG_SERBIAN\n+\t\t\t\t * What used to be called Serbo-Croatian\n+\t\t\t\t * should really now be two separate\n+\t\t\t\t * languages because of political reasons.\n+\t\t\t\t * (Says tml, who knows nothing about Serbian\n+\t\t\t\t * or Croatian.)\n+\t\t\t\t * (I can feel those flames coming already.)\n+\t\t\t\t */\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_DEFAULT: return \"hr_HR\";\n+\tcase SUBLANG_SERBIAN_LATIN: return \"sr_YU\";\n+\tcase SUBLANG_SERBIAN_CYRILLIC: return \"sr_YU@cyrillic\";\n+\t}\n+      return \"hr\";\n+    case LANG_CZECH: return \"cs_CZ\";\n+    case LANG_DANISH: return \"da_DK\";\n+    case LANG_DIVEHI: return \"div_MV\";\n+    case LANG_DUTCH:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_DUTCH: return \"nl_NL\";\n+\tcase SUBLANG_DUTCH_BELGIAN: /* FLEMISH, VLAAMS */ return \"nl_BE\";\n+\t}\n+      return \"nl\";\n+    case 0x66: /* EDO */ return \"bin_NG\";\n+    case LANG_ENGLISH:\n+      switch (sub)\n+\t{\n+\t/* SUBLANG_ENGLISH_US == SUBLANG_DEFAULT. Heh. I thought\n+\t * English was the language spoken in England.\n+\t * Oh well.\n+\t */\n+\tcase SUBLANG_ENGLISH_US: return \"en_US\";\n+\tcase SUBLANG_ENGLISH_UK: return \"en_GB\";\n+\tcase SUBLANG_ENGLISH_AUS: return \"en_AU\";\n+\tcase SUBLANG_ENGLISH_CAN: return \"en_CA\";\n+\tcase SUBLANG_ENGLISH_NZ: return \"en_NZ\";\n+\tcase SUBLANG_ENGLISH_EIRE: return \"en_IE\";\n+\tcase SUBLANG_ENGLISH_SOUTH_AFRICA: return \"en_ZA\";\n+\tcase SUBLANG_ENGLISH_JAMAICA: return \"en_JM\";\n+\tcase SUBLANG_ENGLISH_CARIBBEAN: return \"en_GD\"; /* Grenada? */\n+\tcase SUBLANG_ENGLISH_BELIZE: return \"en_BZ\";\n+\tcase SUBLANG_ENGLISH_TRINIDAD: return \"en_TT\";\n+\tcase SUBLANG_ENGLISH_ZIMBABWE: return \"en_ZW\";\n+\tcase SUBLANG_ENGLISH_PHILIPPINES: return \"en_PH\";\n+\t}\n+      return \"en\";\n+    case LANG_ESTONIAN: return \"et_EE\";\n+    case LANG_FAEROESE: return \"fo_FO\";\n+    case LANG_FARSI: return \"fa_IR\";\n+    case LANG_FINNISH: return \"fi_FI\";\n+    case LANG_FRENCH:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_FRENCH: return \"fr_FR\";\n+\tcase SUBLANG_FRENCH_BELGIAN: /* WALLOON */ return \"fr_BE\";\n+\tcase SUBLANG_FRENCH_CANADIAN: return \"fr_CA\";\n+\tcase SUBLANG_FRENCH_SWISS: return \"fr_CH\";\n+\tcase SUBLANG_FRENCH_LUXEMBOURG: return \"fr_LU\";\n+\tcase SUBLANG_FRENCH_MONACO: return \"fr_MC\";\n+\t}\n+      return \"fr\";\n+    case 0x62: /* FRISIAN */ return \"fy_NL\";\n+    case 0x67: /* FULFULDE */ return \"ful_NG\";\n+    case 0x3c: /* GAELIC */\n+      switch (sub)\n+\t{\n+\tcase 0x01: /* SCOTTISH */ return \"gd_GB\";\n+\tcase 0x02: /* IRISH */ return \"ga_IE\";\n+\t}\n+      return \"C\";\n+    case LANG_GALICIAN: return \"gl_ES\";\n+    case LANG_GEORGIAN: return \"ka_GE\";\n+    case LANG_GERMAN:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_GERMAN: return \"de_DE\";\n+\tcase SUBLANG_GERMAN_SWISS: return \"de_CH\";\n+\tcase SUBLANG_GERMAN_AUSTRIAN: return \"de_AT\";\n+\tcase SUBLANG_GERMAN_LUXEMBOURG: return \"de_LU\";\n+\tcase SUBLANG_GERMAN_LIECHTENSTEIN: return \"de_LI\";\n+\t}\n+      return \"de\";\n+    case LANG_GREEK: return \"el_GR\";\n+    case 0x74: /* GUARANI */ return \"gn_PY\";\n+    case LANG_GUJARATI: return \"gu_IN\";\n+    case 0x68: /* HAUSA */ return \"ha_NG\";\n+    case 0x75: /* HAWAIIAN */\n+      /* FIXME: Do they mean Hawaiian (\"haw_US\", 1000 speakers)\n+\t or Hawaii Creole English (\"cpe_US\", 600000 speakers)?  */\n+      return \"cpe_US\";\n+    case LANG_HEBREW: return \"he_IL\";\n+    case LANG_HINDI: return \"hi_IN\";\n+    case LANG_HUNGARIAN: return \"hu_HU\";\n+    case 0x69: /* IBIBIO */ return \"nic_NG\";\n+    case LANG_ICELANDIC: return \"is_IS\";\n+    case 0x70: /* IGBO */ return \"ibo_NG\";\n+    case LANG_INDONESIAN: return \"id_ID\";\n+    case 0x5d: /* INUKTITUT */ return \"iu_CA\";\n+    case LANG_ITALIAN:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_ITALIAN: return \"it_IT\";\n+\tcase SUBLANG_ITALIAN_SWISS: return \"it_CH\";\n+\t}\n+      return \"it\";\n+    case LANG_JAPANESE: return \"ja_JP\";\n+    case LANG_KANNADA: return \"kn_IN\";\n+    case 0x71: /* KANURI */ return \"kau_NG\";\n+    case LANG_KASHMIRI:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_DEFAULT: return \"ks_PK\";\n+\tcase SUBLANG_KASHMIRI_INDIA: return \"ks_IN\";\n+\t}\n+      return \"ks\";\n+    case LANG_KAZAK: return \"kk_KZ\";\n+    case LANG_KONKANI:\n+      /* FIXME: Adjust this when such locales appear on Unix.  */\n+      return \"kok_IN\";\n+    case LANG_KOREAN: return \"ko_KR\";\n+    case LANG_KYRGYZ: return \"ky_KG\";\n+    case 0x54: /* LAO */ return \"lo_LA\";\n+    case 0x76: /* LATIN */ return \"la_VA\";\n+    case LANG_LATVIAN: return \"lv_LV\";\n+    case LANG_LITHUANIAN: return \"lt_LT\";\n+    case LANG_MACEDONIAN: return \"mk_MK\";\n+    case LANG_MALAY:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_MALAY_MALAYSIA: return \"ms_MY\";\n+\tcase SUBLANG_MALAY_BRUNEI_DARUSSALAM: return \"ms_BN\";\n+\t}\n+      return \"ms\";\n+    case LANG_MALAYALAM: return \"ml_IN\";\n+    case 0x3a: /* MALTESE */ return \"mt_MT\";\n+    case LANG_MANIPURI:\n+      /* FIXME: Adjust this when such locales appear on Unix.  */\n+      return \"mni_IN\";\n+    case LANG_MARATHI: return \"mr_IN\";\n+    case LANG_MONGOLIAN:\n+      return \"mn\"; /* Ambiguous: could be \"mn_CN\" or \"mn_MN\".  */\n+    case LANG_NEPALI:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_DEFAULT: return \"ne_NP\";\n+\tcase SUBLANG_NEPALI_INDIA: return \"ne_IN\";\n+\t}\n+      return \"ne\";\n+    case LANG_NORWEGIAN:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_NORWEGIAN_BOKMAL: return \"no_NO\";\n+\tcase SUBLANG_NORWEGIAN_NYNORSK: return \"nn_NO\";\n+\t}\n+      return \"no\";\n+    case LANG_ORIYA: return \"or_IN\";\n+    case 0x72: /* OROMO */ return \"om_ET\";\n+    case 0x79: /* PAPIAMENTU */ return \"pap_AN\";\n+    case 0x63: /* PASHTO */\n+      return \"ps\"; /* Ambiguous: could be \"ps_PK\" or \"ps_AF\".  */\n+    case LANG_POLISH: return \"pl_PL\";\n+    case LANG_PORTUGUESE:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_PORTUGUESE: return \"pt_PT\";\n+\t/* Hmm. SUBLANG_PORTUGUESE_BRAZILIAN == SUBLANG_DEFAULT.\n+\t   Same phenomenon as SUBLANG_ENGLISH_US == SUBLANG_DEFAULT. */\n+\tcase SUBLANG_PORTUGUESE_BRAZILIAN: return \"pt_BR\";\n+\t}\n+      return \"pt\";\n+    case LANG_PUNJABI: return \"pa_IN\";\n+    case 0x17: /* RHAETO-ROMANCE */ return \"rm_CH\";\n+    case LANG_ROMANIAN: return \"ro_RO\";\n+    case LANG_RUSSIAN:\n+      return \"ru\"; /* Ambiguous: could be \"ru_RU\" or \"ru_UA\".  */\n+    case 0x3b: /* SAMI */ return \"se_NO\";\n+    case LANG_SANSKRIT: return \"sa_IN\";\n+    case LANG_SINDHI: return \"sd\";\n+    case 0x5b: /* SINHALESE */ return \"si_LK\";\n+    case LANG_SLOVAK: return \"sk_SK\";\n+    case LANG_SLOVENIAN: return \"sl_SI\";\n+    case 0x77: /* SOMALI */ return \"so_SO\";\n+    case LANG_SORBIAN:\n+      /* FIXME: Adjust this when such locales appear on Unix.  */\n+      return \"wen_DE\";\n+    case LANG_SPANISH:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_SPANISH: return \"es_ES\";\n+\tcase SUBLANG_SPANISH_MEXICAN: return \"es_MX\";\n+\tcase SUBLANG_SPANISH_MODERN:\n+\t  return \"es_ES@modern\";\t/* not seen on Unix */\n+\tcase SUBLANG_SPANISH_GUATEMALA: return \"es_GT\";\n+\tcase SUBLANG_SPANISH_COSTA_RICA: return \"es_CR\";\n+\tcase SUBLANG_SPANISH_PANAMA: return \"es_PA\";\n+\tcase SUBLANG_SPANISH_DOMINICAN_REPUBLIC: return \"es_DO\";\n+\tcase SUBLANG_SPANISH_VENEZUELA: return \"es_VE\";\n+\tcase SUBLANG_SPANISH_COLOMBIA: return \"es_CO\";\n+\tcase SUBLANG_SPANISH_PERU: return \"es_PE\";\n+\tcase SUBLANG_SPANISH_ARGENTINA: return \"es_AR\";\n+\tcase SUBLANG_SPANISH_ECUADOR: return \"es_EC\";\n+\tcase SUBLANG_SPANISH_CHILE: return \"es_CL\";\n+\tcase SUBLANG_SPANISH_URUGUAY: return \"es_UY\";\n+\tcase SUBLANG_SPANISH_PARAGUAY: return \"es_PY\";\n+\tcase SUBLANG_SPANISH_BOLIVIA: return \"es_BO\";\n+\tcase SUBLANG_SPANISH_EL_SALVADOR: return \"es_SV\";\n+\tcase SUBLANG_SPANISH_HONDURAS: return \"es_HN\";\n+\tcase SUBLANG_SPANISH_NICARAGUA: return \"es_NI\";\n+\tcase SUBLANG_SPANISH_PUERTO_RICO: return \"es_PR\";\n+\t}\n+      return \"es\";\n+    case 0x30: /* SUTU */ return \"bnt_TZ\";\n+    case LANG_SWAHILI: return \"sw_KE\";\n+    case LANG_SWEDISH:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_DEFAULT: return \"sv_SE\";\n+\tcase SUBLANG_SWEDISH_FINLAND: return \"sv_FI\";\n+\t}\n+      return \"sv\";\n+    case LANG_SYRIAC: return \"syr_TR\"; /* An extinct language.  */\n+    case 0x64: /* TAGALOG */ return \"tl_PH\";\n+    case 0x28: /* TAJIK */ return \"tg_TJ\";\n+    case 0x5f: /* TAMAZIGHT */ return \"ber_MA\";\n+    case LANG_TAMIL:\n+      return \"ta\"; /* Ambiguous: could be \"ta_IN\" or \"ta_LK\" or \"ta_SG\".  */\n+    case LANG_TATAR: return \"tt_RU\";\n+    case LANG_TELUGU: return \"te_IN\";\n+    case LANG_THAI: return \"th_TH\";\n+    case 0x51: /* TIBETAN */ return \"bo_CN\";\n+    case 0x73: /* TIGRINYA */ return \"ti_ET\";\n+    case 0x31: /* TSONGA */ return \"ts_ZA\";\n+    case LANG_TURKISH: return \"tr_TR\";\n+    case 0x42: /* TURKMEN */ return \"tk_TM\";\n+    case LANG_UKRAINIAN: return \"uk_UA\";\n+    case LANG_URDU:\n+      switch (sub)\n+\t{\n+\tcase SUBLANG_URDU_PAKISTAN: return \"ur_PK\";\n+\tcase SUBLANG_URDU_INDIA: return \"ur_IN\";\n+\t}\n+      return \"ur\";\n+    case LANG_UZBEK:\n+      switch (sub)\n+\t{\n+\t/* FIXME: Adjust this when Uzbek locales appear on Unix.  */\n+\tcase SUBLANG_UZBEK_LATIN: return \"uz_UZ@latin\";\n+\tcase SUBLANG_UZBEK_CYRILLIC: return \"uz_UZ@cyrillic\";\n+\t}\n+      return \"uz\";\n+    case 0x33: /* VENDA */ return \"ven_ZA\";\n+    case LANG_VIETNAMESE: return \"vi_VN\";\n+    case 0x52: /* WELSH */ return \"cy_GB\";\n+    case 0x34: /* XHOSA */ return \"xh_ZA\";\n+    case 0x78: /* YI */ return \"sit_CN\";\n+    case 0x3d: /* YIDDISH */ return \"yi_IL\";\n+    case 0x6a: /* YORUBA */ return \"yo_NG\";\n+    case 0x35: /* ZULU */ return \"zu_ZA\";\n+    default: return \"C\";\n+    }\n+\n+#endif\n+}"}, {"sha": "9c84791b9d7f0709fd93c4293ed63f643023100a", "filename": "intl/log.c", "status": "added", "additions": 104, "deletions": 0, "changes": 104, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Flog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Flog.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,104 @@\n+/* Log file output.\n+   Copyright (C) 2003 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+/* Written by Bruno Haible <bruno@clisp.org>.  */\n+\n+#ifdef HAVE_CONFIG_H\n+# include <config.h>\n+#endif\n+\n+#include <stdio.h>\n+#include <stdlib.h>\n+#include <string.h>\n+\n+/* Print an ASCII string with quotes and escape sequences where needed.  */\n+static void\n+print_escaped (stream, str)\n+     FILE *stream;\n+     const char *str;\n+{\n+  putc ('\"', stream);\n+  for (; *str != '\\0'; str++)\n+    if (*str == '\\n')\n+      {\n+\tfputs (\"\\\\n\\\"\", stream);\n+\tif (str[1] == '\\0')\n+\t  return;\n+\tfputs (\"\\n\\\"\", stream);\n+      }\n+    else\n+      {\n+\tif (*str == '\"' || *str == '\\\\')\n+\t  putc ('\\\\', stream);\n+\tputc (*str, stream);\n+      }\n+  putc ('\"', stream);\n+}\n+\n+/* Add to the log file an entry denoting a failed translation.  */\n+void\n+_nl_log_untranslated (logfilename, domainname, msgid1, msgid2, plural)\n+     const char *logfilename;\n+     const char *domainname;\n+     const char *msgid1;\n+     const char *msgid2;\n+     int plural;\n+{\n+  static char *last_logfilename = NULL;\n+  static FILE *last_logfile = NULL;\n+  FILE *logfile;\n+\n+  /* Can we reuse the last opened logfile?  */\n+  if (last_logfilename == NULL || strcmp (logfilename, last_logfilename) != 0)\n+    {\n+      /* Close the last used logfile.  */\n+      if (last_logfilename != NULL)\n+\t{\n+\t  if (last_logfile != NULL)\n+\t    {\n+\t      fclose (last_logfile);\n+\t      last_logfile = NULL;\n+\t    }\n+\t  free (last_logfilename);\n+\t  last_logfilename = NULL;\n+\t}\n+      /* Open the logfile.  */\n+      last_logfilename = (char *) malloc (strlen (logfilename) + 1);\n+      if (last_logfilename == NULL)\n+\treturn;\n+      strcpy (last_logfilename, logfilename);\n+      last_logfile = fopen (logfilename, \"a\");\n+      if (last_logfile == NULL)\n+\treturn;\n+    }\n+  logfile = last_logfile;\n+\n+  fprintf (logfile, \"domain \");\n+  print_escaped (logfile, domainname);\n+  fprintf (logfile, \"\\nmsgid \");\n+  print_escaped (logfile, msgid1);\n+  if (plural)\n+    {\n+      fprintf (logfile, \"\\nmsgid_plural \");\n+      print_escaped (logfile, msgid2);\n+      fprintf (logfile, \"\\nmsgstr[0] \\\"\\\"\\n\");\n+    }\n+  else\n+    fprintf (logfile, \"\\nmsgstr \\\"\\\"\\n\");\n+  putc ('\\n', logfile);\n+}"}, {"sha": "17a27f4aa138d1d1b65fbef9c4f4c46c9844a421", "filename": "intl/ngettext.c", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fngettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fngettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fngettext.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of ngettext(3) function.\n-   Copyright (C) 1995, 1997, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995, 1997, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -46,8 +46,8 @@\n # define NGETTEXT __ngettext\n # define DCNGETTEXT __dcngettext\n #else\n-# define NGETTEXT ngettext__\n-# define DCNGETTEXT dcngettext__\n+# define NGETTEXT libintl_ngettext\n+# define DCNGETTEXT libintl_dcngettext\n #endif\n \n /* Look up MSGID in the current default message catalog for the current", "previous_filename": "gcc/intl/ngettext.c"}, {"sha": "c8dc33e7cf4a5b1af52d23869b7252a042a3d8f5", "filename": "intl/os2compat.c", "status": "added", "additions": 98, "deletions": 0, "changes": 98, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fos2compat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fos2compat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fos2compat.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,98 @@\n+/* OS/2 compatibility functions.\n+   Copyright (C) 2001-2002 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#define OS2_AWARE\n+#ifdef HAVE_CONFIG_H\n+#include <config.h>\n+#endif\n+\n+#include <stdlib.h>\n+#include <string.h>\n+#include <sys/param.h>\n+\n+/* A version of getenv() that works from DLLs */\n+extern unsigned long DosScanEnv (const unsigned char *pszName, unsigned char **ppszValue);\n+\n+char *\n+_nl_getenv (const char *name)\n+{\n+  unsigned char *value;\n+  if (DosScanEnv (name, &value))\n+    return NULL;\n+  else\n+    return value;\n+}\n+\n+/* A fixed size buffer.  */\n+char libintl_nl_default_dirname[MAXPATHLEN+1];\n+\n+char *_nlos2_libdir = NULL;\n+char *_nlos2_localealiaspath = NULL;\n+char *_nlos2_localedir = NULL;\n+\n+static __attribute__((constructor)) void\n+nlos2_initialize ()\n+{\n+  char *root = getenv (\"UNIXROOT\");\n+  char *gnulocaledir = getenv (\"GNULOCALEDIR\");\n+\n+  _nlos2_libdir = gnulocaledir;\n+  if (!_nlos2_libdir)\n+    {\n+      if (root)\n+        {\n+          size_t sl = strlen (root);\n+          _nlos2_libdir = (char *) malloc (sl + strlen (LIBDIR) + 1);\n+          memcpy (_nlos2_libdir, root, sl);\n+          memcpy (_nlos2_libdir + sl, LIBDIR, strlen (LIBDIR) + 1);\n+        }\n+      else\n+        _nlos2_libdir = LIBDIR;\n+    }\n+\n+  _nlos2_localealiaspath = gnulocaledir;\n+  if (!_nlos2_localealiaspath)\n+    {\n+      if (root)\n+        {\n+          size_t sl = strlen (root);\n+          _nlos2_localealiaspath = (char *) malloc (sl + strlen (LOCALE_ALIAS_PATH) + 1);\n+          memcpy (_nlos2_localealiaspath, root, sl);\n+          memcpy (_nlos2_localealiaspath + sl, LOCALE_ALIAS_PATH, strlen (LOCALE_ALIAS_PATH) + 1);\n+        }\n+     else\n+        _nlos2_localealiaspath = LOCALE_ALIAS_PATH;\n+    }\n+\n+  _nlos2_localedir = gnulocaledir;\n+  if (!_nlos2_localedir)\n+    {\n+      if (root)\n+        {\n+          size_t sl = strlen (root);\n+          _nlos2_localedir = (char *) malloc (sl + strlen (LOCALEDIR) + 1);\n+          memcpy (_nlos2_localedir, root, sl);\n+          memcpy (_nlos2_localedir + sl, LOCALEDIR, strlen (LOCALEDIR) + 1);\n+        }\n+      else\n+        _nlos2_localedir = LOCALEDIR;\n+    }\n+\n+  if (strlen (_nlos2_localedir) <= MAXPATHLEN)\n+    strcpy (libintl_nl_default_dirname, _nlos2_localedir);\n+}"}, {"sha": "4f74e8c037529ba1e7bfb5467e7ecb968f060eb0", "filename": "intl/os2compat.h", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fos2compat.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fos2compat.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fos2compat.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,46 @@\n+/* OS/2 compatibility defines.\n+   This file is intended to be included from config.h\n+   Copyright (C) 2001-2002 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+/* When included from os2compat.h we need all the original definitions */\n+#ifndef OS2_AWARE\n+\n+#undef LIBDIR\n+#define LIBDIR\t\t\t_nlos2_libdir\n+extern char *_nlos2_libdir;\n+\n+#undef LOCALEDIR\n+#define LOCALEDIR\t\t_nlos2_localedir\n+extern char *_nlos2_localedir;\n+\n+#undef LOCALE_ALIAS_PATH\n+#define LOCALE_ALIAS_PATH\t_nlos2_localealiaspath\n+extern char *_nlos2_localealiaspath;\n+\n+#endif\n+\n+#undef HAVE_STRCASECMP\n+#define HAVE_STRCASECMP 1\n+#define strcasecmp stricmp\n+#define strncasecmp strnicmp\n+\n+/* We have our own getenv() which works even if library is compiled as DLL */\n+#define getenv _nl_getenv\n+\n+/* Older versions of gettext used -1 as the value of LC_MESSAGES */\n+#define LC_MESSAGES_COMPAT (-1)"}, {"sha": "b3725983818d3df65a2e20d4ce82e9041492bea4", "filename": "intl/osdep.c", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fosdep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fosdep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fosdep.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,24 @@\n+/* OS dependent parts of libintl.\n+   Copyright (C) 2001-2002 Free Software Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#if defined __EMX__\n+# include \"os2compat.c\"\n+#else\n+/* Avoid AIX compiler warning.  */\n+typedef int dummy;\n+#endif"}, {"sha": "c937c011ac5d1e611cd1ebc2c1fe64f3081d9dca", "filename": "intl/plural-exp.c", "status": "added", "additions": 156, "deletions": 0, "changes": 156, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural-exp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural-exp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fplural-exp.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,156 @@\n+/* Expression parsing for plural form selection.\n+   Copyright (C) 2000, 2001 Free Software Foundation, Inc.\n+   Written by Ulrich Drepper <drepper@cygnus.com>, 2000.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifdef HAVE_CONFIG_H\n+# include <config.h>\n+#endif\n+\n+#include <ctype.h>\n+#include <stdlib.h>\n+#include <string.h>\n+\n+#include \"plural-exp.h\"\n+\n+#if (defined __GNUC__ && !defined __APPLE_CC__) \\\n+    || (defined __STDC_VERSION__ && __STDC_VERSION__ >= 199901L)\n+\n+/* These structs are the constant expression for the germanic plural\n+   form determination.  It represents the expression  \"n != 1\".  */\n+static const struct expression plvar =\n+{\n+  .nargs = 0,\n+  .operation = var,\n+};\n+static const struct expression plone =\n+{\n+  .nargs = 0,\n+  .operation = num,\n+  .val =\n+  {\n+    .num = 1\n+  }\n+};\n+struct expression GERMANIC_PLURAL =\n+{\n+  .nargs = 2,\n+  .operation = not_equal,\n+  .val =\n+  {\n+    .args =\n+    {\n+      [0] = (struct expression *) &plvar,\n+      [1] = (struct expression *) &plone\n+    }\n+  }\n+};\n+\n+# define INIT_GERMANIC_PLURAL()\n+\n+#else\n+\n+/* For compilers without support for ISO C 99 struct/union initializers:\n+   Initialization at run-time.  */\n+\n+static struct expression plvar;\n+static struct expression plone;\n+struct expression GERMANIC_PLURAL;\n+\n+static void\n+init_germanic_plural ()\n+{\n+  if (plone.val.num == 0)\n+    {\n+      plvar.nargs = 0;\n+      plvar.operation = var;\n+\n+      plone.nargs = 0;\n+      plone.operation = num;\n+      plone.val.num = 1;\n+\n+      GERMANIC_PLURAL.nargs = 2;\n+      GERMANIC_PLURAL.operation = not_equal;\n+      GERMANIC_PLURAL.val.args[0] = &plvar;\n+      GERMANIC_PLURAL.val.args[1] = &plone;\n+    }\n+}\n+\n+# define INIT_GERMANIC_PLURAL() init_germanic_plural ()\n+\n+#endif\n+\n+void\n+internal_function\n+EXTRACT_PLURAL_EXPRESSION (nullentry, pluralp, npluralsp)\n+     const char *nullentry;\n+     struct expression **pluralp;\n+     unsigned long int *npluralsp;\n+{\n+  if (nullentry != NULL)\n+    {\n+      const char *plural;\n+      const char *nplurals;\n+\n+      plural = strstr (nullentry, \"plural=\");\n+      nplurals = strstr (nullentry, \"nplurals=\");\n+      if (plural == NULL || nplurals == NULL)\n+\tgoto no_plural;\n+      else\n+\t{\n+\t  char *endp;\n+\t  unsigned long int n;\n+\t  struct parse_args args;\n+\n+\t  /* First get the number.  */\n+\t  nplurals += 9;\n+\t  while (*nplurals != '\\0' && isspace ((unsigned char) *nplurals))\n+\t    ++nplurals;\n+\t  if (!(*nplurals >= '0' && *nplurals <= '9'))\n+\t    goto no_plural;\n+#if defined HAVE_STRTOUL || defined _LIBC\n+\t  n = strtoul (nplurals, &endp, 10);\n+#else\n+\t  for (endp = nplurals, n = 0; *endp >= '0' && *endp <= '9'; endp++)\n+\t    n = n * 10 + (*endp - '0');\n+#endif\n+\t  if (nplurals == endp)\n+\t    goto no_plural;\n+\t  *npluralsp = n;\n+\n+\t  /* Due to the restrictions bison imposes onto the interface of the\n+\t     scanner function we have to put the input string and the result\n+\t     passed up from the parser into the same structure which address\n+\t     is passed down to the parser.  */\n+\t  plural += 7;\n+\t  args.cp = plural;\n+\t  if (PLURAL_PARSE (&args) != 0)\n+\t    goto no_plural;\n+\t  *pluralp = args.res;\n+\t}\n+    }\n+  else\n+    {\n+      /* By default we are using the Germanic form: singular form only\n+         for `one', the plural form otherwise.  Yes, this is also what\n+         English is using since English is a Germanic language.  */\n+    no_plural:\n+      INIT_GERMANIC_PLURAL ();\n+      *pluralp = &GERMANIC_PLURAL;\n+      *npluralsp = 2;\n+    }\n+}"}, {"sha": "9e5d1658344adb8df09b4f8ef84c9cdc742a6531", "filename": "intl/plural-exp.h", "status": "added", "additions": 126, "deletions": 0, "changes": 126, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural-exp.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural-exp.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fplural-exp.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,126 @@\n+/* Expression parsing and evaluation for plural form selection.\n+   Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc.\n+   Written by Ulrich Drepper <drepper@cygnus.com>, 2000.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifndef _PLURAL_EXP_H\n+#define _PLURAL_EXP_H\n+\n+#ifndef PARAMS\n+# if __STDC__ || defined __GNUC__ || defined __SUNPRO_C || defined __cplusplus || __PROTOTYPES\n+#  define PARAMS(args) args\n+# else\n+#  define PARAMS(args) ()\n+# endif\n+#endif\n+\n+#ifndef internal_function\n+# define internal_function\n+#endif\n+\n+#ifndef attribute_hidden\n+# define attribute_hidden\n+#endif\n+\n+\n+/* This is the representation of the expressions to determine the\n+   plural form.  */\n+struct expression\n+{\n+  int nargs;\t\t\t/* Number of arguments.  */\n+  enum operator\n+  {\n+    /* Without arguments:  */\n+    var,\t\t\t/* The variable \"n\".  */\n+    num,\t\t\t/* Decimal number.  */\n+    /* Unary operators:  */\n+    lnot,\t\t\t/* Logical NOT.  */\n+    /* Binary operators:  */\n+    mult,\t\t\t/* Multiplication.  */\n+    divide,\t\t\t/* Division.  */\n+    module,\t\t\t/* Modulo operation.  */\n+    plus,\t\t\t/* Addition.  */\n+    minus,\t\t\t/* Subtraction.  */\n+    less_than,\t\t\t/* Comparison.  */\n+    greater_than,\t\t/* Comparison.  */\n+    less_or_equal,\t\t/* Comparison.  */\n+    greater_or_equal,\t\t/* Comparison.  */\n+    equal,\t\t\t/* Comparison for equality.  */\n+    not_equal,\t\t\t/* Comparison for inequality.  */\n+    land,\t\t\t/* Logical AND.  */\n+    lor,\t\t\t/* Logical OR.  */\n+    /* Ternary operators:  */\n+    qmop\t\t\t/* Question mark operator.  */\n+  } operation;\n+  union\n+  {\n+    unsigned long int num;\t/* Number value for `num'.  */\n+    struct expression *args[3];\t/* Up to three arguments.  */\n+  } val;\n+};\n+\n+/* This is the data structure to pass information to the parser and get\n+   the result in a thread-safe way.  */\n+struct parse_args\n+{\n+  const char *cp;\n+  struct expression *res;\n+};\n+\n+\n+/* Names for the libintl functions are a problem.  This source code is used\n+   1. in the GNU C Library library,\n+   2. in the GNU libintl library,\n+   3. in the GNU gettext tools.\n+   The function names in each situation must be different, to allow for\n+   binary incompatible changes in 'struct expression'.  Furthermore,\n+   1. in the GNU C Library library, the names have a __ prefix,\n+   2.+3. in the GNU libintl library and in the GNU gettext tools, the names\n+         must follow ANSI C and not start with __.\n+   So we have to distinguish the three cases.  */\n+#ifdef _LIBC\n+# define FREE_EXPRESSION __gettext_free_exp\n+# define PLURAL_PARSE __gettextparse\n+# define GERMANIC_PLURAL __gettext_germanic_plural\n+# define EXTRACT_PLURAL_EXPRESSION __gettext_extract_plural\n+#elif defined (IN_LIBINTL)\n+# define FREE_EXPRESSION libintl_gettext_free_exp\n+# define PLURAL_PARSE libintl_gettextparse\n+# define GERMANIC_PLURAL libintl_gettext_germanic_plural\n+# define EXTRACT_PLURAL_EXPRESSION libintl_gettext_extract_plural\n+#else\n+# define FREE_EXPRESSION free_plural_expression\n+# define PLURAL_PARSE parse_plural_expression\n+# define GERMANIC_PLURAL germanic_plural\n+# define EXTRACT_PLURAL_EXPRESSION extract_plural_expression\n+#endif\n+\n+extern void FREE_EXPRESSION PARAMS ((struct expression *exp))\n+     internal_function;\n+extern int PLURAL_PARSE PARAMS ((void *arg));\n+extern struct expression GERMANIC_PLURAL attribute_hidden;\n+extern void EXTRACT_PLURAL_EXPRESSION PARAMS ((const char *nullentry,\n+\t\t\t\t\t       struct expression **pluralp,\n+\t\t\t\t\t       unsigned long int *npluralsp))\n+     internal_function;\n+\n+#if !defined (_LIBC) && !defined (IN_LIBINTL)\n+extern unsigned long int plural_eval PARAMS ((struct expression *pexp,\n+\t\t\t\t\t      unsigned long int n));\n+#endif\n+\n+#endif /* _PLURAL_EXP_H */"}, {"sha": "3a4fa20cae94ad2fba00dcf4686a55b67a6c4f5d", "filename": "intl/plural.c", "status": "added", "additions": 1518, "deletions": 0, "changes": 1518, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fplural.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,1518 @@\n+/* A Bison parser, made from plural.y\n+   by GNU bison 1.35.  */\n+\n+#define YYBISON 1  /* Identify Bison output.  */\n+\n+#define yyparse __gettextparse\n+#define yylex __gettextlex\n+#define yyerror __gettexterror\n+#define yylval __gettextlval\n+#define yychar __gettextchar\n+#define yydebug __gettextdebug\n+#define yynerrs __gettextnerrs\n+# define\tEQUOP2\t257\n+# define\tCMPOP2\t258\n+# define\tADDOP2\t259\n+# define\tMULOP2\t260\n+# define\tNUMBER\t261\n+\n+#line 1 \"plural.y\"\n+\n+/* Expression parsing for plural form selection.\n+   Copyright (C) 2000, 2001 Free Software Foundation, Inc.\n+   Written by Ulrich Drepper <drepper@cygnus.com>, 2000.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+/* The bison generated parser uses alloca.  AIX 3 forces us to put this\n+   declaration at the beginning of the file.  The declaration in bison's\n+   skeleton file comes too late.  This must come before <config.h>\n+   because <config.h> may include arbitrary system headers.  */\n+#if defined _AIX && !defined __GNUC__\n+ #pragma alloca\n+#endif\n+\n+#ifdef HAVE_CONFIG_H\n+# include <config.h>\n+#endif\n+\n+#include <stddef.h>\n+#include <stdlib.h>\n+#include \"plural-exp.h\"\n+\n+/* The main function generated by the parser is called __gettextparse,\n+   but we want it to be called PLURAL_PARSE.  */\n+#ifndef _LIBC\n+# define __gettextparse PLURAL_PARSE\n+#endif\n+\n+#define YYLEX_PARAM\t&((struct parse_args *) arg)->cp\n+#define YYPARSE_PARAM\targ\n+\n+#line 49 \"plural.y\"\n+#ifndef YYSTYPE\n+typedef union {\n+  unsigned long int num;\n+  enum operator op;\n+  struct expression *exp;\n+} yystype;\n+# define YYSTYPE yystype\n+# define YYSTYPE_IS_TRIVIAL 1\n+#endif\n+#line 55 \"plural.y\"\n+\n+/* Prototypes for local functions.  */\n+static struct expression *new_exp PARAMS ((int nargs, enum operator op,\n+\t\t\t\t\t   struct expression * const *args));\n+static inline struct expression *new_exp_0 PARAMS ((enum operator op));\n+static inline struct expression *new_exp_1 PARAMS ((enum operator op,\n+\t\t\t\t\t\t   struct expression *right));\n+static struct expression *new_exp_2 PARAMS ((enum operator op,\n+\t\t\t\t\t     struct expression *left,\n+\t\t\t\t\t     struct expression *right));\n+static inline struct expression *new_exp_3 PARAMS ((enum operator op,\n+\t\t\t\t\t\t   struct expression *bexp,\n+\t\t\t\t\t\t   struct expression *tbranch,\n+\t\t\t\t\t\t   struct expression *fbranch));\n+static int yylex PARAMS ((YYSTYPE *lval, const char **pexp));\n+static void yyerror PARAMS ((const char *str));\n+\n+/* Allocation of expressions.  */\n+\n+static struct expression *\n+new_exp (nargs, op, args)\n+     int nargs;\n+     enum operator op;\n+     struct expression * const *args;\n+{\n+  int i;\n+  struct expression *newp;\n+\n+  /* If any of the argument could not be malloc'ed, just return NULL.  */\n+  for (i = nargs - 1; i >= 0; i--)\n+    if (args[i] == NULL)\n+      goto fail;\n+\n+  /* Allocate a new expression.  */\n+  newp = (struct expression *) malloc (sizeof (*newp));\n+  if (newp != NULL)\n+    {\n+      newp->nargs = nargs;\n+      newp->operation = op;\n+      for (i = nargs - 1; i >= 0; i--)\n+\tnewp->val.args[i] = args[i];\n+      return newp;\n+    }\n+\n+ fail:\n+  for (i = nargs - 1; i >= 0; i--)\n+    FREE_EXPRESSION (args[i]);\n+\n+  return NULL;\n+}\n+\n+static inline struct expression *\n+new_exp_0 (op)\n+     enum operator op;\n+{\n+  return new_exp (0, op, NULL);\n+}\n+\n+static inline struct expression *\n+new_exp_1 (op, right)\n+     enum operator op;\n+     struct expression *right;\n+{\n+  struct expression *args[1];\n+\n+  args[0] = right;\n+  return new_exp (1, op, args);\n+}\n+\n+static struct expression *\n+new_exp_2 (op, left, right)\n+     enum operator op;\n+     struct expression *left;\n+     struct expression *right;\n+{\n+  struct expression *args[2];\n+\n+  args[0] = left;\n+  args[1] = right;\n+  return new_exp (2, op, args);\n+}\n+\n+static inline struct expression *\n+new_exp_3 (op, bexp, tbranch, fbranch)\n+     enum operator op;\n+     struct expression *bexp;\n+     struct expression *tbranch;\n+     struct expression *fbranch;\n+{\n+  struct expression *args[3];\n+\n+  args[0] = bexp;\n+  args[1] = tbranch;\n+  args[2] = fbranch;\n+  return new_exp (3, op, args);\n+}\n+\n+#ifndef YYDEBUG\n+# define YYDEBUG 0\n+#endif\n+\n+\n+\n+#define\tYYFINAL\t\t27\n+#define\tYYFLAG\t\t-32768\n+#define\tYYNTBASE\t16\n+\n+/* YYTRANSLATE(YYLEX) -- Bison token number corresponding to YYLEX. */\n+#define YYTRANSLATE(x) ((unsigned)(x) <= 261 ? yytranslate[x] : 18)\n+\n+/* YYTRANSLATE[YYLEX] -- Bison token number corresponding to YYLEX. */\n+static const char yytranslate[] =\n+{\n+       0,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,    10,     2,     2,     2,     2,     5,     2,\n+      14,    15,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,    12,     2,\n+       2,     2,     2,     3,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+      13,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     4,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     2,     2,     2,     2,\n+       2,     2,     2,     2,     2,     2,     1,     6,     7,     8,\n+       9,    11\n+};\n+\n+#if YYDEBUG\n+static const short yyprhs[] =\n+{\n+       0,     0,     2,     8,    12,    16,    20,    24,    28,    32,\n+      35,    37,    39\n+};\n+static const short yyrhs[] =\n+{\n+      17,     0,    17,     3,    17,    12,    17,     0,    17,     4,\n+      17,     0,    17,     5,    17,     0,    17,     6,    17,     0,\n+      17,     7,    17,     0,    17,     8,    17,     0,    17,     9,\n+      17,     0,    10,    17,     0,    13,     0,    11,     0,    14,\n+      17,    15,     0\n+};\n+\n+#endif\n+\n+#if YYDEBUG\n+/* YYRLINE[YYN] -- source line where rule number YYN was defined. */\n+static const short yyrline[] =\n+{\n+       0,   174,   182,   186,   190,   194,   198,   202,   206,   210,\n+     214,   218,   223\n+};\n+#endif\n+\n+\n+#if (YYDEBUG) || defined YYERROR_VERBOSE\n+\n+/* YYTNAME[TOKEN_NUM] -- String name of the token TOKEN_NUM. */\n+static const char *const yytname[] =\n+{\n+  \"$\", \"error\", \"$undefined.\", \"'?'\", \"'|'\", \"'&'\", \"EQUOP2\", \"CMPOP2\", \n+  \"ADDOP2\", \"MULOP2\", \"'!'\", \"NUMBER\", \"':'\", \"'n'\", \"'('\", \"')'\", \n+  \"start\", \"exp\", 0\n+};\n+#endif\n+\n+/* YYR1[YYN] -- Symbol number of symbol that rule YYN derives. */\n+static const short yyr1[] =\n+{\n+       0,    16,    17,    17,    17,    17,    17,    17,    17,    17,\n+      17,    17,    17\n+};\n+\n+/* YYR2[YYN] -- Number of symbols composing right hand side of rule YYN. */\n+static const short yyr2[] =\n+{\n+       0,     1,     5,     3,     3,     3,     3,     3,     3,     2,\n+       1,     1,     3\n+};\n+\n+/* YYDEFACT[S] -- default rule to reduce with in state S when YYTABLE\n+   doesn't specify something else to do.  Zero means the default is an\n+   error. */\n+static const short yydefact[] =\n+{\n+       0,     0,    11,    10,     0,     1,     9,     0,     0,     0,\n+       0,     0,     0,     0,     0,    12,     0,     3,     4,     5,\n+       6,     7,     8,     0,     2,     0,     0,     0\n+};\n+\n+static const short yydefgoto[] =\n+{\n+      25,     5\n+};\n+\n+static const short yypact[] =\n+{\n+      -9,    -9,-32768,-32768,    -9,    34,-32768,    11,    -9,    -9,\n+      -9,    -9,    -9,    -9,    -9,-32768,    24,    39,    43,    16,\n+      26,    -3,-32768,    -9,    34,    21,    53,-32768\n+};\n+\n+static const short yypgoto[] =\n+{\n+  -32768,    -1\n+};\n+\n+\n+#define\tYYLAST\t\t53\n+\n+\n+static const short yytable[] =\n+{\n+       6,     1,     2,     7,     3,     4,    14,    16,    17,    18,\n+      19,    20,    21,    22,     8,     9,    10,    11,    12,    13,\n+      14,    26,    24,    12,    13,    14,    15,     8,     9,    10,\n+      11,    12,    13,    14,    13,    14,    23,     8,     9,    10,\n+      11,    12,    13,    14,    10,    11,    12,    13,    14,    11,\n+      12,    13,    14,    27\n+};\n+\n+static const short yycheck[] =\n+{\n+       1,    10,    11,     4,    13,    14,     9,     8,     9,    10,\n+      11,    12,    13,    14,     3,     4,     5,     6,     7,     8,\n+       9,     0,    23,     7,     8,     9,    15,     3,     4,     5,\n+       6,     7,     8,     9,     8,     9,    12,     3,     4,     5,\n+       6,     7,     8,     9,     5,     6,     7,     8,     9,     6,\n+       7,     8,     9,     0\n+};\n+#define YYPURE 1\n+\n+/* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n+#line 3 \"/usr/local/share/bison/bison.simple\"\n+\n+/* Skeleton output parser for bison,\n+\n+   Copyright (C) 1984, 1989, 1990, 2000, 2001, 2002 Free Software\n+   Foundation, Inc.\n+\n+   This program is free software; you can redistribute it and/or modify\n+   it under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+   GNU General Public License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330,\n+   Boston, MA 02111-1307, USA.  */\n+\n+/* As a special exception, when this file is copied by Bison into a\n+   Bison output file, you may use that output file without restriction.\n+   This special exception was added by the Free Software Foundation\n+   in version 1.24 of Bison.  */\n+\n+/* This is the parser code that is written into each bison parser when\n+   the %semantic_parser declaration is not specified in the grammar.\n+   It was written by Richard Stallman by simplifying the hairy parser\n+   used when %semantic_parser is specified.  */\n+\n+/* All symbols defined below should begin with yy or YY, to avoid\n+   infringing on user name space.  This should be done even for local\n+   variables, as they might otherwise be expanded by user macros.\n+   There are some unavoidable exceptions within include files to\n+   define necessary library symbols; they are noted \"INFRINGES ON\n+   USER NAME SPACE\" below.  */\n+\n+#if ! defined (yyoverflow) || defined (YYERROR_VERBOSE)\n+\n+/* The parser invokes alloca or malloc; define the necessary symbols.  */\n+\n+# if YYSTACK_USE_ALLOCA\n+#  define YYSTACK_ALLOC alloca\n+# else\n+#  ifndef YYSTACK_USE_ALLOCA\n+#   if defined (alloca) || defined (_ALLOCA_H)\n+#    define YYSTACK_ALLOC alloca\n+#   else\n+#    ifdef __GNUC__\n+#     define YYSTACK_ALLOC __builtin_alloca\n+#    endif\n+#   endif\n+#  endif\n+# endif\n+\n+# ifdef YYSTACK_ALLOC\n+   /* Pacify GCC's `empty if-body' warning. */\n+#  define YYSTACK_FREE(Ptr) do { /* empty */; } while (0)\n+# else\n+#  if defined (__STDC__) || defined (__cplusplus)\n+#   include <stdlib.h> /* INFRINGES ON USER NAME SPACE */\n+#   define YYSIZE_T size_t\n+#  endif\n+#  define YYSTACK_ALLOC malloc\n+#  define YYSTACK_FREE free\n+# endif\n+#endif /* ! defined (yyoverflow) || defined (YYERROR_VERBOSE) */\n+\n+\n+#if (! defined (yyoverflow) \\\n+     && (! defined (__cplusplus) \\\n+\t || (YYLTYPE_IS_TRIVIAL && YYSTYPE_IS_TRIVIAL)))\n+\n+/* A type that is properly aligned for any stack member.  */\n+union yyalloc\n+{\n+  short yyss;\n+  YYSTYPE yyvs;\n+# if YYLSP_NEEDED\n+  YYLTYPE yyls;\n+# endif\n+};\n+\n+/* The size of the maximum gap between one aligned stack and the next.  */\n+# define YYSTACK_GAP_MAX (sizeof (union yyalloc) - 1)\n+\n+/* The size of an array large to enough to hold all stacks, each with\n+   N elements.  */\n+# if YYLSP_NEEDED\n+#  define YYSTACK_BYTES(N) \\\n+     ((N) * (sizeof (short) + sizeof (YYSTYPE) + sizeof (YYLTYPE))\t\\\n+      + 2 * YYSTACK_GAP_MAX)\n+# else\n+#  define YYSTACK_BYTES(N) \\\n+     ((N) * (sizeof (short) + sizeof (YYSTYPE))\t\t\t\t\\\n+      + YYSTACK_GAP_MAX)\n+# endif\n+\n+/* Copy COUNT objects from FROM to TO.  The source and destination do\n+   not overlap.  */\n+# ifndef YYCOPY\n+#  if 1 < __GNUC__\n+#   define YYCOPY(To, From, Count) \\\n+      __builtin_memcpy (To, From, (Count) * sizeof (*(From)))\n+#  else\n+#   define YYCOPY(To, From, Count)\t\t\\\n+      do\t\t\t\t\t\\\n+\t{\t\t\t\t\t\\\n+\t  register YYSIZE_T yyi;\t\t\\\n+\t  for (yyi = 0; yyi < (Count); yyi++)\t\\\n+\t    (To)[yyi] = (From)[yyi];\t\t\\\n+\t}\t\t\t\t\t\\\n+      while (0)\n+#  endif\n+# endif\n+\n+/* Relocate STACK from its old location to the new one.  The\n+   local variables YYSIZE and YYSTACKSIZE give the old and new number of\n+   elements in the stack, and YYPTR gives the new location of the\n+   stack.  Advance YYPTR to a properly aligned location for the next\n+   stack.  */\n+# define YYSTACK_RELOCATE(Stack)\t\t\t\t\t\\\n+    do\t\t\t\t\t\t\t\t\t\\\n+      {\t\t\t\t\t\t\t\t\t\\\n+\tYYSIZE_T yynewbytes;\t\t\t\t\t\t\\\n+\tYYCOPY (&yyptr->Stack, Stack, yysize);\t\t\t\t\\\n+\tStack = &yyptr->Stack;\t\t\t\t\t\t\\\n+\tyynewbytes = yystacksize * sizeof (*Stack) + YYSTACK_GAP_MAX;\t\\\n+\tyyptr += yynewbytes / sizeof (*yyptr);\t\t\t\t\\\n+      }\t\t\t\t\t\t\t\t\t\\\n+    while (0)\n+\n+#endif\n+\n+\n+#if ! defined (YYSIZE_T) && defined (__SIZE_TYPE__)\n+# define YYSIZE_T __SIZE_TYPE__\n+#endif\n+#if ! defined (YYSIZE_T) && defined (size_t)\n+# define YYSIZE_T size_t\n+#endif\n+#if ! defined (YYSIZE_T)\n+# if defined (__STDC__) || defined (__cplusplus)\n+#  include <stddef.h> /* INFRINGES ON USER NAME SPACE */\n+#  define YYSIZE_T size_t\n+# endif\n+#endif\n+#if ! defined (YYSIZE_T)\n+# define YYSIZE_T unsigned int\n+#endif\n+\n+#define yyerrok\t\t(yyerrstatus = 0)\n+#define yyclearin\t(yychar = YYEMPTY)\n+#define YYEMPTY\t\t-2\n+#define YYEOF\t\t0\n+#define YYACCEPT\tgoto yyacceptlab\n+#define YYABORT \tgoto yyabortlab\n+#define YYERROR\t\tgoto yyerrlab1\n+/* Like YYERROR except do call yyerror.  This remains here temporarily\n+   to ease the transition to the new meaning of YYERROR, for GCC.\n+   Once GCC version 2 has supplanted version 1, this can go.  */\n+#define YYFAIL\t\tgoto yyerrlab\n+#define YYRECOVERING()  (!!yyerrstatus)\n+#define YYBACKUP(Token, Value)\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\\\n+  if (yychar == YYEMPTY && yylen == 1)\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      yychar = (Token);\t\t\t\t\t\t\\\n+      yylval = (Value);\t\t\t\t\t\t\\\n+      yychar1 = YYTRANSLATE (yychar);\t\t\t\t\\\n+      YYPOPSTACK;\t\t\t\t\t\t\\\n+      goto yybackup;\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    { \t\t\t\t\t\t\t\t\\\n+      yyerror (\"syntax error: cannot back up\");\t\t\t\\\n+      YYERROR;\t\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+while (0)\n+\n+#define YYTERROR\t1\n+#define YYERRCODE\t256\n+\n+\n+/* YYLLOC_DEFAULT -- Compute the default location (before the actions\n+   are run).\n+\n+   When YYLLOC_DEFAULT is run, CURRENT is set the location of the\n+   first token.  By default, to implement support for ranges, extend\n+   its range to the last symbol.  */\n+\n+#ifndef YYLLOC_DEFAULT\n+# define YYLLOC_DEFAULT(Current, Rhs, N)       \t\\\n+   Current.last_line   = Rhs[N].last_line;\t\\\n+   Current.last_column = Rhs[N].last_column;\n+#endif\n+\n+\n+/* YYLEX -- calling `yylex' with the right arguments.  */\n+\n+#if YYPURE\n+# if YYLSP_NEEDED\n+#  ifdef YYLEX_PARAM\n+#   define YYLEX\t\tyylex (&yylval, &yylloc, YYLEX_PARAM)\n+#  else\n+#   define YYLEX\t\tyylex (&yylval, &yylloc)\n+#  endif\n+# else /* !YYLSP_NEEDED */\n+#  ifdef YYLEX_PARAM\n+#   define YYLEX\t\tyylex (&yylval, YYLEX_PARAM)\n+#  else\n+#   define YYLEX\t\tyylex (&yylval)\n+#  endif\n+# endif /* !YYLSP_NEEDED */\n+#else /* !YYPURE */\n+# define YYLEX\t\t\tyylex ()\n+#endif /* !YYPURE */\n+\n+\n+/* Enable debugging if requested.  */\n+#if YYDEBUG\n+\n+# ifndef YYFPRINTF\n+#  include <stdio.h> /* INFRINGES ON USER NAME SPACE */\n+#  define YYFPRINTF fprintf\n+# endif\n+\n+# define YYDPRINTF(Args)\t\t\t\\\n+do {\t\t\t\t\t\t\\\n+  if (yydebug)\t\t\t\t\t\\\n+    YYFPRINTF Args;\t\t\t\t\\\n+} while (0)\n+/* Nonzero means print parse trace.  It is left uninitialized so that\n+   multiple parsers can coexist.  */\n+int yydebug;\n+#else /* !YYDEBUG */\n+# define YYDPRINTF(Args)\n+#endif /* !YYDEBUG */\n+\n+/* YYINITDEPTH -- initial size of the parser's stacks.  */\n+#ifndef\tYYINITDEPTH\n+# define YYINITDEPTH 200\n+#endif\n+\n+/* YYMAXDEPTH -- maximum size the stacks can grow to (effective only\n+   if the built-in stack extension method is used).\n+\n+   Do not make this value too large; the results are undefined if\n+   SIZE_MAX < YYSTACK_BYTES (YYMAXDEPTH)\n+   evaluated with infinite-precision integer arithmetic.  */\n+\n+#if YYMAXDEPTH == 0\n+# undef YYMAXDEPTH\n+#endif\n+\n+#ifndef YYMAXDEPTH\n+# define YYMAXDEPTH 10000\n+#endif\n+\f\n+#ifdef YYERROR_VERBOSE\n+\n+# ifndef yystrlen\n+#  if defined (__GLIBC__) && defined (_STRING_H)\n+#   define yystrlen strlen\n+#  else\n+/* Return the length of YYSTR.  */\n+static YYSIZE_T\n+#   if defined (__STDC__) || defined (__cplusplus)\n+yystrlen (const char *yystr)\n+#   else\n+yystrlen (yystr)\n+     const char *yystr;\n+#   endif\n+{\n+  register const char *yys = yystr;\n+\n+  while (*yys++ != '\\0')\n+    continue;\n+\n+  return yys - yystr - 1;\n+}\n+#  endif\n+# endif\n+\n+# ifndef yystpcpy\n+#  if defined (__GLIBC__) && defined (_STRING_H) && defined (_GNU_SOURCE)\n+#   define yystpcpy stpcpy\n+#  else\n+/* Copy YYSRC to YYDEST, returning the address of the terminating '\\0' in\n+   YYDEST.  */\n+static char *\n+#   if defined (__STDC__) || defined (__cplusplus)\n+yystpcpy (char *yydest, const char *yysrc)\n+#   else\n+yystpcpy (yydest, yysrc)\n+     char *yydest;\n+     const char *yysrc;\n+#   endif\n+{\n+  register char *yyd = yydest;\n+  register const char *yys = yysrc;\n+\n+  while ((*yyd++ = *yys++) != '\\0')\n+    continue;\n+\n+  return yyd - 1;\n+}\n+#  endif\n+# endif\n+#endif\n+\f\n+#line 315 \"/usr/local/share/bison/bison.simple\"\n+\n+\n+/* The user can define YYPARSE_PARAM as the name of an argument to be passed\n+   into yyparse.  The argument should have type void *.\n+   It should actually point to an object.\n+   Grammar actions can access the variable by casting it\n+   to the proper pointer type.  */\n+\n+#ifdef YYPARSE_PARAM\n+# if defined (__STDC__) || defined (__cplusplus)\n+#  define YYPARSE_PARAM_ARG void *YYPARSE_PARAM\n+#  define YYPARSE_PARAM_DECL\n+# else\n+#  define YYPARSE_PARAM_ARG YYPARSE_PARAM\n+#  define YYPARSE_PARAM_DECL void *YYPARSE_PARAM;\n+# endif\n+#else /* !YYPARSE_PARAM */\n+# define YYPARSE_PARAM_ARG\n+# define YYPARSE_PARAM_DECL\n+#endif /* !YYPARSE_PARAM */\n+\n+/* Prevent warning if -Wstrict-prototypes.  */\n+#ifdef __GNUC__\n+# ifdef YYPARSE_PARAM\n+int yyparse (void *);\n+# else\n+int yyparse (void);\n+# endif\n+#endif\n+\n+/* YY_DECL_VARIABLES -- depending whether we use a pure parser,\n+   variables are global, or local to YYPARSE.  */\n+\n+#define YY_DECL_NON_LSP_VARIABLES\t\t\t\\\n+/* The lookahead symbol.  */\t\t\t\t\\\n+int yychar;\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\\\n+/* The semantic value of the lookahead symbol. */\t\\\n+YYSTYPE yylval;\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\\\n+/* Number of parse errors so far.  */\t\t\t\\\n+int yynerrs;\n+\n+#if YYLSP_NEEDED\n+# define YY_DECL_VARIABLES\t\t\t\\\n+YY_DECL_NON_LSP_VARIABLES\t\t\t\\\n+\t\t\t\t\t\t\\\n+/* Location data for the lookahead symbol.  */\t\\\n+YYLTYPE yylloc;\n+#else\n+# define YY_DECL_VARIABLES\t\t\t\\\n+YY_DECL_NON_LSP_VARIABLES\n+#endif\n+\n+\n+/* If nonreentrant, generate the variables here. */\n+\n+#if !YYPURE\n+YY_DECL_VARIABLES\n+#endif  /* !YYPURE */\n+\n+int\n+yyparse (YYPARSE_PARAM_ARG)\n+     YYPARSE_PARAM_DECL\n+{\n+  /* If reentrant, generate the variables here. */\n+#if YYPURE\n+  YY_DECL_VARIABLES\n+#endif  /* !YYPURE */\n+\n+  register int yystate;\n+  register int yyn;\n+  int yyresult;\n+  /* Number of tokens to shift before error messages enabled.  */\n+  int yyerrstatus;\n+  /* Lookahead token as an internal (translated) token number.  */\n+  int yychar1 = 0;\n+\n+  /* Three stacks and their tools:\n+     `yyss': related to states,\n+     `yyvs': related to semantic values,\n+     `yyls': related to locations.\n+\n+     Refer to the stacks thru separate pointers, to allow yyoverflow\n+     to reallocate them elsewhere.  */\n+\n+  /* The state stack. */\n+  short\tyyssa[YYINITDEPTH];\n+  short *yyss = yyssa;\n+  register short *yyssp;\n+\n+  /* The semantic value stack.  */\n+  YYSTYPE yyvsa[YYINITDEPTH];\n+  YYSTYPE *yyvs = yyvsa;\n+  register YYSTYPE *yyvsp;\n+\n+#if YYLSP_NEEDED\n+  /* The location stack.  */\n+  YYLTYPE yylsa[YYINITDEPTH];\n+  YYLTYPE *yyls = yylsa;\n+  YYLTYPE *yylsp;\n+#endif\n+\n+#if YYLSP_NEEDED\n+# define YYPOPSTACK   (yyvsp--, yyssp--, yylsp--)\n+#else\n+# define YYPOPSTACK   (yyvsp--, yyssp--)\n+#endif\n+\n+  YYSIZE_T yystacksize = YYINITDEPTH;\n+\n+\n+  /* The variables used to return semantic value and location from the\n+     action routines.  */\n+  YYSTYPE yyval;\n+#if YYLSP_NEEDED\n+  YYLTYPE yyloc;\n+#endif\n+\n+  /* When reducing, the number of symbols on the RHS of the reduced\n+     rule. */\n+  int yylen;\n+\n+  YYDPRINTF ((stderr, \"Starting parse\\n\"));\n+\n+  yystate = 0;\n+  yyerrstatus = 0;\n+  yynerrs = 0;\n+  yychar = YYEMPTY;\t\t/* Cause a token to be read.  */\n+\n+  /* Initialize stack pointers.\n+     Waste one element of value and location stack\n+     so that they stay on the same level as the state stack.\n+     The wasted elements are never initialized.  */\n+\n+  yyssp = yyss;\n+  yyvsp = yyvs;\n+#if YYLSP_NEEDED\n+  yylsp = yyls;\n+#endif\n+  goto yysetstate;\n+\n+/*------------------------------------------------------------.\n+| yynewstate -- Push a new state, which is found in yystate.  |\n+`------------------------------------------------------------*/\n+ yynewstate:\n+  /* In all cases, when you get here, the value and location stacks\n+     have just been pushed. so pushing a state here evens the stacks.\n+     */\n+  yyssp++;\n+\n+ yysetstate:\n+  *yyssp = yystate;\n+\n+  if (yyssp >= yyss + yystacksize - 1)\n+    {\n+      /* Get the current used size of the three stacks, in elements.  */\n+      YYSIZE_T yysize = yyssp - yyss + 1;\n+\n+#ifdef yyoverflow\n+      {\n+\t/* Give user a chance to reallocate the stack. Use copies of\n+\t   these so that the &'s don't force the real ones into\n+\t   memory.  */\n+\tYYSTYPE *yyvs1 = yyvs;\n+\tshort *yyss1 = yyss;\n+\n+\t/* Each stack pointer address is followed by the size of the\n+\t   data in use in that stack, in bytes.  */\n+# if YYLSP_NEEDED\n+\tYYLTYPE *yyls1 = yyls;\n+\t/* This used to be a conditional around just the two extra args,\n+\t   but that might be undefined if yyoverflow is a macro.  */\n+\tyyoverflow (\"parser stack overflow\",\n+\t\t    &yyss1, yysize * sizeof (*yyssp),\n+\t\t    &yyvs1, yysize * sizeof (*yyvsp),\n+\t\t    &yyls1, yysize * sizeof (*yylsp),\n+\t\t    &yystacksize);\n+\tyyls = yyls1;\n+# else\n+\tyyoverflow (\"parser stack overflow\",\n+\t\t    &yyss1, yysize * sizeof (*yyssp),\n+\t\t    &yyvs1, yysize * sizeof (*yyvsp),\n+\t\t    &yystacksize);\n+# endif\n+\tyyss = yyss1;\n+\tyyvs = yyvs1;\n+      }\n+#else /* no yyoverflow */\n+# ifndef YYSTACK_RELOCATE\n+      goto yyoverflowlab;\n+# else\n+      /* Extend the stack our own way.  */\n+      if (yystacksize >= YYMAXDEPTH)\n+\tgoto yyoverflowlab;\n+      yystacksize *= 2;\n+      if (yystacksize > YYMAXDEPTH)\n+\tyystacksize = YYMAXDEPTH;\n+\n+      {\n+\tshort *yyss1 = yyss;\n+\tunion yyalloc *yyptr =\n+\t  (union yyalloc *) YYSTACK_ALLOC (YYSTACK_BYTES (yystacksize));\n+\tif (! yyptr)\n+\t  goto yyoverflowlab;\n+\tYYSTACK_RELOCATE (yyss);\n+\tYYSTACK_RELOCATE (yyvs);\n+# if YYLSP_NEEDED\n+\tYYSTACK_RELOCATE (yyls);\n+# endif\n+# undef YYSTACK_RELOCATE\n+\tif (yyss1 != yyssa)\n+\t  YYSTACK_FREE (yyss1);\n+      }\n+# endif\n+#endif /* no yyoverflow */\n+\n+      yyssp = yyss + yysize - 1;\n+      yyvsp = yyvs + yysize - 1;\n+#if YYLSP_NEEDED\n+      yylsp = yyls + yysize - 1;\n+#endif\n+\n+      YYDPRINTF ((stderr, \"Stack size increased to %lu\\n\",\n+\t\t  (unsigned long int) yystacksize));\n+\n+      if (yyssp >= yyss + yystacksize - 1)\n+\tYYABORT;\n+    }\n+\n+  YYDPRINTF ((stderr, \"Entering state %d\\n\", yystate));\n+\n+  goto yybackup;\n+\n+\n+/*-----------.\n+| yybackup.  |\n+`-----------*/\n+yybackup:\n+\n+/* Do appropriate processing given the current state.  */\n+/* Read a lookahead token if we need one and don't already have one.  */\n+/* yyresume: */\n+\n+  /* First try to decide what to do without reference to lookahead token.  */\n+\n+  yyn = yypact[yystate];\n+  if (yyn == YYFLAG)\n+    goto yydefault;\n+\n+  /* Not known => get a lookahead token if don't already have one.  */\n+\n+  /* yychar is either YYEMPTY or YYEOF\n+     or a valid token in external form.  */\n+\n+  if (yychar == YYEMPTY)\n+    {\n+      YYDPRINTF ((stderr, \"Reading a token: \"));\n+      yychar = YYLEX;\n+    }\n+\n+  /* Convert token to internal form (in yychar1) for indexing tables with */\n+\n+  if (yychar <= 0)\t\t/* This means end of input. */\n+    {\n+      yychar1 = 0;\n+      yychar = YYEOF;\t\t/* Don't call YYLEX any more */\n+\n+      YYDPRINTF ((stderr, \"Now at end of input.\\n\"));\n+    }\n+  else\n+    {\n+      yychar1 = YYTRANSLATE (yychar);\n+\n+#if YYDEBUG\n+     /* We have to keep this `#if YYDEBUG', since we use variables\n+\twhich are defined only if `YYDEBUG' is set.  */\n+      if (yydebug)\n+\t{\n+\t  YYFPRINTF (stderr, \"Next token is %d (%s\",\n+\t\t     yychar, yytname[yychar1]);\n+\t  /* Give the individual parser a way to print the precise\n+\t     meaning of a token, for further debugging info.  */\n+# ifdef YYPRINT\n+\t  YYPRINT (stderr, yychar, yylval);\n+# endif\n+\t  YYFPRINTF (stderr, \")\\n\");\n+\t}\n+#endif\n+    }\n+\n+  yyn += yychar1;\n+  if (yyn < 0 || yyn > YYLAST || yycheck[yyn] != yychar1)\n+    goto yydefault;\n+\n+  yyn = yytable[yyn];\n+\n+  /* yyn is what to do for this token type in this state.\n+     Negative => reduce, -yyn is rule number.\n+     Positive => shift, yyn is new state.\n+       New state is final state => don't bother to shift,\n+       just return success.\n+     0, or most negative number => error.  */\n+\n+  if (yyn < 0)\n+    {\n+      if (yyn == YYFLAG)\n+\tgoto yyerrlab;\n+      yyn = -yyn;\n+      goto yyreduce;\n+    }\n+  else if (yyn == 0)\n+    goto yyerrlab;\n+\n+  if (yyn == YYFINAL)\n+    YYACCEPT;\n+\n+  /* Shift the lookahead token.  */\n+  YYDPRINTF ((stderr, \"Shifting token %d (%s), \",\n+\t      yychar, yytname[yychar1]));\n+\n+  /* Discard the token being shifted unless it is eof.  */\n+  if (yychar != YYEOF)\n+    yychar = YYEMPTY;\n+\n+  *++yyvsp = yylval;\n+#if YYLSP_NEEDED\n+  *++yylsp = yylloc;\n+#endif\n+\n+  /* Count tokens shifted since error; after three, turn off error\n+     status.  */\n+  if (yyerrstatus)\n+    yyerrstatus--;\n+\n+  yystate = yyn;\n+  goto yynewstate;\n+\n+\n+/*-----------------------------------------------------------.\n+| yydefault -- do the default action for the current state.  |\n+`-----------------------------------------------------------*/\n+yydefault:\n+  yyn = yydefact[yystate];\n+  if (yyn == 0)\n+    goto yyerrlab;\n+  goto yyreduce;\n+\n+\n+/*-----------------------------.\n+| yyreduce -- Do a reduction.  |\n+`-----------------------------*/\n+yyreduce:\n+  /* yyn is the number of a rule to reduce with.  */\n+  yylen = yyr2[yyn];\n+\n+  /* If YYLEN is nonzero, implement the default value of the action:\n+     `$$ = $1'.\n+\n+     Otherwise, the following line sets YYVAL to the semantic value of\n+     the lookahead token.  This behavior is undocumented and Bison\n+     users should not rely upon it.  Assigning to YYVAL\n+     unconditionally makes the parser a bit smaller, and it avoids a\n+     GCC warning that YYVAL may be used uninitialized.  */\n+  yyval = yyvsp[1-yylen];\n+\n+#if YYLSP_NEEDED\n+  /* Similarly for the default location.  Let the user run additional\n+     commands if for instance locations are ranges.  */\n+  yyloc = yylsp[1-yylen];\n+  YYLLOC_DEFAULT (yyloc, (yylsp - yylen), yylen);\n+#endif\n+\n+#if YYDEBUG\n+  /* We have to keep this `#if YYDEBUG', since we use variables which\n+     are defined only if `YYDEBUG' is set.  */\n+  if (yydebug)\n+    {\n+      int yyi;\n+\n+      YYFPRINTF (stderr, \"Reducing via rule %d (line %d), \",\n+\t\t yyn, yyrline[yyn]);\n+\n+      /* Print the symbols being reduced, and their result.  */\n+      for (yyi = yyprhs[yyn]; yyrhs[yyi] > 0; yyi++)\n+\tYYFPRINTF (stderr, \"%s \", yytname[yyrhs[yyi]]);\n+      YYFPRINTF (stderr, \" -> %s\\n\", yytname[yyr1[yyn]]);\n+    }\n+#endif\n+\n+  switch (yyn) {\n+\n+case 1:\n+#line 175 \"plural.y\"\n+{\n+\t    if (yyvsp[0].exp == NULL)\n+\t      YYABORT;\n+\t    ((struct parse_args *) arg)->res = yyvsp[0].exp;\n+\t  }\n+    break;\n+case 2:\n+#line 183 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_3 (qmop, yyvsp[-4].exp, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 3:\n+#line 187 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_2 (lor, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 4:\n+#line 191 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_2 (land, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 5:\n+#line 195 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 6:\n+#line 199 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 7:\n+#line 203 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 8:\n+#line 207 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_2 (yyvsp[-1].op, yyvsp[-2].exp, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 9:\n+#line 211 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_1 (lnot, yyvsp[0].exp);\n+\t  }\n+    break;\n+case 10:\n+#line 215 \"plural.y\"\n+{\n+\t    yyval.exp = new_exp_0 (var);\n+\t  }\n+    break;\n+case 11:\n+#line 219 \"plural.y\"\n+{\n+\t    if ((yyval.exp = new_exp_0 (num)) != NULL)\n+\t      yyval.exp->val.num = yyvsp[0].num;\n+\t  }\n+    break;\n+case 12:\n+#line 224 \"plural.y\"\n+{\n+\t    yyval.exp = yyvsp[-1].exp;\n+\t  }\n+    break;\n+}\n+\n+#line 705 \"/usr/local/share/bison/bison.simple\"\n+\n+\f\n+  yyvsp -= yylen;\n+  yyssp -= yylen;\n+#if YYLSP_NEEDED\n+  yylsp -= yylen;\n+#endif\n+\n+#if YYDEBUG\n+  if (yydebug)\n+    {\n+      short *yyssp1 = yyss - 1;\n+      YYFPRINTF (stderr, \"state stack now\");\n+      while (yyssp1 != yyssp)\n+\tYYFPRINTF (stderr, \" %d\", *++yyssp1);\n+      YYFPRINTF (stderr, \"\\n\");\n+    }\n+#endif\n+\n+  *++yyvsp = yyval;\n+#if YYLSP_NEEDED\n+  *++yylsp = yyloc;\n+#endif\n+\n+  /* Now `shift' the result of the reduction.  Determine what state\n+     that goes to, based on the state we popped back to and the rule\n+     number reduced by.  */\n+\n+  yyn = yyr1[yyn];\n+\n+  yystate = yypgoto[yyn - YYNTBASE] + *yyssp;\n+  if (yystate >= 0 && yystate <= YYLAST && yycheck[yystate] == *yyssp)\n+    yystate = yytable[yystate];\n+  else\n+    yystate = yydefgoto[yyn - YYNTBASE];\n+\n+  goto yynewstate;\n+\n+\n+/*------------------------------------.\n+| yyerrlab -- here on detecting error |\n+`------------------------------------*/\n+yyerrlab:\n+  /* If not already recovering from an error, report this error.  */\n+  if (!yyerrstatus)\n+    {\n+      ++yynerrs;\n+\n+#ifdef YYERROR_VERBOSE\n+      yyn = yypact[yystate];\n+\n+      if (yyn > YYFLAG && yyn < YYLAST)\n+\t{\n+\t  YYSIZE_T yysize = 0;\n+\t  char *yymsg;\n+\t  int yyx, yycount;\n+\n+\t  yycount = 0;\n+\t  /* Start YYX at -YYN if negative to avoid negative indexes in\n+\t     YYCHECK.  */\n+\t  for (yyx = yyn < 0 ? -yyn : 0;\n+\t       yyx < (int) (sizeof (yytname) / sizeof (char *)); yyx++)\n+\t    if (yycheck[yyx + yyn] == yyx)\n+\t      yysize += yystrlen (yytname[yyx]) + 15, yycount++;\n+\t  yysize += yystrlen (\"parse error, unexpected \") + 1;\n+\t  yysize += yystrlen (yytname[YYTRANSLATE (yychar)]);\n+\t  yymsg = (char *) YYSTACK_ALLOC (yysize);\n+\t  if (yymsg != 0)\n+\t    {\n+\t      char *yyp = yystpcpy (yymsg, \"parse error, unexpected \");\n+\t      yyp = yystpcpy (yyp, yytname[YYTRANSLATE (yychar)]);\n+\n+\t      if (yycount < 5)\n+\t\t{\n+\t\t  yycount = 0;\n+\t\t  for (yyx = yyn < 0 ? -yyn : 0;\n+\t\t       yyx < (int) (sizeof (yytname) / sizeof (char *));\n+\t\t       yyx++)\n+\t\t    if (yycheck[yyx + yyn] == yyx)\n+\t\t      {\n+\t\t\tconst char *yyq = ! yycount ? \", expecting \" : \" or \";\n+\t\t\tyyp = yystpcpy (yyp, yyq);\n+\t\t\tyyp = yystpcpy (yyp, yytname[yyx]);\n+\t\t\tyycount++;\n+\t\t      }\n+\t\t}\n+\t      yyerror (yymsg);\n+\t      YYSTACK_FREE (yymsg);\n+\t    }\n+\t  else\n+\t    yyerror (\"parse error; also virtual memory exhausted\");\n+\t}\n+      else\n+#endif /* defined (YYERROR_VERBOSE) */\n+\tyyerror (\"parse error\");\n+    }\n+  goto yyerrlab1;\n+\n+\n+/*--------------------------------------------------.\n+| yyerrlab1 -- error raised explicitly by an action |\n+`--------------------------------------------------*/\n+yyerrlab1:\n+  if (yyerrstatus == 3)\n+    {\n+      /* If just tried and failed to reuse lookahead token after an\n+\t error, discard it.  */\n+\n+      /* return failure if at end of input */\n+      if (yychar == YYEOF)\n+\tYYABORT;\n+      YYDPRINTF ((stderr, \"Discarding token %d (%s).\\n\",\n+\t\t  yychar, yytname[yychar1]));\n+      yychar = YYEMPTY;\n+    }\n+\n+  /* Else will try to reuse lookahead token after shifting the error\n+     token.  */\n+\n+  yyerrstatus = 3;\t\t/* Each real token shifted decrements this */\n+\n+  goto yyerrhandle;\n+\n+\n+/*-------------------------------------------------------------------.\n+| yyerrdefault -- current state does not do anything special for the |\n+| error token.                                                       |\n+`-------------------------------------------------------------------*/\n+yyerrdefault:\n+#if 0\n+  /* This is wrong; only states that explicitly want error tokens\n+     should shift them.  */\n+\n+  /* If its default is to accept any token, ok.  Otherwise pop it.  */\n+  yyn = yydefact[yystate];\n+  if (yyn)\n+    goto yydefault;\n+#endif\n+\n+\n+/*---------------------------------------------------------------.\n+| yyerrpop -- pop the current state because it cannot handle the |\n+| error token                                                    |\n+`---------------------------------------------------------------*/\n+yyerrpop:\n+  if (yyssp == yyss)\n+    YYABORT;\n+  yyvsp--;\n+  yystate = *--yyssp;\n+#if YYLSP_NEEDED\n+  yylsp--;\n+#endif\n+\n+#if YYDEBUG\n+  if (yydebug)\n+    {\n+      short *yyssp1 = yyss - 1;\n+      YYFPRINTF (stderr, \"Error: state stack now\");\n+      while (yyssp1 != yyssp)\n+\tYYFPRINTF (stderr, \" %d\", *++yyssp1);\n+      YYFPRINTF (stderr, \"\\n\");\n+    }\n+#endif\n+\n+/*--------------.\n+| yyerrhandle.  |\n+`--------------*/\n+yyerrhandle:\n+  yyn = yypact[yystate];\n+  if (yyn == YYFLAG)\n+    goto yyerrdefault;\n+\n+  yyn += YYTERROR;\n+  if (yyn < 0 || yyn > YYLAST || yycheck[yyn] != YYTERROR)\n+    goto yyerrdefault;\n+\n+  yyn = yytable[yyn];\n+  if (yyn < 0)\n+    {\n+      if (yyn == YYFLAG)\n+\tgoto yyerrpop;\n+      yyn = -yyn;\n+      goto yyreduce;\n+    }\n+  else if (yyn == 0)\n+    goto yyerrpop;\n+\n+  if (yyn == YYFINAL)\n+    YYACCEPT;\n+\n+  YYDPRINTF ((stderr, \"Shifting error token, \"));\n+\n+  *++yyvsp = yylval;\n+#if YYLSP_NEEDED\n+  *++yylsp = yylloc;\n+#endif\n+\n+  yystate = yyn;\n+  goto yynewstate;\n+\n+\n+/*-------------------------------------.\n+| yyacceptlab -- YYACCEPT comes here.  |\n+`-------------------------------------*/\n+yyacceptlab:\n+  yyresult = 0;\n+  goto yyreturn;\n+\n+/*-----------------------------------.\n+| yyabortlab -- YYABORT comes here.  |\n+`-----------------------------------*/\n+yyabortlab:\n+  yyresult = 1;\n+  goto yyreturn;\n+\n+/*---------------------------------------------.\n+| yyoverflowab -- parser overflow comes here.  |\n+`---------------------------------------------*/\n+yyoverflowlab:\n+  yyerror (\"parser stack overflow\");\n+  yyresult = 2;\n+  /* Fall through.  */\n+\n+yyreturn:\n+#ifndef yyoverflow\n+  if (yyss != yyssa)\n+    YYSTACK_FREE (yyss);\n+#endif\n+  return yyresult;\n+}\n+#line 229 \"plural.y\"\n+\n+\n+void\n+internal_function\n+FREE_EXPRESSION (exp)\n+     struct expression *exp;\n+{\n+  if (exp == NULL)\n+    return;\n+\n+  /* Handle the recursive case.  */\n+  switch (exp->nargs)\n+    {\n+    case 3:\n+      FREE_EXPRESSION (exp->val.args[2]);\n+      /* FALLTHROUGH */\n+    case 2:\n+      FREE_EXPRESSION (exp->val.args[1]);\n+      /* FALLTHROUGH */\n+    case 1:\n+      FREE_EXPRESSION (exp->val.args[0]);\n+      /* FALLTHROUGH */\n+    default:\n+      break;\n+    }\n+\n+  free (exp);\n+}\n+\n+\n+static int\n+yylex (lval, pexp)\n+     YYSTYPE *lval;\n+     const char **pexp;\n+{\n+  const char *exp = *pexp;\n+  int result;\n+\n+  while (1)\n+    {\n+      if (exp[0] == '\\0')\n+\t{\n+\t  *pexp = exp;\n+\t  return YYEOF;\n+\t}\n+\n+      if (exp[0] != ' ' && exp[0] != '\\t')\n+\tbreak;\n+\n+      ++exp;\n+    }\n+\n+  result = *exp++;\n+  switch (result)\n+    {\n+    case '0': case '1': case '2': case '3': case '4':\n+    case '5': case '6': case '7': case '8': case '9':\n+      {\n+\tunsigned long int n = result - '0';\n+\twhile (exp[0] >= '0' && exp[0] <= '9')\n+\t  {\n+\t    n *= 10;\n+\t    n += exp[0] - '0';\n+\t    ++exp;\n+\t  }\n+\tlval->num = n;\n+\tresult = NUMBER;\n+      }\n+      break;\n+\n+    case '=':\n+      if (exp[0] == '=')\n+\t{\n+\t  ++exp;\n+\t  lval->op = equal;\n+\t  result = EQUOP2;\n+\t}\n+      else\n+\tresult = YYERRCODE;\n+      break;\n+\n+    case '!':\n+      if (exp[0] == '=')\n+\t{\n+\t  ++exp;\n+\t  lval->op = not_equal;\n+\t  result = EQUOP2;\n+\t}\n+      break;\n+\n+    case '&':\n+    case '|':\n+      if (exp[0] == result)\n+\t++exp;\n+      else\n+\tresult = YYERRCODE;\n+      break;\n+\n+    case '<':\n+      if (exp[0] == '=')\n+\t{\n+\t  ++exp;\n+\t  lval->op = less_or_equal;\n+\t}\n+      else\n+\tlval->op = less_than;\n+      result = CMPOP2;\n+      break;\n+\n+    case '>':\n+      if (exp[0] == '=')\n+\t{\n+\t  ++exp;\n+\t  lval->op = greater_or_equal;\n+\t}\n+      else\n+\tlval->op = greater_than;\n+      result = CMPOP2;\n+      break;\n+\n+    case '*':\n+      lval->op = mult;\n+      result = MULOP2;\n+      break;\n+\n+    case '/':\n+      lval->op = divide;\n+      result = MULOP2;\n+      break;\n+\n+    case '%':\n+      lval->op = module;\n+      result = MULOP2;\n+      break;\n+\n+    case '+':\n+      lval->op = plus;\n+      result = ADDOP2;\n+      break;\n+\n+    case '-':\n+      lval->op = minus;\n+      result = ADDOP2;\n+      break;\n+\n+    case 'n':\n+    case '?':\n+    case ':':\n+    case '(':\n+    case ')':\n+      /* Nothing, just return the character.  */\n+      break;\n+\n+    case ';':\n+    case '\\n':\n+    case '\\0':\n+      /* Be safe and let the user call this function again.  */\n+      --exp;\n+      result = YYEOF;\n+      break;\n+\n+    default:\n+      result = YYERRCODE;\n+#if YYDEBUG != 0\n+      --exp;\n+#endif\n+      break;\n+    }\n+\n+  *pexp = exp;\n+\n+  return result;\n+}\n+\n+\n+static void\n+yyerror (str)\n+     const char *str;\n+{\n+  /* Do nothing.  We don't print error messages here.  */\n+}"}, {"sha": "616b7c11a21f103aef63e6bb86313afac4ceb0f2", "filename": "intl/plural.y", "status": "renamed", "additions": 9, "deletions": 16, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Fplural.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fplural.y?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -30,25 +30,21 @@\n # include <config.h>\n #endif\n \n+#include <stddef.h>\n #include <stdlib.h>\n-#include \"gettextP.h\"\n-\n-/* Names for the libintl functions are a problem.  They must not clash\n-   with existing names and they should follow ANSI C.  But this source\n-   code is also used in GNU C Library where the names have a __\n-   prefix.  So we have to make a difference here.  */\n-#ifdef _LIBC\n-# define FREE_EXPRESSION __gettext_free_exp\n-#else\n-# define FREE_EXPRESSION gettext_free_exp__\n-# define __gettextparse gettextparse__\n+#include \"plural-exp.h\"\n+\n+/* The main function generated by the parser is called __gettextparse,\n+   but we want it to be called PLURAL_PARSE.  */\n+#ifndef _LIBC\n+# define __gettextparse PLURAL_PARSE\n #endif\n \n #define YYLEX_PARAM\t&((struct parse_args *) arg)->cp\n #define YYPARSE_PARAM\targ\n %}\n %pure_parser\n-%expect 10\n+%expect 7\n \n %union {\n   unsigned long int num;\n@@ -404,13 +400,10 @@ yylex (lval, pexp)\n   return result;\n }\n \n-#if __GNUC__ < 2 || (__GNUC__ == 2 && __GNUC_MINOR__ < 7)\n-#define __attribute__(x)\n-#endif\n \n static void\n yyerror (str)\n-     const char *str __attribute__ ((__unused__));\n+     const char *str;\n {\n   /* Do nothing.  We don't print error messages here.  */\n }", "previous_filename": "gcc/intl/plural.y"}, {"sha": "16f79a528f0c6aac25308b2b045d9e5611207906", "filename": "intl/relocatable.c", "status": "added", "additions": 439, "deletions": 0, "changes": 439, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Frelocatable.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Frelocatable.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Frelocatable.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,439 @@\n+/* Provide relocatable packages.\n+   Copyright (C) 2003 Free Software Foundation, Inc.\n+   Written by Bruno Haible <bruno@clisp.org>, 2003.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+\n+/* Tell glibc's <stdio.h> to provide a prototype for getline().\n+   This must come before <config.h> because <config.h> may include\n+   <features.h>, and once <features.h> has been included, it's too late.  */\n+#ifndef _GNU_SOURCE\n+# define _GNU_SOURCE\t1\n+#endif\n+\n+#ifdef HAVE_CONFIG_H\n+# include \"config.h\"\n+#endif\n+\n+/* Specification.  */\n+#include \"relocatable.h\"\n+\n+#if ENABLE_RELOCATABLE\n+\n+#include <stddef.h>\n+#include <stdio.h>\n+#include <stdlib.h>\n+#include <string.h>\n+\n+#ifdef NO_XMALLOC\n+# define xmalloc malloc\n+#else\n+# include \"xmalloc.h\"\n+#endif\n+\n+#if DEPENDS_ON_LIBCHARSET\n+# include <libcharset.h>\n+#endif\n+#if DEPENDS_ON_LIBICONV && HAVE_ICONV\n+# include <iconv.h>\n+#endif\n+#if DEPENDS_ON_LIBINTL && ENABLE_NLS\n+# include <libintl.h>\n+#endif\n+\n+/* Faked cheap 'bool'.  */\n+#undef bool\n+#undef false\n+#undef true\n+#define bool int\n+#define false 0\n+#define true 1\n+\n+/* Pathname support.\n+   ISSLASH(C)           tests whether C is a directory separator character.\n+   IS_PATH_WITH_DIR(P)  tests whether P contains a directory specification.\n+ */\n+#if defined _WIN32 || defined __WIN32__ || defined __EMX__ || defined __DJGPP__\n+  /* Win32, OS/2, DOS */\n+# define ISSLASH(C) ((C) == '/' || (C) == '\\\\')\n+# define HAS_DEVICE(P) \\\n+    ((((P)[0] >= 'A' && (P)[0] <= 'Z') || ((P)[0] >= 'a' && (P)[0] <= 'z')) \\\n+     && (P)[1] == ':')\n+# define IS_PATH_WITH_DIR(P) \\\n+    (strchr (P, '/') != NULL || strchr (P, '\\\\') != NULL || HAS_DEVICE (P))\n+# define FILESYSTEM_PREFIX_LEN(P) (HAS_DEVICE (P) ? 2 : 0)\n+#else\n+  /* Unix */\n+# define ISSLASH(C) ((C) == '/')\n+# define IS_PATH_WITH_DIR(P) (strchr (P, '/') != NULL)\n+# define FILESYSTEM_PREFIX_LEN(P) 0\n+#endif\n+\n+/* Original installation prefix.  */\n+static char *orig_prefix;\n+static size_t orig_prefix_len;\n+/* Current installation prefix.  */\n+static char *curr_prefix;\n+static size_t curr_prefix_len;\n+/* These prefixes do not end in a slash.  Anything that will be concatenated\n+   to them must start with a slash.  */\n+\n+/* Sets the original and the current installation prefix of this module.\n+   Relocation simply replaces a pathname starting with the original prefix\n+   by the corresponding pathname with the current prefix instead.  Both\n+   prefixes should be directory names without trailing slash (i.e. use \"\"\n+   instead of \"/\").  */\n+static void\n+set_this_relocation_prefix (const char *orig_prefix_arg,\n+\t\t\t    const char *curr_prefix_arg)\n+{\n+  if (orig_prefix_arg != NULL && curr_prefix_arg != NULL\n+      /* Optimization: if orig_prefix and curr_prefix are equal, the\n+\t relocation is a nop.  */\n+      && strcmp (orig_prefix_arg, curr_prefix_arg) != 0)\n+    {\n+      /* Duplicate the argument strings.  */\n+      char *memory;\n+\n+      orig_prefix_len = strlen (orig_prefix_arg);\n+      curr_prefix_len = strlen (curr_prefix_arg);\n+      memory = (char *) xmalloc (orig_prefix_len + 1 + curr_prefix_len + 1);\n+#ifdef NO_XMALLOC\n+      if (memory != NULL)\n+#endif\n+\t{\n+\t  memcpy (memory, orig_prefix_arg, orig_prefix_len + 1);\n+\t  orig_prefix = memory;\n+\t  memory += orig_prefix_len + 1;\n+\t  memcpy (memory, curr_prefix_arg, curr_prefix_len + 1);\n+\t  curr_prefix = memory;\n+\t  return;\n+\t}\n+    }\n+  orig_prefix = NULL;\n+  curr_prefix = NULL;\n+  /* Don't worry about wasted memory here - this function is usually only\n+     called once.  */\n+}\n+\n+/* Sets the original and the current installation prefix of the package.\n+   Relocation simply replaces a pathname starting with the original prefix\n+   by the corresponding pathname with the current prefix instead.  Both\n+   prefixes should be directory names without trailing slash (i.e. use \"\"\n+   instead of \"/\").  */\n+void\n+set_relocation_prefix (const char *orig_prefix_arg, const char *curr_prefix_arg)\n+{\n+  set_this_relocation_prefix (orig_prefix_arg, curr_prefix_arg);\n+\n+  /* Now notify all dependent libraries.  */\n+#if DEPENDS_ON_LIBCHARSET\n+  libcharset_set_relocation_prefix (orig_prefix_arg, curr_prefix_arg);\n+#endif\n+#if DEPENDS_ON_LIBICONV && HAVE_ICONV && _LIBICONV_VERSION >= 0x0109\n+  libiconv_set_relocation_prefix (orig_prefix_arg, curr_prefix_arg);\n+#endif\n+#if DEPENDS_ON_LIBINTL && ENABLE_NLS && defined libintl_set_relocation_prefix\n+  libintl_set_relocation_prefix (orig_prefix_arg, curr_prefix_arg);\n+#endif\n+}\n+\n+/* Convenience function:\n+   Computes the current installation prefix, based on the original\n+   installation prefix, the original installation directory of a particular\n+   file, and the current pathname of this file.  Returns NULL upon failure.  */\n+#ifdef IN_LIBRARY\n+#define compute_curr_prefix local_compute_curr_prefix\n+static\n+#endif\n+const char *\n+compute_curr_prefix (const char *orig_installprefix,\n+\t\t     const char *orig_installdir,\n+\t\t     const char *curr_pathname)\n+{\n+  const char *curr_installdir;\n+  const char *rel_installdir;\n+\n+  if (curr_pathname == NULL)\n+    return NULL;\n+\n+  /* Determine the relative installation directory, relative to the prefix.\n+     This is simply the difference between orig_installprefix and\n+     orig_installdir.  */\n+  if (strncmp (orig_installprefix, orig_installdir, strlen (orig_installprefix))\n+      != 0)\n+    /* Shouldn't happen - nothing should be installed outside $(prefix).  */\n+    return NULL;\n+  rel_installdir = orig_installdir + strlen (orig_installprefix);\n+\n+  /* Determine the current installation directory.  */\n+  {\n+    const char *p_base = curr_pathname + FILESYSTEM_PREFIX_LEN (curr_pathname);\n+    const char *p = curr_pathname + strlen (curr_pathname);\n+    char *q;\n+\n+    while (p > p_base)\n+      {\n+\tp--;\n+\tif (ISSLASH (*p))\n+\t  break;\n+      }\n+\n+    q = (char *) xmalloc (p - curr_pathname + 1);\n+#ifdef NO_XMALLOC\n+    if (q == NULL)\n+      return NULL;\n+#endif\n+    memcpy (q, curr_pathname, p - curr_pathname);\n+    q[p - curr_pathname] = '\\0';\n+    curr_installdir = q;\n+  }\n+\n+  /* Compute the current installation prefix by removing the trailing\n+     rel_installdir from it.  */\n+  {\n+    const char *rp = rel_installdir + strlen (rel_installdir);\n+    const char *cp = curr_installdir + strlen (curr_installdir);\n+    const char *cp_base =\n+      curr_installdir + FILESYSTEM_PREFIX_LEN (curr_installdir);\n+\n+    while (rp > rel_installdir && cp > cp_base)\n+      {\n+\tbool same = false;\n+\tconst char *rpi = rp;\n+\tconst char *cpi = cp;\n+\n+\twhile (rpi > rel_installdir && cpi > cp_base)\n+\t  {\n+\t    rpi--;\n+\t    cpi--;\n+\t    if (ISSLASH (*rpi) || ISSLASH (*cpi))\n+\t      {\n+\t\tif (ISSLASH (*rpi) && ISSLASH (*cpi))\n+\t\t  same = true;\n+\t\tbreak;\n+\t      }\n+#if defined _WIN32 || defined __WIN32__ || defined __EMX__ || defined __DJGPP__\n+\t    /* Win32, OS/2, DOS - case insignificant filesystem */\n+\t    if ((*rpi >= 'a' && *rpi <= 'z' ? *rpi - 'a' + 'A' : *rpi)\n+\t\t!= (*cpi >= 'a' && *cpi <= 'z' ? *cpi - 'a' + 'A' : *cpi))\n+\t      break;\n+#else\n+\t    if (*rpi != *cpi)\n+\t      break;\n+#endif\n+\t  }\n+\tif (!same)\n+\t  break;\n+\t/* The last pathname component was the same.  opi and cpi now point\n+\t   to the slash before it.  */\n+\trp = rpi;\n+\tcp = cpi;\n+      }\n+\n+    if (rp > rel_installdir)\n+      /* Unexpected: The curr_installdir does not end with rel_installdir.  */\n+      return NULL;\n+\n+    {\n+      size_t curr_prefix_len = cp - curr_installdir;\n+      char *curr_prefix;\n+\n+      curr_prefix = (char *) xmalloc (curr_prefix_len + 1);\n+#ifdef NO_XMALLOC\n+      if (curr_prefix == NULL)\n+\treturn NULL;\n+#endif\n+      memcpy (curr_prefix, curr_installdir, curr_prefix_len);\n+      curr_prefix[curr_prefix_len] = '\\0';\n+\n+      return curr_prefix;\n+    }\n+  }\n+}\n+\n+#if defined PIC && defined INSTALLDIR\n+\n+/* Full pathname of shared library, or NULL.  */\n+static char *shared_library_fullname;\n+\n+#if defined _WIN32 || defined __WIN32__\n+\n+/* Determine the full pathname of the shared library when it is loaded.  */\n+\n+BOOL WINAPI\n+DllMain (HINSTANCE module_handle, DWORD event, LPVOID reserved)\n+{\n+  (void) reserved;\n+\n+  if (event == DLL_PROCESS_ATTACH)\n+    {\n+      /* The DLL is being loaded into an application's address range.  */\n+      static char location[MAX_PATH];\n+\n+      if (!GetModuleFileName (module_handle, location, sizeof (location)))\n+\t/* Shouldn't happen.  */\n+\treturn FALSE;\n+\n+      if (!IS_PATH_WITH_DIR (location))\n+\t/* Shouldn't happen.  */\n+\treturn FALSE;\n+\n+      shared_library_fullname = strdup (location);\n+    }\n+\n+  return TRUE;\n+}\n+\n+#else /* Unix */\n+\n+static void\n+find_shared_library_fullname ()\n+{\n+#ifdef __linux__\n+  FILE *fp;\n+\n+  /* Open the current process' maps file.  It describes one VMA per line.  */\n+  fp = fopen (\"/proc/self/maps\", \"r\");\n+  if (fp)\n+    {\n+      unsigned long address = (unsigned long) &find_shared_library_fullname;\n+      for (;;)\n+\t{\n+\t  unsigned long start, end;\n+\t  int c;\n+\n+\t  if (fscanf (fp, \"%lx-%lx\", &start, &end) != 2)\n+\t    break;\n+\t  if (address >= start && address <= end - 1)\n+\t    {\n+\t      /* Found it.  Now see if this line contains a filename.  */\n+\t      while (c = getc (fp), c != EOF && c != '\\n' && c != '/')\n+\t\tcontinue;\n+\t      if (c == '/')\n+\t\t{\n+\t\t  size_t size;\n+\t\t  int len;\n+\n+\t\t  ungetc (c, fp);\n+\t\t  shared_library_fullname = NULL; size = 0;\n+\t\t  len = getline (&shared_library_fullname, &size, fp);\n+\t\t  if (len >= 0)\n+\t\t    {\n+\t\t      /* Success: filled shared_library_fullname.  */\n+\t\t      if (len > 0 && shared_library_fullname[len - 1] == '\\n')\n+\t\t\tshared_library_fullname[len - 1] = '\\0';\n+\t\t    }\n+\t\t}\n+\t      break;\n+\t    }\n+\t  while (c = getc (fp), c != EOF && c != '\\n')\n+\t    continue;\n+\t}\n+      fclose (fp);\n+    }\n+#endif\n+}\n+\n+#endif /* WIN32 / Unix */\n+\n+/* Return the full pathname of the current shared library.\n+   Return NULL if unknown.\n+   Guaranteed to work only on Linux and Woe32.  */\n+static char *\n+get_shared_library_fullname ()\n+{\n+#if !(defined _WIN32 || defined __WIN32__)\n+  static bool tried_find_shared_library_fullname;\n+  if (!tried_find_shared_library_fullname)\n+    {\n+      find_shared_library_fullname ();\n+      tried_find_shared_library_fullname = true;\n+    }\n+#endif\n+  return shared_library_fullname;\n+}\n+\n+#endif /* PIC */\n+\n+/* Returns the pathname, relocated according to the current installation\n+   directory.  */\n+const char *\n+relocate (const char *pathname)\n+{\n+#if defined PIC && defined INSTALLDIR\n+  static int initialized;\n+\n+  /* Initialization code for a shared library.  */\n+  if (!initialized)\n+    {\n+      /* At this point, orig_prefix and curr_prefix likely have already been\n+\t set through the main program's set_program_name_and_installdir\n+\t function.  This is sufficient in the case that the library has\n+\t initially been installed in the same orig_prefix.  But we can do\n+\t better, to also cover the cases that 1. it has been installed\n+\t in a different prefix before being moved to orig_prefix and (later)\n+\t to curr_prefix, 2. unlike the program, it has not moved away from\n+\t orig_prefix.  */\n+      const char *orig_installprefix = INSTALLPREFIX;\n+      const char *orig_installdir = INSTALLDIR;\n+      const char *curr_prefix_better;\n+\n+      curr_prefix_better =\n+\tcompute_curr_prefix (orig_installprefix, orig_installdir,\n+\t\t\t     get_shared_library_fullname ());\n+      if (curr_prefix_better == NULL)\n+\tcurr_prefix_better = curr_prefix;\n+\n+      set_relocation_prefix (orig_installprefix, curr_prefix_better);\n+\n+      initialized = 1;\n+    }\n+#endif\n+\n+  /* Note: It is not necessary to perform case insensitive comparison here,\n+     even for DOS-like filesystems, because the pathname argument was\n+     typically created from the same Makefile variable as orig_prefix came\n+     from.  */\n+  if (orig_prefix != NULL && curr_prefix != NULL\n+      && strncmp (pathname, orig_prefix, orig_prefix_len) == 0)\n+    {\n+      if (pathname[orig_prefix_len] == '\\0')\n+\t/* pathname equals orig_prefix.  */\n+\treturn curr_prefix;\n+      if (ISSLASH (pathname[orig_prefix_len]))\n+\t{\n+\t  /* pathname starts with orig_prefix.  */\n+\t  const char *pathname_tail = &pathname[orig_prefix_len];\n+\t  char *result =\n+\t    (char *) xmalloc (curr_prefix_len + strlen (pathname_tail) + 1);\n+\n+#ifdef NO_XMALLOC\n+\t  if (result != NULL)\n+#endif\n+\t    {\n+\t      memcpy (result, curr_prefix, curr_prefix_len);\n+\t      strcpy (result + curr_prefix_len, pathname_tail);\n+\t      return result;\n+\t    }\n+\t}\n+    }\n+  /* Nothing to relocate.  */\n+  return pathname;\n+}\n+\n+#endif"}, {"sha": "d141200a64235d6820be3406436f839632e775c8", "filename": "intl/relocatable.h", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Frelocatable.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Frelocatable.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Frelocatable.h?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -0,0 +1,67 @@\n+/* Provide relocatable packages.\n+   Copyright (C) 2003 Free Software Foundation, Inc.\n+   Written by Bruno Haible <bruno@clisp.org>, 2003.\n+\n+   This program is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU Library General Public License as published\n+   by the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+\n+   This program is distributed in the hope that it will be useful,\n+   but WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   Library General Public License for more details.\n+\n+   You should have received a copy of the GNU Library General Public\n+   License along with this program; if not, write to the Free Software\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+   USA.  */\n+\n+#ifndef _RELOCATABLE_H\n+#define _RELOCATABLE_H\n+\n+/* This can be enabled through the configure --enable-relocatable option.  */\n+#if ENABLE_RELOCATABLE\n+\n+/* When building a DLL, we must export some functions.  Note that because\n+   this is a private .h file, we don't need to use __declspec(dllimport)\n+   in any case.  */\n+#if defined _MSC_VER && BUILDING_DLL\n+# define RELOCATABLE_DLL_EXPORTED __declspec(dllexport)\n+#else\n+# define RELOCATABLE_DLL_EXPORTED\n+#endif\n+\n+/* Sets the original and the current installation prefix of the package.\n+   Relocation simply replaces a pathname starting with the original prefix\n+   by the corresponding pathname with the current prefix instead.  Both\n+   prefixes should be directory names without trailing slash (i.e. use \"\"\n+   instead of \"/\").  */\n+extern RELOCATABLE_DLL_EXPORTED void\n+       set_relocation_prefix (const char *orig_prefix,\n+\t\t\t      const char *curr_prefix);\n+\n+/* Returns the pathname, relocated according to the current installation\n+   directory.  */\n+extern const char * relocate (const char *pathname);\n+\n+/* Memory management: relocate() leaks memory, because it has to construct\n+   a fresh pathname.  If this is a problem because your program calls\n+   relocate() frequently, think about caching the result.  */\n+\n+/* Convenience function:\n+   Computes the current installation prefix, based on the original\n+   installation prefix, the original installation directory of a particular\n+   file, and the current pathname of this file.  Returns NULL upon failure.  */\n+extern const char * compute_curr_prefix (const char *orig_installprefix,\n+\t\t\t\t\t const char *orig_installdir,\n+\t\t\t\t\t const char *curr_pathname);\n+\n+#else\n+\n+/* By default, we use the hardwired pathnames.  */\n+#define relocate(pathname) (pathname)\n+\n+#endif\n+\n+#endif /* _RELOCATABLE_H */"}, {"sha": "f259c696d945cd711b016df916247fc2262df4c4", "filename": "intl/textdomain.c", "status": "renamed", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Ftextdomain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82/intl%2Ftextdomain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Ftextdomain.c?ref=6eb95e99e7c021cbbfa1d54b1f0ea57d9d095a82", "patch": "@@ -1,5 +1,5 @@\n /* Implementation of the textdomain(3) function.\n-   Copyright (C) 1995-1998, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1998, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU Library General Public License as published\n@@ -44,17 +44,17 @@\n    names than the internal variables in GNU libc, otherwise programs\n    using libintl.a cannot be linked statically.  */\n #if !defined _LIBC\n-# define _nl_default_default_domain _nl_default_default_domain__\n-# define _nl_current_default_domain _nl_current_default_domain__\n+# define _nl_default_default_domain libintl_nl_default_default_domain\n+# define _nl_current_default_domain libintl_nl_current_default_domain\n #endif\n \n /* @@ end of prolog @@ */\n \n /* Name of the default text domain.  */\n-extern const char _nl_default_default_domain[];\n+extern const char _nl_default_default_domain[] attribute_hidden;\n \n /* Default text domain in which entries for gettext(3) are to be found.  */\n-extern const char *_nl_current_default_domain;\n+extern const char *_nl_current_default_domain attribute_hidden;\n \n \n /* Names for the libintl functions are a problem.  They must not clash\n@@ -67,11 +67,11 @@ extern const char *_nl_current_default_domain;\n #  define strdup(str) __strdup (str)\n # endif\n #else\n-# define TEXTDOMAIN textdomain__\n+# define TEXTDOMAIN libintl_textdomain\n #endif\n \n /* Lock variable to protect the global data in the gettext implementation.  */\n-__libc_rwlock_define (extern, _nl_state_lock)\n+__libc_rwlock_define (extern, _nl_state_lock attribute_hidden)\n \n /* Set the current default message catalog to DOMAINNAME.\n    If DOMAINNAME is null, return the current default.", "previous_filename": "gcc/intl/textdomain.c"}]}