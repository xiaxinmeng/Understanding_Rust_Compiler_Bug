{"sha": "fe8dd12e2057860085caad10d0f4d2c681ff8bf9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmU4ZGQxMmUyMDU3ODYwMDg1Y2FhZDEwZDBmNGQyYzY4MWZmOGJmOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-11-10T19:14:17Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-11-10T19:14:17Z"}, "message": "re PR bootstrap/63573 (libgo: ICE building libgo on powerpc-linux-gnu)\n\n\n\tPR bootstrap/63573\n\t* calls.c (initialize_argument_information): When emitting thunk call\n\tuse original memory placement of the argument.\n\nFrom-SVN: r217307", "tree": {"sha": "ea3e010ea64a6fc13c330cfb2ace81f92aea443d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea3e010ea64a6fc13c330cfb2ace81f92aea443d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe8dd12e2057860085caad10d0f4d2c681ff8bf9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe8dd12e2057860085caad10d0f4d2c681ff8bf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe8dd12e2057860085caad10d0f4d2c681ff8bf9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe8dd12e2057860085caad10d0f4d2c681ff8bf9/comments", "author": null, "committer": null, "parents": [{"sha": "be8118c57b2b52b71f27c74c9db2495cf9466c41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be8118c57b2b52b71f27c74c9db2495cf9466c41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be8118c57b2b52b71f27c74c9db2495cf9466c41"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "10bd4806f6345a00b58faadbbdeb1b03d1bebed8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe8dd12e2057860085caad10d0f4d2c681ff8bf9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe8dd12e2057860085caad10d0f4d2c681ff8bf9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fe8dd12e2057860085caad10d0f4d2c681ff8bf9", "patch": "@@ -1,3 +1,9 @@\n+2014-11-10  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR bootstrap/63573\n+\t* calls.c (initialize_argument_information): When emitting thunk call\n+\tuse original memory placement of the argument.\n+\n 2014-11-10  Renlin Li  <renlin.li@arm.com>\n \n \tPR middle-end/61529"}, {"sha": "7f55aafa7346e841cd9130a9e8d4667a25b99837", "filename": "gcc/calls.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe8dd12e2057860085caad10d0f4d2c681ff8bf9/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe8dd12e2057860085caad10d0f4d2c681ff8bf9/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=fe8dd12e2057860085caad10d0f4d2c681ff8bf9", "patch": "@@ -1304,6 +1304,16 @@ initialize_argument_information (int num_actuals ATTRIBUTE_UNUSED,\n \t\t  && TREE_CODE (base) != SSA_NAME\n \t\t  && (!DECL_P (base) || MEM_P (DECL_RTL (base)))))\n \t    {\n+\t      /* Argument setup code may have copied the value to register.  We\n+\t\t revert that optimization now because the tail call code must\n+\t\t use the original location.  */\n+\t      if (TREE_CODE (args[i].tree_value) == PARM_DECL\n+\t\t  && !MEM_P (DECL_RTL (args[i].tree_value))\n+\t\t  && DECL_INCOMING_RTL (args[i].tree_value)\n+\t\t  && MEM_P (DECL_INCOMING_RTL (args[i].tree_value)))\n+\t\tset_decl_rtl (args[i].tree_value,\n+\t\t\t      DECL_INCOMING_RTL (args[i].tree_value));\n+\n \t      mark_addressable (args[i].tree_value);\n \n \t      /* We can't use sibcalls if a callee-copied argument is"}]}