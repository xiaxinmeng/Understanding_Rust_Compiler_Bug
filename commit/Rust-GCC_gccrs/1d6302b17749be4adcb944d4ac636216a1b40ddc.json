{"sha": "1d6302b17749be4adcb944d4ac636216a1b40ddc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ2MzAyYjE3NzQ5YmU0YWRjYjk0NGQ0YWM2MzYyMTZhMWI0MGRkYw==", "commit": {"author": {"name": "Gunther Nikl", "email": "gni@gecko.de", "date": "2003-06-28T00:36:23Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2003-06-28T00:36:23Z"}, "message": "re PR target/11014 ([m68k] MIT / MOTOROLA assembly conflict)\n\nPR target/11014\n* config/m68k/m68k.c (m68k_output_mi_thunk): Use correct assembly\nsyntax for MIT / MOTOROLA.\n\nFrom-SVN: r68623", "tree": {"sha": "94fc9d5bd9cc654d4d48a993351222c6beda5b8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94fc9d5bd9cc654d4d48a993351222c6beda5b8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d6302b17749be4adcb944d4ac636216a1b40ddc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d6302b17749be4adcb944d4ac636216a1b40ddc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d6302b17749be4adcb944d4ac636216a1b40ddc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d6302b17749be4adcb944d4ac636216a1b40ddc/comments", "author": null, "committer": null, "parents": [{"sha": "8ce332308c738cc38d292de5978e37dde916ba34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ce332308c738cc38d292de5978e37dde916ba34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ce332308c738cc38d292de5978e37dde916ba34"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "d30b4db4ca8f64651b6f355b77728815331ecad7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d6302b17749be4adcb944d4ac636216a1b40ddc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d6302b17749be4adcb944d4ac636216a1b40ddc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1d6302b17749be4adcb944d4ac636216a1b40ddc", "patch": "@@ -8,6 +8,10 @@\n \n \t* unwind-c.c (PERSONALITY_FUNCTION): Delete duplicate define.\n \n+\tPR target/11014\n+\t* config/m68k/m68k.c (m68k_output_mi_thunk): Use correct assembly\n+\tsyntax for MIT / MOTOROLA.\n+\n 2003-06-27  Chris Demetriou  <cgd@broadcom.com>\n \n \t* config/mips/mips.c (mips_build_va_list): Make padding in"}, {"sha": "3d034819ea376f7c1268cdad38e613fb6df322f0", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d6302b17749be4adcb944d4ac636216a1b40ddc/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d6302b17749be4adcb944d4ac636216a1b40ddc/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=1d6302b17749be4adcb944d4ac636216a1b40ddc", "patch": "@@ -3691,11 +3691,23 @@ m68k_output_mi_thunk (file, thunk, delta, vcall_offset, function)\n   const char *fmt;\n \n   if (delta > 0 && delta <= 8)\n+#ifdef MOTOROLA\n     asm_fprintf (file, \"\\taddq.l %I%d,4(%Rsp)\\n\", (int) delta);\n+#else\n+    asm_fprintf (file, \"\\taddql %I%d,%Rsp@(4)\\n\", (int) delta);\n+#endif\n   else if (delta < 0 && delta >= -8)\n+#ifdef MOTOROLA\n     asm_fprintf (file, \"\\tsubq.l %I%d,4(%Rsp)\\n\", (int) -delta);\n+#else\n+    asm_fprintf (file, \"\\tsubql %I%d,%Rsp@(4)\\n\", (int) -delta);\n+#endif\n   else\n+#ifdef MOTOROLA\n     asm_fprintf (file, \"\\tadd.l %I%wd,4(%Rsp)\\n\", delta);\n+#else\n+    asm_fprintf (file, \"\\taddl %I%wd,%Rsp@(4)\\n\", delta);\n+#endif\n \n   xops[0] = DECL_RTL (function);\n \n@@ -3720,7 +3732,7 @@ m68k_output_mi_thunk (file, thunk, delta, vcall_offset, function)\n #ifdef USE_GAS\n \t  fmt = \"bra.l %0\";\n #else\n-\t  fmt = \"jbra %0,a1\";\n+\t  fmt = \"jra %0,a1\";\n #endif\n #endif\n \t}\n@@ -3734,7 +3746,7 @@ m68k_output_mi_thunk (file, thunk, delta, vcall_offset, function)\n       fmt = \"jmp %0\";\n #endif\n #else\n-      fmt = \"jbra %0\";\n+      fmt = \"jra %0\";\n #endif\n     }\n "}]}