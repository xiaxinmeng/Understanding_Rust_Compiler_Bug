{"sha": "b7bf91917adec5526a5ffc2328a6402494d9e8ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdiZjkxOTE3YWRlYzU1MjZhNWZmYzIzMjhhNjQwMjQ5NGQ5ZThlZQ==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2006-10-03T19:18:09Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2006-10-03T19:18:09Z"}, "message": "nearest_1.f90: Add -O0 because -ffloat-store is insufficient to inhibit some test failures at -O3.\n\n2006-10-03  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n        * gfortran.dg/nearest_1.f90: Add -O0 because -ffloat-store is\n        insufficient to inhibit some test failures at -O3.  Do testing\n        on integers.\n\nFrom-SVN: r117412", "tree": {"sha": "7ee08ea106a21a066ef81d6baf8c225768de409b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ee08ea106a21a066ef81d6baf8c225768de409b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7bf91917adec5526a5ffc2328a6402494d9e8ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7bf91917adec5526a5ffc2328a6402494d9e8ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7bf91917adec5526a5ffc2328a6402494d9e8ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7bf91917adec5526a5ffc2328a6402494d9e8ee/comments", "author": null, "committer": null, "parents": [{"sha": "547e3b2a6380d009559c2d9960334d36d9c13be9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/547e3b2a6380d009559c2d9960334d36d9c13be9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/547e3b2a6380d009559c2d9960334d36d9c13be9"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "8615b8167672f689427ebe06f55c6dd08f2fc064", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7bf91917adec5526a5ffc2328a6402494d9e8ee/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7bf91917adec5526a5ffc2328a6402494d9e8ee/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b7bf91917adec5526a5ffc2328a6402494d9e8ee", "patch": "@@ -1,3 +1,9 @@\n+2006-10-03  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\t* gfortran.dg/nearest_1.f90: Add -O0 because -ffloat-store is\n+\tinsufficient to inhibit some test failures at -O3.  Do testing\n+\ton integers.\n+\n 2006-10-03  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/29138"}, {"sha": "c80f3a6bc2d8095ce1a7b48b46f524c84aaa30e4", "filename": "gcc/testsuite/gfortran.dg/nearest_1.f90", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7bf91917adec5526a5ffc2328a6402494d9e8ee/gcc%2Ftestsuite%2Fgfortran.dg%2Fnearest_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7bf91917adec5526a5ffc2328a6402494d9e8ee/gcc%2Ftestsuite%2Fgfortran.dg%2Fnearest_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnearest_1.f90?ref=b7bf91917adec5526a5ffc2328a6402494d9e8ee", "patch": "@@ -1,15 +1,18 @@\n ! { dg-do run }\n-! { dg-options \"-ffloat-store\" }\n+! { dg-options \"-O0 -ffloat-store\" }\n ! PR fortran/27021\n ! Original code submitted by Dominique d'Humieres\n ! Converted to Dejagnu for the testsuite by Steven G. Kargl\n program chop\n+  integer ix, iy\n   real o, t, td, tu, x, y\n   o = 1.\n   t = tiny(o)\n   td = nearest(t,-1.0)\n   x = td/2.0\n   y = nearest(tiny(o),-1.0)/2.0\n-  if (abs(x - y) /= 0.) call abort\n+  ix = transfer(x,ix)\n+  iy = transfer(y,iy)\n+  if (ix /= iy) call abort\n end program chop\n "}]}