{"sha": "1965dd3a1f621d899e250ddc84d0d83ba1ada69a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTk2NWRkM2ExZjYyMWQ4OTllMjUwZGRjODRkMGQ4M2JhMWFkYTY5YQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2007-04-24T21:02:21Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2007-04-24T21:02:21Z"}, "message": "* flow.c (elim_reg_cond): Handle a comparison of a subreg.\n\nFrom-SVN: r124122", "tree": {"sha": "b759a6f1e6fa2ef7f2526805e022dc7441d222d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b759a6f1e6fa2ef7f2526805e022dc7441d222d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1965dd3a1f621d899e250ddc84d0d83ba1ada69a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1965dd3a1f621d899e250ddc84d0d83ba1ada69a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1965dd3a1f621d899e250ddc84d0d83ba1ada69a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1965dd3a1f621d899e250ddc84d0d83ba1ada69a/comments", "author": null, "committer": null, "parents": [{"sha": "438d798f1231f01c92211c76df1cc3b4cf6904a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/438d798f1231f01c92211c76df1cc3b4cf6904a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/438d798f1231f01c92211c76df1cc3b4cf6904a4"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "0826135faacd97c2c4b8f6ca9cd7f246f25fbd57", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1965dd3a1f621d899e250ddc84d0d83ba1ada69a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1965dd3a1f621d899e250ddc84d0d83ba1ada69a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1965dd3a1f621d899e250ddc84d0d83ba1ada69a", "patch": "@@ -1,10 +1,15 @@\n+2007-04-24  Ian Lance Taylor  <iant@google.com>\n+\n+\t* flow.c (elim_reg_cond): Handle a comparison of a subreg.\n+\n 2007-04-24  Simon Martin  <simartin@users.sourceforge.net>\n \n \tPR diagnostic/25923\n \t* tree-pass.h (TDF_DIAGNOSTIC): New dump control to specify that a\n \tdiagnostic message is being built.\n-\t* tree-pretty-print.c (dump_generic_node): Only write the formatted text\n-\tinto BUFFER's stream if we are not building a diagnostic message.\n+\t* tree-pretty-print.c (dump_generic_node): Only write the\n+\tformatted text into BUFFER's stream if we are not building a\n+\tdiagnostic message.\n \t* toplev.c (default_tree_printer): Pass TDF_DIAGNOSTIC to\n \tdump_generic_node.\n \t* Makefile.in (toplev.o): Depend on tree-pass.h."}, {"sha": "5b0249bec979520008cd882afe94313d5c6f7681", "filename": "gcc/flow.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1965dd3a1f621d899e250ddc84d0d83ba1ada69a/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1965dd3a1f621d899e250ddc84d0d83ba1ada69a/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=1965dd3a1f621d899e250ddc84d0d83ba1ada69a", "patch": "@@ -3437,7 +3437,13 @@ elim_reg_cond (rtx x, unsigned int regno)\n \n   if (COMPARISON_P (x))\n     {\n-      if (REGNO (XEXP (x, 0)) == regno)\n+      rtx reg;\n+\n+      reg = XEXP (x, 0);\n+      if (GET_CODE (reg) == SUBREG)\n+\treg = SUBREG_REG (reg);\n+      gcc_assert (REG_P (reg));\n+      if (REGNO (reg) == regno)\n \treturn const0_rtx;\n       return x;\n     }"}]}