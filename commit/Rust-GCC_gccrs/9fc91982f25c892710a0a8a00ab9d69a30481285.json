{"sha": "9fc91982f25c892710a0a8a00ab9d69a30481285", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZjOTE5ODJmMjVjODkyNzEwYTBhOGEwMGFiOWQ2OWEzMDQ4MTI4NQ==", "commit": {"author": {"name": "Jerome Lambourg", "email": "lambourg@adacore.com", "date": "2010-06-14T15:01:29Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-14T15:01:29Z"}, "message": "exp_ch11.adb (Expand_N_Raise_Statement): Make sure that the explicit raise of CE...\n\n2010-06-14  Jerome Lambourg  <lambourg@adacore.com>\n\n\t* exp_ch11.adb (Expand_N_Raise_Statement): Make sure that the explicit\n\traise of CE, SE and PE have the reason correctly set and are properly\n\texpanded before stopping the expansions of .NET/JVM exceptions.\n\nFrom-SVN: r160747", "tree": {"sha": "37afbd817b1164f256d00972cc319a88b4ea3bbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/37afbd817b1164f256d00972cc319a88b4ea3bbb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fc91982f25c892710a0a8a00ab9d69a30481285", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fc91982f25c892710a0a8a00ab9d69a30481285", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fc91982f25c892710a0a8a00ab9d69a30481285", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fc91982f25c892710a0a8a00ab9d69a30481285/comments", "author": {"login": "lambourg", "id": 480233, "node_id": "MDQ6VXNlcjQ4MDIzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/480233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lambourg", "html_url": "https://github.com/lambourg", "followers_url": "https://api.github.com/users/lambourg/followers", "following_url": "https://api.github.com/users/lambourg/following{/other_user}", "gists_url": "https://api.github.com/users/lambourg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lambourg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lambourg/subscriptions", "organizations_url": "https://api.github.com/users/lambourg/orgs", "repos_url": "https://api.github.com/users/lambourg/repos", "events_url": "https://api.github.com/users/lambourg/events{/privacy}", "received_events_url": "https://api.github.com/users/lambourg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "66de78a39f9c054f4eb9171220c76169aa40a9e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66de78a39f9c054f4eb9171220c76169aa40a9e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66de78a39f9c054f4eb9171220c76169aa40a9e2"}], "stats": {"total": 24, "additions": 15, "deletions": 9}, "files": [{"sha": "8f28a3cf1a063e71b45c6b11b33a8694e597d352", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc91982f25c892710a0a8a00ab9d69a30481285/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc91982f25c892710a0a8a00ab9d69a30481285/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=9fc91982f25c892710a0a8a00ab9d69a30481285", "patch": "@@ -1,3 +1,9 @@\n+2010-06-14  Jerome Lambourg  <lambourg@adacore.com>\n+\n+\t* exp_ch11.adb (Expand_N_Raise_Statement): Make sure that the explicit\n+\traise of CE, SE and PE have the reason correctly set and are properly\n+\texpanded before stopping the expansions of .NET/JVM exceptions.\n+\n 2010-06-14  Robert Dewar  <dewar@adacore.com>\n \n \t* opt.ads (Check_Policy_List): Add some clarifying comments"}, {"sha": "3978e940146d28c7e730f21d7def92c6388b8200", "filename": "gcc/ada/exp_ch11.adb", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc91982f25c892710a0a8a00ab9d69a30481285/gcc%2Fada%2Fexp_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc91982f25c892710a0a8a00ab9d69a30481285/gcc%2Fada%2Fexp_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.adb?ref=9fc91982f25c892710a0a8a00ab9d69a30481285", "patch": "@@ -1516,15 +1516,6 @@ package body Exp_Ch11 is\n       --  Remaining processing is for the case where no string expression\n       --  is present.\n \n-      --  There is no expansion needed for statement \"raise <exception>;\" when\n-      --  compiling for the JVM since the JVM has a built-in exception\n-      --  mechanism. However we need to keep the expansion for \"raise;\"\n-      --  statements. See 4jexcept.ads for details.\n-\n-      if Present (Name (N)) and then VM_Target /= No_VM then\n-         return;\n-      end if;\n-\n       --  Don't expand a raise statement that does not come from source\n       --  if we have already had configurable run-time violations, since\n       --  most likely it will be junk cascaded nonsense.\n@@ -1564,6 +1555,15 @@ package body Exp_Ch11 is\n          end if;\n       end if;\n \n+      --  There is no expansion needed for statement \"raise <exception>;\" when\n+      --  compiling for the JVM since the JVM has a built-in exception\n+      --  mechanism. However we need to keep the expansion for \"raise;\"\n+      --  statements. See 4jexcept.ads for details.\n+\n+      if Present (Name (N)) and then VM_Target /= No_VM then\n+         return;\n+      end if;\n+\n       --  Case of name present, in this case we expand raise name to\n \n       --    Raise_Exception (name'Identity, location_string);"}]}