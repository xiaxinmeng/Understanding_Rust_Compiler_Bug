{"sha": "894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "node_id": "C_kwDOANBUbNoAKDg5NGRkZWFjZGFlYWNiZDI5ZTVlYmNmZDUxZjQyMzA1MGFlOGQ1NmI", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2022-06-27T21:00:33Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2022-06-27T21:00:33Z"}, "message": "Add 'final' and 'override' on dom_walker vfunc impls\n\ngcc/ChangeLog:\n\t* compare-elim.cc: Add \"final\" and \"override\" to dom_walker vfunc\n\timplementations, removing redundant \"virtual\" as appropriate.\n\t* gimple-ssa-strength-reduction.cc: Likewise.\n\t* ipa-prop.cc: Likewise.\n\t* rtl-ssa/blocks.cc: Likewise.\n\t* tree-into-ssa.cc: Likewise.\n\t* tree-ssa-dom.cc: Likewise.\n\t* tree-ssa-math-opts.cc: Likewise.\n\t* tree-ssa-phiopt.cc: Likewise.\n\t* tree-ssa-propagate.cc: Likewise.\n\t* tree-ssa-sccvn.cc: Likewise.\n\t* tree-ssa-strlen.cc: Likewise.\n\t* tree-ssa-uncprop.cc: Likewise.\n\nSigned-off-by: David Malcolm <dmalcolm@redhat.com>", "tree": {"sha": "9a77773aecd102b9dad8f197a6374eb3cfac3521", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a77773aecd102b9dad8f197a6374eb3cfac3521"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "725793af78064fa605ea6d9376aaf99ecb71467b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/725793af78064fa605ea6d9376aaf99ecb71467b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/725793af78064fa605ea6d9376aaf99ecb71467b"}], "stats": {"total": 48, "additions": 24, "deletions": 24}, "files": [{"sha": "4a23202f8ff7166c39f2db60a49e5f89b89809fc", "filename": "gcc/compare-elim.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Fcompare-elim.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Fcompare-elim.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcompare-elim.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -283,7 +283,7 @@ class find_comparison_dom_walker : public dom_walker\n   find_comparison_dom_walker (cdi_direction direction)\n     : dom_walker (direction) {}\n \n-  virtual edge before_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n };\n \n /* Return true if conforming COMPARE with EH_NOTE is redundant with comparison"}, {"sha": "fb2bb9f4e74cb7a418e53873c64f3ed94e129283", "filename": "gcc/gimple-ssa-strength-reduction.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Fgimple-ssa-strength-reduction.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Fgimple-ssa-strength-reduction.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-strength-reduction.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -1729,7 +1729,7 @@ class find_candidates_dom_walker : public dom_walker\n public:\n   find_candidates_dom_walker (cdi_direction direction)\n     : dom_walker (direction) {}\n-  virtual edge before_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n };\n \n /* Find strength-reduction candidates in block BB.  */"}, {"sha": "77915632fa88fe03248484314272cdc9f0f34cb5", "filename": "gcc/ipa-prop.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Fipa-prop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Fipa-prop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-prop.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -3008,7 +3008,7 @@ class analysis_dom_walker : public dom_walker\n   analysis_dom_walker (struct ipa_func_body_info *fbi)\n     : dom_walker (CDI_DOMINATORS), m_fbi (fbi) {}\n \n-  virtual edge before_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n \n private:\n   struct ipa_func_body_info *m_fbi;\n@@ -5655,7 +5655,7 @@ class ipcp_modif_dom_walker : public dom_walker\n     : dom_walker (CDI_DOMINATORS), m_fbi (fbi), m_descriptors (descs),\n       m_aggval (av), m_something_changed (sc) {}\n \n-  virtual edge before_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n   bool cleanup_eh ()\n     { return gimple_purge_all_dead_eh_edges (m_need_eh_cleanup); }\n "}, {"sha": "6b03dd0374797f375159950a8e12ddec2deb2d7c", "filename": "gcc/rtl-ssa/blocks.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Frtl-ssa%2Fblocks.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Frtl-ssa%2Fblocks.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl-ssa%2Fblocks.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -85,8 +85,8 @@ class function_info::bb_walker : public dom_walker\n {\n public:\n   bb_walker (function_info *, build_info &);\n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n \n private:\n   // Information about the function we're building."}, {"sha": "9631d8c6556daf744510803034593b25773c03c7", "filename": "gcc/tree-into-ssa.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-into-ssa.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-into-ssa.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-into-ssa.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -1462,8 +1462,8 @@ class rewrite_dom_walker : public dom_walker\n   rewrite_dom_walker (cdi_direction direction)\n     : dom_walker (direction, ALL_BLOCKS, NULL) {}\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n };\n \n /* SSA Rewriting Step 1.  Initialization, create a block local stack\n@@ -2148,8 +2148,8 @@ class rewrite_update_dom_walker : public dom_walker\n   rewrite_update_dom_walker (cdi_direction direction)\n     : dom_walker (direction, ALL_BLOCKS, NULL) {}\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n };\n \n /* Initialization of block data structures for the incremental SSA\n@@ -2300,7 +2300,7 @@ class mark_def_dom_walker : public dom_walker\n   mark_def_dom_walker (cdi_direction direction);\n   ~mark_def_dom_walker ();\n \n-  virtual edge before_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n \n private:\n   /* Notice that this bitmap is indexed using variable UIDs, so it must be"}, {"sha": "dcaf4672b669513002f0f65195b4f23943d6a868", "filename": "gcc/tree-ssa-dom.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-dom.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-dom.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dom.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -670,8 +670,8 @@ class dom_opt_dom_walker : public dom_walker\n       m_threader = threader;\n     }\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n \n private:\n "}, {"sha": "a4492c96419357a9c74bb7727cf28e03e74541dc", "filename": "gcc/tree-ssa-math-opts.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-math-opts.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-math-opts.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-math-opts.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -4918,7 +4918,7 @@ class math_opts_dom_walker : public dom_walker\n \n   /* The actual actions performed in the walk.  */\n \n-  virtual void after_dom_children (basic_block);\n+  void after_dom_children (basic_block) final override;\n \n   /* Set of results of chains of multiply and add statement combinations that\n      were not transformed into FMAs because of active deferring.  */"}, {"sha": "2f4bebe7655f67453fac6b9040fd86d31480b1e3", "filename": "gcc/tree-ssa-phiopt.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-phiopt.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-phiopt.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-phiopt.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -2978,8 +2978,8 @@ class nontrapping_dom_walker : public dom_walker\n     : dom_walker (direction), m_nontrapping (ps), m_seen_refs (128)\n   {}\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n \n private:\n "}, {"sha": "163b24f0e6930a0489c18869f2ef95de684afa24", "filename": "gcc/tree-ssa-propagate.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-propagate.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-propagate.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-propagate.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -679,8 +679,8 @@ class substitute_and_fold_dom_walker : public dom_walker\n       BITMAP_FREE (need_eh_cleanup);\n     }\n \n-    virtual edge before_dom_children (basic_block);\n-    virtual void after_dom_children (basic_block bb)\n+    edge before_dom_children (basic_block) final override;\n+    void after_dom_children (basic_block bb) final override\n     {\n       substitute_and_fold_engine->post_fold_bb (bb);\n     }"}, {"sha": "ef833f52c9398bc6543e2f3306e501c6d236f237", "filename": "gcc/tree-ssa-sccvn.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-sccvn.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-sccvn.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-sccvn.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -2493,8 +2493,8 @@ class eliminate_dom_walker : public dom_walker\n   eliminate_dom_walker (cdi_direction, bitmap);\n   ~eliminate_dom_walker ();\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n \n   virtual tree eliminate_avail (basic_block, tree op);\n   virtual void eliminate_push_avail (basic_block, tree op);"}, {"sha": "7b3e3899ea2f4624fde44fe2b9cdd6bf61c368f7", "filename": "gcc/tree-ssa-strlen.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-strlen.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-strlen.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-strlen.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -243,8 +243,8 @@ class strlen_pass : public dom_walker\n \n   ~strlen_pass ();\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n \n   bool check_and_optimize_stmt (bool *cleanup_eh);\n   bool check_and_optimize_call (bool *zero_write);"}, {"sha": "900bf336e2ec2cbd846d9820793252f0891f7690", "filename": "gcc/tree-ssa-uncprop.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-uncprop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/894ddeacdaeacbd29e5ebcfd51f423050ae8d56b/gcc%2Ftree-ssa-uncprop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-uncprop.cc?ref=894ddeacdaeacbd29e5ebcfd51f423050ae8d56b", "patch": "@@ -298,8 +298,8 @@ class uncprop_dom_walker : public dom_walker\n public:\n   uncprop_dom_walker (cdi_direction direction) : dom_walker (direction) {}\n \n-  virtual edge before_dom_children (basic_block);\n-  virtual void after_dom_children (basic_block);\n+  edge before_dom_children (basic_block) final override;\n+  void after_dom_children (basic_block) final override;\n \n private:\n "}]}