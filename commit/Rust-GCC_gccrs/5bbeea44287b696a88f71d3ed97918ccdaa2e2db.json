{"sha": "5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWJiZWVhNDQyODdiNjk2YTg4ZjcxZDNlZDk3OTE4Y2NkYWEyZTJkYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-02-26T21:43:37Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2004-02-26T21:43:37Z"}, "message": "config.gcc: Add support for nocoma/prescott/pentium-m/pentium3m /pentium4m.\n\n\t* config.gcc: Add support for nocoma/prescott/pentium-m/pentium3m\n\t/pentium4m.\n\t* i386.c (override_options): Add support for new CPUs.\n\t* i386.h (TARGET_CPU_DEFAULT_NAMES): New names.\n\t(TARGET_CPU_DEFAULT_pentium_m, TARGET_CPU_DEFAULT_pentium4e): New\n\tconstants.\n\t* invoke.texi: Extend documentation of -mtune/-march for new CPUs.\n\nFrom-SVN: r78524", "tree": {"sha": "534a37599db0bfd5c0ccf6afbf9f429e3a2ebc75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/534a37599db0bfd5c0ccf6afbf9f429e3a2ebc75"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/comments", "author": null, "committer": null, "parents": [{"sha": "a749e46c012110579069947adb6fbfffb6c573fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a749e46c012110579069947adb6fbfffb6c573fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a749e46c012110579069947adb6fbfffb6c573fe"}], "stats": {"total": 67, "additions": 56, "deletions": 11}, "files": [{"sha": "83a528b0fc1506a67100a4904620ab7341f41d59", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "patch": "@@ -1,3 +1,13 @@\n+2004-02-26  Jan Hubicka  <jh@suse.cz>\n+\n+\t* config.gcc: Add support for nocoma/prescott/pentium-m/pentium3m\n+\t/pentium4m.\n+\t* i386.c (override_options): Add support for new CPUs.\n+\t* i386.h (TARGET_CPU_DEFAULT_NAMES): New names.\n+\t(TARGET_CPU_DEFAULT_pentium_m, TARGET_CPU_DEFAULT_pentium4e): New\n+\tconstants.\n+\t* invoke.texi: Extend documentation of -mtune/-march for new CPUs.\n+\n 2004-02-26  Bob Wilson  <bob.wilson@acm.org>\n \n \t* config/xtensa/xtensa.h (TARGET_CPU_CPP_BUILTINS): Define __xtensa__."}, {"sha": "808fa0d70819448c8f627ec28064ae2353ce7375", "filename": "gcc/config.gcc", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "patch": "@@ -2139,12 +2139,21 @@ if test x$with_cpu = x ; then\n         pentium2-*)\n           with_cpu=pentium2\n           ;;\n-        pentium3-*)\n+        pentium3-*|pentium3m-*)\n           with_cpu=pentium3\n           ;;\n-        pentium4-*)\n+        pentium4-*|pentium4m-*)\n           with_cpu=pentium4\n           ;;\n+        prescott-*)\n+          with_cpu=prescott\n+          ;;\n+        nocona-*)\n+          with_cpu=nocona\n+          ;;\n+        pentium_m-*)\n+          with_cpu=pentium-m\n+          ;;\n         *)\n           with_cpu=pentiumpro\n           ;;\n@@ -2326,7 +2335,8 @@ fi\n \t\t\t| c3 | c3-2 | i686 | pentiumpro | pentium2 | pentium3 \\\n \t\t\t| pentium4 | k6 | k6-2 | k6-3 | athlon | athlon-tbird \\\n \t\t\t| athlon-4 | athlon-xp | athlon-mp | k8 | opteron \\\n-\t\t\t| athlon64 | athlon-fx)\n+\t\t\t| athlon64 | athlon-fx | prescott | pentium-m \\\n+\t\t\t| pentium4m | pentium3m| nocona)\n \t\t\t\t# OK\n \t\t\t\t;;\n \t\t\t*)"}, {"sha": "b545c39dcb01786f2a3328092d0d70ec14c2f7f1", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 17, "deletions": 5, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "patch": "@@ -1089,9 +1089,10 @@ override_options (void)\n \t{\n \t  PTA_SSE = 1,\n \t  PTA_SSE2 = 2,\n-\t  PTA_MMX = 4,\n-\t  PTA_PREFETCH_SSE = 8,\n-\t  PTA_3DNOW = 16,\n+\t  PTA_SSE3 = 4,\n+\t  PTA_MMX = 8,\n+\t  PTA_PREFETCH_SSE = 16,\n+\t  PTA_3DNOW = 32,\n \t  PTA_3DNOW_A = 64,\n \t  PTA_64BIT = 128\n \t} flags;\n@@ -1111,8 +1112,16 @@ override_options (void)\n       {\"pentiumpro\", PROCESSOR_PENTIUMPRO, 0},\n       {\"pentium2\", PROCESSOR_PENTIUMPRO, PTA_MMX},\n       {\"pentium3\", PROCESSOR_PENTIUMPRO, PTA_MMX | PTA_SSE | PTA_PREFETCH_SSE},\n-      {\"pentium4\", PROCESSOR_PENTIUM4, PTA_SSE | PTA_SSE2 |\n-\t\t\t\t       PTA_MMX | PTA_PREFETCH_SSE},\n+      {\"pentium3m\", PROCESSOR_PENTIUMPRO, PTA_MMX | PTA_SSE | PTA_PREFETCH_SSE},\n+      {\"pentium-m\", PROCESSOR_PENTIUMPRO, PTA_MMX | PTA_SSE | PTA_PREFETCH_SSE | PTA_SSE2},\n+      {\"pentium4\", PROCESSOR_PENTIUM4, PTA_SSE | PTA_SSE2\n+\t\t\t\t       | PTA_MMX | PTA_PREFETCH_SSE},\n+      {\"pentium4m\", PROCESSOR_PENTIUM4, PTA_SSE | PTA_SSE2\n+\t\t\t\t        | PTA_MMX | PTA_PREFETCH_SSE},\n+      {\"prescott\", PROCESSOR_PENTIUM4, PTA_SSE | PTA_SSE2 | PTA_SSE3\n+\t\t\t\t        | PTA_MMX | PTA_PREFETCH_SSE},\n+      {\"nocona\", PROCESSOR_PENTIUM4, PTA_SSE | PTA_SSE2 | PTA_SSE3 | PTA_64BIT\n+\t\t\t\t     | PTA_MMX | PTA_PREFETCH_SSE},\n       {\"k6\", PROCESSOR_K6, PTA_MMX},\n       {\"k6-2\", PROCESSOR_K6, PTA_MMX | PTA_3DNOW},\n       {\"k6-3\", PROCESSOR_K6, PTA_MMX | PTA_3DNOW},\n@@ -1234,6 +1243,9 @@ override_options (void)\n \tif (processor_alias_table[i].flags & PTA_SSE2\n \t    && !(target_flags_explicit & MASK_SSE2))\n \t  target_flags |= MASK_SSE2;\n+\tif (processor_alias_table[i].flags & PTA_SSE3\n+\t    && !(target_flags_explicit & MASK_SSE3))\n+\t  target_flags |= MASK_SSE3;\n \tif (processor_alias_table[i].flags & PTA_PREFETCH_SSE)\n \t  x86_prefetch_sse = true;\n \tif (TARGET_64BIT && !(processor_alias_table[i].flags & PTA_64BIT))"}, {"sha": "3c4720a42725e5f0a57ca0f2575d19659c63dd78", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "patch": "@@ -691,11 +691,15 @@ extern int x86_prefetch_sse;\n #define TARGET_CPU_DEFAULT_athlon 11\n #define TARGET_CPU_DEFAULT_athlon_sse 12\n #define TARGET_CPU_DEFAULT_k8 13\n+#define TARGET_CPU_DEFAULT_pentium_m 14\n+#define TARGET_CPU_DEFAULT_prescott 15\n+#define TARGET_CPU_DEFAULT_nocona 15\n \n #define TARGET_CPU_DEFAULT_NAMES {\"i386\", \"i486\", \"pentium\", \"pentium-mmx\",\\\n \t\t\t\t  \"pentiumpro\", \"pentium2\", \"pentium3\", \\\n \t\t\t\t  \"pentium4\", \"k6\", \"k6-2\", \"k6-3\",\\\n-\t\t\t\t  \"athlon\", \"athlon-4\", \"k8\"}\n+\t\t\t\t  \"athlon\", \"athlon-4\", \"k8\", \\\n+\t\t\t\t  \"pentium-m\", \"prescott\", \"nocona\"}\n \n #ifndef CC1_SPEC\n #define CC1_SPEC \"%(cc1_cpu) \""}, {"sha": "dcf11d70723e53bc3750b8e8f2bf35c52fcefe33", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bbeea44287b696a88f71d3ed97918ccdaa2e2db/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=5bbeea44287b696a88f71d3ed97918ccdaa2e2db", "patch": "@@ -8105,11 +8105,20 @@ Intel PentiumMMX CPU based on Pentium core with MMX instruction set support.\n Intel PentiumPro CPU.\n @item pentium2\n Intel Pentium2 CPU based on PentiumPro core with MMX instruction set support.\n-@item pentium3\n+@item pentium3, pentium3m\n Intel Pentium3 CPU based on PentiumPro core with MMX and SSE instruction set\n support.\n-@item pentium4\n+@item pentium-m\n+Low power version of Intel Pentium3 CPU with MMX, SSE and SSE2 instruction set\n+support.  Used by Centrino notebooks.\n+@item pentium4, pentium4m\n Intel Pentium4 CPU with MMX, SSE and SSE2 instruction set support.\n+@item prescott\n+Improved version of Intel Pentium4 CPU with MMX, SSE, SSE2 and SSE3 instruction\n+set support.\n+@item nocona\n+Improved version of Intel Pentium4 CPU with 64-bit extensions, MMX, SSE,\n+SSE2 and SSE3 instruction set support.\n @item k6\n AMD K6 CPU with MMX instruction set support.\n @item k6-2, k6-3"}]}