{"sha": "4d931f416b5965da48263badb0822b3dbba190d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ5MzFmNDE2YjU5NjVkYTQ4MjYzYmFkYjA4MjJiM2RiYmExOTBkNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-04-21T14:15:51Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-04-21T14:15:51Z"}, "message": "* gimple.c (walk_gimple_op) <GIMPLE_CALL>: Fix couple of oversights.\n\nFrom-SVN: r172828", "tree": {"sha": "5e39227a3a423de35133f83f1f9afaea610a8ae1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5e39227a3a423de35133f83f1f9afaea610a8ae1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d931f416b5965da48263badb0822b3dbba190d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d931f416b5965da48263badb0822b3dbba190d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d931f416b5965da48263badb0822b3dbba190d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d931f416b5965da48263badb0822b3dbba190d7/comments", "author": null, "committer": null, "parents": [{"sha": "3b6e9676fe13ef1fb9f362091ab7a8737adc8e75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b6e9676fe13ef1fb9f362091ab7a8737adc8e75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b6e9676fe13ef1fb9f362091ab7a8737adc8e75"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "34492bba7a871cd1096feced5e0a550f99607a00", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d931f416b5965da48263badb0822b3dbba190d7", "patch": "@@ -1,3 +1,7 @@\n+2011-04-21  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gimple.c (walk_gimple_op) <GIMPLE_CALL>: Fix couple of oversights.\n+\n 2011-04-21  Richard Guenther  <rguenther@suse.de>\n \n \t* Makefile.in (site.exp): Do not use tmp0 but site.tmp as temporary"}, {"sha": "0d28c1b2738fc156db8b48f107c1b88e3cb6dc7b", "filename": "gcc/gimple.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Fgimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Fgimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple.c?ref=4d931f416b5965da48263badb0822b3dbba190d7", "patch": "@@ -1464,7 +1464,8 @@ walk_gimple_op (gimple stmt, walk_tree_fn callback_op,\n       for (i = 0; i < gimple_call_num_args (stmt); i++)\n \t{\n \t  if (wi)\n-\t    wi->val_only = is_gimple_reg_type (gimple_call_arg (stmt, i));\n+\t    wi->val_only\n+\t      = is_gimple_reg_type (TREE_TYPE (gimple_call_arg (stmt, i)));\n \t  ret = walk_tree (gimple_call_arg_ptr (stmt, i), callback_op, wi,\n \t\t\t   pset);\n \t  if (ret)\n@@ -1476,7 +1477,8 @@ walk_gimple_op (gimple stmt, walk_tree_fn callback_op,\n \t  if (wi)\n \t    {\n \t      wi->is_lhs = true;\n-\t      wi->val_only = is_gimple_reg_type (gimple_call_lhs (stmt));\n+\t      wi->val_only\n+\t\t= is_gimple_reg_type (TREE_TYPE (gimple_call_lhs (stmt)));\n \t    }\n \n \t  ret = walk_tree (gimple_call_lhs_ptr (stmt), callback_op, wi, pset);"}, {"sha": "89541bad74185473eed0adb28db3abc6b328407b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4d931f416b5965da48263badb0822b3dbba190d7", "patch": "@@ -1,3 +1,8 @@\n+2011-04-21  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/volatile5.adb: New test.\n+\t* gnat.dg/volatile5_pkg.ads: New helper.\n+\n 2011-04-21  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/48708"}, {"sha": "24527a50004a0b7836bafd34aeb11e75067f953d", "filename": "gcc/testsuite/gnat.dg/volatile5.adb", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Ftestsuite%2Fgnat.dg%2Fvolatile5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Ftestsuite%2Fgnat.dg%2Fvolatile5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fvolatile5.adb?ref=4d931f416b5965da48263badb0822b3dbba190d7", "patch": "@@ -0,0 +1,16 @@\n+-- { dg-do compile }\n+\n+with Volatile5_Pkg; use Volatile5_Pkg;\n+\n+procedure Volatile5 is\n+\n+   A : Rec;\n+\n+   procedure Proc is\n+   begin\n+      A := F;\n+   end;\n+\n+begin\n+   Proc;\n+end;"}, {"sha": "71a0c8046a3272ddea8d18f7f2e732ecdb720a1b", "filename": "gcc/testsuite/gnat.dg/volatile5_pkg.ads", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Ftestsuite%2Fgnat.dg%2Fvolatile5_pkg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d931f416b5965da48263badb0822b3dbba190d7/gcc%2Ftestsuite%2Fgnat.dg%2Fvolatile5_pkg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fvolatile5_pkg.ads?ref=4d931f416b5965da48263badb0822b3dbba190d7", "patch": "@@ -0,0 +1,11 @@\n+package Volatile5_Pkg is\n+\n+   type Rec is record\n+      I : Integer;\n+   end record;\n+   pragma Volatile(Rec);\n+\n+  function F return Rec;\n+\n+end Volatile5_Pkg;\n+-- \n\\ No newline at end of file"}]}