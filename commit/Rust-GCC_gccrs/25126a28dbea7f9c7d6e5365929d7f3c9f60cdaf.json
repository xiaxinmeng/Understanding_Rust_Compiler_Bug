{"sha": "25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjUxMjZhMjhkYmVhN2Y5YzdkNmU1MzY1OTI5ZDdmM2M5ZjYwY2RhZg==", "commit": {"author": {"name": "Darius Galis", "email": "darius.galis@cyberthorstudios.com", "date": "2020-11-06T18:54:20Z"}, "committer": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2020-11-06T18:55:55Z"}, "message": "Add PC as control register\n\ngcc/\n\t* config/rx/rx.md (CTRLREG_PC): Add.\n\t* config/rx/rx.c (CTRLREG_PC): Add\n\t(rx_expand_builtin_mvtc): Add warning: PC register cannot\n\tbe used as dest.", "tree": {"sha": "f1c9baf00b6490660cdda0fb9ec391cd6803ec9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1c9baf00b6490660cdda0fb9ec391cd6803ec9b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf/comments", "author": null, "committer": null, "parents": [{"sha": "ba6498124c35e60360f9492d7b5651d0f486d110", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba6498124c35e60360f9492d7b5651d0f486d110", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba6498124c35e60360f9492d7b5651d0f486d110"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "dfb4bd42fe55dcca60e61fb391868e4c1deca38e", "filename": "gcc/config/rx/rx.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf/gcc%2Fconfig%2Frx%2Frx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf/gcc%2Fconfig%2Frx%2Frx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frx%2Frx.c?ref=25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf", "patch": "@@ -639,6 +639,7 @@ rx_print_operand (FILE * file, rtx op, int letter)\n       switch (INTVAL (op))\n \t{\n \tcase CTRLREG_PSW:   fprintf (file, \"psw\"); break;\n+\tcase CTRLREG_PC:    fprintf (file, \"pc\"); break;\n \tcase CTRLREG_USP:   fprintf (file, \"usp\"); break;\n \tcase CTRLREG_FPSW:  fprintf (file, \"fpsw\"); break;\n \tcase CTRLREG_BPSW:  fprintf (file, \"bpsw\"); break;\n@@ -2474,6 +2475,13 @@ rx_expand_builtin_mvtc (tree exp)\n   if (! REG_P (arg2))\n     arg2 = force_reg (SImode, arg2);\n \n+  if (INTVAL (arg1) == 1)\n+    {\n+      warning (0, \"invalid control register for mvtc : %d - using 'psw'\",\n+\t       (int) INTVAL (arg1));\n+      arg1 = const0_rtx;\n+    }\n+\n   emit_insn (gen_mvtc (arg1, arg2));\n \n   return NULL_RTX;"}, {"sha": "6e5c546f4db5185e97bc771945a82c7df9495bea", "filename": "gcc/config/rx/rx.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf/gcc%2Fconfig%2Frx%2Frx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf/gcc%2Fconfig%2Frx%2Frx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frx%2Frx.md?ref=25126a28dbea7f9c7d6e5365929d7f3c9f60cdaf", "patch": "@@ -77,6 +77,7 @@\n    (UNSPEC_PID_ADDR\t   52)\n \n    (CTRLREG_PSW\t\t    0)\n+   (CTRLREG_PC\t\t    1)\n    (CTRLREG_USP\t\t    2)\n    (CTRLREG_FPSW\t    3)\n    (CTRLREG_BPSW\t    8)"}]}