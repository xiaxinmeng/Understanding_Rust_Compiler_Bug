{"sha": "d9484c5ba90822bb7b53bdaca6d6b6de58a66282", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk0ODRjNWJhOTA4MjJiYjdiNTNiZGFjYTZkNmI2ZGU1OGE2NjI4Mg==", "commit": {"author": {"name": "Christian Bruel", "email": "christian.bruel@st.com", "date": "2008-02-19T07:42:25Z"}, "committer": {"name": "Christian Bruel", "email": "chrbr@gcc.gnu.org", "date": "2008-02-19T07:42:25Z"}, "message": "test case for alignment bug in packed structs for STRICT_ALIGNMENT targets\n\nFrom-SVN: r132415", "tree": {"sha": "e53f7a3bff8138c54a8b441fb668c6e9a2320d54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e53f7a3bff8138c54a8b441fb668c6e9a2320d54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d9484c5ba90822bb7b53bdaca6d6b6de58a66282", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9484c5ba90822bb7b53bdaca6d6b6de58a66282", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9484c5ba90822bb7b53bdaca6d6b6de58a66282", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9484c5ba90822bb7b53bdaca6d6b6de58a66282/comments", "author": null, "committer": null, "parents": [{"sha": "0e93e1b4eea9bd6aca2380d0141345fea061aad8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e93e1b4eea9bd6aca2380d0141345fea061aad8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e93e1b4eea9bd6aca2380d0141345fea061aad8"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "425549de584fbb64b967f40c0913c190cf762329", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d9484c5ba90822bb7b53bdaca6d6b6de58a66282/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d9484c5ba90822bb7b53bdaca6d6b6de58a66282/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d9484c5ba90822bb7b53bdaca6d6b6de58a66282", "patch": "@@ -1,3 +1,7 @@\n+2008-02-19  Christian Bruel  <christian.bruel@st.com>\n+\n+\t* gcc.dg/packed-array.c: New testcase. \n+\n 2008-02-19  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/33555"}, {"sha": "b57f3ac035356e20cb59180d37d935f1f6b704a7", "filename": "gcc/testsuite/gcc.dg/packed-array.c", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d9484c5ba90822bb7b53bdaca6d6b6de58a66282/gcc%2Ftestsuite%2Fgcc.dg%2Fpacked-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d9484c5ba90822bb7b53bdaca6d6b6de58a66282/gcc%2Ftestsuite%2Fgcc.dg%2Fpacked-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpacked-array.c?ref=d9484c5ba90822bb7b53bdaca6d6b6de58a66282", "patch": "@@ -0,0 +1,40 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O2 -fno-inline\" } */\n+\n+struct usb_interface_descriptor {\n+ unsigned short wMaxPacketSize;\n+  char e;\n+} __attribute__ ((packed));\n+\n+struct usb_device {\n+ int devnum;\n+ struct usb_interface_descriptor if_desc[2];\n+};\n+\n+extern int printf (const char *, ...);\n+\n+void foo (unsigned short a)\n+{\n+  printf (\"%d\\n\", a);\n+}\n+\n+struct usb_device ndev;\n+\n+void usb_set_maxpacket(int n)\n+{\n+  int i;\n+\n+  for(i=0; i<n;i++)\n+    foo((&ndev)->if_desc[i].wMaxPacketSize);\n+}\n+\n+int\n+main()\n+{\n+  usb_set_maxpacket(2);\n+  return 0;\n+}\n+\n+\n+\n+"}]}