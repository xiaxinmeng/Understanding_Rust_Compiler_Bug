{"sha": "ec0ed4f7ff7960348bf40f367375736af081020a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMwZWQ0ZjdmZjc5NjAzNDhiZjQwZjM2NzM3NTczNmFmMDgxMDIwYQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1993-07-27T20:55:12Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1993-07-27T20:55:12Z"}, "message": "patch-header.c (read_scan_file): Minor re-write to avoid obstack_copy0, since that uses the non-portable bcopy().\n\n* patch-header.c (read_scan_file):  Minor re-write to avoid\nobstack_copy0, since that uses the non-portable bcopy().\n\nFrom-SVN: r5007", "tree": {"sha": "adb511619b685e960b04d5b620b379d564a6a7cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/adb511619b685e960b04d5b620b379d564a6a7cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec0ed4f7ff7960348bf40f367375736af081020a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec0ed4f7ff7960348bf40f367375736af081020a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec0ed4f7ff7960348bf40f367375736af081020a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec0ed4f7ff7960348bf40f367375736af081020a/comments", "author": null, "committer": null, "parents": [{"sha": "7b03247ca374d76b46172d123540c19bca6c080d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b03247ca374d76b46172d123540c19bca6c080d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b03247ca374d76b46172d123540c19bca6c080d"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "85f90c7e9be0bf505dd1fb2449bfd37dc44a9a88", "filename": "gcc/fix-header.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec0ed4f7ff7960348bf40f367375736af081020a/gcc%2Ffix-header.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec0ed4f7ff7960348bf40f367375736af081020a/gcc%2Ffix-header.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffix-header.c?ref=ec0ed4f7ff7960348bf40f367375736af081020a", "patch": "@@ -306,10 +306,10 @@ read_scan_file (scan_file)\n       partial_count++;\n       partial = (struct partial_proto*)\n \tobstack_alloc (&scan_file_obstack, sizeof(struct partial_proto));\n-      partial->fname\n-\t= obstack_copy0 (&scan_file_obstack, fname, strlen (fname));\n-      partial->rtype\n-\t= obstack_copy0 (&scan_file_obstack, rtype, strlen (rtype));\n+      partial->fname = obstack_alloc (&scan_file_obstack, strlen(fname) + 1);\n+      strcpy (partial->fname, fname);\n+      partial->rtype = obstack_alloc (&scan_file_obstack, strlen(rtype) + 1);\n+      strcpy (partial->rtype, rtype);\n       partial->line_seen = atoi(line_seen);\n       partial->fn = fn;\n       fn->partial = partial;"}]}