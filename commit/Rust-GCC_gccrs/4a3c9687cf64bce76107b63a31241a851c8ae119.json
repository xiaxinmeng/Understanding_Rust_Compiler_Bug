{"sha": "4a3c9687cf64bce76107b63a31241a851c8ae119", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGEzYzk2ODdjZjY0YmNlNzYxMDdiNjNhMzEyNDFhODUxYzhhZTExOQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2011-02-01T15:12:26Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2011-02-01T15:12:26Z"}, "message": "tree-dump.c (dump_option_value_info): Add entry for TDF_CSELIB.\n\n\t* tree-dump.c (dump_option_value_info): Add entry for TDF_CSELIB.\n\t* tree-pass.h (TDF_CSELIB): New macro.\n\t* cselib.c (new_cselib_val, expand_loc, cselib_expand_value_rtx_1,\n\tcselib_lookup): Check for it rather than for TDF_DETAILS.\n\nFrom-SVN: r169482", "tree": {"sha": "0ccde8ba714b6ec1d16606e546cf5fb9bb1fe9f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ccde8ba714b6ec1d16606e546cf5fb9bb1fe9f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a3c9687cf64bce76107b63a31241a851c8ae119", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a3c9687cf64bce76107b63a31241a851c8ae119", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a3c9687cf64bce76107b63a31241a851c8ae119", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a3c9687cf64bce76107b63a31241a851c8ae119/comments", "author": null, "committer": null, "parents": [{"sha": "0f0a4367ab5ac7d0dd1fa8eb0acba3ddc063f619", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f0a4367ab5ac7d0dd1fa8eb0acba3ddc063f619", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f0a4367ab5ac7d0dd1fa8eb0acba3ddc063f619"}], "stats": {"total": 29, "additions": 19, "deletions": 10}, "files": [{"sha": "baf4d945285a8a93e21ed3393c02be7c55114977", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a3c9687cf64bce76107b63a31241a851c8ae119", "patch": "@@ -1,3 +1,10 @@\n+2011-02-01  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* tree-dump.c (dump_option_value_info): Add entry for TDF_CSELIB.\n+\t* tree-pass.h (TDF_CSELIB): New macro.\n+\t* cselib.c (new_cselib_val, expand_loc, cselib_expand_value_rtx_1,\n+\tcselib_lookup): Check for it rather than for TDF_DETAILS.\n+\n 2011-02-01  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR driver/47547"}, {"sha": "d2980150c7ece3b7907a17427068978e63534065", "filename": "gcc/cselib.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2Fcselib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2Fcselib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.c?ref=4a3c9687cf64bce76107b63a31241a851c8ae119", "patch": "@@ -1,6 +1,6 @@\n /* Common subexpression elimination library for GNU compiler.\n    Copyright (C) 1987, 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n-   1999, 2000, 2001, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010\n+   1999, 2000, 2001, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -1015,7 +1015,7 @@ new_cselib_val (unsigned int hash, enum machine_mode mode, rtx x)\n   e->locs = 0;\n   e->next_containing_mem = 0;\n \n-  if (dump_file && (dump_flags & TDF_DETAILS))\n+  if (dump_file && (dump_flags & TDF_CSELIB))\n     {\n       fprintf (dump_file, \"cselib value %u:%u \", e->uid, hash);\n       if (flag_dump_noaddr || flag_dump_unnumbered)\n@@ -1132,7 +1132,7 @@ expand_loc (struct elt_loc_list *p, struct expand_value_data *evd,\n       else if (!REG_P (p->loc))\n \t{\n \t  rtx result, note;\n-\t  if (dump_file && (dump_flags & TDF_DETAILS))\n+\t  if (dump_file && (dump_flags & TDF_CSELIB))\n \t    {\n \t      print_inline_rtx (dump_file, p->loc, 0);\n \t      fprintf (dump_file, \"\\n\");\n@@ -1153,15 +1153,15 @@ expand_loc (struct elt_loc_list *p, struct expand_value_data *evd,\n   if (regno != UINT_MAX)\n     {\n       rtx result;\n-      if (dump_file && (dump_flags & TDF_DETAILS))\n+      if (dump_file && (dump_flags & TDF_CSELIB))\n \tfprintf (dump_file, \"r%d\\n\", regno);\n \n       result = cselib_expand_value_rtx_1 (reg_result, evd, max_depth - 1);\n       if (result)\n \treturn result;\n     }\n \n-  if (dump_file && (dump_flags & TDF_DETAILS))\n+  if (dump_file && (dump_flags & TDF_CSELIB))\n     {\n       if (reg_result)\n \t{\n@@ -1302,7 +1302,7 @@ cselib_expand_value_rtx_1 (rtx orig, struct expand_value_data *evd,\n \n \t      bitmap_set_bit (evd->regs_active, regno);\n \n-\t      if (dump_file && (dump_flags & TDF_DETAILS))\n+\t      if (dump_file && (dump_flags & TDF_CSELIB))\n \t\tfprintf (dump_file, \"expanding: r%d into: \", regno);\n \n \t      result = expand_loc (l->elt->locs, evd, max_depth);\n@@ -1367,7 +1367,7 @@ cselib_expand_value_rtx_1 (rtx orig, struct expand_value_data *evd,\n       {\n \trtx result;\n \n-\tif (dump_file && (dump_flags & TDF_DETAILS))\n+\tif (dump_file && (dump_flags & TDF_CSELIB))\n \t  {\n \t    fputs (\"\\nexpanding \", dump_file);\n \t    print_rtl_single (dump_file, orig);\n@@ -1736,7 +1736,7 @@ cselib_lookup (rtx x, enum machine_mode mode, int create)\n      easiest setting cselib_current_insn to NULL before the call\n      above.  */\n \n-  if (dump_file && (dump_flags & TDF_DETAILS))\n+  if (dump_file && (dump_flags & TDF_CSELIB))\n     {\n       fputs (\"cselib lookup \", dump_file);\n       print_inline_rtx (dump_file, x, 2);"}, {"sha": "e5fce0e1622f1009e9a34ca854c997b1abdbfb8d", "filename": "gcc/tree-dump.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2Ftree-dump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2Ftree-dump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-dump.c?ref=4a3c9687cf64bce76107b63a31241a851c8ae119", "patch": "@@ -1,6 +1,6 @@\n /* Tree-dumping functionality for intermediate representation.\n    Copyright (C) 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,\n-   2010 Free Software Foundation, Inc.\n+   2010, 2011 Free Software Foundation, Inc.\n    Written by Mark Mitchell <mark@codesourcery.com>\n \n This file is part of GCC.\n@@ -814,6 +814,7 @@ static const struct dump_option_value_info dump_options[] =\n   {\"raw\", TDF_RAW},\n   {\"graph\", TDF_GRAPH},\n   {\"details\", TDF_DETAILS},\n+  {\"cselib\", TDF_CSELIB},\n   {\"stats\", TDF_STATS},\n   {\"blocks\", TDF_BLOCKS},\n   {\"vops\", TDF_VOPS},"}, {"sha": "d7b122bfd0258377e26317db5983540ee817dc35", "filename": "gcc/tree-pass.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2Ftree-pass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a3c9687cf64bce76107b63a31241a851c8ae119/gcc%2Ftree-pass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pass.h?ref=4a3c9687cf64bce76107b63a31241a851c8ae119", "patch": "@@ -1,5 +1,5 @@\n /* Definitions for describing one tree-ssa optimization pass.\n-   Copyright (C) 2004, 2005, 2006, 2007, 2008, 2009, 2010\n+   Copyright (C) 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011\n    Free Software Foundation, Inc.\n    Contributed by Richard Henderson <rth@redhat.com>\n \n@@ -82,6 +82,7 @@ enum tree_dump_index\n #define TDF_NOUID\t(1 << 20)\t/* omit UIDs from dumps.  */\n #define TDF_ALIAS\t(1 << 21)\t/* display alias information  */\n #define TDF_ENUMERATE_LOCALS (1 << 22)\t/* Enumerate locals by uid.  */\n+#define TDF_CSELIB\t(1 << 23)\t/* Dump cselib details.  */\n \n \n /* In tree-dump.c */"}]}