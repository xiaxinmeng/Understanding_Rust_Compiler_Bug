{"sha": "18169e8eee1887cdd200897c30ac26bec8721729", "node_id": "C_kwDOANBUbNoAKDE4MTY5ZThlZWUxODg3Y2RkMjAwODk3YzMwYWMyNmJlYzg3MjE3Mjk", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-11-18T21:06:18Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-11-19T15:05:28Z"}, "message": "libstdc++: Fix -Wsign-compare warnings in std::format\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/std/format: Fix -Wsign-compare warnings.", "tree": {"sha": "ed4b72cb70fb870d524f67447b5ac047849bcd01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed4b72cb70fb870d524f67447b5ac047849bcd01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18169e8eee1887cdd200897c30ac26bec8721729", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18169e8eee1887cdd200897c30ac26bec8721729", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18169e8eee1887cdd200897c30ac26bec8721729", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18169e8eee1887cdd200897c30ac26bec8721729/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fca0f50b145048afda17f0f10ac968afe6be0fad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fca0f50b145048afda17f0f10ac968afe6be0fad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fca0f50b145048afda17f0f10ac968afe6be0fad"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "561ae161d16bff88a67632b1c5a88d21efdd6ddb", "filename": "libstdc++-v3/include/std/format", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18169e8eee1887cdd200897c30ac26bec8721729/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fformat", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18169e8eee1887cdd200897c30ac26bec8721729/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fformat", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fformat?ref=18169e8eee1887cdd200897c30ac26bec8721729", "patch": "@@ -291,7 +291,7 @@ namespace __format\n \t}\n       else\n \t{\n-\t  constexpr size_t __n = 32;\n+\t  constexpr int __n = 32;\n \t  char __buf[__n]{};\n \t  for (int __i = 0; __i < __n && __first != __last; ++__i)\n \t    __buf[__i] = __first[__i];\n@@ -1544,7 +1544,7 @@ namespace __format\n \n \t      if (size_t __extras = int(__d == __p) + __z)\n \t\t{\n-\t\t  if (__dynbuf.empty() && __extras <= (__end - __res.ptr))\n+\t\t  if (__dynbuf.empty() && __extras <= size_t(__end - __res.ptr))\n \t\t    {\n \t\t      // Move exponent to make space for extra chars.\n \t\t      __builtin_memmove(__start + __p + __extras,\n@@ -2357,7 +2357,7 @@ namespace __format\n       _M_write(_CharT __c)\n       {\n \t*_M_next++ = __c;\n-\tif (_M_next - _M_span.begin() == _M_span.size()) [[unlikely]]\n+\tif (_M_next - _M_span.begin() == std::ssize(_M_span)) [[unlikely]]\n \t  _M_overflow();\n       }\n \n@@ -2469,7 +2469,7 @@ namespace __format\n \tauto __used = this->_M_used();\n \tif (_M_max < 0) // No maximum.\n \t  _M_out = ranges::copy(__used, std::move(_M_out)).out;\n-\telse if (_M_count < _M_max)\n+\telse if (_M_count < size_t(_M_max))\n \t  {\n \t    auto __max = _M_max - _M_count;\n \t    span<_CharT> __first;"}]}