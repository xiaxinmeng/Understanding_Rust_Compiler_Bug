{"sha": "75e2abe6f9a3b423e952b5741fcb2787834e19f4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVlMmFiZTZmOWEzYjQyM2U5NTJiNTc0MWZjYjI3ODc4MzRlMTlmNA==", "commit": {"author": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2019-02-15T17:17:17Z"}, "committer": {"name": "Tamar Christina", "email": "tnfchris@gcc.gnu.org", "date": "2019-02-15T17:17:17Z"}, "message": "Arm: Remove alternative from neon_softfp_fp16 directive.\n\nThere's a bit of a disconnect between the feature flags that don't test the fpu\nand ones that do when the test itself also forces an architecture.  The forcing\nof the architecture would change the defaults and without explicitly giving the\ncorrect fpu again the test would fail.\n\nI don't see a good way to solve this problem, really the feature tests should\nideally contain the extra options the test adds too, but for this specific case\nit can be solved by always testing the fpu explicitly.\n\nCommitted under the GCC obvious\n\ngcc/testsuite/ChangeLog:\n\n\t* lib/target-supports.exp\n\t(check_effective_target_arm_neon_softfp_fp16_ok_nocache): Drop non-fpu\n\tchecking alternative.\n\nFrom-SVN: r268943", "tree": {"sha": "048e8967cae30643280e77b0ab158fb3e7ab4cf7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/048e8967cae30643280e77b0ab158fb3e7ab4cf7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75e2abe6f9a3b423e952b5741fcb2787834e19f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75e2abe6f9a3b423e952b5741fcb2787834e19f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75e2abe6f9a3b423e952b5741fcb2787834e19f4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75e2abe6f9a3b423e952b5741fcb2787834e19f4/comments", "author": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0a3d52ddee038a5b11eda5697f12d28019d83041", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a3d52ddee038a5b11eda5697f12d28019d83041", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a3d52ddee038a5b11eda5697f12d28019d83041"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "e279a8e54ea3b24b3db5c91ab0e007c75cc0854a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75e2abe6f9a3b423e952b5741fcb2787834e19f4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75e2abe6f9a3b423e952b5741fcb2787834e19f4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=75e2abe6f9a3b423e952b5741fcb2787834e19f4", "patch": "@@ -1,3 +1,9 @@\n+2019-02-15  Tamar Christina  <tamar.christina@arm.com>\n+\n+\t* lib/target-supports.exp\n+\t(check_effective_target_arm_neon_softfp_fp16_ok_nocache): Drop non-fpu\n+\tchecking alternative.\n+\n 2019-02-15  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc.target/sparc/struct-ret-check-1.c: Add -fno-pie option."}, {"sha": "94cb319bc123d17a3493da88cb15d9fb2c6cf194", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75e2abe6f9a3b423e952b5741fcb2787834e19f4/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75e2abe6f9a3b423e952b5741fcb2787834e19f4/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=75e2abe6f9a3b423e952b5741fcb2787834e19f4", "patch": "@@ -3797,7 +3797,6 @@ proc check_effective_target_arm_neon_softfp_fp16_ok_nocache { } {\n     if { [check_effective_target_arm32]\n \t && [check_effective_target_arm_neon_ok] } {\n \tforeach flags {\"-mfpu=neon-fp16 -mfloat-abi=softfp\"\n-\t\t       \"-mfloat-abi=softfp -mfp16-format=ieee\"\n \t\t       \"-mfpu=neon-fp16 -mfloat-abi=softfp -mfp16-format=ieee\"} {\n \t    if { [check_no_compiler_messages_nocache arm_neon_softfp_fp16_ok object {\n \t\t#include \"arm_neon.h\""}]}