{"sha": "a0281dae2f5b4def60e1f880d0046e581539bf29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAyODFkYWUyZjViNGRlZjYwZTFmODgwZDAwNDZlNTgxNTM5YmYyOQ==", "commit": {"author": {"name": "Gavin Koch", "email": "gavin@cygnus.com", "date": "1998-04-29T12:12:08Z"}, "committer": {"name": "Gavin Romig-Koch", "email": "gavin@gcc.gnu.org", "date": "1998-04-29T12:12:08Z"}, "message": "elf.h (ASM_OUTPUT_DEF,ASM_WEAKEN_LABEL, [...]): Define.\n\n\t* config/mips/elf.h (ASM_OUTPUT_DEF,ASM_WEAKEN_LABEL,\n\tASM_OUTPUT_WEAK_ALIAS): Define.\n\t* config/mips/elf64.h: Same.\n\t* config/mips/r3900.h (ASM_OUTPUT_DEF,SUPPORTS_WEAK,\n\tASM_WEAKEN_LABEL): Removed.\n\nFrom-SVN: r19491", "tree": {"sha": "7113f817f84673ea1c0f29077a491a5f850fe283", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7113f817f84673ea1c0f29077a491a5f850fe283"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0281dae2f5b4def60e1f880d0046e581539bf29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0281dae2f5b4def60e1f880d0046e581539bf29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0281dae2f5b4def60e1f880d0046e581539bf29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0281dae2f5b4def60e1f880d0046e581539bf29/comments", "author": null, "committer": null, "parents": [{"sha": "87c54c633b6101b45a947c111fcf0b17d1288e08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87c54c633b6101b45a947c111fcf0b17d1288e08", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87c54c633b6101b45a947c111fcf0b17d1288e08"}], "stats": {"total": 91, "additions": 73, "deletions": 18}, "files": [{"sha": "4cb493cd55c6773efd433c693ee674b21dfa790c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a0281dae2f5b4def60e1f880d0046e581539bf29", "patch": "@@ -1,3 +1,11 @@\n+Wed Apr 29 15:06:42 1998  Gavin Koch  <gavin@cygnus.com>\n+\n+\t* config/mips/elf.h (ASM_OUTPUT_DEF,ASM_WEAKEN_LABEL,\n+\tASM_OUTPUT_WEAK_ALIAS): Define.\n+\t* config/mips/elf64.h: Same.\n+\t* config/mips/r3900.h (ASM_OUTPUT_DEF,SUPPORTS_WEAK,\n+\tASM_WEAKEN_LABEL): Removed.\n+\n Wed Apr 29 10:53:29 1998  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n \n \t* calls.c (expand_call): Bump the length limit on the specially"}, {"sha": "f987de393c17073a0b86b01de3a7881d49f9ce0f", "filename": "gcc/config/mips/elf.h", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2Fconfig%2Fmips%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2Fconfig%2Fmips%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Felf.h?ref=a0281dae2f5b4def60e1f880d0046e581539bf29", "patch": "@@ -70,3 +70,35 @@ do {\t\t\t\t\t\t\t\t\\\n   else\t\t\t\t\t\t\t\t\\\n     fprintf (F, \"\\t.section %s,\\\"aw\\\",@progbits\\n\", (NAME));\t\\\n } while (0)\n+\n+#define ASM_OUTPUT_DEF(FILE,LABEL1,LABEL2)                            \\\n+ do { fputc ( '\\t', FILE);                                            \\\n+      assemble_name (FILE, LABEL1);                                   \\\n+      fputs ( \" = \", FILE);                                           \\\n+      assemble_name (FILE, LABEL2);                                   \\\n+      fputc ( '\\n', FILE);                                            \\\n+ } while (0)\n+\n+/* Note about .weak vs. .weakext\n+   The mips native assemblers support .weakext, but not .weak.\n+   mips-elf gas supports .weak, but not .weakext.\n+   mips-elf gas has been changed to support both .weak and .weakext,\n+   but until that support is generally available, the 'if' below\n+   should serve. */\n+\n+#define ASM_WEAKEN_LABEL(FILE,NAME) ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,0)\n+#define ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,VALUE)\t\\\n+ do {\t\t\t\t\t\t\\\n+  if (TARGET_GAS)                               \\\n+      fputs (\"\\t.weak\\t\", FILE);\t\t\\\n+  else                                          \\\n+      fputs (\"\\t.weakext\\t\", FILE);\t\t\\\n+  assemble_name (FILE, NAME);\t\t\t\\\n+  if (VALUE)\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      fputc (' ', FILE);\t\t\t\\\n+      assemble_name (FILE, VALUE);\t\t\\\n+    }\t\t\t\t\t\t\\\n+  fputc ('\\n', FILE);\t\t\t\t\\\n+ } while (0)\n+"}, {"sha": "3673c9ed1873fa0e768bf3b0f034c31855d88422", "filename": "gcc/config/mips/elf64.h", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2Fconfig%2Fmips%2Felf64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2Fconfig%2Fmips%2Felf64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Felf64.h?ref=a0281dae2f5b4def60e1f880d0046e581539bf29", "patch": "@@ -95,3 +95,35 @@ do {\t\t\t\t\t\t\t\t\\\n   else\t\t\t\t\t\t\t\t\\\n     fprintf (F, \"\\t.section %s,\\\"aw\\\",@progbits\\n\", (NAME));\t\\\n } while (0)\n+\n+#define ASM_OUTPUT_DEF(FILE,LABEL1,LABEL2)                            \\\n+ do { fputc ( '\\t', FILE);                                            \\\n+      assemble_name (FILE, LABEL1);                                   \\\n+      fputs ( \" = \", FILE);                                           \\\n+      assemble_name (FILE, LABEL2);                                   \\\n+      fputc ( '\\n', FILE);                                            \\\n+ } while (0)\n+\n+/* Note about .weak vs. .weakext\n+   The mips native assemblers support .weakext, but not .weak.\n+   mips-elf gas supports .weak, but not .weakext.\n+   mips-elf gas has been changed to support both .weak and .weakext,\n+   but until that support is generally available, the 'if' below\n+   should serve. */\n+\n+#define ASM_WEAKEN_LABEL(FILE,NAME) ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,0)\n+#define ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,VALUE)\t\\\n+ do {\t\t\t\t\t\t\\\n+  if (TARGET_GAS)                               \\\n+      fputs (\"\\t.weak\\t\", FILE);\t\t\\\n+  else                                          \\\n+      fputs (\"\\t.weakext\\t\", FILE);\t\t\\\n+  assemble_name (FILE, NAME);\t\t\t\\\n+  if (VALUE)\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      fputc (' ', FILE);\t\t\t\\\n+      assemble_name (FILE, VALUE);\t\t\\\n+    }\t\t\t\t\t\t\\\n+  fputc ('\\n', FILE);\t\t\t\t\\\n+ } while (0)\n+"}, {"sha": "0e95c7d538ebced01324ec028d850b92d11d3ac0", "filename": "gcc/config/mips/r3900.h", "status": "modified", "additions": 1, "deletions": 18, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2Fconfig%2Fmips%2Fr3900.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0281dae2f5b4def60e1f880d0046e581539bf29/gcc%2Fconfig%2Fmips%2Fr3900.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fr3900.h?ref=a0281dae2f5b4def60e1f880d0046e581539bf29", "patch": "@@ -69,21 +69,4 @@ Boston, MA 02111-1307, USA.  */\n %{gstabs+:-g} %{gstabs+0:-g0} %{gstabs+1:-g1} %{gstabs+2:-g2} %{gstabs+3:-g3} \\\n %{gcoff:-g} %{gcoff0:-g0} %{gcoff1:-g1} %{gcoff2:-g2} %{gcoff3:-g3}\"\n \n-/* This is how to equate one symbol to another symbol.  The syntax used is\n-   `SYM1=SYM2'.  Note that this is different from the way equates are done\n-   with most svr4 assemblers, where the syntax is `.set SYM1,SYM2'.  */\n-\n-#define ASM_OUTPUT_DEF(FILE,LABEL1,LABEL2)                            \\\n- do { fprintf ((FILE), \"\\t\");                                         \\\n-      assemble_name (FILE, LABEL1);                                   \\\n-      fprintf (FILE, \" = \");                                          \\\n-      assemble_name (FILE, LABEL2);                                   \\\n-      fprintf (FILE, \"\\n\");                                           \\\n- } while (0)\n-\n-#define SUPPORTS_WEAK 1\n-#define ASM_WEAKEN_LABEL(FILE,NAME)                                   \\\n- do { fprintf ((FILE), \"\\t.weak\\t\");                                  \\\n-      assemble_name (FILE, NAME);                                     \\\n-      fprintf (FILE, \"\\n\");                                           \\\n- } while (0)\n+/* eof */"}]}