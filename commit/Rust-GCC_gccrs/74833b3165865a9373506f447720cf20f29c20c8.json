{"sha": "74833b3165865a9373506f447720cf20f29c20c8", "node_id": "C_kwDOANBUbNoAKDc0ODMzYjMxNjU4NjVhOTM3MzUwNmY0NDc3MjBjZjIwZjI5YzIwYzg", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@arm.com", "date": "2023-01-17T13:10:10Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@arm.com", "date": "2023-01-19T14:18:14Z"}, "message": "aarch64: add -fno-stack-protector to some tests [PR108411]\n\nAs discussed in the PR, these recently added tests fail when the\ntestsuite is executed with -fstack-protector-strong.  To avoid this,\nthis patch adds -fno-stack-protector to dg-options.\n\n\tPR target/108411\n\tgcc/testsuite\n\t* g++.target/aarch64/bitfield-abi-warning-align16-O2-extra.C: Add\n\t-fno-stack-protector.\n\t* g++.target/aarch64/bitfield-abi-warning-align16-O2.C: Likewise.\n\t* g++.target/aarch64/bitfield-abi-warning-align32-O2-extra.C: Likewise.\n\t* g++.target/aarch64/bitfield-abi-warning-align32-O2.C: Likewise.\n\t* g++.target/aarch64/bitfield-abi-warning-align8-O2.C: Likewise.\n\t* gcc.target/aarch64/bitfield-abi-warning-align16-O2-extra.c: Likewise.\n\t* gcc.target/aarch64/bitfield-abi-warning-align16-O2.c: Likewise.\n\t* gcc.target/aarch64/bitfield-abi-warning-align32-O2-extra.c: Likewise.\n\t* gcc.target/aarch64/bitfield-abi-warning-align32-O2.c: Likewise.\n\t* gcc.target/aarch64/bitfield-abi-warning-align8-O2.c: Likewise.", "tree": {"sha": "92f4858bfc7f1d15466ba3d91a0f6d30d229d349", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92f4858bfc7f1d15466ba3d91a0f6d30d229d349"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74833b3165865a9373506f447720cf20f29c20c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74833b3165865a9373506f447720cf20f29c20c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74833b3165865a9373506f447720cf20f29c20c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74833b3165865a9373506f447720cf20f29c20c8/comments", "author": null, "committer": null, "parents": [{"sha": "a38c079248411ea9dc0610873b3366192315bfee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a38c079248411ea9dc0610873b3366192315bfee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a38c079248411ea9dc0610873b3366192315bfee"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "52f9cdd1ee92b934b73c365e2e836d012ff8b5b2", "filename": "gcc/testsuite/g++.target/aarch64/bitfield-abi-warning-align16-O2-extra.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align16-O2-extra.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align16-O2-extra.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align16-O2-extra.C?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps -Wno-narrowing\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps -Wno-narrowing\" } */\n \n #define ALIGN 16\n //#define EXTRA"}, {"sha": "9ff4e46645b0e39de40fb0d8d9671ddc64e02293", "filename": "gcc/testsuite/g++.target/aarch64/bitfield-abi-warning-align16-O2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align16-O2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align16-O2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align16-O2.C?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps -Wno-narrowing\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps -Wno-narrowing\" } */\n \n #define ALIGN 16\n #define EXTRA"}, {"sha": "55dcbfe4b7c5f0d4ddd7a83a12534b2ddb6c2d27", "filename": "gcc/testsuite/g++.target/aarch64/bitfield-abi-warning-align32-O2-extra.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align32-O2-extra.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align32-O2-extra.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align32-O2-extra.C?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps -Wno-narrowing\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps -Wno-narrowing\" } */\n \n #define ALIGN 32\n //#define EXTRA"}, {"sha": "6bb8778ee904bf866bd50ddfd5d0c1cc0c78cb00", "filename": "gcc/testsuite/g++.target/aarch64/bitfield-abi-warning-align32-O2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align32-O2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align32-O2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align32-O2.C?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps -Wno-narrowing\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps -Wno-narrowing\" } */\n \n #define ALIGN 32\n #define EXTRA"}, {"sha": "41bcc894a2b414640a114680d9c26abd9fc8f0dc", "filename": "gcc/testsuite/g++.target/aarch64/bitfield-abi-warning-align8-O2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align8-O2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align8-O2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fbitfield-abi-warning-align8-O2.C?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps -Wno-narrowing\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps -Wno-narrowing\" } */\n \n #define ALIGN 8\n #define EXTRA"}, {"sha": "3b2c932ac231b9ff60b413040ced7ccc2eb8f272", "filename": "gcc/testsuite/gcc.target/aarch64/bitfield-abi-warning-align16-O2-extra.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align16-O2-extra.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align16-O2-extra.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align16-O2-extra.c?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps\" } */\n \n #define ALIGN 16\n //#define EXTRA"}, {"sha": "ee5d6faa428892ed31b2911ba1cac70a50afb23c", "filename": "gcc/testsuite/gcc.target/aarch64/bitfield-abi-warning-align16-O2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align16-O2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align16-O2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align16-O2.c?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps\" } */\n \n #define ALIGN 16\n #define EXTRA"}, {"sha": "6d4a883a96ed4f171d7007cfe6378d9d19f76206", "filename": "gcc/testsuite/gcc.target/aarch64/bitfield-abi-warning-align32-O2-extra.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align32-O2-extra.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align32-O2-extra.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align32-O2-extra.c?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps\" } */\n \n #define ALIGN 32\n //#define EXTRA"}, {"sha": "331daba354c0d746a7533daa919d8d6e3989b6e3", "filename": "gcc/testsuite/gcc.target/aarch64/bitfield-abi-warning-align32-O2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align32-O2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align32-O2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align32-O2.c?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps\" } */\n \n #define ALIGN 32\n #define EXTRA"}, {"sha": "e6d45f5dd5cce8092cbbc812954ff8198cde8aa6", "filename": "gcc/testsuite/gcc.target/aarch64/bitfield-abi-warning-align8-O2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align8-O2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74833b3165865a9373506f447720cf20f29c20c8/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align8-O2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbitfield-abi-warning-align8-O2.c?ref=74833b3165865a9373506f447720cf20f29c20c8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -save-temps\" } */\n+/* { dg-options \"-O2 -fno-stack-protector -save-temps\" } */\n \n #define ALIGN 8\n #define EXTRA"}]}