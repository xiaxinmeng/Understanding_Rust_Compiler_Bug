{"sha": "7657ab90b46149b27703a397f3764ef9517eb988", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY1N2FiOTBiNDYxNDliMjc3MDNhMzk3ZjM3NjRlZjk1MTdlYjk4OA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-25T19:23:10Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-25T19:23:10Z"}, "message": "Avoid overflow error after negative shift count error.\n\nFrom-SVN: r171523", "tree": {"sha": "22b7104a112444a970a590843a98772767f2858e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22b7104a112444a970a590843a98772767f2858e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7657ab90b46149b27703a397f3764ef9517eb988", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7657ab90b46149b27703a397f3764ef9517eb988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7657ab90b46149b27703a397f3764ef9517eb988", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7657ab90b46149b27703a397f3764ef9517eb988/comments", "author": null, "committer": null, "parents": [{"sha": "ba78087b6c12fa4e3ab9d6b10c074624daec20ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba78087b6c12fa4e3ab9d6b10c074624daec20ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba78087b6c12fa4e3ab9d6b10c074624daec20ce"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "2ee4a696db9a4abe08f347671b34e831c1e8b34d", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7657ab90b46149b27703a397f3764ef9517eb988/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7657ab90b46149b27703a397f3764ef9517eb988/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=7657ab90b46149b27703a397f3764ef9517eb988", "patch": "@@ -5747,7 +5747,13 @@ Binary_expression::do_check_types(Gogo*)\n \t  if (this->right_->integer_constant_value(true, val, &type))\n \t    {\n \t      if (mpz_sgn(val) < 0)\n-\t\tthis->report_error(_(\"negative shift count\"));\n+\t\t{\n+\t\t  this->report_error(_(\"negative shift count\"));\n+\t\t  mpz_set_ui(val, 0);\n+\t\t  source_location rloc = this->right_->location();\n+\t\t  this->right_ = Expression::make_integer(&val, right_type,\n+\t\t\t\t\t\t\t  rloc);\n+\t\t}\n \t    }\n \t  mpz_clear(val);\n \t}"}]}