{"sha": "117aea7ad86c417a457823db2971b76f6a4046a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTE3YWVhN2FkODZjNDE3YTQ1NzgyM2RiMjk3MWI3NmY2YTQwNDZhOQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-03-23T22:19:23Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-03-23T22:19:23Z"}, "message": "(va_start): Pass LASTARG as a parameter to\nbuiltin_next_arg.\n\nFrom-SVN: r6855", "tree": {"sha": "d99619e0e90da64b9d60d62c4adec927221c0ab8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d99619e0e90da64b9d60d62c4adec927221c0ab8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/117aea7ad86c417a457823db2971b76f6a4046a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/117aea7ad86c417a457823db2971b76f6a4046a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/117aea7ad86c417a457823db2971b76f6a4046a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/117aea7ad86c417a457823db2971b76f6a4046a9/comments", "author": null, "committer": null, "parents": [{"sha": "c4dfe0fc0670efc7757af77f9b98c521b66a44eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4dfe0fc0670efc7757af77f9b98c521b66a44eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4dfe0fc0670efc7757af77f9b98c521b66a44eb"}], "stats": {"total": 23, "additions": 11, "deletions": 12}, "files": [{"sha": "675f65bb050c0925d5cb3aef0aece7cc82298f85", "filename": "gcc/ginclude/stdarg.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fstdarg.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fstdarg.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstdarg.h?ref=117aea7ad86c417a457823db2971b76f6a4046a9", "patch": "@@ -67,7 +67,7 @@ typedef void *__gnuc_va_list;\n   (((sizeof (TYPE) + sizeof (int) - 1) / sizeof (int)) * sizeof (int))\n \n #define va_start(AP, LASTARG) \t\t\t\t\t\t\\\n- (AP = ((__gnuc_va_list) __builtin_next_arg ()))\n+ (AP = ((__gnuc_va_list) __builtin_next_arg (LASTARG)))\n \n #undef va_end\n void va_end (__gnuc_va_list);\t\t/* Defined in libgcc.a */"}, {"sha": "18af77c560ee5f1bca7359204cfdbc702806c275", "filename": "gcc/ginclude/va-h8300.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-h8300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-h8300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-h8300.h?ref=117aea7ad86c417a457823db2971b76f6a4046a9", "patch": "@@ -30,7 +30,8 @@ typedef void *__gnuc_va_list;\n \n #ifdef _STDARG_H\n \n-#define va_start(AP,LASTARG) (AP = ((__gnuc_va_list) __builtin_next_arg ()))\n+#define va_start(AP,LASTARG) \\\n+  (AP = ((__gnuc_va_list) __builtin_next_arg (LASTARG)))\n \n #else /* _VARARGS_H */\n "}, {"sha": "1a74c458657d2d5f3aa385962af6baf2811e68a8", "filename": "gcc/ginclude/va-i860.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-i860.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-i860.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-i860.h?ref=117aea7ad86c417a457823db2971b76f6a4046a9", "patch": "@@ -61,7 +61,7 @@ typedef struct {\n  ((pvar) = *(__gnuc_va_list *) __builtin_saveregs (),\t\t\t\\\n   (pvar).__ireg_used = __builtin_args_info (0) / 4,\t\t\\\n   (pvar).__freg_used = __builtin_args_info (1) / 4,\t\t\\\n-  (pvar).__mem_ptr = __builtin_next_arg ())\n+  (pvar).__mem_ptr = __builtin_next_arg (firstarg))\n \n #endif /* _STDARG_H */\n "}, {"sha": "bd77f8e80ac2eaf058d3d7ba1e950840771e813f", "filename": "gcc/ginclude/va-i960.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-i960.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-i960.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-i960.h?ref=117aea7ad86c417a457823db2971b76f6a4046a9", "patch": "@@ -39,7 +39,7 @@ typedef unsigned __gnuc_va_list[2];\n #define va_start(AP, LASTARG)\t\t\t\t\\\n __extension__\t\t\t\t\t\t\\\n ({ __asm__ (\"st\tg14,%0\" : \"=m\" (*(AP)));\t\t\\\n-   (AP)[1] = (unsigned) __builtin_next_arg () - *AP; })\n+   (AP)[1] = (unsigned) __builtin_next_arg (LASTARG) - *AP; })\n #else\n \n #define\tva_alist __builtin_va_alist"}, {"sha": "2f411161a160fc075f562b7ac92315e2902e9cc3", "filename": "gcc/ginclude/va-mips.h", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-mips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-mips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-mips.h?ref=117aea7ad86c417a457823db2971b76f6a4046a9", "patch": "@@ -38,12 +38,7 @@ typedef char * __gnuc_va_list;\n #endif\n \n #ifdef _STDARG_H\n-#if __mips==3\n-#define va_start(__AP, __LASTARG)\t(__AP = __builtin_next_arg ())\n-#else\n-#define va_start(__AP, __LASTARG) \t\t\t\t\t\t\\\n- (__AP = ((char *) &(__LASTARG) + __va_rounded_size (__LASTARG)))\n-#endif\n+#define va_start(__AP, __LASTARG)\t(__AP = __builtin_next_arg (__LASTARG))\n \n #else\n #define va_alist  __builtin_va_alist"}, {"sha": "db2e28d319bd3a00832d055bba2af8d55f7588a3", "filename": "gcc/ginclude/va-sparc.h", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-sparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/117aea7ad86c417a457823db2971b76f6a4046a9/gcc%2Fginclude%2Fva-sparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-sparc.h?ref=117aea7ad86c417a457823db2971b76f6a4046a9", "patch": "@@ -23,11 +23,14 @@ typedef void * __gnuc_va_list;\n \n #ifdef _STDARG_H\n \n+/* Call __builtin_next_arg even though we aren't using its value, so that\n+   we can verify that LASTARG is correct.  */\n #ifdef __GCC_NEW_VARARGS__\n-#define va_start(AP, LASTARG)\t(AP = (char *) __builtin_saveregs ())\n+#define va_start(AP, LASTARG) \\\n+  (__builtin_next_arg (LASTARG), AP = (char *) __builtin_saveregs ())\n #else\n #define va_start(AP, LASTARG)\t\t\t\t\t\\\n-  (__builtin_saveregs (), AP = ((char *) __builtin_next_arg ()))\n+  (__builtin_saveregs (), AP = ((char *) __builtin_next_arg (LASTARG)))\n #endif\n \n #else"}]}