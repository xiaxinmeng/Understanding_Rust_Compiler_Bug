{"sha": "269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY5NDI4YmI0MWQ1MzVlYTZjNDJlYjVmNmU5MzgyZjJmMWQ0NWRmYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-10-29T11:42:17Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-10-29T11:42:17Z"}, "message": "[multiple changes]\n\n2012-10-29  Thomas Quinot  <quinot@adacore.com>\n\n\t* xoscons.adb: Minor reformatting.\n\n2012-10-29  Yannick Moy  <moy@adacore.com>\n\n\t* exp_alfa.adb (Expand_Alfa): Backtrack change that removed\n\tqualification of names in formal verification mode. Instead,\n\tthe qualification should be modified.\n\t* exp_dbug.adb (Qualify_Entity_Name): Modify qualification in formal\n\tverification mode, so that only a suffix is added to distinguish\n\thomonyms from the same scope.\n\nFrom-SVN: r192940", "tree": {"sha": "919c345adf1cf20ea091bae6919c55d8ce14434b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/919c345adf1cf20ea091bae6919c55d8ce14434b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/comments", "author": null, "committer": null, "parents": [{"sha": "6db566c308dd9ecf9e82938d7bec32884a596e74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6db566c308dd9ecf9e82938d7bec32884a596e74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6db566c308dd9ecf9e82938d7bec32884a596e74"}], "stats": {"total": 46, "additions": 38, "deletions": 8}, "files": [{"sha": "f69e62fd2e845282301e7e134bcd603529b3a982", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "patch": "@@ -1,3 +1,16 @@\n+2012-10-29  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* xoscons.adb: Minor reformatting.\n+\n+2012-10-29  Yannick Moy  <moy@adacore.com>\n+\n+\t* exp_alfa.adb (Expand_Alfa): Backtrack change that removed\n+\tqualification of names in formal verification mode. Instead,\n+\tthe qualification should be modified.\n+\t* exp_dbug.adb (Qualify_Entity_Name): Modify qualification in formal\n+\tverification mode, so that only a suffix is added to distinguish\n+\thomonyms from the same scope.\n+\n 2012-10-29  Robert Dewar  <dewar@adacore.com>\n \n \t* gnat_rm.texi: Document that pragma Optimize_Alignment (Space) is"}, {"sha": "69a6e2b0cec3b12ab7f5ef7f42f61bdca930a262", "filename": "gcc/ada/exp_alfa.adb", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2Fexp_alfa.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2Fexp_alfa.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_alfa.adb?ref=269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "patch": "@@ -28,6 +28,7 @@ with Einfo;    use Einfo;\n with Exp_Attr; use Exp_Attr;\n with Exp_Ch4;  use Exp_Ch4;\n with Exp_Ch6;  use Exp_Ch6;\n+with Exp_Dbug; use Exp_Dbug;\n with Exp_Util; use Exp_Util;\n with Nlists;   use Nlists;\n with Rtsfind;  use Rtsfind;\n@@ -80,17 +81,19 @@ package body Exp_Alfa is\n          when N_Attribute_Reference =>\n             Expand_Alfa_N_Attribute_Reference (N);\n \n-         --  Note: we used to qualify entity names in the following constructs\n-         --  (as full expansion does), but this was removed as this prevents\n-         --  the verification back-end from using a short name for debugging\n-         --  and user interaction. The verification back-end already takes\n-         --  care of qualifying names when needed.\n+         --  Qualification of entity names in formal verification mode\n+         --  is limited to the addition of a suffix for homonyms (see\n+         --  Exp_Dbug.Qualify_Entity_Name). We used to qualify entity names\n+         --  as full expansion does, but this was removed as this prevents the\n+         --  verification back-end from using a short name for debugging and\n+         --  user interaction. The verification back-end already takes care\n+         --  of qualifying names when needed.\n \n          when N_Block_Statement     |\n               N_Package_Body        |\n               N_Package_Declaration |\n               N_Subprogram_Body     =>\n-            null;\n+            Qualify_Entity_Names (N);\n \n          when N_Subprogram_Call     =>\n             Expand_Alfa_Call (N);"}, {"sha": "bcf6111a636dd2c850dfab65645447c74dc7d893", "filename": "gcc/ada/exp_dbug.adb", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2Fexp_dbug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2Fexp_dbug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.adb?ref=269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "patch": "@@ -1307,6 +1307,20 @@ package body Exp_Dbug is\n       if Has_Qualified_Name (Ent) then\n          return;\n \n+      --  In formal verification mode, simply append a suffix for homonyms, but\n+      --  do not mark the name as being qualified. We used to qualify entity\n+      --  names as full expansion does, but this was removed as this prevents\n+      --  the verification back-end from using a short name for debugging and\n+      --  user interaction. The verification back-end already takes care of\n+      --  qualifying names when needed.\n+\n+      elsif Alfa_Mode then\n+         Get_Name_String (Chars (Ent));\n+         Append_Homonym_Number (Ent);\n+         Output_Homonym_Numbers_Suffix;\n+         Set_Chars (Ent, Name_Enter);\n+         return;\n+\n       --  If the entity is a variable encoding the debug name for an object\n       --  renaming, then the qualified name of the entity associated with the\n       --  renamed object can now be incorporated in the debug name."}, {"sha": "fc78205265a1d66724b0c29ee469bb08c46b5bd1", "filename": "gcc/ada/xoscons.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2Fxoscons.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269428bb41d535ea6c42eb5f6e9382f2f1d45dfc/gcc%2Fada%2Fxoscons.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxoscons.adb?ref=269428bb41d535ea6c42eb5f6e9382f2f1d45dfc", "patch": "@@ -314,8 +314,8 @@ procedure XOSCons is\n         (S : String;\n          K : Asm_Int_Kind) return Int_Value_Type\n       is\n-         First    : Integer := S'First;\n-         Result   : Int_Value_Type;\n+         First  : Integer := S'First;\n+         Result : Int_Value_Type;\n \n       begin\n          --  On some platforms, immediate integer values are prefixed with"}]}