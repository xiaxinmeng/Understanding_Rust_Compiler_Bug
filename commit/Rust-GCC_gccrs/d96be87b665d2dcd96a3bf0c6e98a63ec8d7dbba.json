{"sha": "d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk2YmU4N2I2NjVkMmRjZDk2YTNiZjBjNmU5OGE2M2VjOGQ3ZGJiYQ==", "commit": {"author": {"name": "Jan-Benedict Glaw", "email": "jbglaw@lug-owl.de", "date": "2014-08-31T22:42:47Z"}, "committer": {"name": "Jan-Benedict Glaw", "email": "jbglaw@gcc.gnu.org", "date": "2014-08-31T22:42:47Z"}, "message": "Fix build error with Debian's 4.8.1-2 due to wrong declaration\n\nThis patch fixes a non-matching declaration, which lets G++ 4.8.1 (as of\nDebian's g++ package) barf:\n\ng++ -c   -g -O2 -DIN_GCC  -DCROSS_DIRECTORY_STRUCTURE  -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings -fno-common  -DHAVE_CONFIG_H -I. -I. -I/home/vaxbuild/repos/gcc/gcc -I/home/vaxbuild/repos/gcc/gcc/. -I/home/vaxbuild/repos/gcc/gcc/../include -I/home/vaxbuild/repos/gcc/gcc/../libcpp/include  -I/home/vaxbuild/repos/gcc/gcc/../libdecnumber -I/home/vaxbuild/repos/gcc/gcc/../libdecnumber/dpd -I../libdecnumber -I/home/vaxbuild/repos/gcc/gcc/../libbacktrace    -o mcore.o -MT mcore.o -MMD -MP -MF ./.deps/mcore.TPo /home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c: In function \u2018const char* output_inline_const(machine_mode, rtx_def**)\u2019:\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1216:82: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tnot\\t%s\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                  ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1216:82: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1219:87: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\taddi\\t%s,%%2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                       ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1219:87: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1222:87: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tsubi\\t%s,%%2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                       ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1222:87: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1226:88: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\trsubi\\t%s,%%2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                        ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1226:88: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1229:89: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tbseti\\t%s,%%P2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                         ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1229:89: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1232:89: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tbclri\\t%s,%%Q2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                         ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1232:89: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1235:88: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\trotli\\t%s,%%2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                        ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1235:88: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1238:87: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 5 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tlsli\\t%s,%%2\\t// %ld 0x%lx\", load_op, dst_fmt, value, value);\n                                                                                       ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1238:87: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1241:94: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tixh\\t%s,%s\\t// %ld 0x%lx\", load_op, dst_fmt, dst_fmt, value, value);\n                                                                                              ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1241:94: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 7 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1244:94: warning: format \u2018%ld\u2019 expects argument of type \u2018long int\u2019, but argument 6 has type \u2018long long int\u2019 [-Wformat=]\n       sprintf (buf, \"%s\\n\\tixw\\t%s,%s\\t// %ld 0x%lx\", load_op, dst_fmt, dst_fmt, value, value);\n                                                                                              ^\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:1244:94: warning: format \u2018%lx\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 7 has type \u2018long long int\u2019 [-Wformat=]\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c: At global scope:\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:100:19: warning: \u2018int try_constant_tricks(long int, long long int*, long long int*)\u2019 used but never defined [enabled by default]\n static int        try_constant_tricks           (long, HOST_WIDE_INT *, HOST_WIDE_INT *);\n                   ^\n[...]\ng++   -g -O2 -DIN_GCC  -DCROSS_DIRECTORY_STRUCTURE  -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings -fno-common  -DHAVE_CONFIG_H -static-libstdc++ -static-libgcc  -o cc1 c/c-lang.o c-family/stub-objc.o attribs.o c/c-errors.o c/c-decl.o c/c-typeck.o c/c-convert.o c/c-aux-info.o c/c-objc-common.o c/c-parser.o c/c-array-notation.o c-family/c-common.o c-family/c-cppbuiltin.o c-family/c-dump.o c-family/c-format.o c-family/c-gimplify.o c-family/c-lex.o c-family/c-omp.o c-family/c-opts.o c-family/c-pch.o c-family/c-ppoutput.o c-family/c-pragma.o c-family/c-pretty-print.o c-family/c-semantics.o c-family/c-ada-spec.o c-family/c-cilkplus.o c-family/array-notation-common.o c-family/cilk.o c-family/c-ubsan.o default-c.o \\\n  cc1-checksum.o libbackend.a main.o tree-browser.o libcommon-target.a libcommon.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a libcommon.a ../libcpp/libcpp.a   ../libbacktrace/.libs/libbacktrace.a ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a    -lmpc -lmpfr -lgmp -rdynamic -ldl  -L../zlib -lz\nlibbackend.a(mcore.o): In function `mcore_const_ok_for_inline':\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:751: undefined reference to `try_constant_tricks(long, long long*, long long*)'\nlibbackend.a(mcore.o): In function `mcore_const_ok_for_inline(long long)':\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:751: undefined reference to `try_constant_tricks(long, long long*, long long*)'\nlibbackend.a(mcore.o): In function `mcore_const_trick_uses_not(long long)':\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:761: undefined reference to `try_constant_tricks(long, long long*, long long*)'\nlibbackend.a(mcore.o): In function `mcore_const_ok_for_inline':\n/home/vaxbuild/repos/gcc/gcc/config/mcore/mcore.c:751: undefined reference to `try_constant_tricks(long, long long*, long long*)'\ncollect2: error: ld returned 1 exit status\nmake[1]: *** [cc1] Error 1\nmake[1]: Leaving directory `/home/vaxbuild/build/mcore-elf/build-gcc/gcc'\nmake: *** [all-gcc] Error 2\n\nThis patch fixes only the wrong declaration of try_constant_tricks().\n\n2014-09-01  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n\n\t* config/mcore/mcore.c (try_constant_tricks): Fix declaration.\n\nFrom-SVN: r214772", "tree": {"sha": "a3be591b0dc468c8afb4aeaef7e8cd0949b5175c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3be591b0dc468c8afb4aeaef7e8cd0949b5175c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba/comments", "author": {"login": "jbglaw", "id": 7965297, "node_id": "MDQ6VXNlcjc5NjUyOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7965297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbglaw", "html_url": "https://github.com/jbglaw", "followers_url": "https://api.github.com/users/jbglaw/followers", "following_url": "https://api.github.com/users/jbglaw/following{/other_user}", "gists_url": "https://api.github.com/users/jbglaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbglaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbglaw/subscriptions", "organizations_url": "https://api.github.com/users/jbglaw/orgs", "repos_url": "https://api.github.com/users/jbglaw/repos", "events_url": "https://api.github.com/users/jbglaw/events{/privacy}", "received_events_url": "https://api.github.com/users/jbglaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "03e46144faa1444571fcd6192691cb3675be1f6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03e46144faa1444571fcd6192691cb3675be1f6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03e46144faa1444571fcd6192691cb3675be1f6e"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "21f804b051d2bb59f431292473fc67e6c5271ef2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba", "patch": "@@ -1,3 +1,7 @@\n+2014-09-01  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n+\n+\t* config/mcore/mcore.c (try_constant_tricks): Fix declaration.\n+\n 2014-08-31  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* doc/generic.texi (Deficiencies): Add note on exemplary mistakes."}, {"sha": "f96be21467c5d9b284aa483a182f573dbe58572f", "filename": "gcc/config/mcore/mcore.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba/gcc%2Fconfig%2Fmcore%2Fmcore.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba/gcc%2Fconfig%2Fmcore%2Fmcore.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmcore%2Fmcore.c?ref=d96be87b665d2dcd96a3bf0c6e98a63ec8d7dbba", "patch": "@@ -122,9 +122,9 @@ static bool       mcore_print_operand_punct_valid_p (unsigned char code);\n static void       mcore_unique_section\t        (tree, int);\n static void mcore_encode_section_info\t\t(tree, rtx, int);\n static const char *mcore_strip_name_encoding\t(const char *);\n-static int        mcore_const_costs            \t(rtx, RTX_CODE);\n-static int        mcore_and_cost               \t(rtx);\n-static int        mcore_ior_cost               \t(rtx);\n+static int        mcore_const_costs             (rtx, RTX_CODE);\n+static int        mcore_and_cost                (rtx);\n+static int        mcore_ior_cost                (rtx);\n static bool       mcore_rtx_costs\t\t(rtx, int, int, int,\n \t\t\t\t\t\t int *, bool);\n static void       mcore_external_libcall\t(rtx);"}]}