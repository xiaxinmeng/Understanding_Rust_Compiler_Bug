{"sha": "ca9dc642200c91e750e598ef675931dafe50abb5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2E5ZGM2NDIyMDBjOTFlNzUwZTU5OGVmNjc1OTMxZGFmZTUwYWJiNQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2018-04-26T13:26:09Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2018-04-26T13:26:09Z"}, "message": "[nvptx, libgomp, testsuite] Reduce recursion depth in declare_target-{1,2}.f90\n\n2018-04-26  Tom de Vries  <tom@codesourcery.com>\n\n\tPR target/85519\n\t* testsuite/libgomp.fortran/examples-4/declare_target-1.f90: Reduce\n\trecursion depth from 25 to 23.\n\t* testsuite/libgomp.fortran/examples-4/declare_target-2.f90: Same.\n\nFrom-SVN: r259674", "tree": {"sha": "5f22b7633fa4a1a5182dedb7b7e9d582f6071072", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f22b7633fa4a1a5182dedb7b7e9d582f6071072"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca9dc642200c91e750e598ef675931dafe50abb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca9dc642200c91e750e598ef675931dafe50abb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca9dc642200c91e750e598ef675931dafe50abb5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca9dc642200c91e750e598ef675931dafe50abb5/comments", "author": null, "committer": null, "parents": [{"sha": "1c53fa8ca9912f6acf8c3c8cec31d647bd8ba691", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c53fa8ca9912f6acf8c3c8cec31d647bd8ba691", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c53fa8ca9912f6acf8c3c8cec31d647bd8ba691"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "4d622d9ff1dba28c7c65c99799ac6555394d5fc8", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca9dc642200c91e750e598ef675931dafe50abb5/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca9dc642200c91e750e598ef675931dafe50abb5/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=ca9dc642200c91e750e598ef675931dafe50abb5", "patch": "@@ -1,3 +1,10 @@\n+2018-04-26  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR target/85519\n+\t* testsuite/libgomp.fortran/examples-4/declare_target-1.f90: Reduce\n+\trecursion depth from 25 to 23.\n+\t* testsuite/libgomp.fortran/examples-4/declare_target-2.f90: Same.\n+\n 2018-04-24  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* configure: Regenerated."}, {"sha": "51de6b26b36802683af50130c261f4efede74d0d", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/declare_target-1.f90", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca9dc642200c91e750e598ef675931dafe50abb5/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdeclare_target-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca9dc642200c91e750e598ef675931dafe50abb5/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdeclare_target-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdeclare_target-1.f90?ref=ca9dc642200c91e750e598ef675931dafe50abb5", "patch": "@@ -27,5 +27,7 @@ integer function fib_wrapper (n)\n program e_53_1\n   use e_53_1_mod, only : fib, fib_wrapper\n   if (fib (15) /= fib_wrapper (15)) STOP 1\n-  if (fib (25) /= fib_wrapper (25)) STOP 2\n+  ! Reduced from 25 to 23, otherwise execution runs out of thread stack on\n+  ! Nvidia Titan V.\n+  if (fib (23) /= fib_wrapper (23)) STOP 2\n end program"}, {"sha": "76cce01a65881a77a1c052669a01287a9512c6c2", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/declare_target-2.f90", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca9dc642200c91e750e598ef675931dafe50abb5/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdeclare_target-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca9dc642200c91e750e598ef675931dafe50abb5/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdeclare_target-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdeclare_target-2.f90?ref=ca9dc642200c91e750e598ef675931dafe50abb5", "patch": "@@ -4,9 +4,11 @@ program e_53_2\n   !$omp declare target (fib)\n   integer :: x, fib\n   !$omp target map(from: x)\n-    x = fib (25)\n+    ! Reduced from 25 to 23, otherwise execution runs out of thread stack on\n+    ! Nvidia Titan V.\n+    x = fib (23)\n   !$omp end target\n-  if (x /= fib (25)) STOP 1\n+  if (x /= fib (23)) STOP 1\n end program\n \n integer recursive function fib (n) result (f)"}]}