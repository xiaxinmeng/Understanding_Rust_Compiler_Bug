{"sha": "78968b7620c8c3ee2490a74ca93a0300d18773a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg5NjhiNzYyMGM4YzNlZTI0OTBhNzRjYTkzYTAzMDBkMTg3NzNhMg==", "commit": {"author": {"name": "David S. Miller", "email": "davem@davemloft.net", "date": "2011-10-27T04:04:06Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2011-10-27T04:04:06Z"}, "message": "Fix thinko in previous sparc setcc changes.\n\n\t* config/sparc/sparc.c (emit_scc_insn): Force attempt of v9 sequences\n\tif we're comparing DImode and comparison is other than EQ or NE.\n\nFrom-SVN: r180558", "tree": {"sha": "c9e687cb2220cf157959d4b6286ff9cf88483364", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9e687cb2220cf157959d4b6286ff9cf88483364"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78968b7620c8c3ee2490a74ca93a0300d18773a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78968b7620c8c3ee2490a74ca93a0300d18773a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78968b7620c8c3ee2490a74ca93a0300d18773a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78968b7620c8c3ee2490a74ca93a0300d18773a2/comments", "author": {"login": "davem330", "id": 1053866, "node_id": "MDQ6VXNlcjEwNTM4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1053866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davem330", "html_url": "https://github.com/davem330", "followers_url": "https://api.github.com/users/davem330/followers", "following_url": "https://api.github.com/users/davem330/following{/other_user}", "gists_url": "https://api.github.com/users/davem330/gists{/gist_id}", "starred_url": "https://api.github.com/users/davem330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davem330/subscriptions", "organizations_url": "https://api.github.com/users/davem330/orgs", "repos_url": "https://api.github.com/users/davem330/repos", "events_url": "https://api.github.com/users/davem330/events{/privacy}", "received_events_url": "https://api.github.com/users/davem330/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "56ec62fa1d3d2a8655e4abc129f6e19a49e89d9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ec62fa1d3d2a8655e4abc129f6e19a49e89d9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56ec62fa1d3d2a8655e4abc129f6e19a49e89d9a"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "124b17cdbe8dde359ee0950b6b50e50df233277f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78968b7620c8c3ee2490a74ca93a0300d18773a2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78968b7620c8c3ee2490a74ca93a0300d18773a2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=78968b7620c8c3ee2490a74ca93a0300d18773a2", "patch": "@@ -1,5 +1,8 @@\n 2011-10-26  David S. Miller  <davem@davemloft.net>\n \n+\t* config/sparc/sparc.c (emit_scc_insn): Force attempt of v9 sequences\n+\tif we're comparing DImode and comparison is other than EQ or NE.\n+\n \t* config/sparc/sparc.c (emit_scc_insn): Do not try v9 sequences until\n \tLEU/LTU/GEU/GTU is attempted.\n \t* config/sparc/sparc.md (*neg_snesi_sign_extend): New 64-bit insn"}, {"sha": "ea9fdeff628139879634a8b7d41505fc1103420f", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78968b7620c8c3ee2490a74ca93a0300d18773a2/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78968b7620c8c3ee2490a74ca93a0300d18773a2/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=78968b7620c8c3ee2490a74ca93a0300d18773a2", "patch": "@@ -2541,6 +2541,11 @@ emit_scc_insn (rtx operands[])\n         }\n     }\n \n+  if (TARGET_V9\n+      && GET_MODE (x) == DImode\n+      && gen_v9_scc (operands[0], code, x, y))\n+    return true;\n+\n   /* We can do LTU and GEU using the addx/subx instructions too.  And\n      for GTU/LEU, if both operands are registers swap them and fall\n      back to the easy case.  */"}]}