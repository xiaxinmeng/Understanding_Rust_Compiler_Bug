{"sha": "58696ce5e418de14f1c79f3f62b523055ad3ea2c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg2OTZjZTVlNDE4ZGUxNGYxYzc5ZjNmNjJiNTIzMDU1YWQzZWEyYw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-05-07T14:30:07Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-05-07T14:30:07Z"}, "message": "* ipa-inline.c (update_callee_keys): Don't reset node growth cache.\n\nFrom-SVN: r173532", "tree": {"sha": "d83d829c1b8d93de129f5eecddb5e57a40f9d8f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d83d829c1b8d93de129f5eecddb5e57a40f9d8f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58696ce5e418de14f1c79f3f62b523055ad3ea2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58696ce5e418de14f1c79f3f62b523055ad3ea2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58696ce5e418de14f1c79f3f62b523055ad3ea2c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58696ce5e418de14f1c79f3f62b523055ad3ea2c/comments", "author": null, "committer": null, "parents": [{"sha": "f5886803ed0715d8bf874b3fd39d7d0763c2fb75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5886803ed0715d8bf874b3fd39d7d0763c2fb75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5886803ed0715d8bf874b3fd39d7d0763c2fb75"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "b2391638a8192e6b8463927a91520f251b4082fb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58696ce5e418de14f1c79f3f62b523055ad3ea2c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58696ce5e418de14f1c79f3f62b523055ad3ea2c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=58696ce5e418de14f1c79f3f62b523055ad3ea2c", "patch": "@@ -1,3 +1,7 @@\n+2011-05-06  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa-inline.c (update_callee_keys): Don't reset node growth cache.\n+\n 2011-05-06  Jan Hubicka  <jh@suse.cz>\n \n \t* cgraph.c (cgraph_add_thunk): Create real function node instead"}, {"sha": "4f666040be28548d6375b4beef9d1ea572beb3a1", "filename": "gcc/ipa-inline.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58696ce5e418de14f1c79f3f62b523055ad3ea2c/gcc%2Fipa-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58696ce5e418de14f1c79f3f62b523055ad3ea2c/gcc%2Fipa-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline.c?ref=58696ce5e418de14f1c79f3f62b523055ad3ea2c", "patch": "@@ -957,9 +957,9 @@ update_callee_keys (fibheap_t heap, struct cgraph_node *node,\n       e = e->callee->callees;\n     else\n       {\n-\t/* We inlined and thus callees might have different number of calls.\n-\t   Reset their caches  */\n-        reset_node_growth_cache (e->callee);\n+\t/* We do not reset callee growth cache here.  Since we added a new call,\n+\t   growth chould have just increased and consequentely badness metric\n+           don't need updating.  */\n \tif (e->inline_failed\n \t    && inline_summary (e->callee)->inlinable\n \t    && cgraph_function_body_availability (e->callee) >= AVAIL_AVAILABLE"}]}