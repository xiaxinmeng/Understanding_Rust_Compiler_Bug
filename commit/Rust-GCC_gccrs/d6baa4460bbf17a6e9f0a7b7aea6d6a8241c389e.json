{"sha": "d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDZiYWE0NDYwYmJmMTdhNmU5ZjBhN2I3YWVhNmQ2YTgyNDFjMzg5ZQ==", "commit": {"author": {"name": "Ralf Corsepius", "email": "ralf.corsepius@rtems.org", "date": "2012-03-07T11:39:25Z"}, "committer": {"name": "Ralf Corsepius", "email": "corsepiu@gcc.gnu.org", "date": "2012-03-07T11:39:25Z"}, "message": "re PR other/51417 (Cross-compiler - wrappers for ar, nm, ranlib installed under wrong names)\n\n2012-03-05  Ralf Cors\u00e9pius  <ralf.corsepius@rtems.org>\n\n\tPR target/51417\n\t* Makefile.in: Let install-gcc-ar depend on installdirs, gcc-ar$(exeext),\n\tgcc-nm$(exeext), gcc-ranlib$(exeext).\n\tDon't double canonicalize if cross-compiling.\n\nFrom-SVN: r185035", "tree": {"sha": "e0959be47680607dd3c83688a4245b46b4a71c6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0959be47680607dd3c83688a4245b46b4a71c6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e/comments", "author": null, "committer": null, "parents": [{"sha": "4e30d980cb5a6e0aaa9ba6da247834253f5516c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e30d980cb5a6e0aaa9ba6da247834253f5516c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e30d980cb5a6e0aaa9ba6da247834253f5516c8"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "9c986723e58ff576dec8b0cdc96bb4f750b12edc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e", "patch": "@@ -1,3 +1,10 @@\n+2012-03-07  Ralf Cors\u00e9pius  <ralf.corsepius@rtems.org>\n+\n+\tPR target/51417\n+\t* Makefile.in: Let install-gcc-ar depend on installdirs, gcc-ar$(exeext),\n+\tgcc-nm$(exeext), gcc-ranlib$(exeext).\n+\tDon't double canonicalize if cross-compiling.\n+\n 2012-03-07  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/52506"}, {"sha": "6e7148f872c485206fbc8856ec39f250fc4fc266", "filename": "gcc/Makefile.in", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=d6baa4460bbf17a6e9f0a7b7aea6d6a8241c389e", "patch": "@@ -4807,20 +4807,18 @@ install-collect2: collect2 installdirs\n install-lto-wrapper: lto-wrapper$(exeext)\n \t$(INSTALL_PROGRAM) lto-wrapper$(exeext) $(DESTDIR)$(libexecsubdir)/lto-wrapper$(exeext)\n \n-install-gcc-ar:\n-\tset -e ; \\\n-\tfor i in ar nm ranlib ; do \\\n-\t  install_name=`echo gcc-$$i|sed '$(program_transform_name)'`$(exeext) ;\\\n-\t  target_install_name=$(target_noncanonical)-`echo gcc-$$i|sed '$(program_transform_name)'`$(exeext) ; \\\n-\t  binname=gcc-$$i$(exeext) ; \\\n-\t  rm -f $(DESTDIR)$(bindir)/$$install_name ; \\\n-\t  rm -f $(DESTDIR)$(bindir)/$$target_install_name ; \\\n-\t  $(INSTALL_PROGRAM) $$binname $(DESTDIR)$(bindir)/$$install_name ;\\\n-\t  if test -f $(DESTDIR)$(bindir)$$target_install_name ; then \\\n+install-gcc-ar: installdirs gcc-ar$(exeext) gcc-nm$(exeext) gcc-ranlib$(exeext)\n+\tfor i in gcc-ar gcc-nm gcc-ranlib; do \\\n+\t  install_name=`echo $$i|sed '$(program_transform_name)'` ;\\\n+\t  target_install_name=$(target_noncanonical)-`echo $$i|sed '$(program_transform_name)'` ; \\\n+\t  rm -f $(DESTDIR)$(bindir)/$$install_name$(exeext) ; \\\n+\t  $(INSTALL_PROGRAM) $$i$(exeext) $(DESTDIR)$(bindir)/$$install_name$(exeext) ;\\\n+\t  if test -f gcc-cross$(exeext); then \\\n \t    :; \\\n \t  else \\\n+\t    rm -f $(DESTDIR)$(bindir)/$$target_install_name$(exeext); \\\n \t    ( cd $(DESTDIR)$(bindir) && \\\n-\t      $(LN) $$install_name $$target_install_name ) ; \\\n+\t      $(LN) $$install_name$(exeext) $$target_install_name$(exeext) ) ; \\\n \t  fi ; \\\n \tdone\n "}]}