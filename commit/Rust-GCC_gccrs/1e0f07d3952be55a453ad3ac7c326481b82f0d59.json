{"sha": "1e0f07d3952be55a453ad3ac7c326481b82f0d59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWUwZjA3ZDM5NTJiZTU1YTQ1M2FkM2FjN2MzMjY0ODFiODJmMGQ1OQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-03-16T22:18:08Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-03-16T22:18:08Z"}, "message": "configure.in (DEFAULT_YACC, [...]): Set with AC_CHECK_PROGS.\n\n2004-03-15  Paolo Bonzini  <bonzini@gnu.org>\n            Nathanael Nerode  <neroden@gcc.gnu.org>\n\n\t* configure.in (DEFAULT_YACC, DEFAULT_M4, DEFAULT_LEX):\n        Set with AC_CHECK_PROGS.\n\t* configure.in: Fix comment typo from last patch.\n\t* configure: Regenerate.\n\nCo-Authored-By: Nathanael Nerode <neroden@gcc.gnu.org>\n\nFrom-SVN: r79552", "tree": {"sha": "96ea752ffdef81f6c392540f2c7632b1dd7b098e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96ea752ffdef81f6c392540f2c7632b1dd7b098e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e0f07d3952be55a453ad3ac7c326481b82f0d59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e0f07d3952be55a453ad3ac7c326481b82f0d59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e0f07d3952be55a453ad3ac7c326481b82f0d59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e0f07d3952be55a453ad3ac7c326481b82f0d59/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fd5580cb8e3d9bb30d5c241ef8236e613c4d0fd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd5580cb8e3d9bb30d5c241ef8236e613c4d0fd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd5580cb8e3d9bb30d5c241ef8236e613c4d0fd6"}], "stats": {"total": 270, "additions": 140, "deletions": 130}, "files": [{"sha": "63f87788713b16325884797a02e820ac0486b6b3", "filename": "ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e0f07d3952be55a453ad3ac7c326481b82f0d59/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e0f07d3952be55a453ad3ac7c326481b82f0d59/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=1e0f07d3952be55a453ad3ac7c326481b82f0d59", "patch": "@@ -1,3 +1,11 @@\n+2004-03-15  Paolo Bonzini  <bonzini@gnu.org>\n+            Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\t* configure.in (DEFAULT_YACC, DEFAULT_M4, DEFAULT_LEX):\n+        Set with AC_CHECK_PROGS.\n+\t* configure.in: Fix comment typo from last patch.\n+\t* configure: Regenerate.\n+\n 2004-03-15  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* Makefile.tpl: Introduce experimental top level bootstrap support."}, {"sha": "90f42d496300e9daccb4c7f69d081030c4c65620", "filename": "configure", "status": "modified", "additions": 125, "deletions": 73, "changes": 198, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e0f07d3952be55a453ad3ac7c326481b82f0d59/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e0f07d3952be55a453ad3ac7c326481b82f0d59/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=1e0f07d3952be55a453ad3ac7c326481b82f0d59", "patch": "@@ -2173,7 +2173,7 @@ else\n fi\n \n \n-# By default, C is the only stage 1 langauge.\n+# By default, C is the only stage 1 language.\n stage1_languages=c\n \n \n@@ -2600,62 +2600,114 @@ esac\n tooldir='${exec_prefix}'/${target_alias}\n build_tooldir=${tooldir}\n \n-# Generate a default definition for YACC.  This is used if the makefile can't\n-# locate bison or byacc in objdir.\n-\n-for prog in 'bison -y' byacc yacc\n+# Generate default definitions for YACC, M4, LEX.  These are used if the\n+# Makefile can't locate these programs in objdir.\n+MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing\n+for ac_prog in 'bison -y' byacc yacc\n do\n-  set dummy $prog; tmp=$2\n-  IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for dir in $PATH; do\n-    test -z \"$dir\" && dir=.\n-    if test -f $dir/$tmp; then\n-      DEFAULT_YACC=\"$prog\"\n+# Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2612: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DEFAULT_YACC'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DEFAULT_YACC\"; then\n+  ac_cv_prog_DEFAULT_YACC=\"$DEFAULT_YACC\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DEFAULT_YACC=\"$ac_prog\"\n       break\n     fi\n   done\n-  IFS=\"$save_ifs\"\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+DEFAULT_YACC=\"$ac_cv_prog_DEFAULT_YACC\"\n+if test -n \"$DEFAULT_YACC\"; then\n+  echo \"$ac_t\"\"$DEFAULT_YACC\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n \n-  test -n \"$DEFAULT_YACC\" && break\n+test -n \"$DEFAULT_YACC\" && break\n done\n+test -n \"$DEFAULT_YACC\" || DEFAULT_YACC=\"$MISSING bison\"\n \n-# Generate a default definition for M4.  This is used if the makefile can't\n-# locate m4 in objdir.\n-\n-for prog in gm4 gnum4 m4\n+for ac_prog in gm4 gnum4 m4\n do\n-  set dummy $prog; tmp=$2\n-  IFS=\"${IFS=   }\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for dir in $PATH; do\n-    test -z \"$dir\" && dir=.\n-    if test -f $dir/$tmp; then\n-      DEFAULT_M4=\"$prog\"\n+# Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2647: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DEFAULT_M4'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DEFAULT_M4\"; then\n+  ac_cv_prog_DEFAULT_M4=\"$DEFAULT_M4\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DEFAULT_M4=\"$ac_prog\"\n       break\n     fi\n   done\n-  IFS=\"$save_ifs\"\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+DEFAULT_M4=\"$ac_cv_prog_DEFAULT_M4\"\n+if test -n \"$DEFAULT_M4\"; then\n+  echo \"$ac_t\"\"$DEFAULT_M4\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n \n-  test -n \"$DEFAULT_M4\" && break\n+test -n \"$DEFAULT_M4\" && break\n done\n+test -n \"$DEFAULT_M4\" || DEFAULT_M4=\"$MISSING m4\"\n \n-# Generate a default definition for LEX.  This is used if the makefile can't\n-# locate flex in objdir.\n-\n-for prog in flex lex\n+for ac_prog in flex lex\n do\n-  set dummy $prog; tmp=$2\n-  IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for dir in $PATH; do\n-    test -z \"$dir\" && dir=.\n-    if test -f $dir/$tmp; then\n-      DEFAULT_LEX=\"$prog\"\n+# Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2682: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DEFAULT_LEX'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DEFAULT_LEX\"; then\n+  ac_cv_prog_DEFAULT_LEX=\"$DEFAULT_LEX\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DEFAULT_LEX=\"$ac_prog\"\n       break\n     fi\n   done\n-  IFS=\"$save_ifs\"\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+DEFAULT_LEX=\"$ac_cv_prog_DEFAULT_LEX\"\n+if test -n \"$DEFAULT_LEX\"; then\n+  echo \"$ac_t\"\"$DEFAULT_LEX\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n \n-  test -n \"$DEFAULT_LEX\" && break\n+test -n \"$DEFAULT_LEX\" && break\n done\n+test -n \"$DEFAULT_LEX\" || DEFAULT_LEX=\"$MISSING flex\"\n+\n \n # FIXME Should this be done recursively ??? (Useful for e.g. gdbtest)\n # Set up the list of links to be made.\n@@ -3234,7 +3286,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3238: checking for $ac_word\" >&5\n+echo \"configure:3290: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3267,7 +3319,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3271: checking for $ac_word\" >&5\n+echo \"configure:3323: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3306,7 +3358,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3310: checking for $ac_word\" >&5\n+echo \"configure:3362: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3339,7 +3391,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3343: checking for $ac_word\" >&5\n+echo \"configure:3395: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3378,7 +3430,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3382: checking for $ac_word\" >&5\n+echo \"configure:3434: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3411,7 +3463,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3415: checking for $ac_word\" >&5\n+echo \"configure:3467: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3450,7 +3502,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3454: checking for $ac_word\" >&5\n+echo \"configure:3506: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3483,7 +3535,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3487: checking for $ac_word\" >&5\n+echo \"configure:3539: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3522,7 +3574,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3526: checking for $ac_word\" >&5\n+echo \"configure:3578: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3555,7 +3607,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3559: checking for $ac_word\" >&5\n+echo \"configure:3611: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3594,7 +3646,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3598: checking for $ac_word\" >&5\n+echo \"configure:3650: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3627,7 +3679,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3631: checking for $ac_word\" >&5\n+echo \"configure:3683: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3666,7 +3718,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3670: checking for $ac_word\" >&5\n+echo \"configure:3722: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3699,7 +3751,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3703: checking for $ac_word\" >&5\n+echo \"configure:3755: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3738,7 +3790,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3742: checking for $ac_word\" >&5\n+echo \"configure:3794: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3771,7 +3823,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3775: checking for $ac_word\" >&5\n+echo \"configure:3827: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3810,7 +3862,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3814: checking for $ac_word\" >&5\n+echo \"configure:3866: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3843,7 +3895,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3847: checking for $ac_word\" >&5\n+echo \"configure:3899: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3892,7 +3944,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3896: checking for $ac_word\" >&5\n+echo \"configure:3948: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3925,7 +3977,7 @@ if test -z \"$ac_cv_prog_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3929: checking for $ac_word\" >&5\n+echo \"configure:3981: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3964,7 +4016,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3968: checking for $ac_word\" >&5\n+echo \"configure:4020: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3997,7 +4049,7 @@ if test -z \"$ac_cv_prog_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4001: checking for $ac_word\" >&5\n+echo \"configure:4053: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4036,7 +4088,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4040: checking for $ac_word\" >&5\n+echo \"configure:4092: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4069,7 +4121,7 @@ if test -z \"$ac_cv_prog_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4073: checking for $ac_word\" >&5\n+echo \"configure:4125: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4108,7 +4160,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4112: checking for $ac_word\" >&5\n+echo \"configure:4164: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4141,7 +4193,7 @@ if test -z \"$ac_cv_prog_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4145: checking for $ac_word\" >&5\n+echo \"configure:4197: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4180,7 +4232,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4184: checking for $ac_word\" >&5\n+echo \"configure:4236: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4213,7 +4265,7 @@ if test -z \"$ac_cv_prog_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4217: checking for $ac_word\" >&5\n+echo \"configure:4269: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4252,7 +4304,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4256: checking for $ac_word\" >&5\n+echo \"configure:4308: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4285,7 +4337,7 @@ if test -z \"$ac_cv_prog_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4289: checking for $ac_word\" >&5\n+echo \"configure:4341: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4324,7 +4376,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4328: checking for $ac_word\" >&5\n+echo \"configure:4380: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4357,7 +4409,7 @@ if test -z \"$ac_cv_prog_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4361: checking for $ac_word\" >&5\n+echo \"configure:4413: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4424,7 +4476,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4428: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4480: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4653,6 +4705,9 @@ s%@target_subdir@%$target_subdir%g\n s%@CC@%$CC%g\n s%@GNATBIND@%$GNATBIND%g\n s%@stage1_languages@%$stage1_languages%g\n+s%@DEFAULT_YACC@%$DEFAULT_YACC%g\n+s%@DEFAULT_M4@%$DEFAULT_M4%g\n+s%@DEFAULT_LEX@%$DEFAULT_LEX%g\n /@maybe_dependencies@/r $maybe_dependencies\n s%@maybe_dependencies@%%g\n /@serialization_dependencies@/r $serialization_dependencies\n@@ -4710,9 +4765,6 @@ s%@OBJDUMP@%$OBJDUMP%g\n s%@ncn_cv_OBJDUMP@%$ncn_cv_OBJDUMP%g\n s%@CXX@%$CXX%g\n s%@CFLAGS_FOR_BUILD@%$CFLAGS_FOR_BUILD%g\n-s%@DEFAULT_YACC@%$DEFAULT_YACC%g\n-s%@DEFAULT_LEX@%$DEFAULT_LEX%g\n-s%@DEFAULT_M4@%$DEFAULT_M4%g\n s%@AR_FOR_TARGET@%$AR_FOR_TARGET%g\n s%@ncn_cv_AR_FOR_TARGET@%$ncn_cv_AR_FOR_TARGET%g\n s%@AS_FOR_TARGET@%$AS_FOR_TARGET%g"}, {"sha": "833de1f507cfc0259afb3e968bcdb49bd65aed22", "filename": "configure.in", "status": "modified", "additions": 7, "deletions": 57, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e0f07d3952be55a453ad3ac7c326481b82f0d59/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e0f07d3952be55a453ad3ac7c326481b82f0d59/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=1e0f07d3952be55a453ad3ac7c326481b82f0d59", "patch": "@@ -1070,7 +1070,7 @@ fi\n \n ACX_PROG_GNAT\n \n-# By default, C is the only stage 1 langauge.\n+# By default, C is the only stage 1 language.\n stage1_languages=c\n AC_SUBST(stage1_languages)\n \n@@ -1497,62 +1497,12 @@ esac\n tooldir='${exec_prefix}'/${target_alias}\n build_tooldir=${tooldir}\n \n-# Generate a default definition for YACC.  This is used if the makefile can't\n-# locate bison or byacc in objdir.\n-\n-for prog in 'bison -y' byacc yacc\n-do\n-  set dummy $prog; tmp=$2\n-  IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for dir in $PATH; do\n-    test -z \"$dir\" && dir=.\n-    if test -f $dir/$tmp; then\n-      DEFAULT_YACC=\"$prog\"\n-      break\n-    fi\n-  done\n-  IFS=\"$save_ifs\"\n-\n-  test -n \"$DEFAULT_YACC\" && break\n-done\n-\n-# Generate a default definition for M4.  This is used if the makefile can't\n-# locate m4 in objdir.\n-\n-for prog in gm4 gnum4 m4\n-do\n-  set dummy $prog; tmp=$2\n-  IFS=\"${IFS=   }\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for dir in $PATH; do\n-    test -z \"$dir\" && dir=.\n-    if test -f $dir/$tmp; then\n-      DEFAULT_M4=\"$prog\"\n-      break\n-    fi\n-  done\n-  IFS=\"$save_ifs\"\n-\n-  test -n \"$DEFAULT_M4\" && break\n-done\n-\n-# Generate a default definition for LEX.  This is used if the makefile can't\n-# locate flex in objdir.\n-\n-for prog in flex lex\n-do\n-  set dummy $prog; tmp=$2\n-  IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for dir in $PATH; do\n-    test -z \"$dir\" && dir=.\n-    if test -f $dir/$tmp; then\n-      DEFAULT_LEX=\"$prog\"\n-      break\n-    fi\n-  done\n-  IFS=\"$save_ifs\"\n-\n-  test -n \"$DEFAULT_LEX\" && break\n-done\n+# Generate default definitions for YACC, M4, LEX.  These are used if the\n+# Makefile can't locate these programs in objdir.\n+MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing\n+AC_CHECK_PROGS([DEFAULT_YACC], ['bison -y' byacc yacc], [$MISSING bison])\n+AC_CHECK_PROGS([DEFAULT_M4], [gm4 gnum4 m4], [$MISSING m4])\n+AC_CHECK_PROGS([DEFAULT_LEX], [flex lex], [$MISSING flex])\n \n # FIXME Should this be done recursively ??? (Useful for e.g. gdbtest)\n # Set up the list of links to be made."}]}