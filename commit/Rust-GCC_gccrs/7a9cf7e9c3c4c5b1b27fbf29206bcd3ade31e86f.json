{"sha": "7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E5Y2Y3ZTljM2M0YzViMWIyN2ZiZjI5MjA2YmNkM2FkZTMxZTg2Zg==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2012-04-24T20:34:30Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2012-04-24T20:34:30Z"}, "message": "common.opt (gdwarf-): Initialize dwarf_version to -1 instead of 2.\n\n        * common.opt (gdwarf-): Initialize dwarf_version to -1 instead of 2.\n        * toplev.c (process_options): Default to dwarf_version 2.\n        * config/vxworks.c (vxworks_override_options): Default to strict-dwarf\n        and dwarf_version 2.\n\nFrom-SVN: r186783", "tree": {"sha": "9284abef1d612ed53ee27cb059198eb1351edd47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9284abef1d612ed53ee27cb059198eb1351edd47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bc9201591d2d677dc21819ff8f11de18983f1f61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc9201591d2d677dc21819ff8f11de18983f1f61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc9201591d2d677dc21819ff8f11de18983f1f61"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "a7e7ee56460007627c3810bd87687e13cd1b3fc7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "patch": "@@ -1,3 +1,10 @@\n+2012-04-24  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* common.opt (gdwarf-): Initialize dwarf_version to -1 instead of 2.\n+\t* toplev.c (process_options): Default to dwarf_version 2.\n+\t* config/vxworks.c (vxworks_override_options): Default to strict-dwarf\n+\tand dwarf_version 2.\n+\n 2012-04-24  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n \n \t* tree-pretty-print.h (default_tree_printer): Do not declare."}, {"sha": "df942275d9522e8afae61cf026c9e921e0042e07", "filename": "gcc/common.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "patch": "@@ -2212,7 +2212,7 @@ Common JoinedOrMissing Negative(gdwarf-)\n Generate debug information in COFF format\n \n gdwarf-\n-Common Joined UInteger Var(dwarf_version) Init(2) Negative(gstabs)\n+Common Joined UInteger Var(dwarf_version) Init(-1) Negative(gstabs)\n Generate debug information in DWARF v2 (or later) format\n \n ggdb"}, {"sha": "1e5a7ad82a61748916c57ca50bc2edb79cfe4b93", "filename": "gcc/config/vxworks.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2Fconfig%2Fvxworks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2Fconfig%2Fvxworks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvxworks.c?ref=7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "patch": "@@ -144,4 +144,12 @@ vxworks_override_options (void)\n   /* PIC is only supported for RTPs.  */\n   if (flag_pic && !TARGET_VXWORKS_RTP)\n     error (\"PIC is only supported for RTPs\");\n+\n+  /* Default to strict dwarf-2 to prevent potential difficulties observed with\n+     non-gdb debuggers on extensions > 2.  */\n+  if (dwarf_strict < 0)\n+    dwarf_strict = 1;\n+\n+  if (dwarf_version < 0)\n+    dwarf_version = 2;\n }"}, {"sha": "fcfdba2aefb7680a56c54880c04cd7e1a11b2962", "filename": "gcc/toplev.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=7a9cf7e9c3c4c5b1b27fbf29206bcd3ade31e86f", "patch": "@@ -1380,6 +1380,10 @@ process_options (void)\n   if (dwarf_strict < 0)\n     dwarf_strict = 0;\n \n+  /* And select a default dwarf level.  */\n+  if (dwarf_version < 0)\n+    dwarf_version = 2;\n+\n   /* A lot of code assumes write_symbols == NO_DEBUG if the debugging\n      level is 0.  */\n   if (debug_info_level == DINFO_LEVEL_NONE)"}]}