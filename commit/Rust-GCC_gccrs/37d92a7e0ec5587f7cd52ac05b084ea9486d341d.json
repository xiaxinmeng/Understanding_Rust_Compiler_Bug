{"sha": "37d92a7e0ec5587f7cd52ac05b084ea9486d341d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzdkOTJhN2UwZWM1NTg3ZjdjZDUyYWMwNWIwODRlYTk0ODZkMzQxZA==", "commit": {"author": {"name": "Dominique d'Humieres", "email": "dominiq@lps.ens.fr", "date": "2017-09-29T13:15:26Z"}, "committer": {"name": "Dominique d'Humieres", "email": "dominiq@gcc.gnu.org", "date": "2017-09-29T13:15:26Z"}, "message": "re PR fortran/25071 (dummy argument larger than actual argument)\n\n2017-09-29  Dominique d'Humieres  <dominiq@lps.ens.fr>\n\n\tPR fortran/25071\n\t* interface.c (compare_actual_formal): Change warnings to errors\n\twhen \"Actual argument contains too few elements for dummy\n\targument\", unless -std=legacy is used.\n\nFrom-SVN: r253286", "tree": {"sha": "87bde32b91e6f3c9bccd6559cdd3e902917c5ac4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87bde32b91e6f3c9bccd6559cdd3e902917c5ac4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37d92a7e0ec5587f7cd52ac05b084ea9486d341d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37d92a7e0ec5587f7cd52ac05b084ea9486d341d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37d92a7e0ec5587f7cd52ac05b084ea9486d341d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37d92a7e0ec5587f7cd52ac05b084ea9486d341d/comments", "author": {"login": "DominiquedHumieres", "id": 18394944, "node_id": "MDQ6VXNlcjE4Mzk0OTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/18394944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DominiquedHumieres", "html_url": "https://github.com/DominiquedHumieres", "followers_url": "https://api.github.com/users/DominiquedHumieres/followers", "following_url": "https://api.github.com/users/DominiquedHumieres/following{/other_user}", "gists_url": "https://api.github.com/users/DominiquedHumieres/gists{/gist_id}", "starred_url": "https://api.github.com/users/DominiquedHumieres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DominiquedHumieres/subscriptions", "organizations_url": "https://api.github.com/users/DominiquedHumieres/orgs", "repos_url": "https://api.github.com/users/DominiquedHumieres/repos", "events_url": "https://api.github.com/users/DominiquedHumieres/events{/privacy}", "received_events_url": "https://api.github.com/users/DominiquedHumieres/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "20ad05861ecf0e6867eea22ab49f0cbe6b1e4768", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20ad05861ecf0e6867eea22ab49f0cbe6b1e4768", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20ad05861ecf0e6867eea22ab49f0cbe6b1e4768"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "b0c9c808cb4b7e4b84df9bdcf9e4ecd13140c3f8", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37d92a7e0ec5587f7cd52ac05b084ea9486d341d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37d92a7e0ec5587f7cd52ac05b084ea9486d341d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=37d92a7e0ec5587f7cd52ac05b084ea9486d341d", "patch": "@@ -1,3 +1,10 @@\n+2017-09-29  Dominique d'Humieres  <dominiq@lps.ens.fr>\n+\n+\tPR fortran/25071\n+\t* interface.c (compare_actual_formal): Change warnings to errors\n+\twhen \"Actual argument contains too few elements for dummy\n+\targument\", unless -std=legacy is used.\n+\n 2017-09-27  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* lang.opt <Wdo-subscript>: End help text with a period."}, {"sha": "f8ef33fc7785c3ff8274551da860cde88f67be68", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37d92a7e0ec5587f7cd52ac05b084ea9486d341d/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37d92a7e0ec5587f7cd52ac05b084ea9486d341d/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=37d92a7e0ec5587f7cd52ac05b084ea9486d341d", "patch": "@@ -2991,11 +2991,20 @@ compare_actual_formal (gfc_actual_arglist **ap, gfc_formal_arglist *formal,\n \t\t\t f->sym->name, actual_size, formal_size,\n \t\t\t &a->expr->where);\n           else if (where)\n-\t    gfc_warning (OPT_Wargument_mismatch,\n-\t\t\t \"Actual argument contains too few \"\n-\t\t\t \"elements for dummy argument %qs (%lu/%lu) at %L\",\n-\t\t\t f->sym->name, actual_size, formal_size,\n-\t\t\t &a->expr->where);\n+\t    {\n+\t      /* Emit a warning for -std=legacy and an error otherwise. */\n+\t      if (gfc_option.warn_std == 0)\n+\t        gfc_warning (OPT_Wargument_mismatch,\n+\t\t\t     \"Actual argument contains too few \"\n+\t\t\t     \"elements for dummy argument %qs (%lu/%lu) \"\n+\t\t\t     \"at %L\", f->sym->name, actual_size,\n+\t\t\t     formal_size, &a->expr->where);\n+\t      else\n+\t        gfc_error_now (\"Actual argument contains too few \"\n+\t\t\t       \"elements for dummy argument %qs (%lu/%lu) \"\n+\t\t\t       \"at %L\", f->sym->name, actual_size,\n+\t\t\t       formal_size, &a->expr->where);\n+\t    }\n \t  return false;\n \t}\n "}]}