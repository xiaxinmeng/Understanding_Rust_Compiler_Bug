{"sha": "b4f892eb33fec0722db2d1edacdb5df4f149e54b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjRmODkyZWIzM2ZlYzA3MjJkYjJkMWVkYWNkYjVkZjRmMTQ5ZTU0Yg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-07-19T22:09:32Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-07-19T22:09:32Z"}, "message": "(ENCODE_SECTION_INFO): New macro.\n\n(PREDICATE_CODES): Add current_file_function_operand.\n\nFrom-SVN: r4942", "tree": {"sha": "27263d03465dd378a20d9b2449be0e8abbfd967b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27263d03465dd378a20d9b2449be0e8abbfd967b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4f892eb33fec0722db2d1edacdb5df4f149e54b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4f892eb33fec0722db2d1edacdb5df4f149e54b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4f892eb33fec0722db2d1edacdb5df4f149e54b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4f892eb33fec0722db2d1edacdb5df4f149e54b/comments", "author": null, "committer": null, "parents": [{"sha": "2af3d377ff988686e3afdc61532a47a5afa2cc13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af3d377ff988686e3afdc61532a47a5afa2cc13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2af3d377ff988686e3afdc61532a47a5afa2cc13"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "2b45976737868241e8420d7ec6fdd3dc65f2d0f4", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4f892eb33fec0722db2d1edacdb5df4f149e54b/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4f892eb33fec0722db2d1edacdb5df4f149e54b/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=b4f892eb33fec0722db2d1edacdb5df4f149e54b", "patch": "@@ -1410,6 +1410,16 @@ extern int rs6000_trunc_used;\n \n #define READONLY_DATA_SECTION read_only_data_section\n \n+/* If we are referencing a function that is static or is known to be\n+   in this file, make the SYMBOL_REF special.  We can use this to indicate\n+   that we can branch to this function without emitting a no-op after the\n+   call.  */\n+\n+#define ENCODE_SECTION_INFO(DECL)  \\\n+  if (TREE_CODE (DECL) == FUNCTION_DECL\t\t\t\\\n+      && (TREE_ASM_WRITTEN (DECL) || ! TREE_PUBLIC (DECL))) \\\n+    SYMBOL_REF_FLAG (XEXP (DECL_RTL (DECL), 0)) = 1;\n+\n /* Indicate that jump tables go in the text section.  */\n \n #define JUMP_TABLES_IN_TEXT_SECTION\n@@ -1876,6 +1886,7 @@ toc_section ()\t\t\t\t\t\t\\\n   {\"non_logical_cint_operand\", {CONST_INT}},\t\t\t\\\n   {\"mask_operand\", {CONST_INT}},\t\t\t\t\\\n   {\"call_operand\", {SYMBOL_REF, REG}},\t\t\t\t\\\n+  {\"current_file_function_operand\", {SYMBOL_REF}},\t\t\t\\\n   {\"input_operand\", {SUBREG, MEM, REG, CONST_INT}},\t\t\\\n   {\"branch_comparison_operation\", {EQ, NE, LE, LT, GE,\t\t\\\n \t\t\t\t   LT, LEU, LTU, GEU, GTU}},\t\\"}]}