{"sha": "c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzA3YzdjOWQyNTIzMjk4N2Y5OWIzMWM2ZTZjZTdlMzQzZDE5ZGFkNw==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1999-12-10T00:57:03Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1999-12-10T00:57:03Z"}, "message": "regclass.c (globalize_reg): Re-instate test that allows fixed registers to be declared as a variable even...\n\n\t* regclass.c (globalize_reg): Re-instate test that allows\n\tfixed registers to be declared as a variable even after functions\n\tare defined.\n\n\t* testsuite/gcc.dg/991209-1.c: New test.\n\nFrom-SVN: r30853", "tree": {"sha": "2859b2d886f33d7a0f5d47c618ff71bdbda2791a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2859b2d886f33d7a0f5d47c618ff71bdbda2791a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/comments", "author": null, "committer": null, "parents": [{"sha": "309ada50deb5fe88d3b703eb36cedfe221192386", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/309ada50deb5fe88d3b703eb36cedfe221192386", "html_url": "https://github.com/Rust-GCC/gccrs/commit/309ada50deb5fe88d3b703eb36cedfe221192386"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "8c600f797a767fcdd659f8e3d7a674ce83dc06e8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "patch": "@@ -1,3 +1,9 @@\n+Fri Dec 10 00:53:10 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* regclass.c (globalize_reg): Re-instate test that allows\n+\tfixed registers to be declared as a variable even after functions\n+\tare defined.\n+\n Fri Dec 10 00:52:13 MET 1999  Jan Hubicka  <hubicka@freesoft.cz>\n \n \t* i386.md (cpu attribute): Add \"athlon\"."}, {"sha": "55edc778fd0d21b1af59da326be2c6661b0b1eff", "filename": "gcc/regclass.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2Fregclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2Fregclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregclass.c?ref=c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "patch": "@@ -218,7 +218,7 @@ struct reg_info_data {\n \n static struct reg_info_data *reg_info_head;\n \n-/* No more global register vairiables may be declared; true once\n+/* No more global register variables may be declared; true once\n    regclass has been initialized. */\n \n static int no_global_reg_vars = 0;\n@@ -630,7 +630,7 @@ void\n globalize_reg (i)\n      int i;\n {\n-  if (no_global_reg_vars)\n+  if (fixed_regs[i] == 0 && no_global_reg_vars)\n     error (\"global register variable follows a function definition\");\n \n   if (global_regs[i])\n@@ -767,7 +767,7 @@ regclass_init ()\n      before regclass is run.  */\n   reg_pref = NULL;\n \n-  /* No more global register vairiables may be declared. */\n+  /* No more global register variables may be declared. */\n   no_global_reg_vars = 1;\n }\n \f"}, {"sha": "658bb24faeee04aaa589e849d2ea64a86b0318e9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "patch": "@@ -1,3 +1,7 @@\n+Fri Dec 10 00:53:10 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* gcc.dg/991209-1.c: New test.\n+\n Wed Dec  8 23:44:08 1999  Nathan Sidwell <nathan@acm.org>\n \n \t* gcc.c-torture/compile/991208-1.c: New test."}, {"sha": "20f481f56345a01770b6739eccbe1cb7912169aa", "filename": "gcc/testsuite/gcc.dg/991209-1.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2Ftestsuite%2Fgcc.dg%2F991209-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c07c7c9d25232987f99b31c6e6ce7e343d19dad7/gcc%2Ftestsuite%2Fgcc.dg%2F991209-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F991209-1.c?ref=c07c7c9d25232987f99b31c6e6ce7e343d19dad7", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do compile { target i386-*-* } } */\n+\n+int foo ()\n+{\n+  return 1;\n+}\n+\n+register char *stack_ptr asm (\"%esp\");"}]}