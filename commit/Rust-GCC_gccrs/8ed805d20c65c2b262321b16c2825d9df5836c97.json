{"sha": "8ed805d20c65c2b262321b16c2825d9df5836c97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGVkODA1ZDIwYzY1YzJiMjYyMzIxYjE2YzI4MjVkOWRmNTgzNmM5Nw==", "commit": {"author": {"name": "Graham Stott", "email": "grahams@redhat.com", "date": "2002-02-27T15:01:10Z"}, "committer": {"name": "Graham Stott", "email": "grahams@gcc.gnu.org", "date": "2002-02-27T15:01:10Z"}, "message": "unroll.c (loop_iterations): Return 0 if the add_val for a BIV is REG.\n\n\n        * unroll.c (loop_iterations): Return 0 if the add_val for\n        a BIV is REG.\n\nFrom-SVN: r50100", "tree": {"sha": "7ed483297ee6b822dfdfa7fc51773ad97b0b8418", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ed483297ee6b822dfdfa7fc51773ad97b0b8418"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ed805d20c65c2b262321b16c2825d9df5836c97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ed805d20c65c2b262321b16c2825d9df5836c97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ed805d20c65c2b262321b16c2825d9df5836c97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ed805d20c65c2b262321b16c2825d9df5836c97/comments", "author": null, "committer": null, "parents": [{"sha": "fd478a0ad4be8fe0f7b1d2b50c01a4a8fc6a8ea9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd478a0ad4be8fe0f7b1d2b50c01a4a8fc6a8ea9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd478a0ad4be8fe0f7b1d2b50c01a4a8fc6a8ea9"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "062716db49250ec96bae11d0c9c73f5893fe3543", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ed805d20c65c2b262321b16c2825d9df5836c97/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ed805d20c65c2b262321b16c2825d9df5836c97/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8ed805d20c65c2b262321b16c2825d9df5836c97", "patch": "@@ -1,5 +1,8 @@\n 2002-02-27  Graham Stott  <grahams@redhat.com>\n \n+\t* unroll.c (loop_iterations): Return 0 if the add_val for\n+\ta BIV is REG.\n+\n \t* final.c (output_operand_lossage): Constify PFX_STR.\n \n \t* df.c (df_insn_refs_record): Use XEXP (x, 0) for USE."}, {"sha": "2b941470ecdaf551920b5cf2394c6534b226016c", "filename": "gcc/unroll.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ed805d20c65c2b262321b16c2825d9df5836c97/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ed805d20c65c2b262321b16c2825d9df5836c97/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=8ed805d20c65c2b262321b16c2825d9df5836c97", "patch": "@@ -3744,7 +3744,18 @@ loop_iterations (loop)\n \t  for (biv_inc = bl->biv; biv_inc; biv_inc = biv_inc->next_iv)\n \t    {\n \t      if (loop_insn_first_p (v->insn, biv_inc->insn))\n-\t\toffset -= INTVAL (biv_inc->add_val);\n+\t\t{\n+\t\t  if (REG_P (biv_inc->add_val))\n+\t\t    {\n+\t\t      if (loop_dump_stream)\n+\t\t\tfprintf (loop_dump_stream,\n+\t\t\t\t \"Loop iterations: Basic induction var add_val is REG %d.\\n\",\n+\t\t\t\t REGNO (biv_inc->add_val));\n+\t\t\treturn 0;\n+\t\t    }\n+\n+\t\t  offset -= INTVAL (biv_inc->add_val);\n+\t\t}\n \t    }\n \t}\n       if (loop_dump_stream)"}]}