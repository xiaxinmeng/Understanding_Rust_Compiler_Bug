{"sha": "2c3751433731d06d2d4386bb79eb50ab1b1add64", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmMzNzUxNDMzNzMxZDA2ZDJkNDM4NmJiNzllYjUwYWIxYjFhZGQ2NA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "1999-10-28T08:26:42Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "1999-10-28T08:26:42Z"}, "message": "Makefile.in (SUBDIRS): New macro.\n\n\t* Makefile.in (SUBDIRS): New macro.\n\t(mostlyclean, clean, distclean, maintainer-clean): Adjust to\n\tavoid multiple subdirectory cleaning.\n\t(*-subdir): Use SUBDIRS.\n\nFrom-SVN: r30229", "tree": {"sha": "23bda6952471d5a1bb0e03317d58f1c15a7121b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23bda6952471d5a1bb0e03317d58f1c15a7121b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c3751433731d06d2d4386bb79eb50ab1b1add64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c3751433731d06d2d4386bb79eb50ab1b1add64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c3751433731d06d2d4386bb79eb50ab1b1add64", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c3751433731d06d2d4386bb79eb50ab1b1add64/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3a8de233f78933a19a8b736bc12d989f9bfaf5a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a8de233f78933a19a8b736bc12d989f9bfaf5a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a8de233f78933a19a8b736bc12d989f9bfaf5a7"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "0d286158d2ed27d12a4c9c73c4038894e8727aa7", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3751433731d06d2d4386bb79eb50ab1b1add64/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3751433731d06d2d4386bb79eb50ab1b1add64/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=2c3751433731d06d2d4386bb79eb50ab1b1add64", "patch": "@@ -1,3 +1,10 @@\n+1999-10-28  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* Makefile.in (SUBDIRS): New macro.\n+\t(mostlyclean, clean, distclean, maintainer-clean): Adjust to\n+\tavoid multiple subdirectory cleaning.\n+\t(*-subdir): Use SUBDIRS.\n+\n 1999-10-25  Jim Kingdon  <http://developer.redhat.com/>\n \n \t* cplus-dem.c: Move declarations of standard_symbol_characters and"}, {"sha": "f5a18336268275ff6dc543bbb3ccdd7facdb67f3", "filename": "libiberty/Makefile.in", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c3751433731d06d2d4386bb79eb50ab1b1add64/libiberty%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c3751433731d06d2d4386bb79eb50ab1b1add64/libiberty%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FMakefile.in?ref=2c3751433731d06d2d4386bb79eb50ab1b1add64", "patch": "@@ -92,6 +92,9 @@ FLAGS_TO_PASS = \\\n \t\"libsubdir=$(libsubdir)\" \\\n \t\"tooldir=$(tooldir)\"\n \n+# Subdirectories to recurse into. We need to override this during cleaning\n+SUBDIRS = testsuite\n+\n all: stamp-picdir $(TARGETLIB) needed-list required-list all-subdir\n \t@$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=all\n \n@@ -204,19 +207,24 @@ ls:\n \n # Need to deal with profiled libraries, too.\n \n+# Cleaning has to be done carefully to ensure that we don't clean our SUBDIRS\n+# multiple times, hence our explicit recursion with an empty SUBDIRS.\n mostlyclean: mostlyclean-subdir\n \trm -rf *.o pic core errs \\#* *.E a.out\n \trm -f needed.awk needed2.awk errors dummy needed-list config.h stamp-*\n \trm -f $(CONFIG_H) $(NEEDED_LIST) stamp-picdir\n \t@$(MULTICLEAN) multi-clean DO=mostlyclean\n-clean: mostlyclean clean-subdir\n+clean: clean-subdir\n+\t$(MAKE) SUBDIRS=\"\" mostlyclean\n \trm -f *.a required-list tmpmulti.out\n \t@$(MULTICLEAN) multi-clean DO=clean\n-distclean: clean distclean-subdir\n+distclean: distclean-subdir\n+\t$(MAKE) SUBDIRS=\"\" clean\n \t@$(MULTICLEAN) multi-clean DO=distclean\n \trm -f *~ Makefile config.status xhost-mkfrag TAGS multilib.out\n \trm -f config.log\n-maintainer-clean realclean: distclean maintainer-clean-subdir\n+maintainer-clean realclean: maintainer-clean-subdir\n+\t$(MAKE) SUBDIRS=\"\" distclean\n \n force:\n \n@@ -236,7 +244,9 @@ install-info-subdir clean-info-subdir dvi-subdir install-subdir\t\\\n etags-subdir mostlyclean-subdir clean-subdir distclean-subdir \\\n maintainer-clean-subdir:\n \t@target=`echo $@ | sed -e 's/-subdir//'`; \\\n-\tcd testsuite && $(MAKE) $$target\n+\tfor dir in . $(SUBDIRS) ; do \\\n+\t  test $$dir = . || (cd $$dir && $(MAKE) $$target) || exit 1; \\\n+\tdone\n \n $(REQUIRED_OFILES) $(EXTRA_OFILES) $(LIBOBJS) $(ALLOCA): stamp-picdir\n "}]}