{"sha": "2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM4MWRhZWViNTQ1NmQzYjU4OGUyYWQyMmI1ZWMwOThiZWEyZDM5Mw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-07-12T04:18:48Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-07-12T04:18:48Z"}, "message": "compiler: build a single backend type for type alias\n    \n    A type alias and its underlying type are identical. Build a\n    single backend type for them. Previously we build two backend\n    types, which sometimes confuse the backend's type system.\n    \n    Also don't include type aliases into the list of named type\n    declarations, since they are not named types.\n    \n    Reviewed-on: https://go-review.googlesource.com/123362\n\nFrom-SVN: r262572", "tree": {"sha": "a59b85139c2d6eedc3ad0833e554d8535f68aa43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a59b85139c2d6eedc3ad0833e554d8535f68aa43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/comments", "author": null, "committer": null, "parents": [{"sha": "9d196169ccd1ef30c80f3681c13f84c573f5cd52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d196169ccd1ef30c80f3681c13f84c573f5cd52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d196169ccd1ef30c80f3681c13f84c573f5cd52"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "a18e3f3b9f94cfccb7041e747b413b55eb76b58e", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "patch": "@@ -1,4 +1,4 @@\n-ea7ac7784791dca517b6681a02c39c11bf136755\n+267686fd1dffbc03e610e9f17dadb4e72c75f18d\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "c89785c22374ca8cff508d8ca6e9769449bd5648", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "patch": "@@ -7604,7 +7604,7 @@ Named_object::get_backend(Gogo* gogo, std::vector<Bexpression*>& const_decls,\n     case NAMED_OBJECT_TYPE:\n       {\n         Named_type* named_type = this->u_.type_value;\n-\tif (!Gogo::is_erroneous_name(this->name_))\n+\tif (!Gogo::is_erroneous_name(this->name_) && !named_type->is_alias())\n \t  type_decls.push_back(named_type->get_backend(gogo));\n \n         // We need to produce a type descriptor for every named"}, {"sha": "07819e23c8d0b4fbf49aebafafa814d3fe9569b0", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c81daeeb5456d3b588e2ad22b5ec098bea2d393/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=2c81daeeb5456d3b588e2ad22b5ec098bea2d393", "patch": "@@ -991,6 +991,11 @@ Type::get_backend(Gogo* gogo)\n   if (this->btype_ != NULL)\n     return this->btype_;\n \n+  if (this->named_type() != NULL && this->named_type()->is_alias()) {\n+    this->btype_ = this->unalias()->get_backend(gogo);\n+    return this->btype_;\n+  }\n+\n   if (this->forward_declaration_type() != NULL\n       || this->named_type() != NULL)\n     return this->get_btype_without_hash(gogo);"}]}