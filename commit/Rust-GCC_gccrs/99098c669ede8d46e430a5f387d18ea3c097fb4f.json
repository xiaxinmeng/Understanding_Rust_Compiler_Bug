{"sha": "99098c669ede8d46e430a5f387d18ea3c097fb4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTkwOThjNjY5ZWRlOGQ0NmU0MzBhNWYzODdkMThlYTNjMDk3ZmI0Zg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-10-04T01:46:46Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-10-04T01:46:46Z"}, "message": "(expr_size): If the size contains a PLACEHOLDER_EXPR, surround it with\na WITH_RECORD_EXPR.\n\nFrom-SVN: r5582", "tree": {"sha": "d1cff8b9d9b8dd6deba04ca9054557b585614f4a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1cff8b9d9b8dd6deba04ca9054557b585614f4a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99098c669ede8d46e430a5f387d18ea3c097fb4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99098c669ede8d46e430a5f387d18ea3c097fb4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99098c669ede8d46e430a5f387d18ea3c097fb4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99098c669ede8d46e430a5f387d18ea3c097fb4f/comments", "author": null, "committer": null, "parents": [{"sha": "dec20b4baeb52647657acc42a34a8c6bdcfaee35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec20b4baeb52647657acc42a34a8c6bdcfaee35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dec20b4baeb52647657acc42a34a8c6bdcfaee35"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "86726c9dc90d2a2139780924aa2be9d8b0282b51", "filename": "gcc/explow.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99098c669ede8d46e430a5f387d18ea3c097fb4f/gcc%2Fexplow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99098c669ede8d46e430a5f387d18ea3c097fb4f/gcc%2Fexplow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexplow.c?ref=99098c669ede8d46e430a5f387d18ea3c097fb4f", "patch": "@@ -242,8 +242,13 @@ rtx\n expr_size (exp)\n      tree exp;\n {\n-  return expand_expr (size_in_bytes (TREE_TYPE (exp)),\n-\t\t      NULL_RTX, TYPE_MODE (sizetype), 0);\n+  tree size = size_in_bytes (TREE_TYPE (exp));\n+\n+  if (TREE_CODE (size) != INTEGER_CST\n+      && contains_placeholder_p (size))\n+    size = build (WITH_RECORD_EXPR, sizetype, size, exp);\n+\n+  return expand_expr (size, NULL_RTX, TYPE_MODE (sizetype), 0);\n }\n \f\n /* Return a copy of X in which all memory references"}]}