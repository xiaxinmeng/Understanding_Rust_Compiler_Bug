{"sha": "06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZkZGQ4NzE2ZTRlMjMxYjAzNTZhM2M3OGYwZDU0ZjdmNzI4MmM1ZQ==", "commit": {"author": {"name": "Revital Eres", "email": "eres@il.ibm.com", "date": "2009-06-08T13:26:44Z"}, "committer": {"name": "Revital Eres", "email": "revitale@gcc.gnu.org", "date": "2009-06-08T13:26:44Z"}, "message": "re PR testsuite/40359 (Revision 148211 caused a lot of failures in the vect test suite.)\n\nPR40359\n\nFrom-SVN: r148275", "tree": {"sha": "3605b1c1406252d7f30579f07ca391a332d861fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3605b1c1406252d7f30579f07ca391a332d861fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/comments", "author": {"login": "revit13", "id": 16211463, "node_id": "MDQ6VXNlcjE2MjExNDYz", "avatar_url": "https://avatars.githubusercontent.com/u/16211463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/revit13", "html_url": "https://github.com/revit13", "followers_url": "https://api.github.com/users/revit13/followers", "following_url": "https://api.github.com/users/revit13/following{/other_user}", "gists_url": "https://api.github.com/users/revit13/gists{/gist_id}", "starred_url": "https://api.github.com/users/revit13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/revit13/subscriptions", "organizations_url": "https://api.github.com/users/revit13/orgs", "repos_url": "https://api.github.com/users/revit13/repos", "events_url": "https://api.github.com/users/revit13/events{/privacy}", "received_events_url": "https://api.github.com/users/revit13/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "eb7adebcd89456d3e7a08422b5ea69a4977cac0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb7adebcd89456d3e7a08422b5ea69a4977cac0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb7adebcd89456d3e7a08422b5ea69a4977cac0a"}], "stats": {"total": 35, "additions": 24, "deletions": 11}, "files": [{"sha": "eec29c75a26d621db4a4b11e939149440e2115f5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "patch": "@@ -1,3 +1,12 @@\n+2009-06-08  Revital Eres  <eres@il.ibm.com>\n+\n+\tPR40359\n+\t* gcc.dg/vect/vect-58.c: Change checks to use vect_hw_misalign.\n+\t* gcc.dg/vect/vect-88.c: Likewise.\n+\t* gcc.dg/vect/no-section-anchors-vect-66.c: Likewise.\n+\t* gcc.dg/vect/pr25413.c: Likewise.\n+\t* lib/target-supports.exp: Add i?86 to vect_hw_misalign.\n+\n 2009-06-07  Ian Lance Taylor  <iant@google.com>\n \n \t* g++.dg/warn/Wswitch-3.C: New testcase."}, {"sha": "78419fae851df6f792719e77a8e9c921d4a8386e", "filename": "gcc/testsuite/gcc.dg/vect/no-section-anchors-vect-66.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fno-section-anchors-vect-66.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fno-section-anchors-vect-66.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fno-section-anchors-vect-66.c?ref=06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "patch": "@@ -78,6 +78,7 @@ int main (void)\n }\n \n /* { dg-final { scan-tree-dump-times \"vectorized 3 loops\" 1 \"vect\" } } */\n-/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 0 \"vect\" } } */\n-/* { dg-final { scan-tree-dump-times \"Alignment of access forced using peeling\" 1 \"vect\" } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 0 \"vect\" { xfail vect_hw_misalign } } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 1 \"vect\" { target vect_hw_misalign } } } */\n+/* { dg-final { scan-tree-dump-times \"Alignment of access forced using peeling\" 1 \"vect\" { xfail vect_hw_misalign } } } */\n /* { dg-final { cleanup-tree-dump \"vect\" } } */"}, {"sha": "e483732680f7f684a6ac826c588515554d953a60", "filename": "gcc/testsuite/gcc.dg/vect/pr25413.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr25413.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr25413.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr25413.c?ref=06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "patch": "@@ -33,7 +33,7 @@ int main (void)\n } \n \n /* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 1 \"vect\" { target vector_alignment_reachable_for_64bit } } } */\n-/* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 0 \"vect\" { target { ! vector_alignment_reachable_for_64bit } } } } */\n-/* { dg-final { scan-tree-dump-times \"vector alignment may not be reachable\" 1 \"vect\" { target { ! vector_alignment_reachable_for_64bit } } } } */\n-/* { dg-final { scan-tree-dump-times \"not vectorized: unsupported unaligned store\" 1 \"vect\" { target { ! vector_alignment_reachable_for_64bit } } } } */\n+/* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 0 \"vect\" { target { {! vector_alignment_reachable_for_64bit} && {! vect_hw_misalign} } } } } */\n+/* { dg-final { scan-tree-dump-times \"vector alignment may not be reachable\" 1 \"vect\" { target { {! vector_alignment_reachable_for_64bit} && {! vect_hw_misalign} } } } } */\n+/* { dg-final { scan-tree-dump-times \"not vectorized: unsupported unaligned store\" 1 \"vect\" { target { {! vector_alignment_reachable_for_64bit} && {! vect_hw_misalign} } } } } */\n /* { dg-final { cleanup-tree-dump \"vect\" } } */"}, {"sha": "5ceb15627fcc19e1d4d90d9b3a24a2bb5b694c8b", "filename": "gcc/testsuite/gcc.dg/vect/vect-58.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-58.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-58.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-58.c?ref=06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "patch": "@@ -58,6 +58,7 @@ int main (void)\n }\n \n /* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 1 \"vect\" } } */\n-/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 0 \"vect\" } } */\n-/* { dg-final { scan-tree-dump-times \"Alignment of access forced using peeling\" 1 \"vect\" } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 3 \"vect\" { target vect_hw_misalign } } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 0 \"vect\" { xfail vect_hw_misalign } } } */\n+/* { dg-final { scan-tree-dump-times \"Alignment of access forced using peeling\" 1 \"vect\" { xfail vect_hw_misalign } } } */\n /* { dg-final { cleanup-tree-dump \"vect\" } } */"}, {"sha": "3dc5588e92dd5facbba29e08467acf3d4e2d06b8", "filename": "gcc/testsuite/gcc.dg/vect/vect-88.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-88.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-88.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-88.c?ref=06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "patch": "@@ -50,7 +50,8 @@ int main (void)\n \n /* Fails for targets that don't vectorize PLUS (e.g alpha).  */\n /* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 1 \"vect\" } } */\n-/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 0 \"vect\" } } */\n-/* { dg-final { scan-tree-dump-times \"Alignment of access forced using peeling\" 1 \"vect\" {target vector_alignment_reachable } } } */\n-/* { dg-final { scan-tree-dump-times \"Alignment of access forced using versioning\" 1 \"vect\" {target {! vector_alignment_reachable} } } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 1 \"vect\" { target vect_hw_misalign } } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 0 \"vect\" { xfail vect_hw_misalign } } } */\n+/* { dg-final { scan-tree-dump-times \"Alignment of access forced using peeling\" 1 \"vect\" {target { vector_alignment_reachable && {! vect_hw_misalign} } } } } */\n+/* { dg-final { scan-tree-dump-times \"Alignment of access forced using versioning\" 1 \"vect\" {target { {! vector_alignment_reachable} && {! vect_hw_misalign} } } } } */\n /* { dg-final { cleanup-tree-dump \"vect\" } } */"}, {"sha": "e2da9b0b73d8e4a8b9e92c432184476c7e3038a8", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06ddd8716e4e231b0356a3c78f0d54f7f7282c5e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=06ddd8716e4e231b0356a3c78f0d54f7f7282c5e", "patch": "@@ -2231,7 +2231,8 @@ proc check_effective_target_vect_hw_misalign { } {\n         verbose \"check_effective_target_vect_hw_misalign: using cached result\" 2\n     } else {\n         set et_vect_hw_misalign_saved 0\n-       if { [istarget x86_64-*-*] } {\n+       if { ([istarget x86_64-*-*] \n+            || [istarget i?86-*-*]) } {\n           set et_vect_hw_misalign_saved 1\n        }\n     }"}]}