{"sha": "9c213349ffed7416934795eb4e2e910c0f9228f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWMyMTMzNDlmZmVkNzQxNjkzNDc5NWViNGUyZTkxMGMwZjkyMjhmMA==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2006-11-14T15:35:36Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2006-11-14T15:35:36Z"}, "message": "re PR fortran/29657 (Don't allow SAVE for functions)\n\nfortran/\n2006-11-14  Tobias Burnus  <burnus@net-b.de>\n\n\tPR fortran/29657\n\t* symbol.c (check_conflict): Add further conflicts.\n\ntestsuite/\n2006-11-14  Tobias Burnus  <burnus@net-b.de>\n\n\tPR fortran/29657\n\t* gfortran.dg/conflicts.f90: Add.\n\nFrom-SVN: r118812", "tree": {"sha": "bc89f3bb9f522be7411c82c18c7feb624bc25323", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc89f3bb9f522be7411c82c18c7feb624bc25323"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c213349ffed7416934795eb4e2e910c0f9228f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c213349ffed7416934795eb4e2e910c0f9228f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c213349ffed7416934795eb4e2e910c0f9228f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c213349ffed7416934795eb4e2e910c0f9228f0/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "995a56972736cae67dc483021ac543d7e45f8bff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/995a56972736cae67dc483021ac543d7e45f8bff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/995a56972736cae67dc483021ac543d7e45f8bff"}], "stats": {"total": 67, "additions": 66, "deletions": 1}, "files": [{"sha": "e3e1351f41f37d24d1c88d9ef27cac3278c85c2c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=9c213349ffed7416934795eb4e2e910c0f9228f0", "patch": "@@ -1,3 +1,8 @@\n+2006-11-14  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/29657\n+\t* symbol.c (check_conflict): Add further conflicts.\n+\n 2006-11-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/29759"}, {"sha": "6a5598de5c26d39bde0c7298b179f809c6fdb614", "filename": "gcc/fortran/symbol.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ffortran%2Fsymbol.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ffortran%2Fsymbol.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsymbol.c?ref=9c213349ffed7416934795eb4e2e910c0f9228f0", "patch": "@@ -318,6 +318,8 @@ check_conflict (symbol_attribute * attr, const char * name, locus * where)\n \t}\n     }\n \n+  conf (dummy, entry);\n+  conf (dummy, intrinsic);\n   conf (dummy, save);\n   conf (dummy, threadprivate);\n   conf (pointer, target);\n@@ -427,6 +429,7 @@ check_conflict (symbol_attribute * attr, const char * name, locus * where)\n     case FL_BLOCK_DATA:\n     case FL_MODULE:\n     case FL_LABEL:\n+      conf2 (dimension);\n       conf2 (dummy);\n       conf2 (save);\n       conf2 (pointer);\n@@ -448,15 +451,16 @@ check_conflict (symbol_attribute * attr, const char * name, locus * where)\n \n     case FL_PROCEDURE:\n       conf2 (intent);\n+      conf2(save);\n \n       if (attr->subroutine)\n \t{\n-\t  conf2(save);\n \t  conf2(pointer);\n \t  conf2(target);\n \t  conf2(allocatable);\n \t  conf2(result);\n \t  conf2(in_namelist);\n+\t  conf2(dimension);\n \t  conf2(function);\n \t  conf2(threadprivate);\n \t}"}, {"sha": "3a207cbc8ddb6093cdc1ab470cb02ec9af65edf6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9c213349ffed7416934795eb4e2e910c0f9228f0", "patch": "@@ -1,3 +1,8 @@\n+2006-11-14  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/29657\n+\t* gfortran.dg/conflicts.f90: Add.\n+\n 2006-11-14  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR rtl-optimization/29798"}, {"sha": "b1b59f4ac4c000f582c094fcbe3675e946fad2dd", "filename": "gcc/testsuite/gfortran.dg/conflicts.f90", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ftestsuite%2Fgfortran.dg%2Fconflicts.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c213349ffed7416934795eb4e2e910c0f9228f0/gcc%2Ftestsuite%2Fgfortran.dg%2Fconflicts.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fconflicts.f90?ref=9c213349ffed7416934795eb4e2e910c0f9228f0", "patch": "@@ -0,0 +1,51 @@\n+! { dg-do compile }\n+! Check for conflicts\n+! PR fortran/29657\n+\n+function f1() ! { dg-error \"has no IMPLICIT type\" }\n+  implicit none\n+  real, save :: f1 ! { dg-error \"PROCEDURE attribute conflicts with SAVE attribute\" }\n+  f1 = 1.0\n+end function f1\n+\n+function f2()\n+  implicit none\n+  real :: f2\n+  save f2 ! { dg-error \"PROCEDURE attribute conflicts with SAVE attribute\" }\n+  f2 = 1.0\n+end function f2\n+\n+subroutine f3()\n+  implicit none\n+  dimension f3(3) ! { dg-error \"PROCEDURE attribute conflicts with DIMENSION attribute\" }\n+end subroutine f3\n+\n+subroutine f4(b)\n+  implicit none\n+  real :: b\n+  entry b ! { dg-error \"DUMMY attribute conflicts with ENTRY attribute\" }\n+end subroutine f4\n+\n+function f5(a)\n+  implicit none\n+  real :: a,f5\n+  entry a ! { dg-error \"DUMMY attribute conflicts with ENTRY attribute\" }\n+  f5 = 3.4\n+end function f5\n+\n+subroutine f6(cos)\n+  implicit none\n+  real :: cos\n+  intrinsic cos ! { dg-error \"DUMMY attribute conflicts with INTRINSIC attribute\" }\n+end subroutine f6\n+\n+subroutine f7(sin)\n+  implicit none\n+  real :: sin\n+  external sin\n+end subroutine f7\n+\n+program test\n+  implicit none\n+  dimension test(3) ! { dg-error \"PROGRAM attribute conflicts with DIMENSION attribute\" }\n+end program test"}]}