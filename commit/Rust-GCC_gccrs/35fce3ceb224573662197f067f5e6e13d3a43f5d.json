{"sha": "35fce3ceb224573662197f067f5e6e13d3a43f5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzVmY2UzY2ViMjI0NTczNjYyMTk3ZjA2N2Y1ZTZlMTNkM2E0M2Y1ZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-08-03T09:58:34Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-08-03T09:58:34Z"}, "message": "decl2.c (grokfield): Don't mangle the name of a TYPE_DECL is it uses template parameters.\n\n\t* decl2.c (grokfield): Don't mangle the name of a TYPE_DECL is it\n\tuses template parameters.\n\nFrom-SVN: r21548", "tree": {"sha": "cd31b75d184aa09170b39792596647cce6f8967a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd31b75d184aa09170b39792596647cce6f8967a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/35fce3ceb224573662197f067f5e6e13d3a43f5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35fce3ceb224573662197f067f5e6e13d3a43f5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35fce3ceb224573662197f067f5e6e13d3a43f5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35fce3ceb224573662197f067f5e6e13d3a43f5d/comments", "author": null, "committer": null, "parents": [{"sha": "9471ad135d4e2238fb57b462d920feaa5272da58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9471ad135d4e2238fb57b462d920feaa5272da58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9471ad135d4e2238fb57b462d920feaa5272da58"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "998b34631976265d6ce5d4485f2547749780d566", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35fce3ceb224573662197f067f5e6e13d3a43f5d/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35fce3ceb224573662197f067f5e6e13d3a43f5d/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=35fce3ceb224573662197f067f5e6e13d3a43f5d", "patch": "@@ -1642,8 +1642,9 @@ grokfield (declarator, declspecs, init, asmspec_tree, attrlist)\n       /* Now that we've updated the context, we need to remangle the\n \t name for this TYPE_DECL.  */\n       DECL_ASSEMBLER_NAME (value) = DECL_NAME (value);\n-      DECL_ASSEMBLER_NAME (value) =\n-\tget_identifier (build_overload_name (TREE_TYPE (value), 1, 1));\n+      if (!uses_template_parms (value))\n+\tDECL_ASSEMBLER_NAME (value) =\n+\t  get_identifier (build_overload_name (TREE_TYPE (value), 1, 1));\n \n       pushdecl_class_level (value);\n       return value;"}, {"sha": "c4dd969d1e718aaf913d0459eddb19fa4de6c723", "filename": "gcc/testsuite/g++.old-deja/g++.pt/crash17.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35fce3ceb224573662197f067f5e6e13d3a43f5d/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash17.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35fce3ceb224573662197f067f5e6e13d3a43f5d/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash17.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash17.C?ref=35fce3ceb224573662197f067f5e6e13d3a43f5d", "patch": "@@ -0,0 +1,10 @@\n+// Build don't link:\n+\n+template <int B>\n+class foo;\n+\n+template <class U>\n+class bar\n+{\n+  typedef foo<(U::id > 0)> foobar;\n+};"}]}