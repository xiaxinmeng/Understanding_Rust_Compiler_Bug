{"sha": "73b73053ff8f411935a1d8688c6238dcf23c7394", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNiNzMwNTNmZjhmNDExOTM1YTFkODY4OGM2MjM4ZGNmMjNjNzM5NA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-05-26T21:01:15Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-05-26T21:01:15Z"}, "message": "Fix bogus recursive <stdlib.h> in NEWS-OS 4.0C.\n\nFrom-SVN: r9825", "tree": {"sha": "ed7ab2e3ebadb74275f91df4058f7033baed7d4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed7ab2e3ebadb74275f91df4058f7033baed7d4e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73b73053ff8f411935a1d8688c6238dcf23c7394", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73b73053ff8f411935a1d8688c6238dcf23c7394", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73b73053ff8f411935a1d8688c6238dcf23c7394", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73b73053ff8f411935a1d8688c6238dcf23c7394/comments", "author": null, "committer": null, "parents": [{"sha": "977e6fb533b6cee48bd69a8b5cd066c2b7b198a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/977e6fb533b6cee48bd69a8b5cd066c2b7b198a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/977e6fb533b6cee48bd69a8b5cd066c2b7b198a7"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "e4d6f0c32a148686089bf8d73f9b7bd314df2f2e", "filename": "gcc/fixincludes", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73b73053ff8f411935a1d8688c6238dcf23c7394/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73b73053ff8f411935a1d8688c6238dcf23c7394/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=73b73053ff8f411935a1d8688c6238dcf23c7394", "patch": "@@ -1587,6 +1587,35 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# fix bogus recursive stdlib.h in NEWS-OS 4.0C\n+file=stdlib.h\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+  chmod +w ${LIB}/$file 2>/dev/null\n+  chmod a+r ${LIB}/$file 2>/dev/null\n+fi\n+\n+if [ -r ${LIB}/$file ]; then\n+  echo Fixing $file, recursive inclusion\n+  sed -e '/^#include <stdlib.h>/i\\\n+#if 0\n+' \\\n+      -e '/^#include <stdlib.h>/a\\\n+#endif\n+' \\\n+    ${LIB}/$file > ${LIB}/${file}.sed\n+  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm -f ${LIB}/$file\n+  else\n+    # Find any include directives that use \"file\".\n+    for include in `egrep '^[       ]*#[    ]*include[      ]*\"[^/]' ${LIB}/$file | sed -e 's/^[    ]*#[    ]*include[      ]*\"\\([^\"]*\\)\".*$/\\1/'`; do\n+      dir=`echo $file | sed -e s'|/[^/]*$||'`\n+      required=\"$required ${INPUT} $dir/$include ${LIB}/$dir/$include\"\n+    done\n+  fi\n+fi\n+\n # Avoid nested comments on Ultrix 4.3.\n file=rpc/svc.h\n if [ -r $file ] && [ ! -r ${LIB}/$file ]; then"}]}