{"sha": "77cb940117db0b1873ccb4587b74499a0c1c4b73", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdjYjk0MDExN2RiMGIxODczY2NiNDU4N2I3NDQ5OWEwYzFjNGI3Mw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-12-11T21:06:18Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-12-11T21:06:18Z"}, "message": "linux-unwind.h (MD_FROB_UPDATE_CONTEXT, 64-bit): Define.\n\n\t* config/sparc/linux-unwind.h (MD_FROB_UPDATE_CONTEXT, 64-bit): Define.\n\t(sparc64_frob_update_context): New function.\n\nFrom-SVN: r155178", "tree": {"sha": "fbf7e8679a8901f29a2f9348e16b57791b02cbf8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbf7e8679a8901f29a2f9348e16b57791b02cbf8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77cb940117db0b1873ccb4587b74499a0c1c4b73", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77cb940117db0b1873ccb4587b74499a0c1c4b73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77cb940117db0b1873ccb4587b74499a0c1c4b73", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77cb940117db0b1873ccb4587b74499a0c1c4b73/comments", "author": null, "committer": null, "parents": [{"sha": "d4684c007a26cbfe71548b1173dd642b8daab1c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4684c007a26cbfe71548b1173dd642b8daab1c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4684c007a26cbfe71548b1173dd642b8daab1c2"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "b8bc619c8ec84ebeb934cf7f08609b8c87dc1aaa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77cb940117db0b1873ccb4587b74499a0c1c4b73/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77cb940117db0b1873ccb4587b74499a0c1c4b73/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77cb940117db0b1873ccb4587b74499a0c1c4b73", "patch": "@@ -1,3 +1,8 @@\n+2009-12-11  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* config/sparc/linux-unwind.h (MD_FROB_UPDATE_CONTEXT, 64-bit): Define.\n+\t(sparc64_frob_update_context): New function.\n+\n 2009-12-11  Richard Guenther  <rguenther@suse.de>\n \n \tPR lto/41658"}, {"sha": "adfef6ec29d0275390cdc4255dfaede8a1670325", "filename": "gcc/config/sparc/linux-unwind.h", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77cb940117db0b1873ccb4587b74499a0c1c4b73/gcc%2Fconfig%2Fsparc%2Flinux-unwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77cb940117db0b1873ccb4587b74499a0c1c4b73/gcc%2Fconfig%2Fsparc%2Flinux-unwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux-unwind.h?ref=77cb940117db0b1873ccb4587b74499a0c1c4b73", "patch": "@@ -98,6 +98,23 @@ sparc64_fallback_frame_state (struct _Unwind_Context *context,\n   return _URC_NO_REASON;\n }\n \n+#define MD_FROB_UPDATE_CONTEXT sparc64_frob_update_context\n+\n+static void\n+sparc64_frob_update_context (struct _Unwind_Context *context,\n+\t\t\t     _Unwind_FrameState *fs)\n+{\n+  /* The column of %sp contains the old CFA, not the old value of %sp.\n+     The CFA offset already comprises the stack bias so, when %sp is the\n+     CFA register, we must avoid counting the stack bias twice.  Do not\n+     do that for signal frames as the offset is artificial for them.  */\n+  if (fs->regs.cfa_reg == __builtin_dwarf_sp_column ()\n+      && fs->regs.cfa_how == CFA_REG_OFFSET\n+      && fs->regs.cfa_offset != 0\n+      && !fs->signal_frame)\n+    context->cfa -= 2047;\n+}\n+\n #else\n \n /* 32-bit SPARC version */"}]}