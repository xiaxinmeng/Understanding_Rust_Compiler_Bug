{"sha": "cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2M4Yzc0OTVkNGJiZmI5ZDBjOGYxYjZiYjFhMGIxMGU1MmNiNDVjOA==", "commit": {"author": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-01-15T01:46:11Z"}, "committer": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-01-15T01:46:11Z"}, "message": "re PR c++/8856 (g++ accepts invalid conversion-function-id)\n\n\tPR c++/8856\n\t* g++.dg/parse/casting-operator2.C: New test.\n\t* g++.old-deja/g++.pt/explicit83.C: Remove.\n\nFrom-SVN: r75898", "tree": {"sha": "22af60ab4a7c6bd599d9d06f3b084f77f5d3d82a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22af60ab4a7c6bd599d9d06f3b084f77f5d3d82a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8/comments", "author": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0d9564747f44c5d650c3dad74097c063f9a12ad3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d9564747f44c5d650c3dad74097c063f9a12ad3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d9564747f44c5d650c3dad74097c063f9a12ad3"}], "stats": {"total": 68, "additions": 33, "deletions": 35}, "files": [{"sha": "ef55a94a957f141492267c3533a42eb2591065ee", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8", "patch": "@@ -1,3 +1,9 @@\n+2004-01-15  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n+\n+\tPR c++/8856\n+\t* g++.dg/parse/casting-operator2.C: New test.\n+\t* g++.old-deja/g++.pt/explicit83.C: Remove.\n+\n 2004-01-14  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \t* gcc.dg/label-compound-stmt-1.c: New test."}, {"sha": "31f14b361065db35fc6f1baaa72ce2de2681e97b", "filename": "gcc/testsuite/g++.dg/parse/casting-operator2.C", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcasting-operator2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcasting-operator2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcasting-operator2.C?ref=cc8c7495d4bbfb9d0c8f1b6bb1a0b10e52cb45c8", "patch": "@@ -0,0 +1,27 @@\n+// { dg-do compile }\r\n+// Contributed by Martin Loewis <loewis at informatik dot hu-berlin dot de>\r\n+// PR c++/8856: Make sure template conversion operators are not parsed as\r\n+//   template names.\r\n+\r\n+struct K {};\r\n+template <bool> struct K2 {};\r\n+\r\n+template <class T> struct A {\r\n+  template <class U> operator U() { return U(); }\r\n+};\r\n+\r\n+int main() {\r\n+  A<double> a;\r\n+\r\n+  (void)a.operator int();\r\n+  (void)a.operator double();\r\n+  (void)a.operator K2<true>();\r\n+  (void)a.A<double>::operator int();\r\n+  (void)a.A<double>::operator double();\r\n+  (void)a.A<double>::operator K2<true>();\r\n+\r\n+  (void)a.operator double<int>();             // { dg-error \"not a template\" }\r\n+  (void)a.operator K<int>();                  // { dg-error \"not a template\" }\r\n+  (void)a.A<double>::operator double<int>();  // { dg-error \"not a template\" }\r\n+  (void)a.A<double>::operator K<int>();       // { dg-error \"not a template\" }\r\n+}\r"}, {"sha": "9aa44f597efa98dbd36e3bb4d896f74a0d86530c", "filename": "gcc/testsuite/g++.old-deja/g++.pt/explicit83.C", "status": "removed", "additions": 0, "deletions": 35, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d9564747f44c5d650c3dad74097c063f9a12ad3/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fexplicit83.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d9564747f44c5d650c3dad74097c063f9a12ad3/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fexplicit83.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fexplicit83.C?ref=0d9564747f44c5d650c3dad74097c063f9a12ad3", "patch": "@@ -1,35 +0,0 @@\n-// { dg-do assemble  }\n-// Copyright (C) 2000 Free Software Foundation, Inc.\n-// Contributed by Nathan Sidwell 7 Sep 2000 <nathan@codesourcery.com>\n-\n-// Bug 512. Conversion operator functions in template_id's were always\n-// being looked up in global scope.\n-\n-class C\n-{\n-public:\n-\n-  template <typename T>\n-  void f () {}\n-\n-  template<typename T>\n-  operator int ()\n-  { return 0;\n-  }\n-};\n-\n-template void C::f <int>();\n-\n-template C::operator int<float> ();\n-\n-template C::operator int<double> ();\n-\n-typedef int (C::* ptrmem_t) ();\n-\n-template<ptrmem_t U, ptrmem_t V>\n-void foo ()\n-{\n-}\n-\n-template void \n-foo<&C::operator int<float>, &C::operator int<double> > ();"}]}