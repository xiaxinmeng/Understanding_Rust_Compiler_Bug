{"sha": "cf282d0a4a9174888fd9add60d26acfac1601a0e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2YyODJkMGE0YTkxNzQ4ODhmZDlhZGQ2MGQyNmFjZmFjMTYwMWEwZQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2006-04-11T05:52:45Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2006-04-11T05:52:45Z"}, "message": "tree-ssa-copy.c (may_propagate_copy): Test flow sensitive alias information too.\n\n        PR/27087\n        * tree-ssa-copy.c (may_propagate_copy): Test flow sensitive\n        alias information too.\n\n        * gcc.c-torture/compile/pr27087.c: New test.\n\nFrom-SVN: r112849", "tree": {"sha": "8f3fb1be74c0d398df2d5f881cf972cd746e2d0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f3fb1be74c0d398df2d5f881cf972cd746e2d0b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf282d0a4a9174888fd9add60d26acfac1601a0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf282d0a4a9174888fd9add60d26acfac1601a0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf282d0a4a9174888fd9add60d26acfac1601a0e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf282d0a4a9174888fd9add60d26acfac1601a0e/comments", "author": null, "committer": null, "parents": [{"sha": "b3b2cbc4fad08189660fe2aba344227b653891bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3b2cbc4fad08189660fe2aba344227b653891bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3b2cbc4fad08189660fe2aba344227b653891bb"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "0588113f0481bc3a69eed445edf1cb1913ef39ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cf282d0a4a9174888fd9add60d26acfac1601a0e", "patch": "@@ -1,3 +1,9 @@\n+2006-04-03  Jeff Law  <law@redhat.com>\n+\n+\tPR/27087\n+\t* tree-ssa-copy.c (may_propagate_copy): Test flow sensitive\n+\talias information too.\n+\n 2006-04-10  Mike Frysinger  <vapier@gentoo.org>\n \n \t* gcc/Makefile.in (gcc-cross): Add $(exeext) to target name."}, {"sha": "f71c86bc6c2ac516cb4cf6bc61f2e0d91498fd82", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cf282d0a4a9174888fd9add60d26acfac1601a0e", "patch": "@@ -1,3 +1,8 @@\n+2006-04-10  Jeff Law  <law@redhat.com>\n+\n+\tPR/27087\n+\t* gcc.c-torture/compile/pr27087.c: New test.\n+\n 2006-04-10  Aldy Hernandez  <aldyh@redhat.com>\n \n \tPR/21391"}, {"sha": "3add13bcbeb36d7e8d761ccb44a41c1ff8891ba3", "filename": "gcc/testsuite/gcc.c-torture/compile/pr27087.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr27087.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr27087.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr27087.c?ref=cf282d0a4a9174888fd9add60d26acfac1601a0e", "patch": "@@ -0,0 +1,23 @@\n+extern int ptbl[4];\n+extern int ctbl[4];\n+\n+void doViews(void) {\n+    int  *c = ctbl, *p = ptbl;\n+    while (1)\n+  {\n+        p++;\n+        c++;\n+        if (*p)\n+        {\n+            if (c == p)\n+            {\n+                if (*c)\n+                    return;\n+            }\n+            else\n+              return;\n+        }\n+    }\n+\n+    g();\n+}"}, {"sha": "f1b67b5bf2aa12512b1015713f8f24bb0e87c6fd", "filename": "gcc/tree-ssa-copy.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2Ftree-ssa-copy.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf282d0a4a9174888fd9add60d26acfac1601a0e/gcc%2Ftree-ssa-copy.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-copy.c?ref=cf282d0a4a9174888fd9add60d26acfac1601a0e", "patch": "@@ -117,6 +117,21 @@ may_propagate_copy (tree dest, tree orig)\n       else if (get_alias_set (TREE_TYPE (type_d)) != \n \t       get_alias_set (TREE_TYPE (type_o)))\n \treturn false;\n+\n+      /* Also verify flow-sensitive information is compatible.  */\n+      if (SSA_NAME_PTR_INFO (orig) && SSA_NAME_PTR_INFO (dest))\n+\t{\n+\t  struct ptr_info_def *orig_ptr_info = SSA_NAME_PTR_INFO (orig);\n+\t  struct ptr_info_def *dest_ptr_info = SSA_NAME_PTR_INFO (dest);\n+\n+\t  if (orig_ptr_info->name_mem_tag\n+\t      && dest_ptr_info->name_mem_tag\n+\t      && orig_ptr_info->pt_vars\n+\t      && dest_ptr_info->pt_vars\n+\t      && !bitmap_intersect_p (dest_ptr_info->pt_vars,\n+\t\t\t\t      orig_ptr_info->pt_vars))\n+\t    return false;\n+\t}\n     }\n \n   /* If the destination is a SSA_NAME for a virtual operand, then we have"}]}