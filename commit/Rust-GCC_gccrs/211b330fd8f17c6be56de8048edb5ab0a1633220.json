{"sha": "211b330fd8f17c6be56de8048edb5ab0a1633220", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjExYjMzMGZkOGYxN2M2YmU1NmRlODA0OGVkYjVhYjBhMTYzMzIyMA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-08-09T19:37:23Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-08-09T19:37:23Z"}, "message": "(schedule_insns): Don't emit a NOTE at the end of the last basic block if...\n\n(schedule_insns): Don't emit a NOTE at the end of the last\nbasic block if that would put it between a JUMP_INSN and a BARRIER.\n\nFrom-SVN: r5121", "tree": {"sha": "c70cbdc01f8eabb3eda2a4c0ee930416052b278e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c70cbdc01f8eabb3eda2a4c0ee930416052b278e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/211b330fd8f17c6be56de8048edb5ab0a1633220", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/211b330fd8f17c6be56de8048edb5ab0a1633220", "html_url": "https://github.com/Rust-GCC/gccrs/commit/211b330fd8f17c6be56de8048edb5ab0a1633220", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/211b330fd8f17c6be56de8048edb5ab0a1633220/comments", "author": null, "committer": null, "parents": [{"sha": "256f27acc15d3048f82c0479b7df03f68d736cf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/256f27acc15d3048f82c0479b7df03f68d736cf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/256f27acc15d3048f82c0479b7df03f68d736cf1"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "48b13ff3c1c1ca4195f8ddb1bf16d3dc1f159fd0", "filename": "gcc/sched.c", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/211b330fd8f17c6be56de8048edb5ab0a1633220/gcc%2Fsched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/211b330fd8f17c6be56de8048edb5ab0a1633220/gcc%2Fsched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched.c?ref=211b330fd8f17c6be56de8048edb5ab0a1633220", "patch": "@@ -4497,9 +4497,17 @@ schedule_insns (dump_file)\n \n   /* Schedule each basic block, block by block.  */\n \n-  if (NEXT_INSN (basic_block_end[n_basic_blocks-1]) == 0\n-      || (GET_CODE (basic_block_end[n_basic_blocks-1]) != NOTE\n-\t  && GET_CODE (basic_block_end[n_basic_blocks-1]) != CODE_LABEL))\n+  /* ??? Add a NOTE after the last insn of the last basic block.  It is not\n+     known why this is done.  */\n+\n+  insn = basic_block_end[n_basic_blocks-1];\n+  if (NEXT_INSN (insn) == 0\n+      || (GET_CODE (insn) != NOTE\n+\t  && GET_CODE (insn) != CODE_LABEL\n+\t  /* Don't emit a NOTE if it would end up between an unconditional\n+\t     jump and a BARRIER.  */\n+\t  && ! (GET_CODE (insn) == JUMP_INSN\n+\t\t&& GET_CODE (NEXT_INSN (insn)) == BARRIER)))\n     emit_note_after (NOTE_INSN_DELETED, basic_block_end[n_basic_blocks-1]);\n \n   for (b = 0; b < n_basic_blocks; b++)"}]}