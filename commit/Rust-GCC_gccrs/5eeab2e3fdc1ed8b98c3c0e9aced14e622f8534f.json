{"sha": "5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWVlYWIyZTNmZGMxZWQ4Yjk4YzNjMGU5YWNlZDE0ZTYyMmY4NTM0Zg==", "commit": {"author": {"name": "Mark Kettenis", "email": "kettenis@gnu.org", "date": "2000-12-07T02:35:41Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-12-07T02:35:41Z"}, "message": "config.gcc: Reorganize handling of *-*-gnu*, to share target specific make details with Linux.\n\n\t* config.gcc: Reorganize handling of *-*-gnu*, to share target\n\tspecific make details with Linux.  Update comments to clarify\n        the distinction between GNU/Linux and GNU/Hurd.\n\nFrom-SVN: r38093", "tree": {"sha": "794b23335b89178edd020acc1d18850504cc5b83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/794b23335b89178edd020acc1d18850504cc5b83"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f/comments", "author": null, "committer": null, "parents": [{"sha": "f5720527d9d0a0e088740d84def4dae62718f424", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5720527d9d0a0e088740d84def4dae62718f424", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5720527d9d0a0e088740d84def4dae62718f424"}], "stats": {"total": 45, "additions": 24, "deletions": 21}, "files": [{"sha": "b765085bb8572398f5179153d707a707a075cf47", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f", "patch": "@@ -1,3 +1,9 @@\n+2000-12-06  Mark Kettenis  <kettenis@gnu.org>\n+\n+\t* config.gcc: Reorganize handling of *-*-gnu*, to share target\n+\tspecific make details with Linux.  Update comments to clarify\n+        the distinction between GNU/Linux and GNU/Hurd.\n+\n Wed Dec  6 19:22:02 2000  Jeffrey A Law  (law@cygnus.com)\n \n \t* contrib.texi: Fix my email address.  Update Per's\n@@ -823,9 +829,6 @@ Tue Dec  5 20:09:14 2000  Jeffrey A Law  (law@cygnus.com)\n \n 2000-11-30  Mark Kettenis  <kettenis@gnu.org>\n \n-\t* configure.in: Reorganize handling of *-*-gnu*, to share target\n-\tspecific make details with Linux.  Update comments to clarify\n-        the distinction between GNU/Linux and GNU/Hurd.\n \t* config/t-gnu (LIBGCC1, CROSS_LIBGCC1, CRTSTUFF_T_CFLAGS,\n \tTARGET_LIBGCC2_CFLAGS): Remove.  We now use the settings from\n \tconfig/t-linux for the Hurd."}, {"sha": "71be47c027441276333e60612798c782d3baa50c", "filename": "gcc/config.gcc", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=5eeab2e3fdc1ed8b98c3c0e9aced14e622f8534f", "patch": "@@ -255,11 +255,28 @@ case $machine in\n \t;;\n esac\t\n \n-# Common parts for linux and openbsd systems\n+# Common parts for GNU/Linux, GNU/Hurd and OpenBSD systems.\n case $machine in\n *-*-linux*)\n \txm_defines=\"HAVE_ATEXIT POSIX BSTRING\"\n \t;;\n+*-*-gnu*)\n+\t# On the Hurd, the setup is just about the same on\n+\t# each different CPU.  The specific machines that we\n+\t# support are matched above and just set $cpu_type.\n+\txm_file=\"xm-gnu.h ${xm_file}\"\n+\ttm_file=${cpu_type}/gnu.h\n+\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n+\t# GNU always uses ELF.\n+\telf=yes\n+\t# GNU tools are the only tools.\n+\tgnu_ld=yes\n+\tgas=yes\n+\t# These details are the same as for Linux.\n+\txmake_file=x-linux\n+\t# But here we need a little extra magic.\n+\ttmake_file=\"t-linux t-gnu\"\n+\t;;\n *-*-openbsd*)\n \ttm_file=${cpu_type}/openbsd.h\n \ttmake_file=\"t-libc-ok t-openbsd\"\n@@ -3231,23 +3248,6 @@ xscale-*-coff)\n esac\n \n case $machine in\n-*-*-linux*)\n-        ;; # Existing GNU/Linux systems do not use the GNU setup.\n-*-*-gnu*)\n-\t# On the GNU system, the setup is just about the same on\n-\t# each different CPU.  The specific machines that GNU\n-\t# supports are matched above and just set $cpu_type.\n-\txm_file=\"xm-gnu.h ${xm_file}\"\n-\ttm_file=${cpu_type}/gnu.h\n-\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n-\t# GNU always uses ELF.\n-\telf=yes\n-\t# GNU tools are the only tools.\n-\tgnu_ld=yes\n-\tgas=yes\n-\txmake_file=x-linux\t# These details are the same as Linux.\n-\ttmake_file=t-gnu\t# These are not.\n-\t;;\n *-*-sysv4*)\n \txmake_try_sysv=x-sysv\n \tinstall_headers_dir=install-headers-cpio"}]}