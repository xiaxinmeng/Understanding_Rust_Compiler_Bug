{"sha": "602c33696193828bec87f33a9bd2777b476f4dfb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjAyYzMzNjk2MTkzODI4YmVjODdmMzNhOWJkMjc3N2I0NzZmNGRmYg==", "commit": {"author": {"name": "Quentin Neill", "email": "quentin.neill@amd.com", "date": "2012-02-21T15:15:42Z"}, "committer": {"name": "Quentin Neill", "email": "qneill@gcc.gnu.org", "date": "2012-02-21T15:15:42Z"}, "message": "re PR target/52137 (bdver2 scheduler needs to be added to bdver1 insn reservations)\n\n2012-02-21  Quentin Neill  <quentin.neill@amd.com>\n\n\tPR target/52137\n\t* config/i386/bdver1.md (bdver1_call, bdver1_push,\n\tbdver1_pop, bdver1_leave, bdver1_lea, bdver1_imul_DI, bdver1_imul,\n\tbdver1_imul_mem_DI, bdver1_imul_mem, bdver1_idiv, bdver1_idiv_mem,\n\tbdver1_str, bdver1_idirect, bdver1_ivector, bdver1_idirect_loadmov,\n\tbdver1_idirect_load, bdver1_ivector_load, bdver1_idirect_movstore,\n\tbdver1_idirect_both, bdver1_ivector_both, bdver1_idirect_store,\n\tbdver1_ivector_store, bdver1_fldxf, bdver1_fld, bdver1_fstxf,\n\tbdver1_fst, bdver1_fist, bdver1_fmov_bdver1, bdver1_fadd_load,\n\tbdver1_fadd, bdver1_fmul_load, bdver1_fmul, bdver1_fsgn,\n\tbdver1_fdiv_load, bdver1_fdiv, bdver1_fpspc_load, bdver1_fpspc,\n\tbdver1_fcmov_load, bdver1_fcmov, bdver1_fcomi_load,\n\tbdver1_fcomi, bdver1_fcom_load, bdver1_fcom,\n\tbdver1_fxch, bdver1_ssevector_avx128_unaligned_load,\n\tbdver1_ssevector_avx256_unaligned_load,\n\tbdver1_ssevector_sse128_unaligned_load,\n\tbdver1_ssevector_avx128_load, bdver1_ssevector_avx256_load,\n\tbdver1_ssevector_sse128_load, bdver1_ssescalar_movq_load,\n\tbdver1_ssescalar_vmovss_load, bdver1_ssescalar_sse128_load,\n\tbdver1_mmxsse_load, bdver1_sse_store_avx256, bdver1_sse_store,\n\tbdver1_mmxsse_store_short, bdver1_ssevector_avx256,\n\tbdver1_movss_movsd, bdver1_mmxssemov, bdver1_sselog_load_256,\n\tbdver1_sselog_256, bdver1_sselog_load, bdver1_sselog,\n\tbdver1_ssecmp_load, bdver1_ssecmp, bdver1_ssecomi_load,\n\tbdver1_ssecomi, bdver1_vcvtX2Y_avx256_load, bdver1_vcvtX2Y_avx256,\n\tbdver1_ssecvt_cvtss2sd_load, bdver1_ssecvt_cvtss2sd,\n\tbdver1_sseicvt_cvtsi2sd_load, bdver1_sseicvt_cvtsi2sd,\n\tbdver1_ssecvt_cvtpd2ps_load, bdver1_ssecvt_cvtpd2ps,\n\tbdver1_ssecvt_cvtdq2ps_load, bdver1_ssecvt_cvtdq2ps,\n\tbdver1_ssecvt_cvtdq2pd_load, bdver1_ssecvt_cvtdq2pd,\n\tbdver1_ssecvt_cvtps2pd_load, bdver1_ssecvt_cvtps2pd,\n\tbdver1_ssecvt_cvtsX2si_load, bdver1_ssecvt_cvtsX2si,\n\tbdver1_ssecvt_cvtpd2pi_load, bdver1_ssecvt_cvtpd2pi,\n\tbdver1_ssecvt_cvtpd2dq_load, bdver1_ssecvt_cvtpd2dq,\n\tbdver1_ssecvt_cvtps2pi_load, bdver1_ssecvt_cvtps2pi,\n\tbdver1_ssemuladd_load_256, bdver1_ssemuladd_256,\n\tbdver1_ssemuladd_load, bdver1_ssemuladd, bdver1_sseimul_load,\n\tbdver1_sseimul, bdver1_sseiadd_load, bdver1_sseiadd,\n\tbdver1_ssediv_double_load_256, bdver1_ssediv_double_256,\n\tbdver1_ssediv_single_load_256, bdver1_ssediv_single_256,\n\tbdver1_ssediv_double_load, bdver1_ssediv_double,\n\tbdver1_ssediv_single_load, bdver1_ssediv_single, bdver1_sseins):\n\tAdd \"bdver2\" attribute.\n\nFrom-SVN: r184440", "tree": {"sha": "7bae089eb90b1f376ac1c599a2e2e6308f4fe85e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bae089eb90b1f376ac1c599a2e2e6308f4fe85e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/602c33696193828bec87f33a9bd2777b476f4dfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/602c33696193828bec87f33a9bd2777b476f4dfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/602c33696193828bec87f33a9bd2777b476f4dfb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/602c33696193828bec87f33a9bd2777b476f4dfb/comments", "author": null, "committer": null, "parents": [{"sha": "61369bb84962b5c4b90374ac73177920d19a2ddb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61369bb84962b5c4b90374ac73177920d19a2ddb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61369bb84962b5c4b90374ac73177920d19a2ddb"}], "stats": {"total": 260, "additions": 153, "deletions": 107}, "files": [{"sha": "52e076e6762c02ca85441450812fcf7571d777ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/602c33696193828bec87f33a9bd2777b476f4dfb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/602c33696193828bec87f33a9bd2777b476f4dfb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=602c33696193828bec87f33a9bd2777b476f4dfb", "patch": "@@ -1,3 +1,49 @@\n+2012-02-21  Quentin Neill  <quentin.neill@amd.com>\n+\n+\tPR target/52137\n+\t* config/i386/bdver1.md (bdver1_call, bdver1_push,\n+\tbdver1_pop, bdver1_leave, bdver1_lea, bdver1_imul_DI, bdver1_imul,\n+\tbdver1_imul_mem_DI, bdver1_imul_mem, bdver1_idiv, bdver1_idiv_mem,\n+\tbdver1_str, bdver1_idirect, bdver1_ivector, bdver1_idirect_loadmov,\n+\tbdver1_idirect_load, bdver1_ivector_load, bdver1_idirect_movstore,\n+\tbdver1_idirect_both, bdver1_ivector_both, bdver1_idirect_store,\n+\tbdver1_ivector_store, bdver1_fldxf, bdver1_fld, bdver1_fstxf,\n+\tbdver1_fst, bdver1_fist, bdver1_fmov_bdver1, bdver1_fadd_load,\n+\tbdver1_fadd, bdver1_fmul_load, bdver1_fmul, bdver1_fsgn,\n+\tbdver1_fdiv_load, bdver1_fdiv, bdver1_fpspc_load, bdver1_fpspc,\n+\tbdver1_fcmov_load, bdver1_fcmov, bdver1_fcomi_load,\n+\tbdver1_fcomi, bdver1_fcom_load, bdver1_fcom,\n+\tbdver1_fxch, bdver1_ssevector_avx128_unaligned_load,\n+\tbdver1_ssevector_avx256_unaligned_load,\n+\tbdver1_ssevector_sse128_unaligned_load,\n+\tbdver1_ssevector_avx128_load, bdver1_ssevector_avx256_load,\n+\tbdver1_ssevector_sse128_load, bdver1_ssescalar_movq_load,\n+\tbdver1_ssescalar_vmovss_load, bdver1_ssescalar_sse128_load,\n+\tbdver1_mmxsse_load, bdver1_sse_store_avx256, bdver1_sse_store,\n+\tbdver1_mmxsse_store_short, bdver1_ssevector_avx256,\n+\tbdver1_movss_movsd, bdver1_mmxssemov, bdver1_sselog_load_256,\n+\tbdver1_sselog_256, bdver1_sselog_load, bdver1_sselog,\n+\tbdver1_ssecmp_load, bdver1_ssecmp, bdver1_ssecomi_load,\n+\tbdver1_ssecomi, bdver1_vcvtX2Y_avx256_load, bdver1_vcvtX2Y_avx256,\n+\tbdver1_ssecvt_cvtss2sd_load, bdver1_ssecvt_cvtss2sd,\n+\tbdver1_sseicvt_cvtsi2sd_load, bdver1_sseicvt_cvtsi2sd,\n+\tbdver1_ssecvt_cvtpd2ps_load, bdver1_ssecvt_cvtpd2ps,\n+\tbdver1_ssecvt_cvtdq2ps_load, bdver1_ssecvt_cvtdq2ps,\n+\tbdver1_ssecvt_cvtdq2pd_load, bdver1_ssecvt_cvtdq2pd,\n+\tbdver1_ssecvt_cvtps2pd_load, bdver1_ssecvt_cvtps2pd,\n+\tbdver1_ssecvt_cvtsX2si_load, bdver1_ssecvt_cvtsX2si,\n+\tbdver1_ssecvt_cvtpd2pi_load, bdver1_ssecvt_cvtpd2pi,\n+\tbdver1_ssecvt_cvtpd2dq_load, bdver1_ssecvt_cvtpd2dq,\n+\tbdver1_ssecvt_cvtps2pi_load, bdver1_ssecvt_cvtps2pi,\n+\tbdver1_ssemuladd_load_256, bdver1_ssemuladd_256,\n+\tbdver1_ssemuladd_load, bdver1_ssemuladd, bdver1_sseimul_load,\n+\tbdver1_sseimul, bdver1_sseiadd_load, bdver1_sseiadd,\n+\tbdver1_ssediv_double_load_256, bdver1_ssediv_double_256,\n+\tbdver1_ssediv_single_load_256, bdver1_ssediv_single_256,\n+\tbdver1_ssediv_double_load, bdver1_ssediv_double,\n+\tbdver1_ssediv_single_load, bdver1_ssediv_single, bdver1_sseins):\n+\tAdd \"bdver2\" attribute.\n+\n 2012-02-21  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \t* config/s390/s390.c (s390_option_override): Make -mhard-dfp the"}, {"sha": "10f95ffa75eaeaa2649d661ee37268d64950a6ed", "filename": "gcc/config/i386/bdver1.md", "status": "modified", "additions": 107, "deletions": 107, "changes": 214, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/602c33696193828bec87f33a9bd2777b476f4dfb/gcc%2Fconfig%2Fi386%2Fbdver1.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/602c33696193828bec87f33a9bd2777b476f4dfb/gcc%2Fconfig%2Fi386%2Fbdver1.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fbdver1.md?ref=602c33696193828bec87f33a9bd2777b476f4dfb", "patch": "@@ -123,50 +123,50 @@\n \n ;; Jump instructions are executed in the branch unit completely transparent to us.\n (define_insn_reservation \"bdver1_call\" 0\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"call,callv\"))\n \t\t\t \"bdver1-double,bdver1-agu,bdver1-ieu\")\n ;; PUSH mem is double path.\n (define_insn_reservation \"bdver1_push\" 1\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"push\"))\n \t\t\t \"bdver1-direct,bdver1-agu,bdver1-store\")\n ;; POP r16/mem are double path.\n (define_insn_reservation \"bdver1_pop\" 1\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"pop\"))\n \t\t\t \"bdver1-direct,(bdver1-ieu+bdver1-load)\")\n ;; LEAVE no latency info so far, assume same with amdfam10.\n (define_insn_reservation \"bdver1_leave\" 3\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"leave\"))\n \t\t\t \"bdver1-vector,(bdver1-ieu+bdver1-load)\")\n ;; LEA executes in AGU unit with 1 cycle latency on BDVER1.\n (define_insn_reservation \"bdver1_lea\" 1\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"lea\"))\n \t\t\t \"bdver1-direct,bdver1-agu,nothing\")\n \n ;; MUL executes in special multiplier unit attached to IEU1.\n (define_insn_reservation \"bdver1_imul_DI\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"imul\")\n \t\t\t\t   (and (eq_attr \"mode\" \"DI\")\n \t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n \t\t\t \"bdver1-direct1,bdver1-ieu1,bdver1-mult,nothing,bdver1-ieu1\")\n (define_insn_reservation \"bdver1_imul\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"imul\")\n \t\t\t\t   (eq_attr \"memory\" \"none,unknown\")))\n \t\t\t \"bdver1-direct1,bdver1-ieu1,bdver1-mult,bdver1-ieu1\")\n (define_insn_reservation \"bdver1_imul_mem_DI\" 10\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"imul\")\n \t\t\t\t   (and (eq_attr \"mode\" \"DI\")\n \t\t\t\t\t(eq_attr \"memory\" \"load,both\"))))\n \t\t\t \"bdver1-direct1,bdver1-load,bdver1-ieu,bdver1-mult,nothing,bdver1-ieu\")\n (define_insn_reservation \"bdver1_imul_mem\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"imul\")\n \t\t\t\t   (eq_attr \"memory\" \"load,both\")))\n \t\t\t \"bdver1-direct1,bdver1-load,bdver1-ieu,bdver1-mult,bdver1-ieu\")\n@@ -178,13 +178,13 @@\n ;; ??? Experiments show that the IDIV can overlap with roughly 6 cycles\n ;; of the other code.\n (define_insn_reservation \"bdver1_idiv\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"idiv\")\n \t\t\t\t   (eq_attr \"memory\" \"none,unknown\")))\n \t\t\t \"bdver1-vector,(bdver1-ieu0*6+(bdver1-fpsched,bdver1-fvector))\")\n \n (define_insn_reservation \"bdver1_idiv_mem\" 10\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"idiv\")\n \t\t\t\t   (eq_attr \"memory\" \"load,both\")))\n \t\t\t \"bdver1-vector,((bdver1-load,bdver1-ieu0*6)+(bdver1-fpsched,bdver1-fvector))\")\n@@ -193,56 +193,56 @@\n ;; as IDIV to create smaller automata.  This probably does not matter much.\n ;; Using the same heuristics for bdver1 as amdfam10 and K8 with IDIV.\n (define_insn_reservation \"bdver1_str\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"str\")\n \t\t\t\t   (eq_attr \"memory\" \"load,both,store\")))\n \t\t\t \"bdver1-vector,bdver1-load,bdver1-ieu0*6\")\n \n ;; Integer instructions.\n (define_insn_reservation \"bdver1_idirect\" 1\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n \t\t\t \"bdver1-direct,bdver1-ieu\")\n (define_insn_reservation \"bdver1_ivector\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"vector\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n \t\t\t \"bdver1-vector,bdver1-ieu,bdver1-ieu\")\n (define_insn_reservation \"bdver1_idirect_loadmov\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"imov\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-load\")\n (define_insn_reservation \"bdver1_idirect_load\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-load,bdver1-ieu\")\n (define_insn_reservation \"bdver1_ivector_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"vector\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-vector,bdver1-load,bdver1-ieu,bdver1-ieu\")\n (define_insn_reservation \"bdver1_idirect_movstore\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"imov\")\n \t\t\t\t   (eq_attr \"memory\" \"store\")))\n \t\t\t \"bdver1-direct,bdver1-agu,bdver1-store\")\n (define_insn_reservation \"bdver1_idirect_both\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"both\"))))\n \t\t\t \"bdver1-direct,bdver1-load,\n \t\t\t  bdver1-ieu,bdver1-store,\n \t\t\t  bdver1-store\")\n (define_insn_reservation \"bdver1_ivector_both\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"vector\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"both\"))))\n@@ -251,14 +251,14 @@\n \t\t\t  bdver1-ieu,\n \t\t\t  bdver1-store\")\n (define_insn_reservation \"bdver1_idirect_store\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"store\"))))\n \t\t\t \"bdver1-direct,(bdver1-ieu+bdver1-agu),\n \t\t\t  bdver1-store\")\n (define_insn_reservation \"bdver1_ivector_store\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"vector\")\n \t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n \t\t\t\t\t(eq_attr \"memory\" \"store\"))))\n@@ -267,253 +267,253 @@\n \n ;; BDVER1 floating point units.\n (define_insn_reservation \"bdver1_fldxf\" 13\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fmov\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n \t\t\t\t\t(eq_attr \"mode\" \"XF\"))))\n \t\t\t \"bdver1-vector,bdver1-fpload2,bdver1-fvector*9\")\n (define_insn_reservation \"bdver1_fld\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fmov\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fstxf\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fmov\")\n \t\t\t\t   (and (eq_attr \"memory\" \"store,both\")\n \t\t\t\t\t(eq_attr \"mode\" \"XF\"))))\n \t\t\t \"bdver1-vector,(bdver1-fpsched+bdver1-agu),(bdver1-store2+(bdver1-fvector*6))\")\n (define_insn_reservation \"bdver1_fst\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fmov\")\n \t\t\t\t   (eq_attr \"memory\" \"store,both\")))\n \t\t\t \"bdver1-double,(bdver1-fpsched+bdver1-agu),(bdver1-fsto+bdver1-store)\")\n (define_insn_reservation \"bdver1_fist\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fistp,fisttp\"))\n \t\t\t \"bdver1-double,(bdver1-fpsched+bdver1-agu),(bdver1-fsto+bdver1-store)\")\n (define_insn_reservation \"bdver1_fmov_bdver1\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fmov\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fadd_load\" 10\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fop\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fadd\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fop\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fmul_load\" 10\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fmul\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-double,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fmul\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fmul\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fsgn\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fsgn\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fdiv_load\" 46\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fdiv\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fdiv\" 42\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fdiv\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fpspc_load\" 103\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fpspc\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-vector,bdver1-fpload,bdver1-fvector\")\n (define_insn_reservation \"bdver1_fpspc\" 100\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fpspc\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-vector,bdver1-fpload,bdver1-fvector\")\n (define_insn_reservation \"bdver1_fcmov_load\" 17\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fcmov\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-vector,bdver1-fpload,bdver1-fvector\")\n (define_insn_reservation \"bdver1_fcmov\" 15\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fcmov\"))\n \t\t\t \"bdver1-vector,bdver1-fpsched,bdver1-fvector\")\n (define_insn_reservation \"bdver1_fcomi_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fcmp\")\n \t\t\t\t   (and (eq_attr \"bdver1_decode\" \"double\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-ffma | bdver1-fsto)\")\n (define_insn_reservation \"bdver1_fcomi\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"bdver1_decode\" \"double\")\n \t\t\t\t   (eq_attr \"type\" \"fcmp\")))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-ffma | bdver1-fsto)\")\n (define_insn_reservation \"bdver1_fcom_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"fcmp\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fcom\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fcmp\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_fxch\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"fxch\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n \n ;; SSE loads.\n (define_insn_reservation \"bdver1_ssevector_avx128_unaligned_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"prefix\" \"vex\")\n \t\t\t\t\t(and (eq_attr \"movu\" \"1\")\n \t\t\t\t\t     (and (eq_attr \"mode\" \"V4SF,V2DF\")\n \t\t\t\t\t\t  (eq_attr \"memory\" \"load\"))))))\n \t\t\t \"bdver1-direct,bdver1-fpload\")\n (define_insn_reservation \"bdver1_ssevector_avx256_unaligned_load\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"movu\" \"1\")\n \t\t\t\t        (and (eq_attr \"mode\" \"V8SF,V4DF\")\n \t\t\t\t             (eq_attr \"memory\" \"load\")))))\n \t\t\t \"bdver1-double,bdver1-fpload\")\n (define_insn_reservation \"bdver1_ssevector_sse128_unaligned_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"movu\" \"1\")\n \t\t\t\t        (and (eq_attr \"mode\" \"V4SF,V2DF\")\n \t\t\t\t             (eq_attr \"memory\" \"load\")))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fmal\")\n (define_insn_reservation \"bdver1_ssevector_avx128_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"prefix\" \"vex\")\n \t\t\t\t        (and (eq_attr \"mode\" \"V4SF,V2DF,TI\")\n \t\t\t\t             (eq_attr \"memory\" \"load\")))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fmal\")\n (define_insn_reservation \"bdver1_ssevector_avx256_load\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF,V4DF,OI\")\n \t\t\t\t        (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,bdver1-fmal\")\n (define_insn_reservation \"bdver1_ssevector_sse128_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V4SF,V2DF,TI\")\n \t\t\t\t        (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload\")\n (define_insn_reservation \"bdver1_ssescalar_movq_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"DI\")\n \t\t\t\t        (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fmal\")\n (define_insn_reservation \"bdver1_ssescalar_vmovss_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"prefix\" \"vex\")\n \t\t\t\t        (and (eq_attr \"mode\" \"SF\")\n \t\t\t\t             (eq_attr \"memory\" \"load\")))))\n \t\t\t \"bdver1-direct,bdver1-fpload\")\n (define_insn_reservation \"bdver1_ssescalar_sse128_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,DF\")\n \t\t\t\t        (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload, bdver1-ffma\")\n (define_insn_reservation \"bdver1_mmxsse_load\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"mmxmov,ssemov\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload, bdver1-fmal\")\n \n ;; SSE stores.\n (define_insn_reservation \"bdver1_sse_store_avx256\" 5\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF,V4DF,OI\")\n \t\t\t\t\t(eq_attr \"memory\" \"store,both\"))))\n \t\t\t \"bdver1-double,(bdver1-fpsched+bdver1-agu),((bdver1-fsto+bdver1-store)*2)\")\n (define_insn_reservation \"bdver1_sse_store\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V4SF,V2DF,TI\")\n \t\t\t\t\t(eq_attr \"memory\" \"store,both\"))))\n \t\t\t \"bdver1-direct,(bdver1-fpsched+bdver1-agu),((bdver1-fsto+bdver1-store)*2)\")\n (define_insn_reservation \"bdver1_mmxsse_store_short\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"mmxmov,ssemov\")\n \t\t\t\t   (eq_attr \"memory\" \"store,both\")))\n \t\t\t \"bdver1-direct,(bdver1-fpsched+bdver1-agu),(bdver1-fsto+bdver1-store)\")\n \n ;; Register moves.\n (define_insn_reservation \"bdver1_ssevector_avx256\" 3\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF,V4DF,OI\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-double,bdver1-fpsched,bdver1-fmal\")\n (define_insn_reservation \"bdver1_movss_movsd\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemov\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,DF\")\n                                         (eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_mmxssemov\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"mmxmov,ssemov\")\n \t\t\t\t   (eq_attr \"memory\" \"none\")))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-fmal\")\n ;; SSE logs.\n (define_insn_reservation \"bdver1_sselog_load_256\" 7\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sselog,sselog1\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF\")\n \t\t\t\t   (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,bdver1-fmal\")\n (define_insn_reservation \"bdver1_sselog_256\" 3\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sselog,sselog1\")\n                                    (eq_attr \"mode\" \"V8SF\")))\n \t\t\t \"bdver1-double,bdver1-fpsched,bdver1-fmal\")\n (define_insn_reservation \"bdver1_sselog_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sselog,sselog1\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fxbar\")\n (define_insn_reservation \"bdver1_sselog\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"sselog,sselog1\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-fxbar\")\n \n ;; PCMP actually executes in FMAL.\n (define_insn_reservation \"bdver1_ssecmp_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecmp\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_ssecmp\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"ssecmp\"))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_ssecomi_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecomi\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-ffma | bdver1-fsto)\")\n (define_insn_reservation \"bdver1_ssecomi\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (eq_attr \"type\" \"ssecomi\"))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-ffma | bdver1-fsto)\")\n \n@@ -522,7 +522,7 @@\n \n ;; 256 bit conversion.\n (define_insn_reservation \"bdver1_vcvtX2Y_avx256_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n \t\t\t\t\t(ior (ior (match_operand:V4DF 0 \"register_operand\")\n@@ -533,7 +533,7 @@\n \t\t\t\t\t\t       (match_operand:V8SI 1 \"nonimmediate_operand\")))))))\n \t\t\t \"bdver1-vector,bdver1-fpload,bdver1-fvector\")\n (define_insn_reservation \"bdver1_vcvtX2Y_avx256\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n \t\t\t\t\t(ior (ior (match_operand:V4DF 0 \"register_operand\")\n@@ -545,56 +545,56 @@\n \t\t\t \"bdver1-vector,bdver1-fpsched,bdver1-fvector\")\n ;; CVTSS2SD, CVTSD2SS.\n (define_insn_reservation \"bdver1_ssecvt_cvtss2sd_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fcvt\")\n (define_insn_reservation \"bdver1_ssecvt_cvtss2sd\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-fcvt\")\n ;; CVTSI2SD, CVTSI2SS, CVTSI2SDQ, CVTSI2SSQ.\n (define_insn_reservation \"bdver1_sseicvt_cvtsi2sd_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseicvt\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fcvt\")\n (define_insn_reservation \"bdver1_sseicvt_cvtsi2sd\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseicvt\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(nothing | bdver1-fcvt)\")\n ;; CVTPD2PS.\n (define_insn_reservation \"bdver1_ssecvt_cvtpd2ps_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n                                         (and (match_operand:V4SF 0 \"register_operand\")\n \t\t\t\t\t     (match_operand:V2DF 1 \"nonimmediate_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-fxbar | bdver1-fcvt)\")\n (define_insn_reservation \"bdver1_ssecvt_cvtpd2ps\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n                                         (and (match_operand:V4SF 0 \"register_operand\")\n \t\t\t\t\t     (match_operand:V2DF 1 \"nonimmediate_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-fxbar | bdver1-fcvt)\")\n ;; CVTPI2PS, CVTDQ2PS.\n (define_insn_reservation \"bdver1_ssecvt_cvtdq2ps_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n                                         (and (match_operand:V4SF 0 \"register_operand\")\n \t\t\t\t\t     (ior (match_operand:V2SI 1 \"nonimmediate_operand\")\n \t\t\t\t\t          (match_operand:V4SI 1 \"nonimmediate_operand\"))))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fcvt\")\n (define_insn_reservation \"bdver1_ssecvt_cvtdq2ps\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n                                         (and (match_operand:V4SF 0 \"register_operand\")\n@@ -603,30 +603,30 @@\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-fcvt\")\n ;; CVTDQ2PD.\n (define_insn_reservation \"bdver1_ssecvt_cvtdq2pd_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n                                         (and (match_operand:V2DF 0 \"register_operand\")\n \t\t\t\t\t     (match_operand:V4SI 1 \"nonimmediate_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-fxbar | bdver1-fcvt)\")\n (define_insn_reservation \"bdver1_ssecvt_cvtdq2pd\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n                                         (and (match_operand:V2DF 0 \"register_operand\")\n \t\t\t\t\t     (match_operand:V4SI 1 \"nonimmediate_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-fxbar | bdver1-fcvt)\")\n ;; CVTPS2PD, CVTPI2PD.\n (define_insn_reservation \"bdver1_ssecvt_cvtps2pd_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n                                         (and (match_operand:V2DF 0 \"register_operand\")\n \t\t\t\t\t     (ior (match_operand:V2SI 1 \"nonimmediate_operand\")\n \t\t\t\t\t          (match_operand:V4SF 1 \"nonimmediate_operand\"))))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-fxbar | bdver1-fcvt)\")\n (define_insn_reservation \"bdver1_ssecvt_cvtps2pd\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n                                         (and (match_operand:V2DF 0 \"register_operand\")\n@@ -635,58 +635,58 @@\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-fxbar | bdver1-fcvt)\")\n ;; CVTSD2SI, CVTSD2SIQ, CVTSS2SI, CVTSS2SIQ, CVTTSD2SI, CVTTSD2SIQ, CVTTSS2SI, CVTTSS2SIQ.\n (define_insn_reservation \"bdver1_ssecvt_cvtsX2si_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseicvt\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SI,DI\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-fcvt | bdver1-fsto)\")\n (define_insn_reservation \"bdver1_ssecvt_cvtsX2si\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseicvt\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SI,DI\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-fcvt | bdver1-fsto)\")\n ;; CVTPD2PI, CVTTPD2PI.\n (define_insn_reservation \"bdver1_ssecvt_cvtpd2pi_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n \t\t\t\t        (and (match_operand:V2DF 1 \"nonimmediate_operand\")\n \t\t\t\t\t     (match_operand:V2SI 0 \"register_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-fcvt | bdver1-fxbar)\")\n (define_insn_reservation \"bdver1_ssecvt_cvtpd2pi\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n \t\t\t\t        (and (match_operand:V2DF 1 \"nonimmediate_operand\")\n \t\t\t\t\t     (match_operand:V2SI 0 \"register_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-fcvt | bdver1-fxbar)\")\n ;; CVTPD2DQ, CVTTPD2DQ.\n (define_insn_reservation \"bdver1_ssecvt_cvtpd2dq_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"load\")\n \t\t\t\t        (and (match_operand:V2DF 1 \"nonimmediate_operand\")\n \t\t\t\t\t     (match_operand:V4SI 0 \"register_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-fcvt | bdver1-fxbar)\")\n (define_insn_reservation \"bdver1_ssecvt_cvtpd2dq\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n \t\t\t\t        (and (match_operand:V2DF 1 \"nonimmediate_operand\")\n \t\t\t\t\t     (match_operand:V4SI 0 \"register_operand\")))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-fcvt | bdver1-fxbar)\")\n ;; CVTPS2PI, CVTTPS2PI, CVTPS2DQ, CVTTPS2DQ.\n (define_insn_reservation \"bdver1_ssecvt_cvtps2pi_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n                                    (and (eq_attr \"memory\" \"load\")\n \t\t\t\t        (and (match_operand:V4SF 1 \"nonimmediate_operand\")\n \t\t\t\t             (ior (match_operand: V2SI 0 \"register_operand\")\n \t\t\t\t\t\t  (match_operand: V4SI 0 \"register_operand\"))))))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fcvt\")\n (define_insn_reservation \"bdver1_ssecvt_cvtps2pi\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssecvt\")\n \t\t\t\t   (and (eq_attr \"memory\" \"none\")\n \t\t\t\t        (and (match_operand:V4SF 1 \"nonimmediate_operand\")\n@@ -696,100 +696,100 @@\n \n ;; SSE MUL, ADD, and MULADD.\n (define_insn_reservation \"bdver1_ssemuladd_load_256\" 11\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemul,sseadd,ssemuladd\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF,V4DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_ssemuladd_256\" 7\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemul,sseadd,ssemuladd\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF,V4DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-double,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_ssemuladd_load\" 10\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemul,sseadd,ssemuladd\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-ffma\")\n (define_insn_reservation \"bdver1_ssemuladd\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssemul,sseadd,ssemuladd\")\n \t\t\t\t   (eq_attr \"memory\" \"none\")))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-ffma\")\n (define_insn_reservation \"bdver1_sseimul_load\" 8\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseimul\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fmma\")\n (define_insn_reservation \"bdver1_sseimul\" 4\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseimul\")\n \t\t\t\t   (eq_attr \"memory\" \"none\")))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-fmma\")\n (define_insn_reservation \"bdver1_sseiadd_load\" 6\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseiadd\")\n \t\t\t\t   (eq_attr \"memory\" \"load\")))\n \t\t\t \"bdver1-direct,bdver1-fpload,bdver1-fmal\")\n (define_insn_reservation \"bdver1_sseiadd\" 2\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"sseiadd\")\n \t\t\t\t   (eq_attr \"memory\" \"none\")))\n \t\t\t \"bdver1-direct,bdver1-fpsched,bdver1-fmal\")\n \n ;; SSE DIV: no throughput information (assume same as amdfam10).\n (define_insn_reservation \"bdver1_ssediv_double_load_256\" 31\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V4DF\")\n \t\t\t\t        (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_double_256\" 27\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V4DF\")\n \t\t\t\t        (eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_single_load_256\" 28\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF\")\n \t\t\t\t        (eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-double,bdver1-fpload,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_single_256\" 24\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"V8SF\")\n \t\t\t\t        (eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-double,bdver1-fpsched,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_double_load\" 31\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"DF,V2DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_double\" 27\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"DF,V2DF\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-direct,bdver1-fpsched,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_single_load\" 28\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,V4SF\")\n \t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n \t\t\t \"bdver1-direct,bdver1-fpload,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n (define_insn_reservation \"bdver1_ssediv_single\" 24\n-\t\t\t (and (eq_attr \"cpu\" \"bdver1\")\n+\t\t\t (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n \t\t\t      (and (eq_attr \"type\" \"ssediv\")\n \t\t\t\t   (and (eq_attr \"mode\" \"SF,V4SF\")\n \t\t\t\t\t(eq_attr \"memory\" \"none\"))))\n \t\t\t \"bdver1-direct,bdver1-fpsched,(bdver1-ffma0*17 | bdver1-ffma1*17)\")\n \n (define_insn_reservation \"bdver1_sseins\" 3\n-                         (and (eq_attr \"cpu\" \"bdver1\")\n+                         (and (eq_attr \"cpu\" \"bdver1,bdver2\")\n                               (and (eq_attr \"type\" \"sseins\")\n                                    (eq_attr \"mode\" \"TI\")))\n                          \"bdver1-direct,bdver1-fpsched,bdver1-fxbar\")"}]}