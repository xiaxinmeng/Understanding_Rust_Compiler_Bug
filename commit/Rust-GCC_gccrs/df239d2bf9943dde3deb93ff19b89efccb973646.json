{"sha": "df239d2bf9943dde3deb93ff19b89efccb973646", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGYyMzlkMmJmOTk0M2RkZTNkZWI5M2ZmMTliODllZmNjYjk3MzY0Ng==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-12-20T20:20:24Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-12-20T20:20:24Z"}, "message": "* btest-gcc.sh: Support -j option.\n\nFrom-SVN: r108866", "tree": {"sha": "e3c350846dc08c7477cd5878c40ed68ace4d135f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3c350846dc08c7477cd5878c40ed68ace4d135f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/df239d2bf9943dde3deb93ff19b89efccb973646", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df239d2bf9943dde3deb93ff19b89efccb973646", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df239d2bf9943dde3deb93ff19b89efccb973646", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df239d2bf9943dde3deb93ff19b89efccb973646/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7d0e51567d78584ab77abbc5d6ea9f24077df477", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d0e51567d78584ab77abbc5d6ea9f24077df477", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d0e51567d78584ab77abbc5d6ea9f24077df477"}], "stats": {"total": 25, "additions": 14, "deletions": 11}, "files": [{"sha": "62aa9ba1766f7b18eca2127b4eb5baf64a227ca9", "filename": "contrib/regression/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df239d2bf9943dde3deb93ff19b89efccb973646/contrib%2Fregression%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df239d2bf9943dde3deb93ff19b89efccb973646/contrib%2Fregression%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fregression%2FChangeLog?ref=df239d2bf9943dde3deb93ff19b89efccb973646", "patch": "@@ -1,3 +1,7 @@\n+2005-12-20  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* btest-gcc.sh: Support -j option.\n+\n 2005-11-28  Geoffrey Keating  <geoffk@geoffk.org>\n \n \t* GCC Regression Tester.wdgt: Rename to GCC_Regression_Tester.wdgt."}, {"sha": "bff069ac6869492dc6b384f6f4acb2c4cdcac23d", "filename": "contrib/regression/btest-gcc.sh", "status": "modified", "additions": 10, "deletions": 11, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df239d2bf9943dde3deb93ff19b89efccb973646/contrib%2Fregression%2Fbtest-gcc.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df239d2bf9943dde3deb93ff19b89efccb973646/contrib%2Fregression%2Fbtest-gcc.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fregression%2Fbtest-gcc.sh?ref=df239d2bf9943dde3deb93ff19b89efccb973646", "patch": "@@ -21,15 +21,20 @@\n # btest <options> <target> <source> <prefix> <state> <build>\n \n add_passes_despite_regression=0\n+dashj=''\n \n # <options> can be\n # --add-passes-despite-regression:\n #  Add new \"PASSes\" despite there being some regressions.\n+# -j<n>:\n+#  Pass '-j<n>' to make.\n \n case \"$1\" in\n  --add-passes-despite-regression)\n   add_passes_despite_regression=1; shift;;\n- --*) echo \"Invalid option: $1\"; exit 2;;\n+ -j*)\n+  dashj=$1; shift;;\n+ -*) echo \"Invalid option: $1\"; exit 2;;\n esac\n \n # TARGET is the target triplet.  It should be the same one as used in\n@@ -117,10 +122,10 @@ gcc/testsuite/objc.sum\"\n echo build > $RESULT\n if [ $H_HOST = $H_TARGET ] ; then\n   $SOURCE/configure --prefix=$PREFIX --target=$H_TARGET || exit 1\n-  if ! make bootstrap ; then\n+  if ! make $dashj bootstrap ; then\n     [ -s gcc/.bad_compare ] || exit 1\n     cat gcc/.bad_compare >> $REGRESS || exit 1\n-    make all || exit 1\n+    make $dashj all || exit 1\n   fi\n else\n   withopt=\"--with-gnu-ld --with-gnu-as\"\n@@ -129,27 +134,21 @@ else\n     *) withopt=\"$withopt --with-newlib\";;\n   esac\n   $SOURCE/configure --prefix=$PREFIX --target=$H_TARGET $withopt || exit 1\n-  make || exit 1\n+  make $dashj || exit 1\n fi\n echo error > $RESULT || exit 1\n \n # Test GCC against its internal testsuite.\n-make -k check-gcc\n+make $dashj -k check\n \n-# Test libstd++-v3\n-make check-target-libstdc++-v3\n if [ -f $BUILD/$H_TARGET/libstdc++-v3/testsuite/libstdc++.sum ] ; then\n   TESTLOGS=\"$TESTLOGS $H_TARGET/libstdc++-v3/testsuite/libstdc++.sum\"\n fi\n \n-# Test libffi\n-make check-target-libffi\n if [ -f $BUILD/$H_TARGET/libffi/testsuite/libffi.sum ] ; then\n   TESTLOGS=\"$TESTLOGS $H_TARGET/libffi/testsuite/libffi.sum\"\n fi\n \n-# Test libjava\n-make check-target-libjava\n if [ -f $BUILD/$H_TARGET/libjava/testsuite/libjava.sum ] ; then\n   TESTLOGS=\"$TESTLOGS $H_TARGET/libjava/testsuite/libjava.sum\"\n fi"}]}