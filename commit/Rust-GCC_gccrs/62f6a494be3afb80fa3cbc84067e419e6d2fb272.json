{"sha": "62f6a494be3afb80fa3cbc84067e419e6d2fb272", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJmNmE0OTRiZTNhZmI4MGZhM2NiYzg0MDY3ZTQxOWU2ZDJmYjI3Mg==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-06-02T22:27:32Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-06-02T22:27:32Z"}, "message": "i370.h (TARGET_CPU_CPP_BUILTINS): Use.\n\nconfig/i370:\n\t* i370.h (TARGET_CPU_CPP_BUILTINS): Use.\n\t* linux.h: Use TARGET_OS_CPP_BUILTINS rather than CPP_PREDEFINES.\n\t* mvs.h: Similarly.\n\t* oe.h: Similarly.\n\nFrom-SVN: r54191", "tree": {"sha": "0abf9aaf1f5c29a1d6901ffb6049ead79dd5d0d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0abf9aaf1f5c29a1d6901ffb6049ead79dd5d0d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62f6a494be3afb80fa3cbc84067e419e6d2fb272", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62f6a494be3afb80fa3cbc84067e419e6d2fb272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62f6a494be3afb80fa3cbc84067e419e6d2fb272", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62f6a494be3afb80fa3cbc84067e419e6d2fb272/comments", "author": null, "committer": null, "parents": [{"sha": "0acb02035641ccf6c36f8577ba2b77b1a9ebfb25", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0acb02035641ccf6c36f8577ba2b77b1a9ebfb25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0acb02035641ccf6c36f8577ba2b77b1a9ebfb25"}], "stats": {"total": 59, "additions": 49, "deletions": 10}, "files": [{"sha": "cda4d6df33a028f0aa3970e69dbb3dad34886f9e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=62f6a494be3afb80fa3cbc84067e419e6d2fb272", "patch": "@@ -1,3 +1,11 @@\n+2002-06-02  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+config/i370:\n+\t* i370.h (TARGET_CPU_CPP_BUILTINS): Use.\n+\t* linux.h: Use TARGET_OS_CPP_BUILTINS rather than CPP_PREDEFINES.\n+\t* mvs.h: Similarly.\n+\t* oe.h: Similarly.\n+\n Mon Jun  3 00:18:20 CEST 2002  Jan Hubicka  <jh@suse.cz>\n \n \t* final.c (final):  Allow notes to not have computed addresses;"}, {"sha": "f29fae7aa4212dc4fa7dc5dd40c4f65225c3316c", "filename": "gcc/config/i370/i370.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Fi370.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Fi370.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi370%2Fi370.h?ref=62f6a494be3afb80fa3cbc84067e419e6d2fb272", "patch": "@@ -24,6 +24,18 @@ Boston, MA 02111-1307, USA.  */\n \n #ifndef GCC_I370_H\n #define GCC_I370_H\n+\n+/* Target CPU builtins.  */\t\t\t\\\n+#define TARGET_CPU_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      builtin_define_std (\"GCC\");\t\t\\\n+      builtin_define_std (\"gcc\");\t\t\\\n+      builtin_assert (\"machine=i370\");\t\t\\\n+      builtin_assert (\"cpu=i370\");\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n /* Run-time compilation parameters selecting different hardware subsets.  */\n \n extern int target_flags;"}, {"sha": "c07dc408a42146adcac67ff9f40f7f87b63009b1", "filename": "gcc/config/i370/linux.h", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi370%2Flinux.h?ref=62f6a494be3afb80fa3cbc84067e419e6d2fb272", "patch": "@@ -32,10 +32,15 @@ Boston, MA 02111-1307, USA.  */\n /* TODO: convert include to ${tm_file} list in config.gcc.  */\n #include \"i370/i370.h\"\n \n-/* Names to predefine in the preprocessor for this target machine.  */\n-\n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-DGCC -Dgcc -D__ELF__ -Dunix -D__gnu_linux__ -Dlinux -Asystem=posix -Acpu=i370 -Amachine=i370\"\n+/* Target OS preprocessor built-ins.  */\t\\\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+    do {\t\t\t\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define_std (\"linux\");\t\t\\\n+\tbuiltin_define (\"__gnu_linux__\");\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\\\n+\tbuiltin_assert (\"system=posix\");\t\\\n+    } while (0)\n \n /* Options for this target machine.  */\n "}, {"sha": "4734fbd10d554b3c93f847fda1f9e8de4adfaa54", "filename": "gcc/config/i370/mvs.h", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Fmvs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Fmvs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi370%2Fmvs.h?ref=62f6a494be3afb80fa3cbc84067e419e6d2fb272", "patch": "@@ -32,12 +32,19 @@ Boston, MA 02111-1307, USA.  */\n \n #define CPP_SPEC \"-trigraphs\"\n \n-/* Names to predefine in the preprocessor for this target machine.  */\n+/* Target OS preprocessor built-ins.  */\t\\\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+    do {\t\t\t\t\t\\\n+\tbuiltin_define_std (\"MVS\");\t\t\\\n+\tbuiltin_define_std (\"mvs\");\t\t\\\n+\tMAYBE_LE370_MACROS();\t\t\t\\\n+\tbuiltin_assert (\"system=mvs\");\t\t\\\n+    } while (0)\n \n #if defined(LE370)\n-#define CPP_PREDEFINES \"-DGCC -Dgcc -DMVS -Dmvs -DLE370 -Asystem=mvs -Acpu=i370 -Amachine=i370\"\n+# define MAYBE_LE370_MACROS() do {builtin_define_std (\"LE370\");} while (0)\n #else\n-#define CPP_PREDEFINES \"-DGCC -Dgcc -DMVS -Dmvs -Asystem=mvs -Acpu=i370 -Amachine=i370\"\n+# define MAYBE_LE370_MACROS()\n #endif\n \n /* Include system common definitions */"}, {"sha": "0101ba89c05f7dea5cc0fe7c9d44458e86c10548", "filename": "gcc/config/i370/oe.h", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Foe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62f6a494be3afb80fa3cbc84067e419e6d2fb272/gcc%2Fconfig%2Fi370%2Foe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi370%2Foe.h?ref=62f6a494be3afb80fa3cbc84067e419e6d2fb272", "patch": "@@ -39,9 +39,16 @@ Boston, MA 02111-1307, USA.  */\n #define LIBGCC_SPEC \"\"\n #define STARTFILE_SPEC \"/usr/local/lib/gccmain.o\"\n \n-/* Names to predefine in the preprocessor for this target machine.  */\n-\n-#define CPP_PREDEFINES \"-DGCC -Dgcc -DUNIX -Dunix -Dopenedition -D__i370__ -Asystem=openedition -Asystem=unix -Acpu=i370 -Amachine=i370\"\n+/* Target OS preprocessor built-ins.  */\t\\\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+    do {\t\t\t\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define_std (\"UNIX\");\t\t\\\n+\tbuiltin_define_std (\"openedition\");\t\\\n+\tbuiltin_define (\"__i370__\");\t\t\\\n+\tbuiltin_assert (\"system=openedition\");\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\\\n+    } while (0)\n \n /* Include system common definitions */\n "}]}