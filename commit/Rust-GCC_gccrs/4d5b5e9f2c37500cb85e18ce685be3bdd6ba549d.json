{"sha": "4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ1YjVlOWYyYzM3NTAwY2I4NWUxOGNlNjg1YmUzYmRkNmJhNTQ5ZA==", "commit": {"author": {"name": "Easwaran Raman", "email": "eraman@google.com", "date": "2013-10-09T21:07:54Z"}, "committer": {"name": "Easwaran Raman", "email": "eraman@gcc.gnu.org", "date": "2013-10-09T21:07:54Z"}, "message": "params.def (PARAM_MIN_SIZE_FOR_STACK_SHARING): New param...\n\n2013-10-09  Easwaran Raman <eraman@google.com>\n\n        * params.def (PARAM_MIN_SIZE_FOR_STACK_SHARING): New param...\n        * cfgexpand.c (defer_stack_allocation): ...use here\n        * doc/invoke.texi: Add documentation for min-size-for-stack-sharing.\n\nFrom-SVN: r203330", "tree": {"sha": "ad4a66df6d3b6cda0eaca95d0828d6b2e9c64305", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad4a66df6d3b6cda0eaca95d0828d6b2e9c64305"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/comments", "author": null, "committer": null, "parents": [{"sha": "c9ef86a1717dd66f185aff6578cf4744771b39e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9ef86a1717dd66f185aff6578cf4744771b39e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9ef86a1717dd66f185aff6578cf4744771b39e4"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "5f7b962d978a2229da04f45561b1121b6112acd0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "patch": "@@ -1,3 +1,9 @@\n+2013-10-09  Easwaran Raman <eraman@google.com>\n+\n+\t* params.def (PARAM_MIN_SIZE_FOR_STACK_SHARING): New param...\n+\t* cfgexpand.c (defer_stack_allocation): ...use here\n+\t* doc/invoke.texi: Add documentation for min-size-for-stack-sharing.\n+\n 2013-10-09  Zhenqiang Chen  <zhenqiang.chen@arm.com>\n \n \t* tree-ssa-phiopts.c (rhs_is_fed_for_value_replacement): New function."}, {"sha": "7ed29f5c227311a78e894ea6bd08016aea055c34", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "patch": "@@ -1131,7 +1131,9 @@ defer_stack_allocation (tree var, bool toplevel)\n      other hand, we don't want the function's stack frame size to\n      get completely out of hand.  So we avoid adding scalars and\n      \"small\" aggregates to the list at all.  */\n-  if (optimize == 0 && tree_low_cst (DECL_SIZE_UNIT (var), 1) < 32)\n+  if (optimize == 0\n+      && (tree_low_cst (DECL_SIZE_UNIT (var), 1)\n+          < PARAM_VALUE (PARAM_MIN_SIZE_FOR_STACK_SHARING)))\n     return false;\n \n   return true;"}, {"sha": "a8d6dfa5459d3ee1c1da16ec4281fcb9b3ee13b9", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "patch": "@@ -9686,6 +9686,10 @@ value of a shared integer constant.  The default value is 256.\n The minimum size of buffers (i.e.@: arrays) that receive stack smashing\n protection when @option{-fstack-protection} is used.\n \n+@item min-size-for-stack-sharing\n+The minimum size of variables taking part in stack slot sharing when not\n+optimizing. The default value is 32.\n+\n @item max-jump-thread-duplication-stmts\n Maximum number of statements allowed in a block that needs to be\n duplicated when threading jumps."}, {"sha": "def5a9a5eaa7bd2ed5897c960d22c530408de515", "filename": "gcc/params.def", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2Fparams.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d/gcc%2Fparams.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.def?ref=4d5b5e9f2c37500cb85e18ce685be3bdd6ba549d", "patch": "@@ -682,6 +682,12 @@ DEFPARAM (PARAM_SSP_BUFFER_SIZE,\n \t  \"The lower bound for a buffer to be considered for stack smashing protection\",\n \t  8, 1, 0)\n \n+DEFPARAM (PARAM_MIN_SIZE_FOR_STACK_SHARING,\n+\t  \"min-size-for-stack-sharing\",\n+\t  \"The minimum size of variables taking part in stack slot sharing \"\n+\t  \"when not optimizing\",\n+\t  32, 0, 0)\n+\n /* When we thread through a block we have to make copies of the\n    statements within the block.  Clearly for large blocks the code\n    duplication is bad."}]}