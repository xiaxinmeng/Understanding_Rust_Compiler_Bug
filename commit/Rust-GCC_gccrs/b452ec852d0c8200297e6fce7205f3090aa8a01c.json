{"sha": "b452ec852d0c8200297e6fce7205f3090aa8a01c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ1MmVjODUyZDBjODIwMDI5N2U2ZmNlNzIwNWYzMDkwYWE4YTAxYw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-03-13T17:38:17Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-03-13T17:38:17Z"}, "message": "* haifa-sched.c (sched_analyze_1): Only clear reg_last_uses on a SET.\n\nFrom-SVN: r25752", "tree": {"sha": "46258441c613951e3bc7e91206ed1dec0cf48ec6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46258441c613951e3bc7e91206ed1dec0cf48ec6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b452ec852d0c8200297e6fce7205f3090aa8a01c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b452ec852d0c8200297e6fce7205f3090aa8a01c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b452ec852d0c8200297e6fce7205f3090aa8a01c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b452ec852d0c8200297e6fce7205f3090aa8a01c/comments", "author": null, "committer": null, "parents": [{"sha": "98941e0190f374aca42970b46a18a2793faa5b88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98941e0190f374aca42970b46a18a2793faa5b88", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98941e0190f374aca42970b46a18a2793faa5b88"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "3993efabc0917b27ea443e271bb9c7251f3cb308", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b452ec852d0c8200297e6fce7205f3090aa8a01c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b452ec852d0c8200297e6fce7205f3090aa8a01c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b452ec852d0c8200297e6fce7205f3090aa8a01c", "patch": "@@ -1,3 +1,7 @@\n+Sat Mar 13 17:37:18 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* haifa-sched.c (sched_analyze_1): Only clear reg_last_uses on a SET.\n+\n Sat Mar 13 11:36:16 1999  Richard Earnshaw (rearnsha@arm.com)\n \n \t* arm.c (arm_split_constant): Don't try to force a constant to"}, {"sha": "cc8116b0ccfd618b70aa811e8875d84dadc59343", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b452ec852d0c8200297e6fce7205f3090aa8a01c/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b452ec852d0c8200297e6fce7205f3090aa8a01c/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=b452ec852d0c8200297e6fce7205f3090aa8a01c", "patch": "@@ -3357,7 +3357,6 @@ sched_analyze_1 (x, insn)\n \n \t      for (u = reg_last_uses[regno + i]; u; u = XEXP (u, 1))\n \t\tadd_dependence (insn, XEXP (u, 0), REG_DEP_ANTI);\n-\t      reg_last_uses[regno + i] = 0;\n \n \t      for (u = reg_last_sets[regno + i]; u; u = XEXP (u, 1))\n \t\tadd_dependence (insn, XEXP (u, 0), REG_DEP_OUTPUT);\n@@ -3366,6 +3365,7 @@ sched_analyze_1 (x, insn)\n \t\t but sets must be ordered with respect to a pending clobber. */\n \t      if (code == SET)\n \t\t{\n+\t          reg_last_uses[regno + i] = 0;\n \t          for (u = reg_last_clobbers[regno + i]; u; u = XEXP (u, 1))\n \t\t    add_dependence (insn, XEXP (u, 0), REG_DEP_OUTPUT);\n \t          SET_REGNO_REG_SET (reg_pending_sets, regno + i);\n@@ -3386,13 +3386,13 @@ sched_analyze_1 (x, insn)\n \n \t  for (u = reg_last_uses[regno]; u; u = XEXP (u, 1))\n \t    add_dependence (insn, XEXP (u, 0), REG_DEP_ANTI);\n-\t  reg_last_uses[regno] = 0;\n \n \t  for (u = reg_last_sets[regno]; u; u = XEXP (u, 1))\n \t    add_dependence (insn, XEXP (u, 0), REG_DEP_OUTPUT);\n \n \t  if (code == SET)\n \t    {\n+\t      reg_last_uses[regno] = 0;\n \t      for (u = reg_last_clobbers[regno]; u; u = XEXP (u, 1))\n \t\tadd_dependence (insn, XEXP (u, 0), REG_DEP_OUTPUT);\n \t      SET_REGNO_REG_SET (reg_pending_sets, regno);"}]}