{"sha": "2ee1067b6b1d31e76dacf4cf966c6c51e8a52770", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmVlMTA2N2I2YjFkMzFlNzZkYWNmNGNmOTY2YzZjNTFlOGE1Mjc3MA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-07-18T15:13:35Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-07-18T15:13:35Z"}, "message": "* cgraph.c (cgraph_remove_node): Clear the hash table slot.\n\nFrom-SVN: r69562", "tree": {"sha": "cda6ff30ff20bbbd39a5007dd50f86a19448319d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cda6ff30ff20bbbd39a5007dd50f86a19448319d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770/comments", "author": null, "committer": null, "parents": [{"sha": "580e7bf3a863908c39a9211d6eeb5b6ac7a2e446", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/580e7bf3a863908c39a9211d6eeb5b6ac7a2e446", "html_url": "https://github.com/Rust-GCC/gccrs/commit/580e7bf3a863908c39a9211d6eeb5b6ac7a2e446"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "5aeacafee43d7f85139c3f06f2e96ce638375c14", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2ee1067b6b1d31e76dacf4cf966c6c51e8a52770", "patch": "@@ -1,3 +1,7 @@\n+Fri Jul 18 17:05:57 CEST 2003  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cgraph.c (cgraph_remove_node): Clear the hash table slot.\n+\n 2003-07-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/11087"}, {"sha": "bc532690fe17c30b5348d3d30e26d013c9335771", "filename": "gcc/cgraph.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ee1067b6b1d31e76dacf4cf966c6c51e8a52770/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=2ee1067b6b1d31e76dacf4cf966c6c51e8a52770", "patch": "@@ -204,6 +204,7 @@ cgraph_remove_edge (struct cgraph_node *caller, struct cgraph_node *callee)\n void\n cgraph_remove_node (struct cgraph_node *node)\n {\n+  void **slot;\n   while (node->callers)\n     cgraph_remove_edge (node->callers->caller, node);\n   while (node->callees)\n@@ -225,6 +226,11 @@ cgraph_remove_node (struct cgraph_node *node)\n   if (node->next)\n     node->next->previous = node->previous;\n   DECL_SAVED_TREE (node->decl) = NULL;\n+  slot = \n+    htab_find_slot_with_hash (cgraph_hash, DECL_ASSEMBLER_NAME (node->decl),\n+\t\t\t      IDENTIFIER_HASH_VALUE (DECL_ASSEMBLER_NAME\n+\t\t\t\t\t\t     (node->decl)), 1);\n+  htab_clear_slot (cgraph_hash, slot);\n   /* Do not free the structure itself so the walk over chain can continue.  */\n }\n "}]}