{"sha": "31831acf291f3146c15a7cf3568188527a1cf425", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE4MzFhY2YyOTFmMzE0NmMxNWE3Y2YzNTY4MTg4NTI3YTFjZjQyNQ==", "commit": {"author": {"name": "Toon Moene", "email": "toon@moene.indiv.nluug.nl", "date": "2001-07-18T20:50:54Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2001-07-18T20:50:54Z"}, "message": "configure.in (_XOPEN_SOURCE, [...]): Move these defines before tests which might be affected by them.\n\n2001-07-18  Toon Moene  <toon@moene.indiv.nluug.nl>\n\n\t* libI77/configure.in (_XOPEN_SOURCE, _FILE_OFFSET_BITS): Move\n\tthese defines before tests which might be affected by them.\n\t(_XOPEN_SOURCE_EXTENDED): Define.\n\t* libI77/configure, libI77/config.h.in: Regenerate.\n\nFrom-SVN: r44133", "tree": {"sha": "42c96929db735bc667b04318be7d7df342f8dcc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/42c96929db735bc667b04318be7d7df342f8dcc9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31831acf291f3146c15a7cf3568188527a1cf425", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31831acf291f3146c15a7cf3568188527a1cf425", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31831acf291f3146c15a7cf3568188527a1cf425", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31831acf291f3146c15a7cf3568188527a1cf425/comments", "author": null, "committer": null, "parents": [{"sha": "20c93f7ce2e90a9e40994f3b4b60065b4b8c8fc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20c93f7ce2e90a9e40994f3b4b60065b4b8c8fc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20c93f7ce2e90a9e40994f3b4b60065b4b8c8fc4"}], "stats": {"total": 193, "additions": 105, "deletions": 88}, "files": [{"sha": "8704119b2c8dd491691078dcc0a33823047061ec", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=31831acf291f3146c15a7cf3568188527a1cf425", "patch": "@@ -1,3 +1,10 @@\n+2001-07-18  Toon Moene  <toon@moene.indiv.nluug.nl>\n+\n+\t* libI77/configure.in (_XOPEN_SOURCE, _FILE_OFFSET_BITS): Move\n+\tthese defines before tests which might be affected by them.\n+\t(_XOPEN_SOURCE_EXTENDED): Define.\n+\t* libI77/configure, libI77/config.h.in: Regenerate.\n+\n Wed Jul 18 11:14:33 2001  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* libU77/configure.in (_XOPEN_SOURCE, _FILE_OFFSET_BITS): Move"}, {"sha": "671cc67a94e8314a97bed5a6db57b619d0c6852c", "filename": "libf2c/libI77/config.h.in", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FlibI77%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FlibI77%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfig.h.in?ref=31831acf291f3146c15a7cf3568188527a1cf425", "patch": "@@ -30,6 +30,15 @@\n /* Define if you have the tempnam function.  */\n #undef HAVE_TEMPNAM\n \n+/* Get Single Unix Specification semantics */\n+#undef _XOPEN_SOURCE\n+\n+/* Get Single Unix Specification semantics */\n+#undef _XOPEN_SOURCE_EXTENDED\n+\n+/* Get 64-bit file size support */\n+#undef _FILE_OFFSET_BITS\n+\n /* Define if fcntl.h is missing. */\n #undef NO_FCNTL\n \n@@ -51,9 +60,3 @@\n /* Define to skip f2c undefs. */\n #undef Skip_f2c_Undefs\n \n-/* Get Single Unix Specification semantics */\n-#undef _XOPEN_SOURCE\n-\n-/* Get 64-bit file size support */\n-#undef _FILE_OFFSET_BITS\n-"}, {"sha": "96a537cf432323caea2b55bee76f03cee5a24333", "filename": "libf2c/libI77/configure", "status": "modified", "additions": 82, "deletions": 77, "changes": 159, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FlibI77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FlibI77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure?ref=31831acf291f3146c15a7cf3568188527a1cf425", "patch": "@@ -523,6 +523,22 @@ fi\n \n \n \n+# These defines are necessary to get 64-bit file size support.\n+\n+cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE 500L\n+EOF\n+\n+# The following is needed by irix6.2 so that struct timeval is declared.\n+cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE_EXTENDED 1\n+EOF\n+\n+cat >> confdefs.h <<\\EOF\n+#define _FILE_OFFSET_BITS 64\n+EOF\n+\n+\n \n \n \n@@ -531,7 +547,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:535: checking for $ac_word\" >&5\n+echo \"configure:551: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -561,7 +577,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:565: checking for $ac_word\" >&5\n+echo \"configure:581: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -612,7 +628,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:616: checking for $ac_word\" >&5\n+echo \"configure:632: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -645,7 +661,7 @@ fi\n \n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:649: checking whether we are using GNU C\" >&5\n+echo \"configure:665: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -654,7 +670,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:658: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:674: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -673,7 +689,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:677: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:693: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -708,7 +724,7 @@ fi\n test \"$AR\" || AR=ar\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:712: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:728: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -738,7 +754,7 @@ fi\n \n # Sanity check for the cross-compilation case:\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:742: checking how to run the C preprocessor\" >&5\n+echo \"configure:758: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -753,13 +769,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 757 \"configure\"\n+#line 773 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:763: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:779: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -770,13 +786,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 774 \"configure\"\n+#line 790 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:780: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:796: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -787,13 +803,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 791 \"configure\"\n+#line 807 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:797: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:813: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -819,17 +835,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:823: checking for stdio.h\" >&5\n+echo \"configure:839: checking for stdio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 828 \"configure\"\n+#line 844 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:833: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:849: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -857,20 +873,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:861: checking for ANSI C header files\" >&5\n+echo \"configure:877: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 866 \"configure\"\n+#line 882 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:874: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:890: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -887,7 +903,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 891 \"configure\"\n+#line 907 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -905,7 +921,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 909 \"configure\"\n+#line 925 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -926,7 +942,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 930 \"configure\"\n+#line 946 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -937,7 +953,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:941: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:957: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -962,12 +978,12 @@ fi\n \n \n echo $ac_n \"checking for posix\"\"... $ac_c\" 1>&6\n-echo \"configure:966: checking for posix\" >&5\n+echo \"configure:982: checking for posix\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_header_posix'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 971 \"configure\"\n+#line 987 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <unistd.h>\n@@ -993,12 +1009,12 @@ echo \"$ac_t\"\"$g77_cv_header_posix\" 1>&6\n # We can rely on the GNU library being posix-ish.  I guess checking the \n # header isn't actually like checking the functions, though...\n echo $ac_n \"checking for GNU library\"\"... $ac_c\" 1>&6\n-echo \"configure:997: checking for GNU library\" >&5\n+echo \"configure:1013: checking for GNU library\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_lib_gnu'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1002 \"configure\"\n+#line 1018 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n #ifdef __GNU_LIBRARY__\n@@ -1022,12 +1038,12 @@ echo \"$ac_t\"\"$g77_cv_lib_gnu\" 1>&6\n \n # Apparently cygwin needs to be special-cased.\n echo $ac_n \"checking for cyg\\`win'32\"\"... $ac_c\" 1>&6\n-echo \"configure:1026: checking for cyg\\`win'32\" >&5\n+echo \"configure:1042: checking for cyg\\`win'32\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_cygwin32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1031 \"configure\"\n+#line 1047 \"configure\"\n #include \"confdefs.h\"\n #ifdef __CYGWIN32__\n   yes\n@@ -1050,12 +1066,12 @@ echo \"$ac_t\"\"$g77_cv_sys_cygwin32\" 1>&6\n \n # ditto for mingw32.\n echo $ac_n \"checking for mingw32\"\"... $ac_c\" 1>&6\n-echo \"configure:1054: checking for mingw32\" >&5\n+echo \"configure:1070: checking for mingw32\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1059 \"configure\"\n+#line 1075 \"configure\"\n #include \"confdefs.h\"\n #ifdef __MINGW32__\n   yes\n@@ -1079,17 +1095,17 @@ echo \"$ac_t\"\"$g77_cv_sys_mingw32\" 1>&6\n \n ac_safe=`echo \"fcntl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for fcntl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1083: checking for fcntl.h\" >&5\n+echo \"configure:1099: checking for fcntl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1088 \"configure\"\n+#line 1104 \"configure\"\n #include \"confdefs.h\"\n #include <fcntl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1093: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1109: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1123,12 +1139,12 @@ fi\n \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1127: checking for working const\" >&5\n+echo \"configure:1143: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1132 \"configure\"\n+#line 1148 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1177,7 +1193,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1181: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1197: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1198,12 +1214,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1202: checking for size_t\" >&5\n+echo \"configure:1218: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1207 \"configure\"\n+#line 1223 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1236,12 +1252,12 @@ fi\n # Apparently positive result on cygwin loses re. NON_UNIX_STDIO\n # (as of cygwin b18). Likewise on mingw.\n echo $ac_n \"checking for fstat\"\"... $ac_c\" 1>&6\n-echo \"configure:1240: checking for fstat\" >&5\n+echo \"configure:1256: checking for fstat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_fstat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1245 \"configure\"\n+#line 1261 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char fstat(); below.  */\n@@ -1264,7 +1280,7 @@ fstat();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1268: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1284: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_fstat=yes\"\n else\n@@ -1284,7 +1300,7 @@ else\n fi\n \n echo $ac_n \"checking need for NON_UNIX_STDIO\"\"... $ac_c\" 1>&6\n-echo \"configure:1288: checking need for NON_UNIX_STDIO\" >&5\n+echo \"configure:1304: checking need for NON_UNIX_STDIO\" >&5\n if test $g77_cv_sys_cygwin32 = yes \\\n   || test $g77_cv_sys_mingw32 = yes \\\n   || test $ac_cv_func_fstat = no; then\n@@ -1300,12 +1316,12 @@ fi\n for ac_func in fseeko\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1304: checking for $ac_func\" >&5\n+echo \"configure:1320: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1309 \"configure\"\n+#line 1325 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1328,7 +1344,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1332: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1348: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1355,12 +1371,12 @@ done\n for ac_func in ftello\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1359: checking for $ac_func\" >&5\n+echo \"configure:1375: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1364 \"configure\"\n+#line 1380 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1383,7 +1399,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1387: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1403: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1410,12 +1426,12 @@ done\n for ac_func in ftruncate\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1414: checking for $ac_func\" >&5\n+echo \"configure:1430: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1419 \"configure\"\n+#line 1435 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1438,7 +1454,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1442: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1458: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1465,12 +1481,12 @@ done\n for ac_func in mkstemp\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1469: checking for $ac_func\" >&5\n+echo \"configure:1485: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1474 \"configure\"\n+#line 1490 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1493,7 +1509,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1497: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1513: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1520,12 +1536,12 @@ done\n for ac_func in tempnam\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1524: checking for $ac_func\" >&5\n+echo \"configure:1540: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1529 \"configure\"\n+#line 1545 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1548,7 +1564,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1552: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1568: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1578,19 +1594,19 @@ done\n # However, on my sunos4/gcc setup unistd.h leads us wrongly to believe\n # we're posix-conformant, so always do the test.\n echo $ac_n \"checking for ansi/posix sprintf result\"\"... $ac_c\" 1>&6\n-echo \"configure:1582: checking for ansi/posix sprintf result\" >&5\n+echo \"configure:1598: checking for ansi/posix sprintf result\" >&5\n if test \"$cross_compiling\" = yes; then\n   g77_cv_sys_sprintf_ansi=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1587 \"configure\"\n+#line 1603 \"configure\"\n #include \"confdefs.h\"\n   #include <stdio.h>\n     /* does sprintf return the number of chars transferred? */\n     main () {char foo[2]; (sprintf(foo, \"1\") == 1) ? exit(0) : exit(1);}\n \n EOF\n-if { (eval echo configure:1594: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1610: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   g77_cv_sys_sprintf_ansi=yes\n else\n@@ -1621,9 +1637,9 @@ fi\n \n # define NON_ANSI_RW_MODES on unix (can't hurt)\n echo $ac_n \"checking NON_ANSI_RW_MODES\"\"... $ac_c\" 1>&6\n-echo \"configure:1625: checking NON_ANSI_RW_MODES\" >&5\n+echo \"configure:1641: checking NON_ANSI_RW_MODES\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1627 \"configure\"\n+#line 1643 \"configure\"\n #include \"confdefs.h\"\n #ifdef unix\n   yes\n@@ -1668,12 +1684,12 @@ EOF\n \n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1672: checking for off_t\" >&5\n+echo \"configure:1688: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1677 \"configure\"\n+#line 1693 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1706,17 +1722,6 @@ cat >> confdefs.h <<\\EOF\n EOF\n \n \n-# These defines are necessary to get 64-bit file size support.\n-\n-cat >> confdefs.h <<\\EOF\n-#define _XOPEN_SOURCE 500L\n-EOF\n-\n-cat >> confdefs.h <<\\EOF\n-#define _FILE_OFFSET_BITS 64\n-EOF\n-\n-\n trap '' 1 2 15\n cat > confcache <<\\EOF\n # This file is a shell script that caches the results of configure"}, {"sha": "eafa71b5646b25ad7bb3996231e98e673e2caf16", "filename": "libf2c/libI77/configure.in", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FlibI77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31831acf291f3146c15a7cf3568188527a1cf425/libf2c%2FlibI77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure.in?ref=31831acf291f3146c15a7cf3568188527a1cf425", "patch": "@@ -23,6 +23,13 @@ AC_PREREQ(2.12.1)\n AC_INIT(ftell_.c)\n AC_CONFIG_HEADER(config.h)\n \n+# These defines are necessary to get 64-bit file size support.\n+\n+AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n+# The following is needed by irix6.2 so that struct timeval is declared.\n+AC_DEFINE(_XOPEN_SOURCE_EXTENDED, 1, [Get Single Unix Specification semantics])\n+AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n+\n dnl Checks for programs.\n \n dnl FIXME AC_PROG_CC wants CC to be able to link things, but it may\n@@ -201,11 +208,6 @@ AC_TYPE_OFF_T\n \n AC_DEFINE(Skip_f2c_Undefs, 1, [Define to skip f2c undefs.])\n \n-# These defines are necessary to get 64-bit file size support.\n-\n-AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n-AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n-\n AC_OUTPUT(Makefile)\n \n dnl We might have configuration options to:"}]}