{"sha": "ce521a9c85bfb120a9904293897a256e83477eca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U1MjFhOWM4NWJmYjEyMGE5OTA0MjkzODk3YTI1NmU4MzQ3N2VjYQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-08-30T08:02:34Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2004-08-30T08:02:34Z"}, "message": "Makefile.def (bootstrap stages): Add 'lean' parameter.\n\n2004-08-26  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* Makefile.def (bootstrap stages): Add 'lean' parameter.\n\t* Makefile.tpl (configure-stageN-*, all-stageN-*): Turned into\n\tphony targets; do not generate timestamp files.\n\t(distclean-stageN): Remove references to their timestamp files.\n\t(restageN, touch-stageN): Remove.\n\t(stageN-bubble): Rewritten.\n\t(compare): Support lean bootstraps.\n\t* Makefile.in: Regenerate.\n\n\t* configure.in: Only warn when bootstrapping but\n\tbuild != host or build != target.  Support lean bootstraps.\n\t* configure: Regenerate.\n\nFrom-SVN: r86754", "tree": {"sha": "9ce7fd6fd94fdc65bcbf337852b6d557c2381718", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ce7fd6fd94fdc65bcbf337852b6d557c2381718"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce521a9c85bfb120a9904293897a256e83477eca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce521a9c85bfb120a9904293897a256e83477eca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce521a9c85bfb120a9904293897a256e83477eca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce521a9c85bfb120a9904293897a256e83477eca/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "afa396ff844ccc8a377adf637307535ca60a1abe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa396ff844ccc8a377adf637307535ca60a1abe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afa396ff844ccc8a377adf637307535ca60a1abe"}], "stats": {"total": 2280, "additions": 978, "deletions": 1302}, "files": [{"sha": "eab2b2f9a9f12644f12cf28b2b0527fe9a5ef15a", "filename": "ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce521a9c85bfb120a9904293897a256e83477eca/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce521a9c85bfb120a9904293897a256e83477eca/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=ce521a9c85bfb120a9904293897a256e83477eca", "patch": "@@ -1,3 +1,18 @@\n+2004-08-26  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* Makefile.def (bootstrap stages): Add 'lean' parameter.\n+\t* Makefile.tpl (configure-stageN-*, all-stageN-*): Turned into\n+\tphony targets; do not generate timestamp files.\n+\t(distclean-stageN): Remove references to their timestamp files.\n+\t(restageN, touch-stageN): Remove.\n+\t(stageN-bubble): Rewritten.\n+\t(compare): Support lean bootstraps.\n+\t* Makefile.in: Regenerate.\n+\n+\t* configure.in: Only warn when bootstrapping but\n+\tbuild != host or build != target.  Support lean bootstraps.\n+\t* configure: Regenerate.\n+\n 2004-08-26  Phil Edwards  <phil@codesourcery.com>\n \n \t* configure.in:  Give a better error message if GMP/MPFR are missing"}, {"sha": "0c8c9a1ce833bd353461fedca832103f108534c4", "filename": "Makefile.def", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce521a9c85bfb120a9904293897a256e83477eca/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce521a9c85bfb120a9904293897a256e83477eca/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=ce521a9c85bfb120a9904293897a256e83477eca", "patch": "@@ -445,14 +445,14 @@ bootstrap_stage = {\n \tstage_configure_flags=\"@stage2_werror_flag@\" ;\n \tstage_make_flags=\"\" ; };\n bootstrap_stage = {\n-\tid=3 ; prev=2 ;\n+\tid=3 ; prev=2 ; lean=1 ;\n \tcompare_target=compare ;\n \tbootstrap_target=bootstrap ;\n \tcleanstrap_target=cleanstrap ;\n \tstage_configure_flags=\"@stage2_werror_flag@\" ;\n \tstage_make_flags=\"\" ; };\n bootstrap_stage = {\n-\tid=4 ; prev=3 ;\n+\tid=4 ; prev=3 ; lean=2 ;\n \tcompare_target=compare3 ;\n \tbootstrap_target=bootstrap4 ;\n \tstage_configure_flags=\"@stage2_werror_flag@\" ;"}, {"sha": "1acb6ce510a8c5c311a43a6435c124dbb5b907d1", "filename": "Makefile.in", "status": "modified", "additions": 798, "deletions": 1182, "changes": 1980, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce521a9c85bfb120a9904293897a256e83477eca/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce521a9c85bfb120a9904293897a256e83477eca/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=ce521a9c85bfb120a9904293897a256e83477eca"}, {"sha": "fed68247581706f10044f5023ce5ea6b3af04ff2", "filename": "Makefile.tpl", "status": "modified", "additions": 32, "deletions": 56, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce521a9c85bfb120a9904293897a256e83477eca/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce521a9c85bfb120a9904293897a256e83477eca/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=ce521a9c85bfb120a9904293897a256e83477eca", "patch": "@@ -1376,52 +1376,52 @@ POSTSTAGE1_FLAGS_TO_PASS = \\\n .PHONY: stage[+id+]-start stage[+id+]-end\n \n stage[+id+]-start::\n-\t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || :\n+\t@[ -f stage_current ] && $(MAKE) `cat stage_current`-end || : ; \\\n \techo stage[+id+] > stage_current ; \\\n \techo stage[+id+] > stage_last[+ FOR host_modules +][+ IF bootstrap +]\n @if [+ module +]\n-\t[ -d stage[+id+]-[+module+] ] || mkdir stage[+id+]-[+module+]; \\\n+\t@[ -d stage[+id+]-[+module+] ] || mkdir stage[+id+]-[+module+]; \\\n \tset stage[+id+]-[+module+] [+module+] ; @CREATE_LINK_TO_DIR@ [+ IF prev +] ; \\\n \tset stage[+prev+]-[+module+] prev-[+module+] ; @CREATE_LINK_TO_DIR@ [+ ENDIF prev +]\n @endif [+ module +][+ ENDIF bootstrap +][+ ENDFOR host_modules +]\n \n stage[+id+]-end::\n-\trm -f stage_current[+ FOR host_modules +][+ IF bootstrap +]\n+\t@rm -f stage_current[+ FOR host_modules +][+ IF bootstrap +]\n @if [+ module +]\n-\tset [+module+] stage[+id+]-[+module+] ; @UNDO_LINK_TO_DIR@ [+ IF prev +] ; \\\n+\t@set [+module+] stage[+id+]-[+module+] ; @UNDO_LINK_TO_DIR@ [+ IF prev +] ; \\\n \tset prev-[+module+] stage[+prev+]-[+module+] ; @UNDO_LINK_TO_DIR@ [+ ENDIF prev +]\n @endif [+ module +][+ ENDIF bootstrap +][+ ENDFOR host_modules +]\n \n # Bubble a bugfix through all the stages up to stage [+id+].  They\n # are remade, but not reconfigured.  The next stage (if any) will not\n # be reconfigured as well.\n .PHONY: stage[+id+]-bubble\n-stage[+id+]-bubble:: [+ IF prev +]stage[+prev+]-bubble[+ ENDIF +]\n-\t@case `echo all-stage[+id+]-*` in \\\n-\t  'all-stage[+id+]-*') ;; \\\n-\t  *) echo Remaking stage [+id+] ; rm -f all-stage[+id+]-* ;; \\\n-\tesac ; \\\n-\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) all-stage[+id+]\n+stage[+id+]-bubble:: [+ IF prev +]stage[+prev+]-bubble[+ ENDIF +][+IF lean +]\n+\t@bootstrap_lean@-rm -rf stage[+lean+]-* ; $(STAMP) stage[+lean+]-lean[+ ENDIF lean +]\n+\t@if test -f stage[+id+]-lean [+\n+\t  IF prev +]|| test -f stage[+prev+]-lean [+ ENDIF prev +] ; then \\\n+\t  echo Skipping rebuild of stage[+id+] ; \\\n+\telse \\\n+\t  $(MAKE) $(RECURSE_FLAGS_TO_PASS) all-stage[+id+]; \\\n+\tfi\n \n .PHONY: all-stage[+id+]\n all-stage[+id+]: [+ FOR host_modules +][+ IF bootstrap +]\\\n   maybe-all-stage[+id+]-[+module+][+\n ENDIF bootstrap+] [+ ENDFOR host_modules +]\n \n [+ FOR host_modules +][+ IF bootstrap +]\n+.PHONY: configure-stage[+id+]-[+module+] maybe-configure-stage[+id+]-[+module+]\n+.PHONY: all-stage[+id+]-[+module+] maybe-all-stage[+id+]-[+module+]\n+\n maybe-configure-stage[+id+]-[+module+]:\n maybe-all-stage[+id+]-[+module+]:\n \n @if [+module+]-bootstrap\n maybe-configure-stage[+id+]-[+module+]: configure-stage[+id+]-[+module+]\n-configure-stage[+id+]-[+module+]: [+ IF prev +] maybe-all-stage[+prev+]-[+module+] [+ ENDIF prev +]\n-\t$(MAKE) stage[+id+]-start\n-\t@if [ -f stage[+id+]-[+module+]/Makefile ] ; then \\\n-\t  $(STAMP) configure-stage[+id+]-[+module+] ; \\\n-\t  exit 0; \\\n-\telse \\\n-\t  true ; \\\n-\tfi ; \\\n+configure-stage[+id+]-[+module+]:\n+\t@$(MAKE) stage[+id+]-start\n+\t@[ -f [+module+]/Makefile ] && exit 0 || : ; \\\n \tr=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; [+ IF prev +] \\\n \t$(STAGE_HOST_EXPORTS) [+ ELSE prev +] \\\n@@ -1441,30 +1441,32 @@ configure-stage[+id+]-[+module+]: [+ IF prev +] maybe-all-stage[+prev+]-[+module\n \tesac; \\\n \t$(SHELL) $${libsrcdir}/configure \\\n \t  $(HOST_CONFIGARGS) $${srcdiroption} \\\n-\t  [+stage_configure_flags+] [+extra_configure_flags+] && \\\n-\t  $(STAMP) ../configure-stage[+id+]-[+module+]\n+\t  [+stage_configure_flags+] [+extra_configure_flags+]\n \n maybe-all-stage[+id+]-[+module+]: all-stage[+id+]-[+module+]\n all-stage[+id+]-[+module+]: configure-stage[+id+]-[+module+]\n-\t$(MAKE) stage[+id+]-start\n+\t@$(MAKE) stage[+id+]-start\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; [+ IF prev +] \\\n \t$(STAGE_HOST_EXPORTS) [+ ELSE prev +] \\\n \t$(HOST_EXPORTS) [+ ENDIF prev +] \\\n \tcd [+module+] && \\\n \t$(MAKE) $(FLAGS_TO_PASS) [+ IF prev +] \\\n \t\t$(POSTSTAGE1_FLAGS_TO_PASS) [+ ENDIF prev +] \\\n-\t\t[+stage_make_flags+] [+extra_make_flags+] && \\\n-\t$(STAMP) ../all-stage[+id+]-[+module+]\n+\t\t[+stage_make_flags+] [+extra_make_flags+]\n @endif [+module+]-bootstrap\n [+ ENDIF bootstrap +][+ ENDFOR host_modules +]\n \n # FIXME: Will not need to be conditional when toplevel bootstrap is the\n # only possibility, but now it conflicts with no-bootstrap rules\n @if gcc-bootstrap\n [+ IF compare-target +]\n-[+compare-target+]: all-stage[+id+]-gcc\n-\t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || :\n+[+compare-target+]:\n+\t@if test -f stage[+prev+]-lean; then \\\n+\t  echo Cannot compare object files as stage [+prev+] was deleted. ; \\\n+\t  exit 0 ; \\\n+\tfi; \\\n+\t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || : ; \\\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \trm -f .bad_compare ; \\\n@@ -1483,49 +1485,23 @@ all-stage[+id+]-[+module+]: configure-stage[+id+]-[+module+]\n \telse \\\n \t  true; \\\n \tfi ; \\\n-\t$(STAMP) [+compare-target+]\n+\t$(STAMP) [+compare-target+][+ IF prev +]\n+\t@bootstrap_lean@-rm -rf stage[+prev+]-* ; $(STAMP) stage[+prev+]-lean[+ ENDIF prev +]\n [+ ENDIF compare-target +]\n \n [+ IF bootstrap-target +]\n .PHONY: [+bootstrap-target+]\n-[+bootstrap-target+]: stage[+id+]-bubble [+\n-\t  IF compare-target +] [+compare-target+] [+\n-\t  ENDIF compare-target +] all\n+[+bootstrap-target+]: stage[+id+]-bubble [+compare-target+] all\n [+ ENDIF bootstrap-target +]\n \n-.PHONY: restage[+id+] touch-stage[+id+] distclean-stage[+id+]\n+.PHONY: distclean-stage[+id+]\n \n # Rules to wipe a stage and all the following ones, used for cleanstrap\n [+ IF prev +]distclean-stage[+prev+]:: distclean-stage[+id+] [+ ENDIF prev +]\n distclean-stage[+id+]::\n \t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || :\n-\trm -rf configure-stage[+id+]-* all-stage[+id+]-* stage[+id+]-* [+\n-\t  IF compare-target +][+compare-target+] [+ ENDIF compare-target +]\n-\n-# Rules to renew the timestamp on a stage and all the following ones\n-[+ IF prev +]touch-stage[+prev+]:: touch-stage[+id+] [+ ENDIF prev +]\n-touch-stage[+id+]::\n-\t@case `echo configure-stage[+id+]-*` in \\\n-\t  'configure-stage[+id+]-*') ;; \\\n-\t  *) \\\n-\t    echo '$(STAMP)' configure-stage[+id+]-* && \\\n-\t    $(STAMP) configure-stage[+id+]-* ;; \\\n-\tesac ; \\\n-\tcase `echo all-stage[+id+]-*` in \\\n-\t  'all-stage[+id+]-*') ;; \\\n-\t  *) \\\n-\t    echo '$(STAMP)' all-stage[+id+]-* && \\\n-\t    $(STAMP) all-stage[+id+]-* ;; \\\n-\tesac\n-\n-# After building a stage, touch the following ones\n-[+ IF prev +]restage[+prev+]:: touch-stage[+id+] [+ ENDIF prev +]\n-restage[+id+]::\n-\trm -rf all-stage[+id+]-* [+\n+\trm -rf stage[+id+]-* [+\n \t  IF compare-target +][+compare-target+] [+ ENDIF compare-target +]\n-\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) [+\n-\t  IF compare-target +][+compare-target+] [+\n-\t  ELSE +] all-stage[+id+] [+ ENDIF compare-target +]\n \n [+ IF cleanstrap-target +]\n .PHONY: [+cleanstrap-target+]"}, {"sha": "f76883b1adcd1a35ca748f8c4bbabadc16ea7a47", "filename": "configure", "status": "modified", "additions": 83, "deletions": 48, "changes": 131, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce521a9c85bfb120a9904293897a256e83477eca/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce521a9c85bfb120a9904293897a256e83477eca/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=ce521a9c85bfb120a9904293897a256e83477eca", "patch": "@@ -24,7 +24,7 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --with-gmp=PATH         Specify directory for installed GMP library\"\n ac_help=\"$ac_help\n-  --enable-bootstrap     Enable bootstrapping [no]\"\n+  --enable-bootstrap[=lean]     Enable bootstrapping [no]\"\n ac_help=\"$ac_help\n   --enable-serial-[{host,target,build}-]configure\n                           Force sequential configuration of\n@@ -3098,23 +3098,56 @@ if test \"${enable_bootstrap+set}\" = set; then\n   enableval=\"$enable_bootstrap\"\n   :\n else\n-  enable_bootstrap=no\n+  enable_bootstrap=default\n fi\n \n-if test -d ${srcdir}/gcc; then\n-  case \"$host:$target:$enable_bootstrap\" in\n-    $build:$build:yes | *:no) ;;\n-    *:yes) { echo \"configure: error: cannot bootstrap a cross-compiler\" 1>&2; exit 1; } ;;\n-    *) { echo \"configure: error: invalid option for --enable-bootstrap\" 1>&2; exit 1; } ;;\n-  esac\n-else\n-  if test $enable_bootstrap = yes; then\n-    { echo \"configure: error: cannot bootstrap without a compiler\" 1>&2; exit 1; }\n-  fi\n-fi\n \n+# Issue errors and warnings for invalid/strange bootstrap combinations.\n+case \"$configdirs\" in\n+  *gcc*) have_compiler=yes ;;\n+  *) have_compiler=no ;;\n+esac\n+\n+case \"$have_compiler:$host:$target:$enable_bootstrap\" in\n+  *:*:*:no) ;;\n+\n+  # Default behavior.  (We'll) enable bootstrap if we have a compiler\n+  # and we are in a native configuration.\n+  yes:$build:$build:default)\n+    # This will become 'yes'\n+    enable_bootstrap=no ;;\n+\n+  *:*:*:default)\n+    enable_bootstrap=no ;;\n+\n+  # We have a compiler and we are in a native configuration, bootstrap is ok\n+  yes:$build:$build:yes | yes:$build:$build:lean)\n+    ;;\n+\n+  # Other configurations, but we have a compiler.  Assume the user knows\n+  # what he's doing.\n+  yes:*:*:yes | yes:*:*:lean)\n+    echo \"configure: warning: trying to bootstrap a cross compiler\" 1>&2\n+    ;;\n+\n+  # No compiler: if they passed --enable-bootstrap explicitly, fail\n+  no:*:*:yes | no:*:*:lean)\n+    { echo \"configure: error: cannot bootstrap without a compiler\" 1>&2; exit 1; } ;;\n+\n+  # Fail if wrong command line\n+  *)\n+    { echo \"configure: error: invalid option for --enable-bootstrap\" 1>&2; exit 1; }\n+    ;;\n+esac\n+\n+# Adjust the toplevel makefile according to whether bootstrap was selected.\n case \"$enable_bootstrap\" in\n   yes)\n+    bootstrap_lean='#'\n+    default_target=bootstrap\n+    bootstrap_suffix=bootstrap ;;\n+  lean)\n+    bootstrap_lean=''\n     default_target=bootstrap\n     bootstrap_suffix=bootstrap ;;\n   no)\n@@ -3123,6 +3156,7 @@ case \"$enable_bootstrap\" in\n esac\n \n \n+\n for module in ${build_configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${build_subdir}/${module}/Makefile; then\n@@ -3540,7 +3574,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3544: checking for $ac_word\" >&5\n+echo \"configure:3578: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3573,7 +3607,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3577: checking for $ac_word\" >&5\n+echo \"configure:3611: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3612,7 +3646,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3616: checking for $ac_word\" >&5\n+echo \"configure:3650: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3645,7 +3679,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3649: checking for $ac_word\" >&5\n+echo \"configure:3683: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3684,7 +3718,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3688: checking for $ac_word\" >&5\n+echo \"configure:3722: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3717,7 +3751,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3721: checking for $ac_word\" >&5\n+echo \"configure:3755: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3756,7 +3790,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3760: checking for $ac_word\" >&5\n+echo \"configure:3794: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3789,7 +3823,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3793: checking for $ac_word\" >&5\n+echo \"configure:3827: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3828,7 +3862,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3832: checking for $ac_word\" >&5\n+echo \"configure:3866: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3861,7 +3895,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3865: checking for $ac_word\" >&5\n+echo \"configure:3899: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3900,7 +3934,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3904: checking for $ac_word\" >&5\n+echo \"configure:3938: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3933,7 +3967,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3937: checking for $ac_word\" >&5\n+echo \"configure:3971: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3972,7 +4006,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3976: checking for $ac_word\" >&5\n+echo \"configure:4010: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4005,7 +4039,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4009: checking for $ac_word\" >&5\n+echo \"configure:4043: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4044,7 +4078,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4048: checking for $ac_word\" >&5\n+echo \"configure:4082: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4077,7 +4111,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4081: checking for $ac_word\" >&5\n+echo \"configure:4115: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4116,7 +4150,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4120: checking for $ac_word\" >&5\n+echo \"configure:4154: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4149,7 +4183,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4153: checking for $ac_word\" >&5\n+echo \"configure:4187: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4195,7 +4229,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4199: checking for $ac_word\" >&5\n+echo \"configure:4233: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4228,7 +4262,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4232: checking for $ac_word\" >&5\n+echo \"configure:4266: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4267,7 +4301,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4271: checking for $ac_word\" >&5\n+echo \"configure:4305: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4300,7 +4334,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4304: checking for $ac_word\" >&5\n+echo \"configure:4338: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4339,7 +4373,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4343: checking for $ac_word\" >&5\n+echo \"configure:4377: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4372,7 +4406,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4376: checking for $ac_word\" >&5\n+echo \"configure:4410: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4411,7 +4445,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4415: checking for $ac_word\" >&5\n+echo \"configure:4449: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4444,7 +4478,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4448: checking for $ac_word\" >&5\n+echo \"configure:4482: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4483,7 +4517,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4487: checking for $ac_word\" >&5\n+echo \"configure:4521: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4516,7 +4550,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4520: checking for $ac_word\" >&5\n+echo \"configure:4554: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4555,7 +4589,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4559: checking for $ac_word\" >&5\n+echo \"configure:4593: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4588,7 +4622,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4592: checking for $ac_word\" >&5\n+echo \"configure:4626: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4627,7 +4661,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4631: checking for $ac_word\" >&5\n+echo \"configure:4665: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4660,7 +4694,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4664: checking for $ac_word\" >&5\n+echo \"configure:4698: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4745,7 +4779,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4749: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4783: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4789,10 +4823,10 @@ esac\n \n \n # It makes debugging easier if we create as symlinks the stage directories\n-# gcc for stageN-gcc and stage-prev for stage(N-1).  In case this is not\n+# gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n echo $ac_n \"checking if symbolic links between directories work\"\"... $ac_c\" 1>&6\n-echo \"configure:4796: checking if symbolic links between directories work\" >&5\n+echo \"configure:4830: checking if symbolic links between directories work\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5021,6 +5055,7 @@ s%@CONFIGURED_M4@%$CONFIGURED_M4%g\n s%@CONFIGURED_FLEX@%$CONFIGURED_FLEX%g\n s%@CONFIGURED_LEX@%$CONFIGURED_LEX%g\n s%@CONFIGURED_MAKEINFO@%$CONFIGURED_MAKEINFO%g\n+s%@bootstrap_lean@%$bootstrap_lean%g\n s%@default_target@%$default_target%g\n /@serialization_dependencies@/r $serialization_dependencies\n s%@serialization_dependencies@%%g"}, {"sha": "080ac0d2a0fdc88acddcd05e59b0161028e88425", "filename": "configure.in", "status": "modified", "additions": 48, "deletions": 14, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce521a9c85bfb120a9904293897a256e83477eca/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce521a9c85bfb120a9904293897a256e83477eca/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=ce521a9c85bfb120a9904293897a256e83477eca", "patch": "@@ -1695,28 +1695,62 @@ esac\n # not to nest @if/@endif pairs, because configure will not warn you at all.\n \n AC_ARG_ENABLE([bootstrap],\n-[  --enable-bootstrap     Enable bootstrapping [no]],,\n-enable_bootstrap=no)\n-if test -d ${srcdir}/gcc; then\n-  case \"$host:$target:$enable_bootstrap\" in\n-    $build:$build:yes | *:no) ;;\n-    *:yes) AC_MSG_ERROR([cannot bootstrap a cross-compiler]) ;;\n-    *) AC_MSG_ERROR([invalid option for --enable-bootstrap]) ;;\n-  esac\n-else\n-  if test $enable_bootstrap = yes; then\n-    AC_MSG_ERROR([cannot bootstrap without a compiler])\n-  fi\n-fi\n+[  --enable-bootstrap[=lean]     Enable bootstrapping [no]],,\n+enable_bootstrap=default)\n \n+# Issue errors and warnings for invalid/strange bootstrap combinations.\n+case \"$configdirs\" in\n+  *gcc*) have_compiler=yes ;;\n+  *) have_compiler=no ;;\n+esac\n+\n+case \"$have_compiler:$host:$target:$enable_bootstrap\" in\n+  *:*:*:no) ;;\n+\n+  # Default behavior.  (We'll) enable bootstrap if we have a compiler\n+  # and we are in a native configuration.\n+  yes:$build:$build:default)\n+    # This will become 'yes'\n+    enable_bootstrap=no ;;\n+\n+  *:*:*:default)\n+    enable_bootstrap=no ;;\n+\n+  # We have a compiler and we are in a native configuration, bootstrap is ok\n+  yes:$build:$build:yes | yes:$build:$build:lean)\n+    ;;\n+\n+  # Other configurations, but we have a compiler.  Assume the user knows\n+  # what he's doing.\n+  yes:*:*:yes | yes:*:*:lean)\n+    AC_MSG_WARN([trying to bootstrap a cross compiler])\n+    ;;\n+\n+  # No compiler: if they passed --enable-bootstrap explicitly, fail\n+  no:*:*:yes | no:*:*:lean)\n+    AC_MSG_ERROR([cannot bootstrap without a compiler]) ;;\n+\n+  # Fail if wrong command line\n+  *)\n+    AC_MSG_ERROR([invalid option for --enable-bootstrap])\n+    ;;\n+esac\n+\n+# Adjust the toplevel makefile according to whether bootstrap was selected.\n case \"$enable_bootstrap\" in\n   yes)\n+    bootstrap_lean='#'\n+    default_target=bootstrap\n+    bootstrap_suffix=bootstrap ;;\n+  lean)\n+    bootstrap_lean=''\n     default_target=bootstrap\n     bootstrap_suffix=bootstrap ;;\n   no)\n     default_target=all\n     bootstrap_suffix=no-bootstrap ;;\n esac\n+AC_SUBST(bootstrap_lean)\n AC_SUBST(default_target)\n \n for module in ${build_configdirs} ; do\n@@ -2240,7 +2274,7 @@ esac\n AC_SUBST(stage1_cflags)\n \n # It makes debugging easier if we create as symlinks the stage directories\n-# gcc for stageN-gcc and stage-prev for stage(N-1).  In case this is not\n+# gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n AC_CACHE_CHECK([if symbolic links between directories work],\n [gcc_cv_prog_ln_s_dir],"}]}