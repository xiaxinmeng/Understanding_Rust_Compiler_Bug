{"sha": "6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmMyOTFhZDgyOGZjYjVmMDFhMWQyY2IyM2Y2MDc4ZTlhNmY5NThiOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2019-10-05T21:36:46Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2019-10-05T21:36:46Z"}, "message": "ipa-inline.c: Fix type; compute size rather than self_size for size of caller function.\n\n\n\t* ipa-inline.c: Fix type; compute size rather than self_size\n\tfor size of caller function.\n\nFrom-SVN: r276629", "tree": {"sha": "cb2d5ac246bfbc34634d26e4da4681af6ae73ba5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb2d5ac246bfbc34634d26e4da4681af6ae73ba5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9/comments", "author": null, "committer": null, "parents": [{"sha": "2345fe52da74dac58173489e844647d3a94f4ca8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2345fe52da74dac58173489e844647d3a94f4ca8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2345fe52da74dac58173489e844647d3a94f4ca8"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "d4e180dcf33d6a64df212b904add2b83d475efd6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9", "patch": "@@ -1,3 +1,8 @@\n+2019-10-05  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-inline.c: Fix type; compute size rather than self_size\n+\tfor size of caller function.\n+\n 2019-10-05  Iain Sandoe  <iain@sandoe.co.uk>\n \n \tPR target/59888"}, {"sha": "681801a9aec0cb4e9e920de0a5cb8501a9ce9f3f", "filename": "gcc/ipa-inline.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9/gcc%2Fipa-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9/gcc%2Fipa-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline.c?ref=6c291ad828fcb5f01a1d2cb23f6078e9a6f958b9", "patch": "@@ -1186,7 +1186,7 @@ edge_badness (struct cgraph_edge *edge, bool dump)\n \t     if (need_more_work)\n \t       noninline_callee ();\n \t   }\n-\t Withhout panilizing this case, we usually inline noninline_callee\n+\t Withhout penalizing this case, we usually inline noninline_callee\n \t into the inline_caller because overall_growth is small preventing\n \t further inlining of inline_caller.\n \n@@ -1243,7 +1243,7 @@ edge_badness (struct cgraph_edge *edge, bool dump)\n \t    overall_growth += 256 * 256 - 256;\n \t  denominator *= overall_growth;\n         }\n-      denominator *= ipa_fn_summaries->get (caller)->self_size + growth;\n+      denominator *= ipa_fn_summaries->get (caller)->size + growth;\n \n       badness = - numerator / denominator;\n "}]}