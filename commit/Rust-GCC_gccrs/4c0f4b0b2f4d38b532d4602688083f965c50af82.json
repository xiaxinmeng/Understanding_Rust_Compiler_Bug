{"sha": "4c0f4b0b2f4d38b532d4602688083f965c50af82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGMwZjRiMGIyZjRkMzhiNTMyZDQ2MDI2ODgwODNmOTY1YzUwYWY4Mg==", "commit": {"author": {"name": "Dmitry Gorbachev", "email": "d.g.gorbachev@gmail.com", "date": "2009-10-27T18:17:13Z"}, "committer": {"name": "Rafael Espindola", "email": "espindola@gcc.gnu.org", "date": "2009-10-27T18:17:13Z"}, "message": "re PR lto/41652 (LTO plugin misconfiguration)\n\n2009-10-27  Dmitry Gorbachev  <d.g.gorbachev@gmail.com>\n\n\tPR lto/41652\n\t* configure.ac: Call AC_SYS_LARGEFILE before AC_OUTPUT.\n\t* configure: Regenerate.\n\nFrom-SVN: r153610", "tree": {"sha": "3ffecdca3794d5213b337154f17ca5a2203cf5f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ffecdca3794d5213b337154f17ca5a2203cf5f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c0f4b0b2f4d38b532d4602688083f965c50af82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c0f4b0b2f4d38b532d4602688083f965c50af82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c0f4b0b2f4d38b532d4602688083f965c50af82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c0f4b0b2f4d38b532d4602688083f965c50af82/comments", "author": null, "committer": null, "parents": [{"sha": "41ca8d08460314d305c79140abef6c9587b9b446", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41ca8d08460314d305c79140abef6c9587b9b446", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41ca8d08460314d305c79140abef6c9587b9b446"}], "stats": {"total": 438, "additions": 222, "deletions": 216}, "files": [{"sha": "e0e78929fd90701474e1474d595114616c7b5acc", "filename": "lto-plugin/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c0f4b0b2f4d38b532d4602688083f965c50af82/lto-plugin%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c0f4b0b2f4d38b532d4602688083f965c50af82/lto-plugin%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FChangeLog?ref=4c0f4b0b2f4d38b532d4602688083f965c50af82", "patch": "@@ -1,3 +1,9 @@\n+2009-10-27  Dmitry Gorbachev  <d.g.gorbachev@gmail.com>\n+\n+\tPR lto/41652\n+\t* configure.ac: Call AC_SYS_LARGEFILE before AC_OUTPUT.\n+\t* configure: Regenerate.\n+\n 2009-10-26  Richard Guenther  <rguenther@suse.de>\n \n \t* configure.ac: Use AM_MAINTAINER_MODE."}, {"sha": "1265e10c4f9a7a1490030e63973ec17457fc7fa4", "filename": "lto-plugin/configure", "status": "modified", "additions": 215, "deletions": 215, "changes": 430, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c0f4b0b2f4d38b532d4602688083f965c50af82/lto-plugin%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c0f4b0b2f4d38b532d4602688083f965c50af82/lto-plugin%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2Fconfigure?ref=4c0f4b0b2f4d38b532d4602688083f965c50af82", "patch": "@@ -861,13 +861,13 @@ enable_option_checking\n with_build_libsubdir\n enable_maintainer_mode\n enable_dependency_tracking\n+enable_largefile\n enable_shared\n enable_static\n with_pic\n enable_fast_install\n with_gnu_ld\n enable_libtool_lock\n-enable_largefile\n '\n       ac_precious_vars='build_alias\n host_alias\n@@ -1503,12 +1503,12 @@ Optional Features:\n \t\t\t  (and sometimes confusing) to the casual installer\n   --disable-dependency-tracking  speeds up one-time build\n   --enable-dependency-tracking   do not reject slow dependency extractors\n+  --disable-largefile     omit support for large files\n   --enable-shared[=PKGS]  build shared libraries [default=yes]\n   --enable-static[=PKGS]  build static libraries [default=yes]\n   --enable-fast-install[=PKGS]\n                           optimize for fast installation [default=yes]\n   --disable-libtool-lock  avoid locking (might break parallel builds)\n-  --disable-largefile     omit support for large files\n \n Optional Packages:\n   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]\n@@ -3838,6 +3838,205 @@ fi\n \n \n \n+# Check whether --enable-largefile was given.\n+if test \"${enable_largefile+set}\" = set; then :\n+  enableval=$enable_largefile;\n+fi\n+\n+if test \"$enable_largefile\" != no; then\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for special C compiler options needed for large files\" >&5\n+$as_echo_n \"checking for special C compiler options needed for large files... \" >&6; }\n+if test \"${ac_cv_sys_largefile_CC+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_cv_sys_largefile_CC=no\n+     if test \"$GCC\" != yes; then\n+       ac_save_CC=$CC\n+       while :; do\n+\t # IRIX 6.2 and later do not support large files by default,\n+\t # so use the C compiler's -n32 option if that helps.\n+\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <sys/types.h>\n+ /* Check that off_t can represent 2**63 - 1 correctly.\n+    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n+    since some C++ compilers masquerading as C compilers\n+    incorrectly reject 9223372036854775807.  */\n+#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n+\t\t       && LARGE_OFF_T % 2147483647 == 1)\n+\t\t      ? 1 : -1];\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+\t if ac_fn_c_try_compile \"$LINENO\"; then :\n+  break\n+fi\n+rm -f core conftest.err conftest.$ac_objext\n+\t CC=\"$CC -n32\"\n+\t if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_sys_largefile_CC=' -n32'; break\n+fi\n+rm -f core conftest.err conftest.$ac_objext\n+\t break\n+       done\n+       CC=$ac_save_CC\n+       rm -f conftest.$ac_ext\n+    fi\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_CC\" >&5\n+$as_echo \"$ac_cv_sys_largefile_CC\" >&6; }\n+  if test \"$ac_cv_sys_largefile_CC\" != no; then\n+    CC=$CC$ac_cv_sys_largefile_CC\n+  fi\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for _FILE_OFFSET_BITS value needed for large files\" >&5\n+$as_echo_n \"checking for _FILE_OFFSET_BITS value needed for large files... \" >&6; }\n+if test \"${ac_cv_sys_file_offset_bits+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  while :; do\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <sys/types.h>\n+ /* Check that off_t can represent 2**63 - 1 correctly.\n+    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n+    since some C++ compilers masquerading as C compilers\n+    incorrectly reject 9223372036854775807.  */\n+#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n+\t\t       && LARGE_OFF_T % 2147483647 == 1)\n+\t\t      ? 1 : -1];\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_sys_file_offset_bits=no; break\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#define _FILE_OFFSET_BITS 64\n+#include <sys/types.h>\n+ /* Check that off_t can represent 2**63 - 1 correctly.\n+    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n+    since some C++ compilers masquerading as C compilers\n+    incorrectly reject 9223372036854775807.  */\n+#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n+\t\t       && LARGE_OFF_T % 2147483647 == 1)\n+\t\t      ? 1 : -1];\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_sys_file_offset_bits=64; break\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  ac_cv_sys_file_offset_bits=unknown\n+  break\n+done\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_file_offset_bits\" >&5\n+$as_echo \"$ac_cv_sys_file_offset_bits\" >&6; }\n+case $ac_cv_sys_file_offset_bits in #(\n+  no | unknown) ;;\n+  *)\n+cat >>confdefs.h <<_ACEOF\n+#define _FILE_OFFSET_BITS $ac_cv_sys_file_offset_bits\n+_ACEOF\n+;;\n+esac\n+rm -rf conftest*\n+  if test $ac_cv_sys_file_offset_bits = unknown; then\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for _LARGE_FILES value needed for large files\" >&5\n+$as_echo_n \"checking for _LARGE_FILES value needed for large files... \" >&6; }\n+if test \"${ac_cv_sys_large_files+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  while :; do\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <sys/types.h>\n+ /* Check that off_t can represent 2**63 - 1 correctly.\n+    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n+    since some C++ compilers masquerading as C compilers\n+    incorrectly reject 9223372036854775807.  */\n+#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n+\t\t       && LARGE_OFF_T % 2147483647 == 1)\n+\t\t      ? 1 : -1];\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_sys_large_files=no; break\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#define _LARGE_FILES 1\n+#include <sys/types.h>\n+ /* Check that off_t can represent 2**63 - 1 correctly.\n+    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n+    since some C++ compilers masquerading as C compilers\n+    incorrectly reject 9223372036854775807.  */\n+#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n+\t\t       && LARGE_OFF_T % 2147483647 == 1)\n+\t\t      ? 1 : -1];\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_sys_large_files=1; break\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  ac_cv_sys_large_files=unknown\n+  break\n+done\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_large_files\" >&5\n+$as_echo \"$ac_cv_sys_large_files\" >&6; }\n+case $ac_cv_sys_large_files in #(\n+  no | unknown) ;;\n+  *)\n+cat >>confdefs.h <<_ACEOF\n+#define _LARGE_FILES $ac_cv_sys_large_files\n+_ACEOF\n+;;\n+esac\n+rm -rf conftest*\n+  fi\n+fi\n+\n+\n \n case `pwd` in\n   *\\ * | *\\\t*)\n@@ -4481,13 +4680,13 @@ if test \"${lt_cv_nm_interface+set}\" = set; then :\n else\n   lt_cv_nm_interface=\"BSD nm\"\n   echo \"int some_variable = 0;\" > conftest.$ac_ext\n-  (eval echo \"\\\"\\$as_me:4484: $ac_compile\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:4683: $ac_compile\\\"\" >&5)\n   (eval \"$ac_compile\" 2>conftest.err)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:4487: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:4686: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n   (eval \"$NM \\\"conftest.$ac_objext\\\"\" 2>conftest.err > conftest.out)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:4490: output\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:4689: output\\\"\" >&5)\n   cat conftest.out >&5\n   if $GREP 'External.*some_variable' conftest.out > /dev/null; then\n     lt_cv_nm_interface=\"MS dumpbin\"\n@@ -5659,7 +5858,6 @@ fi\n \n \n \n-\n \n \n # Check whether --enable-libtool-lock was given.\n@@ -5693,7 +5891,7 @@ ia64-*-hpux*)\n   ;;\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 5696 \"configure\"' > conftest.$ac_ext\n+  echo '#line 5894 \"configure\"' > conftest.$ac_ext\n   if { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_compile\\\"\"; } >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -7223,11 +7421,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7226: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7424: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:7230: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7428: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -7562,11 +7760,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7565: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7763: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:7569: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7767: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -7667,11 +7865,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7670: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7868: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:7674: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7872: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -7722,11 +7920,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7725: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7923: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:7729: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7927: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -10104,7 +10302,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10107 \"configure\"\n+#line 10305 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10200,7 +10398,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10203 \"configure\"\n+#line 10401 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12614,201 +12812,3 @@ if test -n \"$ac_unrecognized_opts\" && test \"$enable_option_checking\" != no; then\n $as_echo \"$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\" >&2;}\n fi\n \n-# Check whether --enable-largefile was given.\n-if test \"${enable_largefile+set}\" = set; then :\n-  enableval=$enable_largefile;\n-fi\n-\n-if test \"$enable_largefile\" != no; then\n-\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for special C compiler options needed for large files\" >&5\n-$as_echo_n \"checking for special C compiler options needed for large files... \" >&6; }\n-if test \"${ac_cv_sys_largefile_CC+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_cv_sys_largefile_CC=no\n-     if test \"$GCC\" != yes; then\n-       ac_save_CC=$CC\n-       while :; do\n-\t # IRIX 6.2 and later do not support large files by default,\n-\t # so use the C compiler's -n32 option if that helps.\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n- /* Check that off_t can represent 2**63 - 1 correctly.\n-    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n-    since some C++ compilers masquerading as C compilers\n-    incorrectly reject 9223372036854775807.  */\n-#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n-  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n-\t\t       && LARGE_OFF_T % 2147483647 == 1)\n-\t\t      ? 1 : -1];\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-\t if ac_fn_c_try_compile \"$LINENO\"; then :\n-  break\n-fi\n-rm -f core conftest.err conftest.$ac_objext\n-\t CC=\"$CC -n32\"\n-\t if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_sys_largefile_CC=' -n32'; break\n-fi\n-rm -f core conftest.err conftest.$ac_objext\n-\t break\n-       done\n-       CC=$ac_save_CC\n-       rm -f conftest.$ac_ext\n-    fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_CC\" >&5\n-$as_echo \"$ac_cv_sys_largefile_CC\" >&6; }\n-  if test \"$ac_cv_sys_largefile_CC\" != no; then\n-    CC=$CC$ac_cv_sys_largefile_CC\n-  fi\n-\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for _FILE_OFFSET_BITS value needed for large files\" >&5\n-$as_echo_n \"checking for _FILE_OFFSET_BITS value needed for large files... \" >&6; }\n-if test \"${ac_cv_sys_file_offset_bits+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  while :; do\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n- /* Check that off_t can represent 2**63 - 1 correctly.\n-    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n-    since some C++ compilers masquerading as C compilers\n-    incorrectly reject 9223372036854775807.  */\n-#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n-  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n-\t\t       && LARGE_OFF_T % 2147483647 == 1)\n-\t\t      ? 1 : -1];\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_sys_file_offset_bits=no; break\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#define _FILE_OFFSET_BITS 64\n-#include <sys/types.h>\n- /* Check that off_t can represent 2**63 - 1 correctly.\n-    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n-    since some C++ compilers masquerading as C compilers\n-    incorrectly reject 9223372036854775807.  */\n-#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n-  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n-\t\t       && LARGE_OFF_T % 2147483647 == 1)\n-\t\t      ? 1 : -1];\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_sys_file_offset_bits=64; break\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-  ac_cv_sys_file_offset_bits=unknown\n-  break\n-done\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_file_offset_bits\" >&5\n-$as_echo \"$ac_cv_sys_file_offset_bits\" >&6; }\n-case $ac_cv_sys_file_offset_bits in #(\n-  no | unknown) ;;\n-  *)\n-cat >>confdefs.h <<_ACEOF\n-#define _FILE_OFFSET_BITS $ac_cv_sys_file_offset_bits\n-_ACEOF\n-;;\n-esac\n-rm -rf conftest*\n-  if test $ac_cv_sys_file_offset_bits = unknown; then\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for _LARGE_FILES value needed for large files\" >&5\n-$as_echo_n \"checking for _LARGE_FILES value needed for large files... \" >&6; }\n-if test \"${ac_cv_sys_large_files+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  while :; do\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n- /* Check that off_t can represent 2**63 - 1 correctly.\n-    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n-    since some C++ compilers masquerading as C compilers\n-    incorrectly reject 9223372036854775807.  */\n-#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n-  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n-\t\t       && LARGE_OFF_T % 2147483647 == 1)\n-\t\t      ? 1 : -1];\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_sys_large_files=no; break\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#define _LARGE_FILES 1\n-#include <sys/types.h>\n- /* Check that off_t can represent 2**63 - 1 correctly.\n-    We can't simply define LARGE_OFF_T to be 9223372036854775807,\n-    since some C++ compilers masquerading as C compilers\n-    incorrectly reject 9223372036854775807.  */\n-#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))\n-  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721\n-\t\t       && LARGE_OFF_T % 2147483647 == 1)\n-\t\t      ? 1 : -1];\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_sys_large_files=1; break\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-  ac_cv_sys_large_files=unknown\n-  break\n-done\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_large_files\" >&5\n-$as_echo \"$ac_cv_sys_large_files\" >&6; }\n-case $ac_cv_sys_large_files in #(\n-  no | unknown) ;;\n-  *)\n-cat >>confdefs.h <<_ACEOF\n-#define _LARGE_FILES $ac_cv_sys_large_files\n-_ACEOF\n-;;\n-esac\n-rm -rf conftest*\n-  fi\n-fi\n-"}, {"sha": "daefde67ccdca37d1ae571c394360bba0e0f27b5", "filename": "lto-plugin/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c0f4b0b2f4d38b532d4602688083f965c50af82/lto-plugin%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c0f4b0b2f4d38b532d4602688083f965c50af82/lto-plugin%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2Fconfigure.ac?ref=4c0f4b0b2f4d38b532d4602688083f965c50af82", "patch": "@@ -4,11 +4,11 @@ GCC_TOPLEV_SUBDIRS\n AM_INIT_AUTOMAKE([foreign])\n AM_MAINTAINER_MODE\n AC_PROG_CC\n+AC_SYS_LARGEFILE\n AC_ARG_VAR(LIBELFLIBS,[How to link libelf])\n AC_ARG_VAR(LIBELFINC,[How to find libelf include files])\n AM_PROG_LIBTOOL\n AC_SUBST(target_noncanonical)\n AC_TYPE_UINT64_T\n AC_CONFIG_FILES(Makefile)\n AC_OUTPUT\n-AC_SYS_LARGEFILE"}]}