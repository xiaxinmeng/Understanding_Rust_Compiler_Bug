{"sha": "f9aeaebf753879df9218686b8148dc82bbb838a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjlhZWFlYmY3NTM4NzlkZjkyMTg2ODZiODE0OGRjODJiYmI4MzhhNQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2010-11-13T18:51:57Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2010-11-13T18:51:57Z"}, "message": "re PR rtl-optimization/42889 (\"-fcompare-debug failure (length)\" with \"-O1 -fgcse\")\n\nPR debug/42889\n* df-scan.c (df_insn_rescan): Don't mark BBs upon debug insns.\n* df-core.c (df_set_bb_dirty_nonrl): Remove.\n* df.h (df_set_bb_dirty_nonlr): Likewise.\n\nFrom-SVN: r166719", "tree": {"sha": "20968a51926dec9cf3491965e9b3fb7e6d5adbe2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20968a51926dec9cf3491965e9b3fb7e6d5adbe2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9aeaebf753879df9218686b8148dc82bbb838a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9aeaebf753879df9218686b8148dc82bbb838a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9aeaebf753879df9218686b8148dc82bbb838a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9aeaebf753879df9218686b8148dc82bbb838a5/comments", "author": null, "committer": null, "parents": [{"sha": "44538c626c072106122ae7b7f81a3775806c6df5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44538c626c072106122ae7b7f81a3775806c6df5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44538c626c072106122ae7b7f81a3775806c6df5"}], "stats": {"total": 35, "additions": 8, "deletions": 27}, "files": [{"sha": "d09a9856b3b4bb2b9c51c0cf04f36d05c0dd2766", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f9aeaebf753879df9218686b8148dc82bbb838a5", "patch": "@@ -1,3 +1,10 @@\n+2010-11-13  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\tPR debug/42889\n+\t* df-scan.c (df_insn_rescan): Don't mark BBs upon debug insns.\n+\t* df-core.c (df_set_bb_dirty_nonrl): Remove.\n+\t* df.h (df_set_bb_dirty_nonlr): Likewise.\n+\n 2010-11-13  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/mips/mips.md (call_internal): Pass curr_insn to"}, {"sha": "86ed23919a2ef42f003535b3f79d125e1d0d1f00", "filename": "gcc/df-core.c", "status": "modified", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2Fdf-core.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2Fdf-core.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf-core.c?ref=f9aeaebf753879df9218686b8148dc82bbb838a5", "patch": "@@ -1427,29 +1427,6 @@ df_set_bb_dirty (basic_block bb)\n }\n \n \n-/* Mark BB as needing it's transfer functions as being out of\n-   date, except for LR problem.  Used when analyzing DEBUG_INSNs,\n-   as LR problem can trigger DCE, and DEBUG_INSNs shouldn't ever\n-   shorten or enlarge lifetime of regs.  */\n-\n-void\n-df_set_bb_dirty_nonlr (basic_block bb)\n-{\n-  if (df)\n-    {\n-      int p;\n-      for (p = 1; p < df->num_problems_defined; p++)\n-\t{\n-\t  struct dataflow *dflow = df->problems_in_order[p];\n-\t  if (dflow == df_lr)\n-\t    continue;\n-\t  if (dflow->out_of_date_transfer_functions)\n-\t    bitmap_set_bit (dflow->out_of_date_transfer_functions, bb->index);\n-\t  dflow->solutions_dirty = true;\n-\t}\n-    }\n-}\n-\n /* Grow the bb_info array.  */\n \n void"}, {"sha": "850f06702bbc5625f2e7a90ffda10a2294a89564", "filename": "gcc/df-scan.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2Fdf-scan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2Fdf-scan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf-scan.c?ref=f9aeaebf753879df9218686b8148dc82bbb838a5", "patch": "@@ -1261,9 +1261,7 @@ df_insn_rescan (rtx insn)\n     }\n \n   df_refs_add_to_chains (&collection_rec, bb, insn);\n-  if (DEBUG_INSN_P (insn))\n-    df_set_bb_dirty_nonlr (bb);\n-  else\n+  if (!DEBUG_INSN_P (insn))\n     df_set_bb_dirty (bb);\n \n   VEC_free (df_ref, stack, collection_rec.def_vec);"}, {"sha": "f268289fefba60dceb7835d8bb879930f725a7af", "filename": "gcc/df.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2Fdf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9aeaebf753879df9218686b8148dc82bbb838a5/gcc%2Fdf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf.h?ref=f9aeaebf753879df9218686b8148dc82bbb838a5", "patch": "@@ -897,7 +897,6 @@ extern void df_simple_dataflow (enum df_flow_dir, df_init_function,\n extern void df_mark_solutions_dirty (void);\n extern bool df_get_bb_dirty (basic_block);\n extern void df_set_bb_dirty (basic_block);\n-extern void df_set_bb_dirty_nonlr (basic_block);\n extern void df_compact_blocks (void);\n extern void df_bb_replace (int, basic_block);\n extern void df_bb_delete (int);"}]}