{"sha": "4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFjYWI5NGJmYTBlOWQxMzZhNmI3YzgwYTllN2RkY2MyM2ZhYmE3NA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@lsd.ic.unicamp.br", "date": "2000-01-16T18:16:55Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "2000-01-16T18:16:55Z"}, "message": "aclocal.m4 (AC_FUNC_MMAP_ZERO): New macro.\n\n* aclocal.m4 (AC_FUNC_MMAP_ZERO): New macro.\n* configure.in (AC_FUNC_MMAP_ZERO): Use instead of AC_FUNC_MMAP.\n* ggc-page.c: Replace HAVE_MMAP with HAVE_MMAP_ZERO.\n* configure, config.in: Rebuilt.\n\nFrom-SVN: r31444", "tree": {"sha": "559155e6d3b9e86e367d612eb679ecc404bda823", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/559155e6d3b9e86e367d612eb679ecc404bda823"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/comments", "author": null, "committer": null, "parents": [{"sha": "08439bec5f7e05cf133b4e7497bccedbe1210c35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08439bec5f7e05cf133b4e7497bccedbe1210c35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08439bec5f7e05cf133b4e7497bccedbe1210c35"}], "stats": {"total": 713, "additions": 501, "deletions": 212}, "files": [{"sha": "de4e190b17b506cf5a848f12b72ade537318a04b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "patch": "@@ -1,3 +1,10 @@\n+2000-01-16  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n+\n+\t* aclocal.m4 (AC_FUNC_MMAP_ZERO): New macro.\n+\t* configure.in (AC_FUNC_MMAP_ZERO): Use instead of AC_FUNC_MMAP.\n+\t* ggc-page.c: Replace HAVE_MMAP with HAVE_MMAP_ZERO.\n+\t* configure, config.in: Rebuilt.\n+\n 2000-01-16  Zack Weinberg  <zack@wolery.cumb.org>\n \n \t* config/i386/i386.md: Add peephole to merge successive stack"}, {"sha": "d56b8f0847f5b4b0994c42fa91446e34ba613709", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 82, "deletions": 0, "changes": 82, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "patch": "@@ -680,3 +680,85 @@ else\n fi\n AC_SUBST($1)dnl\n ])\n+\n+# Check whether mmap can map an arbitrary page from /dev/zero, without\n+# MAP_FIXED.\n+AC_DEFUN([AC_FUNC_MMAP_ANYWHERE],\n+[AC_CHECK_HEADERS(unistd.h)\n+AC_CHECK_FUNCS(getpagesize)\n+AC_CACHE_CHECK(for working mmap from /dev/zero, ac_cv_func_mmap_zero,\n+[AC_TRY_RUN([\n+/* Test by Richard Henderson and Alexandre Oliva.\n+   Check whether mmap from /dev/zero works. */\n+#include <sys/types.h>\n+#include <fcntl.h>\n+#include <sys/mman.h>\n+\n+/* This mess was copied from the GNU getpagesize.h.  */\n+#ifndef HAVE_GETPAGESIZE\n+# ifdef HAVE_UNISTD_H\n+#  include <unistd.h>\n+# endif\n+\n+/* Assume that all systems that can run configure have sys/param.h.  */\n+# ifndef HAVE_SYS_PARAM_H\n+#  define HAVE_SYS_PARAM_H 1\n+# endif\n+\n+# ifdef _SC_PAGESIZE\n+#  define getpagesize() sysconf(_SC_PAGESIZE)\n+# else /* no _SC_PAGESIZE */\n+#  ifdef HAVE_SYS_PARAM_H\n+#   include <sys/param.h>\n+#   ifdef EXEC_PAGESIZE\n+#    define getpagesize() EXEC_PAGESIZE\n+#   else /* no EXEC_PAGESIZE */\n+#    ifdef NBPG\n+#     define getpagesize() NBPG * CLSIZE\n+#     ifndef CLSIZE\n+#      define CLSIZE 1\n+#     endif /* no CLSIZE */\n+#    else /* no NBPG */\n+#     ifdef NBPC\n+#      define getpagesize() NBPC\n+#     else /* no NBPC */\n+#      ifdef PAGESIZE\n+#       define getpagesize() PAGESIZE\n+#      endif /* PAGESIZE */\n+#     endif /* no NBPC */\n+#    endif /* no NBPG */\n+#   endif /* no EXEC_PAGESIZE */\n+#  else /* no HAVE_SYS_PARAM_H */\n+#   define getpagesize() 8192\t/* punt totally */\n+#  endif /* no HAVE_SYS_PARAM_H */\n+# endif /* no _SC_PAGESIZE */\n+\n+#endif /* no HAVE_GETPAGESIZE */\n+\n+int main()\n+{\n+  char *x;\n+  int fd, pg;\n+\n+  fd = open(\"/dev/zero\", O_RDWR);\n+  if (fd < 0)\n+    exit(1);\n+\n+  pg = getpagesize();\n+  x = (char*)mmap(0, pg, PROT_READ|PROT_WRITE, MAP_PRIVATE, fd, 0);\n+  if (x == (char *) -1)\n+    exit(2);\n+\n+  *(int *)x += 1;\n+\n+  if (munmap(x, pg) < 0)\n+    exit(3);\n+\n+  exit(0);\n+}], ac_cv_func_mmap_anywhere=yes, ac_cv_func_mmap_anywhere=no,\n+ac_cv_func_mmap_anywhere=no)])\n+if test $ac_cv_func_mmap_anywhere = yes; then\n+  AC_DEFINE(HAVE_MMAP_ANYWHERE, 1,\n+\t    [Define if mmap can get us zeroed pages from /dev/zero.])\n+fi\n+])"}, {"sha": "671ae67e3fe140b9d1be829305432905d11273c3", "filename": "gcc/config.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "patch": "@@ -415,3 +415,7 @@\n \n /* Define if you have the i library (-li).  */\n #undef HAVE_LIBI\n+\n+/* Define if mmap can get us zeroed pages from /dev/zero. */\n+#undef HAVE_MMAP_ANYWHERE\n+"}, {"sha": "def4bf8ef26de3c92750c458540227f0087aada0", "filename": "gcc/configure", "status": "modified", "additions": 396, "deletions": 199, "changes": 595, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "patch": "@@ -1383,7 +1383,7 @@ else\n fi\n \n # Find some useful tools\n-for ac_prog in gawk mawk nawk awk\n+for ac_prog in mawk gawk nawk awk\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n@@ -2805,39 +2805,20 @@ else\n fi\n done\n \n-echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2810: checking for working mmap\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for working mmap from /dev/zero\"\"... $ac_c\" 1>&6\n+echo \"configure:2810: checking for working mmap from /dev/zero\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_zero'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n-  ac_cv_func_mmap_fixed_mapped=no\n+  ac_cv_func_mmap_anywhere=no\n else\n   cat > conftest.$ac_ext <<EOF\n #line 2818 \"configure\"\n #include \"confdefs.h\"\n \n-/* Thanks to Mike Haertel and Jim Avera for this test.\n-   Here is a matrix of mmap possibilities:\n-\tmmap private not fixed\n-\tmmap private fixed at somewhere currently unmapped\n-\tmmap private fixed at somewhere already mapped\n-\tmmap shared not fixed\n-\tmmap shared fixed at somewhere currently unmapped\n-\tmmap shared fixed at somewhere already mapped\n-   For private mappings, we should verify that changes cannot be read()\n-   back from the file, nor mmap's back from the file at a different\n-   address.  (There have been systems where private was not correctly\n-   implemented like the infamous i386 svr4.0, and systems where the\n-   VM page cache was not coherent with the filesystem buffer cache\n-   like early versions of FreeBSD and possibly contemporary NetBSD.)\n-   For shared mappings, we should conversely verify that changes get\n-   propogated back to all the places they're supposed to be.\n-\n-   Grep wants private fixed already mapped.\n-   The main things grep needs to know about mmap are:\n-   * does it exist and is it safe to write into the mmap'd area\n-   * how to use it (BSD variants)  */\n+/* Test by Richard Henderson and Alexandre Oliva.\n+   Check whether mmap from /dev/zero works. */\n #include <sys/types.h>\n #include <fcntl.h>\n #include <sys/mman.h>\n@@ -2883,95 +2864,46 @@ else\n \n #endif /* no HAVE_GETPAGESIZE */\n \n-#ifdef __cplusplus\n-extern \"C\" { void *malloc(unsigned); }\n-#else\n-char *malloc();\n-#endif\n-\n-int\n-main()\n+int main()\n {\n-\tchar *data, *data2, *data3;\n-\tint i, pagesize;\n-\tint fd;\n+  char *x;\n+  int fd, pg;\n \n-\tpagesize = getpagesize();\n+  fd = open(\"/dev/zero\", O_RDWR);\n+  if (fd < 0)\n+    exit(1);\n \n-\t/*\n-\t * First, make a file with some known garbage in it.\n-\t */\n-\tdata = malloc(pagesize);\n-\tif (!data)\n-\t\texit(1);\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\t*(data + i) = rand();\n-\tumask(0);\n-\tfd = creat(\"conftestmmap\", 0600);\n-\tif (fd < 0)\n-\t\texit(1);\n-\tif (write(fd, data, pagesize) != pagesize)\n-\t\texit(1);\n-\tclose(fd);\n+  pg = getpagesize();\n+  x = (char*)mmap(0, pg, PROT_READ|PROT_WRITE, MAP_PRIVATE, fd, 0);\n+  if (x == (char *) -1)\n+    exit(2);\n \n-\t/*\n-\t * Next, try to mmap the file at a fixed address which\n-\t * already has something else allocated at it.  If we can,\n-\t * also make sure that we see the same garbage.\n-\t */\n-\tfd = open(\"conftestmmap\", O_RDWR);\n-\tif (fd < 0)\n-\t\texit(1);\n-\tdata2 = malloc(2 * pagesize);\n-\tif (!data2)\n-\t\texit(1);\n-\tdata2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);\n-\tif (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,\n-\t    MAP_PRIVATE | MAP_FIXED, fd, 0L))\n-\t\texit(1);\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\tif (*(data + i) != *(data2 + i))\n-\t\t\texit(1);\n+  *(int *)x += 1;\n \n-\t/*\n-\t * Finally, make sure that changes to the mapped area\n-\t * do not percolate back to the file as seen by read().\n-\t * (This is a bug on some variants of i386 svr4.0.)\n-\t */\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\t*(data2 + i) = *(data2 + i) + 1;\n-\tdata3 = malloc(pagesize);\n-\tif (!data3)\n-\t\texit(1);\n-\tif (read(fd, data3, pagesize) != pagesize)\n-\t\texit(1);\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\tif (*(data + i) != *(data3 + i))\n-\t\t\texit(1);\n-\tclose(fd);\n-\tunlink(\"conftestmmap\");\n-\texit(0);\n-}\n+  if (munmap(x, pg) < 0)\n+    exit(3);\n \n+  exit(0);\n+}\n EOF\n-if { (eval echo configure:2958: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2890: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n-  ac_cv_func_mmap_fixed_mapped=yes\n+  ac_cv_func_mmap_anywhere=yes\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -fr conftest*\n-  ac_cv_func_mmap_fixed_mapped=no\n+  ac_cv_func_mmap_anywhere=no\n fi\n rm -fr conftest*\n fi\n \n fi\n \n-echo \"$ac_t\"\"$ac_cv_func_mmap_fixed_mapped\" 1>&6\n-if test $ac_cv_func_mmap_fixed_mapped = yes; then\n+echo \"$ac_t\"\"$ac_cv_func_mmap_zero\" 1>&6\n+if test $ac_cv_func_mmap_anywhere = yes; then\n   cat >> confdefs.h <<\\EOF\n-#define HAVE_MMAP 1\n+#define HAVE_MMAP_ANYWHERE 1\n EOF\n \n fi\n@@ -2982,12 +2914,12 @@ for ac_func in bcopy bzero bcmp \\\n \tstrsignal putc_unlocked fputs_unlocked strstr environ\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2986: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2918: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2991 \"configure\"\n+#line 2923 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3024,7 +2956,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:3028: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2960: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3053,12 +2985,12 @@ done\n for ac_func in malloc realloc calloc free\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3057: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2989: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3062 \"configure\"\n+#line 2994 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3098,7 +3030,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:3102: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3034: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3127,12 +3059,12 @@ done\n for ac_func in getrlimit setrlimit getrusage\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3131: checking whether $ac_func must be declared\" >&5\n+echo \"configure:3063: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3136 \"configure\"\n+#line 3068 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3173,7 +3105,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:3177: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3109: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3201,12 +3133,12 @@ done\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:3205: checking if mkdir takes one argument\" >&5\n+echo \"configure:3137: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3210 \"configure\"\n+#line 3142 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -3223,7 +3155,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3227: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3159: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -6718,15 +6650,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6722: checking for strerror in -lcposix\" >&5\n+echo \"configure:6654: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6730 \"configure\"\n+#line 6662 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6737,7 +6669,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6741: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6673: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6760,12 +6692,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6764: checking for working const\" >&5\n+echo \"configure:6696: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6769 \"configure\"\n+#line 6701 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6814,7 +6746,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6818: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6750: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6835,21 +6767,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6839: checking for inline\" >&5\n+echo \"configure:6771: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6846 \"configure\"\n+#line 6778 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6853: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6785: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6875,12 +6807,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6879: checking for off_t\" >&5\n+echo \"configure:6811: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6884 \"configure\"\n+#line 6816 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6908,12 +6840,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6912: checking for size_t\" >&5\n+echo \"configure:6844: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6917 \"configure\"\n+#line 6849 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6943,19 +6875,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6947: checking for working alloca.h\" >&5\n+echo \"configure:6879: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6952 \"configure\"\n+#line 6884 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6959: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6891: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6976,12 +6908,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6980: checking for alloca\" >&5\n+echo \"configure:6912: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6985 \"configure\"\n+#line 6917 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -7009,7 +6941,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:7013: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6945: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7041,12 +6973,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7045: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6977: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7050 \"configure\"\n+#line 6982 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7071,12 +7003,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7075: checking for $ac_func\" >&5\n+echo \"configure:7007: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7080 \"configure\"\n+#line 7012 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7099,7 +7031,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7103: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7035: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7126,15 +7058,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7130: checking stack direction for C alloca\" >&5\n+echo \"configure:7062: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7138 \"configure\"\n+#line 7070 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7153,7 +7085,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7157: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7089: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7172,6 +7104,272 @@ cat >> confdefs.h <<EOF\n #define STACK_DIRECTION $ac_cv_c_stack_direction\n EOF\n \n+fi\n+\n+for ac_hdr in unistd.h\n+do\n+ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n+echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n+echo \"configure:7114: checking for $ac_hdr\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 7119 \"configure\"\n+#include \"confdefs.h\"\n+#include <$ac_hdr>\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:7124: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=yes\"\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=no\"\n+fi\n+rm -f conftest*\n+fi\n+if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_hdr 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+done\n+\n+for ac_func in getpagesize\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:7153: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 7158 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:7181: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+done\n+\n+echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n+echo \"configure:7206: checking for working mmap\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  ac_cv_func_mmap_fixed_mapped=no\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 7214 \"configure\"\n+#include \"confdefs.h\"\n+\n+/* Thanks to Mike Haertel and Jim Avera for this test.\n+   Here is a matrix of mmap possibilities:\n+\tmmap private not fixed\n+\tmmap private fixed at somewhere currently unmapped\n+\tmmap private fixed at somewhere already mapped\n+\tmmap shared not fixed\n+\tmmap shared fixed at somewhere currently unmapped\n+\tmmap shared fixed at somewhere already mapped\n+   For private mappings, we should verify that changes cannot be read()\n+   back from the file, nor mmap's back from the file at a different\n+   address.  (There have been systems where private was not correctly\n+   implemented like the infamous i386 svr4.0, and systems where the\n+   VM page cache was not coherent with the filesystem buffer cache\n+   like early versions of FreeBSD and possibly contemporary NetBSD.)\n+   For shared mappings, we should conversely verify that changes get\n+   propogated back to all the places they're supposed to be.\n+\n+   Grep wants private fixed already mapped.\n+   The main things grep needs to know about mmap are:\n+   * does it exist and is it safe to write into the mmap'd area\n+   * how to use it (BSD variants)  */\n+#include <sys/types.h>\n+#include <fcntl.h>\n+#include <sys/mman.h>\n+\n+/* This mess was copied from the GNU getpagesize.h.  */\n+#ifndef HAVE_GETPAGESIZE\n+# ifdef HAVE_UNISTD_H\n+#  include <unistd.h>\n+# endif\n+\n+/* Assume that all systems that can run configure have sys/param.h.  */\n+# ifndef HAVE_SYS_PARAM_H\n+#  define HAVE_SYS_PARAM_H 1\n+# endif\n+\n+# ifdef _SC_PAGESIZE\n+#  define getpagesize() sysconf(_SC_PAGESIZE)\n+# else /* no _SC_PAGESIZE */\n+#  ifdef HAVE_SYS_PARAM_H\n+#   include <sys/param.h>\n+#   ifdef EXEC_PAGESIZE\n+#    define getpagesize() EXEC_PAGESIZE\n+#   else /* no EXEC_PAGESIZE */\n+#    ifdef NBPG\n+#     define getpagesize() NBPG * CLSIZE\n+#     ifndef CLSIZE\n+#      define CLSIZE 1\n+#     endif /* no CLSIZE */\n+#    else /* no NBPG */\n+#     ifdef NBPC\n+#      define getpagesize() NBPC\n+#     else /* no NBPC */\n+#      ifdef PAGESIZE\n+#       define getpagesize() PAGESIZE\n+#      endif /* PAGESIZE */\n+#     endif /* no NBPC */\n+#    endif /* no NBPG */\n+#   endif /* no EXEC_PAGESIZE */\n+#  else /* no HAVE_SYS_PARAM_H */\n+#   define getpagesize() 8192\t/* punt totally */\n+#  endif /* no HAVE_SYS_PARAM_H */\n+# endif /* no _SC_PAGESIZE */\n+\n+#endif /* no HAVE_GETPAGESIZE */\n+\n+#ifdef __cplusplus\n+extern \"C\" { void *malloc(unsigned); }\n+#else\n+char *malloc();\n+#endif\n+\n+int\n+main()\n+{\n+\tchar *data, *data2, *data3;\n+\tint i, pagesize;\n+\tint fd;\n+\n+\tpagesize = getpagesize();\n+\n+\t/*\n+\t * First, make a file with some known garbage in it.\n+\t */\n+\tdata = malloc(pagesize);\n+\tif (!data)\n+\t\texit(1);\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\t*(data + i) = rand();\n+\tumask(0);\n+\tfd = creat(\"conftestmmap\", 0600);\n+\tif (fd < 0)\n+\t\texit(1);\n+\tif (write(fd, data, pagesize) != pagesize)\n+\t\texit(1);\n+\tclose(fd);\n+\n+\t/*\n+\t * Next, try to mmap the file at a fixed address which\n+\t * already has something else allocated at it.  If we can,\n+\t * also make sure that we see the same garbage.\n+\t */\n+\tfd = open(\"conftestmmap\", O_RDWR);\n+\tif (fd < 0)\n+\t\texit(1);\n+\tdata2 = malloc(2 * pagesize);\n+\tif (!data2)\n+\t\texit(1);\n+\tdata2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);\n+\tif (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,\n+\t    MAP_PRIVATE | MAP_FIXED, fd, 0L))\n+\t\texit(1);\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\tif (*(data + i) != *(data2 + i))\n+\t\t\texit(1);\n+\n+\t/*\n+\t * Finally, make sure that changes to the mapped area\n+\t * do not percolate back to the file as seen by read().\n+\t * (This is a bug on some variants of i386 svr4.0.)\n+\t */\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\t*(data2 + i) = *(data2 + i) + 1;\n+\tdata3 = malloc(pagesize);\n+\tif (!data3)\n+\t\texit(1);\n+\tif (read(fd, data3, pagesize) != pagesize)\n+\t\texit(1);\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\tif (*(data + i) != *(data3 + i))\n+\t\t\texit(1);\n+\tclose(fd);\n+\tunlink(\"conftestmmap\");\n+\texit(0);\n+}\n+\n+EOF\n+if { (eval echo configure:7354: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  ac_cv_func_mmap_fixed_mapped=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -fr conftest*\n+  ac_cv_func_mmap_fixed_mapped=no\n+fi\n+rm -fr conftest*\n+fi\n+\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_func_mmap_fixed_mapped\" 1>&6\n+if test $ac_cv_func_mmap_fixed_mapped = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP 1\n+EOF\n+\n fi\n \n                               \n@@ -7180,17 +7378,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7184: checking for $ac_hdr\" >&5\n+echo \"configure:7382: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7189 \"configure\"\n+#line 7387 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7194: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7392: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7220,12 +7418,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7224: checking for $ac_func\" >&5\n+echo \"configure:7422: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7229 \"configure\"\n+#line 7427 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7248,7 +7446,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7252: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7450: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7277,12 +7475,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7281: checking for $ac_func\" >&5\n+echo \"configure:7479: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7286 \"configure\"\n+#line 7484 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7305,7 +7503,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7309: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7507: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7339,19 +7537,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7343: checking for LC_MESSAGES\" >&5\n+echo \"configure:7541: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7348 \"configure\"\n+#line 7546 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7355: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7553: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7372,7 +7570,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7376: checking whether NLS is requested\" >&5\n+echo \"configure:7574: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7392,7 +7590,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7396: checking whether included gettext is requested\" >&5\n+echo \"configure:7594: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7411,17 +7609,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7415: checking for libintl.h\" >&5\n+echo \"configure:7613: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7420 \"configure\"\n+#line 7618 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7425: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7623: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7438,19 +7636,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7442: checking for gettext in libc\" >&5\n+echo \"configure:7640: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7447 \"configure\"\n+#line 7645 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7454: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7652: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7466,15 +7664,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7470: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7668: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7478 \"configure\"\n+#line 7676 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7485,7 +7683,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7489: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7687: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7501,20 +7699,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7505: checking for gettext in libintl\" >&5\n+echo \"configure:7703: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7510: checking for gettext in -lintl\" >&5\n+echo \"configure:7708: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7518 \"configure\"\n+#line 7716 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7525,7 +7723,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7529: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7727: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7564,7 +7762,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7568: checking for $ac_word\" >&5\n+echo \"configure:7766: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7598,12 +7796,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7602: checking for $ac_func\" >&5\n+echo \"configure:7800: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7607 \"configure\"\n+#line 7805 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7626,7 +7824,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7630: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7828: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7653,7 +7851,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7657: checking for $ac_word\" >&5\n+echo \"configure:7855: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7689,7 +7887,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7693: checking for $ac_word\" >&5\n+echo \"configure:7891: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7721,15 +7919,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7725 \"configure\"\n+#line 7923 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7733: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7931: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7752,7 +7950,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7756: checking whether catgets can be used\" >&5\n+echo \"configure:7954: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7765,22 +7963,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7769: checking for main in -li\" >&5\n+echo \"configure:7967: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7777 \"configure\"\n+#line 7975 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7784: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7982: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7808,12 +8006,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7812: checking for catgets\" >&5\n+echo \"configure:8010: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7817 \"configure\"\n+#line 8015 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7836,7 +8034,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7840: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8038: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7858,7 +8056,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7862: checking for $ac_word\" >&5\n+echo \"configure:8060: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7894,7 +8092,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7898: checking for $ac_word\" >&5\n+echo \"configure:8096: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7931,7 +8129,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7935: checking for $ac_word\" >&5\n+echo \"configure:8133: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7966,7 +8164,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7970: checking for $ac_word\" >&5\n+echo \"configure:8168: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8024,7 +8222,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8028: checking for $ac_word\" >&5\n+echo \"configure:8226: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8058,7 +8256,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8062: checking for $ac_word\" >&5\n+echo \"configure:8260: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8094,7 +8292,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8098: checking for $ac_word\" >&5\n+echo \"configure:8296: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8187,7 +8385,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8191: checking for catalogs to be installed\" >&5\n+echo \"configure:8389: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -8215,17 +8413,17 @@ echo \"configure:8191: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8219: checking for linux/version.h\" >&5\n+echo \"configure:8417: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8224 \"configure\"\n+#line 8422 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8229: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8427: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8300,7 +8498,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8304: checking whether windows registry support is requested\" >&5\n+echo \"configure:8502: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8329,7 +8527,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8333: checking registry key on windows hosts\" >&5\n+echo \"configure:8531: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8505,7 +8703,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8509: checking assembler alignment features\" >&5\n+echo \"configure:8707: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8626,7 +8824,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8630: checking assembler subsection support\" >&5\n+echo \"configure:8828: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8668,7 +8866,7 @@ echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8672: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8870: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8698,7 +8896,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:8702: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:8900: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8743,7 +8941,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8747: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8945: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8782,7 +8980,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8786: checking assembler instructions\" >&5\n+echo \"configure:8984: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -8880,9 +9078,8 @@ if test \"${with_gc+set}\" = set; then\n     ;;\n esac\n else\n-  if test $ac_cv_func_mmap_fixed_mapped = yes; then\n-  GGC=ggc-page\n-elif test $ac_cv_func_valloc = yes; then\n+  if test $ac_cv_func_mmap_anywhere = yes \\\n+    || test $ac_cv_func_valloc = yes; then\n   GGC=ggc-page\n else\n   GGC=ggc-simple"}, {"sha": "7ccda1c0b7e881b3b89d079017952ded6459ceb2", "filename": "gcc/configure.in", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "patch": "@@ -405,7 +405,7 @@ case \"${host}\" in\n   ;;\n esac\n AC_FUNC_VFORK\n-AC_FUNC_MMAP\n+AC_FUNC_MMAP_ANYWHERE\n \n GCC_NEED_DECLARATIONS(bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof strerror getcwd getwd \\\n@@ -4578,9 +4578,8 @@ AC_ARG_WITH(gc,\n     AC_MSG_ERROR([$withval is an invalid option to --with-gc])\n     ;;\n esac],\n-[if test $ac_cv_func_mmap_fixed_mapped = yes; then\n-  GGC=ggc-page\n-elif test $ac_cv_func_valloc = yes; then\n+[if test $ac_cv_func_mmap_anywhere = yes \\\n+    || test $ac_cv_func_valloc = yes; then\n   GGC=ggc-page\n else\n   GGC=ggc-simple"}, {"sha": "aa515eb3df3e548957a8dfb0c3e49faadb0dcd01", "filename": "gcc/ggc-page.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fggc-page.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74/gcc%2Fggc-page.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-page.c?ref=4acab94bfa0e9d136a6b7c80a9e7ddcc23faba74", "patch": "@@ -1,5 +1,5 @@\n /* \"Bag-of-pages\" garbage collector for the GNU compiler.\n-   Copyright (C) 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1999, 2000 Free Software Foundation, Inc.\n \n    This file is part of GNU CC.\n \n@@ -27,7 +27,7 @@\n #include \"flags.h\"\n #include \"ggc.h\"\n \n-#ifdef HAVE_MMAP\n+#ifdef HAVE_MMAP_ANYWHERE\n #include <sys/mman.h>\n #endif\n \n@@ -229,7 +229,7 @@ static struct globals\n   unsigned char context_depth;\n \n   /* A file descriptor open to /dev/zero for reading.  */\n-#if defined (HAVE_MMAP) && !defined(MAP_ANONYMOUS)\n+#if defined (HAVE_MMAP_ANYWHERE) && !defined(MAP_ANONYMOUS)\n   int dev_zero_fd;\n #endif\n \n@@ -408,7 +408,7 @@ alloc_anon (pref, size)\n {\n   char *page;\n \n-#ifdef HAVE_MMAP\n+#ifdef HAVE_MMAP_ANYWHERE\n #ifdef MAP_ANONYMOUS\n   page = (char *) mmap (pref, size, PROT_READ | PROT_WRITE,\n \t\t\tMAP_PRIVATE | MAP_ANONYMOUS, -1, 0);\n@@ -430,7 +430,7 @@ alloc_anon (pref, size)\n       exit(1);\n     }\n #endif /* HAVE_VALLOC */\n-#endif /* HAVE_MMAP */\n+#endif /* HAVE_MMAP_ANYWHERE */\n \n   /* Remember that we allocated this memory.  */\n   G.bytes_mapped += size;\n@@ -533,7 +533,7 @@ free_page (entry)\n static void\n release_pages ()\n {\n-#ifdef HAVE_MMAP\n+#ifdef HAVE_MMAP_ANYWHERE\n   page_entry *p, *next;\n   char *start;\n   size_t len;\n@@ -579,7 +579,7 @@ release_pages ()\n       free (p);\n     }\n #endif /* HAVE_VALLOC */\n-#endif /* HAVE_MMAP */\n+#endif /* HAVE_MMAP_ANYWHERE */\n \n   G.free_pages = NULL;\n }\n@@ -794,7 +794,7 @@ init_ggc ()\n   G.pagesize = getpagesize();\n   G.lg_pagesize = exact_log2 (G.pagesize);\n \n-#if defined (HAVE_MMAP) && !defined(MAP_ANONYMOUS)\n+#if defined (HAVE_MMAP_ANYWHERE) && !defined(MAP_ANONYMOUS)\n   G.dev_zero_fd = open (\"/dev/zero\", O_RDONLY);\n   if (G.dev_zero_fd == -1)\n     abort ();\n@@ -808,7 +808,7 @@ init_ggc ()\n \n   G.allocated_last_gc = GGC_MIN_LAST_ALLOCATED;\n \n-#ifdef HAVE_MMAP\n+#ifdef HAVE_MMAP_ANYWHERE\n   /* StunOS has an amazing off-by-one error for the first mmap allocation\n      after fiddling with RLIMIT_STACK.  The result, as hard as it is to\n      believe, is an unaligned page allocation, which would cause us to"}]}