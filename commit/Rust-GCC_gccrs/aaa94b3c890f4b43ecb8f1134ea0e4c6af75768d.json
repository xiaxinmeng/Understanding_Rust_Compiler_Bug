{"sha": "aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWFhOTRiM2M4OTBmNGI0M2VjYjhmMTEzNGVhMGU0YzZhZjc1NzY4ZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2019-04-26T11:46:15Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2019-04-26T11:46:15Z"}, "message": "decl.c (grokdeclarator): Fix value assigned to typespec_loc, use min_location.\n\n/cp\n2018-04-26  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* decl.c (grokdeclarator): Fix value assigned to typespec_loc, use\n\tmin_location.\n\n/testsuite\n2018-04-26  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* g++.dg/diagnostic/trailing1.C: New.\n\nFrom-SVN: r270597", "tree": {"sha": "1c0dc97096e1ef610e7fb02c21bef827aed38732", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c0dc97096e1ef610e7fb02c21bef827aed38732"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/comments", "author": null, "committer": null, "parents": [{"sha": "849ab78ab0d022202a5b09163bbdfcc2375aeb74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/849ab78ab0d022202a5b09163bbdfcc2375aeb74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/849ab78ab0d022202a5b09163bbdfcc2375aeb74"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "c78683d3949d1b7842d88726fab9c697fac04873", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "patch": "@@ -1,3 +1,8 @@\n+2018-04-26  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* decl.c (grokdeclarator): Fix value assigned to typespec_loc, use\n+\tmin_location.\n+\n 2019-04-24  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/90227 - error with template parameter packs."}, {"sha": "49ab387889608d56ccc1ce6295a62a0b934f3da3", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "patch": "@@ -10417,8 +10417,8 @@ grokdeclarator (const cp_declarator *declarator,\n \n   location_t typespec_loc = smallest_type_quals_location (type_quals,\n \t\t\t\t\t\t      declspecs->locations);\n-  if (typespec_loc == UNKNOWN_LOCATION)\n-    typespec_loc = declspecs->locations[ds_type_spec];\n+  typespec_loc = min_location (typespec_loc,\n+\t\t\t       declspecs->locations[ds_type_spec]);\n   if (typespec_loc == UNKNOWN_LOCATION)\n     typespec_loc = input_location;\n "}, {"sha": "13416da786a533826d5b186e029b35362e82033a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "patch": "@@ -1,3 +1,7 @@\n+2018-04-26  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* g++.dg/diagnostic/trailing1.C: New.\n+\n 2019-04-26  Richard Sandiford  <richard.sandiford@arm.com>\n \n \t* gcc.dg/alias-16.c: New test."}, {"sha": "369781e56d5baae91e9ce7e9c1c028de4eb7895c", "filename": "gcc/testsuite/g++.dg/diagnostic/trailing1.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Ftrailing1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Ftrailing1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Ftrailing1.C?ref=aaa94b3c890f4b43ecb8f1134ea0e4c6af75768d", "patch": "@@ -0,0 +1,5 @@\n+// { dg-do compile { target c++11 } }\n+\n+int const foo1() -> double;  // { dg-error \"1:.foo1. function with trailing return type\" }\n+int volatile foo2() -> double;  // { dg-error \"1:.foo2. function with trailing return type\" }\n+int const volatile foo3() -> double;  // { dg-error \"1:.foo3. function with trailing return type\" }"}]}