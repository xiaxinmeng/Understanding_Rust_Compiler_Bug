{"sha": "5d19c1500460004ffadc7272393e1622116627ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQxOWMxNTAwNDYwMDA0ZmZhZGM3MjcyMzkzZTE2MjIxMTY2MjdiYQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2011-01-08T20:32:32Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2011-01-08T20:32:32Z"}, "message": "objc-act.c (objc_finish_foreach_loop): Mark collection expression as read.\n\n\ngcc/objc:\n\n\t* objc-act.c (objc_finish_foreach_loop): Mark collection expression\n\tas read.\n\ngcc/testsuite:\n\n\t* objc.dg/foreach-1.m: Add \"-Wall\" to flags.\n\nFrom-SVN: r168602", "tree": {"sha": "770f2af01b5691c14b3f8405af6033c060f3ab29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/770f2af01b5691c14b3f8405af6033c060f3ab29"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d19c1500460004ffadc7272393e1622116627ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d19c1500460004ffadc7272393e1622116627ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d19c1500460004ffadc7272393e1622116627ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d19c1500460004ffadc7272393e1622116627ba/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "046608a3e0569946f4a499c59e02f45b057d7251", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/046608a3e0569946f4a499c59e02f45b057d7251", "html_url": "https://github.com/Rust-GCC/gccrs/commit/046608a3e0569946f4a499c59e02f45b057d7251"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "b42bb42c68c05ba2aff5db343835c05799080a1a", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=5d19c1500460004ffadc7272393e1622116627ba", "patch": "@@ -1,3 +1,8 @@\n+2011-01-08  Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\t* objc-act.c (objc_finish_foreach_loop): Mark collection expression\n+\tas read.\n+\n 2011-01-02  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* objc-act.c (check_that_protocol_is_defined): Fix a typo."}, {"sha": "6e69070b282b8460ee81638a551917f9cbdc6771", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=5d19c1500460004ffadc7272393e1622116627ba", "patch": "@@ -13635,6 +13635,8 @@ objc_finish_foreach_loop (location_t location, tree object_expression, tree coll\n   t = build2 (MODIFY_EXPR, void_type_node, objc_foreach_collection_decl, collection_expression);\n   SET_EXPR_LOCATION (t, location);\n   append_to_statement_list (t, &BIND_EXPR_BODY (bind));\n+  /* We have used 'collection_expression'.  */\n+  mark_exp_read (collection_expression);\n \n   /*  __objc_foreach_enum_state.state = 0; */\n   t = build2 (MODIFY_EXPR, void_type_node, objc_build_component_ref (objc_foreach_enum_state_decl, "}, {"sha": "39777861bc5344c31b70f0407d4e060cf29685df", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5d19c1500460004ffadc7272393e1622116627ba", "patch": "@@ -1,3 +1,7 @@\n+2011-01-08  Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\t* objc.dg/foreach-1.m: Add \"-Wall\" to flags.\n+\n 2011-01-08  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \tPR objc/47078"}, {"sha": "60993d577751f8fa16d247c217bcf12489f3c007", "filename": "gcc/testsuite/objc.dg/foreach-1.m", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Ftestsuite%2Fobjc.dg%2Fforeach-1.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d19c1500460004ffadc7272393e1622116627ba/gcc%2Ftestsuite%2Fobjc.dg%2Fforeach-1.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fforeach-1.m?ref=5d19c1500460004ffadc7272393e1622116627ba", "patch": "@@ -4,6 +4,7 @@\n /* { dg-do run } */\n /* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n /* { dg-additional-sources \"../objc-obj-c++-shared/Object1.m\" } */\n+/* { dg-options \"-Wall\" } */\n \n #import \"../objc-obj-c++-shared/Object1.h\"\n "}]}