{"sha": "961e73ace25da06b5909b2b48e64447bea15963d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTYxZTczYWNlMjVkYTA2YjU5MDliMmI0OGU2NDQ0N2JlYTE1OTYzZA==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T22:16:29Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T22:16:29Z"}, "message": "trans.h (struct gfc_ss, [...]): Move member struct gfc_ss::data::temp into gfc_ss_info::data.\n\n\t* trans.h (struct gfc_ss, struct gfc_ss_info): Move member struct\n\tgfc_ss::data::temp into gfc_ss_info::data.\n\t* trans-array.c (gfc_get_temp_ss, gfc_conv_loop_setup): Update reference\n\tchains.\n\nFrom-SVN: r180872", "tree": {"sha": "22d417a8230f19daadae460e5c6682167cf97c59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22d417a8230f19daadae460e5c6682167cf97c59"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/961e73ace25da06b5909b2b48e64447bea15963d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/961e73ace25da06b5909b2b48e64447bea15963d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/961e73ace25da06b5909b2b48e64447bea15963d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/961e73ace25da06b5909b2b48e64447bea15963d/comments", "author": null, "committer": null, "parents": [{"sha": "99dd5a299012fdf2c236bef659d13323f00199e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99dd5a299012fdf2c236bef659d13323f00199e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99dd5a299012fdf2c236bef659d13323f00199e3"}], "stats": {"total": 28, "additions": 18, "deletions": 10}, "files": [{"sha": "c8d5e7fe8db5eaf723c14481d6f54bd5808d7fff", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/961e73ace25da06b5909b2b48e64447bea15963d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/961e73ace25da06b5909b2b48e64447bea15963d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=961e73ace25da06b5909b2b48e64447bea15963d", "patch": "@@ -1,3 +1,10 @@\n+2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans.h (struct gfc_ss, struct gfc_ss_info): Move member struct\n+\tgfc_ss::data::temp into gfc_ss_info::data.\n+\t* trans-array.c (gfc_get_temp_ss, gfc_conv_loop_setup): Update reference\n+\tchains.\n+\n 2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans.h (struct gfc_ss, struct gfc_ss_info): Move member struct"}, {"sha": "173e52b299e76097b5a35a1aa900d0c369f3f514", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/961e73ace25da06b5909b2b48e64447bea15963d/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/961e73ace25da06b5909b2b48e64447bea15963d/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=961e73ace25da06b5909b2b48e64447bea15963d", "patch": "@@ -558,11 +558,11 @@ gfc_get_temp_ss (tree type, tree string_length, int dimen)\n   ss_info = gfc_get_ss_info ();\n   ss_info->type = GFC_SS_TEMP;\n   ss_info->string_length = string_length;\n+  ss_info->data.temp.type = type;\n \n   ss = gfc_get_ss ();\n   ss->info = ss_info;\n   ss->next = gfc_ss_terminator;\n-  ss->data.temp.type = type;\n   ss->dimen = dimen;\n   for (i = 0; i < ss->dimen; i++)\n     ss->dim[i] = i;\n@@ -4127,12 +4127,12 @@ gfc_conv_loop_setup (gfc_loopinfo * loop, locus * where)\n \n       /* Make absolutely sure that this is a complete type.  */\n       if (tmp_ss_info->string_length)\n-\tloop->temp_ss->data.temp.type\n+\ttmp_ss_info->data.temp.type\n \t\t= gfc_get_character_type_len_for_eltype\n-\t\t\t(TREE_TYPE (loop->temp_ss->data.temp.type),\n+\t\t\t(TREE_TYPE (tmp_ss_info->data.temp.type),\n \t\t\t tmp_ss_info->string_length);\n \n-      tmp = loop->temp_ss->data.temp.type;\n+      tmp = tmp_ss_info->data.temp.type;\n       memset (&loop->temp_ss->data.info, 0, sizeof (gfc_array_info));\n       tmp_ss_info->type = GFC_SS_SECTION;\n "}, {"sha": "60708e937a97fac1cd5c9e36f641571a5d8df3eb", "filename": "gcc/fortran/trans.h", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/961e73ace25da06b5909b2b48e64447bea15963d/gcc%2Ffortran%2Ftrans.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/961e73ace25da06b5909b2b48e64447bea15963d/gcc%2Ffortran%2Ftrans.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans.h?ref=961e73ace25da06b5909b2b48e64447bea15963d", "patch": "@@ -197,6 +197,13 @@ typedef struct gfc_ss_info\n       tree value;\n     }\n     scalar;\n+\n+    /* GFC_SS_TEMP.  */\n+    struct\n+    {\n+      tree type;\n+    }\n+    temp;\n   }\n   data;\n }\n@@ -219,12 +226,6 @@ typedef struct gfc_ss\n \n   union\n   {\n-    /* GFC_SS_TEMP.  */\n-    struct\n-    {\n-      tree type;\n-    }\n-    temp;\n     /* All other types.  */\n     gfc_array_info info;\n   }"}]}