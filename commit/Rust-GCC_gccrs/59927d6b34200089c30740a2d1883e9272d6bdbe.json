{"sha": "59927d6b34200089c30740a2d1883e9272d6bdbe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk5MjdkNmIzNDIwMDA4OWMzMDc0MGEyZDE4ODNlOTI3MmQ2YmRiZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-02-15T22:21:31Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-02-15T22:21:31Z"}, "message": "(FUNCTION_PROLOGUE): Delete.\n\nFrom-SVN: r13640", "tree": {"sha": "8dbc089e43a9ef8c6959d7af80780452e3a774c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8dbc089e43a9ef8c6959d7af80780452e3a774c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59927d6b34200089c30740a2d1883e9272d6bdbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59927d6b34200089c30740a2d1883e9272d6bdbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59927d6b34200089c30740a2d1883e9272d6bdbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59927d6b34200089c30740a2d1883e9272d6bdbe/comments", "author": null, "committer": null, "parents": [{"sha": "b345158aacb790278293f6f9552827e825834c40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b345158aacb790278293f6f9552827e825834c40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b345158aacb790278293f6f9552827e825834c40"}], "stats": {"total": 26, "additions": 7, "deletions": 19}, "files": [{"sha": "d8580b5c1a13ad6b37d6a1e3a5e3624aa33a74ec", "filename": "gcc/config/vax/vms.h", "status": "modified", "additions": 7, "deletions": 19, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59927d6b34200089c30740a2d1883e9272d6bdbe/gcc%2Fconfig%2Fvax%2Fvms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59927d6b34200089c30740a2d1883e9272d6bdbe/gcc%2Fconfig%2Fvax%2Fvms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvms.h?ref=59927d6b34200089c30740a2d1883e9272d6bdbe", "patch": "@@ -1,5 +1,5 @@\n /* Output variables, constants and external declarations, for GNU compiler.\n-   Copyright (C) 1988, 1994, 1995, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1988, 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -35,7 +35,6 @@ Boston, MA 02111-1307, USA.  */\n #undef TARGET_DEFAULT\n #undef CALL_USED_REGISTERS\n #undef MAYBE_VMS_FUNCTION_PROLOGUE\n-#undef FUNCTION_PROLOGUE\n #undef STARTING_FRAME_OFFSET\n \n /* Predefine this in CPP because VMS limits the size of command options\n@@ -69,26 +68,15 @@ Boston, MA 02111-1307, USA.  */\n \n #define CALL_USED_REGISTERS {1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1}\n \n-/* We redefine this because there is a hidden variable on the stack\n-   that VAXC$ESTABLISH uses.  We just need to add four bytes to whatever\n-   gcc thinks that we need.  Similarly, we need to move all local variables\n-   down 4 bytes in the stack.  */\n+/* The run-time library routine VAXC$ESTABLISH (necessary when mixing\n+   VMS exception handling and setjmp/longjmp in the same program) requires\n+   that a hidden automatic variable at the top of the stack be reserved\n+   for its use.  We accomplish this by simply adding 4 bytes to the local\n+   stack for all functions, and making sure that normal local variables\n+   are 4 bytes lower on the stack then they would otherwise have been.  */\n \n #define STARTING_FRAME_OFFSET -4\n \n-#define FUNCTION_PROLOGUE(FILE, SIZE)     \\\n-{ register int regno;\t\t\t\t\t\t\\\n-  register int mask = 0;\t\t\t\t\t\\\n-  register int newsize = SIZE + 4;\t\t\t\t\\\n-  extern char call_used_regs[];\t\t\t\t\t\\\n-  for (regno = 0; regno < FIRST_PSEUDO_REGISTER; regno++)\t\\\n-    if (regs_ever_live[regno] && !call_used_regs[regno])\t\\\n-       mask |= 1 << regno;\t\t\t\t\t\\\n-  fprintf (FILE, \"\\t.word 0x%x\\n\", mask);\t\t\t\\\n-  MAYBE_VMS_FUNCTION_PROLOGUE(FILE)\t\t\t\t\\\n-  if (newsize >= 64) fprintf (FILE, \"\\tmovab %d(sp),sp\\n\", -newsize);\\\n-  else fprintf (FILE, \"\\tsubl2 $%d,sp\\n\", newsize); }\n-\n #define __MAIN_NAME \" main(\"\n /*\n  * The MAYBE_VMS_FUNCTION_PROLOGUE macro works for both gcc and g++.  It"}]}