{"sha": "03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNlMDAxMGQ3MWVmZWRiNGE1YTk3MThhNjhmYzRmZmRkOWUyNGY1Yg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-11-01T01:09:58Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-11-01T01:09:58Z"}, "message": "sse.md (fixuns_trunc<mode><sseintvecmodelower>2): New expander.\n\n\t* config/i386/sse.md (fixuns_trunc<mode><sseintvecmodelower>2): New\n\texpander.\n\nFrom-SVN: r180724", "tree": {"sha": "8896e740cee1a1b93db8e8c2f5b0afd87e63584b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8896e740cee1a1b93db8e8c2f5b0afd87e63584b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "406d683e9c342ae16b20d20cf84e3665929bd949", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/406d683e9c342ae16b20d20cf84e3665929bd949", "html_url": "https://github.com/Rust-GCC/gccrs/commit/406d683e9c342ae16b20d20cf84e3665929bd949"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "821e0e56bea26b7b31cffaae76b01e656139927e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b", "patch": "@@ -1,5 +1,8 @@\n 2011-11-01  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* config/i386/sse.md (fixuns_trunc<mode><sseintvecmodelower>2): New\n+\texpander.\n+\n \t* config/i386/sse.md (sseintvecmode): Remove duplicate modes.\n \t(sseintvecmodelower): New mode iterator.\n \t(floatv8siv8sf2, floatunsv4siv4sf2): Macroize into..."}, {"sha": "7d1cf293f281a546b18f567374a74b6d08ebae45", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=03e0010d71efedb4a5a9718a68fc4ffdd9e24f5b", "patch": "@@ -2322,6 +2322,35 @@\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"TI\")])\n \n+(define_expand \"fixuns_trunc<mode><sseintvecmodelower>2\"\n+  [(set (match_dup 4)\n+\t(unspec:VF1\n+\t  [(match_operand:VF1 1 \"register_operand\" \"\")\n+\t   (match_dup 2)\n+\t   (const_int 29)] UNSPEC_PCMP))\n+   (set (match_dup 5)\n+\t(and:VF1 (match_dup 4) (match_dup 3)))\n+   (set (match_dup 6)\n+\t(plus:VF1 (match_dup 1) (match_dup 5)))\n+   (set (match_operand:<sseintvecmode> 0 \"register_operand\" \"\")\n+\t(fix:<sseintvecmode> (match_dup 6)))]\n+  \"TARGET_AVX\"\n+{\n+  REAL_VALUE_TYPE MTWO32r, TWO31r;\n+  int i;\n+\n+  real_ldexp (&TWO31r, &dconst1, 31);\n+  operands[2] = const_double_from_real_value (TWO31r, SFmode);\n+  operands[2] = ix86_build_const_vector (<MODE>mode, 1, operands[2]);\n+  operands[2] = force_reg (<MODE>mode, operands[2]);\n+  real_ldexp (&MTWO32r, &dconstm1, 32);\n+  operands[3] = const_double_from_real_value (MTWO32r, SFmode);\n+  operands[3] = ix86_build_const_vector (<MODE>mode, 1, operands[3]);\n+  operands[3] = force_reg (<MODE>mode, operands[3]);\n+  for (i = 4; i < 7; i++)\n+    operands[i] = gen_reg_rtx (<MODE>mode);\n+})\n+\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n ;;\n ;; Parallel double-precision floating point conversion operations"}]}