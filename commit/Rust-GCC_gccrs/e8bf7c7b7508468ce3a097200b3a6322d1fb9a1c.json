{"sha": "e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZThiZjdjN2I3NTA4NDY4Y2UzYTA5NzIwMGIzYTYzMjJkMWZiOWExYw==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2017-05-12T17:36:01Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2017-05-12T17:36:01Z"}, "message": "tree-vrp.c (vrp_dom_walker::before_dom_childern): Push unwinding markers.\n\n\t* tree-vrp.c (vrp_dom_walker::before_dom_childern): Push unwinding\n\tmarkers.\n\n\t* g++.dg/tree-ssa/ssa-dom-thread-4.c: Update expected output.\n\nFrom-SVN: r247985", "tree": {"sha": "66386a3752704190937fe2372d0fef9acb314ec2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66386a3752704190937fe2372d0fef9acb314ec2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/comments", "author": null, "committer": null, "parents": [{"sha": "284d1f76e9b9411a30c43d3d366855debdb31f6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/284d1f76e9b9411a30c43d3d366855debdb31f6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/284d1f76e9b9411a30c43d3d366855debdb31f6a"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "6cd066691b379e033d6ce6cd9fdb81c90006c3d8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "patch": "@@ -1,3 +1,8 @@\n+2017-05-12  Jeff Law  <law@redhat.com>\n+\n+\t* tree-vrp.c (vrp_dom_walker::before_dom_childern): Push unwinding\n+\tmarkers.\n+\n 2017-05-12  Peter Bergner  <bergner@vnet.ibm.com>\n \n \tPR middle-end/80707"}, {"sha": "d3797eb21b431a9885c2581a4c75ab6615423062", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "patch": "@@ -1,3 +1,7 @@\n+2017-05-12  Jeff Law  <law@redhat.com>\n+\n+\t* g++.dg/tree-ssa/ssa-dom-thread-4.c: Update expected output.\n+\n 2017-05-12  Peter Bergner  <bergner@vnet.ibm.com>\n \n \tPR middle-end/80707"}, {"sha": "e13eb8673dd7d0db339e4e58291f4ec68bea404a", "filename": "gcc/testsuite/gcc.dg/tree-ssa/ssa-dom-thread-4.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-4.c?ref=e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "patch": "@@ -57,12 +57,8 @@ bitmap_ior_and_compl (bitmap dst, const_bitmap a, const_bitmap b,\n    we should thread all three, but due to a bug in the threading\n    code we missed the edge when the first conditional is false\n    (b_elt is zero, which means the second conditional is always\n-   zero.  \n-\n-   The first two are caught by VRP1, the last is caught by DOM\n-   along with another jump thread.  */\n-/* { dg-final { scan-tree-dump-times \"Threaded\" 2 \"vrp1\" { target { ! logical_op_short_circuit } } } } */\n-/* { dg-final { scan-tree-dump-times \"Threaded\" 2 \"dom2\" { target { ! logical_op_short_circuit } } } } */\n+   zero.  VRP1 catches all three.  */\n+/* { dg-final { scan-tree-dump-times \"Threaded\" 3 \"vrp1\" { target { ! logical_op_short_circuit } } } } */\n \n /* On targets that define LOGICAL_OP_NON_SHORT_CIRCUIT to 0, we split both\n    \"a_elt || b_elt\" and \"b_elt && kill_elt\" into two conditions each,"}, {"sha": "b8cb887cb39f75ecb4a7beb8d10b6742e38b6a39", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=e8bf7c7b7508468ce3a097200b3a6322d1fb9a1c", "patch": "@@ -10540,6 +10540,8 @@ vrp_dom_walker::before_dom_children (basic_block bb)\n {\n   gimple_stmt_iterator gsi;\n \n+  m_avail_exprs_stack->push_marker ();\n+  m_const_and_copies->push_marker ();\n   for (gsi = gsi_start_nondebug_bb (bb); !gsi_end_p (gsi); gsi_next (&gsi))\n     {\n       gimple *stmt = gsi_stmt (gsi);"}]}