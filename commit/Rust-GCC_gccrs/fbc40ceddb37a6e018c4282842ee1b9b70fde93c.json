{"sha": "fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmJjNDBjZWRkYjM3YTZlMDE4YzQyODI4NDJlZTFiOWI3MGZkZTkzYw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@wolery.cumb.org", "date": "2000-06-08T22:39:17Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-06-08T22:39:17Z"}, "message": "noncompile.exp: Remove poison-1 block.\n\n\t* gcc.c-torture/noncompile/noncompile.exp: Remove poison-1 block.\n\t* gcc.c-torture/noncompile/poison-1.c: Move...\n\t* gcc.dg/poison-1.c: ...here, and adapt to dg framework.\n\t* gcc.dg/cpp-li1.c: Add a token after the #line.\n\nFrom-SVN: r34463", "tree": {"sha": "5280e8e099f706e11620ec38ba3a7e8c0028417f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5280e8e099f706e11620ec38ba3a7e8c0028417f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/comments", "author": null, "committer": null, "parents": [{"sha": "25dd13ece0ff96888ad87c1832b7cccda32ade1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25dd13ece0ff96888ad87c1832b7cccda32ade1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25dd13ece0ff96888ad87c1832b7cccda32ade1e"}], "stats": {"total": 62, "additions": 30, "deletions": 32}, "files": [{"sha": "4c287551831306ec7781415eb8c8c3d3253c808c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "patch": "@@ -1,3 +1,10 @@\n+2000-06-08  Zack Weinberg  <zack@wolery.cumb.org>\n+\n+\t* gcc.c-torture/noncompile/noncompile.exp: Remove poison-1 block.\n+\t* gcc.c-torture/noncompile/poison-1.c: Move...\n+\t* gcc.dg/poison-1.c: ...here, and adapt to dg framework.\n+\t* gcc.dg/cpp-li1.c: Add a token after the #line.\n+\n 2000-06-05  Richard Henderson  <rth@cygnus.com>\n \n \t* gcc.c-torture/execute/20000605-2.c: New test."}, {"sha": "44dcf2e156076114153e54648a616328a6cb6b97", "filename": "gcc/testsuite/gcc.c-torture/noncompile/noncompile.exp", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fnoncompile%2Fnoncompile.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fnoncompile%2Fnoncompile.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fnoncompile%2Fnoncompile.exp?ref=fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "patch": "@@ -323,13 +323,3 @@ set compiler_output \".*:6:\"\n set groups {passed gcc-noncompile}\n \n postbase_with_opts $src_code $run $groups\n-\n-# Test poison-1.c\n-prebase\n-\n-set src_code poison-1.c\n-set compiler_output \".*c:2:.*c:4:.*c:5:.*c:7:.*c:8:.*c:9:.*c:11:.*c:12:.*c:13:.*c:14:.*c:17:.*c:20:\"\n-\n-set groups {passed gcc-noncompile}\n-\n-postbase $src_code $run $groups"}, {"sha": "1cb275ef11111c094b2603bdc0836c760bcf7189", "filename": "gcc/testsuite/gcc.c-torture/noncompile/poison-1.c", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25dd13ece0ff96888ad87c1832b7cccda32ade1e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fnoncompile%2Fpoison-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25dd13ece0ff96888ad87c1832b7cccda32ade1e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fnoncompile%2Fpoison-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fnoncompile%2Fpoison-1.c?ref=25dd13ece0ff96888ad87c1832b7cccda32ade1e", "patch": "@@ -1,22 +0,0 @@\n-#pragma poison foo\n-foo\n-#pragma poison foo2 foo3\n-foo2\n-foo3\n-#pragma   poison\tfoo4 \tfoo5\n-foo4\n-foo5\n-#pragma poison +++\n-#define foo6 123\n-#pragma poison foo6\n-#define foo6 345\n-#define foo6 456\n-#ifdef foo6\n-#error hey!  foo6 poisoned!\n-#endif\n-#if defined(foo6)\n-#error no, foo6 still poisoned!\n-#else\n-foo6\n-#endif\n-#pragma poison"}, {"sha": "7bc6561870a06f251b09fc5c39258b3ae7aad5e0", "filename": "gcc/testsuite/gcc.dg/cpp-li1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp-li1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp-li1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp-li1.c?ref=fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "patch": "@@ -7,6 +7,7 @@\n /* The line number below must be just a few lines greater than the\n    actual line number. */\n #line 10 \"baz\"\n+wibble\n \n /*\n   { dg-final { if \\{ [grep cpp-li1.i baz] != \"\" \\} \\{ } }"}, {"sha": "6aa57e6f17027970fa94f90f6a2b5e3184ec53c6", "filename": "gcc/testsuite/gcc.dg/poison-1.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2Fgcc.dg%2Fpoison-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbc40ceddb37a6e018c4282842ee1b9b70fde93c/gcc%2Ftestsuite%2Fgcc.dg%2Fpoison-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpoison-1.c?ref=fbc40ceddb37a6e018c4282842ee1b9b70fde93c", "patch": "@@ -0,0 +1,22 @@\n+#pragma poison foo\n+foo\t\t\t/* { dg-error \"foo\" \"use of foo\" } */\n+#pragma poison foo2 foo3\n+foo2\t\t\t/* { dg-error \"foo2\" \"use of foo2\" } */\n+foo3\t\t\t/* { dg-error \"foo3\" \"use of foo3\" } */\n+#pragma   poison\tfoo4 \tfoo5\n+foo4\t\t\t/* { dg-error \"foo4\" \"use of foo4\" } */\n+foo5\t\t\t/* { dg-error \"foo5\" \"use of foo5\" } */\n+#pragma poison +++\t/* { dg-error \"invalid\" \"poison non-identifier\" } */\n+#define foo6 123\n+#pragma poison foo6\t/* { dg-warning \"foo6\" \"poison defined macro\" } */\n+#define foo6 345\t/* { dg-error \"foo6\" \"def of foo6\" } */\n+#define foo6 456\t/* { dg-error \"foo6\" \"redef of foo6\" } */\n+#ifdef foo6\t\t/* { dg-error \"foo6\" \"#ifdef foo6\" } */\n+#error hey!  foo6 poisoned!\n+#endif\n+#if defined(foo6)\t/* { dg-error \"foo6\" \"#if defined foo6\" } */\n+#error no, foo6 still poisoned!\n+#else\n+foo6\t\t\t/* { dg-error \"foo6\" \"use of foo6\" } */\n+#endif\n+#pragma poison"}]}