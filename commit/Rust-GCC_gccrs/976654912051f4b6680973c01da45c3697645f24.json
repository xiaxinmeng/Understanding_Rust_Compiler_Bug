{"sha": "976654912051f4b6680973c01da45c3697645f24", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTc2NjU0OTEyMDUxZjRiNjY4MDk3M2MwMWRhNDVjMzY5NzY0NWYyNA==", "commit": {"author": {"name": "Neil Booth", "email": "neilb@earthling.net", "date": "2000-12-09T12:07:56Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2000-12-09T12:07:56Z"}, "message": "lineflags.c: New tests.\n\n        * gcc.dg/cpp/lineflags.c: New tests.\n        * gcc.dg/cpp/poison.c: Update.\n        * gcc.dg/cpp/redef2.c: Update.\n        * gcc.dg/cpp/skipping.c: New test.\n\nFrom-SVN: r38151", "tree": {"sha": "fc0bc05a8a0e85bd50f26d41ec53b43caac02e30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc0bc05a8a0e85bd50f26d41ec53b43caac02e30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/976654912051f4b6680973c01da45c3697645f24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/976654912051f4b6680973c01da45c3697645f24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/976654912051f4b6680973c01da45c3697645f24", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/976654912051f4b6680973c01da45c3697645f24/comments", "author": null, "committer": null, "parents": [{"sha": "28e0f040343cefbd1de6c067394ea1415fab83f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28e0f040343cefbd1de6c067394ea1415fab83f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28e0f040343cefbd1de6c067394ea1415fab83f8"}], "stats": {"total": 55, "additions": 51, "deletions": 4}, "files": [{"sha": "5282938e4af831c5bafeb3c3e367bfec5cd262a1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=976654912051f4b6680973c01da45c3697645f24", "patch": "@@ -1,3 +1,10 @@\n+2000-12-09  Neil Booth  <neilb@earthling.net>\n+\n+        * gcc.dg/cpp/lineflags.c: New tests.\n+        * gcc.dg/cpp/poison.c: Update.\n+        * gcc.dg/cpp/redef2.c: Update.   \n+        * gcc.dg/cpp/skipping.c: New test. \n+\n 2000-12-07  Geoffrey Keating  <geoffk@redhat.com>\n \n \t* g++.old-deja/g++.other/eh3.C: New testcase."}, {"sha": "ff112916cc8c4acb9704e5e022aa0cd4209a4f60", "filename": "gcc/testsuite/gcc.dg/cpp/lineflags.c", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Flineflags.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Flineflags.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Flineflags.c?ref=976654912051f4b6680973c01da45c3697645f24", "patch": "@@ -0,0 +1,35 @@\n+/* Copyright (C) 2000 Free Software Foundation, Inc.  */\n+\n+/* { dg-do preprocess } */\n+/* { dg-options \"-fno-show-column\" } */\n+\n+/* This tests whether various combinations of flags are correctly\n+   accepted after #line.\n+\n+   Neil Booth, 8 Dec 2000.  */\n+\n+#line 12 \"file\" 3\t\t/* { dg-warning \"extra tokens\" } */\n+\n+# 14 \"file\" 1 1\t\t\t/* { dg-error \"invalid flag\" } */\n+# 15 \"file\" 1 2\t\t\t/* { dg-error \"invalid flag\" } */\n+# 16 \"file\" 1 3 3\t\t/* { dg-error \"invalid flag\" } */\n+# 17 \"file\" 1 4\t\t\t/* { dg-error \"invalid flag\" } */\n+# 18 \"file\" 2 3 4 4\t\t/* { dg-error \"invalid flag\" } */\n+# 19 \"file\" 2 4\t\t\t/* { dg-error \"invalid flag\" } */\n+# 20 \"file\" 2 2\t\t\t/* { dg-error \"invalid flag\" } */\n+# 21 \"file\" 2 1\t\t\t/* { dg-error \"invalid flag\" } */\n+# 22 \"file\" 4\t\t\t/* { dg-error \"invalid flag\" } */\n+# 23 \"file\" 4 5\t\t\t/* { dg-error \"invalid flag\" } */\n+# 24 \"file\" 0\t\t\t/* { dg-error \"invalid flag\" } */\n+# 25 \"file\" 5\t\t\t/* { dg-error \"invalid flag\" } */\n+# 26 \"file\" foo\t\t\t/* { dg-error \"invalid flag\" } */\n+\n+\n+# 29 \"file\" 1\t\t\t/* { dg-bogus \"invalid flag\" } */\n+# 30 \"file\" 2\t\t\t/* { dg-bogus \"invalid flag\" } */\n+# 31 \"file\" 1 3\t\t\t/* { dg-bogus \"invalid flag\" } */\n+# 32 \"file\" 2 3\t\t\t/* { dg-bogus \"invalid flag\" } */\n+# 33 \"file\" 1 3 4\t\t/* { dg-bogus \"invalid flag\" } */\n+# 34 \"file\" 2 3\t4\t\t/* { dg-bogus \"invalid flag\" } */\n+# 35 \"file\" 3\t\t\t/* { dg-bogus \"invalid flag\" } */\n+# 36 \"file\" 3 4\t\t\t/* { dg-bogus \"invalid flag\" } */"}, {"sha": "fd3f5368eb438d513e670812027eef2b9bb5bd8f", "filename": "gcc/testsuite/gcc.dg/cpp/poison.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpoison.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpoison.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpoison.c?ref=976654912051f4b6680973c01da45c3697645f24", "patch": "@@ -15,10 +15,10 @@ foo5\t\t\t/* { dg-error \"foo5\" \"use of foo5\" } */\n #define foo6 345\t/* { dg-error \"foo6\" \"def of foo6\" } */\n #define foo6 456\t/* { dg-error \"foo6\" \"redef of foo6\" } */\n #ifdef foo6\t\t/* { dg-error \"foo6\" \"#ifdef foo6\" } */\n-#error hey!  foo6 poisoned! /* { dg-error \"foo6\" \"poisoned identifiers\" } */\n+#error hey! foo6 defined!\n #endif\n #if defined(foo6)\t/* { dg-error \"foo6\" \"#if defined foo6\" } */\n-#error foo6 still poisoned! /* { dg-error \"foo6\" \"poisoned identifiers\" } */\n+#error foo6 still defined!\n #else\n foo6\t\t\t/* { dg-error \"foo6\" \"use of foo6\" } */\n #endif"}, {"sha": "1656ab8005492d40e04761f7fbaf6fe4c414b61f", "filename": "gcc/testsuite/gcc.dg/cpp/redef2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fredef2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fredef2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fredef2.c?ref=976654912051f4b6680973c01da45c3697645f24", "patch": "@@ -26,5 +26,5 @@\n    { dg-warning \"previous\"  \"prev def ro\"   { target *-*-* } 11 }\n    { dg-warning \"previous\"  \"prev def va\"   { target *-*-* } 14 }\n \n-   { dg-warning \"named variable\"   \"named\"  { target *-*-* } 14 }\n-   { dg-warning \"anonymous variable\" \"anon\" { target *-*-* } 15 } */ \n+   { dg-warning \"named var\" \"named variadic\"  { target *-*-* } 14 }\n+   { dg-warning \"anonymous var\" \"anon variadic\" { target *-*-* } 15 } */ "}, {"sha": "b8daa890b94c84c30c3526a06659df196883e1c1", "filename": "gcc/testsuite/gcc.dg/cpp/skipping.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fskipping.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/976654912051f4b6680973c01da45c3697645f24/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fskipping.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fskipping.c?ref=976654912051f4b6680973c01da45c3697645f24", "patch": "@@ -18,3 +18,8 @@ F(\t\t\t/* No diagnostic: don't even try to expand it.  */\n #else\n #error Macros not expanded in #elif\n #endif\n+\n+/* Check we don't warn about bad identifiers when skipping.  */\n+#if 0\n+#define foo __VA_ARGS__\t/* { dg-bogus \"warned about identifier\" } */\n+#endif"}]}