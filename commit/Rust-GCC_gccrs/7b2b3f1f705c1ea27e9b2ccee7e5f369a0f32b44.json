{"sha": "7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IyYjNmMWY3MDVjMWVhMjdlOWIyY2NlZTdlNWYzNjlhMGYzMmI0NA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-10-29T22:30:41Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-10-29T22:30:41Z"}, "message": "(output_constant_pool): Labels can be deleted by being turned into\nNOTEs, not just have INSN_DELETED_P.\n\nFrom-SVN: r2653", "tree": {"sha": "15eb78cfae71b05e21ae6c76639cb976bac1a14e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15eb78cfae71b05e21ae6c76639cb976bac1a14e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44/comments", "author": null, "committer": null, "parents": [{"sha": "6ba17bb0914eab65f7bc68476b3a17f372d2a645", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ba17bb0914eab65f7bc68476b3a17f372d2a645", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ba17bb0914eab65f7bc68476b3a17f372d2a645"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "0df6d01a3a0656576db587d3ba5028fdebe24ebb", "filename": "gcc/varasm.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=7b2b3f1f705c1ea27e9b2ccee7e5f369a0f32b44", "patch": "@@ -2494,11 +2494,15 @@ output_constant_pool (fnname, fndecl)\n       /* See if X is a LABEL_REF (or a CONST referring to a LABEL_REF)\n \t whose CODE_LABEL has been deleted.  This can occur if a jump table\n \t is eliminated by optimization.  If so, write a constant of zero\n-\t instead.  */\n-      if ((GET_CODE (x) == LABEL_REF && INSN_DELETED_P (XEXP (x, 0)))\n+\t instead.  Note that this can also happen by turning the\n+\t CODE_LABEL into a NOTE.  */\n+      if (((GET_CODE (x) == LABEL_REF\n+\t    && (INSN_DELETED_P (XEXP (x, 0))\n+\t\t|| GET_CODE (XEXP (x, 0)) == NOTE)))\n \t  || (GET_CODE (x) == CONST && GET_CODE (XEXP (x, 0)) == PLUS\n \t      && GET_CODE (XEXP (XEXP (x, 0), 0)) == LABEL_REF\n-\t      && INSN_DELETED_P (XEXP (XEXP (XEXP (x, 0), 0), 0))))\n+\t      && (INSN_DELETED_P (XEXP (XEXP (XEXP (x, 0), 0), 0))\n+\t\t  || GET_CODE (XEXP (XEXP (XEXP (x, 0), 0), 0)) == NOTE)))\n \tx = const0_rtx;\n \n       /* First switch to correct section.  */"}]}