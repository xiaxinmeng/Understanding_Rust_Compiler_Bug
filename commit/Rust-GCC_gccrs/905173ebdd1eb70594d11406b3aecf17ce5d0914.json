{"sha": "905173ebdd1eb70594d11406b3aecf17ce5d0914", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA1MTczZWJkZDFlYjcwNTk0ZDExNDA2YjNhZWNmMTdjZTVkMDkxNA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2002-08-01T18:37:38Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2002-08-01T18:37:38Z"}, "message": "final.c (output_alternate_entry_point): If ASM_OUTPUT_TYPE_DIRECTIVE is defined, use it.\n\n\t* final.c (output_alternate_entry_point):\n\tIf ASM_OUTPUT_TYPE_DIRECTIVE is defined, use it.\n\nFrom-SVN: r55939", "tree": {"sha": "c4e73b6bb052a2ec44cd63943e0d3a2bd771829b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4e73b6bb052a2ec44cd63943e0d3a2bd771829b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/905173ebdd1eb70594d11406b3aecf17ce5d0914", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/905173ebdd1eb70594d11406b3aecf17ce5d0914", "html_url": "https://github.com/Rust-GCC/gccrs/commit/905173ebdd1eb70594d11406b3aecf17ce5d0914", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/905173ebdd1eb70594d11406b3aecf17ce5d0914/comments", "author": null, "committer": null, "parents": [{"sha": "0870a49046f685c2a4fa0a62cf9b5732c3787c67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0870a49046f685c2a4fa0a62cf9b5732c3787c67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0870a49046f685c2a4fa0a62cf9b5732c3787c67"}], "stats": {"total": 77, "additions": 42, "deletions": 35}, "files": [{"sha": "d6c2ddcea44fe6a07d1f7e3a6aff391c0f07a60c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 39, "deletions": 34, "changes": 73, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/905173ebdd1eb70594d11406b3aecf17ce5d0914/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/905173ebdd1eb70594d11406b3aecf17ce5d0914/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=905173ebdd1eb70594d11406b3aecf17ce5d0914", "patch": "@@ -1,3 +1,8 @@\n+2002-08-01  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* final.c (output_alternate_entry_point):\n+\tIf ASM_OUTPUT_TYPE_DIRECTIVE is defined, use it.\n+\n 2002-08-01  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* objc/objc-act.c (encode_complete_bitfield): Add prototype and\n@@ -45,7 +50,7 @@ cp:\n \n 2002-07-31  Graham Stott  <grahams@btinternet.com>\n \n-\t* config/stormy16/stormy16.h (BSS_SECTION_ASM_OP): Add missing \n+\t* config/stormy16/stormy16.h (BSS_SECTION_ASM_OP): Add missing\n \t.section prefix.\n \n 2002-07-31  Stan Shebs  <shebs@apple.com>\n@@ -84,13 +89,13 @@ cp:\n 2002-07-31  Graham Stott  <grahas@btinternet.com>\n \n \t* config/rs6000/rs6000.c(rs6000_hash_constant): Fix\n-\thash for LABEL_REF's. \n+\thash for LABEL_REF's.\n \n 2002-07-31  Graham Stott  <grahams@btinternet.com>\n \n \t* config/rs6000/rs6000.c (spe_init_builtins,\n \taltivec_init_builtins, rs6000_common_init_builtins):\n-\tReplace ANSI with K&R function def. \n+\tReplace ANSI with K&R function def.\n \n 2002-07-31  David Edelsohn  <edelsohn@gnu.org>\n \n@@ -126,7 +131,7 @@ cp:\n \t(GLOBAL_ASM_OP): Define.\n \n \t* m68hc11.h, m68k.h, m88k.h (ASM_GLOBALIZE_LABEL): Delete.\n-\t\n+\n \t* defaults.h (ASM_GLOBALIZE_LABEL): Provide a default.\n \t* doc/tm.texi (ASM_GLOBALIZE_LABEL): Update docs.\n \n@@ -165,7 +170,7 @@ cp:\n \t* libgcc2.c: Expand macro DECLARE_LIBRARY_RENAMES if it is defined.\n \t* config/fp-bit.c: Likewise.\n \t* doc/tm.texi: Document it.\n-\t\t\t\n+\n 2002-07-30  David Edelsohn  <edelsohn@gnu.org>\n \t    Zack Weinberg  <zack@codesourcery.com>\n \n@@ -248,7 +253,7 @@ Tue Jul 30 11:21:44 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n 2002-07-29  Roger Sayle  <roger@eyesopen.com>\n \n \t* builtins.c (expand_builtin):  Change the default behavior to\n-\tonly issue an error if the builtin function doesn't have a \n+\tonly issue an error if the builtin function doesn't have a\n \tfallback library call.  Remove several cases handled by the\n \tnew default.\n \n@@ -290,7 +295,7 @@ Tue Jul 30 11:21:44 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n \t(pp_c_postfix_expression): Handle ABS_EXPR, COMPLEX_CST,\n \tVECTOR_CST, CONSTRUCTOR.\n \t(pp_c_unary_expression): Handle CONJ_EXPR, REALPART_EXPR,\n-\tIMAGPART_EXPR. \n+\tIMAGPART_EXPR.\n \t(pp_c_cast_expression): Handle FLOAT_EXPR.\n \t(pp_c_assignment_expression): Handle INIT_EXPR.\n \t(pp_c_expression): Update.\n@@ -302,37 +307,37 @@ Tue Jul 30 11:21:44 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n \n 2002-07-29  Eric Christopher  <echristo@redhat.com>\n \n-       \t* config/mips/elf.h: Remove ecoff.h and gofast includes.\n-        (DWARF2_DEBUGGING_INFO, DBX_DEBUGGING_INFO): Define unconditionally.\n-        (SDB_DEBUGGING_INFO): Undefine.\n-        (PREFERRED_DEBUGGING_TYPE): Set to DWARF2_DEBUG.\n+\t* config/mips/elf.h: Remove ecoff.h and gofast includes.\n+\t(DWARF2_DEBUGGING_INFO, DBX_DEBUGGING_INFO): Define unconditionally.\n+\t(SDB_DEBUGGING_INFO): Undefine.\n+\t(PREFERRED_DEBUGGING_TYPE): Set to DWARF2_DEBUG.\n \t(PUT_SDB_SIZE): Remove.\n \t(SUBTARGET_ASM_DEBUGGING_SPEC): Redefine.\n-       \t(STARTFILE_SPEC): Add isa3264 define.\n-       \t* config/mips/elf64.h: Ditto.  Move TARGET_MEM_FUNCTIONS from here...\n-       \t* config/mips/ecoff.h: Remove. and here...\n-       \t* config/mips/iris3.h: and here...\n-       \t* config/mips/sni-svr4.h: and here...\n-       \t* config/mips/mips.h: To here. Remove OBJECT_FORMAT_ROSE ifdefs.\n+\t(STARTFILE_SPEC): Add isa3264 define.\n+\t* config/mips/elf64.h: Ditto.  Move TARGET_MEM_FUNCTIONS from here...\n+\t* config/mips/ecoff.h: Remove. and here...\n+\t* config/mips/iris3.h: and here...\n+\t* config/mips/sni-svr4.h: and here...\n+\t* config/mips/mips.h: To here. Remove OBJECT_FORMAT_ROSE ifdefs.\n \tAdd assembler -mmdebug options for non-dwarf debugging.\n \t* config/mips/r3900.h: Remove debug info defines.\n-       \t* config/mips/isa32-linux.h: Remove, move functionality to config.gcc.\n-       \t* config/mips/isa3264.h: Ditto.\n-       \t* config/mips/t-isa3264: Fix up for file removal and gofast configure\n-       \tchange.\n-       \t* config/mips/t-elf: Ditto.\n-       \t* config/mips/t-ecoff: Ditto.\n-       \t* config/mips/t-r3900: Ditto.\n-       \t* config/mips/t-iris5-6: Ditto.\n-       \t* config/mips/t-isa3264: Ditto.\n-       \t* config/mips/t-linux: Remove.\n-       \t* config/mips/t-netbsd: Remove.\n-       \t* config/mips/t-mips: New file.\n-       \t* config/mips/t-gofast: Ditto.\n-       \t* config/mips/netbsd.h: Remove unnecessary undefines.\n-       \t* config/mips/linux.h: Remove #include of mips.h.\n-       \t* config.gcc: Add mips.h include for elf targets. Remove tm_file\n-       \tfor ecoff. Add gofast configure option for mips.\n+\t* config/mips/isa32-linux.h: Remove, move functionality to config.gcc.\n+\t* config/mips/isa3264.h: Ditto.\n+\t* config/mips/t-isa3264: Fix up for file removal and gofast configure\n+\tchange.\n+\t* config/mips/t-elf: Ditto.\n+\t* config/mips/t-ecoff: Ditto.\n+\t* config/mips/t-r3900: Ditto.\n+\t* config/mips/t-iris5-6: Ditto.\n+\t* config/mips/t-isa3264: Ditto.\n+\t* config/mips/t-linux: Remove.\n+\t* config/mips/t-netbsd: Remove.\n+\t* config/mips/t-mips: New file.\n+\t* config/mips/t-gofast: Ditto.\n+\t* config/mips/netbsd.h: Remove unnecessary undefines.\n+\t* config/mips/linux.h: Remove #include of mips.h.\n+\t* config.gcc: Add mips.h include for elf targets. Remove tm_file\n+\tfor ecoff. Add gofast configure option for mips.\n \n 2002-07-29  Chris Demetriou  <cgd@broadcom.com>\n "}, {"sha": "7d817ae582c0a3d708141f2484ddd83e5d6475d7", "filename": "gcc/final.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/905173ebdd1eb70594d11406b3aecf17ce5d0914/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/905173ebdd1eb70594d11406b3aecf17ce5d0914/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=905173ebdd1eb70594d11406b3aecf17ce5d0914", "patch": "@@ -1974,7 +1974,9 @@ output_alternate_entry_point (file, insn)\n     case LABEL_GLOBAL_ENTRY:\n       ASM_GLOBALIZE_LABEL (file, name);\n     case LABEL_STATIC_ENTRY:\n-      /* FIXME output a .type directive here if appropriate.  */\n+#ifdef ASM_OUTPUT_TYPE_DIRECTIVE\n+      ASM_OUTPUT_TYPE_DIRECTIVE (file, name, \"function\");\n+#endif\n       ASM_OUTPUT_LABEL (file, name);\n       break;\n "}]}