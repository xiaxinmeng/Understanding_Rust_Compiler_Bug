{"sha": "c42d2288061e3926115cfe48509942d341116806", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQyZDIyODgwNjFlMzkyNjExNWNmZTQ4NTA5OTQyZDM0MTExNjgwNg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2016-05-25T16:13:52Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2016-05-25T16:13:52Z"}, "message": "Fix configure test for sendfile()\n\n\t* acinclude.m4 (GLIBCXX_CHECK_FILESYSTEM_DEPS): Fix test for sendfile.\n\t* configure: Regenerate.\n\t* config.h.in: Regenerate.\n\nFrom-SVN: r236730", "tree": {"sha": "a49865370434a936531f4f9740aa003d66e7b81f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a49865370434a936531f4f9740aa003d66e7b81f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c42d2288061e3926115cfe48509942d341116806", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c42d2288061e3926115cfe48509942d341116806", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c42d2288061e3926115cfe48509942d341116806", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c42d2288061e3926115cfe48509942d341116806/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c42d3414397b59b0431be58732900c2c0165c72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c42d3414397b59b0431be58732900c2c0165c72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c42d3414397b59b0431be58732900c2c0165c72"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "e75d551a800c7e7a36cd597525f5653b57c737ee", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c42d2288061e3926115cfe48509942d341116806", "patch": "@@ -1,5 +1,9 @@\n 2016-05-25  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* acinclude.m4 (GLIBCXX_CHECK_FILESYSTEM_DEPS): Fix test for sendfile.\n+\t* configure: Regenerate.\n+\t* config.h.in: Regenerate.\n+\n \t* include/bits/c++config (_GLIBCXX14_USE_CONSTEXPR): Remove it.\n \t* include/bits/hashtable_policy.h (_Power2_rehash_policy::_M_next_bkt):\n \tRemove const qualification on function. Replace"}, {"sha": "0824243ced9c5a73676974359f355dbb7bc35713", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=c42d2288061e3926115cfe48509942d341116806", "patch": "@@ -4373,7 +4373,7 @@ dnl\n       gnu* | linux* | solaris*)\n         GCC_TRY_COMPILE_OR_LINK(\n           [#include <sys/sendfile.h>],\n-          [sendfile(1, 2, (off_t*)NULL, sizeof 1);],\n+          [sendfile(1, 2, (off_t*)0, sizeof 1);],\n           [glibcxx_cv_sendfile=yes],\n           [glibcxx_cv_sendfile=no])\n         ;;\n@@ -4383,7 +4383,7 @@ dnl\n     esac\n   ])\n   if test $glibcxx_cv_sendfile = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_SENDFILE, 1, [Define if sendfile is available in <sys/stat.h>.])\n+    AC_DEFINE(_GLIBCXX_USE_SENDFILE, 1, [Define if sendfile is available in <sys/sendfile.h>.])\n   fi\n   AC_MSG_RESULT($glibcxx_cv_sendfile)\n dnl"}, {"sha": "5ac2df4d8a840e26ea5b9ca1baedd69ab1d72a8b", "filename": "libstdc++-v3/config.h.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig.h.in?ref=c42d2288061e3926115cfe48509942d341116806", "patch": "@@ -937,7 +937,7 @@\n /* Define if _SC_NPROC_ONLN is available in <unistd.h>. */\n #undef _GLIBCXX_USE_SC_NPROC_ONLN\n \n-/* Define if sendfile is available in <sys/stat.h>. */\n+/* Define if sendfile is available in <sys/sendfile.h>. */\n #undef _GLIBCXX_USE_SENDFILE\n \n /* Define if struct stat has timespec members. */"}, {"sha": "4e811665a8049783e2964d570855f3c67156f2ae", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c42d2288061e3926115cfe48509942d341116806/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=c42d2288061e3926115cfe48509942d341116806", "patch": "@@ -80358,7 +80358,7 @@ else\n int\n main ()\n {\n-sendfile(1, 2, (off_t*)NULL, sizeof 1);\n+sendfile(1, 2, (off_t*)0, sizeof 1);\n   ;\n   return 0;\n }\n@@ -80379,7 +80379,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n int\n main ()\n {\n-sendfile(1, 2, (off_t*)NULL, sizeof 1);\n+sendfile(1, 2, (off_t*)0, sizeof 1);\n   ;\n   return 0;\n }"}]}