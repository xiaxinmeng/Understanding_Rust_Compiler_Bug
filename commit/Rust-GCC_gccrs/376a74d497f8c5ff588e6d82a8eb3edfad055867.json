{"sha": "376a74d497f8c5ff588e6d82a8eb3edfad055867", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzc2YTc0ZDQ5N2Y4YzVmZjU4OGU2ZDgyYThlYjNlZGZhZDA1NTg2Nw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:46:37Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:46:37Z"}, "message": "Resync.\n\nFrom-SVN: r92853", "tree": {"sha": "6a937f38916e533361dee2d572f2817fb093ce59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a937f38916e533361dee2d572f2817fb093ce59"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/376a74d497f8c5ff588e6d82a8eb3edfad055867", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/376a74d497f8c5ff588e6d82a8eb3edfad055867", "html_url": "https://github.com/Rust-GCC/gccrs/commit/376a74d497f8c5ff588e6d82a8eb3edfad055867", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/376a74d497f8c5ff588e6d82a8eb3edfad055867/comments", "author": null, "committer": null, "parents": [{"sha": "87b3f81fc94c4a40ddc8ef8107757696fd2accad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87b3f81fc94c4a40ddc8ef8107757696fd2accad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87b3f81fc94c4a40ddc8ef8107757696fd2accad"}], "stats": {"total": 342, "additions": 342, "deletions": 0}, "files": [{"sha": "3950453cac070e95d5f6720bc5210d6b94430f0b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 342, "deletions": 0, "changes": 342, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/376a74d497f8c5ff588e6d82a8eb3edfad055867/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/376a74d497f8c5ff588e6d82a8eb3edfad055867/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=376a74d497f8c5ff588e6d82a8eb3edfad055867", "patch": "@@ -1,3 +1,345 @@\n+2005-01-03  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* gen-soccon.c: New utility program to generate g-soccon.ads\n+\tautomatically.\n+\n+\t* socket.c, gsocket.h: Split inclusion of system header files into a\n+\tgsocket.h file separated from socket.c, to allow reuse in gen-soccon.c.\n+\n+\t* g-soccon.ads, g-soccon-unixware.ads, g-soccon-tru64.ads,\n+\tg-soccon-aix.ads, g-soccon-irix.ads, g-soccon-hpux.ads,\n+\tg-soccon-interix.ads, g-soccon-solaris.ads, g-soccon-mingw.ads,\n+\tg-soccon-vxworks.ads, g-soccon-freebsd.ads: Note that these files\n+\tshould not be edited by hand anymore, but should be regenerated using\n+\tgen-soccon.\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\t    Ed Schonberg  <schonberg@adacore.com>\n+\t    Vincent Celier  <celier@adacore.com>\n+\n+\t* s-atacco.ads, a-direio.adb: Protect use of 'Constrained by warnings\n+\ton/off, since this is an obsolescent feature, for which we now generate\n+\ta warning.\n+\n+\t* sem_attr.adb (Analyze_Attribute, case Constrained): Issue warning if\n+\twarning mode is set and obsolescent usage of this attribute occurs.\n+\t(Resolve_Access, case 'Access): Note that GNAT uses the context type to\n+\tdisambiguate overloaded prefixes, in accordance with AI-235. GNAT code\n+\tpredates, and partly motivates, the adoption of the AI.\n+\tImplement new Ada 2005 attribute Mod\n+\n+\t* exp_attr.adb (Expand_N_Attribute_Reference): Implement Ada 2005\n+\tattribute Mod.\n+\n+\t* par-ch4.adb (P_Name): In Ada 2005 mode, recognize new attribute Mod\n+\n+\t* snames.h, snames.ads, snames.adb: Add entry for No_Dependence for\n+\tpragma restrictions.\n+\tNew entry for Ada 2005 attribute Mod.\n+\n+\t* par-prag.adb: \n+\tAdd recognition of new pragma Restrictions No_Dependence\n+\tRecognize restriction No_Obsolescent_Features at parse time\n+\n+\t* bcheck.adb: Add circuitry for checking for consistency of\n+\tNo_Dependence restrictions.\n+\n+\t* lib-writ.ads, lib-writ.adb: Output new R lines for No_Dependence\n+\trestrictions.\n+\n+\t* restrict.ads, restrict.adb: Add subprograms to deal with\n+\tNo_Dependence restrictions.\n+\n+\t* rtsfind.adb: Check that implicit with's do not violate No_Dependence\n+\trestrictions.\n+\n+\t* sem_ch3.adb, sem_ch11.adb, sem_ch13.adb, lib-xref.adb,\n+\tsem_attr.adb: Add check for new restriction No_Obsolescent_Features\n+\n+\t* scn.ads, prj-err.ads, prj-err.adb, ali-util.adb, gprep.adb: Add new\n+\tdummy parameter to scng instantiation.\n+\tNeeded for new restriction No_Obsolescent_Features\n+\n+\t* scn.adb: (Obsolescent_Check): New procedure\n+\tNeeded for new restriction No_Obsolescent_Features\n+\n+\t* scng.ads, scng.adb: Always allow wide characters in Ada 2005 mode, as\n+\tspecified by AI-285, needed for implementation of AI-388 (adding greek\n+\tpi to Ada.Numerics).\n+\tAdd new generic formal to scng, needed for new restriction\n+\tNo_Obsolescent_Features.\n+\n+\t* s-rident.ads: Add new restriction No_Obsolescent_Features.\n+\n+\t* ali.ads, ali.adb: Adjustments for reading new No_Dependence\n+\trestrictions lines.\n+\t(Scan_ALI): When finding an unexpected character on an R line, raise\n+\texception Bad_R_Line, instead of calling Fatal_Error, so that, when\n+\tIgnore_Errors is True, default restrictions are set and scanning of the\n+\tALI file continues with the next line. Also, when Bad_R_Line is raised\n+\tand Ignore_Errors is True, skip to the end of le line.\n+\n+\t* sem_ch10.adb: Check that explicit with's do not violate\n+\tNo_Dependence restrictions.\n+\t(Install_Withed_Unit): Add code to implement AI-377 and diagnose\n+\tillegal context clauses containing child units of instance.\n+\n+\t* sem_prag.adb: Processing and checking for new No_Dependence\n+\trestrictions.\n+\t(Analyze_Pragma, case Psect_Object): Call Check_Arg_Is_External_Name to\n+\tanalyze and check the External argument.\n+\n+\t* a-numeri.ads: Add greek letter pi as alternative spelling of Pi\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* atree.adb: Add a fifth component to entities\n+\tThis allows us to add 32 flags and four new fields\n+\n+\t* atree.ads: Add a fifth component to entities\n+\tThis allows us to add 32 flags and four new fields\n+\n+\t* einfo.ads, einfo.adb: Document new fields and new flags now available\n+\tAdd routines for printing new fields\n+\n+\t* treepr.adb: Call routines to print out additional fields if present\n+\n+2005-01-03  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* bld.ads, bld.adb, bld-io.ads, bld-io.adb, gprcmd.adb,\n+\tgpr2make.ads, gpr2make.adb: Remove gpr2make, replaced by gprmake.\n+\n+\t* Makefile.in: Add support to build shared Ada libraries on solaris x86\n+\tRemove gpr2make, replaced by gprmake.\n+\tRemove references to gnatmem and libaddr2line.\n+\tAdd indepsw.adb<indepsw-linux.adb to TOOLS_TARGET_PAIRS for IA64 linux.\n+\t(gnatlib-shared-darwin): Add \"-fno-common\" to GNATLIBCFLAGS.\n+\tAdd support for specialized version of Ada.Numerics.Aux for Darwin: use\n+\ta-numaux-darwin.ads and a-numaux-darwin.adb\n+\tEnable mlib-tgt-lynxos.adb on lynxos.\n+\n+\t* Make-lang.in: Remove rules for gpr2make.\n+\tWhen generating sdefault.adb, do not call Relocate_Path\n+\ton S3 for function Target_Name, as it is not a path.\n+\tRemove references to gnatmem and libaddr2line.\n+\n+\t* a-numaux-darwin.ads, a-numaux-darwin.adb, g-soccon-darwin.ads: New\n+\tfiles.\n+\n+2005-01-03  Samuel Tardieu  <tardieu@adacore.com>\n+\n+\t* checks.adb (Apply_Alignment_Check): Generate a warning if an object\n+\taddress is incompatible with its base type alignment constraints when\n+\tthis can be decided statically.\n+\n+2005-01-03  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* decl.c (compatible_signatures_p): New function. The intended purpose\n+\tis to check if two function signatures for a call-site and a callee are\n+\tcompatible enough for the call to be valid. The underlying purpose is\n+\tto check if a call to a mapped builtin is using the right interface.\n+\tThe current code actually does not check antyhing - this a placeholder\n+\tfor future refinements.\n+\t(gnat_to_gnu_entity) <E_Subprogram_Call>: Add preliminary bits to handle\n+\tbuiltin calls for convention Intrinsic.\n+\n+\t* gigi.h (builtin_decl_for): Declare (new function).\n+\n+\t* utils.c (gnat_install_builtins): Install the target specific builtins.\n+\t(builtin_decl_for): New function, provide a dummy body for now.\n+\n+2005-01-03  Geert Bosch  <bosch@adacore.com>\n+\n+\t* eval_fat.adb: (Eps_Model,Eps_Denorm): Remove, no longer used.\n+\t(Succ): Re-implement using Scaling, Exponent and Ceiling attributes.\n+\t(Pred): Implement in terms of Succ.\n+\t\n+\t* trans.c (convert_with_check): Reimplement conversion of float to\n+\tinteger.\n+\n+2005-01-03  Ed Schonberg  <schonberg@adacore.com>\n+\t    Vincent Celier  <celier@adacore.com>\n+\n+\t* exp_aggr.adb (Packed_Array_Aggregate_Handled): The values of the\n+\tbounds can be negative, and must be declared Int, not Nat.\n+\n+\t* sem_elim.adb (Line_Num_Match): Correct wrong code when index in an\n+\tarray is checked after using the index in the array.\n+\n+\t* makegpr.adb (Add_Switches): Check if there is a package for the\n+\tprocessor. If there is no package, do not look for switches.\n+\n+2005-01-03  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* exp_ch3.adb (Stream_Operations_OK): Predicate to determine when the\n+\tgeneration of predefined stream operations (specs and bodies) should\n+\tproceed. Under various restrictions these subprograms must not be\n+\tgenerated.\n+\n+2005-01-03  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* exp_dist.adb: \n+\tDeclare subprogram index in Build_RPC_Receiver_Body, to reduce the\n+\tamount of PCS-specific code in RACW stubs generation.\n+\t(Copy_Specification): Set Etype on copied formal parameter entities, as\n+\tthis information is needed for PolyORB stubs generation.\n+\t(PolyORB_Support.Build_Subprogram_Receiving_Stubs): Remove unused\n+\tvariable Dynamic_Async.\n+\t(Build_Subprogram_Receiving_Stubs): Make PCS-specific\n+\t(Build_RPC_Receiver_Specification): Make generic again, as recent\n+\tchanges have allowed RPC receivers to have the same profile for both\n+\tvariants of the PCS.\n+\tReorganise RPC receiver generation to reduce differences between the\n+\tstructure of GARLIC and PolyORB RPC receivers.\n+\t(Add_Receiving_Stubs_To_Declarations): Make this subprogram\n+\tPCS-specific.\n+\tSimplify elaboration code for RCI packages.\n+\n+\t* s-parint.ads, s-parint.adb, rtsfind.ads: Reorganise RPC receiver\n+\tgeneration to reduce differences between the structure of GARLIC and\n+\tPolyORB RPC receivers.\n+\n+\t* s-stratt.adb: Fix typo in comment.\n+\n+2005-01-03  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* exp_ch7.ads (Make_Final_Call): Rewrite comment (was incorrectly\n+\tcopied from Make_Init_Call).\n+\n+\t* exp_strm.adb (Build_Mutable_Record_Read_Procedure): Do component\n+\treads and assignments on a temporary variable declared with appropriate\n+\tdiscriminants.\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* i-c.adb (To_C): Raise CE if string is null and Append_Null\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* i-cstrin.adb (Update): Do not append a null in form called with a\n+\tString. This avoids unintended behavior.\n+\n+2005-01-03  Arnaud Charlet  <charlet@adacore.com>\n+\n+\tPR ada/17527\n+\t* init.c: Fix warnings on Free BSD section.\n+\n+2005-01-03  Arnaud Charlet  <charlet@adacore.com>\n+\n+\tPR ada/16949\n+\t* sinfo.ads: Fix obsolete reference to xsinfo.spt (replaced by\n+\txsinfo.adb).\n+\n+2005-01-03  Vincent Celier  <celier@adacore.com>\n+\n+\t* make.adb (Collect_Arguments_And_Compile): Do not attempt to build\n+\tlibraries when Unique_Compile is True (-u switch).\n+\t(Gnatmake): ditto.\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* namet.adb (Get_Decoded_Name_With_Brackets): Fix case of not allowing\n+\tupper case letter or underscore after W, as allowed by spec.\n+\n+2005-01-03  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* s-osinte-darwin.ads, s-osinte-darwin.adb: Clean up\n+\tdarwin port by using proper type definitions from header files.\n+\tUse SIGTERM instead of SIGABRT for SIGADAABORT.\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* par.adb: Enhance error message handling for configuration file\n+\tpragmas.\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* s-arit64.adb (Double_Divide): Put back changes that got accidentally\n+\tremoved during the previous update (test properly for case of dividing\n+\tlargest negative number by -1, which generates overflow).\n+\n+2005-01-03  Ed Schonberg  <schonberg@adacore.com>\n+\t    Sergey Rybin  <rybin@adacore.com>\n+\n+\t* sem_ch12.adb (Analyze_Package_Instantiation): Create a separate node\n+\tto use as the defining identifier for a formal package.\n+\t(Remove_Parent): If the instance takes place within (an instance of)\n+\ta sibling, preserve private declarations of common parent.\n+\n+2005-01-03  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch4.adb (Has_Fixed_Op): New predicate in Check_Arithmetic_Pair,\n+\tto determine whether one of the operands is a fixed-point type for\n+\twhich a user-defined multiplication or division operation might be\n+\tdefined.\n+\n+\t* sem_res.adb (Valid_Conversion): The legality rules for conversions\n+\tof access types are symmetric in Ada 2005: either designated type can\n+\tbe unconstrained.\n+\n+2005-01-03  Vincent Celier  <celier@adacore.com>\n+\n+\t* s-fileio.adb (Temp_File_Record): Change length of string component\n+\tName from L_tmpnam + 1 to max_path_len + 1.\n+\n+2005-01-03  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* s-tasini.ads, s-tasini.adb (Undefer_Abortion): Handle case of\n+\tSelf_Id.Deferral_Level = 0.\n+\t(Do_Pending_Action): Move this function to the spec.\n+\n+\t* s-tasren.adb (Selective_Wait [Terminate_Selected]): Call\n+\tDo_Pending_Action explicitely when needed, in case we're using\n+\tNo_Abort restrictions.\n+\n+\t* s-tassta.adb (Create_Task): If Abort is not allowed, reset the\n+\tdeferral level since it will not get changed by the generated code.\n+\tKeeping a default value of 1 would prevent some operations (e.g.\n+\tselect or delay) to proceed successfully.\n+\n+2005-01-03  Ben Brosgol  <brosgol@adacore.com>\n+\t    Robert Dewar  <dewar@adacore.com>\n+\t    Cyrille Comar  <comar@adacore.com>\n+\n+\t* ug_words, gnat_ugn.texi: Added alpha-ivms transitioning section to\n+\tporting guide chapter (vms version).\n+\tRevised doc title (removed \"for native platforms\") and subtitle.\n+\tAdd discussion on warning flag for obsolescent features. First we\n+\tnote that it applies to obsolete GNAT features, which was previously\n+\tomitted. Second we contrast the behavior with that of the new\n+\tAda 2005 AI-368 restriction No_Obsolescent_Features.\n+\tPreliminary rewriting of GNAT & libraries chapter in order to take\n+\tinto account default project locations & new project manager\n+\tcapabilities.\n+\n+2005-01-03  Robert Dewar  <dewar@adacore.com>\n+\n+\t* cstand.adb (Create_Operators): Clean up format and documentation of\n+\tunary and binary operator result tables. No change in code, just\n+\treformatting and addition of comments.\n+\n+\t* errout.ads, gnatfind.adb, s-maccod.ads, sem.adb,\n+\tsem_ch2.adb: Minor reformatting\n+\n+\t* atree.ads, elists.ads, lib.ads, namet.ads, nlists.ads, repinfo.ads,\n+\tsinput.ads, stringt.ads, uintp.ads, urealp.ads: Minor clarification to\n+\tcomments for Tree_Read and Tree_Write.\n+\n+2005-01-03  Pascal Obry  <obry@adacore.com>\n+\n+\t* exp_attr.ads: Minor reformatting.\n+\n+2005-01-03  Romain Berrendonner  <berrendo@adacore.com>\n+\n+\t* comperr.adb (Compiler_Abort): Add specialized message for GAP\n+\tversions.\n+\n+2005-01-03  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* exp_pakd.adb (Create_Packed_Array_Type): Add a guard to check\n+\twhether the ancestor type is private, as may be the case with nested\n+\tinstantiations.\n+\n 2004-12-30  Sohail Somani <sohail@sohailsomani.com>\n \n \tPR ada/19128"}]}