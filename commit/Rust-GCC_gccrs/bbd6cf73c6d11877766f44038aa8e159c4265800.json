{"sha": "bbd6cf73c6d11877766f44038aa8e159c4265800", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJkNmNmNzNjNmQxMTg3Nzc2NmY0NDAzOGFhOGUxNTljNDI2NTgwMA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-19T23:48:17Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-19T23:48:17Z"}, "message": "(store_field): Convert EXP to MODE before calling store_bit_field.\n\nFrom-SVN: r6119", "tree": {"sha": "2ea5dcfe7a849bf623988854e67aae5afe654917", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ea5dcfe7a849bf623988854e67aae5afe654917"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbd6cf73c6d11877766f44038aa8e159c4265800", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbd6cf73c6d11877766f44038aa8e159c4265800", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbd6cf73c6d11877766f44038aa8e159c4265800", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbd6cf73c6d11877766f44038aa8e159c4265800/comments", "author": null, "committer": null, "parents": [{"sha": "9061e4cdc9c63ff6f57f60bf8df585c14526bb89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9061e4cdc9c63ff6f57f60bf8df585c14526bb89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9061e4cdc9c63ff6f57f60bf8df585c14526bb89"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "95a51a32517be993a3a2624a792d821562821aed", "filename": "gcc/expr.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbd6cf73c6d11877766f44038aa8e159c4265800/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbd6cf73c6d11877766f44038aa8e159c4265800/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=bbd6cf73c6d11877766f44038aa8e159c4265800", "patch": "@@ -3028,6 +3028,13 @@ store_field (target, bitsize, bitpos, mode, exp, value_mode,\n       || (STRICT_ALIGNMENT && bitpos % GET_MODE_ALIGNMENT (mode) != 0))\n     {\n       rtx temp = expand_expr (exp, NULL_RTX, VOIDmode, 0);\n+\n+      /* Unless MODE is VOIDmode or BLKmode, convert TEMP to\n+\t MODE.  */\n+      if (mode != VOIDmode && mode != BLKmode\n+\t  && mode != TYPE_MODE (TREE_TYPE (exp)))\n+\ttemp = convert_modes (mode, TYPE_MODE (TREE_TYPE (exp)), temp, 1);\n+\n       /* Store the value in the bitfield.  */\n       store_bit_field (target, bitsize, bitpos, mode, temp, align, total_size);\n       if (value_mode != VOIDmode)"}]}