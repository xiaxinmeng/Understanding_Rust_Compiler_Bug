{"sha": "ca800983cb2c749676dc33d52c752ecdee1e0e15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2E4MDA5ODNjYjJjNzQ5Njc2ZGMzM2Q1MmM3NTJlY2RlZTFlMGUxNQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-31T11:20:06Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-31T11:20:06Z"}, "message": "(note_addr_stored): A SET or CLOBBER of a BLKmode MEM means that all\nmemory is clobbered.\n\nFrom-SVN: r7395", "tree": {"sha": "f4f89401193b2a783ad9add5671d27b0c1d44f34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f4f89401193b2a783ad9add5671d27b0c1d44f34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca800983cb2c749676dc33d52c752ecdee1e0e15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca800983cb2c749676dc33d52c752ecdee1e0e15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca800983cb2c749676dc33d52c752ecdee1e0e15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca800983cb2c749676dc33d52c752ecdee1e0e15/comments", "author": null, "committer": null, "parents": [{"sha": "058f58ed24812ddfe91a9f8cf8f83378e9fc4c33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/058f58ed24812ddfe91a9f8cf8f83378e9fc4c33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/058f58ed24812ddfe91a9f8cf8f83378e9fc4c33"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "624329b1afbd838d3f21c0ce14b68e1d715c287f", "filename": "gcc/loop.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca800983cb2c749676dc33d52c752ecdee1e0e15/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca800983cb2c749676dc33d52c752ecdee1e0e15/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=ca800983cb2c749676dc33d52c752ecdee1e0e15", "patch": "@@ -2593,6 +2593,10 @@ note_addr_stored (x)\n      This affects heuristics in strength_reduce.  */\n   num_mem_sets++;\n \n+  /* BLKmode MEM means all memory is clobbered.  */\n+  if (GET_MODE (x) == BLKmode)\n+    unknown_address_altered = 1;\n+\n   if (unknown_address_altered)\n     return;\n \n@@ -2601,10 +2605,9 @@ note_addr_stored (x)\n \t&& MEM_IN_STRUCT_P (x) == MEM_IN_STRUCT_P (loop_store_mems[i]))\n       {\n \t/* We are storing at the same address as previously noted.  Save the\n-\t   wider reference, treating BLKmode as wider.  */\n-\tif (GET_MODE (x) == BLKmode\n-\t    || (GET_MODE_SIZE (GET_MODE (x))\n-\t\t> GET_MODE_SIZE (GET_MODE (loop_store_mems[i]))))\n+\t   wider reference.  */\n+\tif (GET_MODE_SIZE (GET_MODE (x))\n+\t    > GET_MODE_SIZE (GET_MODE (loop_store_mems[i])))\n \t  loop_store_mems[i] = x;\n \tbreak;\n       }"}]}