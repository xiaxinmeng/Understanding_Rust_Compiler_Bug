{"sha": "9324411a50ae8a1dd51eac8c93ff251ba063915f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTMyNDQxMWE1MGFlOGExZGQ1MWVhYzhjOTNmZjI1MWJhMDYzOTE1Zg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-10-22T22:37:03Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-10-22T22:37:03Z"}, "message": "Fix v850 build problem stemming from Joern's reload patch.\n\n\t* v850/v850.c (v850_reorg): Call alter_subreg.  Delete subreg support.\n\nFrom-SVN: r23234", "tree": {"sha": "e21458bd3e8fd0137fd9e8f0d727e2975a5e5a6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e21458bd3e8fd0137fd9e8f0d727e2975a5e5a6b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9324411a50ae8a1dd51eac8c93ff251ba063915f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9324411a50ae8a1dd51eac8c93ff251ba063915f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9324411a50ae8a1dd51eac8c93ff251ba063915f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9324411a50ae8a1dd51eac8c93ff251ba063915f/comments", "author": null, "committer": null, "parents": [{"sha": "8f38ad1fd87f97efa2225d862fc452ec42e4ca20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f38ad1fd87f97efa2225d862fc452ec42e4ca20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f38ad1fd87f97efa2225d862fc452ec42e4ca20"}], "stats": {"total": 23, "additions": 14, "deletions": 9}, "files": [{"sha": "cb9dd65aa474ab048980e360cbca50d5f1bd35be", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9324411a50ae8a1dd51eac8c93ff251ba063915f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9324411a50ae8a1dd51eac8c93ff251ba063915f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9324411a50ae8a1dd51eac8c93ff251ba063915f", "patch": "@@ -1,3 +1,7 @@\n+Thu Oct 22 22:34:42 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* v850/v850.c (v850_reorg): Call alter_subreg.  Delete subreg support.\n+\n Fri Oct 23 11:11:56 1998  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n \n \t* rtl.def (POST_MODIFY, PRE_MODIFY): New generalized operators for"}, {"sha": "319b6ab90868b9bdc3d111c4c22fa442c4ff45d1", "filename": "gcc/config/v850/v850.c", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9324411a50ae8a1dd51eac8c93ff251ba063915f/gcc%2Fconfig%2Fv850%2Fv850.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9324411a50ae8a1dd51eac8c93ff251ba063915f/gcc%2Fconfig%2Fv850%2Fv850.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.c?ref=9324411a50ae8a1dd51eac8c93ff251ba063915f", "patch": "@@ -1260,6 +1260,14 @@ void v850_reorg (start_insn)\n \t      /* Memory operands are signed by default.  */\n \t      int unsignedp = FALSE;\n \n+\t      /* We might have (SUBREG (MEM)) here, so just get rid of the\n+\t\t subregs to make this code simpler.  It is safe to call\n+\t\t alter_subreg any time after reload.  */\n+\t      if (GET_CODE (dest) == SUBREG)\n+\t\tdest = alter_subreg (dest);\n+\t      if (GET_CODE (src) == SUBREG)\n+\t\tsrc = alter_subreg (src);\n+\n \t      if (GET_CODE (dest) == MEM && GET_CODE (src) == MEM)\n \t\tmem = NULL_RTX;\n \n@@ -1312,20 +1320,13 @@ void v850_reorg (start_insn)\n \n \t      /* Loading up a register in the basic block zaps any savings\n \t\t for the register */\n-\t      if (GET_CODE (dest) == REG || GET_CODE (dest) == SUBREG)\n+\t      if (GET_CODE (dest) == REG)\n \t\t{\n \t\t  enum machine_mode mode = GET_MODE (dest);\n-\t\t  int word = 0;\n \t\t  int regno;\n \t\t  int endregno;\n \n-\t\t  while (GET_CODE (dest) == SUBREG)\n-\t\t    {\n-\t\t      word = SUBREG_WORD (dest);\n-\t\t      dest = SUBREG_REG (dest);\n-\t\t    }\n-\n-\t\t  regno = REGNO (dest) + word;\n+\t\t  regno = REGNO (dest);\n \t\t  endregno = regno + HARD_REGNO_NREGS (regno, mode);\n \n \t\t  if (!use_ep)"}]}