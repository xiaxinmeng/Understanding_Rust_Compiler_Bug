{"sha": "2afc5ce11853f2a269dd17e24b458779e9c41021", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFmYzVjZTExODUzZjJhMjY5ZGQxN2UyNGI0NTg3NzllOWM0MTAyMQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-12-15T11:35:24Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-12-15T11:35:24Z"}, "message": "(DBX_STATIC_BLOCK_END): Use macro arguments.\n\n(xcoff_begin_function_line, xcoff_current_function_file): Remove\nunused extern declarations.\n(DBX_OUTPUT_MAIN_SOURCE_FILENAME): Use macro argument.\n\nFrom-SVN: r10731", "tree": {"sha": "f8839fb0b7e8a392ae01d83860622c33c9f3e8b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8839fb0b7e8a392ae01d83860622c33c9f3e8b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2afc5ce11853f2a269dd17e24b458779e9c41021", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2afc5ce11853f2a269dd17e24b458779e9c41021", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2afc5ce11853f2a269dd17e24b458779e9c41021", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2afc5ce11853f2a269dd17e24b458779e9c41021/comments", "author": null, "committer": null, "parents": [{"sha": "d12de8cea3a624847192db12ef6d7bcbb7bc6bfa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d12de8cea3a624847192db12ef6d7bcbb7bc6bfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d12de8cea3a624847192db12ef6d7bcbb7bc6bfa"}], "stats": {"total": 24, "additions": 6, "deletions": 18}, "files": [{"sha": "8a97eaff3bd4f8e35bf0d1d63632c5c6afdc2936", "filename": "gcc/xcoffout.h", "status": "modified", "additions": 6, "deletions": 18, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2afc5ce11853f2a269dd17e24b458779e9c41021/gcc%2Fxcoffout.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2afc5ce11853f2a269dd17e24b458779e9c41021/gcc%2Fxcoffout.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fxcoffout.h?ref=2afc5ce11853f2a269dd17e24b458779e9c41021", "patch": "@@ -58,8 +58,8 @@\n \n #define DBX_STATIC_BLOCK_END(ASMFILE,CODE)\t\t\t\t\\\n {\t\t\t\t\t\t\t\t\t\\\n-  if (current_sym_code == N_STSYM || current_sym_code == N_LCSYM)\t\\\n-    fprintf (asmfile, \"\\t.es\\n\");\t\t\t\t\t\\\n+  if ((CODE) == N_STSYM || (CODE) == N_LCSYM)\t\t\t\t\\\n+    fputs (\"\\t.es\\n\", (ASMFILE));\t\t\t\t\t\\\n }\n \n /* We must use N_RPYSM instead of N_RSYM for register parameters.  */\n@@ -115,22 +115,10 @@\n #define N_RPSYM 0x8e\n #endif\n \n-/* The line number of the beginning of the current function.\n-   xcoffout.c needs this so that it can output relative linenumbers.  */\n-\n-extern int xcoff_begin_function_line;\n-\n /* Name of the current include file.  */\n \n extern char *xcoff_current_include_file;\n \n-/* Name of the current function file.  This is the file the `.bf' is\n-   emitted from.  In case a line is emitted from a different file,\n-   (by including that file of course), then the line number will be\n-   absolute.  */\n-\n-extern char *xcoff_current_function_file;\n-\n /* Names of bss and data sections.  These should be unique names for each\n    compilation unit.  */\n \n@@ -151,16 +139,16 @@ extern char *xcoff_lastfile;\n    is already emitting a .file directory, so we don't output one here also.\n    Initialize xcoff_lastfile.  */\n #define DBX_OUTPUT_MAIN_SOURCE_FILENAME(FILE,FILENAME) \\\n-  xcoff_lastfile = input_file_name\n+  xcoff_lastfile = (FILENAME)\n \n /* If we are still in an include file, its end must be marked.  */\n #define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME)\t\\\n {\t\t\t\t\t\t\t\\\n   if (xcoff_current_include_file)\t\t\t\\\n     {\t\t\t\t\t\t\t\\\n-      fprintf (FILE, \"\\t.ei\\t\");\t\t\t\\\n-      output_quoted_string (FILE, xcoff_current_include_file);\t\\\n-      fprintf (FILE, \"\\n\");\t\t\t\t\\\n+      fputs (\"\\t.ei\\t\", (FILE));\t\t\t\\\n+      output_quoted_string ((FILE), xcoff_current_include_file);\t\\\n+      putc ('\\n', (FILE));\t\t\t\t\\\n       xcoff_current_include_file = NULL;\t\t\\\n     }\t\t\t\t\t\t\t\\\n }"}]}