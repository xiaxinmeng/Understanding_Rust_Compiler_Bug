{"sha": "01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFmNzhhMDI1ZTdlMDAwYjgzNmFiOWZmNzZmZmMzYjk5NThiYTQzZQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@cygnus.com", "date": "1999-04-20T06:27:11Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "1999-04-20T06:27:11Z"}, "message": "sparc-signal.h: new file.\n\n1999-04-20  Andrew Haley  <aph@cygnus.com>\n        * include/sparc-signal.h: new file.\n        * configure.in: include/sparc-signal.h added.\n        * configure: regenerated.\n        * prims.cc (JvRunMain): signal handling code rewritten to be more\n        portable.\n        (catch_segv): ditto.\n        (catch_fpe): ditto.\n        * include/i386-signal.h: reorganized.\n        * include/default-signal.h: reorganized.\n\nFrom-SVN: r26560", "tree": {"sha": "add4675eb0e1e75e84638aec16fc821fcc469627", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/add4675eb0e1e75e84638aec16fc821fcc469627"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/comments", "author": null, "committer": null, "parents": [{"sha": "3d6b96617891cf51b41ebcd5b569d3d668932e24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d6b96617891cf51b41ebcd5b569d3d668932e24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d6b96617891cf51b41ebcd5b569d3d668932e24"}], "stats": {"total": 489, "additions": 278, "deletions": 211}, "files": [{"sha": "027819a83ed8f7a3996a5c14c60a1a6073ae561e", "filename": "libjava/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -1,3 +1,15 @@\n+1999-04-20  Andrew Haley  <aph@cygnus.com>\n+\n+\t* include/sparc-signal.h: new file.\n+\t* configure.in: include/sparc-signal.h added.\n+\t* configure: regenerated.\n+\t* prims.cc (JvRunMain): signal handling code rewritten to be more\n+\tportable.\n+\t(catch_segv): ditto.\n+\t(catch_fpe): ditto.\n+\t* include/i386-signal.h: reorganized.\n+\t* include/default-signal.h: reorganized.\n+\n 1999-04-19  Tom Tromey  <tromey@cygnus.com>\n \n \t* java/lang/natSystem.cc (init_properties): Only declare pwd_entry"}, {"sha": "5e907cf4d8bb69050a53b460bd4f3221d3acd791", "filename": "libjava/configure", "status": "modified", "additions": 146, "deletions": 161, "changes": 307, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -1,7 +1,7 @@\n #! /bin/sh\n \n # Guess values for system-dependent variables and create Makefiles.\n-# Generated automatically using autoconf version 2.13 \n+# Generated automatically using autoconf version 2.12.2 \n # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.\n #\n # This configure script is free software; the Free Software Foundation\n@@ -352,7 +352,7 @@ EOF\n     verbose=yes ;;\n \n   -version | --version | --versio | --versi | --vers)\n-    echo \"configure generated by autoconf version 2.13\"\n+    echo \"configure generated by autoconf version 2.12.2\"\n     exit 0 ;;\n \n   -with-* | --with-*)\n@@ -724,12 +724,10 @@ echo \"$ac_t\"\"$INSTALL\" 1>&6\n # It thinks the first close brace ends the variable substitution.\n test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n \n-test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n-\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:733: checking whether build environment is sane\" >&5\n+echo \"configure:731: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -786,7 +784,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:790: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:788: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -818,53 +816,49 @@ else\n   ac_tool_prefix=\n fi\n \n-echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:823: checking for Cygwin environment\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for cygwin32 environment\"\"... $ac_c\" 1>&6\n+echo \"configure:821: checking for cygwin32 environment\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_cygwin32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 828 \"configure\"\n+#line 826 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n-\n-#ifndef __CYGWIN__\n-#define __CYGWIN__ __CYGWIN32__\n-#endif\n-return __CYGWIN__;\n+return __CYGWIN32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:839: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:833: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n-  ac_cv_cygwin=yes\n+  ac_cv_cygwin32=yes\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  ac_cv_cygwin=no\n+  ac_cv_cygwin32=no\n fi\n rm -f conftest*\n rm -f conftest*\n fi\n \n-echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n-CYGWIN=\n-test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n+echo \"$ac_t\"\"$ac_cv_cygwin32\" 1>&6\n+CYGWIN32=\n+test \"$ac_cv_cygwin32\" = yes && CYGWIN32=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:856: checking for mingw32 environment\" >&5\n+echo \"configure:850: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 861 \"configure\"\n+#line 855 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:868: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:862: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -912,7 +906,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:916: checking host system type\" >&5\n+echo \"configure:910: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -942,18 +936,18 @@ if test \"`cd $srcdir && pwd`\" != \"`pwd`\" && test -f $srcdir/config.status; then\n   { echo \"configure: error: source directory already configured; run \"make distclean\" there first\" 1>&2; exit 1; }\n fi\n cat >> confdefs.h <<EOF\n-#define PACKAGE \"$PACKAGE\"\n+#define PACKAGE 1\n EOF\n \n cat >> confdefs.h <<EOF\n-#define VERSION \"$VERSION\"\n+#define VERSION 1\n EOF\n \n \n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:957: checking for working aclocal\" >&5\n+echo \"configure:951: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -966,7 +960,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:970: checking for working autoconf\" >&5\n+echo \"configure:964: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -979,7 +973,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:983: checking for working automake\" >&5\n+echo \"configure:977: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -992,7 +986,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:996: checking for working autoheader\" >&5\n+echo \"configure:990: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1005,7 +999,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:1009: checking for working makeinfo\" >&5\n+echo \"configure:1003: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1030,16 +1024,15 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1034: checking for $ac_word\" >&5\n+echo \"configure:1028: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$CC\"; then\n   ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_CC=\"gcc\"\n@@ -1060,7 +1053,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1064: checking for $ac_word\" >&5\n+echo \"configure:1057: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1069,8 +1062,7 @@ else\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_prog_rejected=no\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       if test \"$ac_dir/$ac_word\" = \"/usr/ucb/cc\"; then\n@@ -1109,7 +1101,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1113: checking whether we are using GNU C\" >&5\n+echo \"configure:1105: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1118,7 +1110,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1122: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1114: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1133,7 +1125,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1137: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1129: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1169,16 +1161,15 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1173: checking for $ac_word\" >&5\n+echo \"configure:1165: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$CXX\"; then\n   ac_cv_prog_CXX=\"$CXX\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_CXX=\"$ac_prog\"\n@@ -1202,7 +1193,7 @@ test -n \"$CXX\" || CXX=\"gcc\"\n test -z \"$CXX\" && { echo \"configure: error: no acceptable c++ found in \\$PATH\" 1>&2; exit 1; }\n \n echo $ac_n \"checking whether we are using GNU C++\"\"... $ac_c\" 1>&6\n-echo \"configure:1206: checking whether we are using GNU C++\" >&5\n+echo \"configure:1197: checking whether we are using GNU C++\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gxx'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1211,7 +1202,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1215: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1206: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gxx=yes\n else\n   ac_cv_prog_gxx=no\n@@ -1226,7 +1217,7 @@ if test $ac_cv_prog_gxx = yes; then\n   ac_save_CXXFLAGS=\"$CXXFLAGS\"\n   CXXFLAGS=\n   echo $ac_n \"checking whether ${CXX-g++} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1230: checking whether ${CXX-g++} accepts -g\" >&5\n+echo \"configure:1221: checking whether ${CXX-g++} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cxx_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1259,7 +1250,7 @@ fi\n # LIBGCJ_CONFIGURE, which doesn't work because that means that it will\n # be run before AC_CANONICAL_HOST.\n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1263: checking build system type\" >&5\n+echo \"configure:1254: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1280,16 +1271,15 @@ echo \"$ac_t\"\"$build\" 1>&6\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1284: checking for $ac_word\" >&5\n+echo \"configure:1275: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$AS\"; then\n   ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n@@ -1312,16 +1302,15 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1316: checking for $ac_word\" >&5\n+echo \"configure:1306: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$AR\"; then\n   ac_cv_prog_AR=\"$AR\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_AR=\"${ac_tool_prefix}ar\"\n@@ -1344,16 +1333,15 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1348: checking for $ac_word\" >&5\n+echo \"configure:1337: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$RANLIB\"; then\n   ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n@@ -1376,16 +1364,15 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1380: checking for $ac_word\" >&5\n+echo \"configure:1368: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$RANLIB\"; then\n   ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_RANLIB=\"ranlib\"\n@@ -1421,7 +1408,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1425: checking for a BSD compatible install\" >&5\n+echo \"configure:1412: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1469,13 +1456,11 @@ echo \"$ac_t\"\"$INSTALL\" 1>&6\n # It thinks the first close brace ends the variable substitution.\n test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n \n-test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n-\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:1479: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:1464: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -1509,17 +1494,17 @@ if false; then\n   \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1513: checking for executable suffix\" >&5\n+echo \"configure:1498: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test \"$CYGWIN\" = yes || test \"$MINGW32\" = yes; then\n+  if test \"$CYGWIN32\" = yes || test \"$MINGW32\" = yes; then\n   ac_cv_exeext=.exe\n else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1523: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1508: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n@@ -1634,7 +1619,7 @@ EOF\n esac\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1638: checking how to run the C preprocessor\" >&5\n+echo \"configure:1623: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1649,13 +1634,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1653 \"configure\"\n+#line 1638 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1659: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1644: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1666,13 +1651,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1670 \"configure\"\n+#line 1655 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1676: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1661: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1683,13 +1668,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1687 \"configure\"\n+#line 1672 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1693: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1678: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1714,7 +1699,7 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n cat > conftest.$ac_ext <<EOF\n-#line 1718 \"configure\"\n+#line 1703 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -1729,7 +1714,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 1733 \"configure\"\n+#line 1718 \"configure\"\n #include \"confdefs.h\"\n #include <sys/config.h>\n EOF\n@@ -1745,7 +1730,7 @@ rm -f conftest*\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 1749 \"configure\"\n+#line 1734 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -1760,7 +1745,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 1764 \"configure\"\n+#line 1749 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -1780,7 +1765,7 @@ test -d java/io || mkdir java/io\n \n \n echo $ac_n \"checking for garbage collector to use\"\"... $ac_c\" 1>&6\n-echo \"configure:1784: checking for garbage collector to use\" >&5\n+echo \"configure:1769: checking for garbage collector to use\" >&5\n # Check whether --enable-java-gc or --disable-java-gc was given.\n if test \"${enable_java_gc+set}\" = set; then\n   enableval=\"$enable_java_gc\"\n@@ -1825,7 +1810,7 @@ esac\n \n \n echo $ac_n \"checking for threads package to use\"\"... $ac_c\" 1>&6\n-echo \"configure:1829: checking for threads package to use\" >&5\n+echo \"configure:1814: checking for threads package to use\" >&5\n # Check whether --enable-threads or --disable-threads was given.\n if test \"${enable_threads+set}\" = set; then\n   enableval=\"$enable_threads\"\n@@ -2004,12 +1989,12 @@ else\n    for ac_func in strerror ioctl select open fsync sleep\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2008: checking for $ac_func\" >&5\n+echo \"configure:1993: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2013 \"configure\"\n+#line 1998 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2032,7 +2017,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2036: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2021: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2059,12 +2044,12 @@ done\n    for ac_func in ctime_r ctime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2063: checking for $ac_func\" >&5\n+echo \"configure:2048: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2068 \"configure\"\n+#line 2053 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2087,7 +2072,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2091: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2076: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2114,12 +2099,12 @@ done\n    for ac_func in gmtime_r localtime_r readdir_r getpwuid_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2118: checking for $ac_func\" >&5\n+echo \"configure:2103: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2123 \"configure\"\n+#line 2108 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2142,7 +2127,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2146: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2131: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2169,12 +2154,12 @@ done\n    for ac_func in access stat mkdir rename rmdir unlink realpath\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2173: checking for $ac_func\" >&5\n+echo \"configure:2158: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2178 \"configure\"\n+#line 2163 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2197,7 +2182,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2201: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2186: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2224,12 +2209,12 @@ done\n    for ac_func in inet_aton inet_addr\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2228: checking for $ac_func\" >&5\n+echo \"configure:2213: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2233 \"configure\"\n+#line 2218 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2252,7 +2237,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2256: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2241: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2279,12 +2264,12 @@ done\n    for ac_func in inet_pton uname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2283: checking for $ac_func\" >&5\n+echo \"configure:2268: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2288 \"configure\"\n+#line 2273 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2307,7 +2292,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2311: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2296: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2335,12 +2320,12 @@ done\n    for ac_func in gethostbyname_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2339: checking for $ac_func\" >&5\n+echo \"configure:2324: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2344 \"configure\"\n+#line 2329 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2363,7 +2348,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2367: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2352: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2390,7 +2375,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 2394 \"configure\"\n+#line 2379 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -2414,12 +2399,12 @@ done\n    for ac_func in gethostbyaddr_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2418: checking for $ac_func\" >&5\n+echo \"configure:2403: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2423 \"configure\"\n+#line 2408 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2442,7 +2427,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2446: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2431: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2469,7 +2454,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 2473 \"configure\"\n+#line 2458 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -2493,12 +2478,12 @@ done\n    for ac_func in gethostname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2497: checking for $ac_func\" >&5\n+echo \"configure:2482: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2502 \"configure\"\n+#line 2487 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2521,7 +2506,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2525: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2510: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2545,7 +2530,7 @@ EOF\n EOF\n \n      cat > conftest.$ac_ext <<EOF\n-#line 2549 \"configure\"\n+#line 2534 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -2572,12 +2557,12 @@ done\n    for ac_func in pthread_mutexattr_settype pthread_mutexattr_setkind_np sched_yield\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2576: checking for $ac_func\" >&5\n+echo \"configure:2561: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2581 \"configure\"\n+#line 2566 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2600,7 +2585,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2604: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2589: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2631,12 +2616,12 @@ done\n    for ac_func in gettimeofday time ftime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2635: checking for $ac_func\" >&5\n+echo \"configure:2620: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2640 \"configure\"\n+#line 2625 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2659,7 +2644,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2663: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2648: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2692,12 +2677,12 @@ done\n    for ac_func in memmove\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2696: checking for $ac_func\" >&5\n+echo \"configure:2681: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2701 \"configure\"\n+#line 2686 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2720,7 +2705,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2724: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2709: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2753,12 +2738,12 @@ done\n    for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2757: checking for $ac_func\" >&5\n+echo \"configure:2742: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2762 \"configure\"\n+#line 2747 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2781,7 +2766,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2785: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2770: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2851,17 +2836,17 @@ for ac_hdr in unistd.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/filio.h sy\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2855: checking for $ac_hdr\" >&5\n+echo \"configure:2840: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2860 \"configure\"\n+#line 2845 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2865: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2850: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2891,17 +2876,17 @@ for ac_hdr in dirent.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2895: checking for $ac_hdr\" >&5\n+echo \"configure:2880: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2900 \"configure\"\n+#line 2885 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2905: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2890: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2929,16 +2914,16 @@ done\n \n \n echo $ac_n \"checking whether struct sockaddr_in6 is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2933: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n+echo \"configure:2918: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2935 \"configure\"\n+#line 2920 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct sockaddr_in6 addr6;\n ; return 0; }\n EOF\n-if { (eval echo configure:2942: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2927: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_INET6 1\n@@ -2954,16 +2939,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for socklen_t in sys/socket.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2958: checking for socklen_t in sys/socket.h\" >&5\n+echo \"configure:2943: checking for socklen_t in sys/socket.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2960 \"configure\"\n+#line 2945 \"configure\"\n #include \"confdefs.h\"\n #include <sys/socket.h>\n int main() {\n socklen_t x = 5;\n ; return 0; }\n EOF\n-if { (eval echo configure:2967: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2952: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_SOCKLEN_T 1\n@@ -2979,16 +2964,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for tm_gmtoff in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:2983: checking for tm_gmtoff in struct tm\" >&5\n+echo \"configure:2968: checking for tm_gmtoff in struct tm\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2985 \"configure\"\n+#line 2970 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n struct tm tim; tim.tm_gmtoff = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:2992: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2977: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define STRUCT_TM_HAS_GMTOFF 1\n@@ -3001,16 +2986,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n    echo $ac_n \"checking for global timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:3005: checking for global timezone variable\" >&5\n+echo \"configure:2990: checking for global timezone variable\" >&5\n             cat > conftest.$ac_ext <<EOF\n-#line 3007 \"configure\"\n+#line 2992 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n long z2 = timezone;\n ; return 0; }\n EOF\n-if { (eval echo configure:3014: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2999: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -3030,19 +3015,19 @@ rm -f conftest*\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3034: checking for working alloca.h\" >&5\n+echo \"configure:3019: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3039 \"configure\"\n+#line 3024 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:3046: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3031: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -3063,12 +3048,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3067: checking for alloca\" >&5\n+echo \"configure:3052: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3072 \"configure\"\n+#line 3057 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -3096,7 +3081,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:3100: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3085: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -3128,12 +3113,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:3132: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:3117: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3137 \"configure\"\n+#line 3122 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -3158,12 +3143,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3162: checking for $ac_func\" >&5\n+echo \"configure:3147: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3167 \"configure\"\n+#line 3152 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3186,7 +3171,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3190: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3175: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3213,15 +3198,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3217: checking stack direction for C alloca\" >&5\n+echo \"configure:3202: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3225 \"configure\"\n+#line 3210 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -3240,7 +3225,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:3244: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3229: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -3267,16 +3252,15 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3271: checking for $ac_word\" >&5\n+echo \"configure:3256: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_PERL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$PERL\"; then\n   ac_cv_prog_PERL=\"$PERL\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n+  for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n       ac_cv_prog_PERL=\"$ac_prog\"\n@@ -3302,6 +3286,9 @@ case \"${host}\" in\n   i?86-*-linux*)\n     SIGNAL_HANDLER=include/i386-signal.h\n \t;;\n+  sparc-sun-solaris*)\n+    SIGNAL_HANDLER=include/sparc-signal.h\n+\t;;\n   *)\n     SIGNAL_HANDLER=include/default-signal.h\n \t;;\n@@ -3341,7 +3328,7 @@ EOF\n # Ultrix sh set writes to stderr and can't be redirected directly,\n # and sets the high bit in the cache file unless we assign to the vars.\n (set) 2>&1 |\n-  case `(ac_space=' '; set | grep ac_space) 2>&1` in\n+  case `(ac_space=' '; set) 2>&1 | grep ac_space` in\n   *ac_space=\\ *)\n     # `set' does not quote correctly, so add quotes (double-quote substitution\n     # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n@@ -3408,7 +3395,7 @@ do\n     echo \"running \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion\"\n     exec \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;\n   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)\n-    echo \"$CONFIG_STATUS generated by autoconf version 2.13\"\n+    echo \"$CONFIG_STATUS generated by autoconf version 2.12.2\"\n     exit 0 ;;\n   -help | --help | --hel | --he | --h)\n     echo \"\\$ac_cs_usage\"; exit 0 ;;\n@@ -3432,7 +3419,6 @@ s%@SHELL@%$SHELL%g\n s%@CFLAGS@%$CFLAGS%g\n s%@CPPFLAGS@%$CPPFLAGS%g\n s%@CXXFLAGS@%$CXXFLAGS%g\n-s%@FFLAGS@%$FFLAGS%g\n s%@DEFS@%$DEFS%g\n s%@LDFLAGS@%$LDFLAGS%g\n s%@LIBS@%$LIBS%g\n@@ -3468,7 +3454,6 @@ s%@build_vendor@%$build_vendor%g\n s%@build_os@%$build_os%g\n s%@libgcj_basedir@%$libgcj_basedir%g\n s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g\n-s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g\n s%@INSTALL_DATA@%$INSTALL_DATA%g\n s%@PACKAGE@%$PACKAGE%g\n s%@VERSION@%$VERSION%g"}, {"sha": "abed650adda418590d9f45a9ba4dce2e37e8150b", "filename": "libjava/configure.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -366,6 +366,9 @@ case \"${host}\" in\n   i?86-*-linux*)\n     SIGNAL_HANDLER=include/i386-signal.h\n \t;;\n+  sparc-sun-solaris*)\n+    SIGNAL_HANDLER=include/sparc-signal.h\n+\t;;\n   *)\n     SIGNAL_HANDLER=include/default-signal.h\n \t;;"}, {"sha": "71545c06acaa07a81c44f14ca104c5fbe7f756d6", "filename": "libjava/include/default-signal.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Finclude%2Fdefault-signal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Finclude%2Fdefault-signal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fdefault-signal.h?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -14,5 +14,8 @@ details.  */\n #undef HANDLE_SEGV\n #undef HANDLE_FPE\n \n+#define INIT_SEGV   do {} while (0)\n+#define INIT_FPE   do {} while (0)\n+\n #endif /* JAVA_SIGNAL_H */\n   "}, {"sha": "73d8bbbbfc0b224cae59702b19221abf814360ec", "filename": "libjava/include/i386-signal.h", "status": "modified", "additions": 29, "deletions": 3, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Finclude%2Fi386-signal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Finclude%2Fi386-signal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fi386-signal.h?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -9,8 +9,8 @@ Libgcj License.  Please consult the file \"LIBGCJ_LICENSE\" for\n details.  */\n \n /* This technique should work for all i386 based Unices which conform\n-   to iBCS2.  This includes all versions of Linux more recent than\n-   version 1.3 */\n+ * to iBCS2.  This includes all versions of Linux more recent than 1.3 \n+ */\n \n \n #ifndef JAVA_SIGNAL_H\n@@ -21,8 +21,10 @@ details.  */\n #define HANDLE_SEGV 1\n #define HANDLE_FPE 1\n \n+#define SIGNAL_HANDLER(_name)\t\\\n+static void _name (int _dummy)\n \n-#define MAKE_THROW_FRAME(_dummy)\t\t\t\t\t\\\n+#define MAKE_THROW_FRAME\t\t\t\t\t\t\\\n {\t\t\t\t\t\t\t\t\t\\\n   void **_p = (void **)&_dummy;\t\t\t\t\t\t\\\n   struct sigcontext_struct *_regs = (struct sigcontext_struct *)++_p;\t\\\n@@ -34,5 +36,29 @@ details.  */\n \t\t: : \"r\"(_ebp), \"r\"(_eip));\t\t\t\t\\\n }\n \n+#define INIT_SEGV\t\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\\\n+  {\t\t\t\t\t\t\t\t\\\n+    nullp = new java::lang::NullPointerException ();    \t\\\n+    struct sigaction act;\t\t\t\t\t\\\n+    act.sa_handler = catch_segv;\t\t\t\t\\\n+    sigemptyset (&act.sa_mask);\t\t\t\t\t\\\n+    act.sa_flags = 0;\t\t\t\t\t\t\\\n+    sigaction (SIGSEGV, &act, NULL);\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\t\\\n+while (0)  \n+\n+#define INIT_FPE\t\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\\\n+  { \t\t\t\t\t\t\t\t\\\n+    arithexception = new java::lang::ArithmeticException ();\t\\\n+    struct sigaction act;\t\t\t\t\t\\\n+    act.sa_handler = catch_fpe;\t\t\t\t\t\\\n+    sigemptyset (&act.sa_mask);\t\t\t\t\t\\\n+    act.sa_flags = 0;\t\t\t\t\t\t\\\n+    sigaction (SIGFPE, &act, NULL);\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\t\\\n+while (0)  \n+\n #endif /* JAVA_SIGNAL_H */\n   "}, {"sha": "dfe8635e3eba3a66a5440572b240eefdf4bc108e", "filename": "libjava/include/sparc-signal.h", "status": "added", "additions": 63, "deletions": 0, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Finclude%2Fsparc-signal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Finclude%2Fsparc-signal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fsparc-signal.h?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -0,0 +1,63 @@\n+// sparc-signal.h - Catch runtime signals and turn them into exceptions.\n+\n+/* Copyright (C) 1998, 1999  Cygnus Solutions\n+\n+   This file is part of libgcj.\n+\n+This software is copyrighted work licensed under the terms of the\n+Libgcj License.  Please consult the file \"LIBGCJ_LICENSE\" for\n+details.  */\n+\n+#ifndef JAVA_SIGNAL_H\n+#define JAVA_SIGNAL_H 1\n+\n+#include <signal.h>\n+#include <ucontext.h>\n+\n+#define HANDLE_SEGV 1\n+#define HANDLE_FPE 1\n+\n+#define SIGNAL_HANDLER(_name) \t\t\t\t\t\t\\\n+static void _name (int _dummy, siginfo_t *_info, ucontext_t *_context)\n+\n+#define FLUSH_REGISTER_WINDOWS\t\t\t\t\t\\\n+  asm volatile (\"ta 3\");\n+\n+#define MAKE_THROW_FRAME\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  (void)_dummy;\t\t\t\t\t\t\t\\\n+  (void)_info;\t\t\t\t\t\t\t\\\n+  register int sp = _context->uc_mcontext.gregs[REG_SP];\t\\\n+  register int retaddr = _context->uc_mcontext.gregs[REG_O7];\t\\\n+  FLUSH_REGISTER_WINDOWS;\t\t\t\t\t\\\n+  asm volatile (\"mov %0, %%i6; mov %1, %%i7\"\t\t\t\\\n+\t\t: : \"r\"(sp), \"r\"(retaddr));\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+while (0)\n+\n+#define INIT_SEGV\t\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\\\n+  {\t\t\t\t\t\t\t\t\\\n+    nullp = new java::lang::NullPointerException ();\t\t\\\n+    struct sigaction act;\t\t\t\t\t\\\n+    act.sa_sigaction = catch_segv;\t\t\t\t\\\n+    act.sa_flags = SA_SIGINFO;\t\t\t\t\t\\\n+    sigemptyset (&act.sa_mask);\t\t\t\t\t\\\n+    sigaction (SIGSEGV, &act, NULL);\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\t\\\n+while (0)\t\t\t\t\t\t\t\n+\t\t\t\t\t\t\t\t\n+#define INIT_FPE\t\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\\\n+  {\t\t\t\t\t\t\t\t\\\n+    arithexception = new java::lang::ArithmeticException ();\t\\\n+    struct sigaction act;\t\t\t\t\t\\\n+    act.sa_flags = SA_SIGINFO;\t\t\t\t\t\\\n+    act.sa_sigaction = catch_fpe;\t\t\t\t\\\n+    sigemptyset (&act.sa_mask);\t\t\t\t\t\\\n+    sigaction (SIGFPE, &act, NULL);\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\t\\\n+while (0)\n+\n+#endif /* JAVA_SIGNAL_H */"}, {"sha": "4d11cd8d7bbe3cbe4b068ce7d436e3226779941c", "filename": "libjava/prims.cc", "status": "modified", "additions": 22, "deletions": 47, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Fprims.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f78a025e7e000b836ab9ff76ffc3b9958ba43e/libjava%2Fprims.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fprims.cc?ref=01f78a025e7e000b836ab9ff76ffc3b9958ba43e", "patch": "@@ -52,6 +52,26 @@ static java::lang::OutOfMemoryError *no_memory;\n \n \f\n \n+#ifdef HANDLE_SEGV\n+static java::lang::NullPointerException *nullp;\n+SIGNAL_HANDLER (catch_segv)\n+{\n+  MAKE_THROW_FRAME;\n+  _Jv_Throw (nullp);\n+}\n+#endif\n+\n+#ifdef HANDLE_FPE\n+static java::lang::ArithmeticException *arithexception;\n+SIGNAL_HANDLER (catch_fpe)\n+{\n+  MAKE_THROW_FRAME;\n+  _Jv_Throw (arithexception);\n+}\n+#endif\n+\n+\f\n+\n jboolean\n _Jv_equalUtf8Consts (Utf8Const* a, Utf8Const *b)\n {\n@@ -426,32 +446,6 @@ _Jv_NewMultiArray (jclass array_type, jint dimensions, ...)\n \n \f\n \n-#ifdef HANDLE_SEGV \n-static java::lang::NullPointerException *nullp;\n-\n-static void\n-catch_segv (int dummy)\n-{\n-  MAKE_THROW_FRAME(dummy);\n-  // Don't run `new' in a signal handler, so we always throw the same\n-  // exception.\n-  _Jv_Throw (nullp);\n-}\n-#endif\n-\n-#ifdef HANDLE_FPE\n-static java::lang::ArithmeticException *arithexception;\n-\n-static void\n-catch_fpe (int dummy)\n-{\n-  MAKE_THROW_FRAME(dummy);\n-  // Don't run `new' in a signal handler, so we always throw the same\n-  // exception.\n-  _Jv_Throw (arithexception);\n-}\n-#endif\n-\n class _Jv_PrimClass : public java::lang::Class\n {\n public:\n@@ -572,27 +566,8 @@ static java::lang::Thread *main_thread;\n void\n JvRunMain (jclass klass, int argc, const char **argv)\n {\n-#ifdef HANDLE_SEGV \n-  {\n-    nullp = new java::lang::NullPointerException ();    \n-    struct sigaction act;\n-    act.sa_handler = catch_segv;\n-    sigemptyset (&act.sa_mask);\n-    act.sa_flags = 0;\n-    sigaction (SIGSEGV, &act, NULL);\n-  }\n-#endif\n-  \n-#ifdef HANDLE_FPE\n-  { \n-    arithexception = new java::lang::ArithmeticException ();\n-    struct sigaction act;\n-    act.sa_handler = catch_fpe;\n-    sigemptyset (&act.sa_mask);\n-    act.sa_flags = 0;\n-    sigaction (SIGFPE, &act, NULL);\n-  }\n-#endif\n+  INIT_SEGV;\n+  INIT_FPE;\n \n   no_memory = new java::lang::OutOfMemoryError;\n "}]}