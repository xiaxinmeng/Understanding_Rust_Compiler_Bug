{"sha": "efc9daa36e39dd8970be51bd835e0cf3d67568ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZjOWRhYTM2ZTM5ZGQ4OTcwYmU1MWJkODM1ZTBjZjNkNjc1NjhhZQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-07-22T16:26:03Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-07-22T16:26:03Z"}, "message": "configure.frag: New arguments xmake_files, tmake_files.\n\n\t* configure.frag: New arguments xmake_files, tmake_files.\n\tBuild Make-host, Make-target.\n\nFrom-SVN: r14517", "tree": {"sha": "1713331aa977cb327f63da9c2088ff6bd6fb356d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1713331aa977cb327f63da9c2088ff6bd6fb356d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efc9daa36e39dd8970be51bd835e0cf3d67568ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc9daa36e39dd8970be51bd835e0cf3d67568ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efc9daa36e39dd8970be51bd835e0cf3d67568ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc9daa36e39dd8970be51bd835e0cf3d67568ae/comments", "author": null, "committer": null, "parents": [{"sha": "94f420183c391d8e8089fbe9bbefff61f573f773", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f420183c391d8e8089fbe9bbefff61f573f773", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94f420183c391d8e8089fbe9bbefff61f573f773"}], "stats": {"total": 44, "additions": 36, "deletions": 8}, "files": [{"sha": "4bdac943f6d6de7c291eb935cdf8eb543b1c741c", "filename": "gcc/configure.frag", "status": "modified", "additions": 36, "deletions": 8, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc9daa36e39dd8970be51bd835e0cf3d67568ae/gcc%2Fconfigure.frag", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc9daa36e39dd8970be51bd835e0cf3d67568ae/gcc%2Fconfigure.frag", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.frag?ref=efc9daa36e39dd8970be51bd835e0cf3d67568ae", "patch": "@@ -1,5 +1,5 @@\n # configure.frag for GNU CC\n-# Process the Makefile fragments from language directories.\n+# Process the host/target/language Makefile fragments.\n \n # Copyright (C) 1997 Free Software Foundation, Inc.\n \n@@ -20,14 +20,42 @@\n #the Free Software Foundation, 59 Temple Place - Suite 330,\n #Boston, MA 02111-1307, USA.\n \n-# First parameter is the source directory, second is list of subdirectories\n+# First parameter is the source directory, second is list of subdirectories,\n+# third is list of host makefile fragments, fourth is list of target makefile\n+# fragments.\n \n-savesrcdir=$1\n-savesubdirs=$2\n+srcdir=$1\n+subdirs=$2\n+xmake_files=$3\n+tmake_files=$4\n \n-# First ensure the language build subdirectories exist.\n+# Copy all the host makefile fragments into Make-host.\n \n-for subdir in . $savesubdirs\n+rm -f Make-host\n+touch Make-host\n+for f in .. $xmake_files\n+do\n+\tif [ -f $f ]\n+\tthen\n+\t\tcat $f >> Make-host\n+\tfi\n+done\n+\n+# Copy all the target makefile fragments into Make-target.\n+\n+rm -f Make-target\n+touch Make-target\n+for f in .. $tmake_files\n+do\n+\tif [ -f $f ]\n+\tthen\n+\t\tcat $f >> Make-target\n+\tfi\n+done\n+\n+# Ensure the language build subdirectories exist.\n+\n+for subdir in . $subdirs\n do\n \tif [ $subdir != . ]\n \tthen\n@@ -40,10 +68,10 @@ done\n rm -f Make-lang\n touch Make-lang\n \n-for subdir in . $savesubdirs\n+for subdir in . $subdirs\n do\n \tif [ $subdir != . ]\n \tthen\n-\t\tcat $savesrcdir/$subdir/Make-lang.in >> Make-lang\n+\t\tcat $srcdir/$subdir/Make-lang.in >> Make-lang\n \tfi\n done"}]}