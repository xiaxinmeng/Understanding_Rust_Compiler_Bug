{"sha": "11fdc4c3b9294512e84eb5808c223a193a5e6d5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFmZGM0YzNiOTI5NDUxMmU4NGViNTgwOGMyMjNhMTkzYTVlNmQ1Yg==", "commit": {"author": {"name": "Mark Elbrecht", "email": "snowball3@bigfoot.com", "date": "2001-05-03T19:08:11Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2001-05-03T19:08:11Z"}, "message": "djgpp.h (CPP_PREDEFINES): Define __GO32__.\n\n* config/i386/djgpp.h (CPP_PREDEFINES): Define __GO32__.\n(CPP_SPEC): Conditionally define MSDOS and GO32.\n(SUBTARGET_SWITCHES): Ignore -mbnu210 and -mno-bnu210.\n(SUBTARGET_OVERRIDE_OPTIONS): Warn that -mbnu210 and -mno-bnu210 are\nignored.\n(SUPPORTS_WEAK, SUPPORTS_ONE_ONLY): Remove.\n\nFrom-SVN: r41798", "tree": {"sha": "7668f159fa90e071d485ec6f5cc394b9b0c66f11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7668f159fa90e071d485ec6f5cc394b9b0c66f11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11fdc4c3b9294512e84eb5808c223a193a5e6d5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11fdc4c3b9294512e84eb5808c223a193a5e6d5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11fdc4c3b9294512e84eb5808c223a193a5e6d5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11fdc4c3b9294512e84eb5808c223a193a5e6d5b/comments", "author": null, "committer": null, "parents": [{"sha": "776716da7fb7df8c962c11bcde545658d69a6408", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/776716da7fb7df8c962c11bcde545658d69a6408", "html_url": "https://github.com/Rust-GCC/gccrs/commit/776716da7fb7df8c962c11bcde545658d69a6408"}], "stats": {"total": 41, "additions": 28, "deletions": 13}, "files": [{"sha": "c5c4305746e3213b1c705317ba065e2d05107bfb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11fdc4c3b9294512e84eb5808c223a193a5e6d5b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11fdc4c3b9294512e84eb5808c223a193a5e6d5b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=11fdc4c3b9294512e84eb5808c223a193a5e6d5b", "patch": "@@ -1,3 +1,12 @@\n+2001-05-03  Mark Elbrecht  <snowball3@bigfoot.com>\n+\n+\t* config/i386/djgpp.h (CPP_PREDEFINES): Define __GO32__.\n+\t(CPP_SPEC): Conditionally define MSDOS and GO32.\n+\t(SUBTARGET_SWITCHES): Ignore -mbnu210 and -mno-bnu210.\n+\t(SUBTARGET_OVERRIDE_OPTIONS): Warn that -mbnu210 and -mno-bnu210 are\n+\tignored.\n+\t(SUPPORTS_WEAK, SUPPORTS_ONE_ONLY): Remove.\n+\n 2001-05-03  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* config/mn10300/mn10300.md: Sign-extend GEN_INT operands."}, {"sha": "5a9b68da5bcf3de1b1726193d474f604cfdd0abf", "filename": "gcc/config/i386/djgpp.h", "status": "modified", "additions": 19, "deletions": 13, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11fdc4c3b9294512e84eb5808c223a193a5e6d5b/gcc%2Fconfig%2Fi386%2Fdjgpp.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11fdc4c3b9294512e84eb5808c223a193a5e6d5b/gcc%2Fconfig%2Fi386%2Fdjgpp.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdjgpp.h?ref=11fdc4c3b9294512e84eb5808c223a193a5e6d5b", "patch": "@@ -112,11 +112,12 @@ Boston, MA 02111-1307, USA.  */\n         (((NAME)[0] >= 'A') && ((NAME)[0] <= 'z') && ((NAME)[1] == ':')))\n \n #undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__MSDOS__ -Asystem=msdos\"\n+#define CPP_PREDEFINES \"-D__MSDOS__ -D__GO32__ -Asystem=msdos\"\n \n /* Include <sys/version.h> so __DJGPP__ and __DJGPP_MINOR__ are defined.  */\n #undef CPP_SPEC\n #define CPP_SPEC \"-remap %(cpp_cpu) %{posix:-D_POSIX_SOURCE} \\\n+  %{!ansi:%{!std=c*:%{!std=i*:-DMSDOS}}} %{!ansi:%{!std=c*:%{!std=i*:-DGO32}}} \\\n   -imacros %s../include/sys/version.h\"\n \n /* We need to override link_command_spec in gcc.c so support -Tdjgpp.djl.\n@@ -260,22 +261,27 @@ dtor_section ()\t\t\t\t\t\t\t\\\n /* Used to be defined in xm-djgpp.h, but moved here for cross-compilers.  */\n #define LIBSTDCXX \"-lstdcxx\"\n \n-/* Add command line option -mbnu210 to indicate we can use binutil 2.10's features.  */\n+/* -mbnu210 is now ignored and obsolete. It was used to enable support for\n+   weak symbols, and .gnu.linkonce support.  */\n #undef MASK_BNU210\n #define MASK_BNU210 (0x40000000)\n \n #undef SUBTARGET_SWITCHES\n-#define SUBTARGET_SWITCHES \t\t\\\n-  { \"bnu210\", -MASK_BNU210, \"Enable weak symbol and enhanced C++ template support. Binutils 2.10 or higher required.\" }, \\\n-  { \"no-bnu210\", MASK_BNU210, \"Disable weak symbol and enhanced C++ template support.\" },\n-\n-/* Weak symbols and .gnu.linkonce are only in Binutils-2.10 and later. \n-   Default to using Binutils 2.10 features.  */\n-#undef SUPPORTS_WEAK\n-#define SUPPORTS_WEAK ((target_flags & MASK_BNU210) == 0)\n-\n-#undef SUPPORTS_ONE_ONLY\n-#define SUPPORTS_ONE_ONLY ((target_flags & MASK_BNU210) == 0)\n+#define SUBTARGET_SWITCHES \\\n+  { \"no-bnu210\", -MASK_BNU210, \"Ignored (obsolete).\" }, \\\n+  { \"bnu210\", MASK_BNU210, \"Ignored (obsolete).\" },\n+\n+/* Warn that -mbnu210 is now obsolete.  */\n+#undef  SUBTARGET_OVERRIDE_OPTIONS\n+#define SUBTARGET_OVERRIDE_OPTIONS \\\n+do \\\n+  { \\\n+    if (target_flags & MASK_BNU210) \\\n+      {\t\\\n+        warning (\"-mbnu210 is ignored (option is obsolete).\"); \\\n+      }\t\\\n+  } \\\n+while (0)\n \n /* Support for C++ templates.  */\n #undef MAKE_DECL_ONE_ONLY"}]}