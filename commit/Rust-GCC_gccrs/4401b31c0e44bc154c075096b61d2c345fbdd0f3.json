{"sha": "4401b31c0e44bc154c075096b61d2c345fbdd0f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQwMWIzMWMwZTQ0YmMxNTRjMDc1MDk2YjYxZDJjMzQ1ZmJkZDBmMw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-08-25T17:40:04Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-08-25T17:40:04Z"}, "message": "Add %U to give last %u name.\n\nFrom-SVN: r1942", "tree": {"sha": "10e7f80835a4a3a6d75c334206706b3ae13d914b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10e7f80835a4a3a6d75c334206706b3ae13d914b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4401b31c0e44bc154c075096b61d2c345fbdd0f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4401b31c0e44bc154c075096b61d2c345fbdd0f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4401b31c0e44bc154c075096b61d2c345fbdd0f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4401b31c0e44bc154c075096b61d2c345fbdd0f3/comments", "author": null, "committer": null, "parents": [{"sha": "ab78d4a88118834f4c46a3b96801a8575ae40735", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab78d4a88118834f4c46a3b96801a8575ae40735", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab78d4a88118834f4c46a3b96801a8575ae40735"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "11f5d9c5bd4696207bd86c47ebeaf691e56f7f6e", "filename": "gcc/gcc.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4401b31c0e44bc154c075096b61d2c345fbdd0f3/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4401b31c0e44bc154c075096b61d2c345fbdd0f3/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=4401b31c0e44bc154c075096b61d2c345fbdd0f3", "patch": "@@ -205,6 +205,7 @@ or with constant text in a single argument.\n \tconcatenation of constant strings on the end, as in `%g.s'.\n \t%g also has the same effect of %d.\n  %u\tlike %g, but make the temporary file name unique.\n+ %U\treturns the last file name generated with %u.\n  %d\tmarks the argument containing or following the %d as a\n \ttemporary file name, so that that file will be deleted if CC exits\n \tsuccessfully.  Unlike %g, this contributes no text to the argument.\n@@ -2494,16 +2495,19 @@ do_spec_1 (spec, inswitch, soft_matched_part)\n \n \t  case 'g':\n \t  case 'u':\n+\t  case 'U':\n \t    if (save_temps_flag)\n \t      obstack_grow (&obstack, input_basename, basename_length);\n \t    else\n \t      {\n \t\tobstack_grow (&obstack, temp_filename, temp_filename_length);\n-\t\tif (c == 'u')\n+\t\tif (c == 'u' || c == 'U')\n \t\t  {\n \t\t    static int unique;\n \t\t    char buff[9];\n-\t\t    sprintf (buff, \"%d\", ++unique);\n+\t\t    if (c == 'u')\n+\t\t      unique++;\n+\t\t    sprintf (buff, \"%d\", unique);\n \t\t    obstack_grow (&obstack, buff, strlen (buff));\n \t\t  }\n \t\tdelete_this_arg = 1;"}]}