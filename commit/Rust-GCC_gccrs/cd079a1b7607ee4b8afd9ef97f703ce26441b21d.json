{"sha": "cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2QwNzlhMWI3NjA3ZWU0YjhhZmQ5ZWY5N2Y3MDNjZTI2NDQxYjIxZA==", "commit": {"author": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-06-29T16:58:56Z"}, "committer": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-06-29T16:58:56Z"}, "message": "openmp.c (resolve_omp_clauses): Adjust error message to better reflect the actual requirement.\n\ngcc/fortran:\n2007-06-29  Daniel Franke <franke.daniel@gmail.com>\n\n        * openmp.c (resolve_omp_clauses): Adjust error message to\n        better reflect the actual requirement.\n\ngcc/testsuite:\n2007-06-29  Daniel Franke  <franke.daniel@gmail.com>\n\n        * gfortran.dg/gomp/reduction1.f90: Adjust error message.\n        * gfortran.dg/gomp/allocatable_components_1.f90: Likewise.\n\nFrom-SVN: r126115", "tree": {"sha": "063a356c83c154c01c77550ed090b4822dccfb7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/063a356c83c154c01c77550ed090b4822dccfb7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/comments", "author": null, "committer": null, "parents": [{"sha": "8edd82f2b3af831cec0f59d91427b08b9142ce30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8edd82f2b3af831cec0f59d91427b08b9142ce30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8edd82f2b3af831cec0f59d91427b08b9142ce30"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "9494052cd7249d5b10cfc4751de4bb3ba59f56d0", "filename": "gcc/fortran/openmp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/gcc%2Ffortran%2Fopenmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/gcc%2Ffortran%2Fopenmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fopenmp.c?ref=cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "patch": "@@ -850,7 +850,7 @@ resolve_omp_clauses (gfc_code *code)\n \t\t  case OMP_LIST_MULT:\n \t\t  case OMP_LIST_SUB:\n \t\t    if (!gfc_numeric_ts (&n->sym->ts))\n-\t\t      gfc_error (\"%c REDUCTION variable '%s' at %L must be of intrinsic type, got %s\",\n+\t\t      gfc_error (\"%c REDUCTION variable '%s' at %L must be of numeric type, got %s\",\n \t\t\t\t list == OMP_LIST_PLUS ? '+'\n \t\t\t\t : list == OMP_LIST_MULT ? '*' : '-',\n \t\t\t\t n->sym->name, &code->loc,"}, {"sha": "225d0a2b5ed3677913400aad644a18780670d510", "filename": "gcc/testsuite/gfortran.dg/gomp/allocatable_components_1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fallocatable_components_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fallocatable_components_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fallocatable_components_1.f90?ref=cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "patch": "@@ -49,7 +49,7 @@ SUBROUTINE test_reduction\n     TYPE(t) :: a(10)\n     INTEGER :: i\n \n-    !$omp parallel do reduction(+: a)   ! { dg-error \"must be of intrinsic type\" }\n+    !$omp parallel do reduction(+: a)   ! { dg-error \"must be of numeric type\" }\n     DO i = 1, SIZE(a)\n     END DO\n     !$omp end parallel do"}, {"sha": "b6575063c36eb5198bab227fcf759bc0f9979073", "filename": "gcc/testsuite/gfortran.dg/gomp/reduction1.f90", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Freduction1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd079a1b7607ee4b8afd9ef97f703ce26441b21d/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Freduction1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Freduction1.f90?ref=cd079a1b7607ee4b8afd9ef97f703ce26441b21d", "patch": "@@ -60,15 +60,15 @@ subroutine foo (ia1)\n !$omp end parallel\n !$omp parallel reduction (*:ia1)\t! { dg-error \"Assumed size\" }\n !$omp end parallel\n-!$omp parallel reduction (+:l1)\t\t! { dg-error \"is LOGICAL\" }\n+!$omp parallel reduction (+:l1)\t\t! { dg-error \"must be of numeric type, got LOGICAL\" }\n !$omp end parallel\n-!$omp parallel reduction (*:la1)\t! { dg-error \"is LOGICAL\" }\n+!$omp parallel reduction (*:la1)\t! { dg-error \"must be of numeric type, got LOGICAL\" }\n !$omp end parallel\n-!$omp parallel reduction (-:a1)\t\t! { dg-error \"is CHARACTER\" }\n+!$omp parallel reduction (-:a1)\t\t! { dg-error \"must be of numeric type, got CHARACTER\" }\n !$omp end parallel\n-!$omp parallel reduction (+:t1)\t\t! { dg-error \"is TYPE\" }\n+!$omp parallel reduction (+:t1)\t\t! { dg-error \"must be of numeric type, got TYPE\" }\n !$omp end parallel\n-!$omp parallel reduction (*:ta1)\t! { dg-error \"is TYPE\" }\n+!$omp parallel reduction (*:ta1)\t! { dg-error \"must be of numeric type, got TYPE\" }\n !$omp end parallel\n !$omp parallel reduction (.and.:i3)\t! { dg-error \"must be LOGICAL\" }\n !$omp end parallel"}]}