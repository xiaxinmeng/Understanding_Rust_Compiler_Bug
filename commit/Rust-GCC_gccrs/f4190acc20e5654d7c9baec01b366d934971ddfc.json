{"sha": "f4190acc20e5654d7c9baec01b366d934971ddfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQxOTBhY2MyMGU1NjU0ZDdjOWJhZWMwMWIzNjZkOTM0OTcxZGRmYw==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "1998-12-04T00:40:21Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-12-04T00:40:21Z"}, "message": "pdp11.h: Use optimize_size for space optimizations.\n\n\t* pdp11.h: Use optimize_size for space optimizations.\n\t* pdp11.c: Likewise.\n\t* pdp11.md: Likewise.\n\nFrom-SVN: r24082", "tree": {"sha": "0af06523dee2a900912330570694b92173233e49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0af06523dee2a900912330570694b92173233e49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4190acc20e5654d7c9baec01b366d934971ddfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4190acc20e5654d7c9baec01b366d934971ddfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4190acc20e5654d7c9baec01b366d934971ddfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4190acc20e5654d7c9baec01b366d934971ddfc/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d1a095901939525e5774f0341a2f8bed9f05f71d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1a095901939525e5774f0341a2f8bed9f05f71d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1a095901939525e5774f0341a2f8bed9f05f71d"}], "stats": {"total": 30, "additions": 14, "deletions": 16}, "files": [{"sha": "debe38e68ef63c52d2f13a95ed1343b432ae362c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4190acc20e5654d7c9baec01b366d934971ddfc", "patch": "@@ -14,6 +14,10 @@ Thu Dec  3 11:19:50 1998  Mike Stump  <mrs@wrs.com>\n \n 1998-12-03  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n+\t* pdp11.h: Use optimize_size for space optimizations.\n+\t* pdp11.c: Likewise.\n+\t* pdp11.md: Likewise.\n+\n \t* pdp11.h (TARGET_40_PLUS): Fix typo.\n \n Thu Dec  3 11:48:32 1998  Jeffrey A Law  (law@cygnus.com)"}, {"sha": "9bf69dd00b5e28a920cf579ce6199cb953b7215a", "filename": "gcc/config/pdp11/pdp11.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.c?ref=f4190acc20e5654d7c9baec01b366d934971ddfc", "patch": "@@ -1115,7 +1115,7 @@ output_block_move(operands)\n     char buf[200];\n     \n     if (GET_CODE(operands[2]) == CONST_INT\n-\t&& TARGET_TIME)\n+\t&& ! optimize_size)\n     {\n \tif (INTVAL(operands[2]) < 16\n \t    && INTVAL(operands[3]) == 1)\n@@ -1257,7 +1257,7 @@ output_block_move(operands)\n \t     bgt x\n \t*/\n \n-\tif (TARGET_SPACE)\n+\tif (optimize_size)\n \t    goto generate_compact_code;\n \t\n \toutput_asm_insn(\"asr %4\", operands);\n@@ -1308,7 +1308,7 @@ output_block_move(operands)\n \t*/\n \n \n-\tif (TARGET_SPACE)\n+\tif (optimize_size)\n \t    goto generate_compact_code;\n \t\n \toutput_asm_insn(\"asr %4\", operands);"}, {"sha": "7912beaa151c1028fb2ee541bcbeeb9b6e369cea", "filename": "gcc/config/pdp11/pdp11.h", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2Fconfig%2Fpdp11%2Fpdp11.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2Fconfig%2Fpdp11%2Fpdp11.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.h?ref=f4190acc20e5654d7c9baec01b366d934971ddfc", "patch": "@@ -89,9 +89,6 @@ extern int target_flags;\n /* this is just to play around and check what code gcc generates */ \\\n     { \"branch-expensive\", 256}, \\\n     { \"branch-cheap\", -256},\t\\\n-/* optimize for space instead of time - just in a couple of places */ \\\n-    { \"space\", 512 },\t\t\\\n-    { \"time\", -512 },\t\t\\\n /* split instruction and data memory? */ \\\n     { \"split\", 1024 },\t\t\\\n     { \"no-split\", -1024 },\t\\\n@@ -124,9 +121,6 @@ extern int target_flags;\n #define TARGET_BRANCH_EXPENSIVE\t(target_flags & 256)\n #define TARGET_BRANCH_CHEAP \t(!TARGET_BRANCH_EXPENSIVE)\n \n-#define TARGET_SPACE \t\t(target_flags & 512)\n-#define TARGET_TIME\t\t(! TARGET_SPACE)\n-\n #define TARGET_SPLIT\t\t(target_flags & 1024)\n #define TARGET_NOSPLIT\t\t(! TARGET_SPLIT)\n \f\n@@ -1315,31 +1309,31 @@ JMP\tFUNCTION\t0x0058  0x0000 <- FUNCTION\n    there is something wrong in MULT because MULT is not \n    as cheap as total = 2 even if we can shift!\n \n-   if TARGET_SPACE make mult etc cheap, but not 1, so when \n+   if optimizing for size make mult etc cheap, but not 1, so when \n    in doubt the faster insn is chosen.\n */\n \n #define RTX_COSTS(X,CODE,OUTER_CODE) \\\n   case MULT:\t\t\t\t\t\t\t\t\\\n-    if (TARGET_SPACE)\t\t\t\t\t\t\t\\\n+    if (optimize_size)\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS(2);\t\t\t\t\t\t\\\n     else\t\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS (11);\t\t\t\t\t\\\n     break;\t\t\t\t\t\t\t\t\\\n   case DIV:\t\t\t\t\t\t\t\t\\\n-    if (TARGET_SPACE)\t\t\t\t\t\t\t\\\n+    if (optimize_size)\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS(2);\t\t\t\t\t\t\\\n     else\t\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS (25);\t\t\t\t\t\\\n     break;\t\t\t\t\t\t\t\t\\\n   case MOD:\t\t\t\t\t\t\t\t\\\n-    if (TARGET_SPACE)\t\t\t\t\t\t\t\\\n+    if (optimize_size)\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS(2);\t\t\t\t\t\t\\\n     else\t\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS (26);\t\t\t\t\t\\\n     break;\t\t\t\t\t\t\t\t\\\n   case ABS:\t\t\t\t\t\t\t\t\\\n-    /* equivalent to length, so same for TARGET_SPACE */\t\t\\\n+    /* equivalent to length, so same for optimize_size */\t\t\\\n     total = COSTS_N_INSNS (3);\t\t\t\t\t\t\\\n     break;\t\t\t\t\t\t\t\t\\\n   case ZERO_EXTEND:\t\t\t\t\t\t\t\\\n@@ -1358,7 +1352,7 @@ JMP\tFUNCTION\t0x0058  0x0000 <- FUNCTION\n   case ASHIFT:\t\t\t\t\t\t\t\t\\\n   case LSHIFTRT:\t\t\t\t\t\t\t\\\n   case ASHIFTRT:\t\t\t\t\t\t\t\\\n-    if (TARGET_SPACE)\t\t\t\t\t\t\t\\\n+    if (optimize_size)\t\t\t\t\t\t\t\\\n       total = COSTS_N_INSNS(1);\t\t\t\t\t\t\\\n     else if (GET_MODE(X) ==  QImode)\t\t\t\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\"}, {"sha": "d1b031a4e32e4f14ae3e6d99f81c7ebac1cf99e0", "filename": "gcc/config/pdp11/pdp11.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2Fconfig%2Fpdp11%2Fpdp11.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4190acc20e5654d7c9baec01b366d934971ddfc/gcc%2Fconfig%2Fpdp11%2Fpdp11.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.md?ref=f4190acc20e5654d7c9baec01b366d934971ddfc", "patch": "@@ -1432,7 +1432,7 @@\n   [(set (match_operand:HI 0 \"general_operand\" \"=r\")\n \t(ashift:HI (match_operand:HI 1 \"general_operand\" \"0\")\n \t\t   (match_operand:HI 2 \"expand_shift_operand\" \"O\")))]\n-  \"TARGET_TIME\"\n+  \"! optimize_size\"\n   \"*\n {\n   register int i;"}]}