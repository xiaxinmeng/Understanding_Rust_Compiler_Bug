{"sha": "b01c911dca4ba05df22d93ee4120a2b59cae9000", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjAxYzkxMWRjYTRiYTA1ZGYyMmQ5M2VlNDEyMGEyYjU5Y2FlOTAwMA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-10-07T20:41:38Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-10-07T20:41:38Z"}, "message": "init7.C: New test: retry initialization of static locals if first initialization throws\n\n\t* g++.old-deja/g++.other/init7.C: New test: retry initialization\n \tof static locals if first initialization throws\n\nFrom-SVN: r22901", "tree": {"sha": "3fd506f56cb1c0794e135a6bce02b34a1993b73e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fd506f56cb1c0794e135a6bce02b34a1993b73e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b01c911dca4ba05df22d93ee4120a2b59cae9000", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b01c911dca4ba05df22d93ee4120a2b59cae9000", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b01c911dca4ba05df22d93ee4120a2b59cae9000", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b01c911dca4ba05df22d93ee4120a2b59cae9000/comments", "author": null, "committer": null, "parents": [{"sha": "05714a4ffd3d40cc4e69e5fce3864fc892def8bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05714a4ffd3d40cc4e69e5fce3864fc892def8bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05714a4ffd3d40cc4e69e5fce3864fc892def8bb"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "310ee0ed08ef730d9e59cd1447d767cb34bbcf14", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b01c911dca4ba05df22d93ee4120a2b59cae9000/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b01c911dca4ba05df22d93ee4120a2b59cae9000/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b01c911dca4ba05df22d93ee4120a2b59cae9000", "patch": "@@ -1,3 +1,8 @@\n+1998-10-08  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* g++.old-deja/g++.other/init7.C: New test: retry initialization\n+ \tof static locals if first initialization throws\n+\n Wed Oct  7 12:00:20 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* gcc.c-torture/compile/981007-1.c: New test for irix6 -O0 core dump."}, {"sha": "9a3d5d03dfa1b7e98d9217a0ee1c113ccb700c95", "filename": "gcc/testsuite/g++.old-deja/g++.other/init7.C", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b01c911dca4ba05df22d93ee4120a2b59cae9000/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Finit7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b01c911dca4ba05df22d93ee4120a2b59cae9000/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Finit7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Finit7.C?ref=b01c911dca4ba05df22d93ee4120a2b59cae9000", "patch": "@@ -0,0 +1,30 @@\n+// simplified from testcase in Windows Developer Journal,\n+// submitted by eyal.ben-david@aks.com\n+\n+// The initialization of a static local variable must be retried if a\n+// previous try finished by throwing an exception [stmt.dcl]/4\n+\n+// execution test - XFAIL *-*-*\n+\n+struct foo {\n+  foo() { throw true; }\n+};\n+\n+void bar() {\n+  static foo baz;\n+}\n+\n+int main() {\n+  try {\n+    bar(); // must throw\n+  }\n+  catch (bool) {\n+    try {\n+      bar(); // must throw again!\n+    }\n+    catch (bool) {\n+      return 0;\n+    }\n+  }\n+  abort();\n+}"}]}