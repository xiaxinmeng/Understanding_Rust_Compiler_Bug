{"sha": "6ca19a974b25008e1e9e9c68c34a904b1b12fb4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmNhMTlhOTc0YjI1MDA4ZTFlOWU5YzY4YzM0YTkwNGIxYjEyZmI0ZA==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2009-11-17T13:25:54Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2009-11-17T13:25:54Z"}, "message": "spu.c (get_pic_reg): Use LAST_ARG_REGNUM as PIC registers in leaf functions if possible.\n\n\t* config/spu/spu.c (get_pic_reg): Use LAST_ARG_REGNUM as PIC\n\tregisters in leaf functions if possible.\n\nFrom-SVN: r154245", "tree": {"sha": "ff92dc7d6b59fc085a6be8e7a6df89a49fe1c792", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff92dc7d6b59fc085a6be8e7a6df89a49fe1c792"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d/comments", "author": null, "committer": null, "parents": [{"sha": "73d2e138b14cd662a9a7310950d408b007e88802", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73d2e138b14cd662a9a7310950d408b007e88802", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73d2e138b14cd662a9a7310950d408b007e88802"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "49c55a441a8c94c1f61031b374d0ae9c33a858fb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ca19a974b25008e1e9e9c68c34a904b1b12fb4d", "patch": "@@ -1,3 +1,8 @@\n+2009-11-17  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* config/spu/spu.c (get_pic_reg): Use LAST_ARG_REGNUM as PIC\n+\tregisters in leaf functions if possible.\n+\n 2009-11-17  Maxim Kuvyrkov  <maxim@codesourcery.com>\n \n \t* config/m68k/m68k-devices.def: Add MCF5441x family."}, {"sha": "a75f04a61ab5f371ec5d4ec1a4a05ec439c18c06", "filename": "gcc/config/spu/spu.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d/gcc%2Fconfig%2Fspu%2Fspu.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ca19a974b25008e1e9e9c68c34a904b1b12fb4d/gcc%2Fconfig%2Fspu%2Fspu.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.c?ref=6ca19a974b25008e1e9e9c68c34a904b1b12fb4d", "patch": "@@ -1710,6 +1710,8 @@ get_pic_reg (void)\n   rtx pic_reg = pic_offset_table_rtx;\n   if (!reload_completed && !reload_in_progress)\n     abort ();\n+  if (current_function_is_leaf && !df_regs_ever_live_p (LAST_ARG_REGNUM))\n+    pic_reg = gen_rtx_REG (SImode, LAST_ARG_REGNUM);\n   return pic_reg;\n }\n "}]}