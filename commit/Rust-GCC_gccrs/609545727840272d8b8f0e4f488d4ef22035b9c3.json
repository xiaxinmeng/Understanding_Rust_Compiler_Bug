{"sha": "609545727840272d8b8f0e4f488d4ef22035b9c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA5NTQ1NzI3ODQwMjcyZDhiOGYwZTRmNDg4ZDRlZjIyMDM1YjljMw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@redhat.com", "date": "2002-12-21T01:21:23Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2002-12-21T01:21:23Z"}, "message": "Fix misc SPE instrinsic problems.\n\n\t* config/rs6000/spe.h (__ev_subifw): Reverse arguments.\n\t(__ev_subw, __ev_subiw): New.\n\t(ev_mwlssf, ev_mwlsmf, ev_mwlssfa, ev_mwlsmfa, ev_mwlssfaaw,\n\tev_mwlsmfaaw, ev_mwlssfanw, ev_mwlsmfanw): Delete.\n\nFrom-SVN: r60378", "tree": {"sha": "743db9f13aec946f50aba8fff2dfa2e0ef3f0ae2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/743db9f13aec946f50aba8fff2dfa2e0ef3f0ae2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/609545727840272d8b8f0e4f488d4ef22035b9c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609545727840272d8b8f0e4f488d4ef22035b9c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/609545727840272d8b8f0e4f488d4ef22035b9c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609545727840272d8b8f0e4f488d4ef22035b9c3/comments", "author": null, "committer": null, "parents": [{"sha": "11f431275891fb3786aeda1c95e550436c49da1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11f431275891fb3786aeda1c95e550436c49da1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11f431275891fb3786aeda1c95e550436c49da1c"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "bc8df5dc90d7192854629a5884d34f63f1e85155", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609545727840272d8b8f0e4f488d4ef22035b9c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609545727840272d8b8f0e4f488d4ef22035b9c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=609545727840272d8b8f0e4f488d4ef22035b9c3", "patch": "@@ -1,3 +1,10 @@\n+2002-12-20  Jim Wilson  <wilson@redhat.com>\n+\n+\t* config/rs6000/spe.h (__ev_subifw): Reverse arguments.\n+\t(__ev_subw, __ev_subiw): New.\n+\t(ev_mwlssf, ev_mwlsmf, ev_mwlssfa, ev_mwlsmfa, ev_mwlssfaaw,\n+\tev_mwlsmfaaw, ev_mwlssfanw, ev_mwlsmfanw): Delete.\n+\n 2002-12-20  John David Anglin  <dave.anglin@nrc.gc.ca>\n \n \t* pa-linux.h (TARGET_HAS_STUBS_AND_ELF_SECTIONS): Delete define."}, {"sha": "aebf87760cae5611e6e0f36e15ef629f36d56d84", "filename": "gcc/config/rs6000/spe.h", "status": "modified", "additions": 5, "deletions": 9, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609545727840272d8b8f0e4f488d4ef22035b9c3/gcc%2Fconfig%2Frs6000%2Fspe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609545727840272d8b8f0e4f488d4ef22035b9c3/gcc%2Fconfig%2Frs6000%2Fspe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fspe.h?ref=609545727840272d8b8f0e4f488d4ef22035b9c3", "patch": "@@ -54,7 +54,11 @@ typedef int \t\t\t__vector __ev64_opaque__;\n #define __ev_addw(a,b) __builtin_spe_evaddw((__v2si) (a), (__v2si) (b))\n #define __ev_addiw(a,b) __builtin_spe_evaddiw ((__v2si) (a), (b))\n #define __ev_subfw(a,b) __builtin_spe_evsubfw ((__v2si) (a), (__v2si) (b))\n-#define __ev_subifw(a,b) __builtin_spe_evsubifw ((__v2si) (a), (b))\n+#define __ev_subw(a,b) __builtin_spe_evsubfw ((__v2si) (b), (__v2si) (a))\n+/* ??? The spe_evsubifw pattern accepts operands reversed, so we need to also\n+   reverse them here between the intrinsic and the builtin function.  */\n+#define __ev_subifw(a,b) __builtin_spe_evsubifw ((__v2si) (b), (a))\n+#define __ev_subiw(a,b) __builtin_spe_evsubifw ((__v2si) (a), (b))\n #define __ev_abs(a) __builtin_spe_evabs ((__v2si) (a))\n #define __ev_neg(a) __builtin_spe_evneg ((__v2si) (a))\n #define __ev_extsb(a) __builtin_spe_evextsb ((__v2si) (a))\n@@ -224,24 +228,16 @@ typedef int \t\t\t__vector __ev64_opaque__;\n #define __ev_mwhumf __ev_mwhumi\n #define __ev_mwhumfa __ev_mwhumia\n \n-#define __ev_mwlssf(a, b) __builtin_spe_evmwlssf ((__v2si) (a), (__v2si) (b))\n-#define __ev_mwlsmf(a, b) __builtin_spe_evmwlsmf ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlumi(a, b) __builtin_spe_evmwlumi ((__v2si) (a), (__v2si) (b))\n-#define __ev_mwlssfa(a, b) __builtin_spe_evmwlssfa ((__v2si) (a), (__v2si) (b))\n-#define __ev_mwlsmfa(a, b) __builtin_spe_evmwlsmfa ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlumia(a, b) __builtin_spe_evmwlumia ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlumiaaw(a, b) __builtin_spe_evmwlumiaaw ((__v2si) (a), (__v2si) (b))\n \n-#define __ev_mwlssfaaw(a, b) __builtin_spe_evmwlssfaaw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlssiaaw(a, b) __builtin_spe_evmwlssiaaw ((__v2si) (a), (__v2si) (b))\n-#define __ev_mwlsmfaaw(a, b) __builtin_spe_evmwlsmfaaw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlsmiaaw(a, b) __builtin_spe_evmwlsmiaaw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlusiaaw(a, b) __builtin_spe_evmwlusiaaw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlusiaaw(a, b) __builtin_spe_evmwlusiaaw ((__v2si) (a), (__v2si) (b))\n \n-#define __ev_mwlssfanw(a, b) __builtin_spe_evmwlssfanw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlssianw(a, b) __builtin_spe_evmwlssianw ((__v2si) (a), (__v2si) (b))\n-#define __ev_mwlsmfanw(a, b) __builtin_spe_evmwlsmfanw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlsmianw(a, b) __builtin_spe_evmwlsmianw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlusianw(a, b) __builtin_spe_evmwlusianw ((__v2si) (a), (__v2si) (b))\n #define __ev_mwlumianw(a, b) __builtin_spe_evmwlumianw ((__v2si) (a), (__v2si) (b))"}]}