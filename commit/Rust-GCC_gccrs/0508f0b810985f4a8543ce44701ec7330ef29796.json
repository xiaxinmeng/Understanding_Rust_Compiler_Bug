{"sha": "0508f0b810985f4a8543ce44701ec7330ef29796", "node_id": "C_kwDOANBUbNoAKDA1MDhmMGI4MTA5ODVmNGE4NTQzY2U0NDcwMWVjNzMzMGVmMjk3OTY", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2022-04-11T15:43:38Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2022-04-11T21:00:25Z"}, "message": "rs6000: Fix unpack for no-direct-move (PR103623)\n\nThe _dm alternative works fine for soft-float, but the _nodm variant\npattern is missing that alternative.  So, let's add that.\n\nThere probably should be an r,r,i alternative as well (or we can make it\nrm,r,i), but that is for later.\n\n2022-04-11  Segher Boessenkool  <segher@kernel.crashing.org>\n\n\tPR target/105213\n\tPR target/103623\n\t* config/rs6000/rs6000.md (unpack<mode>_nodm): Add m,r,i alternative.", "tree": {"sha": "527a3511609ec11eb0db9cbd51100722304dcd82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/527a3511609ec11eb0db9cbd51100722304dcd82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0508f0b810985f4a8543ce44701ec7330ef29796", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0508f0b810985f4a8543ce44701ec7330ef29796", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0508f0b810985f4a8543ce44701ec7330ef29796", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0508f0b810985f4a8543ce44701ec7330ef29796/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1774ab84863202f5db694914b67e3aef8c6dd807", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1774ab84863202f5db694914b67e3aef8c6dd807", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1774ab84863202f5db694914b67e3aef8c6dd807"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "f05b8358ba0a4a62a203bfc1283b4fc9f7e9e617", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0508f0b810985f4a8543ce44701ec7330ef29796/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0508f0b810985f4a8543ce44701ec7330ef29796/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=0508f0b810985f4a8543ce44701ec7330ef29796", "patch": "@@ -14580,10 +14580,10 @@\n   [(set_attr \"type\" \"fp,fpstore,mtvsr,mfvsr,store\")])\n \n (define_insn_and_split \"unpack<mode>_nodm\"\n-  [(set (match_operand:<FP128_64> 0 \"nonimmediate_operand\" \"=d,m\")\n+  [(set (match_operand:<FP128_64> 0 \"nonimmediate_operand\" \"=d,m,m\")\n \t(unspec:<FP128_64>\n-\t [(match_operand:FMOVE128 1 \"register_operand\" \"d,d\")\n-\t  (match_operand:QI 2 \"const_0_to_1_operand\" \"i,i\")]\n+\t [(match_operand:FMOVE128 1 \"register_operand\" \"d,d,r\")\n+\t  (match_operand:QI 2 \"const_0_to_1_operand\" \"i,i,i\")]\n \t UNSPEC_UNPACK_128BIT))]\n   \"(!TARGET_POWERPC64 || !TARGET_DIRECT_MOVE) && FLOAT128_2REG_P (<MODE>mode)\"\n   \"#\"\n@@ -14600,7 +14600,7 @@\n \n   operands[3] = gen_rtx_REG (<FP128_64>mode, fp_regno);\n }\n-  [(set_attr \"type\" \"fp,fpstore\")])\n+  [(set_attr \"type\" \"fp,fpstore,store\")])\n \n (define_insn_and_split \"pack<mode>\"\n   [(set (match_operand:FMOVE128 0 \"register_operand\" \"=&d\")"}]}