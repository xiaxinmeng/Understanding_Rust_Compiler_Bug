{"sha": "0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY0NzgzYzdmN2MwMTU5NjY4NmRhMjhlNmZlODZlMGI2OWE0M2YzZQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-08-27T20:38:06Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-08-27T20:38:06Z"}, "message": "rtl_data.x_stack_slot_list becomes an rtx_expr_list\n\ngcc/\n2014-08-27  David Malcolm  <dmalcolm@redhat.com>\n\n\t* function.h (struct rtl_data): Strengthen field\n\t\"x_stack_slot_list\" from rtx to rtx_expr_list *.\n\n\t* emit-rtl.c (unshare_all_rtl_1): Add a checked cast\n\twhen assigning to stack_slot_list.\n\nFrom-SVN: r214604", "tree": {"sha": "8d4ec8a41c63185441424d525a970a78807fbd37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d4ec8a41c63185441424d525a970a78807fbd37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2382940b419263c416f86cbf50cfcf5f18c22bdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2382940b419263c416f86cbf50cfcf5f18c22bdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2382940b419263c416f86cbf50cfcf5f18c22bdb"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "9fbf522c75ae7d73faedeb7750b1b86786065c40", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "patch": "@@ -1,3 +1,11 @@\n+2014-08-27  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* function.h (struct rtl_data): Strengthen field\n+\t\"x_stack_slot_list\" from rtx to rtx_expr_list *.\n+\n+\t* emit-rtl.c (unshare_all_rtl_1): Add a checked cast\n+\twhen assigning to stack_slot_list.\n+\n 2014-08-27  David Malcolm  <dmalcolm@redhat.com>\n \n \t* function.h (struct rtl_data): Strengthen field"}, {"sha": "6cfaef6342a5de2137a0c94bd27456dc375572c9", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "patch": "@@ -2555,7 +2555,8 @@ unshare_all_rtl_1 (rtx_insn *insn)\n      This special care is necessary when the stack slot MEM does not\n      actually appear in the insn chain.  If it does appear, its address\n      is unshared from all else at that point.  */\n-  stack_slot_list = copy_rtx_if_shared (stack_slot_list);\n+  stack_slot_list = safe_as_a <rtx_expr_list *> (\n+\t\t      copy_rtx_if_shared (stack_slot_list));\n }\n \n /* Go through all the RTL insn bodies and copy any invalid shared"}, {"sha": "1f8da7a6a660156a6b8aa7c23139eb0b3893356d", "filename": "gcc/function.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/gcc%2Ffunction.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f4783c7f7c01596686da28e6fe86e0b69a43f3e/gcc%2Ffunction.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.h?ref=0f4783c7f7c01596686da28e6fe86e0b69a43f3e", "patch": "@@ -280,7 +280,7 @@ struct GTY(()) rtl_data {\n \n   /* List (chain of EXPR_LISTs) of all stack slots in this function.\n      Made for the sake of unshare_all_rtl.  */\n-  rtx x_stack_slot_list;\n+  rtx_expr_list *x_stack_slot_list;\n \n   /* List of empty areas in the stack frame.  */\n   struct frame_space *frame_space_list;"}]}