{"sha": "50d94c29c00b00c0e569ec29b56715d8eb1c30af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBkOTRjMjljMDBiMDBjMGU1NjllYzI5YjU2NzE1ZDhlYjFjMzBhZg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2016-05-02T21:45:34Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2016-05-02T21:45:34Z"}, "message": "backport: Since x86 psABIs require the function incoming stack must align at 16 bytes...\n\nBackport r265322 from llvm upstream\n\nSince x86 psABIs require the function incoming stack must align at 16\nbytes, child process stack passed to clone should be aligned at 16\nbytes.\n\n\tPR testsuite/70520\n\t* c-c++-common/asan/clone-test-1.c (main): Align child process\n\tstack to 16 bytes.\n\nFrom-SVN: r235790", "tree": {"sha": "978023aee1320169f9cc06ab30317171c48b67c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/978023aee1320169f9cc06ab30317171c48b67c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50d94c29c00b00c0e569ec29b56715d8eb1c30af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50d94c29c00b00c0e569ec29b56715d8eb1c30af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50d94c29c00b00c0e569ec29b56715d8eb1c30af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50d94c29c00b00c0e569ec29b56715d8eb1c30af/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bc1aee87f6494a59eea3ffbbb0577ccd85cdc4a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc1aee87f6494a59eea3ffbbb0577ccd85cdc4a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc1aee87f6494a59eea3ffbbb0577ccd85cdc4a1"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "7bc4374dbd7a34d4feaeec11041b9d34073a734d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d94c29c00b00c0e569ec29b56715d8eb1c30af/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d94c29c00b00c0e569ec29b56715d8eb1c30af/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=50d94c29c00b00c0e569ec29b56715d8eb1c30af", "patch": "@@ -1,3 +1,9 @@\n+2016-05-02  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR testsuite/70520\n+\t* c-c++-common/asan/clone-test-1.c (main): Align child process\n+\tstack to 16 bytes.\n+\n 2016-05-02  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR c++/62314"}, {"sha": "eeca09f3e689009543faa5f206f433c1c79fc6a2", "filename": "gcc/testsuite/c-c++-common/asan/clone-test-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d94c29c00b00c0e569ec29b56715d8eb1c30af/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fclone-test-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d94c29c00b00c0e569ec29b56715d8eb1c30af/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fclone-test-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fclone-test-1.c?ref=50d94c29c00b00c0e569ec29b56715d8eb1c30af", "patch": "@@ -25,7 +25,7 @@ volatile int zero = 0;\n int main(int argc, char **argv) {\n   int i;\n   const int kStackSize = 1 << 20;\n-  char child_stack[kStackSize + 1];\n+  char __attribute__((aligned(16))) child_stack[kStackSize + 1];\n   char *sp = child_stack + kStackSize;  /* Stack grows down. */\n   printf(\"Parent: %p\\n\", sp);\n   pid_t clone_pid = clone(Child, sp, CLONE_FILES | CLONE_VM, NULL, 0, 0, 0);"}]}