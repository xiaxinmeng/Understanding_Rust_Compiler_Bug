{"sha": "64b89453bce993860d16b1e610b38401a0462086", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRiODk0NTNiY2U5OTM4NjBkMTZiMWU2MTBiMzg0MDFhMDQ2MjA4Ng==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-09-19T22:57:53Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-09-19T22:57:53Z"}, "message": "configure.ac: Only use GCC_CHECK_UNWIND_GETIPINFO when compiled as a target library.\n\n\t* configure.ac: Only use GCC_CHECK_UNWIND_GETIPINFO when compiled\n\tas a target library.\n\t* configure: Rebuild.\n\nFrom-SVN: r191503", "tree": {"sha": "b1949689ab7e790238a76412db253ed63c9db39c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1949689ab7e790238a76412db253ed63c9db39c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64b89453bce993860d16b1e610b38401a0462086", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64b89453bce993860d16b1e610b38401a0462086", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64b89453bce993860d16b1e610b38401a0462086", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64b89453bce993860d16b1e610b38401a0462086/comments", "author": null, "committer": null, "parents": [{"sha": "7f7c81909221af5c3c4e6ffad404207c29ea953d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f7c81909221af5c3c4e6ffad404207c29ea953d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f7c81909221af5c3c4e6ffad404207c29ea953d"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "e5baeb53506d6ea7717bfdaea8d84e7b89d3b6dc", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64b89453bce993860d16b1e610b38401a0462086/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64b89453bce993860d16b1e610b38401a0462086/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=64b89453bce993860d16b1e610b38401a0462086", "patch": "@@ -1,3 +1,9 @@\n+2012-09-19  Ian Lance Taylor  <iant@google.com>\n+\n+\t* configure.ac: Only use GCC_CHECK_UNWIND_GETIPINFO when compiled\n+\tas a target library.\n+\t* configure: Rebuild.\n+\n 2012-09-19  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \t    Ian Lance Taylor  <iant@google.com>\n "}, {"sha": "a57b51b29515d8ca173da88f8bc3b1c015971eb8", "filename": "libbacktrace/configure", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64b89453bce993860d16b1e610b38401a0462086/libbacktrace%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64b89453bce993860d16b1e610b38401a0462086/libbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure?ref=64b89453bce993860d16b1e610b38401a0462086", "patch": "@@ -11734,6 +11734,7 @@ fi\n \n \n \n+if test -n \"${with_target_subdir}\"; then\n \n \n # Check whether --with-system-libunwind was given.\n@@ -11770,6 +11771,20 @@ $as_echo \"#define HAVE_GETIPINFO 1\" >>confdefs.h\n \n   fi\n \n+else\n+  ac_fn_c_check_func \"$LINENO\" \"_Unwind_GetIPInfo\" \"ac_cv_func__Unwind_GetIPInfo\"\n+if test \"x$ac_cv_func__Unwind_GetIPInfo\" = x\"\"yes; then :\n+  have_unwind_getipinfo=yes\n+else\n+  have_unwind_getipinfo=no\n+fi\n+\n+  if test \"$have_unwind_getipinfo\" = \"yes\"; then\n+\n+$as_echo \"#define HAVE_GETIPINFO 1\" >>confdefs.h\n+\n+  fi\n+fi\n \n # When building as a target library, shared libraries may want to link\n # this in.  We don't want to provide another shared library to"}, {"sha": "b21beea11b02efceb7b8b8628e5fa17d063adf23", "filename": "libbacktrace/configure.ac", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64b89453bce993860d16b1e610b38401a0462086/libbacktrace%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64b89453bce993860d16b1e610b38401a0462086/libbacktrace%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure.ac?ref=64b89453bce993860d16b1e610b38401a0462086", "patch": "@@ -98,7 +98,15 @@ fi\n \n AC_SUBST(WARN_FLAGS)\n \n-GCC_CHECK_UNWIND_GETIPINFO\n+if test -n \"${with_target_subdir}\"; then\n+  GCC_CHECK_UNWIND_GETIPINFO\n+else\n+  AC_CHECK_FUNC(_Unwind_GetIPInfo, [have_unwind_getipinfo=yes],\n+\t\t[have_unwind_getipinfo=no])\n+  if test \"$have_unwind_getipinfo\" = \"yes\"; then\n+    AC_DEFINE(HAVE_GETIPINFO, 1, [Define if _Unwind_GetIPInfo is available.])\n+  fi\n+fi\n \n # When building as a target library, shared libraries may want to link\n # this in.  We don't want to provide another shared library to"}]}