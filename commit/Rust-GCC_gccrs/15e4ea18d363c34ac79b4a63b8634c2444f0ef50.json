{"sha": "15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVlNGVhMThkMzYzYzM0YWM3OWI0YTYzYjg2MzRjMjQ0NGYwZWY1MA==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-09T21:08:20Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-09T21:08:20Z"}, "message": "inclhack.def (limits_ifndefs): Add select test.\n\n\t* fixinc/inclhack.def (limits_ifndefs): Add select test.\n\t* fixinc/fixincl.x: Rebuild.\n\nFrom-SVN: r69154", "tree": {"sha": "d231eccf5406bfdb7034dc1ec5841fce596a92f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d231eccf5406bfdb7034dc1ec5841fce596a92f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/comments", "author": null, "committer": null, "parents": [{"sha": "cd61dacbc8d810fd90b02f7687c3099deae8e2fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd61dacbc8d810fd90b02f7687c3099deae8e2fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd61dacbc8d810fd90b02f7687c3099deae8e2fe"}], "stats": {"total": 26, "additions": 18, "deletions": 8}, "files": [{"sha": "4a342f34452ffc72b52f65f5a360f61b8e2c0d35", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "patch": "@@ -1,5 +1,8 @@\n 2003-07-09  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n+\t* fixinc/inclhack.def (limits_ifndefs): Add select test.\n+\t* fixinc/fixincl.x: Rebuild.\n+\n \t* fixinc/inclhack.def (math_exception):  Improve bypass and comment.\n \t* fixinc/fixincl.x: Rebuild.\n "}, {"sha": "74f13bed9ffba8dd6e6ce0c371027877e80ee1db", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "patch": "@@ -2,11 +2,11 @@\n  * \n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  * \n- * It has been AutoGen-ed  Wednesday July  9, 2003 at 04:58:23 PM EDT\n+ * It has been AutoGen-ed  Wednesday July  9, 2003 at 05:06:05 PM EDT\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT CVS-MERGE THIS FILE, EITHER Wed Jul  9 16:58:23 EDT 2003\n+/* DO NOT CVS-MERGE THIS FILE, EITHER Wed Jul  9 17:06:05 EDT 2003\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -2829,15 +2829,22 @@ tSCC zLimits_IfndefsList[] =\n  */\n #define apzLimits_IfndefsMachs (const char**)NULL\n \n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zLimits_IfndefsSelect0[] =\n+       \"^[ \\t]*#[ \\t]*define[ \\t]+((FLT|DBL)_(MIN|MAX|DIG))[ \\t].*\";\n+\n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zLimits_IfndefsBypass0[] =\n        \"ifndef[ \\t]+FLT_(MIN|MAX)\";\n \n-#define    LIMITS_IFNDEFS_TEST_CT  1\n+#define    LIMITS_IFNDEFS_TEST_CT  2\n static tTestDesc aLimits_IfndefsTests[] = {\n-  { TT_NEGREP,   zLimits_IfndefsBypass0, (regex_t*)NULL }, };\n+  { TT_NEGREP,   zLimits_IfndefsBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zLimits_IfndefsSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Limits_Ifndefs\n@@ -2847,7 +2854,6 @@ static const char* apzLimits_IfndefsPatch[] = {\n     \"#ifndef %1\\n\\\n %0\\n\\\n #endif\",\n-    \"^[ \\t]*#[ \\t]*define[ \\t]+((FLT|DBL)_(MIN|MAX|DIG))[ \\t].*\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -6100,7 +6106,7 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          171\n+#define REGEX_COUNT          172\n #define MACH_LIST_SIZE_LIMIT 261\n #define FIX_COUNT            154\n "}, {"sha": "6fb057017e238e0e0b1512663e57292b1e0bfd1f", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e4ea18d363c34ac79b4a63b8634c2444f0ef50/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=15e4ea18d363c34ac79b4a63b8634c2444f0ef50", "patch": "@@ -1609,12 +1609,13 @@ fix = {\n     hackname = limits_ifndefs;\n     files  = \"sys/limits.h\";\n     files  = \"limits.h\";\n+    select = \"^[ \\t]*#[ \\t]*define[ \\t]+\"\n+             \"((FLT|DBL)_(MIN|MAX|DIG))[ \\t].*\";\n     bypass = \"ifndef[ \\t]+FLT_(MIN|MAX)\";\n \n     c_fix     = format;\n     c_fix_arg = \"#ifndef %1\\n%0\\n#endif\";\n-    c_fix_arg = \"^[ \\t]*#[ \\t]*define[ \\t]+\"\n-                \"((FLT|DBL)_(MIN|MAX|DIG))[ \\t].*\";\n+    /* Second arg is select expression */\n     test_text = \" #\\tdefine\\tDBL_DIG \\t 0  /* somthin' */\";\n };\n "}]}