{"sha": "33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzMxNzNmZDQwZmE2ZmE0N2Q4NWM5ZGZhMTY5YWQ0ZGNiMzkxNmEzYg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2005-08-16T16:06:43Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-08-16T16:06:43Z"}, "message": "re PR java/23300 (DECL_FIELD_OFFSET == 0 versus build_field_ref)\n\n\tPR java/23300.\n\t* expr.c (build_field_ref): Don't generate otable reference when\n\tDECL_FIELD_OFFSET is 0.\n\t* class.c (maybe_layout_super_class): Pass outer class to\n\tdo_resolve_class.\n\nFrom-SVN: r103160", "tree": {"sha": "7c0b6e95a8ebdb28fbcfca41cd2acb48d5f938f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c0b6e95a8ebdb28fbcfca41cd2acb48d5f938f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/comments", "author": null, "committer": null, "parents": [{"sha": "ce45ef468cb3183890e4a159b9757bf640216558", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce45ef468cb3183890e4a159b9757bf640216558", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce45ef468cb3183890e4a159b9757bf640216558"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "b21f08277ed80b3482731f421cc50c8c4dc3f1a3", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "patch": "@@ -1,3 +1,11 @@\n+2005-08-15  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR java/23300.\n+\t* expr.c (build_field_ref): Don't generate otable reference when\n+\tDECL_FIELD_OFFSET is 0.\n+\t* class.c (maybe_layout_super_class): Pass outer class to\n+\tdo_resolve_class.\n+\n 2005-08-15  Tom Tromey  <tromey@redhat.com>\n \n \t* java-tree.h (LABEL_IN_SUBR): Removed."}, {"sha": "21945eb7fe3008939c3a88d2299806853a03ae3b", "filename": "gcc/java/class.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/gcc%2Fjava%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/gcc%2Fjava%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fclass.c?ref=33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "patch": "@@ -2093,8 +2093,9 @@ maybe_layout_super_class (tree super_class, tree this_class)\n \t\t\t\t\t  DECL_SOURCE_LINE (this_decl), 0);\n #endif\n \t    }\n-\t  super_class = do_resolve_class (NULL_TREE, this_class,\n-\t\t\t\t\t  super_class, NULL_TREE, this_wrap);\n+\t  super_class\n+\t    = do_resolve_class (DECL_CONTEXT (TYPE_NAME (this_class)),\n+\t\t\t\tthis_class, super_class, NULL_TREE, this_wrap);\n \t  if (!super_class)\n \t    return NULL_TREE;\t/* FIXME, NULL_TREE not checked by caller. */\n \t  super_class = TREE_TYPE (super_class);"}, {"sha": "c29b8a30254cf0a936c43b09f62ff00ff8ceb1d1", "filename": "gcc/java/expr.c", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=33173fd40fa6fa47d85c9dfa169ad4dcb3916a3b", "patch": "@@ -1688,13 +1688,7 @@ build_field_ref (tree self_value, tree self_class, tree name)\n       tree base_type = promote_type (base_class);\n       if (base_type != TREE_TYPE (self_value))\n \tself_value = fold (build1 (NOP_EXPR, base_type, self_value));\n-      if (! flag_syntax_only\n-\t  && (flag_indirect_dispatch\n-\t      /* DECL_FIELD_OFFSET == 0 if we have no reference for\n-\t\t the field, perhaps because we couldn't find the class\n-\t\t in which the field is defined.  \n-\t\t FIXME: We should investigate this.  */\n-\t      || DECL_FIELD_OFFSET (field_decl) == 0))\n+      if (! flag_syntax_only && flag_indirect_dispatch)\n \t{\n \t  tree otable_index\n \t    = build_int_cst (NULL_TREE, get_symbol_table_index "}]}