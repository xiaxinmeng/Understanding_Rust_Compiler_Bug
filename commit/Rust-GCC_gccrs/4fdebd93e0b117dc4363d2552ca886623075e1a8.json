{"sha": "4fdebd93e0b117dc4363d2552ca886623075e1a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZkZWJkOTNlMGIxMTdkYzQzNjNkMjU1MmNhODg2NjIzMDc1ZTFhOA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-04T09:57:02Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-04T09:57:02Z"}, "message": "[multiple changes]\n\n2011-08-04  Arnaud Charlet  <charlet@adacore.com>\n\n\t* debug.adb: Update comment.\n\n2011-08-04  Robert Dewar  <dewar@adacore.com>\n\n\t* par_sco.adb, exp_util.adb, make.adb, a-tags.adb, sem_prag.adb,\n\tsem_util.adb, sem_attr.adb, exp_ch4.adb, g-comlin.adb, g-comlin.ads,\n\texp_ch6.adb: Minor reformatting.\n\n2011-08-04  Gary Dismukes  <dismukes@adacore.com>\n\n\t* gnat_ugn.texi: Add sentence about the case of compile-time-detected\n\tchecks for -gnateE.\n\n2011-08-04  Ed Schonberg  <schonberg@adacore.com>\n\n\t* gnat_rm.texi: update Ravenscar desription to reflect Ada2012 RM.\n\n2011-08-04  Thomas Quinot  <quinot@adacore.com>\n\n\t* sinfo.ads: Minor reformatting.\n\n2011-08-04  Emmanuel Briot  <briot@adacore.com>\n\n\t* makeutl.adb, makeutl.ads, prj-nmsc.adb (Complete_Mains): report error\n\teven if there is no location.\n\nFrom-SVN: r177351", "tree": {"sha": "7946b22e7f13f198a60bc32005dd7fccb3114188", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7946b22e7f13f198a60bc32005dd7fccb3114188"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fdebd93e0b117dc4363d2552ca886623075e1a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fdebd93e0b117dc4363d2552ca886623075e1a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fdebd93e0b117dc4363d2552ca886623075e1a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fdebd93e0b117dc4363d2552ca886623075e1a8/comments", "author": null, "committer": null, "parents": [{"sha": "6aaa058707f9d29c01aae3c7823a3d184d0e777f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aaa058707f9d29c01aae3c7823a3d184d0e777f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6aaa058707f9d29c01aae3c7823a3d184d0e777f"}], "stats": {"total": 191, "additions": 134, "deletions": 57}, "files": [{"sha": "40d753b8b016c29894229a9a563cf49c768da3c8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -1,3 +1,31 @@\n+2011-08-04  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* debug.adb: Update comment.\n+\n+2011-08-04  Robert Dewar  <dewar@adacore.com>\n+\n+\t* par_sco.adb, exp_util.adb, make.adb, a-tags.adb, sem_prag.adb,\n+\tsem_util.adb, sem_attr.adb, exp_ch4.adb, g-comlin.adb, g-comlin.ads,\n+\texp_ch6.adb: Minor reformatting.\n+\n+2011-08-04  Gary Dismukes  <dismukes@adacore.com>\n+\n+\t* gnat_ugn.texi: Add sentence about the case of compile-time-detected\n+\tchecks for -gnateE.\n+\n+2011-08-04  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* gnat_rm.texi: update Ravenscar desription to reflect Ada2012 RM.\n+\n+2011-08-04  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* sinfo.ads: Minor reformatting.\n+\n+2011-08-04  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* makeutl.adb, makeutl.ads, prj-nmsc.adb (Complete_Mains): report error\n+\teven if there is no location.\n+\n 2011-08-04  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_res.adb, sem_ch4.adb: move check for restriction"}, {"sha": "0fbb6025ffcaba0cca629516163863f0b8b9ef94", "filename": "gcc/ada/a-tags.adb", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fa-tags.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fa-tags.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-tags.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -317,15 +317,14 @@ package body Ada.Tags is\n \n       Dup_Ext_Tag : constant String := \"duplicated external tag \"\"\";\n \n-   --  Start of processing for Check_TSD\n-\n    begin\n       --  Verify that the external tag of this TSD is not registered in the\n       --  runtime hash table.\n \n       T := External_Tag_HTable.Get (To_Address (TSD.External_Tag));\n \n       if T /= null then\n+\n          --  Avoid concatenation, as it is not allowed in no run time mode\n \n          declare"}, {"sha": "e024927afeda8bfd8e6ebf03f915d8efbda556b3", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -429,7 +429,7 @@ package body Debug is\n    --       especially in the predefined library units.\n \n    --  dQ   Eliminate check for duplicate external tags. This check was added\n-   --       for GNAT 6.4.1, and causes some backward compatibility problems.\n+   --       as per AI 0113, and causes some backward compatibility problems.\n    --       It is never legitimate to have duplicate external tags, so the\n    --       check is certainly valid, but this debug switch can be useful for\n    --       enabling previous behavior of ignoring this problem."}, {"sha": "a5b3bdc51faee9de1f1faec63d80b81a53887e6f", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -4319,7 +4319,7 @@ package body Exp_Ch4 is\n       ------------------------------\n \n       procedure Process_Transient_Object (Decl : Node_Id) is\n-         Ins_Nod   : constant Node_Id    := Parent (N);\n+         Ins_Nod : constant Node_Id := Parent (N);\n          --  To avoid the insertion of generated code in the list of Actions,\n          --  Insert_Action must look at the parent field of the EWA.\n \n@@ -4353,10 +4353,9 @@ package body Exp_Ch4 is\n              Defining_Identifier => Ptr_Id,\n                Type_Definition =>\n                  Make_Access_To_Object_Definition (Loc,\n-                   All_Present =>\n+                   All_Present        =>\n                      Ekind (Obj_Typ) = E_General_Access_Type,\n-                   Subtype_Indication =>\n-                     New_Reference_To (Desig_Typ, Loc)));\n+                   Subtype_Indication => New_Reference_To (Desig_Typ, Loc)));\n \n          Insert_Action (Ins_Nod, Ptr_Decl);\n          Analyze (Ptr_Decl);\n@@ -4389,8 +4388,7 @@ package body Exp_Ch4 is\n          else\n             Expr :=\n               Make_Attribute_Reference (Loc,\n-                Prefix =>\n-                  New_Reference_To (Obj_Id, Loc),\n+                Prefix         => New_Reference_To (Obj_Id, Loc),\n                 Attribute_Name => Name_Unrestricted_Access);\n          end if;\n "}, {"sha": "dfa5b3f96437729c90e555c2c6bb5c6da1f68708", "filename": "gcc/ada/exp_ch6.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fexp_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fexp_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch6.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -4715,6 +4715,7 @@ package body Exp_Ch6 is\n             declare\n                Flag_Id : constant Entity_Id :=\n                            Return_Flag_Or_Transient_Decl (Ret_Obj_Id);\n+\n             begin\n                --  Generate:\n                --    Fnn := True;"}, {"sha": "aaf7e3ce6e2b814b69519ca661a6204e886b369b", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -2712,7 +2712,7 @@ package body Exp_Util is\n             elsif Ekind (Obj_Id) = E_Variable\n               and then\n                 (Is_Simple_Protected_Type (Obj_Typ)\n-                   or else Has_Simple_Protected_Object (Obj_Typ))\n+                  or else Has_Simple_Protected_Object (Obj_Typ))\n             then\n                return True;\n             end if;"}, {"sha": "5f5855fef8c21eae06f4d0bafe20ae7ee5ea9543", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -2138,10 +2138,10 @@ package body GNAT.Command_Line is\n       Success    : out Boolean)\n    is\n       procedure Add_Simple_Switch\n-        (Simple    : String;\n-         Sepa      : String;\n-         Param     : String;\n-         Index     : Integer);\n+        (Simple : String;\n+         Sepa   : String;\n+         Param  : String;\n+         Index  : Integer);\n       --  Add a new switch that has had all its aliases expanded, and switches\n       --  ungrouped. We know there are no more aliases in Switches.\n \n@@ -2150,10 +2150,10 @@ package body GNAT.Command_Line is\n       -----------------------\n \n       procedure Add_Simple_Switch\n-        (Simple    : String;\n-         Sepa      : String;\n-         Param     : String;\n-         Index     : Integer)\n+        (Simple : String;\n+         Sepa   : String;\n+         Param  : String;\n+         Index  : Integer)\n       is\n          Sep : Character;\n "}, {"sha": "0c4c96ea35d521e1876fcbdc8b7b3f16ec50f290", "filename": "gcc/ada/g-comlin.ads", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fg-comlin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fg-comlin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.ads?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -599,8 +599,8 @@ package GNAT.Command_Line is\n    --  format (trailing ':', '?', etc for defining a switch with parameters).\n    --\n    --  Switch should also start with the leading '-' (or any other characters).\n-   --  If this character is not '-', you will need to call\n-   --  Initialize_Option_Scan to set the proper character for the parser.\n+   --  If this character is not '-', you need to call Initialize_Option_Scan to\n+   --  set the proper character for the parser.\n    --\n    --  The switches defined in the command_line_configuration object are used\n    --  when ungrouping switches with more that one character after the prefix.\n@@ -843,10 +843,13 @@ package GNAT.Command_Line is\n    --  \"-from:\", the separator defaults to a space. But if your application\n    --  uses unusual separators not supported by GNAT.Command_Line (for instance\n    --  it requires \":\"), you can specify this separator here.\n+   --\n    --  For instance,\n    --     Add_Switch(Cmd, \"-from\", \"bar\", ':')\n+   --\n    --  results in\n    --     -from:bar\n+   --\n    --  rather than the default\n    --     -from bar\n    --"}, {"sha": "46b8d53d47885b9d948892a1e47ccb8b697fe431", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 24, "deletions": 18, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -4178,20 +4178,20 @@ the ceiling priority of the corresponding protected object.\n plus the following set of restrictions:\n \n @table @code\n-@item Max_Entry_Queue_Length = 1\n+@item Max_Entry_Queue_Length => 1\n Defines the maximum number of calls that are queued on a (protected) entry.\n Note that this restrictions is checked at run time. Violation of this\n restriction results in the raising of Program_Error exception at the point of\n the call. For the Profile (Ravenscar) the value of Max_Entry_Queue_Length is\n always 1 and hence no task can be queued on a protected entry.\n \n-@item Max_Protected_Entries = 1\n+@item Max_Protected_Entries => 1\n [RM D.7] Specifies the maximum number of entries per protected type. The\n bounds of every entry family of a protected unit shall be static, or shall be\n defined by a discriminant of a subtype whose corresponding bound is static.\n For the Profile (Ravenscar) the value of Max_Protected_Entries is always 1.\n \n-@item Max_Task_Entries = 0\n+@item Max_Task_Entries => 0\n [RM D.7] Specifies the maximum number of entries\n per task.  The bounds of every entry family\n of a task unit shall be static, or shall be\n@@ -4205,13 +4205,6 @@ the Profile (Ravenscar), the value of Max_Task_Entries is always\n [RM D.7] There are no abort_statements, and there are\n no calls to Task_Identification.Abort_Task.\n \n-@item No_Asynchronous_Control\n-There are no semantic dependences on the package\n-Asynchronous_Task_Control.\n-\n-@item No_Calendar\n-There are no semantic dependencies on the package Ada.Calendar.\n-\n @item No_Dynamic_Attachment\n There is no call to any of the operations defined in package Ada.Interrupts\n (Is_Reserved, Is_Attached, Current_Handler, Attach_Handler, Exchange_Handler,\n@@ -4252,29 +4245,42 @@ or to Ada.Task_Termination.Specific_Handler.\n [RM D.7] There are no allocators for task types\n or types containing task subcomponents.\n \n-@item No_Task_Attributes_Package\n-There are no semantic dependencies on the Ada.Task_Attributes package.\n-\n @item No_Task_Hierarchy\n [RM D.7] All (non-environment) tasks depend\n directly on the environment task of the partition.\n \n @item No_Task_Termination\n Tasks which terminate are erroneous.\n \n+@item Simple_Barriers\n+Entry barrier condition expressions shall be either static\n+boolean expressions or boolean objects which are declared in\n+the protected type which contains the entry.\n+\n @item No_Unchecked_Conversion\n There are no semantic dependencies on the Ada.Unchecked_Conversion package.\n \n @item No_Unchecked_Deallocation\n There are no semantic dependencies on the Ada.Unchecked_Deallocation package.\n \n-@item Simple_Barriers\n-Entry barrier condition expressions shall be either static\n-boolean expressions or boolean objects which are declared in\n-the protected type which contains the entry.\n @end table\n+@noindent\n+\n+The Ravenscar profile also includes the following restrictions that specify\n+that there are no semantic dependences on the corresponding predefined\n+packages:\n+\n+@table\n+@item No_Dependence => Ada.Asynchronous_Task_Control\n+@item No_Dependence => Ada.Calendar\n+@item No_Dependence => Ada.Execution_Time.Group_Budget\n+@item No_Dependence => Ada.Execution_Time.Timers\n+@item No_Dependence => Ada.Task_Attributes\n+@item No_Dependence => System.Multiprocessors.Dispatching_Domains\n \n+@end table\n @noindent\n+\n This set of configuration pragmas and restrictions correspond to the\n definition of the ``Ravenscar Profile'' for limited tasking, devised and\n published by the @cite{International Real-Time Ada Workshop}, 1997,\n@@ -17943,7 +17949,7 @@ A complete description of the AIs may be found in\n \n @item\n @emph{AI-0216 No_Task_Hierarchy forbids local tasks (0000-00-00)}\n-@cindex AI-0216 (Ada 2012 feature)\n+@cindex AI05-0216 (Ada 2012 feature)\n \n @noindent\n   It is clearly the intention that @code{No_Task_Hierarchy} is intended to"}, {"sha": "76436c362433a20de6117271dad361bd8674fd81", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -4115,9 +4115,12 @@ Defines a symbol, associated with @var{value}, for preprocessing.\n \n @item -gnateE\n @cindex @option{-gnateE} (@command{gcc})\n-Generate extra information in exception messages, in particular display\n+Generate extra information in exception messages. In particular, display\n extra column information and the value and range associated with index and\n range check failures, and extra column information for access checks.\n+In cases where the compiler is able to determine at compile time that\n+a check will fail, it gives a warning, and the extra information is not\n+produced at run time.\n \n @item -gnatef\n @cindex @option{-gnatef} (@command{gcc})"}, {"sha": "289979f6200834702e467d0c7b087563f563008d", "filename": "gcc/ada/make.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmake.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -1622,7 +1622,7 @@ package body Make is\n \n          if Operating_Mode = Check_Semantics then\n             declare\n-               File_Name : String := Get_Name_String (Source_File);\n+               File_Name : String  := Get_Name_String (Source_File);\n                OK        : Boolean := False;\n \n             begin"}, {"sha": "97bf8e16f97db92aa708eb69fc1ea6eaed299df3", "filename": "gcc/ada/makeutl.adb", "status": "modified", "additions": 42, "deletions": 6, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fmakeutl.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fmakeutl.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmakeutl.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -32,6 +32,7 @@ with Hostparm;\n with Osint;    use Osint;\n with Output;   use Output;\n with Opt;      use Opt;\n+with Prj.Err;\n with Prj.Ext;\n with Prj.Util; use Prj.Util;\n with Sinput.P;\n@@ -1269,7 +1270,8 @@ package body Makeutl is\n       --------------------\n \n       procedure Complete_Mains\n-        (Root_Project : Project_Id;\n+        (Flags        : Processing_Flags;\n+         Root_Project : Project_Id;\n          Project_Tree : Project_Tree_Ref)\n       is\n          procedure Do_Complete (Project : Project_Id; Tree : Project_Tree_Ref);\n@@ -1292,11 +1294,13 @@ package body Makeutl is\n                      Source     : Prj.Source_Id := No_Source;\n                      Suffix     : File_Name_Type;\n                      Iter       : Source_Iterator;\n+                     Is_Absolute : Boolean := False;\n \n                   begin\n                      if Base_Name (Main) /= Main then\n                         if Is_Absolute_Path (Main) then\n                            Main_Id := Create_Name (Base_Name (Main));\n+                           Is_Absolute := True;\n                         else\n                            Fail_Program\n                              (Tree,\n@@ -1316,17 +1320,27 @@ package body Makeutl is\n                      end if;\n \n                      if File.Tree = null then\n-                        File.Tree := Project_Tree;\n+                        File.Tree := Tree;\n                      end if;\n \n                      if File.Source = null then\n+                        if Current_Verbosity = High then\n+                           Debug_Output\n+                             (\"Search for main \"\"\" & Main\n+                              & \"\"\" in \"\n+                              & Get_Name_String (Debug_Name (File.Tree))\n+                              & \", project\", Project.Name);\n+                        end if;\n \n                         --  First, look for the main as specified.\n+                        --  We need to search for the base name though, and\n+                        --  if needed check later that we found the correct\n+                        --  file.\n \n                         Source := Find_Source\n                           (In_Tree   => File.Tree,\n                            Project   => File.Project,\n-                           Base_Name => File.File,\n+                           Base_Name => Main_Id,\n                            Index     => File.Index);\n \n                         if Source = No_Source then\n@@ -1373,9 +1387,22 @@ package body Makeutl is\n                                  Project := Project.Extends;\n                               end loop;\n                            end;\n+\n+                        else\n+                           if Is_Absolute then\n+                              if File_Name_Type (Source.Path.Display_Name) /=\n+                                File.File\n+                              then\n+                                 Debug_Output\n+                                   (\"Found a non-matching file\",\n+                                    Name_Id (Source.Path.Display_Name));\n+                                 Source := No_Source;\n+                              end if;\n+                           end if;\n                         end if;\n \n                         if Source /= No_Source then\n+\n                            Debug_Output (\"Found main in project\",\n                                          Source.Project.Name);\n                            Names.Table (J).File    := Source.File;\n@@ -1402,9 +1429,10 @@ package body Makeutl is\n \n                            Error_Msg_File_1 := Main_Id;\n                            Error_Msg_Name_1 := Root_Project.Name;\n-                           Errutil.Error_Msg\n-                             (\"{ is not a source of project %%\",\n-                              File.Location);\n+                           Prj.Err.Error_Msg\n+                             (Flags,\n+                              \"{ is not a source of project %%\",\n+                              File.Location, Project);\n                         end if;\n                      end if;\n                   end;\n@@ -1420,6 +1448,14 @@ package body Makeutl is\n \n       begin\n          Complete_All (Root_Project, Project_Tree);\n+\n+         if Mains.Count_Of_Mains_With_No_Tree > 0 then\n+            for J in Names.First .. Names.Last loop\n+               Fail_Program\n+                 (Project_Tree, '\"' & Get_Name_String (Names.Table (J).File)\n+                    & \"\"\" is not a source of any project\");\n+            end loop;\n+         end if;\n       end Complete_Mains;\n \n       ------------"}, {"sha": "7660749818b04e501a9103fcd439f64f1f2d5b17", "filename": "gcc/ada/makeutl.ads", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fmakeutl.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fmakeutl.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmakeutl.ads?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -366,7 +366,8 @@ package Makeutl is\n       --  project from all the aggregated projects).\n \n       procedure Complete_Mains\n-        (Root_Project : Project_Id;\n+        (Flags        : Processing_Flags;\n+         Root_Project : Project_Id;\n          Project_Tree : Project_Tree_Ref);\n       --  If some main units were already added from the command line, check\n       --  that they all belong to the root project, and that they are full"}, {"sha": "4e1e433f100eee23bc8882579c42b0e38f74912b", "filename": "gcc/ada/par_sco.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fpar_sco.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fpar_sco.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar_sco.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -467,6 +467,7 @@ package body Par_SCO is\n                Loc := Sloc (Parent (Parent (N)));\n \n                if T = 'P' then\n+\n                   --  Record sloc of pragma (pragmas don't nest)\n \n                   pragma Assert (Pragma_Sloc = No_Location);"}, {"sha": "743b2b6edbf1dbde85ec15fc440aefd20b56ec42", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -7165,7 +7165,7 @@ package body Prj.Nmsc is\n       Display_File_Name : File_Name_Type;\n \n    begin\n-      Debug_Increase_Indent (\"Looking for sources\");\n+      Debug_Increase_Indent (\"Looking for sources of\", Project.Project.Name);\n \n       --  Loop through subdirectories\n "}, {"sha": "7e77eb5bd8afdb181b9846dc0a0ae1c0fa21e13a", "filename": "gcc/ada/sem_attr.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsem_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsem_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_attr.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -4035,8 +4035,9 @@ package body Sem_Attr is\n             --  Check in postcondition of function\n \n             Prag := N;\n-            while not Nkind_In (Prag, N_Pragma, N_Function_Specification,\n-                                N_Subprogram_Body)\n+            while not Nkind_In (Prag, N_Pragma,\n+                                      N_Function_Specification,\n+                                      N_Subprogram_Body)\n             loop\n                Prag := Parent (Prag);\n             end loop;"}, {"sha": "249e4bfba37cec89260117ae820cd66dd6e3bcb2", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -6710,11 +6710,11 @@ package body Sem_Prag is\n             --  cause insertion of actions that would escape the attempt to\n             --  suppress the check code.\n \n-            --  Note that the Sloc for the IF statement corresponds to the\n+            --  Note that the Sloc for the if statement corresponds to the\n             --  argument condition, not the pragma itself. The reason for this\n             --  is that we may generate a warning if the condition is False at\n             --  compile time, and we do not want to delete this warning when we\n-            --  delete the IF statement.\n+            --  delete the if statement.\n \n             Expr := Get_Pragma_Arg (Arg2);\n "}, {"sha": "d5b26405c7d7466198904e398adb9c1c8224e4dd", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -12478,8 +12478,8 @@ package body Sem_Util is\n    ----------------\n \n    procedure Wrong_Type (Expr : Node_Id; Expected_Type : Entity_Id) is\n-      Found_Type     : constant Entity_Id := First_Subtype (Etype (Expr));\n-      Expec_Type     : constant Entity_Id := First_Subtype (Expected_Type);\n+      Found_Type : constant Entity_Id := First_Subtype (Etype (Expr));\n+      Expec_Type : constant Entity_Id := First_Subtype (Expected_Type);\n \n       Matching_Field : Entity_Id;\n       --  Entity to give a more precise suggestion on how to write a one-"}, {"sha": "1fdaae8a9fdc14e7a2b567b75d321f512d4b2103", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdebd93e0b117dc4363d2552ca886623075e1a8/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=4fdebd93e0b117dc4363d2552ca886623075e1a8", "patch": "@@ -719,9 +719,9 @@ package Sinfo is\n \n    --  Corresponding_Body (Node5-Sem)\n    --    This field is set in subprogram declarations, package declarations,\n-   --    entry declarations of protected types, and in generic units. It\n-   --    points to the defining entity for the corresponding body (NOT the\n-   --    node for the body itself).\n+   --    entry declarations of protected types, and in generic units. It points\n+   --    to the defining entity for the corresponding body (NOT the node for\n+   --    the body itself).\n \n    --  Corresponding_Formal_Spec (Node3-Sem)\n    --    This field is set in subprogram renaming declarations, where it points"}]}