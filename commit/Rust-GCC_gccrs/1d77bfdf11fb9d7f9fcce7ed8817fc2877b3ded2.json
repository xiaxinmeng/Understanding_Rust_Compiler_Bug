{"sha": "1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2", "node_id": "C_kwDOANBUbNoAKDFkNzdiZmRmMTFmYjlkN2Y5ZmNjZTdlZDg4MTdmYzI4NzdiM2RlZDI", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2023-01-27T13:56:31Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2023-02-01T13:13:03Z"}, "message": "driver: fix -gz=none error message with missing zstd\n\nWe wrongly report:\n\n$ echo \"int main () {}\" | gcc -xc -gz=none -\ngcc: error: -gz=zstd is not supported in this configuration\n\nif zstd compression is not supported by binutils. We should emit the\nerror message only if -gz=zstd.\n\n\tPR driver/108572\n\ngcc/ChangeLog:\n\n\t* gcc.cc (LINK_COMPRESS_DEBUG_SPEC): Report error only for\n\t-gz=zstd.", "tree": {"sha": "f1da2f660ed7efa93bf5eebe75e4cf40241d979b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1da2f660ed7efa93bf5eebe75e4cf40241d979b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4473d7cf871c8ddf8f22d105c5af6375ebe37bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4473d7cf871c8ddf8f22d105c5af6375ebe37bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4473d7cf871c8ddf8f22d105c5af6375ebe37bf"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "becc56051a88d37e3e7eaa6ec208402861b0b9c6", "filename": "gcc/gcc.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2/gcc%2Fgcc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2/gcc%2Fgcc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.cc?ref=1d77bfdf11fb9d7f9fcce7ed8817fc2877b3ded2", "patch": "@@ -842,7 +842,7 @@ proper position among the other output files.  */\n #define LINK_COMPRESS_DEBUG_SPEC \\\n \t\" %{gz|gz=zlib:\"  LD_COMPRESS_DEBUG_OPTION \"=zlib}\" \\\n \t\" %{gz=none:\"\t  LD_COMPRESS_DEBUG_OPTION \"=none}\" \\\n-\t\" %{gz*:%e-gz=zstd is not supported in this configuration} \" \\\n+\t\" %{gz=zstd:%e-gz=zstd is not supported in this configuration} \" \\\n \t\" %{gz=zlib-gnu:}\" /* Ignore silently zlib-gnu option value.  */\n #elif HAVE_LD_COMPRESS_DEBUG == 2\n /* ELF gABI style and ZSTD.  */"}]}