{"sha": "99758d1a4b602c95853f161003ecb5de0e425e98", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTk3NThkMWE0YjYwMmM5NTg1M2YxNjEwMDNlY2I1ZGUwZTQyNWU5OA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-10-13T11:02:35Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-10-13T11:02:35Z"}, "message": "2017-10-13  Richard Biener  <rguenther@suse.de>\n\n\t* graphite-isl-ast-to-gimple.c\n\t(translate_isl_ast_to_gimple::get_rename_from_scev): Remove unused\n\tparameters and dominance check.\n\t(translate_isl_ast_to_gimple::graphite_copy_stmts_from_block): Adjust.\n\t(translate_isl_ast_to_gimple::copy_bb_and_scalar_dependences): Likewise.\n\t(translate_isl_ast_to_gimple::graphite_regenerate_ast_isl):\n\tDo not update SSA form here or do intermediate IL verification.\n\t* graphite.c: Include tree-ssa.h and tree-into-ssa.h.\n\t(graphite_initialize): Remove check on the number of loops in\n\tthe function and inline into graphite_transform_loops.\n\t(graphite_finalize): Inline into graphite_transform_loops.\n\t(graphite_transform_loops): Perform SSA update and IL verification\n\there.\n\t* params.def (PARAM_GRAPHITE_MIN_LOOPS_PER_FUNCTION): Remove.\n\n\t* gcc.dg/graphite/pr35356-3.c: XFAIL again.\n\t* gcc.dg/graphite/pr81373-2.c: Copy from gcc.dg/graphite/pr81373.c\n\twith alternate flags.\n\nFrom-SVN: r253721", "tree": {"sha": "e61778107177ce0c41f2b1d5ac96caa132b1fd0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e61778107177ce0c41f2b1d5ac96caa132b1fd0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99758d1a4b602c95853f161003ecb5de0e425e98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99758d1a4b602c95853f161003ecb5de0e425e98", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99758d1a4b602c95853f161003ecb5de0e425e98", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99758d1a4b602c95853f161003ecb5de0e425e98/comments", "author": null, "committer": null, "parents": [{"sha": "6fe00fb72a2618c00909c794b1a1a792a2fdaf68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fe00fb72a2618c00909c794b1a1a792a2fdaf68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fe00fb72a2618c00909c794b1a1a792a2fdaf68"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "6a654bec9774db1ef65603af7ee0753b1af6d5f3", "filename": "gcc/testsuite/gcc.dg/graphite/pr81373-2.c", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99758d1a4b602c95853f161003ecb5de0e425e98/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr81373-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99758d1a4b602c95853f161003ecb5de0e425e98/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr81373-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr81373-2.c?ref=99758d1a4b602c95853f161003ecb5de0e425e98", "patch": "@@ -0,0 +1,40 @@\n+/* { dg-options \"-fno-tree-scev-cprop -floop-nest-optimize -fgraphite-identity -O -fdump-tree-graphite-all\" } */\n+\n+void bar (void);\n+\n+int toto()\n+{\n+  int i, j, k;\n+  int a[101][100];\n+  int b[100];\n+\n+  for (i = 1; i < 100; i++)\n+    {\n+      for (j = 1; j < 100; j++)\n+\tfor (k = 1; k < 100; k++)\n+\t  a[j][k] = a[j+1][i-1] + 2;\n+\n+      b[i] = b[i-1] + 2;\n+\n+      bar ();\n+\n+      for (j = 1; j < 100; j++)\n+\ta[j][i] = a[j+1][i-1] + 2;\n+\n+      b[i] = b[i-1] + 2;\n+\n+      bar ();\n+\n+      for (j = 1; j < 100; j++)\n+\ta[j][i] = a[j+1][i-1] + 2;\n+\n+      b[i] = a[i-1][i] + 2;\n+\n+      for (j = 1; j < 100; j++)\n+\ta[j][i] = a[j+1][i-1] + 2;\n+    }\n+\n+  return a[3][5] + b[1];\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"number of SCoPs: 2\" 1 \"graphite\"} } */"}]}