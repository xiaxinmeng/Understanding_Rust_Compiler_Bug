{"sha": "9f8d69ee246583778c5eb61b430eb465477742f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY4ZDY5ZWUyNDY1ODM3NzhjNWViNjFiNDMwZWI0NjU0Nzc3NDJmMw==", "commit": {"author": {"name": "Stuart Henderson", "email": "shenders@gcc.gnu.org", "date": "2011-05-04T10:42:59Z"}, "committer": {"name": "Stuart Henderson", "email": "shenders@gcc.gnu.org", "date": "2011-05-04T10:42:59Z"}, "message": "2011-05-04  Stuart Henderson  <shenders@gcc.gnu.org>\n\n        From Jie Zhang\n        * config/bfin/bfin.c (bfin_expand_prologue): Don't clobber P2.\n\nFrom-SVN: r173364", "tree": {"sha": "8cff581693c884639ccb8a836f798ec0eef5501d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8cff581693c884639ccb8a836f798ec0eef5501d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f8d69ee246583778c5eb61b430eb465477742f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f8d69ee246583778c5eb61b430eb465477742f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f8d69ee246583778c5eb61b430eb465477742f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f8d69ee246583778c5eb61b430eb465477742f3/comments", "author": null, "committer": null, "parents": [{"sha": "5b56b9d2e77047a14a4dde4754dec934292a08a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b56b9d2e77047a14a4dde4754dec934292a08a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b56b9d2e77047a14a4dde4754dec934292a08a8"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "3722fe5e6f8d5581f8a54fc287f3a830ecf1de86", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f8d69ee246583778c5eb61b430eb465477742f3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f8d69ee246583778c5eb61b430eb465477742f3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f8d69ee246583778c5eb61b430eb465477742f3", "patch": "@@ -1,3 +1,8 @@\n+2011-05-04  Stuart Henderson  <shenders@gcc.gnu.org>\n+\n+\tFrom Jie Zhang\n+\t* config/bfin/bfin.c (bfin_expand_prologue): Don't clobber P2.\n+\n 2011-05-04  Nick Clifton  <nickc@redhat.com>\n \n \t* config/mn10300/mn10300.c: Include cfgloop.h."}, {"sha": "596042d139e8eff807f37accd6cc380c20b8635d", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f8d69ee246583778c5eb61b430eb465477742f3/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f8d69ee246583778c5eb61b430eb465477742f3/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=9f8d69ee246583778c5eb61b430eb465477742f3", "patch": "@@ -1341,8 +1341,10 @@ bfin_expand_prologue (void)\n \t= bfin_initial_elimination_offset (ARG_POINTER_REGNUM,\n \t\t\t\t\t   STACK_POINTER_REGNUM);\n       rtx lim = crtl->limit_stack ? stack_limit_rtx : NULL_RTX;\n+      rtx tmp = gen_rtx_REG (Pmode, REG_R3);\n       rtx p2reg = gen_rtx_REG (Pmode, REG_P2);\n \n+      emit_move_insn (tmp, p2reg);\n       if (!lim)\n \t{\n \t  emit_move_insn (p2reg, gen_int_mode (0xFFB00000, SImode));\n@@ -1379,6 +1381,7 @@ bfin_expand_prologue (void)\n \t}\n       emit_insn (gen_compare_lt (bfin_cc_rtx, spreg, lim));\n       emit_insn (gen_trapifcc ());\n+      emit_move_insn (p2reg, tmp);\n     }\n   expand_prologue_reg_save (spreg, all, false);\n "}]}