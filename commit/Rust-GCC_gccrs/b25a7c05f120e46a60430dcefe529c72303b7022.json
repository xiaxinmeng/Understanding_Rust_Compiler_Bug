{"sha": "b25a7c05f120e46a60430dcefe529c72303b7022", "node_id": "C_kwDOANBUbNoAKGIyNWE3YzA1ZjEyMGU0NmE2MDQzMGRjZWZlNTI5YzcyMzAzYjcwMjI", "commit": {"author": {"name": "Thomas Rodgers", "email": "rodgert@appliantology.com", "date": "2022-02-10T18:12:36Z"}, "committer": {"name": "Thomas Rodgers", "email": "rodgert@appliantology.com", "date": "2022-02-10T18:14:36Z"}, "message": "libstdc++: Strengthen memory order for atomic<T>::wait/notify\n\nThis changes the memory order used in the spin wait code to match\nthat of libc++.\n\nlibstdc++-v3/ChangeLog:\n\t* include/bits/atomic_wait.h (__waiter_base::_S_do_spin,\n\t__waiter_base::_S_do_spin_v): Change memory order from relaxed\n\tto acquire.", "tree": {"sha": "8151ca6aaa878e3447dfc95227785949e6d45b86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8151ca6aaa878e3447dfc95227785949e6d45b86"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b25a7c05f120e46a60430dcefe529c72303b7022", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b25a7c05f120e46a60430dcefe529c72303b7022", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b25a7c05f120e46a60430dcefe529c72303b7022", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b25a7c05f120e46a60430dcefe529c72303b7022/comments", "author": null, "committer": null, "parents": [{"sha": "c22f3fb780775b91548e32937a3ce1095a7c72a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c22f3fb780775b91548e32937a3ce1095a7c72a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c22f3fb780775b91548e32937a3ce1095a7c72a3"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "125b1cad88682384737c048ac236af9c4deab957", "filename": "libstdc++-v3/include/bits/atomic_wait.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b25a7c05f120e46a60430dcefe529c72303b7022/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fatomic_wait.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b25a7c05f120e46a60430dcefe529c72303b7022/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fatomic_wait.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fatomic_wait.h?ref=b25a7c05f120e46a60430dcefe529c72303b7022", "patch": "@@ -332,7 +332,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \t      }\n \t    else\n \t      {\n-\t\t__atomic_load(__addr, &__val, __ATOMIC_RELAXED);\n+\t\t__atomic_load(__addr, &__val, __ATOMIC_ACQUIRE);\n \t      }\n \t    return __atomic_spin(__pred, __spin);\n \t  }\n@@ -353,7 +353,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \t\t     __platform_wait_t& __val,\n \t\t     _Spin __spin = _Spin{ })\n \t  {\n-\t    __atomic_load(__addr, &__val, __ATOMIC_RELAXED);\n+\t    __atomic_load(__addr, &__val, __ATOMIC_ACQUIRE);\n \t    return __atomic_spin(__pred, __spin);\n \t  }\n "}]}