{"sha": "a6918ffd390f28fbe74abc82aae3c0aa89def495", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTY5MThmZmQzOTBmMjhmYmU3NGFiYzgyYWFlM2MwYWE4OWRlZjQ5NQ==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2010-01-16T14:46:57Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2010-01-16T14:46:57Z"}, "message": "Fix PR 35942: remove -lstdc++ from libtool postdeps for CXX.\n\nlibstdc++-v3/:\n\tPR libstdc++/35942\n\t* configure.ac: Remove -lstdc++ from libtool's postdeps_CXX.\n\t* configure: Regenerate.\n\nFrom-SVN: r155965", "tree": {"sha": "03aac1fd229668a4ec04abf179056fbfbccfb328", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03aac1fd229668a4ec04abf179056fbfbccfb328"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6918ffd390f28fbe74abc82aae3c0aa89def495", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6918ffd390f28fbe74abc82aae3c0aa89def495", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6918ffd390f28fbe74abc82aae3c0aa89def495", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6918ffd390f28fbe74abc82aae3c0aa89def495/comments", "author": null, "committer": null, "parents": [{"sha": "8f7fd2da87a58c0dea0ee3916e7a88d606ba2d20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f7fd2da87a58c0dea0ee3916e7a88d606ba2d20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f7fd2da87a58c0dea0ee3916e7a88d606ba2d20"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "cd65c4fa4c85b25e0bac7e9b7ac02112631cd6c3", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6918ffd390f28fbe74abc82aae3c0aa89def495/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6918ffd390f28fbe74abc82aae3c0aa89def495/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a6918ffd390f28fbe74abc82aae3c0aa89def495", "patch": "@@ -1,3 +1,9 @@\n+2010-01-16  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR libstdc++/35942\n+\t* configure.ac: Remove -lstdc++ from libtool's postdeps_CXX.\n+\t* configure: Regenerate.\n+\n 2010-01-15  Phil Muldoon  <pmuldoon@redhat.com>\n \n \t* python/libstdcxx/v6/printers.py (StdStringPrinter.__init__):"}, {"sha": "1c6bec4c9fe3047f8fdb5627658fecf944155385", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6918ffd390f28fbe74abc82aae3c0aa89def495/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6918ffd390f28fbe74abc82aae3c0aa89def495/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=a6918ffd390f28fbe74abc82aae3c0aa89def495", "patch": "@@ -14815,6 +14815,9 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+# Eliminate -lstdc++ addition to postdeps for cross compiles.\n+postdeps_CXX=`echo \" $postdeps_CXX \" | sed 's, -lstdc++ ,,g'`\n+\n # Possibly disable most of the library.\n ## TODO: Consider skipping unncessary tests altogether in this case, rather\n ## than just ignoring the results.  Faster /and/ more correct, win win.\n@@ -14884,7 +14887,7 @@ fi\n     #\n     # Fake what AC_TRY_COMPILE does.  XXX Look at redoing this new-style.\n     cat > conftest.$ac_ext << EOF\n-#line 14887 \"configure\"\n+#line 14890 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -15252,7 +15255,7 @@ $as_echo \"$glibcxx_cv_atomic_long_long\" >&6; }\n   # Fake what AC_TRY_COMPILE does.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15255 \"configure\"\n+#line 15258 \"configure\"\n int main()\n {\n   typedef bool atomic_type;\n@@ -15289,7 +15292,7 @@ $as_echo \"$glibcxx_cv_atomic_bool\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15292 \"configure\"\n+#line 15295 \"configure\"\n int main()\n {\n   typedef short atomic_type;\n@@ -15326,7 +15329,7 @@ $as_echo \"$glibcxx_cv_atomic_short\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15329 \"configure\"\n+#line 15332 \"configure\"\n int main()\n {\n   // NB: _Atomic_word not necessarily int.\n@@ -15364,7 +15367,7 @@ $as_echo \"$glibcxx_cv_atomic_int\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15367 \"configure\"\n+#line 15370 \"configure\"\n int main()\n {\n   typedef long long atomic_type;\n@@ -15440,7 +15443,7 @@ $as_echo \"$as_me: WARNING: Performance of certain classes will degrade as a resu\n   # unnecessary for this test.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15443 \"configure\"\n+#line 15446 \"configure\"\n int main()\n {\n   _Decimal32 d1;"}, {"sha": "9fe9c33964c8d45da36d6691db16d2b51346c1fc", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6918ffd390f28fbe74abc82aae3c0aa89def495/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6918ffd390f28fbe74abc82aae3c0aa89def495/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=a6918ffd390f28fbe74abc82aae3c0aa89def495", "patch": "@@ -98,6 +98,9 @@ AM_PROG_LIBTOOL\n AC_SUBST(enable_shared)\n AC_SUBST(enable_static)\n \n+# Eliminate -lstdc++ addition to postdeps for cross compiles.\n+postdeps_CXX=`echo \" $postdeps_CXX \" | sed 's, -lstdc++ ,,g'`\n+\n # Possibly disable most of the library.\n ## TODO: Consider skipping unncessary tests altogether in this case, rather\n ## than just ignoring the results.  Faster /and/ more correct, win win."}]}