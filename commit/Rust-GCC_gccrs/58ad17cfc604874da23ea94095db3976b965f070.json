{"sha": "58ad17cfc604874da23ea94095db3976b965f070", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThhZDE3Y2ZjNjA0ODc0ZGEyM2VhOTQwOTVkYjM5NzZiOTY1ZjA3MA==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2008-11-27T03:08:55Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2008-11-27T03:08:55Z"}, "message": "mov.md (\"extendhipsi2\"): New.\n\n* config/m32c/mov.md (\"extendhipsi2\"): New.\n\n* config/m32c/bitops.md (bset_qi): Add memsym_operand predicate.\n\n* config/m32c/bitops.md (andhi3_24, iorhi3_24): Don't prefer HL class.\n* config/m32c/mov.md (zero_extendqihi2): Likewise.\n\nFrom-SVN: r142237", "tree": {"sha": "782663ca1b22aaf3571ede27e535b841d1f5a57b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/782663ca1b22aaf3571ede27e535b841d1f5a57b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58ad17cfc604874da23ea94095db3976b965f070", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58ad17cfc604874da23ea94095db3976b965f070", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58ad17cfc604874da23ea94095db3976b965f070", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58ad17cfc604874da23ea94095db3976b965f070/comments", "author": null, "committer": null, "parents": [{"sha": "b88375aeed62d36ee76efecbcb99b9e9b4e22c0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b88375aeed62d36ee76efecbcb99b9e9b4e22c0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b88375aeed62d36ee76efecbcb99b9e9b4e22c0f"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "eb437894e54c2fcc283a49fb893852993592da4b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58ad17cfc604874da23ea94095db3976b965f070/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58ad17cfc604874da23ea94095db3976b965f070/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=58ad17cfc604874da23ea94095db3976b965f070", "patch": "@@ -1,3 +1,12 @@\n+2008-11-26  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/m32c/mov.md (\"extendhipsi2\"): New.\n+\n+\t* config/m32c/bitops.md (bset_qi): Add memsym_operand predicate.\n+\n+\t* config/m32c/bitops.md (andhi3_24, iorhi3_24): Don't prefer HL class.\n+\t* config/m32c/mov.md (zero_extendqihi2): Likewise.\n+\n 2008-11-26  Adam Nemet  <anemet@caviumnetworks.com>\n \n \t* config/mips/mips.md (clear_hazard): Rename to"}, {"sha": "e123d057dcd2e05a20065854edeb2d169bb233da", "filename": "gcc/config/m32c/bitops.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58ad17cfc604874da23ea94095db3976b965f070/gcc%2Fconfig%2Fm32c%2Fbitops.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58ad17cfc604874da23ea94095db3976b965f070/gcc%2Fconfig%2Fm32c%2Fbitops.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fbitops.md?ref=58ad17cfc604874da23ea94095db3976b965f070", "patch": "@@ -43,7 +43,7 @@\n   [(set (match_operand:QI 0 \"memsym_operand\" \"+Si\")\n \t(ior:QI (subreg:QI (ashift:HI (const_int 1)\n \t\t\t\t      (subreg:QI (match_operand:HI 1 \"a_qi_operand\" \"Raa\") 0)) 0)\n-\t\t(match_operand:QI 2 \"\" \"0\")))]\n+\t\t(match_operand:QI 2 \"memsym_operand\" \"0\")))]\n   \"TARGET_A16\"\n   \"bset\\t%0[%1]\"\n   [(set_attr \"flags\" \"n\")]\n@@ -190,7 +190,7 @@\n   )\n \n (define_insn \"andhi3_24\"\n-  [(set (match_operand:HI 0 \"mra_operand\" \"=Sd,Sd,Rqi,Rqi,RhiSd,??Rmm,RhiSd,??Rmm\")\n+  [(set (match_operand:HI 0 \"mra_operand\" \"=Sd,Sd,?Rhl,?Rhl,RhiSd,??Rmm,RhiSd,??Rmm\")\n \t(and:HI (match_operand:HI 1 \"mra_operand\" \"%0,0,0,0,0,0,0,0\")\n \t\t(match_operand:HI 2 \"mrai_operand\" \"ImB,Imw,ImB,Imw,iRhiSd,?Rmm,?Rmm,iRhiSd\")))]\n   \"TARGET_A24\"\n@@ -223,7 +223,7 @@\n   )\n \n (define_insn \"iorhi3_24\"\n-  [(set (match_operand:HI 0 \"mra_operand\" \"=Sd,Sd,Rqi,Rqi,RhiSd,RhiSd,??Rmm,??Rmm\")\n+  [(set (match_operand:HI 0 \"mra_operand\" \"=Sd,Sd,?Rhl,?Rhl,RhiSd,RhiSd,??Rmm,??Rmm\")\n \t(ior:HI (match_operand:HI 1 \"mra_operand\" \"%0,0,0,0,0,0,0,0\")\n \t\t(match_operand:HI 2 \"mrai_operand\" \"Ilb,Ilw,Ilb,Ilw,iRhiSd,?Rmm,iRhiSd,?Rmm\")))]\n   \"TARGET_A24\""}, {"sha": "1482a2f87df835c3c59c9e060590c5e0212a4bad", "filename": "gcc/config/m32c/mov.md", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58ad17cfc604874da23ea94095db3976b965f070/gcc%2Fconfig%2Fm32c%2Fmov.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58ad17cfc604874da23ea94095db3976b965f070/gcc%2Fconfig%2Fm32c%2Fmov.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fmov.md?ref=58ad17cfc604874da23ea94095db3976b965f070", "patch": "@@ -338,6 +338,16 @@\n   [(set_attr \"flags\" \"x\")]\n   )\n \n+(define_insn \"extendhipsi2\"\n+  [(set (match_operand:PSI 0 \"register_operand\" \"=R03\")\n+\t(sign_extend:PSI (match_operand:HI 1 \"register_operand\" \"0\")))]\n+  \"\"\n+  \"*\n+   if (REGNO(operands[0]) == 0) return \\\"exts.w\\t%1\\\";\n+   else return \\\"mov.w r1,r3 | sha.w #-8,r3 | sha.w #-7,r3\\\";\"\n+  [(set_attr \"flags\" \"x\")]\n+  )\n+\n (define_insn \"extendpsisi2\"\n   [(set (match_operand:SI 0 \"mr_operand\" \"=R03Sd*Rmm\")\n \t(sign_extend:SI (match_operand:PSI 1 \"mr_operand\" \"0\")))]\n@@ -371,7 +381,7 @@\n   )\n \n (define_insn \"zero_extendqihi2\"\n-  [(set (match_operand:HI 0 \"m32c_nonimmediate_operand\" \"=Rhl,RhiSd*Rmm\")\n+  [(set (match_operand:HI 0 \"m32c_nonimmediate_operand\" \"=?Rhl,RhiSd*Rmm\")\n \t(zero_extend:HI (match_operand:QI 1 \"nonimmediate_operand\" \"0,0\")))]\n   \"\"\n   \"@"}]}