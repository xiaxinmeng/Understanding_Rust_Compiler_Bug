{"sha": "efbde2a29f3f9398192ad6a3a9978b4497259296", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZiZGUyYTI5ZjNmOTM5ODE5MmFkNmEzYTk5NzhiNDQ5NzI1OTI5Ng==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-09-29T23:52:57Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-09-29T23:52:57Z"}, "message": "(i960_setup_incoming_varargs): Store parameter registers\nat proper offset in argument block.\n\nFrom-SVN: r8168", "tree": {"sha": "79d5bb7cea54d0e7b256f001588f83ded339304b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/79d5bb7cea54d0e7b256f001588f83ded339304b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efbde2a29f3f9398192ad6a3a9978b4497259296", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efbde2a29f3f9398192ad6a3a9978b4497259296", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efbde2a29f3f9398192ad6a3a9978b4497259296", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efbde2a29f3f9398192ad6a3a9978b4497259296/comments", "author": null, "committer": null, "parents": [{"sha": "7a9a00be049860530e590125f1a8b0f999a40fa4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a9a00be049860530e590125f1a8b0f999a40fa4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a9a00be049860530e590125f1a8b0f999a40fa4"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "fb24855017d1a0af7e57662bfff1cb3f8923c886", "filename": "gcc/config/i960/i960.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbde2a29f3f9398192ad6a3a9978b4497259296/gcc%2Fconfig%2Fi960%2Fi960.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbde2a29f3f9398192ad6a3a9978b4497259296/gcc%2Fconfig%2Fi960%2Fi960.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.c?ref=efbde2a29f3f9398192ad6a3a9978b4497259296", "patch": "@@ -2190,6 +2190,8 @@ i960_setup_incoming_varargs (cum, mode, type, pretend_size, no_rtl)\n       if (! (no_rtl) && first_reg_offset != NPARM_REGS)\n \t{\n \t  rtx label = gen_label_rtx ();\n+\t  rtx regblock;\n+\n \t  emit_insn (gen_cmpsi (arg_pointer_rtx, const0_rtx));\n \t  emit_jump_insn (gen_bne (label));\n \t  emit_insn (gen_rtx (SET, VOIDmode, arg_pointer_rtx,\n@@ -2199,11 +2201,14 @@ i960_setup_incoming_varargs (cum, mode, type, pretend_size, no_rtl)\n \t\t\t\t\t      plus_constant (stack_pointer_rtx,\n \t\t\t\t\t\t\t     48))));\n \t  emit_label (label);\n-\t  move_block_from_reg\n-\t    (first_reg_offset,\n-\t     gen_rtx (MEM, BLKmode, virtual_incoming_args_rtx),\n-\t     NPARM_REGS - first_reg_offset,\n-\t     (NPARM_REGS - first_reg_offset) * UNITS_PER_WORD);\n+\n+\t  regblock = gen_rtx (MEM, BLKmode,\n+\t\t\t      plus_constant (arg_pointer_rtx,\n+\t\t\t\t\t     first_reg_offset * 4));\n+\t  move_block_from_reg (first_reg_offset, regblock,\n+\t\t\t       NPARM_REGS - first_reg_offset,\n+\t\t\t       ((NPARM_REGS - first_reg_offset)\n+\t\t\t\t* UNITS_PER_WORD));\n \t}\n       *pretend_size = (NPARM_REGS - first_reg_offset) * UNITS_PER_WORD;\n     }"}]}