{"sha": "500a1f851341345c9dda92ea893bf0a98d519c39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTAwYTFmODUxMzQxMzQ1YzlkZGE5MmVhODkzYmYwYTk4ZDUxOWMzOQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2009-03-02T19:32:05Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2009-03-02T19:32:05Z"}, "message": "spu.c (TARGET_SECTION_TYPE_FLAGS): Define.\n\n\t* config/spu/spu.c (TARGET_SECTION_TYPE_FLAGS): Define.\n\t(spu_section_type_flags): New function.\n\nFrom-SVN: r144550", "tree": {"sha": "9e16f87ac245cdf0c7cd0fdfafa390c4e4ee8358", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e16f87ac245cdf0c7cd0fdfafa390c4e4ee8358"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/500a1f851341345c9dda92ea893bf0a98d519c39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/500a1f851341345c9dda92ea893bf0a98d519c39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/500a1f851341345c9dda92ea893bf0a98d519c39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/500a1f851341345c9dda92ea893bf0a98d519c39/comments", "author": null, "committer": null, "parents": [{"sha": "33b4155d1b81433517ceaba879a68bb68a0ba661", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33b4155d1b81433517ceaba879a68bb68a0ba661", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33b4155d1b81433517ceaba879a68bb68a0ba661"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "525076600e05b7d8942029d65ef926cb6bd12e6a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/500a1f851341345c9dda92ea893bf0a98d519c39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/500a1f851341345c9dda92ea893bf0a98d519c39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=500a1f851341345c9dda92ea893bf0a98d519c39", "patch": "@@ -1,3 +1,8 @@\n+2009-03-02  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* config/spu/spu.c (TARGET_SECTION_TYPE_FLAGS): Define.\n+\t(spu_section_type_flags): New function.\n+\n 2009-03-02  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.h (CONDITIONAL_REGISTER_USAGE): Do not copy"}, {"sha": "c2fbb331b0a147ce3234fb52b366f3e20c70cc9e", "filename": "gcc/config/spu/spu.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/500a1f851341345c9dda92ea893bf0a98d519c39/gcc%2Fconfig%2Fspu%2Fspu.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/500a1f851341345c9dda92ea893bf0a98d519c39/gcc%2Fconfig%2Fspu%2Fspu.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.c?ref=500a1f851341345c9dda92ea893bf0a98d519c39", "patch": "@@ -143,6 +143,7 @@ static bool spu_vector_alignment_reachable (const_tree, bool);\n static tree spu_builtin_vec_perm (tree, tree *);\n static int spu_sms_res_mii (struct ddg *g);\n static void asm_file_start (void);\n+static unsigned int spu_section_type_flags (tree, const char *, int);\n \n extern const char *reg_names[];\n rtx spu_compare_op0, spu_compare_op1;\n@@ -329,6 +330,9 @@ const struct attribute_spec spu_attribute_table[];\n #undef TARGET_ASM_FILE_START\n #define TARGET_ASM_FILE_START asm_file_start\n \n+#undef TARGET_SECTION_TYPE_FLAGS\n+#define TARGET_SECTION_TYPE_FLAGS spu_section_type_flags\n+\n struct gcc_target targetm = TARGET_INITIALIZER;\n \n void\n@@ -6285,3 +6289,13 @@ asm_file_start (void)\n   default_file_start ();\n }\n \n+/* Implement targetm.section_type_flags.  */\n+static unsigned int\n+spu_section_type_flags (tree decl, const char *name, int reloc)\n+{\n+  /* .toe needs to have type @nobits.  */\n+  if (strcmp (name, \".toe\") == 0)\n+    return SECTION_BSS;\n+  return default_section_type_flags (decl, name, reloc);\n+}\n+"}]}