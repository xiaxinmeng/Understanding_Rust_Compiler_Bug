{"sha": "872a65b54c56b3d98a318a37823db3853722bac3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcyYTY1YjU0YzU2YjNkOThhMzE4YTM3ODIzZGIzODUzNzIyYmFjMw==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@au.ibm.com", "date": "2004-10-20T22:57:05Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2004-10-20T22:57:05Z"}, "message": "* config/rs6000/rs6000.c\n\t(rs6000_va_start): Use build_va_arg_indirect_ref.\n\t(rs6000_gimplify_va_arg): Likewise.\n\nFrom-SVN: r89349", "tree": {"sha": "55cd9aac0ec388069924a069a83cb4e8cfd43684", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55cd9aac0ec388069924a069a83cb4e8cfd43684"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/872a65b54c56b3d98a318a37823db3853722bac3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/872a65b54c56b3d98a318a37823db3853722bac3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/872a65b54c56b3d98a318a37823db3853722bac3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/872a65b54c56b3d98a318a37823db3853722bac3/comments", "author": null, "committer": null, "parents": [{"sha": "b3a450236a41f0b207e0e1bd93f15ecf15b3c5eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3a450236a41f0b207e0e1bd93f15ecf15b3c5eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3a450236a41f0b207e0e1bd93f15ecf15b3c5eb"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "4c6280b80a589b61b59455ef650974d5386f876c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872a65b54c56b3d98a318a37823db3853722bac3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872a65b54c56b3d98a318a37823db3853722bac3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=872a65b54c56b3d98a318a37823db3853722bac3", "patch": "@@ -1,3 +1,9 @@\n+2004-10-20  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* config/rs6000/rs6000.c\n+\t(rs6000_va_start): Use build_va_arg_indirect_ref.\n+\t(rs6000_gimplify_va_arg): Likewise.\n+\n 2004-10-20  Bryce McKinlay  <mckinlay@redhat.com>\n \n \tPR java/15575"}, {"sha": "7d2d1d9b7947051b1ab7567fa880c123c1d71544", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872a65b54c56b3d98a318a37823db3853722bac3/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872a65b54c56b3d98a318a37823db3853722bac3/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=872a65b54c56b3d98a318a37823db3853722bac3", "patch": "@@ -5519,7 +5519,7 @@ rs6000_va_start (tree valist, rtx nextarg)\n   f_ovf = TREE_CHAIN (f_res);\n   f_sav = TREE_CHAIN (f_ovf);\n \n-  valist = build1 (INDIRECT_REF, TREE_TYPE (TREE_TYPE (valist)), valist);\n+  valist = build_va_arg_indirect_ref (valist);\n   gpr = build (COMPONENT_REF, TREE_TYPE (f_gpr), valist, f_gpr, NULL_TREE);\n   fpr = build (COMPONENT_REF, TREE_TYPE (f_fpr), valist, f_fpr, NULL_TREE);\n   ovf = build (COMPONENT_REF, TREE_TYPE (f_ovf), valist, f_ovf, NULL_TREE);\n@@ -5578,7 +5578,7 @@ rs6000_gimplify_va_arg (tree valist, tree type, tree *pre_p, tree *post_p)\n   if (pass_by_reference (NULL, TYPE_MODE (type), type, false))\n     {\n       t = rs6000_gimplify_va_arg (valist, ptrtype, pre_p, post_p);\n-      return build_fold_indirect_ref (t);\n+      return build_va_arg_indirect_ref (t);\n     }\n \n   if (DEFAULT_ABI != ABI_V4)\n@@ -5617,7 +5617,7 @@ rs6000_gimplify_va_arg (tree valist, tree type, tree *pre_p, tree *post_p)\n   f_ovf = TREE_CHAIN (f_res);\n   f_sav = TREE_CHAIN (f_ovf);\n \n-  valist = build1 (INDIRECT_REF, TREE_TYPE (TREE_TYPE (valist)), valist);\n+  valist = build_va_arg_indirect_ref (valist);\n   gpr = build (COMPONENT_REF, TREE_TYPE (f_gpr), valist, f_gpr, NULL_TREE);\n   fpr = build (COMPONENT_REF, TREE_TYPE (f_fpr), valist, f_fpr, NULL_TREE);\n   ovf = build (COMPONENT_REF, TREE_TYPE (f_ovf), valist, f_ovf, NULL_TREE);\n@@ -5733,7 +5733,7 @@ rs6000_gimplify_va_arg (tree valist, tree type, tree *pre_p, tree *post_p)\n     }\n \n   addr = fold_convert (ptrtype, addr);\n-  return build_fold_indirect_ref (addr);\n+  return build_va_arg_indirect_ref (addr);\n }\n \n /* Builtins.  */"}]}