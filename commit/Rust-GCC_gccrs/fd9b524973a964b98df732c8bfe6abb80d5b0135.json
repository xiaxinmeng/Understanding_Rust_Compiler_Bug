{"sha": "fd9b524973a964b98df732c8bfe6abb80d5b0135", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQ5YjUyNDk3M2E5NjRiOThkZjczMmM4YmZlNmFiYjgwZDViMDEzNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-11-20T20:35:17Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-11-20T20:35:17Z"}, "message": "Makefile.am: Revert 2005-11-14 change.\n\n        * Makefile.am: Revert 2005-11-14 change.  Enable -free-vectorize\n        via gmake per-target variables.\n        * Makefile.in, aclocal.m4: Regenerate.\n\nFrom-SVN: r107261", "tree": {"sha": "6bf9d47b30fa9b2a2af3fcde7e9899a2b5dcf11c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6bf9d47b30fa9b2a2af3fcde7e9899a2b5dcf11c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd9b524973a964b98df732c8bfe6abb80d5b0135", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd9b524973a964b98df732c8bfe6abb80d5b0135", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd9b524973a964b98df732c8bfe6abb80d5b0135", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd9b524973a964b98df732c8bfe6abb80d5b0135/comments", "author": null, "committer": null, "parents": [{"sha": "8b44057d9b7417293c2e9fc81bb0f355cabe83b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b44057d9b7417293c2e9fc81bb0f355cabe83b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b44057d9b7417293c2e9fc81bb0f355cabe83b6"}], "stats": {"total": 216, "additions": 114, "deletions": 102}, "files": [{"sha": "a5e8af310894d2267157163b9c278817faab4be4", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=fd9b524973a964b98df732c8bfe6abb80d5b0135", "patch": "@@ -1,3 +1,9 @@\n+2005-11-20  Richard Henderson  <rth@redhat.com>\n+\n+        * Makefile.am: Revert 2005-11-14 change.  Enable -free-vectorize\n+        via gmake per-target variables.\n+\t* Makefile.in, aclocal.m4: Regenerate.\n+\n 2005-11-18  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \t* configure.ac: Add \"-I .\" to the AM_FCFLAGS."}, {"sha": "221f78756dce9e52037f66dc6c3a323ce37ff668", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=fd9b524973a964b98df732c8bfe6abb80d5b0135", "patch": "@@ -433,7 +433,7 @@ m4_files= m4/iparm.m4 m4/ifunction.m4 m4/iforeach.m4 m4/all.m4 \\\n gfor_built_src= $(i_all_c) $(i_any_c) $(i_count_c) $(i_maxloc0_c) \\\n     $(i_maxloc1_c) $(i_maxval_c) $(i_minloc0_c) $(i_minloc1_c) $(i_minval_c) \\\n     $(i_product_c) $(i_sum_c) $(i_dotprod_c) $(i_dotprodl_c) $(i_dotprodc_c) \\\n-    $(i_matmull_c) $(i_transpose_c) $(i_shape_c) $(i_eoshift1_c) \\\n+    $(i_matmul_c) $(i_matmull_c) $(i_transpose_c) $(i_shape_c) $(i_eoshift1_c) \\\n     $(i_eoshift3_c) $(i_cshift1_c) $(i_reshape_c) $(in_pack_c) $(in_unpack_c) \\\n     $(i_exponent_c) $(i_fraction_c) $(i_nearest_c) $(i_set_exponent_c) \\\n     $(i_pow_c) \\\n@@ -573,17 +573,14 @@ $(gfor_built_specific2_src) \\\n intrinsics/dprod_r8.f90 \\\n intrinsics/f2c_specifics.F90\n \n-EXTRA_LTLIBRARIES = libmatmul.la\n-libmatmul_la_SOURCES = $(i_matmul_c)\n-libmatmul_la_CFLAGS = -ftree-vectorize $(AM_CFLAGS)\n+# Turn on vectorization for matmul.\n+$(patsubst %.c,%.lo,$(notdir $(i_matmul_c))): AM_CFLAGS += -ftree-vectorize\n \n BUILT_SOURCES=$(gfor_built_src) $(gfor_built_specific_src) \\\n-    $(gfor_built_specific2_src) $(libmatmul_la_SOURCES)\n+    $(gfor_built_specific2_src)\n libgfortran_la_SOURCES = $(gfor_src) $(gfor_built_src) $(gfor_io_src) \\\n     $(gfor_helper_src) $(gfor_io_headers) $(gfor_specific_src)\n \n-libgfortran_la_LIBADD =  libmatmul.la\n-\n I_M4_DEPS=m4/iparm.m4\n I_M4_DEPS0=$(I_M4_DEPS) m4/iforeach.m4\n I_M4_DEPS1=$(I_M4_DEPS) m4/ifunction.m4"}, {"sha": "1d995fdca833a5f7baa387d6fb5445de187fd39f", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 81, "deletions": 91, "changes": 172, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=fd9b524973a964b98df732c8bfe6abb80d5b0135", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated by automake 1.9.6 from Makefile.am.\n+# Makefile.in generated by automake 1.9.5 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n@@ -14,6 +14,8 @@\n \n @SET_MAKE@\n \n+SOURCES = $(libgfortran_la_SOURCES) $(libgfortranbegin_la_SOURCES)\n+\n srcdir = @srcdir@\n top_srcdir = @top_srcdir@\n VPATH = @srcdir@\n@@ -37,18 +39,16 @@ POST_UNINSTALL = :\n build_triplet = @build@\n host_triplet = @host@\n target_triplet = @target@\n-DIST_COMMON = $(am__configure_deps) $(srcdir)/../compile \\\n-\t$(srcdir)/../config.guess $(srcdir)/../config.sub \\\n-\t$(srcdir)/../install-sh $(srcdir)/../ltmain.sh \\\n-\t$(srcdir)/../missing $(srcdir)/../mkinstalldirs \\\n-\t$(srcdir)/Makefile.am $(srcdir)/Makefile.in \\\n-\t$(srcdir)/config.h.in $(top_srcdir)/configure ChangeLog\n+DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n+\t$(srcdir)/../config.sub $(srcdir)/../install-sh \\\n+\t$(srcdir)/../ltmain.sh $(srcdir)/../missing \\\n+\t$(srcdir)/../mkinstalldirs $(srcdir)/Makefile.am \\\n+\t$(srcdir)/Makefile.in $(srcdir)/config.h.in \\\n+\t$(top_srcdir)/configure ChangeLog\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/lead-dot.m4 \\\n-\t$(top_srcdir)/../config/no-executables.m4 \\\n-\t$(top_srcdir)/acinclude.m4 $(top_srcdir)/../libtool.m4 \\\n-\t$(top_srcdir)/configure.ac\n+am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \\\n+\t$(top_srcdir)/../libtool.m4 $(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n@@ -65,7 +65,7 @@ am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;\n am__installdirs = \"$(DESTDIR)$(toolexeclibdir)\"\n toolexeclibLTLIBRARIES_INSTALL = $(INSTALL)\n LTLIBRARIES = $(toolexeclib_LTLIBRARIES)\n-libgfortran_la_DEPENDENCIES = libmatmul.la\n+libgfortran_la_LIBADD =\n am__objects_1 = compile_options.lo environ.lo error.lo fpu.lo main.lo \\\n \tmemory.lo pause.lo stop.lo string.lo select.lo\n am__objects_2 = all_l4.lo all_l8.lo all_l16.lo\n@@ -116,30 +116,33 @@ am__objects_13 = dotprod_i4.lo dotprod_i8.lo dotprod_i16.lo \\\n am__objects_14 = dotprod_l4.lo dotprod_l8.lo dotprod_l16.lo\n am__objects_15 = dotprod_c4.lo dotprod_c8.lo dotprod_c10.lo \\\n \tdotprod_c16.lo\n-am__objects_16 = matmul_l4.lo matmul_l8.lo matmul_l16.lo\n-am__objects_17 = transpose_i4.lo transpose_i8.lo transpose_i16.lo \\\n+am__objects_16 = matmul_i4.lo matmul_i8.lo matmul_i16.lo matmul_r4.lo \\\n+\tmatmul_r8.lo matmul_r10.lo matmul_r16.lo matmul_c4.lo \\\n+\tmatmul_c8.lo matmul_c10.lo matmul_c16.lo\n+am__objects_17 = matmul_l4.lo matmul_l8.lo matmul_l16.lo\n+am__objects_18 = transpose_i4.lo transpose_i8.lo transpose_i16.lo \\\n \ttranspose_c4.lo transpose_c8.lo transpose_c10.lo \\\n \ttranspose_c16.lo\n-am__objects_18 = shape_i4.lo shape_i8.lo shape_i16.lo\n-am__objects_19 = eoshift1_4.lo eoshift1_8.lo eoshift1_16.lo\n-am__objects_20 = eoshift3_4.lo eoshift3_8.lo eoshift3_16.lo\n-am__objects_21 = cshift1_4.lo cshift1_8.lo cshift1_16.lo\n-am__objects_22 = reshape_i4.lo reshape_i8.lo reshape_i16.lo \\\n+am__objects_19 = shape_i4.lo shape_i8.lo shape_i16.lo\n+am__objects_20 = eoshift1_4.lo eoshift1_8.lo eoshift1_16.lo\n+am__objects_21 = eoshift3_4.lo eoshift3_8.lo eoshift3_16.lo\n+am__objects_22 = cshift1_4.lo cshift1_8.lo cshift1_16.lo\n+am__objects_23 = reshape_i4.lo reshape_i8.lo reshape_i16.lo \\\n \treshape_c4.lo reshape_c8.lo reshape_c10.lo reshape_c16.lo\n-am__objects_23 = in_pack_i4.lo in_pack_i8.lo in_pack_i16.lo \\\n+am__objects_24 = in_pack_i4.lo in_pack_i8.lo in_pack_i16.lo \\\n \tin_pack_c4.lo in_pack_c8.lo in_pack_c10.lo in_pack_c16.lo\n-am__objects_24 = in_unpack_i4.lo in_unpack_i8.lo in_unpack_i16.lo \\\n+am__objects_25 = in_unpack_i4.lo in_unpack_i8.lo in_unpack_i16.lo \\\n \tin_unpack_c4.lo in_unpack_c8.lo in_unpack_c10.lo \\\n \tin_unpack_c16.lo\n-am__objects_25 = exponent_r4.lo exponent_r8.lo exponent_r10.lo \\\n+am__objects_26 = exponent_r4.lo exponent_r8.lo exponent_r10.lo \\\n \texponent_r16.lo\n-am__objects_26 = fraction_r4.lo fraction_r8.lo fraction_r10.lo \\\n+am__objects_27 = fraction_r4.lo fraction_r8.lo fraction_r10.lo \\\n \tfraction_r16.lo\n-am__objects_27 = nearest_r4.lo nearest_r8.lo nearest_r10.lo \\\n+am__objects_28 = nearest_r4.lo nearest_r8.lo nearest_r10.lo \\\n \tnearest_r16.lo\n-am__objects_28 = set_exponent_r4.lo set_exponent_r8.lo \\\n+am__objects_29 = set_exponent_r4.lo set_exponent_r8.lo \\\n \tset_exponent_r10.lo set_exponent_r16.lo\n-am__objects_29 = pow_i4_i4.lo pow_i8_i4.lo pow_i16_i4.lo pow_r4_i4.lo \\\n+am__objects_30 = pow_i4_i4.lo pow_i8_i4.lo pow_i16_i4.lo pow_r4_i4.lo \\\n \tpow_r8_i4.lo pow_r10_i4.lo pow_r16_i4.lo pow_c4_i4.lo \\\n \tpow_c8_i4.lo pow_c10_i4.lo pow_c16_i4.lo pow_i4_i8.lo \\\n \tpow_i8_i8.lo pow_i16_i8.lo pow_r4_i8.lo pow_r8_i8.lo \\\n@@ -148,7 +151,7 @@ am__objects_29 = pow_i4_i4.lo pow_i8_i4.lo pow_i16_i4.lo pow_r4_i4.lo \\\n \tpow_i16_i16.lo pow_r4_i16.lo pow_r8_i16.lo pow_r10_i16.lo \\\n \tpow_r16_i16.lo pow_c4_i16.lo pow_c8_i16.lo pow_c10_i16.lo \\\n \tpow_c16_i16.lo\n-am__objects_30 = $(am__objects_2) $(am__objects_3) $(am__objects_4) \\\n+am__objects_31 = $(am__objects_2) $(am__objects_3) $(am__objects_4) \\\n \t$(am__objects_5) $(am__objects_6) $(am__objects_7) \\\n \t$(am__objects_8) $(am__objects_9) $(am__objects_10) \\\n \t$(am__objects_11) $(am__objects_12) $(am__objects_13) \\\n@@ -157,11 +160,11 @@ am__objects_30 = $(am__objects_2) $(am__objects_3) $(am__objects_4) \\\n \t$(am__objects_20) $(am__objects_21) $(am__objects_22) \\\n \t$(am__objects_23) $(am__objects_24) $(am__objects_25) \\\n \t$(am__objects_26) $(am__objects_27) $(am__objects_28) \\\n-\t$(am__objects_29)\n-am__objects_31 = close.lo file_pos.lo format.lo inquire.lo \\\n+\t$(am__objects_29) $(am__objects_30)\n+am__objects_32 = close.lo file_pos.lo format.lo inquire.lo \\\n \tlist_read.lo lock.lo open.lo read.lo size_from_kind.lo \\\n \ttransfer.lo unit.lo unix.lo write.lo\n-am__objects_32 = associated.lo abort.lo args.lo bessel.lo \\\n+am__objects_33 = associated.lo abort.lo args.lo bessel.lo \\\n \tc99_functions.lo chdir.lo cpu_time.lo cshift0.lo ctime.lo \\\n \tdate_and_time.lo env.lo erf.lo eoshift0.lo eoshift2.lo \\\n \tetime.lo exit.lo fget.lo flush.lo fnum.lo ftell.lo gerror.lo \\\n@@ -174,8 +177,8 @@ am__objects_32 = associated.lo abort.lo args.lo bessel.lo \\\n \tsystem_clock.lo time.lo transpose_generic.lo tty.lo umask.lo \\\n \tunlink.lo unpack_generic.lo in_pack_generic.lo \\\n \tin_unpack_generic.lo normalize.lo\n-am__objects_33 =\n-am__objects_34 = _abs_c4.lo _abs_c8.lo _abs_c10.lo _abs_c16.lo \\\n+am__objects_34 =\n+am__objects_35 = _abs_c4.lo _abs_c8.lo _abs_c10.lo _abs_c16.lo \\\n \t_abs_i4.lo _abs_i8.lo _abs_i16.lo _abs_r4.lo _abs_r8.lo \\\n \t_abs_r10.lo _abs_r16.lo _exp_r4.lo _exp_r8.lo _exp_r10.lo \\\n \t_exp_r16.lo _exp_c4.lo _exp_c8.lo _exp_c10.lo _exp_c16.lo \\\n@@ -195,29 +198,20 @@ am__objects_34 = _abs_c4.lo _abs_c8.lo _abs_c10.lo _abs_c16.lo \\\n \t_conjg_c4.lo _conjg_c8.lo _conjg_c10.lo _conjg_c16.lo \\\n \t_aint_r4.lo _aint_r8.lo _aint_r10.lo _aint_r16.lo _anint_r4.lo \\\n \t_anint_r8.lo _anint_r10.lo _anint_r16.lo\n-am__objects_35 = _sign_i4.lo _sign_i8.lo _sign_i16.lo _sign_r4.lo \\\n+am__objects_36 = _sign_i4.lo _sign_i8.lo _sign_i16.lo _sign_r4.lo \\\n \t_sign_r8.lo _sign_r10.lo _sign_r16.lo _dim_i4.lo _dim_i8.lo \\\n \t_dim_i16.lo _dim_r4.lo _dim_r8.lo _dim_r10.lo _dim_r16.lo \\\n \t_atan2_r4.lo _atan2_r8.lo _atan2_r10.lo _atan2_r16.lo \\\n \t_mod_i4.lo _mod_i8.lo _mod_i16.lo _mod_r4.lo _mod_r8.lo\n-am__objects_36 = $(am__objects_34) $(am__objects_35) dprod_r8.lo \\\n+am__objects_37 = $(am__objects_35) $(am__objects_36) dprod_r8.lo \\\n \tf2c_specifics.lo\n-am_libgfortran_la_OBJECTS = $(am__objects_1) $(am__objects_30) \\\n-\t$(am__objects_31) $(am__objects_32) $(am__objects_33) \\\n-\t$(am__objects_36)\n+am_libgfortran_la_OBJECTS = $(am__objects_1) $(am__objects_31) \\\n+\t$(am__objects_32) $(am__objects_33) $(am__objects_34) \\\n+\t$(am__objects_37)\n libgfortran_la_OBJECTS = $(am_libgfortran_la_OBJECTS)\n libgfortranbegin_la_LIBADD =\n am_libgfortranbegin_la_OBJECTS = fmain.lo\n libgfortranbegin_la_OBJECTS = $(am_libgfortranbegin_la_OBJECTS)\n-libmatmul_la_LIBADD =\n-am__objects_37 = libmatmul_la-matmul_i4.lo libmatmul_la-matmul_i8.lo \\\n-\tlibmatmul_la-matmul_i16.lo libmatmul_la-matmul_r4.lo \\\n-\tlibmatmul_la-matmul_r8.lo libmatmul_la-matmul_r10.lo \\\n-\tlibmatmul_la-matmul_r16.lo libmatmul_la-matmul_c4.lo \\\n-\tlibmatmul_la-matmul_c8.lo libmatmul_la-matmul_c10.lo \\\n-\tlibmatmul_la-matmul_c16.lo\n-am_libmatmul_la_OBJECTS = $(am__objects_37)\n-libmatmul_la_OBJECTS = $(am_libmatmul_la_OBJECTS)\n DEFAULT_INCLUDES = -I. -I$(srcdir) -I.\n depcomp =\n am__depfiles_maybe =\n@@ -239,10 +233,9 @@ LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n \t$(AM_LDFLAGS) $(LDFLAGS) -o $@\n FCCOMPILE = $(FC) $(AM_FCFLAGS) $(FCFLAGS)\n LTFCCOMPILE = $(LIBTOOL) --mode=compile $(FC) $(AM_FCFLAGS) $(FCFLAGS)\n-SOURCES = $(libgfortran_la_SOURCES) $(libgfortranbegin_la_SOURCES) \\\n-\t$(libmatmul_la_SOURCES)\n+SOURCES = $(libgfortran_la_SOURCES) $(libgfortranbegin_la_SOURCES)\n DIST_SOURCES = $(libgfortran_la_SOURCES) \\\n-\t$(libgfortranbegin_la_SOURCES) $(libmatmul_la_SOURCES)\n+\t$(libgfortranbegin_la_SOURCES)\n MULTISRCTOP = \n MULTIBUILDTOP = \n MULTIDIRS = \n@@ -781,7 +774,7 @@ m4_files = m4/iparm.m4 m4/ifunction.m4 m4/iforeach.m4 m4/all.m4 \\\n gfor_built_src = $(i_all_c) $(i_any_c) $(i_count_c) $(i_maxloc0_c) \\\n     $(i_maxloc1_c) $(i_maxval_c) $(i_minloc0_c) $(i_minloc1_c) $(i_minval_c) \\\n     $(i_product_c) $(i_sum_c) $(i_dotprod_c) $(i_dotprodl_c) $(i_dotprodc_c) \\\n-    $(i_matmull_c) $(i_transpose_c) $(i_shape_c) $(i_eoshift1_c) \\\n+    $(i_matmul_c) $(i_matmull_c) $(i_transpose_c) $(i_shape_c) $(i_eoshift1_c) \\\n     $(i_eoshift3_c) $(i_cshift1_c) $(i_reshape_c) $(in_pack_c) $(in_unpack_c) \\\n     $(i_exponent_c) $(i_fraction_c) $(i_nearest_c) $(i_set_exponent_c) \\\n     $(i_pow_c) \\\n@@ -922,16 +915,12 @@ $(gfor_built_specific2_src) \\\n intrinsics/dprod_r8.f90 \\\n intrinsics/f2c_specifics.F90\n \n-EXTRA_LTLIBRARIES = libmatmul.la\n-libmatmul_la_SOURCES = $(i_matmul_c)\n-libmatmul_la_CFLAGS = -ftree-vectorize $(AM_CFLAGS)\n BUILT_SOURCES = $(gfor_built_src) $(gfor_built_specific_src) \\\n-    $(gfor_built_specific2_src) $(libmatmul_la_SOURCES)\n+    $(gfor_built_specific2_src)\n \n libgfortran_la_SOURCES = $(gfor_src) $(gfor_built_src) $(gfor_io_src) \\\n     $(gfor_helper_src) $(gfor_io_headers) $(gfor_specific_src)\n \n-libgfortran_la_LIBADD = libmatmul.la\n I_M4_DEPS = m4/iparm.m4\n I_M4_DEPS0 = $(I_M4_DEPS) m4/iforeach.m4\n I_M4_DEPS1 = $(I_M4_DEPS) m4/ifunction.m4\n@@ -1022,8 +1011,6 @@ libgfortran.la: $(libgfortran_la_OBJECTS) $(libgfortran_la_DEPENDENCIES)\n \t$(FCLINK) -rpath $(toolexeclibdir) $(libgfortran_la_LDFLAGS) $(libgfortran_la_OBJECTS) $(libgfortran_la_LIBADD) $(LIBS)\n libgfortranbegin.la: $(libgfortranbegin_la_OBJECTS) $(libgfortranbegin_la_DEPENDENCIES) \n \t$(LINK) -rpath $(toolexeclibdir) $(libgfortranbegin_la_LDFLAGS) $(libgfortranbegin_la_OBJECTS) $(libgfortranbegin_la_LIBADD) $(LIBS)\n-libmatmul.la: $(libmatmul_la_OBJECTS) $(libmatmul_la_DEPENDENCIES) \n-\t$(LINK)  $(libmatmul_la_LDFLAGS) $(libmatmul_la_OBJECTS) $(libmatmul_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n@@ -1883,6 +1870,39 @@ dotprod_c10.lo: generated/dotprod_c10.c\n dotprod_c16.lo: generated/dotprod_c16.c\n \t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o dotprod_c16.lo `test -f 'generated/dotprod_c16.c' || echo '$(srcdir)/'`generated/dotprod_c16.c\n \n+matmul_i4.lo: generated/matmul_i4.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_i4.lo `test -f 'generated/matmul_i4.c' || echo '$(srcdir)/'`generated/matmul_i4.c\n+\n+matmul_i8.lo: generated/matmul_i8.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_i8.lo `test -f 'generated/matmul_i8.c' || echo '$(srcdir)/'`generated/matmul_i8.c\n+\n+matmul_i16.lo: generated/matmul_i16.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_i16.lo `test -f 'generated/matmul_i16.c' || echo '$(srcdir)/'`generated/matmul_i16.c\n+\n+matmul_r4.lo: generated/matmul_r4.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_r4.lo `test -f 'generated/matmul_r4.c' || echo '$(srcdir)/'`generated/matmul_r4.c\n+\n+matmul_r8.lo: generated/matmul_r8.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_r8.lo `test -f 'generated/matmul_r8.c' || echo '$(srcdir)/'`generated/matmul_r8.c\n+\n+matmul_r10.lo: generated/matmul_r10.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_r10.lo `test -f 'generated/matmul_r10.c' || echo '$(srcdir)/'`generated/matmul_r10.c\n+\n+matmul_r16.lo: generated/matmul_r16.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_r16.lo `test -f 'generated/matmul_r16.c' || echo '$(srcdir)/'`generated/matmul_r16.c\n+\n+matmul_c4.lo: generated/matmul_c4.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_c4.lo `test -f 'generated/matmul_c4.c' || echo '$(srcdir)/'`generated/matmul_c4.c\n+\n+matmul_c8.lo: generated/matmul_c8.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_c8.lo `test -f 'generated/matmul_c8.c' || echo '$(srcdir)/'`generated/matmul_c8.c\n+\n+matmul_c10.lo: generated/matmul_c10.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_c10.lo `test -f 'generated/matmul_c10.c' || echo '$(srcdir)/'`generated/matmul_c10.c\n+\n+matmul_c16.lo: generated/matmul_c16.c\n+\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_c16.lo `test -f 'generated/matmul_c16.c' || echo '$(srcdir)/'`generated/matmul_c16.c\n+\n matmul_l4.lo: generated/matmul_l4.c\n \t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o matmul_l4.lo `test -f 'generated/matmul_l4.c' || echo '$(srcdir)/'`generated/matmul_l4.c\n \n@@ -2369,39 +2389,6 @@ in_unpack_generic.lo: runtime/in_unpack_generic.c\n normalize.lo: runtime/normalize.c\n \t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o normalize.lo `test -f 'runtime/normalize.c' || echo '$(srcdir)/'`runtime/normalize.c\n \n-libmatmul_la-matmul_i4.lo: generated/matmul_i4.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_i4.lo `test -f 'generated/matmul_i4.c' || echo '$(srcdir)/'`generated/matmul_i4.c\n-\n-libmatmul_la-matmul_i8.lo: generated/matmul_i8.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_i8.lo `test -f 'generated/matmul_i8.c' || echo '$(srcdir)/'`generated/matmul_i8.c\n-\n-libmatmul_la-matmul_i16.lo: generated/matmul_i16.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_i16.lo `test -f 'generated/matmul_i16.c' || echo '$(srcdir)/'`generated/matmul_i16.c\n-\n-libmatmul_la-matmul_r4.lo: generated/matmul_r4.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_r4.lo `test -f 'generated/matmul_r4.c' || echo '$(srcdir)/'`generated/matmul_r4.c\n-\n-libmatmul_la-matmul_r8.lo: generated/matmul_r8.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_r8.lo `test -f 'generated/matmul_r8.c' || echo '$(srcdir)/'`generated/matmul_r8.c\n-\n-libmatmul_la-matmul_r10.lo: generated/matmul_r10.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_r10.lo `test -f 'generated/matmul_r10.c' || echo '$(srcdir)/'`generated/matmul_r10.c\n-\n-libmatmul_la-matmul_r16.lo: generated/matmul_r16.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_r16.lo `test -f 'generated/matmul_r16.c' || echo '$(srcdir)/'`generated/matmul_r16.c\n-\n-libmatmul_la-matmul_c4.lo: generated/matmul_c4.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_c4.lo `test -f 'generated/matmul_c4.c' || echo '$(srcdir)/'`generated/matmul_c4.c\n-\n-libmatmul_la-matmul_c8.lo: generated/matmul_c8.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_c8.lo `test -f 'generated/matmul_c8.c' || echo '$(srcdir)/'`generated/matmul_c8.c\n-\n-libmatmul_la-matmul_c10.lo: generated/matmul_c10.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_c10.lo `test -f 'generated/matmul_c10.c' || echo '$(srcdir)/'`generated/matmul_c10.c\n-\n-libmatmul_la-matmul_c16.lo: generated/matmul_c16.c\n-\t$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libmatmul_la_CFLAGS) $(CFLAGS) -c -o libmatmul_la-matmul_c16.lo `test -f 'generated/matmul_c16.c' || echo '$(srcdir)/'`generated/matmul_c16.c\n-\n .f90.o:\n \t$(FCCOMPILE) -c -o $@ $<\n \n@@ -2498,7 +2485,7 @@ distclean-tags:\n distdir: $(DISTFILES)\n \t$(am__remove_distdir)\n \tmkdir $(distdir)\n-\t$(mkdir_p) $(distdir)/.. $(distdir)/../config $(distdir)/m4\n+\t$(mkdir_p) $(distdir)/.. $(distdir)/m4\n \t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n \ttopsrcdirstrip=`echo \"$(top_srcdir)\" | sed 's|.|.|g'`; \\\n \tlist='$(DISTFILES)'; for file in $$list; do \\\n@@ -2726,6 +2713,9 @@ uninstall-am: uninstall-info-am uninstall-toolexeclibLTLIBRARIES\n \tuninstall-toolexeclibLTLIBRARIES\n \n \n+# Turn on vectorization for matmul.\n+$(patsubst %.c,%.lo,$(notdir $(i_matmul_c))): AM_CFLAGS += -ftree-vectorize\n+\n kinds.h: $(srcdir)/mk-kinds-h.sh\n \t$(SHELL) $(srcdir)/mk-kinds-h.sh '$(FCCOMPILE)' > $@ || rm $@\n "}, {"sha": "0bf3204f07cfe94e3bec7ceb0a6ace7df17c5a9d", "filename": "libgfortran/aclocal.m4", "status": "modified", "additions": 23, "deletions": 4, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd9b524973a964b98df732c8bfe6abb80d5b0135/libgfortran%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Faclocal.m4?ref=fd9b524973a964b98df732c8bfe6abb80d5b0135", "patch": "@@ -1,4 +1,4 @@\n-# generated automatically by aclocal 1.9.6 -*- Autoconf -*-\n+# generated automatically by aclocal 1.9.5 -*- Autoconf -*-\n \n # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,\n # 2005  Free Software Foundation, Inc.\n@@ -28,7 +28,7 @@ AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version=\"1.9\"])\n # Call AM_AUTOMAKE_VERSION so it can be traced.\n # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.\n AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],\n-\t [AM_AUTOMAKE_VERSION([1.9.6])])\n+\t [AM_AUTOMAKE_VERSION([1.9.5])])\n \n # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-\n \n@@ -244,6 +244,27 @@ AC_DEFUN([AM_PROG_INSTALL_SH],\n install_sh=${install_sh-\"$am_aux_dir/install-sh\"}\n AC_SUBST(install_sh)])\n \n+# Copyright (C) 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n+\n+# serial 2\n+\n+# Check whether the underlying file-system supports filenames\n+# with a leading dot.  For instance MS-DOS doesn't.\n+AC_DEFUN([AM_SET_LEADING_DOT],\n+[rm -rf .tst 2>/dev/null\n+mkdir .tst 2>/dev/null\n+if test -d .tst; then\n+  am__leading_dot=.\n+else\n+  am__leading_dot=_\n+fi\n+rmdir .tst 2>/dev/null\n+AC_SUBST([am__leading_dot])])\n+\n # Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-\n # From Jim Meyering\n \n@@ -638,6 +659,4 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n-m4_include([../config/lead-dot.m4])\n-m4_include([../config/no-executables.m4])\n m4_include([acinclude.m4])"}]}