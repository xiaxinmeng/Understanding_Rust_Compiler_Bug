{"sha": "f836d6e475e2ee111825b8ef9a62366ff32cd44a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjgzNmQ2ZTQ3NWUyZWUxMTE4MjViOGVmOWE2MjM2NmZmMzJjZDQ0YQ==", "commit": {"author": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-02-24T16:24:25Z"}, "committer": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-02-24T16:24:25Z"}, "message": "re PR treelang/19896 ([treelang] Static variables don't work)\n\n2005-02-24  James A. Morrison  <phython@gcc.gnu.org>\n\n        PR other/19896\n        * execute/execute.exp: New file.\n        * execute/funccall.tree, execute/funccall-2.tree, execute/initial.tree,\n        execute/main.tree, execute/static.tree: New tests.\n\nFrom-SVN: r95504", "tree": {"sha": "56dcc3a4f2b154b40a214d2d0317fb5bbd996648", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56dcc3a4f2b154b40a214d2d0317fb5bbd996648"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f836d6e475e2ee111825b8ef9a62366ff32cd44a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f836d6e475e2ee111825b8ef9a62366ff32cd44a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f836d6e475e2ee111825b8ef9a62366ff32cd44a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f836d6e475e2ee111825b8ef9a62366ff32cd44a/comments", "author": null, "committer": null, "parents": [{"sha": "fb26d54d7eac86fb8086904e2530bbe6e78e5db2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb26d54d7eac86fb8086904e2530bbe6e78e5db2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb26d54d7eac86fb8086904e2530bbe6e78e5db2"}], "stats": {"total": 165, "additions": 165, "deletions": 0}, "files": [{"sha": "59db3538710e14a331d9cb01634edde6f0c623f7", "filename": "gcc/testsuite/treelang/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2FChangeLog?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -1,3 +1,10 @@\n+2005-02-24  James A. Morrison  <phython@gcc.gnu.org>\n+\n+\tPR other/19896\n+        * execute/execute.exp: New file.\n+        * execute/funccall.tree, execute/funccall-2.tree, execute/initial.tree,\n+        execute/main.tree, execute/static.tree: New tests.\n+\n 2005-02-24  James A. Morrison  <phython@gcc.gnu.org>\n \n \tPR other/19897"}, {"sha": "836c3251099c89801b3765d904f8c1b3062c524c", "filename": "gcc/testsuite/treelang/execute/execute.exp", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fexecute.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fexecute.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fexecute.exp?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -0,0 +1,31 @@\n+# Tests for treelang; run from gcc/treelang/Make-lang.in => gcc/Makefile\n+\n+# Copyright (C) 2004 by The Free Software Foundation\n+\n+# This program is free software; you can redistribute it and/or modify it\n+# under the terms of the GNU General Public License as published by the\n+# Free Software Foundation; either version 2, or (at your option) any\n+# later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, 59 Temple Place - Suite 330,\n+# Boston, MA 02111-1307, USA.\n+#\n+# In other words, you are welcome to use, share and improve this program.\n+# You are forbidden to forbid anyone else to use, share and improve\n+# what you give them.   Help stamp out software-hoarding!\n+\n+# Treelang tests that only need to compile.\n+\n+# Load support procs.\n+load_lib treelang-dg.exp\n+\n+dg-init\n+dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.tree]] \"\" \"\"\n+dg-finish"}, {"sha": "43911c9f4f8a05abe32ffe009ddef4ab8ebcf590", "filename": "gcc/testsuite/treelang/execute/funccall-2.tree", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Ffunccall-2.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Ffunccall-2.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Ffunccall-2.tree?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -0,0 +1,28 @@\n+// { dg-do run }\n+external_definition int main (int argc);\n+\n+static int foo (int bba);\n+\n+foo\n+{\n+\tautomatic int bar;\n+\n+\tbar = bba + +1;\n+\treturn bar;\n+}\n+\n+main\n+{\n+  automatic int aaa = +3;\n+\n+  aaa = foo (argc);\n+  \n+  if (aaa == +2)\n+    { \n+      return +0;\n+    }\n+  else\n+    {\n+      return +1;\n+    }\n+}"}, {"sha": "e806d3b583d995341face5c020e97958eed22f17", "filename": "gcc/testsuite/treelang/execute/funccall.tree", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Ffunccall.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Ffunccall.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Ffunccall.tree?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -0,0 +1,33 @@\n+// { dg-do run }\n+// Tests whether initializtion works properly.\n+external_reference void abort ();\n+external_reference void exit (int code);\n+external_definition int main ();\n+\n+static int foo ();\n+\n+foo\n+{\n+\tautomatic int bar;\n+\n+\tbar = +1;\n+\tbar = bar + +1;\n+\treturn bar;\n+}\n+\n+main\n+{\n+  automatic int aaa;\n+\n+  aaa = foo ();\n+  \n+  if (aaa == +2)\n+    { \n+      exit (0);\n+    }\n+  else\n+    {\n+      abort ();\n+    }\n+  return 0;\n+}"}, {"sha": "0daa99700192b5b8eacdd6b036d3f14abc510298", "filename": "gcc/testsuite/treelang/execute/initial.tree", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Finitial.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Finitial.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Finitial.tree?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -0,0 +1,20 @@\n+// { dg-do run }\n+// Tests whether initializtion works properly.\n+external_reference void abort ();\n+external_reference void exit (int code);\n+external_definition int main ();\n+\n+main\n+{\n+  automatic int aaa = +3;\n+\n+  if (aaa == +3)\n+    { \n+      exit (0);\n+    }\n+  else\n+    {\n+      abort ();\n+    }\n+  return 0;\n+}"}, {"sha": "549f9917895a57223e99516c2c01fa2ef989abad", "filename": "gcc/testsuite/treelang/execute/main.tree", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fmain.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fmain.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fmain.tree?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -0,0 +1,14 @@\n+// { dg-do run }\n+external_definition int main (int argc);\n+\n+main\n+{\n+\tif (argc == 1)\n+\t{\n+\t\treturn 0;\n+\t}\n+\telse\n+\t{\n+\t\treturn argc;\n+\t}\n+}"}, {"sha": "370f244604f08ff8cb2739e5fb6cfdf06ac93ae2", "filename": "gcc/testsuite/treelang/execute/static.tree", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fstatic.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f836d6e475e2ee111825b8ef9a62366ff32cd44a/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fstatic.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fexecute%2Fstatic.tree?ref=f836d6e475e2ee111825b8ef9a62366ff32cd44a", "patch": "@@ -0,0 +1,32 @@\n+// { dg-do run }\n+external_reference void abort ();\n+external_reference void exit (int code);\n+external_definition int main (int argc, int argv);\n+\n+static int foo ();\n+\n+foo\n+{\n+\tstatic int bar = +1;\n+\n+\tbar = bar + +1;\n+\treturn bar;\n+}\n+\n+main\n+{\n+  automatic int aaa = +3;\n+\n+  aaa = foo ();\n+  aaa = foo ();\n+  \n+  if (aaa == 3)\n+    { \n+      exit (0);\n+    }\n+  else\n+    {\n+      abort ();\n+    }\n+  return 0;\n+}"}]}