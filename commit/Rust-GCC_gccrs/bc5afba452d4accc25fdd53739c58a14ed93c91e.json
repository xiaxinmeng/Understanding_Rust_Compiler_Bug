{"sha": "bc5afba452d4accc25fdd53739c58a14ed93c91e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmM1YWZiYTQ1MmQ0YWNjYzI1ZmRkNTM3MzljNThhMTRlZDkzYzkxZQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-09-02T06:27:00Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-09-02T06:27:00Z"}, "message": "posix-threads.h (PTHREAD_MUTEX_IS_STRUCT): New define.\n\n\t* include/posix-threads.h (PTHREAD_MUTEX_IS_STRUCT): New define.\n\t(_Jv_PthreadGetMutex): Use it.\n\t(_Jv_PthreadCheckMonitor): Use new M_COUNT macros.\n\t(_Jv_MutexInit): Use PTHREAD_MUTEX_IS_STRUCT.\n\t(_Jv_MutexLock): Likewise.\n\t(_Jv_MutexUnlock): Likewise.\n\t* include/config.h.in: Rebuilt.\n\t* acconfig.h (PTHREAD_MUTEX_HAVE_M_COUNT,\n\tPTHREAD_MUTEX_HAVE___M_COUNT): New undefs.\n\t* configure: Rebuilt.\n\t* libgcj.spec.in: Don't mention INTERPSPEC.\n\t* configure.in (INTERPSPEC): Removed.\n\tOnly run pthreads-related checks when using POSIX threads.  Check\n\tfor m_count and __m_count in mutex structure.\n\nFrom-SVN: r29048", "tree": {"sha": "282214e0286d55d7b11ec4b353396c0078e937b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/282214e0286d55d7b11ec4b353396c0078e937b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc5afba452d4accc25fdd53739c58a14ed93c91e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc5afba452d4accc25fdd53739c58a14ed93c91e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc5afba452d4accc25fdd53739c58a14ed93c91e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc5afba452d4accc25fdd53739c58a14ed93c91e/comments", "author": null, "committer": null, "parents": [{"sha": "2598e85aadb5a53abd3cb7b5e846d4d4bfcdd495", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2598e85aadb5a53abd3cb7b5e846d4d4bfcdd495", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2598e85aadb5a53abd3cb7b5e846d4d4bfcdd495"}], "stats": {"total": 1763, "additions": 1402, "deletions": 361}, "files": [{"sha": "562fe05c200d51e46e4ac5125a672fe5d5640cf3", "filename": "libjava/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -1,3 +1,20 @@\n+1999-09-01  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* include/posix-threads.h (PTHREAD_MUTEX_IS_STRUCT): New define.\n+\t(_Jv_PthreadGetMutex): Use it.\n+\t(_Jv_PthreadCheckMonitor): Use new M_COUNT macros.\n+\t(_Jv_MutexInit): Use PTHREAD_MUTEX_IS_STRUCT.\n+\t(_Jv_MutexLock): Likewise.\n+\t(_Jv_MutexUnlock): Likewise.\n+\t* include/config.h.in: Rebuilt.\n+\t* acconfig.h (PTHREAD_MUTEX_HAVE_M_COUNT,\n+\tPTHREAD_MUTEX_HAVE___M_COUNT): New undefs.\n+\t* configure: Rebuilt.\n+\t* libgcj.spec.in: Don't mention INTERPSPEC.\n+\t* configure.in (INTERPSPEC): Removed.\n+\tOnly run pthreads-related checks when using POSIX threads.  Check\n+\tfor m_count and __m_count in mutex structure.\n+\n 1999-09-01  Matt Welsh <mdw@cs.berkeley.edu>\n \n \t* java/lang/natClass.cc: Fixed notification of threads"}, {"sha": "0921214dc1fc025fe943e8123ca9627c238fbe3e", "filename": "libjava/Makefile.in", "status": "modified", "additions": 462, "deletions": 44, "changes": 506, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -78,7 +78,6 @@ GCINCS = @GCINCS@\n GCLIBS = @GCLIBS@\n GCOBJS = @GCOBJS@\n GCSPEC = @GCSPEC@\n-INTERPSPEC = @INTERPSPEC@\n LD = @LD@\n LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n@@ -87,7 +86,6 @@ LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n PERL = @PERL@\n RANLIB = @RANLIB@\n@@ -97,6 +95,7 @@ THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n THREADSPEC = @THREADSPEC@\n+USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n ZDEPS = @ZDEPS@\n ZINCS = @ZINCS@\n@@ -107,25 +106,39 @@ libgcj_basedir = @libgcj_basedir@\n \n AUTOMAKE_OPTIONS = foreign no-installinfo\n \n-@TESTSUBDIR_TRUE@SUBDIRS = testsuite\n-@USE_LIBDIR_TRUE@toolexeclibdir = $(libdir)$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexeclibdir = $(toolexecdir)/lib$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexecdir = $(exec_prefix)/$(target_alias)\n+@TESTSUBDIR_TRUE@SUBDIRS = \\\n+@TESTSUBDIR_TRUE@testsuite\n+@USE_LIBDIR_TRUE@toolexeclibdir = \\\n+@USE_LIBDIR_TRUE@$(libdir)$(MULTISUBDIR)\n+@USE_LIBDIR_FALSE@toolexeclibdir = \\\n+@USE_LIBDIR_FALSE@$(toolexecdir)/lib$(MULTISUBDIR)\n+@USE_LIBDIR_FALSE@toolexecdir = \\\n+@USE_LIBDIR_FALSE@$(exec_prefix)/$(target_alias)\n \n toolexeclib_LTLIBRARIES = libgcj.la\n toolexeclib_DATA = libgcj.spec\n data_DATA = libgcj.zip\n \n-@NATIVE_TRUE@bin_PROGRAMS = jv-convert gij\n-@CANADIAN_TRUE@@NULL_TARGET_TRUE@GCJ = gcj\n-@CANADIAN_TRUE@@NULL_TARGET_FALSE@GCJ = $(target_alias)-gcj\n-@CANADIAN_FALSE@GCJ = $(expanded)/gcj$(EXEEXT) -B$(expanded)/\n-@CANADIAN_TRUE@@NULL_TARGET_TRUE@ZIP = $(MULTIBUILDTOP)../$(COMPPATH)/zip/zip$(EXEEXT)\n-@CANADIAN_TRUE@@NULL_TARGET_FALSE@ZIP = zip\n-@CANADIAN_FALSE@ZIP = $(MULTIBUILDTOP)../$(COMPPATH)/zip/zip$(EXEEXT)\n-@CANADIAN_TRUE@GCJH = gcjh\n-@CANADIAN_FALSE@GCJH = $(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh$(EXEEXT)\n-@CANADIAN_FALSE@expanded = `cd $(MULTIBUILDTOP)../$(COMPPATH)/gcc && pwd`\n+@NATIVE_TRUE@bin_PROGRAMS = \\\n+@NATIVE_TRUE@jv-convert gij\n+@CANADIAN_TRUE@@NULL_TARGET_TRUE@GCJ = \\\n+@CANADIAN_TRUE@@NULL_TARGET_TRUE@gcj\n+@CANADIAN_TRUE@@NULL_TARGET_FALSE@GCJ = \\\n+@CANADIAN_TRUE@@NULL_TARGET_FALSE@$(target_alias)-gcj\n+@CANADIAN_FALSE@GCJ = \\\n+@CANADIAN_FALSE@$(expanded)/gcj$(EXEEXT) -B$(expanded)/\n+@CANADIAN_TRUE@@NULL_TARGET_TRUE@ZIP = \\\n+@CANADIAN_TRUE@@NULL_TARGET_TRUE@$(MULTIBUILDTOP)../$(COMPPATH)/zip/zip$(EXEEXT)\n+@CANADIAN_TRUE@@NULL_TARGET_FALSE@ZIP = \\\n+@CANADIAN_TRUE@@NULL_TARGET_FALSE@zip\n+@CANADIAN_FALSE@ZIP = \\\n+@CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/zip/zip$(EXEEXT)\n+@CANADIAN_TRUE@GCJH = \\\n+@CANADIAN_TRUE@gcjh\n+@CANADIAN_FALSE@GCJH = \\\n+@CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh$(EXEEXT)\n+@CANADIAN_FALSE@expanded = \\\n+@CANADIAN_FALSE@`cd $(MULTIBUILDTOP)../$(COMPPATH)/gcc && pwd`\n \n GCJCOMPILE = CLASSPATH=$(here) $(LIBTOOL) --mode=compile $(GCJ) -fassume-compiled $(JC1FLAGS) -c\n \n@@ -135,108 +148,513 @@ EH_COMMON_INCLUDE = @EH_COMMON_INCLUDE@\n \n WARNINGS = -W -Wall\n AM_CXXFLAGS = -fno-rtti -fvtable-thunks @LIBGCJ_CXXFLAGS@ $(WARNINGS)\n-@USING_GCC_TRUE@AM_CFLAGS = @LIBGCJ_CFLAGS@ $(WARNINGS)\n-@USING_GCC_FALSE@AM_CFLAGS = @LIBGCJ_CFLAGS@\n+@USING_GCC_TRUE@AM_CFLAGS = \\\n+@USING_GCC_TRUE@@LIBGCJ_CFLAGS@ $(WARNINGS)\n+@USING_GCC_FALSE@AM_CFLAGS = \\\n+@USING_GCC_FALSE@@LIBGCJ_CFLAGS@\n \n JCFLAGS = -g\n JC1FLAGS = -g @LIBGCJ_JAVAFLAGS@\n \n LIBFFIINCS = -I$(top_srcdir)/../libffi/include -I../libffi/include\n \n-INCLUDES = -Iinclude -I$(top_srcdir)/include $(GCINCS) $(THREADINCS) \t$(EH_COMMON_INCLUDE) $(ZINCS) $(LIBFFIINCS)\n+INCLUDES = -Iinclude -I$(top_srcdir)/include $(GCINCS) $(THREADINCS) \\\n+\t$(EH_COMMON_INCLUDE) $(ZINCS) $(LIBFFIINCS)\n \n \n DIVIDESPEC = @DIVIDESPEC@\n \n nat_files = $(nat_source_files:.cc=.lo)\n c_files = $(c_source_files:.c=.lo)\n-javao_files = $(java_source_files:.java=.lo) \t$(built_java_source_files:.java=.lo)\n+javao_files = $(java_source_files:.java=.lo) \\\n+\t$(built_java_source_files:.java=.lo)\n \n \n libffi_files = `$(AR) t ../libffi/.libs/libffi.a 2>/dev/null | sed 's/\\.o/\\.lo/g' | sed 's/^/..\\/libffi\\//g'`\n \n-libgcj_la_SOURCES = prims.cc jni.cc exception.cc \tresolve.cc defineclass.cc interpret.cc\n+libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n+\tresolve.cc defineclass.cc interpret.cc\n \n-EXTRA_libgcj_la_SOURCES = boehm.cc nogc.cc posix-threads.cc no-threads.cc \t$(c_source_files) $(java_source_files) $(built_java_source_files)\n+EXTRA_libgcj_la_SOURCES = boehm.cc nogc.cc posix-threads.cc no-threads.cc \\\n+\t$(c_source_files) $(java_source_files) $(built_java_source_files)\n \n-libgcj_la_DEPENDENCIES = libgcj.zip $(javao_files) $(nat_files) \t$(c_files) $(GCOBJS) $(THREADOBJS)\n+libgcj_la_DEPENDENCIES = libgcj.zip $(javao_files) $(nat_files) \\\n+\t$(c_files) $(GCOBJS) $(THREADOBJS)\n \n-libgcj_la_LIBADD = $(javao_files) $(nat_files) $(c_files) $(GCOBJS) \t$(THREADOBJS) $(libffi_files)\n+libgcj_la_LIBADD = $(javao_files) $(nat_files) $(c_files) $(GCOBJS) \\\n+\t$(THREADOBJS) $(libffi_files)\n \n-libgcj_la_LDFLAGS = -rpath $(toolexeclibdir) \t-version-info `grep -v '^\\#' $(srcdir)/libtool-version`\n+libgcj_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n+\t-version-info `grep -v '^\\#' $(srcdir)/libtool-version`\n \n \n MOSTLYCLEANFILES = $(javao_files) $(nat_files) $(nat_headers) $(c_files)\n CLEANFILES = libgcj.zip\n \n SUFFIXES = .class .java .h\n \n-nat_headers = $(ordinary_java_source_files:.java=.h) \t$(built_java_source_files:.java=.h)\n+nat_headers = $(ordinary_java_source_files:.java=.h) \\\n+\t$(built_java_source_files:.java=.h)\n \n \n NM = nm\n \n-@NATIVE_TRUE@@MAINTAINER_MODE_TRUE@noinst_PROGRAMS = gen-from-JIS\n+@NATIVE_TRUE@@MAINTAINER_MODE_TRUE@noinst_PROGRAMS = \\\n+@NATIVE_TRUE@@MAINTAINER_MODE_TRUE@gen-from-JIS\n \n CONVERT_DIR = gnu/gcj/convert\n \n jv_convert_SOURCES = \n EXTRA_jv_convert_SOURCES = $(convert_source_files)\n-jv_convert_LDFLAGS = --main=gnu.gcj.convert.Convert \t-rpath $(toolexeclibdir)\n+jv_convert_LDFLAGS = --main=gnu.gcj.convert.Convert \\\n+\t-rpath $(toolexeclibdir)\n \n-jv_convert_LINK = $(LIBTOOL) --mode=link $(GCJ) $(JC1FLAGS) $(LDFLAGS) \t-o jv-convert\n+jv_convert_LINK = $(LIBTOOL) --mode=link $(GCJ) $(JC1FLAGS) $(LDFLAGS) \\\n+\t-o jv-convert\n \n-jv_convert_LDADD = $(convert_source_files:.java=.lo) libgcj.la \t$(GCLIBS) $(THREADLIBS) $(ZLIBS) -L$(here)/.libs\n+jv_convert_LDADD = $(convert_source_files:.java=.lo) libgcj.la \\\n+\t$(GCLIBS) $(THREADLIBS) $(ZLIBS) -L$(here)/.libs\n \n-jv_convert_DEPENDENCIES = $(convert_source_files:.java=.lo) \t$(GCDEPS) $(THREADDEPS) $(ZDEPS) libgcj.la libgcj.spec\n+jv_convert_DEPENDENCIES = $(convert_source_files:.java=.lo) \\\n+\t$(GCDEPS) $(THREADDEPS) $(ZDEPS) libgcj.la libgcj.spec\n \n \n gij_SOURCES = \n EXTRA_gij_SOURCES = gij.cc\n gij_LDFLAGS = -rpath $(toolexeclibdir)\n-gij_LINK = $(LIBTOOL) --mode=link $(GCJ) $(JC1FLAGS) $(LDFLAGS) \t-o gij\n+gij_LINK = $(LIBTOOL) --mode=link $(GCJ) $(JC1FLAGS) $(LDFLAGS) \\\n+\t-o gij\n \n-gij_LDADD = gij.lo libgcj.la \t$(GCLIBS) $(THREADLIBS) $(ZLIBS) -L$(here)/.libs\n+gij_LDADD = gij.lo libgcj.la \\\n+\t$(GCLIBS) $(THREADLIBS) $(ZLIBS) -L$(here)/.libs\n \n-gij_DEPENDENCIES = gij.lo \t$(GCDEPS) $(THREADDEPS) $(ZDEPS) libgcj.la libgcj.spec\n+gij_DEPENDENCIES = gij.lo \\\n+\t$(GCDEPS) $(THREADDEPS) $(ZDEPS) libgcj.la libgcj.spec\n \n \n gen_from_JIS_SOURCES = \n-EXTRA_gen_from_JIS_SOURCES = $(srcdir)/$(CONVERT_DIR)/gen-from-JIS.c \t\t$(srcdir)/$(CONVERT_DIR)/make-trie.c \t\t$(srcdir)/$(CONVERT_DIR)/JIS0201.h \t\t$(srcdir)/$(CONVERT_DIR)/JIS0208.h \t\t$(srcdir)/$(CONVERT_DIR)/JIS0212.h\n+EXTRA_gen_from_JIS_SOURCES = $(srcdir)/$(CONVERT_DIR)/gen-from-JIS.c \\\n+\t\t$(srcdir)/$(CONVERT_DIR)/make-trie.c \\\n+\t\t$(srcdir)/$(CONVERT_DIR)/JIS0201.h \\\n+\t\t$(srcdir)/$(CONVERT_DIR)/JIS0208.h \\\n+\t\t$(srcdir)/$(CONVERT_DIR)/JIS0212.h\n \n gen_from_JIS_LDADD = $(CONVERT_DIR)/gen-from-JIS.o $(CONVERT_DIR)/make-trie.o\n-gen_from_JIS_DEPENDENCIES = $(CONVERT_DIR)/gen-from-JIS.o \t\t$(CONVERT_DIR)/make-trie.o\n-\n-\n-convert_source_files =  gnu/gcj/convert/BytesToUnicode.java gnu/gcj/convert/Convert.java gnu/gcj/convert/Input_8859_1.java gnu/gcj/convert/Input_EUCJIS.java gnu/gcj/convert/Input_JavaSrc.java gnu/gcj/convert/Input_SJIS.java gnu/gcj/convert/Input_UTF8.java\tgnu/gcj/convert/Output_8859_1.java gnu/gcj/convert/Output_EUCJIS.java gnu/gcj/convert/Output_JavaSrc.java gnu/gcj/convert/Output_SJIS.java gnu/gcj/convert/Output_UTF8.java gnu/gcj/convert/UnicodeToBytes.java\n+gen_from_JIS_DEPENDENCIES = $(CONVERT_DIR)/gen-from-JIS.o \\\n+\t\t$(CONVERT_DIR)/make-trie.o\n+\n+\n+convert_source_files = \\\n+gnu/gcj/convert/BytesToUnicode.java \\\n+gnu/gcj/convert/Convert.java \\\n+gnu/gcj/convert/Input_8859_1.java \\\n+gnu/gcj/convert/Input_EUCJIS.java \\\n+gnu/gcj/convert/Input_JavaSrc.java \\\n+gnu/gcj/convert/Input_SJIS.java \\\n+gnu/gcj/convert/Input_UTF8.java\t\\\n+gnu/gcj/convert/Output_8859_1.java \\\n+gnu/gcj/convert/Output_EUCJIS.java \\\n+gnu/gcj/convert/Output_JavaSrc.java \\\n+gnu/gcj/convert/Output_SJIS.java \\\n+gnu/gcj/convert/Output_UTF8.java \\\n+gnu/gcj/convert/UnicodeToBytes.java\n \n \n special_java_source_files = java/lang/Class.java java/lang/Object.java\n \n-awt_java_source_files =  java/awt/AWTEvent.java java/awt/BorderLayout.java java/awt/Component.java java/awt/Container.java java/awt/Dimension.java java/awt/Event.java java/awt/Font.java java/awt/Frame.java java/awt/LayoutManager.java java/awt/LayoutManager2.java java/awt/Menu.java java/awt/MenuBar.java java/awt/MenuItem.java java/awt/MenuComponent.java java/awt/MenuContainer.java java/awt/Point.java java/awt/Rectangle.java java/awt/Shape.java java/awt/TextArea.java java/awt/TextComponent.java java/awt/Toolkit.java java/awt/Window.java java/awt/event/ActionEvent.java java/awt/event/ActionListener.java java/awt/event/ComponentEvent.java java/awt/event/InputEvent.java java/awt/event/KeyEvent.java java/awt/event/KeyListener.java java/awt/event/TextEvent.java java/awt/event/TextListener.java java/awt/event/WindowAdapter.java java/awt/event/WindowEvent.java java/awt/event/WindowListener.java java/awt/geom/Point2D.java java/awt/geom/Dimension2D.java java/awt/peer/ComponentPeer.java java/awt/peer/ContainerPeer.java java/awt/peer/FramePeer.java java/awt/peer/WindowPeer.java\n+awt_java_source_files = \\\n+java/awt/AWTEvent.java \\\n+java/awt/BorderLayout.java \\\n+java/awt/Component.java \\\n+java/awt/Container.java \\\n+java/awt/Dimension.java \\\n+java/awt/Event.java \\\n+java/awt/Font.java \\\n+java/awt/Frame.java \\\n+java/awt/LayoutManager.java \\\n+java/awt/LayoutManager2.java \\\n+java/awt/Menu.java \\\n+java/awt/MenuBar.java \\\n+java/awt/MenuItem.java \\\n+java/awt/MenuComponent.java \\\n+java/awt/MenuContainer.java \\\n+java/awt/Point.java \\\n+java/awt/Rectangle.java \\\n+java/awt/Shape.java \\\n+java/awt/TextArea.java \\\n+java/awt/TextComponent.java \\\n+java/awt/Toolkit.java \\\n+java/awt/Window.java \\\n+java/awt/event/ActionEvent.java \\\n+java/awt/event/ActionListener.java \\\n+java/awt/event/ComponentEvent.java \\\n+java/awt/event/InputEvent.java \\\n+java/awt/event/KeyEvent.java \\\n+java/awt/event/KeyListener.java \\\n+java/awt/event/TextEvent.java \\\n+java/awt/event/TextListener.java \\\n+java/awt/event/WindowAdapter.java \\\n+java/awt/event/WindowEvent.java \\\n+java/awt/event/WindowListener.java \\\n+java/awt/geom/Point2D.java \\\n+java/awt/geom/Dimension2D.java \\\n+java/awt/peer/ComponentPeer.java \\\n+java/awt/peer/ContainerPeer.java \\\n+java/awt/peer/FramePeer.java \\\n+java/awt/peer/WindowPeer.java\n \n \n # $(awt_java_source_files)\n \n built_java_source_files = java/lang/ConcreteProcess.java\n \n-ordinary_java_source_files = $(convert_source_files) gnu/gcj/runtime/MethodInvocation.java gnu/gcj/runtime/VMClassLoader.java gnu/gcj/text/BaseBreakIterator.java gnu/gcj/text/CharacterBreakIterator.java gnu/gcj/text/LineBreakIterator.java gnu/gcj/text/LocaleData_en.java\tgnu/gcj/text/LocaleData_en_US.java gnu/gcj/text/SentenceBreakIterator.java\tgnu/gcj/text/WordBreakIterator.java gnu/gcj/protocol/file/Connection.java gnu/gcj/protocol/file/Handler.java gnu/gcj/protocol/http/Connection.java gnu/gcj/protocol/http/Handler.java gnu/gcj/protocol/jar/Handler.java gnu/gcj/protocol/jar/Connection.java gnu/gcj/RawData.java gnu/gcj/util/EnumerationChain.java java/io/BufferedInputStream.java java/io/BufferedOutputStream.java java/io/BufferedReader.java java/io/BufferedWriter.java java/io/ByteArrayInputStream.java java/io/ByteArrayOutputStream.java java/io/CharArrayReader.java java/io/CharArrayWriter.java java/io/CharConversionException.java java/io/DataInput.java java/io/DataInputStream.java java/io/DataOutput.java\tjava/io/DataOutputStream.java java/io/EOFException.java java/io/File.java java/io/FileDescriptor.java java/io/FileInputStream.java java/io/FileNotFoundException.java java/io/FileOutputStream.java java/io/FileReader.java\tjava/io/FileWriter.java\tjava/io/FilenameFilter.java java/io/FilterInputStream.java java/io/FilterOutputStream.java\tjava/io/FilterReader.java java/io/FilterWriter.java java/io/IOException.java java/io/InputStream.java java/io/InputStreamReader.java java/io/InterruptedIOException.java java/io/LineNumberInputStream.java java/io/LineNumberReader.java java/io/OutputStream.java java/io/OutputStreamWriter.java\tjava/io/PipedInputStream.java java/io/PipedOutputStream.java java/io/PipedReader.java java/io/PipedWriter.java java/io/PrintStream.java java/io/PrintWriter.java java/io/PushbackInputStream.java java/io/PushbackReader.java java/io/RandomAccessFile.java java/io/Reader.java java/io/SequenceInputStream.java java/io/Serializable.java java/io/StreamTokenizer.java java/io/StringBufferInputStream.java java/io/StringReader.java java/io/StringWriter.java java/io/SyncFailedException.java java/io/UTFDataFormatException.java java/io/UnsupportedEncodingException.java java/io/Writer.java java/lang/AbstractMethodError.java java/lang/ArithmeticException.java java/lang/ArrayIndexOutOfBoundsException.java java/lang/ArrayStoreException.java java/lang/Boolean.java java/lang/Byte.java java/lang/Character.java java/lang/ClassCastException.java java/lang/ClassCircularityError.java java/lang/ClassFormatError.java\tjava/lang/ClassLoader.java java/lang/ClassNotFoundException.java java/lang/CloneNotSupportedException.java java/lang/Cloneable.java java/lang/Comparable.java java/lang/Compiler.java\tjava/lang/Double.java java/lang/Error.java java/lang/Exception.java java/lang/ExceptionInInitializerError.java java/lang/FirstThread.java java/lang/Float.java java/lang/IllegalAccessError.java java/lang/IllegalAccessException.java java/lang/IllegalArgumentException.java\tjava/lang/IllegalMonitorStateException.java java/lang/IllegalStateException.java java/lang/IllegalThreadStateException.java java/lang/IncompatibleClassChangeError.java java/lang/IndexOutOfBoundsException.java java/lang/InstantiationError.java java/lang/InstantiationException.java java/lang/Integer.java java/lang/InternalError.java java/lang/InterruptedException.java java/lang/LinkageError.java java/lang/Long.java java/lang/Math.java java/lang/NegativeArraySizeException.java java/lang/NoClassDefFoundError.java java/lang/NoSuchFieldError.java\tjava/lang/NoSuchFieldException.java java/lang/NoSuchMethodError.java java/lang/NoSuchMethodException.java java/lang/NullPointerException.java java/lang/Number.java java/lang/NumberFormatException.java java/lang/OutOfMemoryError.java\tjava/lang/Process.java java/lang/Runnable.java\tjava/lang/Runtime.java java/lang/RuntimeException.java\tjava/lang/SecurityException.java java/lang/SecurityManager.java java/lang/Short.java java/lang/StackOverflowError.java java/lang/String.java java/lang/StringBuffer.java java/lang/StringIndexOutOfBoundsException.java java/lang/System.java java/lang/Thread.java java/lang/ThreadDeath.java java/lang/ThreadGroup.java java/lang/Throwable.java java/lang/UnknownError.java java/lang/UnsatisfiedLinkError.java java/lang/UnsupportedOperationException.java java/lang/VerifyError.java java/lang/VirtualMachineError.java java/lang/Void.java java/lang/reflect/AccessibleObject.java\tjava/lang/reflect/Array.java java/lang/reflect/Constructor.java java/lang/reflect/Field.java java/lang/reflect/InvocationTargetException.java java/lang/reflect/Member.java java/lang/reflect/Method.java java/lang/reflect/Modifier.java\tjava/net/BindException.java java/net/ConnectException.java java/net/ContentHandler.java java/net/ContentHandlerFactory.java java/net/DatagramPacket.java java/net/DatagramSocket.java java/net/DatagramSocketImpl.java java/net/FileNameMap.java java/net/HttpURLConnection.java java/net/InetAddress.java java/net/JarURLConnection.java java/net/MalformedURLException.java java/net/MulticastSocket.java java/net/NoRouteToHostException.java java/net/PlainDatagramSocketImpl.java java/net/PlainSocketImpl.java java/net/ProtocolException.java\tjava/net/ServerSocket.java java/net/Socket.java java/net/SocketException.java java/net/SocketImpl.java java/net/SocketImplFactory.java\tjava/net/SocketOptions.java java/net/URL.java java/net/URLClassLoader.java java/net/URLConnection.java java/net/URLDecoder.java java/net/URLEncoder.java java/net/URLStreamHandler.java java/net/URLStreamHandlerFactory.java java/net/UnknownHostException.java java/net/UnknownServiceException.java java/security/MessageDigest.java java/security/NoSuchAlgorithmException.java java/security/SecureClassLoader.java java/text/BreakIterator.java java/text/CharacterIterator.java java/text/ChoiceFormat.java java/text/CollationElementIterator.java java/text/CollationKey.java java/text/Collator.java java/text/DateFormat.java java/text/DateFormatSymbols.java java/text/DecimalFormat.java java/text/DecimalFormatSymbols.java java/text/FieldPosition.java java/text/Format.java java/text/MessageFormat.java java/text/NumberFormat.java java/text/ParseException.java java/text/ParsePosition.java java/text/RuleBasedCollator.java java/text/SimpleDateFormat.java\tjava/text/StringCharacterIterator.java java/util/BitSet.java java/util/Calendar.java\tjava/util/ConcurrentModificationException.java java/util/Date.java java/util/Dictionary.java java/util/EmptyStackException.java java/util/Enumeration.java java/util/EventListener.java java/util/EventObject.java java/util/GregorianCalendar.java java/util/Hashtable.java java/util/ListResourceBundle.java java/util/Locale.java java/util/MissingResourceException.java\tjava/util/NoSuchElementException.java java/util/Observable.java java/util/Observer.java\tjava/util/Properties.java java/util/PropertyResourceBundle.java java/util/Random.java java/util/ResourceBundle.java java/util/SimpleTimeZone.java java/util/Stack.java java/util/StringTokenizer.java java/util/TimeZone.java\tjava/util/TooManyListenersException.java java/util/Vector.java java/util/jar/JarFile.java java/util/jar/JarInputStream.java java/util/jar/JarEntry.java java/util/zip/Adler32.java java/util/zip/CRC32.java java/util/zip/CheckedInputStream.java java/util/zip/CheckedOutputStream.java java/util/zip/Checksum.java java/util/zip/DataFormatException.java java/util/zip/Deflater.java java/util/zip/DeflaterOutputStream.java\tjava/util/zip/GZIPInputStream.java java/util/zip/GZIPOutputStream.java java/util/zip/Inflater.java java/util/zip/InflaterInputStream.java\tjava/util/zip/ZipConstants.java\tjava/util/zip/ZipEntry.java java/util/zip/ZipException.java\tjava/util/zip/ZipFile.java java/util/zip/ZipInputStream.java java/util/zip/ZipOutputStream.java\n+ordinary_java_source_files = $(convert_source_files) \\\n+gnu/gcj/runtime/MethodInvocation.java \\\n+gnu/gcj/runtime/VMClassLoader.java \\\n+gnu/gcj/text/BaseBreakIterator.java \\\n+gnu/gcj/text/CharacterBreakIterator.java \\\n+gnu/gcj/text/LineBreakIterator.java \\\n+gnu/gcj/text/LocaleData_en.java\t\\\n+gnu/gcj/text/LocaleData_en_US.java \\\n+gnu/gcj/text/SentenceBreakIterator.java\t\\\n+gnu/gcj/text/WordBreakIterator.java \\\n+gnu/gcj/protocol/file/Connection.java \\\n+gnu/gcj/protocol/file/Handler.java \\\n+gnu/gcj/protocol/http/Connection.java \\\n+gnu/gcj/protocol/http/Handler.java \\\n+gnu/gcj/protocol/jar/Handler.java \\\n+gnu/gcj/protocol/jar/Connection.java \\\n+gnu/gcj/RawData.java \\\n+gnu/gcj/util/EnumerationChain.java \\\n+java/io/BufferedInputStream.java \\\n+java/io/BufferedOutputStream.java \\\n+java/io/BufferedReader.java \\\n+java/io/BufferedWriter.java \\\n+java/io/ByteArrayInputStream.java \\\n+java/io/ByteArrayOutputStream.java \\\n+java/io/CharArrayReader.java \\\n+java/io/CharArrayWriter.java \\\n+java/io/CharConversionException.java \\\n+java/io/DataInput.java \\\n+java/io/DataInputStream.java \\\n+java/io/DataOutput.java\t\\\n+java/io/DataOutputStream.java \\\n+java/io/EOFException.java \\\n+java/io/File.java \\\n+java/io/FileDescriptor.java \\\n+java/io/FileInputStream.java \\\n+java/io/FileNotFoundException.java \\\n+java/io/FileOutputStream.java \\\n+java/io/FileReader.java\t\\\n+java/io/FileWriter.java\t\\\n+java/io/FilenameFilter.java \\\n+java/io/FilterInputStream.java \\\n+java/io/FilterOutputStream.java\t\\\n+java/io/FilterReader.java \\\n+java/io/FilterWriter.java \\\n+java/io/IOException.java \\\n+java/io/InputStream.java \\\n+java/io/InputStreamReader.java \\\n+java/io/InterruptedIOException.java \\\n+java/io/LineNumberInputStream.java \\\n+java/io/LineNumberReader.java \\\n+java/io/OutputStream.java \\\n+java/io/OutputStreamWriter.java\t\\\n+java/io/PipedInputStream.java \\\n+java/io/PipedOutputStream.java \\\n+java/io/PipedReader.java \\\n+java/io/PipedWriter.java \\\n+java/io/PrintStream.java \\\n+java/io/PrintWriter.java \\\n+java/io/PushbackInputStream.java \\\n+java/io/PushbackReader.java \\\n+java/io/RandomAccessFile.java \\\n+java/io/Reader.java \\\n+java/io/SequenceInputStream.java \\\n+java/io/Serializable.java \\\n+java/io/StreamTokenizer.java \\\n+java/io/StringBufferInputStream.java \\\n+java/io/StringReader.java \\\n+java/io/StringWriter.java \\\n+java/io/SyncFailedException.java \\\n+java/io/UTFDataFormatException.java \\\n+java/io/UnsupportedEncodingException.java \\\n+java/io/Writer.java \\\n+java/lang/AbstractMethodError.java \\\n+java/lang/ArithmeticException.java \\\n+java/lang/ArrayIndexOutOfBoundsException.java \\\n+java/lang/ArrayStoreException.java \\\n+java/lang/Boolean.java \\\n+java/lang/Byte.java \\\n+java/lang/Character.java \\\n+java/lang/ClassCastException.java \\\n+java/lang/ClassCircularityError.java \\\n+java/lang/ClassFormatError.java\t\\\n+java/lang/ClassLoader.java \\\n+java/lang/ClassNotFoundException.java \\\n+java/lang/CloneNotSupportedException.java \\\n+java/lang/Cloneable.java \\\n+java/lang/Comparable.java \\\n+java/lang/Compiler.java\t\\\n+java/lang/Double.java \\\n+java/lang/Error.java \\\n+java/lang/Exception.java \\\n+java/lang/ExceptionInInitializerError.java \\\n+java/lang/FirstThread.java \\\n+java/lang/Float.java \\\n+java/lang/IllegalAccessError.java \\\n+java/lang/IllegalAccessException.java \\\n+java/lang/IllegalArgumentException.java\t\\\n+java/lang/IllegalMonitorStateException.java \\\n+java/lang/IllegalStateException.java \\\n+java/lang/IllegalThreadStateException.java \\\n+java/lang/IncompatibleClassChangeError.java \\\n+java/lang/IndexOutOfBoundsException.java \\\n+java/lang/InstantiationError.java \\\n+java/lang/InstantiationException.java \\\n+java/lang/Integer.java \\\n+java/lang/InternalError.java \\\n+java/lang/InterruptedException.java \\\n+java/lang/LinkageError.java \\\n+java/lang/Long.java \\\n+java/lang/Math.java \\\n+java/lang/NegativeArraySizeException.java \\\n+java/lang/NoClassDefFoundError.java \\\n+java/lang/NoSuchFieldError.java\t\\\n+java/lang/NoSuchFieldException.java \\\n+java/lang/NoSuchMethodError.java \\\n+java/lang/NoSuchMethodException.java \\\n+java/lang/NullPointerException.java \\\n+java/lang/Number.java \\\n+java/lang/NumberFormatException.java \\\n+java/lang/OutOfMemoryError.java\t\\\n+java/lang/Process.java \\\n+java/lang/Runnable.java\t\\\n+java/lang/Runtime.java \\\n+java/lang/RuntimeException.java\t\\\n+java/lang/SecurityException.java \\\n+java/lang/SecurityManager.java \\\n+java/lang/Short.java \\\n+java/lang/StackOverflowError.java \\\n+java/lang/String.java \\\n+java/lang/StringBuffer.java \\\n+java/lang/StringIndexOutOfBoundsException.java \\\n+java/lang/System.java \\\n+java/lang/Thread.java \\\n+java/lang/ThreadDeath.java \\\n+java/lang/ThreadGroup.java \\\n+java/lang/Throwable.java \\\n+java/lang/UnknownError.java \\\n+java/lang/UnsatisfiedLinkError.java \\\n+java/lang/UnsupportedOperationException.java \\\n+java/lang/VerifyError.java \\\n+java/lang/VirtualMachineError.java \\\n+java/lang/Void.java \\\n+java/lang/reflect/AccessibleObject.java\t\\\n+java/lang/reflect/Array.java \\\n+java/lang/reflect/Constructor.java \\\n+java/lang/reflect/Field.java \\\n+java/lang/reflect/InvocationTargetException.java \\\n+java/lang/reflect/Member.java \\\n+java/lang/reflect/Method.java \\\n+java/lang/reflect/Modifier.java\t\\\n+java/net/BindException.java \\\n+java/net/ConnectException.java \\\n+java/net/ContentHandler.java \\\n+java/net/ContentHandlerFactory.java \\\n+java/net/DatagramPacket.java \\\n+java/net/DatagramSocket.java \\\n+java/net/DatagramSocketImpl.java \\\n+java/net/FileNameMap.java \\\n+java/net/HttpURLConnection.java \\\n+java/net/InetAddress.java \\\n+java/net/JarURLConnection.java \\\n+java/net/MalformedURLException.java \\\n+java/net/MulticastSocket.java \\\n+java/net/NoRouteToHostException.java \\\n+java/net/PlainDatagramSocketImpl.java \\\n+java/net/PlainSocketImpl.java \\\n+java/net/ProtocolException.java\t\\\n+java/net/ServerSocket.java \\\n+java/net/Socket.java \\\n+java/net/SocketException.java \\\n+java/net/SocketImpl.java \\\n+java/net/SocketImplFactory.java\t\\\n+java/net/SocketOptions.java \\\n+java/net/URL.java \\\n+java/net/URLClassLoader.java \\\n+java/net/URLConnection.java \\\n+java/net/URLDecoder.java \\\n+java/net/URLEncoder.java \\\n+java/net/URLStreamHandler.java \\\n+java/net/URLStreamHandlerFactory.java \\\n+java/net/UnknownHostException.java \\\n+java/net/UnknownServiceException.java \\\n+java/security/MessageDigest.java \\\n+java/security/NoSuchAlgorithmException.java \\\n+java/security/SecureClassLoader.java \\\n+java/text/BreakIterator.java \\\n+java/text/CharacterIterator.java \\\n+java/text/ChoiceFormat.java \\\n+java/text/CollationElementIterator.java \\\n+java/text/CollationKey.java \\\n+java/text/Collator.java \\\n+java/text/DateFormat.java \\\n+java/text/DateFormatSymbols.java \\\n+java/text/DecimalFormat.java \\\n+java/text/DecimalFormatSymbols.java \\\n+java/text/FieldPosition.java \\\n+java/text/Format.java \\\n+java/text/MessageFormat.java \\\n+java/text/NumberFormat.java \\\n+java/text/ParseException.java \\\n+java/text/ParsePosition.java \\\n+java/text/RuleBasedCollator.java \\\n+java/text/SimpleDateFormat.java\t\\\n+java/text/StringCharacterIterator.java \\\n+java/util/BitSet.java \\\n+java/util/Calendar.java\t\\\n+java/util/ConcurrentModificationException.java \\\n+java/util/Date.java \\\n+java/util/Dictionary.java \\\n+java/util/EmptyStackException.java \\\n+java/util/Enumeration.java \\\n+java/util/EventListener.java \\\n+java/util/EventObject.java \\\n+java/util/GregorianCalendar.java \\\n+java/util/Hashtable.java \\\n+java/util/ListResourceBundle.java \\\n+java/util/Locale.java \\\n+java/util/MissingResourceException.java\t\\\n+java/util/NoSuchElementException.java \\\n+java/util/Observable.java \\\n+java/util/Observer.java\t\\\n+java/util/Properties.java \\\n+java/util/PropertyResourceBundle.java \\\n+java/util/Random.java \\\n+java/util/ResourceBundle.java \\\n+java/util/SimpleTimeZone.java \\\n+java/util/Stack.java \\\n+java/util/StringTokenizer.java \\\n+java/util/TimeZone.java\t\\\n+java/util/TooManyListenersException.java \\\n+java/util/Vector.java \\\n+java/util/jar/JarFile.java \\\n+java/util/jar/JarInputStream.java \\\n+java/util/jar/JarEntry.java \\\n+java/util/zip/Adler32.java \\\n+java/util/zip/CRC32.java \\\n+java/util/zip/CheckedInputStream.java \\\n+java/util/zip/CheckedOutputStream.java \\\n+java/util/zip/Checksum.java \\\n+java/util/zip/DataFormatException.java \\\n+java/util/zip/Deflater.java \\\n+java/util/zip/DeflaterOutputStream.java\t\\\n+java/util/zip/GZIPInputStream.java \\\n+java/util/zip/GZIPOutputStream.java \\\n+java/util/zip/Inflater.java \\\n+java/util/zip/InflaterInputStream.java\t\\\n+java/util/zip/ZipConstants.java\t\\\n+java/util/zip/ZipEntry.java \\\n+java/util/zip/ZipException.java\t\\\n+java/util/zip/ZipFile.java \\\n+java/util/zip/ZipInputStream.java \\\n+java/util/zip/ZipOutputStream.java\n \n \n java_source_files = $(ordinary_java_source_files) $(special_java_source_files)\n \n-c_source_files =    java/lang/dtoa.c        java/lang/k_rem_pio2.c  java/lang/s_tan.c         java/lang/e_acos.c      java/lang/k_sin.c       java/lang/strtod.c        java/lang/e_asin.c      java/lang/k_tan.c       java/lang/w_acos.c        java/lang/e_atan2.c     java/lang/mprec.c       java/lang/w_asin.c        java/lang/e_exp.c       java/lang/s_atan.c      java/lang/w_atan2.c       java/lang/e_fmod.c      java/lang/s_ceil.c      java/lang/w_exp.c         java/lang/e_log.c       java/lang/s_copysign.c  java/lang/w_fmod.c        java/lang/e_pow.c       java/lang/s_cos.c       java/lang/w_log.c         java/lang/e_rem_pio2.c  java/lang/s_fabs.c      java/lang/w_pow.c         java/lang/e_remainder.c java/lang/s_floor.c     java/lang/w_remainder.c   java/lang/e_scalb.c     java/lang/s_rint.c      java/lang/w_sqrt.c        java/lang/e_sqrt.c      java/lang/s_scalbn.c    java/lang/sf_rint.c       java/lang/k_cos.c       java/lang/s_sin.c\n+c_source_files = \\\n+  java/lang/dtoa.c        java/lang/k_rem_pio2.c  java/lang/s_tan.c       \\\n+  java/lang/e_acos.c      java/lang/k_sin.c       java/lang/strtod.c      \\\n+  java/lang/e_asin.c      java/lang/k_tan.c       java/lang/w_acos.c      \\\n+  java/lang/e_atan2.c     java/lang/mprec.c       java/lang/w_asin.c      \\\n+  java/lang/e_exp.c       java/lang/s_atan.c      java/lang/w_atan2.c     \\\n+  java/lang/e_fmod.c      java/lang/s_ceil.c      java/lang/w_exp.c       \\\n+  java/lang/e_log.c       java/lang/s_copysign.c  java/lang/w_fmod.c      \\\n+  java/lang/e_pow.c       java/lang/s_cos.c       java/lang/w_log.c       \\\n+  java/lang/e_rem_pio2.c  java/lang/s_fabs.c      java/lang/w_pow.c       \\\n+  java/lang/e_remainder.c java/lang/s_floor.c     java/lang/w_remainder.c \\\n+  java/lang/e_scalb.c     java/lang/s_rint.c      java/lang/w_sqrt.c      \\\n+  java/lang/e_sqrt.c      java/lang/s_scalbn.c    java/lang/sf_rint.c     \\\n+  java/lang/k_cos.c       java/lang/s_sin.c\n \n \n #java/awt/natToolkit.cc\n \n-nat_source_files =  gnu/gcj/convert/JIS0208_to_Unicode.cc gnu/gcj/convert/JIS0212_to_Unicode.cc gnu/gcj/convert/Unicode_to_JIS.cc gnu/gcj/convert/natInput_EUCJIS.cc gnu/gcj/convert/natInput_SJIS.cc gnu/gcj/convert/natOutput_EUCJIS.cc gnu/gcj/convert/natOutput_SJIS.cc java/io/natFile.cc java/io/natFileDescriptor.cc java/lang/natCharacter.cc java/lang/natClass.cc java/lang/natClassLoader.cc java/lang/natConcreteProcess.cc java/lang/natDouble.cc java/lang/natFirstThread.cc java/lang/natFloat.cc java/lang/natMath.cc java/lang/natObject.cc java/lang/natRuntime.cc\tjava/lang/natString.cc java/lang/natSystem.cc java/lang/natThread.cc java/lang/reflect/natArray.cc java/lang/reflect/natField.cc java/lang/reflect/natMethod.cc java/net/natInetAddress.cc java/net/natPlainDatagramSocketImpl.cc java/net/natPlainSocketImpl.cc java/text/natCollator.cc java/util/natDate.cc java/util/natGregorianCalendar.cc java/util/zip/natDeflater.cc java/util/zip/natInflater.cc\n+nat_source_files = \\\n+gnu/gcj/convert/JIS0208_to_Unicode.cc \\\n+gnu/gcj/convert/JIS0212_to_Unicode.cc \\\n+gnu/gcj/convert/Unicode_to_JIS.cc \\\n+gnu/gcj/convert/natInput_EUCJIS.cc \\\n+gnu/gcj/convert/natInput_SJIS.cc \\\n+gnu/gcj/convert/natOutput_EUCJIS.cc \\\n+gnu/gcj/convert/natOutput_SJIS.cc \\\n+java/io/natFile.cc \\\n+java/io/natFileDescriptor.cc \\\n+java/lang/natCharacter.cc \\\n+java/lang/natClass.cc \\\n+java/lang/natClassLoader.cc \\\n+java/lang/natConcreteProcess.cc \\\n+java/lang/natDouble.cc \\\n+java/lang/natFirstThread.cc \\\n+java/lang/natFloat.cc \\\n+java/lang/natMath.cc \\\n+java/lang/natObject.cc \\\n+java/lang/natRuntime.cc\t\\\n+java/lang/natString.cc \\\n+java/lang/natSystem.cc \\\n+java/lang/natThread.cc \\\n+java/lang/reflect/natArray.cc \\\n+java/lang/reflect/natField.cc \\\n+java/lang/reflect/natMethod.cc \\\n+java/net/natInetAddress.cc \\\n+java/net/natPlainDatagramSocketImpl.cc \\\n+java/net/natPlainSocketImpl.cc \\\n+java/text/natCollator.cc \\\n+java/util/natDate.cc \\\n+java/util/natGregorianCalendar.cc \\\n+java/util/zip/natDeflater.cc \\\n+java/util/zip/natInflater.cc\n \n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS\n # values defined in terms of make variables, as is the case for CC and\n # friends when we are called from the top level Makefile.\n-AM_MAKEFLAGS =  \t\"AR_FLAGS=$(AR_FLAGS)\" \t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \t\"CFLAGS=$(CFLAGS)\" \t\"CXXFLAGS=$(CXXFLAGS)\" \t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \t\"INSTALL=$(INSTALL)\" \t\"INSTALL_DATA=$(INSTALL_DATA)\" \t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \t\"JC1FLAGS=$(JC1FLAGS)\" \t\"LDFLAGS=$(LDFLAGS)\" \t\"LIBCFLAGS=$(LIBCFLAGS)\" \t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \t\"MAKE=$(MAKE)\" \t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \t\"PICFLAG=$(PICFLAG)\" \t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \t\"SHELL=$(SHELL)\" \t\"exec_prefix=$(exec_prefix)\" \t\"infodir=$(infodir)\" \t\"libdir=$(libdir)\" \t\"prefix=$(prefix)\" \t\"AR=$(AR)\" \t\"AS=$(AS)\" \t\"CC=$(CC)\" \t\"CXX=$(CXX)\" \t\"LD=$(LD)\" \t\"LIBCFLAGS=$(LIBCFLAGS)\" \t\"NM=$(NM)\" \t\"PICFLAG=$(PICFLAG)\" \t\"RANLIB=$(RANLIB)\" \t\"DESTDIR=$(DESTDIR)\"\n+AM_MAKEFLAGS = \\\n+\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n+\t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n+\t\"CFLAGS=$(CFLAGS)\" \\\n+\t\"CXXFLAGS=$(CXXFLAGS)\" \\\n+\t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n+\t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n+\t\"INSTALL=$(INSTALL)\" \\\n+\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n+\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n+\t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \\\n+\t\"JC1FLAGS=$(JC1FLAGS)\" \\\n+\t\"LDFLAGS=$(LDFLAGS)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \\\n+\t\"MAKE=$(MAKE)\" \\\n+\t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n+\t\"SHELL=$(SHELL)\" \\\n+\t\"exec_prefix=$(exec_prefix)\" \\\n+\t\"infodir=$(infodir)\" \\\n+\t\"libdir=$(libdir)\" \\\n+\t\"prefix=$(prefix)\" \\\n+\t\"AR=$(AR)\" \\\n+\t\"AS=$(AS)\" \\\n+\t\"CC=$(CC)\" \\\n+\t\"CXX=$(CXX)\" \\\n+\t\"LD=$(LD)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"NM=$(NM)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"RANLIB=$(RANLIB)\" \\\n+\t\"DESTDIR=$(DESTDIR)\"\n \n \n CONFIG_STATUS_DEPENDENCIES = $(libgcj_basedir)/configure.host"}, {"sha": "2d3762e1170b39fdcc3237d08afdae8b26f2a1b9", "filename": "libjava/acconfig.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Facconfig.h?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -106,3 +106,9 @@\n \n /* Define if you want a bytecode interpreter.  */\n #undef INTERPRETER\n+\n+/* Define if pthread_mutex_t has m_count member.  */\n+#undef PTHREAD_MUTEX_HAVE_M_COUNT\n+\n+/* Define if pthread_mutex_t has __m_count member.  */\n+#undef PTHREAD_MUTEX_HAVE___M_COUNT"}, {"sha": "6c7a0eea9a826d399c07870b02779d78ad498926", "filename": "libjava/aclocal.m4", "status": "modified", "additions": 270, "deletions": 72, "changes": 342, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Faclocal.m4?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -20,7 +20,7 @@ AC_DEFUN(LIBGCJ_CONFIGURE,\n [\n dnl Default to --enable-multilib\n AC_ARG_ENABLE(multilib,\n-[  --enable-multilib         build many library versions (default)],\n+[  --enable-multilib       build many library versions (default)],\n [case \"${enableval}\" in\n   yes) multilib=yes ;;\n   no)  multilib=no ;;\n@@ -318,7 +318,7 @@ done<<>>dnl>>)\n changequote([,]))])\n \n \n-# serial 40 AC_PROG_LIBTOOL\n+# serial 35 AC_PROG_LIBTOOL\n AC_DEFUN(AC_PROG_LIBTOOL,\n [AC_REQUIRE([AC_LIBTOOL_SETUP])dnl\n \n@@ -327,9 +327,8 @@ AC_CACHE_SAVE\n \n # Actually configure libtool.  ac_aux_dir is where install-sh is found.\n CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n-LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" OBJDUMP=\"$OBJDUMP\" \\\n+LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n $libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n || AC_MSG_ERROR([libtool configure failed])\n@@ -360,6 +359,8 @@ AC_REQUIRE([AC_PROG_RANLIB])dnl\n AC_REQUIRE([AC_PROG_CC])dnl\n AC_REQUIRE([AC_PROG_LD])dnl\n AC_REQUIRE([AC_PROG_NM])dnl\n+AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n+AC_REQUIRE([AC_SYS_SYMBOL_UNDERSCORE])dnl\n AC_REQUIRE([AC_PROG_LN_S])dnl\n dnl\n \n@@ -368,16 +369,10 @@ libtool_flags=\"--cache-file=$cache_file\"\n test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n+test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n-ifdef([AC_PROVIDE_AC_LIBTOOL_DLOPEN],\n-[libtool_flags=\"$libtool_flags --enable-dlopen\"])\n-ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n-[libtool_flags=\"$libtool_flags --enable-win32-dll\"])\n-AC_ARG_ENABLE(libtool-lock,\n-  [  --disable-libtool-lock  avoid locking (might break parallel builds)])\n-test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n-test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n \n # Some flags need to be propagated to the compiler or linker for good\n # libtool support.\n@@ -413,28 +408,33 @@ case \"$host\" in\n   fi\n   ;;\n \n-ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n-[*-*-cygwin* | *-*-mingw*)\n-  AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n-  AC_CHECK_TOOL(AS, as, false)\n-  AC_CHECK_TOOL(OBJDUMP, objdump, false)\n+*-*-cygwin*)\n+  AC_SYS_LIBTOOL_CYGWIN\n   ;;\n-])\n+\n esac\n-])\n \n-# AC_LIBTOOL_DLOPEN - enable checks for dlopen support\n-AC_DEFUN(AC_LIBTOOL_DLOPEN, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])\n+# enable the --disable-libtool-lock switch\n+\n+AC_ARG_ENABLE(libtool-lock,\n+[  --disable-libtool-lock  force libtool not to do file locking],\n+need_locks=$enableval,\n+need_locks=yes)\n+\n+if test x\"$need_locks\" = xno; then\n+  libtool_flags=\"$libtool_flags --disable-lock\"\n+fi\n+])\n \n-# AC_LIBTOOL_WIN32_DLL - declare package support for building win32 dll's\n-AC_DEFUN(AC_LIBTOOL_WIN32_DLL, [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])])\n+# AC_LIBTOOL_DLOPEN - check for dlopen support\n+AC_DEFUN(AC_LIBTOOL_DLOPEN, [lt_dlopen=yes])\n \n # AC_ENABLE_SHARED - implement the --enable-shared flag\n # Usage: AC_ENABLE_SHARED[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AC_ENABLE_SHARED, [dnl\n-define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_SHARED,\n+[define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(shared,\n changequote(<<, >>)dnl\n <<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],\n@@ -459,15 +459,15 @@ enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl\n ])\n \n # AC_DISABLE_SHARED - set the default shared flag to --disable-shared\n-AC_DEFUN(AC_DISABLE_SHARED, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n-AC_ENABLE_SHARED(no)])\n+AC_DEFUN(AC_DISABLE_SHARED,\n+[AC_ENABLE_SHARED(no)])\n \n # AC_ENABLE_STATIC - implement the --enable-static flag\n # Usage: AC_ENABLE_STATIC[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AC_ENABLE_STATIC, [dnl\n-define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_STATIC,\n+[define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(static,\n changequote(<<, >>)dnl\n <<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],\n@@ -492,16 +492,16 @@ enable_static=AC_ENABLE_STATIC_DEFAULT)dnl\n ])\n \n # AC_DISABLE_STATIC - set the default static flag to --disable-static\n-AC_DEFUN(AC_DISABLE_STATIC, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n-AC_ENABLE_STATIC(no)])\n+AC_DEFUN(AC_DISABLE_STATIC,\n+[AC_ENABLE_STATIC(no)])\n \n \n # AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag\n # Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AC_ENABLE_FAST_INSTALL, [dnl\n-define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_FAST_INSTALL,\n+[define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(fast-install,\n changequote(<<, >>)dnl\n <<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],\n@@ -526,8 +526,9 @@ enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl\n ])\n \n # AC_ENABLE_FAST_INSTALL - set the default to --disable-fast-install\n-AC_DEFUN(AC_DISABLE_FAST_INSTALL, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n-AC_ENABLE_FAST_INSTALL(no)])\n+AC_DEFUN(AC_DISABLE_FAST_INSTALL,\n+[AC_ENABLE_FAST_INSTALL(no)])\n+\n \n # AC_PROG_LD - find the path to the GNU or non-GNU linker\n AC_DEFUN(AC_PROG_LD,\n@@ -545,7 +546,7 @@ if test \"$ac_cv_prog_gcc\" = yes; then\n   case \"$ac_prog\" in\n     # Accept absolute paths.\n changequote(,)dnl\n-    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+    /* | [A-Za-z]:[\\\\/]*)\n       re_direlt='/[^/][^/]*/\\.\\./'\n changequote([,])dnl\n       # Canonicalize the path of ld\n@@ -571,10 +572,10 @@ else\n fi\n AC_CACHE_VAL(ac_cv_path_LD,\n [if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n   for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+    if test -f \"$ac_dir/$ac_prog\"; then\n       ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n       # Check to see if the program is GNU ld.  I'd rather use --version,\n       # but apparently some GNU ld's only accept -v.\n@@ -619,10 +620,10 @@ AC_CACHE_VAL(ac_cv_path_NM,\n   # Let the user override the test.\n   ac_cv_path_NM=\"$NM\"\n else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/nm || test -f $ac_dir/nm$ac_exeext ; then\n+    if test -f $ac_dir/nm; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n@@ -646,22 +647,227 @@ AC_MSG_RESULT([$NM])\n AC_SUBST(NM)\n ])\n \n-# AC_CHECK_LIBM - check for math library\n-AC_DEFUN(AC_CHECK_LIBM,\n+# AC_SYS_NM_PARSE - Check for command to grab the raw symbol name followed\n+# by C symbol name from nm.\n+AC_DEFUN(AC_SYS_NM_PARSE,\n [AC_REQUIRE([AC_CANONICAL_HOST])dnl\n-LIBM=\n-case \"$host\" in\n-*-*-beos* | *-*-cygwin*)\n-  # These system don't have libm\n+AC_REQUIRE([AC_PROG_NM])dnl\n+# Check for command to grab the raw symbol name followed by C symbol from nm.\n+AC_MSG_CHECKING([command to parse $NM output])\n+AC_CACHE_VAL(ac_cv_sys_global_symbol_pipe,\n+[# These are sane defaults that work on at least a few old systems.\n+# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n+\n+changequote(,)dnl\n+# Character class describing NM global symbol codes.\n+ac_symcode='[BCDEGRST]'\n+\n+# Regexp to match symbols that can be accessed directly from C.\n+ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n+\n+# Transform the above into a raw symbol and a C symbol.\n+ac_symxfrm='\\1 \\2\\3 \\3'\n+\n+# Transform an extracted symbol line into a proper C declaration\n+ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+\n+# Define system-specific variables.\n+case \"$host_os\" in\n+aix*)\n+  ac_symcode='[BCDT]'\n   ;;\n-*-ncr-sysv4.3*)\n-  AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM=\"-lmw\")\n-  AC_CHECK_LIB(m, main, LIBM=\"$LIBM -lm\")\n+cygwin* | mingw*)\n+  ac_symcode='[ABCDGISTW]'\n   ;;\n-*)\n-  AC_CHECK_LIB(m, main, LIBM=\"-lm\")\n+hpux*)\n+  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+  ;;\n+irix*)\n+  ac_symcode='[BCDEGRST]'\n+  ;;\n+solaris*)\n+  ac_symcode='[BDT]'\n   ;;\n esac\n+\n+# If we're using GNU nm, then use its standard symbol codes.\n+if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n+  ac_symcode='[ABCDGISTW]'\n+fi\n+changequote([,])dnl\n+\n+# Try without a prefix undercore, then with it.\n+for ac_symprfx in \"\" \"_\"; do\n+\n+  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.*[ \t]\\($ac_symcode\\)[ \t][ \t]*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n+\n+  # Check to see that the pipe works correctly.\n+  ac_pipe_works=no\n+  rm -f conftest.$ac_ext\n+  cat > conftest.$ac_ext <<EOF\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+char nm_test_var;\n+void nm_test_func(){}\n+#ifdef __cplusplus\n+}\n+#endif\n+int main(){nm_test_var='a';nm_test_func;return 0;}\n+EOF\n+\n+  if AC_TRY_EVAL(ac_compile); then\n+    # Now try to grab the symbols.\n+    ac_nlist=conftest.nm\n+  \n+    if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n+\n+      # Try sorting and uniquifying the output.\n+      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n+\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n+      else\n+\trm -f \"$ac_nlist\"T\n+      fi\n+\n+      # Make sure that we snagged all the symbols we need.\n+      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n+\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n+\t  cat <<EOF > conftest.c\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+EOF\n+\t  # Now generate the symbol file.\n+\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n+\n+\t  cat <<EOF >> conftest.c\n+#if defined (__STDC__) && __STDC__\n+# define lt_ptr_t void *\n+#else\n+# define lt_ptr_t char *\n+# define const\n+#endif\n+\n+/* The mapping between symbol names and symbols. */\n+const struct {\n+  const char *name;\n+  lt_ptr_t address;\n+}\n+changequote(,)dnl\n+lt_preloaded_symbols[] =\n+changequote([,])dnl\n+{\n+EOF\n+\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n+\tcat <<\\EOF >> conftest.c\n+  {0, (lt_ptr_t) 0}\n+};\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+EOF\n+\t  # Now try linking the two files.\n+\t  mv conftest.$ac_objext conftestm.$ac_objext\n+\t  ac_save_LIBS=\"$LIBS\"\n+\t  ac_save_CFLAGS=\"$CFLAGS\"\n+\t  LIBS=\"conftestm.$ac_objext\"\n+\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n+\t  if AC_TRY_EVAL(ac_link) && test -s conftest; then\n+\t    ac_pipe_works=yes\n+\t  else\n+\t    echo \"configure: failed program was:\" >&AC_FD_CC\n+\t    cat conftest.c >&AC_FD_CC\n+\t  fi\n+\t  LIBS=\"$ac_save_LIBS\"\n+\t  CFLAGS=\"$ac_save_CFLAGS\"\n+\telse\n+\t  echo \"cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n+\tfi\n+      else\n+\techo \"cannot find nm_test_var in $ac_nlist\" >&AC_FD_CC\n+      fi\n+    else\n+      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n+    fi\n+  else\n+    echo \"$progname: failed program was:\" >&AC_FD_CC\n+    cat conftest.c >&AC_FD_CC\n+  fi\n+  rm -rf conftest*\n+\n+  # Do not use the global_symbol_pipe unless it works.\n+  if test \"$ac_pipe_works\" = yes; then\n+    if test x\"$ac_symprfx\" = x\"_\"; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      ac_cv_sys_symbol_underscore=no\n+    fi\n+    break\n+  else\n+    ac_cv_sys_global_symbol_pipe=\n+  fi\n+done\n+])\n+\n+ac_result=yes\n+if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n+   ac_result=no\n+fi\n+AC_MSG_RESULT($ac_result)\n+])\n+\n+# AC_SYS_LIBTOOL_CYGWIN - find tools needed on cygwin\n+AC_DEFUN(AC_SYS_LIBTOOL_CYGWIN,\n+[AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n+AC_CHECK_TOOL(AS, as, false)\n+])\n+\n+# AC_SYS_SYMBOL_UNDERSCORE - does the compiler prefix global symbols\n+#                            with an underscore?\n+AC_DEFUN(AC_SYS_SYMBOL_UNDERSCORE,\n+[AC_REQUIRE([AC_PROG_NM])dnl\n+AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n+AC_MSG_CHECKING([for _ prefix in compiled symbols])\n+AC_CACHE_VAL(ac_cv_sys_symbol_underscore,\n+[ac_cv_sys_symbol_underscore=no\n+cat > conftest.$ac_ext <<EOF\n+void nm_test_func(){}\n+int main(){nm_test_func;return 0;}\n+EOF\n+if AC_TRY_EVAL(ac_compile); then\n+  # Now try to grab the symbols.\n+  ac_nlist=conftest.nm\n+  if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n+    # See whether the symbols have a leading underscore.\n+    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n+\t:\n+      else\n+\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n+      fi\n+    fi\n+  else\n+    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n+  fi\n+else\n+  echo \"configure: failed program was:\" >&AC_FD_CC\n+  cat conftest.c >&AC_FD_CC\n+fi\n+rm -rf conftest*\n+])\n+AC_MSG_RESULT($ac_cv_sys_symbol_underscore)\n+USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n+AC_SUBST(USE_SYMBOL_UNDERSCORE)dnl\n+])\n+\n+# AC_CHECK_LIBM - check for math library\n+AC_DEFUN(AC_CHECK_LIBM, [\n+AC_CHECK_LIB(mw, _mwvalidcheckl)\n+AC_CHECK_LIB(m, cos)\n ])\n \n # AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for\n@@ -672,14 +878,13 @@ esac\n # '${top_builddir}/' (note the single quotes!) if your package is not\n # flat, and, if you're not using automake, define top_builddir as\n # appropriate in the Makefiles.\n-AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [\n   case \"$enable_ltdl_convenience\" in\n   no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;\n   \"\") enable_ltdl_convenience=yes\n       ac_configure_args=\"$ac_configure_args --enable-ltdl-convenience\" ;;\n   esac\n   LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdlc.la\n-  INCLTDL=ifelse($#,1,-I$1,['-I${top_builddir}/libltdl'])\n ])\n \n # AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for\n@@ -691,23 +896,16 @@ AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n # flat, and, if you're not using automake, define top_builddir as\n # appropriate in the Makefiles.\n # In the future, this macro may have to be called after AC_PROG_LIBTOOL.\n-AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n-  AC_CHECK_LIB(ltdl, main,\n-  [test x\"$enable_ltdl_install\" != xyes && enable_ltdl_install=no],\n-  [if test x\"$enable_ltdl_install\" = xno; then\n-     AC_MSG_WARN([libltdl not installed, but installation disabled])\n-   else\n-     enable_ltdl_install=yes\n-   fi\n+AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [\n+  AC_CHECK_LIB(ltdl, main, LIBLTDL=\"-lltdl\", [\n+    case \"$enable_ltdl_install\" in\n+    no) AC_MSG_WARN([libltdl not installed, but installation disabled]) ;;\n+    \"\") enable_ltdl_install=yes\n+        ac_configure_args=\"$ac_configure_args --enable-ltdl-install\" ;;\n+    esac\n   ])\n-  if test x\"$enable_ltdl_install\" = x\"yes\"; then\n-    ac_configure_args=\"$ac_configure_args --enable-ltdl-install\"\n+  if test x\"$enable_ltdl_install\" != x\"no\"; then\n     LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdl.la\n-    INCLTDL=ifelse($#,1,-I$1,['-I${top_builddir}/libltdl'])\n-  else\n-    ac_configure_args=\"$ac_configure_args --enable-ltdl-install=no\"\n-    LIBLTDL=\"-lltdl\"\n-    INCLTDL=\n   fi\n ])\n \n@@ -719,7 +917,7 @@ AC_DEFUN(AM_DISABLE_SHARED, [indir([AC_DISABLE_SHARED], $@)])dnl\n AC_DEFUN(AM_DISABLE_STATIC, [indir([AC_DISABLE_STATIC], $@)])dnl\n AC_DEFUN(AM_PROG_LD, [indir([AC_PROG_LD])])dnl\n AC_DEFUN(AM_PROG_NM, [indir([AC_PROG_NM])])dnl\n-\n-dnl This is just to silence aclocal about the macro not being used\n-ifelse([AC_DISABLE_FAST_INSTALL])dnl\n+AC_DEFUN(AM_SYS_NM_PARSE, [indir([AC_SYS_NM_PARSE])])dnl\n+AC_DEFUN(AM_SYS_SYMBOL_UNDERSCORE, [indir([AC_SYS_SYMBOL_UNDERSCORE])])dnl\n+AC_DEFUN(AM_SYS_LIBTOOL_CYGWIN, [indir([AC_SYS_LIBTOOL_CYGWIN])])dnl\n "}, {"sha": "6ee7d9b20a036cc8259003769d87d9c0e693227a", "filename": "libjava/configure", "status": "modified", "additions": 586, "deletions": 195, "changes": 781, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -17,7 +17,7 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --with-cross-host=HOST  configuring with a cross compiler\"\n ac_help=\"$ac_help\n-  --enable-multilib         build many library versions (default)\"\n+  --enable-multilib       build many library versions (default)\"\n ac_help=\"$ac_help\n   --enable-maintainer-mode enable make rules and dependencies not useful\n                           (and sometimes confusing) to the casual installer\"\n@@ -30,7 +30,7 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\"\n ac_help=\"$ac_help\n-  --disable-libtool-lock  avoid locking (might break parallel builds)\"\n+  --disable-libtool-lock  force libtool not to do file locking\"\n ac_help=\"$ac_help\n   --enable-fast-character prefer speed over size for Character\"\n ac_help=\"$ac_help\n@@ -1922,7 +1922,7 @@ echo \"configure:1922: checking for ld used by GCC\" >&5\n   ac_prog=`($CC -print-prog-name=ld) 2>&5`\n   case \"$ac_prog\" in\n     # Accept absolute paths.\n-    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+    /* | [A-Za-z]:[\\\\/]*)\n       re_direlt='/[^/][^/]*/\\.\\./'\n       # Canonicalize the path of ld\n       ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n@@ -1951,10 +1951,10 @@ if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n   for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+    if test -f \"$ac_dir/$ac_prog\"; then\n       ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n       # Check to see if the program is GNU ld.  I'd rather use --version,\n       # but apparently some GNU ld's only accept -v.\n@@ -2005,10 +2005,10 @@ else\n   # Let the user override the test.\n   ac_cv_path_NM=\"$NM\"\n else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/nm || test -f $ac_dir/nm$ac_exeext ; then\n+    if test -f $ac_dir/nm; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n@@ -2033,8 +2033,212 @@ NM=\"$ac_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n \n+# Check for command to grab the raw symbol name followed by C symbol from nm.\n+echo $ac_n \"checking command to parse $NM output\"\"... $ac_c\" 1>&6\n+echo \"configure:2039: checking command to parse $NM output\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_sys_global_symbol_pipe'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # These are sane defaults that work on at least a few old systems.\n+# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n+\n+# Character class describing NM global symbol codes.\n+ac_symcode='[BCDEGRST]'\n+\n+# Regexp to match symbols that can be accessed directly from C.\n+ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n+\n+# Transform the above into a raw symbol and a C symbol.\n+ac_symxfrm='\\1 \\2\\3 \\3'\n+\n+# Transform an extracted symbol line into a proper C declaration\n+ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+\n+# Define system-specific variables.\n+case \"$host_os\" in\n+aix*)\n+  ac_symcode='[BCDT]'\n+  ;;\n+cygwin* | mingw*)\n+  ac_symcode='[ABCDGISTW]'\n+  ;;\n+hpux*)\n+  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+  ;;\n+irix*)\n+  ac_symcode='[BCDEGRST]'\n+  ;;\n+solaris*)\n+  ac_symcode='[BDT]'\n+  ;;\n+esac\n+\n+# If we're using GNU nm, then use its standard symbol codes.\n+if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n+  ac_symcode='[ABCDGISTW]'\n+fi\n+\n+# Try without a prefix undercore, then with it.\n+for ac_symprfx in \"\" \"_\"; do\n+\n+  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.* \t\\($ac_symcode\\) \t \t*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n+\n+  # Check to see that the pipe works correctly.\n+  ac_pipe_works=no\n+  rm -f conftest.$ac_ext\n+  cat > conftest.$ac_ext <<EOF\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+char nm_test_var;\n+void nm_test_func(){}\n+#ifdef __cplusplus\n+}\n+#endif\n+int main(){nm_test_var='a';nm_test_func;return 0;}\n+EOF\n+\n+  if { (eval echo configure:2102: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+    # Now try to grab the symbols.\n+    ac_nlist=conftest.nm\n+  \n+    if { (eval echo configure:2106: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+\n+      # Try sorting and uniquifying the output.\n+      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n+\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n+      else\n+\trm -f \"$ac_nlist\"T\n+      fi\n+\n+      # Make sure that we snagged all the symbols we need.\n+      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n+\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n+\t  cat <<EOF > conftest.c\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+EOF\n+\t  # Now generate the symbol file.\n+\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n+\n+\t  cat <<EOF >> conftest.c\n+#if defined (__STDC__) && __STDC__\n+# define lt_ptr_t void *\n+#else\n+# define lt_ptr_t char *\n+# define const\n+#endif\n+\n+/* The mapping between symbol names and symbols. */\n+const struct {\n+  const char *name;\n+  lt_ptr_t address;\n+}\n+lt_preloaded_symbols[] =\n+{\n+EOF\n+\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n+\tcat <<\\EOF >> conftest.c\n+  {0, (lt_ptr_t) 0}\n+};\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+EOF\n+\t  # Now try linking the two files.\n+\t  mv conftest.$ac_objext conftestm.$ac_objext\n+\t  ac_save_LIBS=\"$LIBS\"\n+\t  ac_save_CFLAGS=\"$CFLAGS\"\n+\t  LIBS=\"conftestm.$ac_objext\"\n+\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n+\t  if { (eval echo configure:2158: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+\t    ac_pipe_works=yes\n+\t  else\n+\t    echo \"configure: failed program was:\" >&5\n+\t    cat conftest.c >&5\n+\t  fi\n+\t  LIBS=\"$ac_save_LIBS\"\n+\t  CFLAGS=\"$ac_save_CFLAGS\"\n+\telse\n+\t  echo \"cannot find nm_test_func in $ac_nlist\" >&5\n+\tfi\n+      else\n+\techo \"cannot find nm_test_var in $ac_nlist\" >&5\n+      fi\n+    else\n+      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n+    fi\n+  else\n+    echo \"$progname: failed program was:\" >&5\n+    cat conftest.c >&5\n+  fi\n+  rm -rf conftest*\n+\n+  # Do not use the global_symbol_pipe unless it works.\n+  if test \"$ac_pipe_works\" = yes; then\n+    if test x\"$ac_symprfx\" = x\"_\"; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      ac_cv_sys_symbol_underscore=no\n+    fi\n+    break\n+  else\n+    ac_cv_sys_global_symbol_pipe=\n+  fi\n+done\n+\n+fi\n+\n+\n+ac_result=yes\n+if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n+   ac_result=no\n+fi\n+echo \"$ac_t\"\"$ac_result\" 1>&6\n+\n+echo $ac_n \"checking for _ prefix in compiled symbols\"\"... $ac_c\" 1>&6\n+echo \"configure:2204: checking for _ prefix in compiled symbols\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_sys_symbol_underscore'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  ac_cv_sys_symbol_underscore=no\n+cat > conftest.$ac_ext <<EOF\n+void nm_test_func(){}\n+int main(){nm_test_func;return 0;}\n+EOF\n+if { (eval echo configure:2213: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  # Now try to grab the symbols.\n+  ac_nlist=conftest.nm\n+  if { (eval echo configure:2216: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+    # See whether the symbols have a leading underscore.\n+    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n+\t:\n+      else\n+\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&5\n+      fi\n+    fi\n+  else\n+    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n+  fi\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.c >&5\n+fi\n+rm -rf conftest*\n+\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_sys_symbol_underscore\" 1>&6\n+USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n+\n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:2038: checking whether ln -s works\" >&5\n+echo \"configure:2242: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2060,26 +2264,18 @@ libtool_flags=\"--cache-file=$cache_file\"\n test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n+test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n \n-\n-# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n-if test \"${enable_libtool_lock+set}\" = set; then\n-  enableval=\"$enable_libtool_lock\"\n-  :\n-fi\n-\n-test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n-test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n-\n # Some flags need to be propagated to the compiler or linker for good\n # libtool support.\n case \"$host\" in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 2082 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:2083: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 2278 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2279: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -2100,19 +2296,19 @@ case \"$host\" in\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:2104: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:2300: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2109 \"configure\"\n+#line 2305 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2116: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2312: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -2131,9 +2327,161 @@ echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n   fi\n   ;;\n \n+*-*-cygwin*)\n+  # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2335: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DLLTOOL\"; then\n+  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DLLTOOL=\"${ac_tool_prefix}dlltool\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n+if test -n \"$DLLTOOL\"; then\n+  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_DLLTOOL\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"dlltool\", so it can be a program name with args.\n+set dummy dlltool; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2367: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DLLTOOL\"; then\n+  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DLLTOOL=\"dlltool\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_DLLTOOL\" && ac_cv_prog_DLLTOOL=\"false\"\n+fi\n+fi\n+DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n+if test -n \"$DLLTOOL\"; then\n+  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  DLLTOOL=\"false\"\n+fi\n+fi\n+\n+# Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2402: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_AS\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"as\", so it can be a program name with args.\n+set dummy as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2434: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"false\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  AS=\"false\"\n+fi\n+fi\n+\n+\n+  ;;\n \n esac\n \n+# enable the --disable-libtool-lock switch\n+\n+# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n+if test \"${enable_libtool_lock+set}\" = set; then\n+  enableval=\"$enable_libtool_lock\"\n+  need_locks=$enableval\n+else\n+  need_locks=yes\n+fi\n+\n+\n+if test x\"$need_locks\" = xno; then\n+  libtool_flags=\"$libtool_flags --disable-lock\"\n+fi\n+\n \n # Save cache, so that ltconfig can load it\n cat > confcache <<\\EOF\n@@ -2186,9 +2534,8 @@ rm -f confcache\n \n # Actually configure libtool.  ac_aux_dir is where install-sh is found.\n CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n-LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" OBJDUMP=\"$OBJDUMP\" \\\n+LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n $libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n || { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n@@ -2268,9 +2615,6 @@ EOF\n fi\n \n \n-INTERPSPEC=\n-\n-\n TARGET_ECOS=\"no\"\n # Check whether --with-ecos or --without-ecos was given.\n if test \"${with_ecos+set}\" = set; then\n@@ -2296,7 +2640,7 @@ EOF\n esac\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2300: checking how to run the C preprocessor\" >&5\n+echo \"configure:2644: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2311,13 +2655,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2315 \"configure\"\n+#line 2659 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2321: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2665: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2328,13 +2672,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2332 \"configure\"\n+#line 2676 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2338: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2682: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2345,13 +2689,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2349 \"configure\"\n+#line 2693 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2355: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2699: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2376,7 +2720,7 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n cat > conftest.$ac_ext <<EOF\n-#line 2380 \"configure\"\n+#line 2724 \"configure\"\n #include \"confdefs.h\"\n #include <stdint.h>\n EOF\n@@ -2391,7 +2735,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 2395 \"configure\"\n+#line 2739 \"configure\"\n #include \"confdefs.h\"\n #include <inttypes.h>\n EOF\n@@ -2406,7 +2750,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 2410 \"configure\"\n+#line 2754 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -2421,7 +2765,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 2425 \"configure\"\n+#line 2769 \"configure\"\n #include \"confdefs.h\"\n #include <sys/config.h>\n EOF\n@@ -2438,7 +2782,7 @@ rm -f conftest*\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 2442 \"configure\"\n+#line 2786 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -2453,7 +2797,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 2457 \"configure\"\n+#line 2801 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -2491,7 +2835,7 @@ ZLIBSPEC=\n libsubdir=.libs\n \n echo $ac_n \"checking for garbage collector to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2495: checking for garbage collector to use\" >&5\n+echo \"configure:2839: checking for garbage collector to use\" >&5\n # Check whether --enable-java-gc or --disable-java-gc was given.\n if test \"${enable_java_gc+set}\" = set; then\n   enableval=\"$enable_java_gc\"\n@@ -2541,7 +2885,7 @@ esac\n \n \n echo $ac_n \"checking for threads package to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2545: checking for threads package to use\" >&5\n+echo \"configure:2889: checking for threads package to use\" >&5\n # Check whether --enable-threads or --disable-threads was given.\n if test \"${enable_threads+set}\" = set; then\n   enableval=\"$enable_threads\"\n@@ -2728,17 +3072,15 @@ EOF\n       GCJ=\n    fi\n else\n-   # Some POSIX thread systems don't have pthread_mutexattr_settype.\n-   # E.g., Solaris.\n    for ac_func in strerror ioctl select open fsync sleep\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2737: checking for $ac_func\" >&5\n+echo \"configure:3079: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2742 \"configure\"\n+#line 3084 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2761,7 +3103,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2765: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3107: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2788,12 +3130,12 @@ done\n    for ac_func in ctime_r ctime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2792: checking for $ac_func\" >&5\n+echo \"configure:3134: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2797 \"configure\"\n+#line 3139 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2816,7 +3158,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2820: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3162: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2843,12 +3185,12 @@ done\n    for ac_func in gmtime_r localtime_r readdir_r getpwuid_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2847: checking for $ac_func\" >&5\n+echo \"configure:3189: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2852 \"configure\"\n+#line 3194 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2871,7 +3213,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2875: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3217: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2898,12 +3240,12 @@ done\n    for ac_func in access stat mkdir rename rmdir unlink realpath\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2902: checking for $ac_func\" >&5\n+echo \"configure:3244: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2907 \"configure\"\n+#line 3249 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2926,7 +3268,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2930: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3272: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2953,12 +3295,12 @@ done\n    for ac_func in inet_aton inet_addr\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2957: checking for $ac_func\" >&5\n+echo \"configure:3299: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2962 \"configure\"\n+#line 3304 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2981,7 +3323,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2985: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3327: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3008,12 +3350,12 @@ done\n    for ac_func in inet_pton uname inet_ntoa\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3012: checking for $ac_func\" >&5\n+echo \"configure:3354: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3017 \"configure\"\n+#line 3359 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3036,7 +3378,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3040: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3382: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3064,12 +3406,12 @@ done\n    for ac_func in gethostbyname_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3068: checking for $ac_func\" >&5\n+echo \"configure:3410: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3073 \"configure\"\n+#line 3415 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3092,7 +3434,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3096: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3438: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3119,7 +3461,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 3123 \"configure\"\n+#line 3465 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -3139,7 +3481,7 @@ rm -f conftest*\n      *\" -D_REENTRANT \"*) ;;\n      *)\n \t\techo $ac_n \"checking whether gethostbyname_r declaration requires -D_REENTRANT\"\"... $ac_c\" 1>&6\n-echo \"configure:3143: checking whether gethostbyname_r declaration requires -D_REENTRANT\" >&5\n+echo \"configure:3485: checking whether gethostbyname_r declaration requires -D_REENTRANT\" >&5\n if eval \"test \\\"`echo '$''{'libjava_cv_gethostbyname_r_needs_reentrant'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3152,14 +3494,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n \t  cat > conftest.$ac_ext <<EOF\n-#line 3156 \"configure\"\n+#line 3498 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n int main() {\n gethostbyname_r(\"\", 0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3163: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3505: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libjava_cv_gethostbyname_r_needs_reentrant=no\n else\n@@ -3169,14 +3511,14 @@ else\n   \t\tCPPFLAGS_SAVE=\"$CPPFLAGS\"\n \t\tCPPFLAGS=\"$CPPFLAGS -D_REENTRANT\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 3173 \"configure\"\n+#line 3515 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n int main() {\n gethostbyname_r(\"\", 0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3180: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3522: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libjava_cv_gethostbyname_r_needs_reentrant=yes\n else\n@@ -3211,12 +3553,12 @@ EOF\n      esac\n \n      echo $ac_n \"checking for struct hostent_data\"\"... $ac_c\" 1>&6\n-echo \"configure:3215: checking for struct hostent_data\" >&5\n+echo \"configure:3557: checking for struct hostent_data\" >&5\n if eval \"test \\\"`echo '$''{'libjava_cv_struct_hostent_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \tcat > conftest.$ac_ext <<EOF\n-#line 3220 \"configure\"\n+#line 3562 \"configure\"\n #include \"confdefs.h\"\n \n #if GETHOSTBYNAME_R_NEEDS_REENTRANT && !defined(_REENTRANT)\n@@ -3227,7 +3569,7 @@ int main() {\n struct hostent_data data;\n ; return 0; }\n EOF\n-if { (eval echo configure:3231: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3573: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libjava_cv_struct_hostent_data=yes\n else\n@@ -3256,12 +3598,12 @@ done\n    for ac_func in gethostbyaddr_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3260: checking for $ac_func\" >&5\n+echo \"configure:3602: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3265 \"configure\"\n+#line 3607 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3284,7 +3626,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3288: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3630: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3311,7 +3653,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 3315 \"configure\"\n+#line 3657 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -3335,12 +3677,12 @@ done\n    for ac_func in gethostname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3339: checking for $ac_func\" >&5\n+echo \"configure:3681: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3344 \"configure\"\n+#line 3686 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3363,7 +3705,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3367: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3709: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3387,7 +3729,7 @@ EOF\n EOF\n \n      cat > conftest.$ac_ext <<EOF\n-#line 3391 \"configure\"\n+#line 3733 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -3408,18 +3750,22 @@ fi\n done\n \n \n-   # Look for these functions in the thread library.\n-   save_LIBS=\"$LIBS\"\n-   LIBS=\"$LIBS $THREADLIBS\"\n-   for ac_func in pthread_mutexattr_settype pthread_mutexattr_setkind_np\n+   # Look for these functions in the thread library, but only bother\n+   # if using POSIX threads.\n+   if test \"$THREADS\" = posix; then\n+      save_LIBS=\"$LIBS\"\n+      LIBS=\"$LIBS $THREADLIBS\"\n+      # Some POSIX thread systems don't have pthread_mutexattr_settype.\n+      # E.g., Solaris.\n+      for ac_func in pthread_mutexattr_settype pthread_mutexattr_setkind_np\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3418: checking for $ac_func\" >&5\n+echo \"configure:3764: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3423 \"configure\"\n+#line 3769 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3442,7 +3788,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3446: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3792: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3467,17 +3813,17 @@ fi\n done\n \n \n-   # Look for sched_yield.  Up to Solaris 2.6, it is in libposix4, since\n-   # Solaris 7 the name librt is preferred.\n-   for ac_func in sched_yield\n+      # Look for sched_yield.  Up to Solaris 2.6, it is in libposix4, since\n+      # Solaris 7 the name librt is preferred.\n+      for ac_func in sched_yield\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3476: checking for $ac_func\" >&5\n+echo \"configure:3822: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3481 \"configure\"\n+#line 3827 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3500,7 +3846,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3504: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3850: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3522,15 +3868,15 @@ EOF\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for sched_yield in -lrt\"\"... $ac_c\" 1>&6\n-echo \"configure:3526: checking for sched_yield in -lrt\" >&5\n+echo \"configure:3872: checking for sched_yield in -lrt\" >&5\n ac_lib_var=`echo rt'_'sched_yield | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lrt  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3534 \"configure\"\n+#line 3880 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3541,7 +3887,7 @@ int main() {\n sched_yield()\n ; return 0; }\n EOF\n-if { (eval echo configure:3545: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3891: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3557,25 +3903,25 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n-       cat >> confdefs.h <<\\EOF\n+\t  cat >> confdefs.h <<\\EOF\n #define HAVE_SCHED_YIELD 1\n EOF\n \n-       THREADLIBS=\"$THREADLIBS -lrt\"\n-       THREADSPECS=\"$THREADSPECS -lrt\"\n+\t  THREADLIBS=\"$THREADLIBS -lrt\"\n+\t  THREADSPECS=\"$THREADSPECS -lrt\"\n else\n   echo \"$ac_t\"\"no\" 1>&6\n \n-       echo $ac_n \"checking for sched_yield in -lposix4\"\"... $ac_c\" 1>&6\n-echo \"configure:3571: checking for sched_yield in -lposix4\" >&5\n+\t  echo $ac_n \"checking for sched_yield in -lposix4\"\"... $ac_c\" 1>&6\n+echo \"configure:3917: checking for sched_yield in -lposix4\" >&5\n ac_lib_var=`echo posix4'_'sched_yield | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lposix4  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3579 \"configure\"\n+#line 3925 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3586,7 +3932,7 @@ int main() {\n sched_yield()\n ; return 0; }\n EOF\n-if { (eval echo configure:3590: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3936: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3602,12 +3948,12 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n-         cat >> confdefs.h <<\\EOF\n+\t    cat >> confdefs.h <<\\EOF\n #define HAVE_SCHED_YIELD 1\n EOF\n \n-\t THREADLIBS=\"$THREADLIBS -lposix4\"\n-         THREADSPECS=\"$THREADSPECS -lposix4\"\n+\t    THREADLIBS=\"$THREADLIBS -lposix4\"\n+\t    THREADSPECS=\"$THREADSPECS -lposix4\"\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n@@ -3617,19 +3963,67 @@ fi\n fi\n done\n \n-   LIBS=\"$save_LIBS\"\n+      LIBS=\"$save_LIBS\"\n+\n+      # We can save a little space at runtime if the mutex has m_count\n+      # or __m_count.  This is a nice hack for Linux.\n+      cat > conftest.$ac_ext <<EOF\n+#line 3972 \"configure\"\n+#include \"confdefs.h\"\n+#include <pthread.h>\n+int main() {\n+\n+          extern pthread_mutex_t *mutex; int q = mutex->m_count;\n+        \n+; return 0; }\n+EOF\n+if { (eval echo configure:3981: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  cat >> confdefs.h <<\\EOF\n+#define PTHREAD_MUTEX_HAVE_M_COUNT 1\n+EOF\n+\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  \n+\tcat > conftest.$ac_ext <<EOF\n+#line 3993 \"configure\"\n+#include \"confdefs.h\"\n+#include <pthread.h>\n+int main() {\n+\n+\t    extern pthread_mutex_t *mutex; int q = mutex->__m_count;\n+\t  \n+; return 0; }\n+EOF\n+if { (eval echo configure:4002: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  cat >> confdefs.h <<\\EOF\n+#define PTHREAD_MUTEX_HAVE___M_COUNT 1\n+EOF\n+\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+fi\n+rm -f conftest*\n+fi\n+rm -f conftest*\n+   fi\n \n    # We require a way to get the time.\n    time_found=no\n    for ac_func in gettimeofday time ftime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3628: checking for $ac_func\" >&5\n+echo \"configure:4022: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3633 \"configure\"\n+#line 4027 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3652,7 +4046,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3656: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4050: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3683,12 +4077,12 @@ done\n    for ac_func in memmove\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3687: checking for $ac_func\" >&5\n+echo \"configure:4081: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3692 \"configure\"\n+#line 4086 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3711,7 +4105,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3715: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4109: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3741,12 +4135,12 @@ done\n    for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3745: checking for $ac_func\" >&5\n+echo \"configure:4139: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3750 \"configure\"\n+#line 4144 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3769,7 +4163,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3773: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4167: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3817,20 +4211,20 @@ done\n    #--------------------------------------------------------------------\n \n    echo $ac_n \"checking for socket libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:3821: checking for socket libraries\" >&5\n+echo \"configure:4215: checking for socket libraries\" >&5\n if eval \"test \\\"`echo '$''{'gcj_cv_lib_sockets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcj_cv_lib_sockets=\n      gcj_checkBoth=0\n      unset ac_cv_func_connect\n      echo $ac_n \"checking for connect\"\"... $ac_c\" 1>&6\n-echo \"configure:3829: checking for connect\" >&5\n+echo \"configure:4223: checking for connect\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_connect'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3834 \"configure\"\n+#line 4228 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char connect(); below.  */\n@@ -3853,7 +4247,7 @@ connect();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3857: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4251: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_connect=yes\"\n else\n@@ -3876,22 +4270,22 @@ fi\n      if test \"$gcj_checkSocket\" = 1; then\n \t unset ac_cv_func_connect\n \t echo $ac_n \"checking for main in -lsocket\"\"... $ac_c\" 1>&6\n-echo \"configure:3880: checking for main in -lsocket\" >&5\n+echo \"configure:4274: checking for main in -lsocket\" >&5\n ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lsocket  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3888 \"configure\"\n+#line 4282 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:3895: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4289: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3918,12 +4312,12 @@ fi\n \t LIBS=\"$LIBS -lsocket -lnsl\"\n \t unset ac_cv_func_accept\n \t echo $ac_n \"checking for accept\"\"... $ac_c\" 1>&6\n-echo \"configure:3922: checking for accept\" >&5\n+echo \"configure:4316: checking for accept\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_accept'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3927 \"configure\"\n+#line 4321 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char accept(); below.  */\n@@ -3946,7 +4340,7 @@ accept();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3950: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4344: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_accept=yes\"\n else\n@@ -3973,12 +4367,12 @@ fi\n      gcj_oldLibs=$LIBS\n      LIBS=\"$LIBS $gcj_cv_lib_sockets\"\n      echo $ac_n \"checking for gethostbyname\"\"... $ac_c\" 1>&6\n-echo \"configure:3977: checking for gethostbyname\" >&5\n+echo \"configure:4371: checking for gethostbyname\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3982 \"configure\"\n+#line 4376 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char gethostbyname(); below.  */\n@@ -4001,7 +4395,7 @@ gethostbyname();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4399: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_gethostbyname=yes\"\n else\n@@ -4019,22 +4413,22 @@ if eval \"test \\\"`echo '$ac_cv_func_'gethostbyname`\\\" = yes\"; then\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for main in -lnsl\"\"... $ac_c\" 1>&6\n-echo \"configure:4023: checking for main in -lnsl\" >&5\n+echo \"configure:4417: checking for main in -lnsl\" >&5\n ac_lib_var=`echo nsl'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lnsl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4031 \"configure\"\n+#line 4425 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:4038: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4432: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4064,21 +4458,17 @@ fi\n echo \"$ac_t\"\"$gcj_cv_lib_sockets\" 1>&6\n    SYSTEMSPEC=\"$SYSTEMSPEC $gcj_cv_lib_sockets\"\n \n-   if test \"$enable_interpreter\" = yes; then\n-      INTERPSPEC=\n-   fi\n-\n    if test \"$with_system_zlib\" = yes; then\n       echo $ac_n \"checking for deflate in -lz\"\"... $ac_c\" 1>&6\n-echo \"configure:4074: checking for deflate in -lz\" >&5\n+echo \"configure:4464: checking for deflate in -lz\" >&5\n ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lz  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4082 \"configure\"\n+#line 4472 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -4089,7 +4479,7 @@ int main() {\n deflate()\n ; return 0; }\n EOF\n-if { (eval echo configure:4093: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4483: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4118,22 +4508,22 @@ fi\n    # requires -ldl.\n    if test \"$GC\" = boehm; then\n       echo $ac_n \"checking for main in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:4122: checking for main in -ldl\" >&5\n+echo \"configure:4512: checking for main in -ldl\" >&5\n ac_lib_var=`echo dl'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4130 \"configure\"\n+#line 4520 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:4137: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4527: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4255,17 +4645,17 @@ for ac_hdr in unistd.h bstring.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4259: checking for $ac_hdr\" >&5\n+echo \"configure:4649: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4264 \"configure\"\n+#line 4654 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4269: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4659: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4295,17 +4685,17 @@ for ac_hdr in dirent.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4299: checking for $ac_hdr\" >&5\n+echo \"configure:4689: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4304 \"configure\"\n+#line 4694 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4309: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4699: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4333,20 +4723,20 @@ done\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:4337: checking for ANSI C header files\" >&5\n+echo \"configure:4727: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4342 \"configure\"\n+#line 4732 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4350: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4740: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4363,7 +4753,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 4367 \"configure\"\n+#line 4757 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -4381,7 +4771,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 4385 \"configure\"\n+#line 4775 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -4402,7 +4792,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4406 \"configure\"\n+#line 4796 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -4413,7 +4803,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:4417: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4807: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -4437,12 +4827,12 @@ EOF\n fi\n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4441: checking for ssize_t\" >&5\n+echo \"configure:4831: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4446 \"configure\"\n+#line 4836 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4471,9 +4861,9 @@ fi\n \n \n echo $ac_n \"checking for in_addr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4475: checking for in_addr_t\" >&5\n+echo \"configure:4865: checking for in_addr_t\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4477 \"configure\"\n+#line 4867 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4487,7 +4877,7 @@ int main() {\n in_addr_t foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:4491: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4881: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_IN_ADDR_T 1\n@@ -4503,16 +4893,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct ip_mreq is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4507: checking whether struct ip_mreq is in netinet/in.h\" >&5\n+echo \"configure:4897: checking whether struct ip_mreq is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4509 \"configure\"\n+#line 4899 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct ip_mreq mreq;\n ; return 0; }\n EOF\n-if { (eval echo configure:4516: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4906: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_STRUCT_IP_MREQ 1\n@@ -4528,16 +4918,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct sockaddr_in6 is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4532: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n+echo \"configure:4922: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4534 \"configure\"\n+#line 4924 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct sockaddr_in6 addr6;\n ; return 0; }\n EOF\n-if { (eval echo configure:4541: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4931: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_INET6 1\n@@ -4553,16 +4943,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for socklen_t in sys/socket.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4557: checking for socklen_t in sys/socket.h\" >&5\n+echo \"configure:4947: checking for socklen_t in sys/socket.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4559 \"configure\"\n+#line 4949 \"configure\"\n #include \"confdefs.h\"\n #include <sys/socket.h>\n int main() {\n socklen_t x = 5;\n ; return 0; }\n EOF\n-if { (eval echo configure:4566: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4956: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_SOCKLEN_T 1\n@@ -4578,16 +4968,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for tm_gmtoff in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:4582: checking for tm_gmtoff in struct tm\" >&5\n+echo \"configure:4972: checking for tm_gmtoff in struct tm\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4584 \"configure\"\n+#line 4974 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n struct tm tim; tim.tm_gmtoff = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:4591: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4981: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define STRUCT_TM_HAS_GMTOFF 1\n@@ -4600,16 +4990,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n    echo $ac_n \"checking for global timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:4604: checking for global timezone variable\" >&5\n+echo \"configure:4994: checking for global timezone variable\" >&5\n             cat > conftest.$ac_ext <<EOF\n-#line 4606 \"configure\"\n+#line 4996 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n long z2 = timezone;\n ; return 0; }\n EOF\n-if { (eval echo configure:4613: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5003: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -4629,19 +5019,19 @@ rm -f conftest*\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4633: checking for working alloca.h\" >&5\n+echo \"configure:5023: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4638 \"configure\"\n+#line 5028 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:4645: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5035: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -4662,12 +5052,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:4666: checking for alloca\" >&5\n+echo \"configure:5056: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4671 \"configure\"\n+#line 5061 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -4695,7 +5085,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:4699: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5089: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -4727,12 +5117,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:4731: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:5121: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4736 \"configure\"\n+#line 5126 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -4757,12 +5147,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4761: checking for $ac_func\" >&5\n+echo \"configure:5151: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4766 \"configure\"\n+#line 5156 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4785,7 +5175,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4789: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5179: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4812,15 +5202,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:4816: checking stack direction for C alloca\" >&5\n+echo \"configure:5206: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4824 \"configure\"\n+#line 5214 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -4839,7 +5229,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:4843: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:5233: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -4866,7 +5256,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4870: checking for $ac_word\" >&5\n+echo \"configure:5260: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_PERL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5094,12 +5484,13 @@ s%@LIBGCJ_CXXFLAGS@%$LIBGCJ_CXXFLAGS%g\n s%@LIBGCJ_JAVAFLAGS@%$LIBGCJ_JAVAFLAGS%g\n s%@LD@%$LD%g\n s%@NM@%$NM%g\n+s%@USE_SYMBOL_UNDERSCORE@%$USE_SYMBOL_UNDERSCORE%g\n s%@LN_S@%$LN_S%g\n+s%@DLLTOOL@%$DLLTOOL%g\n s%@LIBTOOL@%$LIBTOOL%g\n s%@COMPPATH@%$COMPPATH%g\n s%@TESTSUBDIR_TRUE@%$TESTSUBDIR_TRUE%g\n s%@TESTSUBDIR_FALSE@%$TESTSUBDIR_FALSE%g\n-s%@INTERPSPEC@%$INTERPSPEC%g\n s%@CPP@%$CPP%g\n s%@SYSTEMSPEC@%$SYSTEMSPEC%g\n s%@ZLIBSPEC@%$ZLIBSPEC%g"}, {"sha": "17b0640908bc08ff385d077bf7dc33cc09ef1b57", "filename": "libjava/configure.in", "status": "modified", "additions": 31, "deletions": 27, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -50,10 +50,6 @@ AC_ARG_ENABLE(interpreter,\n      AC_DEFINE(INTERPRETER)\n   fi)\n \n-dnl This becomes -lffi if the interpreter is enabled.\n-INTERPSPEC=\n-AC_SUBST(INTERPSPEC)\n-\n dnl If the target is an eCos system, use the appropriate eCos\n dnl I/O routines.\n dnl FIXME: this should not be a local option but a global target\n@@ -306,8 +302,6 @@ if test -n \"${with_cross_host}\"; then\n       GCJ=\n    fi\n else\n-   # Some POSIX thread systems don't have pthread_mutexattr_settype.\n-   # E.g., Solaris.\n    AC_CHECK_FUNCS(strerror ioctl select open fsync sleep)\n    AC_CHECK_FUNCS(ctime_r ctime, break)\n    AC_CHECK_FUNCS(gmtime_r localtime_r readdir_r getpwuid_r)\n@@ -377,23 +371,37 @@ else\n      AC_EGREP_HEADER(gethostname, unistd.h, [\n        AC_DEFINE(HAVE_GETHOSTNAME_DECL)])])\n \n-   # Look for these functions in the thread library.\n-   save_LIBS=\"$LIBS\"\n-   LIBS=\"$LIBS $THREADLIBS\"\n-   AC_CHECK_FUNCS(pthread_mutexattr_settype pthread_mutexattr_setkind_np)\n-\n-   # Look for sched_yield.  Up to Solaris 2.6, it is in libposix4, since\n-   # Solaris 7 the name librt is preferred.\n-   AC_CHECK_FUNCS(sched_yield, , [\n-     AC_CHECK_LIB(rt, sched_yield, [\n-       AC_DEFINE(HAVE_SCHED_YIELD)\n-       THREADLIBS=\"$THREADLIBS -lrt\"\n-       THREADSPECS=\"$THREADSPECS -lrt\"], [\n-       AC_CHECK_LIB(posix4, sched_yield, [\n-         AC_DEFINE(HAVE_SCHED_YIELD)\n-\t THREADLIBS=\"$THREADLIBS -lposix4\"\n-         THREADSPECS=\"$THREADSPECS -lposix4\"])])])\n-   LIBS=\"$save_LIBS\"\n+   # Look for these functions in the thread library, but only bother\n+   # if using POSIX threads.\n+   if test \"$THREADS\" = posix; then\n+      save_LIBS=\"$LIBS\"\n+      LIBS=\"$LIBS $THREADLIBS\"\n+      # Some POSIX thread systems don't have pthread_mutexattr_settype.\n+      # E.g., Solaris.\n+      AC_CHECK_FUNCS(pthread_mutexattr_settype pthread_mutexattr_setkind_np)\n+\n+      # Look for sched_yield.  Up to Solaris 2.6, it is in libposix4, since\n+      # Solaris 7 the name librt is preferred.\n+      AC_CHECK_FUNCS(sched_yield, , [\n+\tAC_CHECK_LIB(rt, sched_yield, [\n+\t  AC_DEFINE(HAVE_SCHED_YIELD)\n+\t  THREADLIBS=\"$THREADLIBS -lrt\"\n+\t  THREADSPECS=\"$THREADSPECS -lrt\"], [\n+\t  AC_CHECK_LIB(posix4, sched_yield, [\n+\t    AC_DEFINE(HAVE_SCHED_YIELD)\n+\t    THREADLIBS=\"$THREADLIBS -lposix4\"\n+\t    THREADSPECS=\"$THREADSPECS -lposix4\"])])])\n+      LIBS=\"$save_LIBS\"\n+\n+      # We can save a little space at runtime if the mutex has m_count\n+      # or __m_count.  This is a nice hack for Linux.\n+      AC_TRY_COMPILE([#include <pthread.h>], [\n+          extern pthread_mutex_t *mutex; int q = mutex->m_count;\n+        ], AC_DEFINE(PTHREAD_MUTEX_HAVE_M_COUNT), [\n+\tAC_TRY_COMPILE([#include <pthread.h>], [\n+\t    extern pthread_mutex_t *mutex; int q = mutex->__m_count;\n+\t  ], AC_DEFINE(PTHREAD_MUTEX_HAVE___M_COUNT))])\n+   fi\n \n    # We require a way to get the time.\n    time_found=no\n@@ -461,10 +469,6 @@ else\n    ])\n    SYSTEMSPEC=\"$SYSTEMSPEC $gcj_cv_lib_sockets\"\n \n-   if test \"$enable_interpreter\" = yes; then\n-      INTERPSPEC=\n-   fi\n-\n    if test \"$with_system_zlib\" = yes; then\n       AC_CHECK_LIB(z, deflate, ZLIBSPEC=-lz, ZLIBSPEC=-lzgcj)\n    else"}, {"sha": "19a7adbb50db441aeadb2f69b77d61edf3e1ed23", "filename": "libjava/include/config.h.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Finclude%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Finclude%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fconfig.h.in?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -122,6 +122,12 @@\n /* Define if you want a bytecode interpreter.  */\n #undef INTERPRETER\n \n+/* Define if pthread_mutex_t has m_count member.  */\n+#undef PTHREAD_MUTEX_HAVE_M_COUNT\n+\n+/* Define if pthread_mutex_t has __m_count member.  */\n+#undef PTHREAD_MUTEX_HAVE___M_COUNT\n+\n /* Define if you have the access function.  */\n #undef HAVE_ACCESS\n "}, {"sha": "053a45ccd93e0d9150adc5ba8d66b4fbcb88f7de", "filename": "libjava/include/posix-threads.h", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Finclude%2Fposix-threads.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Finclude%2Fposix-threads.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fposix-threads.h?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -31,16 +31,16 @@ details.  */\n \n typedef pthread_cond_t _Jv_ConditionVariable_t;\n \n-// FIXME: it is ugly to use LINUX_THREADS as the define.  Instead\n-// think of a better scheme.\n-#ifdef LINUX_THREADS\n+#if defined (PTHREAD_MUTEX_HAVE_M_COUNT) || defined (PTHREAD_MUTEX_HAVE___M_COUNT)\n \n // On Linux we use implementation details of mutexes in order to get\n // faster results.\n typedef pthread_mutex_t _Jv_Mutex_t;\n \n #else /* LINUX_THREADS */\n \n+#define PTHREAD_MUTEX_IS_STRUCT\n+\n typedef struct\n {\n   // Mutex used when locking this structure transiently.\n@@ -67,7 +67,7 @@ typedef struct\n   int count;\n } _Jv_Mutex_t;\n \n-#endif /* LINUX_THREADS */\n+#endif\n \n typedef struct\n {\n@@ -88,7 +88,7 @@ typedef void _Jv_ThreadStartFunc (java::lang::Thread *);\n inline pthread_mutex_t *\n _Jv_PthreadGetMutex (_Jv_Mutex_t *mu)\n {\n-#if defined (LINUX_THREADS)\n+#if ! defined (PTHREAD_MUTEX_IS_STRUCT)\n   return mu;\n #elif defined (HAVE_RECURSIVE_MUTEX)\n   return &mu->mutex;\n@@ -110,9 +110,11 @@ _Jv_PthreadCheckMonitor (_Jv_Mutex_t *mu)\n   // See if the mutex is locked by this thread.\n   if (pthread_mutex_trylock (pmu))\n     return 1;\n-#ifdef LINUX_THREADS\n+#if defined (PTHREAD_MUTEX_HAVE_M_COUNT)\n   // On Linux we exploit knowledge of the implementation.\n   int r = pmu->m_count == 1;\n+#elif defined (PTHREAD_MUTEX_HAVE___M_COUNT)\n+  int r = pmu->__m_count == 1;\n #else\n   int r = mu->count == 0;\n #endif\n@@ -170,7 +172,7 @@ inline void\n _Jv_MutexInit (_Jv_Mutex_t *mu)\n {\n   pthread_mutex_init (_Jv_PthreadGetMutex (mu), NULL);\n-#ifndef LINUX_THREADS\n+#ifdef PTHREAD_MUTEX_IS_STRUCT\n   mu->count = 0;\n #endif\n }\n@@ -206,7 +208,7 @@ inline int\n _Jv_MutexLock (_Jv_Mutex_t *mu)\n {\n   int r = pthread_mutex_lock (mu);\n-#ifndef LINUX_THREADS\n+#ifdef PTHREAD_MUTEX_IS_STRUCT\n   if (! r)\n     ++mu->count;\n #endif\n@@ -217,7 +219,7 @@ inline int\n _Jv_MutexUnlock (_Jv_Mutex_t *mu)\n {\n   int r = pthread_mutex_unlock (mu);\n-#ifndef LINUX_THREADS\n+#ifdef PTHREAD_MUTEX_IS_STRUCT\n   if (! r)\n     --mu->count;\n #endif"}, {"sha": "a46acefed10737f2f6b83d621762b6671d916cd8", "filename": "libjava/libgcj.spec.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Flibgcj.spec.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Flibgcj.spec.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibgcj.spec.in?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -4,7 +4,7 @@\n # to link with libgcj.\n #\n %rename lib liborig\n-*lib: -lgcj -lm @INTERPSPEC@ @GCSPEC@ @THREADSPEC@ @ZLIBSPEC@ @SYSTEMSPEC@ %(liborig)\n+*lib: -lgcj -lm @GCSPEC@ @THREADSPEC@ @ZLIBSPEC@ @SYSTEMSPEC@ %(liborig)\n \n %rename cc1 cc1orig\n *cc1:  @DIVIDESPEC@ %(cc1orig)"}, {"sha": "368c4aea0e6baec34d64324b3c0b525088edc852", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 12, "deletions": 13, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc5afba452d4accc25fdd53739c58a14ed93c91e/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=bc5afba452d4accc25fdd53739c58a14ed93c91e", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated automatically by automake 1.4a from Makefile.am\n+# Makefile.in generated automatically by automake 1.4 from Makefile.am\n \n # Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n@@ -10,6 +10,7 @@\n # even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n # PARTICULAR PURPOSE.\n \n+\n SHELL = @SHELL@\n \n srcdir = @srcdir@\n@@ -45,10 +46,9 @@ AUTOMAKE = @AUTOMAKE@\n AUTOHEADER = @AUTOHEADER@\n \n INSTALL = @INSTALL@\n-INSTALL_PROGRAM = @INSTALL_PROGRAM@\n+INSTALL_PROGRAM = @INSTALL_PROGRAM@ $(AM_INSTALL_PROGRAM_FLAGS)\n INSTALL_DATA = @INSTALL_DATA@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n-INSTALL_STRIP_FLAG =\n transform = @program_transform_name@\n \n NORMAL_INSTALL = :\n@@ -80,7 +80,6 @@ GCINCS = @GCINCS@\n GCLIBS = @GCLIBS@\n GCOBJS = @GCOBJS@\n GCSPEC = @GCSPEC@\n-INTERPSPEC = @INTERPSPEC@\n LD = @LD@\n LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n@@ -90,7 +89,6 @@ LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n NM = @NM@\n-OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n PERL = @PERL@\n RANLIB = @RANLIB@\n@@ -100,6 +98,7 @@ THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n THREADSPEC = @THREADSPEC@\n+USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n ZDEPS = @ZDEPS@\n ZINCS = @ZINCS@\n@@ -108,7 +107,6 @@ ZLIBSPEC = @ZLIBSPEC@\n here = @here@\n libgcj_basedir = @libgcj_basedir@\n \n-\n AUTOMAKE_OPTIONS = foreign dejagnu no-installinfo\n \n # Setup the testing framework, if you have one\n@@ -123,16 +121,15 @@ RUNTEST = `if [ -f $(top_srcdir)/../dejagnu/runtest ] ; then \\\n \n \n RUNTESTFLAGS = @AM_RUNTESTFLAGS@\n-subdir = testsuite\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_HEADER = ../include/config.h\n CONFIG_CLEAN_FILES = \n-DIST_SOURCES = \n DIST_COMMON =  ChangeLog Makefile.am Makefile.in\n \n \n-DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)\n+DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n+TAR = tar\n GZIP_ENV = --best\n all: all-redirect\n .SUFFIXES:\n@@ -149,6 +146,8 @@ TAGS:\n \n distdir = $(top_builddir)/$(PACKAGE)-$(VERSION)/$(subdir)\n \n+subdir = testsuite\n+\n distdir: $(DISTFILES)\n \there=`cd $(top_builddir) && pwd`; \\\n \ttop_distdir=`cd $(top_distdir) && pwd`; \\\n@@ -158,7 +157,7 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  d=$(srcdir); \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\\n@@ -222,7 +221,7 @@ uninstall: uninstall-am\n all-am: Makefile\n all-redirect: all-am\n install-strip:\n-\t$(MAKE) $(AM_MAKEFLAGS) INSTALL_STRIP_FLAG=-s install\n+\t$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install\n installdirs:\n \n \n@@ -257,8 +256,8 @@ maintainer-clean: maintainer-clean-am\n .PHONY: tags distdir check-DEJAGNU info-am info dvi-am dvi check \\\n check-am installcheck-am installcheck install-info-am install-info \\\n install-exec-am install-exec install-data-am install-data install-am \\\n-install uninstall-am uninstall all-redirect all-am all install-strip \\\n-installdirs mostlyclean-generic distclean-generic clean-generic \\\n+install uninstall-am uninstall all-redirect all-am all installdirs \\\n+mostlyclean-generic distclean-generic clean-generic \\\n maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n \n "}]}