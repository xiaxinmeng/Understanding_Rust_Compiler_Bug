{"sha": "b877b5ab3e1c240643e9d700a9aecb78fbeadf58", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjg3N2I1YWIzZTFjMjQwNjQzZTlkNzAwYTlhZWNiNzhmYmVhZGY1OA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-06-01T00:04:46Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-06-01T00:04:46Z"}, "message": "(ASM_SPEC): Don't pass -k when -pg or -p given.\n\n(OVERRIDE_OPTIONS): Warn when disabling -fpic.\n\nFrom-SVN: r7405", "tree": {"sha": "f8ad649d371d94bb4d73a23a7cd610d3eb859d81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8ad649d371d94bb4d73a23a7cd610d3eb859d81"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b877b5ab3e1c240643e9d700a9aecb78fbeadf58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b877b5ab3e1c240643e9d700a9aecb78fbeadf58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b877b5ab3e1c240643e9d700a9aecb78fbeadf58", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b877b5ab3e1c240643e9d700a9aecb78fbeadf58/comments", "author": null, "committer": null, "parents": [{"sha": "6ba295268bb4d0e7f1f57970dff824178b1c07be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ba295268bb4d0e7f1f57970dff824178b1c07be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ba295268bb4d0e7f1f57970dff824178b1c07be"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "14300cfbec6b6fa6a77ec82a657a8a22072eb568", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b877b5ab3e1c240643e9d700a9aecb78fbeadf58/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b877b5ab3e1c240643e9d700a9aecb78fbeadf58/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=b877b5ab3e1c240643e9d700a9aecb78fbeadf58", "patch": "@@ -30,7 +30,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* Special flags to the Sun-4 assembler when using pipe for input.  */\n \n-#define ASM_SPEC \" %| %{fpic:-k} %{fPIC:-k}\"\n+#define ASM_SPEC \" %| %{!pg:%{!p:%{fpic:-k} %{fPIC:-k}}}\"\n \n /* Define macros to distinguish architectures.  */\n #define CPP_SPEC \"%{msparclite:-D__sparclite__} %{mf930:-D__sparclite__} \\\n@@ -56,11 +56,20 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    the frame pointer (because the return address will get smashed).  */\n \n #define OVERRIDE_OPTIONS \\\n-{\t\t\t\t\t\t\\\n-  if (profile_flag || profile_block_flag)\t\\\n-    flag_omit_frame_pointer = 0, flag_pic = 0;\t\\\n-  SUBTARGET_OVERRIDE_OPTIONS\t\t\t\\\n-  }\n+{\t\t\t\t\t\t\t\t\t\\\n+  if (profile_flag || profile_block_flag)\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      if (flag_pic)\t\t\t\t\t\t\t\\\n+        {\t\t\t\t\t\t\t\t\\\n+\t  char *pic_string = (flag_pic == 1) ? \"-fpic\" : \"-fPIC\";\t\\\n+\t  warning (\"%s and profiling conflict: disabling %s\", pic_string,\\\n+\t\t   pic_string);\t\t\t\t\t\t\\\n+\t  flag_pic = 0;\t\t\t\t\t\t\t\\\n+\t}\t\t\t\t\t\t\t\t\\\n+      flag_omit_frame_pointer = 0;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  SUBTARGET_OVERRIDE_OPTIONS\t\t\t\t\t\t\\\n+}\n \n /* This is meant to be redefined in the host dependent files */\n #define SUBTARGET_OVERRIDE_OPTIONS"}]}