{"sha": "4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU1OTZhMDk3ZDZkMTRhNWYwM2VjOGQ4YzJiOWFlMGE4NGU5Zjk1OA==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2004-11-22T17:19:09Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2004-11-22T17:19:09Z"}, "message": "power4.md: Remove delay between dispatch and issue associated with dispatch group slots 3...\n\n\t* config/rs6000/power4.md: Remove delay between dispatch and issue\n\tassociated with dispatch group slots 3 and 4.\n\t* config/rs6000/power5.md: Same.\n\nFrom-SVN: r91020", "tree": {"sha": "4d6bcd6c057caf6a7526a8e4f96e8cce6f9c9290", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d6bcd6c057caf6a7526a8e4f96e8cce6f9c9290"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/comments", "author": null, "committer": null, "parents": [{"sha": "9ff3d2dea058075c670842e6ae0ac47d4405f829", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ff3d2dea058075c670842e6ae0ac47d4405f829", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ff3d2dea058075c670842e6ae0ac47d4405f829"}], "stats": {"total": 84, "additions": 33, "deletions": 51}, "files": [{"sha": "62833b220547c2f32fc339654a9581c12acb6b31", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "patch": "@@ -1,3 +1,9 @@\n+2004-11-22  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/power4.md: Remove delay between dispatch and issue\n+\tassociated with dispatch group slots 3 and 4.\n+\t* config/rs6000/power5.md: Same.\n+\n 2004-11-21  Jeff Law  <law@redhat.com>\n \n \t* cfg.c (cached_make_edge): Use find_edge rather than an inlined"}, {"sha": "6a3b4fde91af1065e8add1b01f5506f7b3e1988b", "filename": "gcc/config/rs6000/power4.md", "status": "modified", "additions": 17, "deletions": 31, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/gcc%2Fconfig%2Frs6000%2Fpower4.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/gcc%2Fconfig%2Frs6000%2Fpower4.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower4.md?ref=4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "patch": "@@ -38,38 +38,37 @@\n (define_reservation \"lsq_power4\"\n \t\t    \"(du1_power4,lsu1_power4)\\\n \t\t    |(du2_power4,lsu2_power4)\\\n-\t\t    |(du3_power4,nothing,lsu2_power4)\\\n-\t\t    |(du4_power4,nothing,lsu1_power4)\")\n+\t\t    |(du3_power4,lsu2_power4)\\\n+\t\t    |(du4_power4,lsu1_power4)\")\n \n (define_reservation \"lsuq_power4\"\n \t\t    \"(du1_power4+du2_power4,lsu1_power4+iu2_power4)\\\n \t\t    |(du2_power4+du3_power4,lsu2_power4+iu2_power4)\\\n \t\t    |(du3_power4+du4_power4,lsu2_power4+iu1_power4)\")\n-;\t\t    |(du2_power4+du3_power4,nothing,lsu2_power4,iu2_power4)\n \n (define_reservation \"iq_power4\"\n \t\t    \"(du1_power4,iu1_power4)\\\n \t\t    |(du2_power4,iu2_power4)\\\n-\t\t    |(du3_power4,nothing,iu2_power4)\\\n-\t\t    |(du4_power4,nothing,iu1_power4)\")\n+\t\t    |(du3_power4,iu2_power4)\\\n+\t\t    |(du4_power4,iu1_power4)\")\n \n (define_reservation \"fpq_power4\"\n \t\t    \"(du1_power4,fpu1_power4)\\\n \t\t    |(du2_power4,fpu2_power4)\\\n-\t\t    |(du3_power4,nothing,fpu2_power4)\\\n-\t\t    |(du4_power4,nothing,fpu1_power4)\")\n+\t\t    |(du3_power4,fpu2_power4)\\\n+\t\t    |(du4_power4,fpu1_power4)\")\n \n (define_reservation \"vq_power4\"\n \t\t    \"(du1_power4,vec_power4)\\\n \t\t    |(du2_power4,vec_power4)\\\n-\t\t    |(du3_power4,nothing,vec_power4)\\\n-\t\t    |(du4_power4,nothing,vec_power4)\")\n+\t\t    |(du3_power4,vec_power4)\\\n+\t\t    |(du4_power4,vec_power4)\")\n \n (define_reservation \"vpq_power4\"\n \t\t    \"(du1_power4,vecperm_power4)\\\n \t\t    |(du2_power4,vecperm_power4)\\\n-\t\t    |(du3_power4,nothing,vecperm_power4)\\\n-\t\t    |(du4_power4,nothing,vecperm_power4)\")\n+\t\t    |(du3_power4,vecperm_power4)\\\n+\t\t    |(du4_power4,vecperm_power4)\")\n \n \n ; Dispatch slots are allocated in order conforming to program order.\n@@ -135,8 +134,8 @@\n        (eq_attr \"cpu\" \"power4\"))\n   \"(du1_power4,lsu1_power4,iu1_power4)\\\n   |(du2_power4,lsu2_power4,iu2_power4)\\\n-  |(du3_power4,lsu2_power4,nothing,iu2_power4)\\\n-  |(du4_power4,lsu1_power4,nothing,iu1_power4)\")\n+  |(du3_power4,lsu2_power4,iu2_power4)\\\n+  |(du4_power4,lsu1_power4,iu1_power4)\")\n \n (define_insn_reservation \"power4-store-update\" 12\n   (and (eq_attr \"type\" \"store_u\")\n@@ -157,24 +156,23 @@\n        (eq_attr \"cpu\" \"power4\"))\n   \"(du1_power4,lsu1_power4,fpu1_power4)\\\n   |(du2_power4,lsu2_power4,fpu2_power4)\\\n-  |(du3_power4,lsu2_power4,nothing,fpu2_power4)\\\n-  |(du4_power4,lsu1_power4,nothing,fpu1_power4)\")\n+  |(du3_power4,lsu2_power4,fpu2_power4)\\\n+  |(du4_power4,lsu1_power4,fpu1_power4)\")\n \n (define_insn_reservation \"power4-fpstore-update\" 12\n   (and (eq_attr \"type\" \"fpstore_u,fpstore_ux\")\n        (eq_attr \"cpu\" \"power4\"))\n   \"(du1_power4+du2_power4,lsu1_power4+iu2_power4,fpu1_power4)\\\n   |(du2_power4+du3_power4,lsu2_power4+iu2_power4,fpu2_power4)\\\n   |(du3_power4+du4_power4,lsu2_power4+iu1_power4,fpu2_power4)\")\n-;  |(du3_power4+du4_power4,nothing,lsu2_power4+iu1_power4,fpu2_power4)\")\n \n (define_insn_reservation \"power4-vecstore\" 12\n   (and (eq_attr \"type\" \"vecstore\")\n        (eq_attr \"cpu\" \"power4\"))\n   \"(du1_power4,lsu1_power4,vec_power4)\\\n   |(du2_power4,lsu2_power4,vec_power4)\\\n-  |(du3_power4,lsu2_power4,nothing,vec_power4)\\\n-  |(du4_power4,lsu1_power4,nothing,vec_power4)\")\n+  |(du3_power4,lsu2_power4,vec_power4)\\\n+  |(du4_power4,lsu1_power4,vec_power4)\")\n \n \n ; Integer latency is 2 cycles\n@@ -220,7 +218,7 @@\n        (eq_attr \"cpu\" \"power4\"))\n   \"(du1_power4+du2_power4,iu1_power4,iu2_power4)\\\n   |(du2_power4+du3_power4,iu2_power4,iu2_power4)\\\n-  |(du3_power4+du4_power4,nothing,iu2_power4,iu1_power4)\")\n+  |(du3_power4+du4_power4,iu2_power4,iu1_power4)\")\n \n (define_bypass 4 \"power4-compare\" \"power4-branch,power4-crlogical,power4-delayedcr,power4-mfcr,power4-mfcrf\")\n \n@@ -230,7 +228,6 @@\n   \"(du1_power4+du2_power4,iu1_power4*6,iu2_power4)\\\n   |(du2_power4+du3_power4,iu2_power4*6,iu2_power4)\\\n   |(du3_power4+du4_power4,iu2_power4*6,iu1_power4)\")\n-;  |(du3_power4+du4_power4,nothing,iu2_power4*6,iu1_power4)\")\n \n (define_bypass 10 \"power4-lmul-cmp\" \"power4-branch,power4-crlogical,power4-delayedcr,power4-mfcr,power4-mfcrf\")\n \n@@ -240,7 +237,6 @@\n   \"(du1_power4+du2_power4,iu1_power4*4,iu2_power4)\\\n   |(du2_power4+du3_power4,iu2_power4*4,iu2_power4)\\\n   |(du3_power4+du4_power4,iu2_power4*4,iu1_power4)\")\n-;  |(du3_power4+du4_power4,nothing,iu2_power4*4,iu1_power4)\")\n \n (define_bypass 8 \"power4-imul-cmp\" \"power4-branch,power4-crlogical,power4-delayedcr,power4-mfcr,power4-mfcrf\")\n \n@@ -251,8 +247,6 @@\n   |(du2_power4,iu2_power4*6)\\\n   |(du3_power4,iu2_power4*6)\\\n   |(du4_power4,iu1_power4*6)\")\n-;  |(du3_power4,nothing,iu2_power4*6)\\\n-;  |(du4_power4,nothing,iu1_power4*6)\")\n \n (define_insn_reservation \"power4-imul\" 5\n   (and (eq_attr \"type\" \"imul\")\n@@ -261,8 +255,6 @@\n   |(du2_power4,iu2_power4*4)\\\n   |(du3_power4,iu2_power4*4)\\\n   |(du4_power4,iu1_power4*4)\")\n-;  |(du3_power4,nothing,iu2_power4*4)\\\n-;  |(du4_power4,nothing,iu1_power4*4)\")\n \n (define_insn_reservation \"power4-imul3\" 4\n   (and (eq_attr \"type\" \"imul2,imul3\")\n@@ -271,8 +263,6 @@\n   |(du2_power4,iu2_power4*3)\\\n   |(du3_power4,iu2_power4*3)\\\n   |(du4_power4,iu1_power4*3)\")\n-;  |(du3_power4,nothing,iu2_power4*3)\\\n-;  |(du4_power4,nothing,iu1_power4*3)\")\n \n \n ; SPR move only executes in first IU.\n@@ -355,8 +345,6 @@\n   |(du2_power4,fpu2_power4*28)\\\n   |(du3_power4,fpu2_power4*28)\\\n   |(du4_power4,fpu1_power4*28)\")\n-;  |(du3_power4,nothing,fpu2_power4*28)\\\n-;  |(du4_power4,nothing,fpu1_power4*28)\")\n \n (define_insn_reservation \"power4-sqrt\" 40\n   (and (eq_attr \"type\" \"ssqrt,dsqrt\")\n@@ -365,8 +353,6 @@\n   |(du2_power4,fpu2_power4*35)\\\n   |(du3_power4,fpu2_power4*35)\\\n   |(du4_power4,fpu2_power4*35)\")\n-;  |(du3_power4,nothing,fpu2_power4*35)\\\n-;  |(du4_power4,nothing,fpu2_power4*35)\")\n \n \n ; VMX"}, {"sha": "f7f655256aeab991aece1a7ff0d4455e79c4888e", "filename": "gcc/config/rs6000/power5.md", "status": "modified", "additions": 10, "deletions": 20, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/gcc%2Fconfig%2Frs6000%2Fpower5.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958/gcc%2Fconfig%2Frs6000%2Fpower5.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower5.md?ref=4e596a097d6d14a5f03ec8d8c2b9ae0a84e9f958", "patch": "@@ -37,20 +37,20 @@\n (define_reservation \"lsq_power5\"\n \t\t    \"(du1_power5,lsu1_power5)\\\n \t\t    |(du2_power5,lsu2_power5)\\\n-\t\t    |(du3_power5,nothing,lsu2_power5)\\\n-\t\t    |(du4_power5,nothing,lsu1_power5)\")\n+\t\t    |(du3_power5,lsu2_power5)\\\n+\t\t    |(du4_power5,lsu1_power5)\")\n \n (define_reservation \"iq_power5\"\n \t\t    \"(du1_power5,iu1_power5)\\\n \t\t    |(du2_power5,iu2_power5)\\\n-\t\t    |(du3_power5,nothing,iu2_power5)\\\n-\t\t    |(du4_power5,nothing,iu1_power5)\")\n+\t\t    |(du3_power5,iu2_power5)\\\n+\t\t    |(du4_power5,iu1_power5)\")\n \n (define_reservation \"fpq_power5\"\n \t\t    \"(du1_power5,fpu1_power5)\\\n \t\t    |(du2_power5,fpu2_power5)\\\n-\t\t    |(du3_power5,nothing,fpu2_power5)\\\n-\t\t    |(du4_power5,nothing,fpu1_power5)\")\n+\t\t    |(du3_power5,fpu2_power5)\\\n+\t\t    |(du4_power5,fpu1_power5)\")\n \n ; Dispatch slots are allocated in order conforming to program order.\n (absence_set \"du1_power5\" \"du2_power5,du3_power5,du4_power5,du5_power5\")\n@@ -108,8 +108,8 @@\n        (eq_attr \"cpu\" \"power5\"))\n   \"(du1_power5,lsu1_power5,iu1_power5)\\\n   |(du2_power5,lsu2_power5,iu2_power5)\\\n-  |(du3_power5,lsu2_power5,nothing,iu2_power5)\\\n-  |(du4_power5,lsu1_power5,nothing,iu1_power5)\")\n+  |(du3_power5,lsu2_power5,iu2_power5)\\\n+  |(du4_power5,lsu1_power5,iu1_power5)\")\n \n (define_insn_reservation \"power5-store-update\" 12\n   (and (eq_attr \"type\" \"store_u\")\n@@ -127,8 +127,8 @@\n        (eq_attr \"cpu\" \"power5\"))\n   \"(du1_power5,lsu1_power5,fpu1_power5)\\\n   |(du2_power5,lsu2_power5,fpu2_power5)\\\n-  |(du3_power5,lsu2_power5,nothing,fpu2_power5)\\\n-  |(du4_power5,lsu1_power5,nothing,fpu1_power5)\")\n+  |(du3_power5,lsu2_power5,fpu2_power5)\\\n+  |(du4_power5,lsu1_power5,fpu1_power5)\")\n \n (define_insn_reservation \"power5-fpstore-update\" 12\n   (and (eq_attr \"type\" \"fpstore_u,fpstore_ux\")\n@@ -200,8 +200,6 @@\n   |(du2_power5,iu2_power5*6)\\\n   |(du3_power5,iu2_power5*6)\\\n   |(du4_power5,iu1_power5*6)\")\n-;  |(du3_power5,nothing,iu2_power5*6)\\\n-;  |(du4_power5,nothing,iu1_power5*6)\")\n \n (define_insn_reservation \"power5-imul\" 5\n   (and (eq_attr \"type\" \"imul\")\n@@ -210,8 +208,6 @@\n   |(du2_power5,iu2_power5*4)\\\n   |(du3_power5,iu2_power5*4)\\\n   |(du4_power5,iu1_power5*4)\")\n-;  |(du3_power5,nothing,iu2_power5*4)\\\n-;  |(du4_power5,nothing,iu1_power5*4)\")\n \n (define_insn_reservation \"power5-imul3\" 4\n   (and (eq_attr \"type\" \"imul2,imul3\")\n@@ -220,8 +216,6 @@\n   |(du2_power5,iu2_power5*3)\\\n   |(du3_power5,iu2_power5*3)\\\n   |(du4_power5,iu1_power5*3)\")\n-;  |(du3_power5,nothing,iu2_power5*3)\\\n-;  |(du4_power5,nothing,iu1_power5*3)\")\n \n \n ; SPR move only executes in first IU.\n@@ -304,8 +298,6 @@\n   |(du2_power5,fpu2_power5*28)\\\n   |(du3_power5,fpu2_power5*28)\\\n   |(du4_power5,fpu1_power5*28)\")\n-;  |(du3_power5,nothing,fpu2_power5*28)\\\n-;  |(du4_power5,nothing,fpu1_power5*28)\")\n \n (define_insn_reservation \"power5-sqrt\" 40\n   (and (eq_attr \"type\" \"ssqrt,dsqrt\")\n@@ -314,6 +306,4 @@\n   |(du2_power5,fpu2_power5*35)\\\n   |(du3_power5,fpu2_power5*35)\\\n   |(du4_power5,fpu2_power5*35)\")\n-;  |(du3_power5,nothing,fpu2_power5*35)\\\n-;  |(du4_power5,nothing,fpu2_power5*35)\")\n "}]}