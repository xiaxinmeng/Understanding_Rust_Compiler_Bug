{"sha": "eac8c9f2d3263e9f412f90044b1cfda2f979b723", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFjOGM5ZjJkMzI2M2U5ZjQxMmY5MDA0NGIxY2ZkYTJmOTc5YjcyMw==", "commit": {"author": {"name": "Krister Walfridsson", "email": "krister.walfridsson@gmail.com", "date": "2017-05-14T22:49:03Z"}, "committer": {"name": "Krister Walfridsson", "email": "kristerw@gcc.gnu.org", "date": "2017-05-14T22:49:03Z"}, "message": "PR target/80600 - hidden symbol '__cpu_model' is referenced by DSO\n\ngcc/ChangeLog:\n\n        PR target/80600\n        * config/netbsd.h (NETBSD_LIBGCC_SPEC): Always add -lgcc.\n\nlibgcc/ChangeLog:\n\n        PR target/80600\n        * config.host (*-*-netbsd*): Add t-slibgcc-libgcc to tmake_file.\n\nFrom-SVN: r248037", "tree": {"sha": "d669de804819be975a52bce83c2b28615f3d9f9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d669de804819be975a52bce83c2b28615f3d9f9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eac8c9f2d3263e9f412f90044b1cfda2f979b723", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eac8c9f2d3263e9f412f90044b1cfda2f979b723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eac8c9f2d3263e9f412f90044b1cfda2f979b723", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eac8c9f2d3263e9f412f90044b1cfda2f979b723/comments", "author": {"login": "kristerw", "id": 3127667, "node_id": "MDQ6VXNlcjMxMjc2Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/3127667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kristerw", "html_url": "https://github.com/kristerw", "followers_url": "https://api.github.com/users/kristerw/followers", "following_url": "https://api.github.com/users/kristerw/following{/other_user}", "gists_url": "https://api.github.com/users/kristerw/gists{/gist_id}", "starred_url": "https://api.github.com/users/kristerw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kristerw/subscriptions", "organizations_url": "https://api.github.com/users/kristerw/orgs", "repos_url": "https://api.github.com/users/kristerw/repos", "events_url": "https://api.github.com/users/kristerw/events{/privacy}", "received_events_url": "https://api.github.com/users/kristerw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9430f7b8e71286b54153227e5fdaf42ab8e955dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9430f7b8e71286b54153227e5fdaf42ab8e955dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9430f7b8e71286b54153227e5fdaf42ab8e955dc"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "cecd6d86ff9fdf86f8f315838a8f7c21e2301901", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eac8c9f2d3263e9f412f90044b1cfda2f979b723/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eac8c9f2d3263e9f412f90044b1cfda2f979b723/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eac8c9f2d3263e9f412f90044b1cfda2f979b723", "patch": "@@ -1,3 +1,8 @@\n+2017-05-14  Krister Walfridsson  <krister.walfridsson@gmail.com>\n+\n+\tPR target/80600\n+\t* config/netbsd.h (NETBSD_LIBGCC_SPEC): Always add -lgcc.\n+\n 2017-05-14  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386.i386.c (ix86_cc_modes_compatible): CCNOmode is"}, {"sha": "4001f240d58bc6135fa385d2b052d944c97a6082", "filename": "gcc/config/netbsd.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eac8c9f2d3263e9f412f90044b1cfda2f979b723/gcc%2Fconfig%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eac8c9f2d3263e9f412f90044b1cfda2f979b723/gcc%2Fconfig%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd.h?ref=eac8c9f2d3263e9f412f90044b1cfda2f979b723", "patch": "@@ -120,8 +120,7 @@ along with GCC; see the file COPYING3.  If not see\n #undef LIB_SPEC\n #define LIB_SPEC NETBSD_LIB_SPEC\n \n-/* Provide a LIBGCC_SPEC appropriate for NetBSD.  We also want to exclude\n-   libgcc with -symbolic.  */\n+/* Provide a LIBGCC_SPEC appropriate for NetBSD.  */\n \n #ifdef NETBSD_NATIVE\n #define NETBSD_LIBGCC_SPEC\t\\\n@@ -133,7 +132,7 @@ along with GCC; see the file COPYING3.  If not see\n      %{p: -lgcc_p}\t\t\\\n      %{pg: -lgcc_p}}\"\n #else\n-#define NETBSD_LIBGCC_SPEC \"%{!shared:%{!symbolic: -lgcc}}\"\n+#define NETBSD_LIBGCC_SPEC \"-lgcc\"\n #endif\n \n #undef LIBGCC_SPEC"}, {"sha": "c070a3d2a96e77ca1bc6273306c2120bdf4189fe", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eac8c9f2d3263e9f412f90044b1cfda2f979b723/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eac8c9f2d3263e9f412f90044b1cfda2f979b723/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=eac8c9f2d3263e9f412f90044b1cfda2f979b723", "patch": "@@ -1,3 +1,8 @@\n+2017-05-14  Krister Walfridsson  <krister.walfridsson@gmail.com>\n+\n+\tPR target/80600\n+\t* config.host (*-*-netbsd*): Add t-slibgcc-libgcc to tmake_file.\n+\n 2017-05-14  Daniel Santos  <daniel.santos@pobox.com>\n \n \t* config.host: Add i386/t-msabi to i386/t-linux file list."}, {"sha": "7711abf270474d37b2e6fcb9fb17f72ae1aa3dfd", "filename": "libgcc/config.host", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eac8c9f2d3263e9f412f90044b1cfda2f979b723/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eac8c9f2d3263e9f412f90044b1cfda2f979b723/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=eac8c9f2d3263e9f412f90044b1cfda2f979b723", "patch": "@@ -249,6 +249,7 @@ case ${host} in\n *-*-netbsd*)\n   tmake_file=\"$tmake_file t-crtstuff-pic t-libgcc-pic t-eh-dw2-dip\"\n   tmake_file=\"$tmake_file t-slibgcc t-slibgcc-gld t-slibgcc-elf-ver\"\n+  tmake_file=\"$tmake_file t-slibgcc-libgcc\"\n   # NetBSD 1.7 and later are set up to use GCC's crtstuff for\n   # ELF configurations.  We will clear extra_parts in the\n   # a.out configurations."}]}