{"sha": "a3579575118598e0aaecff407a3ba31dfbf3afe4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM1Nzk1NzUxMTg1OThlMGFhZWNmZjQwN2EzYmEzMWRmYmYzYWZlNA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-02-17T23:44:14Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-02-17T23:44:14Z"}, "message": "h8300.c (fix_bit_operand): Don't generate insns by hand.\n\n\t* config/h8300/h8300.c (fix_bit_operand): Don't generate insns\n\tby hand.\n\t* config/h8300/h8300.md (*andqi3_1): Change to andqi3_1.\n\t(*iorqi3_1): Change to iorqi3_1.\n\t(*xorqi3_1): Change to xorqi3_1.\n\nFrom-SVN: r77997", "tree": {"sha": "937d9d73f75a2db3512ae116aff52aa44300872f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/937d9d73f75a2db3512ae116aff52aa44300872f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3579575118598e0aaecff407a3ba31dfbf3afe4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3579575118598e0aaecff407a3ba31dfbf3afe4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3579575118598e0aaecff407a3ba31dfbf3afe4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3579575118598e0aaecff407a3ba31dfbf3afe4/comments", "author": null, "committer": null, "parents": [{"sha": "321440fd61650045e452baefdc590043ff2e9e54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/321440fd61650045e452baefdc590043ff2e9e54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/321440fd61650045e452baefdc590043ff2e9e54"}], "stats": {"total": 33, "additions": 26, "deletions": 7}, "files": [{"sha": "42612f040888ae4108d1b472cb27da9c24458a34", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3579575118598e0aaecff407a3ba31dfbf3afe4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3579575118598e0aaecff407a3ba31dfbf3afe4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a3579575118598e0aaecff407a3ba31dfbf3afe4", "patch": "@@ -1,3 +1,11 @@\n+2004-02-17  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* config/h8300/h8300.c (fix_bit_operand): Don't generate insns\n+\tby hand.\n+\t* config/h8300/h8300.md (*andqi3_1): Change to andqi3_1.\n+\t(*iorqi3_1): Change to iorqi3_1.\n+\t(*xorqi3_1): Change to xorqi3_1.\n+\n 2004-02-17  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* c-common.c, cfghooks.c, rtlanal.c, varasm.c: Fix comment"}, {"sha": "894c3aa3c2bb2d4c14809b4b5baaf22903061a8a", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 15, "deletions": 4, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3579575118598e0aaecff407a3ba31dfbf3afe4/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3579575118598e0aaecff407a3ba31dfbf3afe4/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=a3579575118598e0aaecff407a3ba31dfbf3afe4", "patch": "@@ -4109,10 +4109,21 @@ fix_bit_operand (rtx *operands, int what, enum rtx_code type)\n   operands[1] = force_reg (QImode, operands[1]);\n   {\n     rtx res = gen_reg_rtx (QImode);\n-    emit_insn (gen_rtx_SET (VOIDmode, res,\n-\t\t\t    gen_rtx_fmt_ee (type, QImode,\n-\t\t\t\t\t    operands[1], operands[2])));\n-    emit_insn (gen_rtx_SET (VOIDmode, operands[0], res));\n+    switch (type)\n+      {\n+      case AND:\n+\temit_insn (gen_andqi3_1 (res, operands[1], operands[2]));\n+\tbreak;\n+      case IOR:\n+\temit_insn (gen_iorqi3_1 (res, operands[1], operands[2]));\n+\tbreak;\n+      case XOR:\n+\temit_insn (gen_xorqi3_1 (res, operands[1], operands[2]));\n+\tbreak;\n+      default:\n+\tabort ();\n+      }\n+    emit_insn (gen_movqi (operands[0], res));\n   }\n   return 1;\n }"}, {"sha": "f18f007574b59e137dc2903d1d714b28aa5d6399", "filename": "gcc/config/h8300/h8300.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3579575118598e0aaecff407a3ba31dfbf3afe4/gcc%2Fconfig%2Fh8300%2Fh8300.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3579575118598e0aaecff407a3ba31dfbf3afe4/gcc%2Fconfig%2Fh8300%2Fh8300.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.md?ref=a3579575118598e0aaecff407a3ba31dfbf3afe4", "patch": "@@ -1183,7 +1183,7 @@\n ;; AND INSTRUCTIONS\n ;; ----------------------------------------------------------------------\n \n-(define_insn \"*andqi3_1\"\n+(define_insn \"andqi3_1\"\n   [(set (match_operand:QI 0 \"bit_operand\" \"=r,U\")\n \t(and:QI (match_operand:QI 1 \"bit_operand\" \"%0,0\")\n \t\t(match_operand:QI 2 \"nonmemory_operand\" \"rn,n\")))]\n@@ -1279,7 +1279,7 @@\n ;; OR INSTRUCTIONS\n ;; ----------------------------------------------------------------------\n \n-(define_insn \"*iorqi3_1\"\n+(define_insn \"iorqi3_1\"\n   [(set (match_operand:QI 0 \"bit_operand\" \"=r,U\")\n \t(ior:QI (match_operand:QI 1 \"bit_operand\" \"%0,0\")\n \t\t(match_operand:QI 2 \"nonmemory_operand\" \"rn,n\")))]\n@@ -1320,7 +1320,7 @@\n ;; XOR INSTRUCTIONS\n ;; ----------------------------------------------------------------------\n \n-(define_insn \"*xorqi3_1\"\n+(define_insn \"xorqi3_1\"\n   [(set (match_operand:QI 0 \"bit_operand\" \"=r,U\")\n \t(xor:QI (match_operand:QI 1 \"bit_operand\" \"%0,0\")\n \t\t(match_operand:QI 2 \"nonmemory_operand\" \"rn,n\")))]"}]}