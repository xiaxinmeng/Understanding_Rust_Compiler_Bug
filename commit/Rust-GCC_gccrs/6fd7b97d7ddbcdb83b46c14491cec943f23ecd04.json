{"sha": "6fd7b97d7ddbcdb83b46c14491cec943f23ecd04", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZkN2I5N2Q3ZGRiY2RiODNiNDZjMTQ0OTFjZWM5NDNmMjNlY2QwNA==", "commit": {"author": {"name": "Peter Schmid", "email": "schmid@snake.iap.physik.tu-darmstadt.de", "date": "2001-03-27T19:17:16Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-03-27T19:17:16Z"}, "message": "tests_flags.in: Change the order of libstdc++ and libc\n\nk\n\n2001-03-26  Peter Schmid  <schmid@snake.iap.physik.tu-darmstadt.de>\n\n        * libstdc++-v3/tests_flags.in: Change the order of libstdc++\n          and libc\n\nFrom-SVN: r40876", "tree": {"sha": "c873d0116e9611f6631702b6983b576c754d1035", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c873d0116e9611f6631702b6983b576c754d1035"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04/comments", "author": null, "committer": null, "parents": [{"sha": "4bc5fbd480352653d10d4056d77750750fd5e0f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bc5fbd480352653d10d4056d77750750fd5e0f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bc5fbd480352653d10d4056d77750750fd5e0f3"}], "stats": {"total": 70, "additions": 39, "deletions": 31}, "files": [{"sha": "8bc753d048349ca249a779090cecca69f4fd1727", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6fd7b97d7ddbcdb83b46c14491cec943f23ecd04", "patch": "@@ -1,3 +1,8 @@\n+2001-03-26  Peter Schmid  <schmid@snake.iap.physik.tu-darmstadt.de>\n+\n+        * libstdc++-v3/tests_flags.in: Change the order of libstdc++\n+          and libc \n+\n 2001-03-26  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* include/bits/basic_file.h (get_fileno): Remove."}, {"sha": "e6dd1b287bcbd9fc9c2451ca247f8ececf8dcb9e", "filename": "libstdc++-v3/tests_flags.in", "status": "modified", "additions": 34, "deletions": 31, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04/libstdc%2B%2B-v3%2Ftests_flags.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fd7b97d7ddbcdb83b46c14491cec943f23ecd04/libstdc%2B%2B-v3%2Ftests_flags.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftests_flags.in?ref=6fd7b97d7ddbcdb83b46c14491cec943f23ecd04", "patch": "@@ -88,35 +88,35 @@ check_directory 'Build' ${BUILD_DIR}\n check_directory 'Source' ${SRC_DIR}\n case ${query} in\n     --installed-library)\n-    PREFIX_DIR=$4\n-    check_directory 'Install' ${PREFIX_DIR}\n-    ;;\n+      PREFIX_DIR=$4\n+      check_directory 'Install' ${PREFIX_DIR}\n+      ;;\n     *)\n-    PREFIX_DIR=\n-    ;;\n+      PREFIX_DIR=\n+      ;;\n esac\n \n # Compute include paths\n # INCLUDES == include path to new headers for use on gcc command-line\n C_DIR=\"`basename  @C_INCLUDE_DIR@`\"\n case ${query} in\n     --installed-library)\n-    INCLUDES=\"-I${SRC_DIR}/testsuite\"\n-    ;;\n+      INCLUDES=\"-I${SRC_DIR}/testsuite\"\n+      ;;\n     *)\n-    INCLUDES=\"-nostdinc++ @CSHADOW_FLAGS@ -I${BUILD_DIR}/include\n-\t      -I${SRC_DIR}/include/std  -I${SRC_DIR}/include/$C_DIR\n-\t      -I${SRC_DIR}/include -I${SRC_DIR}/libsupc++ -I${SRC_DIR}/libio \n-\t      -I${SRC_DIR}/testsuite\"\n-    ;;\n+      INCLUDES=\"-nostdinc++ -I${BUILD_DIR}/include -I${SRC_DIR}/include\n+                -I${SRC_DIR}/include/std  -I${SRC_DIR}/include/$C_DIR\n+\t        -I${SRC_DIR}/libsupc++ -I${SRC_DIR}/libio \n+\t\t-I${SRC_DIR}/testsuite\"\n+      ;;\n esac\n \n # If called for compiler tests, just output appropriate include paths\n case ${query} in\n     --compiler)\n-    echo ${INCLUDES} -I${SRC_DIR}/include/backward -I${SRC_DIR}/include/ext\n-    exit 0\n-    ;;\n+      echo ${INCLUDES} -I${SRC_DIR}/include/backward -I${SRC_DIR}/include/ext\n+      exit 0\n+      ;;\n esac\n \n # For built or installed libraries, we need to get right OS-specific bits.\n@@ -127,35 +127,38 @@ esac\n # CXX == the full pathname of the compiler\n case ${query} in\n     --built-library)\n-    LIB_PATH=${BUILD_DIR}/src\n-    GCC_LIB_PATH=${BUILD_DIR}/../../gcc\n-    CXX=\"${BUILD_DIR}/../../gcc/g++\"\n-    ;;\n+      LIB_PATH=${BUILD_DIR}/src\n+      GCC_LIB_PATH=${BUILD_DIR}/../../gcc\n+      CXX=\"${BUILD_DIR}/../../gcc/g++\"\n+      ;;\n     --installed-library)\n-    LIB_PATH=${PREFIX_DIR}/lib\n-    CXX=${PREFIX_DIR}/bin/g++\n-    ;;\n+      LIB_PATH=${PREFIX_DIR}/lib\n+      GCC_LIB_PATH=\n+      CXX=${PREFIX_DIR}/bin/g++\n+      ;;\n esac\n \n # gcc compiler flags (maybe use glibcpp_cxxflags from configure.target,\n-# but thst's really meant for building the library itself, not using it)\n+# but that's really meant for building the library itself, not using it)\n CXXFLAGS=\"-ggdb3 -DDEBUG_ASSERT @SECTION_FLAGS@ @SECTION_LDFLAGS@\"\n \n # LIBS == any extra needed -l switches, etc (may need more libs, lose lose)\n case ${query} in\n     --built-library)\n-    LIBS=\"${LIB_PATH}/libstdc++.la ${LIB_PATH}/../libsupc++/libsupc++.la \n-\t    -no-install -rpath ${GCC_LIB_PATH}\"\n+      LIBS=\"${LIB_PATH}/libstdc++.la -no-install -rpath ${GCC_LIB_PATH}\"\n     case @target_os@ in\n-        *cygwin*)  LIBS=\"${LIBS} -nodefaultlibs -lgcc -lcygwin -luser32\n-                         -lkernel32 -ladvapi32 -lshell32\" ;;\n-        *)         LIBS=\"${LIBS} -nodefaultlibs -lc -lgcc -lc\" ;;\n+        *cygwin*)  \n+\t  LIBS=\"${LIBS} -nodefaultlibs -lgcc -lcygwin -luser32\n+                -lkernel32 -ladvapi32 -lshell32\" \n+\t  ;;\n+        *)         \n+\t  LIBS=\"${LIBS} -nodefaultlibs -lgcc -lc -lgcc\" \n+\t  ;;\n     esac\n     ;;\n     --installed-library)\n-    LIBS=\"-L${LIB_PATH} ${LIB_PATH}/libstdc++.la \n-           -no-install -rpath ${LIB_PATH}\"\n-    ;;\n+\tLIBS=\"${LIB_PATH}/libstdc++.la -no-install -rpath ${GCC_LIB_PATH}\"\n+\t;;\n esac\n \n echo ${BUILD_DIR}:${SRC_DIR}:${PREFIX_DIR}:${CXX}:${CXXFLAGS}:${INCLUDES}:${LIBS}"}]}