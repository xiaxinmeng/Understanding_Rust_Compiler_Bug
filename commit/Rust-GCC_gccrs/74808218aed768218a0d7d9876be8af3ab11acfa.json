{"sha": "74808218aed768218a0d7d9876be8af3ab11acfa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQ4MDgyMThhZWQ3NjgyMThhMGQ3ZDk4NzZiZThhZjNhYjExYWNmYQ==", "commit": {"author": {"name": "Mark Wielaard", "email": "mark@klomp.org", "date": "2001-11-16T19:00:47Z"}, "committer": {"name": "Mark Wielaard", "email": "mark@gcc.gnu.org", "date": "2001-11-16T19:00:47Z"}, "message": "Timer.java (TaskQueue.isStopped): Remove method.\n\n\t* java/util/Timer.java (TaskQueue.isStopped): Remove method.\n\t(Scheduler.run): Try to re-schedule task and ignore exception if\n\tqueue has been stopped.\n\nFrom-SVN: r47093", "tree": {"sha": "f4fc24ee831b743911bbf4560e0a9eff03fbbf4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f4fc24ee831b743911bbf4560e0a9eff03fbbf4d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74808218aed768218a0d7d9876be8af3ab11acfa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74808218aed768218a0d7d9876be8af3ab11acfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74808218aed768218a0d7d9876be8af3ab11acfa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74808218aed768218a0d7d9876be8af3ab11acfa/comments", "author": null, "committer": null, "parents": [{"sha": "81bbae61cec567c5528f78ed5afb53289a9fc63a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81bbae61cec567c5528f78ed5afb53289a9fc63a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81bbae61cec567c5528f78ed5afb53289a9fc63a"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "02fa0b36da718d89f4facc97ebfc596b6f7bb7a8", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74808218aed768218a0d7d9876be8af3ab11acfa/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74808218aed768218a0d7d9876be8af3ab11acfa/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=74808218aed768218a0d7d9876be8af3ab11acfa", "patch": "@@ -1,3 +1,9 @@\n+2001-11-16  Mark Wielaard  <mark@klomp.org>\n+\n+\t* java/util/Timer.java (TaskQueue.isStopped): Remove method.\n+\t(Scheduler.run): Try to re-schedule task and ignore exception if\n+\tqueue has been stopped.\n+\n 2001-11-15  Tom Tromey  <tromey@redhat.com>\n \n \t* verify.cc (type::compatible): Use _Jv_IsAssignableFrom."}, {"sha": "a5e877640fb713b0f7c3e9c7d3607874308f08d8", "filename": "libjava/java/util/Timer.java", "status": "modified", "additions": 10, "deletions": 11, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74808218aed768218a0d7d9876be8af3ab11acfa/libjava%2Fjava%2Futil%2FTimer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74808218aed768218a0d7d9876be8af3ab11acfa/libjava%2Fjava%2Futil%2FTimer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FTimer.java?ref=74808218aed768218a0d7d9876be8af3ab11acfa", "patch": "@@ -285,14 +285,6 @@ public synchronized void stop()\n       this.notify();\n     }\n \n-    /**\n-     * This method returns <code>true</code> if the queue has been\n-     * stopped.\n-     */\n-    public synchronized boolean isStopped ()\n-    {\n-      return this.heap == null;\n-    }\n   }\t\t\t\t// TaskQueue\n \n   /**\n@@ -346,8 +338,7 @@ public void run()\n \t    }\n \n \t  // Calculate next time and possibly re-enqueue.\n-\t  // Don't bother re-scheduling if the queue has been stopped.\n-\t  if (! queue.isStopped () && task.scheduled >= 0)\n+\t  if (task.scheduled >= 0)\n \t    {\n \t      if (task.fixed)\n \t\t{\n@@ -357,7 +348,15 @@ public void run()\n \t\t{\n \t\t  task.scheduled = task.period + System.currentTimeMillis();\n \t\t}\n-\t      queue.enqueue(task);\n+\n+\t      try\n+\t        {\n+\t          queue.enqueue(task);\n+\t\t}\n+\t      catch (IllegalStateException ise)\n+\t        {\n+\t\t  // Ignore. Apparently the Timer queue has been stopped.\n+\t\t}\n \t    }\n \t}\n     }"}]}