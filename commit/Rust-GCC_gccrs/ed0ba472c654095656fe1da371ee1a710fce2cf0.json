{"sha": "ed0ba472c654095656fe1da371ee1a710fce2cf0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWQwYmE0NzJjNjU0MDk1NjU2ZmUxZGEzNzFlZTFhNzEwZmNlMmNmMA==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2012-08-20T19:49:46Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-08-20T19:49:46Z"}, "message": "re PR fortran/54301 (Add optional warning if pointer assigning a local variable to a nonlocal pointer)\n\n2012-08-20  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/54301\n        * expr.c (gfc_check_pointer_assign): Warn when a pointer,\n        which is a function result, might outlive its target.\n\n2012-08-20  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/54301\n        * gfortran.dg/warn_target_lifetime_2.f90: New.\n\nFrom-SVN: r190542", "tree": {"sha": "4f00eaee89fd24bfe17ce28b877ab8f4b661dab7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f00eaee89fd24bfe17ce28b877ab8f4b661dab7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ed0ba472c654095656fe1da371ee1a710fce2cf0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed0ba472c654095656fe1da371ee1a710fce2cf0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed0ba472c654095656fe1da371ee1a710fce2cf0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed0ba472c654095656fe1da371ee1a710fce2cf0/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "07bc8ae8abd68eaf968f77f453e33ec60c371bb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07bc8ae8abd68eaf968f77f453e33ec60c371bb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07bc8ae8abd68eaf968f77f453e33ec60c371bb3"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "4992ecfeccb1f8e5c9940e7d25ee7197e9395a8f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ed0ba472c654095656fe1da371ee1a710fce2cf0", "patch": "@@ -1,3 +1,9 @@\n+2012-08-20  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/54301\n+\t* expr.c (gfc_check_pointer_assign): Warn when a pointer,\n+\twhich is a function result, might outlive its target.\n+\n 2012-08-20  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/54301"}, {"sha": "bc1f5e33c6a04638e229565046ac7ffeb15a2e8a", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=ed0ba472c654095656fe1da371ee1a710fce2cf0", "patch": "@@ -3673,6 +3673,7 @@ gfc_check_pointer_assign (gfc_expr *lvalue, gfc_expr *rvalue)\n \n       warn = lvalue->symtree->n.sym->attr.dummy\n \t     || lvalue->symtree->n.sym->attr.result\n+\t     || lvalue->symtree->n.sym->attr.function\n \t     || lvalue->symtree->n.sym->attr.host_assoc\n \t     || lvalue->symtree->n.sym->attr.use_assoc\n \t     || lvalue->symtree->n.sym->attr.in_common;"}, {"sha": "0b1bf5a21da006b1e3787c3da8056d94f9a78960", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ed0ba472c654095656fe1da371ee1a710fce2cf0", "patch": "@@ -1,3 +1,8 @@\n+2012-08-20  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/54301\n+\t* gfortran.dg/warn_target_lifetime_2.f90: New.\n+\n 2012-08-20  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/10416"}, {"sha": "bfcb7aca4776907a29c0b339077c638b37378d2f", "filename": "gcc/testsuite/gfortran.dg/warn_target_lifetime_2.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ftestsuite%2Fgfortran.dg%2Fwarn_target_lifetime_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed0ba472c654095656fe1da371ee1a710fce2cf0/gcc%2Ftestsuite%2Fgfortran.dg%2Fwarn_target_lifetime_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fwarn_target_lifetime_2.f90?ref=ed0ba472c654095656fe1da371ee1a710fce2cf0", "patch": "@@ -0,0 +1,10 @@\n+! { dg-do compile }\n+! { dg-options \"-Wtarget-lifetime\" }\n+!\n+! PR fortran/54301\n+!\n+function f()\n+  integer, pointer :: f\n+  integer, target :: t\n+  f => t ! { dg-warning \"Pointer at .1. in pointer assignment might outlive the pointer target\" }\n+end"}]}