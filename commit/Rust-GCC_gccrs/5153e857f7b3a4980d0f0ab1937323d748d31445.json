{"sha": "5153e857f7b3a4980d0f0ab1937323d748d31445", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE1M2U4NTdmN2IzYTQ5ODBkMGYwYWIxOTM3MzIzZDc0OGQzMTQ0NQ==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-11-19T04:58:34Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-11-19T04:58:34Z"}, "message": "compat.exp: Add DYLD_LIBRARY_PATH for darwin.\n\n2003-11-19  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* g++.dg/compat/compat.exp: Add DYLD_LIBRARY_PATH for darwin.\n\t* lib/g77.exp: Likewise.\n\t* lib/objc.exp: Likewise.\n\t* lib/g++.exp: Likewise, add -multiply_defined suppress flag\n\tfor darwin.\n\nFrom-SVN: r73727", "tree": {"sha": "6e98833958dcbcabfd6f09758590940f8d78e250", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e98833958dcbcabfd6f09758590940f8d78e250"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5153e857f7b3a4980d0f0ab1937323d748d31445", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5153e857f7b3a4980d0f0ab1937323d748d31445", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5153e857f7b3a4980d0f0ab1937323d748d31445", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5153e857f7b3a4980d0f0ab1937323d748d31445/comments", "author": null, "committer": null, "parents": [{"sha": "70d8f2a1b2e415b7b0f16e7df99b7d601517810c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70d8f2a1b2e415b7b0f16e7df99b7d601517810c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70d8f2a1b2e415b7b0f16e7df99b7d601517810c"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "0f66268f1023bbe7ad4911821ecf3efe9b6fd86a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5153e857f7b3a4980d0f0ab1937323d748d31445", "patch": "@@ -1,3 +1,11 @@\n+2003-11-19  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* g++.dg/compat/compat.exp: Add DYLD_LIBRARY_PATH for darwin.\n+\t* lib/g77.exp: Likewise.\n+\t* lib/objc.exp: Likewise.\n+\t* lib/g++.exp: Likewise, add -multiply_defined suppress flag\n+\tfor darwin.\n+\n 2003-11-18  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/12932"}, {"sha": "1adb4569c6da07ebe528f895456ff5381aac52c9", "filename": "gcc/testsuite/g++.dg/compat/compat.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcompat%2Fcompat.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcompat%2Fcompat.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcompat%2Fcompat.exp?ref=5153e857f7b3a4980d0f0ab1937323d748d31445", "patch": "@@ -47,6 +47,7 @@ proc compat-fix-library-path { } {\n     setenv  SHLIB_PATH          $ld_library_path\n     setenv  LD_LIBRARYN32_PATH  $ld_library_path\n     setenv  LD_LIBRARY64_PATH   $ld_library_path\n+    setenv  DYLD_LIBRARY_PATH   $ld_library_path\n }\n \n #"}, {"sha": "cfefeeeb5e1bb6470295c31953807c9cde4f4489", "filename": "gcc/testsuite/lib/g++.exp", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp?ref=5153e857f7b3a4980d0f0ab1937323d748d31445", "patch": "@@ -176,6 +176,7 @@ proc g++_link_flags { paths } {\n     setenv  SHLIB_PATH          $ld_library_path\n     setenv  LD_LIBRARYN32_PATH  $ld_library_path\n     setenv  LD_LIBRARY64_PATH   $ld_library_path\n+    setenv  DYLD_LIBRARY_PATH   $ld_library_path\n \n     return \"$flags\"\n }\n@@ -196,6 +197,7 @@ proc g++_init { args } {\n     global TOOL_EXECUTABLE TOOL_OPTIONS\n     global GXX_UNDER_TEST\n     global TESTING_IN_BUILD_TREE\n+    global target_triplet\n \n     if ![info exists GXX_UNDER_TEST] then {\n \tif [info exists TOOL_EXECUTABLE] {\n@@ -259,6 +261,10 @@ proc g++_init { args } {\n     # error-message parsing machinery.\n     lappend ALWAYS_CXXFLAGS \"additional_flags=-fmessage-length=0\"\n \n+    if { [string match \"powerpc-*-darwin*\" $target_triplet] } {\n+\tlappend ALWAYS_CXXFLAGS \"ldflags=-multiply_defined suppress\"\n+       }\n+\n     verbose -log \"ALWAYS_CXXFLAGS set to $ALWAYS_CXXFLAGS\"\n \n     verbose \"g++ is initialized\" 3"}, {"sha": "6e182d48cd8a3a6f06f9931099d90d98046eadb0", "filename": "gcc/testsuite/lib/g77.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Flib%2Fg77.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Flib%2Fg77.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg77.exp?ref=5153e857f7b3a4980d0f0ab1937323d748d31445", "patch": "@@ -120,6 +120,7 @@ proc g77_link_flags { paths } {\n     setenv  SHLIB_PATH          $ld_library_path\n     setenv  LD_LIBRARYN32_PATH  $ld_library_path\n     setenv  LD_LIBRARY64_PATH   $ld_library_path\n+    setenv  DYLD_LIBRARY_PATH   $ld_library_path\n \n     return \"$flags\"\n }"}, {"sha": "ab6377e236697585f034e1eee7ab70111df454e9", "filename": "gcc/testsuite/lib/objc.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Flib%2Fobjc.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5153e857f7b3a4980d0f0ab1937323d748d31445/gcc%2Ftestsuite%2Flib%2Fobjc.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fobjc.exp?ref=5153e857f7b3a4980d0f0ab1937323d748d31445", "patch": "@@ -194,6 +194,7 @@ proc objc_target_compile { source dest type options } {\n     setenv  SHLIB_PATH          $ld_library_path\n     setenv  LD_LIBRARYN32_PATH  $ld_library_path\n     setenv  LD_LIBRARY64_PATH   $ld_library_path\n+    setenv  DYLD_LIBRARY_PATH   $ld_library_path \n \n     return [target_compile $source $dest $type $options]\n }"}]}