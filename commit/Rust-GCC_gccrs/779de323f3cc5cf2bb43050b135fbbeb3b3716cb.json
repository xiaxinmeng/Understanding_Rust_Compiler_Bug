{"sha": "779de323f3cc5cf2bb43050b135fbbeb3b3716cb", "node_id": "C_kwDOANBUbNoAKDc3OWRlMzIzZjNjYzVjZjJiYjQzMDUwYjEzNWZiYmViM2IzNzE2Y2I", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-04-06T11:00:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-04-06T11:00:42Z"}, "message": "Merge #1083\n\n1083: bugfix: fix several minor issues r=CohenArthur a=liushuyu\n\n- Fixed `-frust-crate= option` got incorrectly overridden by a default value (`example`)\r\n- Fix a minor typo in `gcc/rust/ast/rust-ast-full-test.cc`\n\nCo-authored-by: liushuyu <liushuyu011@gmail.com>", "tree": {"sha": "f5db0c15ebcd8f104308613ceaabd4123164b97b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5db0c15ebcd8f104308613ceaabd4123164b97b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/779de323f3cc5cf2bb43050b135fbbeb3b3716cb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiTXLaCRBK7hj4Ov3rIwAAyLcIAGDfZGR43SF2nfmKJhkH/F+9\n5MKq4ZxALImgeszHY+MEw9JrusLzrtin9+bRBon870SNSlclSktpfUaaQsZqPsGx\nL7y64snR1qAc2UoEN/KQY57AWzM6vfP6aB6sLT4NhAdKldy9XlsFSnbo7YSZ1Utc\n/UE6Kowu3VHMi3WtP1+2Yi2KGfyq/ljzXBu6JN7/CT74vpuEJITIqrO7cVYAhHrd\nma2vDB5lAe3JYUmZMLWSFFXkfuqv6bkaqOigK4DW9l98ZXuymafq/bOqy/MG8Jxw\nVL2MgPvAQtRru7/s1hY4KZGWat83+2fE5PUcss8Y1X7ABrsajkIsfPiy3Y+bdrg=\n=GL3U\n-----END PGP SIGNATURE-----\n", "payload": "tree f5db0c15ebcd8f104308613ceaabd4123164b97b\nparent 9011184f38a04f81ba3194b826bec3f30a11c07b\nparent af14ad605680116d6e93c73ae1c0aba5bd5e7460\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1649242842 +0000\ncommitter GitHub <noreply@github.com> 1649242842 +0000\n\nMerge #1083\n\n1083: bugfix: fix several minor issues r=CohenArthur a=liushuyu\n\n- Fixed `-frust-crate= option` got incorrectly overridden by a default value (`example`)\r\n- Fix a minor typo in `gcc/rust/ast/rust-ast-full-test.cc`\n\nCo-authored-by: liushuyu <liushuyu011@gmail.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/779de323f3cc5cf2bb43050b135fbbeb3b3716cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/779de323f3cc5cf2bb43050b135fbbeb3b3716cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/779de323f3cc5cf2bb43050b135fbbeb3b3716cb/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9011184f38a04f81ba3194b826bec3f30a11c07b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9011184f38a04f81ba3194b826bec3f30a11c07b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9011184f38a04f81ba3194b826bec3f30a11c07b"}, {"sha": "af14ad605680116d6e93c73ae1c0aba5bd5e7460", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af14ad605680116d6e93c73ae1c0aba5bd5e7460", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af14ad605680116d6e93c73ae1c0aba5bd5e7460"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "d58017731ee012066c415f401fd62691bd2e1bff", "filename": "gcc/rust/ast/rust-ast-full-test.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/779de323f3cc5cf2bb43050b135fbbeb3b3716cb/gcc%2Frust%2Fast%2Frust-ast-full-test.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/779de323f3cc5cf2bb43050b135fbbeb3b3716cb/gcc%2Frust%2Fast%2Frust-ast-full-test.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-ast-full-test.cc?ref=779de323f3cc5cf2bb43050b135fbbeb3b3716cb", "patch": "@@ -311,7 +311,7 @@ Visibility::as_string () const\n     case NONE:\n       return std::string (\"pub\");\n     case CRATE:\n-      return std::string (\"ub(crate)\");\n+      return std::string (\"pub(crate)\");\n     case SELF:\n       return std::string (\"pub(self)\");\n     case SUPER:"}, {"sha": "f3010aa914e1faf7429707851cbc53099fb853cb", "filename": "gcc/rust/rust-session-manager.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/779de323f3cc5cf2bb43050b135fbbeb3b3716cb/gcc%2Frust%2Frust-session-manager.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/779de323f3cc5cf2bb43050b135fbbeb3b3716cb/gcc%2Frust%2Frust-session-manager.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Frust-session-manager.cc?ref=779de323f3cc5cf2bb43050b135fbbeb3b3716cb", "patch": "@@ -311,8 +311,9 @@ Session::init ()\n   // setup backend to GCC GIMPLE\n   backend = rust_get_backend ();\n \n-  // set the default crate name\n-  options.set_crate_name (kDefaultCrateName);\n+  // set the default crate name if crate name was unset\n+  if (options.crate_name.empty ())\n+    options.set_crate_name (kDefaultCrateName);\n }\n \n /* Initialise default options. Actually called before handle_option, unlike init"}]}