{"sha": "3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2QxZjQ5MjJjM2ZjOGMzNGE1YzFhNTNlMGY5NTA2MDlmNGFhZjk0OA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-03-30T23:21:15Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-03-30T23:21:15Z"}, "message": "toplev.c (rest_of_compilation): Run purge_builtin_constant_p before post-gcse cse pass.\n\n        * toplev.c (rest_of_compilation): Run purge_builtin_constant_p\n        before post-gcse cse pass.\n\nFrom-SVN: r65061", "tree": {"sha": "fa6dd59f0f21e5065a194ae4f9b7510b449bb829", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa6dd59f0f21e5065a194ae4f9b7510b449bb829"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948/comments", "author": null, "committer": null, "parents": [{"sha": "9311f3f613826baba9506671cfd94227108853a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9311f3f613826baba9506671cfd94227108853a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9311f3f613826baba9506671cfd94227108853a9"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "9df9a0db8971a8269833650930ff5544120ce100", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948", "patch": "@@ -1,3 +1,9 @@\n+2003-03-30  Richard Henderson  <rth@redhat.com>\n+\n+\tPR opt/10011, opt/10252:\n+        * toplev.c (rest_of_compilation): Run purge_builtin_constant_p\n+        before post-gcse cse pass.\n+\n 2003-03-30  Roger Sayle  <roger@eyesopen.com>\n \n \t* dojump.c (do_jump): Copy SUBREGs into a pseudo for comparison."}, {"sha": "67cd53310f412423ee7d04cfd02d3e8c0c8873ca", "filename": "gcc/toplev.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=3d1f4922c3fc8c34a5c1a53e0f950609f4aaf948", "patch": "@@ -2929,6 +2929,10 @@ rest_of_compilation (decl)\n       save_cfj = flag_cse_follow_jumps;\n       flag_cse_skip_blocks = flag_cse_follow_jumps = 0;\n \n+      /* Instantiate any remaining CONSTANT_P_RTX nodes.  */\n+      if (current_function_calls_constant_p)\n+\tpurge_builtin_constant_p ();\n+\n       /* If -fexpensive-optimizations, re-run CSE to clean up things done\n \t by gcse.  */\n       if (flag_expensive_optimizations)\n@@ -2974,10 +2978,6 @@ rest_of_compilation (decl)\n #endif\n     }\n \n-  /* Instantiate any remaining CONSTANT_P_RTX nodes.  */\n-  if (optimize > 0 && flag_gcse && current_function_calls_constant_p)\n-    purge_builtin_constant_p ();\n-\n   /* Move constant computations out of loops.  */\n \n   if (optimize > 0 && flag_loop_optimize)"}]}