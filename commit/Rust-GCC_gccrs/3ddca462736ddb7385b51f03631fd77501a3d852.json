{"sha": "3ddca462736ddb7385b51f03631fd77501a3d852", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2RkY2E0NjI3MzZkZGI3Mzg1YjUxZjAzNjMxZmQ3NzUwMWEzZDg1Mg==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonberg@adacore.com", "date": "2008-05-20T12:45:38Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-20T12:45:38Z"}, "message": "exp_ch5.adb (Expand_Assign_Record): Within an initialization procedure for a derived type retrieve the discriminant...\n\n2008-05-20  Ed Schonberg  <schonberg@adacore.com>\n\n\t* exp_ch5.adb (Expand_Assign_Record): Within an initialization\n\tprocedure for a derived type retrieve the discriminant values from the\n\tparent using the corresponding discriminant.\n\t(Expand_N_Assignment_Statement): Skip generation of implicit\n\tif-statement associated with controlled types if we are\n\tcompiling with restriction No_Finalization.\n\nFrom-SVN: r135622", "tree": {"sha": "93b1a9addc3caa5bc0e197aa7964366767a6e171", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93b1a9addc3caa5bc0e197aa7964366767a6e171"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ddca462736ddb7385b51f03631fd77501a3d852", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ddca462736ddb7385b51f03631fd77501a3d852", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ddca462736ddb7385b51f03631fd77501a3d852", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ddca462736ddb7385b51f03631fd77501a3d852/comments", "author": {"login": "Edschonberg", "id": 6352375, "node_id": "MDQ6VXNlcjYzNTIzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6352375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Edschonberg", "html_url": "https://github.com/Edschonberg", "followers_url": "https://api.github.com/users/Edschonberg/followers", "following_url": "https://api.github.com/users/Edschonberg/following{/other_user}", "gists_url": "https://api.github.com/users/Edschonberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Edschonberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Edschonberg/subscriptions", "organizations_url": "https://api.github.com/users/Edschonberg/orgs", "repos_url": "https://api.github.com/users/Edschonberg/repos", "events_url": "https://api.github.com/users/Edschonberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Edschonberg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d70d147e3cdb82621a0f61d70e6243d64395f062", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d70d147e3cdb82621a0f61d70e6243d64395f062", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d70d147e3cdb82621a0f61d70e6243d64395f062"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "00ab0d6fa9d54ea66e1ba9c87098036053d23617", "filename": "gcc/ada/exp_ch5.adb", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ddca462736ddb7385b51f03631fd77501a3d852/gcc%2Fada%2Fexp_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ddca462736ddb7385b51f03631fd77501a3d852/gcc%2Fada%2Fexp_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch5.adb?ref=3ddca462736ddb7385b51f03631fd77501a3d852", "patch": "@@ -1886,8 +1886,11 @@ package body Exp_Ch5 is\n                --       <code for controlled and/or tagged assignment>\n                --    end if;\n \n+               --  Skip this if Restriction (No_Finalization) is active\n+\n                if not Statically_Different (Lhs, Rhs)\n                  and then Expand_Ctrl_Actions\n+                 and then not Restriction_Active (No_Finalization)\n                then\n                   L := New_List (\n                     Make_Implicit_If_Statement (N,"}]}