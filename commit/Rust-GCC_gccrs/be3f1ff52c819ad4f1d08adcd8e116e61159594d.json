{"sha": "be3f1ff52c819ad4f1d08adcd8e116e61159594d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUzZjFmZjUyYzgxOWFkNGYxZDA4YWRjZDhlMTE2ZTYxMTU5NTk0ZA==", "commit": {"author": {"name": "David S. Miller", "email": "davem@pierdol.cobaltmicro.com", "date": "1998-08-29T22:46:34Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "1998-08-29T22:46:34Z"}, "message": "sparc.md (pic_lo_sum_di, [...]): Rename to movdi_lo_sum_pic and movdi_high_pic and make visible.\n\n\t* config/sparc/sparc.md (pic_lo_sum_di, pic_sethi_di): Rename to\n\tmovdi_lo_sum_pic and movdi_high_pic and make visible.\n\t* config/sparc/sparc.c (legitimize_pic_address): For -fPIC,\n\temit these when Pmode is not SImode.\n\t* config/sparc/linux64.h (SPARC_DEFAULT_CMODEL): Make CM_MEDLOW.\n\nFrom-SVN: r22094", "tree": {"sha": "0585ba04c79c2eec00898d2fd1089d518e677784", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0585ba04c79c2eec00898d2fd1089d518e677784"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be3f1ff52c819ad4f1d08adcd8e116e61159594d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be3f1ff52c819ad4f1d08adcd8e116e61159594d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be3f1ff52c819ad4f1d08adcd8e116e61159594d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be3f1ff52c819ad4f1d08adcd8e116e61159594d/comments", "author": null, "committer": null, "parents": [{"sha": "25135471c2dc449204f61be4a4bab997ccb85285", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25135471c2dc449204f61be4a4bab997ccb85285", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25135471c2dc449204f61be4a4bab997ccb85285"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "1e17e2b53bbf7f40c75ef9a11c29d0fb18da9957", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=be3f1ff52c819ad4f1d08adcd8e116e61159594d", "patch": "@@ -1,3 +1,11 @@\n+Sat Aug 29 21:38:24 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n+\n+\t* config/sparc/sparc.md (pic_lo_sum_di, pic_sethi_di): Rename to\n+\tmovdi_lo_sum_pic and movdi_high_pic and make visible.\n+\t* config/sparc/sparc.c (legitimize_pic_address): For -fPIC,\n+\temit these when Pmode is not SImode.\n+\t* config/sparc/linux64.h (SPARC_DEFAULT_CMODEL): Make CM_MEDLOW.\n+\n Sat Aug 29 14:59:32 1998  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* i386/cygwin32.h (ASM_OUTPUT_SECTION_NAME): Don't emit"}, {"sha": "9c2df818a777f17f38b2923e0ca8bdda0119f9e8", "filename": "gcc/config/sparc/linux64.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2Fconfig%2Fsparc%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2Fconfig%2Fsparc%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux64.h?ref=be3f1ff52c819ad4f1d08adcd8e116e61159594d", "patch": "@@ -82,7 +82,7 @@ Boston, MA 02111-1307, USA.  */\n \n /* The default code model.  */\n #undef SPARC_DEFAULT_CMODEL\n-#define SPARC_DEFAULT_CMODEL CM_MEDANY\n+#define SPARC_DEFAULT_CMODEL CM_MEDLOW\n \n #undef WCHAR_TYPE\n #define WCHAR_TYPE \"long int\""}, {"sha": "0e8b8042b7d8a0086fee7fde2d2397fcdf77e9e6", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=be3f1ff52c819ad4f1d08adcd8e116e61159594d", "patch": "@@ -2449,8 +2449,16 @@ legitimize_pic_address (orig, mode, reg)\n \t     won't get confused into thinking that these two instructions\n \t     are loading in the true address of the symbol.  If in the\n \t     future a PIC rtx exists, that should be used instead.  */\n-\t  emit_insn (gen_movsi_high_pic (temp_reg, orig));\n-\t  emit_insn (gen_movsi_lo_sum_pic (temp_reg, temp_reg, orig));\n+\t  if (Pmode == SImode)\n+\t    {\n+\t      emit_insn (gen_movsi_high_pic (temp_reg, orig));\n+\t      emit_insn (gen_movsi_lo_sum_pic (temp_reg, temp_reg, orig));\n+\t    }\n+\t  else\n+\t    {\n+\t      emit_insn (gen_movdi_high_pic (temp_reg, orig));\n+\t      emit_insn (gen_movdi_lo_sum_pic (temp_reg, temp_reg, orig));\n+\t    }\n \t  address = temp_reg;\n \t}\n       else"}, {"sha": "f1ac5ce0a63266c9b4d5b0a0810983c74f414b3c", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be3f1ff52c819ad4f1d08adcd8e116e61159594d/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=be3f1ff52c819ad4f1d08adcd8e116e61159594d", "patch": "@@ -2405,7 +2405,7 @@\n ;; Sparc-v9 code model support insns.  See sparc_emit_set_symbolic_const64\n ;; in sparc.c to see what is going on here... PIC stuff comes first.\n \n-(define_insn \"*pic_lo_sum_di\"\n+(define_insn \"movdi_lo_sum_pic\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n         (lo_sum:DI (match_operand:DI 1 \"register_operand\" \"r\")\n                    (unspec:DI [(match_operand:DI 2 \"immediate_operand\" \"in\")] 0)))]\n@@ -2414,7 +2414,7 @@\n   [(set_attr \"type\" \"ialu\")\n    (set_attr \"length\" \"1\")])\n \n-(define_insn \"*pic_sethi_di\"\n+(define_insn \"movdi_high_pic\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n         (high:DI (unspec:DI [(match_operand 1 \"\" \"\")] 0)))]\n   \"TARGET_ARCH64 && flag_pic && check_pic (1)\""}]}