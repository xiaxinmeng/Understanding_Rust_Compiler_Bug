{"sha": "c52b57714b25f9cdfd4977325a68b2bf62b07de3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzUyYjU3NzE0YjI1ZjljZGZkNDk3NzMyNWE2OGIyYmY2MmIwN2RlMw==", "commit": {"author": {"name": "Anthony Green", "email": "green@cygnus.com", "date": "2000-01-16T23:56:06Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2000-01-16T23:56:06Z"}, "message": "parse.y (build_string_concatenation): Only use StringBuffer(String) shortcut if String arg is constant.\n\n2000-01-16  Anthony Green  <green@cygnus.com>\n\n\t* parse.y (build_string_concatenation): Only use\n\tStringBuffer(String) shortcut if String arg is constant.\n\nFrom-SVN: r31450", "tree": {"sha": "19ee2fec6dfa4cd54b604ad5600c0519440c831a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19ee2fec6dfa4cd54b604ad5600c0519440c831a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c52b57714b25f9cdfd4977325a68b2bf62b07de3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c52b57714b25f9cdfd4977325a68b2bf62b07de3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c52b57714b25f9cdfd4977325a68b2bf62b07de3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c52b57714b25f9cdfd4977325a68b2bf62b07de3/comments", "author": null, "committer": null, "parents": [{"sha": "2ce7461bd00a2b5941a0311e11affe766ffbd7af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ce7461bd00a2b5941a0311e11affe766ffbd7af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ce7461bd00a2b5941a0311e11affe766ffbd7af"}], "stats": {"total": 23, "additions": 14, "deletions": 9}, "files": [{"sha": "09d79d321f953f97b087041a30fa67dd9ab2ea54", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c52b57714b25f9cdfd4977325a68b2bf62b07de3/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c52b57714b25f9cdfd4977325a68b2bf62b07de3/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=c52b57714b25f9cdfd4977325a68b2bf62b07de3", "patch": "@@ -1,3 +1,8 @@\n+2000-01-16  Anthony Green  <green@cygnus.com>\n+\n+\t* parse.y (build_string_concatenation): Only use\n+\tStringBuffer(String) shortcut if String arg is constant.\n+\n 2000-01-11  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* jcf-path.c: Delete PATH_SEPARATOR and DIR_SEPARATOR macros."}, {"sha": "72b64b49bdd9fad89a557819e1b206aa28480e12", "filename": "gcc/java/parse.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c52b57714b25f9cdfd4977325a68b2bf62b07de3/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c52b57714b25f9cdfd4977325a68b2bf62b07de3/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=c52b57714b25f9cdfd4977325a68b2bf62b07de3", "patch": "@@ -2257,7 +2257,7 @@ static const short yycheck[] = {     3,\n #define YYPURE 1\n \n /* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n-#line 3 \"/usr/lib/bison.simple\"\n+#line 3 \"/home/green/cygnus/njava/i0/share/bison.simple\"\n \n /* Skeleton output parser for bison,\n    Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.\n@@ -2450,7 +2450,7 @@ __yy_memcpy (char *to, char *from, int count)\n #endif\n #endif\n \f\n-#line 196 \"/usr/lib/bison.simple\"\n+#line 196 \"/home/green/cygnus/njava/i0/share/bison.simple\"\n \n /* The user can define YYPARSE_PARAM as the name of an argument to be passed\n    into yyparse.  The argument should have type void *.\n@@ -4750,7 +4750,7 @@ case 495:\n     break;}\n }\n    /* the action file gets copied in in place of this dollarsign */\n-#line 498 \"/usr/lib/bison.simple\"\n+#line 498 \"/home/green/cygnus/njava/i0/share/bison.simple\"\n \f\n   yyvsp -= yylen;\n   yyssp -= yylen;\n@@ -12821,9 +12821,9 @@ build_string_concatenation (op1, op2)\n   if (!IS_CRAFTED_STRING_BUFFER_P (op1))\n     {\n       /* Two solutions here: \n-\t 1) OP1 is a string reference, we call new StringBuffer(OP1)\n-\t 2) OP1 is something else, we call new StringBuffer().append(OP1). */\n-      if (JSTRING_TYPE_P (TREE_TYPE (op1)))\n+\t 1) OP1 is a constant string reference, we call new StringBuffer(OP1)\n+\t 2) OP1 is something else, we call new StringBuffer().append(OP1).  */\n+      if (TREE_CONSTANT (op1) && JSTRING_TYPE_P (TREE_TYPE (op1)))\n \top1 = BUILD_STRING_BUFFER (op1);\n       else\n \t{"}, {"sha": "85635082dded1e81ff7d6ba46579c3068d7378f6", "filename": "gcc/java/parse.y", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c52b57714b25f9cdfd4977325a68b2bf62b07de3/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c52b57714b25f9cdfd4977325a68b2bf62b07de3/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=c52b57714b25f9cdfd4977325a68b2bf62b07de3", "patch": "@@ -10218,9 +10218,9 @@ build_string_concatenation (op1, op2)\n   if (!IS_CRAFTED_STRING_BUFFER_P (op1))\n     {\n       /* Two solutions here: \n-\t 1) OP1 is a string reference, we call new StringBuffer(OP1)\n-\t 2) OP1 is something else, we call new StringBuffer().append(OP1). */\n-      if (JSTRING_TYPE_P (TREE_TYPE (op1)))\n+\t 1) OP1 is a constant string reference, we call new StringBuffer(OP1)\n+\t 2) OP1 is something else, we call new StringBuffer().append(OP1).  */\n+      if (TREE_CONSTANT (op1) && JSTRING_TYPE_P (TREE_TYPE (op1)))\n \top1 = BUILD_STRING_BUFFER (op1);\n       else\n \t{"}]}