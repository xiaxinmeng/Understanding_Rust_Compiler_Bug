{"sha": "574f5885f7d0fce6cb7f3b0bcf476871722d0bc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTc0ZjU4ODVmN2QwZmNlNmNiN2YzYjBiY2Y0NzY4NzE3MjJkMGJjOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-09-19T10:12:04Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-09-19T10:12:04Z"}, "message": "re PR rtl-optimization/87361 (gcc.target/sparc/20161111-1.c FAILs)\n\n\tPR rtl-optimization/87361\n\t* rtlanal.c (nonzero_bits1): Revert accidental change.\n\nFrom-SVN: r264420", "tree": {"sha": "ce5be239ac6c64a46b6ea8337b16f0b6248e2b93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce5be239ac6c64a46b6ea8337b16f0b6248e2b93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9/comments", "author": null, "committer": null, "parents": [{"sha": "d4eb08fe028d95d6e4055c96f7fa40517653c30c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4eb08fe028d95d6e4055c96f7fa40517653c30c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4eb08fe028d95d6e4055c96f7fa40517653c30c"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "1ad3fd05002aefcc3e77a69307452785c2c1687b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=574f5885f7d0fce6cb7f3b0bcf476871722d0bc9", "patch": "@@ -1,3 +1,8 @@\n+2018-09-19  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR rtl-optimization/87361\n+\t* rtlanal.c (nonzero_bits1): Revert accidental change.\n+\n 2018-09-19  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/87349"}, {"sha": "e8b6b9c7a4288fe21362903a28b62d4a797e82c4", "filename": "gcc/rtlanal.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9/gcc%2Frtlanal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/574f5885f7d0fce6cb7f3b0bcf476871722d0bc9/gcc%2Frtlanal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtlanal.c?ref=574f5885f7d0fce6cb7f3b0bcf476871722d0bc9", "patch": "@@ -4758,17 +4758,17 @@ nonzero_bits1 (const_rtx x, scalar_int_mode mode, const_rtx known_x,\n \t  nonzero &= cached_nonzero_bits (SUBREG_REG (x), mode,\n \t\t\t\t\t  known_x, known_mode, known_ret);\n \n-\t  /* On many CISC machines, accessing an object in a wider mode\n+          /* On many CISC machines, accessing an object in a wider mode\n \t     causes the high-order bits to become undefined.  So they are\n \t     not known to be zero.  */\n \t  rtx_code extend_op;\n \t  if ((!WORD_REGISTER_OPERATIONS\n \t       /* If this is a typical RISC machine, we only have to worry\n \t\t  about the way loads are extended.  */\n-\t       || !MEM_P (SUBREG_REG (x))\n \t       || ((extend_op = load_extend_op (inner_mode)) == SIGN_EXTEND\n \t\t   ? val_signbit_known_set_p (inner_mode, nonzero)\n-\t\t   : extend_op != ZERO_EXTEND))\n+\t\t   : extend_op != ZERO_EXTEND)\n+\t       || (!MEM_P (SUBREG_REG (x)) && !REG_P (SUBREG_REG (x))))\n \t      && xmode_width > inner_width)\n \t    nonzero\n \t      |= (GET_MODE_MASK (GET_MODE (x)) & ~GET_MODE_MASK (inner_mode));"}]}