{"sha": "499fa254ae8c9752d8c2cf3130b13ffddfd83546", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk5ZmEyNTRhZThjOTc1MmQ4YzJjZjMxMzBiMTNmZmRkZmQ4MzU0Ng==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2021-03-28T17:11:50Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2021-03-28T21:57:33Z"}, "message": "aix: TLS DWARF symbol decorations.\n\nGCC currently emits TLS relocation decorations on symbols in DWARF sections.\nRecent changes to the AIX linker cause it to reject such symbols.\nThis patch removes the decorations (@ie, @le, @m) and emit only the\nqualified symbol name.\n\ngcc/ChangeLog:\n\n\t* config/rs6000/rs6000.c (rs6000_output_dwarf_dtprel): Do not add\n\tXCOFF TLS reloc decorations.", "tree": {"sha": "a95a2d42d94ae0a47ec6626ebbfc51b549be0932", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a95a2d42d94ae0a47ec6626ebbfc51b549be0932"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/499fa254ae8c9752d8c2cf3130b13ffddfd83546", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/499fa254ae8c9752d8c2cf3130b13ffddfd83546", "html_url": "https://github.com/Rust-GCC/gccrs/commit/499fa254ae8c9752d8c2cf3130b13ffddfd83546", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/499fa254ae8c9752d8c2cf3130b13ffddfd83546/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d15db0c5f5d81e9057df07c9568ee81873860a44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d15db0c5f5d81e9057df07c9568ee81873860a44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d15db0c5f5d81e9057df07c9568ee81873860a44"}], "stats": {"total": 20, "additions": 0, "deletions": 20}, "files": [{"sha": "6a8943d02863f0fe817c7ab5e69b3c7129fa61b2", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/499fa254ae8c9752d8c2cf3130b13ffddfd83546/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/499fa254ae8c9752d8c2cf3130b13ffddfd83546/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=499fa254ae8c9752d8c2cf3130b13ffddfd83546", "patch": "@@ -9027,26 +9027,6 @@ rs6000_output_dwarf_dtprel (FILE *file, int size, rtx x)\n   output_addr_const (file, x);\n   if (TARGET_ELF)\n     fputs (\"@dtprel+0x8000\", file);\n-  else if (TARGET_XCOFF && SYMBOL_REF_P (x))\n-    {\n-      switch (SYMBOL_REF_TLS_MODEL (x))\n-\t{\n-\tcase 0:\n-\t  break;\n-\tcase TLS_MODEL_LOCAL_EXEC:\n-\t  fputs (\"@le\", file);\n-\t  break;\n-\tcase TLS_MODEL_INITIAL_EXEC:\n-\t  fputs (\"@ie\", file);\n-\t  break;\n-\tcase TLS_MODEL_GLOBAL_DYNAMIC:\n-\tcase TLS_MODEL_LOCAL_DYNAMIC:\n-\t  fputs (\"@m\", file);\n-\t  break;\n-\tdefault:\n-\t  gcc_unreachable ();\n-\t}\n-    }\n }\n \n /* Return true if X is a symbol that refers to real (rather than emulated)"}]}