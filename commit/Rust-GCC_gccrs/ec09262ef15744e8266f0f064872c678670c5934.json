{"sha": "ec09262ef15744e8266f0f064872c678670c5934", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMwOTI2MmVmMTU3NDRlODI2NmYwZjA2NDg3MmM2Nzg2NzBjNTkzNA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-11-15T13:52:10Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-11-15T13:52:10Z"}, "message": "s-traces-default.adb, [...]: Fix compilation errors.\n\n2005-11-14  Arnaud Charlet  <charlet@adacore.com>\n\n\t* s-traces-default.adb, s-trafor-default.ads,\n\ts-tratas-default.adb: Fix compilation errors.\n\nFrom-SVN: r106955", "tree": {"sha": "5dda4ec2592d28c0713f545a2b36a8425529c2d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5dda4ec2592d28c0713f545a2b36a8425529c2d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec09262ef15744e8266f0f064872c678670c5934", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec09262ef15744e8266f0f064872c678670c5934", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec09262ef15744e8266f0f064872c678670c5934", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec09262ef15744e8266f0f064872c678670c5934/comments", "author": null, "committer": null, "parents": [{"sha": "2b6659ab10cf18b508e70bbff09b81275f740da3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b6659ab10cf18b508e70bbff09b81275f740da3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b6659ab10cf18b508e70bbff09b81275f740da3"}], "stats": {"total": 81, "additions": 41, "deletions": 40}, "files": [{"sha": "2790c33e24ca773511c2a01750104f67803f25f9", "filename": "gcc/ada/s-traces-default.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec09262ef15744e8266f0f064872c678670c5934/gcc%2Fada%2Fs-traces-default.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec09262ef15744e8266f0f064872c678670c5934/gcc%2Fada%2Fs-traces-default.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-traces-default.adb?ref=ec09262ef15744e8266f0f064872c678670c5934", "patch": "@@ -45,7 +45,7 @@ package body System.Traces is\n    ----------------------\n \n    procedure Send_Trace_Info (Id : Trace_T) is\n-      Task_S  : String := SSL.Task_Name.all;\n+      Task_S  : constant String := SSL.Task_Name.all;\n       Trace_S : String (1 .. 3 + Task_S'Length);\n \n    begin\n@@ -57,8 +57,8 @@ package body System.Traces is\n    end Send_Trace_Info;\n \n    procedure Send_Trace_Info (Id : Trace_T; Timeout : Duration) is\n-      Task_S    : String := SSL.Task_Name.all;\n-      Timeout_S : String := Duration'Image (Timeout);\n+      Task_S    : constant String := SSL.Task_Name.all;\n+      Timeout_S : constant String := Duration'Image (Timeout);\n       Trace_S   : String (1 .. 6 + Task_S'Length + Timeout_S'Length);\n \n    begin"}, {"sha": "01d957f37bbbbd3754732879d952363b0b2b356c", "filename": "gcc/ada/s-trafor-default.ads", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec09262ef15744e8266f0f064872c678670c5934/gcc%2Fada%2Fs-trafor-default.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec09262ef15744e8266f0f064872c678670c5934/gcc%2Fada%2Fs-trafor-default.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-trafor-default.ads?ref=ec09262ef15744e8266f0f064872c678670c5934", "patch": "@@ -34,6 +34,7 @@\n --  This package implements functions to format run-time traces\n \n package System.Traces.Format is\n+   pragma Preelaborate;\n \n    Max_Size : constant Integer := 128;\n    --  Event messages' maximum size."}, {"sha": "5ea120dbc3077ea32f15c1cf8d4624b9cc857b2b", "filename": "gcc/ada/s-tratas-default.adb", "status": "modified", "additions": 37, "deletions": 37, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec09262ef15744e8266f0f064872c678670c5934/gcc%2Fada%2Fs-tratas-default.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec09262ef15744e8266f0f064872c678670c5934/gcc%2Fada%2Fs-tratas-default.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-tratas-default.adb?ref=ec09262ef15744e8266f0f064872c678670c5934", "patch": "@@ -39,9 +39,7 @@ with System.Traces;        use System.Traces;\n \n package body System.Traces.Tasking is\n \n-   use System.Tasking;\n    use System.Traces;\n-   use System.Traces.Format;\n \n    package SSL renames System.Soft_Links;\n \n@@ -60,8 +58,8 @@ package body System.Traces.Tasking is\n                     (1 .. Task_Name2.Common.Task_Image_Len);\n       Trace_S : String (1 .. 6 + Task_S'Length + Task2_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task2_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task2_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -108,13 +106,13 @@ package body System.Traces.Tasking is\n       Task2_S : constant String :=\n                   Task_Name2.Common.Task_Image\n                     (1 .. Task_Name2.Common.Task_Image_Len);\n-      Entry_S   : String := Integer'Image (Integer (Entry_Number));\n+      Entry_S   : constant String := Integer'Image (Integer (Entry_Number));\n       Trace_S   : String (1 .. 9 + Task_S'Length\n                                  + Task2_S'Length + Entry_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task_S'Length + Entry_S'Length;\n-      L2 : Integer := Task_S'Length + Task2_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task_S'Length + Entry_S'Length;\n+      L2 : constant Integer := Task_S'Length + Task2_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -156,12 +154,12 @@ package body System.Traces.Tasking is\n       Task2_S : constant String :=\n                   Task_Name2.Common.Task_Image\n                     (1 .. Task_Name2.Common.Task_Image_Len);\n-      Entry_S   : String := Integer'Image (Integer (Entry_Number));\n+      Entry_S   : constant String := Integer'Image (Integer (Entry_Number));\n       Trace_S   : String (1 .. 9 + Task_S'Length\n                                  + Task2_S'Length + Entry_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task_S'Length + Entry_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task_S'Length + Entry_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -183,11 +181,11 @@ package body System.Traces.Tasking is\n    end Send_Trace_Info;\n \n    procedure Send_Trace_Info (Id : Trace_T; Entry_Number : Entry_Index) is\n-      Task_S  : String := SSL.Task_Name.all;\n-      Entry_S : String := Integer'Image (Integer (Entry_Number));\n+      Task_S  : constant String := SSL.Task_Name.all;\n+      Entry_S : constant String := Integer'Image (Integer (Entry_Number));\n       Trace_S : String (1 .. 6 + Task_S'Length + Entry_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -212,7 +210,7 @@ package body System.Traces.Tasking is\n                     (1 .. Task_Name2.Common.Task_Image_Len);\n       Trace_S : String (1 .. 6 + Task_S'Length + Task2_S'Length);\n \n-      L0 : Integer := Task2_S'Length;\n+      L0 : constant Integer := Task2_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -234,14 +232,15 @@ package body System.Traces.Tasking is\n       Acceptor_S : constant String :=\n                      Acceptor.Common.Task_Image\n                        (1 .. Acceptor.Common.Task_Image_Len);\n-      Entry_S    : String := Integer'Image (Integer (Entry_Number));\n-      Timeout_S  : String := Duration'Image (Timeout);\n+      Entry_S    : constant String := Integer'Image (Integer (Entry_Number));\n+      Timeout_S  : constant String := Duration'Image (Timeout);\n       Trace_S    : String (1 .. 12 + Task_S'Length + Acceptor_S'Length\n                                    + Entry_S'Length + Timeout_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task_S'Length + Acceptor_S'Length;\n-      L2 : Integer := Task_S'Length + Acceptor_S'Length + Entry_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task_S'Length + Acceptor_S'Length;\n+      L2 : constant Integer :=\n+             Task_S'Length + Acceptor_S'Length + Entry_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -262,14 +261,14 @@ package body System.Traces.Tasking is\n       Entry_Number : Entry_Index;\n       Timeout      : Duration)\n    is\n-      Task_S    : String := SSL.Task_Name.all;\n-      Entry_S   : String := Integer'Image (Integer (Entry_Number));\n-      Timeout_S : String := Duration'Image (Timeout);\n+      Task_S    : constant String := SSL.Task_Name.all;\n+      Entry_S   : constant String := Integer'Image (Integer (Entry_Number));\n+      Timeout_S : constant String := Duration'Image (Timeout);\n       Trace_S   : String (1 .. 9 + Task_S'Length\n                                  + Entry_S'Length + Timeout_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task_S'Length + Entry_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task_S'Length + Entry_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -288,14 +287,14 @@ package body System.Traces.Tasking is\n       Task_Name : Task_Id;\n       Number    : Integer)\n    is\n-      Task_S    : String := SSL.Task_Name.all;\n-      Number_S  : String := Integer'Image (Number);\n-      Accepts_S : String := Extract_Accepts (Task_Name);\n+      Task_S    : constant String := SSL.Task_Name.all;\n+      Number_S  : constant String := Integer'Image (Number);\n+      Accepts_S : constant String := Extract_Accepts (Task_Name);\n       Trace_S   : String (1 .. 9 + Task_S'Length\n                                  + Number_S'Length + Accepts_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task_S'Length + Number_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task_S'Length + Number_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then\n@@ -315,16 +314,17 @@ package body System.Traces.Tasking is\n       Number    : Integer;\n       Timeout   : Duration)\n    is\n-      Task_S    : String := SSL.Task_Name.all;\n-      Timeout_S : String := Duration'Image (Timeout);\n-      Number_S  : String := Integer'Image (Number);\n-      Accepts_S : String := Extract_Accepts (Task_Name);\n+      Task_S    : constant String := SSL.Task_Name.all;\n+      Timeout_S : constant String := Duration'Image (Timeout);\n+      Number_S  : constant String := Integer'Image (Number);\n+      Accepts_S : constant String := Extract_Accepts (Task_Name);\n       Trace_S   : String (1 .. 12 + Task_S'Length + Timeout_S'Length\n                                   + Number_S'Length + Accepts_S'Length);\n \n-      L0 : Integer := Task_S'Length;\n-      L1 : Integer := Task_S'Length + Timeout_S'Length;\n-      L2 : Integer := Task_S'Length + Timeout_S'Length + Number_S'Length;\n+      L0 : constant Integer := Task_S'Length;\n+      L1 : constant Integer := Task_S'Length + Timeout_S'Length;\n+      L2 : constant Integer :=\n+             Task_S'Length + Timeout_S'Length + Number_S'Length;\n \n    begin\n       if Parameters.Runtime_Traces then"}]}