{"sha": "d7e418a1d8664c7b1516e16fae65efe4802cd050", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdlNDE4YTFkODY2NGM3YjE1MTZlMTZmYWU2NWVmZTQ4MDJjZDA1MA==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2019-04-12T21:50:42Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-04-12T21:50:42Z"}, "message": "libphobos: Add subdir-objects to configure script.\n\nRunning autoreconf regenerates all files cleanly with autoconf2.69.\n\nlibphobos/ChangeLog:\n\n2019-04-12  Iain Buclaw  <ibuclaw@gdcproject.org>\n\n\t* configure.ac (AM_INIT_AUTOMAKE): Add subdir-objects.\n\t* configure: Regenerate.\n\t* libdruntime/Makefile.in: Regenerate.\n\nFrom-SVN: r270330", "tree": {"sha": "6e0db98591c2647c2c9b593b95e1c9fcd9a674e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e0db98591c2647c2c9b593b95e1c9fcd9a674e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7e418a1d8664c7b1516e16fae65efe4802cd050", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7e418a1d8664c7b1516e16fae65efe4802cd050", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7e418a1d8664c7b1516e16fae65efe4802cd050", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7e418a1d8664c7b1516e16fae65efe4802cd050/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "60a2c64519087972b16d94f6cca209fa6a3f0940", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60a2c64519087972b16d94f6cca209fa6a3f0940", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60a2c64519087972b16d94f6cca209fa6a3f0940"}], "stats": {"total": 37, "additions": 24, "deletions": 13}, "files": [{"sha": "3220b1ec35f797718692fe6403ed50b45b04c9b9", "filename": "libphobos/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2FChangeLog?ref=d7e418a1d8664c7b1516e16fae65efe4802cd050", "patch": "@@ -1,3 +1,9 @@\n+2019-04-12  Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\t* configure.ac (AM_INIT_AUTOMAKE): Add subdir-objects.\n+\t* configure: Regenerate.\n+\t* libdruntime/Makefile.in: Regenerate.\n+\n 2019-04-12  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \t* m4/druntime/libraries.m4 (DRUNTIME_LIBRARIES_ZLIB): Use\n@@ -11,7 +17,6 @@\n \n 2019-04-12  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n-\t* testsuite/Makefile.am:\n \t* testsuite/Makefile.am (AUTOMAKE_OPTIONS): Remove dejagnu.\n \t(RUNTEST): Remove variable.\n \t(RUNTESTDEFAULTFLAGS, check_p_subno, check_p_numbers0,\n@@ -25,6 +30,7 @@\n \n 2019-04-12  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n+\tPR d/89255\n \t* configure.ac (ENABLE_SHARED, ENABLE_STATIC): Remove conditionals.\n \t* configure: Regenerate.\n \t* d_rules.am (%.t.lo, %.t.o): Remove rules."}, {"sha": "48b78eb56dd21816cd554f8af175c052afe4ea3c", "filename": "libphobos/configure", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fconfigure?ref=d7e418a1d8664c7b1516e16fae65efe4802cd050", "patch": "@@ -2554,6 +2554,7 @@ target_alias=${target_alias-$target}\n # no-dependencies: Don't generate automatic dependencies.\n #    (because it breaks when using bootstrap-lean, since some of the\n #    headers are gone at \"make install\" time).\n+# subdir-objects: Build objects in sub-directories.\n # -Wall: Issue all automake warnings.\n # -Wno-portability: Don't warn about constructs supported by GNU make.\n #    (because GCC requires GNU make anyhow).\n@@ -11494,7 +11495,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11497 \"configure\"\n+#line 11498 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11600,7 +11601,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11603 \"configure\"\n+#line 11604 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "f1ab556bec0f562c542eb478aa1c5514419c99c4", "filename": "libphobos/configure.ac", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fconfigure.ac?ref=d7e418a1d8664c7b1516e16fae65efe4802cd050", "patch": "@@ -42,11 +42,12 @@ AC_SUBST(target_alias)\n # no-dependencies: Don't generate automatic dependencies.\n #    (because it breaks when using bootstrap-lean, since some of the\n #    headers are gone at \"make install\" time).\n+# subdir-objects: Build objects in sub-directories.\n # -Wall: Issue all automake warnings.\n # -Wno-portability: Don't warn about constructs supported by GNU make.\n #    (because GCC requires GNU make anyhow).\n #  -Wno-override: Overrides used in testsuite.\n-AM_INIT_AUTOMAKE([1.11.1 foreign no-dist no-define no-dependencies -Wall -Wno-portability -Wno-override])\n+AM_INIT_AUTOMAKE([1.11.1 foreign no-dist no-define no-dependencies subdir-objects -Wall -Wno-portability -Wno-override])\n \n m4_rename([_AC_ARG_VAR_PRECIOUS],[glibd_PRECIOUS])\n m4_define([_AC_ARG_VAR_PRECIOUS],[])"}, {"sha": "4bfd04c3db50272d2d505c0bfae48ac9ebc5cb60", "filename": "libphobos/libdruntime/Makefile.in", "status": "modified", "additions": 12, "deletions": 9, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2Flibdruntime%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7e418a1d8664c7b1516e16fae65efe4802cd050/libphobos%2Flibdruntime%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2FMakefile.in?ref=d7e418a1d8664c7b1516e16fae65efe4802cd050", "patch": "@@ -425,9 +425,9 @@ am__objects_27 = $(am__objects_1) $(am__objects_3) $(am__objects_5) \\\n \t$(am__objects_13) $(am__objects_15) $(am__objects_17) \\\n \t$(am__objects_19) $(am__objects_21) $(am__objects_23) \\\n \t$(am__objects_25) $(am__objects_26)\n-am__objects_28 = libgdruntime_la-errno_.lo \\\n-\tlibgdruntime_la-bss_section.lo\n-am__objects_29 = libgdruntime_la-threadasm.lo\n+am__objects_28 = core/stdc/libgdruntime_la-errno_.lo \\\n+\trt/libgdruntime_la-bss_section.lo\n+am__objects_29 = core/libgdruntime_la-threadasm.lo\n am__objects_30 = $(am__objects_27) $(am__objects_28) $(am__objects_29)\n am_libgdruntime_la_OBJECTS = $(am__objects_30)\n libgdruntime_la_OBJECTS = $(am_libgdruntime_la_OBJECTS)\n@@ -1626,6 +1626,9 @@ core/sys/solaris/sys/types.lo: core/sys/solaris/sys/$(am__dirstamp)\n core/sys/solaris/time.lo: core/sys/solaris/$(am__dirstamp)\n gcc/config.lo: gcc/$(am__dirstamp)\n gcc/libbacktrace.lo: gcc/$(am__dirstamp)\n+core/stdc/libgdruntime_la-errno_.lo: core/stdc/$(am__dirstamp)\n+rt/libgdruntime_la-bss_section.lo: rt/$(am__dirstamp)\n+core/libgdruntime_la-threadasm.lo: core/$(am__dirstamp)\n \n libgdruntime.la: $(libgdruntime_la_OBJECTS) $(libgdruntime_la_DEPENDENCIES) $(EXTRA_libgdruntime_la_DEPENDENCIES) \n \t$(AM_V_GEN)$(libgdruntime_la_LINK) -rpath $(toolexeclibdir) $(libgdruntime_la_OBJECTS) $(libgdruntime_la_LIBADD) $(LIBS)\n@@ -1725,8 +1728,8 @@ distclean-compile:\n .S.lo:\n \t$(AM_V_CPPAS)$(LTCPPASCOMPILE) -c -o $@ $<\n \n-libgdruntime_la-threadasm.lo: core/threadasm.S\n-\t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o libgdruntime_la-threadasm.lo `test -f 'core/threadasm.S' || echo '$(srcdir)/'`core/threadasm.S\n+core/libgdruntime_la-threadasm.lo: core/threadasm.S\n+\t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o core/libgdruntime_la-threadasm.lo `test -f 'core/threadasm.S' || echo '$(srcdir)/'`core/threadasm.S\n \n .c.o:\n \t$(AM_V_CC)$(COMPILE) -c -o $@ $<\n@@ -1737,11 +1740,11 @@ libgdruntime_la-threadasm.lo: core/threadasm.S\n .c.lo:\n \t$(AM_V_CC)$(LTCOMPILE) -c -o $@ $<\n \n-libgdruntime_la-errno_.lo: core/stdc/errno_.c\n-\t$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o libgdruntime_la-errno_.lo `test -f 'core/stdc/errno_.c' || echo '$(srcdir)/'`core/stdc/errno_.c\n+core/stdc/libgdruntime_la-errno_.lo: core/stdc/errno_.c\n+\t$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o core/stdc/libgdruntime_la-errno_.lo `test -f 'core/stdc/errno_.c' || echo '$(srcdir)/'`core/stdc/errno_.c\n \n-libgdruntime_la-bss_section.lo: rt/bss_section.c\n-\t$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o libgdruntime_la-bss_section.lo `test -f 'rt/bss_section.c' || echo '$(srcdir)/'`rt/bss_section.c\n+rt/libgdruntime_la-bss_section.lo: rt/bss_section.c\n+\t$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o rt/libgdruntime_la-bss_section.lo `test -f 'rt/bss_section.c' || echo '$(srcdir)/'`rt/bss_section.c\n \n mostlyclean-libtool:\n \t-rm -f *.lo"}]}