{"sha": "14214f09510e1e2b3fb8f96ff209f47d6b1f136c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQyMTRmMDk1MTBlMWUyYjNmYjhmOTZmZjIwOWY0N2Q2YjFmMTM2Yw==", "commit": {"author": {"name": "Ziemowit Laski", "email": "zlaski@apple.com", "date": "2004-09-24T23:15:33Z"}, "committer": {"name": "Ziemowit Laski", "email": "zlaski@gcc.gnu.org", "date": "2004-09-24T23:15:33Z"}, "message": "objc-act.c (init_objc_symtab, [...]): When initializing 'long' fields, ensure that the initializer value is also 'long'.\n\n[gcc/objc/ChangeLog]\n2004-09-24  Ziemowit Laski  <zlaski@apple.com>\n\n\t* objc-act.c (init_objc_symtab, init_module_descriptor,\n\tbuild_shared_structure_initializer): When initializing 'long'\n\tfields, ensure that the initializer value is also 'long'.\n\nFrom-SVN: r88079", "tree": {"sha": "95d6a6e67d8925d87785d71cf473d02f830fb1fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95d6a6e67d8925d87785d71cf473d02f830fb1fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14214f09510e1e2b3fb8f96ff209f47d6b1f136c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14214f09510e1e2b3fb8f96ff209f47d6b1f136c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14214f09510e1e2b3fb8f96ff209f47d6b1f136c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14214f09510e1e2b3fb8f96ff209f47d6b1f136c/comments", "author": null, "committer": null, "parents": [{"sha": "e2ea71eaa045596ee6aea8aad9805eb92b2cafda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2ea71eaa045596ee6aea8aad9805eb92b2cafda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2ea71eaa045596ee6aea8aad9805eb92b2cafda"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "082a38cbf1261145eefdd69e0e0286c921d2cfad", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14214f09510e1e2b3fb8f96ff209f47d6b1f136c/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14214f09510e1e2b3fb8f96ff209f47d6b1f136c/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=14214f09510e1e2b3fb8f96ff209f47d6b1f136c", "patch": "@@ -1,3 +1,9 @@\n+2004-09-24  Ziemowit Laski  <zlaski@apple.com>\n+\n+\t* objc-act.c (init_objc_symtab, init_module_descriptor,\n+\tbuild_shared_structure_initializer): When initializing 'long'\n+\tfields, ensure that the initializer value is also 'long'.\n+\n 2004-09-24  Zack Weinberg  <zack@codesourcery.com>\n \n \t* objc-act.c: Change annotate_with_locus to SET_EXPR_LOCATION"}, {"sha": "e09e7a3e8cde444b2166e5154adc39d11cbb5ea5", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14214f09510e1e2b3fb8f96ff209f47d6b1f136c/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14214f09510e1e2b3fb8f96ff209f47d6b1f136c/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=14214f09510e1e2b3fb8f96ff209f47d6b1f136c", "patch": "@@ -1870,7 +1870,8 @@ init_objc_symtab (tree type)\n \n   /* sel_ref_cnt = { ..., 5, ... } */\n \n-  initlist = build_tree_list (NULL_TREE, build_int_cst (NULL_TREE, 0));\n+  initlist = build_tree_list (NULL_TREE,\n+\t\t\t      build_int_cst (long_integer_type_node, 0));\n \n   /* refs = { ..., _OBJC_SELECTOR_TABLE, ... } */\n \n@@ -1969,12 +1970,13 @@ init_module_descriptor (tree type)\n \n   /* version = { 1, ... } */\n \n-  expr = build_int_cst (NULL_TREE, OBJC_VERSION);\n+  expr = build_int_cst (long_integer_type_node, OBJC_VERSION);\n   initlist = build_tree_list (NULL_TREE, expr);\n \n   /* size = { ..., sizeof (struct _objc_module), ... } */\n \n-  expr = size_in_bytes (objc_module_template);\n+  expr = convert (long_integer_type_node,\n+\t\t  size_in_bytes (objc_module_template));\n   initlist = tree_cons (NULL_TREE, expr, initlist);\n \n   /* name = { ..., \"foo.m\", ... } */\n@@ -4850,13 +4852,17 @@ build_shared_structure_initializer (tree type, tree isa, tree super,\n   initlist = tree_cons (NULL_TREE, default_conversion (name), initlist);\n \n   /* version = */\n-  initlist = tree_cons (NULL_TREE, build_int_cst (NULL_TREE, 0), initlist);\n+  initlist = tree_cons (NULL_TREE, build_int_cst (long_integer_type_node, 0),\n+\t\t\tinitlist);\n \n   /* info = */\n-  initlist = tree_cons (NULL_TREE, build_int_cst (NULL_TREE, status), initlist);\n+  initlist = tree_cons (NULL_TREE,\n+\t\t\tbuild_int_cst (long_integer_type_node, status),\n+\t\t\tinitlist);\n \n   /* instance_size = */\n-  initlist = tree_cons (NULL_TREE, size, initlist);\n+  initlist = tree_cons (NULL_TREE, convert (long_integer_type_node, size),\n+\t\t\tinitlist);\n \n   /* objc_ivar_list = */\n   if (!ivar_list)"}]}