{"sha": "c73aebc3bd03f2b91f5795d1a893ecf53946375b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzczYWViYzNiZDAzZjJiOTFmNTc5NWQxYTg5M2VjZjUzOTQ2Mzc1Yg==", "commit": {"author": {"name": "Gerald Pfeifer", "email": "pfeifer@dbai.tuwien.ac.at", "date": "2003-07-09T13:24:07Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2003-07-09T13:24:07Z"}, "message": "gcc_release (announce_snapshot): Add substitution of @BRANCH for README and index.html.\n\n\t* gcc_release (announce_snapshot): Add substitution of @BRANCH\n\tfor README and index.html.  Remove substitution of @LONG_DATE.\n\tPut index.html into the respective snapshot directory.\n\tAdjust subject of the notification mail to the new naming scheme\n\tfor CVS tags.\n\tAdjust name of the LATEST-IS-... files to the new naming scheme\n\tfor snapshot directories.\n\t(FTP_PATH): Ditto.\n\t(LAST_DIR): Ditto.\n\t(LAST_LONG_DATE): Remove.\n\n\t* snapshot-README: Adjust to the new naming schemes for directories\n\tand snapshots per se.\n\tDynamically fill in the respective branch instead of hardcoding it.\n\n\t* snapshot-index.html: Replace individual links to diffs with a\n\tgeneral link to the diff/ subdirectory.\n\tMention the concrete snapshot in <title> and <h1>.\n\tAdjust links to the new location of index.html.\n\nFrom-SVN: r69143", "tree": {"sha": "285b90d380876ca8cc6a5079eeec8189ccf578e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/285b90d380876ca8cc6a5079eeec8189ccf578e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c73aebc3bd03f2b91f5795d1a893ecf53946375b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c73aebc3bd03f2b91f5795d1a893ecf53946375b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c73aebc3bd03f2b91f5795d1a893ecf53946375b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c73aebc3bd03f2b91f5795d1a893ecf53946375b/comments", "author": null, "committer": null, "parents": [{"sha": "d0974745a1f7e25d9aaebc632116faa1ccf92ca3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0974745a1f7e25d9aaebc632116faa1ccf92ca3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0974745a1f7e25d9aaebc632116faa1ccf92ca3"}], "stats": {"total": 98, "additions": 46, "deletions": 52}, "files": [{"sha": "5546f66cdb2d07ae749d5a2d25c24d6ba49a57fa", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=c73aebc3bd03f2b91f5795d1a893ecf53946375b", "patch": "@@ -1,3 +1,25 @@\n+2003-07-09  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n+\t\n+\t* gcc_release (announce_snapshot): Add substitution of @BRANCH\n+\tfor README and index.html.  Remove substitution of @LONG_DATE.\n+\tPut index.html into the respective snapshot directory.\n+\tAdjust subject of the notification mail to the new naming scheme\n+\tfor CVS tags.\n+\tAdjust name of the LATEST-IS-... files to the new naming scheme\n+\tfor snapshot directories.\n+\t(FTP_PATH): Ditto.\n+\t(LAST_DIR): Ditto.\n+\t(LAST_LONG_DATE): Remove.\n+\n+\t* snapshot-README: Adjust to the new naming schemes for directories\n+\tand snapshots per se.\n+\tDynamically fill in the respective branch instead of hardcoding it.\n+\n+\t* snapshot-index.html: Replace individual links to diffs with a\n+\tgeneral link to the diff/ subdirectory.\n+\tMention the concrete snapshot in <title> and <h1>.\n+\tAdjust links to the new location of index.html.\n+\t\n 2003-07-08  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* gcc_release: Move handling of complex modes directly after"}, {"sha": "e9d3437ea4046a354d684927ce369a36680e2fdb", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=c73aebc3bd03f2b91f5795d1a893ecf53946375b", "patch": "@@ -378,21 +378,21 @@ announce_snapshot() {\n   TEXT_DATE=`date --date=$DATE +%B\\ %d,\\ %Y`\n   cd ~ftp/pub/gcc/snapshots\n   sed -e \"s%@DATE@%$DATE%g\" -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n-    -e \"s%@LONG_DATE@%$LONG_DATE%g\" \\\n+    -e \"s%@BRANCH@%${BRANCH}%g\" \\\n     -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" < ~/scripts/snapshot-README > $$\n   mv $$ README\n   sed -e \"s%@DATE@%$DATE%g\" -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n-    -e \"s%@LONG_DATE@%$LONG_DATE%g\" \\\n+    -e \"s%@BRANCH@%${BRANCH}%g\" \\\n     -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" < ~/scripts/snapshot-index.html > $$\n-  mv $$ index.html\n+  mv $$ ${BRANCH}-${DATE}/index.html\n \n-  touch LATEST-IS-$LONG_DATE\n-  rm -f LATEST-IS-$LAST_LONG_DATE\n+  touch LATEST-IS-${BRANCH}-${DATE}\n+  rm -f LATEST-IS-${BRANCH}-${LAST_DATE}\n \n   inform \"Sending mail\"\n \n   export QMAILHOST=gcc.gnu.org\n-  mail -s \"gcc-ss-$DATE is now available\" gcc@gcc.gnu.org < ~ftp/pub/gcc/snapshots/README\n+  mail -s \"gcc-ss-${BRANCH}-${DATE} is now available\" gccadmin@gcc.gnu.org < ~ftp/pub/gcc/snapshots/README\n }\n \n ########################################################################\n@@ -585,15 +585,14 @@ else\n   # For now snapshots come from the 3.3 branch.\n   BRANCH=\"3.3\"\n   CVSBRANCH=gcc-3_3-branch\n-  FTP_PATH=\"${FTP_PATH}/snapshots/${BRANCH}-${LONG_DATE}\"\n+  FTP_PATH=\"${FTP_PATH}/snapshots/${BRANCH}-${DATE}\"\n   TAG=gcc-ss-`echo ${BRANCH} | tr '.' '_'`-${DATE}\n \n   # Building locally on gcc.gnu.org, we know what the last snapshot date\n   # was.\n   if [ $MODE_DIFFS -ne 0 ] && [ $LOCAL -ne 0 ]; then\n     LAST_DATE=`cat ~/.snapshot_date-${BRANCH}`\n-    LAST_LONG_DATE=`date --date=$LAST_DATE +%Y-%m-%d`\n-    LAST_DIR=~ftp/pub/gcc/snapshots/${LAST_LONG_DATE}\n+    LAST_DIR=~ftp/pub/gcc/snapshots/${BRANCH}-${LAST_DATE}\n     OLD_TARS=${LAST_DIR}/gcc-${LAST_DATE}.tar.bz2\n   fi\n fi"}, {"sha": "7fd96efc2b29394440c7ce15e8649fc1cdd5b20b", "filename": "maintainer-scripts/snapshot-README", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2Fsnapshot-README", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2Fsnapshot-README", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fsnapshot-README?ref=c73aebc3bd03f2b91f5795d1a893ecf53946375b", "patch": "@@ -1,8 +1,8 @@\n-gcc-ss-@DATE@ is now available on \n-  ftp://gcc.gnu.org/pub/gcc/snapshots/@LONG_DATE@\n+gcc-ss-@BRANCH@-@DATE@ is now available on \n+  ftp://gcc.gnu.org/pub/gcc/snapshots/@BRANCH@-@DATE@\n and on various mirrors, see http://gcc.gnu.org/mirrors.html for details.\n \n-This snapshot has been generated from the GCC CVS 3.3 branch.\n+This snapshot has been generated from the GCC CVS @BRANCH@ branch.\n \n You'll find:\n \n@@ -23,7 +23,7 @@ You'll find:\n \n   gcc-java-@DATE@.tar.bz2            The Java front end and runtime.\n \n-Diffs from @LAST_DATE@ are available in the diffs/ subdirectory. \n+Diffs from @BRANCH@-@LAST_DATE@ are available in the diffs/ subdirectory. \n \n \n When a particular snapshot is ready for public consumption the LATEST-IS-"}, {"sha": "b39072f435bf930fbe63af1b6e47453d2b86ea21", "filename": "maintainer-scripts/snapshot-index.html", "status": "modified", "additions": 12, "deletions": 39, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2Fsnapshot-index.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c73aebc3bd03f2b91f5795d1a893ecf53946375b/maintainer-scripts%2Fsnapshot-index.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fsnapshot-index.html?ref=c73aebc3bd03f2b91f5795d1a893ecf53946375b", "patch": "@@ -1,13 +1,11 @@\n <html>\n \n <head>\n-<title>GCC Snapshots</title>\n+<title>GCC @BRANCH@-@DATE@ Snapshot</title>\n </head>\n \n <body>\n-<h1>GCC Snapshots</h1>\n-\n-<hr />\n+<h1>GCC @BRANCH@-@DATE@ Snapshot</h1>\n \n <p>The <a href =\"http://gcc.gnu.org/\">GCC Project</a> makes\n periodic snapshots of the GCC source tree available to the public\n@@ -19,63 +17,38 @@ <h1>GCC Snapshots</h1>\n \n \n <blockquote>\n-    <p> <a href=\"@LONG_DATE@/gcc-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-@DATE@.tar.bz2\">\n \t gcc</a> @TEXT_DATE@ snapshot, includes all languages.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-@LAST_DATE@-@DATE@</a> patch file to bring gcc-@LAST_DATE@ up to\n-\tgcc-@DATE@.\n-\n-    <p> <a href=\"@LONG_DATE@/gcc-core-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-core-@DATE@.tar.bz2\">\n \t gcc-core</a> @TEXT_DATE@ snapshot, includes just the C front\n \t end and core compiler.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-core-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-core-@LAST_DATE@-@DATE@</a> patch file to bring gcc-core-@LAST_DATE@\n-\tup to gcc-core-@DATE@.\n-\n-    <p> <a href=\"@LONG_DATE@/gcc-g++-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-g++-@DATE@.tar.bz2\">\n \t gcc-g++</a> @TEXT_DATE@ snapshot, includes just the C++ front\n \t end and runtime.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-g++-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-g++-@LAST_DATE@-@DATE@</a> patch file to bring gcc-g++-@LAST_DATE@\n-\tup to gcc-g++-@DATE@.\n-\n-    <p> <a href=\"@LONG_DATE@/gcc-g77-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-g77-@DATE@.tar.bz2\">\n \t gcc-g77</a> @TEXT_DATE@ snapshot, includes just the F77 front\n \t end and runtime.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-g77-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-g77-@LAST_DATE@-@DATE@</a> patch file to bring gcc-g77-@LAST_DATE@\n-\tup to gcc-g77-@DATE@.\n-\n-    <p> <a href=\"@LONG_DATE@/gcc-java-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-java-@DATE@.tar.bz2\">\n \t gcc-java</a> @TEXT_DATE@ snapshot, includes just the Java\n \t front end and runtime.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-java-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-java-@LAST_DATE@-@DATE@</a> patch file to bring gcc-java-@LAST_DATE@\n-\tup to gcc-java-@DATE@.\n-\n-    <p> <a href=\"@LONG_DATE@/gcc-objc-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-objc-@DATE@.tar.bz2\">\n \t gcc-objc</a> @TEXT_DATE@ snapshot, includes just the Objective-C\n \t front end and runtime.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-objc-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-objc-@LAST_DATE@-@DATE@</a> patch file to bring gcc-objc-@LAST_DATE@\n-\tup to gcc-objc-@DATE@.\n-\n-    <p> <a href=\"@LONG_DATE@/gcc-ada-@DATE@.tar.bz2\">\n+    <p> <a href=\"gcc-ada-@DATE@.tar.bz2\">\n \t gcc-ada</a> @TEXT_DATE@ snapshot, includes just the Ada\n \t front end and runtime.\n \n-    <p> <a href=\"@LONG_DATE@/diffs/gcc-ada-@LAST_DATE@-@DATE@.diff.bz2\">\n-\tgcc-ada-@LAST_DATE@-@DATE@</a> patch file to bring gcc-ada-@LAST_DATE@\n-\tup to gcc-ada-@DATE@.\n-\n </blockquote>\n \n+<p>Diffs from @BRANCH@-@LAST_DATE@ are available in the\n+<a href=\"diffs/\">diffs/ subdirectory</a>.</p>\n+\n </p>When a particular snapshot is ready for public consumption the LATEST-IS-\n file is updated and a message is sent to the gcc list.  Please do not use\n a snapshot before it has been announced that way.</p>"}]}