{"sha": "2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQwOGQ1YjY1NjZkNGMwMTlhODVlZTFlYTk1N2ExZDU5ZDRiYzhmNg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-05T17:45:15Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-05T17:45:15Z"}, "message": "(note_mem_written): QImode varying structure memory accesses can alias scalars.\n\nFrom-SVN: r3654", "tree": {"sha": "7221a0146c7c223ff6cf5aa412ac3f91443d8501", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7221a0146c7c223ff6cf5aa412ac3f91443d8501"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6/comments", "author": null, "committer": null, "parents": [{"sha": "33d3e559c51bc6f7f8d789a5f8de768bb359fbd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33d3e559c51bc6f7f8d789a5f8de768bb359fbd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33d3e559c51bc6f7f8d789a5f8de768bb359fbd1"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "855242d4c1209a27935dccc2e91e7dbfec3e4694", "filename": "gcc/cse.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "patch": "@@ -6885,9 +6885,12 @@ note_mem_written (written, writes_ptr)\n \t{\n \t  /* A varying address that is a sum indicates an array element,\n \t     and that's just as good as a structure element\n-\t     in implying that we need not invalidate scalar variables.  */\n-\t  if (!(MEM_IN_STRUCT_P (written)\n-\t\t|| GET_CODE (XEXP (written, 0)) == PLUS))\n+\t     in implying that we need not invalidate scalar variables.\n+\t     However, we must allow QImode aliasing of scalars, because the\n+\t     ANSI C standard allows character pointers to alias anything.  */\n+\t  if (! ((MEM_IN_STRUCT_P (written)\n+\t\t  || GET_CODE (XEXP (written, 0)) == PLUS)\n+\t\t && GET_MODE (written) != QImode))\n \t    writes_ptr->all = 1;\n \t  writes_ptr->nonscalar = 1;\n \t}"}]}