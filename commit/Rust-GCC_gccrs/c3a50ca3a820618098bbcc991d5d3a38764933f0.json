{"sha": "c3a50ca3a820618098bbcc991d5d3a38764933f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNhNTBjYTNhODIwNjE4MDk4YmJjYzk5MWQ1ZDNhMzg3NjQ5MzNmMA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2006-04-09T10:06:20Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2006-04-09T10:06:20Z"}, "message": "re PR rtl-optimization/27073 (invalid gcse manipulation of REG_EQUIV notes)\n\n\tPR rtl-optimization/27073\n\t* gcse.c (try_replace_reg): Just propagate into REG_EQUAL notes,\n\tnot REG_EQUIVs.\n\ngcc/testsuite/\n\t* gcc.c-torture/execute/pr27073.c: New test.\n\nFrom-SVN: r112803", "tree": {"sha": "18d19f4755d3d6f1b26b39781fbe27a033d5f324", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18d19f4755d3d6f1b26b39781fbe27a033d5f324"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3a50ca3a820618098bbcc991d5d3a38764933f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3a50ca3a820618098bbcc991d5d3a38764933f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3a50ca3a820618098bbcc991d5d3a38764933f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3a50ca3a820618098bbcc991d5d3a38764933f0/comments", "author": null, "committer": null, "parents": [{"sha": "fd18206b7250bc0e7bc8b92f084b1e15021c014f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd18206b7250bc0e7bc8b92f084b1e15021c014f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd18206b7250bc0e7bc8b92f084b1e15021c014f"}], "stats": {"total": 38, "additions": 37, "deletions": 1}, "files": [{"sha": "60ce7403951d47b10ff4c22e7d1f8656a7db05b6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c3a50ca3a820618098bbcc991d5d3a38764933f0", "patch": "@@ -1,3 +1,9 @@\n+2006-04-09  Richard Sandiford  <richard@codesourcery.com>\n+\n+\tPR rtl-optimization/27073\n+\t* gcse.c (try_replace_reg): Just propagate into REG_EQUAL notes,\n+\tnot REG_EQUIVs.\n+\n 2006-04-08  Daniel Berlin  <dberlin@dberlin.org>\n \n \t* tree.h (tree_memory_tag): Add old_used_alone."}, {"sha": "0dbbe0bb6e1fdc0898eba3ddca1412b31954d1d2", "filename": "gcc/gcse.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=c3a50ca3a820618098bbcc991d5d3a38764933f0", "patch": "@@ -2642,7 +2642,7 @@ find_used_regs (rtx *xptr, void *data ATTRIBUTE_UNUSED)\n static int\n try_replace_reg (rtx from, rtx to, rtx insn)\n {\n-  rtx note = find_reg_equal_equiv_note (insn);\n+  rtx note = find_reg_note (insn, REG_EQUAL, NULL);\n   rtx src = 0;\n   int success = 0;\n   rtx set = single_set (insn);"}, {"sha": "41ba91e905c34d5310b0c19db1cf86035d785557", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c3a50ca3a820618098bbcc991d5d3a38764933f0", "patch": "@@ -1,3 +1,8 @@\n+2006-04-09  Richard Sandiford  <richard@codesourcery.com>\n+\n+\tPR rtl-optimization/27073\n+\t* gcc.c-torture/execute/pr27073.c: New test.\n+\n 2006-04-08  Mike Stump  <mrs@apple.com>\n \n \t* gcc.dg/pragma-darwin.c: Improve for ppc64."}, {"sha": "a58e9acae6093d0f3c4e9a34e49035ce1f5c6c46", "filename": "gcc/testsuite/gcc.c-torture/execute/pr27073.c", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr27073.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a50ca3a820618098bbcc991d5d3a38764933f0/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr27073.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr27073.c?ref=c3a50ca3a820618098bbcc991d5d3a38764933f0", "patch": "@@ -0,0 +1,25 @@\n+void __attribute__((noinline))\n+foo (int *p, int d1, int d2, int d3,\n+     short count, int s1, int s2, int s3, int s4, int s5)\n+{\n+  int n = count;\n+  while (n--)\n+    {\n+      *p++ = s1;\n+      *p++ = s2;\n+      *p++ = s3;\n+      *p++ = s4;\n+      *p++ = s5;\n+    }\n+}\n+\n+int main()\n+{\n+  int x[10], i;\n+\n+  foo (x, 0, 0, 0, 2, 100, 200, 300, 400, 500);\n+  for (i = 0; i < 10; i++)\n+    if (x[i] != (i % 5 + 1) * 100)\n+      abort ();\n+  exit (0);\n+}"}]}