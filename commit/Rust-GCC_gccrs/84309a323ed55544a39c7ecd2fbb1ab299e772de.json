{"sha": "84309a323ed55544a39c7ecd2fbb1ab299e772de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQzMDlhMzIzZWQ1NTU0NGEzOWM3ZWNkMmZiYjFhYjI5OWU3NzJkZQ==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "dan@codesourcery.com", "date": "2006-05-02T13:50:58Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2006-05-02T13:50:58Z"}, "message": "* texi2pod.pl: Handle -I.\n\nFrom-SVN: r113462", "tree": {"sha": "f23351771cf715ee6f0233edcf65b398a3a1d775", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f23351771cf715ee6f0233edcf65b398a3a1d775"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84309a323ed55544a39c7ecd2fbb1ab299e772de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84309a323ed55544a39c7ecd2fbb1ab299e772de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84309a323ed55544a39c7ecd2fbb1ab299e772de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84309a323ed55544a39c7ecd2fbb1ab299e772de/comments", "author": null, "committer": null, "parents": [{"sha": "7aa20a86fe7c312b1f537310d17f37b8803ea762", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7aa20a86fe7c312b1f537310d17f37b8803ea762", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7aa20a86fe7c312b1f537310d17f37b8803ea762"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "57e9dd54782cd120f031be780d0d2c1d81548246", "filename": "contrib/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84309a323ed55544a39c7ecd2fbb1ab299e772de/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84309a323ed55544a39c7ecd2fbb1ab299e772de/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=84309a323ed55544a39c7ecd2fbb1ab299e772de", "patch": "@@ -1,3 +1,7 @@\n+2006-04-17  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* texi2pod.pl: Handle -I.\n+\n 2006-02-28  Mark Mitchell  <mark@codesourcery.com>\n \n \t* gennews (files): Update for GCC 4.1."}, {"sha": "57d1d5bcd63202ec8d9358863f7fdf39249900d9", "filename": "contrib/texi2pod.pl", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84309a323ed55544a39c7ecd2fbb1ab299e772de/contrib%2Ftexi2pod.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84309a323ed55544a39c7ecd2fbb1ab299e772de/contrib%2Ftexi2pod.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftexi2pod.pl?ref=84309a323ed55544a39c7ecd2fbb1ab299e772de", "patch": "@@ -36,6 +36,7 @@\n $fnno = 1;\n $inf = \"\";\n $ibase = \"\";\n+@ipath = ();\n \n while ($_ = shift) {\n     if (/^-D(.*)$/) {\n@@ -51,6 +52,13 @@\n \tdie \"flags may only contain letters, digits, hyphens, dashes and underscores\\n\"\n \t    unless $flag =~ /^[a-zA-Z0-9_-]+$/;\n \t$defs{$flag} = $value;\n+    } elsif (/^-I(.*)$/) {\n+\tif ($1 ne \"\") {\n+\t    $flag = $1;\n+\t} else {\n+\t    $flag = shift;\n+\t}\n+        push (@ipath, $flag);\n     } elsif (/^-/) {\n \tusage();\n     } else {\n@@ -229,10 +237,12 @@\n \t$inf = gensym();\n \t$file = postprocess($1);\n \n-\t# Try cwd and $ibase.\n-\topen($inf, \"<\" . $file) \n-\t    or open($inf, \"<\" . $ibase . \"/\" . $file)\n-\t\tor die \"cannot open $file or $ibase/$file: $!\\n\";\n+\t# Try cwd and $ibase, then explicit -I paths.\n+\t$done = 0;\n+\tforeach $path (\".\", $ibase, @ipath) {\n+\t    open($inf, \"<\" . $path . \"/\" . $file) and ($done = 1, last);\n+\t}\n+\tdie \"cannot find $file\" if !$done;\n \tnext;\n     };\n "}]}