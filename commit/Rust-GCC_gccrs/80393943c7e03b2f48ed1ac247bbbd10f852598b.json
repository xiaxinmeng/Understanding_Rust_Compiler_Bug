{"sha": "80393943c7e03b2f48ed1ac247bbbd10f852598b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODAzOTM5NDNjN2UwM2IyZjQ4ZWQxYWMyNDdiYmJkMTBmODUyNTk4Yg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2000-10-21T15:10:38Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2000-10-21T15:10:38Z"}, "message": "Warning fixes:\n\n\t* gjavah.c (NEED_PEEK_ATTRIBUTE, NEED_SKIP_ATTRIBUTE): Define\n\n\t* jcf-reader.c (peek_attribute, skip_attribute): Only define\n\twhen requested.\n\n\t* parse.h (yyerror): If JC1_LITE, mark with ATTRIBUTE_NORETURN.\n\n\t* verify.c (CHECK_PC_IN_RANGE): Cast result of stmt-expr to void.\n\nFrom-SVN: r36994", "tree": {"sha": "9d84b78fd2fc7ca2e27ae97d93b06901304c85a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d84b78fd2fc7ca2e27ae97d93b06901304c85a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80393943c7e03b2f48ed1ac247bbbd10f852598b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80393943c7e03b2f48ed1ac247bbbd10f852598b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80393943c7e03b2f48ed1ac247bbbd10f852598b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80393943c7e03b2f48ed1ac247bbbd10f852598b/comments", "author": null, "committer": null, "parents": [{"sha": "e62ff0c3ba6ce009edae9b2515947d2fc6192c58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e62ff0c3ba6ce009edae9b2515947d2fc6192c58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e62ff0c3ba6ce009edae9b2515947d2fc6192c58"}], "stats": {"total": 35, "additions": 31, "deletions": 4}, "files": [{"sha": "4812eb9244189b74481c2d3aa0a670216b4c5555", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=80393943c7e03b2f48ed1ac247bbbd10f852598b", "patch": "@@ -1,3 +1,14 @@\n+2000-10-21  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gjavah.c (NEED_PEEK_ATTRIBUTE, NEED_SKIP_ATTRIBUTE): Define\n+\t\n+\t* jcf-reader.c (peek_attribute, skip_attribute): Only define\n+\twhen requested.\n+\n+\t* parse.h (yyerror): If JC1_LITE, mark with ATTRIBUTE_NORETURN.\n+\n+\t* verify.c (CHECK_PC_IN_RANGE): Cast result of stmt-expr to void.\n+\n 2000-10-16  Tom Tromey  <tromey@cygnus.com>\n \n \t* jvspec.c (lang_specific_driver): Recognize -MF and -MT."}, {"sha": "6aabf1c8adc0b1be9abb9b8a97a865c3df17e34d", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=80393943c7e03b2f48ed1ac247bbbd10f852598b", "patch": "@@ -222,6 +222,10 @@ static int decompiled = 0;\n   if (out && method_printed && !method_synthetic) \t\\\n     fputs (decompiled || stubs ? \"\\n\" : \";\\n\", out);\n \n+/* We're going to need {peek,skip}_attribute, enable their definition.   */\n+#define NEED_PEEK_ATTRIBUTE\n+#define NEED_SKIP_ATTRIBUTE\n+\n #include \"jcf-reader.c\"\n \n /* Some useful constants.  */"}, {"sha": "4db90657d093f951738313d574c16178e638e1c4", "filename": "gcc/java/jcf-reader.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fjcf-reader.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fjcf-reader.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-reader.c?ref=80393943c7e03b2f48ed1ac247bbbd10f852598b", "patch": "@@ -27,21 +27,26 @@ The Free Software Foundation is independent of Sun Microsystems, Inc.  */\n #include \"zipfile.h\"\n \n static int get_attribute PARAMS ((JCF *));\n-static int peek_attribute PARAMS ((JCF *, int, const char *, int));\n-static void skip_attribute PARAMS ((JCF *, int));\n static int jcf_parse_preamble PARAMS ((JCF *));\n static int jcf_parse_constant_pool PARAMS ((JCF *));\n static void jcf_parse_class PARAMS ((JCF *));\n static int jcf_parse_fields PARAMS ((JCF *));\n static int jcf_parse_one_method PARAMS ((JCF *));\n static int jcf_parse_methods PARAMS ((JCF *));\n static int jcf_parse_final_attributes PARAMS ((JCF *));\n+#ifdef NEED_PEEK_ATTRIBUTE\n+static int peek_attribute PARAMS ((JCF *, int, const char *, int));\n+#endif\n+#ifdef NEED_SKIP_ATTRIBUTE\n+static void skip_attribute PARAMS ((JCF *, int));\n+#endif\n \n /* Go through all available attribute (ATTRIBUTE_NUMER) and try to\n    identify PEEKED_NAME.  Return 1 if PEEKED_NAME was found, 0\n    otherwise. JCF is restored to its initial position before\n    returning.  */\n \n+#ifdef NEED_PEEK_ATTRIBUTE\t/* Not everyone uses this function */\n static int\n peek_attribute (jcf, attribute_number, peeked_name, peeked_name_length)\n       JCF *jcf;\n@@ -81,7 +86,9 @@ peek_attribute (jcf, attribute_number, peeked_name, peeked_name_length)\n   JCF_SEEK (jcf, absolute_offset);\n   return to_return;\n }\n+#endif\n \n+#ifdef NEED_SKIP_ATTRIBUTE\t/* Not everyone uses this function */\n static void\n skip_attribute (jcf, number_of_attribute)\n      JCF *jcf;\n@@ -94,6 +101,7 @@ skip_attribute (jcf, number_of_attribute)\n       JCF_SKIP (jcf, JCF_readu4 (jcf));\n     }\n }\n+#endif\n \n static int\n DEFUN(get_attribute, (jcf),"}, {"sha": "17c2bd69010ecd1467001e8c52f8a913525fe72c", "filename": "gcc/java/parse.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fparse.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fparse.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.h?ref=80393943c7e03b2f48ed1ac247bbbd10f852598b", "patch": "@@ -940,6 +940,10 @@ extern void java_parser_context_save_global PARAMS ((void));\n extern void java_parser_context_restore_global PARAMS ((void));\n int yyparse PARAMS ((void));\n extern int java_parse PARAMS ((void));\n-void yyerror PARAMS ((const char *));\n+extern void yyerror PARAMS ((const char *))\n+#ifdef JC1_LITE\n+ATTRIBUTE_NORETURN\n+#endif\n+;\n extern void java_expand_classes PARAMS ((void));\n #endif"}, {"sha": "463509a3949c75180891af23d6c92f5699d01d18", "filename": "gcc/java/verify.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fverify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80393943c7e03b2f48ed1ac247bbbd10f852598b/gcc%2Fjava%2Fverify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fverify.c?ref=80393943c7e03b2f48ed1ac247bbbd10f852598b", "patch": "@@ -353,7 +353,7 @@ start_pc_cmp (xp, yp)\n              goto verify_error; } while (0)\n \n #ifdef __GNUC__\n-#define CHECK_PC_IN_RANGE(PC) ({if (PC < 0 || PC > length) goto bad_pc; 1;})\n+#define CHECK_PC_IN_RANGE(PC) ({if (PC < 0 || PC > length) goto bad_pc; (void)1;})\n #else\n #define CHECK_PC_IN_RANGE(PC) (PC < 0 || PC > length ? \\\n   (fatal(\"Bad byte codes.\\n\"), 0) : 1)"}]}