{"sha": "0124d2c5bb0ac41a6f3288b5f11861c127f13409", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDEyNGQyYzViYjBhYzQxYTZmMzI4OGI1ZjExODYxYzEyN2YxMzQwOQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2019-08-12T16:41:27Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2019-08-12T16:41:27Z"}, "message": "PR libstdc++/90361 add missing macro definition\n\nThe src/c++17/string-inst.cc file needs to override the default string\nABI so that it still contains the expected symbols even when the library\nis configured with --with-default-libstdcxx-abi=gcc4-compatible.\n\n\tPR libstdc++/90361\n\t* src/c++17/string-inst.cc: Use _GLIBCXX_USE_CXX11_ABI=1 by default.\n\nFrom-SVN: r274314", "tree": {"sha": "2d555d2a2064ab312fb2dce7d28ea5f8dbb2b709", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d555d2a2064ab312fb2dce7d28ea5f8dbb2b709"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0124d2c5bb0ac41a6f3288b5f11861c127f13409", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0124d2c5bb0ac41a6f3288b5f11861c127f13409", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0124d2c5bb0ac41a6f3288b5f11861c127f13409", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0124d2c5bb0ac41a6f3288b5f11861c127f13409/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6b2dc248df351be58ecaa8bb5af8ec523d2530e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6b2dc248df351be58ecaa8bb5af8ec523d2530e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6b2dc248df351be58ecaa8bb5af8ec523d2530e"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "c6f5b1fbdbb0d7aef40f37d8f01bbc8a685f3595", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0124d2c5bb0ac41a6f3288b5f11861c127f13409/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0124d2c5bb0ac41a6f3288b5f11861c127f13409/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0124d2c5bb0ac41a6f3288b5f11861c127f13409", "patch": "@@ -1,5 +1,8 @@\n 2019-08-12  Jonathan Wakely  <jwakely@redhat.com>\n \n+\tPR libstdc++/90361\n+\t* src/c++17/string-inst.cc: Use _GLIBCXX_USE_CXX11_ABI=1 by default.\n+\n \t* include/std/tuple (__unpack_std_tuple): New variable template and\n \tpartial specializations.\n \t(apply, make_from_tuple): Add noexcept-specifier."}, {"sha": "4dc0a9ca449133087df3139bf44bd373e202546e", "filename": "libstdc++-v3/src/c++17/string-inst.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0124d2c5bb0ac41a6f3288b5f11861c127f13409/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B17%2Fstring-inst.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0124d2c5bb0ac41a6f3288b5f11861c127f13409/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B17%2Fstring-inst.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B17%2Fstring-inst.cc?ref=0124d2c5bb0ac41a6f3288b5f11861c127f13409", "patch": "@@ -26,6 +26,12 @@\n // ISO C++ 14882:2017 24  Strings library\n //\n \n+#ifndef _GLIBCXX_USE_CXX11_ABI\n+// Instantiations in this file use the new SSO std::string ABI unless included\n+// by another file which defines _GLIBCXX_USE_CXX11_ABI=0.\n+# define _GLIBCXX_USE_CXX11_ABI 1\n+#endif\n+\n #include <string>\n \n namespace std _GLIBCXX_VISIBILITY(default)"}]}