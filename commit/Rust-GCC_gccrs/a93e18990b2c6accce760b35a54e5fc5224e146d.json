{"sha": "a93e18990b2c6accce760b35a54e5fc5224e146d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTkzZTE4OTkwYjJjNmFjY2NlNzYwYjM1YTU0ZTVmYzUyMjRlMTQ2ZA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2010-05-10T13:01:58Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2010-05-10T13:01:58Z"}, "message": "sol2.c (solaris_assemble_visibility): Declare decl, vis unused.\n\n\t* config/sol2.c (solaris_assemble_visibility): Declare decl, vis\n\tunused.\n\tDefine visibility_types, name, type inside HAVE_GAS_HIDDEN.\n\t* configure.ac (gcc_cv_ld_hidden): Explain stages of visibility\n\tsupport in Sun ld.\n\t* configure: Regenerate.\n\nFrom-SVN: r159218", "tree": {"sha": "4e9599926518369aa6839349ab0c6ff415cfb4f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e9599926518369aa6839349ab0c6ff415cfb4f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a93e18990b2c6accce760b35a54e5fc5224e146d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a93e18990b2c6accce760b35a54e5fc5224e146d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a93e18990b2c6accce760b35a54e5fc5224e146d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a93e18990b2c6accce760b35a54e5fc5224e146d/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f5dbb57cce8c2e929b60924ce4614f9d6d65dc44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5dbb57cce8c2e929b60924ce4614f9d6d65dc44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5dbb57cce8c2e929b60924ce4614f9d6d65dc44"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "31f0435fb885b8165a33b9f02e996d0d2bea5af3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a93e18990b2c6accce760b35a54e5fc5224e146d", "patch": "@@ -1,3 +1,12 @@\n+2010-05-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* config/sol2.c (solaris_assemble_visibility): Declare decl, vis\n+\tunused.\n+\tDefine visibility_types, name, type inside HAVE_GAS_HIDDEN.\n+\t* configure.ac (gcc_cv_ld_hidden): Explain stages of visibility\n+\tsupport in Sun ld.\n+\t* configure: Regenerate.\n+\n 2010-05-10  Richard Guenther  <rguenther@suse.de>\n \n \t* lto-symtab.c (lto_symtab_entry_marked_p): Make entry"}, {"sha": "7c5f647e3e8d3e3a8c6b3ed593172450c48401b2", "filename": "gcc/config/sol2.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2Fconfig%2Fsol2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2Fconfig%2Fsol2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsol2.c?ref=a93e18990b2c6accce760b35a54e5fc5224e146d", "patch": "@@ -122,8 +122,10 @@ solaris_output_init_fini (FILE *file, tree decl)\n    the visibility type VIS, which must not be VISIBILITY_DEFAULT.  */\n \n void\n-solaris_assemble_visibility (tree decl, int vis)\n+solaris_assemble_visibility (tree decl ATTRIBUTE_UNUSED,\n+\t\t\t     int vis ATTRIBUTE_UNUSED)\n {\n+#ifdef HAVE_GAS_HIDDEN\n   /* Sun as uses .symbolic for STV_PROTECTED.  STV_INTERNAL is marked as\n      `currently reserved', but the linker treats it like STV_HIDDEN.  Sun\n      Studio 12.1 cc emits .hidden instead.\n@@ -146,9 +148,6 @@ solaris_assemble_visibility (tree decl, int vis)\n   name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n   type = visibility_types[vis];\n \n-  /* .hidden dates back before Solaris 2.5, but .symbolic was only added in\n-     Solaris 9 12/02.  */\n-#ifdef HAVE_GAS_HIDDEN\n   fprintf (asm_out_file, \"\\t.%s\\t\", type);\n   assemble_name (asm_out_file, name);\n   fprintf (asm_out_file, \"\\n\");"}, {"sha": "0f9779f2f5e22dc1c03d21b843c9d73d79ceda2d", "filename": "gcc/configure", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=a93e18990b2c6accce760b35a54e5fc5224e146d", "patch": "@@ -21343,6 +21343,8 @@ else\n \tgcc_cv_ld_hidden=yes\n \t;;\n       *-*-solaris2.9* | *-*-solaris2.1[0-9]*)\n+\t# Support for .hidden in Sun ld appeared in Solaris 9 FCS, but\n+\t# .symbolic was only added in Solaris 9 12/02.\n         gcc_cv_ld_hidden=yes\n \t;;\n       *)"}, {"sha": "aa0fa4c158dcc3aa591475fecdc90e459c9c6f01", "filename": "gcc/configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93e18990b2c6accce760b35a54e5fc5224e146d/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=a93e18990b2c6accce760b35a54e5fc5224e146d", "patch": "@@ -2225,6 +2225,8 @@ else\n \tgcc_cv_ld_hidden=yes\n \t;;\n       *-*-solaris2.9* | *-*-solaris2.1[0-9]*)\n+\t# Support for .hidden in Sun ld appeared in Solaris 9 FCS, but\n+\t# .symbolic was only added in Solaris 9 12/02.\n         gcc_cv_ld_hidden=yes\n \t;;\n       *)"}]}