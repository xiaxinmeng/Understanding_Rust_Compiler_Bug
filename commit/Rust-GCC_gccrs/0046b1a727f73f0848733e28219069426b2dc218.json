{"sha": "0046b1a727f73f0848733e28219069426b2dc218", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA0NmIxYTcyN2Y3M2YwODQ4NzMzZTI4MjE5MDY5NDI2YjJkYzIxOA==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2009-10-17T07:34:47Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2009-10-17T07:34:47Z"}, "message": "Fix libgomp without --enable-languages=fortran.\n\nlibgomp/:\n\tPR libgomp/41418\n\t* configure.ac: Set FC to \"no\" if $GFORTRAN starts with \"no\"\n\tor a hyphen (happens with fortran language disabled).\n\t* configure: Regenerate.\n\nFrom-SVN: r152931", "tree": {"sha": "3c3b85774e017339e7f9e236a62f97d739356493", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c3b85774e017339e7f9e236a62f97d739356493"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0046b1a727f73f0848733e28219069426b2dc218", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0046b1a727f73f0848733e28219069426b2dc218", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0046b1a727f73f0848733e28219069426b2dc218", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0046b1a727f73f0848733e28219069426b2dc218/comments", "author": null, "committer": null, "parents": [{"sha": "3df9609a72613e190c828cb991277492eede618b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3df9609a72613e190c828cb991277492eede618b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3df9609a72613e190c828cb991277492eede618b"}], "stats": {"total": 33, "additions": 25, "deletions": 8}, "files": [{"sha": "ac9bb19b55a9ff6ea93899cf4c5311a825d8d78c", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0046b1a727f73f0848733e28219069426b2dc218/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0046b1a727f73f0848733e28219069426b2dc218/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=0046b1a727f73f0848733e28219069426b2dc218", "patch": "@@ -1,3 +1,10 @@\n+2009-10-17  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR libgomp/41418\n+\t* configure.ac: Set FC to \"no\" if $GFORTRAN starts with \"no\"\n+\tor a hyphen (happens with fortran language disabled).\n+\t* configure: Regenerate.\n+\n 2009-09-30  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* acinclude.m4 (LIBGOMP_CHECK_LINKER_FEATURES): Avoid 'head',"}, {"sha": "a0a93d6d3283c50837257dfbcc9c80c99167af5a", "filename": "libgomp/configure", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0046b1a727f73f0848733e28219069426b2dc218/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0046b1a727f73f0848733e28219069426b2dc218/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=0046b1a727f73f0848733e28219069426b2dc218", "patch": "@@ -11340,7 +11340,12 @@ fi\n # We need gfortran to compile parts of the library\n # We can't use AC_PROG_FC because it expects a fully working gfortran.\n #AC_PROG_FC(gfortran)\n-FC=\"$GFORTRAN\"\n+case `echo $GFORTRAN` in\n+  -* | no* )\n+    FC=no ;;\n+  *)\n+    FC=\"$GFORTRAN\" ;;\n+esac\n ac_ext=${ac_fc_srcext-f}\n ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'\n ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'\n@@ -12351,11 +12356,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12354: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12359: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:12358: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12363: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -12450,11 +12455,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12453: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12458: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:12457: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12462: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -12502,11 +12507,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12505: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12510: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:12509: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12514: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized"}, {"sha": "792c9f5206875160d18b04775b1f13336d4f4c61", "filename": "libgomp/configure.ac", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0046b1a727f73f0848733e28219069426b2dc218/libgomp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0046b1a727f73f0848733e28219069426b2dc218/libgomp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.ac?ref=0046b1a727f73f0848733e28219069426b2dc218", "patch": "@@ -142,7 +142,12 @@ AM_MAINTAINER_MODE\n # We need gfortran to compile parts of the library\n # We can't use AC_PROG_FC because it expects a fully working gfortran.\n #AC_PROG_FC(gfortran)\n-FC=\"$GFORTRAN\"\n+case `echo $GFORTRAN` in\n+  -* | no* )\n+    FC=no ;;\n+  *)\n+    FC=\"$GFORTRAN\" ;;\n+esac\n AC_PROG_FC(gfortran)\n FCFLAGS=\"$FCFLAGS -Wall\"\n "}]}