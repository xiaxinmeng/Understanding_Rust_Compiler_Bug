{"sha": "42dfafa935db4f6f368499108307676dbf1317cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDJkZmFmYTkzNWRiNGY2ZjM2ODQ5OTEwODMwNzY3NmRiZjEzMTdjYw==", "commit": {"author": {"name": "Janne Blomqvist", "email": "jb@gcc.gnu.org", "date": "2011-12-22T20:44:32Z"}, "committer": {"name": "Janne Blomqvist", "email": "jb@gcc.gnu.org", "date": "2011-12-22T20:44:32Z"}, "message": "PR 51646 Use POSIX mode flags in open() argument.\n\n2011-12-22  Janne Blomqvist  <jb@gcc.gnu.org>\n\tTobias Burnus  <burnus@net-b.de>\n\n\tPR libfortran/51646\n\t* acinclude.m4 (LIBGFOR_CHECK_UNLINK_OPEN_FILE): Use POSIX mode\n\tflags, omit mode argument when flags argument does not have\n\tO_CREAT.\n\t* io/unix.c (tempfile): Use POSIX mode flags.\n\t* configure: Regenerate.\n\n\nCo-Authored-By: Tobias Burnus <burnus@net-b.de>\n\nFrom-SVN: r182638", "tree": {"sha": "b51c2b0e0174c8fedc4a4c39e1f7692f16814598", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b51c2b0e0174c8fedc4a4c39e1f7692f16814598"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42dfafa935db4f6f368499108307676dbf1317cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42dfafa935db4f6f368499108307676dbf1317cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42dfafa935db4f6f368499108307676dbf1317cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42dfafa935db4f6f368499108307676dbf1317cc/comments", "author": null, "committer": null, "parents": [{"sha": "bbe847a162d99872542c9574301b2bfc19c6b365", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbe847a162d99872542c9574301b2bfc19c6b365", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbe847a162d99872542c9574301b2bfc19c6b365"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "f516bad104903456699a4035b1f08807a40a8eb5", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=42dfafa935db4f6f368499108307676dbf1317cc", "patch": "@@ -1,3 +1,13 @@\n+2011-12-22  Janne Blomqvist  <jb@gcc.gnu.org>\n+\tTobias Burnus  <burnus@net-b.de>\n+\n+\tPR libfortran/51646\n+\t* acinclude.m4 (LIBGFOR_CHECK_UNLINK_OPEN_FILE): Use POSIX mode\n+\tflags, omit mode argument when flags argument does not have\n+\tO_CREAT.\n+\t* io/unix.c (tempfile): Use POSIX mode flags.\n+\t* configure: Regenerate.\n+\n 2011-11-21  Andreas Tobler  <andreast@fgznet.ch>\n \n \t* configure: Regenerate."}, {"sha": "645b248deb4293bc4150468f9ce7791df5475668", "filename": "libgfortran/acinclude.m4", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Facinclude.m4?ref=42dfafa935db4f6f368499108307676dbf1317cc", "patch": "@@ -119,15 +119,15 @@ int main ()\n {\n   int fd;\n \n-  fd = open (\"testfile\", O_RDWR | O_CREAT, S_IWRITE | S_IREAD);\n+  fd = open (\"testfile\", O_RDWR | O_CREAT, S_IWUSR | S_IRUSR);\n   if (fd <= 0)\n     return 0;\n   if (unlink (\"testfile\") == -1)\n     return 1;\n   write (fd, \"This is a test\\n\", 15);\n   close (fd);\n \n-  if (open (\"testfile\", O_RDONLY, S_IWRITE | S_IREAD) == -1 && errno == ENOENT)\n+  if (open (\"testfile\", O_RDONLY) == -1 && errno == ENOENT)\n     return 0;\n   else\n     return 1;"}, {"sha": "3ce3d08ae89dc0693873495267e755d8c30e8f16", "filename": "libgfortran/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=42dfafa935db4f6f368499108307676dbf1317cc", "patch": "@@ -25598,15 +25598,15 @@ int main ()\n {\n   int fd;\n \n-  fd = open (\"testfile\", O_RDWR | O_CREAT, S_IWRITE | S_IREAD);\n+  fd = open (\"testfile\", O_RDWR | O_CREAT, S_IWUSR | S_IRUSR);\n   if (fd <= 0)\n     return 0;\n   if (unlink (\"testfile\") == -1)\n     return 1;\n   write (fd, \"This is a test\\n\", 15);\n   close (fd);\n \n-  if (open (\"testfile\", O_RDONLY, S_IWRITE | S_IREAD) == -1 && errno == ENOENT)\n+  if (open (\"testfile\", O_RDONLY) == -1 && errno == ENOENT)\n     return 0;\n   else\n     return 1;"}, {"sha": "6eef3f99a0a9c3f9898e9376d74057a30c8819a4", "filename": "libgfortran/io/unix.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2Fio%2Funix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42dfafa935db4f6f368499108307676dbf1317cc/libgfortran%2Fio%2Funix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Funix.c?ref=42dfafa935db4f6f368499108307676dbf1317cc", "patch": "@@ -1112,9 +1112,9 @@ tempfile (st_parameter_open *opp)\n \n #if defined(HAVE_CRLF) && defined(O_BINARY)\n       fd = open (template, O_RDWR | O_CREAT | O_EXCL | O_BINARY,\n-\t\t S_IREAD | S_IWRITE);\n+\t\t S_IRUSR | S_IWUSR);\n #else\n-      fd = open (template, O_RDWR | O_CREAT | O_EXCL, S_IREAD | S_IWRITE);\n+      fd = open (template, O_RDWR | O_CREAT | O_EXCL, S_IRUSR | S_IWUSR);\n #endif\n     }\n   while (fd == -1 && errno == EEXIST);"}]}