{"sha": "c3d11ebeac4f8356d863f059a32dcced3d9356b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNkMTFlYmVhYzRmODM1NmQ4NjNmMDU5YTMyZGNjZWQzZDkzNTZiNA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2015-03-27T06:59:35Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2015-03-27T06:59:35Z"}, "message": "lto-streamer.h (class lto_location_cache): New.\n\n\n\t* lto-streamer.h (class lto_location_cache): New.\n\t(struct data_in): Add location_cache.\n\t(lto_input_location): Update prototype.\n\t(stream_input_location_now): New.\n\t* streamer-hooks.h (struct streamer_hooks): Make input_location to take\n\tpointer to location.\n\t(stream_input_location): Update.\n\t* ipa-devirt.c: Include streamer-hooks.h and lto-streamer.h\n\t(warn_odr): Apply location cache before warning.\n\t(lto_input_location): Update prototype.\n\t* gimple-streamer-in.c (input_phi, input_gimple_stmt):\n\tUse stream_input_location_now.\n\t* lto-streamer-in.c (lto_location_cache::current_cache): New static\n\tvariable.\n\t(lto_location_cache::cmp_loc): New function.\n\t(lto_location_cache::apply_location_cache): New function.\n\t(lto_location_cache::accept_location_cache): New function.\n\t(lto_location_cache::revert_location_cache): New function.\n\t(lto_location_cache::input_location): New function.\n\t(lto_input_location): Do location caching.\n\t(stream_input_location_now): New function.\n\t(input_eh_region, input_struct_function_base): Use\n\tstream_input_location_now.\n\t(lto_data_in_create): use new.\n\t(lto_data_in_delete): Use delete.\n\t* tree-streamer-in.c (unpack_ts_block_value_fields,\n\tunpack_ts_omp_clause_value_fields, streamer_read_tree_bitfields,\n\tlto_input_ts_exp_tree_pointers): Update for cached location api.\n\nFrom-SVN: r221721", "tree": {"sha": "a9f7669547a79a58fd5fe524be54965f13fe661a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9f7669547a79a58fd5fe524be54965f13fe661a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3d11ebeac4f8356d863f059a32dcced3d9356b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3d11ebeac4f8356d863f059a32dcced3d9356b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3d11ebeac4f8356d863f059a32dcced3d9356b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3d11ebeac4f8356d863f059a32dcced3d9356b4/comments", "author": null, "committer": null, "parents": [{"sha": "eaeec5ecfa45ef6af7642c6bf45c3d77dd4de6b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eaeec5ecfa45ef6af7642c6bf45c3d77dd4de6b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eaeec5ecfa45ef6af7642c6bf45c3d77dd4de6b9"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "240a2c9f70d2e1b73f9bff30815910d74ebad01e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3d11ebeac4f8356d863f059a32dcced3d9356b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3d11ebeac4f8356d863f059a32dcced3d9356b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c3d11ebeac4f8356d863f059a32dcced3d9356b4", "patch": "@@ -1,3 +1,35 @@\n+2015-03-26  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR lto/65536\n+\t* lto-streamer.h (class lto_location_cache): New.\n+\t(struct data_in): Add location_cache.\n+\t(lto_input_location): Update prototype.\n+\t(stream_input_location_now): New.\n+\t* streamer-hooks.h (struct streamer_hooks): Make input_location to take\n+\tpointer to location.\n+\t(stream_input_location): Update.\n+\t* ipa-devirt.c: Include streamer-hooks.h and lto-streamer.h\n+\t(warn_odr): Apply location cache before warning.\n+\t(lto_input_location): Update prototype.\n+\t* gimple-streamer-in.c (input_phi, input_gimple_stmt):\n+\tUse stream_input_location_now.\n+\t* lto-streamer-in.c (lto_location_cache::current_cache): New static\n+\tvariable.\n+\t(lto_location_cache::cmp_loc): New function.\n+\t(lto_location_cache::apply_location_cache): New function.\n+\t(lto_location_cache::accept_location_cache): New function.\n+\t(lto_location_cache::revert_location_cache): New function.\n+\t(lto_location_cache::input_location): New function.\n+\t(lto_input_location): Do location caching.\n+\t(stream_input_location_now): New function.\n+\t(input_eh_region, input_struct_function_base): Use\n+\tstream_input_location_now.\n+\t(lto_data_in_create): use new.\n+\t(lto_data_in_delete): Use delete.\n+\t* tree-streamer-in.c (unpack_ts_block_value_fields,\n+\tunpack_ts_omp_clause_value_fields, streamer_read_tree_bitfields,\n+\tlto_input_ts_exp_tree_pointers): Update for cached location api.\n+\n 2015-03-26  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR ipa/65076"}]}