{"sha": "3fb7c69995f85f8efde91a03a26acf49d35351f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ZiN2M2OTk5NWY4NWY4ZWZkZTkxYTAzYTI2YWNmNDlkMzUzNTFmOA==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2013-02-15T09:30:52Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2013-02-15T09:30:52Z"}, "message": "graph.c (start_graph_dump): Print dumpfile base as digraph label.\n\n\t* graph.c (start_graph_dump): Print dumpfile base as digraph label.\n\t(clean_graph_dump_file): Pass base to start_graph_dump.\n\nFrom-SVN: r196074", "tree": {"sha": "f5bb20945f65bf69e0954f32e260f2cbcf4d231a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5bb20945f65bf69e0954f32e260f2cbcf4d231a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3fb7c69995f85f8efde91a03a26acf49d35351f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fb7c69995f85f8efde91a03a26acf49d35351f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fb7c69995f85f8efde91a03a26acf49d35351f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fb7c69995f85f8efde91a03a26acf49d35351f8/comments", "author": null, "committer": null, "parents": [{"sha": "fab99ea2d290e785b8554a384bb4334fcc7b7591", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fab99ea2d290e785b8554a384bb4334fcc7b7591", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fab99ea2d290e785b8554a384bb4334fcc7b7591"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "fda3189d5ac3ad132128834ddad6dc59c57654c0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fb7c69995f85f8efde91a03a26acf49d35351f8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fb7c69995f85f8efde91a03a26acf49d35351f8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3fb7c69995f85f8efde91a03a26acf49d35351f8", "patch": "@@ -1,3 +1,8 @@\n+2013-02-15  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* graph.c (start_graph_dump): Print dumpfile base as digraph label.\n+\t(clean_graph_dump_file): Pass base to start_graph_dump.\n+\n 2013-02-14  Richard Henderson  <rth@redhat.com>\n \n \tPR target/55941"}, {"sha": "51837308bb42fd0e62afe34f71b78bfc09b89ec5", "filename": "gcc/graph.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fb7c69995f85f8efde91a03a26acf49d35351f8/gcc%2Fgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fb7c69995f85f8efde91a03a26acf49d35351f8/gcc%2Fgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraph.c?ref=3fb7c69995f85f8efde91a03a26acf49d35351f8", "patch": "@@ -308,11 +308,16 @@ print_graph_cfg (const char *base, struct function *fun)\n \n /* Start the dump of a graph.  */\n static void\n-start_graph_dump (FILE *fp)\n+start_graph_dump (FILE *fp, const char *base)\n {\n-  fputs (\"digraph \\\"\\\" {\\n\"\n-\t \"overlap=false;\\n\",\n-\t fp);\n+  pretty_printer *pp = init_graph_slim_pretty_print (fp);\n+  pp_string (pp, \"digraph \\\"\");\n+  pp_write_text_to_stream (pp);\n+  pp_string (pp, base);\n+  pp_write_text_as_dot_label_to_stream (pp, /*for_record=*/false);\n+  pp_string (pp, \"\\\" {\\n\");\n+  pp_string (pp, \"overlap=false;\\n\");\n+  pp_flush (pp);\n }\n \n /* End the dump of a graph.  */\n@@ -327,7 +332,7 @@ void\n clean_graph_dump_file (const char *base)\n {\n   FILE *fp = open_graph_file (base, \"w\");\n-  start_graph_dump (fp);\n+  start_graph_dump (fp, base);\n   fclose (fp);\n }\n "}]}