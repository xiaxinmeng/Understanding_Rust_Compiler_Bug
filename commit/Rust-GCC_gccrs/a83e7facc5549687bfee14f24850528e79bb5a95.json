{"sha": "a83e7facc5549687bfee14f24850528e79bb5a95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTgzZTdmYWNjNTU0OTY4N2JmZWUxNGYyNDg1MDUyOGU3OWJiNWE5NQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2007-08-04T00:33:31Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2007-08-04T00:33:31Z"}, "message": "re PR middle-end/32399 (ICE in build2_stat, at tree.c:3074)\n\n2007-08-03  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR middle-end/32399\n        * tree-ssa-address.c (add_to_parts): Use POINTER_PLUS_EXPR\n        when adding to the base and convert ELT to sizetype instead of type.\n\n2007-08-03  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        RP middle-end/32399\n        * gcc.c-torture/compile/pr32399.c: New testcase.\n\nFrom-SVN: r127196", "tree": {"sha": "5bc2b122837ec11f3ca351c56ec17682a79d19ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5bc2b122837ec11f3ca351c56ec17682a79d19ee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a83e7facc5549687bfee14f24850528e79bb5a95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a83e7facc5549687bfee14f24850528e79bb5a95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a83e7facc5549687bfee14f24850528e79bb5a95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a83e7facc5549687bfee14f24850528e79bb5a95/comments", "author": null, "committer": null, "parents": [{"sha": "814d1e640cb413318401505edb6dde08e8b6f936", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/814d1e640cb413318401505edb6dde08e8b6f936", "html_url": "https://github.com/Rust-GCC/gccrs/commit/814d1e640cb413318401505edb6dde08e8b6f936"}], "stats": {"total": 31, "additions": 29, "deletions": 2}, "files": [{"sha": "b2bff86280959d9a6212064ff23f0a8534a9b07e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a83e7facc5549687bfee14f24850528e79bb5a95", "patch": "@@ -1,3 +1,9 @@\n+2007-08-03  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/32399\n+\t* tree-ssa-address.c (add_to_parts): Use POINTER_PLUS_EXPR\n+\twhen adding to the base and convert ELT to sizetype instead of type.\n+\n 2007-08-03  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n \n \tPR middle-end/32304"}, {"sha": "8814bd2cbaa24c0579c5f809513fa9a615d0f976", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a83e7facc5549687bfee14f24850528e79bb5a95", "patch": "@@ -1,3 +1,8 @@\n+2007-08-03  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tRP middle-end/32399\n+\t* gcc.c-torture/compile/pr32399.c: New testcase.\n+\n 2007-08-03  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n \n \tPR middle-end/32304"}, {"sha": "cc2b1b1898436460f6d83831147b2b4b8f3714a5", "filename": "gcc/testsuite/gcc.c-torture/compile/pr32399.c", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32399.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32399.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32399.c?ref=a83e7facc5549687bfee14f24850528e79bb5a95", "patch": "@@ -0,0 +1,16 @@\n+void f(unsigned char *src, unsigned char *dst, int num, unsigned char *pos, unsigned char *diffuse, int hasdiffuse, unsigned char *specular, int hasspecular) {\n+    int i;\n+\n+    for(i=num;i--;) {\n+\tfloat *p = (float *) ((__SIZE_TYPE__) dst + (__SIZE_TYPE__) pos);\n+        if(hasdiffuse) {\n+            unsigned int *dstColor = (unsigned int *) (dst + i + (__SIZE_TYPE__) diffuse);\n+            *dstColor = * (unsigned int *) ( ((__SIZE_TYPE__) src + (__SIZE_TYPE__) diffuse) + i);\n+        }\n+        if(hasspecular) {\n+            unsigned int *dstColor = (unsigned int *) (dst + i + (__SIZE_TYPE__) specular);\n+            *dstColor = * (unsigned int *) ( ((__SIZE_TYPE__) src + (__SIZE_TYPE__) specular) + i);\n+        }\n+    }\n+}\n+"}, {"sha": "90a01dca034b33fc4691097cf2b76f50c1852f72", "filename": "gcc/tree-ssa-address.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2Ftree-ssa-address.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a83e7facc5549687bfee14f24850528e79bb5a95/gcc%2Ftree-ssa-address.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-address.c?ref=a83e7facc5549687bfee14f24850528e79bb5a95", "patch": "@@ -422,9 +422,9 @@ add_to_parts (struct mem_address *parts, tree elt)\n \n   /* Add ELT to base.  */\n   type = TREE_TYPE (parts->base);\n-  parts->base = fold_build2 (PLUS_EXPR, type,\n+  parts->base = fold_build2 (POINTER_PLUS_EXPR, type,\n \t\t\t     parts->base,\n-\t\t\t     fold_convert (type, elt));\n+\t\t\t     fold_convert (sizetype, elt));\n }\n \n /* Finds the most expensive multiplication in ADDR that can be"}]}