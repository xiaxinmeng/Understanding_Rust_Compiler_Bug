{"sha": "06b3c0fad1b5fe7b72e666c336595c6324933960", "node_id": "C_kwDOANBUbNoAKDA2YjNjMGZhZDFiNWZlN2I3MmU2NjZjMzM2NTk1YzYzMjQ5MzM5NjA", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-09-20T12:30:43Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-10-03T14:43:48Z"}, "message": "libstdc++: Adjust precompiled headers for freestanding\n\nCo-authored-by: Arsen Arsenovi\u0107 <arsen@aarsen.me>\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/precompiled/extc++.h [!_GLIBCXX_HOSTED]: Do not\n\tinclude headers that aren't valid for freestanding.\n\t* include/precompiled/stdc++.h [!_GLIBCXX_HOSTED]: Likewise.", "tree": {"sha": "a2381706373705946355bffe57c49584bcce6181", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2381706373705946355bffe57c49584bcce6181"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06b3c0fad1b5fe7b72e666c336595c6324933960", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06b3c0fad1b5fe7b72e666c336595c6324933960", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06b3c0fad1b5fe7b72e666c336595c6324933960", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06b3c0fad1b5fe7b72e666c336595c6324933960/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bcb1f4387cbec369a0a52a0acf7a6497353597a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcb1f4387cbec369a0a52a0acf7a6497353597a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcb1f4387cbec369a0a52a0acf7a6497353597a8"}], "stats": {"total": 98, "additions": 86, "deletions": 12}, "files": [{"sha": "b094701aafb50e25204de37049c700bdb5bc4d94", "filename": "libstdc++-v3/include/precompiled/extc++.h", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06b3c0fad1b5fe7b72e666c336595c6324933960/libstdc%2B%2B-v3%2Finclude%2Fprecompiled%2Fextc%2B%2B.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06b3c0fad1b5fe7b72e666c336595c6324933960/libstdc%2B%2B-v3%2Finclude%2Fprecompiled%2Fextc%2B%2B.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fprecompiled%2Fextc%2B%2B.h?ref=06b3c0fad1b5fe7b72e666c336595c6324933960", "patch": "@@ -32,30 +32,34 @@\n #include <bits/stdc++.h>\n #endif\n \n-#include <ext/algorithm>\n #if __cplusplus >= 201103L\n # include <ext/aligned_buffer.h>\n #endif\n #include <ext/alloc_traits.h>\n #include <ext/atomicity.h>\n-#include <ext/bitmap_allocator.h>\n #include <ext/cast.h>\n+#include <ext/iterator>\n+#include <ext/numeric_traits.h>\n+#include <ext/pointer.h>\n+#include <ext/typelist.h>\n+#include <ext/type_traits.h>\n+\n+#if _GLIBCXX_HOSTED\n+#include <ext/algorithm>\n+#include <ext/bitmap_allocator.h>\n #if __cplusplus >= 201103L\n # include <ext/cmath>\n #endif\n #include <ext/concurrence.h>\n #include <ext/debug_allocator.h>\n #include <ext/extptr_allocator.h>\n #include <ext/functional>\n-#include <ext/iterator>\n #include <ext/malloc_allocator.h>\n #include <ext/memory>\n #include <ext/mt_allocator.h>\n #include <ext/new_allocator.h>\n #include <ext/numeric>\n-#include <ext/numeric_traits.h>\n #include <ext/pod_char_traits.h>\n-#include <ext/pointer.h>\n #include <ext/pool_allocator.h>\n #if __cplusplus >= 201103L\n # include <ext/random>\n@@ -66,8 +70,6 @@\n #include <ext/stdio_filebuf.h>\n #include <ext/stdio_sync_filebuf.h>\n #include <ext/throw_allocator.h>\n-#include <ext/typelist.h>\n-#include <ext/type_traits.h>\n #include <ext/vstring.h>\n #include <ext/pb_ds/assoc_container.hpp>\n #include <ext/pb_ds/priority_queue.hpp>\n@@ -81,3 +83,4 @@\n  #include <ext/codecvt_specializations.h>\n  #include <ext/enc_filebuf.h>\n #endif\n+#endif // HOSTED"}, {"sha": "bfbb1654b8839a5c43f3737d7212c273b890b619", "filename": "libstdc++-v3/include/precompiled/stdc++.h", "status": "modified", "additions": 76, "deletions": 5, "changes": 81, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06b3c0fad1b5fe7b72e666c336595c6324933960/libstdc%2B%2B-v3%2Finclude%2Fprecompiled%2Fstdc%2B%2B.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06b3c0fad1b5fe7b72e666c336595c6324933960/libstdc%2B%2B-v3%2Finclude%2Fprecompiled%2Fstdc%2B%2B.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fprecompiled%2Fstdc%2B%2B.h?ref=06b3c0fad1b5fe7b72e666c336595c6324933960", "patch": "@@ -28,6 +28,80 @@\n \n // 17.4.1.2 Headers\n \n+// C\n+#ifndef _GLIBCXX_NO_ASSERT\n+#include <cassert>\n+#endif\n+#include <cctype>\n+#include <cfloat>\n+#include <ciso646>\n+#include <climits>\n+#include <csetjmp>\n+#include <cstdarg>\n+#include <cstddef>\n+#include <cstdlib>\n+\n+#if __cplusplus >= 201103L\n+#include <cstdint>\n+#endif\n+\n+// C++\n+// #include <bitset>\n+// #include <complex>\n+#include <algorithm>\n+#include <bitset>\n+#include <functional>\n+#include <iterator>\n+#include <limits>\n+#include <memory>\n+#include <new>\n+#include <numeric>\n+#include <typeinfo>\n+#include <utility>\n+\n+#if __cplusplus >= 201103L\n+#include <array>\n+#include <atomic>\n+#include <initializer_list>\n+#include <ratio>\n+#include <scoped_allocator>\n+#include <tuple>\n+#include <typeindex>\n+#include <type_traits>\n+#endif\n+\n+#if __cplusplus >= 201402L\n+#endif\n+\n+#if __cplusplus >= 201703L\n+#include <any>\n+#include <charconv>\n+// #include <execution>\n+#include <optional>\n+#include <variant>\n+#endif\n+\n+#if __cplusplus >= 202002L\n+#include <bit>\n+#include <compare>\n+#include <concepts>\n+#include <numbers>\n+#include <ranges>\n+#include <span>\n+#include <source_location>\n+#include <version>\n+#endif\n+\n+#if __cplusplus > 202002L\n+#include <expected>\n+#include <stdatomic.h>\n+#if __cpp_impl_coroutine\n+# include <coroutine>\n+#endif\n+#endif\n+\n+\n+#if _GLIBCXX_HOSTED\n // C\n #ifndef _GLIBCXX_NO_ASSERT\n #include <cassert>\n@@ -62,8 +136,6 @@\n #endif\n \n // C++\n-#include <algorithm>\n-#include <bitset>\n #include <complex>\n #include <deque>\n #include <exception>\n@@ -138,9 +210,6 @@\n #include <bit>\n #include <compare>\n #include <concepts>\n-#if __cpp_impl_coroutine\n-# include <coroutine>\n-#endif\n #include <latch>\n #include <numbers>\n #include <ranges>\n@@ -160,3 +229,5 @@\n #endif\n #include <stdatomic.h>\n #endif\n+\n+#endif // HOSTED"}]}