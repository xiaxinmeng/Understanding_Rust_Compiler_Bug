{"sha": "c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFlYTBhNDQ1YWMxNGVjN2JiZDQzOTdhZWI2N2MzODlmZTgwYTBiZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-06-21T11:54:35Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-06-21T11:54:35Z"}, "message": "(math.h): Correct the collision of \"exception\".\n\nFrom-SVN: r14280", "tree": {"sha": "55b2d5a1b90747f33b24952e0e3f645008ac113c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55b2d5a1b90747f33b24952e0e3f645008ac113c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be/comments", "author": null, "committer": null, "parents": [{"sha": "8b83775b0390b039c397eb5cd652098af10a48b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b83775b0390b039c397eb5cd652098af10a48b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b83775b0390b039c397eb5cd652098af10a48b2"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "1b2a0630f66474849311fcfbf1b600a4da2b7432", "filename": "gcc/fixinc.sco", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be/gcc%2Ffixinc.sco", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be/gcc%2Ffixinc.sco", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.sco?ref=c1ea0a445ac14ec7bbd4397aeb67c389fe80a0be", "patch": "@@ -6,6 +6,8 @@\n #   Based on fixinc.svr4 script by Ron Guilmette (rfg@ncd.com) (SCO\n #   modifications by Ian Lance Taylor (ian@airs.com)).\n #\n+# Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.\n+#\n # This file is part of GNU CC.\n # \n # GNU CC is free software; you can redistribute it and/or modify\n@@ -290,6 +292,44 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# This function is borrowed from fixinclude.svr4\n+# The OpenServer math.h defines struct exception, which conflicts with\n+# the class exception defined in the C++ file std/stdexcept.h.  We\n+# redefine it to __math_exception.  This is not a great fix, but I\n+# haven't been able to think of anything better.\n+file=math.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  sed -e '/struct exception/i\\\n+#ifdef __cplusplus\\\n+#define exception __math_exception\\\n+#endif'\\\n+      -e '/struct exception/a\\\n+#ifdef __cplusplus\\\n+#undef exception\\\n+#endif' $file_to_fix > /tmp/$base\n+  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n+    true\n+  else\n+    echo Fixed $file_to_fix\n+    rm -f ${LIB}/$file\n+    cp /tmp/$base ${LIB}/$file\n+    chmod a+r ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base\n+fi\n+\n+\n echo 'Removing unneeded directories:'\n cd $LIB\n files=`find . -type d -print | sort -r`"}]}