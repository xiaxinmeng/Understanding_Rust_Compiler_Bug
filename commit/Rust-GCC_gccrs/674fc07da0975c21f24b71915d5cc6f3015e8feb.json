{"sha": "674fc07da0975c21f24b71915d5cc6f3015e8feb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njc0ZmMwN2RhMDk3NWMyMWYyNGI3MTkxNWQ1Y2M2ZjMwMTVlOGZlYg==", "commit": {"author": {"name": "Graham Stott", "email": "grahams@redhat.com", "date": "2001-08-08T08:22:05Z"}, "committer": {"name": "Graham Stott", "email": "grahams@gcc.gnu.org", "date": "2001-08-08T08:22:05Z"}, "message": "final.c (shorten_branches): Update the INSN_ADDRESSES of insns within fixed length SEQUENCE.\n\n\n\t* final.c (shorten_branches): Update the INSN_ADDRESSES of insns\n\twithin fixed length SEQUENCE.\n\nFrom-SVN: r44712", "tree": {"sha": "805e1c04d69bd1029f6a43d0fcdb3788f2cb79d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/805e1c04d69bd1029f6a43d0fcdb3788f2cb79d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/674fc07da0975c21f24b71915d5cc6f3015e8feb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/674fc07da0975c21f24b71915d5cc6f3015e8feb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/674fc07da0975c21f24b71915d5cc6f3015e8feb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/674fc07da0975c21f24b71915d5cc6f3015e8feb/comments", "author": null, "committer": null, "parents": [{"sha": "5f9689e59f9d5af9df5383c677e28aa1e9164ccd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9689e59f9d5af9df5383c677e28aa1e9164ccd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f9689e59f9d5af9df5383c677e28aa1e9164ccd"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "dafb983ebb2e61c68cc2b6be364c2f10e39858c7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/674fc07da0975c21f24b71915d5cc6f3015e8feb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/674fc07da0975c21f24b71915d5cc6f3015e8feb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=674fc07da0975c21f24b71915d5cc6f3015e8feb", "patch": "@@ -1,3 +1,8 @@\n+2001-08-08  Graham Stott  <grahams@redhat.com>\n+\n+\t* final.c (shorten_branches): Update the INSN_ADDRESSES of insns\n+\twithin fixed length SEQUENCE.\n+\n 2001-08-08  Graham Stott  <grahams@redhat.com>\n \n \t* diagnostic.h (diagnostic_format_decoder): Parenthesize macro parameter."}, {"sha": "ce5f1d919aeeed8195e49f49890f67f2843b27b2", "filename": "gcc/final.c", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/674fc07da0975c21f24b71915d5cc6f3015e8feb/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/674fc07da0975c21f24b71915d5cc6f3015e8feb/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=674fc07da0975c21f24b71915d5cc6f3015e8feb", "patch": "@@ -1445,9 +1445,28 @@ shorten_branches (first)\n \n \t  if (! (varying_length[uid]))\n \t    {\n-\t      insn_current_address += insn_lengths[uid];\n+\t      if (GET_CODE (insn) == INSN\n+\t\t  && GET_CODE (PATTERN (insn)) == SEQUENCE)\n+\t\t{\n+\t\t  int i;\n+\n+\t\t  body = PATTERN (insn);\n+\t\t  for (i = 0; i < XVECLEN (body, 0); i++)\n+\t\t    {\n+\t\t      rtx inner_insn = XVECEXP (body, 0, i);\n+\t\t      int inner_uid = INSN_UID (inner_insn);\n+\n+\t\t      INSN_ADDRESSES (inner_uid) = insn_current_address;\n+\n+\t\t      insn_current_address += insn_lengths[inner_uid];\n+\t\t    }\n+                }\n+\t      else\n+\t\tinsn_current_address += insn_lengths[uid];\n+\n \t      continue;\n \t    }\n+\n \t  if (GET_CODE (insn) == INSN && GET_CODE (PATTERN (insn)) == SEQUENCE)\n \t    {\n \t      int i;"}]}