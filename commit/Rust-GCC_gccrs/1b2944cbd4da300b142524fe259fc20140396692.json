{"sha": "1b2944cbd4da300b142524fe259fc20140396692", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIyOTQ0Y2JkNGRhMzAwYjE0MjUyNGZlMjU5ZmMyMDE0MDM5NjY5Mg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2017-10-18T07:53:27Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2017-10-18T07:53:27Z"}, "message": "re PR c++/69057 ([C++14] constexpr static variable template assertion segmentation fault)\n\n2017-10-18  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/69057\n\t* g++.dg/cpp1y/auto-fn45.C: New.\n\nFrom-SVN: r253844", "tree": {"sha": "ff2d669e9966308f40e56bbdce3cf5d52ee45709", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff2d669e9966308f40e56bbdce3cf5d52ee45709"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b2944cbd4da300b142524fe259fc20140396692", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b2944cbd4da300b142524fe259fc20140396692", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b2944cbd4da300b142524fe259fc20140396692", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b2944cbd4da300b142524fe259fc20140396692/comments", "author": null, "committer": null, "parents": [{"sha": "257792c5e2aa931f4bf532aedd0d5d19b44567f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/257792c5e2aa931f4bf532aedd0d5d19b44567f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/257792c5e2aa931f4bf532aedd0d5d19b44567f3"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "f0f3e738a53e034717aec49af4a8e9fbabfcaa5a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b2944cbd4da300b142524fe259fc20140396692/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b2944cbd4da300b142524fe259fc20140396692/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1b2944cbd4da300b142524fe259fc20140396692", "patch": "@@ -1,3 +1,8 @@\n+2017-10-18  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/69057\n+\t* g++.dg/cpp1y/auto-fn45.C: New.\n+\n 2017-10-18  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/68884"}, {"sha": "a9c163dd736c84e07a289f2ef83af2093357006b", "filename": "gcc/testsuite/g++.dg/cpp1y/auto-fn45.C", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b2944cbd4da300b142524fe259fc20140396692/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fauto-fn45.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b2944cbd4da300b142524fe259fc20140396692/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fauto-fn45.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fauto-fn45.C?ref=1b2944cbd4da300b142524fe259fc20140396692", "patch": "@@ -0,0 +1,27 @@\n+// PR c++/69057\n+// { dg-do compile { target c++14 } }\n+\n+#include <cassert>\n+\n+using GLenum = unsigned int;\n+\n+template <typename T>\n+inline constexpr auto from_enum(const T& x) noexcept\n+{\n+    // Comment this line to prevent segmentation fault:\n+    assert(true);\n+    // ------------------------------------------------\n+\n+    return (GLenum)x;\n+}\n+\n+enum class buffer_target : GLenum\n+{\n+    array\n+};\n+\n+struct vbo\n+{\n+    static constexpr GLenum target_value{from_enum(buffer_target::array)};\n+    GLenum x{target_value};\n+};"}]}