{"sha": "eca8ff3207fd57f9bb793bcbcb479795308a38b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWNhOGZmMzIwN2ZkNTdmOWJiNzkzYmNiY2I0Nzk3OTUzMDhhMzhiMg==", "commit": {"author": {"name": "Marc Espie", "email": "espie@cvs.openbsd.org", "date": "1999-02-18T18:57:55Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-02-18T18:57:55Z"}, "message": "configure.in: Handle OpenBSD with and without threads.\n\n        * configure.in: Handle OpenBSD with and without threads.\n        * config/openbsd.ml: New file.\n        * config/openbsd.mt: New file.\n\nFrom-SVN: r25291", "tree": {"sha": "b8c2627f95c332efeaab153c57a329fbdb22e207", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8c2627f95c332efeaab153c57a329fbdb22e207"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eca8ff3207fd57f9bb793bcbcb479795308a38b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eca8ff3207fd57f9bb793bcbcb479795308a38b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eca8ff3207fd57f9bb793bcbcb479795308a38b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eca8ff3207fd57f9bb793bcbcb479795308a38b2/comments", "author": null, "committer": null, "parents": [{"sha": "c87a0a3994b20fcf69a9d4072516929c08a96746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c87a0a3994b20fcf69a9d4072516929c08a96746", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c87a0a3994b20fcf69a9d4072516929c08a96746"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "e537abacfad30ce3df5b98b9069d32c139e81304", "filename": "libstdc++/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2FChangeLog?ref=eca8ff3207fd57f9bb793bcbcb479795308a38b2", "patch": "@@ -1,3 +1,9 @@\n+Thu Feb 18 19:53:17 1999  Marc Espie <espie@cvs.openbsd.org>\n+\n+\t* configure.in: Handle OpenBSD with and without threads.\n+\t* config/openbsd.ml: New file.\n+\t* config/openbsd.mt: New file.\n+\n 1999-01-28  Baron Roberts  <baron@sgi.com>\n \n \t* string: Uncomment wstring declaration."}, {"sha": "0d278f6b0b084f4675927ca13f3a9fcfe6735e66", "filename": "libstdc++/config/openbsd.ml", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2Fconfig%2Fopenbsd.ml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2Fconfig%2Fopenbsd.ml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fconfig%2Fopenbsd.ml?ref=eca8ff3207fd57f9bb793bcbcb479795308a38b2", "patch": "@@ -0,0 +1,7 @@\n+# Base shared lib for OpenBSD i386\n+\n+LIBS    = $(ARLIB) $(SHLIB) $(SHLINK) mshlink\n+SHFLAGS = -nostdlib -Wl,-Bshareable,-Bforcearchive\n+SHDEPS  = -lm\n+DEPLIBS = ../$(SHLIB)\n+"}, {"sha": "29da11cf454ebb344b7a5cb036286ac13ee09e72", "filename": "libstdc++/config/openbsd.mt", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2Fconfig%2Fopenbsd.mt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2Fconfig%2Fopenbsd.mt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fconfig%2Fopenbsd.mt?ref=eca8ff3207fd57f9bb793bcbcb479795308a38b2", "patch": "@@ -0,0 +1,3 @@\n+# tell we want the mt-safe version\n+MT_CFLAGS = -D_IO_MTSAFE_IO -D_PTHREADS\n+"}, {"sha": "9b89ece4f91aef6f3a1fb5894e2ca818f7e7e225", "filename": "libstdc++/configure.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eca8ff3207fd57f9bb793bcbcb479795308a38b2/libstdc%2B%2B%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fconfigure.in?ref=eca8ff3207fd57f9bb793bcbcb479795308a38b2", "patch": "@@ -63,6 +63,7 @@ if [ \"${shared}\" = \"yes\" ]; then\n     *-*-irix[56]*)\tfrags=\"${frags} irix5.ml\" ;;\n     *-*-linux*aout*)\t;;\n     *-*-linux*)\t\tfrags=\"${frags} linux.ml\" ;;\n+    *-*-openbsd*)\t\tfrags=\"${frags} openbsd.ml\" ;;\n     *-*-sysv[45]*|*-*-udk*)\tfrags=\"${frags} elf.ml\" ;;\n     *-*-solaris*)\tfrags=\"${frags} sol2shm.ml\" ;;\n     *-*-sunos4*)\tfrags=\"${frags} sunos4.ml\" ;;\n@@ -76,6 +77,10 @@ case \"${target}\" in\n   alpha*-*-linux-gnulibc1)\tfrags=\"${frags} linux.mt\" ;;\n   powerpc*-*-linux-gnulibc1)\tfrags=\"${frags} linux.mt\" ;;\n   *-*-linux-gnu)\t\tfrags=\"${frags} linux.mt\" ;;\n+  *-*-openbsd*)\t\t\n+  \tcase \"x${enable_threads}\" in\n+\t\txyes|xposix)\tfrags=\"${frags} openbsd.mt\" ;;\n+\tesac;;\n   m68k-motorola-sysv)\t\tfrags=\"${frags} delta.mt\" ;;\n   *-*-solaris*)\n     case \"x${enable_threads}\" in"}]}