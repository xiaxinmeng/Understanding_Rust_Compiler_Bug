{"sha": "04760127ae09989f69c8edccc911862fadf57b3c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ3NjAxMjdhZTA5OTg5ZjY5YzhlZGNjYzkxMTg2MmZhZGY1N2IzYw==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@codesourcery.com", "date": "2005-11-22T20:42:54Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2005-11-22T20:42:54Z"}, "message": "re PR target/23435 (Unrecognizable insn (in extract_insn, at recog.c))\n\ngcc/\n\tPR target/23435\n\t* m68k.md (zero_extendsidi2): Force operands[1] to a register\n\tif both operands[0] and operands[1] are memory.\n\ngcc/testsuite/\n\tPR target/23435\n\t* gcc.c-torture/compile/pr23435.c: New.\n\nFrom-SVN: r107373", "tree": {"sha": "bc3ecaad2ce049c2bcd8af250ae3c5885e3de1a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc3ecaad2ce049c2bcd8af250ae3c5885e3de1a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04760127ae09989f69c8edccc911862fadf57b3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04760127ae09989f69c8edccc911862fadf57b3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04760127ae09989f69c8edccc911862fadf57b3c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04760127ae09989f69c8edccc911862fadf57b3c/comments", "author": null, "committer": null, "parents": [{"sha": "b4623110c4dd0dd7b29ae13180e4296735638992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4623110c4dd0dd7b29ae13180e4296735638992", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4623110c4dd0dd7b29ae13180e4296735638992"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "39501c98e68fd5d08a2915378fa7f7eeb43e6f7c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=04760127ae09989f69c8edccc911862fadf57b3c", "patch": "@@ -1,3 +1,9 @@\n+2005-11-22  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\tPR target/23435\n+\t* m68k.md (zero_extendsidi2): Force operands[1] to a register\n+\tif both operands[0] and operands[1] are memory.\n+\n 2005-11-22  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR middle-end/23606"}, {"sha": "8a6a555681d5d949393d102c8cd2804b106ebd4c", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=04760127ae09989f69c8edccc911862fadf57b3c", "patch": "@@ -1206,7 +1206,11 @@\n   [(set (match_operand:DI 0 \"nonimmediate_operand\" \"\")\n \t(zero_extend:DI (match_operand:SI 1 \"nonimmediate_src_operand\" \"\")))]\n   \"\"\n-  \"\")\n+{\n+  if (GET_CODE (operands[0]) == MEM\n+      && GET_CODE (operands[1]) == MEM)\n+    operands[1] = force_reg (SImode, operands[1]);\n+})\n \n (define_insn_and_split \"*zero_extendsidi2\"\n   [(set (match_operand:DI 0 \"nonimmediate_operand\" \"\")"}, {"sha": "ae58dc0cd7a91d32a12a53c50779d63b603732a5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=04760127ae09989f69c8edccc911862fadf57b3c", "patch": "@@ -1,3 +1,8 @@\n+2005-11-22  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\tPR target/23435\n+\t* gcc.c-torture/compile/pr23435.c: New.\n+\n 2005-11-22  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* gcc.c-torture/execute/floatunsisf-1.c: New test."}, {"sha": "fb41af1e8470ac9163c3630fe2598876fd333aa1", "filename": "gcc/testsuite/gcc.c-torture/compile/pr23435.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr23435.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04760127ae09989f69c8edccc911862fadf57b3c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr23435.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr23435.c?ref=04760127ae09989f69c8edccc911862fadf57b3c", "patch": "@@ -0,0 +1,11 @@\n+/* PR target/23435.\n+\n+   On m68k-none-elf, this used to cause an unrecognized insn because\n+   zero_extendsidi2 accepted operands that are both memory even though\n+   such a pattern did not exist.  */\n+\n+void\n+foo (unsigned long *a, unsigned long long *p)\n+{\n+  *p = *a;\n+}"}]}