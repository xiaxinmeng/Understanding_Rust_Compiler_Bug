{"sha": "2972d17c85a7f5f40cba75a39c2313652cb53633", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk3MmQxN2M4NWE3ZjVmNDBjYmE3NWEzOWMyMzEzNjUyY2I1MzYzMw==", "commit": {"author": {"name": "Janis Johnson", "email": "janisjo@codesourcery.com", "date": "2011-06-27T18:40:18Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2011-06-27T18:40:18Z"}, "message": "target-supports-dg.exp (dg-require-effective-target): Return early if the test is already being skipped.\n\n\t* lib/target-supports-dg.exp (dg-require-effective-target): Return\n\tearly if the test is already being skipped.\n\nFrom-SVN: r175547", "tree": {"sha": "8af7b1d1e5cdaf211368c88940179e582b443c2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8af7b1d1e5cdaf211368c88940179e582b443c2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2972d17c85a7f5f40cba75a39c2313652cb53633", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2972d17c85a7f5f40cba75a39c2313652cb53633", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2972d17c85a7f5f40cba75a39c2313652cb53633", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2972d17c85a7f5f40cba75a39c2313652cb53633/comments", "author": null, "committer": null, "parents": [{"sha": "0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "6751872c9ae449ac2575f66502102647b8661c85", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2972d17c85a7f5f40cba75a39c2313652cb53633/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2972d17c85a7f5f40cba75a39c2313652cb53633/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2972d17c85a7f5f40cba75a39c2313652cb53633", "patch": "@@ -1,5 +1,8 @@\n 2011-06-27  Janis Johnson  <janisjo@codesourcery.com>\n \n+\t* lib/target-supports-dg.exp (dg-require-effective-target): Return\n+\tearly if the test is already being skipped.\n+\n \t* lib/scanasm.exp (dg-scan, scan-assembler-times, scan-assembler-dem,\n \tscan-assembler-dem-not): For missing file, report unresolved with\n \tsame message as for pass/fail, with reason reported in log file."}, {"sha": "68e250ba87249dee3a0dc3976432a2d078c7754c", "filename": "gcc/testsuite/lib/target-supports-dg.exp", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2972d17c85a7f5f40cba75a39c2313652cb53633/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2972d17c85a7f5f40cba75a39c2313652cb53633/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp?ref=2972d17c85a7f5f40cba75a39c2313652cb53633", "patch": "@@ -172,6 +172,12 @@ proc dg-require-effective-target { args } {\n     if { [llength $args] < 1 || [llength $args] > 2 } {\n \terror \"syntax error, need a single effective-target keyword with optional selector\"\n     }\n+\n+    # Don't bother if we're already skipping the test.\n+    upvar dg-do-what dg-do-what\n+    if { [lindex ${dg-do-what} 1] == \"N\" } {\n+      return\n+    }\n     \n     # Evaluate selector if present.\n     if { [llength $args] == 2 } {\n@@ -182,7 +188,6 @@ proc dg-require-effective-target { args } {\n     }\n \n     if { ![is-effective-target [lindex $args 0]] } {\n-\tupvar dg-do-what dg-do-what\n         set dg-do-what [list [lindex ${dg-do-what} 0] \"N\" \"P\"]\n     }\n }"}]}