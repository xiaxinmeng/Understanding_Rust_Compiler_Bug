{"sha": "2ba34efc55ba605a18f858dc0d043ea90a07042a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJhMzRlZmM1NWJhNjA1YTE4Zjg1OGRjMGQwNDNlYTkwYTA3MDQyYQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2010-03-03T11:06:59Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-03-03T11:06:59Z"}, "message": "unique_ptr.h (unique_ptr<>::get_deleter): Simplify return type.\n\n2010-03-03  Paolo Carlini  <paolo.carlini@oracle.com>\n\t    Jonathan Wakely  <jwakely.gcc@gmail.com>\n\n\t* include/bits/unique_ptr.h (unique_ptr<>::get_deleter): Simplify\n\treturn type.\n\t* testsuite/20_util/unique_ptr/modifiers/reset_neg.cc: Adjust\n\tdg-error line number.\n\t* testsuite/20_util/unique_ptr/assign/assign_neg.cc: Likewise.\n\nCo-Authored-By: Jonathan Wakely <jwakely.gcc@gmail.com>\n\nFrom-SVN: r157193", "tree": {"sha": "03ab7ad5938ab6cef4a19a8151e575666cb9f85b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03ab7ad5938ab6cef4a19a8151e575666cb9f85b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ba34efc55ba605a18f858dc0d043ea90a07042a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ba34efc55ba605a18f858dc0d043ea90a07042a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ba34efc55ba605a18f858dc0d043ea90a07042a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ba34efc55ba605a18f858dc0d043ea90a07042a/comments", "author": null, "committer": null, "parents": [{"sha": "bef7d288df865ca1b76d20b56f2883b1338ea285", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef7d288df865ca1b76d20b56f2883b1338ea285", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bef7d288df865ca1b76d20b56f2883b1338ea285"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "c70bcf9486a84f6476408bab0fa1ebe12bc17a84", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2ba34efc55ba605a18f858dc0d043ea90a07042a", "patch": "@@ -1,3 +1,12 @@\n+2010-03-03  Paolo Carlini  <paolo.carlini@oracle.com>\n+\t    Jonathan Wakely  <jwakely.gcc@gmail.com>\n+\n+\t* include/bits/unique_ptr.h (unique_ptr<>::get_deleter): Simplify\n+\treturn type.\n+\t* testsuite/20_util/unique_ptr/modifiers/reset_neg.cc: Adjust\n+\tdg-error line number.\n+\t* testsuite/20_util/unique_ptr/assign/assign_neg.cc: Likewise.\n+\n 2010-03-02  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/debug/bitset (hash): Minor tweaks."}, {"sha": "afa3043c428afb5187ea1ba5ada3831d57d6d5ec", "filename": "libstdc++-v3/include/bits/unique_ptr.h", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2Finclude%2Fbits%2Funique_ptr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2Finclude%2Fbits%2Funique_ptr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Funique_ptr.h?ref=2ba34efc55ba605a18f858dc0d043ea90a07042a", "patch": "@@ -167,13 +167,11 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n       get() const\n       { return std::get<0>(_M_t); }\n \n-      typename std::add_lvalue_reference<deleter_type>::type\n+      deleter_type&\n       get_deleter()\n       { return std::get<1>(_M_t); }\n \n-      typename std::add_lvalue_reference<\n-          typename std::add_const<deleter_type>::type\n-              >::type\n+      const deleter_type&\n       get_deleter() const\n       { return std::get<1>(_M_t); }\n \n@@ -300,13 +298,11 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n       get() const\n       { return std::get<0>(_M_t); }\n \n-      typename std::add_lvalue_reference<deleter_type>::type \n+      deleter_type& \n       get_deleter()\n       { return std::get<1>(_M_t); }\n \n-      typename std::add_lvalue_reference<\n-          typename std::add_const<deleter_type>::type\n-              >::type \n+      const deleter_type&\n       get_deleter() const\n       { return std::get<1>(_M_t); }    \n "}, {"sha": "4bf8e4b43490287b223db022d68070459ff6c100", "filename": "libstdc++-v3/testsuite/20_util/unique_ptr/assign/assign_neg.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fassign%2Fassign_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fassign%2Fassign_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fassign%2Fassign_neg.cc?ref=2ba34efc55ba605a18f858dc0d043ea90a07042a", "patch": "@@ -49,13 +49,13 @@ test03()\n   std::unique_ptr<int[2]> p2 = p1;\n }\n \n-// { dg-error \"deleted function\" \"\" { target *-*-* } 346 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 342 }\n // { dg-error \"used here\" \"\" { target *-*-* } 42 }\n // { dg-error \"no matching\" \"\" { target *-*-* } 48 }\n // { dg-warning \"candidates are\" \"\" { target *-*-* } 115 }\n // { dg-warning \"note\" \"\" { target *-*-* } 108 }\n // { dg-warning \"note\" \"\" { target *-*-* } 103 }\n // { dg-warning \"note\" \"\" { target *-*-* } 98 }\n // { dg-warning \"note\" \"\" { target *-*-* } 92 }\n-// { dg-error \"deleted function\" \"\" { target *-*-* } 209 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 207 }\n // { dg-error \"used here\" \"\" { target *-*-* } 49 }"}, {"sha": "3308fcbf81bce2a516644a86a0ca680bb79a9c4d", "filename": "libstdc++-v3/testsuite/20_util/unique_ptr/modifiers/reset_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fmodifiers%2Freset_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ba34efc55ba605a18f858dc0d043ea90a07042a/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fmodifiers%2Freset_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fmodifiers%2Freset_neg.cc?ref=2ba34efc55ba605a18f858dc0d043ea90a07042a", "patch": "@@ -36,4 +36,4 @@ void test01()\n }\n \n // { dg-error \"used here\" \"\" { target *-*-* } 35 } \n-// { dg-error \"deleted function\" \"\" { target *-*-* } 336 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 332 }"}]}