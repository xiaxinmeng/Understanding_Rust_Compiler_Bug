{"sha": "14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRmYTg3ZDY2ODVkOGFhMDBkMDdlYTI2MmJiZWJmZDM2Yzg1NDZjMw==", "commit": {"author": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2018-07-15T08:46:30Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2018-07-15T08:46:30Z"}, "message": "Revert \"[testsuite/guality] Run guality tests with Og\"\n\nThis reverts commit 6b84828445f7875d1dddbd90a8d86b10c4e8e776.\n\nFrom-SVN: r262667", "tree": {"sha": "5f1823eb703676ec1beaa89c3ef4c9650f8ed831", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f1823eb703676ec1beaa89c3ef4c9650f8ed831"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/comments", "author": null, "committer": null, "parents": [{"sha": "873b45326f189c671f0f0a655d677b636d3c2a14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/873b45326f189c671f0f0a655d677b636d3c2a14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/873b45326f189c671f0f0a655d677b636d3c2a14"}], "stats": {"total": 38, "additions": 1, "deletions": 37}, "files": [{"sha": "b19764297117c2067ef66952ff28e30b9b493b1e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "patch": "@@ -1,10 +1,3 @@\n-2018-07-15  Tom de Vries  <tdevries@suse.de>\n-\n-\t* lib/gcc-gdb-test.exp (guality_minimal_options): New proc.\n-\t* g++.dg/guality/guality.exp: Ensure Og is part of torture options.\n-\t* gcc.dg/guality/guality.exp: Same.\n-\t* gfortran.dg/guality/guality.exp: Same.\n-\n 2018-07-13  H.J. Lu  <hongjiu.lu@intel.com>\n \t    Sunil K Pandey  <sunil.k.pandey@intel.com>\n "}, {"sha": "4be22baa19c0f225547677e0ac67ca35d6fb7f18", "filename": "gcc/testsuite/g++.dg/guality/guality.exp", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fguality%2Fguality.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fguality%2Fguality.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fguality%2Fguality.exp?ref=14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "patch": "@@ -48,14 +48,6 @@ if ![info exists ::env(GUALITY_GDB_NAME)] {\n }\n report_gdb $::env(GUALITY_GDB_NAME) [info script]\n \n-global DG_TORTURE_OPTIONS LTO_TORTURE_OPTIONS\n-set guality_dg_torture_options [guality_minimal_options $DG_TORTURE_OPTIONS]\n-torture-init\n-set-torture-options \\\n-    $guality_dg_torture_options \\\n-    [list {}] \\\n-    $LTO_TORTURE_OPTIONS\n-\n if {[check_guality \"\n   #include \\\"$srcdir/$subdir/guality.h\\\"\n   volatile long int varl = 6;\n@@ -73,5 +65,4 @@ if [info exists guality_gdb_name] {\n     unsetenv GUALITY_GDB_NAME\n }\n \n-torture-finish\n dg-finish"}, {"sha": "d9994341477ca635bfa98e53d524bc03b0e1c2dc", "filename": "gcc/testsuite/gcc.dg/guality/guality.exp", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fguality.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fguality.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fguality.exp?ref=14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "patch": "@@ -62,8 +62,7 @@ proc guality_transform_options { args } {\n }\n \n global DG_TORTURE_OPTIONS\n-set guality_dg_torture_options [guality_minimal_options $DG_TORTURE_OPTIONS]\n-set guality_dg_torture_options [guality_transform_options $guality_dg_torture_options]\n+set guality_dg_torture_options [guality_transform_options $DG_TORTURE_OPTIONS]\n set guality_lto_torture_options [guality_transform_options $LTO_TORTURE_OPTIONS]\n torture-init\n set-torture-options \\"}, {"sha": "f76347dd52fc191e49e8bed1a7abd2513f176b3e", "filename": "gcc/testsuite/gfortran.dg/guality/guality.exp", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Fgfortran.dg%2Fguality%2Fguality.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Fgfortran.dg%2Fguality%2Fguality.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fguality%2Fguality.exp?ref=14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "patch": "@@ -29,15 +29,10 @@ if ![info exists ::env(GUALITY_GDB_NAME)] {\n }\n report_gdb $::env(GUALITY_GDB_NAME) [info script]\n \n-global DG_TORTURE_OPTIONS\n-set save_dg_torture_options $DG_TORTURE_OPTIONS\n-set DG_TORTURE_OPTIONS [guality_minimal_options $DG_TORTURE_OPTIONS]\n-\n gfortran-dg-runtest [lsort [glob $srcdir/$subdir/*.\\[fF\\]{,90,95,03,08} ]] \"\" \"\"\n \n if [info exists guality_gdb_name] {\n     unsetenv GUALITY_GDB_NAME\n }\n \n-set DG_TORTURE_OPTIONS save_dg_torture_options\n dg-finish"}, {"sha": "bb966d43023e7b3098ba8c63e82e4f3507b0ef19", "filename": "gcc/testsuite/lib/gcc-gdb-test.exp", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Flib%2Fgcc-gdb-test.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14fa87d6685d8aa00d07ea262bbebfd36c8546c3/gcc%2Ftestsuite%2Flib%2Fgcc-gdb-test.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcc-gdb-test.exp?ref=14fa87d6685d8aa00d07ea262bbebfd36c8546c3", "patch": "@@ -166,17 +166,3 @@ proc report_gdb { gdb loc } {\n     }\n     send_log -- \"---\\n$gdb_version\\n---\\n\"\n }\n-\n-# Argument 0 is the option list.\n-# Return the option list, ensuring that at least -Og is present.\n-\n-proc guality_minimal_options { args } {\n-    set options [lindex $args 0]\n-    foreach opt $options {\n-\tif { [regexp -- \"-Og\" $opt] } {\n-\t    return $options\n-\t}\n-    }\n-    \n-    return [lappend options \"-Og\"]\n-}"}]}