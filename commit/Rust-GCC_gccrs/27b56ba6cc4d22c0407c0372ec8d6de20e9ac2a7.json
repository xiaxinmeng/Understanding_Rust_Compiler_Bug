{"sha": "27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjdiNTZiYTZjYzRkMjJjMDQwN2MwMzcyZWM4ZDZkZTIwZTlhYzJhNw==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@cs.ucla.edu", "date": "2006-07-06T23:24:51Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2006-07-06T23:24:51Z"}, "message": "Port to hosts whose 'sort' and 'tail' implementations treat operands with leading '+' as file names...\n\n\tPort to hosts whose 'sort' and 'tail' implementations\n\ttreat operands with leading '+' as file names, as POSIX\n\thas required since 2001.  However, make sure the code still\n\tworks on pre-POSIX hosts.\n\t* ltmain.sh: Don't assume \"sort +2\" is equivalent to\n\t\"sort -k 3\", since POSIX 1003.1-2001 no longer requires this.\n\ncontrib:\n\t* compare_tests: Don't assume \"sort +2\" is equivalent to\n\t\"sort -k 3\", since POSIX 1003.1-2001 no longer requires this.\ngcc:\n\t* Makefile.in (slowcompare): Port to POSIX 1003.1-2001,\n\twhich says you should use \"tail -c +N\" rather than \"tail +Nc\".\n\tFix a bug: the old code incorrectly skipped 15 bytes, not 16.\n\nFrom-SVN: r115234", "tree": {"sha": "fb41ac292252903edcd6ef7a56a825224d78fa07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb41ac292252903edcd6ef7a56a825224d78fa07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/comments", "author": {"login": "eggert", "id": 572024, "node_id": "MDQ6VXNlcjU3MjAyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/572024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eggert", "html_url": "https://github.com/eggert", "followers_url": "https://api.github.com/users/eggert/followers", "following_url": "https://api.github.com/users/eggert/following{/other_user}", "gists_url": "https://api.github.com/users/eggert/gists{/gist_id}", "starred_url": "https://api.github.com/users/eggert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eggert/subscriptions", "organizations_url": "https://api.github.com/users/eggert/orgs", "repos_url": "https://api.github.com/users/eggert/repos", "events_url": "https://api.github.com/users/eggert/events{/privacy}", "received_events_url": "https://api.github.com/users/eggert/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "525dc87d06289ac03a09201758ab9f43bdd856bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/525dc87d06289ac03a09201758ab9f43bdd856bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/525dc87d06289ac03a09201758ab9f43bdd856bf"}], "stats": {"total": 55, "additions": 50, "deletions": 5}, "files": [{"sha": "3d9a3ee3800dc694516345dc1e1e23be0c4f8192", "filename": "ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "patch": "@@ -1,3 +1,12 @@\n+2006-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n+\n+\tPort to hosts whose 'sort' and 'tail' implementations\n+\ttreat operands with leading '+' as file names, as POSIX\n+\thas required since 2001.  However, make sure the code still\n+\tworks on pre-POSIX hosts.\n+\t* ltmain.sh: Don't assume \"sort +2\" is equivalent to\n+\t\"sort -k 3\", since POSIX 1003.1-2001 no longer requires this.\n+\n 2006-07-05  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* MAINTAINERS (Various Maintainers): Add myself as reload maintainer."}, {"sha": "35d29b96f126d8bf3e6a264af21a62627c7808c5", "filename": "contrib/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "patch": "@@ -1,3 +1,12 @@\n+2006-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n+\n+\tPort to hosts whose 'sort' and 'tail' implementations\n+\ttreat operands with leading '+' as file names, as POSIX\n+\thas required since 2001.  However, make sure the code still\n+\tworks on pre-POSIX hosts.\n+\t* compare_tests: Don't assume \"sort +2\" is equivalent to\n+\t\"sort -k 3\", since POSIX 1003.1-2001 no longer requires this.\n+\n 2006-06-05  James Lemke  <jwlemke@wasabisystems.com>\n \n \t* dg-cmp-results.sh: New script for comparing DejaGNU logs."}, {"sha": "bed97429d6677ad03ea4ba90c49269c72ef7b75d", "filename": "contrib/compare_tests", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/contrib%2Fcompare_tests", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/contrib%2Fcompare_tests", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fcompare_tests?ref=27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "patch": "@@ -31,8 +31,14 @@ now=$tmp2\n exit_status=0\n trap \"rm -f $tmp1 $tmp2 $now_s $before_s\" 0 1 2 3 5 9 13 15\n \n-sort -t ':' +1 \"$now\" > \"$now_s\"\n-sort -t ':' +1 \"$before\" > \"$before_s\"\n+if sort -k 2 </dev/null >/dev/null 2>&1; then\n+  skip1='-k 2'\n+else\n+  skip1='+1'\n+fi\n+\n+sort -t ':' $skip1 \"$now\" > \"$now_s\"\n+sort -t ':' $skip1 \"$before\" > \"$before_s\"\n \n grep '^FAIL:' \"$now_s\" | sed 's/^[^:]*:[ \t]//' >$tmp1\n grep '^PASS' \"$before_s\" | sed 's/^[^:]*:[ \t]//' | comm -12 $tmp1 - >$tmp2"}, {"sha": "94f768f6a204b4f25ece98077f8fa68b7e1497f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "patch": "@@ -1,3 +1,13 @@\n+2006-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n+\n+\tPort to hosts whose 'sort' and 'tail' implementations\n+\ttreat operands with leading '+' as file names, as POSIX\n+\thas required since 2001.  However, make sure the code still\n+\tworks on pre-POSIX hosts.\n+\t* Makefile.in (slowcompare): Port to POSIX 1003.1-2001,\n+\twhich says you should use \"tail -c +N\" rather than \"tail +Nc\".\n+\tFix a bug: the old code incorrectly skipped 15 bytes, not 16.\n+\n 2006-07-06  Zdenek Dvorak <dvorakz@suse.cz>\n \n \t* tree-ssa-loop-niter.c (scev_probably_wraps_p): Fix typo in argument name."}, {"sha": "3287de9a60549ca4ad9c3b1dce0fe753ad420015", "filename": "gcc/Makefile.in", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "patch": "@@ -4384,8 +4384,13 @@ fastcompare fastcompare3 fastcompare4 fastcompare-lean fastcompare3-lean fastcom\n \t    for file in $$dir/*$(objext); do \\\n \t      case \"$@\" in \\\n \t\tslowcompare* ) \\\n-\t\t  tail +16c ./$$file > tmp-foo1; \\\n-\t\t  tail +16c stage$$stage/$$file > tmp-foo2; \\\n+\t\t  if tail -c +1 </dev/null >/dev/null 2>&1; then \\\n+\t\t    skip16='-c +17'; \\\n+\t\t  else \\\n+\t\t    skip16='+17c'; \\\n+\t\t  fi; \\\n+\t\t  tail $$skip16 ./$$file > tmp-foo1; \\\n+\t\t  tail $$skip16 stage$$stage/$$file > tmp-foo2; \\\n \t\t  cmp tmp-foo1 tmp-foo2 > /dev/null 2>&1; \\\n \t\t  cmpret=$$?; \\\n \t\t  ;; \\"}, {"sha": "a3c55f9a7513048bf549ec98b8a6a1d18e44c733", "filename": "ltmain.sh", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/ltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7/ltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltmain.sh?ref=27b56ba6cc4d22c0407c0372ec8d6de20e9ac2a7", "patch": "@@ -3839,7 +3839,13 @@ extern \\\"C\\\" {\n \t    fi\n \n \t    # Try sorting and uniquifying the output.\n-\t    if grep -v \"^: \" < \"$nlist\" | sort +2 | uniq > \"$nlist\"S; then\n+\t    if grep -v \"^: \" < \"$nlist\" |\n+\t\tif sort -k 3 </dev/null >/dev/null 2>&1; then\n+\t\t  sort -k 3\n+\t\telse\n+\t\t  sort +2\n+\t\tfi |\n+\t\tuniq > \"$nlist\"S; then\n \t      :\n \t    else\n \t      grep -v \"^: \" < \"$nlist\" > \"$nlist\"S"}]}