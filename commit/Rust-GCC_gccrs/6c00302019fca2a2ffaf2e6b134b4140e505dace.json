{"sha": "6c00302019fca2a2ffaf2e6b134b4140e505dace", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmMwMDMwMjAxOWZjYTJhMmZmYWYyZTZiMTM0YjQxNDBlNTA1ZGFjZQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2019-03-09T21:49:41Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2019-03-09T21:49:41Z"}, "message": "re PR c++/87750 (Failed compilation / parsing of template member call after 'using' declaration)\n\n2019-03-09  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/87750\n\t* g++.dg/cpp0x/pr87750.C: New.\n\nFrom-SVN: r269539", "tree": {"sha": "d982a14a83470689c893959f028e31130fe6d3c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d982a14a83470689c893959f028e31130fe6d3c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c00302019fca2a2ffaf2e6b134b4140e505dace", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c00302019fca2a2ffaf2e6b134b4140e505dace", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c00302019fca2a2ffaf2e6b134b4140e505dace", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c00302019fca2a2ffaf2e6b134b4140e505dace/comments", "author": null, "committer": null, "parents": [{"sha": "7053f7e1997295711aaf1dd51a539815b45e204d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7053f7e1997295711aaf1dd51a539815b45e204d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7053f7e1997295711aaf1dd51a539815b45e204d"}], "stats": {"total": 45, "additions": 45, "deletions": 0}, "files": [{"sha": "769a5e991919499efbd9f50c1b86b4595eade148", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c00302019fca2a2ffaf2e6b134b4140e505dace/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c00302019fca2a2ffaf2e6b134b4140e505dace/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6c00302019fca2a2ffaf2e6b134b4140e505dace", "patch": "@@ -1,3 +1,8 @@\n+2019-03-09  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/87750\n+\t* g++.dg/cpp0x/pr87750.C: New.\n+\n 2019-03-09  John David Anglin  <dave.anglin@bell.net>\n \n \t* c-c++-common/ident-0b.c: Also skip on 32-bit hppa*-*-hpux*."}, {"sha": "6002e41114855155adfddeda7f63337666933a84", "filename": "gcc/testsuite/g++.dg/cpp0x/pr87750.C", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c00302019fca2a2ffaf2e6b134b4140e505dace/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr87750.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c00302019fca2a2ffaf2e6b134b4140e505dace/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr87750.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr87750.C?ref=6c00302019fca2a2ffaf2e6b134b4140e505dace", "patch": "@@ -0,0 +1,40 @@\n+// PR c++/87750\n+// { dg-do compile { target c++11 } }\n+\n+template <typename T>\n+class Bar\n+{\n+protected:\n+    template <bool B>\n+    int process(int) { return 0; }\n+};\n+\n+template<typename T>\n+class Derived : Bar<T>\n+{\n+    using Base = Bar<T>;\n+    // Note applying Base::template workaround in (2) and commenting\n+    // this out then compiles.\n+    using Base::process;\n+public:\n+    void foo()\n+    {\n+        // (1) workaround: this->template\n+        // This line only fails on gcc 8.x, works in clang/icc/msvc.\n+        process<false>();\n+    }\n+\n+    template <bool B>\n+    int process()\n+    {\n+        // (2) workaround: this->template or Base::template\n+        // Note clang 5 & 6 don't accept this line either, but clang 7 does.\n+        return process<B>(1);\n+    }\n+};\n+\n+int main()\n+{\n+    Derived<int> x;\n+    return x.process<false>();\n+}"}]}