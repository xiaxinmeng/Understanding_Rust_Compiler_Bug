{"sha": "6fd71fde8bf08fdbd7220791b0b411f1595bf810", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZkNzFmZGU4YmYwOGZkYmQ3MjIwNzkxYjBiNDExZjE1OTViZjgxMA==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-09-24T06:10:35Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-09-24T06:10:35Z"}, "message": "i386.md (ix86_code_end): Move the initialization of xops array near the consumer.\n\n\t* config/i386/i386.md (ix86_code_end): Move the initialization of\n\txops array near the consumer.  Use AX_REG and SP_REG instead of\n\tnumerical constants.\n\nFrom-SVN: r164583", "tree": {"sha": "4698c452d4e231b033445ba98af1ba4303d5a7f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4698c452d4e231b033445ba98af1ba4303d5a7f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6fd71fde8bf08fdbd7220791b0b411f1595bf810", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fd71fde8bf08fdbd7220791b0b411f1595bf810", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fd71fde8bf08fdbd7220791b0b411f1595bf810", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fd71fde8bf08fdbd7220791b0b411f1595bf810/comments", "author": null, "committer": null, "parents": [{"sha": "be1f1ed97b2e41073dc1775d6f13e7597eb22664", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be1f1ed97b2e41073dc1775d6f13e7597eb22664", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be1f1ed97b2e41073dc1775d6f13e7597eb22664"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "152c0c2629d58fb216c79fc4d00ad7e56180b6f0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fd71fde8bf08fdbd7220791b0b411f1595bf810/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fd71fde8bf08fdbd7220791b0b411f1595bf810/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6fd71fde8bf08fdbd7220791b0b411f1595bf810", "patch": "@@ -1,9 +1,14 @@\n+2010-09-24  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/i386.md (ix86_code_end): Move the initialization of\n+\txops array near the consumer.  Use AX_REG and SP_REG instead of\n+\tnumerical constants.\n+\n 2010-09-24  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n-\t* c-typeck.c (convert_arguments): Use warning 'too many arguments\n-\tto method [methodname]' for an Objective-C method instead of the\n-\tless satisfactory 'too many arguments to function' (with no method\n-\tname).\n+\t* c-typeck.c (convert_arguments): Use warning 'too many arguments to\n+\tmethod [methodname]' for an Objective-C method instead of the less\n+\tsatisfactory 'too many arguments to function' (with no method name).\n \n 2010-09-23  Eric Botcazou  <ebotcazou@adacore.com>\n "}, {"sha": "eb7f65f770cf20af4cda4887cbe8854cdde4542f", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fd71fde8bf08fdbd7220791b0b411f1595bf810/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fd71fde8bf08fdbd7220791b0b411f1595bf810/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=6fd71fde8bf08fdbd7220791b0b411f1595bf810", "patch": "@@ -7964,12 +7964,12 @@ ix86_code_end (void)\n   rtx xops[2];\n   int regno;\n \n-  for (regno = 0; regno < 8; ++regno)\n+  for (regno = AX_REG; regno <= SP_REG; regno++)\n     {\n       char name[32];\n       tree decl;\n \n-      if (! ((pic_labels_used >> regno) & 1))\n+      if (!(pic_labels_used & (1 << regno)))\n \tcontinue;\n \n       get_pc_thunk_name (name, regno);\n@@ -8022,10 +8022,8 @@ ix86_code_end (void)\n       /* Make sure unwind info is emitted for the thunk if needed.  */\n       final_start_function (emit_barrier (), asm_out_file, 1);\n \n-      xops[0] = gen_rtx_REG (Pmode, regno);\n-      xops[1] = gen_rtx_MEM (Pmode, stack_pointer_rtx);\n       /* Pad stack IP move with 4 instructions (two NOPs count\n-\t as one instruction.)  */\n+\t as one instruction).  */\n       if (TARGET_PAD_SHORT_FUNCTION)\n \t{\n \t  int i = 8;\n@@ -8034,6 +8032,8 @@ ix86_code_end (void)\n \t    fputs (\"\\tnop\\n\", asm_out_file);\n \t}\n \n+      xops[0] = gen_rtx_REG (Pmode, regno);\n+      xops[1] = gen_rtx_MEM (Pmode, stack_pointer_rtx);\n       output_asm_insn (\"mov%z0\\t{%1, %0|%0, %1}\", xops);\n       fputs (\"\\tret\\n\", asm_out_file);\n       final_end_function ();"}, {"sha": "adf528f785d248cca2cc3b7ac27cf1e61bd6699f", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fd71fde8bf08fdbd7220791b0b411f1595bf810/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fd71fde8bf08fdbd7220791b0b411f1595bf810/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=6fd71fde8bf08fdbd7220791b0b411f1595bf810", "patch": "@@ -11515,7 +11515,7 @@\n \t(unspec:SI [(const_int 0)] UNSPEC_SET_GOT))\n    (clobber (reg:CC FLAGS_REG))]\n   \"!TARGET_64BIT\"\n-  { return output_set_got (operands[0], NULL_RTX); }\n+  \"* return output_set_got (operands[0], NULL_RTX);\"\n   [(set_attr \"type\" \"multi\")\n    (set_attr \"length\" \"12\")])\n \n@@ -11525,7 +11525,7 @@\n \t UNSPEC_SET_GOT))\n    (clobber (reg:CC FLAGS_REG))]\n   \"!TARGET_64BIT\"\n-  { return output_set_got (operands[0], operands[1]); }\n+  \"* return output_set_got (operands[0], operands[1]);\"\n   [(set_attr \"type\" \"multi\")\n    (set_attr \"length\" \"12\")])\n "}]}