{"sha": "e81e83d04796b834c9f3e63d74b7202bca28e5c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTgxZTgzZDA0Nzk2YjgzNGM5ZjNlNjNkNzRiNzIwMmJjYTI4ZTVjOQ==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-09-09T18:04:23Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-09-09T18:04:23Z"}, "message": "re PR fortran/77506 (F2008 Standard does not allow CHARACTER(LEN=*) in array constructor)\n\n2016-09-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/77506\n\t* array.c (gfc_match_array_constructor): CHARACTER(len=*) cannot\n\tappear in an array constructor.\n\n2016-09-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/77506\n\t* gfortran.dg/pr77506.f90: New test.\n\nFrom-SVN: r240052", "tree": {"sha": "5fdf6aaf776694e7ccabe59f389a6d473b87f874", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5fdf6aaf776694e7ccabe59f389a6d473b87f874"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e81e83d04796b834c9f3e63d74b7202bca28e5c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e81e83d04796b834c9f3e63d74b7202bca28e5c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e81e83d04796b834c9f3e63d74b7202bca28e5c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e81e83d04796b834c9f3e63d74b7202bca28e5c9/comments", "author": null, "committer": null, "parents": [{"sha": "36d9b716adc475115143c81f345db454861472da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36d9b716adc475115143c81f345db454861472da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36d9b716adc475115143c81f345db454861472da"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "284bf7d92c0917cad31fe919d5a6ea1b1a42b76f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=e81e83d04796b834c9f3e63d74b7202bca28e5c9", "patch": "@@ -1,3 +1,9 @@\n+2016-09-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/77506\n+\t* array.c (gfc_match_array_constructor): CHARACTER(len=*) cannot\n+\tappear in an array constructor.\n+\n 2016-09-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/77507"}, {"sha": "14e20a36de5577a9c1ada356f547f9512a3afd97", "filename": "gcc/fortran/array.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ffortran%2Farray.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ffortran%2Farray.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Farray.c?ref=e81e83d04796b834c9f3e63d74b7202bca28e5c9", "patch": "@@ -1142,6 +1142,15 @@ gfc_match_array_constructor (gfc_expr **result)\n \t      gfc_restore_last_undo_checkpoint ();\n \t      goto cleanup;\n \t    }\n+\n+\t  if (ts.type == BT_CHARACTER\n+\t      && ts.u.cl && !ts.u.cl->length && !ts.u.cl->length_from_typespec)\n+\t    {\n+\t      gfc_error (\"Type-spec at %L cannot contain an asterisk for a \"\n+\t\t\t \"type parameter\", &where);\n+\t      gfc_restore_last_undo_checkpoint ();\n+\t      goto cleanup;\n+\t    }\n \t}\n     }\n   else if (m == MATCH_ERROR)"}, {"sha": "56ff8bc9ff9eee4acd3d7dd40186b5afab9ed396", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e81e83d04796b834c9f3e63d74b7202bca28e5c9", "patch": "@@ -1,3 +1,8 @@\n+2016-09-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/77506\n+\t* gfortran.dg/pr77506.f90: New test.\n+\n 2016-09-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/77507"}, {"sha": "70d874e260b284bfb562e078af3c2a66aa6f07cf", "filename": "gcc/testsuite/gfortran.dg/pr77506.f90", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr77506.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e81e83d04796b834c9f3e63d74b7202bca28e5c9/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr77506.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr77506.f90?ref=e81e83d04796b834c9f3e63d74b7202bca28e5c9", "patch": "@@ -0,0 +1,4 @@\n+! { dg-do compile }\n+program foo\n+   print *, [character(len=*)::'ab','cd'] ! { dg-error \"contain an asterisk\" }\n+end program foo"}]}