{"sha": "fb52d8de78e4d308b95aa721c5c9dc2b4e796391", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmI1MmQ4ZGU3OGU0ZDMwOGI5NWFhNzIxYzVjOWRjMmI0ZTc5NjM5MQ==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2002-08-02T01:08:01Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2002-08-02T01:08:01Z"}, "message": "rs6000.c (output_toc): Don't use lshift_double when HOST_BITS_PER_WIDE_INT == 64.\n\n\t* config/rs6000/rs6000.c (output_toc): Don't use lshift_double when\n\tHOST_BITS_PER_WIDE_INT == 64.\n\nFrom-SVN: r55961", "tree": {"sha": "7ea907b911e99583263ed0edcbd088e568aee5b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ea907b911e99583263ed0edcbd088e568aee5b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb52d8de78e4d308b95aa721c5c9dc2b4e796391", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb52d8de78e4d308b95aa721c5c9dc2b4e796391", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb52d8de78e4d308b95aa721c5c9dc2b4e796391", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb52d8de78e4d308b95aa721c5c9dc2b4e796391/comments", "author": null, "committer": null, "parents": [{"sha": "a4b5414c883ff448abe86c07b5cd83e59793d32f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4b5414c883ff448abe86c07b5cd83e59793d32f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4b5414c883ff448abe86c07b5cd83e59793d32f"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "5b5de593f1afd94b4c6d9c205b07849f10cac140", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb52d8de78e4d308b95aa721c5c9dc2b4e796391/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb52d8de78e4d308b95aa721c5c9dc2b4e796391/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fb52d8de78e4d308b95aa721c5c9dc2b4e796391", "patch": "@@ -1,3 +1,8 @@\n+2002-08-02  Alan Modra  <amodra@bigpond.net.au>\n+\n+\t* config/rs6000/rs6000.c (output_toc): Don't use lshift_double when\n+\tHOST_BITS_PER_WIDE_INT == 64.\n+\n 2002-08-01  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* df.c (df_insn_table_realloc): Change parameter to unsigned."}, {"sha": "932a60cb385808682f116b42daa63e93735203d4", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb52d8de78e4d308b95aa721c5c9dc2b4e796391/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb52d8de78e4d308b95aa721c5c9dc2b4e796391/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=fb52d8de78e4d308b95aa721c5c9dc2b4e796391", "patch": "@@ -11664,8 +11664,17 @@ output_toc (file, x, labelno, mode)\n \tabort ();/* It would be easy to make this work, but it doesn't now.  */\n \n       if (POINTER_SIZE > GET_MODE_BITSIZE (mode))\n-\tlshift_double (low, high, POINTER_SIZE - GET_MODE_BITSIZE (mode),\n-\t\t       POINTER_SIZE, &low, &high, 0);\n+\t{\n+#if HOST_BITS_PER_WIDE_INT == 32\n+\t  lshift_double (low, high, POINTER_SIZE - GET_MODE_BITSIZE (mode),\n+\t\t\t POINTER_SIZE, &low, &high, 0);\n+#else\n+\t  low |= high << 32;\n+\t  low <<= POINTER_SIZE - GET_MODE_BITSIZE (mode);\n+\t  high = (HOST_WIDE_INT) low >> 32;\n+\t  low &= 0xffffffff;\n+#endif\n+\t}\n \n       if (TARGET_64BIT)\n \t{"}]}