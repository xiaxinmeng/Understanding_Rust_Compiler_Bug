{"sha": "6691db8e6b45f1c8bf6032663e60495fa02de9b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjY5MWRiOGU2YjQ1ZjFjOGJmNjAzMjY2M2U2MDQ5NWZhMDJkZTliMg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-07-12T16:01:33Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-07-12T16:01:33Z"}, "message": "flow.c (try_optimize_cfg): Delete whole chain of trivially dead basic blocks.\n\n\t* flow.c (try_optimize_cfg): Delete whole chain of trivially dead\n\tbasic blocks.\n\t(verify_flow_info): Make diagnostics prettier.\n\nFrom-SVN: r43967", "tree": {"sha": "2114e2a7141fc32722cd1751d911d3348af4067e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2114e2a7141fc32722cd1751d911d3348af4067e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6691db8e6b45f1c8bf6032663e60495fa02de9b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6691db8e6b45f1c8bf6032663e60495fa02de9b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6691db8e6b45f1c8bf6032663e60495fa02de9b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6691db8e6b45f1c8bf6032663e60495fa02de9b2/comments", "author": null, "committer": null, "parents": [{"sha": "a3e5ae6dd8577e990a5bd93dc8202d341c0b29f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3e5ae6dd8577e990a5bd93dc8202d341c0b29f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3e5ae6dd8577e990a5bd93dc8202d341c0b29f0"}], "stats": {"total": 25, "additions": 14, "deletions": 11}, "files": [{"sha": "468064a61ae9124d7adf0bf137b2a7bf1c549fc1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6691db8e6b45f1c8bf6032663e60495fa02de9b2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6691db8e6b45f1c8bf6032663e60495fa02de9b2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6691db8e6b45f1c8bf6032663e60495fa02de9b2", "patch": "@@ -1,3 +1,9 @@\n+Thu Jul 12 17:57:16 CEST 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* flow.c (try_optimize_cfg): Delete whole chain of trivially dead\n+\tbasic blocks.\n+\t(verify_flow_info): Make diagnostics prettier.\n+\n Thu Jul 12 16:48:54 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* flow.c (find_basic_blocks_1): Do not emit NOP after call."}, {"sha": "92f63099ff2d3b8dc86db01c36e22ba0d50a497c", "filename": "gcc/flow.c", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6691db8e6b45f1c8bf6032663e60495fa02de9b2/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6691db8e6b45f1c8bf6032663e60495fa02de9b2/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=6691db8e6b45f1c8bf6032663e60495fa02de9b2", "patch": "@@ -3653,10 +3653,10 @@ try_optimize_cfg (mode)\n \t  edge s;\n \t  int changed_here = 0;\n \n-\t  /* Delete trivially dead basic block.  */\n-\t  if (b->pred == NULL)\n+\t  /* Delete trivially dead basic blocks.  */\n+\t  while (b->pred == NULL)\n \t    {\n-\t      c = BASIC_BLOCK (i - 1);\n+\t      c = BASIC_BLOCK (b->index - 1);\n \t      if (rtl_dump_file)\n \t\tfprintf (rtl_dump_file, \"Deleting block %i.\\n\", b->index);\n \t      flow_delete_block (b);\n@@ -7923,23 +7923,20 @@ verify_flow_info ()\n \t      && (e->src->index + 1 != e->dest->index\n \t\t  || !can_fallthru (e->src, e->dest)))\n \t    {\n-\t      fprintf (stderr,\n-\t\t       \"verify_flow_info: Incorrect fallthru edge %i->%i\\n\",\n-\t\t       e->src->index, e->dest->index);\n-\t      fflush (stderr);\n+\t      error (\"verify_flow_info: Incorrect fallthru edge %i->%i\",\n+\t\t     e->src->index, e->dest->index);\n \t      err = 1;\n \t    }\n \t    \n \t  if (e->src != bb)\n \t    {\n-\t      fprintf (stderr,\n-\t\t       \"verify_flow_info: Basic block %d succ edge is corrupted\\n\",\n-\t\t       bb->index);\n+\t      error (\"verify_flow_info: Basic block %d succ edge is corrupted\",\n+\t\t     bb->index);\n \t      fprintf (stderr, \"Predecessor: \");\n \t      dump_edge_info (stderr, e, 0);\n \t      fprintf (stderr, \"\\nSuccessor: \");\n \t      dump_edge_info (stderr, e, 1);\n-\t      fflush (stderr);\n+\t      fprintf (stderr, \"\\n\");\n \t      err = 1;\n \t    }\n \t  if (e->dest != EXIT_BLOCK_PTR)"}]}