{"sha": "b5a696fb77de13c828495626919dcd1f5507fddc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVhNjk2ZmI3N2RlMTNjODI4NDk1NjI2OTE5ZGNkMWY1NTA3ZmRkYw==", "commit": {"author": {"name": "Roman Zippel", "email": "zippel@linux-m68k.org", "date": "2001-08-28T01:29:48Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-08-28T01:29:48Z"}, "message": "* cse.c (cse_basic_block): Skip note instructions.\n\nFrom-SVN: r45221", "tree": {"sha": "d019ebe7616fcb21468f64c393f960115b5666ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d019ebe7616fcb21468f64c393f960115b5666ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5a696fb77de13c828495626919dcd1f5507fddc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5a696fb77de13c828495626919dcd1f5507fddc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5a696fb77de13c828495626919dcd1f5507fddc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5a696fb77de13c828495626919dcd1f5507fddc/comments", "author": null, "committer": null, "parents": [{"sha": "fa4e13e0355e5e50f96bde424b27555aa2630527", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa4e13e0355e5e50f96bde424b27555aa2630527", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa4e13e0355e5e50f96bde424b27555aa2630527"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "65ef6910bf0c76381f5b58bff915cd73d297f6c9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5a696fb77de13c828495626919dcd1f5507fddc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5a696fb77de13c828495626919dcd1f5507fddc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5a696fb77de13c828495626919dcd1f5507fddc", "patch": "@@ -1,3 +1,7 @@\n+2001-08-27  Roman Zippel  <zippel@linux-m68k.org>\n+        \n+\t* cse.c (cse_basic_block): Skip note instructions.\n+\n 2001-08-27  Richard Henderson  <rth@redhat.com>\n \n \t* combine.c (combine_simplify_rtx): Don't reverse condition"}, {"sha": "a870919ddb6786cdd84830e4d5de5ff2095c1b35", "filename": "gcc/cse.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5a696fb77de13c828495626919dcd1f5507fddc/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5a696fb77de13c828495626919dcd1f5507fddc/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=b5a696fb77de13c828495626919dcd1f5507fddc", "patch": "@@ -7354,14 +7354,15 @@ cse_basic_block (from, to, next_branch, around_loop)\n      we can cse into the loop.  Don't do this if we changed the jump\n      structure of a loop unless we aren't going to be following jumps.  */\n \n+  insn = prev_nonnote_insn(to);\n   if ((cse_jumps_altered == 0\n        || (flag_cse_follow_jumps == 0 && flag_cse_skip_blocks == 0))\n       && around_loop && to != 0\n       && GET_CODE (to) == NOTE && NOTE_LINE_NUMBER (to) == NOTE_INSN_LOOP_END\n-      && GET_CODE (PREV_INSN (to)) == JUMP_INSN\n-      && JUMP_LABEL (PREV_INSN (to)) != 0\n-      && LABEL_NUSES (JUMP_LABEL (PREV_INSN (to))) == 1)\n-    cse_around_loop (JUMP_LABEL (PREV_INSN (to)));\n+      && GET_CODE (insn) == JUMP_INSN\n+      && JUMP_LABEL (insn) != 0\n+      && LABEL_NUSES (JUMP_LABEL (insn)) == 1)\n+    cse_around_loop (JUMP_LABEL (insn));\n \n   free (qty_table + max_reg);\n "}]}