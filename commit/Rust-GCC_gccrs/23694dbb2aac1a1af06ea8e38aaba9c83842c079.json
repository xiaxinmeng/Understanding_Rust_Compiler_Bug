{"sha": "23694dbb2aac1a1af06ea8e38aaba9c83842c079", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM2OTRkYmIyYWFjMWExYWYwNmVhOGUzOGFhYmE5YzgzODQyYzA3OQ==", "commit": {"author": {"name": "Prachi Godbole", "email": "prachi.godbole@imgtec.com", "date": "2016-05-09T12:04:25Z"}, "committer": {"name": "Robert Suchanek", "email": "rts@gcc.gnu.org", "date": "2016-05-09T12:04:25Z"}, "message": "Add pipeline description for MSA.\n\ngcc/\n\t* config/mips/i6400.md (i6400_fpu_intadd, i6400_fpu_logic)\n\t(i6400_fpu_div, i6400_fpu_cmp, i6400_fpu_float,\ti6400_fpu_store)\n\t(i6400_fpu_long_pipe, i6400_fpu_logic_l, i6400_fpu_float_l)\n\t(i6400_fpu_mult): New cpu units.\n\t(i6400_msa_add_d, i6400_msa_int_add, i6400_msa_short_logic3)\n\t(i6400_msa_short_logic2, i6400_msa_short_logic, i6400_msa_move)\n\t(i6400_msa_cmp, i6400_msa_short_float2, i6400_msa_div_d)\n\t(i6400_msa_div_w, i6400_msa_div_h, i6400_msa_div_b)\n\t(i6400_msa_copy, i6400_msa_branch, i6400_fpu_msa_store)\n\t(i6400_fpu_msa_load, i6400_fpu_msa_move, i6400_msa_long_logic1)\n\t(i6400_msa_long_logic2, i6400_msa_mult, i6400_msa_long_float2)\n\t(i6400_msa_long_float4, i6400_msa_long_float5)\n\t(i6400_msa_long_float8, i6400_msa_fdiv_df)\n\t(i6400_msa_fdiv_sf): New reservations.\n\t* config/mips/p5600.md (p5600_fpu_intadd, p5600_fpu_cmp)\n\t(p5600_fpu_float, p5600_fpu_logic_a, p5600_fpu_logic_b)\n\t(p5600_fpu_div, p5600_fpu_logic, p5600_fpu_float_a)\n\t(p5600_fpu_float_b, p5600_fpu_float_c, p5600_fpu_float_d)\n\t(p5600_fpu_mult, p5600_fpu_fdiv, p5600_fpu_load): New cpu units.\n\t(msa_short_int_add, msa_short_logic, msa_short_logic_move_v)\n\t(msa_short_cmp, msa_short_float2, msa_short_logic3)\n\t(msa_short_store4, msa_long_load, msa_short_store)\n\t(msa_long_logic, msa_long_float2, msa_long_float4)\n\t(msa_long_float5, msa_long_float8, msa_long_mult)\n\t(msa_long_fdiv, msa_long_div): New reservations.\n\nFrom-SVN: r236031", "tree": {"sha": "5a77e6205ec5fdc89796ee6510275c17c5e7b266", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a77e6205ec5fdc89796ee6510275c17c5e7b266"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/23694dbb2aac1a1af06ea8e38aaba9c83842c079", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23694dbb2aac1a1af06ea8e38aaba9c83842c079", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23694dbb2aac1a1af06ea8e38aaba9c83842c079", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23694dbb2aac1a1af06ea8e38aaba9c83842c079/comments", "author": null, "committer": null, "parents": [{"sha": "6cf538daaead38a5bc09a79bfb26c34c83fec91e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cf538daaead38a5bc09a79bfb26c34c83fec91e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cf538daaead38a5bc09a79bfb26c34c83fec91e"}], "stats": {"total": 324, "additions": 320, "deletions": 4}, "files": [{"sha": "d61ec185b2bc8597ab206c0fb97ac3dfb1f53f72", "filename": "gcc/ChangeLog", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23694dbb2aac1a1af06ea8e38aaba9c83842c079/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23694dbb2aac1a1af06ea8e38aaba9c83842c079/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=23694dbb2aac1a1af06ea8e38aaba9c83842c079", "patch": "@@ -1,3 +1,31 @@\n+2016-05-09  Prachi Godbole  <prachi.godbole@imgtec.com>\n+\n+\t* config/mips/i6400.md (i6400_fpu_intadd, i6400_fpu_logic)\n+\t(i6400_fpu_div, i6400_fpu_cmp, i6400_fpu_float,\ti6400_fpu_store)\n+\t(i6400_fpu_long_pipe, i6400_fpu_logic_l, i6400_fpu_float_l)\n+\t(i6400_fpu_mult): New cpu units.\n+\t(i6400_msa_add_d, i6400_msa_int_add, i6400_msa_short_logic3)\n+\t(i6400_msa_short_logic2, i6400_msa_short_logic, i6400_msa_move)\n+\t(i6400_msa_cmp, i6400_msa_short_float2, i6400_msa_div_d)\n+\t(i6400_msa_div_w, i6400_msa_div_h, i6400_msa_div_b)\n+\t(i6400_msa_copy, i6400_msa_branch, i6400_fpu_msa_store)\n+\t(i6400_fpu_msa_load, i6400_fpu_msa_move, i6400_msa_long_logic1)\n+\t(i6400_msa_long_logic2, i6400_msa_mult, i6400_msa_long_float2)\n+\t(i6400_msa_long_float4, i6400_msa_long_float5)\n+\t(i6400_msa_long_float8, i6400_msa_fdiv_df)\n+\t(i6400_msa_fdiv_sf): New reservations.\n+\t* config/mips/p5600.md (p5600_fpu_intadd, p5600_fpu_cmp)\n+\t(p5600_fpu_float, p5600_fpu_logic_a, p5600_fpu_logic_b)\n+\t(p5600_fpu_div, p5600_fpu_logic, p5600_fpu_float_a)\n+\t(p5600_fpu_float_b, p5600_fpu_float_c, p5600_fpu_float_d)\n+\t(p5600_fpu_mult, p5600_fpu_fdiv, p5600_fpu_load): New cpu units.\n+\t(msa_short_int_add, msa_short_logic, msa_short_logic_move_v)\n+\t(msa_short_cmp, msa_short_float2, msa_short_logic3)\n+\t(msa_short_store4, msa_long_load, msa_short_store)\n+\t(msa_long_logic, msa_long_float2, msa_long_float4)\n+\t(msa_long_float5, msa_long_float8, msa_long_mult)\n+\t(msa_long_fdiv, msa_long_div): New reservations.\n+\n 2016-05-09  Robert Suchanek  <robert.suchanek@imgtec.com>\n \t    Sameera Deshpande  <sameera.deshpande@imgtec.com>\n \t    Matthew Fortune  <matthew.fortune@imgtec.com>"}, {"sha": "99881a79353643cd1710cbb1614f311f76ca5eef", "filename": "gcc/config/mips/i6400.md", "status": "modified", "additions": 175, "deletions": 2, "changes": 177, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23694dbb2aac1a1af06ea8e38aaba9c83842c079/gcc%2Fconfig%2Fmips%2Fi6400.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23694dbb2aac1a1af06ea8e38aaba9c83842c079/gcc%2Fconfig%2Fmips%2Fi6400.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fi6400.md?ref=23694dbb2aac1a1af06ea8e38aaba9c83842c079", "patch": "@@ -26,16 +26,189 @@\n (define_cpu_unit \"i6400_control, i6400_ctu, i6400_alu0\" \"i6400_int_pipe\")\n \n ;; Short FPU pipeline.\n-(define_cpu_unit \"i6400_fpu_short\" \"i6400_fpu_short_pipe\")\n+(define_cpu_unit \"i6400_fpu_short, i6400_fpu_intadd, i6400_fpu_logic,\n+\t\t  i6400_fpu_div, i6400_fpu_cmp, i6400_fpu_float,\n+\t\t  i6400_fpu_store\" \"i6400_fpu_short_pipe\")\n \n ;; Long FPU pipeline.\n-(define_cpu_unit \"i6400_fpu_long, i6400_fpu_apu\" \"i6400_fpu_long_pipe\")\n+(define_cpu_unit \"i6400_fpu_long, i6400_fpu_logic_l, i6400_fpu_float_l,\n+\t\t  i6400_fpu_mult, i6400_fpu_apu\" \"i6400_fpu_long_pipe\")\n \n (define_reservation \"i6400_control_ctu\" \"i6400_control, i6400_ctu\")\n (define_reservation \"i6400_control_alu0\" \"i6400_control, i6400_alu0\")\n (define_reservation \"i6400_agen_lsu\" \"i6400_agen, i6400_lsu\")\n (define_reservation \"i6400_agen_alu1\" \"i6400_agen, i6400_alu1\")\n \n+;;\n+;; FPU-MSA pipe\n+;;\n+\n+;; Short pipe\n+\n+;; addv, subv\n+(define_insn_reservation \"i6400_msa_add_d\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (and (eq_attr \"mode\" \"!V2DI\")\n+\t    (eq_attr \"alu_type\" \"simd_add\")))\n+  \"i6400_fpu_short, i6400_fpu_intadd\")\n+\n+;; add, hadd, sub, hsub, average, min, max, compare\n+(define_insn_reservation \"i6400_msa_int_add\" 2\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_int_arith\"))\n+  \"i6400_fpu_short, i6400_fpu_intadd\")\n+\n+;; sat, pcnt\n+(define_insn_reservation \"i6400_msa_short_logic3\" 3\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_sat,simd_pcnt\"))\n+  \"i6400_fpu_short, i6400_fpu_logic\")\n+\n+;; shifts, nloc, nlzc, bneg, bclr, shf\n+(define_insn_reservation \"i6400_msa_short_logic2\" 2\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_shift,simd_shf,simd_bit\"))\n+  \"i6400_fpu_short, i6400_fpu_logic\")\n+\n+;; and, or, xor, ilv, pck, fill, splat\n+(define_insn_reservation \"i6400_msa_short_logic\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_permute,simd_logic,simd_splat,simd_fill\"))\n+  \"i6400_fpu_short, i6400_fpu_logic\")\n+\n+;; move.v, ldi\n+(define_insn_reservation \"i6400_msa_move\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_move\"))\n+  \"i6400_fpu_short, i6400_fpu_logic\")\n+\n+;; Float compare New: CMP.cond.fmt\n+(define_insn_reservation \"i6400_msa_cmp\" 2\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_fcmp\"))\n+  \"i6400_fpu_short, i6400_fpu_cmp\")\n+\n+;; Float min, max, class\n+(define_insn_reservation \"i6400_msa_short_float2\" 2\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_fminmax,simd_fclass\"))\n+  \"i6400_fpu_short, i6400_fpu_float\")\n+\n+;; div.d, mod.d (non-pipelined)\n+(define_insn_reservation \"i6400_msa_div_d\" 36\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (and (eq_attr \"mode\" \"V2DI\")\n+\t    (eq_attr \"type\" \"simd_div\")))\n+  \"i6400_fpu_short+i6400_fpu_div*36\")\n+\n+;; div.w, mod.w (non-pipelined)\n+(define_insn_reservation \"i6400_msa_div_w\" 20\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (and (eq_attr \"mode\" \"V4SI\")\n+\t    (eq_attr \"type\" \"simd_div\")))\n+  \"i6400_fpu_short+i6400_fpu_div*20\")\n+\n+;; div.h, mod.h (non-pipelined)\n+(define_insn_reservation \"i6400_msa_div_h\" 12\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (and (eq_attr \"mode\" \"V8HI\")\n+\t    (eq_attr \"type\" \"simd_div\")))\n+  \"i6400_fpu_short+i6400_fpu_div*12\")\n+\n+;; div.b, mod.b (non-pipelined)\n+(define_insn_reservation \"i6400_msa_div_b\" 8\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (and (eq_attr \"mode\" \"V16QI\")\n+\t    (eq_attr \"type\" \"simd_div\")))\n+  \"i6400_fpu_short+i6400_fpu_div*8\")\n+\n+;; Vector copy\n+(define_insn_reservation \"i6400_msa_copy\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_copy\"))\n+  \"i6400_fpu_short, i6400_fpu_store\")\n+\n+;; Vector bz, bnz\n+(define_insn_reservation \"i6400_msa_branch\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_branch\"))\n+  \"i6400_control_ctu\")\n+\n+;; Vector store\n+(define_insn_reservation \"i6400_fpu_msa_store\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_store\"))\n+  \"i6400_agen_lsu\")\n+\n+;; Vector load\n+(define_insn_reservation \"i6400_fpu_msa_load\" 3\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_load\"))\n+  \"i6400_agen_lsu\")\n+\n+;; cfcmsa, ctcmsa\n+(define_insn_reservation \"i6400_fpu_msa_move\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_cmsa\"))\n+  \"i6400_control_alu0 | i6400_agen_alu1\")\n+\n+;; Long pipe\n+\n+;; bmz, bmnz, bsel, insert, insve\n+(define_insn_reservation \"i6400_msa_long_logic1\" 1\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_bitmov,simd_insert\"))\n+  \"i6400_fpu_long, i6400_fpu_logic_l\")\n+\n+;; binsl, binsr, vshf, sld\n+(define_insn_reservation \"i6400_msa_long_logic2\" 2\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_bitins,simd_sld\"))\n+  \"i6400_fpu_long, i6400_fpu_logic_l\")\n+\n+;; Vector mul, dotp, madd, msub\n+(define_insn_reservation \"i6400_msa_mult\" 5\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_mul\"))\n+  \"i6400_fpu_long, i6400_fpu_mult\")\n+\n+;; Float flog2\n+(define_insn_reservation \"i6400_msa_long_float2\" 2\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_flog2\"))\n+  \"i6400_fpu_long, i6400_fpu_float_l\")\n+\n+;; fadd, fsub\n+(define_insn_reservation \"i6400_msa_long_float4\" 4\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_fadd,simd_fcvt\"))\n+  \"i6400_fpu_long, i6400_fpu_float_l\")\n+\n+;; fmul, fexp2\n+(define_insn_reservation \"i6400_msa_long_float5\" 5\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_fmul,simd_fexp2\"))\n+  \"i6400_fpu_long, i6400_fpu_float_l\")\n+\n+;; fmadd, fmsub\n+(define_insn_reservation \"i6400_msa_long_float8\" 8\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_fmadd\"))\n+  \"i6400_fpu_long, i6400_fpu_float_l\")\n+\n+;; fdiv.d\n+(define_insn_reservation \"i6400_msa_fdiv_df\" 30\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (and (eq_attr \"mode\" \"V2DF\")\n+\t    (eq_attr \"type\" \"simd_fdiv\")))\n+  \"i6400_fpu_long+i6400_fpu_float_l*30\")\n+\n+;; fdiv.w\n+(define_insn_reservation \"i6400_msa_fdiv_sf\" 22\n+  (and (eq_attr \"cpu\" \"i6400\")\n+       (eq_attr \"type\" \"simd_fdiv\"))\n+  \"i6400_fpu_long+i6400_fpu_float_l*22\")\n+\n ;;\n ;; FPU pipe\n ;;"}, {"sha": "694a745a926b80385661d8601809c8298c65127d", "filename": "gcc/config/mips/p5600.md", "status": "modified", "additions": 117, "deletions": 2, "changes": 119, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23694dbb2aac1a1af06ea8e38aaba9c83842c079/gcc%2Fconfig%2Fmips%2Fp5600.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23694dbb2aac1a1af06ea8e38aaba9c83842c079/gcc%2Fconfig%2Fmips%2Fp5600.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fp5600.md?ref=23694dbb2aac1a1af06ea8e38aaba9c83842c079", "patch": "@@ -31,16 +31,131 @@\n (define_cpu_unit \"p5600_fpu_short, p5600_fpu_long\" \"p5600_fpu_pipe\")\n \n ;; Short FPU pipeline\n-(define_cpu_unit \"p5600_fpu_store\" \"p5600_fpu_pipe\")\n+(define_cpu_unit \"p5600_fpu_intadd, p5600_fpu_cmp, p5600_fpu_float,\n+\t\t  p5600_fpu_logic_a, p5600_fpu_logic_b, p5600_fpu_div,\n+\t\t  p5600_fpu_store\" \"p5600_fpu_pipe\")\n \n ;; Long FPU pipeline\n-(define_cpu_unit \"p5600_fpu_apu\" \"p5600_fpu_pipe\")\n+(define_cpu_unit \"p5600_fpu_logic, p5600_fpu_float_a, p5600_fpu_float_b,\n+\t\t  p5600_fpu_float_c, p5600_fpu_float_d\" \"p5600_fpu_pipe\")\n+(define_cpu_unit \"p5600_fpu_mult, p5600_fpu_fdiv, p5600_fpu_load,\n+\t\t  p5600_fpu_apu\" \"p5600_fpu_pipe\")\n \n (define_reservation \"p5600_agq_al2\" \"p5600_agq, p5600_al2\")\n (define_reservation \"p5600_agq_ctistd\" \"p5600_agq, p5600_ctistd\")\n (define_reservation \"p5600_agq_ldsta\" \"p5600_agq, p5600_ldsta\")\n (define_reservation \"p5600_alq_alu\" \"p5600_alq, p5600_alu\")\n \n+;;\n+;; FPU-MSA pipe\n+;;\n+\n+;; Arithmetic\n+;; add, hadd, sub, hsub, average, min, max, compare\n+(define_insn_reservation \"msa_short_int_add\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_int_arith\"))\n+  \"p5600_fpu_short, p5600_fpu_intadd\")\n+\n+;; Bitwise Instructions\n+;; and, or, xor, bit-clear, leading-bits-count, shift, shuffle\n+(define_insn_reservation \"msa_short_logic\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_shift,simd_bit,simd_splat,simd_fill,simd_shf,\n+\t\t\tsimd_permute,simd_logic\"))\n+  \"p5600_fpu_short, p5600_fpu_logic_a\")\n+\n+;; move.v\n+(define_insn_reservation \"msa_short_logic_move_v\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_move\"))\n+  \"p5600_fpu_short, p5600_fpu_logic_a\")\n+\n+;; Float compare\n+(define_insn_reservation \"msa_short_cmp\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fcmp\"))\n+  \"p5600_fpu_short, p5600_fpu_cmp\")\n+\n+;; Float exp2, min, max\n+(define_insn_reservation \"msa_short_float2\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fexp2,simd_fminmax\"))\n+  \"p5600_fpu_short, p5600_fpu_float\")\n+\n+;; Vector sat\n+(define_insn_reservation \"msa_short_logic3\" 3\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_sat,simd_pcnt\"))\n+  \"p5600_fpu_short, p5600_fpu_logic_a, p5600_fpu_logic_b\")\n+\n+;; Vector copy, bz, bnz\n+(define_insn_reservation \"msa_short_store4\" 4\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_copy,simd_branch,simd_cmsa\"))\n+  \"p5600_fpu_short, p5600_fpu_store\")\n+\n+;; Vector load\n+(define_insn_reservation \"msa_long_load\" 10\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_load\"))\n+  \"p5600_fpu_long, p5600_fpu_load\")\n+\n+;; Vector store\n+(define_insn_reservation \"msa_short_store\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_store\"))\n+  \"p5600_fpu_short, p5600_fpu_store\")\n+\n+;; binsl, binsr, insert, vshf, sld\n+(define_insn_reservation \"msa_long_logic\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_bitins,simd_bitmov,simd_insert,simd_sld\"))\n+  \"p5600_fpu_long, p5600_fpu_logic\")\n+\n+;; Float fclass, flog2\n+(define_insn_reservation \"msa_long_float2\" 2\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fclass,simd_flog2\"))\n+  \"p5600_fpu_long, p5600_fpu_float_a\")\n+\n+;; fadd, fsub\n+(define_insn_reservation \"msa_long_float4\" 4\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fadd,simd_fcvt\"))\n+  \"p5600_fpu_long, p5600_fpu_float_a, p5600_fpu_float_b\")\n+\n+;; fmul\n+(define_insn_reservation \"msa_long_float5\" 5\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fmul\"))\n+  \"p5600_fpu_long, p5600_fpu_float_a, p5600_fpu_float_b, p5600_fpu_float_c\")\n+\n+;; fmadd, fmsub\n+(define_insn_reservation \"msa_long_float8\" 8\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fmadd\"))\n+  \"p5600_fpu_long, p5600_fpu_float_a,\n+   p5600_fpu_float_b, p5600_fpu_float_c, p5600_fpu_float_d\")\n+\n+;; Vector mul, dotp, madd, msub\n+(define_insn_reservation \"msa_long_mult\" 5\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_mul\"))\n+  \"p5600_fpu_long, p5600_fpu_mult\")\n+\n+;; fdiv, fmod (semi-pipelined)\n+(define_insn_reservation \"msa_long_fdiv\" 10\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_fdiv\"))\n+  \"p5600_fpu_long, nothing, nothing, p5600_fpu_fdiv*8\")\n+\n+;; div, mod (non-pipelined)\n+(define_insn_reservation \"msa_long_div\" 10\n+  (and (eq_attr \"cpu\" \"p5600\")\n+       (eq_attr \"type\" \"simd_div\"))\n+  \"p5600_fpu_long, p5600_fpu_div*9, p5600_fpu_div + p5600_fpu_logic_a\")\n+\n ;;\n ;; FPU pipe\n ;;"}]}