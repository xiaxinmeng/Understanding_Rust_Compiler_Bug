{"sha": "fba78abb53543eacccb19dd42429dcd889fe21a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmJhNzhhYmI1MzU0M2VhY2NjYjE5ZGQ0MjQyOWRjZDg4OWZlMjFhOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-02-11T02:28:00Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-11T02:28:00Z"}, "message": "re PR c/5623 (GCC 3.0.3 crashes when assigning pointer to an array of undefined size which is member of a struct)\n\n        PR c/5623\n        * c-typeck.c (incomplete_type_error): Handle flexible array members.\n\nFrom-SVN: r49663", "tree": {"sha": "92686c90ff478918b9e03bda1766159ef23938a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92686c90ff478918b9e03bda1766159ef23938a5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fba78abb53543eacccb19dd42429dcd889fe21a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fba78abb53543eacccb19dd42429dcd889fe21a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fba78abb53543eacccb19dd42429dcd889fe21a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fba78abb53543eacccb19dd42429dcd889fe21a9/comments", "author": null, "committer": null, "parents": [{"sha": "65739e62e4c32be813d518e943249b2c9a3512e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65739e62e4c32be813d518e943249b2c9a3512e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65739e62e4c32be813d518e943249b2c9a3512e3"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "790bc10edb23951d5731f0e80a2b1f70b964aa4c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba78abb53543eacccb19dd42429dcd889fe21a9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba78abb53543eacccb19dd42429dcd889fe21a9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fba78abb53543eacccb19dd42429dcd889fe21a9", "patch": "@@ -1,3 +1,8 @@\n+2002-02-10  Richard Henderson  <rth@redhat.com>\n+\n+\tPR c/5623\n+\t* c-typeck.c (incomplete_type_error): Handle flexible array members.\n+\n 2002-02-10  Richard Henderson  <rth@redhat.com>\n \n \tPR c++/5624"}, {"sha": "5d5b5f97870c080d8f3dc5f2a0315f5d4151beba", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba78abb53543eacccb19dd42429dcd889fe21a9/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba78abb53543eacccb19dd42429dcd889fe21a9/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=fba78abb53543eacccb19dd42429dcd889fe21a9", "patch": "@@ -149,6 +149,11 @@ incomplete_type_error (value, type)\n \tcase ARRAY_TYPE:\n \t  if (TYPE_DOMAIN (type))\n \t    {\n+\t      if (TYPE_MAX_VALUE (TYPE_DOMAIN (type)) == NULL)\n+\t\t{\n+\t\t  error (\"invalid use of flexible array member\");\n+\t\t  return;\n+\t\t}\n \t      type = TREE_TYPE (type);\n \t      goto retry;\n \t    }"}]}