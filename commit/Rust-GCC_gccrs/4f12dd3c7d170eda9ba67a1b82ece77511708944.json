{"sha": "4f12dd3c7d170eda9ba67a1b82ece77511708944", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYxMmRkM2M3ZDE3MGVkYTliYTY3YTFiODJlY2U3NzUxMTcwODk0NA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-11-16T01:03:20Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-11-16T01:03:20Z"}, "message": "mkcheckin.in: Move check for bash version 2 later in the file.\n\n\t* mkcheckin.in: Move check for bash version 2 later in the file.\n\n\t* include/bits/basic_string.h (basic_string::_Rep::_S_max_size):\n\tMake it const.\n\t(basic_string::_Rep::_S_terminal): Likewise.\n\t* include/bits/string.tcc (basic_string::_Rep::_S_max_size):\n\tLikewise.\n\t(basic_string::_Rep::_S_terminal): Likewise.\n\nFrom-SVN: r37490", "tree": {"sha": "8bf2e6ad149a58f65aa22945786c62f4e8a30c65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bf2e6ad149a58f65aa22945786c62f4e8a30c65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f12dd3c7d170eda9ba67a1b82ece77511708944", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f12dd3c7d170eda9ba67a1b82ece77511708944", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f12dd3c7d170eda9ba67a1b82ece77511708944", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f12dd3c7d170eda9ba67a1b82ece77511708944/comments", "author": null, "committer": null, "parents": [{"sha": "9e038f71b0fd46517c31a72a82cf483b16990ba2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e038f71b0fd46517c31a72a82cf483b16990ba2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e038f71b0fd46517c31a72a82cf483b16990ba2"}], "stats": {"total": 36, "additions": 23, "deletions": 13}, "files": [{"sha": "1de4d6783518d16a01ca2c6ffc6d48d94cbb7afd", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=4f12dd3c7d170eda9ba67a1b82ece77511708944", "patch": "@@ -1,3 +1,14 @@\n+2000-11-15  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* mkcheckin.in: Move check for bash version 2 later in the file.\n+\n+\t* include/bits/basic_string.h (basic_string::_Rep::_S_max_size):\n+\tMake it const.\n+\t(basic_string::_Rep::_S_terminal): Likewise.\n+\t* include/bits/string.tcc (basic_string::_Rep::_S_max_size):\n+\tLikewise.\n+\t(basic_string::_Rep::_S_terminal): Likewise.\n+\t\n 2000-11-15  David Billinghurst  <David.Billinghurst@riotinto.com>\n \n \t* mkcheck.in:  Add function size_command() for irix."}, {"sha": "6f3b3726c03695fe4af78190163215bca3df6009", "filename": "libstdc++-v3/include/bits/basic_string.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fbasic_string.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fbasic_string.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fbasic_string.h?ref=4f12dd3c7d170eda9ba67a1b82ece77511708944", "patch": "@@ -131,8 +131,8 @@ namespace std {\n \t// Solving for m:\n \t// m = ((npos - sizeof(_Rep))/sizeof(CharT)) - 1 \n \t// In addition, this implementation quarters this ammount.\n-\tstatic size_type \t_S_max_size;\n-\tstatic _CharT \t\t_S_terminal;\n+\tstatic const size_type \t_S_max_size;\n+\tstatic const _CharT \t_S_terminal;\n \n \tsize_type \t\t_M_length;\n \tsize_type \t\t_M_capacity;"}, {"sha": "386108d840575e4f49ad661ade34df9a7872e9f1", "filename": "libstdc++-v3/include/bits/string.tcc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstring.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstring.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstring.tcc?ref=4f12dd3c7d170eda9ba67a1b82ece77511708944", "patch": "@@ -44,23 +44,23 @@ namespace std\n {\n \n   template<typename _CharT, typename _Traits, typename _Alloc>\n-    _CharT \n+    const _CharT \n     basic_string<_CharT, _Traits, _Alloc>::\n     _Rep::_S_terminal = _CharT();\n \n   template<typename _CharT, typename _Traits, typename _Alloc>\n-    typename basic_string<_CharT, _Traits, _Alloc>::size_type \n+    const typename basic_string<_CharT, _Traits, _Alloc>::size_type \n     basic_string<_CharT, _Traits, _Alloc>::\n     _Rep::_S_max_size = (((npos - sizeof(_Rep))/sizeof(_CharT)) - 1) / 4;\n \n   template<typename _CharT, typename _Traits, typename _Alloc>\n-    const basic_string<_CharT, _Traits, _Alloc>::size_type\n+    const typename basic_string<_CharT, _Traits, _Alloc>::size_type\n     basic_string<_CharT, _Traits, _Alloc>::npos;\n \n   // Linker sets _S_empty_rep_storage to all 0s (one reference, empty string)\n   // at static init time (before static ctors are run).\n   template<typename _CharT, typename _Traits, typename _Alloc>\n-    basic_string<_CharT, _Traits, _Alloc>::size_type\n+    typename basic_string<_CharT, _Traits, _Alloc>::size_type\n     basic_string<_CharT, _Traits, _Alloc>::_S_empty_rep_storage[\n     (sizeof(_Rep) + sizeof(_CharT) + sizeof(size_type) - 1)/sizeof(size_type)];\n "}, {"sha": "9d676e8c85c514b073de79e25c3a8eba8e890f05", "filename": "libstdc++-v3/mkcheck.in", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2Fmkcheck.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f12dd3c7d170eda9ba67a1b82ece77511708944/libstdc%2B%2B-v3%2Fmkcheck.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmkcheck.in?ref=4f12dd3c7d170eda9ba67a1b82ece77511708944", "patch": "@@ -19,13 +19,6 @@\n ### XXX Note that breaking out of this with ^C will not work.  Dunno why.\n \n \n-# This has been true all along.  Found out about it the hard way...\n-case $BASH_VERSION in\n-    1*)  echo 'You need bash 2.x to run mkcheck.  Exiting.'; exit 1 ;;\n-    *)   ;;   # ??\n-esac\n-\n-\n #\n # 1: variables\n #\n@@ -91,6 +84,12 @@ if [ $WHICH -eq 2 ]; then\n   exit 0;\n fi\n \n+# This has been true all along.  Found out about it the hard way...\n+case $BASH_VERSION in\n+    1*)  echo 'You need bash 2.x to run mkcheck.  Exiting.'; exit 1 ;;\n+    *)   ;;   # ??\n+esac\n+\n # It's not dejagnu; we need to do things ourselves.  Pick up any extra\n # settings for this target.\n . ${top_srcdir}/configure.target"}]}