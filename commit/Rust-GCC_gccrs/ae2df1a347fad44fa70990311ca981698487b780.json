{"sha": "ae2df1a347fad44fa70990311ca981698487b780", "node_id": "C_kwDOANBUbNoAKGFlMmRmMWEzNDdmYWQ0NGZhNzA5OTAzMTFjYTk4MTY5ODQ4N2I3ODA", "commit": {"author": {"name": "Indu Bhagat", "email": "indu.bhagat@oracle.com", "date": "2021-10-07T19:09:14Z"}, "committer": {"name": "Indu Bhagat", "email": "indu.bhagat@oracle.com", "date": "2021-10-07T19:09:14Z"}, "message": "ctf: Do not warn for CTF not supported for GNU GIMPLE\n\nCTF is supported for C only.  Currently, a warning is emitted if the -gctf\ncommand line option is specified for a non-C frontend.  This warning is also\nused by the GCC testsuite framework - it skips adding -gctf to the list of\ndebug flags for automated testing, if CTF is not supported for the frontend.\n\nThe following warning, however, is not useful in case of LTO:\n\n\"lto1: note: CTF debug info requested, but not supported for \u2018GNU GIMPLE\u2019\nfrontend\"\n\nThis patch disables the generation of the above warning for GNU GIMPLE.\n\ngcc/ChangeLog:\n\n\t* toplev.c (process_options): Do not warn for GNU GIMPLE.", "tree": {"sha": "9fa4da81a9e6b9bd5295908f96c57a35146c149c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9fa4da81a9e6b9bd5295908f96c57a35146c149c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae2df1a347fad44fa70990311ca981698487b780", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae2df1a347fad44fa70990311ca981698487b780", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae2df1a347fad44fa70990311ca981698487b780", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae2df1a347fad44fa70990311ca981698487b780/comments", "author": {"login": "ibhagatgnu", "id": 51812649, "node_id": "MDQ6VXNlcjUxODEyNjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/51812649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibhagatgnu", "html_url": "https://github.com/ibhagatgnu", "followers_url": "https://api.github.com/users/ibhagatgnu/followers", "following_url": "https://api.github.com/users/ibhagatgnu/following{/other_user}", "gists_url": "https://api.github.com/users/ibhagatgnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibhagatgnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibhagatgnu/subscriptions", "organizations_url": "https://api.github.com/users/ibhagatgnu/orgs", "repos_url": "https://api.github.com/users/ibhagatgnu/repos", "events_url": "https://api.github.com/users/ibhagatgnu/events{/privacy}", "received_events_url": "https://api.github.com/users/ibhagatgnu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibhagatgnu", "id": 51812649, "node_id": "MDQ6VXNlcjUxODEyNjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/51812649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibhagatgnu", "html_url": "https://github.com/ibhagatgnu", "followers_url": "https://api.github.com/users/ibhagatgnu/followers", "following_url": "https://api.github.com/users/ibhagatgnu/following{/other_user}", "gists_url": "https://api.github.com/users/ibhagatgnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibhagatgnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibhagatgnu/subscriptions", "organizations_url": "https://api.github.com/users/ibhagatgnu/orgs", "repos_url": "https://api.github.com/users/ibhagatgnu/repos", "events_url": "https://api.github.com/users/ibhagatgnu/events{/privacy}", "received_events_url": "https://api.github.com/users/ibhagatgnu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e90799071ee78f712f3b58fca7000bc0a258ade", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e90799071ee78f712f3b58fca7000bc0a258ade", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e90799071ee78f712f3b58fca7000bc0a258ade"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "1bb1794be964df8468c9993d8d59ab85b27d3bf0", "filename": "gcc/toplev.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae2df1a347fad44fa70990311ca981698487b780/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae2df1a347fad44fa70990311ca981698487b780/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=ae2df1a347fad44fa70990311ca981698487b780", "patch": "@@ -1408,14 +1408,16 @@ process_options (bool no_backend)\n \tdebug_info_level = DINFO_LEVEL_NONE;\n     }\n \n-  /* CTF is supported for only C at this time.\n-     Compiling with -flto results in frontend language of GNU GIMPLE.  */\n+  /* CTF is supported for only C at this time.  */\n   if (!lang_GNU_C ()\n       && ctf_debug_info_level > CTFINFO_LEVEL_NONE)\n     {\n-      inform (UNKNOWN_LOCATION,\n-\t      \"CTF debug info requested, but not supported for %qs frontend\",\n-\t      language_string);\n+      /* Compiling with -flto results in frontend language of GNU GIMPLE.  It\n+\t is not useful to warn in that case.  */\n+      if (!startswith (lang_hooks.name, \"GNU GIMPLE\"))\n+\tinform (UNKNOWN_LOCATION,\n+\t\t\"CTF debug info requested, but not supported for %qs frontend\",\n+\t\tlanguage_string);\n       ctf_debug_info_level = CTFINFO_LEVEL_NONE;\n     }\n "}]}