{"sha": "6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmY3MWUzNTVlYmNjNWU2ZTM0NzQzNjllYTVkZDM2MWQzZWU1ODc1ZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-03-06T17:49:33Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-03-06T17:49:33Z"}, "message": "trans.c (Raise_Error_to_gnu): Record the unpadded type of the index type on the RCI stack.\n\n\t* gcc-interface/trans.c (Raise_Error_to_gnu) <CE_Index_Check_Failed>:\n\tRecord the unpadded type of the index type on the RCI stack.\n\nFrom-SVN: r196504", "tree": {"sha": "0f2a9d82dd42be855058f014eabbfb2d6e52dc8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f2a9d82dd42be855058f014eabbfb2d6e52dc8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/comments", "author": null, "committer": null, "parents": [{"sha": "b6ea6dbdc0482fe3a27f4c02e045945c6f02559f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6ea6dbdc0482fe3a27f4c02e045945c6f02559f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6ea6dbdc0482fe3a27f4c02e045945c6f02559f"}], "stats": {"total": 40, "additions": 39, "deletions": 1}, "files": [{"sha": "9c6df965b6e10ed1240828dcb5e0d310f5d04cf6", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "patch": "@@ -1,3 +1,8 @@\n+2013-06-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/trans.c (Raise_Error_to_gnu) <CE_Index_Check_Failed>:\n+\tRecord the unpadded type of the index type on the RCI stack.\n+\n 2013-03-06  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (emit_range_check): Assert that the range type"}, {"sha": "8cdc632cca54573f5ace71018059f065112fd80f", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "patch": "@@ -4944,7 +4944,7 @@ Raise_Error_to_gnu (Node_Id gnat_node, tree *gnu_result_type_p)\n \t    {\n \t      rci->low_bound = gnu_low_bound;\n \t      rci->high_bound = gnu_high_bound;\n-\t      rci->type = gnat_to_gnu_type (gnat_type);\n+\t      rci->type = get_unpadded_type (gnat_type);\n \t      rci->invariant_cond = build1 (SAVE_EXPR, boolean_type_node,\n \t\t\t\t\t    boolean_true_node);\n \t      gnu_cond = build_binary_op (TRUTH_ANDIF_EXPR,"}, {"sha": "393e5a4190bc412bdd2043adcc5447bb41065f30", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "patch": "@@ -1,3 +1,7 @@\n+2013-06-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/loop_optimization15.ad[sb]: New test.\n+\n 2013-03-06  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/56548"}, {"sha": "ff53575ef9b7664fa708521eee0dfb42d0a227aa", "filename": "gcc/testsuite/gnat.dg/loop_optimization15.adb", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization15.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization15.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization15.adb?ref=6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "patch": "@@ -0,0 +1,20 @@\n+-- { dg-do compile }\r\n+-- { dg-options \"-O3\" }\r\n+\r\n+package body Loop_Optimization15 is\r\n+\r\n+  type Integer_Array_T is array (B16_T range <>) of Integer;\r\n+\r\n+  Len : constant B16_T := 10;\r\n+\r\n+  Src : constant Integer_Array_T (1 .. Len) := (others => 0);\r\n+  Dst : Integer_Array_T (1 .. Len);\r\n+\r\n+  procedure Proc (L : B16_T) is\r\n+  begin\r\n+      for I in  1 .. B16_T'Min (L, Len) loop\r\n+          Dst (I) := Src (I);\r\n+      end loop;\r\n+  end;\r\n+\r\n+end Loop_Optimization15;\r"}, {"sha": "d7d04e4d353516871091f8d8da09568e975c958d", "filename": "gcc/testsuite/gnat.dg/loop_optimization15.ads", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization15.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f71e355ebcc5e6e3474369ea5dd361d3ee5875d/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization15.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization15.ads?ref=6f71e355ebcc5e6e3474369ea5dd361d3ee5875d", "patch": "@@ -0,0 +1,9 @@\n+package Loop_Optimization15 is\r\n+\r\n+  type B16_T is mod 2 ** 16;\r\n+  for B16_T'Size use 16;\r\n+  for B16_T'Alignment use 1;\r\n+\r\n+  procedure Proc (L : B16_T);\r\n+\r\n+end Loop_Optimization15;\r"}]}