{"sha": "191bf464071d7cd21095b9f1d119c05fd8306493", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkxYmY0NjQwNzFkN2NkMjEwOTViOWYxZDExOWMwNWZkODMwNjQ5Mw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2001-10-19T15:17:39Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-10-19T15:17:39Z"}, "message": "aclocal.m4 (AM_WITH_NLS): AC_DEFINE HAVE_LIBINTL_H and USE_INCLUDED_LIBINTL when appropriate.\n\n\t* aclocal.m4 (AM_WITH_NLS): AC_DEFINE HAVE_LIBINTL_H and\n\tUSE_INCLUDED_LIBINTL when appropriate.\n\t* configure, config.in: Regenerate.\n\t* Makefile.in (datadir): Set to @datadir@.\n\t(intl.o): Also depend on $(CONFIG_H) and system.h.\n\n\t* intl.c: Factor out common gettext initialization sequence.\n\t(gcc_init_libintl):  New function.\n\t* intl.h: Include intl/libgnuintl.h if USE_INCLUDED_LIBINTL;\n\totherwise include libintl.h if HAVE_LIBINTL_H; otherwise turn\n\toff NLS.  Add multiple include guard.  No need to #ifdef-guard\n\tan #undef.  Prototype gcc_init_libintl here.\n\n\t* collect2.c (main), cppmain.c (general_init), gcc.c (main),\n\tgcov.c (main), protoize.c (main), toplev.c (toplev_main):\n\tUse gcc_init_libintl.\n\nintl:\n\t* Makefile.in: Don't copy libgnuintl.h anywhere.\n\nFrom-SVN: r46348", "tree": {"sha": "081319da8a2e78a4efbfcb39e1acf6aca8752c83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/081319da8a2e78a4efbfcb39e1acf6aca8752c83"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/191bf464071d7cd21095b9f1d119c05fd8306493", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/191bf464071d7cd21095b9f1d119c05fd8306493", "html_url": "https://github.com/Rust-GCC/gccrs/commit/191bf464071d7cd21095b9f1d119c05fd8306493", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/191bf464071d7cd21095b9f1d119c05fd8306493/comments", "author": null, "committer": null, "parents": [{"sha": "7c87e9f9216fd7959a5365ae62f9173ce524d21b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c87e9f9216fd7959a5365ae62f9173ce524d21b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c87e9f9216fd7959a5365ae62f9173ce524d21b"}], "stats": {"total": 313, "additions": 173, "deletions": 140}, "files": [{"sha": "00440f601b39368614edfe176e7be565b6f5d9b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -1,3 +1,22 @@\n+2001-10-19  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* aclocal.m4 (AM_WITH_NLS): AC_DEFINE HAVE_LIBINTL_H and\n+\tUSE_INCLUDED_LIBINTL when appropriate.\n+\t* configure, config.in: Regenerate.\n+\t* Makefile.in (datadir): Set to @datadir@.\n+\t(intl.o): Also depend on $(CONFIG_H) and system.h.\n+\n+\t* intl.c: Factor out common gettext initialization sequence.\n+\t(gcc_init_libintl):  New function.\n+\t* intl.h: Include intl/libgnuintl.h if USE_INCLUDED_LIBINTL;\n+\totherwise include libintl.h if HAVE_LIBINTL_H; otherwise turn\n+\toff NLS.  Add multiple include guard.  No need to #ifdef-guard\n+\tan #undef.  Prototype gcc_init_libintl here.\n+\n+\t* collect2.c (main), cppmain.c (general_init), gcc.c (main),\n+\tgcov.c (main), protoize.c (main), toplev.c (toplev_main):\n+\tUse gcc_init_libintl.\n+\n 2001-10-19  Catherine Moore  <clm@redhat.com>\n \n         * config/stormy16/stormy16.h (ASM_COMMENT_START): Define."}, {"sha": "b1bf1c3627e5fdc0ba4e0bad8a755f7320ad525e", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -313,7 +313,7 @@ infodir = @infodir@\n # Where cpp should go besides $prefix/bin if necessary\n cpp_install_dir = @cpp_install_dir@\n # where the locale files go\n-datadir = $(prefix)/@DATADIRNAME@\n+datadir = @datadir@\n localedir = $(datadir)/locale\n # Extension (if any) to put in installed man-page filename.\n manext = .1\n@@ -1962,8 +1962,7 @@ $(HOST_PREFIX_1)ggc-none.o: ggc-none.c $(HCONFIG_H) $(SYSTEM_H)\n \n #\f\n # Remake internationalization support.\n-\n-intl.o: intl.c intl.h Makefile\n+intl.o: intl.c $(CONFIG_H) system.h intl.h Makefile\n \t$(CC) $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t  -DLOCALEDIR=\\\"$(localedir)\\\" \\\n \t  -c $(srcdir)/intl.c"}, {"sha": "1b4c5ad4d009aca698a033ce323f73bd3d575306", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -1406,8 +1406,11 @@ AC_DEFUN([AM_WITH_NLS],\n         define(gt_cv_func_gnugettext_libc, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libc])\n         define(gt_cv_func_gnugettext_libintl, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libintl])\n \n+dnl GCC LOCAL: Expose presence of libintl.h to C code.\n \tAC_CHECK_HEADER(libintl.h,\n-\t  [AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,\n+\t  [AC_DEFINE([HAVE_LIBINTL_H], 1,\n+\t\t[Define if you have the <libintl.h> header file.])\n+           AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,\n \t    [AC_TRY_LINK([#include <libintl.h>\n extern int _nl_msg_cat_cntr;],\n \t       [bindtextdomain (\"\", \"\");\n@@ -1605,6 +1608,12 @@ changequote([,])dnl\n     AC_SUBST(INTLOBJS)\n     AC_SUBST(POFILES)\n     AC_SUBST(POSUB)\n+dnl GCC LOCAL: Make USE_INCLUDED_LIBINTL visible to C code.\n+    if test $USE_INCLUDED_LIBINTL = yes; then\n+      AC_DEFINE([USE_INCLUDED_LIBINTL], 1,\n+  [Define to use the libintl included with this package instead of any\n+   version in the system libraries.])\n+    fi\n \n     dnl For backward compatibility. Some configure.ins may be using this.\n     nls_cv_header_intl="}, {"sha": "c850608fe6354e419ba9b00ba4b11a03882a37be", "filename": "gcc/collect2.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -873,18 +873,7 @@ main (argc, argv)\n   signal (SIGCHLD, SIG_DFL);\n #endif\n \n-/* LC_CTYPE determines the character set used by the terminal so it has be set\n-   to output messages correctly.  */\n-\n-#ifdef HAVE_LC_MESSAGES\n-  setlocale (LC_CTYPE, \"\");\n-  setlocale (LC_MESSAGES, \"\");\n-#else\n-  setlocale (LC_ALL, \"\");\n-#endif\n-\n-  (void) bindtextdomain (PACKAGE, localedir);\n-  (void) textdomain (PACKAGE);\n+  gcc_init_libintl ();\n \n   /* Do not invoke xcalloc before this point, since locale needs to be\n      set first, in case a diagnostic is issued.  */"}, {"sha": "5f390986be2fec7327b064ff0cfedf572258a6e5", "filename": "gcc/config.in", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -1,4 +1,4 @@\n-/* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define if using alloca.c.  */\n #undef C_ALLOCA\n@@ -511,9 +511,16 @@\n    is requested. */\n #undef ENABLE_NLS\n \n+/* Define if you have the <libintl.h> header file. */\n+#undef HAVE_LIBINTL_H\n+\n /* Define if the GNU gettext() function is already present or preinstalled. */\n #undef HAVE_GETTEXT\n \n+/* Define to use the libintl included with this package instead of any\n+   version in the system libraries. */\n+#undef USE_INCLUDED_LIBINTL\n+\n /* Define to 1 if installation paths should be looked up in Windows32\n    Registry. Ignored on non windows32 hosts. */\n #undef ENABLE_WIN32_REGISTRY"}, {"sha": "7ff635d6dadda4c689dbad2eb4712ac21a37526e", "filename": "gcc/configure", "status": "modified", "additions": 54, "deletions": 44, "changes": 98, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -2057,7 +2057,7 @@ EOF\n fi\n \n # Find some useful tools\n-for ac_prog in gawk mawk nawk awk\n+for ac_prog in mawk gawk nawk awk\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n@@ -6132,13 +6132,17 @@ rm -f conftest*\n fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6137: checking for GNU gettext in libc\" >&5\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_LIBINTL_H 1\n+EOF\n+\n+           echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n+echo \"configure:6141: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6142 \"configure\"\n+#line 6146 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6147,7 +6151,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6151: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6155: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6163,14 +6167,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6167: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6171: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6174 \"configure\"\n+#line 6178 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6179,7 +6183,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6183: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6187: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6212,12 +6216,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6216: checking for $ac_func\" >&5\n+echo \"configure:6220: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6221 \"configure\"\n+#line 6225 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6240,7 +6244,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6244: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6248: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6269,7 +6273,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6273: checking for $ac_word\" >&5\n+echo \"configure:6277: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6303,7 +6307,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6307: checking for $ac_word\" >&5\n+echo \"configure:6311: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6340,7 +6344,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6344: checking for $ac_word\" >&5\n+echo \"configure:6348: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6390,7 +6394,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6394: checking for $ac_word\" >&5\n+echo \"configure:6398: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6424,7 +6428,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6428: checking for $ac_word\" >&5\n+echo \"configure:6432: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6460,7 +6464,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6464: checking for $ac_word\" >&5\n+echo \"configure:6468: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6531,7 +6535,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6535: checking for $ac_word\" >&5\n+echo \"configure:6539: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6564,7 +6568,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:6568: checking version of bison\" >&5\n+echo \"configure:6572: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -6592,6 +6596,12 @@ echo \"configure:6568: checking version of bison\" >&5\n     \n     \n     \n+    if test $USE_INCLUDED_LIBINTL = yes; then\n+      cat >> confdefs.h <<\\EOF\n+#define USE_INCLUDED_LIBINTL 1\n+EOF\n+\n+    fi\n \n         nls_cv_header_intl=\n     nls_cv_header_libgt=\n@@ -6611,7 +6621,7 @@ echo \"configure:6568: checking version of bison\" >&5\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:6615: checking for catalogs to be installed\" >&5\n+echo \"configure:6625: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for presentlang in $ALL_LINGUAS; do\n          useit=no\n@@ -6662,7 +6672,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6666: checking whether windows registry support is requested\" >&5\n+echo \"configure:6676: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -6671,14 +6681,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:6675: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:6685: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 6682 \"configure\"\n+#line 6692 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6689,7 +6699,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:6693: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6703: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -6700,7 +6710,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6704 \"configure\"\n+#line 6714 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6711,7 +6721,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:6715: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6725: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -6753,7 +6763,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:6757: checking registry key on windows hosts\" >&5\n+echo \"configure:6767: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -6936,7 +6946,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6940: checking what assembler to use\" >&5\n+echo \"configure:6950: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -7022,7 +7032,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7026: checking what nm to use\" >&5\n+echo \"configure:7036: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -7033,7 +7043,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7037: checking assembler alignment features\" >&5\n+echo \"configure:7047: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -7081,7 +7091,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7085: checking assembler subsection support\" >&5\n+echo \"configure:7095: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7121,7 +7131,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7125: checking assembler weak support\" >&5\n+echo \"configure:7135: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7144,7 +7154,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7148: checking assembler hidden support\" >&5\n+echo \"configure:7158: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7168,7 +7178,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7172: checking assembler leb128 support\" >&5\n+echo \"configure:7182: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7213,7 +7223,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:7217: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7227: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7294,7 +7304,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:7298: checking assembler section merging support\" >&5\n+echo \"configure:7308: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7319,7 +7329,7 @@ echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:7323: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:7333: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7347,7 +7357,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:7351: checking assembler supports -relax\" >&5\n+echo \"configure:7361: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7377,7 +7387,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:7381: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:7391: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7422,7 +7432,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:7426: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:7436: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7462,7 +7472,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:7466: checking assembler instructions\" >&5\n+echo \"configure:7476: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7489,7 +7499,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:7493: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:7503: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x\n     then\n@@ -7519,7 +7529,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7523: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:7533: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -7711,7 +7721,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7715: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7725: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "246c1522ab25219e16389d22b35008a81e6d868f", "filename": "gcc/cppmain.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fcppmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fcppmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppmain.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -100,18 +100,7 @@ general_init (argv0)\n \n   xmalloc_set_program_name (progname);\n \n-/* LC_CTYPE determines the character set used by the terminal so it\n-   has to be set to output messages correctly.  */\n-\n-#ifdef HAVE_LC_MESSAGES\n-  setlocale (LC_CTYPE, \"\");\n-  setlocale (LC_MESSAGES, \"\");\n-#else\n-  setlocale (LC_ALL, \"\");\n-#endif\n-\n-  (void) bindtextdomain (PACKAGE, localedir);\n-  (void) textdomain (PACKAGE);\n+  gcc_init_libintl ();\n }\n \n /* Handle switches, preprocess and output.  */"}, {"sha": "df036e9c7e963cf138c293f7cf02c7c1f90bbf9f", "filename": "gcc/gcc.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -5559,18 +5559,7 @@ main (argc, argv)\n   GCC_DRIVER_HOST_INITIALIZATION;\n #endif\n \n-/* LC_CTYPE determines the character set used by the terminal so it has be set\n-   to output messages correctly.  */\n-\n-#ifdef HAVE_LC_MESSAGES\n-  setlocale (LC_CTYPE, \"\");\n-  setlocale (LC_MESSAGES, \"\");\n-#else\n-  setlocale (LC_ALL, \"\");\n-#endif\n-\n-  (void) bindtextdomain (PACKAGE, localedir);\n-  (void) textdomain (PACKAGE);\n+  gcc_init_libintl ();\n \n   if (signal (SIGINT, SIG_IGN) != SIG_IGN)\n     signal (SIGINT, fatal_error);"}, {"sha": "7386b01ec29e742727e084439be92f2686aee8ee", "filename": "gcc/gcov.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fgcov.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fgcov.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -243,18 +243,7 @@ main (argc, argv)\n      int argc;\n      char **argv;\n {\n-/* LC_CTYPE determines the character set used by the terminal so it has be set\n-   to output messages correctly.  */\n-\n-#ifdef HAVE_LC_MESSAGES\n-  setlocale (LC_CTYPE, \"\");\n-  setlocale (LC_MESSAGES, \"\");\n-#else\n-  setlocale (LC_ALL, \"\");\n-#endif\n-\n-  (void) bindtextdomain (PACKAGE, localedir);\n-  (void) textdomain (PACKAGE);\n+  gcc_init_libintl ();\n \n   process_args (argc, argv);\n "}, {"sha": "feefc3e5f630b741a57e9279463dffba92791ab1", "filename": "gcc/intl.c", "status": "modified", "additions": 43, "deletions": 3, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -1,6 +1,46 @@\n-/* intl.c - internationalization */\n+/* Message translation utilities.\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n \n-#include \"ansidecl.h\"\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 2, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to the Free\n+Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n+02111-1307, USA.  */\n+\n+#include \"config.h\"\n+#include \"system.h\"\n #include \"intl.h\"\n \n-const char localedir[] = LOCALEDIR;\n+#ifdef ENABLE_NLS\n+\n+/* Initialize the translation library for GCC.  This performs the\n+   appropriate sequence of calls - setlocale, bindtextdomain,\n+   textdomain.  LC_CTYPE determines the character set used by the\n+   terminal, so it has be set to output messages correctly.  */\n+\n+void\n+gcc_init_libintl ()\n+{\n+#ifdef HAVE_LC_MESSAGES\n+  setlocale (LC_CTYPE, \"\");\n+  setlocale (LC_MESSAGES, \"\");\n+#else\n+  setlocale (LC_ALL, \"\");\n+#endif\n+\n+  (void) bindtextdomain (PACKAGE, LOCALEDIR);\n+  (void) textdomain (PACKAGE);\n+}\n+\n+#endif"}, {"sha": "8a9b35a66fd97425e20dca39de9abdae0d92284e", "filename": "gcc/intl.h", "status": "modified", "additions": 22, "deletions": 13, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl.h?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -1,5 +1,5 @@\n /* intl.h - internationalization\n-   Copyright 1998 Free Software Foundation, Inc.\n+   Copyright 1998, 2001 Free Software Foundation, Inc.\n \n    GCC is free software; you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n@@ -16,6 +16,9 @@\n    Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n    02111-1307, USA.  */\n \n+#ifndef GCC_INTL_H\n+#define GCC_INTL_H\n+\n #ifdef HAVE_LOCALE_H\n # include <locale.h>\n #endif\n@@ -24,23 +27,27 @@\n # define setlocale(category, locale) (locale)\n #endif\n \n-#ifdef ENABLE_NLS\n-# include <libintl.h>\n-  extern const char localedir[];\n+#ifdef USE_INCLUDED_LIBINTL\n+# include <intl/libgnuintl.h>\n #else\n-/* Stubs that do something close enough.  */\n-# ifdef textdomain\n-#  undef textdomain\n+# ifdef HAVE_LIBINTL_H\n+#  include <libintl.h>\n+# else\n+#  undef ENABLE_NLS\n # endif\n+#endif\n+\n+#ifdef ENABLE_NLS\n+extern void gcc_init_libintl PARAMS ((void));\n+#else\n+/* Stubs.  */\n+# undef textdomain\n # define textdomain(domain) (domain)\n-# ifdef bindtextdomain\n-#  undef bindtextdomain\n-# endif\n+# undef bindtextdomain\n # define bindtextdomain(domain, directory) (domain)\n-# ifdef gettext\n-#  undef gettext\n-# endif\n+# undef gettext\n # define gettext(msgid) (msgid)\n+# define gcc_init_libintl()\t/* nothing */\n #endif\n \n #ifndef _\n@@ -50,3 +57,5 @@\n #ifndef N_\n # define N_(msgid) (msgid)\n #endif\n+\n+#endif /* intl.h */"}, {"sha": "5d8bfcbfacbbb4a30b5a1cdda344f4b8364a9a6e", "filename": "gcc/intl/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FChangeLog?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -1,3 +1,7 @@\n+2001-10-19  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.in: Don't copy libgnuintl.h anywhere.\n+\n 2001-10-12  Zack Weinberg  <zack@codesourcery.com>\n \n \t* Update entire directory from gettext 0.10.40."}, {"sha": "a4e0d6a403bebc52fe7bc42503041f510f5a9a5f", "filename": "gcc/intl/Makefile.in", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fintl%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FMakefile.in?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -105,8 +105,9 @@ LTV_AGE=0\n INCLUDES = -I.. -I. -I$(top_srcdir)/intl -I$(top_srcdir) \\\n \t   -I$(top_srcdir)/config -I$(top_srcdir)/../include\n \n+# GCC LOCAL: Removed libintl.h from all-yes.\n all: all-@USE_INCLUDED_LIBINTL@\n-all-yes: libintl.$la libintl.h charset.alias ref-add.sed ref-del.sed\n+all-yes: libintl.$la charset.alias ref-add.sed ref-del.sed\n all-no: all-no-@BUILD_INCLUDED_LIBINTL@\n all-no-yes: libgnuintl.$la\n all-no-no:\n@@ -124,8 +125,9 @@ libintl.la libgnuintl.la: $(OBJECTS)\n \t  -rpath $(libdir) \\\n \t  -no-undefined\n \n-libintl.h: libgnuintl.h\n-\tcp $(srcdir)/libgnuintl.h libintl.h\n+#GCC LOCAL: Do not install this file.\n+#libintl.h: libgnuintl.h\n+#\tcp $(srcdir)/libgnuintl.h libintl.h\n \n charset.alias: config.charset\n \t$(SHELL) $(srcdir)/config.charset '@host@' > t-$@"}, {"sha": "001bf3b61c4b7e710b3f046ca7ab53bd32fa55ff", "filename": "gcc/protoize.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fprotoize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Fprotoize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprotoize.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -4584,18 +4584,7 @@ main (argc, argv)\n   signal (SIGCHLD, SIG_DFL);\n #endif\n \n-/* LC_CTYPE determines the character set used by the terminal so it has be set\n-   to output messages correctly.  */\n-\n-#ifdef HAVE_LC_MESSAGES\n-  setlocale (LC_CTYPE, \"\");\n-  setlocale (LC_MESSAGES, \"\");\n-#else\n-  setlocale (LC_ALL, \"\");\n-#endif\n-\n-  (void) bindtextdomain (PACKAGE, localedir);\n-  (void) textdomain (PACKAGE);\n+  gcc_init_libintl ();\n \n   cwd_buffer = getpwd ();\n   if (!cwd_buffer)"}, {"sha": "2df15e7f18c3ca39e263940b9dbbdf2a19ef7ee5", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191bf464071d7cd21095b9f1d119c05fd8306493/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=191bf464071d7cd21095b9f1d119c05fd8306493", "patch": "@@ -4622,18 +4622,7 @@ toplev_main (argc, argv)\n \n   xmalloc_set_program_name (progname);\n \n-/* LC_CTYPE determines the character set used by the terminal so it has be set\n-   to output messages correctly.  */\n-\n-#ifdef HAVE_LC_MESSAGES\n-  setlocale (LC_CTYPE, \"\");\n-  setlocale (LC_MESSAGES, \"\");\n-#else\n-  setlocale (LC_ALL, \"\");\n-#endif\n-\n-  (void) bindtextdomain (PACKAGE, localedir);\n-  (void) textdomain (PACKAGE);\n+  gcc_init_libintl ();\n \n   /* Install handler for SIGFPE, which may be received while we do\n      compile-time floating point arithmetic.  */"}]}