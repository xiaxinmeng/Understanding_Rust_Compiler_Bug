{"sha": "1e1933372608930414255b4f5124713d227f2f9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWUxOTMzMzcyNjA4OTMwNDE0MjU1YjRmNTEyNDcxM2QyMjdmMmY5Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-10-30T21:40:05Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-30T21:40:05Z"}, "message": "* genrecog.c (write_switch): Check for duplicate CODE cases.\n\nFrom-SVN: r30276", "tree": {"sha": "dc99180a6ab62f8c48a800f1fd827a76eb51be98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dc99180a6ab62f8c48a800f1fd827a76eb51be98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e1933372608930414255b4f5124713d227f2f9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e1933372608930414255b4f5124713d227f2f9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e1933372608930414255b4f5124713d227f2f9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e1933372608930414255b4f5124713d227f2f9c/comments", "author": null, "committer": null, "parents": [{"sha": "cb2ec1510d0661c159a0405c8e1791ff986d8b28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb2ec1510d0661c159a0405c8e1791ff986d8b28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb2ec1510d0661c159a0405c8e1791ff986d8b28"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "330d5abdf668f6962cbdf436013bb65e0bd68516", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e1933372608930414255b4f5124713d227f2f9c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e1933372608930414255b4f5124713d227f2f9c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1e1933372608930414255b4f5124713d227f2f9c", "patch": "@@ -1,3 +1,7 @@\n+Sat Oct 30 14:38:22 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* genrecog.c (write_switch): Check for duplicate CODE cases.\n+\n Sat Oct 30 14:31:48 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* ggc-common.c: Update pre-function commentary."}, {"sha": "464c49921a7f6ac4da58dc4c998aff358531d32b", "filename": "gcc/genrecog.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e1933372608930414255b4f5124713d227f2f9c/gcc%2Fgenrecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e1933372608930414255b4f5124713d227f2f9c/gcc%2Fgenrecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenrecog.c?ref=1e1933372608930414255b4f5124713d227f2f9c", "patch": "@@ -1695,13 +1695,14 @@ write_switch (start, depth)\n     {\n       char codemap[NUM_RTX_CODE];\n       struct decision *ret;\n+      RTX_CODE code;\n \n       memset (codemap, 0, sizeof(codemap));\n \n       printf (\"  switch (GET_CODE (x%d))\\n    {\\n\", depth);\n+      code = p->tests->u.code;\n       do \n \t{\n-\t  RTX_CODE code = p->tests->u.code;\n \t  printf (\"    case \");\n \t  print_code (code);\n \t  printf (\":\\n      goto L%d;\\n\", p->success.first->number);\n@@ -1710,7 +1711,10 @@ write_switch (start, depth)\n \t  codemap[code] = 1;\n \t  p = p->next;\n \t}\n-      while (p && p->tests->type == DT_code && !p->tests->next);\n+      while (p\n+\t     && ! p->tests->next\n+\t     && p->tests->type == DT_code\n+\t     && ! codemap[code = p->tests->u.code]);\n \n       /* If P is testing a predicate that we know about and we haven't\n \t seen any of the codes that are valid for the predicate, we can"}]}