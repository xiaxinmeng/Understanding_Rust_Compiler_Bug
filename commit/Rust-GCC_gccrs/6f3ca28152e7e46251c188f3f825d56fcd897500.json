{"sha": "6f3ca28152e7e46251c188f3f825d56fcd897500", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmYzY2EyODE1MmU3ZTQ2MjUxYzE4OGYzZjgyNWQ1NmZjZDg5NzUwMA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-07-13T02:53:00Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-07-13T02:53:00Z"}, "message": "configure.in: Always define HAVE_AS_GOTOFF_IN_DATA for i?86-*-*.\n\n\t* configure.in: Always define HAVE_AS_GOTOFF_IN_DATA for\n\ti?86-*-*.  Use correct name of cache variable.\n\t* configure: Regenerate.\n\nFrom-SVN: r69283", "tree": {"sha": "70061912616abefa78c0207e84f8c32fc94f208a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70061912616abefa78c0207e84f8c32fc94f208a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f3ca28152e7e46251c188f3f825d56fcd897500", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f3ca28152e7e46251c188f3f825d56fcd897500", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f3ca28152e7e46251c188f3f825d56fcd897500", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f3ca28152e7e46251c188f3f825d56fcd897500/comments", "author": null, "committer": null, "parents": [{"sha": "4284a08d876a904af8d64ae89d1678e75ce2f69b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4284a08d876a904af8d64ae89d1678e75ce2f69b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4284a08d876a904af8d64ae89d1678e75ce2f69b"}], "stats": {"total": 71, "additions": 40, "deletions": 31}, "files": [{"sha": "c3bc519e787a5ddaf69b1dc146fc83f8d72afc11", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f3ca28152e7e46251c188f3f825d56fcd897500/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f3ca28152e7e46251c188f3f825d56fcd897500/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6f3ca28152e7e46251c188f3f825d56fcd897500", "patch": "@@ -1,3 +1,9 @@\n+2003-07-12  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* configure.in: Always define HAVE_AS_GOTOFF_IN_DATA for\n+\ti?86-*-*.  Use correct name of cache variable.\n+\t* configure: Regenerate.\n+\n 2003-07-12  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/alpha/alpha.c: Fix comment typos.\n@@ -21,7 +27,7 @@\n \n 2003-07-12  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n-\t* fixinc/inclhack.def (alpha_sbrk): Note that OpenBSD needs this \n+\t* fixinc/inclhack.def (alpha_sbrk): Note that OpenBSD needs this\n \tfix.\n \n 2003-07-12  Zack Weinberg  <zack@codesourcery.com>"}, {"sha": "e17b867be9809c57b7eba4a6dec1d5ee1f96e1c2", "filename": "gcc/configure", "status": "modified", "additions": 27, "deletions": 26, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f3ca28152e7e46251c188f3f825d56fcd897500/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f3ca28152e7e46251c188f3f825d56fcd897500/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=6f3ca28152e7e46251c188f3f825d56fcd897500", "patch": "@@ -6898,8 +6898,10 @@ EOF\n \n fi\n \n+    # This one is used unconditionally by i386.[ch]; it is to be defined\n+    # to 1 if the feature is present, 0 otherwise.\n     echo $ac_n \"checking assembler for GOTOFF in data\"\"... $ac_c\" 1>&6\n-echo \"configure:6903: checking assembler for GOTOFF in data\" >&5\n+echo \"configure:6905: checking assembler for GOTOFF in data\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_gotoff_in_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6914,7 +6916,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6918: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6920: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_gotoff_in_data=yes\n     else\n@@ -6926,17 +6928,16 @@ fi\n fi\n \n echo \"$ac_t\"\"$gcc_cv_as_ix86_gotoff_in_data\" 1>&6\n-if test $gcc_cv_as_ix86_gotoff_in_data = yes; then\n-  cat >> confdefs.h <<EOF\n-#define HAVE_AS_GOTOFF_IN_DATA `if test $gcc_cv_as_gotoff_in_data = yes; then echo 1; else echo 0; fi`\n+\n+    cat >> confdefs.h <<EOF\n+#define HAVE_AS_GOTOFF_IN_DATA `if test $gcc_cv_as_ix86_gotoff_in_data = yes; then echo 1; else echo 0; fi`\n EOF\n \n-fi\n     ;;\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler for ltoffx and ldxmov relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:6940: checking assembler for ltoffx and ldxmov relocs\" >&5\n+echo \"configure:6941: checking assembler for ltoffx and ldxmov relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ia64_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6950,7 +6951,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = r15, x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6954: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6955: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t    cat >> confdefs.h <<\\EOF\n #define HAVE_AS_LTOFFX_LDXMOV_RELOCS 1\n@@ -6978,7 +6979,7 @@ echo \"$ac_t\"\"$gcc_cv_as_ia64_ltoffx_ldxmov_relocs\" 1>&6\n \tmfcr 3,128\"\n \n     echo $ac_n \"checking assembler for mfcr field support\"\"... $ac_c\" 1>&6\n-echo \"configure:6982: checking assembler for mfcr field support\" >&5\n+echo \"configure:6983: checking assembler for mfcr field support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_powerpc_mfcrf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6989,7 +6990,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6993: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6994: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_powerpc_mfcrf=yes\n     else\n@@ -7011,7 +7012,7 @@ fi\n \n   mips*-*-*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:7015: checking assembler for explicit relocation support\" >&5\n+echo \"configure:7016: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_mips_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7022,7 +7023,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7026: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7027: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_mips_explicit_relocs=yes\n     else\n@@ -7068,7 +7069,7 @@ if test x\"$insn\" != x; then\n \t.loc 1 3 0\n \t$insn\"\n  echo $ac_n \"checking assembler for dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7072: checking assembler for dwarf2 debug_line support\" >&5\n+echo \"configure:7073: checking assembler for dwarf2 debug_line support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_debug_line'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7080,7 +7081,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7084: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7085: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# ??? This fails with non-gnu grep.  Maybe use objdump?\n    if grep debug_line conftest.o > /dev/null 2>&1; then\n@@ -7102,15 +7103,15 @@ echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n # by DW_AT_decl_file.  Approximate this test by testing if\n # the assembler bitches if the same index is assigned twice.\n  echo $ac_n \"checking assembler for buggy dwarf2 .file directive\"\"... $ac_c\" 1>&6\n-echo \"configure:7106: checking assembler for buggy dwarf2 .file directive\" >&5\n+echo \"configure:7107: checking assembler for buggy dwarf2 .file directive\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_file_buggy'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_dwarf2_file_buggy=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7114: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7115: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_dwarf2_file_buggy=yes\n     else\n@@ -7133,7 +7134,7 @@ EOF\n  fi\n \n  echo $ac_n \"checking assembler for --gdwarf2 option\"\"... $ac_c\" 1>&6\n-echo \"configure:7137: checking assembler for --gdwarf2 option\" >&5\n+echo \"configure:7138: checking assembler for --gdwarf2 option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gdwarf2_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7145,7 +7146,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7149: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7150: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_gdwarf2_flag=yes\n     else\n@@ -7165,7 +7166,7 @@ EOF\n fi\n \n  echo $ac_n \"checking assembler for --gstabs option\"\"... $ac_c\" 1>&6\n-echo \"configure:7169: checking assembler for --gstabs option\" >&5\n+echo \"configure:7170: checking assembler for --gstabs option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gstabs_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7177,12 +7178,12 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7181: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7182: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# The native Solaris 9/Intel assembler doesn't understand --gstabs\n    # and warns about it, but still exits successfully.  So check for\n    # this.\n-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7186: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7187: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n    then :\n    else gcc_cv_as_gstabs_flag=yes\n    fi\n@@ -7204,7 +7205,7 @@ fi\n fi\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:7208: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:7209: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7243,7 +7244,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:7247: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:7248: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7265,7 +7266,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:7269: checking linker position independent executable support\" >&5\n+echo \"configure:7270: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7290,7 +7291,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:7294: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:7295: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -7495,7 +7496,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7499: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7500: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "416b8ebc5aff60557e3704141d435a26badbad10", "filename": "gcc/configure.in", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f3ca28152e7e46251c188f3f825d56fcd897500/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f3ca28152e7e46251c188f3f825d56fcd897500/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=6f3ca28152e7e46251c188f3f825d56fcd897500", "patch": "@@ -2237,16 +2237,18 @@ changequote([,])dnl\n       [AC_DEFINE(HAVE_GAS_FILDS_FISTS, 1,\n         [Define if your assembler uses the new HImode fild and fist notation.])])\n \n+    # This one is used unconditionally by i386.[ch]; it is to be defined\n+    # to 1 if the feature is present, 0 otherwise.\n     gcc_GAS_CHECK_FEATURE([GOTOFF in data],\n         gcc_cv_as_ix86_gotoff_in_data, [2,11,0],,\n [\t.text\n .L0:\n \tnop\n \t.data\n-\t.long .L0@GOTOFF],,\n-    [AC_DEFINE_UNQUOTED(HAVE_AS_GOTOFF_IN_DATA,\n-      [`if test $gcc_cv_as_gotoff_in_data = yes; then echo 1; else echo 0; fi`],\n-      [Define true if the assembler supports '.long foo@GOTOFF'.])])\n+\t.long .L0@GOTOFF])\n+    AC_DEFINE_UNQUOTED(HAVE_AS_GOTOFF_IN_DATA,\n+      [`if test $gcc_cv_as_ix86_gotoff_in_data = yes; then echo 1; else echo 0; fi`],\n+      [Define true if the assembler supports '.long foo@GOTOFF'.])\n     ;;\n \n   ia64*-*-*)"}]}