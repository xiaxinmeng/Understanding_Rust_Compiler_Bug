{"sha": "77ba27b40be89dc62d53e569a1917d4f74b71b25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdiYTI3YjQwYmU4OWRjNjJkNTNlNTY5YTE5MTdkNGY3NGI3MWIyNQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-07-16T16:30:40Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-07-16T16:30:40Z"}, "message": "tree-ssa-loop-unswitch.c (hoist_guard): Avoid use of REG_BR_PROB_BASE fixpoint arithmetics.\n\n\n\t* tree-ssa-loop-unswitch.c (hoist_guard): Avoid use of REG_BR_PROB_BASE\n\tfixpoint arithmetics.\n\nFrom-SVN: r250241", "tree": {"sha": "46ec2877a527e028a7c3960d7ca959ba78d2d195", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46ec2877a527e028a7c3960d7ca959ba78d2d195"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77ba27b40be89dc62d53e569a1917d4f74b71b25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77ba27b40be89dc62d53e569a1917d4f74b71b25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77ba27b40be89dc62d53e569a1917d4f74b71b25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77ba27b40be89dc62d53e569a1917d4f74b71b25/comments", "author": null, "committer": null, "parents": [{"sha": "e4e822abcdfaba5878845a82722b8bed879d647e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4e822abcdfaba5878845a82722b8bed879d647e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4e822abcdfaba5878845a82722b8bed879d647e"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "849de45f2c8ca937cc55e887db6bfb3d52bbd1aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ba27b40be89dc62d53e569a1917d4f74b71b25/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ba27b40be89dc62d53e569a1917d4f74b71b25/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77ba27b40be89dc62d53e569a1917d4f74b71b25", "patch": "@@ -1,3 +1,8 @@\n+2017-07-16  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-ssa-loop-unswitch.c (hoist_guard): Avoid use of REG_BR_PROB_BASE\n+\tfixpoint arithmetics.\n+\n 2017-07-16  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* asan.c (create_cond_insert_point): Avoid use of REG_BR_PROB_BASE"}, {"sha": "204cd0d0645550c0da759219279b06522143e32c", "filename": "gcc/tree-ssa-loop-unswitch.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ba27b40be89dc62d53e569a1917d4f74b71b25/gcc%2Ftree-ssa-loop-unswitch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ba27b40be89dc62d53e569a1917d4f74b71b25/gcc%2Ftree-ssa-loop-unswitch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-unswitch.c?ref=77ba27b40be89dc62d53e569a1917d4f74b71b25", "patch": "@@ -897,9 +897,7 @@ hoist_guard (struct loop *loop, edge guard)\n \t  if (dump_file && (dump_flags & TDF_DETAILS))\n \t    fprintf (dump_file, \" %i\", bb->index);\n \t  if (e->probability.initialized_p ())\n-            scale_bbs_frequencies_int (&bb, 1,\n-\t\t\t\t       e->probability.to_reg_br_prob_base (),\n-\t\t\t\t       REG_BR_PROB_BASE);\n+            scale_bbs_frequencies (&bb, 1, e->probability);\n   \t}\n     }\n "}]}