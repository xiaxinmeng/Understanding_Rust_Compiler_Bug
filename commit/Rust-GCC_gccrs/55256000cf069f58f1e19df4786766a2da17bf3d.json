{"sha": "55256000cf069f58f1e19df4786766a2da17bf3d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTUyNTYwMDBjZjA2OWY1OGYxZTE5ZGY0Nzg2NzY2YTJkYTE3YmYzZA==", "commit": {"author": {"name": "Thomas Klein", "email": "th.r.klein@web.de", "date": "2010-12-14T16:00:33Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-14T16:00:33Z"}, "message": "arm.c (arm_expand_prologue): Report the static stack size if -fstack-usage is used.\n\n\t* config/arm/arm.c (arm_expand_prologue): Report the static stack\n\tsize if -fstack-usage is used.\n\t(thumb1_expand_prologue): Likewise.\n\nFrom-SVN: r167805", "tree": {"sha": "82e4c657d8ed540233c6ee52d4f97aa2b90648cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82e4c657d8ed540233c6ee52d4f97aa2b90648cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55256000cf069f58f1e19df4786766a2da17bf3d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55256000cf069f58f1e19df4786766a2da17bf3d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55256000cf069f58f1e19df4786766a2da17bf3d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55256000cf069f58f1e19df4786766a2da17bf3d/comments", "author": null, "committer": null, "parents": [{"sha": "f5b77e7d992ab6739b6eb4e640c1d85206a3ad51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5b77e7d992ab6739b6eb4e640c1d85206a3ad51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5b77e7d992ab6739b6eb4e640c1d85206a3ad51"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "dbf56836809b772d986ef2b32a4484ee4be6d9d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55256000cf069f58f1e19df4786766a2da17bf3d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55256000cf069f58f1e19df4786766a2da17bf3d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=55256000cf069f58f1e19df4786766a2da17bf3d", "patch": "@@ -1,3 +1,9 @@\n+2010-12-14  Thomas Klein  <th.r.klein@web.de>\n+\n+\t* config/arm/arm.c (arm_expand_prologue): Report the static stack\n+\tsize if -fstack-usage is used.\n+\t(thumb1_expand_prologue): Likewise.\n+\n 2010-12-14  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/46885"}, {"sha": "21fc2565968875c7c53c6560a68c2eccbd9a448e", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55256000cf069f58f1e19df4786766a2da17bf3d/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55256000cf069f58f1e19df4786766a2da17bf3d/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=55256000cf069f58f1e19df4786766a2da17bf3d", "patch": "@@ -15816,6 +15816,10 @@ arm_expand_prologue (void)\n \t}\n     }\n \n+  if (flag_stack_usage)\n+    current_function_static_stack_size\n+      = offsets->outgoing_args - offsets->saved_args;\n+\n   if (offsets->outgoing_args != offsets->saved_args + saved_regs)\n     {\n       /* This add can produce multiple insns for a large constant, so we\n@@ -20628,6 +20632,10 @@ thumb1_expand_prologue (void)\n     emit_move_insn (gen_rtx_REG (Pmode, ARM_HARD_FRAME_POINTER_REGNUM),\n \t\t    stack_pointer_rtx);\n \n+  if (flag_stack_usage)\n+    current_function_static_stack_size\n+      = offsets->outgoing_args - offsets->saved_args;\n+\n   amount = offsets->outgoing_args - offsets->saved_regs;\n   amount -= 4 * thumb1_extra_regs_pushed (offsets, true);\n   if (amount)"}]}