{"sha": "583812c2e2f3593823622b0a5821d957c832dbd0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTgzODEyYzJlMmYzNTkzODIzNjIyYjBhNTgyMWQ5NTdjODMyZGJkMA==", "commit": {"author": {"name": "Harald Anlauf", "email": "anlauf@gmx.de", "date": "2020-06-29T21:20:16Z"}, "committer": {"name": "Harald Anlauf", "email": "anlauf@gmx.de", "date": "2020-06-29T21:20:53Z"}, "message": "PR fortran/95978 - ICE in gfc_match_data, at fortran/decl.c:731\n\nCatch NULL pointer dereference on invalid DATA statement.\n\ngcc/fortran/\n\tPR fortran/95978\n\t* decl.c (gfc_match_data): Avoid NULL pointer dereference.", "tree": {"sha": "1c87687cfe33bf7bf8b0d4508638dfad0d738f96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c87687cfe33bf7bf8b0d4508638dfad0d738f96"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/583812c2e2f3593823622b0a5821d957c832dbd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/583812c2e2f3593823622b0a5821d957c832dbd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/583812c2e2f3593823622b0a5821d957c832dbd0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/583812c2e2f3593823622b0a5821d957c832dbd0/comments", "author": {"login": "harald-anlauf", "id": 90786862, "node_id": "MDQ6VXNlcjkwNzg2ODYy", "avatar_url": "https://avatars.githubusercontent.com/u/90786862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harald-anlauf", "html_url": "https://github.com/harald-anlauf", "followers_url": "https://api.github.com/users/harald-anlauf/followers", "following_url": "https://api.github.com/users/harald-anlauf/following{/other_user}", "gists_url": "https://api.github.com/users/harald-anlauf/gists{/gist_id}", "starred_url": "https://api.github.com/users/harald-anlauf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harald-anlauf/subscriptions", "organizations_url": "https://api.github.com/users/harald-anlauf/orgs", "repos_url": "https://api.github.com/users/harald-anlauf/repos", "events_url": "https://api.github.com/users/harald-anlauf/events{/privacy}", "received_events_url": "https://api.github.com/users/harald-anlauf/received_events", "type": "User", "site_admin": false}, "committer": {"login": "harald-anlauf", "id": 90786862, "node_id": "MDQ6VXNlcjkwNzg2ODYy", "avatar_url": "https://avatars.githubusercontent.com/u/90786862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harald-anlauf", "html_url": "https://github.com/harald-anlauf", "followers_url": "https://api.github.com/users/harald-anlauf/followers", "following_url": "https://api.github.com/users/harald-anlauf/following{/other_user}", "gists_url": "https://api.github.com/users/harald-anlauf/gists{/gist_id}", "starred_url": "https://api.github.com/users/harald-anlauf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harald-anlauf/subscriptions", "organizations_url": "https://api.github.com/users/harald-anlauf/orgs", "repos_url": "https://api.github.com/users/harald-anlauf/repos", "events_url": "https://api.github.com/users/harald-anlauf/events{/privacy}", "received_events_url": "https://api.github.com/users/harald-anlauf/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "95cdcf701dad826f225d6413b59650f181954399", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95cdcf701dad826f225d6413b59650f181954399", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95cdcf701dad826f225d6413b59650f181954399"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "f38def4c291470f5964611f16d42f7760f3c0db0", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/583812c2e2f3593823622b0a5821d957c832dbd0/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/583812c2e2f3593823622b0a5821d957c832dbd0/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=583812c2e2f3593823622b0a5821d957c832dbd0", "patch": "@@ -728,7 +728,7 @@ gfc_match_data (void)\n \t  gfc_constructor *c;\n \t  c = gfc_constructor_first (new_data->value->expr->value.constructor);\n \t  for (; c; c = gfc_constructor_next (c))\n-\t    if (c->expr->ts.type == BT_BOZ)\n+\t    if (c->expr && c->expr->ts.type == BT_BOZ)\n \t      {\n \t\tgfc_error (\"BOZ literal constant at %L cannot appear in a \"\n \t\t\t   \"structure constructor\", &c->expr->where);"}, {"sha": "47bd7067096343711320b5d1fe2cd8686b859288", "filename": "gcc/testsuite/gfortran.dg/pr95978.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/583812c2e2f3593823622b0a5821d957c832dbd0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr95978.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/583812c2e2f3593823622b0a5821d957c832dbd0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr95978.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr95978.f90?ref=583812c2e2f3593823622b0a5821d957c832dbd0", "patch": "@@ -0,0 +1,10 @@\n+! { dg-do compile }\n+! PR fortran/95978 - ICE in gfc_match_data, at fortran/decl.c:731\n+\n+program p\n+  type t\n+     integer :: a\n+     type(t), allocatable :: b\n+     data c /t(1)/               ! { dg-error \"Unexpected DATA statement\" }\n+  end type t\n+end"}]}