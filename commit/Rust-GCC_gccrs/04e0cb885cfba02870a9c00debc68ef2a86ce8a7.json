{"sha": "04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDRlMGNiODg1Y2ZiYTAyODcwYTljMDBkZWJjNjhlZjJhODZjZThhNw==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2007-11-05T16:53:42Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2007-11-05T16:53:42Z"}, "message": "configure.ac: Don't run config-ml.in directly.\n\n2007-11-05  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* configure.ac: Don't run config-ml.in directly.\n\t(multilib_arg): New.\n\t* configure: Regenerated.\n\nFrom-SVN: r129902", "tree": {"sha": "59ebbc5cd7d9228c62a6591d1a9b1fe41723bc92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/59ebbc5cd7d9228c62a6591d1a9b1fe41723bc92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f0ed4cfb9d55717e36c3c056f612e7323facc7ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0ed4cfb9d55717e36c3c056f612e7323facc7ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0ed4cfb9d55717e36c3c056f612e7323facc7ff"}], "stats": {"total": 88, "additions": 24, "deletions": 64}, "files": [{"sha": "7da809b8bf420c2382e5ba14a0e6c02c536de75f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "patch": "@@ -1,3 +1,9 @@\n+2007-11-05  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* configure.ac: Don't run config-ml.in directly.\n+\t(multilib_arg): New.\n+\t* configure: Regenerated.\n+\n 2007-10-22  David Daney  <ddaney@avtrex.com>\n \n \t* include/jvm.h (_Jv_SetGCFreeSpaceDivisor): Declare new function."}, {"sha": "b87c18a3d34a6f70d7310260556e85a2033d516a", "filename": "libjava/configure", "status": "modified", "additions": 12, "deletions": 36, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "patch": "@@ -18992,15 +18992,15 @@ ac_x_header_dirs='\n /usr/openwin/share/include'\n \n if test \"$ac_x_includes\" = no; then\n-  # Guess where to find include files, by looking for Intrinsic.h.\n+  # Guess where to find include files, by looking for Xlib.h.\n   # First, try using that file with no special directory specified.\n   cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Intrinsic.h>\n+#include <X11/Xlib.h>\n _ACEOF\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n@@ -19027,7 +19027,7 @@ else\n sed 's/^/| /' conftest.$ac_ext >&5\n \n   for ac_dir in $ac_x_header_dirs; do\n-  if test -r \"$ac_dir/X11/Intrinsic.h\"; then\n+  if test -r \"$ac_dir/X11/Xlib.h\"; then\n     ac_x_includes=$ac_dir\n     break\n   fi\n@@ -19041,7 +19041,7 @@ if test \"$ac_x_libraries\" = no; then\n   # See if we find them without any special options.\n   # Don't add to $LIBS permanently.\n   ac_save_LIBS=$LIBS\n-  LIBS=\"-lXt $LIBS\"\n+  LIBS=\"-lX11 $LIBS\"\n   if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n@@ -19053,11 +19053,11 @@ _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Intrinsic.h>\n+#include <X11/Xlib.h>\n int\n main ()\n {\n-XtMalloc (0)\n+XrmInitialize ()\n   ;\n   return 0;\n }\n@@ -27785,11 +27785,13 @@ here=`${PWDCMD-pwd}`\n                                                                       ac_config_files=\"$ac_config_files Makefile libgcj.pc libgcj.spec libgcj-test.spec gcj/Makefile include/Makefile testsuite/Makefile\"\n \n \n-          ac_config_files=\"$ac_config_files scripts/jar\"\n-\n-\n-          ac_config_commands=\"$ac_config_commands default\"\n+if test ${multilib} = yes; then\n+  multilib_arg=\"--enable-multilib\"\n+else\n+  multilib_arg=\n+fi\n \n+          ac_config_files=\"$ac_config_files scripts/jar\"\n \n cat >confcache <<\\_ACEOF\n # This file is a shell script that caches the results of configure\n@@ -28948,17 +28950,6 @@ fi\n \n \n \n-srcdir=${srcdir}\n-host=${host}\n-target=${target}\n-with_multisubdir=${with_multisubdir}\n-ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n-CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n-multi_basedir=${multi_basedir}\n-CC=\"${CC}\"\n-CXX=\"${CXX}\"\n-ORIGINAL_LD_FOR_MULTILIBS=\"${ORIGINAL_LD_FOR_MULTILIBS}\"\n-\n \n _ACEOF\n \n@@ -28997,7 +28988,6 @@ do\n   \"default-1\" ) CONFIG_COMMANDS=\"$CONFIG_COMMANDS default-1\" ;;\n   \"depfiles\" ) CONFIG_COMMANDS=\"$CONFIG_COMMANDS depfiles\" ;;\n   \"libtool\" ) CONFIG_COMMANDS=\"$CONFIG_COMMANDS libtool\" ;;\n-  \"default\" ) CONFIG_COMMANDS=\"$CONFIG_COMMANDS default\" ;;\n   \"include/config.h\" ) CONFIG_HEADERS=\"$CONFIG_HEADERS include/config.h\" ;;\n   \"gcj/libgcj-config.h\" ) CONFIG_HEADERS=\"$CONFIG_HEADERS gcj/libgcj-config.h\" ;;\n   *) { { echo \"$as_me:$LINENO: error: invalid argument: $ac_config_target\" >&5\n@@ -30995,20 +30985,6 @@ compiler_lib_search_path=$lt_compiler_lib_search_path_GCJ\n # ### END LIBTOOL TAG CONFIG: GCJ\n _LT_EOF\n \n- ;;\n-    default ) # Only add multilib support code if we just rebuilt top-level Makefile.\n-case \" $CONFIG_FILES \" in\n- *\" Makefile \"*)\n-   LD=\"${ORIGINAL_LD_FOR_MULTILIBS}\"\n-   ac_file=Makefile . ${multi_basedir}/./libjava/../config-ml.in\n-   ;;\n-esac\n-for ac_multi_file in $CONFIG_FILES; do\n-  case $ac_multi_file in\n-  */Makefile)\n-    grep \"^MULTI[^ ]* =\" Makefile >> \"$ac_multi_file\" ;;\n-  esac\n-done\n  ;;\n   esac\n done"}, {"sha": "6640b122ea0761845dbe9171e49327b4d31618be", "filename": "libjava/configure.ac", "status": "modified", "additions": 6, "deletions": 28, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e0cb885cfba02870a9c00debc68ef2a86ce8a7/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=04e0cb885cfba02870a9c00debc68ef2a86ce8a7", "patch": "@@ -1622,33 +1622,11 @@ include/Makefile\n testsuite/Makefile\n ])\n \n-AC_CONFIG_FILES([scripts/jar], [chmod +x scripts/jar])\n-\n-AC_CONFIG_COMMANDS([default],\n-[# Only add multilib support code if we just rebuilt top-level Makefile.\n-case \" $CONFIG_FILES \" in\n- *\" Makefile \"*)\n-   LD=\"${ORIGINAL_LD_FOR_MULTILIBS}\"\n-   ac_file=Makefile . ${multi_basedir}/./libjava/../config-ml.in\n-   ;;\n-esac\n-for ac_multi_file in $CONFIG_FILES; do\n-  case $ac_multi_file in\n-  */Makefile)\n-    grep \"^MULTI[[^ ]]* =\" Makefile >> \"$ac_multi_file\" ;;\n-  esac\n-done\n-],\n-srcdir=${srcdir}\n-host=${host}\n-target=${target}\n-with_multisubdir=${with_multisubdir}\n-ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n-CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n-multi_basedir=${multi_basedir}\n-CC=\"${CC}\"\n-CXX=\"${CXX}\"\n-ORIGINAL_LD_FOR_MULTILIBS=\"${ORIGINAL_LD_FOR_MULTILIBS}\"\n-)\n+if test ${multilib} = yes; then\n+  multilib_arg=\"--enable-multilib\"\n+else\n+  multilib_arg=\n+fi\n \n+AC_CONFIG_FILES([scripts/jar], [chmod +x scripts/jar])\n AC_OUTPUT"}]}