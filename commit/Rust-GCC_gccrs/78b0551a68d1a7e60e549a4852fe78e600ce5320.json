{"sha": "78b0551a68d1a7e60e549a4852fe78e600ce5320", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzhiMDU1MWE2OGQxYTdlNjBlNTQ5YTQ4NTJmZTc4ZTYwMGNlNTMyMA==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2012-09-30T14:54:28Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2012-09-30T14:54:28Z"}, "message": "allocate_derived_1.f90: Re-enable class array checks, partially reverting r170092.\n\n2012-09-30  Janus Weil  <janus@gcc.gnu.org> \n\n\t* gfortran.dg/allocate_derived_1.f90: Re-enable class array checks,\n\tpartially reverting r170092.\n\t* gfortran.dg/class_7.f03: Ditto.\n\t* gfortran.dg/coarray_14.f90: Ditto.\n\t* gfortran.dg/typebound_proc_13.f03: Ditto.\n\nFrom-SVN: r191867", "tree": {"sha": "f83042c06c89a966b21c5c140529621126a5908e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f83042c06c89a966b21c5c140529621126a5908e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78b0551a68d1a7e60e549a4852fe78e600ce5320", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78b0551a68d1a7e60e549a4852fe78e600ce5320", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78b0551a68d1a7e60e549a4852fe78e600ce5320", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78b0551a68d1a7e60e549a4852fe78e600ce5320/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e8031ec516e59891698e849494777557bb0f1121", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8031ec516e59891698e849494777557bb0f1121", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8031ec516e59891698e849494777557bb0f1121"}], "stats": {"total": 49, "additions": 27, "deletions": 22}, "files": [{"sha": "2934e0ad14b03be887e90972ede22908bb547128", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=78b0551a68d1a7e60e549a4852fe78e600ce5320", "patch": "@@ -1,3 +1,11 @@\n+2012-09-30  Janus Weil  <janus@gcc.gnu.org> \n+\n+\t* gfortran.dg/allocate_derived_1.f90: Re-enable class array checks,\n+\tpartially reverting r170092.\n+\t* gfortran.dg/class_7.f03: Ditto.\n+\t* gfortran.dg/coarray_14.f90: Ditto.\n+\t* gfortran.dg/typebound_proc_13.f03: Ditto.\n+\n 2012-09-29  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/54738"}, {"sha": "d2c65ffa38bd790df3f5e71bd5c880937221588d", "filename": "gcc/testsuite/gfortran.dg/allocate_derived_1.f90", "status": "modified", "additions": 13, "deletions": 14, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Fallocate_derived_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Fallocate_derived_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fallocate_derived_1.f90?ref=78b0551a68d1a7e60e549a4852fe78e600ce5320", "patch": "@@ -24,28 +24,27 @@\n   real :: r\n  end type\n \n-! FIXME: uncomment and dejagnuify the lines below once class arrays are enabled\n-!  class(t1),dimension(:),allocatable :: x\n+ class(t1),dimension(:),allocatable :: x\n  type(t2),dimension(:),allocatable :: y\n-!  class(t3),dimension(:),allocatable :: z\n+ class(t3),dimension(:),allocatable :: z\n \n-!  allocate(      x(1))\n-!  allocate(t1 :: x(2))\n-!  allocate(t2 :: x(3))\n-!  allocate(t3 :: x(4))\n-!  allocate(tx :: x(5))  ! { \"Error in type-spec at\" }\n-!  allocate(u0 :: x(6))  ! { \"may not be ABSTRACT\" }\n-!  allocate(v1 :: x(7))  ! { \"is type incompatible with typespec\" }\n+ allocate(      x(1))\n+ allocate(t1 :: x(2))\n+ allocate(t2 :: x(3))\n+ allocate(t3 :: x(4))\n+ allocate(tx :: x(5))  ! { dg-error \"Error in type-spec at\" }\n+ allocate(u0 :: x(6))  ! { dg-error \"may not be ABSTRACT\" }\n+ allocate(v1 :: x(7))  ! { dg-error \"is type incompatible with typespec\" }\n \n  allocate(      y(1))\n  allocate(t1 :: y(2))  ! { dg-error \"is type incompatible with typespec\" }\n  allocate(t2 :: y(3))\n  allocate(t3 :: y(3))  ! { dg-error \"is type incompatible with typespec\" }\n \n-!  allocate(      z(1))\n-!  allocate(t1 :: z(2))  ! { \"is type incompatible with typespec\" }\n-!  allocate(t2 :: z(3))  ! { \"is type incompatible with typespec\" }\n-!  allocate(t3 :: z(4))\n+ allocate(      z(1))\n+ allocate(t1 :: z(2))  ! { dg-error \"is type incompatible with typespec\" }\n+ allocate(t2 :: z(3))  ! { dg-error \"is type incompatible with typespec\" }\n+ allocate(t3 :: z(4))\n \n end\n "}, {"sha": "99fbf6fc69bb49ad008e742b839779aeb6fc5e5d", "filename": "gcc/testsuite/gfortran.dg/class_7.f03", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_7.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_7.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_7.f03?ref=78b0551a68d1a7e60e549a4852fe78e600ce5320", "patch": "@@ -9,8 +9,7 @@\n   end type t0\n   type t\n     integer :: i\n-! FIXME: uncomment and dejagnuify once class arrays are enabled\n-!    class(t0), allocatable :: foo(3)  ! { \"deferred shape\" }\n+    class(t0), allocatable :: foo(3)  ! { dg-error \"deferred shape\" }\n   end type t\n \n ! PR41608: Would ICE on missing type decl"}, {"sha": "d7eb6b6be02dd063534c865a589958ec984056fa", "filename": "gcc/testsuite/gfortran.dg/coarray_14.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Fcoarray_14.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Fcoarray_14.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fcoarray_14.f90?ref=78b0551a68d1a7e60e549a4852fe78e600ce5320", "patch": "@@ -47,7 +47,7 @@ end subroutine test\n program myTest\n type t\n end type t\n-type(t), allocatable :: a[:]\n+class(t), allocatable :: a[:]\n  allocate (t :: a) ! { dg-error \"Coarray specification required in ALLOCATE statement\" }\n allocate (t :: a[*]) ! OK\n end program myTest"}, {"sha": "98caac69245ab3b5dbd4fa33c9368e7873dc0aaf", "filename": "gcc/testsuite/gfortran.dg/typebound_proc_13.f03", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_proc_13.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78b0551a68d1a7e60e549a4852fe78e600ce5320/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_proc_13.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_proc_13.f03?ref=78b0551a68d1a7e60e549a4852fe78e600ce5320", "patch": "@@ -16,8 +16,7 @@ MODULE m\n \n   TYPE t2\n   CONTAINS\n-! FIXME: uncomment and dejagnuify once class arrays are enabled\n-!    PROCEDURE, PASS :: nonscalar ! { \"must be scalar\" }\n+    PROCEDURE, PASS :: nonscalar ! { dg-error \"must be scalar\" }\n     PROCEDURE, PASS :: is_pointer ! { dg-error \"must not be POINTER\" }\n     PROCEDURE, PASS :: is_allocatable ! { dg-error \"must not be ALLOCATABLE\" }\n   END TYPE t2\n@@ -27,9 +26,9 @@ MODULE m\n   SUBROUTINE myproc ()\n   END SUBROUTINE myproc\n \n-!  SUBROUTINE nonscalar (me)\n-!    CLASS(t2), INTENT(IN) :: me(:)\n-!  END SUBROUTINE nonscalar\n+  SUBROUTINE nonscalar (me)\n+    CLASS(t2), INTENT(IN) :: me(:)\n+  END SUBROUTINE nonscalar\n \n   SUBROUTINE is_pointer (me)\n     CLASS(t2), POINTER, INTENT(IN) :: me"}]}