{"sha": "4488a8b8769d54a19634d22c42bd9ec111a89be5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQ4OGE4Yjg3NjlkNTRhMTk2MzRkMjJjNDJiZDllYzExMWE4OWJlNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-11-23T23:03:15Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-11-23T23:03:15Z"}, "message": "simplify-rtx.c (simplify_subreg): Use subreg_regno_offset directly instead of using a SUBREG temporary.\n\n        * simplify-rtx.c (simplify_subreg): Use subreg_regno_offset directly\n        instead of using a SUBREG temporary.\n\nFrom-SVN: r91114", "tree": {"sha": "d1a76f18f5ec7676024c59484c69a8c80a10e55b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1a76f18f5ec7676024c59484c69a8c80a10e55b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4488a8b8769d54a19634d22c42bd9ec111a89be5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4488a8b8769d54a19634d22c42bd9ec111a89be5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4488a8b8769d54a19634d22c42bd9ec111a89be5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4488a8b8769d54a19634d22c42bd9ec111a89be5/comments", "author": null, "committer": null, "parents": [{"sha": "b2cfdb12c2501e363ca16a497df70c7459da3ef4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2cfdb12c2501e363ca16a497df70c7459da3ef4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2cfdb12c2501e363ca16a497df70c7459da3ef4"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "9752df3b6eebaf5981cf2a45a0135cd51197cc44", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4488a8b8769d54a19634d22c42bd9ec111a89be5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4488a8b8769d54a19634d22c42bd9ec111a89be5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4488a8b8769d54a19634d22c42bd9ec111a89be5", "patch": "@@ -1,3 +1,8 @@\n+2004-11-23  Richard Henderson  <rth@redhat.com>\n+\n+\t* simplify-rtx.c (simplify_subreg): Use subreg_regno_offset directly\n+\tinstead of using a SUBREG temporary.\n+\n 2004-11-23  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* tree-cfg.c (tree_forwarder_block_p): Speed up by reordering"}, {"sha": "8ecd8fc55281135766e0017da518ce9512619051", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4488a8b8769d54a19634d22c42bd9ec111a89be5/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4488a8b8769d54a19634d22c42bd9ec111a89be5/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=4488a8b8769d54a19634d22c42bd9ec111a89be5", "patch": "@@ -3675,14 +3675,15 @@ simplify_subreg (enum machine_mode outermode, rtx op,\n       && subreg_offset_representable_p (REGNO (op), innermode,\n \t\t\t\t\tbyte, outermode))\n     {\n-      rtx tem = gen_rtx_SUBREG (outermode, op, byte);\n-      int final_regno = subreg_hard_regno (tem, 0);\n+      unsigned int regno = REGNO (op);\n+      unsigned int final_regno\n+\t= regno + subreg_regno_offset (regno, innermode, byte, outermode);\n \n       /* ??? We do allow it if the current REG is not valid for\n \t its mode.  This is a kludge to work around how float/complex\n \t arguments are passed on 32-bit SPARC and should be fixed.  */\n       if (HARD_REGNO_MODE_OK (final_regno, outermode)\n-\t  || ! HARD_REGNO_MODE_OK (REGNO (op), innermode))\n+\t  || ! HARD_REGNO_MODE_OK (regno, innermode))\n \t{\n \t  rtx x = gen_rtx_REG_offset (op, outermode, final_regno, byte);\n "}]}