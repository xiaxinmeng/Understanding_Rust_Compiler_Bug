{"sha": "60b92d702890eae310fddaf1dac424743ce5292b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjBiOTJkNzAyODkwZWFlMzEwZmRkYWYxZGFjNDI0NzQzY2U1MjkyYg==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2005-03-05T16:32:59Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2005-03-05T16:32:59Z"}, "message": "re PR bootstrap/20155 (libgcj build fails with \"execvp: /bin/sh: Argument list too long\")\n\n2005-03-05  Roger Sayle  <roger@eyesopen.com>\n\t    Alexandre Oliva  <aoliva@redhat.com>\n\t    Kelley Cook  <kcook@gcc.gnu.org>\n\n\tPR libgcj/20155\n\t* Makefile.am (libgcj0_convenience.la): New rule to create a file\n\tof the object files to link to avoid exceeding the command line\n\tlength limits on some platforms.\n\t(clean-local): Clean up objectlist files.\n\t* Makefile.in: Regenerate.\n\nCo-Authored-By: Alexandre Oliva <aoliva@redhat.com>\nCo-Authored-By: Kelley Cook <kcook@gcc.gnu.org>\n\nFrom-SVN: r95934", "tree": {"sha": "f8d60198c28fbc7307f036392bd38789789f66eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8d60198c28fbc7307f036392bd38789789f66eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/60b92d702890eae310fddaf1dac424743ce5292b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60b92d702890eae310fddaf1dac424743ce5292b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60b92d702890eae310fddaf1dac424743ce5292b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60b92d702890eae310fddaf1dac424743ce5292b/comments", "author": null, "committer": null, "parents": [{"sha": "6439fffd56602ed319edd795a3ef86b164c3f762", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6439fffd56602ed319edd795a3ef86b164c3f762", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6439fffd56602ed319edd795a3ef86b164c3f762"}], "stats": {"total": 42, "additions": 39, "deletions": 3}, "files": [{"sha": "713fb89b2b5763c1cfbe17b94fe6f0175a484b0d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60b92d702890eae310fddaf1dac424743ce5292b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60b92d702890eae310fddaf1dac424743ce5292b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=60b92d702890eae310fddaf1dac424743ce5292b", "patch": "@@ -1,3 +1,14 @@\n+2005-03-05  Roger Sayle  <roger@eyesopen.com>\n+\t    Alexandre Oliva  <aoliva@redhat.com>\n+\t    Kelley Cook  <kcook@gcc.gnu.org>\n+\n+\tPR libgcj/20155\n+\t* Makefile.am (libgcj0_convenience.la): New rule to create a file\n+\tof the object files to link to avoid exceeding the command line\n+\tlength limits on some platforms.\n+\t(clean-local): Clean up objectlist files.\n+\t* Makefile.in: Regenerate.\n+\n 2005-03-05  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* java/lang/dtoa.c (_dtoa_r): Initialize variables ilim, ilim1 and"}, {"sha": "44e1b34377ca2d9a20a336395bc9169ab8a3270b", "filename": "libjava/Makefile.am", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60b92d702890eae310fddaf1dac424743ce5292b/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60b92d702890eae310fddaf1dac424743ce5292b/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=60b92d702890eae310fddaf1dac424743ce5292b", "patch": "@@ -226,6 +226,9 @@ libgcj0_convenience_la_SOURCES = prims.cc jni.cc exception.cc \\\n \t$(POSIX_PLATFORM_SRC) $(WIN32_PLATFORM_SRC) $(ECOS_PLATFORM_SRC) \\\n \t$(DARWIN_CRT_SRC) \\\n \t$(POSIX_THREAD_SRC) $(WIN32_THREAD_SRC) $(NO_THREAD_SRC)\n+libgcj0_convenience_la_LDFLAGS = \n+libgcj0_convenience_la_LIBADD =\n+libgcj0_convenience_la_LINK = $(LIBLINK)\n noinst_LTLIBRARIES = libgcj0_convenience.la\n \n libgcj_la_SOURCES =\n@@ -577,6 +580,8 @@ mostlyclean-local:\n clean-local:\n ## Remove every .class file that was created.\n \tfind . -name '*.class' -print | xargs rm -f\n+## Remove every .objectlist file that was created.\n+\tfind . -name '*.objectlist' -print | xargs rm -f\n \n distclean-local:\n ## Remove every .d file that was created.\n@@ -611,6 +616,16 @@ libgcj.la: $(libgcj_la_OBJECTS) $(libgcj_la_DEPENDENCIES)\n \t$(libgcj_la_LIBADD) \\\n \t-rpath $(toolexeclibdir) $(libgcj_la_LDFLAGS) $(LIBS)\n \n+## Pass the list of object files to libtool in a temporary file to\n+## avoid tripping platform command line length limits.\n+libgcj0_convenience.la: $(libgcj0_convenience_la_OBJECTS) $(libgcj0_convenience_la_DEPENDENCIES)\n+\t@echo Creating list of files to link...\n+\t@: $(call write_entries_to_file,$(libgcj0_convenience_la_OBJECTS),libgcj0_convenience.objectlist)\n+\t$(libgcj0_convenience_la_LINK) \\\n+\t-objectlist libgcj0_convenience.objectlist \\\n+\t$(libgcj0_convenience_la_LIBADD) \\\n+\t-rpath $(toolexeclibdir) $(libgcj0_convenience_la_LDFLAGS) $(LIBS)\n+\n lib-gnu-awt-xlib.la: $(lib_gnu_awt_xlib_la_OBJECTS) $(lib_gnu_awt_xlib_la_DEPENDENCIES)\n \t@echo Creating list of files to link...\n \t@: $(call write_entries_to_file,$(lib_gnu_awt_xlib_la_OBJECTS) $(lib_gnu_awt_xlib_la_LIBADD),lib_gnu_awt_xlib.objectlist)"}, {"sha": "86285aa39ca110317da4700058b2242809a9981c", "filename": "libjava/Makefile.in", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60b92d702890eae310fddaf1dac424743ce5292b/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60b92d702890eae310fddaf1dac424743ce5292b/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=60b92d702890eae310fddaf1dac424743ce5292b", "patch": "@@ -329,7 +329,7 @@ am__DEPENDENCIES_2 = gnu/regexp/MessagesBundle.properties.lo \\\n am__DEPENDENCIES_3 = $(am__DEPENDENCIES_2)\n am_libgcj_la_OBJECTS =\n libgcj_la_OBJECTS = $(am_libgcj_la_OBJECTS)\n-libgcj0_convenience_la_LIBADD =\n+libgcj0_convenience_la_DEPENDENCIES =\n am__libgcj0_convenience_la_SOURCES_DIST = prims.cc jni.cc exception.cc \\\n \tlink.cc defineclass.cc interpret.cc verify.cc \\\n \tgnu/gcj/natCore.cc gnu/gcj/convert/JIS0208_to_Unicode.cc \\\n@@ -5173,6 +5173,9 @@ libgcj0_convenience_la_SOURCES = prims.cc jni.cc exception.cc \\\n \t$(DARWIN_CRT_SRC) \\\n \t$(POSIX_THREAD_SRC) $(WIN32_THREAD_SRC) $(NO_THREAD_SRC)\n \n+libgcj0_convenience_la_LDFLAGS = \n+libgcj0_convenience_la_LIBADD = \n+libgcj0_convenience_la_LINK = $(LIBLINK)\n noinst_LTLIBRARIES = libgcj0_convenience.la\n libgcj_la_SOURCES = \n nat_files = $(nat_source_files:.cc=.lo)\n@@ -16144,8 +16147,6 @@ sysdep/$(DEPDIR)/$(am__dirstamp):\n \t@: > sysdep/$(DEPDIR)/$(am__dirstamp)\n sysdep/dwarf2-backtrace.lo: sysdep/$(am__dirstamp) \\\n \tsysdep/$(DEPDIR)/$(am__dirstamp)\n-libgcj0_convenience.la: $(libgcj0_convenience_la_OBJECTS) $(libgcj0_convenience_la_DEPENDENCIES) \n-\t$(GCJLINK)  $(libgcj0_convenience_la_LDFLAGS) $(libgcj0_convenience_la_OBJECTS) $(libgcj0_convenience_la_LIBADD) $(LIBS)\n libgij.la: $(libgij_la_OBJECTS) $(libgij_la_DEPENDENCIES) \n \t$(CXXLINK) -rpath $(toolexeclibdir) $(libgij_la_LDFLAGS) $(libgij_la_OBJECTS) $(libgij_la_LIBADD) $(LIBS)\n libjawt.la: $(libjawt_la_OBJECTS) $(libjawt_la_DEPENDENCIES) \n@@ -26669,6 +26670,7 @@ mostlyclean-local:\n \n clean-local:\n \tfind . -name '*.class' -print | xargs rm -f\n+\tfind . -name '*.objectlist' -print | xargs rm -f\n \n distclean-local:\n \tfind . -name '*.d' -print | xargs rm -f\n@@ -26693,6 +26695,14 @@ libgcj.la: $(libgcj_la_OBJECTS) $(libgcj_la_DEPENDENCIES)\n \t$(libgcj_la_LIBADD) \\\n \t-rpath $(toolexeclibdir) $(libgcj_la_LDFLAGS) $(LIBS)\n \n+libgcj0_convenience.la: $(libgcj0_convenience_la_OBJECTS) $(libgcj0_convenience_la_DEPENDENCIES)\n+\t@echo Creating list of files to link...\n+\t@: $(call write_entries_to_file,$(libgcj0_convenience_la_OBJECTS),libgcj0_convenience.objectlist)\n+\t$(libgcj0_convenience_la_LINK) \\\n+\t-objectlist libgcj0_convenience.objectlist \\\n+\t$(libgcj0_convenience_la_LIBADD) \\\n+\t-rpath $(toolexeclibdir) $(libgcj0_convenience_la_LDFLAGS) $(LIBS)\n+\n lib-gnu-awt-xlib.la: $(lib_gnu_awt_xlib_la_OBJECTS) $(lib_gnu_awt_xlib_la_DEPENDENCIES)\n \t@echo Creating list of files to link...\n \t@: $(call write_entries_to_file,$(lib_gnu_awt_xlib_la_OBJECTS) $(lib_gnu_awt_xlib_la_LIBADD),lib_gnu_awt_xlib.objectlist)"}]}