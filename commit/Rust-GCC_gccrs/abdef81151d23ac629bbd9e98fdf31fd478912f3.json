{"sha": "abdef81151d23ac629bbd9e98fdf31fd478912f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWJkZWY4MTE1MWQyM2FjNjI5YmJkOWU5OGZkZjMxZmQ0Nzg5MTJmMw==", "commit": {"author": {"name": "Bud Davis", "email": "bdavis9659@comcast.net", "date": "2004-05-14T12:21:22Z"}, "committer": {"name": "Bud Davis", "email": "bdavis@gcc.gnu.org", "date": "2004-05-14T12:21:22Z"}, "message": "re PR libfortran/15149 (problem computing Pi)\n\n        PR fortran/15149\n        * gfortran.fortran-torture/execute/random_init.f90: New test.\n        * libgfortan.h,intrinsics/random.c: Made random_seed visible.\n        * runtime/main.c(init): Call random_seed as part of MAIN init.\n\nFrom-SVN: r81836", "tree": {"sha": "8eb3b34c4abee050f0ff71451a9f05b1c5fa40de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8eb3b34c4abee050f0ff71451a9f05b1c5fa40de"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/abdef81151d23ac629bbd9e98fdf31fd478912f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abdef81151d23ac629bbd9e98fdf31fd478912f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abdef81151d23ac629bbd9e98fdf31fd478912f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abdef81151d23ac629bbd9e98fdf31fd478912f3/comments", "author": null, "committer": null, "parents": [{"sha": "084c663c9911a6649407b9956d9d2d59499cd03c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/084c663c9911a6649407b9956d9d2d59499cd03c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/084c663c9911a6649407b9956d9d2d59499cd03c"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "c3a62881facbbe870ffbb545d4f69ee4a072edd0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abdef81151d23ac629bbd9e98fdf31fd478912f3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abdef81151d23ac629bbd9e98fdf31fd478912f3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=abdef81151d23ac629bbd9e98fdf31fd478912f3", "patch": "@@ -1,3 +1,8 @@\n+2004-05-14  Bud Davis  <bdavis9659@comcast.net>\n+\n+\tPR fortran/15149\n+\t* gfortran.fortran-torture/execute/random_init.f90: New test.\n+\n 2004-05-13  Paul Brook  <paul@codesourcery.com>\n \n \tPR fortran/15314"}, {"sha": "36394589d8bc6e0464f693a2bfc3c4148041288c", "filename": "gcc/testsuite/gfortran.fortran-torture/execute/random_init.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abdef81151d23ac629bbd9e98fdf31fd478912f3/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fexecute%2Frandom_init.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abdef81151d23ac629bbd9e98fdf31fd478912f3/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fexecute%2Frandom_init.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fexecute%2Frandom_init.f90?ref=abdef81151d23ac629bbd9e98fdf31fd478912f3", "patch": "@@ -0,0 +1,11 @@\n+! pr 15149\n+! verify the random number generator is functional\n+      program test_random\n+      implicit none\n+      real :: r(5) = 0.0\n+\n+      call random_number(r)\n+      if (all (r .eq. 0)) call abort\n+      end program\n+\n+"}, {"sha": "bbf22d4d08228a0a33b6448daccd95908e677ce9", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=abdef81151d23ac629bbd9e98fdf31fd478912f3", "patch": "@@ -1,3 +1,9 @@\n+2004-05-14  Bud Davis  <bdavis9659@comcast.net>\n+\n+\tPR fortran/15149\n+\t* libgfortan.h,intrinsics/random.c: Made random_seed visible.\n+\t* runtime/main.c(init): Call random_seed as part of MAIN init.\n+\n 2004-05-13  Tobias Schl\ufffdter  <tobias.schlueter@physik.uni-muenchen.de>\n \n \t* io/format.c: (parse_format_list): No comma is required after"}, {"sha": "120c9517fa2f11b69b797f295d8a3f42f662b5e9", "filename": "libgfortran/intrinsics/random.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2Fintrinsics%2Frandom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2Fintrinsics%2Frandom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Frandom.c?ref=abdef81151d23ac629bbd9e98fdf31fd478912f3", "patch": "@@ -70,7 +70,6 @@ static unsigned int seed[N];\n /* This is the routine which handles the seeding of the generator,\n    and also reading and writing of the seed.  */\n \n-#define random_seed prefix(random_seed)\n void\n random_seed (GFC_INTEGER_4 * size, const gfc_array_i4 * put,\n \t     const gfc_array_i4 * get)"}, {"sha": "112fd075dcf8fa04b06f0ae54af1bbf22c8bb91f", "filename": "libgfortran/libgfortran.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2Flibgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2Flibgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Flibgfortran.h?ref=abdef81151d23ac629bbd9e98fdf31fd478912f3", "patch": "@@ -396,5 +396,11 @@ void internal_unpack_8 (gfc_array_i8 *, const GFC_INTEGER_8 *);\n GFC_INTEGER_4 compare_string (GFC_INTEGER_4, const char *,\n \t\t\t      GFC_INTEGER_4, const char *);\n \n+/* random.c */\n+\n+#define random_seed prefix(random_seed)\n+void random_seed (GFC_INTEGER_4 * size, const gfc_array_i4 * put,\n+             const gfc_array_i4 * get);\n+\n #endif\n "}, {"sha": "e3eaf2b2ffcc3b5a02c78a41cc8ad4642ffb3a01", "filename": "libgfortran/runtime/main.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2Fruntime%2Fmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abdef81151d23ac629bbd9e98fdf31fd478912f3/libgfortran%2Fruntime%2Fmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Fmain.c?ref=abdef81151d23ac629bbd9e98fdf31fd478912f3", "patch": "@@ -100,6 +100,8 @@ init (void)\n #endif\n \n   memory_init ();\n+  random_seed(NULL,NULL,NULL);\n+\n }\n \n "}]}