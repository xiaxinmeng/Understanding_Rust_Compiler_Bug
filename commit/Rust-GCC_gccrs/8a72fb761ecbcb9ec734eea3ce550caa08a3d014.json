{"sha": "8a72fb761ecbcb9ec734eea3ce550caa08a3d014", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGE3MmZiNzYxZWNiY2I5ZWM3MzRlZWEzY2U1NTBjYWEwOGEzZDAxNA==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "rakdver@atrey.karlin.mff.cuni.cz", "date": "2002-05-31T11:09:17Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2002-05-31T11:09:17Z"}, "message": "cfgloop.c (flow_loops_find): Initialize first and last fields correctly.\n\n\t* cfgloop.c (flow_loops_find): Initialize first and last fields\n\tcorrectly.\n\nFrom-SVN: r54104", "tree": {"sha": "d4430a77bc104b74e1942c1593f798f1f7300879", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4430a77bc104b74e1942c1593f798f1f7300879"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a72fb761ecbcb9ec734eea3ce550caa08a3d014", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a72fb761ecbcb9ec734eea3ce550caa08a3d014", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a72fb761ecbcb9ec734eea3ce550caa08a3d014", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a72fb761ecbcb9ec734eea3ce550caa08a3d014/comments", "author": null, "committer": null, "parents": [{"sha": "ba9e1571a0e065e80e0dc0a2b43e13c45b12cf25", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba9e1571a0e065e80e0dc0a2b43e13c45b12cf25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba9e1571a0e065e80e0dc0a2b43e13c45b12cf25"}], "stats": {"total": 21, "additions": 16, "deletions": 5}, "files": [{"sha": "b2027582869173fa24a41e94184fc184cc75cbfe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a72fb761ecbcb9ec734eea3ce550caa08a3d014/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a72fb761ecbcb9ec734eea3ce550caa08a3d014/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8a72fb761ecbcb9ec734eea3ce550caa08a3d014", "patch": "@@ -1,3 +1,8 @@\n+2002-05-31  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n+\n+\t* cfgloop.c (flow_loops_find): Initialize first and last fields\n+\tcorrectly.\n+\n 2002-05-31  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* c-common.c (builtin_define_std): Correct logic."}, {"sha": "7b0c8415d883263ed0ed2d2cba5ea6c357ec61f6", "filename": "gcc/cfgloop.c", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a72fb761ecbcb9ec734eea3ce550caa08a3d014/gcc%2Fcfgloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a72fb761ecbcb9ec734eea3ce550caa08a3d014/gcc%2Fcfgloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloop.c?ref=8a72fb761ecbcb9ec734eea3ce550caa08a3d014", "patch": "@@ -644,7 +644,7 @@ flow_loops_find (loops, flags)\n   sbitmap *dom;\n   int *dfs_order;\n   int *rc_order;\n-  basic_block header;\n+  basic_block header, bb;\n \n   /* This function cannot be repeatedly called with different\n      flags to build up the loop information.  The loop tree\n@@ -768,10 +768,16 @@ flow_loops_find (loops, flags)\n \t     These are often the same as the loop header and\n \t     loop latch respectively, but this is not always\n \t     the case.  */\n-\t  loop->first\n-\t    = BASIC_BLOCK (sbitmap_first_set_bit (loop->nodes));\n-\t  loop->last\n-\t    = BASIC_BLOCK (sbitmap_last_set_bit (loop->nodes));\n+\n+\t  FOR_EACH_BB (bb)\n+\t    if (TEST_BIT (loop->nodes, bb->index))\n+\t      break;\n+\t  loop->first = bb;\n+\n+\t  FOR_EACH_BB_REVERSE (bb)\n+\t    if (TEST_BIT (loop->nodes, bb->index))\n+\t      break;\n+\t  loop->last = bb;\n \n \t  flow_loop_scan (loops, loop, flags);\n \t}"}]}