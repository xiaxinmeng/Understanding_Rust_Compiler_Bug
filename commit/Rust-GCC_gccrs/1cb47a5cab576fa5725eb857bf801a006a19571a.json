{"sha": "1cb47a5cab576fa5725eb857bf801a006a19571a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNiNDdhNWNhYjU3NmZhNTcyNWViODU3YmY4MDFhMDA2YTE5NTcxYQ==", "commit": {"author": {"name": "Martin v. L\u00f6wis", "email": "loewis@informatik.hu-berlin.de", "date": "2000-01-01T13:29:44Z"}, "committer": {"name": "Martin v. L\u00f6wis", "email": "loewis@gcc.gnu.org", "date": "2000-01-01T13:29:44Z"}, "message": "* call.c (build_new_method_call): Also check destructors.\n\nFrom-SVN: r31157", "tree": {"sha": "71fc1f2a912ec4b7ef65e2eb96f51e6a4ba92aa5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71fc1f2a912ec4b7ef65e2eb96f51e6a4ba92aa5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cb47a5cab576fa5725eb857bf801a006a19571a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cb47a5cab576fa5725eb857bf801a006a19571a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cb47a5cab576fa5725eb857bf801a006a19571a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cb47a5cab576fa5725eb857bf801a006a19571a/comments", "author": null, "committer": null, "parents": [{"sha": "3bdf58486dbd0f79546c871c118d6f218516db71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bdf58486dbd0f79546c871c118d6f218516db71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bdf58486dbd0f79546c871c118d6f218516db71"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "630a1fa34db7d2dddb22c6a1498a66cc5b6a0da9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cb47a5cab576fa5725eb857bf801a006a19571a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cb47a5cab576fa5725eb857bf801a006a19571a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1cb47a5cab576fa5725eb857bf801a006a19571a", "patch": "@@ -1,3 +1,7 @@\n+1999-01-01  Martin v. L\ufffdwis  <loewis@informatik.hu-berlin.de>\n+\n+\t* call.c (build_new_method_call): Also check destructors.\n+\n 1999-12-31  Mark Mitchell  <mark@codesourcery.com>\n \n \t* cp-tree.h (VF_NORMAL_VALUE): Remove."}, {"sha": "596cc325309f99f9bf2a1f0225503385269b5c1a", "filename": "gcc/cp/call.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cb47a5cab576fa5725eb857bf801a006a19571a/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cb47a5cab576fa5725eb857bf801a006a19571a/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=1cb47a5cab576fa5725eb857bf801a006a19571a", "patch": "@@ -1,5 +1,5 @@\n /* Functions related to invoking methods and overloaded functions.\n-   Copyright (C) 1987, 92-97, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 92-99, 2000 Free Software Foundation, Inc.\n    Contributed by Michael Tiemann (tiemann@cygnus.com) and\n    modified by Brendan Kehoe (brendan@cygnus.com).\n \n@@ -4321,10 +4321,14 @@ build_new_method_call (instance, name, args, basetype_path, flags)\n \n   if (DECL_PURE_VIRTUAL_P (cand->fn)\n       && instance == current_class_ref\n-      && DECL_CONSTRUCTOR_P (current_function_decl)\n+      && (DECL_CONSTRUCTOR_P (current_function_decl)\n+\t  || DECL_DESTRUCTOR_P (current_function_decl))\n       && ! (flags & LOOKUP_NONVIRTUAL)\n       && value_member (cand->fn, CLASSTYPE_PURE_VIRTUALS (basetype)))\n-    cp_error (\"abstract virtual `%#D' called from constructor\", cand->fn);\n+    cp_error ((DECL_CONSTRUCTOR_P (current_function_decl) ? \n+\t       \"abstract virtual `%#D' called from constructor\"\n+\t       : \"abstract virtual `%#D' called from destructor\"),\n+\t      cand->fn);\n   if (TREE_CODE (TREE_TYPE (cand->fn)) == METHOD_TYPE\n       && is_dummy_object (instance_ptr))\n     {"}]}