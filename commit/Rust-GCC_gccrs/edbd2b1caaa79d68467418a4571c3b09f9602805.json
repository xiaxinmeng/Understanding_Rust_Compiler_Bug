{"sha": "edbd2b1caaa79d68467418a4571c3b09f9602805", "node_id": "C_kwDOANBUbNoAKGVkYmQyYjFjYWFhNzlkNjg0Njc0MThhNDU3MWMzYjA5Zjk2MDI4MDU", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-05-05T21:10:23Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-05-12T11:28:23Z"}, "message": "libgomp plugins: Don't 'AC_SUBST' and 'AC_DEFINE_UNQUOTED' for 'PLUGIN_GCN', 'PLUGIN_NVPTX'\n\nNothing ever used these.\n\n\tlibgomp/\n\t* plugin/configfrag.ac: Don't 'AC_SUBST' and 'AC_DEFINE_UNQUOTED'\n\tfor 'PLUGIN_GCN', 'PLUGIN_NVPTX'.\n\t* Makefile.in: Regenerate.\n\t* config.h.in: Likewise.\n\t* configure: Likewise.\n\t* testsuite/Makefile.in: Likewise.", "tree": {"sha": "daccf531ee97c19ca521e4a9cdff2e96ada36f0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/daccf531ee97c19ca521e4a9cdff2e96ada36f0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/edbd2b1caaa79d68467418a4571c3b09f9602805", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edbd2b1caaa79d68467418a4571c3b09f9602805", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edbd2b1caaa79d68467418a4571c3b09f9602805", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edbd2b1caaa79d68467418a4571c3b09f9602805/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94b8a37fa16f7638cc1965718f4ec71719506743", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94b8a37fa16f7638cc1965718f4ec71719506743", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94b8a37fa16f7638cc1965718f4ec71719506743"}], "stats": {"total": 34, "additions": 2, "deletions": 32}, "files": [{"sha": "1d55f4b65e291977548471f4740490e504fce379", "filename": "libgomp/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FMakefile.in?ref=edbd2b1caaa79d68467418a4571c3b09f9602805", "patch": "@@ -431,9 +431,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n-PLUGIN_GCN = @PLUGIN_GCN@\n PLUGIN_GCN_LIBS = @PLUGIN_GCN_LIBS@\n-PLUGIN_NVPTX = @PLUGIN_NVPTX@\n PLUGIN_NVPTX_CPPFLAGS = @PLUGIN_NVPTX_CPPFLAGS@\n PLUGIN_NVPTX_LDFLAGS = @PLUGIN_NVPTX_LDFLAGS@\n PLUGIN_NVPTX_LIBS = @PLUGIN_NVPTX_LIBS@"}, {"sha": "5611ed925ad18fec35d718c505c39ef29c0635eb", "filename": "libgomp/config.h.in", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig.h.in?ref=edbd2b1caaa79d68467418a4571c3b09f9602805", "patch": "@@ -170,12 +170,6 @@\n /* Define to the version of this package. */\n #undef PACKAGE_VERSION\n \n-/* Define to 1 if the GCN plugin is built, 0 if not. */\n-#undef PLUGIN_GCN\n-\n-/* Define to 1 if the NVIDIA plugin is built, 0 if not. */\n-#undef PLUGIN_NVPTX\n-\n /* Define to 1 if the NVIDIA plugin should dlopen libcuda.so.1, 0 if it should\n    be linked against it. */\n #undef PLUGIN_NVPTX_DYNAMIC"}, {"sha": "be675a6b8abb0275e12b664682f6d8674350ce5b", "filename": "libgomp/configure", "status": "modified", "additions": 2, "deletions": 16, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=edbd2b1caaa79d68467418a4571c3b09f9602805", "patch": "@@ -674,11 +674,9 @@ offload_additional_options\n offload_targets\n offload_plugins\n PLUGIN_GCN_LIBS\n-PLUGIN_GCN\n PLUGIN_NVPTX_LIBS\n PLUGIN_NVPTX_LDFLAGS\n PLUGIN_NVPTX_CPPFLAGS\n-PLUGIN_NVPTX\n CUDA_DRIVER_LIB\n CUDA_DRIVER_INCLUDE\n libtool_VERSION\n@@ -11414,7 +11412,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11417 \"configure\"\n+#line 11415 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11520,7 +11518,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11523 \"configure\"\n+#line 11521 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -15220,12 +15218,10 @@ PLUGIN_NVPTX_DYNAMIC=0\n \n \n \n-\n PLUGIN_GCN=0\n PLUGIN_GCN_LIBS=\n \n \n-\n # Parse '--enable-offload-targets', figure out the corresponding libgomp\n # plugins, and configure to find the corresponding offload compilers.\n # 'offload_plugins' and 'offload_targets' will be populated in the same order.\n@@ -15373,11 +15369,6 @@ else\n fi\n \n \n-cat >>confdefs.h <<_ACEOF\n-#define PLUGIN_NVPTX $PLUGIN_NVPTX\n-_ACEOF\n-\n-\n cat >>confdefs.h <<_ACEOF\n #define PLUGIN_NVPTX_DYNAMIC $PLUGIN_NVPTX_DYNAMIC\n _ACEOF\n@@ -15391,11 +15382,6 @@ else\n fi\n \n \n-cat >>confdefs.h <<_ACEOF\n-#define PLUGIN_GCN $PLUGIN_GCN\n-_ACEOF\n-\n-\n \n # Check for functions needed.\n for ac_func in getloadavg clock_gettime strtoull"}, {"sha": "1a61db94381ddeb64e3996c7938694827d25a317", "filename": "libgomp/plugin/configfrag.ac", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Fplugin%2Fconfigfrag.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Fplugin%2Fconfigfrag.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fplugin%2Fconfigfrag.ac?ref=edbd2b1caaa79d68467418a4571c3b09f9602805", "patch": "@@ -86,14 +86,12 @@ PLUGIN_NVPTX_CPPFLAGS=\n PLUGIN_NVPTX_LDFLAGS=\n PLUGIN_NVPTX_LIBS=\n PLUGIN_NVPTX_DYNAMIC=0\n-AC_SUBST(PLUGIN_NVPTX)\n AC_SUBST(PLUGIN_NVPTX_CPPFLAGS)\n AC_SUBST(PLUGIN_NVPTX_LDFLAGS)\n AC_SUBST(PLUGIN_NVPTX_LIBS)\n \n PLUGIN_GCN=0\n PLUGIN_GCN_LIBS=\n-AC_SUBST(PLUGIN_GCN)\n AC_SUBST(PLUGIN_GCN_LIBS)\n \n # Parse '--enable-offload-targets', figure out the corresponding libgomp\n@@ -221,10 +219,6 @@ fi\n AC_DEFINE_UNQUOTED(OFFLOAD_PLUGINS, \"$offload_plugins\",\n   [Define to offload plugins, separated by commas.])\n AM_CONDITIONAL([PLUGIN_NVPTX], [test $PLUGIN_NVPTX = 1])\n-AC_DEFINE_UNQUOTED([PLUGIN_NVPTX], [$PLUGIN_NVPTX],\n-  [Define to 1 if the NVIDIA plugin is built, 0 if not.])\n AC_DEFINE_UNQUOTED([PLUGIN_NVPTX_DYNAMIC], [$PLUGIN_NVPTX_DYNAMIC],\n   [Define to 1 if the NVIDIA plugin should dlopen libcuda.so.1, 0 if it should be linked against it.])\n AM_CONDITIONAL([PLUGIN_GCN], [test $PLUGIN_GCN = 1])\n-AC_DEFINE_UNQUOTED([PLUGIN_GCN], [$PLUGIN_GCN],\n-  [Define to 1 if the GCN plugin is built, 0 if not.])"}, {"sha": "2d1bf8f20d76e739e91a9aa99f3245fe3a6eee6e", "filename": "libgomp/testsuite/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbd2b1caaa79d68467418a4571c3b09f9602805/libgomp%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2FMakefile.in?ref=edbd2b1caaa79d68467418a4571c3b09f9602805", "patch": "@@ -209,9 +209,7 @@ PACKAGE_URL = @PACKAGE_URL@\n PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n-PLUGIN_GCN = @PLUGIN_GCN@\n PLUGIN_GCN_LIBS = @PLUGIN_GCN_LIBS@\n-PLUGIN_NVPTX = @PLUGIN_NVPTX@\n PLUGIN_NVPTX_CPPFLAGS = @PLUGIN_NVPTX_CPPFLAGS@\n PLUGIN_NVPTX_LDFLAGS = @PLUGIN_NVPTX_LDFLAGS@\n PLUGIN_NVPTX_LIBS = @PLUGIN_NVPTX_LIBS@"}]}