{"sha": "884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODg0ZDJlNmIyODI2YTA4YjNiNTQ3ZDJkOGZhZGViZmU1YTE1N2M0Zg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2007-01-30T17:49:24Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2007-01-30T17:49:24Z"}, "message": "re PR fortran/30432 ([4.1 only] gfortran.dg/c_by_val_1.f fails on ia64-*-*, problem with %VAL)\n\n\tPR fortran/30432\n\t* trans-types.c (gfc_get_function_type):  Do not add void_type_node\n\tto empty arg list.\n\t* trans-decl.c (create_function_arglist): Change assert.\n\nFrom-SVN: r121347", "tree": {"sha": "a5668f085b62ff9f0655a4623f6e84ede7037e82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5668f085b62ff9f0655a4623f6e84ede7037e82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/comments", "author": null, "committer": null, "parents": [{"sha": "d6c716bdd833e82292eb1f5d42f1fbf45063a132", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6c716bdd833e82292eb1f5d42f1fbf45063a132", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6c716bdd833e82292eb1f5d42f1fbf45063a132"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "33ebbf65ab2140f487b5bb0d2172af20f7bc6bb2", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "patch": "@@ -1,3 +1,10 @@\n+2007-01-30  Steve Ellcey  <sje@cup.hp.com>\n+\n+\tPR fortran/30432\n+\t* trans-types.c (gfc_get_function_type):  Do not add void_type_node\n+\tto empty arg list.\n+\t* trans-decl.c (create_function_arglist): Change assert.\n+\n 2007-01-29  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/30554"}, {"sha": "3b52b9d830bba17975a3f0d93c2e4eb8eeac4626", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "patch": "@@ -1512,7 +1512,8 @@ create_function_arglist (gfc_symbol * sym)\n   /* Add the hidden string length parameters.  */\n   arglist = chainon (arglist, hidden_arglist);\n \n-  gcc_assert (TREE_VALUE (hidden_typelist) == void_type_node);\n+  gcc_assert (hidden_typelist == NULL_TREE\n+              || TREE_VALUE (hidden_typelist) == void_type_node);\n   DECL_ARGUMENTS (fndecl) = arglist;\n }\n "}, {"sha": "16121891a39656cd5b26017f35f98a604943ee20", "filename": "gcc/fortran/trans-types.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/gcc%2Ffortran%2Ftrans-types.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/884d2e6b2826a08b3b547d2d8fadebfe5a157c4f/gcc%2Ffortran%2Ftrans-types.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-types.c?ref=884d2e6b2826a08b3b547d2d8fadebfe5a157c4f", "patch": "@@ -1768,7 +1768,8 @@ gfc_get_function_type (gfc_symbol * sym)\n   while (nstr--)\n     typelist = gfc_chainon_list (typelist, gfc_charlen_type_node);\n \n-  typelist = gfc_chainon_list (typelist, void_type_node);\n+  if (typelist)\n+    typelist = gfc_chainon_list (typelist, void_type_node);\n \n   if (alternate_return)\n     type = integer_type_node;"}]}