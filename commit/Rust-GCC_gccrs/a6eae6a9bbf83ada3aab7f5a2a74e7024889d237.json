{"sha": "a6eae6a9bbf83ada3aab7f5a2a74e7024889d237", "node_id": "C_kwDOANBUbNoAKGE2ZWFlNmE5YmJmODNhZGEzYWFiN2Y1YTJhNzRlNzAyNDg4OWQyMzc", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2021-11-29T10:15:26Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-01-10T09:38:46Z"}, "message": "[Ada] Reduce runtime dependencies on stage1\n\ngcc/ada/\n\n\t* gcc-interface/Make-lang.in (ADA_GENERATED_FILES): Remove\n\ts-casuti.ad?, s-crtl.ad?, s-os_lib.ad?.  Update list of object\n\tfiles accordingly.", "tree": {"sha": "89749de3f9b94f59d37683648961e1ea729490fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/89749de3f9b94f59d37683648961e1ea729490fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6eae6a9bbf83ada3aab7f5a2a74e7024889d237", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6eae6a9bbf83ada3aab7f5a2a74e7024889d237", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6eae6a9bbf83ada3aab7f5a2a74e7024889d237", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6eae6a9bbf83ada3aab7f5a2a74e7024889d237/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41899cd372630dfd74bb928568a48e976e1baf66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41899cd372630dfd74bb928568a48e976e1baf66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41899cd372630dfd74bb928568a48e976e1baf66"}], "stats": {"total": 55, "additions": 26, "deletions": 29}, "files": [{"sha": "40e7a9f670c956b3194431bfd7228d095c7f6010", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 26, "deletions": 29, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6eae6a9bbf83ada3aab7f5a2a74e7024889d237/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6eae6a9bbf83ada3aab7f5a2a74e7024889d237/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=a6eae6a9bbf83ada3aab7f5a2a74e7024889d237", "patch": "@@ -271,8 +271,7 @@ GCC_LLINK=$(LLINKER) $(GCC_LINKERFLAGS) $(LDFLAGS)\n # Languages-specific object files for Ada.\n \n # Object files from C sources that are used by gnat1\n-# Most of the non-gigi files are needed because of s-crtl.o and s-os_lib.o\n-# But adadecode.o should not be needed with sufficiently recent compilers\n+# adadecode.o should not be needed with sufficiently recent compilers\n GNAT1_C_OBJS =   \\\n  ada/cuintp.o    \\\n  ada/decl.o      \\\n@@ -281,15 +280,9 @@ GNAT1_C_OBJS =   \\\n  ada/utils2.o    \\\n  ada/trans.o     \\\n  ada/targtyps.o  \\\n- ada/adadecode.o \\\n- ada/adaint.o    \\\n- ada/argv.o      \\\n- ada/cio.o       \\\n- ada/cstreams.o  \\\n- ada/env.o       \\\n- ada/errno.o     \\\n+ ada/version.o   \\\n  ada/targext.o   \\\n- ada/version.o\n+ ada/adadecode.o\n \n # Object files from Ada sources that are used by gnat1\n GNAT_ADA_OBJS =\t\\\n@@ -465,14 +458,17 @@ GNAT_ADA_OBJS =\t\\\n  ada/g-graphs.o\t\\\n  ada/g-lists.o\t\\\n  ada/g-sets.o\t\\\n- ada/s-casuti.o\t\\\n- ada/s-crtl.o\t\\\n- ada/s-os_lib.o\t\\\n  ada/s-pehage.o\t\\\n  ada/s-utf_32.o\n \n ifeq ($(STAGE1),False)\n GNAT1_C_OBJS+=    \\\n+ ada/adaint.o     \\\n+ ada/argv.o       \\\n+ ada/cio.o        \\\n+ ada/cstreams.o   \\\n+ ada/env.o        \\\n+ ada/errno.o      \\\n  ada/init.o       \\\n  ada/initialize.o \\\n  ada/raise.o      \\\n@@ -504,6 +500,8 @@ GNAT_ADA_OBJS+= \\\n  ada/libgnat/s-assert.o\t\\\n  ada/libgnat/s-bitops.o\t\\\n  ada/libgnat/s-carun8.o\t\\\n+ ada/libgnat/s-casuti.o \\\n+ ada/libgnat/s-crtl.o\t\\\n  ada/libgnat/s-conca2.o\t\\\n  ada/libgnat/s-conca3.o\t\\\n  ada/libgnat/s-conca4.o\t\\\n@@ -521,6 +519,7 @@ GNAT_ADA_OBJS+= \\\n  ada/libgnat/s-imgint.o\t\\\n  ada/libgnat/s-mastop.o\t\\\n  ada/libgnat/s-memory.o\t\\\n+ ada/libgnat/s-os_lib.o\t\\\n  ada/libgnat/s-parame.o\t\\\n  ada/libgnat/s-purexc.o\t\\\n  ada/libgnat/s-restri.o\t\\\n@@ -621,6 +620,7 @@ GNATBIND_OBJS = \\\n  ada/switch-b.o   \\\n  ada/switch.o     \\\n  ada/table.o      \\\n+ ada/targext.o    \\\n  ada/targparm.o   \\\n  ada/types.o      \\\n  ada/uintp.o      \\\n@@ -632,18 +632,9 @@ GNATBIND_OBJS = \\\n  ada/g-lists.o    \\\n  ada/g-graphs.o   \\\n  ada/g-sets.o     \\\n- ada/s-casuti.o   \\\n- ada/s-os_lib.o   \\\n  ada/s-resfil.o   \\\n- ada/s-utf_32.o   \\\n- ada/adaint.o     \\\n- ada/argv.o       \\\n- ada/cio.o        \\\n- ada/cstreams.o   \\\n- ada/env.o        \\\n- ada/errno.o      \\\n- ada/targext.o    \\\n- ada/version.o\n+ ada/version.o    \\\n+ ada/s-utf_32.o\n \n ifeq ($(STAGE1),False)\n GNATBIND_OBJS +=  \\\n@@ -666,6 +657,7 @@ GNATBIND_OBJS +=  \\\n  ada/libgnat/s-addope.o   \\\n  ada/libgnat/s-assert.o   \\\n  ada/libgnat/s-carun8.o   \\\n+ ada/libgnat/s-casuti.o   \\\n  ada/libgnat/s-conca2.o   \\\n  ada/libgnat/s-conca3.o   \\\n  ada/libgnat/s-conca4.o   \\\n@@ -683,6 +675,7 @@ GNATBIND_OBJS +=  \\\n  ada/libgnat/s-imgint.o   \\\n  ada/libgnat/s-mastop.o   \\\n  ada/libgnat/s-memory.o   \\\n+ ada/libgnat/s-os_lib.o   \\\n  ada/libgnat/s-parame.o   \\\n  ada/libgnat/s-restri.o   \\\n  ada/libgnat/s-secsta.o   \\\n@@ -699,7 +692,13 @@ GNATBIND_OBJS +=  \\\n  ada/libgnat/s-wchcnv.o   \\\n  ada/libgnat/s-wchcon.o   \\\n  ada/libgnat/s-wchjis.o   \\\n- ada/libgnat/s-wchstw.o\n+ ada/libgnat/s-wchstw.o   \\\n+ ada/adaint.o     \\\n+ ada/argv.o       \\\n+ ada/cio.o        \\\n+ ada/cstreams.o   \\\n+ ada/env.o        \\\n+ ada/errno.o\n endif\n \n # Language-independent object files.\n@@ -1186,10 +1185,8 @@ ADA_GENERATED_FILES = \\\n   ada/gnat.ads ada/g-dynhta.ads ada/g-dynhta.adb \\\n   ada/g-dyntab.ads ada/g-dyntab.adb ada/g-graphs.ads ada/g-graphs.adb \\\n   ada/g-lists.ads ada/g-lists.adb ada/g-sets.ads ada/g-sets.adb \\\n-  ada/s-casuti.ads ada/s-casuti.adb \\\n-  ada/s-crtl.ads ada/s-rident.ads ada/s-pehage.ads ada/s-pehage.adb \\\n-  ada/s-os_lib.ads ada/s-os_lib.adb ada/s-resfil.ads ada/s-resfil.adb \\\n-  ada/s-utf_32.ads ada/s-utf_32.adb\n+  ada/s-rident.ads ada/s-pehage.ads ada/s-pehage.adb \\\n+  ada/s-resfil.ads ada/s-resfil.adb ada/s-utf_32.ads ada/s-utf_32.adb\n \n # Only used to manually trigger the creation of the generated files.\n .PHONY:"}]}