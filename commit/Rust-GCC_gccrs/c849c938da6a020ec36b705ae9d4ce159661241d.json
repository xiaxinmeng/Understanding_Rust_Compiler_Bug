{"sha": "c849c938da6a020ec36b705ae9d4ce159661241d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg0OWM5MzhkYTZhMDIwZWMzNmI3MDVhZTlkNGNlMTU5NjYxMjQxZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2006-02-20T14:20:51Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2006-02-20T14:20:51Z"}, "message": "Revert recent commit for libstdc++/26211, now suspended waiting for DR 342 (reopened) to reach a new resolution.\n\n2006-02-20  Paolo Carlini  <pcarlini@suse.de>\n\n\tRevert recent commit for libstdc++/26211, now suspended waiting for\n\tDR 342 (reopened) to reach a new resolution.\n\t* include/bits/istream.tcc (basic_istream<>::tellg, seekg(pos_type),\n\tseekg(off_type, ios_base::seekdir)): Remove sentry.\n\t* testsuite/27_io/basic_istream/seekg/char/26211.cc: Remove.\n\t* testsuite/27_io/basic_istream/seekg/wchar_t/26211.cc: Likewise.\n\t* testsuite/27_io/basic_istream/tellg/char/26211.cc: Likewise.\n\t* testsuite/27_io/basic_istream/tellg/wchar_t/26211.cc: Likewise.\n\t* testsuite/27_io/basic_istream/seekg/char/8348-1.cc: Revert changes.\n\t* testsuite/27_io/basic_istream/seekg/wchar_t/8348-1.cc: Likewise.\n\t* testsuite/27_io/basic_istream/seekg/char/8348-2.cc: Likewise.\n\t* testsuite/27_io/basic_istream/seekg/wchar_t/8348-1.cc: Likewise.\n\t* testsuite/27_io/basic_istream/tellg/char/8348.cc: Likewise.\n\t* testsuite/27_io/basic_istream/tellg/wchar_t/8348.cc: Likewise.\n\nFrom-SVN: r111302", "tree": {"sha": "5d06547b1e485b617c00e65e3fcd9213a489f921", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d06547b1e485b617c00e65e3fcd9213a489f921"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c849c938da6a020ec36b705ae9d4ce159661241d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c849c938da6a020ec36b705ae9d4ce159661241d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c849c938da6a020ec36b705ae9d4ce159661241d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c849c938da6a020ec36b705ae9d4ce159661241d/comments", "author": null, "committer": null, "parents": [{"sha": "3c90c9ae61060bdc092b64b2d0189f88ede9267f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c90c9ae61060bdc092b64b2d0189f88ede9267f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c90c9ae61060bdc092b64b2d0189f88ede9267f"}], "stats": {"total": 331, "additions": 51, "deletions": 280}, "files": [{"sha": "522293e31b1d7fd277b8add1ed523f66843d2316", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -1,3 +1,20 @@\n+2006-02-20  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tRevert recent commit for libstdc++/26211, now suspended waiting for\n+\tDR 342 (reopened) to reach a new resolution.\n+\t* include/bits/istream.tcc (basic_istream<>::tellg, seekg(pos_type),\n+\tseekg(off_type, ios_base::seekdir)): Remove sentry.\n+\t* testsuite/27_io/basic_istream/seekg/char/26211.cc: Remove.\n+\t* testsuite/27_io/basic_istream/seekg/wchar_t/26211.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/tellg/char/26211.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/tellg/wchar_t/26211.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/seekg/char/8348-1.cc: Revert changes.\n+\t* testsuite/27_io/basic_istream/seekg/wchar_t/8348-1.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/seekg/char/8348-2.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/seekg/wchar_t/8348-1.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/tellg/char/8348.cc: Likewise.\n+\t* testsuite/27_io/basic_istream/tellg/wchar_t/8348.cc: Likewise.\n+\n 2006-02-19  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/std/std_sstream.h (basic_stringbuf<>::setbuf): Simply"}, {"sha": "dca39ec1424c6c8d57ebdec1e560a82e47821b83", "filename": "libstdc++-v3/include/bits/istream.tcc", "status": "modified", "additions": 34, "deletions": 46, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -711,18 +711,14 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n       // _GLIBCXX_RESOLVE_LIB_DEFECTS\n       // DR60.  Do not change _M_gcount.\n       pos_type __ret = pos_type(-1);\n-      sentry __cerb(*this, true);\n-      if (__cerb)\n+      try\n \t{\n-\t  try\n-\t    {\n-\t      if (!this->fail())\n-\t\t__ret = this->rdbuf()->pubseekoff(0, ios_base::cur,\n-\t\t\t\t\t\t  ios_base::in);\n-\t    }\n-\t  catch(...)\n-\t    { this->_M_setstate(ios_base::badbit); }\n+\t  if (!this->fail())\n+\t    __ret = this->rdbuf()->pubseekoff(0, ios_base::cur,\n+\t\t\t\t\t      ios_base::in);\n \t}\n+      catch(...)\n+\t{ this->_M_setstate(ios_base::badbit); }\n       return __ret;\n     }\n \n@@ -733,28 +729,24 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n     {\n       // _GLIBCXX_RESOLVE_LIB_DEFECTS\n       // DR60.  Do not change _M_gcount.\n-      sentry __cerb(*this, true);\n-      if (__cerb)\n+      ios_base::iostate __err = ios_base::iostate(ios_base::goodbit);\n+      try\n \t{\n-\t  ios_base::iostate __err = ios_base::iostate(ios_base::goodbit);\n-\t  try\n+\t  if (!this->fail())\n \t    {\n-\t      if (!this->fail())\n-\t\t{\n-\t\t  // 136.  seekp, seekg setting wrong streams?\n-\t\t  const pos_type __p = this->rdbuf()->pubseekpos(__pos,\n-\t\t\t\t\t\t\t\t ios_base::in);\n-\n-\t\t  // 129. Need error indication from seekp() and seekg()\n-\t\t  if (__p == pos_type(off_type(-1)))\n-\t\t    __err |= ios_base::failbit;\n-\t\t}\n+\t      // 136.  seekp, seekg setting wrong streams?\n+\t      const pos_type __p = this->rdbuf()->pubseekpos(__pos,\n+\t\t\t\t\t\t\t     ios_base::in);\n+\t      \n+\t      // 129.  Need error indication from seekp() and seekg()\n+\t      if (__p == pos_type(off_type(-1)))\n+\t\t__err |= ios_base::failbit;\n \t    }\n-\t  catch(...)\n-\t    { this->_M_setstate(ios_base::badbit); }\n-\t  if (__err)\n-\t    this->setstate(__err);\n \t}\n+      catch(...)\n+\t{ this->_M_setstate(ios_base::badbit); }\n+      if (__err)\n+\tthis->setstate(__err);\n       return *this;\n     }\n \n@@ -765,28 +757,24 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n     {\n       // _GLIBCXX_RESOLVE_LIB_DEFECTS\n       // DR60.  Do not change _M_gcount.\n-      sentry __cerb(*this, true);\n-      if (__cerb)\n+      ios_base::iostate __err = ios_base::iostate(ios_base::goodbit);\n+      try\n \t{\n-\t  ios_base::iostate __err = ios_base::iostate(ios_base::goodbit);\n-\t  try\n+\t  if (!this->fail())\n \t    {\n-\t      if (!this->fail())\n-\t\t{\n-\t\t  // 136.  seekp, seekg setting wrong streams?\n-\t\t  const pos_type __p = this->rdbuf()->pubseekoff(__off, __dir,\n-\t\t\t\t\t\t\t\t ios_base::in);\n-\n-\t\t  // 129. Need error indication from seekp() and seekg()\n-\t\t  if (__p == pos_type(off_type(-1)))\n-\t\t    __err |= ios_base::failbit;\n-\t\t}\n+\t      // 136.  seekp, seekg setting wrong streams?\n+\t      const pos_type __p = this->rdbuf()->pubseekoff(__off, __dir,\n+\t\t\t\t\t\t\t     ios_base::in);\n+\t      \n+\t      // 129.  Need error indication from seekp() and seekg()\n+\t      if (__p == pos_type(off_type(-1)))\n+\t\t__err |= ios_base::failbit;\n \t    }\n-\t  catch(...)\n-\t    { this->_M_setstate(ios_base::badbit); }\n-\t  if (__err)\n-\t    this->setstate(__err);\n \t}\n+      catch(...)\n+\t{ this->_M_setstate(ios_base::badbit); }\n+      if (__err)\n+\tthis->setstate(__err);\n       return *this;\n     }\n "}, {"sha": "4c333d322887bac5981fa3f5b9cb79c97daf49be", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/seekg/char/26211.cc", "status": "removed", "additions": 0, "deletions": 64, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F26211.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F26211.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F26211.cc?ref=3c90c9ae61060bdc092b64b2d0189f88ede9267f", "patch": "@@ -1,64 +0,0 @@\n-// Copyright (C) 2006 Free Software Foundation\n-//\n-// This file is part of the GNU ISO C++ Library.  This library is free\n-// software; you can redistribute it and/or modify it under the\n-// terms of the GNU General Public License as published by the\n-// Free Software Foundation; either version 2, or (at your option)\n-// any later version.\n-\n-// This library is distributed in the hope that it will be useful,\n-// but WITHOUT ANY WARRANTY; without even the implied warranty of\n-// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-// GNU General Public License for more details.\n-\n-// You should have received a copy of the GNU General Public License along\n-// with this library; see the file COPYING.  If not, write to the Free\n-// Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n-// USA.\n-\n-#include <istream>\n-#include <sstream>\n-#include <testsuite_hooks.h>\n-\n-// libstdc++/26211\n-void test01()\n-{\n-  using namespace std;\n-  bool test __attribute__((unused)) = true;\n-  \n-  typedef istringstream::pos_type pos_type;\n-\n-  istringstream iss(\"Duos for Doris\");\n-  ostringstream oss;\n-  \n-  const pos_type p0 = iss.tellg();\n-  VERIFY( p0 == pos_type(0) );\n-  \n-  iss >> oss.rdbuf();\n-  VERIFY( iss.rdstate() == iss.eofbit );\n-\n-  iss.seekg(0, ios_base::beg);\n-  VERIFY( iss.fail() );\n-\n-  iss.clear();\n-  iss.seekg(0, ios_base::beg);\n-  VERIFY( !iss.fail() );\n-  VERIFY( iss.tellg() == p0 );\n-\n-  iss >> oss.rdbuf();\n-  VERIFY( iss.rdstate() == iss.eofbit );\n-\n-  iss.seekg(p0);\n-  VERIFY( iss.fail() );\n-\n-  iss.clear();\n-  iss.seekg(p0);\n-  VERIFY( !iss.fail() );\n-  VERIFY( iss.tellg() == p0 );\n-}\n-\n-int main()\n-{\n-  test01();\n-  return 0;\n-}"}, {"sha": "04a604a4962644d296ddd3e7c63fbdfcfaa4e220", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/seekg/char/8348-1.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F8348-1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F8348-1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F8348-1.cc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -41,7 +41,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(pos1);\n     VERIFY( test = !iss.fail() );\n   }"}, {"sha": "f0ba6f7effbede26146c0b4ca9e5872b7dea151a", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/seekg/char/8348-2.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F8348-2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F8348-2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fchar%2F8348-2.cc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -41,7 +41,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(0, ios_base::beg);\n     VERIFY( test = !iss.fail() );\n   }"}, {"sha": "3397238656e7f4c027e3fb34793a8b46ab68e221", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/seekg/wchar_t/26211.cc", "status": "removed", "additions": 0, "deletions": 64, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F26211.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F26211.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F26211.cc?ref=3c90c9ae61060bdc092b64b2d0189f88ede9267f", "patch": "@@ -1,64 +0,0 @@\n-// Copyright (C) 2006 Free Software Foundation\n-//\n-// This file is part of the GNU ISO C++ Library.  This library is free\n-// software; you can redistribute it and/or modify it under the\n-// terms of the GNU General Public License as published by the\n-// Free Software Foundation; either version 2, or (at your option)\n-// any later version.\n-\n-// This library is distributed in the hope that it will be useful,\n-// but WITHOUT ANY WARRANTY; without even the implied warranty of\n-// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-// GNU General Public License for more details.\n-\n-// You should have received a copy of the GNU General Public License along\n-// with this library; see the file COPYING.  If not, write to the Free\n-// Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n-// USA.\n-\n-#include <istream>\n-#include <sstream>\n-#include <testsuite_hooks.h>\n-\n-// libstdc++/26211\n-void test01()\n-{\n-  using namespace std;\n-  bool test __attribute__((unused)) = true;\n-  \n-  typedef wistringstream::pos_type pos_type;\n-\n-  wistringstream iss(L\"Duos for Doris\");\n-  wostringstream oss;\n-  \n-  const pos_type p0 = iss.tellg();\n-  VERIFY( p0 == pos_type(0) );\n-  \n-  iss >> oss.rdbuf();\n-  VERIFY( iss.rdstate() == iss.eofbit );\n-\n-  iss.seekg(0, ios_base::beg);\n-  VERIFY( iss.fail() );\n-\n-  iss.clear();\n-  iss.seekg(0, ios_base::beg);\n-  VERIFY( !iss.fail() );\n-  VERIFY( iss.tellg() == p0 );\n-\n-  iss >> oss.rdbuf();\n-  VERIFY( iss.rdstate() == iss.eofbit );\n-\n-  iss.seekg(p0);\n-  VERIFY( iss.fail() );\n-\n-  iss.clear();\n-  iss.seekg(p0);\n-  VERIFY( !iss.fail() );\n-  VERIFY( iss.tellg() == p0 );\n-}\n-\n-int main()\n-{\n-  test01();\n-  return 0;\n-}"}, {"sha": "ae379e297940e5ba958b517d2c8884378d272e85", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/seekg/wchar_t/8348-1.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F8348-1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F8348-1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F8348-1.cc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -39,7 +39,6 @@ void test06(void)\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n     iss.seekg(pos1);\n-    iss.clear();\n     VERIFY( test = !iss.fail() );\n   }\n }"}, {"sha": "08ce84853b647a26b8693736bd7cab6b0d68457b", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/seekg/wchar_t/8348-2.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F8348-2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F8348-2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Fseekg%2Fwchar_t%2F8348-2.cc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -38,7 +38,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(0, ios_base::beg);\n     VERIFY( test = !iss.fail() );\n   }"}, {"sha": "f7b6b90b7bd0133a2cc8ebb837ea82b48027611c", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/tellg/char/26211.cc", "status": "removed", "additions": 0, "deletions": 48, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fchar%2F26211.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fchar%2F26211.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fchar%2F26211.cc?ref=3c90c9ae61060bdc092b64b2d0189f88ede9267f", "patch": "@@ -1,48 +0,0 @@\n-// Copyright (C) 2006 Free Software Foundation\n-//\n-// This file is part of the GNU ISO C++ Library.  This library is free\n-// software; you can redistribute it and/or modify it under the\n-// terms of the GNU General Public License as published by the\n-// Free Software Foundation; either version 2, or (at your option)\n-// any later version.\n-\n-// This library is distributed in the hope that it will be useful,\n-// but WITHOUT ANY WARRANTY; without even the implied warranty of\n-// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-// GNU General Public License for more details.\n-\n-// You should have received a copy of the GNU General Public License along\n-// with this library; see the file COPYING.  If not, write to the Free\n-// Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n-// USA.\n-\n-#include <istream>\n-#include <sstream>\n-#include <testsuite_hooks.h>\n-\n-// libstdc++/26211\n-void test01()\n-{\n-  using namespace std;\n-  bool test __attribute__((unused)) = true;\n-  \n-  typedef istringstream::pos_type pos_type;\n-\n-  istringstream iss(\"Duos for Doris\");\n-  ostringstream oss;\n-  \n-  VERIFY( iss.tellg() == pos_type(0) );\n-  \n-  iss >> oss.rdbuf();\n-  VERIFY( iss.rdstate() == iss.eofbit );\n-  VERIFY( iss.tellg() == pos_type(-1) );\n-\n-  iss.clear();\n-  VERIFY( iss.tellg() == pos_type(14) );\n-}\n-\n-int main()\n-{\n-  test01();\n-  return 0;\n-}"}, {"sha": "3c46cb016b89187f13891f8b0c86dc2c4e167069", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/tellg/char/8348.cc", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fchar%2F8348.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fchar%2F8348.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fchar%2F8348.cc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -41,7 +41,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.tellg();\n     VERIFY( test = !iss.fail() );\n   }\n@@ -54,7 +53,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(0, ios_base::beg);\n     VERIFY( test = !iss.fail() );\n   }\n@@ -67,7 +65,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(pos1);\n     VERIFY( test = !iss.fail() );\n   }"}, {"sha": "c61e83ed2d636fda83879f1d7f1dae79c1a227c4", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/tellg/wchar_t/26211.cc", "status": "removed", "additions": 0, "deletions": 48, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fwchar_t%2F26211.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c90c9ae61060bdc092b64b2d0189f88ede9267f/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fwchar_t%2F26211.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fwchar_t%2F26211.cc?ref=3c90c9ae61060bdc092b64b2d0189f88ede9267f", "patch": "@@ -1,48 +0,0 @@\n-// Copyright (C) 2006 Free Software Foundation\n-//\n-// This file is part of the GNU ISO C++ Library.  This library is free\n-// software; you can redistribute it and/or modify it under the\n-// terms of the GNU General Public License as published by the\n-// Free Software Foundation; either version 2, or (at your option)\n-// any later version.\n-\n-// This library is distributed in the hope that it will be useful,\n-// but WITHOUT ANY WARRANTY; without even the implied warranty of\n-// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-// GNU General Public License for more details.\n-\n-// You should have received a copy of the GNU General Public License along\n-// with this library; see the file COPYING.  If not, write to the Free\n-// Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n-// USA.\n-\n-#include <istream>\n-#include <sstream>\n-#include <testsuite_hooks.h>\n-\n-// libstdc++/26211\n-void test01()\n-{\n-  using namespace std;\n-  bool test __attribute__((unused)) = true;\n-  \n-  typedef wistringstream::pos_type pos_type;\n-\n-  wistringstream iss(L\"Duos for Doris\");\n-  wostringstream oss;\n-  \n-  VERIFY( iss.tellg() == pos_type(0) );\n-  \n-  iss >> oss.rdbuf();\n-  VERIFY( iss.rdstate() == iss.eofbit );\n-  VERIFY( iss.tellg() == pos_type(-1) );\n-\n-  iss.clear();\n-  VERIFY( iss.tellg() == pos_type(14) );\n-}\n-\n-int main()\n-{\n-  test01();\n-  return 0;\n-}"}, {"sha": "2566992c288c89e88613182716b076f1266ac846", "filename": "libstdc++-v3/testsuite/27_io/basic_istream/tellg/wchar_t/8348.cc", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fwchar_t%2F8348.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c849c938da6a020ec36b705ae9d4ce159661241d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fwchar_t%2F8348.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_istream%2Ftellg%2Fwchar_t%2F8348.cc?ref=c849c938da6a020ec36b705ae9d4ce159661241d", "patch": "@@ -38,7 +38,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.tellg();\n     VERIFY( test = !iss.fail() );\n   }\n@@ -51,7 +50,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(0, ios_base::beg);\n     VERIFY( test = !iss.fail() );\n   }\n@@ -64,7 +62,6 @@ void test06(void)\n     iss >> asNum;\n     VERIFY( test = iss.eof() );\n     VERIFY( test = !iss.fail() );\n-    iss.clear();\n     iss.seekg(pos1);\n     VERIFY( test = !iss.fail() );\n   }"}]}