{"sha": "ef38b55137fbca9d9834c770e62ff46a7f20a181", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWYzOGI1NTEzN2ZiY2E5ZDk4MzRjNzcwZTYyZmY0NmE3ZjIwYTE4MQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-05-06T14:15:22Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-05-06T14:15:22Z"}, "message": "re PR tree-optimization/43791 (kernel/rtmutex.c:1138:1: internal compiler error: in cgraph_decide_inlining_of_small_functions, at ipa-inline.c:1009)\n\n\tPR tree-optimization/43791\n\t* ipa-inline.c (update_caller_keys): Remove bogus\n\tdisregard_inline_limits check.\n\n\t* gcc.c-torture/compile/pr43791.c: New file.\n\nFrom-SVN: r159108", "tree": {"sha": "2bb9c1e1201b9406c3cff06652d5e460ec2a38ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bb9c1e1201b9406c3cff06652d5e460ec2a38ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ef38b55137fbca9d9834c770e62ff46a7f20a181", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef38b55137fbca9d9834c770e62ff46a7f20a181", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef38b55137fbca9d9834c770e62ff46a7f20a181", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef38b55137fbca9d9834c770e62ff46a7f20a181/comments", "author": null, "committer": null, "parents": [{"sha": "0ab555de37981ab543d1f27a970c0871e53f2253", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ab555de37981ab543d1f27a970c0871e53f2253", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ab555de37981ab543d1f27a970c0871e53f2253"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "06988c83c8cfd5b325610d97d74962926d86ed13", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ef38b55137fbca9d9834c770e62ff46a7f20a181", "patch": "@@ -1,3 +1,9 @@\n+2010-05-06  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/43791\n+\t* ipa-inline.c (update_caller_keys): Remove bogus\n+\tdisregard_inline_limits check.\n+\n 2010-05-06  Michael Matz  <matz@suse.de>\n \n \tPR tree-optimization/43984"}, {"sha": "5f9fe102ba1ff7d7b73b39fd5ca8bc1ac5c18b8a", "filename": "gcc/ipa-inline.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2Fipa-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2Fipa-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline.c?ref=ef38b55137fbca9d9834c770e62ff46a7f20a181", "patch": "@@ -664,7 +664,7 @@ update_caller_keys (fibheap_t heap, struct cgraph_node *node,\n   struct cgraph_edge *edge;\n   cgraph_inline_failed_t failed_reason;\n \n-  if (!node->local.inlinable || node->local.disregard_inline_limits\n+  if (!node->local.inlinable\n       || node->global.inlined_to)\n     return;\n   if (bitmap_bit_p (updated_nodes, node->uid))"}, {"sha": "680c4554e4e2ac293f0ff5ea0748eb7b136e1571", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ef38b55137fbca9d9834c770e62ff46a7f20a181", "patch": "@@ -1,3 +1,8 @@\n+2010-05-06  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/43791\n+\t* gcc.c-torture/compile/pr43791.c: New file.\n+\n 2010-05-06  Michael Matz  <matz@suse.de>\n \n \tPR tree-optimization/43984"}, {"sha": "38cb3c8e00aa8cc54c491d7e329acb9e127f505c", "filename": "gcc/testsuite/gcc.c-torture/compile/pr43791.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr43791.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef38b55137fbca9d9834c770e62ff46a7f20a181/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr43791.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr43791.c?ref=ef38b55137fbca9d9834c770e62ff46a7f20a181", "patch": "@@ -0,0 +1,21 @@\n+int owner();\n+int clear();\n+\n+static void fixup() {\n+   clear();\n+}\n+\n+inline __attribute__ ((always_inline))\n+void slowtrylock(void) {\n+     if (owner())\n+         fixup();\n+}\n+\n+void fasttrylock(void (*slowfn)()) {\n+     slowfn();\n+}\n+\n+void trylock(void) {\n+     fasttrylock(slowtrylock);\n+}\n+"}]}