{"sha": "3529be8371acdc29c62bcb73f59cb54c6be85349", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzUyOWJlODM3MWFjZGMyOWM2MmJjYjczZjU5Y2I1NGM2YmU4NTM0OQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-24T07:22:00Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-24T07:22:00Z"}, "message": "(output_arg_descriptor): Do not stop searching if a USE\nfor the static link or struct value register is found.\n\nFrom-SVN: r5879", "tree": {"sha": "2ec4449ce486073b3d34848f1940372f07e2586c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ec4449ce486073b3d34848f1940372f07e2586c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3529be8371acdc29c62bcb73f59cb54c6be85349", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3529be8371acdc29c62bcb73f59cb54c6be85349", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3529be8371acdc29c62bcb73f59cb54c6be85349", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3529be8371acdc29c62bcb73f59cb54c6be85349/comments", "author": null, "committer": null, "parents": [{"sha": "5e10b3cc7c179bfd8939e000027a5cc4953d410d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e10b3cc7c179bfd8939e000027a5cc4953d410d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e10b3cc7c179bfd8939e000027a5cc4953d410d"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "239d8ce3b90b501d5469001e2ad7166fb12823da", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3529be8371acdc29c62bcb73f59cb54c6be85349/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3529be8371acdc29c62bcb73f59cb54c6be85349/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=3529be8371acdc29c62bcb73f59cb54c6be85349", "patch": "@@ -3205,10 +3205,24 @@ output_arg_descriptor (insn)\n   for (prev_insn = PREV_INSN (insn); GET_CODE (prev_insn) == INSN;\n        prev_insn = PREV_INSN (prev_insn))\n     {\n-      if (!(GET_CODE (PATTERN (prev_insn)) == USE &&\n-\t    GET_CODE (XEXP (PATTERN (prev_insn), 0)) == REG &&\n-\t    FUNCTION_ARG_REGNO_P (REGNO (XEXP (PATTERN (prev_insn), 0)))))\n+      /* Terminate search for arguments if a non-USE insn is encountered\n+\t or a USE insn which does not specify an argument, STATIC_CHAIN,\n+\t or STRUCT_VALUE register.  */\n+      if (!(GET_CODE (PATTERN (prev_insn)) == USE\n+\t    && GET_CODE (XEXP (PATTERN (prev_insn), 0)) == REG\n+\t    && (FUNCTION_ARG_REGNO_P (REGNO (XEXP (PATTERN (prev_insn), 0)))\n+\t\t|| REGNO (XEXP (PATTERN (prev_insn), 0)) == STATIC_CHAIN_REGNUM\n+\t\t|| REGNO (XEXP (PATTERN (prev_insn), 0))\n+\t\t== STRUCT_VALUE_REGNUM)))\n \tbreak;\n+\n+      /* If this is a USE for the STATIC_CHAIN or STRUCT_VALUE register,\n+\t then skip it and continue the loop since those are not encoded\n+\t in the argument relocation bits.  */\n+      if (REGNO (XEXP (PATTERN (prev_insn), 0)) == STATIC_CHAIN_REGNUM\n+\t  || REGNO (XEXP (PATTERN (prev_insn), 0)) == STRUCT_VALUE_REGNUM)\n+\tcontinue;\n+\n       arg_mode = GET_MODE (XEXP (PATTERN (prev_insn), 0));\n       regno = REGNO (XEXP (PATTERN (prev_insn), 0));\n       if (regno >= 23 && regno <= 26)"}]}