{"sha": "18bb8b8a2a67091517d60b7192e454ed11e9280d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThiYjhiOGEyYTY3MDkxNTE3ZDYwYjcxOTJlNDU0ZWQxMWU5MjgwZA==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2016-11-06T12:27:51Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2016-11-06T12:27:51Z"}, "message": "re PR fortran/78221 (bogus warning: Non-zero imaginary part discarded in conversion [-Wconversion])\n\n2016-11-06  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n        PR fortran/78221\n        * arith.c (gfc_complex2real):  Change gfc_warning_now to\n        gfc_warning.\n\n2016-11-06  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n        PR fortran/78221\n        * gfortran.dg/warn_conversion_9.f90:  New test.\n\nFrom-SVN: r241884", "tree": {"sha": "05bf66bb3eb08f6d3411ce520737d709a4e4a723", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05bf66bb3eb08f6d3411ce520737d709a4e4a723"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18bb8b8a2a67091517d60b7192e454ed11e9280d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18bb8b8a2a67091517d60b7192e454ed11e9280d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18bb8b8a2a67091517d60b7192e454ed11e9280d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18bb8b8a2a67091517d60b7192e454ed11e9280d/comments", "author": null, "committer": null, "parents": [{"sha": "0ddd4af5f49b9cc6600ccb5adfa1f00f784709e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ddd4af5f49b9cc6600ccb5adfa1f00f784709e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ddd4af5f49b9cc6600ccb5adfa1f00f784709e2"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "5c25988c026ddc57a234983e5bd865f31f5ced2b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=18bb8b8a2a67091517d60b7192e454ed11e9280d", "patch": "@@ -1,3 +1,9 @@\n+2016-11-06  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/78221\n+\t* arith.c (gfc_complex2real):  Change gfc_warning_now to\n+\tgfc_warning.\n+\n 2016-11-05  Paul Thomas  <pault@gcc.gnu.org>\n \n \t* check.c (gfc_check_move_alloc): Introduce error to prevent"}, {"sha": "2781f1038413bfb8aabc53e04c51f20e24ab99d3", "filename": "gcc/fortran/arith.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ffortran%2Farith.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ffortran%2Farith.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Farith.c?ref=18bb8b8a2a67091517d60b7192e454ed11e9280d", "patch": "@@ -2369,10 +2369,10 @@ gfc_complex2real (gfc_expr *src, int kind)\n       /* See if we discarded an imaginary part.  */\n       if (mpfr_cmp_si (mpc_imagref (src->value.complex), 0) != 0)\n \t{\n-\t  gfc_warning_now (w, \"Non-zero imaginary part discarded \"\n-\t\t\t   \"in conversion from %qs to %qs at %L\",\n-\t\t\t   gfc_typename(&src->ts), gfc_typename (&result->ts),\n-\t\t\t   &src->where);\n+\t  gfc_warning (w, \"Non-zero imaginary part discarded \"\n+\t\t       \"in conversion from %qs to %qs at %L\",\n+\t\t       gfc_typename(&src->ts), gfc_typename (&result->ts),\n+\t\t       &src->where);\n \t  did_warn = true;\n \t}\n "}, {"sha": "f6bdc414fedf035d8612fd7e16503dc8bf705169", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=18bb8b8a2a67091517d60b7192e454ed11e9280d", "patch": "@@ -1,3 +1,9 @@\n+2016-11-06  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/78221\n+\t* arith.c (gfc_complex2real):  Change gfc_warning_now to\n+\tgfc_warning.\n+\n 2016-11-05  Paul Thomas  <pault@gcc.gnu.org>\n \n \t* gfortran.dg/move_alloc_17.f03: New test."}, {"sha": "794eeef99b68c8dccc69ff29f4d881f283cd38cb", "filename": "gcc/testsuite/gfortran.dg/warn_conversion_9.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ftestsuite%2Fgfortran.dg%2Fwarn_conversion_9.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18bb8b8a2a67091517d60b7192e454ed11e9280d/gcc%2Ftestsuite%2Fgfortran.dg%2Fwarn_conversion_9.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fwarn_conversion_9.f90?ref=18bb8b8a2a67091517d60b7192e454ed11e9280d", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+! { dg-options \"-Wconversion\" }\n+! PR 78221 - used to give a spurious warning\n+complex, parameter :: i = (0.,1.)\n+complex :: t\n+t = (i)\n+end"}]}