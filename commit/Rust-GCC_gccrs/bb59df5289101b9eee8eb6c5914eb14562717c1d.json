{"sha": "bb59df5289101b9eee8eb6c5914eb14562717c1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmI1OWRmNTI4OTEwMWI5ZWVlOGViNmM1OTE0ZWIxNDU2MjcxN2MxZA==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain.sandoe@sandoe-acoustics.co.uk", "date": "2009-09-10T14:32:51Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2009-09-10T14:32:51Z"}, "message": "re PR bootstrap/41245 (Bootstrap broken on I386-apple-darwin9 at revision 151373)\n\n\tPR bootstrap/41245\n\t* compare-debug: Handle stripping of dwarf debug sections from darwin\n\tmach-o objects.\n\nFrom-SVN: r151594", "tree": {"sha": "39b75f3dc543efdb8d0a79142f9df98b062f2a66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39b75f3dc543efdb8d0a79142f9df98b062f2a66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb59df5289101b9eee8eb6c5914eb14562717c1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb59df5289101b9eee8eb6c5914eb14562717c1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb59df5289101b9eee8eb6c5914eb14562717c1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb59df5289101b9eee8eb6c5914eb14562717c1d/comments", "author": null, "committer": null, "parents": [{"sha": "90097c677180701eb96cce0628b50a76e6b36441", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90097c677180701eb96cce0628b50a76e6b36441", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90097c677180701eb96cce0628b50a76e6b36441"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "b4627d293b650b8a92dd8779c812dd4215fe2a42", "filename": "contrib/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb59df5289101b9eee8eb6c5914eb14562717c1d/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb59df5289101b9eee8eb6c5914eb14562717c1d/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=bb59df5289101b9eee8eb6c5914eb14562717c1d", "patch": "@@ -1,3 +1,9 @@\n+2009-09-10  Iain Sandoe  <iain.sandoe@sandoe-acoustics.co.uk>\n+\n+\tPR bootstrap/41245\n+\t* compare-debug: Handle stripping of dwarf debug sections from darwin\n+\tmach-o objects.\n+\n 2009-09-04  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* compare-debug: Grep for blank before dash to avoid grep -e."}, {"sha": "98c80f93e98d05b3a275bc5d5a9b4a1e3794aaca", "filename": "contrib/compare-debug", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb59df5289101b9eee8eb6c5914eb14562717c1d/contrib%2Fcompare-debug", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb59df5289101b9eee8eb6c5914eb14562717c1d/contrib%2Fcompare-debug", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fcompare-debug?ref=bb59df5289101b9eee8eb6c5914eb14562717c1d", "patch": "@@ -57,11 +57,19 @@ done\n \n trap 'rm -f \"$1.$suf1\" \"$2.$suf2\"' 0 1 2 15\n \n-cp \"$1\" \"$1.$suf1\"\n-strip \"$1.$suf1\"\n+case `uname -s` in\n+Darwin)\n+  ld -S -x -r -no_uuid \"$1\" -o \"$1.$suf1\"\n+  ld -S -x -r -no_uuid \"$2\" -o \"$2.$suf2\"\n+  ;;\n+*)\n+  cp \"$1\" \"$1.$suf1\"\n+  strip \"$1.$suf1\"\n \n-cp \"$2\" \"$2.$suf2\"\n-strip \"$2.$suf2\"\n+  cp \"$2\" \"$2.$suf2\"\n+  strip \"$2.$suf2\"\n+  ;;\n+esac\n \n if cmp \"$1.$suf1\" \"$2.$suf2\"; then\n   status=0"}]}