{"sha": "c2310f512421067634bb72e63932a926dedbf79e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzIzMTBmNTEyNDIxMDY3NjM0YmI3MmU2MzkzMmE5MjZkZWRiZjc5ZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-09-27T01:07:52Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-09-27T01:07:52Z"}, "message": "sched-deps.c (sched_analyze_insn): Make clobber insns depend on call insns.\n\n        * sched-deps.c (sched_analyze_insn): Make clobber insns depend\n        on call insns.\n\t* gcc.c-torture/compile/20020926-1.c: New.\n\nFrom-SVN: r57566", "tree": {"sha": "e2337b29df7ee8cd75e9e85c7c8e9c9f604f9f70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2337b29df7ee8cd75e9e85c7c8e9c9f604f9f70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2310f512421067634bb72e63932a926dedbf79e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2310f512421067634bb72e63932a926dedbf79e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2310f512421067634bb72e63932a926dedbf79e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2310f512421067634bb72e63932a926dedbf79e/comments", "author": null, "committer": null, "parents": [{"sha": "7847d6279e48a97f570643a5161d4e7e4df8e24a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7847d6279e48a97f570643a5161d4e7e4df8e24a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7847d6279e48a97f570643a5161d4e7e4df8e24a"}], "stats": {"total": 37, "additions": 36, "deletions": 1}, "files": [{"sha": "f836df4cf54b84f712f072269daafb7050536618", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2310f512421067634bb72e63932a926dedbf79e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2310f512421067634bb72e63932a926dedbf79e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c2310f512421067634bb72e63932a926dedbf79e", "patch": "@@ -1,3 +1,9 @@\n+2002-09-26  Richard Henderson  <rth@redhat.com>\n+\n+\tPR c/7160\n+\t* sched-deps.c (sched_analyze_insn): Make clobber insns depend\n+\ton call insns.\n+\n 2002-09-26  Richard Henderson  <rth@redhat.com>\n \n \t* emit-rtl.c (const_double_htab_eq): Remove unused variable."}, {"sha": "cf762cccb589233758865871f1182ecce9d03b56", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2310f512421067634bb72e63932a926dedbf79e/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2310f512421067634bb72e63932a926dedbf79e/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=c2310f512421067634bb72e63932a926dedbf79e", "patch": "@@ -922,7 +922,15 @@ sched_analyze_insn (deps, x, insn, loop_notes)\n       code = GET_CODE (x);\n     }\n   if (code == SET || code == CLOBBER)\n-    sched_analyze_1 (deps, x, insn);\n+    {\n+      sched_analyze_1 (deps, x, insn);\n+\n+      /* Bare clobber insns are used for letting life analysis, reg-stack\n+\t and others know that a value is dead.  Depend on the last call\n+\t instruction so that reg-stack won't get confused.  */\n+      if (code == CLOBBER)\n+\tadd_dependence_list (insn, deps->last_function_call, REG_DEP_OUTPUT);\n+    }\n   else if (code == PARALLEL)\n     {\n       int i;"}, {"sha": "260e844549a8deca9b5bf51b4942921d4da65de3", "filename": "gcc/testsuite/gcc.c-torture/compile/20020926-1.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2310f512421067634bb72e63932a926dedbf79e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020926-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2310f512421067634bb72e63932a926dedbf79e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020926-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020926-1.c?ref=c2310f512421067634bb72e63932a926dedbf79e", "patch": "@@ -0,0 +1,21 @@\n+/* PR c/7160 */\n+/* Verify that the register-to-stack converter properly handles\n+   branches without return value containing function calls.  */\n+   \n+extern int gi;\n+\n+extern int foo1(int, int);\n+extern void foo2(int, int);\n+extern float foo3(int);\n+\n+float bar(int i1, int i2)\n+{\n+  int i3;\n+    \n+  if (i2) {\n+    i3 = foo1(i1, gi);\n+    foo2(i1, i3);\n+  }\n+  else\n+    return foo3(i2);\n+}"}]}