{"sha": "f8e7d8e7c7381c0f134e9094b660865ac961a761", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhlN2Q4ZTdjNzM4MWMwZjEzNGU5MDk0YjY2MDg2NWFjOTYxYTc2MQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-12-15T23:41:43Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-12-15T23:41:43Z"}, "message": "(sys/wait.h): Add forward declaration of struct rusage on AIX 3.2.5.\n\nFrom-SVN: r10739", "tree": {"sha": "f07ac59b4a9c5fcc8e83bb1040c20e58cec28dff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f07ac59b4a9c5fcc8e83bb1040c20e58cec28dff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8e7d8e7c7381c0f134e9094b660865ac961a761", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e7d8e7c7381c0f134e9094b660865ac961a761", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8e7d8e7c7381c0f134e9094b660865ac961a761", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e7d8e7c7381c0f134e9094b660865ac961a761/comments", "author": null, "committer": null, "parents": [{"sha": "c9e39f3d12acbe04b1aefb7cd9e50f7401d714ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9e39f3d12acbe04b1aefb7cd9e50f7401d714ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9e39f3d12acbe04b1aefb7cd9e50f7401d714ea"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "cc8801d349b95a568ac49c97c8fa6ec6dc2f9e03", "filename": "gcc/fixincludes", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e7d8e7c7381c0f134e9094b660865ac961a761/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e7d8e7c7381c0f134e9094b660865ac961a761/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=f8e7d8e7c7381c0f134e9094b660865ac961a761", "patch": "@@ -1520,6 +1520,33 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# sys/wait.h on AIX 3.2.5 puts the declaration of wait3 before the definition\n+# of struct rusage, so the prototype (added by fixproto) causes havoc.\n+file=sys/wait.h\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+  chmod +w ${LIB}/$file 2>/dev/null\n+fi\n+\n+if [ -r ${LIB}/$file ] \\\n+  && grep 'bos325,' ${LIB}/$file >/dev/null; then\n+  echo Fixing $file, wait3 declaration\n+  sed -e '/^extern pid_t wait3();$/i\\\n+struct rusage;\n+'\\\n+    ${LIB}/$file > ${LIB}/${file}.sed\n+  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm -f ${LIB}/$file\n+  else\n+    # Find any include directives that use \"file\".\n+    for include in `egrep '^[       ]*#[    ]*include[      ]*\"[^/]' ${LIB}/$file | sed -e 's/^[    ]*#[    ]*include[      ]*\"\\([^\"]*\\)\".*$/\\1/'`; do\n+      dir=`echo $file | sed -e s'|/[^/]*$||'`\n+      required=\"$required ${INPUT} $dir/$include ${LIB}/$dir/$include\"\n+    done\n+  fi\n+fi\n+\n # NeXT 2.0 defines 'int wait(union wait*)', which conflicts with Posix.1.\n # Note that version 3 of the NeXT system has wait.h in a different directory,\n # so that this code won't do anything.  But wait.h in version 3 has a"}]}