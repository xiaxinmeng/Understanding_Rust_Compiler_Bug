{"sha": "e13bced249143e8dfd439aad6072a8eee7dedc76", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTEzYmNlZDI0OTE0M2U4ZGZkNDM5YWFkNjA3MmE4ZWVlN2RlZGM3Ng==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-01-19T09:27:34Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-01-19T09:27:34Z"}, "message": "class.c (duplicate_tag_error): Robustify flag clearing.\n\ncp:\n\t* class.c (duplicate_tag_error): Robustify flag clearing.\n\nFrom-SVN: r39130", "tree": {"sha": "1d55f1cfe1b3c7696c7a34b9b0c7ae711cecb171", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d55f1cfe1b3c7696c7a34b9b0c7ae711cecb171"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e13bced249143e8dfd439aad6072a8eee7dedc76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e13bced249143e8dfd439aad6072a8eee7dedc76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e13bced249143e8dfd439aad6072a8eee7dedc76", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e13bced249143e8dfd439aad6072a8eee7dedc76/comments", "author": null, "committer": null, "parents": [{"sha": "f9c244b8a482a2c13af8e1b9e959010e01d374a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9c244b8a482a2c13af8e1b9e959010e01d374a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9c244b8a482a2c13af8e1b9e959010e01d374a4"}], "stats": {"total": 33, "additions": 14, "deletions": 19}, "files": [{"sha": "b81617e82f4a523b428d78737b5e00c2337da462", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e13bced249143e8dfd439aad6072a8eee7dedc76/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e13bced249143e8dfd439aad6072a8eee7dedc76/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e13bced249143e8dfd439aad6072a8eee7dedc76", "patch": "@@ -1,3 +1,7 @@\n+2001-01-19  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* class.c (duplicate_tag_error): Robustify flag clearing.\n+\n 2001-01-19  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* cp-tree.h (lookup_template_class): Add complain parm."}, {"sha": "423fb32671d05f9cf1d0a393d0baf11f7b532a65", "filename": "gcc/cp/class.c", "status": "modified", "additions": 10, "deletions": 19, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e13bced249143e8dfd439aad6072a8eee7dedc76/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e13bced249143e8dfd439aad6072a8eee7dedc76/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=e13bced249143e8dfd439aad6072a8eee7dedc76", "patch": "@@ -2375,25 +2375,16 @@ duplicate_tag_error (t)\n   TYPE_CONTEXT (t) = NULL_TREE;\n   TYPE_NONCOPIED_PARTS (t) = NULL_TREE;\n   \n-  TYPE_HAS_NONTRIVIAL_DESTRUCTOR (t) = 0;\n-  TYPE_HAS_CONSTRUCTOR (t) = 0;\n-  TYPE_HAS_DESTRUCTOR (t) = 0;\n-  TYPE_HAS_CONVERSION (t) = 0;\n-  TYPE_HAS_ASSIGN_REF (t) = 0;\n-  TYPE_HAS_CONST_ASSIGN_REF (t) = 0;\n-  TYPE_HAS_INIT_REF (t) = 0;\n-  TYPE_HAS_CONST_INIT_REF (t) = 0;\n-  TYPE_HAS_NEW_OPERATOR (t) = 0;\n-  TYPE_HAS_ARRAY_NEW_OPERATOR (t) = 0;\n-  TYPE_HAS_DEFAULT_CONSTRUCTOR (t) = 0;\n-  CLASSTYPE_HAS_MUTABLE (t) = 0;\n-  CLASSTYPE_NON_POD_P (t) = 0;\n-  CLASSTYPE_NEARLY_EMPTY_P (t) = 0;\n-  CLASSTYPE_NON_AGGREGATE (t) = 0;\n-  TYPE_HAS_REAL_ASSIGN_REF (t) = 0;\n-  TYPE_HAS_COMPLEX_ASSIGN_REF (t) = 0;\n-  TYPE_HAS_ABSTRACT_ASSIGN_REF (t) = 0;\n-  TYPE_HAS_COMPLEX_INIT_REF (t) = 0;\n+  /* Clear TYPE_LANG_FLAGS -- those in TYPE_LANG_SPECIFIC are cleared above.  */\n+  TYPE_LANG_FLAG_0 (t) = 0;\n+  TYPE_LANG_FLAG_1 (t) = 0;\n+  TYPE_LANG_FLAG_2 (t) = 0;\n+  TYPE_LANG_FLAG_3 (t) = 0;\n+  TYPE_LANG_FLAG_4 (t) = 0;\n+  TYPE_LANG_FLAG_5 (t) = 0;\n+  TYPE_LANG_FLAG_6 (t) = 0;\n+  /* But not this one.  */\n+  SET_IS_AGGR_TYPE (t, 1);\n }\n \n /* Make the BINFO's vtablehave N entries, including RTTI entries,"}]}