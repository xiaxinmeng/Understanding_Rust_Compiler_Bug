{"sha": "c7e8e26ec9df9b4ff087a290ada6356cf291924d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdlOGUyNmVjOWRmOWI0ZmYwODdhMjkwYWRhNjM1NmNmMjkxOTI0ZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-12-11T10:28:39Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-12-11T10:28:39Z"}, "message": "re PR lto/86004 (Several lto test cases begin failing with r260963)\n\n\tPR lto/86004\n\t* doc/sourcebuild.texi (lto_incremental): Document new effective\n\ttarget.\n\n\t* lib/target-supports.exp (check_effective_target_lto_incremental):\n\tNew.\n\t* g++.dg/lto/pr69137_0.C: Require lto_incremental effective target.\n\t* g++.dg/lto/pr65316_0.C: Likewise.\n\t* g++.dg/lto/pr85176_0.C: Likewise.\n\t* g++.dg/lto/pr79000_0.C: Likewise.\n\t* g++.dg/lto/pr66180_0.C: Likewise.\n\t* g++.dg/lto/pr65193_0.C: Likewise.\n\t* g++.dg/lto/pr69077_0.C: Likewise.\n\t* g++.dg/lto/pr68057_0.C: Likewise.\n\t* g++.dg/lto/pr66705_0.C: Likewise.\n\t* g++.dg/lto/pr65302_0.C: Likewise.\n\t* g++.dg/lto/20091002-1_0.C: Likewise.\n\t* g++.dg/lto/pr81940_0.C: Likewise.\n\t* g++.dg/lto/pr64043_0.C: Likewise.\n\t* g++.dg/lto/pr65549_0.C: Likewise.\n\t* g++.dg/lto/pr69133_0.C: Likewise.\n\t* gfortran.dg/lto/pr79108_0.f90: Likewise.\n\nFrom-SVN: r266974", "tree": {"sha": "4d27de749ab979254503068b3d7f06f165dae341", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d27de749ab979254503068b3d7f06f165dae341"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7e8e26ec9df9b4ff087a290ada6356cf291924d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7e8e26ec9df9b4ff087a290ada6356cf291924d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7e8e26ec9df9b4ff087a290ada6356cf291924d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7e8e26ec9df9b4ff087a290ada6356cf291924d/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b900470ba640385d184a003a4b8269a3095cbd5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b900470ba640385d184a003a4b8269a3095cbd5c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b900470ba640385d184a003a4b8269a3095cbd5c"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "18a1a827ece2e69cd251c9ab0f261abcea5b2f15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,3 +1,9 @@\n+2018-12-11  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR lto/86004\n+\t* doc/sourcebuild.texi (lto_incremental): Document new effective\n+\ttarget.\n+\n 2018-12-11  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR target/88145"}, {"sha": "224ab89921a7a8cbe747e6558921f827c5c92fca", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -2265,6 +2265,10 @@ Target keeps null pointer checks, either due to the use of\n @item lto\n Compiler has been configured to support link-time optimization (LTO).\n \n+@item lto_incremental\n+Compiler and linker support link-time optimization relocatable linking\n+with @option{-r} and @option{-flto} options.\n+\n @item naked_functions\n Target supports the @code{naked} function attribute.\n "}, {"sha": "79d7b2f8ee9e680c5a57ff2d78a5d4249d69c8dc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,3 +1,25 @@\n+2018-12-11  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR lto/86004\n+\t* lib/target-supports.exp (check_effective_target_lto_incremental):\n+\tNew.\n+\t* g++.dg/lto/pr69137_0.C: Require lto_incremental effective target.\n+\t* g++.dg/lto/pr65316_0.C: Likewise.\n+\t* g++.dg/lto/pr85176_0.C: Likewise.\n+\t* g++.dg/lto/pr79000_0.C: Likewise.\n+\t* g++.dg/lto/pr66180_0.C: Likewise.\n+\t* g++.dg/lto/pr65193_0.C: Likewise.\n+\t* g++.dg/lto/pr69077_0.C: Likewise.\n+\t* g++.dg/lto/pr68057_0.C: Likewise.\n+\t* g++.dg/lto/pr66705_0.C: Likewise.\n+\t* g++.dg/lto/pr65302_0.C: Likewise.\n+\t* g++.dg/lto/20091002-1_0.C: Likewise.\n+\t* g++.dg/lto/pr81940_0.C: Likewise.\n+\t* g++.dg/lto/pr64043_0.C: Likewise.\n+\t* g++.dg/lto/pr65549_0.C: Likewise.\n+\t* g++.dg/lto/pr69133_0.C: Likewise.\n+\t* gfortran.dg/lto/pr79108_0.f90: Likewise.\n+\n 2018-12-10  Jeff Law  <law@redhat.com>\n \n \tPR tree-optimization/80520"}, {"sha": "4ddb3854c64f7db9e3f9265af2fc545572958f29", "filename": "gcc/testsuite/g++.dg/lto/20091002-1_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-1_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,5 +1,6 @@\n // { dg-lto-do link }\n // { dg-require-effective-target fpic }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options {{-fPIC -flto -Wno-return-type}} }\n // { dg-extra-ld-options \"-fPIC -r -nostdlib\" }\n "}, {"sha": "078668fbfc2ab6b3066348fee8c8edfeda030725", "filename": "gcc/testsuite/g++.dg/lto/pr64043_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr64043_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr64043_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr64043_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -flto -std=c++11 } } }\n // { dg-extra-ld-options \"-r -nostdlib -O2\" }\n class Validator"}, {"sha": "7ac6d6c42e7bdeaf0f4dd021de0a48fefbc3de8a", "filename": "gcc/testsuite/g++.dg/lto/pr65193_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65193_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65193_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65193_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,5 +1,6 @@\n /* { dg-lto-do link } */\n /* { dg-require-effective-target fpic } */\n+/* { dg-require-effective-target lto_incremental } */\n /* { dg-lto-options {{-fPIC -r -nostdlib -flto -O2 -g -Wno-return-type}} } */\n \n void frexp (int, int *);"}, {"sha": "1f35c39e8a50193ea7b064761904e0069028e662", "filename": "gcc/testsuite/g++.dg/lto/pr65302_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65302_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65302_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65302_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -flto -O2 -Wno-return-type } } }\n // { dg-extra-ld-options \"-r -nostdlib -O0\" }\n "}, {"sha": "9cd56e31fba3c8eb28c5e13b7710b9cecfd3d7ad", "filename": "gcc/testsuite/g++.dg/lto/pr65316_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65316_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65316_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65316_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -flto -std=c++11 -g2 -fno-lto-odr-type-merging -O2 -Wno-return-type } } }\n // { dg-extra-ld-options \"-r -nostdlib -O2 -fno-lto-odr-type-merging\" }\n "}, {"sha": "382f7eff71126b0764a3b24e32eb486270f05489", "filename": "gcc/testsuite/g++.dg/lto/pr65549_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65549_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65549_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr65549_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -std=gnu++14 -flto -g -Wno-return-type } { -std=gnu++14 -flto -g -O2 -fno-inline -flto-partition=max -Wno-return-type } } }\n // { dg-extra-ld-options \"-r -nostdlib\" }\n "}, {"sha": "cfb496bec4ad9757a197d469b4168ec39da60cd7", "filename": "gcc/testsuite/g++.dg/lto/pr66180_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr66180_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr66180_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr66180_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -flto -std=c++14 -r -nostdlib } } }\n #include <memory>\n namespace {"}, {"sha": "ac9a019aa83aba3e580ffb1ef266592318db268b", "filename": "gcc/testsuite/g++.dg/lto/pr66705_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr66705_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr66705_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr66705_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -O2 -flto -flto-partition=max -fipa-pta } } }\n // { dg-extra-ld-options \"-r -nostdlib\" }\n "}, {"sha": "6f38df4215c8c478ffbbbbbd0f3c900134679f46", "filename": "gcc/testsuite/g++.dg/lto/pr68057_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr68057_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr68057_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr68057_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n /* { dg-extra-ld-options { -O2 -Wno-odr -r -nostdlib } } */\n struct SPxPricer;\n struct SoPlex {"}, {"sha": "cee32122da1ed9ac75521600915f9a4bf606ade9", "filename": "gcc/testsuite/g++.dg/lto/pr69077_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69077_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69077_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69077_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -O3 -g -flto } } }\n // { dg-extra-ld-options \"-r -nostdlib\" }\n "}, {"sha": "e6f91dfe703bf0641d06b0b9871b21fcd5865be9", "filename": "gcc/testsuite/g++.dg/lto/pr69133_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69133_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69133_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69133_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -flto -O2 } } }\n // { dg-extra-ld-options \"-r -nostdlib -flto -flto-partition=none -O2\" }\n namespace xercesc_3_1 {"}, {"sha": "7d5ed2d5fc8dc40bf61cb174021cb1554becd13e", "filename": "gcc/testsuite/g++.dg/lto/pr69137_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69137_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69137_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr69137_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -std=c++11 -g -flto } } }\n // { dg-extra-ld-options \"-r -nostdlib\" }\n "}, {"sha": "4a13ae8afb480de0b35d91250a3cd717309db82d", "filename": "gcc/testsuite/g++.dg/lto/pr79000_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr79000_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr79000_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr79000_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { \"-flto -g\" } }\n // { dg-extra-ld-options \"-r -nostdlib\" }\n "}, {"sha": "680217669daa422f8628f03753d6d9cb7c8d9c36", "filename": "gcc/testsuite/g++.dg/lto/pr81940_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr81940_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr81940_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr81940_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -O -flto } } }\n // { dg-extra-ld-options \"-r -nostdlib -g\" }\n "}, {"sha": "d84b212094c73669cfb30314578f2404204a21f3", "filename": "gcc/testsuite/g++.dg/lto/pr85176_0.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr85176_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr85176_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr85176_0.C?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n // { dg-lto-do link }\n+// { dg-require-effective-target lto_incremental }\n // { dg-lto-options { { -flto -g1 } } }\n // { dg-extra-ld-options \"-r -nostdlib\" }\n namespace a {"}, {"sha": "e014bf8f33ab23715d2e3291400b25be9cee7d9f", "filename": "gcc/testsuite/gfortran.dg/lto/pr79108_0.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2Fpr79108_0.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2Fpr79108_0.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2Fpr79108_0.f90?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -1,4 +1,5 @@\n ! { dg-lto-do link }\n+! { dg-require-effective-target lto_incremental }\n ! { dg-lto-options {{ -Ofast -flto --param ggc-min-expand=0 --param ggc-min-heapsize=0 }} }\n ! { dg-extra-ld-options \"-r\" }\n "}, {"sha": "aade9d438456bee632b68468c958dd16b60d181f", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e8e26ec9df9b4ff087a290ada6356cf291924d/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=c7e8e26ec9df9b4ff087a290ada6356cf291924d", "patch": "@@ -8014,6 +8014,18 @@ proc check_effective_target_lto { } {\n     } \"-flto\"]\n }\n \n+# Return 1 if the compiler and linker support incremental link-time\n+# optimization.\n+\n+proc check_effective_target_lto_incremental { } {\n+    if ![check_effective_target_lto] {\n+\treturn 0\n+    }\n+    return [check_no_compiler_messages lto_incremental executable {\n+\tint main () { return 0; }\n+    } \"-flto -r -nostdlib\"]\n+}\n+\n # Return 1 if -mx32 -maddress-mode=short can compile, 0 otherwise.\n \n proc check_effective_target_maybe_x32 { } {"}]}