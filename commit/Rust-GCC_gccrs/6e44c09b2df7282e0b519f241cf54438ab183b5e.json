{"sha": "6e44c09b2df7282e0b519f241cf54438ab183b5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU0NGMwOWIyZGY3MjgyZTBiNTE5ZjI0MWNmNTQ0MzhhYjE4M2I1ZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-01-26T17:13:07Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-01-26T17:13:07Z"}, "message": "dwarf2asm: Fix bootstrap on powerpc*-*-* [PR98839]\n\nMy recent dwarf2asm.c patch broke powerpc*-*-* bootstrap, while most target\ndefine POINTER_SIZE to (cond ? cst1 : cst2) or constant, rs6000 defines\nit to a variable, and the arbitrarily chosen type of that variable determines\nwhether we get warnings on comparison of that against signed or unsigned\nints.\n\nFixed by adding a cast.\n\n2021-01-26  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR bootstrap/98839\n\t* dwarf2asm.c (dw2_assemble_integer): Cast DWARF2_ADDR_SIZE to int\n\tin comparison.", "tree": {"sha": "643e9801c39ed5921d5a85c2dc85c8ced11d8b8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/643e9801c39ed5921d5a85c2dc85c8ced11d8b8a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e44c09b2df7282e0b519f241cf54438ab183b5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e44c09b2df7282e0b519f241cf54438ab183b5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e44c09b2df7282e0b519f241cf54438ab183b5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e44c09b2df7282e0b519f241cf54438ab183b5e/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "17ad8cdebe65b47d257d85849747b806af0a85fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17ad8cdebe65b47d257d85849747b806af0a85fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17ad8cdebe65b47d257d85849747b806af0a85fd"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "161c0ad38255af9ca6f12f26d3dc87471bc0223d", "filename": "gcc/dwarf2asm.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e44c09b2df7282e0b519f241cf54438ab183b5e/gcc%2Fdwarf2asm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e44c09b2df7282e0b519f241cf54438ab183b5e/gcc%2Fdwarf2asm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2asm.c?ref=6e44c09b2df7282e0b519f241cf54438ab183b5e", "patch": "@@ -46,7 +46,7 @@ along with GCC; see the file COPYING3.  If not see\n void\n dw2_assemble_integer (int size, rtx x)\n {\n-  if (size == 2 * DWARF2_ADDR_SIZE && !CONST_SCALAR_INT_P (x))\n+  if (size == 2 * (int) DWARF2_ADDR_SIZE && !CONST_SCALAR_INT_P (x))\n     {\n       /* On 32-bit targets with -gdwarf64, DImode values with\n \t relocations usually result in assembler errors.  Assume"}]}