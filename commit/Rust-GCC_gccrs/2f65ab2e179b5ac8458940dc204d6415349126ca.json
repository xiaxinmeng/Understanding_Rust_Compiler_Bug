{"sha": "2f65ab2e179b5ac8458940dc204d6415349126ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmY2NWFiMmUxNzliNWFjODQ1ODk0MGRjMjA0ZDY0MTUzNDkxMjZjYQ==", "commit": {"author": {"name": "Michael Collison", "email": "michael.collison@arm.com", "date": "2017-07-12T02:18:06Z"}, "committer": {"name": "Michael Collison", "email": "collison@gcc.gnu.org", "date": "2017-07-12T02:18:06Z"}, "message": "aarch64-simd.md (aarch64_sub<mode>_compare0): New pattern.\n\n2017-07-11  Michael Collison  <michael.collison@arm.com>\n\n\t* config/aarch64/aarch64-simd.md(aarch64_sub<mode>_compare0):\n\tNew pattern.\n\t* testsuite/gcc.target/aarch64/cmp-2.c: New testcase.\n\nFrom-SVN: r250148", "tree": {"sha": "f64fc4e8b6f1799d2cfce4323ac24e99ec060f7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f64fc4e8b6f1799d2cfce4323ac24e99ec060f7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f65ab2e179b5ac8458940dc204d6415349126ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f65ab2e179b5ac8458940dc204d6415349126ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f65ab2e179b5ac8458940dc204d6415349126ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f65ab2e179b5ac8458940dc204d6415349126ca/comments", "author": null, "committer": null, "parents": [{"sha": "ee665f0a14cd1c60640506ae1111b1e174d4ee21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee665f0a14cd1c60640506ae1111b1e174d4ee21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee665f0a14cd1c60640506ae1111b1e174d4ee21"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "e3d096ccc5e723fea40b26cdd38e8813e9ada83d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f65ab2e179b5ac8458940dc204d6415349126ca", "patch": "@@ -1,3 +1,8 @@\n+2017-07-11  Michael Collison  <michael.collison@arm.com>\n+\n+\t* config/aarch64/aarch64-simd.md (aarch64_sub<mode>_compare0):\n+\tNew pattern.\n+\n 2017-07-11  Carl Love  <cel@us.ibm.com>\n \n \t* config/rs6000/rs6000-c.c: Add support for builtins"}, {"sha": "f876a2b720852d7ae40b42499638fa15f872aeb0", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=2f65ab2e179b5ac8458940dc204d6415349126ca", "patch": "@@ -1905,6 +1905,17 @@\n   [(set_attr \"type\" \"alus_sreg,alus_imm,alus_imm\")]\n )\n \n+(define_insn \"aarch64_sub<mode>_compare0\"\n+  [(set (reg:CC_NZ CC_REGNUM)\n+\t(compare:CC_NZ\n+\t (minus:GPI (match_operand:GPI 0 \"register_operand\" \"r\")\n+\t\t   (match_operand:GPI 1 \"aarch64_plus_operand\" \"r\"))\n+\t (const_int 0)))]\n+  \"\"\n+  \"cmp\\\\t%<w>0, %<w>1\"\n+  [(set_attr \"type\" \"alus_sreg\")]\n+)\n+\n (define_insn \"*compare_neg<mode>\"\n   [(set (reg:CC_Z CC_REGNUM)\n \t(compare:CC_Z"}, {"sha": "78bcef9bd7a3cc8b7307c27a69397757f4065e2c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2f65ab2e179b5ac8458940dc204d6415349126ca", "patch": "@@ -1,3 +1,7 @@\n+2017-07-11  Michael Collison  <michael.collison@arm.com>\n+\n+\t* testsuite/gcc.target/aarch64/cmp-2.c: New testcase.\n+\n 2017-07-11  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/51270"}, {"sha": "12016647061987030d4a3237052890e8d4b0bdac", "filename": "gcc/testsuite/gcc.target/aarch64/cmp-2.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcmp-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f65ab2e179b5ac8458940dc204d6415349126ca/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcmp-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcmp-2.c?ref=2f65ab2e179b5ac8458940dc204d6415349126ca", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+int lt (int x, int y)\n+{\n+  if ((x - y) < 0)\n+    return 10;\n+\n+  return 0;\n+}\n+\n+int ge (int x, int y)\n+{\n+  if ((x - y) >= 0)\n+    return 10;\n+\n+  return 0;\n+}\n+\n+/* { dg-final { scan-assembler-times \"csel\\t\" 2 } } */\n+/* { dg-final { scan-assembler-not \"sub\\t\" } } */"}]}