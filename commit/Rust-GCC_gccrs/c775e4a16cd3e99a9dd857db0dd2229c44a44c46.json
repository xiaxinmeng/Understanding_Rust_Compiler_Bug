{"sha": "c775e4a16cd3e99a9dd857db0dd2229c44a44c46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzc3NWU0YTE2Y2QzZTk5YTlkZDg1N2RiMGRkMjIyOWM0NGE0NGM0Ng==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-05T09:30:53Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-05T09:30:53Z"}, "message": "sem_ch3.adb (Analyze_Object_Declaration): Avoid type Any_Access in unresolved initial value of \"null\"...\n\n2008-08-05  Bob Duff  <duff@adacore.com>\n\n\t* sem_ch3.adb (Analyze_Object_Declaration): Avoid type Any_Access in\n\tunresolved initial value of \"null\", because it causes implicitly\n\tgenerated \"=\" operators to be ambiguous, and because this type should\n\tnot be passed to gigi.\n\nFrom-SVN: r138693", "tree": {"sha": "949519cd7726e66ff86892b3f3b82cb7461eeb7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/949519cd7726e66ff86892b3f3b82cb7461eeb7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c775e4a16cd3e99a9dd857db0dd2229c44a44c46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c775e4a16cd3e99a9dd857db0dd2229c44a44c46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c775e4a16cd3e99a9dd857db0dd2229c44a44c46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c775e4a16cd3e99a9dd857db0dd2229c44a44c46/comments", "author": null, "committer": null, "parents": [{"sha": "779dca2f0874271c15e1e3d170af26924d18e785", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/779dca2f0874271c15e1e3d170af26924d18e785", "html_url": "https://github.com/Rust-GCC/gccrs/commit/779dca2f0874271c15e1e3d170af26924d18e785"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "9a4800006c7eb50c6c903d3eadc7a7f05f34891a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c775e4a16cd3e99a9dd857db0dd2229c44a44c46/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c775e4a16cd3e99a9dd857db0dd2229c44a44c46/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=c775e4a16cd3e99a9dd857db0dd2229c44a44c46", "patch": "@@ -1,3 +1,48 @@\n+2008-08-05  Jose Ruiz  <ruiz@adacore.com>\n+\n+\t* init.c (__gnat_install_handler for linux): If we are building the\n+\tXenomai run time then we need to do two additional things: avoid\n+\tmemory swapping and transform the Linux environment task into a native\n+\tXenomai task.\n+\n+\t* gcc-interface/Makefile.in (LIBGNAT_TARGET_PAIRS for xenomai run\n+\ttime): Use interface to Xenomai native skin and avoid linux-specific\n+\tway of setting CPU affinity.\n+\t(EH_MECHANISM for the xenomai run time): Use sjlj exception mechanism.\n+\n+2008-08-05  Bob Duff  <duff@adacore.com>\n+\n+\t* checks.ads: Minor comment fix\n+\n+2008-08-05  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* g-sercom.adb, g-sercom.ads, g-sercom-mingw.adb,\n+\tg-sercom-linux.adb (Data_Bits): Change literals B7 and B8 to CS7 and\n+\tCS8.\n+\n+2008-08-05  Robert Dewar  <dewar@adacore.com>\n+\n+\t* mlib.adb: Minor code reorganization\n+\tMinor reformatting\n+\n+\t* make.adb: Minor reformatting\n+\n+\t* prj-attr.ads: Minor reformatting\n+\n+\t* s-os_lib.adb: Minor reformatting\n+\n+\t* s-fileio.adb: Minor code reorganization\n+\tMinor reformatting\n+\n+\t* prj.ads: Minor reformatting\n+\n+2008-08-05  Bob Duff  <duff@adacore.com>\n+\n+\t* sem_ch3.adb (Analyze_Object_Declaration): Avoid type Any_Access in\n+\tunresolved initial value of \"null\", because it causes implicitly\n+\tgenerated \"=\" operators to be ambiguous, and because this type should\n+\tnot be passed to gigi.\n+\n 2008-08-05  Vincent Celier  <celier@adacore.com>\n \n \t* mlib.adb: Update comments."}, {"sha": "cf31e49d545937c8bcfa9f323187f63eb5e798bc", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c775e4a16cd3e99a9dd857db0dd2229c44a44c46/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c775e4a16cd3e99a9dd857db0dd2229c44a44c46/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=c775e4a16cd3e99a9dd857db0dd2229c44a44c46", "patch": "@@ -2550,6 +2550,15 @@ package body Sem_Ch3 is\n          Set_Etype (Id, T);\n          Resolve (E, T);\n \n+         --  If E is \"null\", and has been replaced by an\n+         --  N_Raise_Constraint_Error node (which was marked already-analyzed),\n+         --  we need to set the type to something other than Any_Access in\n+         --  order to keep gigi happy.\n+\n+         if Etype (E) = Any_Access then\n+            Set_Etype (E, T);\n+         end if;\n+\n          --  If the object is an access to variable, the initialization\n          --  expression cannot be an access to constant.\n "}]}