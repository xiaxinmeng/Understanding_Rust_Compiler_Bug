{"sha": "700942a0c60bb556ac7c35f57d4f559e671e0c66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzAwOTQyYTBjNjBiYjU1NmFjN2MzNWY1N2Q0ZjU1OWU2NzFlMGM2Ng==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-02-27T20:20:28Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-02-27T20:20:28Z"}, "message": "(declare_hidden_char_array): Build new type if warn_larger_than.\n\nFrom-SVN: r6654", "tree": {"sha": "701084484f9d0595b32a870afe626251b1c29a91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/701084484f9d0595b32a870afe626251b1c29a91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/700942a0c60bb556ac7c35f57d4f559e671e0c66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/700942a0c60bb556ac7c35f57d4f559e671e0c66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/700942a0c60bb556ac7c35f57d4f559e671e0c66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/700942a0c60bb556ac7c35f57d4f559e671e0c66/comments", "author": null, "committer": null, "parents": [{"sha": "739d15ab1771aff57c8601b4256a40de131cc975", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/739d15ab1771aff57c8601b4256a40de131cc975", "html_url": "https://github.com/Rust-GCC/gccrs/commit/739d15ab1771aff57c8601b4256a40de131cc975"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "b71a4252eaf43923c3cebe91a8f725d17a04bcd6", "filename": "gcc/c-common.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/700942a0c60bb556ac7c35f57d4f559e671e0c66/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/700942a0c60bb556ac7c35f57d4f559e671e0c66/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=700942a0c60bb556ac7c35f57d4f559e671e0c66", "patch": "@@ -67,13 +67,13 @@ declare_hidden_char_array (name, value)\n   int vlen;\n \n   /* If the default size of char arrays isn't big enough for the name,\n-     make a bigger one.  */\n+     or if we want to give warnings for large objects, make a bigger one.  */\n   vlen = strlen (value) + 1;\n   type = char_array_type_node;\n-  if (TREE_INT_CST_LOW (TYPE_MAX_VALUE (TREE_TYPE (type))) < vlen)\n+  if (TREE_INT_CST_LOW (TYPE_MAX_VALUE (TREE_TYPE (type))) < vlen\n+      || warn_larger_than)\n     type = build_array_type (char_type_node,\n \t\t\t     build_index_type (build_int_2 (vlen, 0)));\n-\n   push_obstacks_nochange ();\n   decl = build_decl (VAR_DECL, get_identifier (name), type);\n   TREE_STATIC (decl) = 1;"}]}