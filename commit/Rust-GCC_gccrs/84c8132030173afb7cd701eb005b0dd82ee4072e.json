{"sha": "84c8132030173afb7cd701eb005b0dd82ee4072e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRjODEzMjAzMDE3M2FmYjdjZDcwMWViMDA1YjBkZDgyZWU0MDcyZQ==", "commit": {"author": {"name": "Marc Espie", "email": "espie@cvs.openbsd.org", "date": "1999-09-14T07:42:59Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-09-14T07:42:59Z"}, "message": "Makefile.in: Prepend $(SHELL) to move-if-change calls.\n\n        * Makefile.in:  Prepend $(SHELL) to move-if-change calls.\n        * msdos/top.sed:  Take into account a prepended $(SHELL) to\n        move-if-change.\n        * winnt/config-nt.sed:  Likewise.  Kill bogus substitution.\n\nFrom-SVN: r29395", "tree": {"sha": "5adb7d53f16b9c9d74d477e133b0be47eb5b3868", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5adb7d53f16b9c9d74d477e133b0be47eb5b3868"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84c8132030173afb7cd701eb005b0dd82ee4072e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c8132030173afb7cd701eb005b0dd82ee4072e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84c8132030173afb7cd701eb005b0dd82ee4072e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c8132030173afb7cd701eb005b0dd82ee4072e/comments", "author": null, "committer": null, "parents": [{"sha": "18bf656fc370751398d978b977d3d4c406a5246e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18bf656fc370751398d978b977d3d4c406a5246e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18bf656fc370751398d978b977d3d4c406a5246e"}], "stats": {"total": 47, "additions": 28, "deletions": 19}, "files": [{"sha": "0d9074d6c8ea4297afc0d8f07835f258758ecd3f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=84c8132030173afb7cd701eb005b0dd82ee4072e", "patch": "@@ -1,3 +1,10 @@\n+Tue Sep 14 01:42:27 1999  Marc Espie <espie@cvs.openbsd.org>\n+\n+\t* Makefile.in:  Prepend $(SHELL) to move-if-change calls.\n+\t* msdos/top.sed:  Take into account a prepended $(SHELL) to\n+\tmove-if-change.\n+\t* winnt/config-nt.sed:  Likewise.  Kill bogus substitution.\n+\n Tue Sep 14 01:38:52 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* regmove.c (fixup_match_1): Don't change an unchanging register."}, {"sha": "d8000001d021cb22620a5081d5e3a28f6a542a83", "filename": "gcc/Makefile.in", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=84c8132030173afb7cd701eb005b0dd82ee4072e", "patch": "@@ -1187,7 +1187,7 @@ s-mlib: $(srcdir)/genmultilib Makefile\n \t  \"$(MULTILIB_MATCHES)\" \\\n \t  \"$(MULTILIB_EXCEPTIONS)\" \\\n \t  \"$(MULTILIB_EXTRA_OPTS)\" > tmp-mlib.h\n-\t$(srcdir)/move-if-change tmp-mlib.h multilib.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-mlib.h multilib.h\n \ttouch s-mlib\n \n # Build multiple copies of libgcc.a, one for each target switch.\n@@ -1333,15 +1333,15 @@ $(srcdir)/c-parse.y: c-parse.in\n \tsed -e \"/^ifobjc$$/,/^end ifobjc$$/d\" \\\n \t  -e \"/^ifc$$/d\" -e \"/^end ifc$$/d\" \\\n \t  $(srcdir)/c-parse.in >>tmp-c-parse.y\n-\t$(srcdir)/move-if-change tmp-c-parse.y $(srcdir)/c-parse.y\n+\t$(SHELL) $(srcdir)/move-if-change tmp-c-parse.y $(srcdir)/c-parse.y\n \n $(srcdir)/c-gperf.h: c-parse.gperf\n \tgperf -L C -F ', 0, 0' -p -j1 -i 1 -g -o -t -G -N is_reserved_word \\\n \t   -k1,3,$$ $(srcdir)/c-parse.gperf >tmp-gperf.h || ( \\\n \techo \"Please update your 'gperf' from the GCC infrastructure\" >&2 ; \\\n \techo \"\tftp://sourceware.cygnus.com/pub/egcs/infrastructure/gperf*\" >&2 ; \\\n \texit 1 )\n-\t $(srcdir)/move-if-change tmp-gperf.h $(srcdir)/c-gperf.h\n+\t $(SHELL) $(srcdir)/move-if-change tmp-gperf.h $(srcdir)/c-gperf.h\n \n c-decl.o : c-decl.c $(CONFIG_H) system.h $(TREE_H) c-tree.h c-common.h ggc.h \\\n     c-lex.h flags.h function.h output.h toplev.h defaults.h\n@@ -1401,7 +1401,7 @@ s-under: $(GCC_PASSES)\n \telse \\\n \t  echo \"int prepends_underscore = 0;\" >>tmp-under.c; \\\n \tfi\n-\t$(srcdir)/move-if-change tmp-under.c underscore.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-under.c underscore.c\n \t-rm -f tmp-dum.c tmp-dum.s\n \ttouch s-under\n \n@@ -1430,7 +1430,7 @@ cppspec.o: cppspec.c $(CONFIG_H) system.h gcc.h\n tree-check.h: s-check ; @true\n s-check : gencheck $(srcdir)/move-if-change\n \t./gencheck > tmp-check.h\n-\t$(srcdir)/move-if-change tmp-check.h tree-check.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-check.h tree-check.h\n \ttouch s-check\n \n gencheck : gencheck.o $(lang_tree_files) $(HOST_LIBDEPS)\n@@ -1673,19 +1673,19 @@ alloca.o:\t$(srcdir)/../libiberty/alloca.c\n insn-config.h: s-config ; @true\n s-config : $(md_file) genconfig $(srcdir)/move-if-change\n \t./genconfig $(md_file) > tmp-config.h\n-\t$(srcdir)/move-if-change tmp-config.h insn-config.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-config.h insn-config.h\n \ttouch s-config\n \n insn-flags.h: s-flags ; @true\n s-flags : $(md_file) genflags $(srcdir)/move-if-change\n \t./genflags $(md_file) > tmp-flags.h\n-\t$(srcdir)/move-if-change tmp-flags.h insn-flags.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-flags.h insn-flags.h\n \ttouch s-flags\n \n insn-codes.h: s-codes ; @true\n s-codes : $(md_file) gencodes $(srcdir)/move-if-change\n \t./gencodes $(md_file) > tmp-codes.h\n-\t$(srcdir)/move-if-change tmp-codes.h insn-codes.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-codes.h insn-codes.h\n \ttouch s-codes\n \n insn-emit.o : insn-emit.c $(CONFIG_H) $(RTL_H) $(EXPR_H) real.h output.h \\\n@@ -1695,7 +1695,7 @@ insn-emit.o : insn-emit.c $(CONFIG_H) $(RTL_H) $(EXPR_H) real.h output.h \\\n insn-emit.c: s-emit ; @true\n s-emit : $(md_file) genemit $(srcdir)/move-if-change\n \t./genemit $(md_file) > tmp-emit.c\n-\t$(srcdir)/move-if-change tmp-emit.c insn-emit.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-emit.c insn-emit.c\n \ttouch s-emit\n \n insn-recog.o : insn-recog.c $(CONFIG_H) $(RTL_H) insn-config.h $(RECOG_H) \\\n@@ -1705,7 +1705,7 @@ insn-recog.o : insn-recog.c $(CONFIG_H) $(RTL_H) insn-config.h $(RECOG_H) \\\n insn-recog.c: s-recog ; @true\n s-recog : $(md_file) genrecog $(srcdir)/move-if-change\n \t./genrecog $(md_file) > tmp-recog.c\n-\t$(srcdir)/move-if-change tmp-recog.c insn-recog.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-recog.c insn-recog.c\n \ttouch s-recog\n \n insn-opinit.o : insn-opinit.c $(CONFIG_H) $(RTL_H) insn-codes.h insn-flags.h \\\n@@ -1715,7 +1715,7 @@ insn-opinit.o : insn-opinit.c $(CONFIG_H) $(RTL_H) insn-codes.h insn-flags.h \\\n insn-opinit.c: s-opinit ; @true\n s-opinit : $(md_file) genopinit $(srcdir)/move-if-change\n \t./genopinit $(md_file) > tmp-opinit.c\n-\t$(srcdir)/move-if-change tmp-opinit.c insn-opinit.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-opinit.c insn-opinit.c\n \ttouch s-opinit\n \n insn-extract.o : insn-extract.c $(CONFIG_H) $(RTL_H) system.h toplev.h \\\n@@ -1725,7 +1725,7 @@ insn-extract.o : insn-extract.c $(CONFIG_H) $(RTL_H) system.h toplev.h \\\n insn-extract.c: s-extract ; @true\n s-extract : $(md_file) genextract $(srcdir)/move-if-change\n \t./genextract $(md_file) > tmp-extract.c\n-\t$(srcdir)/move-if-change tmp-extract.c insn-extract.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-extract.c insn-extract.c\n \ttouch s-extract\n \n insn-peep.o : insn-peep.c $(CONFIG_H) $(RTL_H) $(REGS_H) output.h real.h \\\n@@ -1735,7 +1735,7 @@ insn-peep.o : insn-peep.c $(CONFIG_H) $(RTL_H) $(REGS_H) output.h real.h \\\n insn-peep.c: s-peep ; @true\n s-peep : $(md_file) genpeep $(srcdir)/move-if-change\n \t./genpeep $(md_file) > tmp-peep.c\n-\t$(srcdir)/move-if-change tmp-peep.c insn-peep.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-peep.c insn-peep.c\n \ttouch s-peep\n \n insn-attrtab.o : insn-attrtab.c $(CONFIG_H) $(RTL_H) $(REGS_H) real.h \\\n@@ -1745,13 +1745,13 @@ insn-attrtab.o : insn-attrtab.c $(CONFIG_H) $(RTL_H) $(REGS_H) real.h \\\n insn-attr.h: s-attr ; @true\n s-attr : $(md_file) genattr $(srcdir)/move-if-change\n \t./genattr $(md_file) > tmp-attr.h\n-\t$(srcdir)/move-if-change tmp-attr.h insn-attr.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-attr.h insn-attr.h\n \ttouch s-attr\n \n insn-attrtab.c: s-attrtab ; @true\n s-attrtab : $(md_file) genattrtab $(srcdir)/move-if-change\n \t./genattrtab $(md_file) > tmp-attrtab.c\n-\t$(srcdir)/move-if-change tmp-attrtab.c insn-attrtab.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-attrtab.c insn-attrtab.c\n \ttouch s-attrtab\n \n insn-output.o : insn-output.c $(CONFIG_H) $(RTL_H) $(REGS_H) real.h conditions.h \\\n@@ -1762,7 +1762,7 @@ insn-output.o : insn-output.c $(CONFIG_H) $(RTL_H) $(REGS_H) real.h conditions.h\n insn-output.c: s-output ; @true\n s-output : $(md_file) genoutput $(srcdir)/move-if-change\n \t./genoutput $(md_file) > tmp-output.c\n-\t$(srcdir)/move-if-change tmp-output.c insn-output.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-output.c insn-output.c\n \ttouch s-output\n \n genrtl.o : genrtl.c $(CONFIG_H) $(RTL_H) system.h\n@@ -1771,9 +1771,9 @@ genrtl.c genrtl.h : s-genrtl\n \n s-genrtl: gengenrtl $(srcdir)/move-if-change $(RTL_BASE_H)\n \t./gengenrtl -h >tmp-genrtl.h\n-\t$(srcdir)/move-if-change tmp-genrtl.h genrtl.h\n+\t$(SHELL) $(srcdir)/move-if-change tmp-genrtl.h genrtl.h\n \t./gengenrtl >tmp-genrtl.c\n-\t$(srcdir)/move-if-change tmp-genrtl.c genrtl.c\n+\t$(SHELL) $(srcdir)/move-if-change tmp-genrtl.c genrtl.c\n \ttouch s-genrtl\n #\f\n # Compile the programs that generate insn-* from the machine description."}, {"sha": "b1398a92ce5e9e3c5a8ade010188dbc99c5e80f1", "filename": "gcc/config/msdos/top.sed", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2Fconfig%2Fmsdos%2Ftop.sed", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2Fconfig%2Fmsdos%2Ftop.sed", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmsdos%2Ftop.sed?ref=84c8132030173afb7cd701eb005b0dd82ee4072e", "patch": "@@ -26,6 +26,7 @@ s/CC = cc/CC = gcc/\n s/:\\$/: \\$/g\n s/^\t\\ *\\.\\//\t/\n s/<\\ *\\$(srcdir)\\//< $(srcdir)\\\\/g\n+s/^\t\\$(SHELL) \\$(srcdir)\\/move-if-change/\tupdate/\n s/^\t\\$(srcdir)\\/move-if-change/\tupdate/\n s/^USE_/# USE_/\n s/`echo \\$(srcdir)\\///g"}, {"sha": "23a05ddc373a7c3eb1a932b9973f0e9dcc210c3d", "filename": "gcc/config/winnt/config-nt.sed", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2Fconfig%2Fwinnt%2Fconfig-nt.sed", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c8132030173afb7cd701eb005b0dd82ee4072e/gcc%2Fconfig%2Fwinnt%2Fconfig-nt.sed", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fwinnt%2Fconfig-nt.sed?ref=84c8132030173afb7cd701eb005b0dd82ee4072e", "patch": "@@ -19,6 +19,7 @@ s/^SHELL =.*/SHELL =/\n s/CFLAGS = -g/CFLAGS =/\n s/:\\$/: \\$/g\n s/<\\ *\\$(srcdir)\\//< $(srcdir)\\\\/g\n+s/^\t\\$(SHELL) \\$(srcdir)\\/move-if-change/\tcopy/\n s/^\t\\$(srcdir)\\/move-if-change/\tcopy/\n s/^USE_/# USE_/\n s/`echo \\$(srcdir)\\///g\n@@ -79,8 +80,8 @@ s/\\${SYSTEM_HEADER_DIR}/\\$(SYSTEM_HEADER_DIR)/g\n s/\\${HOST_CC}/\\$(HOST_CC)/g\n s/ \\${srcdir}\\// /g\n s/\\${mainversion}/\\$(mainversion)/g\n-s/\\ $(srcdir)\\/move-if-change$//\n s/\\$(srcdir)\\/move-if-change/copy/g\n+s/\\$(SHELL) \\$(srcdir)\\/move-if-change/copy/g\n /^# USE_HOST_OBSTACK/ i\\\n USE_HOST_OBSTACK=obstack.obj\n /^# USE_ALLOCA/ i\\"}]}