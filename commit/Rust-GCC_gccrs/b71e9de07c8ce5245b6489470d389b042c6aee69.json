{"sha": "b71e9de07c8ce5245b6489470d389b042c6aee69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjcxZTlkZTA3YzhjZTUyNDViNjQ4OTQ3MGQzODliMDQyYzZhZWU2OQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-06-28T18:32:39Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-06-28T18:32:39Z"}, "message": "(init_decl_processing): Register __builtin_memset and memset as\nbuiltin functions.\n\nFrom-SVN: r12362", "tree": {"sha": "a9975e6287aaa2f8fdc209125bce8dde1b29333e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9975e6287aaa2f8fdc209125bce8dde1b29333e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b71e9de07c8ce5245b6489470d389b042c6aee69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71e9de07c8ce5245b6489470d389b042c6aee69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b71e9de07c8ce5245b6489470d389b042c6aee69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71e9de07c8ce5245b6489470d389b042c6aee69/comments", "author": null, "committer": null, "parents": [{"sha": "2d226eb101981e1c00dba984fc282b28ed6ff82f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d226eb101981e1c00dba984fc282b28ed6ff82f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d226eb101981e1c00dba984fc282b28ed6ff82f"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "09013de3dfb6aa51970f9e4fcf00bc5b64a3b3db", "filename": "gcc/c-decl.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71e9de07c8ce5245b6489470d389b042c6aee69/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71e9de07c8ce5245b6489470d389b042c6aee69/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=b71e9de07c8ce5245b6489470d389b042c6aee69", "patch": "@@ -2818,7 +2818,7 @@ init_decl_processing ()\n   /* Either char* or void*.  */\n   tree traditional_ptr_type_node;\n   /* Data types of memcpy and strlen.  */\n-  tree memcpy_ftype, strlen_ftype;\n+  tree memcpy_ftype, memset_ftype, strlen_ftype;\n   tree void_ftype_any;\n   int wchar_type_size;\n   tree temp;\n@@ -3125,6 +3125,14 @@ init_decl_processing ()\n \t\t\t\t\t\t\t    sizetype,\n \t\t\t\t\t\t\t    endlink))));\n \n+  memset_ftype\t/* memset prototype */\n+    = build_function_type (traditional_ptr_type_node,\n+\t\t\t   tree_cons (NULL_TREE, ptr_type_node,\n+\t\t\t\t      tree_cons (NULL_TREE, integer_type_node,\n+\t\t\t\t\t\t tree_cons (NULL_TREE,\n+\t\t\t\t\t\t\t    sizetype,\n+\t\t\t\t\t\t\t    endlink))));\n+\n   builtin_function (\"__builtin_constant_p\", default_function_type,\n \t\t    BUILT_IN_CONSTANT_P, NULL_PTR);\n \n@@ -3233,6 +3241,8 @@ init_decl_processing ()\n \t\t    BUILT_IN_MEMCPY, \"memcpy\");\n   builtin_function (\"__builtin_memcmp\", int_ftype_cptr_cptr_sizet,\n \t\t    BUILT_IN_MEMCMP, \"memcmp\");\n+  builtin_function (\"__builtin_memset\", memset_ftype,\n+\t\t    BUILT_IN_MEMSET, NULL_PTR);\n   builtin_function (\"__builtin_strcmp\", int_ftype_string_string,\n \t\t    BUILT_IN_STRCMP, \"strcmp\");\n   builtin_function (\"__builtin_strcpy\", string_ftype_ptr_ptr,\n@@ -3286,6 +3296,7 @@ init_decl_processing ()\n       builtin_function (\"memcpy\", memcpy_ftype, BUILT_IN_MEMCPY, NULL_PTR);\n       builtin_function (\"memcmp\", int_ftype_cptr_cptr_sizet, BUILT_IN_MEMCMP,\n \t\t\tNULL_PTR);\n+      builtin_function (\"memset\", memset_ftype, BUILT_IN_MEMSET, NULL_PTR);\n       builtin_function (\"strcmp\", int_ftype_string_string, BUILT_IN_STRCMP,\n \t\t\tNULL_PTR);\n       builtin_function (\"strcpy\", string_ftype_ptr_ptr, BUILT_IN_STRCPY,"}]}