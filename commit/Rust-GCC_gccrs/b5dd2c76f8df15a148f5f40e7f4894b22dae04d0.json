{"sha": "b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVkZDJjNzZmOGRmMTVhMTQ4ZjVmNDBlN2Y0ODk0YjIyZGFlMDRkMA==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@codesourcery.com", "date": "2000-09-28T12:50:37Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2000-09-28T12:50:37Z"}, "message": "diagnostic.h (output_clear_message_text): New function.\n\n\t* diagnostic.h (output_clear_message_text): New function.\n\t(output_message_text): New macro.\n\n\t* diagnostic.c (clear_text_info): Rename to\n\toutput_clear_message_text.\n\t(output_clear): Adjust.\n\t(output_finish): Rename to output_finalize_message.  Tweek.\n\t(output_to_stream): Adjust.\n\nFrom-SVN: r36658", "tree": {"sha": "9ce4462141c49b3d3e4cd14241fa5ba4f10a5b6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ce4462141c49b3d3e4cd14241fa5ba4f10a5b6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/comments", "author": null, "committer": null, "parents": [{"sha": "2d89ce6a8e08d438008b745da0d4677cd13500ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d89ce6a8e08d438008b745da0d4677cd13500ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d89ce6a8e08d438008b745da0d4677cd13500ef"}], "stats": {"total": 31, "additions": 22, "deletions": 9}, "files": [{"sha": "3cbe4789c399239b50c5eab8e1d222e35bad205d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "patch": "@@ -1,3 +1,14 @@\n+2000-09-28  Gabriel Dos Reis  <gdr@codesourcery.com>\n+\n+\t* diagnostic.h (output_clear_message_text): New function.\n+\t(output_message_text): New macro.\n+\n+\t* diagnostic.c (clear_text_info): Rename to\n+\toutput_clear_message_text. \n+\t(output_clear): Adjust.\n+\t(output_finish): Rename to output_finalize_message.  Tweek.\n+\t(output_to_stream): Adjust. \n+\n 2000-09-28  Neil Booth  <neilb@earthling.net>\n \n \t* cpperror.c (_cpp_begin_message):  Do the test for suppression"}, {"sha": "3884edd34ddb1dc6ca08a39a8a9058e04a5f7889", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "patch": "@@ -93,7 +93,6 @@ static void output_append_r PARAMS ((output_buffer *, const char *, int));\n static void wrap_text PARAMS ((output_buffer *, const char *, const char *));\n static void maybe_wrap_text PARAMS ((output_buffer *, const char *,\n                                      const char *));\n-static void clear_text_info PARAMS ((output_buffer *));\n static void clear_diagnostic_info PARAMS ((output_buffer *));\n \n static void default_diagnostic_starter PARAMS ((output_buffer *,\n@@ -303,8 +302,8 @@ output_destroy_prefix (buffer)\n \n /* Zero out any text output so far in BUFFER.  */\n \n-static void\n-clear_text_info (buffer)\n+void\n+output_clear_message_text (buffer)\n      output_buffer *buffer;\n {\n   obstack_free (&buffer->obstack, obstack_base (&buffer->obstack));\n@@ -367,19 +366,19 @@ void\n output_clear (buffer)\n      output_buffer *buffer;\n {\n-  clear_text_info (buffer);\n+  output_clear_message_text (buffer);\n   clear_diagnostic_info (buffer);\n }\n \n /* Finishes to construct a NULL-terminated character string representing\n    the BUFFERed message.  */\n \n const char *\n-output_finish (buffer)\n+output_finalize_message (buffer)\n      output_buffer *buffer;\n {\n   obstack_1grow (&buffer->obstack, '\\0');\n-  return (const char *) obstack_finish (&buffer->obstack);\n+  return output_message_text (buffer);\n }\n \n void\n@@ -652,9 +651,9 @@ output_to_stream (buffer, file)\n      output_buffer *buffer;\n      FILE *file;\n {\n-  const char *text = output_finish (buffer);\n+  const char *text = output_finalize_message (buffer);\n   fputs (text, file);\n-  clear_text_info (buffer);\n+  output_clear_message_text (buffer);\n }\n \n /* Format a message pointed to by output_buffer_text_cursor (BUFFER) using"}, {"sha": "6d693fc24c1951717cfaf72a8b98b771e421830c", "filename": "gcc/diagnostic.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/gcc%2Fdiagnostic.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5dd2c76f8df15a148f5f40e7f4894b22dae04d0/gcc%2Fdiagnostic.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.h?ref=b5dd2c76f8df15a148f5f40e7f4894b22dae04d0", "patch": "@@ -93,6 +93,8 @@ struct output_buffer\n #define output_needs_newline(BUFFER) (BUFFER)->state.need_newline_p\n #define output_buffer_state(BUFFER) (BUFFER)->state\n #define output_indentation(BUFFER) (BUFFER)->state.indent_skip\n+#define output_message_text(BUFFER) \\\n+   ((const char *) obstack_base (&(BUFFER)->obstack))\n \n /* This data structure bundles altogether any information relevent to\n    the context of a diagnostic message.  */\n@@ -189,7 +191,8 @@ void output_append\t\tPARAMS ((output_buffer *, const char *,\n void output_add_character\tPARAMS ((output_buffer *, int));\n void output_decimal\t\tPARAMS ((output_buffer *, int));\n void output_add_string\t\tPARAMS ((output_buffer *, const char *));\n-const char *output_finish\tPARAMS ((output_buffer *));\n+const char *output_finalize_message PARAMS ((output_buffer *));\n+void output_clear_message_text  PARAMS ((output_buffer *));\n void output_printf\t\tPARAMS ((output_buffer *, const char *,\n                                          ...)) ATTRIBUTE_PRINTF_2;\n int output_is_line_wrapping\tPARAMS ((output_buffer *));"}]}