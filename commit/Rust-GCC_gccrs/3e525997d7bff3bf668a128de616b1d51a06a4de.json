{"sha": "3e525997d7bff3bf668a128de616b1d51a06a4de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2U1MjU5OTdkN2JmZjNiZjY2OGExMjhkZTYxNmIxZDUxYTA2YTRkZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-22T23:01:20Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-22T23:01:20Z"}, "message": "(i386-sequent-ptx): Properly get version number.\n\nFrom-SVN: r10030", "tree": {"sha": "c09882052696cbdff0af1c47d5c01c5e382cd427", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c09882052696cbdff0af1c47d5c01c5e382cd427"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e525997d7bff3bf668a128de616b1d51a06a4de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e525997d7bff3bf668a128de616b1d51a06a4de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e525997d7bff3bf668a128de616b1d51a06a4de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e525997d7bff3bf668a128de616b1d51a06a4de/comments", "author": null, "committer": null, "parents": [{"sha": "83750c274bae76086912ab1e136e7d75f6f976b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83750c274bae76086912ab1e136e7d75f6f976b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83750c274bae76086912ab1e136e7d75f6f976b6"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "6b815db7d1dcdd42fa96a3492aa158b9231cc7ae", "filename": "gcc/config.guess", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e525997d7bff3bf668a128de616b1d51a06a4de/gcc%2Fconfig.guess", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e525997d7bff3bf668a128de616b1d51a06a4de/gcc%2Fconfig.guess", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.guess?ref=3e525997d7bff3bf668a128de616b1d51a06a4de", "patch": "@@ -422,6 +422,10 @@ esac\n #echo \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" 1>&2\n \n cat >dummy.c <<EOF\n+#ifdef _SEQUENT_\n+# include <sys/types.h>\n+# include <sys/utsname.h>\n+#endif\n main ()\n {\n #if defined (sony)\n@@ -485,7 +489,18 @@ main ()\n #endif\n \n #if defined (_SEQUENT_)\n-  printf (\"i386-sequent-ptx\\n\"); exit (0);\n+    struct utsname un;\n+\n+    uname(&un);\n+\n+    if (strncmp(un.version, \"V2\", 2) == 0) {\n+\tprintf (\"i386-sequent-ptx2\\n\"); exit (0);\n+    }\n+    if (strncmp(un.version, \"V1\", 2) == 0) { /* XXX is V1 correct? */\n+\tprintf (\"i386-sequent-ptx1\\n\"); exit (0);\n+    }\n+    printf (\"i386-sequent-ptx\\n\"); exit (0);\n+\n #endif\n \n #if defined (vax)"}]}