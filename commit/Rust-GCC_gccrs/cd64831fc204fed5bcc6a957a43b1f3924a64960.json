{"sha": "cd64831fc204fed5bcc6a957a43b1f3924a64960", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q2NDgzMWZjMjA0ZmVkNWJjYzZhOTU3YTQzYjFmMzkyNGE2NDk2MA==", "commit": {"author": {"name": "Bruce Korb", "email": "bkorb@gnu.org", "date": "2000-05-20T18:54:45Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-05-20T18:54:45Z"}, "message": "more applications of c_fix=format + tests\n\nFrom-SVN: r34053", "tree": {"sha": "6d05ac592dc6121671c645ae97f62d5b9b6cd016", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d05ac592dc6121671c645ae97f62d5b9b6cd016"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd64831fc204fed5bcc6a957a43b1f3924a64960", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd64831fc204fed5bcc6a957a43b1f3924a64960", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd64831fc204fed5bcc6a957a43b1f3924a64960", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd64831fc204fed5bcc6a957a43b1f3924a64960/comments", "author": {"login": "brkorb", "id": 1242936, "node_id": "MDQ6VXNlcjEyNDI5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1242936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brkorb", "html_url": "https://github.com/brkorb", "followers_url": "https://api.github.com/users/brkorb/followers", "following_url": "https://api.github.com/users/brkorb/following{/other_user}", "gists_url": "https://api.github.com/users/brkorb/gists{/gist_id}", "starred_url": "https://api.github.com/users/brkorb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brkorb/subscriptions", "organizations_url": "https://api.github.com/users/brkorb/orgs", "repos_url": "https://api.github.com/users/brkorb/repos", "events_url": "https://api.github.com/users/brkorb/events{/privacy}", "received_events_url": "https://api.github.com/users/brkorb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "019b761f38b45e05d7f2b602e08a6f0ae44ca64d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/019b761f38b45e05d7f2b602e08a6f0ae44ca64d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/019b761f38b45e05d7f2b602e08a6f0ae44ca64d"}], "stats": {"total": 724, "additions": 402, "deletions": 322}, "files": [{"sha": "9c7e055353e642c809002d1893eb5ee61f092615", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cd64831fc204fed5bcc6a957a43b1f3924a64960", "patch": "@@ -1,3 +1,8 @@\n+2000-05-20  Bruce Korb  <bkorb@gnu.org>\n+\n+\t* fixinc/inclhack.def:  more applications of c_fix=format + tests\n+\t* fixinc/check.diff:  regenerated\n+\n Sat May 20 09:30:55 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* alias.c: Clarify some comments."}, {"sha": "0ebf88e1b3e768e93a5df3ccedf8807734315a1a", "filename": "gcc/fixinc/check.diff", "status": "modified", "additions": 28, "deletions": 18, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2Ffixinc%2Fcheck.diff", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2Ffixinc%2Fcheck.diff", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fcheck.diff?ref=cd64831fc204fed5bcc6a957a43b1f3924a64960", "patch": "@@ -128,13 +128,18 @@\n *** inc/curses.h\n --- res/curses.h\n ***************\n-*** 1,16 ****\n+*** 1,21 ****\n   \n   \n-  #if defined( AVOID_BOOL_CHECK )\n+  #if defined( AVOID_BOOL_DEFINE_CHECK )\n   # define bool\t char \n+  \n+  #endif  /* AVOID_BOOL_DEFINE_CHECK */\n+  \n+  \n+  #if defined( AVOID_BOOL_TYPE_CHECK )\n   typedef unsigned int\tbool \t; /* bool type */\n-  #endif  /* AVOID_BOOL_CHECK */\n+  #endif  /* AVOID_BOOL_TYPE_CHECK */\n   \n   \n   #if defined( BAD_STRUCT_TERM_CHECK )\n@@ -145,17 +150,22 @@\n   #if defined( LYNX_VOID_INT_CHECK )\n ! # define\tvoid\tint \t/* curses foiled again */\n   #endif  /* LYNX_VOID_INT_CHECK */\n---- 1,20 ----\n+--- 1,25 ----\n   \n   \n-  #if defined( AVOID_BOOL_CHECK )\n+  #if defined( AVOID_BOOL_DEFINE_CHECK )\n + #ifndef __cplusplus\n   # define bool\t char \n + #endif\n+  \n+  #endif  /* AVOID_BOOL_DEFINE_CHECK */\n+  \n+  \n+  #if defined( AVOID_BOOL_TYPE_CHECK )\n + #ifndef __cplusplus\n   typedef unsigned int\tbool \t; /* bool type */\n + #endif\n-  #endif  /* AVOID_BOOL_CHECK */\n+  #endif  /* AVOID_BOOL_TYPE_CHECK */\n   \n   \n   #if defined( BAD_STRUCT_TERM_CHECK )\n@@ -499,15 +509,15 @@\n   #if defined( ECD_CURSOR_CHECK )\n ! #ifdef ecd.cursor\n   #error bogus\n-! #endif /* ecd+cursor */\n+  #endif /* ecd+cursor */\n   #endif  /* ECD_CURSOR_CHECK */\n --- 1,7 ----\n   \n   \n   #if defined( ECD_CURSOR_CHECK )\n ! #ifdef ecd_cursor\n   #error bogus\n-! #endif /* ecd_cursor */\n+  #endif /* ecd+cursor */\n   #endif  /* ECD_CURSOR_CHECK */\n *** inc/sym.h\n --- res/sym.h\n@@ -645,21 +655,17 @@\n *** inc/sys/spinlock.h\n --- res/sys/spinlock.h\n ***************\n-*** 1,7 ****\n+*** 1,5 ****\n   \n   \n   #if defined( HP_INLINE_CHECK )\n-! # include \"../machine/inline.h\"\n-  # include \"../machine/dontfix.h\"\n-! # include \"../machine/psl.h\"\n+!  # include \"../machine/mumble.h\"\n   #endif  /* HP_INLINE_CHECK */\n---- 1,7 ----\n+--- 1,5 ----\n   \n   \n   #if defined( HP_INLINE_CHECK )\n-! # include <machine/inline.h>\n-  # include \"../machine/dontfix.h\"\n-! # include <machine/psl.h>\n+!  # include <machine/mumble.h>\n   #endif  /* HP_INLINE_CHECK */\n *** inc/sys/stat.h\n --- res/sys/stat.h\n@@ -723,7 +729,7 @@\n *** inc/testing.h\n --- res/testing.h\n ***************\n-*** 1,33 ****\n+*** 1,35 ****\n   \n   \n   #if defined( CTRL_QUOTES_DEF_CHECK )\n@@ -738,6 +744,8 @@\n   \n   #if defined( IO_QUOTES_DEF_CHECK )\n ! #define BSD43__IOWR(n, x) (('n'<<8)+x)\n+! #define _IOWN(x,y,t)  (_IOC_IN|(((t)&_IOCPARM_MASK)<<16)|('x'<<8)|y)\n+! #define _IO(x,y)      ('x'<<8|y)\n   #endif  /* IO_QUOTES_DEF_CHECK */\n   \n   \n@@ -755,7 +763,7 @@\n   #define NULL\t((void*)0)\n   \n   #endif  /* UNDEFINE_NULL_CHECK */\n---- 1,37 ----\n+--- 1,39 ----\n   \n   \n   #if defined( CTRL_QUOTES_DEF_CHECK )\n@@ -770,6 +778,8 @@\n   \n   #if defined( IO_QUOTES_DEF_CHECK )\n ! #define BSD43__IOWR(n, x) ((n<<8)+x)\n+! #define _IOWN(x,y,t)  (_IOC_IN|(((t)&_IOCPARM_MASK)<<16)|(x<<8)|y)\n+! #define _IO(x,y)      (x<<8|y)\n   #endif  /* IO_QUOTES_DEF_CHECK */\n   \n   "}, {"sha": "29366541f1a75811d920cc735a66bfc4c264a63c", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 267, "deletions": 219, "changes": 486, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=cd64831fc204fed5bcc6a957a43b1f3924a64960", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 120 fixup descriptions.\n+ * This file contains 121 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n@@ -947,8 +947,9 @@ tTestDesc aArm_Norcroft_HintTests[] = {\n /*\n  *  Fix Command Arguments for Arm_Norcroft_Hint\n  */\n-const char* apzArm_Norcroft_HintPatch[] = { \"sed\",\n-    \"-e\", \"s/___type p_type/p_type/\",\n+const char* apzArm_Norcroft_HintPatch[] = {\n+    \"format\",\n+    \"p_type\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -1018,76 +1019,94 @@ tTestDesc aAux_AsmTests[] = {\n /*\n  *  Fix Command Arguments for Aux_Asm\n  */\n-const char* apzAux_AsmPatch[] = { \"sed\",\n-    \"-e\", \"s|#ifndef NOINLINE|#if !defined(NOINLINE) \\\\&\\\\& !defined(__GNUC__)|\",\n+const char* apzAux_AsmPatch[] = {\n+    \"format\",\n+    \"#if !defined(NOINLINE) && !defined(__GNUC__)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Avoid_Bool fix\n+ *  Description of Avoid_Bool_Define fix\n  */\n-#define AVOID_BOOL_FIXIDX                21\n-tSCC zAvoid_BoolName[] =\n-     \"avoid_bool\";\n+#define AVOID_BOOL_DEFINE_FIXIDX         21\n+tSCC zAvoid_Bool_DefineName[] =\n+     \"avoid_bool_define\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zAvoid_BoolList[] =\n+tSCC zAvoid_Bool_DefineList[] =\n   \"|curses.h|curses_colr/curses.h|term.h|tinfo.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzAvoid_BoolMachs (const char**)NULL\n+#define apzAvoid_Bool_DefineMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zAvoid_BoolSelect0[] =\n-       \"char[ \\t]+bool|bool[ \\t]+char\";\n+tSCC zAvoid_Bool_DefineSelect0[] =\n+       \"#[ \\t]*define[ \\t]+bool[ \\t]\";\n+\n+#define    AVOID_BOOL_DEFINE_TEST_CT  1\n+tTestDesc aAvoid_Bool_DefineTests[] = {\n+  { TT_EGREP,    zAvoid_Bool_DefineSelect0, (regex_t*)NULL }, };\n \n /*\n- *  content bypass pattern - skip fix if pattern found\n+ *  Fix Command Arguments for Avoid_Bool_Define\n  */\n-tSCC zAvoid_BoolBypass0[] =\n-       \"we must use the C\\\\+\\\\+ compiler's type\";\n+const char* apzAvoid_Bool_DefinePatch[] = {\n+    \"format\",\n+    \"#ifndef __cplusplus\\n\\\n+%0\\n\\\n+#endif\",\n+    \"^[ \\t]*#[ \\t]*define[ \\t]+bool[ \\t].*\",\n+    (char*)NULL };\n \n-#define    AVOID_BOOL_TEST_CT  2\n-tTestDesc aAvoid_BoolTests[] = {\n-  { TT_NEGREP,   zAvoid_BoolBypass0, (regex_t*)NULL },\n-  { TT_EGREP,    zAvoid_BoolSelect0, (regex_t*)NULL }, };\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Avoid_Bool_Type fix\n+ */\n+#define AVOID_BOOL_TYPE_FIXIDX           22\n+tSCC zAvoid_Bool_TypeName[] =\n+     \"avoid_bool_type\";\n \n /*\n- *  Fix Command Arguments for Avoid_Bool\n+ *  File name selection pattern\n  */\n-const char* apzAvoid_BoolPatch[] = { \"sed\",\n-    \"-e\", \"/^#[ \\t]*define[ \\t][ \\t]*bool[ \\t][ \\t]*char[ \\t]*$/i\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/^#[ \\t]*define[ \\t][ \\t]*bool[ \\t][ \\t]*char[ \\t]*$/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/^typedef[ \\t][ \\t]*char[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/^typedef[ \\t][ \\t]*char[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/^[ ]*typedef[ \\t][ \\t]*unsigned char[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/^[ ]*typedef[ \\t][ \\t]*unsigned char[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/^typedef[ \\t][ \\t]*int[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/^typedef[ \\t][ \\t]*int[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/^[ ]*typedef[ \\t][ \\t]*unsigned int[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/^[ ]*typedef[ \\t][ \\t]*unsigned int[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\\\n-#endif\\n\",\n+tSCC zAvoid_Bool_TypeList[] =\n+  \"|curses.h|curses_colr/curses.h|term.h|tinfo.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzAvoid_Bool_TypeMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zAvoid_Bool_TypeSelect0[] =\n+       \"^[ \\t]*typedef[ \\t].*[ \\t]bool[ \\t]*;\";\n+\n+#define    AVOID_BOOL_TYPE_TEST_CT  1\n+tTestDesc aAvoid_Bool_TypeTests[] = {\n+  { TT_EGREP,    zAvoid_Bool_TypeSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Avoid_Bool_Type\n+ */\n+const char* apzAvoid_Bool_TypePatch[] = {\n+    \"format\",\n+    \"#ifndef __cplusplus\\n\\\n+%0\\n\\\n+#endif\",\n+    \"^[ \\t]*typedef[ \\t].*[ \\t]bool[ \\t]*;.*\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Bad_Lval fix\n  */\n-#define BAD_LVAL_FIXIDX                  22\n+#define BAD_LVAL_FIXIDX                  23\n tSCC zBad_LvalName[] =\n      \"bad_lval\";\n \n@@ -1122,7 +1141,7 @@ const char* apzBad_LvalPatch[] = { \"sed\",\n  *\n  *  Description of Bad_Struct_Term fix\n  */\n-#define BAD_STRUCT_TERM_FIXIDX           23\n+#define BAD_STRUCT_TERM_FIXIDX           24\n tSCC zBad_Struct_TermName[] =\n      \"bad_struct_term\";\n \n@@ -1149,15 +1168,16 @@ tTestDesc aBad_Struct_TermTests[] = {\n /*\n  *  Fix Command Arguments for Bad_Struct_Term\n  */\n-const char* apzBad_Struct_TermPatch[] = { \"sed\",\n-    \"-e\", \"s/^[ \\t]*typedef[ \\t][ \\t]*\\\\(struct[ \\t][ \\t]*term[ \\t]*;[ \\t]*\\\\)$/\\\\1/\",\n+const char* apzBad_Struct_TermPatch[] = {\n+    \"format\",\n+    \"struct term;\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Badquote fix\n  */\n-#define BADQUOTE_FIXIDX                  24\n+#define BADQUOTE_FIXIDX                  25\n tSCC zBadquoteName[] =\n      \"badquote\";\n \n@@ -1170,21 +1190,30 @@ tSCC zBadquoteList[] =\n  *  Machine/OS name selection pattern\n  */\n #define apzBadquoteMachs (const char**)NULL\n-#define BADQUOTE_TEST_CT  0\n-#define aBadquoteTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zBadquoteSelect0[] =\n+       \"doesn't\";\n+\n+#define    BADQUOTE_TEST_CT  1\n+tTestDesc aBadquoteTests[] = {\n+  { TT_EGREP,    zBadquoteSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Badquote\n  */\n-const char* apzBadquotePatch[] = { \"sed\",\n-    \"-e\", \"s/doesn't/does not/\",\n+const char* apzBadquotePatch[] = {\n+    \"format\",\n+    \"does not\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Broken_Assert_Stdio fix\n  */\n-#define BROKEN_ASSERT_STDIO_FIXIDX       25\n+#define BROKEN_ASSERT_STDIO_FIXIDX       26\n tSCC zBroken_Assert_StdioName[] =\n      \"broken_assert_stdio\";\n \n@@ -1227,7 +1256,7 @@ const char* apzBroken_Assert_StdioPatch[] = {\n  *\n  *  Description of Broken_Assert_Stdlib fix\n  */\n-#define BROKEN_ASSERT_STDLIB_FIXIDX      26\n+#define BROKEN_ASSERT_STDLIB_FIXIDX      27\n tSCC zBroken_Assert_StdlibName[] =\n      \"broken_assert_stdlib\";\n \n@@ -1272,7 +1301,7 @@ const char* apzBroken_Assert_StdlibPatch[] = {\n  *\n  *  Description of Broken_Cabs fix\n  */\n-#define BROKEN_CABS_FIXIDX               27\n+#define BROKEN_CABS_FIXIDX               28\n tSCC zBroken_CabsName[] =\n      \"broken_cabs\";\n \n@@ -1299,16 +1328,17 @@ tTestDesc aBroken_CabsTests[] = {\n /*\n  *  Fix Command Arguments for Broken_Cabs\n  */\n-const char* apzBroken_CabsPatch[] = { \"sed\",\n-    \"-e\", \"s/^extern double cabs();//\",\n-    \"-e\", \"s/^extern double cabs(struct dbl_hypot);//\",\n+const char* apzBroken_CabsPatch[] = {\n+    \"format\",\n+    \"\",\n+    \"^extern double cabs\\\\((struct dbl_hypot|)\\\\);\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Ctrl_Quotes_Def fix\n  */\n-#define CTRL_QUOTES_DEF_FIXIDX           28\n+#define CTRL_QUOTES_DEF_FIXIDX           29\n tSCC zCtrl_Quotes_DefName[] =\n      \"ctrl_quotes_def\";\n \n@@ -1325,7 +1355,7 @@ tSCC zCtrl_Quotes_DefName[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zCtrl_Quotes_DefSelect0[] =\n-       \"define[ \\t]+[A-Z0-9_]+CTRL\\\\(([a-zA-Z]).*'\\\\1'\";\n+       \"define[ \\t]+[A-Z0-9_]+CTRL\\\\([a-zA-Z],\";\n \n #define    CTRL_QUOTES_DEF_TEST_CT  1\n tTestDesc aCtrl_Quotes_DefTests[] = {\n@@ -1343,7 +1373,7 @@ const char* apzCtrl_Quotes_DefPatch[] = {\n  *\n  *  Description of Ctrl_Quotes_Use fix\n  */\n-#define CTRL_QUOTES_USE_FIXIDX           29\n+#define CTRL_QUOTES_USE_FIXIDX           30\n tSCC zCtrl_Quotes_UseName[] =\n      \"ctrl_quotes_use\";\n \n@@ -1378,7 +1408,7 @@ const char* apzCtrl_Quotes_UsePatch[] = {\n  *\n  *  Description of Cxx_Unready fix\n  */\n-#define CXX_UNREADY_FIXIDX               30\n+#define CXX_UNREADY_FIXIDX               31\n tSCC zCxx_UnreadyName[] =\n      \"cxx_unready\";\n \n@@ -1426,7 +1456,7 @@ extern \\\"C\\\" {\\n\\\n  *\n  *  Description of Dec_Intern_Asm fix\n  */\n-#define DEC_INTERN_ASM_FIXIDX            31\n+#define DEC_INTERN_ASM_FIXIDX            32\n tSCC zDec_Intern_AsmName[] =\n      \"dec_intern_asm\";\n \n@@ -1456,7 +1486,7 @@ const char* apzDec_Intern_AsmPatch[] = { \"sed\",\n  *\n  *  Description of Ecd_Cursor fix\n  */\n-#define ECD_CURSOR_FIXIDX                32\n+#define ECD_CURSOR_FIXIDX                33\n tSCC zEcd_CursorName[] =\n      \"ecd_cursor\";\n \n@@ -1469,21 +1499,30 @@ tSCC zEcd_CursorList[] =\n  *  Machine/OS name selection pattern\n  */\n #define apzEcd_CursorMachs (const char**)NULL\n-#define ECD_CURSOR_TEST_CT  0\n-#define aEcd_CursorTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zEcd_CursorSelect0[] =\n+       \"ecd\\\\.cursor\";\n+\n+#define    ECD_CURSOR_TEST_CT  1\n+tTestDesc aEcd_CursorTests[] = {\n+  { TT_EGREP,    zEcd_CursorSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Ecd_Cursor\n  */\n-const char* apzEcd_CursorPatch[] = { \"sed\",\n-    \"-e\", \"s/ecd.cursor/ecd_cursor/\",\n+const char* apzEcd_CursorPatch[] = {\n+    \"format\",\n+    \"ecd_cursor\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Fix_Header_Breakage fix\n  */\n-#define FIX_HEADER_BREAKAGE_FIXIDX       33\n+#define FIX_HEADER_BREAKAGE_FIXIDX       34\n tSCC zFix_Header_BreakageName[] =\n      \"fix_header_breakage\";\n \n@@ -1521,15 +1560,15 @@ const char* apzFix_Header_BreakagePatch[] = {\n  *\n  *  Description of Hp_Inline fix\n  */\n-#define HP_INLINE_FIXIDX                 34\n+#define HP_INLINE_FIXIDX                 35\n tSCC zHp_InlineName[] =\n      \"hp_inline\";\n \n /*\n  *  File name selection pattern\n  */\n tSCC zHp_InlineList[] =\n-  \"|sys/spinlock.h|\";\n+  \"|sys/spinlock.h|machine/machparam.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n@@ -1539,7 +1578,7 @@ tSCC zHp_InlineList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zHp_InlineSelect0[] =\n-       \"include.*\\\"\\\\.\\\\./machine/\";\n+       \"[ \\t]*#[ \\t]*include[ \\t]+\\\"\\\\.\\\\./machine/\";\n \n #define    HP_INLINE_TEST_CT  1\n tTestDesc aHp_InlineTests[] = {\n@@ -1548,16 +1587,17 @@ tTestDesc aHp_InlineTests[] = {\n /*\n  *  Fix Command Arguments for Hp_Inline\n  */\n-const char* apzHp_InlinePatch[] = { \"sed\",\n-    \"-e\", \"s,\\\"../machine/inline.h\\\",<machine/inline.h>,\",\n-    \"-e\", \"s,\\\"../machine/psl.h\\\",<machine/psl.h>,\",\n+const char* apzHp_InlinePatch[] = {\n+    \"format\",\n+    \"%1<machine/%2.h>\",\n+    \"([ \\t]*#[ \\t]*include[ \\t]+)\\\"\\\\.\\\\./machine/([a-z]+)\\\\.h\\\"\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hp_Sysfile fix\n  */\n-#define HP_SYSFILE_FIXIDX                35\n+#define HP_SYSFILE_FIXIDX                36\n tSCC zHp_SysfileName[] =\n      \"hp_sysfile\";\n \n@@ -1584,15 +1624,17 @@ tTestDesc aHp_SysfileTests[] = {\n /*\n  *  Fix Command Arguments for Hp_Sysfile\n  */\n-const char* apzHp_SysfilePatch[] = { \"sed\",\n-    \"-e\", \"s/(\\\\.\\\\.\\\\.)/(struct file *, ...)/\",\n+const char* apzHp_SysfilePatch[] = {\n+    \"format\",\n+    \"(struct file *, ...)\",\n+    \"\\\\(\\\\.\\\\.\\\\.\\\\)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux11_Fabsf fix\n  */\n-#define HPUX11_FABSF_FIXIDX              36\n+#define HPUX11_FABSF_FIXIDX              37\n tSCC zHpux11_FabsfName[] =\n      \"hpux11_fabsf\";\n \n@@ -1635,83 +1677,83 @@ const char* apzHpux11_FabsfPatch[] = {\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Hpux8_Bogus_Inlines fix\n+ *  Description of Hpux11_Uint32_C fix\n  */\n-#define HPUX8_BOGUS_INLINES_FIXIDX       37\n-tSCC zHpux8_Bogus_InlinesName[] =\n-     \"hpux8_bogus_inlines\";\n+#define HPUX11_UINT32_C_FIXIDX           38\n+tSCC zHpux11_Uint32_CName[] =\n+     \"hpux11_uint32_c\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zHpux8_Bogus_InlinesList[] =\n-  \"|math.h|\";\n+tSCC zHpux11_Uint32_CList[] =\n+  \"|inttypes.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzHpux8_Bogus_InlinesMachs (const char**)NULL\n+#define apzHpux11_Uint32_CMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zHpux8_Bogus_InlinesSelect0[] =\n-       \"inline\";\n+tSCC zHpux11_Uint32_CSelect0[] =\n+       \"^#define UINT32_C\\\\(__c\\\\)[ \\t]*__CONCAT__\\\\(__CONCAT_U__\\\\(__c\\\\),l\\\\)\";\n \n-#define    HPUX8_BOGUS_INLINES_TEST_CT  1\n-tTestDesc aHpux8_Bogus_InlinesTests[] = {\n-  { TT_EGREP,    zHpux8_Bogus_InlinesSelect0, (regex_t*)NULL }, };\n+#define    HPUX11_UINT32_C_TEST_CT  1\n+tTestDesc aHpux11_Uint32_CTests[] = {\n+  { TT_EGREP,    zHpux11_Uint32_CSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Hpux8_Bogus_Inlines\n+ *  Fix Command Arguments for Hpux11_Uint32_C\n  */\n-const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n-    \"-e\", \"s@inline int abs(int [a-z][a-z]*) {.*}@extern \\\"C\\\" int abs(int);@\",\n-    \"-e\", \"s@inline double abs(double [a-z][a-z]*) {.*}@@\",\n-    \"-e\", \"s@inline int sqr(int [a-z][a-z]*) {.*}@@\",\n-    \"-e\", \"s@inline double sqr(double [a-z][a-z]*) {.*}@@\",\n+const char* apzHpux11_Uint32_CPatch[] = {\n+    \"format\",\n+    \"#define UINT32_C(__c) __CONCAT__(__c,ul)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Hpux11_Uint32_C fix\n+ *  Description of Hpux8_Bogus_Inlines fix\n  */\n-#define HPUX11_UINT32_C_FIXIDX           38\n-tSCC zHpux11_Uint32_CName[] =\n-     \"hpux11_uint32_c\";\n+#define HPUX8_BOGUS_INLINES_FIXIDX       39\n+tSCC zHpux8_Bogus_InlinesName[] =\n+     \"hpux8_bogus_inlines\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zHpux11_Uint32_CList[] =\n-  \"|inttypes.h|\";\n+tSCC zHpux8_Bogus_InlinesList[] =\n+  \"|math.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzHpux11_Uint32_CMachs (const char**)NULL\n+#define apzHpux8_Bogus_InlinesMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zHpux11_Uint32_CSelect0[] =\n-       \"^#define UINT32_C\\\\(__c\\\\)[ \\t]*__CONCAT__\\\\(__CONCAT_U__\\\\(__c\\\\),l\\\\)\";\n+tSCC zHpux8_Bogus_InlinesSelect0[] =\n+       \"inline\";\n \n-#define    HPUX11_UINT32_C_TEST_CT  1\n-tTestDesc aHpux11_Uint32_CTests[] = {\n-  { TT_EGREP,    zHpux11_Uint32_CSelect0, (regex_t*)NULL }, };\n+#define    HPUX8_BOGUS_INLINES_TEST_CT  1\n+tTestDesc aHpux8_Bogus_InlinesTests[] = {\n+  { TT_EGREP,    zHpux8_Bogus_InlinesSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Hpux11_Uint32_C\n+ *  Fix Command Arguments for Hpux8_Bogus_Inlines\n  */\n-const char* apzHpux11_Uint32_CPatch[] = {\n-    \"format\",\n-    \"#define UINT32_C(__c) __CONCAT__(__c,ul)\",\n+const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n+    \"-e\", \"s@inline int abs(int [a-z][a-z]*) {.*}@extern \\\"C\\\" int abs(int);@\",\n+    \"-e\", \"s@inline double abs(double [a-z][a-z]*) {.*}@@\",\n+    \"-e\", \"s@inline int sqr(int [a-z][a-z]*) {.*}@@\",\n+    \"-e\", \"s@inline double sqr(double [a-z][a-z]*) {.*}@@\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Isc_Omits_With_Stdc fix\n  */\n-#define ISC_OMITS_WITH_STDC_FIXIDX       39\n+#define ISC_OMITS_WITH_STDC_FIXIDX       40\n tSCC zIsc_Omits_With_StdcName[] =\n      \"isc_omits_with_stdc\";\n \n@@ -1747,7 +1789,7 @@ const char* apzIsc_Omits_With_StdcPatch[] = {\n  *\n  *  Description of Io_Quotes_Def fix\n  */\n-#define IO_QUOTES_DEF_FIXIDX             40\n+#define IO_QUOTES_DEF_FIXIDX             41\n tSCC zIo_Quotes_DefName[] =\n      \"io_quotes_def\";\n \n@@ -1764,7 +1806,7 @@ tSCC zIo_Quotes_DefName[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zIo_Quotes_DefSelect0[] =\n-       \"define[ \\t]+[A-Z0-9_]+IO[A-Z]*\\\\(([a-zA-Z]).*'\\\\1'\";\n+       \"define[ \\t]+[A-Z0-9_]+IO[A-Z]*\\\\([a-zA-Z],\";\n \n #define    IO_QUOTES_DEF_TEST_CT  1\n tTestDesc aIo_Quotes_DefTests[] = {\n@@ -1782,7 +1824,7 @@ const char* apzIo_Quotes_DefPatch[] = {\n  *\n  *  Description of Io_Quotes_Use fix\n  */\n-#define IO_QUOTES_USE_FIXIDX             41\n+#define IO_QUOTES_USE_FIXIDX             42\n tSCC zIo_Quotes_UseName[] =\n      \"io_quotes_use\";\n \n@@ -1817,7 +1859,7 @@ const char* apzIo_Quotes_UsePatch[] = {\n  *\n  *  Description of Hpux_Maxint fix\n  */\n-#define HPUX_MAXINT_FIXIDX               42\n+#define HPUX_MAXINT_FIXIDX               43\n tSCC zHpux_MaxintName[] =\n      \"hpux_maxint\";\n \n@@ -1844,18 +1886,19 @@ tTestDesc aHpux_MaxintTests[] = {\n /*\n  *  Fix Command Arguments for Hpux_Maxint\n  */\n-const char* apzHpux_MaxintPatch[] = { \"sed\",\n-    \"-e\", \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/i\\\\\\n\\\n-#ifndef MAXINT\\n\",\n-    \"-e\", \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n+const char* apzHpux_MaxintPatch[] = {\n+    \"format\",\n+    \"#ifndef MAXINT\\n\\\n+%0\\n\\\n+#endif\",\n+    \"^#[ \\t]*define[ \\t]*MAXINT[ \\t].*\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux_Systime fix\n  */\n-#define HPUX_SYSTIME_FIXIDX              43\n+#define HPUX_SYSTIME_FIXIDX              44\n tSCC zHpux_SystimeName[] =\n      \"hpux_systime\";\n \n@@ -1890,7 +1933,7 @@ const char* apzHpux_SystimePatch[] = { \"sed\",\n  *\n  *  Description of Ip_Missing_Semi fix\n  */\n-#define IP_MISSING_SEMI_FIXIDX           44\n+#define IP_MISSING_SEMI_FIXIDX           45\n tSCC zIp_Missing_SemiName[] =\n      \"ip_missing_semi\";\n \n@@ -1925,7 +1968,7 @@ const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Irix_Asm_Apostrophe fix\n  */\n-#define IRIX_ASM_APOSTROPHE_FIXIDX       45\n+#define IRIX_ASM_APOSTROPHE_FIXIDX       46\n tSCC zIrix_Asm_ApostropheName[] =\n      \"irix_asm_apostrophe\";\n \n@@ -1962,7 +2005,7 @@ const char* apzIrix_Asm_ApostrophePatch[] = {\n  *\n  *  Description of Irix_Multiline_Cmnt fix\n  */\n-#define IRIX_MULTILINE_CMNT_FIXIDX       46\n+#define IRIX_MULTILINE_CMNT_FIXIDX       47\n tSCC zIrix_Multiline_CmntName[] =\n      \"irix_multiline_cmnt\";\n \n@@ -1990,7 +2033,7 @@ const char* apzIrix_Multiline_CmntPatch[] = { \"sed\",\n  *\n  *  Description of Isc_Fmod fix\n  */\n-#define ISC_FMOD_FIXIDX                  47\n+#define ISC_FMOD_FIXIDX                  48\n tSCC zIsc_FmodName[] =\n      \"isc_fmod\";\n \n@@ -2026,7 +2069,7 @@ const char* apzIsc_FmodPatch[] = {\n  *\n  *  Description of Kandr_Concat fix\n  */\n-#define KANDR_CONCAT_FIXIDX              48\n+#define KANDR_CONCAT_FIXIDX              49\n tSCC zKandr_ConcatName[] =\n      \"kandr_concat\";\n \n@@ -2062,7 +2105,7 @@ const char* apzKandr_ConcatPatch[] = {\n  *\n  *  Description of Limits_Ifndefs fix\n  */\n-#define LIMITS_IFNDEFS_FIXIDX            49\n+#define LIMITS_IFNDEFS_FIXIDX            50\n tSCC zLimits_IfndefsName[] =\n      \"limits_ifndefs\";\n \n@@ -2101,7 +2144,7 @@ const char* apzLimits_IfndefsPatch[] = {\n  *\n  *  Description of Lynx_Void_Int fix\n  */\n-#define LYNX_VOID_INT_FIXIDX             50\n+#define LYNX_VOID_INT_FIXIDX             51\n tSCC zLynx_Void_IntName[] =\n      \"lynx_void_int\";\n \n@@ -2137,7 +2180,7 @@ const char* apzLynx_Void_IntPatch[] = {\n  *\n  *  Description of Lynxos_Fcntl_Proto fix\n  */\n-#define LYNXOS_FCNTL_PROTO_FIXIDX        51\n+#define LYNXOS_FCNTL_PROTO_FIXIDX        52\n tSCC zLynxos_Fcntl_ProtoName[] =\n      \"lynxos_fcntl_proto\";\n \n@@ -2174,7 +2217,7 @@ const char* apzLynxos_Fcntl_ProtoPatch[] = {\n  *\n  *  Description of M88k_Bad_Hypot_Opt fix\n  */\n-#define M88K_BAD_HYPOT_OPT_FIXIDX        52\n+#define M88K_BAD_HYPOT_OPT_FIXIDX        53\n tSCC zM88k_Bad_Hypot_OptName[] =\n      \"m88k_bad_hypot_opt\";\n \n@@ -2223,7 +2266,7 @@ static __inline__ double fake_hypot (x, y)\\n\\\n  *\n  *  Description of M88k_Bad_S_If fix\n  */\n-#define M88K_BAD_S_IF_FIXIDX             53\n+#define M88K_BAD_S_IF_FIXIDX             54\n tSCC zM88k_Bad_S_IfName[] =\n      \"m88k_bad_s_if\";\n \n@@ -2262,7 +2305,7 @@ const char* apzM88k_Bad_S_IfPatch[] = {\n  *\n  *  Description of M88k_Multi_Incl fix\n  */\n-#define M88K_MULTI_INCL_FIXIDX           54\n+#define M88K_MULTI_INCL_FIXIDX           55\n tSCC zM88k_Multi_InclName[] =\n      \"m88k_multi_incl\";\n \n@@ -2299,7 +2342,7 @@ const char* apzM88k_Multi_InclPatch[] = {\n  *\n  *  Description of Machine_Ansi_H_Va_List fix\n  */\n-#define MACHINE_ANSI_H_VA_LIST_FIXIDX    55\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    56\n tSCC zMachine_Ansi_H_Va_ListName[] =\n      \"machine_ansi_h_va_list\";\n \n@@ -2341,7 +2384,7 @@ const char* apzMachine_Ansi_H_Va_ListPatch[] = { \"sed\",\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              56\n+#define MACHINE_NAME_FIXIDX              57\n tSCC zMachine_NameName[] =\n      \"machine_name\";\n \n@@ -2374,7 +2417,7 @@ const char* apzMachine_NamePatch[] = {\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            57\n+#define MATH_EXCEPTION_FIXIDX            58\n tSCC zMath_ExceptionName[] =\n      \"math_exception\";\n \n@@ -2422,7 +2465,7 @@ const char* apzMath_ExceptionPatch[] = {\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 58\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 59\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n      \"math_huge_val_from_dbl_max\";\n \n@@ -2469,7 +2512,7 @@ const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      59\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      60\n tSCC zMath_Huge_Val_IfndefName[] =\n      \"math_huge_val_ifndef\";\n \n@@ -2507,7 +2550,7 @@ const char* apzMath_Huge_Val_IfndefPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Motorola fix\n  */\n-#define NESTED_MOTOROLA_FIXIDX           60\n+#define NESTED_MOTOROLA_FIXIDX           61\n tSCC zNested_MotorolaName[] =\n      \"nested_motorola\";\n \n@@ -2537,7 +2580,7 @@ const char* apzNested_MotorolaPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Sys_Limits fix\n  */\n-#define NESTED_SYS_LIMITS_FIXIDX         61\n+#define NESTED_SYS_LIMITS_FIXIDX         62\n tSCC zNested_Sys_LimitsName[] =\n      \"nested_sys_limits\";\n \n@@ -2573,7 +2616,7 @@ const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Auth_Des fix\n  */\n-#define NESTED_AUTH_DES_FIXIDX           62\n+#define NESTED_AUTH_DES_FIXIDX           63\n tSCC zNested_Auth_DesName[] =\n      \"nested_auth_des\";\n \n@@ -2609,7 +2652,7 @@ const char* apzNested_Auth_DesPatch[] = {\n  *\n  *  Description of Nested_Ultrix fix\n  */\n-#define NESTED_ULTRIX_FIXIDX             63\n+#define NESTED_ULTRIX_FIXIDX             64\n tSCC zNested_UltrixName[] =\n      \"nested_ultrix\";\n \n@@ -2636,7 +2679,7 @@ const char* apzNested_UltrixPatch[] = { \"sed\",\n  *\n  *  Description of News_Os_Recursion fix\n  */\n-#define NEWS_OS_RECURSION_FIXIDX         64\n+#define NEWS_OS_RECURSION_FIXIDX         65\n tSCC zNews_Os_RecursionName[] =\n      \"news_os_recursion\";\n \n@@ -2674,7 +2717,7 @@ const char* apzNews_Os_RecursionPatch[] = { \"sed\",\n  *\n  *  Description of Next_Math_Prefix fix\n  */\n-#define NEXT_MATH_PREFIX_FIXIDX          65\n+#define NEXT_MATH_PREFIX_FIXIDX          66\n tSCC zNext_Math_PrefixName[] =\n      \"next_math_prefix\";\n \n@@ -2713,7 +2756,7 @@ const char* apzNext_Math_PrefixPatch[] = { \"sed\",\n  *\n  *  Description of Next_Template fix\n  */\n-#define NEXT_TEMPLATE_FIXIDX             66\n+#define NEXT_TEMPLATE_FIXIDX             67\n tSCC zNext_TemplateName[] =\n      \"next_template\";\n \n@@ -2749,7 +2792,7 @@ const char* apzNext_TemplatePatch[] = { \"sed\",\n  *\n  *  Description of Next_Volitile fix\n  */\n-#define NEXT_VOLITILE_FIXIDX             67\n+#define NEXT_VOLITILE_FIXIDX             68\n tSCC zNext_VolitileName[] =\n      \"next_volitile\";\n \n@@ -2785,7 +2828,7 @@ const char* apzNext_VolitilePatch[] = { \"sed\",\n  *\n  *  Description of Next_Wait_Union fix\n  */\n-#define NEXT_WAIT_UNION_FIXIDX           68\n+#define NEXT_WAIT_UNION_FIXIDX           69\n tSCC zNext_Wait_UnionName[] =\n      \"next_wait_union\";\n \n@@ -2820,7 +2863,7 @@ const char* apzNext_Wait_UnionPatch[] = { \"sed\",\n  *\n  *  Description of Nodeent_Syntax fix\n  */\n-#define NODEENT_SYNTAX_FIXIDX            69\n+#define NODEENT_SYNTAX_FIXIDX            70\n tSCC zNodeent_SyntaxName[] =\n      \"nodeent_syntax\";\n \n@@ -2847,7 +2890,7 @@ const char* apzNodeent_SyntaxPatch[] = { \"sed\",\n  *\n  *  Description of Osf_Namespace_A fix\n  */\n-#define OSF_NAMESPACE_A_FIXIDX           70\n+#define OSF_NAMESPACE_A_FIXIDX           71\n tSCC zOsf_Namespace_AName[] =\n      \"osf_namespace_a\";\n \n@@ -2893,7 +2936,7 @@ const char* apzOsf_Namespace_APatch[] = { \"sed\",\n  *\n  *  Description of Osf_Namespace_B fix\n  */\n-#define OSF_NAMESPACE_B_FIXIDX           71\n+#define OSF_NAMESPACE_B_FIXIDX           72\n tSCC zOsf_Namespace_BName[] =\n      \"osf_namespace_b\";\n \n@@ -2940,7 +2983,7 @@ typedef __regmatch_t\\tregmatch_t;\\n\",\n  *\n  *  Description of Pthread_Page_Size fix\n  */\n-#define PTHREAD_PAGE_SIZE_FIXIDX         72\n+#define PTHREAD_PAGE_SIZE_FIXIDX         73\n tSCC zPthread_Page_SizeName[] =\n      \"pthread_page_size\";\n \n@@ -2975,7 +3018,7 @@ const char* apzPthread_Page_SizePatch[] = { \"sed\",\n  *\n  *  Description of Read_Ret_Type fix\n  */\n-#define READ_RET_TYPE_FIXIDX             73\n+#define READ_RET_TYPE_FIXIDX             74\n tSCC zRead_Ret_TypeName[] =\n      \"read_ret_type\";\n \n@@ -3011,7 +3054,7 @@ const char* apzRead_Ret_TypePatch[] = { \"sed\",\n  *\n  *  Description of Rs6000_Double fix\n  */\n-#define RS6000_DOUBLE_FIXIDX             74\n+#define RS6000_DOUBLE_FIXIDX             75\n tSCC zRs6000_DoubleName[] =\n      \"rs6000_double\";\n \n@@ -3049,7 +3092,7 @@ const char* apzRs6000_DoublePatch[] = { \"sed\",\n  *\n  *  Description of Rs6000_Fchmod fix\n  */\n-#define RS6000_FCHMOD_FIXIDX             75\n+#define RS6000_FCHMOD_FIXIDX             76\n tSCC zRs6000_FchmodName[] =\n      \"rs6000_fchmod\";\n \n@@ -3084,7 +3127,7 @@ const char* apzRs6000_FchmodPatch[] = { \"sed\",\n  *\n  *  Description of Rs6000_Param fix\n  */\n-#define RS6000_PARAM_FIXIDX              76\n+#define RS6000_PARAM_FIXIDX              77\n tSCC zRs6000_ParamName[] =\n      \"rs6000_param\";\n \n@@ -3119,7 +3162,7 @@ const char* apzRs6000_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Sco_Static_Func fix\n  */\n-#define SCO_STATIC_FUNC_FIXIDX           77\n+#define SCO_STATIC_FUNC_FIXIDX           78\n tSCC zSco_Static_FuncName[] =\n      \"sco_static_func\";\n \n@@ -3163,7 +3206,7 @@ extern \\\"C\\\" {\\\\\\n\\\n  *\n  *  Description of Sco_Strict_Ansi fix\n  */\n-#define SCO_STRICT_ANSI_FIXIDX           78\n+#define SCO_STRICT_ANSI_FIXIDX           79\n tSCC zSco_Strict_AnsiName[] =\n      \"sco_strict_ansi\";\n \n@@ -3199,7 +3242,7 @@ const char* apzSco_Strict_AnsiPatch[] = { \"sed\",\n  *\n  *  Description of Sco_Utime fix\n  */\n-#define SCO_UTIME_FIXIDX                 79\n+#define SCO_UTIME_FIXIDX                 80\n tSCC zSco_UtimeName[] =\n      \"sco_utime\";\n \n@@ -3236,7 +3279,7 @@ const char* apzSco_UtimePatch[] = { \"sed\",\n  *\n  *  Description of Sony_Include fix\n  */\n-#define SONY_INCLUDE_FIXIDX              80\n+#define SONY_INCLUDE_FIXIDX              81\n tSCC zSony_IncludeName[] =\n      \"sony_include\";\n \n@@ -3271,7 +3314,7 @@ const char* apzSony_IncludePatch[] = { \"sed\",\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                81\n+#define STATSSWTCH_FIXIDX                82\n tSCC zStatsswtchName[] =\n      \"statsswtch\";\n \n@@ -3306,7 +3349,7 @@ const char* apzStatsswtchPatch[] = { \"sed\",\n  *\n  *  Description of Stdio_Stdarg_H fix\n  */\n-#define STDIO_STDARG_H_FIXIDX            82\n+#define STDIO_STDARG_H_FIXIDX            83\n tSCC zStdio_Stdarg_HName[] =\n      \"stdio_stdarg_h\";\n \n@@ -3343,7 +3386,7 @@ const char* apzStdio_Stdarg_HPatch[] = {\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             83\n+#define STDIO_VA_LIST_FIXIDX             84\n tSCC zStdio_Va_ListName[] =\n      \"stdio_va_list\";\n \n@@ -3388,7 +3431,7 @@ s@_Va_LIST@_VA_LIST@\",\n  *\n  *  Description of Struct_File fix\n  */\n-#define STRUCT_FILE_FIXIDX               84\n+#define STRUCT_FILE_FIXIDX               85\n tSCC zStruct_FileName[] =\n      \"struct_file\";\n \n@@ -3425,7 +3468,7 @@ const char* apzStruct_FilePatch[] = {\n  *\n  *  Description of Struct_Sockaddr fix\n  */\n-#define STRUCT_SOCKADDR_FIXIDX           85\n+#define STRUCT_SOCKADDR_FIXIDX           86\n tSCC zStruct_SockaddrName[] =\n      \"struct_sockaddr\";\n \n@@ -3469,7 +3512,7 @@ const char* apzStruct_SockaddrPatch[] = {\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            86\n+#define SUN_AUTH_PROTO_FIXIDX            87\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -3509,7 +3552,7 @@ const char* apzSun_Auth_ProtoPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           87\n+#define SUN_BOGUS_IFDEF_FIXIDX           88\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -3544,7 +3587,7 @@ const char* apzSun_Bogus_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Bogus_Ifdef_Sun4c fix\n  */\n-#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     88\n+#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     89\n tSCC zSun_Bogus_Ifdef_Sun4cName[] =\n      \"sun_bogus_ifdef_sun4c\";\n \n@@ -3579,7 +3622,7 @@ const char* apzSun_Bogus_Ifdef_Sun4cPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              89\n+#define SUN_CATMACRO_FIXIDX              90\n tSCC zSun_CatmacroName[] =\n      \"sun_catmacro\";\n \n@@ -3619,7 +3662,7 @@ const char* apzSun_CatmacroPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                90\n+#define SUN_MALLOC_FIXIDX                91\n tSCC zSun_MallocName[] =\n      \"sun_malloc\";\n \n@@ -3649,7 +3692,7 @@ const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           91\n+#define SUN_RUSERS_SEMI_FIXIDX           92\n tSCC zSun_Rusers_SemiName[] =\n      \"sun_rusers_semi\";\n \n@@ -3684,7 +3727,7 @@ const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                92\n+#define SUN_SIGNAL_FIXIDX                93\n tSCC zSun_SignalName[] =\n      \"sun_signal\";\n \n@@ -3724,7 +3767,7 @@ void\\t(*signal(...))(...);\\\\\\n\\\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        93\n+#define SUNOS_MATHERR_DECL_FIXIDX        94\n tSCC zSunos_Matherr_DeclName[] =\n      \"sunos_matherr_decl\";\n \n@@ -3761,7 +3804,7 @@ struct exception;\\n\",\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              94\n+#define SUNOS_STRLEN_FIXIDX              95\n tSCC zSunos_StrlenName[] =\n      \"sunos_strlen\";\n \n@@ -3796,7 +3839,7 @@ const char* apzSunos_StrlenPatch[] = { \"sed\",\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               95\n+#define SVR4_GETCWD_FIXIDX               96\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -3831,7 +3874,7 @@ const char* apzSvr4_GetcwdPatch[] = { \"sed\",\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               96\n+#define SVR4_PROFIL_FIXIDX               97\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -3858,7 +3901,7 @@ const char* apzSvr4_ProfilPatch[] = { \"sed\",\n  *\n  *  Description of Systypes fix\n  */\n-#define SYSTYPES_FIXIDX                  97\n+#define SYSTYPES_FIXIDX                  98\n tSCC zSystypesName[] =\n      \"systypes\";\n \n@@ -3917,7 +3960,7 @@ typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n  *\n  *  Description of Systypes_Stdlib_Size_T fix\n  */\n-#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    98\n+#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    99\n tSCC zSystypes_Stdlib_Size_TName[] =\n      \"systypes_stdlib_size_t\";\n \n@@ -3963,7 +4006,7 @@ const char* apzSystypes_Stdlib_Size_TPatch[] = { \"sed\",\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             99\n+#define SYSV68_STRING_FIXIDX             100\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n@@ -4000,7 +4043,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       100\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       101\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -4033,7 +4076,7 @@ const char* apzSysz_Stdlib_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Sysz_Stdtypes_For_Sun fix\n  */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     101\n+#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     102\n tSCC zSysz_Stdtypes_For_SunName[] =\n      \"sysz_stdtypes_for_sun\";\n \n@@ -4074,7 +4117,7 @@ const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           102\n+#define TINFO_CPLUSPLUS_FIXIDX           103\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -4109,7 +4152,7 @@ const char* apzTinfo_CplusplusPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         103\n+#define ULTRIX_ATOF_PARAM_FIXIDX         104\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4144,7 +4187,7 @@ const char* apzUltrix_Atof_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              104\n+#define ULTRIX_CONST_FIXIDX              105\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4179,7 +4222,7 @@ const char* apzUltrix_ConstPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       105\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       106\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"ultrix_fix_fixproto\";\n \n@@ -4215,7 +4258,7 @@ struct utsname;\\n\",\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              106\n+#define ULTRIX_IFDEF_FIXIDX              107\n tSCC zUltrix_IfdefName[] =\n      \"ultrix_ifdef\";\n \n@@ -4250,7 +4293,7 @@ const char* apzUltrix_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             107\n+#define ULTRIX_STATIC_FIXIDX             108\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4287,7 +4330,7 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             108\n+#define UNDEFINE_NULL_FIXIDX             109\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -4333,7 +4376,7 @@ const char* apzUndefine_NullPatch[] = {\n  *\n  *  Description of Unixware7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   109\n+#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   110\n tSCC zUnixware7_Byteorder_FixName[] =\n      \"unixware7_byteorder_fix\";\n \n@@ -4376,7 +4419,7 @@ const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             110\n+#define VA_I960_MACRO_FIXIDX             111\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -4414,7 +4457,7 @@ const char* apzVa_I960_MacroPatch[] = { \"sed\",\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 111\n+#define VOID_NULL_FIXIDX                 112\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -4449,7 +4492,7 @@ const char* apzVoid_NullPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       112\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       113\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -4499,7 +4542,7 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     113\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     114\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -4534,7 +4577,7 @@ const char* apzVxworks_Needs_VxtypesPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     114\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     115\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -4583,7 +4626,7 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              115\n+#define VXWORKS_TIME_FIXIDX              116\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -4634,7 +4677,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\\\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 116\n+#define X11_CLASS_FIXIDX                 117\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -4674,7 +4717,7 @@ const char* apzX11_ClassPatch[] = { \"sed\",\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           117\n+#define X11_CLASS_USAGE_FIXIDX           118\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -4709,7 +4752,7 @@ const char* apzX11_Class_UsagePatch[] = { \"sed\",\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   118\n+#define X11_NEW_FIXIDX                   119\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -4750,7 +4793,7 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               119\n+#define X11_SPRINTF_FIXIDX               120\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -4788,9 +4831,9 @@ extern char *\\tsprintf();\\\\\\n\\\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          111\n+#define REGEX_COUNT          113\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            120\n+#define FIX_COUNT            121\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -4885,7 +4928,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zArm_Norcroft_HintName,    zArm_Norcroft_HintList,\n      apzArm_Norcroft_HintMachs,\n-     ARM_NORCROFT_HINT_TEST_CT, FD_MACH_ONLY,\n+     ARM_NORCROFT_HINT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aArm_Norcroft_HintTests,   apzArm_Norcroft_HintPatch },\n \n   {  zArm_WcharName,    zArm_WcharList,\n@@ -4895,13 +4938,18 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zAux_AsmName,    zAux_AsmList,\n      apzAux_AsmMachs,\n-     AUX_ASM_TEST_CT, FD_MACH_ONLY,\n+     AUX_ASM_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aAux_AsmTests,   apzAux_AsmPatch },\n \n-  {  zAvoid_BoolName,    zAvoid_BoolList,\n-     apzAvoid_BoolMachs,\n-     AVOID_BOOL_TEST_CT, FD_MACH_ONLY,\n-     aAvoid_BoolTests,   apzAvoid_BoolPatch },\n+  {  zAvoid_Bool_DefineName,    zAvoid_Bool_DefineList,\n+     apzAvoid_Bool_DefineMachs,\n+     AVOID_BOOL_DEFINE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aAvoid_Bool_DefineTests,   apzAvoid_Bool_DefinePatch },\n+\n+  {  zAvoid_Bool_TypeName,    zAvoid_Bool_TypeList,\n+     apzAvoid_Bool_TypeMachs,\n+     AVOID_BOOL_TYPE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aAvoid_Bool_TypeTests,   apzAvoid_Bool_TypePatch },\n \n   {  zBad_LvalName,    zBad_LvalList,\n      apzBad_LvalMachs,\n@@ -4910,12 +4958,12 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zBad_Struct_TermName,    zBad_Struct_TermList,\n      apzBad_Struct_TermMachs,\n-     BAD_STRUCT_TERM_TEST_CT, FD_MACH_ONLY,\n+     BAD_STRUCT_TERM_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aBad_Struct_TermTests,   apzBad_Struct_TermPatch },\n \n   {  zBadquoteName,    zBadquoteList,\n      apzBadquoteMachs,\n-     BADQUOTE_TEST_CT, FD_MACH_ONLY,\n+     BADQUOTE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aBadquoteTests,   apzBadquotePatch },\n \n   {  zBroken_Assert_StdioName,    zBroken_Assert_StdioList,\n@@ -4930,7 +4978,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zBroken_CabsName,    zBroken_CabsList,\n      apzBroken_CabsMachs,\n-     BROKEN_CABS_TEST_CT, FD_MACH_ONLY,\n+     BROKEN_CABS_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aBroken_CabsTests,   apzBroken_CabsPatch },\n \n   {  zCtrl_Quotes_DefName,    zCtrl_Quotes_DefList,\n@@ -4955,7 +5003,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zEcd_CursorName,    zEcd_CursorList,\n      apzEcd_CursorMachs,\n-     ECD_CURSOR_TEST_CT, FD_MACH_ONLY,\n+     ECD_CURSOR_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aEcd_CursorTests,   apzEcd_CursorPatch },\n \n   {  zFix_Header_BreakageName,    zFix_Header_BreakageList,\n@@ -4965,29 +5013,29 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zHp_InlineName,    zHp_InlineList,\n      apzHp_InlineMachs,\n-     HP_INLINE_TEST_CT, FD_MACH_ONLY,\n+     HP_INLINE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHp_InlineTests,   apzHp_InlinePatch },\n \n   {  zHp_SysfileName,    zHp_SysfileList,\n      apzHp_SysfileMachs,\n-     HP_SYSFILE_TEST_CT, FD_MACH_ONLY,\n+     HP_SYSFILE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHp_SysfileTests,   apzHp_SysfilePatch },\n \n   {  zHpux11_FabsfName,    zHpux11_FabsfList,\n      apzHpux11_FabsfMachs,\n      HPUX11_FABSF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux11_FabsfTests,   apzHpux11_FabsfPatch },\n \n-  {  zHpux8_Bogus_InlinesName,    zHpux8_Bogus_InlinesList,\n-     apzHpux8_Bogus_InlinesMachs,\n-     HPUX8_BOGUS_INLINES_TEST_CT, FD_MACH_ONLY,\n-     aHpux8_Bogus_InlinesTests,   apzHpux8_Bogus_InlinesPatch },\n-\n   {  zHpux11_Uint32_CName,    zHpux11_Uint32_CList,\n      apzHpux11_Uint32_CMachs,\n      HPUX11_UINT32_C_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux11_Uint32_CTests,   apzHpux11_Uint32_CPatch },\n \n+  {  zHpux8_Bogus_InlinesName,    zHpux8_Bogus_InlinesList,\n+     apzHpux8_Bogus_InlinesMachs,\n+     HPUX8_BOGUS_INLINES_TEST_CT, FD_MACH_ONLY,\n+     aHpux8_Bogus_InlinesTests,   apzHpux8_Bogus_InlinesPatch },\n+\n   {  zIsc_Omits_With_StdcName,    zIsc_Omits_With_StdcList,\n      apzIsc_Omits_With_StdcMachs,\n      ISC_OMITS_WITH_STDC_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -5005,7 +5053,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zHpux_MaxintName,    zHpux_MaxintList,\n      apzHpux_MaxintMachs,\n-     HPUX_MAXINT_TEST_CT, FD_MACH_ONLY,\n+     HPUX_MAXINT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux_MaxintTests,   apzHpux_MaxintPatch },\n \n   {  zHpux_SystimeName,    zHpux_SystimeList,"}, {"sha": "bf706b6498afdd6a42324bb7dc3719d3fd1d5dd3", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 102, "deletions": 85, "changes": 187, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd64831fc204fed5bcc6a957a43b1f3924a64960/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=cd64831fc204fed5bcc6a957a43b1f3924a64960", "patch": "@@ -597,7 +597,8 @@ fix = {\n     hackname  = arm_norcroft_hint;\n     select    = \"___type p_type\";\n     files     = \"X11/Intrinsic.h\";\n-    sed      = \"s/___type p_type/p_type/\";\n+    c_fix     = format;\n+    c_fix_arg = \"p_type\";\n     test_text = \"___type p_type mumble;\";\n };\n \n@@ -627,8 +628,10 @@ fix = {\n     hackname = aux_asm;\n     files    = sys/param.h;\n     select   = \"#ifndef NOINLINE\";\n-    sed      = \"s|#ifndef NOINLINE\"\n-                \"|#if !defined(NOINLINE) \\\\&\\\\& !defined(__GNUC__)|\";\n+\n+    c_fix     = format;\n+    c_fix_arg = \"#if !defined(NOINLINE) && !defined(__GNUC__)\";\n+\n     test_text =\n     \"#ifndef NOINLINE /* ain't got no inline, so we got it */\\n\"\n     \"#endif /* NOINLINE */\";\n@@ -641,46 +644,35 @@ fix = {\n  *  HP/UX 10.20 also has it in curses_colr/curses.h.\n  */\n fix = {\n-    hackname = avoid_bool;\n-    files    = curses.h;\n-    files    = curses_colr/curses.h;\n-    files    = term.h;\n-    files    = tinfo.h;\n-\n-    select   = \"char[ \\t]+bool|bool[ \\t]+char\";\n-    bypass   = \"we must use the C\\\\+\\\\+ compiler's type\";\n-\n-    sed = \"/^#[ \\t]*define[ \\t][ \\t]*bool[ \\t][ \\t]*char[ \\t]*$/i\\\\\\n\"\n-                \"#ifndef __cplusplus\\n\";\n-\n-    sed = \"/^#[ \\t]*define[ \\t][ \\t]*bool[ \\t][ \\t]*char[ \\t]*$/a\\\\\\n\"\n-                \"#endif\\n\";\n-\n-    sed = \"/^typedef[ \\t][ \\t]*char[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\"\n-                \"#ifndef __cplusplus\\n\";\n+    hackname  = avoid_bool_define;\n+    files     = curses.h;\n+    files     = curses_colr/curses.h;\n+    files     = term.h;\n+    files     = tinfo.h;\n \n-    sed = \"/^typedef[ \\t][ \\t]*char[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\"\n-                \"#endif\\n\";\n+    select    = \"#[ \\t]*define[ \\t]+bool[ \\t]\";\n \n-    sed = \"/^[ ]*typedef[ \\t][ \\t]*unsigned char[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\"\n-                \"#ifndef __cplusplus\\n\";\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef __cplusplus\\n%0\\n#endif\";\n+    c_fix_arg = \"^[ \\t]*#[ \\t]*define[ \\t]+bool[ \\t].*\";\n \n-    sed = \"/^[ ]*typedef[ \\t][ \\t]*unsigned char[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\"\n-                \"#endif\\n\";\n+    test_text = \"# define bool\\t char \\n\";\n+};\n \n-    sed = \"/^typedef[ \\t][ \\t]*int[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\"\n-                \"#ifndef __cplusplus\\n\";\n+fix = {\n+    hackname = avoid_bool_type;\n+    files    = curses.h;\n+    files    = curses_colr/curses.h;\n+    files    = term.h;\n+    files    = tinfo.h;\n \n-    sed = \"/^typedef[ \\t][ \\t]*int[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\"\n-                \"#endif\\n\";\n+    select    = \"^[ \\t]*typedef[ \\t].*[ \\t]bool[ \\t]*;\";\n \n-    sed = \"/^[ ]*typedef[ \\t][ \\t]*unsigned int[ \\t][ \\t]*bool[ \\t]*;/i\\\\\\n\"\n-                \"#ifndef __cplusplus\\n\";\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef __cplusplus\\n%0\\n#endif\";\n+    c_fix_arg = \"^[ \\t]*typedef[ \\t].*[ \\t]bool[ \\t]*;.*\";\n \n-    sed = \"/^[ ]*typedef[ \\t][ \\t]*unsigned int[ \\t][ \\t]*bool[ \\t]*;/a\\\\\\n\"\n-                \"#endif\\n\";\n-    test_text = \"# define bool\\t char \\n\"\n-                \"typedef unsigned int\\tbool \\t; /* bool type */\";\n+    test_text = \"typedef unsigned int\\tbool \\t; /* bool type */\";\n };\n \n \n@@ -727,11 +719,12 @@ fix = {\n  *  Fix `typedef struct term;' on hppa1.1-hp-hpux9.\n  */\n fix = {\n-    hackname = bad_struct_term;\n-    files  = curses.h;\n-    select = \"^[ \\t]*typedef[ \\t]+struct[ \\t]+term[ \\t]*;\";\n-    sed    = \"s/^[ \\t]*typedef[ \\t][ \\t]*\"\n-             \"\\\\(struct[ \\t][ \\t]*term[ \\t]*;[ \\t]*\\\\)$/\\\\1/\";\n+    hackname  = bad_struct_term;\n+    files     = curses.h;\n+    select    = \"^[ \\t]*typedef[ \\t]+struct[ \\t]+term[ \\t]*;\";\n+    c_fix     = format;\n+    c_fix_arg = \"struct term;\";\n+\n     test_text = 'typedef struct term;';\n };\n \n@@ -741,9 +734,12 @@ fix = {\n  *  a mismatched quote not inside a C comment.\n  */\n fix = {\n-    hackname = badquote;\n-    files    = sundev/vuid_event.h;\n-    sed      = \"s/doesn't/does not/\";\n+    hackname  = badquote;\n+    files     = sundev/vuid_event.h;\n+    select    = \"doesn't\";\n+    c_fix     = format;\n+    c_fix_arg = \"does not\";\n+\n     test_text = \"/* doesn't have matched single quotes */\";\n };\n \n@@ -788,8 +784,11 @@ fix = {\n     hackname = broken_cabs;\n     files  = \"math.h\";\n     select = '^extern double cabs';\n-    sed    = 's/^extern double cabs();//';\n-    sed    = 's/^extern double cabs(struct dbl_hypot);//';\n+\n+    c_fix     = format;\n+    c_fix_arg = \"\";\n+    c_fix_arg = \"^extern double cabs\\\\((struct dbl_hypot|)\\\\);\";\n+\n     test_text = \"#ifdef __STDC__\\n\"\n                 \"extern double cabs(struct dbl_hypot);\\n\"\n                 \"#else\\n\"\n@@ -819,7 +818,7 @@ fix = {\n  */\n fix = {\n     hackname  = ctrl_quotes_def;\n-    select    = \"define[ \\t]+[A-Z0-9_]+CTRL\\\\(([a-zA-Z]).*'\\\\1'\";\n+    select    = \"define[ \\t]+[A-Z0-9_]+CTRL\\\\([a-zA-Z],\";\n     c_fix     = char_macro_def;\n     c_fix_arg = \"CTRL\";\n     test_text = \"#define BSD43_CTRL(n, x) (('n'<<8)+x)\";\n@@ -838,8 +837,10 @@ fix = {\n  *  sys/mman.h on HP/UX is not C++ ready,\n  *  even though NO_IMPLICIT_EXTERN_C is defined on HP/UX.\n  *\n- *  rpc/types.h on OSF1/2.0 is not C++ ready, even though NO_IMPLICIT_EXTERN_C\n- *  is defined for the alpha.  The problem is the declaration of malloc.\n+ *  rpc/types.h on OSF1/2.0 is not C++ ready,\n+ *  even though NO_IMPLICIT_EXTERN_C is defined for the alpha.\n+ *\n+ *  The problem is the declaration of malloc.\n  */\n fix = {\n     hackname = cxx_unready;\n@@ -882,10 +883,13 @@ fix = {\n  * Fix these Sun OS files to avoid an invalid identifier in an #ifdef.\n  */\n fix = {\n-    hackname = ecd_cursor;\n-    files  = \"sunwindow/win_lock.h\";\n-    files  = \"sunwindow/win_cursor.h\";\n-    sed    = \"s/ecd.cursor/ecd_cursor/\";\n+    hackname  = ecd_cursor;\n+    files     = \"sunwindow/win_lock.h\";\n+    files     = \"sunwindow/win_cursor.h\";\n+    select    = 'ecd\\.cursor';\n+    c_fix     = format;\n+    c_fix_arg = 'ecd_cursor';\n+\n     test_text = \"#ifdef ecd.cursor\\n#error bogus\\n#endif /* ecd+cursor */\";\n };\n \n@@ -911,14 +915,18 @@ fix = {\n  *    /usr/include/machine/inline.h\n  */\n fix = {\n-    hackname = hp_inline;\n-    files  = sys/spinlock.h;\n-    select = 'include.*\"\\.\\./machine/';\n-    sed    = \"s,\\\"../machine/inline.h\\\",<machine/inline.h>,\";\n-    sed    = \"s,\\\"../machine/psl.h\\\",<machine/psl.h>,\";\n-    test_text = '# include \"../machine/inline.h\"' \"\\n\"\n-                '# include \"../machine/dontfix.h\"' \"\\n\"\n-                '# include \"../machine/psl.h\"';\n+    hackname  = hp_inline;\n+    files     = sys/spinlock.h;\n+    files     = machine/machparam.h;\n+    select    = \"[ \\t]*#[ \\t]*include[ \\t]+\"  '\"\\.\\./machine/';\n+\n+    c_fix     = format;\n+    c_fix_arg = \"%1<machine/%2.h>\";\n+\n+    c_fix_arg = \"([ \\t]*#[ \\t]*include[ \\t]+)\"  '\"\\.\\./machine/'\n+                '([a-z]+)\\.h\"';\n+\n+    test_text = ' # include \"../machine/mumble.h\"';\n };\n \n \n@@ -929,7 +937,11 @@ fix = {\n     hackname  = hp_sysfile;\n     files     = sys/file.h;\n     select    = \"HPUX_SOURCE\";\n-    sed       = 's/(\\.\\.\\.)/(struct file *, ...)/';\n+\n+    c_fix     = format;\n+    c_fix_arg = \"(struct file *, ...)\";\n+    c_fix_arg = '\\(\\.\\.\\.\\)';\n+\n     test_text = \"extern void foo(...); /* HPUX_SOURCE - bad varargs */\";\n };\n \n@@ -955,23 +967,6 @@ fix = {\n \n \n /*\n- *  get rid of bogus inline definitions in HP-UX 8.0\n- */\n-fix = {\n-    hackname = hpux8_bogus_inlines;\n-    files    = math.h;\n-    select   = inline;\n-    sed = \"s@inline int abs(int [a-z][a-z]*) {.*}\"\n-           \"@extern \\\"C\\\" int abs(int);@\";\n-    sed = \"s@inline double abs(double [a-z][a-z]*) {.*}@@\";\n-    sed = \"s@inline int sqr(int [a-z][a-z]*) {.*}@@\";\n-    sed = \"s@inline double sqr(double [a-z][a-z]*) {.*}@@\";\n-    test_text = \"inline int abs(int v) { return (v>=0)?v:-v; }\\n\"\n-                \"inline double sqr(double v) { return v**0.5; }\";\n-};\n-\n-\n-/* \n  * In inttypes.h on HPUX 11, the use of __CONCAT__ in the definition \n  * of UINT32_C has undefined behavior according to ISO/ANSI:\n  * the arguments to __CONCAT__ are not macro expanded before the\n@@ -998,6 +993,24 @@ fix = {\n     \"#define UINT32_C(__c)\\t__CONCAT__(__CONCAT_U__(__c),l)\";\n };\n \n+\n+/*\n+ *  get rid of bogus inline definitions in HP-UX 8.0\n+ */\n+fix = {\n+    hackname = hpux8_bogus_inlines;\n+    files    = math.h;\n+    select   = inline;\n+    sed = \"s@inline int abs(int [a-z][a-z]*) {.*}\"\n+           \"@extern \\\"C\\\" int abs(int);@\";\n+    sed = \"s@inline double abs(double [a-z][a-z]*) {.*}@@\";\n+    sed = \"s@inline int sqr(int [a-z][a-z]*) {.*}@@\";\n+    sed = \"s@inline double sqr(double [a-z][a-z]*) {.*}@@\";\n+    test_text = \"inline int abs(int v) { return (v>=0)?v:-v; }\\n\"\n+                \"inline double sqr(double v) { return v**0.5; }\";\n+};\n+\n+\n /*\n  *  On Interactive Unix 2.2, certain traditional Unix definitions\n  *  (notably getc and putc in stdio.h) are omitted if __STDC__ is\n@@ -1021,6 +1034,7 @@ fix = {\n                 \"\\nint foo;\\n#endif\";\n };\n \n+\n /*\n  *  Fix various macros used to define ioctl numbers.\n  *  The traditional syntax was:\n@@ -1040,10 +1054,13 @@ fix = {\n  */\n fix = {\n     hackname  = io_quotes_def;\n-    select    = \"define[ \\t]+[A-Z0-9_]+IO[A-Z]*\\\\(([a-zA-Z]).*'\\\\1'\";\n+    select    = \"define[ \\t]+[A-Z0-9_]+IO[A-Z]*\\\\([a-zA-Z],\";\n     c_fix     = char_macro_def;\n     c_fix_arg = \"IO\";\n-    test_text = \"#define BSD43__IOWR(n, x) (('n'<<8)+x)\";\n+    test_text =\n+    \"#define BSD43__IOWR(n, x) (('n'<<8)+x)\\n\"\n+    \"#define _IOWN(x,y,t)  (_IOC_IN|(((t)&_IOCPARM_MASK)<<16)|('x'<<8)|y)\\n\"\n+    \"#define _IO(x,y)      ('x'<<8|y)\";\n };\n \n fix = {\n@@ -1063,11 +1080,11 @@ fix = {\n     hackname  = hpux_maxint;\n     files     = sys/param.h;\n     select    = \"^#[ \\t]*define[ \\t]*MAXINT[ \\t]\";\n-    sed      = \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/i\\\\\\n\"\n-               \"#ifndef MAXINT\\n\";\n \n-    sed      = \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/a\\\\\\n\"\n-               \"#endif\\n\";\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef MAXINT\\n%0\\n#endif\";\n+    c_fix_arg = \"^#[ \\t]*define[ \\t]*MAXINT[ \\t].*\";\n+\n     test_text = '#define MAXINT 0x7FFFFFFF';\n };\n "}]}