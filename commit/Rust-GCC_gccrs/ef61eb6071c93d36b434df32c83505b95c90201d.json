{"sha": "ef61eb6071c93d36b434df32c83505b95c90201d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWY2MWViNjA3MWM5M2QzNmI0MzRkZjMyYzgzNTA1Yjk1YzkwMjAxZA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2011-12-14T11:26:13Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2011-12-14T11:26:13Z"}, "message": "tree.c (free_lang_data_in_type): Do not clear fields dependent on debuginfo level setting.\n\n2011-12-14  Richard Guenther  <rguenther@suse.de>\n\n\t* tree.c (free_lang_data_in_type): Do not clear fields\n\tdependent on debuginfo level setting.\n\t(find_decls_types_r): Use TYPE_STUB_DECL rathern than TREE_CHAIN.\n\t* tree.h (TYPE_STUB_DECL): Properly check that we access\n\ta type.\n\nFrom-SVN: r182329", "tree": {"sha": "f0372c6e50786fd0e4975b91533b4caa16211ca3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0372c6e50786fd0e4975b91533b4caa16211ca3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ef61eb6071c93d36b434df32c83505b95c90201d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef61eb6071c93d36b434df32c83505b95c90201d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef61eb6071c93d36b434df32c83505b95c90201d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef61eb6071c93d36b434df32c83505b95c90201d/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d7288dfb9fac1451adede96e855c8fde9ee5f2c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7288dfb9fac1451adede96e855c8fde9ee5f2c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7288dfb9fac1451adede96e855c8fde9ee5f2c1"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "b763bbeaf204de596bdd525900925c1b82904802", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef61eb6071c93d36b434df32c83505b95c90201d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef61eb6071c93d36b434df32c83505b95c90201d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ef61eb6071c93d36b434df32c83505b95c90201d", "patch": "@@ -1,3 +1,11 @@\n+2011-12-14  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree.c (free_lang_data_in_type): Do not clear fields\n+\tdependent on debuginfo level setting.\n+\t(find_decls_types_r): Use TYPE_STUB_DECL rathern than TREE_CHAIN.\n+\t* tree.h (TYPE_STUB_DECL): Properly check that we access\n+\ta type.\n+\n 2011-12-14  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/50931"}, {"sha": "247c6013d852220b77b1dffaf95c7064685d1129", "filename": "gcc/tree.c", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef61eb6071c93d36b434df32c83505b95c90201d/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef61eb6071c93d36b434df32c83505b95c90201d/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=ef61eb6071c93d36b434df32c83505b95c90201d", "patch": "@@ -4521,9 +4521,6 @@ free_lang_data_in_type (tree type)\n \t  && TREE_CODE (TYPE_CONTEXT (type)) != FUNCTION_DECL\n \t  && TREE_CODE (TYPE_CONTEXT (type)) != NAMESPACE_DECL))\n     TYPE_CONTEXT (type) = NULL_TREE;\n-\n-  if (debug_info_level < DINFO_LEVEL_TERSE)\n-    TYPE_STUB_DECL (type) = NULL_TREE;\n }\n \n \n@@ -4881,7 +4878,7 @@ find_decls_types_r (tree *tp, int *ws, void *data)\n \t    }\n \t}\n \n-      fld_worklist_push (TREE_CHAIN (t), fld);\n+      fld_worklist_push (TYPE_STUB_DECL (t), fld);\n       *ws = 0;\n     }\n   else if (TREE_CODE (t) == BLOCK)"}, {"sha": "eca2f8bb1fb2807a1081ec479507a31dd9aa41d1", "filename": "gcc/tree.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef61eb6071c93d36b434df32c83505b95c90201d/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef61eb6071c93d36b434df32c83505b95c90201d/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=ef61eb6071c93d36b434df32c83505b95c90201d", "patch": "@@ -2247,7 +2247,7 @@ extern enum machine_mode vector_type_mode (const_tree);\n    to point back at the TYPE_DECL node.  This allows the debug routines\n    to know that the two nodes represent the same type, so that we only\n    get one debug info record for them.  */\n-#define TYPE_STUB_DECL(NODE) TREE_CHAIN (NODE)\n+#define TYPE_STUB_DECL(NODE) (TREE_CHAIN (TYPE_CHECK (NODE)))\n \n /* In a RECORD_TYPE, UNION_TYPE or QUAL_UNION_TYPE, it means the type\n    has BLKmode only because it lacks the alignment requirement for"}]}