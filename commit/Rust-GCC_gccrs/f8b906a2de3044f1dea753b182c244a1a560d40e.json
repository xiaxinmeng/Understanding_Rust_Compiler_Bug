{"sha": "f8b906a2de3044f1dea753b182c244a1a560d40e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhiOTA2YTJkZTMwNDRmMWRlYTc1M2IxODJjMjQ0YTFhNTYwZDQwZQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2019-04-27T13:38:19Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2019-04-27T13:38:19Z"}, "message": "re PR target/89261 (ix86_data_alignment has wrong argument type)\n\n\tPR target/89261\n\t* config/i386/i386-protos.h (ix86_data_alignment): Change\n\tthe second argument type to unsigned int.\n\t* config/i386/i386.c (ix86_data_alignment): Change \"align\"\n\targument type to unsigned int.\n\ntestsuite/ChangeLog:\n\n\tPR target/89261\n\t* gcc.target/i386/pr89261.c: New test.\n\nFrom-SVN: r270623", "tree": {"sha": "4b0e59bb96aeefc5ff2c1a4b6eb53f3adce2049d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4b0e59bb96aeefc5ff2c1a4b6eb53f3adce2049d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8b906a2de3044f1dea753b182c244a1a560d40e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8b906a2de3044f1dea753b182c244a1a560d40e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8b906a2de3044f1dea753b182c244a1a560d40e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8b906a2de3044f1dea753b182c244a1a560d40e/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "23ab63504249add3ac588fe44a4214d36812eeeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23ab63504249add3ac588fe44a4214d36812eeeb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23ab63504249add3ac588fe44a4214d36812eeeb"}], "stats": {"total": 30, "additions": 26, "deletions": 4}, "files": [{"sha": "c1adf69d5d7aaf02e70e0801a8c4cdef407058d8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f8b906a2de3044f1dea753b182c244a1a560d40e", "patch": "@@ -1,3 +1,11 @@\n+2019-04-27  Uro\u0161 Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/89261\n+\t* config/i386/i386-protos.h (ix86_data_alignment): Change\n+\tthe second argument type to unsigned int.\n+\t* config/i386/i386.c (ix86_data_alignment): Change \"align\"\n+\targument type to unsigned int.\n+\n 2019-04-27  Martin Liska  <mliska@suse.cz>\n \n \tPR middle-end/90258"}, {"sha": "f080ec35afe7896f1d01bab5e2e60d1fd394dfb0", "filename": "gcc/config/i386/i386-protos.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-protos.h?ref=f8b906a2de3044f1dea753b182c244a1a560d40e", "patch": "@@ -207,7 +207,7 @@ extern void init_cumulative_args (CUMULATIVE_ARGS *, tree, rtx, tree, int);\n #endif\t/* RTX_CODE  */\n \n #ifdef TREE_CODE\n-extern int ix86_data_alignment (tree, int, bool);\n+extern int ix86_data_alignment (tree, unsigned int, bool);\n extern unsigned int ix86_local_alignment (tree, machine_mode,\n \t\t\t\t\t  unsigned int);\n extern unsigned int ix86_minimum_alignment (tree, machine_mode,"}, {"sha": "d191e8c7b5b6a7fea6a6be20d25f2ec423ddb224", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=f8b906a2de3044f1dea753b182c244a1a560d40e", "patch": "@@ -29802,22 +29802,22 @@ iamcu_alignment (tree type, int align)\n    instead of that alignment to align the object.  */\n \n int\n-ix86_data_alignment (tree type, int align, bool opt)\n+ix86_data_alignment (tree type, unsigned int align, bool opt)\n {\n   /* GCC 4.8 and earlier used to incorrectly assume this alignment even\n      for symbols from other compilation units or symbols that don't need\n      to bind locally.  In order to preserve some ABI compatibility with\n      those compilers, ensure we don't decrease alignment from what we\n      used to assume.  */\n \n-  int max_align_compat = MIN (256, MAX_OFILE_ALIGNMENT);\n+  unsigned int max_align_compat = MIN (256, MAX_OFILE_ALIGNMENT);\n \n   /* A data structure, equal or greater than the size of a cache line\n      (64 bytes in the Pentium 4 and other recent Intel processors, including\n      processors based on Intel Core microarchitecture) should be aligned\n      so that its base address is a multiple of a cache line size.  */\n \n-  int max_align\n+  unsigned int max_align\n     = MIN ((unsigned) ix86_tune_cost->prefetch_block * 8, MAX_OFILE_ALIGNMENT);\n \n   if (max_align < BITS_PER_WORD)"}, {"sha": "15b3e13f2976339eae5a82ac7fd6bc4567a133e6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f8b906a2de3044f1dea753b182c244a1a560d40e", "patch": "@@ -1,3 +1,8 @@\n+2019-04-27  Uro\u0161 Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/89261\n+\t* gcc.target/i386/pr89261.c: New test.\n+\n 2019-04-27  Martin Liska  <mliska@suse.cz>\n \n \tPR middle-end/90258"}, {"sha": "63882c0995bf6b12482ce5da425420352599154b", "filename": "gcc/testsuite/gcc.target/i386/pr89261.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr89261.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8b906a2de3044f1dea753b182c244a1a560d40e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr89261.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr89261.c?ref=f8b906a2de3044f1dea753b182c244a1a560d40e", "patch": "@@ -0,0 +1,9 @@\n+/* PR target/89261 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+typedef double __v2df __attribute__ ((vector_size (16), aligned (1 << 28)));\n+\n+__v2df foo = { 1.0, 2.0 };\n+\n+/* { dg-final { scan-assembler \"\\.align\\[ \\t]+268435456\" } } */"}]}