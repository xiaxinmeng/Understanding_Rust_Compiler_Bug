{"sha": "374de9e2b895ab4aee4b80cded4933560617bffb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzc0ZGU5ZTJiODk1YWI0YWVlNGI4MGNkZWQ0OTMzNTYwNjE3YmZmYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-01T22:51:41Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-01T22:51:41Z"}, "message": "(extract_fixed_bit_field): For REG case, compute total_bits from mode\ninstead of assuming BITS_PER_WORD.\n\nFrom-SVN: r9865", "tree": {"sha": "54ddc1948e0ed9c4b56c5a44ee5fdcc581f388f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54ddc1948e0ed9c4b56c5a44ee5fdcc581f388f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/374de9e2b895ab4aee4b80cded4933560617bffb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/374de9e2b895ab4aee4b80cded4933560617bffb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/374de9e2b895ab4aee4b80cded4933560617bffb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/374de9e2b895ab4aee4b80cded4933560617bffb/comments", "author": null, "committer": null, "parents": [{"sha": "5d36722dbc658ed04816ff30e43d911465e3a9e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d36722dbc658ed04816ff30e43d911465e3a9e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d36722dbc658ed04816ff30e43d911465e3a9e7"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "b6f6d82748a8b0399ed4c4248fa811cc292e2c94", "filename": "gcc/expmed.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/374de9e2b895ab4aee4b80cded4933560617bffb/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/374de9e2b895ab4aee4b80cded4933560617bffb/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=374de9e2b895ab4aee4b80cded4933560617bffb", "patch": "@@ -1362,7 +1362,7 @@ extract_fixed_bit_field (tmode, op0, offset, bitsize, bitpos,\n      int unsignedp;\n      int align;\n {\n-  int total_bits = BITS_PER_WORD;\n+  int total_bits;\n   enum machine_mode mode;\n \n   if (GET_CODE (op0) == SUBREG || GET_CODE (op0) == REG)\n@@ -1371,6 +1371,9 @@ extract_fixed_bit_field (tmode, op0, offset, bitsize, bitpos,\n       if (bitsize + bitpos > BITS_PER_WORD)\n \treturn extract_split_bit_field (op0, bitsize, bitpos,\n \t\t\t\t\tunsignedp, align);\n+\n+      mode = GET_MODE (op0);\n+      total_bits = GET_MODE_BITSIZE (mode);\n     }\n   else\n     {\n@@ -1411,8 +1414,6 @@ extract_fixed_bit_field (tmode, op0, offset, bitsize, bitpos,\n \t\t\t    plus_constant (XEXP (op0, 0), offset));\n     }\n \n-  mode = GET_MODE (op0);\n-\n   if (BYTES_BIG_ENDIAN)\n     {\n       /* BITPOS is the distance between our msb and that of OP0."}]}