{"sha": "442849834153349b690041dfdfa81cadae20faa6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQyODQ5ODM0MTUzMzQ5YjY5MDA0MWRmZGZhODFjYWRhZTIwZmFhNg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-05-26T06:40:50Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-05-26T06:40:50Z"}, "message": "re PR bootstrap/85921 (/gcc/c-family/c-warn.c fails to build)\n\n\tPR bootstrap/85921\n\t* c-warn.c (diagnose_mismatched_attributes): Remove unnecessary\n\tnoinline variable to workaround broken kernel headers.\n\nFrom-SVN: r260790", "tree": {"sha": "95db4cc053fd597c0e0d5b85626d8f6678000cc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95db4cc053fd597c0e0d5b85626d8f6678000cc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/442849834153349b690041dfdfa81cadae20faa6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/442849834153349b690041dfdfa81cadae20faa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/442849834153349b690041dfdfa81cadae20faa6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/442849834153349b690041dfdfa81cadae20faa6/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "95795b3a57a49688f7e3e4f36ce764ac5317d0e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95795b3a57a49688f7e3e4f36ce764ac5317d0e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95795b3a57a49688f7e3e4f36ce764ac5317d0e8"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "4fc2f1bfad2e34e2d9c3d168fc27d7e9225f3d35", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/442849834153349b690041dfdfa81cadae20faa6/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/442849834153349b690041dfdfa81cadae20faa6/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=442849834153349b690041dfdfa81cadae20faa6", "patch": "@@ -1,3 +1,9 @@\n+2018-05-26  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/85921\n+\t* c-warn.c (diagnose_mismatched_attributes): Remove unnecessary\n+\tnoinline variable to workaround broken kernel headers.\n+\n 2018-05-18  Jason Merrill  <jason@redhat.com>\n \n \t* c.opt (Wdeprecated-copy): New flag."}, {"sha": "e7bcbb18a3c9f93713a579a53c3b0a020ff843da", "filename": "gcc/c-family/c-warn.c", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/442849834153349b690041dfdfa81cadae20faa6/gcc%2Fc-family%2Fc-warn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/442849834153349b690041dfdfa81cadae20faa6/gcc%2Fc-family%2Fc-warn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-warn.c?ref=442849834153349b690041dfdfa81cadae20faa6", "patch": "@@ -2246,18 +2246,16 @@ diagnose_mismatched_attributes (tree olddecl, tree newdecl)\n \t\t       newdecl);\n \n   /* Diagnose inline __attribute__ ((noinline)) which is silly.  */\n-  const char *noinline = \"noinline\";\n-\n   if (DECL_DECLARED_INLINE_P (newdecl)\n       && DECL_UNINLINABLE (olddecl)\n-      && lookup_attribute (noinline, DECL_ATTRIBUTES (olddecl)))\n+      && lookup_attribute (\"noinline\", DECL_ATTRIBUTES (olddecl)))\n     warned |= warning (OPT_Wattributes, \"inline declaration of %qD follows \"\n-\t\t       \"declaration with attribute %qs\", newdecl, noinline);\n+\t\t       \"declaration with attribute %<noinline%>\", newdecl);\n   else if (DECL_DECLARED_INLINE_P (olddecl)\n \t   && DECL_UNINLINABLE (newdecl)\n \t   && lookup_attribute (\"noinline\", DECL_ATTRIBUTES (newdecl)))\n     warned |= warning (OPT_Wattributes, \"declaration of %q+D with attribute \"\n-\t\t       \"%qs follows inline declaration\", newdecl, noinline);\n+\t\t       \"%<noinline%> follows inline declaration\", newdecl);\n \n   return warned;\n }"}]}