{"sha": "3027350e73e58ea1f808d6ce005044e58777692f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAyNzM1MGU3M2U1OGVhMWY4MDhkNmNlMDA1MDQ0ZTU4Nzc3NjkyZg==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2008-10-21T16:47:18Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2008-10-21T16:47:18Z"}, "message": "config.gcc (powerpc-*): Make t-ppcgas imply usegas.h.\n\n2008-10-21  Sandra Loosemore  <sandra@codesourcery.com>\n\n\tgcc/\n\n\t* config.gcc (powerpc-*): Make t-ppcgas imply usegas.h.\n\t* config/svr4.h (SVR4_ASM_SPEC): New.\n\t(ASM_SPEC): Inherit from SVR4_ASM_SPEC.\n\t* config/rs6000/sysv4.h (ASM_SPEC): Inherit from SVR4_ASM_SPEC.\n\n\t* doc/invoke.texi (Option Summary): Add -T to linker options.\n\t(Link Options): Document -T.\n\nFrom-SVN: r141267", "tree": {"sha": "7181cfc2ed93e59d9e1fd2b2ec79ea28410542ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7181cfc2ed93e59d9e1fd2b2ec79ea28410542ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3027350e73e58ea1f808d6ce005044e58777692f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3027350e73e58ea1f808d6ce005044e58777692f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3027350e73e58ea1f808d6ce005044e58777692f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3027350e73e58ea1f808d6ce005044e58777692f/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "106580684f1027790dd169adea22d06b76ad7b35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/106580684f1027790dd169adea22d06b76ad7b35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/106580684f1027790dd169adea22d06b76ad7b35"}], "stats": {"total": 56, "additions": 41, "deletions": 15}, "files": [{"sha": "83cffdea1b9f05b919222c8a338b5ae97e2f5c4c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3027350e73e58ea1f808d6ce005044e58777692f", "patch": "@@ -1,3 +1,13 @@\n+2008-10-21  Sandra Loosemore  <sandra@codesourcery.com>\n+\n+\t* config.gcc (powerpc-*): Make t-ppcgas imply usegas.h.\n+\t* config/svr4.h (SVR4_ASM_SPEC): New.\n+\t(ASM_SPEC): Inherit from SVR4_ASM_SPEC.\n+\t* config/rs6000/sysv4.h (ASM_SPEC): Inherit from SVR4_ASM_SPEC.\n+\n+\t* doc/invoke.texi (Option Summary): Add -T to linker options.\n+\t(Link Options): Document -T.\n+\t\n 2008-10-21  Jakub Jelinek  <jakub@redhat.com>\n \n \t* tree-inline.c (tree_inlinable_function_p): Remove tuples"}, {"sha": "788e4351a9b69131a7a816dc0f46db90b136066a", "filename": "gcc/config.gcc", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=3027350e73e58ea1f808d6ce005044e58777692f", "patch": "@@ -1777,12 +1777,12 @@ powerpc-*-eabisimaltivec*)\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcendian rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabisim*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/e500.h rs6000/eabisim.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/e500.h rs6000/eabisim.h\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpc-*-elf*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n@@ -1792,12 +1792,12 @@ powerpc-*-eabialtivec*)\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcendian rs6000/t-ppccomm\"\n \t;;\n powerpc-xilinx-eabi*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/singlefp.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/singlefp.h\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabi*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/e500.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/e500.h\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n@@ -1885,22 +1885,22 @@ powerpc-*-lynxos*)\n \tgas=yes\n \t;;\n powerpcle-*-elf*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \t;;\n powerpcle-*-eabisim*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/e500.h rs6000/eabisim.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/e500.h rs6000/eabisim.h\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \t;;\n powerpcle-*-eabi*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/e500.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/e500.h\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n \t;;\n powerpc-xilinx-eabi*)\n- \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/singlefp.h rs6000/xfpu.h\"\n+ \ttm_file=\"${tm_file} dbxelf.h elfos.h usegas.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/singlefp.h rs6000/xfpu.h\"\n   \textra_options=\"${extra_options} rs6000/sysv4.opt\"\n   \ttmake_file=\"rs6000/t-fprules rs6000/t-fprules-fpbit rs6000/t-ppcgas rs6000/t-ppccomm\"\n   \t;;"}, {"sha": "6d8986242f57e95323b097e006d8aa81dd78b1ff", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=3027350e73e58ea1f808d6ce005044e58777692f", "patch": "@@ -585,9 +585,9 @@ extern int fixuplabelno;\n /* Override svr4.h definition.  */\n #undef\tASM_SPEC\n #define\tASM_SPEC \"%(asm_cpu) \\\n-%{,assembler|,assembler-with-cpp: %{mregnames} %{mno-regnames}} \\\n-%{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*} \\\n-%{mrelocatable} %{mrelocatable-lib} %{fpic|fpie|fPIC|fPIE:-K PIC} \\\n+%{,assembler|,assembler-with-cpp: %{mregnames} %{mno-regnames}}\" \\\n+SVR4_ASM_SPEC \\\n+\"%{mrelocatable} %{mrelocatable-lib} %{fpic|fpie|fPIC|fPIE:-K PIC} \\\n %{memb|msdata|msdata=eabi: -memb} \\\n %{mlittle|mlittle-endian:-mlittle; \\\n   mbig|mbig-endian      :-mbig;    \\"}, {"sha": "0082566b071ef1dfc11c62892affe208edc26441", "filename": "gcc/config/svr4.h", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fconfig%2Fsvr4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fconfig%2Fsvr4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsvr4.h?ref=3027350e73e58ea1f808d6ce005044e58777692f", "patch": "@@ -55,7 +55,8 @@ along with GCC; see the file COPYING3.  If not see\n   && strcmp (STR, \"Tdata\") && strcmp (STR, \"Ttext\")\t\\\n   && strcmp (STR, \"Tbss\"))\n \n-/* Provide an ASM_SPEC appropriate for svr4.  Here we try to support as\n+/* Provide an ASM_SPEC appropriate for svr4.\n+   If we're not using GAS, we try to support as\n    many of the specialized svr4 assembler options as seems reasonable,\n    given that there are certain options which we can't (or shouldn't)\n    support directly due to the fact that they conflict with other options\n@@ -74,9 +75,16 @@ along with GCC; see the file COPYING3.  If not see\n    read its stdin.\n */\n \n-#undef  ASM_SPEC\n-#define ASM_SPEC \\\n+#ifdef USE_GAS\n+#define SVR4_ASM_SPEC \\\n+  \"%{v:-V} %{Wa,*:%*}\"\n+#else\n+#define SVR4_ASM_SPEC \\\n   \"%{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*}\"\n+#endif\n+\n+#undef  ASM_SPEC\n+#define ASM_SPEC SVR4_ASM_SPEC\n \n #define AS_NEEDS_DASH_FOR_PIPED_INPUT\n "}, {"sha": "7319b90dca15d0e9a9009f325451ddd0714e0fcb", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3027350e73e58ea1f808d6ce005044e58777692f/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=3027350e73e58ea1f808d6ce005044e58777692f", "patch": "@@ -406,7 +406,7 @@ Objective-C and Objective-C++ Dialects}.\n @gccoptlist{@var{object-file-name}  -l@var{library} @gol\n -nostartfiles  -nodefaultlibs  -nostdlib -pie -rdynamic @gol\n -s  -static  -static-libgcc  -shared  -shared-libgcc  -symbolic @gol\n--Wl,@var{option}  -Xlinker @var{option} @gol\n+-T @var{script}  -Wl,@var{option}  -Xlinker @var{option} @gol\n -u @var{symbol}}\n \n @item Directory Options\n@@ -7857,6 +7857,14 @@ about any unresolved references (unless overridden by the link editor\n option @samp{-Xlinker -z -Xlinker defs}).  Only a few systems support\n this option.\n \n+@item -T @var{script}\n+@opindex T\n+@cindex linker script\n+Use @var{script} as the linker script.  This option is supported by most\n+systems using the GNU linker.  On some targets, such as bare-board\n+targets without an operating system, the @option{-T} option may be required \n+when linking to avoid references to undefined symbols.\n+\n @item -Xlinker @var{option}\n @opindex Xlinker\n Pass @var{option} as an option to the linker.  You can use this to"}]}