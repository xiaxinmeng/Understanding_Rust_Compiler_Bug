{"sha": "02fdbd5beb0212b36d6c0afc473e9082ce74c696", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJmZGJkNWJlYjAyMTJiMzZkNmMwYWZjNDczZTkwODJjZTc0YzY5Ng==", "commit": {"author": {"name": "James Greenhalgh", "email": "james.greenhalgh@arm.com", "date": "2013-11-14T09:56:30Z"}, "committer": {"name": "James Greenhalgh", "email": "jgreenhalgh@gcc.gnu.org", "date": "2013-11-14T09:56:30Z"}, "message": "[AArch64] [-mtune cleanup 2/5] Tune for Cortex-A53 by default.\n\ngcc/\n\t* config/aarch64/aarch64-arches.def (armv8-a): Tune for cortex-a53.\n\t* config/aarch64/aarch64.md: Do not include aarch64-generic.md.\n\t* config/aarch64/aarch64.c (aarch64_tune): Initialize to cortexa53.\n\t(all_cores): Use cortexa53 when tuning for \"generic\".\n\t(aarch64_override_options): Fix comment.\n\t* config/aarch64/aarch64.h (TARGET_CPU_DEFAULT): Set to cortexa53.\n\t* config/aarch64/aarch64-generic.md: Delete.\n\nFrom-SVN: r204782", "tree": {"sha": "aadd5e97dd2047842c85230c86ba47cacd7317ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aadd5e97dd2047842c85230c86ba47cacd7317ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02fdbd5beb0212b36d6c0afc473e9082ce74c696", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02fdbd5beb0212b36d6c0afc473e9082ce74c696", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02fdbd5beb0212b36d6c0afc473e9082ce74c696", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02fdbd5beb0212b36d6c0afc473e9082ce74c696/comments", "author": {"login": "jgreenhalgh-arm", "id": 6104025, "node_id": "MDQ6VXNlcjYxMDQwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6104025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgreenhalgh-arm", "html_url": "https://github.com/jgreenhalgh-arm", "followers_url": "https://api.github.com/users/jgreenhalgh-arm/followers", "following_url": "https://api.github.com/users/jgreenhalgh-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jgreenhalgh-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgreenhalgh-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgreenhalgh-arm/subscriptions", "organizations_url": "https://api.github.com/users/jgreenhalgh-arm/orgs", "repos_url": "https://api.github.com/users/jgreenhalgh-arm/repos", "events_url": "https://api.github.com/users/jgreenhalgh-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jgreenhalgh-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "00ed7ad477d326ee1d388d30246a69f486731352", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00ed7ad477d326ee1d388d30246a69f486731352", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00ed7ad477d326ee1d388d30246a69f486731352"}], "stats": {"total": 63, "additions": 16, "deletions": 47}, "files": [{"sha": "b49dcf2bfb19901283256306bade71fea19f3696", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=02fdbd5beb0212b36d6c0afc473e9082ce74c696", "patch": "@@ -1,3 +1,13 @@\n+2013-11-14  James Greenhalgh  <james.greenhalgh@arm.com>\n+\n+\t* config/aarch64/aarch64-arches.def (armv8-a): Tune for cortex-a53.\n+\t* config/aarch64/aarch64.md: Do not include aarch64-generic.md.\n+\t* config/aarch64/aarch64.c (aarch64_tune): Initialize to cortexa53.\n+\t(all_cores): Use cortexa53 when tuning for \"generic\".\n+\t(aarch64_override_options): Fix comment.\n+\t* config/aarch64/aarch64.h (TARGET_CPU_DEFAULT): Set to cortexa53.\n+\t* config/aarch64/aarch64-generic.md: Delete.\n+\n 2013-11-14  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \t* config/aarch64/aarch64.c (all_architectures): Remove \"generic\"."}, {"sha": "683c34c1ec497ac7701a4ebd4de55b8cb7d7849e", "filename": "gcc/config/aarch64/aarch64-arches.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64-arches.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64-arches.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-arches.def?ref=02fdbd5beb0212b36d6c0afc473e9082ce74c696", "patch": "@@ -26,4 +26,4 @@\n    this architecture.  ARCH is the architecture revision.  FLAGS are\n    the flags implied by the architecture.  */\n \n-AARCH64_ARCH(\"armv8-a\",\t      generic,\t     8,  AARCH64_FL_FOR_ARCH8)\n+AARCH64_ARCH(\"armv8-a\",\t      cortexa53,\t     8,  AARCH64_FL_FOR_ARCH8)"}, {"sha": "12faac84348c72c44c1c144d268ea9751a0665ac", "filename": "gcc/config/aarch64/aarch64-generic.md", "status": "removed", "additions": 0, "deletions": 40, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00ed7ad477d326ee1d388d30246a69f486731352/gcc%2Fconfig%2Faarch64%2Faarch64-generic.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00ed7ad477d326ee1d388d30246a69f486731352/gcc%2Fconfig%2Faarch64%2Faarch64-generic.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-generic.md?ref=00ed7ad477d326ee1d388d30246a69f486731352", "patch": "@@ -1,40 +0,0 @@\n-;; Machine description for AArch64 architecture.\n-;; Copyright (C) 2009-2013 Free Software Foundation, Inc.\n-;; Contributed by ARM Ltd.\n-;;\n-;; This file is part of GCC.\n-;;\n-;; GCC is free software; you can redistribute it and/or modify it\n-;; under the terms of the GNU General Public License as published by\n-;; the Free Software Foundation; either version 3, or (at your option)\n-;; any later version.\n-;;\n-;; GCC is distributed in the hope that it will be useful, but\n-;; WITHOUT ANY WARRANTY; without even the implied warranty of\n-;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-;; General Public License for more details.\n-;;\n-;; You should have received a copy of the GNU General Public License\n-;; along with GCC; see the file COPYING3.  If not see\n-;; <http://www.gnu.org/licenses/>.\n-\n-;; Generic scheduler\n-\n-(define_automaton \"aarch64\")\n-\n-(define_cpu_unit \"core\" \"aarch64\")\n-\n-(define_attr \"is_load\" \"yes,no\"\n-  (if_then_else (eq_attr \"v8type\" \"fpsimd_load,fpsimd_load2,load1,load2\")\n-\t(const_string \"yes\")\n-\t(const_string \"no\")))\n-\n-(define_insn_reservation \"load\" 2\n-  (and (eq_attr \"generic_sched\" \"yes\")\n-       (eq_attr \"is_load\" \"yes\"))\n-  \"core\")\n-\n-(define_insn_reservation \"nonload\" 1\n-  (and (eq_attr \"generic_sched\" \"yes\")\n-       (eq_attr \"is_load\" \"no\"))\n-  \"core\")"}, {"sha": "a8e7b7afca42181ddc8348cebc8a2b6099063efd", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=02fdbd5beb0212b36d6c0afc473e9082ce74c696", "patch": "@@ -128,7 +128,7 @@ static bool aarch64_vectorize_vec_perm_const_ok (enum machine_mode vmode,\n \t\t\t\t\t\t const unsigned char *sel);\n \n /* The processor for which instructions should be scheduled.  */\n-enum aarch64_processor aarch64_tune = generic;\n+enum aarch64_processor aarch64_tune = cortexa53;\n \n /* The current tuning set.  */\n const struct tune_params *aarch64_tune_params;\n@@ -226,7 +226,7 @@ static const struct processor all_cores[] =\n   {NAME, IDENT, #ARCH, FLAGS | AARCH64_FL_FOR_ARCH##ARCH, &COSTS##_tunings},\n #include \"aarch64-cores.def\"\n #undef AARCH64_CORE\n-  {\"generic\", generic, \"8\", AARCH64_FL_FPSIMD | AARCH64_FL_FOR_ARCH8, &generic_tunings},\n+  {\"generic\", cortexa53, \"8\", AARCH64_FL_FPSIMD | AARCH64_FL_FOR_ARCH8, &generic_tunings},\n   {NULL, aarch64_none, NULL, 0, NULL}\n };\n \n@@ -5170,7 +5170,7 @@ aarch64_override_options (void)\n \n   /* If the user did not specify a processor, choose the default\n      one for them.  This will be the CPU set during configuration using\n-     --with-cpu, otherwise it is \"generic\".  */\n+     --with-cpu, otherwise it is \"coretex-a53\".  */\n   if (!selected_cpu)\n     {\n       selected_cpu = &all_cores[TARGET_CPU_DEFAULT & 0x3f];"}, {"sha": "8b55a7bb7b59c4f81089e9b925b6f6f04a08c122", "filename": "gcc/config/aarch64/aarch64.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.h?ref=02fdbd5beb0212b36d6c0afc473e9082ce74c696", "patch": "@@ -468,10 +468,10 @@ enum target_cpus\n   TARGET_CPU_generic\n };\n \n-/* If there is no CPU defined at configure, use \"generic\" as default.  */\n+/* If there is no CPU defined at configure, use \"cortex-a53\" as default.  */\n #ifndef TARGET_CPU_DEFAULT\n #define TARGET_CPU_DEFAULT \\\n-  (TARGET_CPU_generic | (AARCH64_CPU_DEFAULT_FLAGS << 6))\n+  (TARGET_CPU_cortexa53 | (AARCH64_CPU_DEFAULT_FLAGS << 6))\n #endif\n \n /* The processor for which instructions should be scheduled.  */"}, {"sha": "d66b41dcb42e458735c907f8e2de9f6ef206ac03", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02fdbd5beb0212b36d6c0afc473e9082ce74c696/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=02fdbd5beb0212b36d6c0afc473e9082ce74c696", "patch": "@@ -317,7 +317,6 @@\n           (const_string \"yes\"))))\n \n ;; Scheduling\n-(include \"aarch64-generic.md\")\n (include \"large.md\")\n (include \"small.md\")\n (include \"../arm/cortex-a53.md\")"}]}