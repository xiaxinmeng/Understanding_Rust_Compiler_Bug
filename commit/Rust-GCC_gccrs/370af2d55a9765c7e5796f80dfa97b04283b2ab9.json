{"sha": "370af2d55a9765c7e5796f80dfa97b04283b2ab9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzcwYWYyZDU1YTk3NjVjN2U1Nzk2ZjgwZGZhOTdiMDQyODNiMmFiOQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-03-25T16:38:49Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-03-25T16:38:49Z"}, "message": "Remove accidental commit\n\nFrom-SVN: r32740", "tree": {"sha": "75b187882d6fc6e161c12d1d9d28a42eaa79dbc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75b187882d6fc6e161c12d1d9d28a42eaa79dbc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/370af2d55a9765c7e5796f80dfa97b04283b2ab9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/370af2d55a9765c7e5796f80dfa97b04283b2ab9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/370af2d55a9765c7e5796f80dfa97b04283b2ab9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/370af2d55a9765c7e5796f80dfa97b04283b2ab9/comments", "author": null, "committer": null, "parents": [{"sha": "e5361bbe07fe65a2e7310fe2755a4ae30ae6d226", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5361bbe07fe65a2e7310fe2755a4ae30ae6d226", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5361bbe07fe65a2e7310fe2755a4ae30ae6d226"}], "stats": {"total": 30, "additions": 13, "deletions": 17}, "files": [{"sha": "9ccd28a529b6a62ebf185d53903b253c053ad7b0", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=370af2d55a9765c7e5796f80dfa97b04283b2ab9", "patch": "@@ -2837,12 +2837,9 @@ extern int flag_new_for_scope;\n \n #define DECL_TEMPLATE_SPECIALIZATION(NODE) (DECL_USE_TEMPLATE (NODE) == 2)\n #define SET_DECL_TEMPLATE_SPECIALIZATION(NODE) (DECL_USE_TEMPLATE (NODE) = 2)\n-\n-/* Nonzero if NODE is a partial specialization.  This flag is not set\n-   for a full specialization.  */\n-#define CLASSTYPE_PARTIAL_SPECIALIZATION(NODE) \\\n+#define CLASSTYPE_TEMPLATE_SPECIALIZATION(NODE) \\\n   (CLASSTYPE_USE_TEMPLATE (NODE) == 2)\n-#define SET_CLASSTYPE_PARTIAL_SPECIALIZATION(NODE) \\\n+#define SET_CLASSTYPE_TEMPLATE_SPECIALIZATION(NODE) \\\n   (CLASSTYPE_USE_TEMPLATE (NODE) = 2)\n \n #define DECL_IMPLICIT_INSTANTIATION(NODE) (DECL_USE_TEMPLATE (NODE) == 1)"}, {"sha": "ff2cf407dac451deb6dfee6922e9b539e47dfbd5", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=370af2d55a9765c7e5796f80dfa97b04283b2ab9", "patch": "@@ -10647,8 +10647,8 @@ grokdeclarator (declarator, declspecs, decl_context, initialized, attrlist)\n \t    t = ctype;\n \t    while (t != NULL_TREE && CLASS_TYPE_P (t))\n \t      {\n-\t\tif (CLASSTYPE_TEMPLATE_INFO (t) \n-\t\t    && uses_template_parms (CLASSTYPE_TI_ARGS (t)))\n+\t\tif (CLASSTYPE_TEMPLATE_INFO (t) &&\n+\t\t    !CLASSTYPE_TEMPLATE_SPECIALIZATION (t))\n \t\t  template_count += 1;\n \t\tt = TYPE_MAIN_DECL (t);\n \t\tif (DECL_LANG_SPECIFIC (t))"}, {"sha": "c8152d5336f6b47a14e752a339a7aab8aedf49f1", "filename": "gcc/cp/dump.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fdump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fdump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdump.c?ref=370af2d55a9765c7e5796f80dfa97b04283b2ab9", "patch": "@@ -609,7 +609,6 @@ dequeue_and_dump (di)\n       break;\n \n     case TEMPLATE_DECL:\n-      dump_child (\"rslt\", DECL_TEMPLATE_RESULT (t));\n       dump_child (\"inst\", DECL_TEMPLATE_INSTANTIATIONS (t));\n       dump_child (\"spcs\", DECL_TEMPLATE_SPECIALIZATIONS (t));\n       break;"}, {"sha": "a0be98f8f5fa56f4473faf8474ba37f197b65852", "filename": "gcc/cp/error.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=370af2d55a9765c7e5796f80dfa97b04283b2ab9", "patch": "@@ -519,7 +519,7 @@ dump_aggr_type (t, flags)\n       typdef = !DECL_ARTIFICIAL (name);\n       tmplate = !typdef && TREE_CODE (t) != ENUMERAL_TYPE\n                 && TYPE_LANG_SPECIFIC (t) && CLASSTYPE_TEMPLATE_INFO (t)\n-                && (CLASSTYPE_PARTIAL_SPECIALIZATION (t)\n+                && (CLASSTYPE_TEMPLATE_SPECIALIZATION (t)\n                     || TREE_CODE (CLASSTYPE_TI_TEMPLATE (t)) != TEMPLATE_DECL\n                     || DECL_TEMPLATE_SPECIALIZATION (CLASSTYPE_TI_TEMPLATE (t))\n                     || PRIMARY_TEMPLATE_P (CLASSTYPE_TI_TEMPLATE (t)));"}, {"sha": "fee00a8cf35cd53ffd93c33d4e5b4fa756e174c3", "filename": "gcc/cp/friend.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Ffriend.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Ffriend.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ffriend.c?ref=370af2d55a9765c7e5796f80dfa97b04283b2ab9", "patch": "@@ -205,7 +205,7 @@ make_friend_class (type, friend_type)\n     }\n \n   if (CLASS_TYPE_P (friend_type)\n-      && CLASSTYPE_PARTIAL_SPECIALIZATION (friend_type)\n+      && CLASSTYPE_TEMPLATE_SPECIALIZATION (friend_type)\n       && uses_template_parms (friend_type))\n     {\n       /* [temp.friend]"}, {"sha": "0978ec9e36354b24e87702e7ed205b8c0d8aff7a", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/370af2d55a9765c7e5796f80dfa97b04283b2ab9/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=370af2d55a9765c7e5796f80dfa97b04283b2ab9", "patch": "@@ -190,7 +190,7 @@ finish_member_template_decl (decl)\n       /* Assume that the class is the only declspec.  */\n       decl = TREE_VALUE (decl);\n       if (IS_AGGR_TYPE (decl) && CLASSTYPE_TEMPLATE_INFO (decl)\n-\t  && ! CLASSTYPE_PARTIAL_SPECIALIZATION (decl))\n+\t  && ! CLASSTYPE_TEMPLATE_SPECIALIZATION (decl))\n \t{\n \t  tree tmpl = CLASSTYPE_TI_TEMPLATE (decl);\n \t  check_member_template (tmpl);\n@@ -252,7 +252,7 @@ template_class_depth_real (type, count_specializations)\n \t  if (CLASSTYPE_TEMPLATE_INFO (type)\n \t      && PRIMARY_TEMPLATE_P (CLASSTYPE_TI_TEMPLATE (type))\n \t      && ((count_specializations\n-\t\t   && CLASSTYPE_PARTIAL_SPECIALIZATION (type))\n+\t\t   && CLASSTYPE_TEMPLATE_SPECIALIZATION (type))\n \t\t  || uses_template_parms (CLASSTYPE_TI_ARGS (type))))\n \t    ++depth;\n \t}\n@@ -666,7 +666,7 @@ maybe_process_partial_specialization (type)\n \t      cp_pedwarn_at (\"  from definition of `%#D'\",\n \t\t\t     CLASSTYPE_TI_TEMPLATE (type));\n \t    }\n-\t  SET_CLASSTYPE_PARTIAL_SPECIALIZATION (type);\n+\t  SET_CLASSTYPE_TEMPLATE_SPECIALIZATION (type);\n \t  if (processing_template_decl)\n \t    push_template_decl (TYPE_MAIN_DECL (type));\n \t}\n@@ -2359,7 +2359,7 @@ push_template_decl_real (decl, is_friend)\n   /* See if this is a partial specialization.  */\n   is_partial = (DECL_IMPLICIT_TYPEDEF_P (decl)\n \t\t&& TREE_CODE (TREE_TYPE (decl)) != ENUMERAL_TYPE\n-\t\t&& CLASSTYPE_PARTIAL_SPECIALIZATION (TREE_TYPE (decl)));\n+\t\t&& CLASSTYPE_TEMPLATE_SPECIALIZATION (TREE_TYPE (decl)));\n \n   is_friend |= (TREE_CODE (decl) == FUNCTION_DECL && DECL_FRIEND_P (decl));\n \n@@ -3548,7 +3548,7 @@ classtype_mangled_name (t)\n   if (CLASSTYPE_TEMPLATE_INFO (t)\n       /* Specializations have already had their names set up in\n \t lookup_template_class.  */\n-      && !CLASSTYPE_PARTIAL_SPECIALIZATION (t))\n+      && !CLASSTYPE_TEMPLATE_SPECIALIZATION (t))\n     {\n       tree tmpl = most_general_template (CLASSTYPE_TI_TEMPLATE (t));\n \n@@ -3963,7 +3963,7 @@ lookup_template_class (d1, arglist, in_decl, context, entering_scope)\n \n \t      /* We only want partial instantiations, here, not\n \t\t specializations or full instantiations.  */\n-\t      if (CLASSTYPE_PARTIAL_SPECIALIZATION (TREE_VALUE (found))\n+\t      if (CLASSTYPE_TEMPLATE_SPECIALIZATION (TREE_VALUE (found))\n \t\t  || !uses_template_parms (TREE_VALUE (found)))\n \t\tcontinue;\n \n@@ -9194,7 +9194,7 @@ do_type_instantiation (t, storage)\n \t}\n     }\n \n-  if (CLASSTYPE_PARTIAL_SPECIALIZATION (t))\n+  if (CLASSTYPE_TEMPLATE_SPECIALIZATION (t))\n     {\n       /* [temp.spec]\n "}]}