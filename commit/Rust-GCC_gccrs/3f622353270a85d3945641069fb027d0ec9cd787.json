{"sha": "3f622353270a85d3945641069fb027d0ec9cd787", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Y2MjIzNTMyNzBhODVkMzk0NTY0MTA2OWZiMDI3ZDBlYzljZDc4Nw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-08-14T21:01:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-08-14T21:01:24Z"}, "message": "configure.in (ia64-*): Set float_format for i386 long double.\n\n\t* configure.in (ia64-*): Set float_format for i386 long double.\n\n\t* real.c (GET_REAL): Treat 128-bit INTEL_EXTENDED_IEEE_FORMAT\n\tas we would for i386 XFmode.\n\t(PUT_REAL): Likewise.\n\t(endian, ereal_atof, real_value_truncate): Likewise.\n\t(ereal_isneg, toe64, etens, make_nan): Likewise.\n\t* real.h (REAL_VALUE_TO_TARGET_LONG_DOUBLE): Likewise.\n\n\t* config/ia64/ia64-protos.h: Update.\n\t* config/ia64/ia64.c (general_tfmode_operand): New.\n\t(destination_tfmode_operand): New.\n\t(tfreg_or_fp01_operand): New.\n\t(ia64_split_timode): New.\n\t(spill_tfmode_operand): New.\n\t(ia64_expand_prologue): Use TFmode not XFmode.\n\t(ia64_expand_epilogue): Likewise.\n\t(ia64_function_arg): Likewise.\n\t(ia64_function_arg_advance): Likewise.\n\t(ia64_return_in_memory): Likewise.\n\t(ia64_function_value): Likewise.\n\t(ia64_print_operand): Likewise.\n\t(ia64_register_move_cost): Set GR<->FR to 5.\n\t(ia64_secondary_reload_class): Get GR for TImode memory op.\n\t* config/ia64/ia64.h (ROUND_TYPE_SIZE): Remove.\n\t(ROUND_TYPE_ALIGN): Remove.\n\t(LONG_DOUBLE_TYPE_SIZE): Set to 128.\n\t(INTEL_EXTENDED_IEEE_FORMAT): Define.\n\t(HARD_REGNO_NREGS): Use TFmode, not XFmode.\n\t(HARD_REGNO_MODE_OK): Likewise.  Disallow TImode in FRs.\n\t(MODES_TIEABLE_P): Use TFmode, not XFmode.\n\t(CLASS_MAX_NREGS): Likewise.\n\t(ASM_OUTPUT_LONG_DOUBLE): Output by 4 byte hunks.\n\t(PREDICATE_CODES): Update.\n\t* config/ia64/ia64.md (movti): New.\n\t(movti_internal): Use a clobber for memory alternatives.\n\t(reload_inti, reload_outti): New.\n\t(movsfcc_astep): Predicate properly.\n\t(movdfcc_astep): Likewise.\n\t(movxf): Remove.\n\t(movtf): New.\n\t(extendsftf2, extenddftf2): New.\n\t(trunctfsf2, trunctfdf2): New.\n\t(floatditf2, fix_trunctfdi2): New.\n\t(floatunsditf2, fixuns_trunctfdi2): New.\n\t(addtf3, subtf3, multf3, abstf2): New.\n\t(negtf2, nabstf2, mintf3, maxtf3): New.\n\t(maddtf3, msubtf3, nmultf3, nmaddtf3): New.\n\t(cmptf): New.\n\t(fr_spill): Use TFmode, not XFmode.\n\t(fr_restore): Likewise.\n\t* config/ia64/lib1funcs.asm (__divtf3): New.\n\t* config/ia64/t-ia64 (LIB1ASMFUNCS): Add it.\n\nFrom-SVN: r35689", "tree": {"sha": "866f9e8520c80581c82643ab70fdd2401ba6d0a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/866f9e8520c80581c82643ab70fdd2401ba6d0a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3f622353270a85d3945641069fb027d0ec9cd787", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f622353270a85d3945641069fb027d0ec9cd787", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f622353270a85d3945641069fb027d0ec9cd787", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f622353270a85d3945641069fb027d0ec9cd787/comments", "author": null, "committer": null, "parents": [{"sha": "b6767a49b4b4ad83418462aa67ab7432a382e51a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6767a49b4b4ad83418462aa67ab7432a382e51a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6767a49b4b4ad83418462aa67ab7432a382e51a"}], "stats": {"total": 1365, "additions": 971, "deletions": 394}, "files": [{"sha": "854912c06b2a77697c7dca993900e7ed0eef0f7d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -1,3 +1,59 @@\n+2000-08-14  Richard Henderson  <rth@cygnus.com>\n+\n+\t* configure.in (ia64-*): Set float_format for i386 long double.\n+\n+\t* real.c (GET_REAL): Treat 128-bit INTEL_EXTENDED_IEEE_FORMAT\n+\tas we would for i386 XFmode.\n+\t(PUT_REAL): Likewise.\n+\t(endian, ereal_atof, real_value_truncate): Likewise.\n+\t(ereal_isneg, toe64, etens, make_nan): Likewise.\n+\t* real.h (REAL_VALUE_TO_TARGET_LONG_DOUBLE): Likewise.\n+\n+\t* config/ia64/ia64-protos.h: Update.\n+\t* config/ia64/ia64.c (general_tfmode_operand): New.\n+\t(destination_tfmode_operand): New.\n+\t(tfreg_or_fp01_operand): New.\n+\t(ia64_split_timode): New.\n+\t(spill_tfmode_operand): New.\n+\t(ia64_expand_prologue): Use TFmode not XFmode.\n+\t(ia64_expand_epilogue): Likewise.\n+\t(ia64_function_arg): Likewise.\n+\t(ia64_function_arg_advance): Likewise.\n+\t(ia64_return_in_memory): Likewise.\n+\t(ia64_function_value): Likewise.\n+\t(ia64_print_operand): Likewise.\n+\t(ia64_register_move_cost): Set GR<->FR to 5.\n+\t(ia64_secondary_reload_class): Get GR for TImode memory op.\n+\t* config/ia64/ia64.h (ROUND_TYPE_SIZE): Remove.\n+\t(ROUND_TYPE_ALIGN): Remove.\n+\t(LONG_DOUBLE_TYPE_SIZE): Set to 128.\n+\t(INTEL_EXTENDED_IEEE_FORMAT): Define.\n+\t(HARD_REGNO_NREGS): Use TFmode, not XFmode.\n+\t(HARD_REGNO_MODE_OK): Likewise.  Disallow TImode in FRs.\n+\t(MODES_TIEABLE_P): Use TFmode, not XFmode.\n+\t(CLASS_MAX_NREGS): Likewise.\n+\t(ASM_OUTPUT_LONG_DOUBLE): Output by 4 byte hunks.\n+\t(PREDICATE_CODES): Update.\n+\t* config/ia64/ia64.md (movti): New.\n+\t(movti_internal): Use a clobber for memory alternatives.\n+\t(reload_inti, reload_outti): New.\n+\t(movsfcc_astep): Predicate properly.\n+\t(movdfcc_astep): Likewise.\n+\t(movxf): Remove.\n+\t(movtf): New.\n+\t(extendsftf2, extenddftf2): New.\n+\t(trunctfsf2, trunctfdf2): New.\n+\t(floatditf2, fix_trunctfdi2): New.\n+\t(floatunsditf2, fixuns_trunctfdi2): New.\n+\t(addtf3, subtf3, multf3, abstf2): New.\n+\t(negtf2, nabstf2, mintf3, maxtf3): New.\n+\t(maddtf3, msubtf3, nmultf3, nmaddtf3): New.\n+\t(cmptf): New.\n+\t(fr_spill): Use TFmode, not XFmode.\n+\t(fr_restore): Likewise.\n+\t* config/ia64/lib1funcs.asm (__divtf3): New.\n+\t* config/ia64/t-ia64 (LIB1ASMFUNCS): Add it.\n+\n 2000-08-14  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* cse.c (fold_rtx): Avoid empty body in an if-statement."}, {"sha": "af120609ca86391c0f881b1e9d1b349dd69e73e5", "filename": "gcc/config/ia64/ia64-protos.h", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64-protos.h?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -59,9 +59,14 @@ extern int ia64_direct_return PARAMS((void));\n extern int predicate_operator PARAMS((rtx, enum machine_mode));\n extern int ar_lc_reg_operand PARAMS((rtx, enum machine_mode));\n extern int ar_ccv_reg_operand PARAMS((rtx, enum machine_mode));\n+extern int general_tfmode_operand PARAMS((rtx, enum machine_mode));\n+extern int destination_tfmode_operand PARAMS((rtx, enum machine_mode));\n+extern int tfreg_or_fp01_operand PARAMS((rtx, enum machine_mode));\n \n extern int ia64_move_ok PARAMS((rtx, rtx));\n extern rtx ia64_gp_save_reg PARAMS((int));\n+extern rtx ia64_split_timode PARAMS((rtx[], rtx, rtx));\n+extern rtx spill_tfmode_operand PARAMS((rtx, int));\n \n extern void ia64_expand_load_address PARAMS((rtx, rtx));\n extern void ia64_expand_fetch_and_op PARAMS ((enum fetchop_code,\n@@ -112,6 +117,3 @@ extern void ia64_output_end_prologue PARAMS((FILE *));\n extern void ia64_init_builtins PARAMS((void));\n extern void ia64_override_options PARAMS((void));\n extern int ia64_dbx_register_number PARAMS((int));\n-\n-/* ??? Flag defined in toplev.c, for ia64.md -fssa hack.  */\n-extern int flag_ssa;"}, {"sha": "44bc8d86dee7c555c2507ff2d5306df6cda33393", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 160, "deletions": 15, "changes": 175, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -570,6 +570,46 @@ ar_ccv_reg_operand (op, mode)\n \t  && GET_CODE (op) == REG\n \t  && REGNO (op) == AR_CCV_REGNUM);\n }\n+\n+/* Like general_operand, but don't allow (mem (addressof)).  */\n+\n+int\n+general_tfmode_operand (op, mode)\n+     rtx op;\n+     enum machine_mode mode;\n+{\n+  if (! general_operand (op, mode))\n+    return 0;\n+  if (GET_CODE (op) == MEM && GET_CODE (XEXP (op, 0)) == ADDRESSOF)\n+    return 0;\n+  return 1;\n+}\n+\n+/* Similarly.  */\n+\n+int\n+destination_tfmode_operand (op, mode)\n+     rtx op;\n+     enum machine_mode mode;\n+{\n+  if (! destination_operand (op, mode))\n+    return 0;\n+  if (GET_CODE (op) == MEM && GET_CODE (XEXP (op, 0)) == ADDRESSOF)\n+    return 0;\n+  return 1;\n+}\n+\n+/* Similarly.  */\n+\n+int\n+tfreg_or_fp01_operand (op, mode)\n+     rtx op;\n+     enum machine_mode mode;\n+{\n+  if (GET_CODE (op) == SUBREG)\n+    return 0;\n+  return reg_or_fp01_operand (op, mode);\n+}\n \f\n /* Return 1 if the operands of a move are ok.  */\n \n@@ -681,6 +721,106 @@ ia64_gp_save_reg (setjmp_p)\n \n   return save;\n }\n+\n+/* Split a post-reload TImode reference into two DImode components.  */\n+\n+rtx\n+ia64_split_timode (out, in, scratch)\n+     rtx out[2];\n+     rtx in, scratch;\n+{\n+  switch (GET_CODE (in))\n+    {\n+    case REG:\n+      out[0] = gen_rtx_REG (DImode, REGNO (in));\n+      out[1] = gen_rtx_REG (DImode, REGNO (in) + 1);\n+      return NULL_RTX;\n+\n+    case MEM:\n+      {\n+\tHOST_WIDE_INT offset;\n+\trtx base = XEXP (in, 0);\n+\trtx offset_rtx;\n+\n+\tswitch (GET_CODE (base))\n+\t  {\n+\t  case REG:\n+\t    out[0] = change_address (in, DImode, NULL_RTX);\n+\t    break;\n+\t  case POST_MODIFY:\n+\t    base = XEXP (base, 0);\n+\t    out[0] = change_address (in, DImode, NULL_RTX);\n+\t    break;\n+\n+\t  /* Since we're changing the mode, we need to change to POST_MODIFY\n+\t     as well to preserve the size of the increment.  Either that or\n+\t     do the update in two steps, but we've already got this scratch\n+\t     register handy so let's use it.  */\n+\t  case POST_INC:\n+\t    base = XEXP (base, 0);\n+\t    out[0] = change_address (in, DImode,\n+\t      gen_rtx_POST_MODIFY (Pmode, base,plus_constant (base, 16)));\n+\t    break;\n+\t  case POST_DEC:\n+\t    base = XEXP (base, 0);\n+\t    out[0] = change_address (in, DImode,\n+\t      gen_rtx_POST_MODIFY (Pmode, base,plus_constant (base, -16)));\n+\t    break;\n+\t  default:\n+\t    abort ();\n+\t  }\n+\n+\tif (scratch == NULL_RTX)\n+\t  abort ();\n+\tout[1] = change_address (in, DImode, scratch);\n+\treturn gen_adddi3 (scratch, base, GEN_INT (8));\n+      }\n+\n+    case CONST_INT:\n+    case CONST_DOUBLE:\n+      split_double (in, &out[0], &out[1]);\n+      return NULL_RTX;\n+\n+    default:\n+      abort ();\n+    }\n+}\n+\n+/* ??? Fixing GR->FR TFmode moves during reload is hard.  You need to go\n+   through memory plus an extra GR scratch register.  Except that you can\n+   either get the first from SECONDARY_MEMORY_NEEDED or the second from\n+   SECONDARY_RELOAD_CLASS, but not both.\n+\n+   We got into problems in the first place by allowing a construct like\n+   (subreg:TF (reg:TI)), which we got from a union containing a long double.  \n+   This solution attempts to prevent this situation from ocurring.  When\n+   we see something like the above, we spill the inner register to memory.  */\n+\n+rtx\n+spill_tfmode_operand (in, force)\n+     rtx in;\n+     int force;\n+{\n+  if (GET_CODE (in) == SUBREG\n+      && GET_MODE (SUBREG_REG (in)) == TImode\n+      && GET_CODE (SUBREG_REG (in)) == REG)\n+    {\n+      rtx mem = gen_mem_addressof (SUBREG_REG (in), NULL_TREE);\n+      return gen_rtx_MEM (TFmode, copy_to_reg (XEXP (mem, 0)));\n+    }\n+  else if (force && GET_CODE (in) == REG)\n+    {\n+      rtx mem = gen_mem_addressof (in, NULL_TREE);\n+      return gen_rtx_MEM (TFmode, copy_to_reg (XEXP (mem, 0)));\n+    }\n+  else if (GET_CODE (in) == MEM\n+\t   && GET_CODE (XEXP (in, 0)) == ADDRESSOF)\n+    {\n+      return change_address (in, TFmode, copy_to_reg (XEXP (in, 0)));\n+    }\n+  else\n+    return in;\n+}\n \f\n /* Begin the assembly file.  */\n \n@@ -1702,7 +1842,7 @@ ia64_expand_prologue ()\n       {\n         if (cfa_off & 15)\n \t  abort ();\n-\treg = gen_rtx_REG (XFmode, regno);\n+\treg = gen_rtx_REG (TFmode, regno);\n \tdo_spill (gen_fr_spill_x, reg, cfa_off, reg);\n \tcfa_off -= 16;\n       }\n@@ -1867,7 +2007,7 @@ ia64_expand_epilogue ()\n       {\n         if (cfa_off & 15)\n \t  abort ();\n-\treg = gen_rtx_REG (XFmode, regno);\n+\treg = gen_rtx_REG (TFmode, regno);\n \tdo_restore (gen_fr_restore_x, reg, cfa_off);\n \tcfa_off -= 16;\n       }\n@@ -2304,7 +2444,6 @@ ia64_function_arg (cum, mode, type, named, incoming)\n \t\t\t\t      gen_rtx_REG (hfa_mode, (FR_ARG_FIRST\n \t\t\t\t\t\t\t      + fp_regs)),\n \t\t\t\t      GEN_INT (offset));\n-\t  /* ??? Padding for XFmode type?  */\n \t  offset += hfa_size;\n \t  args_byte_size += hfa_size;\n \t  fp_regs++;\n@@ -2484,7 +2623,6 @@ ia64_function_arg_advance (cum, mode, type, named)\n       for (; (offset < byte_size && fp_regs < MAX_ARGUMENT_SLOTS\n \t      && args_byte_size < (MAX_ARGUMENT_SLOTS * UNITS_PER_WORD));)\n \t{\n-\t  /* ??? Padding for XFmode type?  */\n \t  offset += hfa_size;\n \t  args_byte_size += hfa_size;\n \t  fp_regs++;\n@@ -2586,7 +2724,6 @@ ia64_return_in_memory (valtype)\n     {\n       int hfa_size = GET_MODE_SIZE (hfa_mode);\n \n-      /* ??? Padding for XFmode type?  */\n       if (byte_size / hfa_size > MAX_ARGUMENT_SLOTS)\n \treturn 1;\n       else\n@@ -2629,7 +2766,6 @@ ia64_function_value (valtype, func)\n \t  loc[i] = gen_rtx_EXPR_LIST (VOIDmode,\n \t\t\t\t      gen_rtx_REG (hfa_mode, FR_ARG_FIRST + i),\n \t\t\t\t      GEN_INT (offset));\n-\t  /* ??? Padding for XFmode type?  */\n \t  offset += hfa_size;\n \t}\n \n@@ -2782,19 +2918,10 @@ ia64_print_operand (file, x, code)\n \n \t  case POST_INC:\n \t    value = GET_MODE_SIZE (GET_MODE (x));\n-\n-\t    /* ??? This is for ldf.fill and stf.spill which use XFmode,\n-\t       but which actually need 16 bytes increments.  Perhaps we\n-\t       can change them to use TFmode instead.  Or don't use\n-\t       POST_DEC/POST_INC for them.  */\n-\t    if (value == 12)\n-\t      value = 16;\n \t    break;\n \n \t  case POST_DEC:\n \t    value = - (HOST_WIDE_INT) GET_MODE_SIZE (GET_MODE (x));\n-\t    if (value == -12)\n-\t      value = -16;\n \t    break;\n \t  }\n \n@@ -2930,17 +3057,28 @@ ia64_register_move_cost (from, to)\n {\n   int from_hard, to_hard;\n   int from_gr, to_gr;\n+  int from_fr, to_fr;\n \n   from_hard = (from == BR_REGS || from == AR_M_REGS || from == AR_I_REGS);\n   to_hard = (to == BR_REGS || to == AR_M_REGS || to == AR_I_REGS);\n   from_gr = (from == GENERAL_REGS);\n   to_gr = (to == GENERAL_REGS);\n+  from_fr = (from == FR_REGS);\n+  to_fr = (to == FR_REGS);\n \n   if (from_hard && to_hard)\n     return 8;\n   else if ((from_hard && !to_gr) || (!from_gr && to_hard))\n     return 6;\n \n+  /* ??? Moving from FR<->GR must be more expensive than 2, so that we get\n+     secondary memory reloads for TFmode moves.  Unfortunately, we don't\n+     have the mode here, so we can't check that.  */\n+  /* Moreover, we have to make this at least as high as MEMORY_MOVE_COST\n+     to avoid spectacularly poor register class preferencing for TFmode.  */\n+  else if (from_fr != to_fr)\n+    return 5;\n+\n   return 2;\n }\n \n@@ -3018,6 +3156,13 @@ ia64_secondary_reload_class (class, mode, x)\n \treturn GR_REGS;\n       break;\n \n+    case GR_REGS:\n+      /* Since we have no offsettable memory addresses, we need a temporary\n+\t to hold the address of the second word.  */\n+      if (mode == TImode)\n+\treturn GR_REGS;\n+      break;\n+\n     default:\n       break;\n     }"}, {"sha": "90717b8a14d0835033e78aeca47da42dbe5f4b73", "filename": "gcc/config/ia64/ia64.h", "status": "modified", "additions": 34, "deletions": 46, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.h?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -383,23 +383,6 @@ while (0)\n    a field, not crossing a boundary for it.  */\n #define PCC_BITFIELD_TYPE_MATTERS 1\n \n-/* Define this macro as an expression for the overall size of a structure\n-   (given by STRUCT as a tree node) when the size computed from the fields is\n-   SIZE and the alignment is ALIGN.\n-\n-   The default is to round SIZE up to a multiple of ALIGN.  */\n-/* ??? Might need this for 80-bit double-extended floats.  */\n-/* #define ROUND_TYPE_SIZE(STRUCT, SIZE, ALIGN) */\n-\n-/* Define this macro as an expression for the alignment of a structure (given\n-   by STRUCT as a tree node) if the alignment computed in the usual way is\n-   COMPUTED and the alignment explicitly specified was SPECIFIED.\n-\n-   The default is to use SPECIFIED if it is larger; otherwise, use the smaller\n-   of COMPUTED and `BIGGEST_ALIGNMENT' */\n-/* ??? Might need this for 80-bit double-extended floats.  */\n-/* #define ROUND_TYPE_ALIGN(STRUCT, COMPUTED, SPECIFIED) */\n-\n /* An integer expression for the size in bits of the largest integer machine\n    mode that should actually be used.  */\n \n@@ -465,8 +448,11 @@ while (0)\n \n /* A C expression for the size in bits of the type `long double' on the target\n    machine.  If you don't define this, the default is two words.  */\n-/* ??? We have an 80 bit extended double format.  */\n-#define LONG_DOUBLE_TYPE_SIZE 64\n+#define LONG_DOUBLE_TYPE_SIZE 128\n+\n+/* Tell real.c that this is the 80-bit Intel extended float format\n+   packaged in a 128-bit entity.  */\n+#define INTEL_EXTENDED_IEEE_FORMAT\n \n /* An expression whose value is 1 or 0, according to whether the type `char'\n    should be signed or unsigned by default.  The user can always override this\n@@ -812,7 +798,6 @@ while (0)\n /* A C expression for the number of consecutive hard registers, starting at\n    register number REGNO, required to hold a value of mode MODE.  */\n \n-/* ??? x86 80-bit FP values only require 1 register.  */\n /* ??? We say that CCmode values require two registers.  This allows us to\n    easily store the normal and inverted values.  We use CCImode to indicate\n    a single predicate register.  */\n@@ -821,19 +806,20 @@ while (0)\n   ((REGNO) == PR_REG (0) && (MODE) == DImode ? 64\t\t\t\\\n    : PR_REGNO_P (REGNO) && (MODE) == CCmode ? 2\t\t\t\t\\\n    : PR_REGNO_P (REGNO) && (MODE) == CCImode ? 1\t\t\t\\\n-   : FR_REGNO_P (REGNO) && (MODE) == XFmode ? 1\t\t\t\t\\\n+   : FR_REGNO_P (REGNO) && (MODE) == TFmode ? 1\t\t\t\t\\\n    : (GET_MODE_SIZE (MODE) + UNITS_PER_WORD - 1) / UNITS_PER_WORD)\n \n /* A C expression that is nonzero if it is permissible to store a value of mode\n    MODE in hard register number REGNO (or in several registers starting with\n    that one).  */\n \n-#define HARD_REGNO_MODE_OK(REGNO, MODE) \\\n-  (FR_REGNO_P (REGNO) ? GET_MODE_CLASS (MODE) != MODE_CC\t\t\\\n+#define HARD_REGNO_MODE_OK(REGNO, MODE)\t\t\t\t\t\\\n+  (FR_REGNO_P (REGNO) ? GET_MODE_CLASS (MODE) != MODE_CC && (MODE) != TImode \\\n    : PR_REGNO_P (REGNO) ? GET_MODE_CLASS (MODE) == MODE_CC\t\t\\\n-   : GR_REGNO_P (REGNO) ? (MODE) != XFmode && (MODE) != CCImode\t\t\\\n+   : GR_REGNO_P (REGNO) ? (MODE) != CCImode && (MODE) != TFmode\t\t\\\n    : AR_REGNO_P (REGNO) ? (MODE) == DImode\t\t\t\t\\\n-   : 1)\n+   : BR_REGNO_P (REGNO) ? (MODE) == DImode\t\t\t\t\\\n+   : 0)\n \n /* A C expression that is nonzero if it is desirable to choose register\n    allocation so as to avoid move instructions between a value of mode MODE1\n@@ -846,11 +832,11 @@ while (0)\n    INTEGRAL_MODE_P or FLOAT_MODE_P and the other is not.  Otherwise, it is\n    true.  */\n /* Don't tie integer and FP modes, as that causes us to get integer registers\n-   allocated for FP instructions.  XFmode only supported in FP registers at\n-   the moment, so we can't tie it with any other modes.  */\n+   allocated for FP instructions.  TFmode only supported in FP registers so\n+   we can't tie it with any other modes.  */\n #define MODES_TIEABLE_P(MODE1, MODE2) \\\n   ((GET_MODE_CLASS (MODE1) == GET_MODE_CLASS (MODE2)) \\\n-   && (((MODE1) == XFmode) == ((MODE2) == XFmode)))\n+   && (((MODE1) == TFmode) == ((MODE2) == TFmode)))\n \n /* Define this macro if the compiler should avoid copies to/from CCmode\n    registers.  You should only define this macro if support fo copying to/from\n@@ -1044,18 +1030,24 @@ enum reg_class\n    registers of CLASS1 can only be copied to registers of class CLASS2 by\n    storing a register of CLASS1 into memory and loading that memory location\n    into a register of CLASS2.  */\n-/* ??? We may need this for XFmode moves between FR and GR regs.  Using\n-   getf.sig/getf.exp almost works, but the result in the GR regs is not\n-   properly formatted and has two extra bits.  */\n-/* #define SECONDARY_MEMORY_NEEDED(CLASS1, CLASS2, M) */\n+\n+#if 0\n+/* ??? May need this, but since we've disallowed TFmode in GR_REGS,\n+   I'm not quite sure how it could be invoked.  The normal problems\n+   with unions should be solved with the addressof fiddling done by\n+   movtf and friends.  */\n+#define SECONDARY_MEMORY_NEEDED(CLASS1, CLASS2, MODE)\t\t\t\\\n+  ((MODE) == TFmode && (((CLASS1) == GR_REGS && (CLASS2) == FR_REGS)\t\\\n+\t\t\t|| ((CLASS1) == FR_REGS && (CLASS2) == GR_REGS)))\n+#endif\n \n /* A C expression for the maximum number of consecutive registers of\n    class CLASS needed to hold a value of mode MODE.\n    This is closely related to the macro `HARD_REGNO_NREGS'.  */\n \n #define CLASS_MAX_NREGS(CLASS, MODE) \\\n   ((MODE) == CCmode && (CLASS) == PR_REGS ? 2\t\t\t\\\n-   : ((CLASS) == FR_REGS && (MODE) == XFmode) ? 1\t\t\\\n+   : ((CLASS) == FR_REGS && (MODE) == TFmode) ? 1\t\t\\\n    : (GET_MODE_SIZE (MODE) + UNITS_PER_WORD - 1) / UNITS_PER_WORD)\n \n /* If defined, gives a class of registers that cannot be used as the\n@@ -1786,11 +1778,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n    on the machine mode of the memory reference it is used for or if the address\n    is valid for some modes but not others.  */\n \n-/* ??? Strictly speaking this isn't true, because we can use any increment with\n-   any mode.  Unfortunately, the RTL implies that the increment depends on the\n-   mode, so we need this for now.  */\n-\n-#define GO_IF_MODE_DEPENDENT_ADDRESS(ADDR, LABEL) \\\n+#define GO_IF_MODE_DEPENDENT_ADDRESS(ADDR, LABEL)\t\t\t\\\n   if (GET_CODE (ADDR) == POST_DEC || GET_CODE (ADDR) == POST_INC)\t\\\n     goto LABEL;\n \n@@ -1996,20 +1984,17 @@ do {\t\t\t\t\t\t\t\t\t\\\n /* Output of Data.  */\n \n /* A C statement to output to the stdio stream STREAM an assembler instruction\n-   to assemble a floating-point constant of `XFmode', `DFmode', `SFmode',\n+   to assemble a floating-point constant of `TFmode', `DFmode', `SFmode',\n    respectively, whose value is VALUE.  */\n \n-/* ??? This has not been tested.  Long doubles are really 10 bytes not 12\n-   bytes on ia64.  */\n-\n /* ??? Must reverse the word order for big-endian code?  */\n \n #define ASM_OUTPUT_LONG_DOUBLE(FILE, VALUE) \\\n do {\t\t\t\t\t\t\t\t\t\\\n   long t[3];\t\t\t\t\t\t\t\t\\\n   REAL_VALUE_TO_TARGET_LONG_DOUBLE (VALUE, t);\t\t\t\t\\\n-  fprintf (FILE, \"\\tdata8 0x%08lx, 0x%08lx, 0x%08lx\\n\",\t\t\t\\\n-\t   t[0] & 0xffffffff, t[1] & 0xffffffff, t[2] & 0xffffffff);\t\\\n+  fprintf (FILE, \"\\tdata4 0x%08lx, 0x%08lx, 0x%08lx, 0x%08lx\\n\",\t\\\n+\t   t[0] & 0xffffffff, t[1] & 0xffffffff, t[2] & 0xffffffff, 0);\t\\\n } while (0)\n \n /* ??? Must reverse the word order for big-endian code?  */\n@@ -2667,13 +2652,16 @@ do {\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t  CONSTANT_P_RTX}},\t\t\t\\\n { \"shladd_operand\", {CONST_INT}},\t\t\t\t\t\\\n { \"fetchadd_operand\", {CONST_INT}},\t\t\t\t\t\\\n-{ \"reg_or_fp01_operand\", {SUBREG, REG, CONST_DOUBLE, CONSTANT_P_RTX}},\t\\\n+{ \"reg_or_fp01_operand\", {SUBREG, REG, CONST_DOUBLE}},\t\t\t\\\n { \"normal_comparison_operator\", {EQ, NE, GT, LE, GTU, LEU}},\t\t\\\n { \"adjusted_comparison_operator\", {LT, GE, LTU, GEU}},\t\t\t\\\n { \"call_multiple_values_operation\", {PARALLEL}},\t\t\t\\\n { \"predicate_operator\", {NE, EQ}},\t\t\t\t\t\\\n { \"ar_lc_reg_operand\", {REG}},\t\t\t\t\t\t\\\n-{ \"ar_ccv_reg_operand\", {REG}},\n+{ \"ar_ccv_reg_operand\", {REG}},\t\t\t\t\t\t\\\n+{ \"general_tfmode_operand\", {SUBREG, REG, CONST_DOUBLE, MEM}},\t\t\\\n+{ \"destination_tfmode_operand\", {SUBREG, REG, MEM}},\t\t\t\\\n+{ \"tfreg_or_fp01_operand\", {REG, CONST_DOUBLE}},\n \n /* An alias for a machine mode name.  This is the machine mode that elements of\n    a jump-table should have.  */"}, {"sha": "0734936d1e9c01cbf906d4dc8958a36adc3cbb70", "filename": "gcc/config/ia64/ia64.md", "status": "modified", "additions": 357, "deletions": 57, "changes": 414, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Fia64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.md?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -22,8 +22,6 @@\n \n ;;- See file \"rtl.def\" for documentation on define_insn, match_*, et. al.\n \n-;; ??? Add support for long double XFmode patterns.\n-\n ;; ??? register_operand accepts (subreg:DI (mem:SI X)) which forces later\n ;; reload.  This will be fixed once scheduling support is turned on.\n \n@@ -575,25 +573,115 @@\n   \"addl %0 = @ltoff(%1), gp\"\n   [(set_attr \"type\" \"A\")])\n \n-;; ??? These patterns exist to make SSA happy.  We can get TImode values\n-;; because of structure moves generated for parameter and return value\n-;; loads and stores.\n+;; With no offsettable memory references, we've got to have a scratch\n+;; around to play with the second word.\n+(define_expand \"movti\"\n+  [(parallel [(set (match_operand:TI 0 \"general_operand\" \"\")\n+\t\t   (match_operand:TI 1 \"general_operand\" \"\"))\n+\t      (clobber (match_scratch:DI 2 \"\"))])]\n+  \"\"\n+  \"\n+{\n+  if (! reload_in_progress && ! reload_completed\n+      && ! ia64_move_ok (operands[0], operands[1]))\n+    operands[1] = force_reg (TImode, operands[1]);\n+}\")\n+\n+(define_insn_and_split \"*movti_internal\"\n+  [(set (match_operand:TI 0 \"nonimmediate_operand\" \"=r,r,m\")\n+\t(match_operand:TI 1 \"general_operand\"      \"ri,m,r\"))\n+   (clobber (match_scratch:DI 2 \"=X,&r,&r\"))]\n+  \"ia64_move_ok (operands[0], operands[1])\"\n+  \"#\"\n+  \"reload_completed\"\n+  [(const_int 0)]\n+  \"\n+{\n+  rtx adj1, adj2, in[2], out[2];\n+  int first;\n+\n+  adj1 = ia64_split_timode (in, operands[1], operands[2]);\n+  adj2 = ia64_split_timode (out, operands[0], operands[2]);\n+\n+  first = 0;\n+  if (reg_overlap_mentioned_p (out[0], in[1]))\n+    {\n+      if (reg_overlap_mentioned_p (out[1], in[0]))\n+\tabort ();\n+      first = 1;\n+    }\n+\n+  if (adj1 && adj2)\n+    abort ();\n+  if (adj1)\n+    emit_insn (adj1);\n+  if (adj2)\n+    emit_insn (adj2);\n+  emit_insn (gen_rtx_SET (VOIDmode, out[first], in[first]));\n+  emit_insn (gen_rtx_SET (VOIDmode, out[!first], in[!first]));\n+  DONE;\n+}\"\n+  [(set_attr \"type\" \"unknown\")\n+   (set_attr \"predicable\" \"no\")])\n \n-(define_insn \"*movti_internal\"\n-  [(set (match_operand:TI 0 \"register_operand\" \"=r\")\n-\t(match_operand:TI 1 \"register_operand\" \"r\"))]\n-  \"flag_ssa\"\n+;; ??? SSA creates these.  Can't allow memories since we don't have\n+;; the scratch register.  Fortunately combine will know how to add\n+;; the clobber and scratch.\n+(define_insn_and_split \"*movti_internal_reg\"\n+  [(set (match_operand:TI 0 \"register_operand\"  \"=r\")\n+\t(match_operand:TI 1 \"nonmemory_operand\" \"ri\"))]\n+  \"\"\n   \"#\"\n+  \"reload_completed\"\n+  [(const_int 0)]\n+  \"\n+{\n+  rtx in[2], out[2];\n+  int first;\n+\n+  ia64_split_timode (in, operands[1], NULL_RTX);\n+  ia64_split_timode (out, operands[0], NULL_RTX);\n+\n+  first = 0;\n+  if (reg_overlap_mentioned_p (out[0], in[1]))\n+    {\n+      if (reg_overlap_mentioned_p (out[1], in[0]))\n+\tabort ();\n+      first = 1;\n+    }\n+\n+  emit_insn (gen_rtx_SET (VOIDmode, out[first], in[first]));\n+  emit_insn (gen_rtx_SET (VOIDmode, out[!first], in[!first]));\n+  DONE;\n+}\"\n   [(set_attr \"type\" \"unknown\")\n    (set_attr \"predicable\" \"no\")])\n \n-(define_split\n-  [(set (match_operand:TI 0 \"register_operand\" \"\")\n-\t(match_operand:TI 1 \"register_operand\" \"\"))]\n-  \"flag_ssa && reload_completed\"\n-  [(set (subreg:DI (match_dup 0) 0) (subreg:DI (match_dup 1) 0))\n-   (set (subreg:DI (match_dup 0) 1) (subreg:DI (match_dup 1) 1))]\n-  \"\")\n+(define_expand \"reload_inti\"\n+  [(parallel [(set (match_operand:TI 0 \"register_operand\" \"=r\")\n+\t\t   (match_operand:TI 1 \"\" \"m\"))\n+\t      (clobber (match_operand:DI 2 \"register_operand\" \"=&r\"))])]\n+  \"\"\n+  \"\n+{\n+  /* ??? Should now be enforced by tweeks to push_secondary_reload.  */\n+  if (reg_overlap_mentioned_p (operands[2], operands[0])\n+      || reg_overlap_mentioned_p (operands[2], operands[1]))\n+    abort ();\n+}\")\n+\n+(define_expand \"reload_outti\"\n+  [(parallel [(set (match_operand:TI 0 \"\" \"=m\")\n+\t\t   (match_operand:TI 1 \"register_operand\" \"r\"))\n+\t      (clobber (match_operand:DI 2 \"register_operand\" \"=&r\"))])]\n+  \"\"\n+  \"\n+{\n+  /* ??? Should now be enforced by tweeks to push_secondary_reload.  */\n+  if (reg_overlap_mentioned_p (operands[2], operands[0])\n+      || reg_overlap_mentioned_p (operands[2], operands[1]))\n+    abort ();\n+}\")\n \n ;; Floating Point Moves\n ;;\n@@ -621,10 +709,10 @@\n \t  (match_operand:SF 1 \"nonmemory_operand\" \"fG,fG,*r,*r\")))]\n   \"TARGET_A_STEP && ia64_move_ok (operands[0], operands[1])\"\n   \"@\n-  mov %0 = %F1\n-  getf.s %0 = %F1\n-  setf.s %0 = %1\n-  mov %0 = %1\"\n+  (%J2) mov %0 = %F1\n+  (%J2) getf.s %0 = %F1\n+  (%J2) setf.s %0 = %1\n+  (%J2) mov %0 = %1\"\n   [(set_attr \"type\" \"F,M,M,A\")\n    (set_attr \"predicable\" \"no\")])\n \n@@ -680,10 +768,10 @@\n \t  (match_operand:DF 1 \"nonmemory_operand\" \"fG,fG,*r,*r\")))]\n   \"TARGET_A_STEP && ia64_move_ok (operands[0], operands[1])\"\n   \"@\n-  mov %0 = %F1\n-  getf.d %0 = %F1\n-  setf.d %0 = %1\n-  mov %0 = %1\"\n+  (%J2) mov %0 = %F1\n+  (%J2) getf.d %0 = %F1\n+  (%J2) setf.d %0 = %1\n+  (%J2) mov %0 = %1\"\n   [(set_attr \"type\" \"F,M,M,A\")\n    (set_attr \"predicable\" \"no\")])\n \n@@ -718,35 +806,96 @@\n   st8%Q0 %0 = %1%P0\"\n   [(set_attr \"type\" \"F,M,M,M,M,A,M,M\")])\n \n-(define_expand \"movxf\"\n-  [(set (match_operand:XF 0 \"general_operand\" \"\")\n-\t(match_operand:XF 1 \"general_operand\" \"\"))]\n+;; With no offsettable memory references, we've got to have a scratch\n+;; around to play with the second word if the variable winds up in GRs.\n+(define_expand \"movtf\"\n+  [(set (match_operand:TF 0 \"general_operand\" \"\")\n+\t(match_operand:TF 1 \"general_operand\" \"\"))]\n   \"\"\n   \"\n {\n-  if (! reload_in_progress && ! reload_completed\n-      && ! ia64_move_ok (operands[0], operands[1]))\n-    operands[1] = force_reg (XFmode, operands[1]);\n+  /* We must support TFmode loads into general registers for stdarg/vararg\n+     and unprototyped calls.  We split them into DImode loads for convenience.\n+     We don't need TFmode stores from general regs, because a stdarg/vararg\n+     routine does a block store to memory of unnamed arguments.  */\n+  if (GET_CODE (operands[0]) == REG\n+      && GR_REGNO_P (REGNO (operands[0])))\n+    {\n+      /* We're hoping to transform everything that deals with TFmode\n+\t quantities and GR registers early in the compiler.  */\n+      if (no_new_pseudos)\n+\tabort ();\n+\n+      /* Struct to register can just use TImode instead.  */\n+      if ((GET_CODE (operands[1]) == SUBREG\n+\t   && GET_MODE (SUBREG_REG (operands[1])) == TImode)\n+\t  || (GET_CODE (operands[1]) == REG\n+\t      && GR_REGNO_P (REGNO (operands[1]))))\n+\t{\n+\t  emit_move_insn (gen_rtx_REG (TImode, REGNO (operands[0])),\n+\t\t\t  SUBREG_REG (operands[1]));\n+\t  DONE;\n+\t}\n+\n+      if (GET_CODE (operands[1]) == CONST_DOUBLE)\n+\t{\n+\t  emit_move_insn (gen_rtx_REG (DImode, REGNO (operands[0])),\n+\t\t\t  operand_subword (operands[1], 0, 0, DImode));\n+\t  emit_move_insn (gen_rtx_REG (DImode, REGNO (operands[0]) + 1),\n+\t\t\t  operand_subword (operands[1], 1, 0, DImode));\n+\t  DONE;\n+\t}\n+\n+      /* If the quantity is in a register not known to be GR, spill it.  */\n+      if (register_operand (operands[1], TFmode))\n+\toperands[1] = spill_tfmode_operand (operands[1], 1);\n+\n+      if (GET_CODE (operands[1]) == MEM)\n+\t{\n+\t  rtx out[2];\n+\n+\t  out[WORDS_BIG_ENDIAN] = gen_rtx_REG (DImode, REGNO (operands[0]));\n+\t  out[!WORDS_BIG_ENDIAN] = gen_rtx_REG (DImode, REGNO (operands[0])+1);\n+\n+\t  emit_move_insn (out[0], change_address (operands[1], DImode, NULL));\n+\t  emit_move_insn (out[1],\n+\t\t\t  change_address (operands[1], DImode,\n+\t\t\t\t\t  plus_constant (XEXP (operands[1], 0),\n+\t\t\t\t\t\t\t 8)));\n+\t  DONE;\n+\t}\n+\n+      abort ();\n+    }\n+\n+  if (! reload_in_progress && ! reload_completed)\n+    {\n+      operands[0] = spill_tfmode_operand (operands[0], 0);\n+      operands[1] = spill_tfmode_operand (operands[1], 0);\n+\n+      if (! ia64_move_ok (operands[0], operands[1]))\n+\toperands[1] = force_reg (TFmode, operands[1]);\n+    }\n }\")\n \n ;; ??? There's no easy way to mind volatile acquire/release semantics.\n \n ;; Errata 72 workaround.\n-(define_insn \"*movxfcc_astep\"\n+(define_insn \"*movtfcc_astep\"\n   [(cond_exec\n      (match_operator 2 \"predicate_operator\"\n        [(match_operand:CC 3 \"register_operand\" \"c\")\n         (const_int 0)])\n-     (set (match_operand:XF 0 \"register_operand\"  \"=f\")\n-\t  (match_operand:XF 1 \"nonmemory_operand\" \"fG\")))]\n+     (set (match_operand:TF 0 \"register_operand\"  \"=f\")\n+\t  (match_operand:TF 1 \"nonmemory_operand\" \"fG\")))]\n   \"TARGET_A_STEP && ia64_move_ok (operands[0], operands[1])\"\n-  \"mov %0 = %F1\"\n+  \"(%J2) mov %0 = %F1\"\n   [(set_attr \"type\" \"F\")\n    (set_attr \"predicable\" \"no\")])\n \n-(define_insn \"*movxf_internal_astep\"\n-  [(set (match_operand:XF 0 \"destination_operand\" \"=f,f, m\")\n-\t(match_operand:XF 1 \"general_operand\"     \"fG,m,fG\"))]\n+(define_insn \"*movtf_internal_astep\"\n+  [(set (match_operand:TF 0 \"destination_tfmode_operand\" \"=f,f, m\")\n+\t(match_operand:TF 1 \"general_tfmode_operand\"     \"fG,m,fG\"))]\n   \"TARGET_A_STEP && ia64_move_ok (operands[0], operands[1])\"\n   \"@\n   mov %0 = %F1\n@@ -755,9 +904,9 @@\n   [(set_attr \"type\" \"F,M,M\")\n    (set_attr \"predicable\" \"no\")])\n \n-(define_insn \"*movxf_internal\"\n-  [(set (match_operand:XF 0 \"destination_operand\" \"=f,f, m\")\n-\t(match_operand:XF 1 \"general_operand\"     \"fG,m,fG\"))]\n+(define_insn \"*movtf_internal\"\n+  [(set (match_operand:TF 0 \"destination_tfmode_operand\" \"=f,f, m\")\n+\t(match_operand:TF 1 \"general_tfmode_operand\"     \"fG,m,fG\"))]\n   \"! TARGET_A_STEP && ia64_move_ok (operands[0], operands[1])\"\n   \"@\n   mov %0 = %F1\n@@ -843,32 +992,52 @@\n   \"if (true_regnum (operands[0]) == true_regnum (operands[1])) DONE;\"\n   [(set_attr \"type\" \"F\")])\n \n+(define_insn_and_split \"extendsftf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f,f\")\n+\t(float_extend:TF (match_operand:SF 1 \"register_operand\" \"0,f\")))]\n+  \"\"\n+  \"mov %0 = %1\"\n+  \"reload_completed\"\n+  [(set (match_dup 0) (float_extend:TF (match_dup 1)))]\n+  \"if (true_regnum (operands[0]) == true_regnum (operands[1])) DONE;\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn_and_split \"extenddftf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f,f\")\n+\t(float_extend:TF (match_operand:DF 1 \"register_operand\" \"0,f\")))]\n+  \"\"\n+  \"mov %0 = %1\"\n+  \"reload_completed\"\n+  [(set (match_dup 0) (float_extend:TF (match_dup 1)))]\n+  \"if (true_regnum (operands[0]) == true_regnum (operands[1])) DONE;\"\n+  [(set_attr \"type\" \"F\")])\n+\n (define_insn \"truncdfsf2\"\n   [(set (match_operand:SF 0 \"register_operand\" \"=f\")\n \t(float_truncate:SF (match_operand:DF 1 \"register_operand\" \"f\")))]\n   \"\"\n   \"fnorm.s %0 = %1%B0\"\n   [(set_attr \"type\" \"F\")])\n \n-(define_insn \"truncxfsf2\"\n+(define_insn \"trunctfsf2\"\n   [(set (match_operand:SF 0 \"register_operand\" \"=f\")\n-\t(float_truncate:SF (match_operand:XF 1 \"register_operand\" \"f\")))]\n+\t(float_truncate:SF (match_operand:TF 1 \"register_operand\" \"f\")))]\n   \"\"\n   \"fnorm.s %0 = %1%B0\"\n   [(set_attr \"type\" \"F\")])\n \n-(define_insn \"truncxfdf2\"\n+(define_insn \"trunctfdf2\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=f\")\n-\t(float_truncate:DF (match_operand:XF 1 \"register_operand\" \"f\")))]\n+\t(float_truncate:DF (match_operand:TF 1 \"register_operand\" \"f\")))]\n   \"\"\n   \"fnorm.d %0 = %1%B0\"\n   [(set_attr \"type\" \"F\")])\n \n ;; Convert between signed integer types and floating point.\n \n-(define_insn \"floatdixf2\"\n-  [(set (match_operand:XF 0 \"register_operand\" \"=f\")\n-\t(float:XF (match_operand:DI 1 \"register_operand\" \"f\")))]\n+(define_insn \"floatditf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(float:TF (match_operand:DI 1 \"register_operand\" \"f\")))]\n   \"\"\n   \"fcvt.xf %0 = %1\"\n   [(set_attr \"type\" \"F\")])\n@@ -887,6 +1056,13 @@\n   \"fcvt.fx.trunc %0 = %1%B0\"\n   [(set_attr \"type\" \"F\")])\n \n+(define_insn \"fix_trunctfdi2\"\n+  [(set (match_operand:DI 0 \"register_operand\" \"=f\")\n+\t(fix:DI (match_operand:TF 1 \"register_operand\" \"f\")))]\n+  \"\"\n+  \"fcvt.fx.trunc %0 = %1%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n ;; Convert between unsigned integer types and floating point.\n \n (define_insn \"floatunsdisf2\"\n@@ -903,6 +1079,13 @@\n   \"fcvt.xuf.d %0 = %1%B0\"\n   [(set_attr \"type\" \"F\")])\n \n+(define_insn \"floatunsditf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(unsigned_float:TF (match_operand:DI 1 \"register_operand\" \"f\")))]\n+  \"\"\n+  \"fcvt.xuf %0 = %1%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n (define_insn \"fixuns_truncsfdi2\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=f\")\n \t(unsigned_fix:DI (match_operand:SF 1 \"register_operand\" \"f\")))]\n@@ -917,6 +1100,12 @@\n   \"fcvt.fxu.trunc %0 = %1%B0\"\n   [(set_attr \"type\" \"F\")])\n \n+(define_insn \"fixuns_trunctfdi2\"\n+  [(set (match_operand:DI 0 \"register_operand\" \"=f\")\n+\t(unsigned_fix:DI (match_operand:TF 1 \"register_operand\" \"f\")))]\n+  \"\"\n+  \"fcvt.fxu.trunc %0 = %1%B0\"\n+  [(set_attr \"type\" \"F\")])\n \f\n ;; ::::::::::::::::::::\n ;; ::\n@@ -1702,7 +1891,111 @@\n   \"\"\n   \"fnma.d %0 = %1, %2, %F3%B0\"\n   [(set_attr \"type\" \"F\")])\n+\f\n+;; ::::::::::::::::::::\n+;; ::\n+;; :: 80 bit floating point arithmetic\n+;; ::\n+;; ::::::::::::::::::::\n+\n+(define_insn \"addtf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(plus:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fadd %0 = %F1, %F2%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"subtf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(minus:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t  (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fsub %0 = %F1, %F2%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"multf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(mult:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fmpy %0 = %F1, %F2%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"abstf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(abs:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fabs %0 = %F1%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"negtf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(neg:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fneg %0 = %F1%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"*nabstf2\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(neg:TF (abs:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\"))))]\n+  \"\"\n+  \"fnegabs %0 = %F1%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"mintf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(smin:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fmin %0 = %F1, %F2%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"maxtf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(smax:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fmax %0 = %F1, %F2%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"*maddtf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(plus:TF (mult:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t\t  (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\"))\n+\t\t (match_operand:TF 3 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fma %0 = %F1, %F2, %F3%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"*msubtf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(minus:TF (mult:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t\t   (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\"))\n+\t\t  (match_operand:TF 3 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fms %0 = %F1, %F2, %F3%B0\"\n+  [(set_attr \"type\" \"F\")])\n+\n+(define_insn \"*nmultf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(neg:TF (mult:TF (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t\t (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\"))))]\n+  \"\"\n+  \"fnmpy %0 = %F1, %F2%B0\"\n+  [(set_attr \"type\" \"F\")])\n \n+;; ??? Is it possible to canonicalize this as (minus (reg) (mult))?\n+\n+(define_insn \"*nmaddtf3\"\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(plus:TF (neg:TF (mult:TF\n+\t\t\t  (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t\t  (match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")))\n+\t\t (match_operand:TF 3 \"tfreg_or_fp01_operand\" \"fG\")))]\n+  \"\"\n+  \"fnma %0 = %F1, %F2, %F3%B0\"\n+  [(set_attr \"type\" \"F\")])\n \f\n ;; ::::::::::::::::::::\n ;; ::\n@@ -2038,13 +2331,11 @@\n   DONE;\n }\")\n \n-;; ??? Enable this for XFmode support.\n-\n-(define_expand \"cmpxf\"\n+(define_expand \"cmptf\"\n   [(set (cc0)\n-        (compare (match_operand:XF 0 \"reg_or_fp01_operand\" \"\")\n-  \t\t (match_operand:XF 1 \"reg_or_fp01_operand\" \"\")))]\n-  \"0\"\n+        (compare (match_operand:TF 0 \"tfreg_or_fp01_operand\" \"\")\n+  \t\t (match_operand:TF 1 \"tfreg_or_fp01_operand\" \"\")))]\n+  \"\"\n   \"\n {\n   ia64_compare_op0 = operands[0];\n@@ -2108,6 +2399,15 @@\n   \"fcmp.%D1 %0, %I0 = %F2, %F3\"\n   [(set_attr \"type\" \"F\")])\n \n+(define_insn \"*cmptf_internal\"\n+  [(set (match_operand:CC 0 \"register_operand\" \"=c\")\n+\t(match_operator:CC 1 \"comparison_operator\"\n+\t\t   [(match_operand:TF 2 \"tfreg_or_fp01_operand\" \"fG\")\n+\t\t    (match_operand:TF 3 \"tfreg_or_fp01_operand\" \"fG\")]))]\n+  \"\"\n+  \"fcmp.%D1 %0, %I0 = %F2, %F3\"\n+  [(set_attr \"type\" \"F\")])\n+\n ;; ??? Can this pattern be generated?\n \n (define_insn \"*bit_zero\"\n@@ -3383,15 +3683,15 @@\n   [(set_attr \"type\" \"M\")])\n \n (define_insn \"fr_spill\"\n-  [(set (match_operand:XF 0 \"memory_operand\" \"=m\")\n-\t(unspec:XF [(match_operand:XF 1 \"register_operand\" \"f\")] 3))]\n+  [(set (match_operand:TF 0 \"memory_operand\" \"=m\")\n+\t(unspec:TF [(match_operand:TF 1 \"register_operand\" \"f\")] 3))]\n   \"\"\n   \"stf.spill %0 = %1%P0\"\n   [(set_attr \"type\" \"M\")])\n \n (define_insn \"fr_restore\"\n-  [(set (match_operand:XF 0 \"register_operand\" \"=f\")\n-\t(unspec:XF [(match_operand:XF 1 \"memory_operand\" \"m\")] 4))]\n+  [(set (match_operand:TF 0 \"register_operand\" \"=f\")\n+\t(unspec:TF [(match_operand:TF 1 \"memory_operand\" \"m\")] 4))]\n   \"\"\n   \"ldf.fill %0 = %1%P1\"\n   [(set_attr \"type\" \"M\")])"}, {"sha": "76e37e9a6051ff7ccfbc9b1561a1a0d4c689e623", "filename": "gcc/config/ia64/lib1funcs.asm", "status": "modified", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Flib1funcs.asm?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -1,3 +1,45 @@\n+#ifdef L__divtf3\n+// Compute a 80-bit IEEE double-extended quotient.\n+//\n+// From the Intel IA-64 Optimization Guide, choose the minimum latency\n+// alternative.\n+//\n+// farg0 holds the dividend.  farg1 holds the divisor.\n+\n+\t.text\n+\t.align 16\n+\t.global __divtf3\n+\t.proc __divtf3\n+__divtf3:\n+\tfrcpa f10, p6 = farg0, farg1\n+\t;;\n+(p6)\tfnma.s1 f11 = farg1, f10, f1\n+\t;;\n+(p6)\tfma.s1 f12 = f11, f10, f10\n+(p6)\tfma.s1 f11 = f11, f11, f0\n+\t;;\n+(p6)\tfma.s1 f11 = f11, f12, f12\n+\t;;\n+(p6)\tfnma.s1 f12 = farg1, f11, f1\n+(p6)\tfma.s1 f10 = farg0, f10, f0\n+\t;;\n+(p6)\tfma.s1 f11 = f12, f11, f11\n+(p6)\tfnma.s1 f12 = farg1, f10, farg0\n+\t;;\n+(p6)\tfma.s1 f10 = f12, f11, f10\n+(p6)\tfnma.s1 f12 = farg1, f11, f1\n+\t;;\n+(p6)\tfnma.s1 f8 = farg1, f10, farg0\n+(p6)\tfma.s1 f9 = f12, f11, f11\n+\t;;\n+(p6)\tfma f10 = f8, f9, f10\n+\t;;\n+\tmov fret0 = f10\n+\tbr.ret.sptk rp\n+\t;;\n+\t.endp __divtf3\n+#endif\n+\n #ifdef L__divdf3\n // Compute a 64-bit IEEE double quotient.\n //"}, {"sha": "1f1e61af5c985a16fe02b977f08deca5bc73128c", "filename": "gcc/config/ia64/t-ia64", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Ft-ia64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfig%2Fia64%2Ft-ia64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Ft-ia64?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -8,7 +8,7 @@ LIB1ASMSRC    = ia64/lib1funcs.asm\n # ??? We change the names of the DImode div/mod files so that they won't\n # accidentally be overridden by libgcc2.c files.  We used to use __ia64 as\n # a prefix, now we use __ as the prefix.\n-LIB1ASMFUNCS  = __divdf3 __divsf3 \\\n+LIB1ASMFUNCS  = __divtf3 __divdf3 __divsf3 \\\n \t__divdi3 __moddi3 __udivdi3 __umoddi3 \\\n \t__divsi3 __modsi3 __udivsi3 __umodsi3 __save_stack_nonlocal \\\n \t__nonlocal_goto __restore_stack_nonlocal __trampoline"}, {"sha": "b7dc17b9754afc3f1d539d22eff2e0dfafebd9e7", "filename": "gcc/configure", "status": "modified", "additions": 254, "deletions": 241, "changes": 495, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -100,6 +100,7 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n+sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -214,6 +215,7 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n+  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -384,6 +386,11 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n+  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n+    ac_prev=sitefile ;;\n+  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n+    sitefile=\"$ac_optarg\" ;;\n+\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -549,12 +556,16 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$CONFIG_SITE\"; then\n-  if test \"x$prefix\" != xNONE; then\n-    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-  else\n-    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n+if test -z \"$sitefile\"; then\n+  if test -z \"$CONFIG_SITE\"; then\n+    if test \"x$prefix\" != xNONE; then\n+      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+    else\n+      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n+    fi\n   fi\n+else\n+  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -609,7 +620,7 @@ copy=cp\n # - two terminals occur directly after each other\n # - the path contains an element with a dot in it\n echo $ac_n \"checking LIBRARY_PATH variable\"\"... $ac_c\" 1>&6\n-echo \"configure:613: checking LIBRARY_PATH variable\" >&5\n+echo \"configure:624: checking LIBRARY_PATH variable\" >&5\n case ${LIBRARY_PATH} in\n   [:\\;]* | *[:\\;] | *[:\\;][:\\;]* |  *[:\\;]. | .[:\\;]*| . | *[:\\;].[:\\;]* )\n     library_path_setting=\"contains current directory\"\n@@ -634,7 +645,7 @@ fi\n # - two terminals occur directly after each other\n # - the path contains an element with a dot in it\n echo $ac_n \"checking GCC_EXEC_PREFIX variable\"\"... $ac_c\" 1>&6\n-echo \"configure:638: checking GCC_EXEC_PREFIX variable\" >&5\n+echo \"configure:649: checking GCC_EXEC_PREFIX variable\" >&5\n case ${GCC_EXEC_PREFIX} in\n   [:\\;]* | *[:\\;] | *[:\\;][:\\;]* |  *[:\\;]. | .[:\\;]*| . | *[:\\;].[:\\;]* )\n     gcc_exec_prefix_setting=\"contains current directory\"\n@@ -992,7 +1003,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:996: checking host system type\" >&5\n+echo \"configure:1007: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -1013,7 +1024,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1017: checking target system type\" >&5\n+echo \"configure:1028: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -1031,7 +1042,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1035: checking build system type\" >&5\n+echo \"configure:1046: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1058,7 +1069,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1062: checking for $ac_word\" >&5\n+echo \"configure:1073: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1088,7 +1099,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1092: checking for $ac_word\" >&5\n+echo \"configure:1103: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1139,7 +1150,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1143: checking for $ac_word\" >&5\n+echo \"configure:1154: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1171,7 +1182,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1175: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1186: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1182,12 +1193,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1186 \"configure\"\n+#line 1197 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1191: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1202: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1213,12 +1224,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1217: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1228: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1222: checking whether we are using GNU C\" >&5\n+echo \"configure:1233: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1227,7 +1238,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1231: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1242: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1246,7 +1257,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1250: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1261: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1279,10 +1290,10 @@ fi\n \n if test \"x$CC\" != xcc; then\n   echo $ac_n \"checking whether $CC and cc understand -c and -o together\"\"... $ac_c\" 1>&6\n-echo \"configure:1283: checking whether $CC and cc understand -c and -o together\" >&5\n+echo \"configure:1294: checking whether $CC and cc understand -c and -o together\" >&5\n else\n   echo $ac_n \"checking whether cc understands -c and -o together\"\"... $ac_c\" 1>&6\n-echo \"configure:1286: checking whether cc understands -c and -o together\" >&5\n+echo \"configure:1297: checking whether cc understands -c and -o together\" >&5\n fi\n set dummy $CC; ac_cc=\"`echo $2 |\n \t\t       sed -e 's/[^a-zA-Z0-9_]/_/g' -e 's/^[0-9]/_/'`\"\n@@ -1294,16 +1305,16 @@ else\n # We do the test twice because some compilers refuse to overwrite an\n # existing .o file with -o, though they will create one.\n ac_try='${CC-cc} -c conftest.c -o conftest.o 1>&5'\n-if { (eval echo configure:1298: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; } &&\n-   test -f conftest.o && { (eval echo configure:1299: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; };\n+if { (eval echo configure:1309: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; } &&\n+   test -f conftest.o && { (eval echo configure:1310: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; };\n then\n   eval ac_cv_prog_cc_${ac_cc}_c_o=yes\n   if test \"x$CC\" != xcc; then\n     # Test first that cc exists at all.\n-    if { ac_try='cc -c conftest.c 1>&5'; { (eval echo configure:1304: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n+    if { ac_try='cc -c conftest.c 1>&5'; { (eval echo configure:1315: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n       ac_try='cc -c conftest.c -o conftest.o 1>&5'\n-      if { (eval echo configure:1306: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; } &&\n-\t test -f conftest.o && { (eval echo configure:1307: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; };\n+      if { (eval echo configure:1317: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; } &&\n+\t test -f conftest.o && { (eval echo configure:1318: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; };\n       then\n         # cc works too.\n         :\n@@ -1335,15 +1346,15 @@ fi\n \n \n echo $ac_n \"checking for long double\"\"... $ac_c\" 1>&6\n-echo \"configure:1339: checking for long double\" >&5\n+echo \"configure:1350: checking for long double\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_long_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$GCC\" = yes; then\n   gcc_cv_c_long_double=yes\n else\n cat > conftest.$ac_ext <<EOF\n-#line 1347 \"configure\"\n+#line 1358 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1353,7 +1364,7 @@ long double foo = 0.0;\n switch (0) case 0: case (sizeof(long double) >= sizeof(double)):;\n ; return 0; }\n EOF\n-if { (eval echo configure:1357: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1368: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_long_double=yes\n else\n@@ -1376,21 +1387,21 @@ fi\n \n \n echo $ac_n \"checking whether ${CC-cc} accepts -Wno-long-long\"\"... $ac_c\" 1>&6\n-echo \"configure:1380: checking whether ${CC-cc} accepts -Wno-long-long\" >&5\n+echo \"configure:1391: checking whether ${CC-cc} accepts -Wno-long-long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_no_long_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"-Wno-long-long\"\n cat > conftest.$ac_ext <<EOF\n-#line 1387 \"configure\"\n+#line 1398 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1394: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1405: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_prog_cc_no_long_long=yes\n else\n@@ -1421,7 +1432,7 @@ fi\n \n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1425: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1436: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1449,7 +1460,7 @@ fi\n \n \n echo $ac_n \"checking whether a default assembler was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1453: checking whether a default assembler was specified\" >&5\n+echo \"configure:1464: checking whether a default assembler was specified\" >&5\n if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n     if test x\"$gas_flag\" = x\"no\"; then\n     \techo \"$ac_t\"\"yes ($DEFAULT_ASSEMBLER)\" 1>&6\n@@ -1461,7 +1472,7 @@ else\n fi\n \n echo $ac_n \"checking whether a default linker was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1465: checking whether a default linker was specified\" >&5\n+echo \"configure:1476: checking whether a default linker was specified\" >&5\n if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n     if test x\"$gnu_ld_flag\" = x\"no\"; then\n \techo \"$ac_t\"\"yes ($DEFAULT_LINKER)\" 1>&6\n@@ -1473,21 +1484,21 @@ else\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:1477: checking for inline\" >&5\n+echo \"configure:1488: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 1484 \"configure\"\n+#line 1495 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n-} int $ac_kw foo() {\n+} $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:1491: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1502: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -1519,7 +1530,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1523: checking for $ac_word\" >&5\n+echo \"configure:1534: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1551,7 +1562,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1555: checking for $ac_word\" >&5\n+echo \"configure:1566: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1585,15 +1596,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1589: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1600: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1597 \"configure\"\n+#line 1608 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1604,7 +1615,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1608: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1619: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1627,7 +1638,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1631: checking whether ln works\" >&5\n+echo \"configure:1642: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1659,7 +1670,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1663: checking whether ln -s works\" >&5\n+echo \"configure:1674: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1691,19 +1702,19 @@ else\n fi\n \n echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n-echo \"configure:1695: checking for volatile\" >&5\n+echo \"configure:1706: checking for volatile\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1700 \"configure\"\n+#line 1711 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n volatile int foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:1707: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1718: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_volatile=yes\n else\n@@ -1726,7 +1737,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1730: checking for $ac_word\" >&5\n+echo \"configure:1741: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1758,7 +1769,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1762: checking for $ac_word\" >&5\n+echo \"configure:1773: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1799,7 +1810,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1803: checking for a BSD compatible install\" >&5\n+echo \"configure:1814: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1850,7 +1861,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1854: checking how to run the C preprocessor\" >&5\n+echo \"configure:1865: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1865,13 +1876,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1869 \"configure\"\n+#line 1880 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1875: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1886: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1882,13 +1893,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1886 \"configure\"\n+#line 1897 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1892: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1903: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1899,13 +1910,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1903 \"configure\"\n+#line 1914 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1909: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1920: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1930,20 +1941,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1934: checking for ANSI C header files\" >&5\n+echo \"configure:1945: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1939 \"configure\"\n+#line 1950 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1947: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1958: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1960,7 +1971,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1964 \"configure\"\n+#line 1975 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1978,7 +1989,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1982 \"configure\"\n+#line 1993 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1999,7 +2010,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2003 \"configure\"\n+#line 2014 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2010,7 +2021,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2014: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2025: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2034,12 +2045,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:2038: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:2049: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2043 \"configure\"\n+#line 2054 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -2048,7 +2059,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:2052: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2063: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -2069,20 +2080,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:2073: checking whether string.h and strings.h may both be included\" >&5\n+echo \"configure:2084: checking whether string.h and strings.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2078 \"configure\"\n+#line 2089 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n #include <strings.h>\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2086: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2097: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_string=yes\n else\n@@ -2103,12 +2114,12 @@ EOF\n fi\n \n echo $ac_n \"checking for sys/wait.h that is POSIX.1 compatible\"\"... $ac_c\" 1>&6\n-echo \"configure:2107: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n+echo \"configure:2118: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2112 \"configure\"\n+#line 2123 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/wait.h>\n@@ -2124,7 +2135,7 @@ wait (&s);\n s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n ; return 0; }\n EOF\n-if { (eval echo configure:2128: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2139: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_sys_wait_h=yes\n else\n@@ -2151,17 +2162,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h \\\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2155: checking for $ac_hdr\" >&5\n+echo \"configure:2166: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2160 \"configure\"\n+#line 2171 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2165: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2176: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2191,17 +2202,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2195: checking for thread.h\" >&5\n+echo \"configure:2206: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2200 \"configure\"\n+#line 2211 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2205: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2216: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2225,17 +2236,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2229: checking for pthread.h\" >&5\n+echo \"configure:2240: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2234 \"configure\"\n+#line 2245 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2239: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2250: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2262,7 +2273,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2266: checking for $ac_word\" >&5\n+echo \"configure:2277: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2301,7 +2312,7 @@ else\n   # Extract the first word of \"makeinfo\", so it can be a program name with args.\n set dummy makeinfo; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2305: checking for $ac_word\" >&5\n+echo \"configure:2316: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_MAKEINFO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2330,13 +2341,13 @@ fi\n if test -n \"$MAKEINFO\"; then\n   # Found it, now check the version.\n   echo $ac_n \"checking for modern makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:2334: checking for modern makeinfo\" >&5\n+echo \"configure:2345: checking for modern makeinfo\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_makeinfo_modern'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:2340: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:2351: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     3.1[2-9] | 3.[2-9][0-9] | 4.* | 1.6[89] | 1.7[0-9])\n@@ -2369,12 +2380,12 @@ fi\n \n \n echo $ac_n \"checking for preprocessor stringizing operator\"\"... $ac_c\" 1>&6\n-echo \"configure:2373: checking for preprocessor stringizing operator\" >&5\n+echo \"configure:2384: checking for preprocessor stringizing operator\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stringize'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2378 \"configure\"\n+#line 2389 \"configure\"\n #include \"confdefs.h\"\n \n #define x(y) #y\n@@ -2407,20 +2418,20 @@ echo \"$ac_t\"\"${ac_cv_c_stringize}\" 1>&6\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2411: checking for inttypes.h\" >&5\n+echo \"configure:2422: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2416 \"configure\"\n+#line 2427 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:2424: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2435: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_inttypes_h=yes\n else\n@@ -2445,15 +2456,15 @@ fi\n # be either signed or unsigned.\n #\n echo $ac_n \"checking for unsigned enumerated bitfields\"\"... $ac_c\" 1>&6\n-echo \"configure:2449: checking for unsigned enumerated bitfields\" >&5\n+echo \"configure:2460: checking for unsigned enumerated bitfields\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_enum_bf_unsigned'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_enum_bf_unsigned=yes\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2457 \"configure\"\n+#line 2468 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n enum t { BLAH = 128 } ;\n@@ -2466,7 +2477,7 @@ int main(void)\n \n }\n EOF\n-if { (eval echo configure:2470: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2481: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_enum_bf_unsigned=yes\n else\n@@ -2494,12 +2505,12 @@ for ac_func in strtoul bsearch putenv popen bcopy bzero bcmp \\\n \tfputs_unlocked getrusage valloc\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2498: checking for $ac_func\" >&5\n+echo \"configure:2509: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2503 \"configure\"\n+#line 2514 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2522,7 +2533,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2526: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2537: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2548,12 +2559,12 @@ done\n \n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2552: checking for ssize_t\" >&5\n+echo \"configure:2563: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2557 \"configure\"\n+#line 2568 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2584,12 +2595,12 @@ fi\n # Try to determine the array type of the second argument of getgroups\n # for the target system (int or gid_t).\n echo $ac_n \"checking for uid_t in sys/types.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2588: checking for uid_t in sys/types.h\" >&5\n+echo \"configure:2599: checking for uid_t in sys/types.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_uid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2593 \"configure\"\n+#line 2604 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -2618,15 +2629,15 @@ EOF\n fi\n \n echo $ac_n \"checking type of array argument to getgroups\"\"... $ac_c\" 1>&6\n-echo \"configure:2622: checking type of array argument to getgroups\" >&5\n+echo \"configure:2633: checking type of array argument to getgroups\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_getgroups'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_type_getgroups=cross\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2630 \"configure\"\n+#line 2641 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Rendell for this test.  */\n@@ -2651,7 +2662,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:2655: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2666: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n     ac_cv_type_getgroups=gid_t\n else\n@@ -2665,7 +2676,7 @@ fi\n \n if test $ac_cv_type_getgroups = cross; then\n         cat > conftest.$ac_ext <<EOF\n-#line 2669 \"configure\"\n+#line 2680 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -2706,12 +2717,12 @@ fi\n \n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:2710: checking for vprintf\" >&5\n+echo \"configure:2721: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2715 \"configure\"\n+#line 2726 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -2734,7 +2745,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2738: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2749: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2758,12 +2769,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2762: checking for _doprnt\" >&5\n+echo \"configure:2773: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2767 \"configure\"\n+#line 2778 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2786,7 +2797,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2790: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2801: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2822,15 +2833,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2826: checking whether the printf functions support %p\" >&5\n+echo \"configure:2837: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2834 \"configure\"\n+#line 2845 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2843,7 +2854,7 @@ int main()\n   return (p != q);\n }\n EOF\n-if { (eval echo configure:2847: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2858: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2876,12 +2887,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2880: checking for pid_t\" >&5\n+echo \"configure:2891: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2885 \"configure\"\n+#line 2896 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2910,17 +2921,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2914: checking for vfork.h\" >&5\n+echo \"configure:2925: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2919 \"configure\"\n+#line 2930 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2924: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2935: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2945,18 +2956,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2949: checking for working vfork\" >&5\n+echo \"configure:2960: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2955: checking for vfork\" >&5\n+echo \"configure:2966: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2960 \"configure\"\n+#line 2971 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2979,7 +2990,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2983: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2994: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -3001,7 +3012,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3005 \"configure\"\n+#line 3016 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -3096,7 +3107,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:3100: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3111: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -3122,17 +3133,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3126: checking for $ac_hdr\" >&5\n+echo \"configure:3137: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3131 \"configure\"\n+#line 3142 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3136: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3147: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3161,12 +3172,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3165: checking for $ac_func\" >&5\n+echo \"configure:3176: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3170 \"configure\"\n+#line 3181 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3189,7 +3200,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3193: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3204: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3214,15 +3225,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap which provides zeroed pages anywhere\"\"... $ac_c\" 1>&6\n-echo \"configure:3218: checking for working mmap which provides zeroed pages anywhere\" >&5\n+echo \"configure:3229: checking for working mmap which provides zeroed pages anywhere\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anywhere'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_anywhere=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3226 \"configure\"\n+#line 3237 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Richard Henderson and Alexandre Oliva.\n@@ -3305,7 +3316,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:3309: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3320: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_anywhere=yes\n else\n@@ -3328,7 +3339,7 @@ EOF\n fi\n \n echo $ac_n \"checking for working mmap of a file\"\"... $ac_c\" 1>&6\n-echo \"configure:3332: checking for working mmap of a file\" >&5\n+echo \"configure:3343: checking for working mmap of a file\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3343,7 +3354,7 @@ if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_file=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3347 \"configure\"\n+#line 3358 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n@@ -3380,7 +3391,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:3384: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3395: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_file=yes\n else\n@@ -3413,12 +3424,12 @@ for ac_func in bcopy bzero bcmp \\\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3417: checking whether $ac_func is declared\" >&5\n+echo \"configure:3428: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3422 \"configure\"\n+#line 3433 \"configure\"\n #include \"confdefs.h\"\n #include \"gansidecl.h\"\n #include \"system.h\"\n@@ -3429,7 +3440,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3433: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3444: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -3534,12 +3545,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3538: checking whether $ac_func is declared\" >&5\n+echo \"configure:3549: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3543 \"configure\"\n+#line 3554 \"configure\"\n #include \"confdefs.h\"\n #include \"gansidecl.h\"\n #include \"system.h\"\n@@ -3554,7 +3565,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3558: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3569: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -3597,12 +3608,12 @@ CFLAGS=\"$saved_CFLAGS\"\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:3601: checking if mkdir takes one argument\" >&5\n+echo \"configure:3612: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3606 \"configure\"\n+#line 3617 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -3619,7 +3630,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3623: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3634: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -5008,6 +5019,7 @@ for machine in $build $host $target; do\n \t\tthen\n \t\t\ttarget_cpu_default=\"${target_cpu_default}|MASK_GNU_LD\"\n \t\tfi\n+\t\tfloat_format=i386\n \t\t;;\n \tia64*-*-linux*)\n \t\ttm_file=ia64/linux.h\n@@ -5016,6 +5028,7 @@ for machine in $build $host $target; do\n  \t\tif test x$enable_threads = xyes; then\n  \t\t\tthread_file='posix'\n  \t\tfi\n+\t\tfloat_format=i386\n \t\t;;\n \tm32r-*-elf*)\n \t\textra_parts=\"crtinit.o crtfini.o\"\n@@ -7104,15 +7117,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:7108: checking for strerror in -lcposix\" >&5\n+echo \"configure:7121: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7116 \"configure\"\n+#line 7129 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7123,7 +7136,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:7127: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7140: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7146,18 +7159,18 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:7150: checking for working const\" >&5\n+echo \"configure:7163: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7155 \"configure\"\n+#line 7168 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x = {0,0};\n+typedef int charset[2]; const charset x;\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -7200,7 +7213,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7204: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7217: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -7221,12 +7234,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7225: checking for off_t\" >&5\n+echo \"configure:7238: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7230 \"configure\"\n+#line 7243 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7254,12 +7267,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7258: checking for size_t\" >&5\n+echo \"configure:7271: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7263 \"configure\"\n+#line 7276 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7289,19 +7302,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7293: checking for working alloca.h\" >&5\n+echo \"configure:7306: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7298 \"configure\"\n+#line 7311 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n-void *p = alloca(2 * sizeof(int));\n+char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:7305: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7318: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -7322,12 +7335,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7326: checking for alloca\" >&5\n+echo \"configure:7339: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7331 \"configure\"\n+#line 7344 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -7355,7 +7368,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:7359: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7372: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7387,12 +7400,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7391: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:7404: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7396 \"configure\"\n+#line 7409 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7417,12 +7430,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7421: checking for $ac_func\" >&5\n+echo \"configure:7434: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7426 \"configure\"\n+#line 7439 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7445,7 +7458,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7449: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7462: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7472,15 +7485,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7476: checking stack direction for C alloca\" >&5\n+echo \"configure:7489: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7484 \"configure\"\n+#line 7497 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7499,7 +7512,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7503: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7516: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7526,17 +7539,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7530: checking for $ac_hdr\" >&5\n+echo \"configure:7543: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7535 \"configure\"\n+#line 7548 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7540: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7553: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7566,12 +7579,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7570: checking for $ac_func\" >&5\n+echo \"configure:7583: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7575 \"configure\"\n+#line 7588 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7594,7 +7607,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7598: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7611: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7623,12 +7636,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7627: checking for $ac_func\" >&5\n+echo \"configure:7640: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7632 \"configure\"\n+#line 7645 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7651,7 +7664,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7655: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7668: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7685,19 +7698,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7689: checking for LC_MESSAGES\" >&5\n+echo \"configure:7702: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7694 \"configure\"\n+#line 7707 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7701: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7714: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7718,7 +7731,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7722: checking whether NLS is requested\" >&5\n+echo \"configure:7735: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7738,7 +7751,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7742: checking whether included gettext is requested\" >&5\n+echo \"configure:7755: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7757,17 +7770,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7761: checking for libintl.h\" >&5\n+echo \"configure:7774: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7766 \"configure\"\n+#line 7779 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7771: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7784: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7784,19 +7797,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7788: checking for gettext in libc\" >&5\n+echo \"configure:7801: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7793 \"configure\"\n+#line 7806 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7800: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7813: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7812,15 +7825,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7816: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7829: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7824 \"configure\"\n+#line 7837 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7831,7 +7844,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7835: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7848: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7847,20 +7860,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7851: checking for gettext in libintl\" >&5\n+echo \"configure:7864: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7856: checking for gettext in -lintl\" >&5\n+echo \"configure:7869: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7864 \"configure\"\n+#line 7877 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7871,7 +7884,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7875: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7888: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7910,7 +7923,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7914: checking for $ac_word\" >&5\n+echo \"configure:7927: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7944,12 +7957,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7948: checking for $ac_func\" >&5\n+echo \"configure:7961: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7953 \"configure\"\n+#line 7966 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7972,7 +7985,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7976: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7989: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7999,7 +8012,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8003: checking for $ac_word\" >&5\n+echo \"configure:8016: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8035,7 +8048,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8039: checking for $ac_word\" >&5\n+echo \"configure:8052: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8067,15 +8080,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 8071 \"configure\"\n+#line 8084 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:8079: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8092: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -8098,7 +8111,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:8102: checking whether catgets can be used\" >&5\n+echo \"configure:8115: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -8111,22 +8124,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:8115: checking for main in -li\" >&5\n+echo \"configure:8128: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 8123 \"configure\"\n+#line 8136 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:8130: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8143: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -8154,12 +8167,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:8158: checking for catgets\" >&5\n+echo \"configure:8171: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8163 \"configure\"\n+#line 8176 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -8182,7 +8195,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8186: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8199: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -8204,7 +8217,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8208: checking for $ac_word\" >&5\n+echo \"configure:8221: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8240,7 +8253,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8244: checking for $ac_word\" >&5\n+echo \"configure:8257: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8277,7 +8290,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8281: checking for $ac_word\" >&5\n+echo \"configure:8294: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8316,7 +8329,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8320: checking for $ac_word\" >&5\n+echo \"configure:8333: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8374,7 +8387,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8378: checking for $ac_word\" >&5\n+echo \"configure:8391: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8408,7 +8421,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8412: checking for $ac_word\" >&5\n+echo \"configure:8425: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8448,7 +8461,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8452: checking for $ac_word\" >&5\n+echo \"configure:8465: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8543,7 +8556,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8547: checking for catalogs to be installed\" >&5\n+echo \"configure:8560: checking for catalogs to be installed\" >&5\n        if test \"x$LINGUAS\" = \"x\"; then\n \t LINGUAS=$ALL_LINGUAS\n        else\n@@ -8575,17 +8588,17 @@ echo \"configure:8547: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8579: checking for linux/version.h\" >&5\n+echo \"configure:8592: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8584 \"configure\"\n+#line 8597 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8589: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8602: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8660,7 +8673,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8664: checking whether windows registry support is requested\" >&5\n+echo \"configure:8677: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8689,7 +8702,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8693: checking registry key on windows hosts\" >&5\n+echo \"configure:8706: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8883,7 +8896,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8887: checking assembler alignment features\" >&5\n+echo \"configure:8900: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -9004,7 +9017,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:9008: checking assembler subsection support\" >&5\n+echo \"configure:9021: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -9044,7 +9057,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:9048: checking assembler weak support\" >&5\n+echo \"configure:9061: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .weak\n@@ -9061,7 +9074,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:9065: checking assembler hidden support\" >&5\n+echo \"configure:9078: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .hidden\n@@ -9081,7 +9094,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:9085: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:9098: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9109,7 +9122,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:9113: checking assembler supports -relax\" >&5\n+echo \"configure:9126: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9139,7 +9152,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:9143: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:9156: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9184,7 +9197,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:9188: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:9201: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9223,7 +9236,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:9227: checking assembler instructions\" >&5\n+echo \"configure:9240: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -9353,7 +9366,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:9357: checking for libstdc++ to install\" >&5\n+echo \"configure:9370: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\"\n@@ -9377,7 +9390,7 @@ EOF\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:9381: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:9394: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "a1e81cea58ae0a95a6eb7944dd25c1bb3e455894", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -2020,6 +2020,7 @@ changequote([,])dnl\n \t\tthen\n \t\t\ttarget_cpu_default=\"${target_cpu_default}|MASK_GNU_LD\"\n \t\tfi\n+\t\tfloat_format=i386\n \t\t;;\n \tia64*-*-linux*)\n \t\ttm_file=ia64/linux.h\n@@ -2028,6 +2029,7 @@ changequote([,])dnl\n  \t\tif test x$enable_threads = xyes; then\n  \t\t\tthread_file='posix'\n  \t\tfi\n+\t\tfloat_format=i386\n \t\t;;\n \tm32r-*-elf*)\n \t\textra_parts=\"crtinit.o crtfini.o\""}, {"sha": "030f89a39a486c3811e4f9da8a5ba2bce9ecfeb1", "filename": "gcc/real.c", "status": "modified", "additions": 56, "deletions": 31, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Freal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Freal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.c?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -95,7 +95,9 @@ netlib.att.com: netlib/cephes.   */\n \n    The case LONG_DOUBLE_TYPE_SIZE = 128 activates TFmode support\n    and may deactivate XFmode since `long double' is used to refer\n-   to both modes.\n+   to both modes.  Defining INTEL_EXTENDED_IEEE_FORMAT at the same \n+   time enables 80387-style 80-bit floats in a 128-bit padded\n+   image, as seen on IA-64.\n \n    The macros FLOAT_WORDS_BIG_ENDIAN, HOST_FLOAT_WORDS_BIG_ENDIAN,\n    contributed by Richard Earnshaw <Richard.Earnshaw@cl.cam.ac.uk>,\n@@ -244,30 +246,31 @@ unknown arithmetic type\n    A REAL_VALUE_TYPE is guaranteed to occupy contiguous locations\n    in memory, with no holes.  */\n \n-#if MAX_LONG_DOUBLE_TYPE_SIZE == 96\n+#if MAX_LONG_DOUBLE_TYPE_SIZE == 96 || \\\n+    (defined(INTEL_EXTENDED_IEEE_FORMAT) && MAX_LONG_DOUBLE_TYPE_SIZE == 128)\n /* Number of 16 bit words in external e type format */\n-#define NE 6\n-#define MAXDECEXP 4932\n-#define MINDECEXP -4956\n-#define GET_REAL(r,e) bcopy ((char *) r, (char *) e, 2*NE)\n-#define PUT_REAL(e,r)\t\t\t\t\\\n-do {\t\t\t\t\t\t\\\n-  if (2*NE < sizeof(*r))\t\t\t\\\n-    bzero((char *)r, sizeof(*r));\t\t\\\n-  bcopy ((char *) e, (char *) r, 2*NE);\t\t\\\n-} while (0)\n-#else /* no XFmode */\n-#if MAX_LONG_DOUBLE_TYPE_SIZE == 128\n-#define NE 10\n-#define MAXDECEXP 4932\n-#define MINDECEXP -4977\n-#define GET_REAL(r,e) bcopy ((char *) r, (char *) e, 2*NE)\n-#define PUT_REAL(e,r)\t\t\t\t\\\n-do {\t\t\t\t\t\t\\\n-  if (2*NE < sizeof(*r))\t\t\t\\\n-    bzero((char *)r, sizeof(*r));\t\t\\\n-  bcopy ((char *) e, (char *) r, 2*NE);\t\t\\\n-} while (0)\n+# define NE 6\n+# define MAXDECEXP 4932\n+# define MINDECEXP -4956\n+# define GET_REAL(r,e)  memcpy ((char *)(e), (char *)(r), 2*NE)\n+# define PUT_REAL(e,r)\t\t\t\t\t\t\\\n+\tdo {\t\t\t\t\t\t\t\\\n+\t  memcpy ((char *)(r), (char *)(e), 2*NE);\t\t\\\n+\t  if (2*NE < sizeof(*r))\t\t\t\t\\\n+\t    memset ((char *)(r) + 2*NE, 0, sizeof(*r) - 2*NE);\t\\\n+\t} while (0)\n+# else /* no XFmode */\n+#  if MAX_LONG_DOUBLE_TYPE_SIZE == 128\n+#   define NE 10\n+#   define MAXDECEXP 4932\n+#   define MINDECEXP -4977\n+#   define GET_REAL(r,e) memcpy ((char *)(e), (char *)(r), 2*NE)\n+#   define PUT_REAL(e,r)\t\t\t\t\t\\\n+\tdo {\t\t\t\t\t\t\t\\\n+\t  memcpy ((char *)(r), (char *)(e), 2*NE);\t\t\\\n+\t  if (2*NE < sizeof(*r))\t\t\t\t\\\n+\t    memset ((char *)(r) + 2*NE, 0, sizeof(*r) - 2*NE);\t\\\n+\t} while (0)\n #else\n #define NE 6\n #define MAXDECEXP 4932\n@@ -497,11 +500,13 @@ endian (e, x, mode)\n       switch (mode)\n \t{\n \tcase TFmode:\n+#ifndef INTEL_EXTENDED_IEEE_FORMAT\n \t  /* Swap halfwords in the fourth long.  */\n \t  th = (unsigned long) e[6] & 0xffff;\n \t  t = (unsigned long) e[7] & 0xffff;\n \t  t |= th << 16;\n \t  x[3] = (long) t;\n+#endif\n \n \tcase XFmode:\n \t  /* Swap halfwords in the third long.  */\n@@ -539,11 +544,13 @@ endian (e, x, mode)\n       switch (mode)\n \t{\n \tcase TFmode:\n+#ifndef INTEL_EXTENDED_IEEE_FORMAT\n \t  /* Pack the fourth long.  */\n \t  th = (unsigned long) e[7] & 0xffff;\n \t  t = (unsigned long) e[6] & 0xffff;\n \t  t |= th << 16;\n \t  x[3] = (long) t;\n+#endif\n \n \tcase XFmode:\n \t  /* Pack the third long.\n@@ -737,15 +744,18 @@ ereal_atof (s, t)\n       e53toe (tem, e);\n       break;\n \n-    case XFmode:\n-      asctoe64 (s, tem);\n-      e64toe (tem, e);\n-      break;\n-\n     case TFmode:\n+#ifndef INTEL_EXTENDED_IEEE_FORMAT\n       asctoe113 (s, tem);\n       e113toe (tem, e);\n       break;\n+#endif\n+      /* FALLTHRU */\n+\n+    case XFmode:\n+      asctoe64 (s, tem);\n+      e64toe (tem, e);\n+      break;\n \n     default:\n       asctoe (s, e);\n@@ -1070,9 +1080,12 @@ real_value_truncate (mode, arg)\n   switch (mode)\n     {\n     case TFmode:\n+#ifndef INTEL_EXTENDED_IEEE_FORMAT\n       etoe113 (e, t);\n       e113toe (t, t);\n       break;\n+#endif\n+      /* FALLTHRU */\n \n     case XFmode:\n       etoe64 (e, t);\n@@ -1486,7 +1499,7 @@ ereal_isneg (x)\n \n /*  e type constants used by high precision check routines */\n \n-#if MAX_LONG_DOUBLE_TYPE_SIZE == 128\n+#if MAX_LONG_DOUBLE_TYPE_SIZE == 128 && !defined(INTEL_EXTENDED_IEEE_FORMAT)\n /* 0.0 */\n unsigned EMUSHORT ezero[NE] =\n  {0x0000, 0x0000, 0x0000, 0x0000,\n@@ -3660,6 +3673,15 @@ toe64 (a, b)\n \t  /* Clear the last two bytes of 12-byte Intel format */\n \t  *(q+1) = 0;\n \t}\n+#ifdef INTEL_EXTENDED_IEEE_FORMAT\n+      if (LONG_DOUBLE_TYPE_SIZE == 128)\n+\t{\n+\t  /* Clear the last 6 bytes of 16-byte Intel format.  */\n+\t  q[1] = 0;\n+\t  q[2] = 0;\n+\t  q[3] = 0;\n+\t}\n+#endif\n     }\n #endif\n \n@@ -4560,7 +4582,7 @@ enormlz (x)\n #define NTEN 12\n #define MAXP 4096\n \n-#if MAX_LONG_DOUBLE_TYPE_SIZE == 128\n+#if MAX_LONG_DOUBLE_TYPE_SIZE == 128 && !defined(INTEL_EXTENDED_IEEE_FORMAT)\n static unsigned EMUSHORT etens[NTEN + 1][NE] =\n {\n   {0x6576, 0x4a92, 0x804a, 0x153f,\n@@ -6276,12 +6298,15 @@ make_nan (nan, sign, mode)\n    used like NaN's, but probably not in the same way as IEEE.  */\n #if !defined(DEC) && !defined(IBM) && !defined(C4X)\n     case TFmode:\n+#ifndef INTEL_EXTENDED_IEEE_FORMAT\n       n = 8;\n       if (REAL_WORDS_BIG_ENDIAN)\n \tp = TFbignan;\n       else\n \tp = TFlittlenan;\n       break;\n+#endif\n+      /* FALLTHRU */\n \n     case XFmode:\n       n = 6;"}, {"sha": "b9ee6066837332501b8194b48666a68a18a4b8a6", "filename": "gcc/real.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Freal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f622353270a85d3945641069fb027d0ec9cd787/gcc%2Freal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.h?ref=3f622353270a85d3945641069fb027d0ec9cd787", "patch": "@@ -207,11 +207,15 @@ extern REAL_VALUE_TYPE real_value_truncate\tPARAMS ((enum machine_mode,\n   ereal_from_uint (&d, lo, hi, mode)\n \n /* IN is a REAL_VALUE_TYPE.  OUT is an array of longs. */\n+#if defined(INTEL_EXTENDED_IEEE_FORMAT) && MAX_LONG_DOUBLE_TYPE_SIZE == 128\n+#define REAL_VALUE_TO_TARGET_LONG_DOUBLE(IN, OUT) (etarldouble ((IN), (OUT)))\n+#else\n #define REAL_VALUE_TO_TARGET_LONG_DOUBLE(IN, OUT) \t\t\\\n    (LONG_DOUBLE_TYPE_SIZE == 64 ? etardouble ((IN), (OUT))\t\\\n     : LONG_DOUBLE_TYPE_SIZE == 96 ? etarldouble ((IN), (OUT))\t\\\n     : LONG_DOUBLE_TYPE_SIZE == 128 ? etartdouble ((IN), (OUT))  \\\n     : abort())\n+#endif\n #define REAL_VALUE_TO_TARGET_DOUBLE(IN, OUT) (etardouble ((IN), (OUT)))\n \n /* IN is a REAL_VALUE_TYPE.  OUT is a long. */"}]}