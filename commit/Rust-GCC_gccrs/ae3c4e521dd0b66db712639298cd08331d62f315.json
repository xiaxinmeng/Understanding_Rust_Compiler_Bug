{"sha": "ae3c4e521dd0b66db712639298cd08331d62f315", "node_id": "C_kwDOANBUbNoAKGFlM2M0ZTUyMWRkMGI2NmRiNzEyNjM5Mjk4Y2QwODMzMWQ2MmYzMTU", "commit": {"author": {"name": "Pat Haugen", "email": "pthaugen@linux.ibm.com", "date": "2022-02-24T21:33:42Z"}, "committer": {"name": "Pat Haugen", "email": "pthaugen@linux.ibm.com", "date": "2022-02-24T21:33:42Z"}, "message": "Fix attr-retain-* tescases for 32-bit PowerPC.\n\n\tPR testsuite/100407\n\ngcc/testsuite/\n\t* gcc.c-torture/compile/attr-retain-1.c: Add -G0 for 32-bit PowerPC.\n\t* gcc.c-torture/compile/attr-retain-2.c: Likewise.", "tree": {"sha": "042be6a6e2f0b953adc039be5abcd38c120faace", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/042be6a6e2f0b953adc039be5abcd38c120faace"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae3c4e521dd0b66db712639298cd08331d62f315", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae3c4e521dd0b66db712639298cd08331d62f315", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae3c4e521dd0b66db712639298cd08331d62f315", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae3c4e521dd0b66db712639298cd08331d62f315/comments", "author": null, "committer": null, "parents": [{"sha": "916b809fbfdd2740006270baf549bf22fe9ec3c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/916b809fbfdd2740006270baf549bf22fe9ec3c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/916b809fbfdd2740006270baf549bf22fe9ec3c4"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "84f489adb2c66cdfa0011a002bb0e18b6b0724f5", "filename": "gcc/testsuite/gcc.c-torture/compile/attr-retain-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae3c4e521dd0b66db712639298cd08331d62f315/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fattr-retain-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae3c4e521dd0b66db712639298cd08331d62f315/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fattr-retain-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fattr-retain-1.c?ref=ae3c4e521dd0b66db712639298cd08331d62f315", "patch": "@@ -1,4 +1,6 @@\n /* { dg-do compile { target R_flag_in_section } } */\n+/* Prevent readonly data from being put in writable sdata for 32-bit powerpc. */\n+/* { dg-options \"-G0\" { target { powerpc*-*-* && ilp32 } } } */\n /* { dg-final { scan-assembler \".text.*,\\\"axR\\\"\" } } */\n /* { dg-final { scan-assembler \".bss.*,\\\"awR\\\"\" } } */\n /* { dg-final { scan-assembler \".data.*,\\\"awR\\\"\" } } */"}, {"sha": "692e07b08f9d89399d7379be765e0bccee55270d", "filename": "gcc/testsuite/gcc.c-torture/compile/attr-retain-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae3c4e521dd0b66db712639298cd08331d62f315/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fattr-retain-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae3c4e521dd0b66db712639298cd08331d62f315/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fattr-retain-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fattr-retain-2.c?ref=ae3c4e521dd0b66db712639298cd08331d62f315", "patch": "@@ -11,5 +11,7 @@\n /* { dg-final { scan-assembler \".bss.used_lcomm2,\\\"awR\\\"\" { target arm-*-* } } } */\n /* { dg-final { scan-assembler \".data.used_foo_sec,\\\"awR\\\"\" } } */\n /* { dg-options \"-ffunction-sections -fdata-sections\" } */\n+/* Prevent readonly data from being put in writable sdata for 32-bit powerpc. */\n+/* { dg-options \"-ffunction-sections -fdata-sections -G0\" { target { powerpc*-*-* && ilp32 } } } */\n \n #include \"attr-retain-1.c\""}]}