{"sha": "6a294a2917ca8553c576eef28169625b9efbe9ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmEyOTRhMjkxN2NhODU1M2M1NzZlZWYyODE2OTYyNWI5ZWZiZTlhYg==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@gnat.com", "date": "2004-10-04T14:55:32Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-10-04T14:55:32Z"}, "message": "a-dirval-mingw.adb (Invalid_Character): Add '\\' as invalid character in file name.\n\n2004-10-04  Vincent Celier  <celier@gnat.com>\n\n\t* a-dirval-mingw.adb (Invalid_Character): Add '\\' as invalid character\n\tin file name.\n\t(Is_Valid_Path_Name): Take '/' as a directory separator.\n\nFrom-SVN: r88492", "tree": {"sha": "a011cd85a12a1a19de1be617e5aa6be6048e5cac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a011cd85a12a1a19de1be617e5aa6be6048e5cac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a294a2917ca8553c576eef28169625b9efbe9ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a294a2917ca8553c576eef28169625b9efbe9ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a294a2917ca8553c576eef28169625b9efbe9ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a294a2917ca8553c576eef28169625b9efbe9ab/comments", "author": null, "committer": null, "parents": [{"sha": "9a080ea3464b484cb6bdf464a85bbdab96aa1c95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a080ea3464b484cb6bdf464a85bbdab96aa1c95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a080ea3464b484cb6bdf464a85bbdab96aa1c95"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "13829bd8f2546bd2b959830488338c1cdc69e340", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a294a2917ca8553c576eef28169625b9efbe9ab/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a294a2917ca8553c576eef28169625b9efbe9ab/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6a294a2917ca8553c576eef28169625b9efbe9ab", "patch": "@@ -1,3 +1,9 @@\n+2004-10-04  Vincent Celier  <celier@gnat.com>\n+\n+\t* a-dirval-mingw.adb (Invalid_Character): Add '\\' as invalid character\n+\tin file name.\n+\t(Is_Valid_Path_Name): Take '/' as a directory separator.\n+\n 2004-10-04  Vincent Celier  <celier@gnat.com>\n \n \t* prj-part.adb (Parse_Single_Project): Call Is_Extending_All"}, {"sha": "93dcae1c5f923b8204383864e4b0ac5d01f0c46e", "filename": "gcc/ada/a-dirval-mingw.adb", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a294a2917ca8553c576eef28169625b9efbe9ab/gcc%2Fada%2Fa-dirval-mingw.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a294a2917ca8553c576eef28169625b9efbe9ab/gcc%2Fada%2Fa-dirval-mingw.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-dirval-mingw.adb?ref=6a294a2917ca8553c576eef28169625b9efbe9ab", "patch": "@@ -39,7 +39,7 @@ with Ada.Characters.Latin_1; use Ada.Characters.Latin_1;\n package body Ada.Directories.Validity is\n \n    Invalid_Character : constant array (Character) of Boolean :=\n-                         (NUL .. US             => True,\n+                         (NUL .. US | '\\'       => True,\n                           '/' | ':' | '*' | '?' => True,\n                           '\"' | '<' | '>' | '|' => True,\n                           DEL .. NBSP           => True,\n@@ -76,7 +76,9 @@ package body Ada.Directories.Validity is\n          loop\n             --  Look for the start of the next directory or file name\n \n-            while Start <= Name'Last and then Name (Start) = '\\' loop\n+            while Start <= Name'Last and then\n+              (Name (Start) = '\\' or Name (Start) = '/')\n+            loop\n                Start := Start + 1;\n             end loop;\n \n@@ -89,7 +91,7 @@ package body Ada.Directories.Validity is\n             --  Look for the end of the directory/file name\n \n             while Last < Name'Last loop\n-               exit when Name (Last + 1) = '\\';\n+               exit when Name (Last + 1) = '\\' or Name (Last + 1) = '/';\n                Last := Last + 1;\n             end loop;\n \n@@ -119,7 +121,7 @@ package body Ada.Directories.Validity is\n \n    begin\n       --  A file name cannot be empty, cannot contain more than 256 characters,\n-      --  and cannot contain invalid characters, including '\\'\n+      --  and cannot contain invalid characters.\n \n       if Name'Length = 0 or else Name'Length > 256 then\n          return False;\n@@ -129,7 +131,7 @@ package body Ada.Directories.Validity is\n       else\n          Only_Spaces := True;\n          for J in Name'Range loop\n-            if Invalid_Character (Name (J)) or else Name (J) = '\\' then\n+            if Invalid_Character (Name (J)) then\n                return False;\n             elsif Name (J) /= ' ' then\n                Only_Spaces := False;"}]}