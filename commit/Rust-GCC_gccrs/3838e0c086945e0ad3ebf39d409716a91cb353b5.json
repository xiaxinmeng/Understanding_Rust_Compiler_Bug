{"sha": "3838e0c086945e0ad3ebf39d409716a91cb353b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzgzOGUwYzA4Njk0NWUwYWQzZWJmMzlkNDA5NzE2YTkxY2IzNTNiNQ==", "commit": {"author": {"name": "Fran\u00e7ois Dumont", "email": "fdumont@gcc.gnu.org", "date": "2017-05-12T21:19:39Z"}, "committer": {"name": "Fran\u00e7ois Dumont", "email": "fdumont@gcc.gnu.org", "date": "2017-05-12T21:19:39Z"}, "message": "Revert revision 247926.\n\nFrom-SVN: r247998", "tree": {"sha": "48ee704aba2e439634676fe123b6a6b383d602c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/48ee704aba2e439634676fe123b6a6b383d602c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3838e0c086945e0ad3ebf39d409716a91cb353b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3838e0c086945e0ad3ebf39d409716a91cb353b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3838e0c086945e0ad3ebf39d409716a91cb353b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3838e0c086945e0ad3ebf39d409716a91cb353b5/comments", "author": null, "committer": null, "parents": [{"sha": "e9cd48dceeb3be5983c9f1dec7f494722c008c04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9cd48dceeb3be5983c9f1dec7f494722c008c04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9cd48dceeb3be5983c9f1dec7f494722c008c04"}], "stats": {"total": 31, "additions": 5, "deletions": 26}, "files": [{"sha": "8664e8cd52560a2665e4248d21fd301e7d100627", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3838e0c086945e0ad3ebf39d409716a91cb353b5/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3838e0c086945e0ad3ebf39d409716a91cb353b5/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3838e0c086945e0ad3ebf39d409716a91cb353b5", "patch": "@@ -12,10 +12,6 @@\n \t(_Rb_tree_impl<>): Remove _Is_pod_comparator\n \ttemplate parameter.\n \n-\t* include/debug/safe_container.h [_GLIBCXX_USE_CXX11_ABI]\n-\t(_Safe_container<>): Remove _IsCxx11AllocatorAware template parameter.\n-\t* include/debug/string: Adapt.\n-\n \t* include/debug/formatter.h [_GLIBCXX_INLINE_VERSION]\n \t(__gnu_debug::_Error_formatter::_Parameter::_M_print_field): Remove.\n \t(__gnu_debug::_Error_formatter::_Parameter::_M_print_description):"}, {"sha": "3d44c15cdf30faf109bc84a98f2f354bed423921", "filename": "libstdc++-v3/include/debug/safe_container.h", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3838e0c086945e0ad3ebf39d409716a91cb353b5/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fsafe_container.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3838e0c086945e0ad3ebf39d409716a91cb353b5/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fsafe_container.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fsafe_container.h?ref=3838e0c086945e0ad3ebf39d409716a91cb353b5", "patch": "@@ -36,12 +36,8 @@ namespace __gnu_debug\n   /// Safe class dealing with some allocator dependent operations.\n   template<typename _SafeContainer,\n \t   typename _Alloc,\n-\t   template<typename> class _SafeBase\n-#if _GLIBCXX_USE_CXX11_ABI\n-\t   >\n-#else\n-\t   , bool _IsCxx11AllocatorAware = true>\n-#endif\n+\t   template<typename> class _SafeBase,\n+\t   bool _IsCxx11AllocatorAware = true>\n     class _Safe_container\n     : public _SafeBase<_SafeContainer>\n     {\n@@ -86,10 +82,8 @@ namespace __gnu_debug\n       {\n \t__glibcxx_check_self_move_assign(__x);\n \n-#  if !_GLIBCXX_USE_CXX11_ABI\n \tif (_IsCxx11AllocatorAware)\n \t  {\n-#  endif\n \t    typedef __gnu_cxx::__alloc_traits<_Alloc> _Alloc_traits;\n \n \t    bool __xfer_memory = _Alloc_traits::_S_propagate_on_move_assign()\n@@ -98,11 +92,9 @@ namespace __gnu_debug\n \t      _Base::_M_swap(__x);\n \t    else\n \t      this->_M_invalidate_all();\n-#  if !_GLIBCXX_USE_CXX11_ABI\n \t  }\n \telse\n \t  _Base::_M_swap(__x);\n-#  endif\n \n \t__x._M_invalidate_all();\n \treturn *this;\n@@ -111,9 +103,7 @@ namespace __gnu_debug\n       void\n       _M_swap(_Safe_container& __x) noexcept\n       {\n-#  if !_GLIBCXX_USE_CXX11_ABI\n \tif (_IsCxx11AllocatorAware)\n-#  endif\n \t  {\n \t    typedef __gnu_cxx::__alloc_traits<_Alloc> _Alloc_traits;\n "}, {"sha": "9d4057b7d4372e34e8512526421b790682796c0e", "filename": "libstdc++-v3/include/debug/string", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3838e0c086945e0ad3ebf39d409716a91cb353b5/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fstring", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3838e0c086945e0ad3ebf39d409716a91cb353b5/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fstring", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fstring?ref=3838e0c086945e0ad3ebf39d409716a91cb353b5", "patch": "@@ -44,20 +44,13 @@ template<typename _CharT, typename _Traits = std::char_traits<_CharT>,\n   class basic_string\n   : public __gnu_debug::_Safe_container<\n       basic_string<_CharT, _Traits, _Allocator>,\n-#if _GLIBCXX_USE_CXX11_ABI\n-      _Allocator, _Safe_sequence>,\n-#else\n-      _Allocator, _Safe_sequence, false>,\n-#endif\n+      _Allocator, _Safe_sequence, bool(_GLIBCXX_USE_CXX11_ABI)>,\n     public std::basic_string<_CharT, _Traits, _Allocator>\n   {\n     typedef std::basic_string<_CharT, _Traits, _Allocator>\t_Base;\n     typedef __gnu_debug::_Safe_container<\n-#if _GLIBCXX_USE_CXX11_ABI\n-      basic_string, _Allocator, _Safe_sequence> _Safe;\n-#else\n-      basic_string, _Allocator, _Safe_sequence, false> _Safe;\n-#endif\n+      basic_string, _Allocator, _Safe_sequence, bool(_GLIBCXX_USE_CXX11_ABI)>\n+      _Safe;\n \n   public:\n     // types:"}]}