{"sha": "d25fc1b572e615a78cc238837658e1e845bff7f9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI1ZmMxYjU3MmU2MTVhNzhjYzIzODgzNzY1OGUxZTg0NWJmZjdmOQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2003-01-19T14:34:12Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-01-19T14:34:12Z"}, "message": "test_summary (configflags): Only use the first match.\n\n* test_summary (configflags): Only use the first match.  Remove\nexcess space.  Use sub instead of gsub where possible.  Use `none'\nif no configure flags were given.\n\nFrom-SVN: r61483", "tree": {"sha": "867d9692ff939bbadedd4c3abc870818e761fef6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/867d9692ff939bbadedd4c3abc870818e761fef6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d25fc1b572e615a78cc238837658e1e845bff7f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d25fc1b572e615a78cc238837658e1e845bff7f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d25fc1b572e615a78cc238837658e1e845bff7f9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d25fc1b572e615a78cc238837658e1e845bff7f9/comments", "author": null, "committer": null, "parents": [{"sha": "a99820e6c8da5105242ac793cae4d4298cc44fbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a99820e6c8da5105242ac793cae4d4298cc44fbc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a99820e6c8da5105242ac793cae4d4298cc44fbc"}], "stats": {"total": 25, "additions": 17, "deletions": 8}, "files": [{"sha": "229ec5e47daf120b1b32effdf8a8576a18f972d6", "filename": "contrib/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d25fc1b572e615a78cc238837658e1e845bff7f9/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d25fc1b572e615a78cc238837658e1e845bff7f9/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=d25fc1b572e615a78cc238837658e1e845bff7f9", "patch": "@@ -1,3 +1,9 @@\n+2003-01-19  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* test_summary (configflags): Only use the first match.  Remove\n+\texcess space.  Use sub instead of gsub where possible.  Use `none'\n+\tif no configure flags were given.\n+\n 2003-01-10  Loren J. Rittle  <ljrittle@acm.org>\n \n \t* test_summary (configflags): awk portability."}, {"sha": "356d7b320acf70bf01d2fe51aa5ff64514b9f929", "filename": "contrib/test_summary", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d25fc1b572e615a78cc238837658e1e845bff7f9/contrib%2Ftest_summary", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d25fc1b572e615a78cc238837658e1e845bff7f9/contrib%2Ftest_summary", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftest_summary?ref=d25fc1b572e615a78cc238837658e1e845bff7f9", "patch": "@@ -88,25 +88,28 @@ if $forcemail || $anychange; then :; else mailto=nobody; fi &&\n cat ./config.status $files |\n $AWK '\n BEGIN {\n-  lang=\"\";\n+  lang=\"\"; configflags = \"\";\n   address=\"gcc-testresults@gcc.gnu.org\";\n   version=\"gcc\";\n   print \"cat <<'\"'\"'EOF'\"'\"' |\";\n '${prepend_logs+\"  system(\\\"cat $prepend_logs\\\"); \"}'\n }\n-$0 ~ /^[^ ]*\\/configure / || $0 ~ /^# [^ ]*\\/configure / {\n+($0 ~ /^[^ ]*\\/configure / || $0 ~ /^# [^ ]*\\/configure /) &&\n+configflags == \"\" {\n     configflags = $0 \" \";\n-    gsub(/^# /, \"\", configflags);\n+    sub(/^# /, \"\", configflags);\n     srcdir = configflags;\n-    gsub(/\\/configure .*/, \"\", srcdir);\n+    sub(/\\/configure .*/, \"\", srcdir);\n     printf \"LAST_UPDATED: \";\n     system(\"tail -1 \" srcdir \"/LAST_UPDATED\");\n     print \"\";\n \n-    gsub(/^[^ ]*\\/configure /, \"configure flags: \", configflags);\n-    gsub(/ --with-gcc-version-trigger=[^ ]* /, \" \", configflags);\n-    gsub(/ --norecursion /, \" \", configflags);\n-    gsub(/ $/, \"\", configflags);\n+    sub(/^[^ ]*\\/configure */, \" \", configflags);\n+    sub(/ --with-gcc-version-trigger=[^ ]* /, \" \", configflags);\n+    sub(/ --norecursion /, \" \", configflags);\n+    sub(/ $/, \"\", configflags);\n+    sub(/^ *$/, \" none\", configflags);\n+    configflags = \"configure flags:\" configflags;\n }\n /^Running target / { print \"\"; print; }\n /^Target / { if (host != \"\") next; else host = $3; }"}]}