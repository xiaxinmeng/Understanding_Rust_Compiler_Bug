{"sha": "6fa02a050bbd70f682add2524a07c65f26c11c20", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZhMDJhMDUwYmJkNzBmNjgyYWRkMjUyNGEwN2M2NWYyNmMxMWMyMA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-01-26T14:43:39Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-01-26T14:43:39Z"}, "message": "Deal with names that are encoded with both @ and *.\n\nFrom-SVN: r11107", "tree": {"sha": "01df7ab144246522b8644d9271259cc56d41a488", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01df7ab144246522b8644d9271259cc56d41a488"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6fa02a050bbd70f682add2524a07c65f26c11c20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fa02a050bbd70f682add2524a07c65f26c11c20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fa02a050bbd70f682add2524a07c65f26c11c20", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fa02a050bbd70f682add2524a07c65f26c11c20/comments", "author": null, "committer": null, "parents": [{"sha": "b9442c72e197d692a849d6c239b49e79393c35b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9442c72e197d692a849d6c239b49e79393c35b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9442c72e197d692a849d6c239b49e79393c35b4"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "a390992f4e1f8c8e46891df082a68986b46a35a3", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fa02a050bbd70f682add2524a07c65f26c11c20/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fa02a050bbd70f682add2524a07c65f26c11c20/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=6fa02a050bbd70f682add2524a07c65f26c11c20", "patch": "@@ -657,15 +657,25 @@ do {\t\t\t\t\t\t\t\t\t\\\n    out of the string in a SYMBOL_REF.  Discard\n    a leading * or @. */\n #undef  STRIP_NAME_ENCODING\n-#define STRIP_NAME_ENCODING(VAR,SYMBOL_NAME) \\\n-  (VAR) = ((SYMBOL_NAME) + (((SYMBOL_NAME)[0] == '*') || ((SYMBOL_NAME)[0] == '@')))\n+#define STRIP_NAME_ENCODING(VAR,SYMBOL_NAME)\t\t\t\t\\\n+do {\t\t\t\t\t\t\t\t\t\\\n+  char *_name = SYMBOL_NAME;\t\t\t\t\t\t\\\n+  while (*_name == '*' || *_name == '@')\t\t\t\t\\\n+    _name++;\t\t\t\t\t\t\t\t\\\n+  (VAR) = _name;\t\t\t\t\t\t\t\\\n+} while (0)\n \n /* This is how to output a reference to a user-level label named NAME.\n    `assemble_name' uses this.  */\n \n #undef ASM_OUTPUT_LABELREF\n #define ASM_OUTPUT_LABELREF(FILE,NAME)\t\\\n-  fputs ((NAME) + (NAME[0] == '@'), FILE)\n+do {\t\t\t\t\t\t\t\t\t\\\n+  char *_name = NAME;\t\t\t\t\t\t\t\\\n+  while (*_name == '*' || *_name == '@')\t\t\t\t\\\n+    _name++;\t\t\t\t\t\t\t\t\\\n+  fputs (_name, FILE);\t\t\t\t\t\t\t\\\n+} while (0)\n \n /* But, to make this work, we have to output the stabs for the function\n    name *first*...  */"}]}