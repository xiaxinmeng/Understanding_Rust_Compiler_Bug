{"sha": "c442c002227503e34372613f314d1e78579cb17a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ0MmMwMDIyMjc1MDNlMzQzNzI2MTNmMzE0ZDFlNzg1NzljYjE3YQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-06-02T16:38:05Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-06-02T16:38:05Z"}, "message": "re PR java/5913 (Core dump for String constant instanceof)\n\n\tFix for PR java/5913:\n\t* parse.y (patch_binop): Call patch_string on op1.\n\nFrom-SVN: r54174", "tree": {"sha": "7ee063f8af7cf0286b6498f0a769ce77d0b4a6c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ee063f8af7cf0286b6498f0a769ce77d0b4a6c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c442c002227503e34372613f314d1e78579cb17a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c442c002227503e34372613f314d1e78579cb17a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c442c002227503e34372613f314d1e78579cb17a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c442c002227503e34372613f314d1e78579cb17a/comments", "author": null, "committer": null, "parents": [{"sha": "48711f4da92595d5809dad475015809f2308ca71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48711f4da92595d5809dad475015809f2308ca71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48711f4da92595d5809dad475015809f2308ca71"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "1de79dfbe7c3910e6bc18685a8008b97a2fe165e", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c442c002227503e34372613f314d1e78579cb17a/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c442c002227503e34372613f314d1e78579cb17a/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=c442c002227503e34372613f314d1e78579cb17a", "patch": "@@ -1,3 +1,8 @@\n+2002-06-02  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR java/5913:\n+\t* parse.y (patch_binop): Call patch_string on op1.\n+\n 2002-06-02  Tom Tromey  <tromey@redhat.com>\n \n \tFix for PR java/1343, PR java/6336:"}, {"sha": "197816feb1263e1e48866286fd2221f6b549b133", "filename": "gcc/java/parse.y", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c442c002227503e34372613f314d1e78579cb17a/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c442c002227503e34372613f314d1e78579cb17a/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=c442c002227503e34372613f314d1e78579cb17a", "patch": "@@ -13538,6 +13538,15 @@ patch_binop (node, wfl_op1, wfl_op2)\n \n       TREE_TYPE (node) = boolean_type_node;\n \n+      /* OP1_TYPE might be NULL when OP1 is a string constant.  */\n+      if ((cn = patch_string (op1))) \n+\t{\n+\t  op1 = cn;\n+\t  op1_type = TREE_TYPE (op1);\n+\t}\n+      if (op1_type == NULL_TREE)\n+\tabort ();\n+\n       if (!(op2_type = resolve_type_during_patch (op2)))\n \treturn error_mark_node;\n "}]}