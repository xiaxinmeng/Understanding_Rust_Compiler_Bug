{"sha": "e80716de42ff3e6f5893af0c20bde051168b87e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTgwNzE2ZGU0MmZmM2U2ZjU4OTNhZjBjMjBiZGUwNTExNjhiODdlNg==", "commit": {"author": {"name": "Graham Stott", "email": "grahams@rcp.co.uk", "date": "1998-06-10T22:29:04Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-06-10T22:29:04Z"}, "message": "* c-decl.c (start_decl): Correct test for -Wmain.\n\nFrom-SVN: r20421", "tree": {"sha": "4d7351438a56352be617f1676b9c6c07c93203c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d7351438a56352be617f1676b9c6c07c93203c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e80716de42ff3e6f5893af0c20bde051168b87e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e80716de42ff3e6f5893af0c20bde051168b87e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e80716de42ff3e6f5893af0c20bde051168b87e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e80716de42ff3e6f5893af0c20bde051168b87e6/comments", "author": null, "committer": null, "parents": [{"sha": "e76e4a6842e855c0be437fcb1d0079e9323d8231", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e76e4a6842e855c0be437fcb1d0079e9323d8231", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e76e4a6842e855c0be437fcb1d0079e9323d8231"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "8940ad57f5241d2a77e7f7056a990bc2850a2aee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e80716de42ff3e6f5893af0c20bde051168b87e6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e80716de42ff3e6f5893af0c20bde051168b87e6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e80716de42ff3e6f5893af0c20bde051168b87e6", "patch": "@@ -1,3 +1,7 @@\n+Wed Jun 10 23:23:17 1998  Graham  <grahams@rcp.co.uk>\n+\n+\t* c-decl.c (start_decl): Correct test for -Wmain.\n+\n Wed Jun 10 14:52:27 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* expr.c (expand_builtin_setjmp): Store const1_rtx in target.\n@@ -15,7 +19,8 @@ Wed Jun 10 13:41:23 1998  Dave Brolley  <brolley@cygnus.com>\n \t* cppmain.c (fatal): New function.\n \t* configure.in (cpp_main): New configuration variable.\n \t* configure: Regenerated.\n-\t* Makefile.in (CCCP): Use a configuration variable to select base for cccp.\n+\t* Makefile.in (CCCP): Use a configuration variable to select basex\n+\tfor cccp.\n \t(cppmain$(exeext)): Add @extra_cpp_objs@.\n \n Wed Jun 10 13:07:02 1998  Dave Brolley  <brolley@cygnus.com>"}, {"sha": "dde17ad47740f53206f1b3e7d6ab9559e41d284d", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e80716de42ff3e6f5893af0c20bde051168b87e6/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e80716de42ff3e6f5893af0c20bde051168b87e6/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=e80716de42ff3e6f5893af0c20bde051168b87e6", "patch": "@@ -3690,7 +3690,8 @@ start_decl (declarator, declspecs, initialized, attributes, prefix_attributes)\n   /* The corresponding pop_obstacks is in finish_decl.  */\n   push_obstacks_nochange ();\n \n-  if (warn_main && !strcmp (IDENTIFIER_POINTER (declarator), \"main\"))\n+  if (warn_main && TREE_CODE (decl) != FUNCTION_DECL \n+      && !strcmp (IDENTIFIER_POINTER (DECL_NAME (decl)), \"main\"))\n     warning_with_decl (decl, \"`%s' is usually a function\");\n \n   if (initialized)"}]}