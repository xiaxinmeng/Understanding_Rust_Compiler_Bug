{"sha": "324e52cc5b57fdc9a0e529ae97cba33109a08791", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI0ZTUyY2M1YjU3ZmRjOWEwZTUyOWFlOTdjYmEzMzEwOWEwODc5MQ==", "commit": {"author": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1994-02-12T01:06:14Z"}, "committer": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1994-02-12T01:06:14Z"}, "message": "(definition of \"type\"): Add \"jmpreg\" as new type.\n\nChange \"mtlr\" to \"mtjmpr\".\n(movsi matcher): Pair `c' and `l' in the same constraint alternative.\n(return): Set attribute to \"jmpreg\".\n(indirect_jump): Likewise.\n\nFrom-SVN: r6534", "tree": {"sha": "70962808566cfd28e67afd70baa37f7f164b595d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70962808566cfd28e67afd70baa37f7f164b595d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/324e52cc5b57fdc9a0e529ae97cba33109a08791", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/324e52cc5b57fdc9a0e529ae97cba33109a08791", "html_url": "https://github.com/Rust-GCC/gccrs/commit/324e52cc5b57fdc9a0e529ae97cba33109a08791", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/324e52cc5b57fdc9a0e529ae97cba33109a08791/comments", "author": null, "committer": null, "parents": [{"sha": "5c5e36c5446aaa7a3ead6385a100ad76bf2a42a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c5e36c5446aaa7a3ead6385a100ad76bf2a42a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c5e36c5446aaa7a3ead6385a100ad76bf2a42a8"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "b4814630c9e65e5fedb3f85c9bdde30c867b6478", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/324e52cc5b57fdc9a0e529ae97cba33109a08791/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/324e52cc5b57fdc9a0e529ae97cba33109a08791/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=324e52cc5b57fdc9a0e529ae97cba33109a08791", "patch": "@@ -22,7 +22,7 @@\n \f\n ;; Define an insn type attribute.  This is used in function unit delay\n ;; computations.\n-(define_attr \"type\" \"integer,load,fpload,imul,idiv,branch,compare,delayed_compare,fpcompare,mtlr,fp,dmul,sdiv,ddiv,ssqrt,dsqrt\"\n+(define_attr \"type\" \"integer,load,fpload,imul,idiv,branch,compare,delayed_compare,fpcompare,mtjmpr,fp,dmul,sdiv,ddiv,ssqrt,dsqrt,jmpreg\"\n   (const_string \"integer\"))\n \n ;; Length (in bytes).\n@@ -104,12 +104,12 @@\n   4 0)\n \n (define_function_unit \"bpu\" 1 0\n-  (and (eq_attr \"type\" \"mtlr\")\n+  (and (eq_attr \"type\" \"mtjmpr\")\n        (eq_attr \"cpu\" \"rios1,rios2\"))\n   5 0)\n \n (define_function_unit \"bpu\" 1 0\n-  (and (eq_attr \"type\" \"mtlr\")\n+  (and (eq_attr \"type\" \"mtjmpr\")\n        (eq_attr \"cpu\" \"ppc601,ppc603,ppc604,ppc620\"))\n   4 0)\n \n@@ -2866,7 +2866,7 @@\n }\")\n \n (define_insn \"\"\n-  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=r,r,m,r,r,r,*c*q,*l,*h\")\n+  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=r,r,m,r,r,r,*q,*c*l,*h\")\n \t(match_operand:SI 1 \"input_operand\" \"r,m,r,I,J,*h,r,r,0\"))]\n   \"TARGET_POWER && (gpc_reg_operand (operands[0], SImode)\n    || gpc_reg_operand (operands[1], SImode))\"\n@@ -2880,7 +2880,7 @@\n    mt%0 %1\n    mt%0 %1\n    cror 0,0,0\"\n-  [(set_attr \"type\" \"*,load,*,*,*,*,*,mtlr,*\")])\n+  [(set_attr \"type\" \"*,load,*,*,*,*,*,mtjmpr,*\")])\n \n (define_insn \"\"\n   [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=r,r,m,r,r,r,*h\")\n@@ -5492,14 +5492,16 @@\n (define_insn \"return\"\n   [(return)]\n   \"direct_return ()\"\n-  \"{br|blr}\")\n+  \"{br|blr}\"\n+  [(set_attr \"type\" \"jmpreg\")])\n \n (define_insn \"indirect_jump\"\n   [(set (pc) (match_operand:SI 0 \"register_operand\" \"c,l\"))]\n   \"\"\n   \"@\n    bctr\n-   {br|blr}\")\n+   {br|blr}\"\n+  [(set_attr \"type\" \"jmpreg\")])\n \n ;; Table jump for switch statements:\n (define_expand \"tablejump\""}]}