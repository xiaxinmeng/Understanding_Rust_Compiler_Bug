{"sha": "24e6e6b1c96253c78a206e57850e0c250772d293", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRlNmU2YjFjOTYyNTNjNzhhMjA2ZTU3ODUwZTBjMjUwNzcyZDI5Mw==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2011-03-22T22:40:52Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2011-03-22T22:40:52Z"}, "message": "microblaze.c: Don't include opts.h.\n\n\t* config/microblaze/microblaze.c: Don't include opts.h.\n\t(microblaze_handle_option, TARGET_HANDLE_OPTION): Remove.\n\t* config/microblaze/microblaze.opt (mxl-stack-check): Use Warn.\n\t(mno-clearbss): Use Var and Warn.\n\nFrom-SVN: r171322", "tree": {"sha": "d7d35a8ca8dcf02d23365b50f463376e9ec84d31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7d35a8ca8dcf02d23365b50f463376e9ec84d31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24e6e6b1c96253c78a206e57850e0c250772d293", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24e6e6b1c96253c78a206e57850e0c250772d293", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24e6e6b1c96253c78a206e57850e0c250772d293", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24e6e6b1c96253c78a206e57850e0c250772d293/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a784afb456e612326d285a9f5bc5d2a1687fa29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a784afb456e612326d285a9f5bc5d2a1687fa29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a784afb456e612326d285a9f5bc5d2a1687fa29"}], "stats": {"total": 39, "additions": 9, "deletions": 30}, "files": [{"sha": "21dee109a1669949a62c2b098ad52a6a5b716df0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24e6e6b1c96253c78a206e57850e0c250772d293/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24e6e6b1c96253c78a206e57850e0c250772d293/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=24e6e6b1c96253c78a206e57850e0c250772d293", "patch": "@@ -1,3 +1,10 @@\n+2011-03-22  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* config/microblaze/microblaze.c: Don't include opts.h.\n+\t(microblaze_handle_option, TARGET_HANDLE_OPTION): Remove.\n+\t* config/microblaze/microblaze.opt (mxl-stack-check): Use Warn.\n+\t(mno-clearbss): Use Var and Warn.\n+\n 2011-03-22  Joseph Myers  <joseph@codesourcery.com>\n \n \t* config/m32r/m32r-opts.h: New."}, {"sha": "468cfd33089d3ec49a13b8d807f79962fb3b4d83", "filename": "gcc/config/microblaze/microblaze.c", "status": "modified", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24e6e6b1c96253c78a206e57850e0c250772d293/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24e6e6b1c96253c78a206e57850e0c250772d293/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.c?ref=24e6e6b1c96253c78a206e57850e0c250772d293", "patch": "@@ -48,7 +48,6 @@\n #include \"df.h\"\n #include \"optabs.h\"\n #include \"diagnostic-core.h\"\n-#include \"opts.h\"\n \n #define MICROBLAZE_VERSION_COMPARE(VA,VB) strcasecmp (VA, VB)\n \n@@ -1276,30 +1275,6 @@ microblaze_version_to_int (const char *version)\n   return iver;\n }\n \n-static bool\n-microblaze_handle_option (struct gcc_options *opts,\n-\t\t\t  struct gcc_options *opts_set,\n-\t\t\t  const struct cl_decoded_option *decoded,\n-\t\t\t  location_t loc ATTRIBUTE_UNUSED)\n-{\n-  size_t code = decoded->opt_index;\n-\n-  gcc_assert (opts == &global_options);\n-  gcc_assert (opts_set == &global_options_set);\n-\n-  switch (code)\n-    {\n-    case OPT_mno_clearbss:\n-      flag_zero_initialized_in_bss = 0;\n-      warning (0, \"-mno-clearbss is deprecated; use -fno-zero-initialized-in-bss\");\n-      break;\n-    case OPT_mxl_stack_check:\n-      warning (0, \"-mxl_stack_check is deprecated; use -fstack-check\");\n-      break;\n-    }\n-  return true;\n-}\n-\n \n static void\n microblaze_option_override (void)\n@@ -3011,9 +2986,6 @@ microblaze_adjust_cost (rtx insn ATTRIBUTE_UNUSED, rtx link,\n #define TARGET_ASM_FUNCTION_END_PROLOGUE \\\n                                         microblaze_function_end_prologue\n \n-#undef TARGET_HANDLE_OPTION\n-#define TARGET_HANDLE_OPTION\t\tmicroblaze_handle_option\n-\n #undef TARGET_DEFAULT_TARGET_FLAGS\n #define TARGET_DEFAULT_TARGET_FLAGS\tTARGET_DEFAULT\n "}, {"sha": "74199fb11c680562b022103029e9076a1ed4fe75", "filename": "gcc/config/microblaze/microblaze.opt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24e6e6b1c96253c78a206e57850e0c250772d293/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24e6e6b1c96253c78a206e57850e0c250772d293/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.opt?ref=24e6e6b1c96253c78a206e57850e0c250772d293", "patch": "@@ -72,15 +72,15 @@ Target Mask(PATTERN_COMPARE)\n Use pattern compare instructions\n \n mxl-stack-check\n-Target Mask(STACK_CHECK)\n+Target Mask(STACK_CHECK) Warn(%qs is deprecated; use -fstack-check)\n Check for stack overflow at runtime\n \n mxl-gp-opt\n Target Mask(XLGPOPT)\n Use GP relative sdata/sbss sections\n \n mno-clearbss\n-Target RejectNegative\n+Target RejectNegative Var(flag_zero_initialized_in_bss, 0) Warn(%qs is deprecated; use -fno-zero-initialized-in-bss)\n Clear the BSS to zero and place zero initialized in BSS\n \n mxl-multiply-high"}]}