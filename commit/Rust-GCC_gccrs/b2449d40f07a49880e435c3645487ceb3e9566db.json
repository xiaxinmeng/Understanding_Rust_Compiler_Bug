{"sha": "b2449d40f07a49880e435c3645487ceb3e9566db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjI0NDlkNDBmMDdhNDk4ODBlNDM1YzM2NDU0ODdjZWIzZTk1NjZkYg==", "commit": {"author": {"name": "Craig Rodrigues", "email": "rodrigc@gcc.gnu.org", "date": "2007-10-23T23:53:31Z"}, "committer": {"name": "Craig Rodrigues", "email": "rodrigc@gcc.gnu.org", "date": "2007-10-23T23:53:31Z"}, "message": "config.gcc: For a FreeBSD target...\n\n\t* config.gcc: For a FreeBSD target, parse the value of ${target}\n\tto determine the value of FBSD_MAJOR, instead of adding an\n\texplicit check for every possible FreeBSD major version.\n\nFrom-SVN: r129590", "tree": {"sha": "fc804b5df118f4013a957d73c03f744ffbcb0bce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc804b5df118f4013a957d73c03f744ffbcb0bce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2449d40f07a49880e435c3645487ceb3e9566db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2449d40f07a49880e435c3645487ceb3e9566db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2449d40f07a49880e435c3645487ceb3e9566db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2449d40f07a49880e435c3645487ceb3e9566db/comments", "author": null, "committer": null, "parents": [{"sha": "881ef7be466c6ff0a88bd2a7be3bb91008388795", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/881ef7be466c6ff0a88bd2a7be3bb91008388795", "html_url": "https://github.com/Rust-GCC/gccrs/commit/881ef7be466c6ff0a88bd2a7be3bb91008388795"}], "stats": {"total": 28, "additions": 8, "deletions": 20}, "files": [{"sha": "410bcbd75e10973a5432cde5bcffe2aac14a581b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2449d40f07a49880e435c3645487ceb3e9566db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2449d40f07a49880e435c3645487ceb3e9566db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b2449d40f07a49880e435c3645487ceb3e9566db", "patch": "@@ -1,3 +1,9 @@\n+2007-10-23  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n+\n+\t* config.gcc: For a FreeBSD target, parse the value of ${target}\n+\tto determine the value of FBSD_MAJOR, instead of adding an\n+\texplicit check for every possible FreeBSD major version.\n+\n 2007-10-23  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR rtl-optimization/33846"}, {"sha": "3c23c257e4f1b58195b497243804cd95e50cf9b2", "filename": "gcc/config.gcc", "status": "modified", "additions": 2, "deletions": 20, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2449d40f07a49880e435c3645487ceb3e9566db/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2449d40f07a49880e435c3645487ceb3e9566db/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=b2449d40f07a49880e435c3645487ceb3e9566db", "patch": "@@ -430,26 +430,8 @@ case ${target} in\n   gas=yes\n   gnu_ld=yes\n   extra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n-  case ${target} in\n-    *-*-freebsd3 | *-*-freebsd[3].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=3\" ;;\n-    *-*-freebsd4 | *-*-freebsd[4].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=4\" ;;\n-    *-*-freebsd5 | *-*-freebsd[5].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=5\" ;;\n-    *-*-freebsd6 | *-*-freebsd[6].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=6\" ;;\n-    *-*-freebsd7 | *-*-freebsd[7].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=7\" ;;\n-    *-*-freebsd8 | *-*-freebsd[8].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=8\" ;;\n-    *-*-freebsd9 | *-*-freebsd[9].*)\n-      tm_defines=\"${tm_defines} FBSD_MAJOR=9\" ;;\n-    *)\n-      echo 'Please update *-*-freebsd* in gcc/config.gcc'\n-      exit 1\n-      ;;\n-  esac\n+  fbsd_major=`echo ${target} | sed -e 's/.*freebsd//g' | sed -e 's/\\..*//g'`\n+  tm_defines=\"${tm_defines} FBSD_MAJOR=${fbsd_major}\"\n   tmake_file=\"t-slibgcc-elf-ver t-freebsd\"\n   case ${enable_threads} in\n     no)"}]}