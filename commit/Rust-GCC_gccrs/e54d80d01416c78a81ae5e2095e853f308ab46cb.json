{"sha": "e54d80d01416c78a81ae5e2095e853f308ab46cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTU0ZDgwZDAxNDE2Yzc4YTgxYWU1ZTIwOTVlODUzZjMwOGFiNDZjYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-05-06T09:47:46Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-05-06T09:47:46Z"}, "message": "(store_split_bit_field): Properly handle VALUE when it is a\nCONST_DOUBLE.\n\nFrom-SVN: r4354", "tree": {"sha": "34060f0925b4b8b8ef4e0f6212066f108f687cd0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34060f0925b4b8b8ef4e0f6212066f108f687cd0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e54d80d01416c78a81ae5e2095e853f308ab46cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e54d80d01416c78a81ae5e2095e853f308ab46cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e54d80d01416c78a81ae5e2095e853f308ab46cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e54d80d01416c78a81ae5e2095e853f308ab46cb/comments", "author": null, "committer": null, "parents": [{"sha": "772ae9f018e47a61c32568babd238c4df4b8f521", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/772ae9f018e47a61c32568babd238c4df4b8f521", "html_url": "https://github.com/Rust-GCC/gccrs/commit/772ae9f018e47a61c32568babd238c4df4b8f521"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "faa48431b99015700125a07973670aa9a713d33a", "filename": "gcc/expmed.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e54d80d01416c78a81ae5e2095e853f308ab46cb/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e54d80d01416c78a81ae5e2095e853f308ab46cb/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=e54d80d01416c78a81ae5e2095e853f308ab46cb", "patch": "@@ -1,6 +1,6 @@\n /* Medium-level subroutines: convert bit-field store and extract\n    and shifts, multiplies and divides to rtl instructions.\n-   Copyright (C) 1987, 1988, 1989, 1992 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 1988, 1989, 1992, 1993 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -680,8 +680,13 @@ store_split_bit_field (op0, bitsize, bitpos, value, align)\n \n   if (GET_MODE (value) != VOIDmode)\n     value = convert_to_mode (word_mode, value, 1);\n+\n+  if (GET_CODE (value) == CONST_DOUBLE\n+      && (part1 = gen_lowpart_common (word_mode, value)) != 0)\n+    value = part1;\n+\n   if (CONSTANT_P (value) && GET_CODE (value) != CONST_INT)\n-    value = copy_to_reg (value);\n+    value = copy_to_mode_reg (word_mode, value);\n \n   /* Split the value into two parts:\n      PART1 gets that which goes in the first word; PART2 the other.  */"}]}