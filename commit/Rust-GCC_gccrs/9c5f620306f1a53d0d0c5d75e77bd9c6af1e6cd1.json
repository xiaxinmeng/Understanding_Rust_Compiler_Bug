{"sha": "9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWM1ZjYyMDMwNmYxYTUzZDBkMGM1ZDc1ZTc3YmQ5YzZhZjFlNmNkMQ==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2014-05-20T19:59:45Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2014-05-20T19:59:45Z"}, "message": "msp430.md (split): Don't allow subregs when splitting SImode adds.\n\n* config/msp430/msp430.md (split): Don't allow subregs when\nsplitting SImode adds.\n(andneghi): Fix subtraction logic.\n* config/msp430/predicates.md (msp430_nonsubreg_or_imm_operand): New.\n\nFrom-SVN: r210655", "tree": {"sha": "b2f3e89e682f8cc940d1f11a2d0d0e9a84d8c600", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2f3e89e682f8cc940d1f11a2d0d0e9a84d8c600"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/comments", "author": null, "committer": null, "parents": [{"sha": "cf288ed3b8b0cdfee1c03a7dfb2d371b5b7e3147", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf288ed3b8b0cdfee1c03a7dfb2d371b5b7e3147", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf288ed3b8b0cdfee1c03a7dfb2d371b5b7e3147"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "98902663dfe8bafeee6e0622f292d6ad226c32ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "patch": "@@ -1,3 +1,10 @@\n+2014-05-20  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/msp430/msp430.md (split): Don't allow subregs when\n+\tsplitting SImode adds.\n+\t(andneghi): Fix subtraction logic.\n+\t* config/msp430/predicates.md (msp430_nonsubreg_or_imm_operand): New.\n+\n 2014-05-20  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* tree.h (DECL_ONE_ONLY): Return true only for externally visible"}, {"sha": "d2cc0d631703b8633d8e3cc067651d2cdc6f98c5", "filename": "gcc/config/msp430/msp430.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/gcc%2Fconfig%2Fmsp430%2Fmsp430.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/gcc%2Fconfig%2Fmsp430%2Fmsp430.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmsp430%2Fmsp430.md?ref=9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "patch": "@@ -371,8 +371,8 @@\n ; halves.\n (define_split\n   [(set (match_operand:SI          0 \"msp430_nonsubreg_operand\")\n-\t(plus:SI (match_operand:SI 1 \"nonimmediate_operand\")\n-\t\t (match_operand:SI 2 \"general_operand\")))\n+\t(plus:SI (match_operand:SI 1 \"msp430_nonsubreg_operand\")\n+\t\t (match_operand:SI 2 \"msp430_nonsubreg_or_imm_operand\")))\n    ]\n   \"\"\n   [(parallel [(set (match_operand:HI 3 \"nonimmediate_operand\" \"=&rm\")\n@@ -1326,9 +1326,9 @@\n   \"\"\n   \"*\n     if (REGNO (operands[0]) != REGNO (operands[1]))\n-      return \\\"MOV.W\\t%1, %0 { SUB.W\\t#0, %0 { AND.W\\t%2, %0\\\";\n+      return \\\"MOV.W\\t%1, %0 { INV.W\\t%0 { INC.W\\t%0 { AND.W\\t%2, %0\\\";\n     else\n-      return \\\"SUB.W\\t#0, %0 { AND.W\\t%2, %0\\\";\n+      return \\\"INV.W\\t%0 { INC.W\\t%0 { AND.W\\t%2, %0\\\";\n   \"\n   )\n "}, {"sha": "94a628cd5c42ec6feaf463efac2c4c7417d2ee75", "filename": "gcc/config/msp430/predicates.md", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/gcc%2Fconfig%2Fmsp430%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1/gcc%2Fconfig%2Fmsp430%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmsp430%2Fpredicates.md?ref=9c5f620306f1a53d0d0c5d75e77bd9c6af1e6cd1", "patch": "@@ -73,6 +73,10 @@\n (define_predicate \"msp430_nonsubreg_operand\"\n   (match_code \"reg,mem\"))\n \n+(define_predicate \"msp430_nonsubreg_or_imm_operand\"\n+  (ior (match_operand 0 \"msp430_nonsubreg_operand\")\n+       (match_operand 0 \"immediate_operand\")))\n+\n ; TRUE for constants which are bit positions for zero_extract\n (define_predicate \"msp430_bitpos\"\n   (and (match_code \"const_int\")"}]}