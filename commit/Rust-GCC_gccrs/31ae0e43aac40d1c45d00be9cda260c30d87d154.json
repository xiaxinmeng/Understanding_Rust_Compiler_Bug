{"sha": "31ae0e43aac40d1c45d00be9cda260c30d87d154", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFhZTBlNDNhYWM0MGQxYzQ1ZDAwYmU5Y2RhMjYwYzMwZDg3ZDE1NA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2017-12-21T07:01:17Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2017-12-21T07:01:17Z"}, "message": "poly_int: emit_inc\n\nThis patch changes the LRA emit_inc routine so that it takes\na poly_int64 rather than an int.\n\n2017-12-21  Richard Sandiford  <richard.sandiford@linaro.org>\n\t    Alan Hayward  <alan.hayward@arm.com>\n\t    David Sherwood  <david.sherwood@arm.com>\n\ngcc/\n\t* lra-constraints.c (emit_inc): Change inc_amount from an int\n\tto a poly_int64.\n\nCo-Authored-By: Alan Hayward <alan.hayward@arm.com>\nCo-Authored-By: David Sherwood <david.sherwood@arm.com>\n\nFrom-SVN: r255923", "tree": {"sha": "9017583d11ad940833a5b13cb2b820f92e05c7d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9017583d11ad940833a5b13cb2b820f92e05c7d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31ae0e43aac40d1c45d00be9cda260c30d87d154", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31ae0e43aac40d1c45d00be9cda260c30d87d154", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31ae0e43aac40d1c45d00be9cda260c30d87d154", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31ae0e43aac40d1c45d00be9cda260c30d87d154/comments", "author": null, "committer": null, "parents": [{"sha": "5e48d89420f8b16c1eddb9b568c4fee74eefbd45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e48d89420f8b16c1eddb9b568c4fee74eefbd45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e48d89420f8b16c1eddb9b568c4fee74eefbd45"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "f633487e528844f294396698cd61892e927c9baa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31ae0e43aac40d1c45d00be9cda260c30d87d154/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31ae0e43aac40d1c45d00be9cda260c30d87d154/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=31ae0e43aac40d1c45d00be9cda260c30d87d154", "patch": "@@ -1,3 +1,10 @@\n+2017-12-21  Richard Sandiford  <richard.sandiford@linaro.org>\n+\t    Alan Hayward  <alan.hayward@arm.com>\n+\t    David Sherwood  <david.sherwood@arm.com>\n+\n+\t* lra-constraints.c (emit_inc): Change inc_amount from an int\n+\tto a poly_int64.\n+\n 2017-12-21  Richard Sandiford  <richard.sandiford@linaro.org>\n \t    Alan Hayward  <alan.hayward@arm.com>\n \t    David Sherwood  <david.sherwood@arm.com>"}, {"sha": "73ffba2c75fc2cd85c42e275224013f05d35e337", "filename": "gcc/lra-constraints.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31ae0e43aac40d1c45d00be9cda260c30d87d154/gcc%2Flra-constraints.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31ae0e43aac40d1c45d00be9cda260c30d87d154/gcc%2Flra-constraints.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra-constraints.c?ref=31ae0e43aac40d1c45d00be9cda260c30d87d154", "patch": "@@ -3534,7 +3534,7 @@ process_address (int nop, bool check_only_p,\n \n    Return pseudo containing the result.\t */\n static rtx\n-emit_inc (enum reg_class new_rclass, rtx in, rtx value, int inc_amount)\n+emit_inc (enum reg_class new_rclass, rtx in, rtx value, poly_int64 inc_amount)\n {\n   /* REG or MEM to be copied and incremented.  */\n   rtx incloc = XEXP (value, 0);\n@@ -3562,7 +3562,7 @@ emit_inc (enum reg_class new_rclass, rtx in, rtx value, int inc_amount)\n       if (GET_CODE (value) == PRE_DEC || GET_CODE (value) == POST_DEC)\n \tinc_amount = -inc_amount;\n \n-      inc = GEN_INT (inc_amount);\n+      inc = gen_int_mode (inc_amount, GET_MODE (value));\n     }\n \n   if (! post && REG_P (incloc))"}]}