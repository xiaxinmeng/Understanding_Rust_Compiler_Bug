{"sha": "84b77fbac21bc09d4ed02a35547b1a72e60aacfb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRiNzdmYmFjMjFiYzA5ZDRlZDAyYTM1NTQ3YjFhNzJlNjBhYWNmYg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-04-18T18:36:11Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-04-18T18:36:11Z"}, "message": "Patch from Ulrich to fix problems with default CPU defines.\n\n\t* i386.h (CPP_CPU_DEFAULT): Renamed to CPP_CPU_DEFAULT_SPEC.\n\tAdd missing -Dpentium* options.\n\t(CPP_CPU_SPEC): Delete redundant definition.  Include cpp_cpu_default\n\tinstead of CPP_CPU_DEFAULT.\n\t(EXTRA_SPECS): Add entry for cpp_cpu_default.\n\nFrom-SVN: r19284", "tree": {"sha": "67a8826d6d883ca86b2beafd5b72348e6d5fd4a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67a8826d6d883ca86b2beafd5b72348e6d5fd4a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84b77fbac21bc09d4ed02a35547b1a72e60aacfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84b77fbac21bc09d4ed02a35547b1a72e60aacfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84b77fbac21bc09d4ed02a35547b1a72e60aacfb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84b77fbac21bc09d4ed02a35547b1a72e60aacfb/comments", "author": null, "committer": null, "parents": [{"sha": "db72d7a1d62b2034c01d0ac725a27e887957486d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db72d7a1d62b2034c01d0ac725a27e887957486d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db72d7a1d62b2034c01d0ac725a27e887957486d"}], "stats": {"total": 37, "additions": 20, "deletions": 17}, "files": [{"sha": "37aed52ba5375d4cff62ada8387fd102f1aa8b6d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b77fbac21bc09d4ed02a35547b1a72e60aacfb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b77fbac21bc09d4ed02a35547b1a72e60aacfb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=84b77fbac21bc09d4ed02a35547b1a72e60aacfb", "patch": "@@ -1,3 +1,11 @@\n+Sat Apr 18 18:30:22 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* i386.h (CPP_CPU_DEFAULT): Renamed to CPP_CPU_DEFAULT_SPEC.\n+\tAdd missing -Dpentium* options.\n+\t(CPP_CPU_SPEC): Delete redundant definition.  Include cpp_cpu_default\n+\tinstead of CPP_CPU_DEFAULT.\n+\t(EXTRA_SPECS): Add entry for cpp_cpu_default.\n+\n Sat Apr 18 19:06:59 1998  David Edelsohn  <edelsohn@mhpcc.edu>\n \n \t* rs6000.md (floatsidf2_loadaddr): rs6000_fpmem_offset will be"}, {"sha": "00ae6bb644a51dbb09ad217f8558ca8806098896", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 12, "deletions": 17, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b77fbac21bc09d4ed02a35547b1a72e60aacfb/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b77fbac21bc09d4ed02a35547b1a72e60aacfb/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=84b77fbac21bc09d4ed02a35547b1a72e60aacfb", "patch": "@@ -304,36 +304,30 @@ extern int ix86_arch;\n %{mpentiumpro:-mcpu=pentiumpro}}\"\n #endif\n \f\n-#ifndef CPP_CPU_SPEC\n-#ifdef __STDC__\n+#ifndef CPP_CPU_DEFAULT_SPEC\n #if TARGET_CPU_DEFAULT == 1\n-#define CPP_CPU_DEFAULT \"-Di486\"\n+#define CPP_CPU_DEFAULT_SPEC \"-Di486\"\n #else\n #if TARGET_CPU_DEFAULT == 2\n-#define CPP_CPU_DEFAULT \"-Di586\"\n+#define CPP_CPU_DEFAULT_SPEC \"-Dpentium -Di586\"\n #else\n #if TARGET_CPU_DEFAULT == 3\n-#define CPP_CPU_DEFAULT \"-Di686\"\n+#define CPP_CPU_DEFAULT_SPEC \"-Dpentiumpro -Di686\"\n #else\n-#define CPP_CPU_DEFAULT \"\"\n+#define CPP_CPU_DEFAULT_SPEC \"\"\n #endif\n #endif\n-#endif /* TARGET_CPU_DEFAULT */\n-\n-#define CPP_CPU_SPEC \"\\\n--Di386 \" CPP_CPU_DEFAULT \" -Asystem(unix) -Acpu(i386) -Amachine(i386) \\\n-%{mcpu=i486:-Di486} %{m486:-Di486} \\\n-%{mpentium:-Dpentium -Di586} %{mcpu=pentium:-Dpentium -Di586} \\\n-%{mpentiumpro:-Dpentiumpro -Di686} %{mcpu=pentiumpro:-Dpentiumpro -Di686}\"\n+#endif\n+#endif /* CPP_CPU_DEFAULT_SPEC */\n \n-#else\n+#ifndef CPP_CPU_SPEC\n #define CPP_CPU_SPEC \"\\\n -Di386 -Asystem(unix) -Acpu(i386) -Amachine(i386) \\\n %{mcpu=i486:-Di486} %{m486:-Di486} \\\n %{mpentium:-Dpentium -Di586} %{mcpu=pentium:-Dpentium -Di586} \\\n-%{mpentiumpro:-Dpentiumpro -Di686} %{mcpu=pentiumpro:-Dpentiumpro -Di686}\"\n-#endif /* __STDC__ */\n-#endif /* CPP_CPU_SPEC */\n+%{mpentiumpro:-Dpentiumpro -Di686} %{mcpu=pentiumpro:-Dpentiumpro -Di686} \\\n+%{!mcpu*:%{!m486:%{!mpentium*: %[cpp_cpu_default]}}}\"\n+#endif\n \n #ifndef CC1_SPEC\n #define CC1_SPEC \"%(cc1_spec) \"\n@@ -354,6 +348,7 @@ extern int ix86_arch;\n #endif\n \n #define EXTRA_SPECS\t\t\t\t\t\t\t\\\n+  { \"cpp_cpu_default\",\tCPP_CPU_DEFAULT_SPEC },\t\t\t\t\\\n   { \"cpp_cpu\",\tCPP_CPU_SPEC },\t\t\t\t\t\t\\\n   { \"cc1_cpu\",  CC1_CPU_SPEC },\t\t\t\t\t\t\\\n   SUBTARGET_EXTRA_SPECS"}]}