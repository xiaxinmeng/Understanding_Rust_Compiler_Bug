{"sha": "1b1a188198d510bc7400386c9f7fea650d1d7aba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIxYTE4ODE5OGQ1MTBiYzc0MDAzODZjOWY3ZmVhNjUwZDFkN2FiYQ==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2018-03-08T00:56:07Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@gcc.gnu.org", "date": "2018-03-08T00:56:07Z"}, "message": "PR tree-optimization/83519 - missing -Wrestrict on an overlapping strcpy to a non-member array\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/Wrestrict-13.c: New test.\n\nFrom-SVN: r258348", "tree": {"sha": "1f7052a6c16f3baef2d15cb459d1f35748a9b52c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f7052a6c16f3baef2d15cb459d1f35748a9b52c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b1a188198d510bc7400386c9f7fea650d1d7aba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b1a188198d510bc7400386c9f7fea650d1d7aba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b1a188198d510bc7400386c9f7fea650d1d7aba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b1a188198d510bc7400386c9f7fea650d1d7aba/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "00df7c36f5c0d082f3ac4f240546d3c4d4812fdd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00df7c36f5c0d082f3ac4f240546d3c4d4812fdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00df7c36f5c0d082f3ac4f240546d3c4d4812fdd"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "a6f89e15dcf1c7bfda3475458860b7bfb333c6b5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b1a188198d510bc7400386c9f7fea650d1d7aba/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b1a188198d510bc7400386c9f7fea650d1d7aba/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1b1a188198d510bc7400386c9f7fea650d1d7aba", "patch": "@@ -1,3 +1,8 @@\n+2018-03-07  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR tree-optimization/83519\n+\t* gcc.dg/Wrestrict-13.c: New test.\n+\n 2018-03-07  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/64124\n@@ -10,6 +15,11 @@\n \tPR target/82411\n \t* gcc.target/powerpc/ppc-sdata-2.c: Skip if -mno-readonly-in-sdata.\n \n+2018-03-07  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR tree-optimization/84526\n+\t* gcc.dg/Wrestrict-10.c: New test.\n+\n 2018-03-07  Martin Sebor  <msebor@redhat.com>\n \n \tPR tree-optimization/84468"}, {"sha": "e4f00c7f2fb2c44cebd30a3856d81c36e2515b8e", "filename": "gcc/testsuite/gcc.dg/Wrestrict-13.c", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b1a188198d510bc7400386c9f7fea650d1d7aba/gcc%2Ftestsuite%2Fgcc.dg%2FWrestrict-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b1a188198d510bc7400386c9f7fea650d1d7aba/gcc%2Ftestsuite%2Fgcc.dg%2FWrestrict-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWrestrict-13.c?ref=1b1a188198d510bc7400386c9f7fea650d1d7aba", "patch": "@@ -0,0 +1,36 @@\n+/* PR tree-optimization/83519 - missing -Wrestrict on an overlapping\n+   strcpy to a non-member array\n+   { dg-do compile }\n+   { dg-options \"-O2 -Wall -Wrestrict\" }  */\n+\n+extern char* stpcpy (char*, const char*);   // work around bug 82429\n+\n+struct S { char a[17]; };\n+\n+void f (struct S *p, const char *s)\n+{\n+  __builtin_strcpy (p->a, \"0123456789abcdef\");\n+\n+  __builtin_strcpy (p->a, p->a + 4);    /* { dg-warning \"\\\\\\[-Wrestrict]\" } */\n+}\n+\n+char a[17];\n+\n+void g (const char *s)\n+{\n+  __builtin_strcpy (a, \"0123456789abcdef\");\n+\n+  __builtin_strcpy (a, a + 4);          /* { dg-warning \"\\\\\\[-Wrestrict]\" } */\n+}\n+\n+void h (const char *s)\n+{\n+   char a[17];\n+\n+  __builtin_strcpy (a, \"0123456789abcdef\");\n+\n+  __builtin_strcpy (a, a + 4);          /* { dg-warning \"\\\\\\[-Wrestrict]\" } */\n+\n+  extern void sink (void*);\n+  sink (a);\n+}"}]}