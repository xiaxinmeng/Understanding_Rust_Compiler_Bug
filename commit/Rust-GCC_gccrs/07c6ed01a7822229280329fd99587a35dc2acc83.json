{"sha": "07c6ed01a7822229280329fd99587a35dc2acc83", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdjNmVkMDFhNzgyMjIyOTI4MDMyOWZkOTk1ODdhMzVkYzJhY2M4Mw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2019-08-13T08:07:03Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-08-13T08:07:03Z"}, "message": "[Ada] Systematically pass LN_S to relevant gnatlib targets\n\n2019-08-13  Arnaud Charlet  <charlet@adacore.com>\n\ngcc/ada/\n\n\t* gcc-interface/Make-lang.in: Remove unused TRACE variable. Pass\n\tLN_S to relevant gnatlib targets.\n\t* gcc-interface/Makefile.in: Systematically pass LN_S to\n\trelevant gnatlib targets.\n\nFrom-SVN: r274340", "tree": {"sha": "58b93ba20869a1d2197da1e1269345da3d88dd17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58b93ba20869a1d2197da1e1269345da3d88dd17"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07c6ed01a7822229280329fd99587a35dc2acc83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07c6ed01a7822229280329fd99587a35dc2acc83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07c6ed01a7822229280329fd99587a35dc2acc83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07c6ed01a7822229280329fd99587a35dc2acc83/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fa0c3ab8c54e8cba46c26c3d29f3e7be435e126a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa0c3ab8c54e8cba46c26c3d29f3e7be435e126a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa0c3ab8c54e8cba46c26c3d29f3e7be435e126a"}], "stats": {"total": 35, "additions": 26, "deletions": 9}, "files": [{"sha": "a67cc5d5b7796e44348fcbe93fbd9aa56e32ff4a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07c6ed01a7822229280329fd99587a35dc2acc83/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07c6ed01a7822229280329fd99587a35dc2acc83/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=07c6ed01a7822229280329fd99587a35dc2acc83", "patch": "@@ -1,3 +1,10 @@\n+2019-08-13  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gcc-interface/Make-lang.in: Remove unused TRACE variable. Pass\n+\tLN_S to relevant gnatlib targets.\n+\t* gcc-interface/Makefile.in: Systematically pass LN_S to\n+\trelevant gnatlib targets.\n+\n 2019-08-13  Yannick Moy  <moy@adacore.com>\n \n \t* sem_dim.adb (Analyze_Dimension,"}, {"sha": "df5f0b3373b81ca604d03459e6a993bc708d9fa1", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07c6ed01a7822229280329fd99587a35dc2acc83/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07c6ed01a7822229280329fd99587a35dc2acc83/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=07c6ed01a7822229280329fd99587a35dc2acc83", "patch": "@@ -74,7 +74,6 @@ GNATLIBCFLAGS= -g -O2 $(TCFLAGS)\n ADA_INCLUDE_DIR = $(libsubdir)/adainclude\n ADA_RTL_OBJ_DIR = $(libsubdir)/adalib\n THREAD_KIND=native\n-TRACE=no\n # We do not want the WARN_CFLAGS of the compiler in Ada as it is for C/C++.\n COMMON_FLAGS_TO_PASS = $(filter-out $(WARN_CFLAGS), $(FLAGS_TO_PASS))\n ADA_FLAGS_TO_PASS = \\\n@@ -701,7 +700,7 @@ gnatlib gnatlib-sjlj gnatlib-zcx gnatlib-shared: force\n \t   GNATLIBCFLAGS=\"$(GNATLIBCFLAGS)\" \\\n \t   TARGET_LIBGCC2_CFLAGS=\"$(TARGET_LIBGCC2_CFLAGS)\" \\\n \t   THREAD_KIND=\"$(THREAD_KIND)\" \\\n-\t   TRACE=\"$(TRACE)\" \\\n+\t   LN_S=\"$(LN_S)\" \\\n \t   FORCE_DEBUG_ADAFLAGS=\"$(FORCE_DEBUG_ADAFLAGS)\" \\\n \t   $@\n "}, {"sha": "e9a4874a2ed5964fa4a5996434efc3d596ce4489", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 18, "deletions": 7, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07c6ed01a7822229280329fd99587a35dc2acc83/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07c6ed01a7822229280329fd99587a35dc2acc83/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=07c6ed01a7822229280329fd99587a35dc2acc83", "patch": "@@ -563,7 +563,7 @@ install-gnatlib: ../stamp-gnatlib-$(RTSDIR) install-gcc-specs\n \t$(RM) ../stamp-gnatlib-$(RTSDIR)\n \n ../stamp-gnatlib1-$(RTSDIR): Makefile ../stamp-gnatlib2-$(RTSDIR)\n-\t$(MAKE) MULTISUBDIR=\"$(MULTISUBDIR)\" THREAD_KIND=\"$(THREAD_KIND)\" setup-rts\n+\t$(MAKE) MULTISUBDIR=\"$(MULTISUBDIR)\" THREAD_KIND=\"$(THREAD_KIND)\" LN_S=\"$(LN_S)\" setup-rts\n # Copy tsystem.h\n \t$(CP) $(srcdir)/tsystem.h $(RTSDIR)\n \t$(RM) ../stamp-gnatlib-$(RTSDIR)\n@@ -651,6 +651,7 @@ gnatlib-shared-default:\n \t     GNATLIBCFLAGS_FOR_C=\"$(GNATLIBCFLAGS_FOR_C) $(PICFLAG_FOR_TARGET)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n              gnatlib\n \t$(RM) $(RTSDIR)/libgna*$(soext)\n \tcd $(RTSDIR); `echo \"$(GCC_FOR_TARGET)\" \\\n@@ -681,7 +682,6 @@ gnatlib-shared-default:\n \t   $(addprefix $(RTSDIR)/,$(GNATRTL_TASKING_OBJS))\n \t$(RANLIB_FOR_TARGET) $(RTSDIR)/libgnarl_pic$(arext)\n \n-\n gnatlib-shared-dual:\n \t$(MAKE) $(FLAGS_TO_PASS) \\\n              GNATLIBFLAGS=\"$(GNATLIBFLAGS)\" \\\n@@ -690,6 +690,7 @@ gnatlib-shared-dual:\n \t     PICFLAG_FOR_TARGET=\"$(PICFLAG_FOR_TARGET)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n              gnatlib-shared-default\n \t$(MV) $(RTSDIR)/libgna*$(soext) .\n \t$(MV) $(RTSDIR)/libgnat_pic$(arext) .\n@@ -701,7 +702,8 @@ gnatlib-shared-dual:\n \t     GNATLIBCFLAGS_FOR_C=\"$(GNATLIBCFLAGS_FOR_C)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n-             gnatlib\n+\t     LN_S=\"$(LN_S)\" \\\n+\t     gnatlib\n \t$(MV) libgna*$(soext) $(RTSDIR)\n \t$(MV) libgnat_pic$(arext) $(RTSDIR)\n \t$(MV) libgnarl_pic$(arext) $(RTSDIR)\n@@ -714,7 +716,8 @@ gnatlib-shared-dual-win32:\n \t     PICFLAG_FOR_TARGET=\"$(PICFLAG_FOR_TARGET)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n-             gnatlib-shared-win32\n+\t     LN_S=\"$(LN_S)\" \\\n+\t     gnatlib-shared-win32\n \t$(MV) $(RTSDIR)/libgna*$(soext) .\n \t$(RM) ../stamp-gnatlib2-$(RTSDIR)\n \t$(MAKE) $(FLAGS_TO_PASS) \\\n@@ -723,7 +726,8 @@ gnatlib-shared-dual-win32:\n \t     GNATLIBCFLAGS_FOR_C=\"$(GNATLIBCFLAGS_FOR_C)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n-             gnatlib\n+\t     LN_S=\"$(LN_S)\" \\\n+\t     gnatlib\n \t$(MV) libgna*$(soext) $(RTSDIR)\n \n # ??? we need to add the option to support auto-import of arrays/records to\n@@ -737,7 +741,8 @@ gnatlib-shared-win32:\n \t     GNATLIBCFLAGS_FOR_C=\"$(GNATLIBCFLAGS_FOR_C) $(PICFLAG_FOR_TARGET)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n-             gnatlib\n+\t     LN_S=\"$(LN_S)\" \\\n+\t     gnatlib\n \t$(RM) $(RTSDIR)/libgna*$(soext)\n \t$(CP) $(RTSDIR)/libgnat$(arext) $(RTSDIR)/libgnat_pic$(arext)\n \t$(CP) $(RTSDIR)/libgnarl$(arext) $(RTSDIR)/libgnarl_pic$(arext)\n@@ -762,6 +767,7 @@ gnatlib-shared-darwin:\n \t     GNATLIBCFLAGS_FOR_C=\"$(GNATLIBCFLAGS_FOR_C) $(PICFLAG_FOR_TARGET) -fno-common\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n \t     gnatlib\n \t$(RM) $(RTSDIR)/libgnat$(soext) $(RTSDIR)/libgnarl$(soext)\n \t$(CP) $(RTSDIR)/libgnat$(arext) $(RTSDIR)/libgnat_pic$(arext)\n@@ -794,8 +800,9 @@ gnatlib-shared:\n \t     GNATLIBCFLAGS_FOR_C=\"$(GNATLIBCFLAGS_FOR_C)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n \t     PICFLAG_FOR_TARGET=\"$(PICFLAG_FOR_TARGET)\" \\\n-             $(GNATLIB_SHARED)\n+\t     $(GNATLIB_SHARED)\n \n # When building a SJLJ runtime for VxWorks, we need to ensure that the extra\n # linker options needed for ZCX are not passed to prevent the inclusion of\n@@ -808,6 +815,7 @@ gnatlib-sjlj:\n \t     EH_MECHANISM=\"\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n \t     ../stamp-gnatlib1-$(RTSDIR)\n \tsed \\\n \t  -e 's/Frontend_Exceptions.*/Frontend_Exceptions       : constant Boolean := True;/' \\\n@@ -822,13 +830,15 @@ gnatlib-sjlj:\n \t     FORCE_DEBUG_ADAFLAGS=\"$(FORCE_DEBUG_ADAFLAGS)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n \t     gnatlib\n \n gnatlib-zcx:\n \t$(MAKE) $(FLAGS_TO_PASS) \\\n \t     EH_MECHANISM=\"-gcc\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n \t     ../stamp-gnatlib1-$(RTSDIR)\n \tsed \\\n \t  -e 's/Frontend_Exceptions.*/Frontend_Exceptions       : constant Boolean := False;/' \\\n@@ -843,6 +853,7 @@ gnatlib-zcx:\n \t     FORCE_DEBUG_ADAFLAGS=\"$(FORCE_DEBUG_ADAFLAGS)\" \\\n \t     MULTISUBDIR=\"$(MULTISUBDIR)\" \\\n \t     THREAD_KIND=\"$(THREAD_KIND)\" \\\n+\t     LN_S=\"$(LN_S)\" \\\n \t     gnatlib\n \n # Compiling object files from source files."}]}