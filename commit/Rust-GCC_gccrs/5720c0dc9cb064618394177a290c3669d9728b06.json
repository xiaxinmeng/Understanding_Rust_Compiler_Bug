{"sha": "5720c0dc9cb064618394177a290c3669d9728b06", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTcyMGMwZGM5Y2IwNjQ2MTgzOTQxNzdhMjkwYzM2NjlkOTcyOGIwNg==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2012-01-05T15:08:42Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2012-01-05T15:08:42Z"}, "message": "re PR middle-end/51764 (mudflap does not work with LTO)\n\n2012-01-05  Richard Guenther  <rguenther@suse.de>\n\n\tPR middle-end/51764\n\t* common.opt (Wmudflap, fmudflap, fmudflapth, fmudflapir): Move\n\tto c.opt.\n\t* toplev.c (process_options): Reject combining mudflap and LTO.\n\t* tree-nomudflap.c (nogo): Use sorry instead of internal_error.\n\n\tc-family/\n\t* c.opt (Wmudflap, fmudflap, fmudflapth, fmudflapir): Move here\n\tfrom common.opt.\n\nFrom-SVN: r182913", "tree": {"sha": "367d5bb6f738516ca3efbd35212c8469083aa665", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/367d5bb6f738516ca3efbd35212c8469083aa665"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5720c0dc9cb064618394177a290c3669d9728b06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5720c0dc9cb064618394177a290c3669d9728b06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5720c0dc9cb064618394177a290c3669d9728b06", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5720c0dc9cb064618394177a290c3669d9728b06/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "be223aafde77591ddece8a2cd8f0bf776b89bbef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be223aafde77591ddece8a2cd8f0bf776b89bbef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be223aafde77591ddece8a2cd8f0bf776b89bbef"}], "stats": {"total": 51, "additions": 34, "deletions": 17}, "files": [{"sha": "c28e9463ddefa6ca23fcb87988e82660fb25693c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5720c0dc9cb064618394177a290c3669d9728b06", "patch": "@@ -1,3 +1,11 @@\n+2012-01-05  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR middle-end/51764\n+\t* common.opt (Wmudflap, fmudflap, fmudflapth, fmudflapir): Move\n+\tto c.opt.\n+\t* toplev.c (process_options): Reject combining mudflap and LTO.\n+\t* tree-nomudflap.c (nogo): Use sorry instead of internal_error.\n+\n 2012-01-05  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/51760"}, {"sha": "95ce166a2043dadb7bcfc6e8b99e37f3671f097b", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=5720c0dc9cb064618394177a290c3669d9728b06", "patch": "@@ -1,3 +1,9 @@\n+2012-01-05  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR middle-end/51764\n+\t* c.opt (Wmudflap, fmudflap, fmudflapth, fmudflapir): Move here\n+\tfrom common.opt.\n+\n 2011-12-30  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/51316"}, {"sha": "447c88f761a044fc270fa11b8279a9e6596f1f64", "filename": "gcc/c-family/c.opt", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Fc-family%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Fc-family%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc.opt?ref=5720c0dc9cb064618394177a290c3669d9728b06", "patch": "@@ -489,6 +489,10 @@ Wmissing-prototypes\n C ObjC Var(warn_missing_prototypes) Warning\n Warn about global functions without prototypes\n \n+Wmudflap\n+C ObjC C++ ObjC++ Var(warn_mudflap) Init(1) Warning\n+Warn about constructs not instrumented by -fmudflap\n+\n Wmultichar\n C ObjC C++ ObjC++ Warning\n Warn about use of multi-character character constants\n@@ -865,6 +869,18 @@ fms-extensions\n C ObjC C++ ObjC++ Var(flag_ms_extensions)\n Don't warn about uses of Microsoft extensions\n \n+fmudflap\n+C ObjC C++ ObjC++ RejectNegative Report Var(flag_mudflap)\n+Add mudflap bounds-checking instrumentation for single-threaded program\n+\n+fmudflapth\n+C ObjC C++ ObjC++ RejectNegative Report Var(flag_mudflap,2)\n+Add mudflap bounds-checking instrumentation for multi-threaded program\n+\n+fmudflapir\n+C ObjC C++ ObjC++ RejectNegative Report Var(flag_mudflap_ignore_reads)\n+Ignore read operations when inserting mudflap instrumentation\n+\n fname-mangling-version-\n C++ ObjC++ Joined Ignore Warn(switch %qs is no longer supported)\n "}, {"sha": "6cfe17a15d3ac85159fa90e86f59e6adffb90729", "filename": "gcc/common.opt", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=5720c0dc9cb064618394177a290c3669d9728b06", "patch": "@@ -570,10 +570,6 @@ Wmissing-noreturn\n Common Var(warn_missing_noreturn) Warning\n Warn about functions which might be candidates for __attribute__((noreturn))\n \n-Wmudflap\n-Common Var(warn_mudflap) Init(1) Warning\n-Warn about constructs not instrumented by -fmudflap\n-\n Woverflow\n Common Var(warn_overflow) Init(1) Warning\n Warn about overflow in arithmetic expressions\n@@ -1465,18 +1461,6 @@ fmove-loop-invariants\n Common Report Var(flag_move_loop_invariants) Init(1) Optimization\n Move loop invariant computations out of loops\n \n-fmudflap\n-Common RejectNegative Report Var(flag_mudflap)\n-Add mudflap bounds-checking instrumentation for single-threaded program\n-\n-fmudflapth\n-Common RejectNegative Report Var(flag_mudflap,2)\n-Add mudflap bounds-checking instrumentation for multi-threaded program\n-\n-fmudflapir\n-Common RejectNegative Report Var(flag_mudflap_ignore_reads)\n-Ignore read operations when inserting mudflap instrumentation\n-\n fdce\n Common Var(flag_dce) Init(1) Optimization\n Use the RTL dead code elimination pass"}, {"sha": "c145af48fb9859eb99d507b2ff9001033f2bbf98", "filename": "gcc/toplev.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=5720c0dc9cb064618394177a290c3669d9728b06", "patch": "@@ -1325,6 +1325,9 @@ process_options (void)\n \t   \"and -ftree-loop-linear)\");\n #endif\n \n+  if (flag_mudflap && flag_lto)\n+    sorry (\"mudflap cannot be used together with link-time optimization\");\n+\n   /* One region RA really helps to decrease the code size.  */\n   if (flag_ira_region == IRA_REGION_AUTODETECT)\n     flag_ira_region"}, {"sha": "f204e2a064c4a72cc858ceea5d3ff6645ab8a7b1", "filename": "gcc/tree-nomudflap.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Ftree-nomudflap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5720c0dc9cb064618394177a290c3669d9728b06/gcc%2Ftree-nomudflap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-nomudflap.c?ref=5720c0dc9cb064618394177a290c3669d9728b06", "patch": "@@ -44,7 +44,7 @@ along with GCC; see the file COPYING3.  If not see\n static void\n nogo (void)\n {\n-  internal_error (\"mudflap: this language is not supported\");\n+  sorry (\"mudflap: this language is not supported\");\n }\n \n void"}]}