{"sha": "0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDkyNDQwNGM1NDI0YTBjZDM0Y2ZiYzI0MmQyZDdjY2Y0YWM4MDY4MQ==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1999-09-13T09:14:21Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1999-09-13T09:14:21Z"}, "message": "Move definition of 'thenan' to its own object file in order to save space.\n\nFrom-SVN: r29371", "tree": {"sha": "106e9274e80f84f544721c986f69eb1bac5935de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/106e9274e80f84f544721c986f69eb1bac5935de"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/comments", "author": null, "committer": null, "parents": [{"sha": "9f59f94d7441a82763e9421e791a9edf41df29a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f59f94d7441a82763e9421e791a9edf41df29a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f59f94d7441a82763e9421e791a9edf41df29a6"}], "stats": {"total": 39, "additions": 34, "deletions": 5}, "files": [{"sha": "d0db78bd5ac943906b7ee1a8500cc1fd4e4fd41b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "patch": "@@ -1,3 +1,14 @@\n+Mon Sep 13 10:01:33 1999  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config/fp-bit.c: Define L_thenan_sf or L_thenan_df (as\n+\tappropriate) if FINE_GRAINED_LIBRARIES is not defined.\n+\t(nan): Return _thenan_sf or _thenan_df as appropriate.\n+\t(L_thenan_sf): Define _thenan_sf.\n+\t(L_thenan_df): Define _thenan_df.\n+\n+\t* Makefile.in (FPBIT_FUNCS): Add _thenan_sf.\n+\t(DPBIT_FUNCS): Add _thenan_df.\n+\n Mon Sep 13 09:38:53 1999  Andreas Schwab  <schwab@suse.de>\n \n \t* tree.c (fix_sizetype):  Exchange the types for TYPE_SIZE and"}, {"sha": "25a962fa7c6c93c3bef9d6f91c0af9f343933dfc", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "patch": "@@ -733,12 +733,12 @@ LIB2FUNCS_EH = _eh\n FPBIT_FUNCS = _pack_sf _unpack_sf _addsub_sf _mul_sf _div_sf \\\n     _fpcmp_parts_sf _compare_sf _eq_sf _ne_sf _gt_sf _ge_sf \\\n     _lt_sf _le_sf _si_to_sf _sf_to_si _negate_sf _make_sf \\\n-    _sf_to_df\n+    _sf_to_df _thenan_sf\n \n DPBIT_FUNCS = _pack_df _unpack_df _addsub_df _mul_df _div_df \\\n     _fpcmp_parts_df _compare_df _eq_df _ne_df _gt_df _ge_df \\\n     _lt_df _le_df _si_to_df _df_to_si _negate_df _make_df \\\n-    _df_to_sf\n+    _df_to_sf _thenan_df\n \n # The files that \"belong\" in CONFIG_H are deliberately omitted\n # because having them there would not be useful in actual practice."}, {"sha": "098254167867fece5a8274c76952626159a9ada8", "filename": "gcc/config/fp-bit.c", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/gcc%2Fconfig%2Ffp-bit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0924404c5424a0cd34cfbc242d2d7ccf4ac80681/gcc%2Fconfig%2Ffp-bit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffp-bit.c?ref=0924404c5424a0cd34cfbc242d2d7ccf4ac80681", "patch": "@@ -90,6 +90,11 @@ Boston, MA 02111-1307, USA.  */\n #define L_make_df\n #define L_sf_to_df\n #define L_df_to_sf\n+#ifdef FLOAT\n+#define L_thenan_sf\n+#else\n+#define L_thenan_df\n+#endif\n #endif\n \n /* The following macros can be defined to change the behaviour of this file:\n@@ -389,13 +394,26 @@ FLO_union_type;\n #define isinf(x) 0\n #else\n \n+#if   defined L_thenan_sf\n+const fp_number_type __thenan_sf = { CLASS_SNAN };\n+#elif defined L_thenan_df\n+const fp_number_type __thenan_df = { CLASS_SNAN };\n+#elif defined FLOAT\n+extern const fp_number_type __thenan_sf;\n+#else\n+extern const fp_number_type __thenan_df;\n+#endif\n+\n INLINE\n static fp_number_type *\n nan ()\n {\n-  static fp_number_type thenan;\n-\n-  return &thenan;\n+  /* Discard the const qualifier... */\n+#ifdef FLOAT  \n+  return (fp_number_type *) (& __thenan_sf);\n+#else\n+  return (fp_number_type *) (& __thenan_df);\n+#endif\n }\n \n INLINE"}]}