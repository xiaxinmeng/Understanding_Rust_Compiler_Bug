{"sha": "36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZjNzEzZTA0Y2I2NDJhOWJmYmY0ZGRiYWQ5ZWY3MDI0ZGQ2ZjA1YQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2008-10-13T08:05:25Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2008-10-13T08:05:25Z"}, "message": "configure.ac (MPFR check): Bump minimum version to 2.3.0 and recommended version to 2.3.2.\n\n\t* configure.ac (MPFR check): Bump minimum version to 2.3.0 and\n\trecommended version to 2.3.2.\n\n\t* configure: Regenerate.\n\ngcc:\n\t* builtins.c: Remove MPFR_VERSION_NUM(2,3,0) conditionals.\n\t* doc/install.texi: Bump recommended MPFR to 2.3.2.\n\t\nfortran:\n\t* simplify.c: Remove MPFR_VERSION_NUM(2,3,0) conditionals.\n\nFrom-SVN: r141085", "tree": {"sha": "3ca4271029a8c1d19fafddd1c8f9df499e2abdb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ca4271029a8c1d19fafddd1c8f9df499e2abdb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/comments", "author": null, "committer": null, "parents": [{"sha": "ae3fb6fd9781b5308de4e2ec7acd9873f0bd967e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae3fb6fd9781b5308de4e2ec7acd9873f0bd967e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae3fb6fd9781b5308de4e2ec7acd9873f0bd967e"}], "stats": {"total": 72, "additions": 25, "deletions": 47}, "files": [{"sha": "887856b72d5d5a57b72c42548e078b5a26980076", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -1,3 +1,10 @@\n+2008-10-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* configure.ac (MPFR check): Bump minimum version to 2.3.0 and\n+\trecommended version to 2.3.2.\n+\n+\t* configure: Regenerate.\n+\n 2008-10-01  Mark Mitchell  <mark@codesourcery.com>\n \n \t* MAINTAINERS (Blanket Write Privs): Change to Global Reviewers."}, {"sha": "d3dd5eaefed1823a7c5d17a279f1bc4f5ea785ac", "filename": "configure", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -4674,7 +4674,7 @@ int\n main ()\n {\n \n-    #if MPFR_VERSION < MPFR_VERSION_NUM(2,2,1)\n+    #if MPFR_VERSION < MPFR_VERSION_NUM(2,3,0)\n     choke me\n     #endif\n     mpfr_t n;\n@@ -4724,7 +4724,7 @@ int\n main ()\n {\n \n-    #if MPFR_VERSION < MPFR_VERSION_NUM(2,3,0)\n+    #if MPFR_VERSION < MPFR_VERSION_NUM(2,3,2)\n     choke me\n     #endif\n     mpfr_t n; mpfr_init(n);\n@@ -4780,15 +4780,15 @@ rm -f conftest.err conftest.$ac_objext \\\n   CFLAGS=\"$saved_CFLAGS\"\n \n   if test x$have_gmp != xyes; then\n-    { { echo \"$as_me:$LINENO: error: Building GCC requires GMP 4.1+ and MPFR 2.3.0+.\n+    { { echo \"$as_me:$LINENO: error: Building GCC requires GMP 4.1+ and MPFR 2.3.2+.\n Try the --with-gmp and/or --with-mpfr options to specify their locations.\n Copies of these libraries' source code can be found at their respective\n hosting sites as well as at ftp://gcc.gnu.org/pub/gcc/infrastructure/.\n See also http://gcc.gnu.org/install/prerequisites.html for additional info.\n If you obtained GMP and/or MPFR from a vendor distribution package, make\n sure that you have installed both the libraries and the header files.\n They may be located in separate packages.\" >&5\n-echo \"$as_me: error: Building GCC requires GMP 4.1+ and MPFR 2.3.0+.\n+echo \"$as_me: error: Building GCC requires GMP 4.1+ and MPFR 2.3.2+.\n Try the --with-gmp and/or --with-mpfr options to specify their locations.\n Copies of these libraries' source code can be found at their respective\n hosting sites as well as at ftp://gcc.gnu.org/pub/gcc/infrastructure/."}, {"sha": "bd6afe59a25a952d3c22e85cff738efa052502b5", "filename": "configure.ac", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -1267,11 +1267,11 @@ if test -d ${srcdir}/gcc && test \"x$have_gmp\" = xno; then\n   if test x\"$have_gmp\" = xyes; then\n     saved_LIBS=\"$LIBS\"\n     LIBS=\"$LIBS $gmplibs\"\n-    dnl MPFR 2.2.1 is acceptable, but MPFR 2.3.0 is better.\n+    dnl MPFR 2.3.0 is acceptable, but MPFR 2.3.2 is better.\n     AC_MSG_CHECKING([for correct version of mpfr.h])\n     AC_TRY_LINK([#include <gmp.h>\n     #include <mpfr.h>],[\n-    #if MPFR_VERSION < MPFR_VERSION_NUM(2,2,1)\n+    #if MPFR_VERSION < MPFR_VERSION_NUM(2,3,0)\n     choke me\n     #endif\n     mpfr_t n;\n@@ -1284,7 +1284,7 @@ if test -d ${srcdir}/gcc && test \"x$have_gmp\" = xno; then\n     mpfr_subnormalize (x, t, GMP_RNDN);\n     ], [AC_TRY_LINK([#include <gmp.h>\n     #include <mpfr.h>],[\n-    #if MPFR_VERSION < MPFR_VERSION_NUM(2,3,0)\n+    #if MPFR_VERSION < MPFR_VERSION_NUM(2,3,2)\n     choke me\n     #endif\n     mpfr_t n; mpfr_init(n);\n@@ -1295,7 +1295,7 @@ if test -d ${srcdir}/gcc && test \"x$have_gmp\" = xno; then\n   CFLAGS=\"$saved_CFLAGS\"\n \n   if test x$have_gmp != xyes; then\n-    AC_MSG_ERROR([Building GCC requires GMP 4.1+ and MPFR 2.3.0+.\n+    AC_MSG_ERROR([Building GCC requires GMP 4.1+ and MPFR 2.3.2+.\n Try the --with-gmp and/or --with-mpfr options to specify their locations.\n Copies of these libraries' source code can be found at their respective\n hosting sites as well as at ftp://gcc.gnu.org/pub/gcc/infrastructure/."}, {"sha": "8838c41448385e978926052413fb5cff5cb89917", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -1,3 +1,8 @@\n+2008-10-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* builtins.c: Remove MPFR_VERSION_NUM(2,3,0) conditionals.\n+\t* doc/install.texi: Bump recommended MPFR to 2.3.2.\n+\n 2008-10-12  Kenneth Zadeck <zadeck@naturalbridge.com>\n \n \tPR middle-end/37808"}, {"sha": "85d61b5681c279b02e0320bef374d498a023cef4", "filename": "gcc/builtins.c", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -231,13 +231,11 @@ static tree do_mpfr_arg2 (tree, tree, tree,\n static tree do_mpfr_arg3 (tree, tree, tree, tree,\n \t\t\t  int (*)(mpfr_ptr, mpfr_srcptr, mpfr_srcptr, mpfr_srcptr, mp_rnd_t));\n static tree do_mpfr_sincos (tree, tree, tree);\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n static tree do_mpfr_bessel_n (tree, tree, tree,\n \t\t\t      int (*)(mpfr_ptr, long, mpfr_srcptr, mp_rnd_t),\n \t\t\t      const REAL_VALUE_TYPE *, bool);\n static tree do_mpfr_remquo (tree, tree, tree);\n static tree do_mpfr_lgamma_r (tree, tree, tree);\n-#endif\n \n /* Return true if NODE should be considered for inline expansion regardless\n    of the optimization level.  This means whenever a function is invoked with\n@@ -10140,7 +10138,6 @@ fold_builtin_1 (tree fndecl, tree arg0, bool ignore)\n \t\t\t     &dconstm1, NULL, false);\n     break;\n \n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n     CASE_FLT_FN (BUILT_IN_J0):\n       if (validate_arg (arg0, REAL_TYPE))\n \treturn do_mpfr_arg1 (arg0, type, mpfr_j0,\n@@ -10164,7 +10161,6 @@ fold_builtin_1 (tree fndecl, tree arg0, bool ignore)\n \treturn do_mpfr_arg1 (arg0, type, mpfr_y1,\n \t\t\t     &dconst0, NULL, false);\n     break;\n-#endif\n \n     CASE_FLT_FN (BUILT_IN_NAN):\n     case BUILT_IN_NAND32:\n@@ -10280,7 +10276,6 @@ fold_builtin_2 (tree fndecl, tree arg0, tree arg1, bool ignore)\n \n   switch (fcode)\n     {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n     CASE_FLT_FN (BUILT_IN_JN):\n       if (validate_arg (arg0, INTEGER_TYPE)\n \t  && validate_arg (arg1, REAL_TYPE))\n@@ -10307,7 +10302,6 @@ fold_builtin_2 (tree fndecl, tree arg0, tree arg1, bool ignore)\n \t  && validate_arg(arg1, POINTER_TYPE))\n \treturn do_mpfr_lgamma_r (arg0, arg1, type);\n     break;\n-#endif\n \n     CASE_FLT_FN (BUILT_IN_ATAN2):\n       if (validate_arg (arg0, REAL_TYPE)\n@@ -10464,14 +10458,12 @@ fold_builtin_3 (tree fndecl, tree arg0, tree arg1, tree arg2, bool ignore)\n \treturn do_mpfr_arg3 (arg0, arg1, arg2, type, mpfr_fma);\n     break;\n \n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n     CASE_FLT_FN (BUILT_IN_REMQUO):\n       if (validate_arg (arg0, REAL_TYPE)\n \t  && validate_arg(arg1, REAL_TYPE)\n \t  && validate_arg(arg2, POINTER_TYPE))\n \treturn do_mpfr_remquo (arg0, arg1, arg2);\n     break;\n-#endif\n \n     case BUILT_IN_MEMSET:\n       return fold_builtin_memset (arg0, arg1, arg2, type, ignore);\n@@ -13082,7 +13074,6 @@ do_mpfr_sincos (tree arg, tree arg_sinp, tree arg_cosp)\n   return result;\n }\n \n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n /* If argument ARG1 is an INTEGER_CST and ARG2 is a REAL_CST, call the\n    two-argument mpfr order N Bessel function FUNC on them and return\n    the resulting value as a tree with type TYPE.  The mpfr precision\n@@ -13267,7 +13258,6 @@ do_mpfr_lgamma_r (tree arg, tree arg_sg, tree type)\n \n   return result;\n }\n-#endif\n \n /* FIXME tuples.\n    The functions below provide an alternate interface for folding"}, {"sha": "1d29df36c2078fff2b504a103b852f8a4d25326f", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -309,7 +309,7 @@ library search path, you will have to configure with the\n @option{--with-gmp} configure option.  See also\n @option{--with-gmp-lib} and @option{--with-gmp-include}.\n \n-@item MPFR Library version 2.3.0 (or later)\n+@item MPFR Library version 2.3.2 (or later)\n \n Necessary to build GCC@.  It can be downloaded from\n @uref{http://www.mpfr.org/}.  The version of MPFR that is bundled with"}, {"sha": "1d26c1f2c97f0cc9e59f2d650bbe3774874eddb0", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -1,3 +1,7 @@\n+2008-10-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* simplify.c: Remove MPFR_VERSION_NUM(2,3,0) conditionals.\n+\n 2008-10-12  Daniel Kraft  <d@domob.eu>\n \n \tPR fortran/37688"}, {"sha": "c5327940e9eed5da2e23c7885217bf9b6b172694", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=36c713e04cb642a9bfbf4ddbad9ef7024dd6f05a", "patch": "@@ -668,7 +668,6 @@ gfc_simplify_atan2 (gfc_expr *y, gfc_expr *x)\n gfc_expr *\n gfc_simplify_bessel_j0 (gfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n \n   if (x->expr_type != EXPR_CONSTANT)\n@@ -678,16 +677,12 @@ gfc_simplify_bessel_j0 (gfc_expr *x ATTRIBUTE_UNUSED)\n   mpfr_j0 (result->value.real, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"BESSEL_J0\");\n-#else\n-  return NULL;\n-#endif\n }\n \n \n gfc_expr *\n gfc_simplify_bessel_j1 (gfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n \n   if (x->expr_type != EXPR_CONSTANT)\n@@ -697,17 +692,13 @@ gfc_simplify_bessel_j1 (gfc_expr *x ATTRIBUTE_UNUSED)\n   mpfr_j1 (result->value.real, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"BESSEL_J1\");\n-#else\n-  return NULL;\n-#endif\n }\n \n \n gfc_expr *\n gfc_simplify_bessel_jn (gfc_expr *order ATTRIBUTE_UNUSED,\n \t\t\tgfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n   long n;\n \n@@ -719,16 +710,12 @@ gfc_simplify_bessel_jn (gfc_expr *order ATTRIBUTE_UNUSED,\n   mpfr_jn (result->value.real, n, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"BESSEL_JN\");\n-#else\n-  return NULL;\n-#endif\n }\n \n \n gfc_expr *\n gfc_simplify_bessel_y0 (gfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n \n   if (x->expr_type != EXPR_CONSTANT)\n@@ -738,16 +725,12 @@ gfc_simplify_bessel_y0 (gfc_expr *x ATTRIBUTE_UNUSED)\n   mpfr_y0 (result->value.real, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"BESSEL_Y0\");\n-#else\n-  return NULL;\n-#endif\n }\n \n \n gfc_expr *\n gfc_simplify_bessel_y1 (gfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n \n   if (x->expr_type != EXPR_CONSTANT)\n@@ -757,17 +740,13 @@ gfc_simplify_bessel_y1 (gfc_expr *x ATTRIBUTE_UNUSED)\n   mpfr_y1 (result->value.real, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"BESSEL_Y1\");\n-#else\n-  return NULL;\n-#endif\n }\n \n \n gfc_expr *\n gfc_simplify_bessel_yn (gfc_expr *order ATTRIBUTE_UNUSED,\n \t\t\tgfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n   long n;\n \n@@ -779,9 +758,6 @@ gfc_simplify_bessel_yn (gfc_expr *order ATTRIBUTE_UNUSED,\n   mpfr_yn (result->value.real, n, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"BESSEL_YN\");\n-#else\n-  return NULL;\n-#endif\n }\n \n \n@@ -2483,7 +2459,6 @@ gfc_simplify_len_trim (gfc_expr *e, gfc_expr *kind)\n gfc_expr *\n gfc_simplify_lgamma (gfc_expr *x ATTRIBUTE_UNUSED)\n {\n-#if MPFR_VERSION >= MPFR_VERSION_NUM(2,3,0)\n   gfc_expr *result;\n   int sg;\n \n@@ -2495,9 +2470,6 @@ gfc_simplify_lgamma (gfc_expr *x ATTRIBUTE_UNUSED)\n   mpfr_lgamma (result->value.real, &sg, x->value.real, GFC_RND_MODE);\n \n   return range_check (result, \"LGAMMA\");\n-#else\n-  return NULL;\n-#endif\n }\n \n "}]}