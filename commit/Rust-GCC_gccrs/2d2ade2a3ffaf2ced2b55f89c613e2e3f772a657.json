{"sha": "2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQyYWRlMmEzZmZhZjJjZWQyYjU1Zjg5YzYxM2UyZTNmNzcyYTY1Nw==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2001-03-10T00:08:50Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2001-03-10T00:08:50Z"}, "message": "crontab, [...]: New files (as currently used by gccadmin).\n\n\t* crontab, doc_exclude, update_branch_version, update_version,\n\tupdate_web_docs: New files (as currently used by gccadmin).\n\t* README: New file.\n\nFrom-SVN: r40352", "tree": {"sha": "464ba6f500cbc620131610ef85222710ca9c15ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/464ba6f500cbc620131610ef85222710ca9c15ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ca3ad1bc5a51dce85970d6fa66167c98d7bfa47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ca3ad1bc5a51dce85970d6fa66167c98d7bfa47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ca3ad1bc5a51dce85970d6fa66167c98d7bfa47"}], "stats": {"total": 151, "additions": 151, "deletions": 0}, "files": [{"sha": "4d18536278d5b3d5d1e8e819151cf39b30dbc8d5", "filename": "maintainer-scripts/ChangeLog", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,5 @@\n+2001-03-10  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* crontab, doc_exclude, update_branch_version, update_version,\n+\tupdate_web_docs: New files (as currently used by gccadmin).\n+\t* README: New file."}, {"sha": "1735002adbc1a37db9a8edf714dcf9365916b3ac", "filename": "maintainer-scripts/README", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FREADME?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,6 @@\n+This directory contains various files used by the gccadmin account on\n+gcc.gnu.org, mainly for automated tasks such as the daily update of\n+the date in version.c.  There isn't presently any scheme for files\n+checked in here to be automatically checked out and used by gccadmin,\n+so the files in CVS and those used by gccadmin must be kept in sync\n+manually."}, {"sha": "c089e2c1fa7ba7875dcd560e04f9d3414a8f0339", "filename": "maintainer-scripts/crontab", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fcrontab", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fcrontab", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fcrontab?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,3 @@\n+16 0 * * * sh /home/gccadmin/scripts/update_version\n+16 0 * * * sh /home/gccadmin/scripts/update_branch_version\n+50 0 * * * sh /home/gccadmin/scripts/update_web_docs"}, {"sha": "fef3d4e14db8d8f73253d25725a8d169a71e913e", "filename": "maintainer-scripts/doc_exclude", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fdoc_exclude", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fdoc_exclude", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fdoc_exclude?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,3 @@\n+texinfo\n+etc\n+Attic"}, {"sha": "855f4acfa2079a7aabfe9d24da28ec3b2ba144c5", "filename": "maintainer-scripts/update_branch_version", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fupdate_branch_version", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fupdate_branch_version", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_branch_version?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,28 @@\n+#!/bin/sh \n+\n+# Run this from /tmp.\n+CVSROOT=/cvs/gcc\n+export CVSROOT\n+BRANCH=gcc-3_0-branch\n+export BRANCH\n+/bin/rm -rf /tmp/$$\n+/bin/mkdir /tmp/$$\n+cd /tmp/$$\n+\n+CURR_DATE=`/bin/date +\"%Y%m%d\"`\n+\n+FILES=\"egcs/gcc/version.c egcs/gcc/f/version.c egcs/libf2c/libF77/Version.c egcs/libf2c/libI77/Version.c egcs/libf2c/libU77/Version.c\"\n+\n+/usr/local/bin/cvs co -r$BRANCH $FILES\n+\n+for file in $FILES; do\n+\n+  OLD_VERSION=`/bin/cat $file`\n+  /bin/sed -e \"s/\\(.*\\\"[^ ]*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" >${file} <<HERE\n+$OLD_VERSION\n+HERE\n+done\n+\n+/usr/local/bin/cvs commit -m \"Bump dates.\" $FILES\n+\n+/bin/rm -rf /tmp/$$"}, {"sha": "712bec2bd9c9b782494104391c4b0520fe927afc", "filename": "maintainer-scripts/update_version", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fupdate_version", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fupdate_version", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_version?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,26 @@\n+#!/bin/sh \n+\n+# Run this from /tmp.\n+CVSROOT=/cvs/gcc\n+export CVSROOT\n+/bin/rm -rf /tmp/$$\n+/bin/mkdir /tmp/$$\n+cd /tmp/$$\n+\n+CURR_DATE=`/bin/date +\"%Y%m%d\"`\n+\n+FILES=\"egcs/gcc/version.c egcs/gcc/f/version.c egcs/libf2c/libF77/Version.c egcs/libf2c/libI77/Version.c egcs/libf2c/libU77/Version.c\"\n+\n+/usr/local/bin/cvs co $FILES\n+\n+for file in $FILES; do\n+\n+  OLD_VERSION=`/bin/cat $file`\n+  /bin/sed -e \"s/\\(.*\\\"[^ ]*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" >${file} <<HERE\n+$OLD_VERSION\n+HERE\n+done\n+\n+/usr/local/bin/cvs commit -m \"Daily bump.\" $FILES\n+\n+/bin/rm -rf /tmp/$$"}, {"sha": "9fd071007d7584e9534140132ce2bee02617f025", "filename": "maintainer-scripts/update_web_docs", "status": "added", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fupdate_web_docs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657/maintainer-scripts%2Fupdate_web_docs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_web_docs?ref=2d2ade2a3ffaf2ced2b55f89c613e2e3f772a657", "patch": "@@ -0,0 +1,80 @@\n+#!/bin/sh -x\n+\n+# Run this from /tmp.\n+CVSROOT=/cvs/gcc\n+export CVSROOT\n+\n+PATH=/usr/local/bin:$PATH\n+WWWBASE=/www/gcc/htdocs\n+\n+WORKDIR=/tmp/gcc-doc-update.$$\n+\n+/bin/rm -rf $WORKDIR\n+/bin/mkdir $WORKDIR\n+cd $WORKDIR\n+\n+# Find all the texi files in the repository, except those in directories\n+# we do not care about (Attic, texinfo, etc).\n+find $CVSROOT/gcc -name \\*.texi,v -print | fgrep -v -f/home/gccadmin/scripts/doc_exclude | sed -e s#$CVSROOT/##g -e s#,v##g > FILES\n+\n+\n+# Checkout all the texi files and get them into a single directory.\n+# If we ever have texi files with the same name we'll have to do this\n+# differently.\n+cvs -Q co `cat FILES`\n+mv `find . -name \\*.texi -print` .\n+\n+# Now convert the relavent files from texi to html \n+for file in c-tree cpp chill gcc gcov gxxint g77 iostream objc-features; do \n+  /home/gccadmin/scripts/texi2html -glossary -menu -split_chapter ${file}.texi\n+done\n+\n+# Then build a gzipped copy of each of the resulting .html files\n+for file in *.html; do\n+  cat $file | gzip --best > $file.gz\n+done\n+\n+news_file=`grep \"News About GNU Fortran\" $WWWBASE/onlinedocs/g77_toc.html | sed -e '/HREF=.*[^.]/  s#^.*HREF=\"##g' | sed -e 's%#SEC.*%%g'`\n+bugs_file=`grep \"Known Causes of Trouble with GNU Fortran\" $WWWBASE/onlinedocs/g77_toc.html | sed -e '/HREF=.*[^.]/  s#^.*HREF=\"##g' | sed -e 's%#SEC.*%%g'`\n+contrib_file=`grep \"Contributors to GCC\" $WWWBASE/onlinedocs/gcc_toc.html | sed -e '/HREF=.*[^.]/  s#^.*HREF=\"##g' | sed -e 's%#SEC.*%%g'`\n+\n+# On the 15th of the month, wipe all the old files from the\n+# web server.\n+today=`date +%d`\n+if test $today = 15; then\n+  find $WWWBASE/onlinedocs -type f -print | grep -v index.html | xargs rm\n+fi\n+\n+# And copy the resulting html files to the web server\n+for file in *.html; do\n+  cat $WWWBASE/onlinedocs/$file | \n+    sed -e '/^This document was generated on/d' \\\n+        -e '/^<!-- Created by texi/d' > file1\n+  cat $file |\n+    sed -e '/^This document was generated on/d' \\\n+        -e '/^<!-- Created by texi/d' > file2\n+  if cmp -s file1 file2; then\n+    :\n+  else\n+    cp $file ${file}.gz $WWWBASE/onlinedocs\n+  fi\n+done\n+\n+cd $WWWBASE/onlinedocs\n+\n+rm -f g77_news.html\n+rm -f g77_bugs.html\n+rm -f g77_news.html.gz\n+rm -f g77_bugs.html.gz\n+ln $news_file g77_news.html\n+ln $bugs_file g77_bugs.html\n+ln ${news_file}.gz g77_news.html.gz\n+ln ${bugs_file}.gz g77_bugs.html.gz\n+\n+cd $WWWBASE\n+rm -f thanks.html\n+rm -f thanks.html.gz\n+ln onlinedocs/$contrib_file thanks.html\n+ln onlinedocs/${contrib_file}.gz thanks.html.gz\n+\n+rm -rf $WORKDIR"}]}