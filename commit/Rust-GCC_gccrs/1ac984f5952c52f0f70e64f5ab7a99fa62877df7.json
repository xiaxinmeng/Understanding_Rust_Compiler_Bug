{"sha": "1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFjOTg0ZjU5NTJjNTJmMGY3MGU2NGY1YWI3YTk5ZmE2Mjg3N2RmNw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2018-09-26T09:16:44Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-09-26T09:16:44Z"}, "message": "[Ada] Introduce -gnatd_A to set Opt.Disable_ALI_File\n\nThis will allow us to remove the import of flag_compare_debug in\nlib-writ.adb in a second stage.\n\n2018-09-26  Arnaud Charlet  <charlet@adacore.com>\n\ngcc/ada/\n\n\t* gnat1drv.adb (Adjust_Global_Switches): -gnatd_A sets\n\tOpt.Disable_ALI_File.\n\t* debug.adb: Update debug flags documentation.\n\nFrom-SVN: r264605", "tree": {"sha": "2be6bdb272c0e63e84ecca54af80b99e673df0bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2be6bdb272c0e63e84ecca54af80b99e673df0bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6d7d342a391f9ab3b0fa6779bfe9657d574695e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d7d342a391f9ab3b0fa6779bfe9657d574695e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d7d342a391f9ab3b0fa6779bfe9657d574695e2"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "f726904317ab69e4fbca458a2fa967444f2ea4c2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "patch": "@@ -1,3 +1,9 @@\n+2018-09-26  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gnat1drv.adb (Adjust_Global_Switches): -gnatd_A sets\n+\tOpt.Disable_ALI_File.\n+\t* debug.adb: Update debug flags documentation.\n+\n 2018-09-26  Ed Schonberg  <schonberg@adacore.com>\n \n \t* contracts.adb (Analyze_Entry_Or_Subprogram_Contract): The"}, {"sha": "95efedeb25b3171bafc3bf159aaa31ad31e5186c", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "patch": "@@ -172,7 +172,7 @@ package body Debug is\n    --  d_y\n    --  d_z\n \n-   --  d_A\n+   --  d_A  Stop generation of ALI file\n    --  d_B\n    --  d_C\n    --  d_D\n@@ -843,6 +843,8 @@ package body Debug is\n    --       a call to routine Ada.Synchronous_Task_Control.Suspend_Until_True\n    --       or Ada.Synchronous_Barriers.Wait_For_Release.\n \n+   --  d_A  Do not generate ALI files by setting Opt.Disable_ALI_File.\n+\n    --  d_L  Output trace information on elaboration checking. This debug switch\n    --       causes output to be generated showing each call or instantiation as\n    --       it is checked, and the progress of the recursive trace through"}, {"sha": "a3d905bac3b06a60a20230919fdcded5fe45abcb", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ac984f5952c52f0f70e64f5ab7a99fa62877df7/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=1ac984f5952c52f0f70e64f5ab7a99fa62877df7", "patch": "@@ -161,6 +161,12 @@ procedure Gnat1drv is\n          Modify_Tree_For_C := True;\n       end if;\n \n+      --  -gnatd_A disables generation of ALI files.\n+\n+      if Debug_Flag_Underscore_AA then\n+         Disable_ALI_File := True;\n+      end if;\n+\n       --  Set all flags required when generating C code\n \n       if Generate_C_Code then"}]}