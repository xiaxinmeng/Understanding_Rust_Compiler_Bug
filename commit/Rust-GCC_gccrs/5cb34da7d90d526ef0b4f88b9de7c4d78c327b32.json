{"sha": "5cb34da7d90d526ef0b4f88b9de7c4d78c327b32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWNiMzRkYTdkOTBkNTI2ZWYwYjRmODhiOWRlN2M0ZDc4YzMyN2IzMg==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@wdc.com", "date": "2019-12-22T00:15:44Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@gcc.gnu.org", "date": "2019-12-22T00:15:44Z"}, "message": "libada: Fix shared library installation with `--disable-libada'\n\nProvide a default value of $(toolexeclibdir) for $(ADA_RTL_DSO_DIR), so\nthat in a `--disable-libada' configuration `make install' places shared\ngnatlib libraries, built with `make -C gcc gnatlib-shared', in their\nintended version-specific location, fixing a commit r276424 (\"libada:\nRespect `--enable-version-specific-runtime-libs'\") regression.\n\n\tgcc/ada/\n\t* gcc-interface/Makefile.in (toolexeclibdir): New variable.\n\nFrom-SVN: r279702", "tree": {"sha": "7a2dfbe5bec8f33999a75a7fd7d07430cf0df662", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a2dfbe5bec8f33999a75a7fd7d07430cf0df662"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32/comments", "author": null, "committer": null, "parents": [{"sha": "b092fb3b67792d47400ce99b25c8abbf76d8ab5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b092fb3b67792d47400ce99b25c8abbf76d8ab5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b092fb3b67792d47400ce99b25c8abbf76d8ab5f"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "5e92f1ac2e0fcdaf209010cc1cd1434fe02b917e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5cb34da7d90d526ef0b4f88b9de7c4d78c327b32", "patch": "@@ -1,3 +1,7 @@\n+2019-12-22  Maciej W. Rozycki  <macro@wdc.com>\n+\n+\t* gcc-interface/Makefile.in (toolexeclibdir): New variable.\n+\n 2019-12-18  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (Pragma_to_gnu) <Pragma_Warnings>: Push a"}, {"sha": "3342e33b4b17d439a4c1185ad4d309fbb3ff02f9", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cb34da7d90d526ef0b4f88b9de7c4d78c327b32/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=5cb34da7d90d526ef0b4f88b9de7c4d78c327b32", "patch": "@@ -880,6 +880,12 @@ b_gnatm.o : b_gnatm.adb\n \t$(CC) -c $(ALL_ADAFLAGS) $(ADA_INCLUDES) -gnatws -gnatyN \\\n \t    $< $(OUTPUT_OPTION)\n \n+# Provide a `toolexeclibdir' definition for when `gnat-install-lib' is\n+# wired through gcc/ in a configuration with top-level libada disabled.\n+# It will be overridden with the value configured when `gnat-install-lib'\n+# is invoked through libada/.\n+toolexeclibdir = $(ADA_RTL_OBJ_DIR)\n+\n ADA_INCLUDE_DIR = $(libsubdir)/adainclude\n ADA_RTL_OBJ_DIR = $(libsubdir)/adalib\n ADA_RTL_DSO_DIR = $(toolexeclibdir)"}]}