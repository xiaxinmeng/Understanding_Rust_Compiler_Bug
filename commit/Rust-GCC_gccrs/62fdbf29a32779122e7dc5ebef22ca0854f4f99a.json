{"sha": "62fdbf29a32779122e7dc5ebef22ca0854f4f99a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJmZGJmMjlhMzI3NzkxMjJlN2RjNWViZWYyMmNhMDg1NGY0Zjk5YQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2016-10-13T10:22:57Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2016-10-13T10:22:57Z"}, "message": "tree-vect-loop-manip.c (slpeel_can_duplicate_loop_p): Fix code style issue.\n\n\t* tree-vect-loop-manip.c (slpeel_can_duplicate_loop_p): Fix code\n\tstyle issue.\n\t(vect_do_peeling_for_loop_bound, vect_do_peeling_for_alignment):\n\tRemove useless code.\n\nFrom-SVN: r241092", "tree": {"sha": "18c21952c5b3cca9863c3aa13cc299641a63e8c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18c21952c5b3cca9863c3aa13cc299641a63e8c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62fdbf29a32779122e7dc5ebef22ca0854f4f99a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62fdbf29a32779122e7dc5ebef22ca0854f4f99a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62fdbf29a32779122e7dc5ebef22ca0854f4f99a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62fdbf29a32779122e7dc5ebef22ca0854f4f99a/comments", "author": null, "committer": null, "parents": [{"sha": "cc06c7f652d7fede4844eb1cc21b65d5c8e4efcc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc06c7f652d7fede4844eb1cc21b65d5c8e4efcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc06c7f652d7fede4844eb1cc21b65d5c8e4efcc"}], "stats": {"total": 19, "additions": 10, "deletions": 9}, "files": [{"sha": "449a759f45821823b9846bee6f4f547f06838376", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62fdbf29a32779122e7dc5ebef22ca0854f4f99a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62fdbf29a32779122e7dc5ebef22ca0854f4f99a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=62fdbf29a32779122e7dc5ebef22ca0854f4f99a", "patch": "@@ -1,3 +1,10 @@\n+2016-10-13  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-vect-loop-manip.c (slpeel_can_duplicate_loop_p): Fix code\n+\tstyle issue.\n+\t(vect_do_peeling_for_loop_bound, vect_do_peeling_for_alignment):\n+\tRemove useless code.\n+\n 2016-10-13  Martin Liska  <mliska@suse.cz>\n \n \tPR tree-optimization/77943"}, {"sha": "e6c297c76fe2d2800516993dc64d629714bd7f09", "filename": "gcc/tree-vect-loop-manip.c", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62fdbf29a32779122e7dc5ebef22ca0854f4f99a/gcc%2Ftree-vect-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62fdbf29a32779122e7dc5ebef22ca0854f4f99a/gcc%2Ftree-vect-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop-manip.c?ref=62fdbf29a32779122e7dc5ebef22ca0854f4f99a", "patch": "@@ -1003,9 +1003,9 @@ slpeel_can_duplicate_loop_p (const struct loop *loop, const_edge e)\n   gimple_stmt_iterator loop_exit_gsi = gsi_last_bb (exit_e->src);\n   unsigned int num_bb = loop->inner? 5 : 2;\n \n-      /* All loops have an outer scope; the only case loop->outer is NULL is for\n-         the function itself.  */\n-      if (!loop_outer (loop)\n+  /* All loops have an outer scope; the only case loop->outer is NULL is for\n+     the function itself.  */\n+  if (!loop_outer (loop)\n       || loop->num_nodes != num_bb\n       || !empty_block_p (loop->latch)\n       || !single_exit (loop)\n@@ -1786,7 +1786,6 @@ vect_do_peeling_for_loop_bound (loop_vec_info loop_vinfo,\n   struct loop *new_loop;\n   edge update_e;\n   basic_block preheader;\n-  int loop_num;\n   int max_iter;\n   tree cond_expr = NULL_TREE;\n   gimple_seq cond_expr_stmt_list = NULL;\n@@ -1797,16 +1796,13 @@ vect_do_peeling_for_loop_bound (loop_vec_info loop_vinfo,\n \n   initialize_original_copy_tables ();\n \n-  loop_num  = loop->num;\n-\n   new_loop\n     = slpeel_tree_peel_loop_to_edge (loop, scalar_loop, single_exit (loop),\n \t\t\t\t     &ratio_mult_vf_name, ni_name, false,\n \t\t\t\t     th, check_profitability,\n \t\t\t\t     cond_expr, cond_expr_stmt_list,\n \t\t\t\t     0, LOOP_VINFO_VECT_FACTOR (loop_vinfo));\n   gcc_assert (new_loop);\n-  gcc_assert (loop_num == loop->num);\n   slpeel_checking_verify_cfg_after_peeling (loop, new_loop);\n \n   /* A guard that controls whether the new_loop is to be executed or skipped\n@@ -2053,8 +2049,6 @@ vect_do_peeling_for_alignment (loop_vec_info loop_vinfo, tree ni_name,\n \n   initialize_original_copy_tables ();\n \n-  gimple_seq stmts = NULL;\n-  gsi_insert_seq_on_edge_immediate (loop_preheader_edge (loop), stmts);\n   niters_of_prolog_loop = vect_gen_niters_for_prolog_loop (loop_vinfo,\n \t\t\t\t\t\t\t   ni_name,\n \t\t\t\t\t\t\t   &bound);"}]}