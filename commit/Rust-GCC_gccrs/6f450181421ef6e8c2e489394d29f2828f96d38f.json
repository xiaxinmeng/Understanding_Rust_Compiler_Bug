{"sha": "6f450181421ef6e8c2e489394d29f2828f96d38f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmY0NTAxODE0MjFlZjZlOGMyZTQ4OTM5NGQyOWYyODI4Zjk2ZDM4Zg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2014-11-04T20:46:52Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2014-11-04T20:46:52Z"}, "message": "c-common.c (shorten_compare): Do not shorten mixed DFP and non-DFP compares.\n\n2014-11-04  Richard Biener  <rguenther@suse.de>\n\n\t* c-common.c (shorten_compare): Do not shorten mixed\n\tDFP and non-DFP compares.\n\nFrom-SVN: r217101", "tree": {"sha": "2652446d45b5c68878089d94affc3499cd8ad337", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2652446d45b5c68878089d94affc3499cd8ad337"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f450181421ef6e8c2e489394d29f2828f96d38f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f450181421ef6e8c2e489394d29f2828f96d38f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f450181421ef6e8c2e489394d29f2828f96d38f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f450181421ef6e8c2e489394d29f2828f96d38f/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "673fade339ee671ef26258d9ece2f3947fb43a19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/673fade339ee671ef26258d9ece2f3947fb43a19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/673fade339ee671ef26258d9ece2f3947fb43a19"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "861ba073f3588c72a657b951bb7bd3b5cc0eb4e0", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f450181421ef6e8c2e489394d29f2828f96d38f/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f450181421ef6e8c2e489394d29f2828f96d38f/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=6f450181421ef6e8c2e489394d29f2828f96d38f", "patch": "@@ -1,3 +1,8 @@\n+2014-11-04  Richard Biener  <rguenther@suse.de>\n+\n+\t* c-common.c (shorten_compare): Do not shorten mixed\n+\tDFP and non-DFP compares.\n+\n 2014-11-01  Edward Smith-Rowland  <3dw4rd@verizon.net>\n \n \t* g++.dg/cpp1y/feat-cxx11.C: Commentary and rearrangement of tests."}, {"sha": "532923cb798b52a3d3866b842eb693cbbf57ad6c", "filename": "gcc/c-family/c-common.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f450181421ef6e8c2e489394d29f2828f96d38f/gcc%2Fc-family%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f450181421ef6e8c2e489394d29f2828f96d38f/gcc%2Fc-family%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-common.c?ref=6f450181421ef6e8c2e489394d29f2828f96d38f", "patch": "@@ -4313,10 +4313,16 @@ shorten_compare (location_t loc, tree *op0_ptr, tree *op1_ptr,\n \n   /* If either arg is decimal float and the other is float, find the\n      proper common type to use for comparison.  */\n+  else if (real1 && real2\n+\t   && DECIMAL_FLOAT_MODE_P (TYPE_MODE (TREE_TYPE (primop0)))\n+\t   && DECIMAL_FLOAT_MODE_P (TYPE_MODE (TREE_TYPE (primop1))))\n+    type = common_type (TREE_TYPE (primop0), TREE_TYPE (primop1));\n+\n+  /* If either arg is decimal float and the other is float, fail.  */\n   else if (real1 && real2\n \t   && (DECIMAL_FLOAT_MODE_P (TYPE_MODE (TREE_TYPE (primop0)))\n \t       || DECIMAL_FLOAT_MODE_P (TYPE_MODE (TREE_TYPE (primop1)))))\n-    type = common_type (TREE_TYPE (primop0), TREE_TYPE (primop1));\n+    return 0;\n \n   else if (real1 && real2\n \t   && (TYPE_PRECISION (TREE_TYPE (primop0))"}]}