{"sha": "3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2EzZDU0ZjJmZTZkNmU5YTU2YmRiNzlkOTJjNjM1ZGRmZjlmYTM1OA==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2009-09-10T15:14:39Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2009-09-10T15:14:39Z"}, "message": "Revert:\n\n\t2009-09-09  Uros Bizjak  <ubizjak@gmail.com>\n\n\tPR rtl-optimization/39779\n\t* expr.c (convert_modes): Return when mode == oldmode after\n\tCONST_INTs are processed.\n\ntestsuite/ChangeLog:\n\n\tRevert:\n\t2009-09-09  Uros Bizjak <ubizjak@gmail.com>\n\n\tPR rtl-optimization/39779\n\t* gcc.dg/pr39979.c: New test.\n\nFrom-SVN: r151596", "tree": {"sha": "85d528eea7bb80b6b58720a9f4e5a3bd776005fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85d528eea7bb80b6b58720a9f4e5a3bd776005fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1c6679e236a9cbe030ea9f57712b42c36fa1e199", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c6679e236a9cbe030ea9f57712b42c36fa1e199", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c6679e236a9cbe030ea9f57712b42c36fa1e199"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "69d80ea2ef496f7f25ca70b5fd3e5b7adbdb96cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "patch": "@@ -1,3 +1,12 @@\n+2009-09-10  Uros Bizjak <ubizjak@gmail.com>\n+\n+\tRevert:\n+\t2009-09-09  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR rtl-optimization/39779\n+\t* expr.c (convert_modes): Return when mode == oldmode after\n+\tCONST_INTs are processed.\n+\n 2009-09-10  Nick Clifton  <nickc@redhat.com>\n \n \t* config/mep/mep.c (mep_encode_section_info): Copy weakness"}, {"sha": "cd5eae16880ff31634c8061b5f5ed13a9d8a66db", "filename": "gcc/expr.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "patch": "@@ -761,6 +761,9 @@ convert_modes (enum machine_mode mode, enum machine_mode oldmode, rtx x, int uns\n   if (GET_MODE (x) != VOIDmode)\n     oldmode = GET_MODE (x);\n \n+  if (mode == oldmode)\n+    return x;\n+\n   /* There is one case that we must handle specially: If we are converting\n      a CONST_INT into a mode whose size is twice HOST_BITS_PER_WIDE_INT and\n      we are to interpret the constant as unsigned, gen_lowpart will do\n@@ -826,9 +829,6 @@ convert_modes (enum machine_mode mode, enum machine_mode oldmode, rtx x, int uns\n       return gen_lowpart (mode, x);\n     }\n \n-  if (mode == oldmode)\n-    return x;\n-\n   /* Converting from integer constant into mode is always equivalent to an\n      subreg operation.  */\n   if (VECTOR_MODE_P (mode) && GET_MODE (x) == VOIDmode)"}, {"sha": "03271ae82f6cfab3a960e859a7371df4209524dd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3a3d54f2fe6d6e9a56bdb79d92c635ddff9fa358", "patch": "@@ -1,3 +1,11 @@\n+2009-09-10  Uros Bizjak <ubizjak@gmail.com>\n+\n+\tRevert:\n+\t2009-09-09  Uros Bizjak <ubizjak@gmail.com>\n+\n+\tPR rtl-optimization/39779\n+\t* gcc.dg/pr39979.c: New test.\n+\n 2009-09-10  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/41257"}]}