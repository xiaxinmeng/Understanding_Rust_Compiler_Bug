{"sha": "2931700801f5ac2d996bc35927674e314629062c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjkzMTcwMDgwMWY1YWMyZDk5NmJjMzU5Mjc2NzRlMzE0NjI5MDYyYw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-12-18T19:03:49Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-12-18T19:03:49Z"}, "message": "fold-const.c (multiple_of_p): Handle BIT_AND_EXPR when BOTTOM is a power of two.\n\n        * fold-const.c (multiple_of_p): Handle BIT_AND_EXPR when\n        BOTTOM is a power of two.\n\nFrom-SVN: r92358", "tree": {"sha": "3dc658b9f4a1049ffbec952904cadbb693dd3d0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dc658b9f4a1049ffbec952904cadbb693dd3d0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2931700801f5ac2d996bc35927674e314629062c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2931700801f5ac2d996bc35927674e314629062c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2931700801f5ac2d996bc35927674e314629062c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2931700801f5ac2d996bc35927674e314629062c/comments", "author": null, "committer": null, "parents": [{"sha": "c529c27ef5e80de2e43d2f4028655d4a8baab325", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c529c27ef5e80de2e43d2f4028655d4a8baab325", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c529c27ef5e80de2e43d2f4028655d4a8baab325"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "64935f63fb6cc660ba4319652da32ae3334cacdd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2931700801f5ac2d996bc35927674e314629062c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2931700801f5ac2d996bc35927674e314629062c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2931700801f5ac2d996bc35927674e314629062c", "patch": "@@ -1,3 +1,8 @@\n+2004-12-18  Richard Henderson  <rth@redhat.com>\n+\n+\t* fold-const.c (multiple_of_p): Handle BIT_AND_EXPR when\n+\tBOTTOM is a power of two.\n+\n 2004-12-18  Richard Henderson  <rth@redhat.com>\n \n \t* tree-nested.c (save_tmp_var): New."}, {"sha": "d249f75331206554869c8cb0beafa6ff2365616a", "filename": "gcc/fold-const.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2931700801f5ac2d996bc35927674e314629062c/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2931700801f5ac2d996bc35927674e314629062c/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=2931700801f5ac2d996bc35927674e314629062c", "patch": "@@ -9541,6 +9541,13 @@ multiple_of_p (tree type, tree top, tree bottom)\n \n   switch (TREE_CODE (top))\n     {\n+    case BIT_AND_EXPR:\n+      /* Bitwise and provides a power of two multiple.  If the mask is\n+\t a multiple of BOTTOM then TOP is a multiple of BOTTOM.  */\n+      if (!integer_pow2p (bottom))\n+\treturn 0;\n+      /* FALLTHRU */\n+\n     case MULT_EXPR:\n       return (multiple_of_p (type, TREE_OPERAND (top, 0), bottom)\n \t      || multiple_of_p (type, TREE_OPERAND (top, 1), bottom));"}]}