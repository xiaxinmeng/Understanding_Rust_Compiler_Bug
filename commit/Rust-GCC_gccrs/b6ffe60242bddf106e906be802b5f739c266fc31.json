{"sha": "b6ffe60242bddf106e906be802b5f739c266fc31", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjZmZmU2MDI0MmJkZGYxMDZlOTA2YmU4MDJiNWY3MzljMjY2ZmMzMQ==", "commit": {"author": {"name": "John F. Carr", "email": "jfc@mit.edu", "date": "1997-08-23T23:25:05Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-08-23T23:25:05Z"}, "message": "unroll.c (find_splittable_givs): Only share if two givs have the same add and multiply values.\n\n        * unroll.c (find_splittable_givs): Only share if two givs have the\n        same add and multiply values.\nFixes some testsuite failures on the x86.\n\nFrom-SVN: r14908", "tree": {"sha": "d1b4496c251a555ed6ae53276f02d7a5a0fac110", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1b4496c251a555ed6ae53276f02d7a5a0fac110"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6ffe60242bddf106e906be802b5f739c266fc31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6ffe60242bddf106e906be802b5f739c266fc31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6ffe60242bddf106e906be802b5f739c266fc31", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6ffe60242bddf106e906be802b5f739c266fc31/comments", "author": {"login": "VoxSciurorum", "id": 60116679, "node_id": "MDQ6VXNlcjYwMTE2Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/60116679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VoxSciurorum", "html_url": "https://github.com/VoxSciurorum", "followers_url": "https://api.github.com/users/VoxSciurorum/followers", "following_url": "https://api.github.com/users/VoxSciurorum/following{/other_user}", "gists_url": "https://api.github.com/users/VoxSciurorum/gists{/gist_id}", "starred_url": "https://api.github.com/users/VoxSciurorum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VoxSciurorum/subscriptions", "organizations_url": "https://api.github.com/users/VoxSciurorum/orgs", "repos_url": "https://api.github.com/users/VoxSciurorum/repos", "events_url": "https://api.github.com/users/VoxSciurorum/events{/privacy}", "received_events_url": "https://api.github.com/users/VoxSciurorum/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2ebfd23067727c451e9cfc42e7c2fffb5ed7f006", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ebfd23067727c451e9cfc42e7c2fffb5ed7f006", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ebfd23067727c451e9cfc42e7c2fffb5ed7f006"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "483e9dbcfb1bf47ab6198e0e21b2ff1785737d16", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6ffe60242bddf106e906be802b5f739c266fc31/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6ffe60242bddf106e906be802b5f739c266fc31/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b6ffe60242bddf106e906be802b5f739c266fc31", "patch": "@@ -1,3 +1,8 @@\n+Sat Aug 23 18:19:40 1997  John F. Carr  <jfc@mit.edu>\n+\n+\t* unroll.c (find_splittable_givs): Only share if two givs have the\n+\tsame add and multiply values.\n+\n Sat Aug 23 14:36:27 1997  Jim Wilson  <wilson@cygnus.com>\n \n \t* m68k/next.h (GO_IF_INDEXABLE_BASE): Fix typo in undef."}, {"sha": "2fb1f9a8415890d84c8f529f68acf1b6f8ada9ee", "filename": "gcc/unroll.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6ffe60242bddf106e906be802b5f739c266fc31/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6ffe60242bddf106e906be802b5f739c266fc31/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=b6ffe60242bddf106e906be802b5f739c266fc31", "patch": "@@ -2849,7 +2849,14 @@ find_splittable_givs (bl, unroll_type, loop_start, loop_end, increment,\n \t      else if (unroll_type != UNROLL_COMPLETELY\n \t\t       && v->giv_type == DEST_ADDR\n \t\t       && v->same && v->same->giv_type == DEST_ADDR\n-\t\t       && v->same->unrolled)\n+\t\t       && v->same->unrolled\n+\t\t       /* combine_givs_p may return true for some cases\n+\t\t\t  where the add and mult values are not equal.\n+\t\t\t  To share a register here, the values must be\n+\t\t\t  equal.  */\n+\t\t       && rtx_equal_p (v->same->mult_val, v->mult_val)\n+\t\t       && rtx_equal_p (v->same->add_val, v->add_val))\n+\n \t\t{\n \t\t  v->dest_reg = v->same->dest_reg;\n \t\t  v->shared = 1;"}]}