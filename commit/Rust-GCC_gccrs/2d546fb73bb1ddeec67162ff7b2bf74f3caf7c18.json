{"sha": "2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ1NDZmYjczYmIxZGRlZWM2NzE2MmZmN2IyYmY3NGYzY2FmN2MxOA==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2015-10-06T13:46:34Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2015-10-06T13:46:34Z"}, "message": "re PR c/65345 (ICE with _Generic selection on _Atomic int)\n\n        PR c/65345\n        * config/rs6000/rs6000.c (rs6000_atomic_assign_expand_fenv):\n        Adjust to use create_tmp_var_raw instead of create_tmp_var.\n\nFrom-SVN: r228524", "tree": {"sha": "a0ca7167aa5af236ae6d73a006de920ec0c772d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0ca7167aa5af236ae6d73a006de920ec0c772d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bdef54425126ff1cb3c61424e5d062d8b7608dd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdef54425126ff1cb3c61424e5d062d8b7608dd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdef54425126ff1cb3c61424e5d062d8b7608dd8"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "d8e7a86a89bbfab0ae0e369f36137495a825f484", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18", "patch": "@@ -1,3 +1,9 @@\n+2015-10-06  David Edelsohn  <dje.gcc@gmail.com>\n+\n+\tPR c/65345\n+\t* config/rs6000/rs6000.c (rs6000_atomic_assign_expand_fenv):\n+\tAdjust to use create_tmp_var_raw instead of create_tmp_var.\n+\t\n 2015-10-06  Nick Clifton  <nickc@redhat.com>\n \n \t* config/rl78/rl78.c (rl78_rtx_costs): Improve cost estimates for"}, {"sha": "e095f03538703cfc36abbf831baea55d4ad39c26", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=2d546fb73bb1ddeec67162ff7b2bf74f3caf7c18", "patch": "@@ -36475,8 +36475,8 @@ rs6000_atomic_assign_expand_fenv (tree *hold, tree *clear, tree *update)\n \t  DECL_EXTERNAL (atomic_update_decl) = 1;\n \t}\n \n-      tree fenv_var = create_tmp_var (double_type_node);\n-      mark_addressable (fenv_var);\n+      tree fenv_var = create_tmp_var_raw (double_type_node);\n+      TREE_ADDRESSABLE (fenv_var) = 1;\n       tree fenv_addr = build1 (ADDR_EXPR, double_ptr_type_node, fenv_var);\n \n       *hold = build_call_expr (atomic_hold_decl, 1, fenv_addr);\n@@ -36503,7 +36503,7 @@ rs6000_atomic_assign_expand_fenv (tree *hold, tree *clear, tree *update)\n   const unsigned HOST_WIDE_INT hold_exception_mask =\n     HOST_WIDE_INT_C (0xffffffff00000007);\n \n-  tree fenv_var = create_tmp_var (double_type_node);\n+  tree fenv_var = create_tmp_var_raw (double_type_node);\n \n   tree hold_mffs = build2 (MODIFY_EXPR, void_type_node, fenv_var, call_mffs);\n \n@@ -36532,7 +36532,7 @@ rs6000_atomic_assign_expand_fenv (tree *hold, tree *clear, tree *update)\n   const unsigned HOST_WIDE_INT clear_exception_mask =\n     HOST_WIDE_INT_C (0xffffffff00000000);\n \n-  tree fenv_clear = create_tmp_var (double_type_node);\n+  tree fenv_clear = create_tmp_var_raw (double_type_node);\n \n   tree clear_mffs = build2 (MODIFY_EXPR, void_type_node, fenv_clear, call_mffs);\n \n@@ -36564,7 +36564,7 @@ rs6000_atomic_assign_expand_fenv (tree *hold, tree *clear, tree *update)\n   const unsigned HOST_WIDE_INT new_exception_mask =\n     HOST_WIDE_INT_C (0x1ff80fff);\n \n-  tree old_fenv = create_tmp_var (double_type_node);\n+  tree old_fenv = create_tmp_var_raw (double_type_node);\n   tree update_mffs = build2 (MODIFY_EXPR, void_type_node, old_fenv, call_mffs);\n \n   tree old_llu = build1 (VIEW_CONVERT_EXPR, uint64_type_node, old_fenv);"}]}