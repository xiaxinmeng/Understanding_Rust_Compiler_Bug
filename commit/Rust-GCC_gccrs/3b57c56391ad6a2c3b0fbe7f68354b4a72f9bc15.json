{"sha": "3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2I1N2M1NjM5MWFkNmEyYzNiMGZiZTdmNjgzNTRiNGE3MmY5YmMxNQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-12T19:39:44Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-12T19:39:44Z"}, "message": "inclhack.def (struct_sockaddr): Avoid \"fixing\" sockaddr_in (on OpenBSD).\n\n\t* fixinc/inclhack.def (struct_sockaddr): Avoid \"fixing\" sockaddr_in\n\t(on OpenBSD).\n\nFrom-SVN: r69270", "tree": {"sha": "3ec8a6751e0e424a99d35c3c0c40448b02cfc419", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ec8a6751e0e424a99d35c3c0c40448b02cfc419"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/comments", "author": null, "committer": null, "parents": [{"sha": "d5d16b5f41bee486b1881cf6f79d10dfdb0a91b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d16b5f41bee486b1881cf6f79d10dfdb0a91b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5d16b5f41bee486b1881cf6f79d10dfdb0a91b5"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "b0241dd7181d235ec71af236e123fb64de85eb3c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "patch": "@@ -1,5 +1,8 @@\n 2003-07-12  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n+\t* fixinc/inclhack.def (struct_sockaddr): Avoid \"fixing\" sockaddr_in\n+\t(on OpenBSD).\n+\n \t* fixinc/inclhack.def (gnu_types): Improve comment.\n \n 2003-07-12  Andreas Jaeger  <aj@suse.de>"}, {"sha": "b1b07041e7fa83343e2411fa56312f458a6fa5b2", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "patch": "@@ -2,11 +2,11 @@\n  * \n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  * \n- * It has been AutoGen-ed  Wednesday July  9, 2003 at 05:06:05 PM EDT\n+ * It has been AutoGen-ed  Saturday July 12, 2003 at 03:37:51 PM EDT\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT CVS-MERGE THIS FILE, EITHER Wed Jul  9 17:06:05 EDT 2003\n+/* DO NOT CVS-MERGE THIS FILE, EITHER Sat Jul 12 15:37:51 EDT 2003\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -4437,17 +4437,20 @@ tSCC zStruct_SockaddrList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zStruct_SockaddrSelect0[] =\n-       \"^.*authdes_create.*struct sockaddr\";\n+       \"^.*authdes_create.*struct sockaddr[^_]\";\n \n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zStruct_SockaddrBypass0[] =\n        \"<sys/socket.h>\";\n+tSCC zStruct_SockaddrBypass1[] =\n+       \"struct sockaddr;\\n\";\n \n-#define    STRUCT_SOCKADDR_TEST_CT  2\n+#define    STRUCT_SOCKADDR_TEST_CT  3\n static tTestDesc aStruct_SockaddrTests[] = {\n   { TT_NEGREP,   zStruct_SockaddrBypass0, (regex_t*)NULL },\n+  { TT_NEGREP,   zStruct_SockaddrBypass1, (regex_t*)NULL },\n   { TT_EGREP,    zStruct_SockaddrSelect0, (regex_t*)NULL }, };\n \n /*\n@@ -6106,7 +6109,7 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          172\n+#define REGEX_COUNT          173\n #define MACH_LIST_SIZE_LIMIT 261\n #define FIX_COUNT            154\n "}, {"sha": "01b73abb367f0c6b005549bb580b4fef9106795f", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=3b57c56391ad6a2c3b0fbe7f68354b4a72f9bc15", "patch": "@@ -2477,12 +2477,16 @@ fix = {\n /*\n  *  IRIX 4.0.5 <rpc/auth.h> uses struct sockaddr\n  *  in prototype without previous definition.\n+ *\n+ *  Don't fix OpenBSD, which uses struct sockaddr_in prototyping the same\n+ *  function, and does define it.\n  */\n fix = {\n     hackname  = struct_sockaddr;\n     files     = rpc/auth.h;\n-    select    = \"^.*authdes_create.*struct sockaddr\";\n+    select    = \"^.*authdes_create.*struct sockaddr[^_]\";\n     bypass    = \"<sys/socket\\.h>\";\n+    bypass    = \"struct sockaddr;\\n\";\n     c_fix     = format;\n     c_fix_arg = \"struct sockaddr;\\n%0\";\n     test_text = \"extern AUTH* authdes_create( struct sockaddr* );\";"}]}