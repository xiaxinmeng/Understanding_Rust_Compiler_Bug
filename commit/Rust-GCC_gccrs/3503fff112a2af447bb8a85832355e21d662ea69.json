{"sha": "3503fff112a2af447bb8a85832355e21d662ea69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzUwM2ZmZjExMmEyYWY0NDdiYjhhODU4MzIzNTVlMjFkNjYyZWE2OQ==", "commit": {"author": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2013-02-04T22:43:47Z"}, "committer": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2013-02-04T22:43:47Z"}, "message": "re PR target/55146 (jumptables with byte entries produce wrong code with -Os/-O2 for SH-1)\n\n\tPR target/55146\n\t* gcc.target/sh/pr55146.c: New.\n\nFrom-SVN: r195743", "tree": {"sha": "5d17bf1706f6a82e65a1168ac1e1c312ebe7442b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d17bf1706f6a82e65a1168ac1e1c312ebe7442b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3503fff112a2af447bb8a85832355e21d662ea69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3503fff112a2af447bb8a85832355e21d662ea69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3503fff112a2af447bb8a85832355e21d662ea69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3503fff112a2af447bb8a85832355e21d662ea69/comments", "author": null, "committer": null, "parents": [{"sha": "951eb5c7e26d4f976cf8bc841aa1268be5f49a06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/951eb5c7e26d4f976cf8bc841aa1268be5f49a06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/951eb5c7e26d4f976cf8bc841aa1268be5f49a06"}], "stats": {"total": 57, "additions": 56, "deletions": 1}, "files": [{"sha": "acdad16e5ebdf380419a7df546e6c08b62227fda", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3503fff112a2af447bb8a85832355e21d662ea69/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3503fff112a2af447bb8a85832355e21d662ea69/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3503fff112a2af447bb8a85832355e21d662ea69", "patch": "@@ -1,4 +1,9 @@\n-2012-02-04  Oleg Endo  <olegendo@gcc.gnu.org>\n+2013-02-04  Oleg Endo  <olegendo@gcc.gnu.org>\n+\n+\tPR target/55146\n+\t* gcc.target/sh/pr55146.c: New.\n+\n+2013-02-04  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \tPR tree-optimization/54386\n \t* gcc.target/sh/pr54386.c: New."}, {"sha": "11dd49ff6e418952f1bb7735ab338e93bdfa1ac4", "filename": "gcc/testsuite/gcc.target/sh/pr55146.c", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3503fff112a2af447bb8a85832355e21d662ea69/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Fpr55146.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3503fff112a2af447bb8a85832355e21d662ea69/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Fpr55146.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Fpr55146.c?ref=3503fff112a2af447bb8a85832355e21d662ea69", "patch": "@@ -0,0 +1,50 @@\n+/* Check that the 'extu.b' instruction is generated for short jump tables.  */\n+/* { dg-do compile { target \"sh*-*-*\" } } */\n+/* { dg-options \"-Os\" } */\n+/* { dg-skip-if \"\" { \"sh*-*-*\" } { \"-m5*\"} { \"\" } }  */\n+/* { dg-final { scan-assembler \"extu.b\" } } */\n+\n+int\n+test (int arg)\n+{\n+  int rc;\n+  switch (arg)\n+    {\n+    case 0:\n+      asm (\"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"mov r4,%0\"\n+\t   : \"=r\" (rc)\n+\t   : \"r\" (arg));\n+      break;\n+    case 1:\n+      asm (\"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"mov r5,%0\"\n+\t   : \"=r\" (rc)\n+\t   : \"r\" (arg));\n+      break;\n+    case 2:\n+      asm (\"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"mov r6,%0\"\n+\t   : \"=r\" (rc)\n+\t   : \"r\" (arg));\n+      break;\n+    case 3:\n+      asm (\"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"mov r7,%0\"\n+\t   : \"=r\" (rc)\n+\t   : \"r\" (arg));\n+      break;\n+    case 4:\n+      asm (\"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"nop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\tnop\\n\\t\"\n+\t   \"mov r8,%0\"\n+\t   : \"=r\" (rc)\n+\t   : \"r\" (arg));\n+      break;\n+    }\n+  return rc;\n+}"}]}