{"sha": "8ce8d98e74b3c9e8a03443a936624f46f00e5cde", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGNlOGQ5OGU3NGIzYzllOGEwMzQ0M2E5MzY2MjRmNDZmMDBlNWNkZQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-05-24T01:41:06Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-05-24T01:41:06Z"}, "message": "class.c (build_vtable): Align vtables to TARGET_VTABLE_ENTRY_ALIGN ignoring other target adjustments.\n\n\n\n\t* class.c (build_vtable): Align vtables to TARGET_VTABLE_ENTRY_ALIGN\n\tignoring other target adjustments.\n\nFrom-SVN: r210886", "tree": {"sha": "63aeb9247ebdb27175780df3aad34ace781adf11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63aeb9247ebdb27175780df3aad34ace781adf11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ce8d98e74b3c9e8a03443a936624f46f00e5cde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ce8d98e74b3c9e8a03443a936624f46f00e5cde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ce8d98e74b3c9e8a03443a936624f46f00e5cde", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ce8d98e74b3c9e8a03443a936624f46f00e5cde/comments", "author": null, "committer": null, "parents": [{"sha": "53cb0386c249cdb0a758eae0a1b23f9a396f9508", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53cb0386c249cdb0a758eae0a1b23f9a396f9508", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53cb0386c249cdb0a758eae0a1b23f9a396f9508"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "5f6ee37baaa3b4592d807c728c29fb47948f95a0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ce8d98e74b3c9e8a03443a936624f46f00e5cde/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ce8d98e74b3c9e8a03443a936624f46f00e5cde/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=8ce8d98e74b3c9e8a03443a936624f46f00e5cde", "patch": "@@ -1,3 +1,8 @@\n+2014-05-23  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* class.c (build_vtable): Align vtables to TARGET_VTABLE_ENTRY_ALIGN\n+\tignoring other target adjustments.\n+\n 2014-05-23  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* semantics.c (finish_omp_clauses): Remove duplicated variable"}, {"sha": "14780e787dae3f2d9a12c5c6cb9cdfd80c34ded6", "filename": "gcc/cp/class.c", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ce8d98e74b3c9e8a03443a936624f46f00e5cde/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ce8d98e74b3c9e8a03443a936624f46f00e5cde/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=8ce8d98e74b3c9e8a03443a936624f46f00e5cde", "patch": "@@ -768,11 +768,8 @@ build_vtable (tree class_type, tree name, tree vtable_type)\n   TREE_READONLY (decl) = 1;\n   DECL_VIRTUAL_P (decl) = 1;\n   DECL_ALIGN (decl) = TARGET_VTABLE_ENTRY_ALIGN;\n+  DECL_USER_ALIGN (decl) = true;\n   DECL_VTABLE_OR_VTT_P (decl) = 1;\n-  /* At one time the vtable info was grabbed 2 words at a time.  This\n-     fails on sparc unless you have 8-byte alignment.  (tiemann) */\n-  DECL_ALIGN (decl) = MAX (TYPE_ALIGN (double_type_node),\n-\t\t\t   DECL_ALIGN (decl));\n   set_linkage_according_to_type (class_type, decl);\n   /* The vtable has not been defined -- yet.  */\n   DECL_EXTERNAL (decl) = 1;"}]}