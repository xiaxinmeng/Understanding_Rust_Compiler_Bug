{"sha": "a8a63732c4f3ee7af0543a1790f9076363205213", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThhNjM3MzJjNGYzZWU3YWYwNTQzYTE3OTBmOTA3NjM2MzIwNTIxMw==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@lisa.cygnus.com", "date": "1997-11-03T23:20:24Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1997-11-03T23:20:24Z"}, "message": "repo.c (rindex): Add decl unconditionally.\n\n\t* repo.c (rindex): Add decl unconditionally.\n\t(get_base_filename, open_repo_file): Don't cast rindex.\n\t* xref.c (rindex): Add decl unconditionally.\n\t(index): Remove unused decl.\n\t(open_xref_file): Don't cast rindex.\n\nfix potential problems with 64-bit compilers and casting an int up to a char*\n\nFrom-SVN: r16306", "tree": {"sha": "185c5d57a3e384b7c593ae5da958e3d5996f7dd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/185c5d57a3e384b7c593ae5da958e3d5996f7dd9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8a63732c4f3ee7af0543a1790f9076363205213", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8a63732c4f3ee7af0543a1790f9076363205213", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8a63732c4f3ee7af0543a1790f9076363205213", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8a63732c4f3ee7af0543a1790f9076363205213/comments", "author": null, "committer": null, "parents": [{"sha": "08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde"}], "stats": {"total": 29, "additions": 18, "deletions": 11}, "files": [{"sha": "06808f5ec75bba49b9389c135828b6b500a4d049", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8a63732c4f3ee7af0543a1790f9076363205213/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8a63732c4f3ee7af0543a1790f9076363205213/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a8a63732c4f3ee7af0543a1790f9076363205213", "patch": "@@ -1,3 +1,11 @@\n+1997-11-03  Brendan Kehoe  <brendan@lisa.cygnus.com>\n+\n+\t* repo.c (rindex): Add decl unconditionally.\n+\t(get_base_filename, open_repo_file): Don't cast rindex.\n+\t* xref.c (rindex): Add decl unconditionally.\n+\t(index): Remove unused decl.\n+\t(open_xref_file): Don't cast rindex.\n+\n Sun Nov  2 15:04:12 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* class.c (build_vbase_path): Propagate the result type properly."}, {"sha": "d18730ccb1c262ed3a378b189fd086b911a3878c", "filename": "gcc/cp/repo.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8a63732c4f3ee7af0543a1790f9076363205213/gcc%2Fcp%2Frepo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8a63732c4f3ee7af0543a1790f9076363205213/gcc%2Fcp%2Frepo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Frepo.c?ref=a8a63732c4f3ee7af0543a1790f9076363205213", "patch": "@@ -34,15 +34,15 @@ Boston, MA 02111-1307, USA.  */\n \n #ifdef HAVE_STRING_H\n #include <string.h>\n-#else\n-extern char * rindex ();\n #endif\n #ifdef HAVE_STDLIB_H\n #include <stdlib.h>\n #else\n extern char * getenv ();\n #endif\n-extern char * getpwd PROTO((void));\n+\n+extern char *rindex ();\n+extern char *getpwd PROTO((void));\n \n static tree repo_get_id PROTO((tree));\n static char *save_string PROTO((char *, int));\n@@ -277,7 +277,7 @@ get_base_filename (filename)\n       return NULL;\n     }\n \n-  p = (char *) rindex (filename, '/');\n+  p = rindex (filename, '/');\n   if (p)\n     return p+1;\n   else\n@@ -294,10 +294,10 @@ open_repo_file (filename)\n   if (s == NULL)\n     return;\n \n-  p = (char *) rindex (s, '/');\n+  p = rindex (s, '/');\n   if (! p)\n     p = s;\n-  p = (char *) rindex (p, '.');\n+  p = rindex (p, '.');\n   if (! p)\n     p = s + strlen (s);\n "}, {"sha": "6269f17602eadf08f3f992c41f502f434d69612f", "filename": "gcc/cp/xref.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8a63732c4f3ee7af0543a1790f9076363205213/gcc%2Fcp%2Fxref.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8a63732c4f3ee7af0543a1790f9076363205213/gcc%2Fcp%2Fxref.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fxref.c?ref=a8a63732c4f3ee7af0543a1790f9076363205213", "patch": "@@ -40,11 +40,10 @@ extern char *getpwd PROTO((void));\n \n #ifdef HAVE_STRING_H\n #include <string.h>\n-#else\n-extern char *index ();\n-extern char *rindex ();\n #endif\n \n+extern char *rindex ();\n+\n /* The character(s) used to join a directory specification (obtained with\n    getwd or equivalent) with a non-absolute file name.  */\n \n@@ -813,14 +812,14 @@ open_xref_file(file)\n #ifdef XREF_FILE_NAME\n   XREF_FILE_NAME (xref_name, file);\n #else\n-  s = (char *) rindex (file, '/');\n+  s = rindex (file, '/');\n   if (s == NULL)\n     sprintf (xref_name, \".%s.gxref\", file);\n   else\n     {\n       ++s;\n       strcpy (xref_name, file);\n-      t = (char *) rindex (xref_name, '/');\n+      t = rindex (xref_name, '/');\n       ++t;\n       *t++ = '.';\n       strcpy (t, s);"}]}