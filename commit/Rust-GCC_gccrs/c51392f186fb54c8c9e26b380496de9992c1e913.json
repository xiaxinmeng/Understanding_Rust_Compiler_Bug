{"sha": "c51392f186fb54c8c9e26b380496de9992c1e913", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzUxMzkyZjE4NmZiNTRjOGM5ZTI2YjM4MDQ5NmRlOTk5MmMxZTkxMw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2013-11-23T09:06:42Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2013-11-23T09:06:42Z"}, "message": "bfin-protos.h (push_multiple_operation): Delete.\n\ngcc/\n\t* config/bfin/bfin-protos.h (push_multiple_operation): Delete.\n\t(pop_multiple_operation): Delete.\n\t(analyze_push_multiple_operation): Declare.\n\t(analyze_pop_multiple_operation): Declare.\n\t* config/bfin/bfin.c (push_multiple_operation): Rename to...\n\t(analyze_push_multiple_operation): ...this and remove mode argument.\n\t(pop_multiple_operation): Rename to...\n\t(analyze_pop_multiple_operation): ...this and remove mode argument.\n\t* config/bfin/predicates.md (push_multiple_operation): Define.\n\t(pop_multiple_operation): Likewise.\n\nFrom-SVN: r205301", "tree": {"sha": "79d8faf962e3f44f43f2cae3224ce91f7cbc4abd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/79d8faf962e3f44f43f2cae3224ce91f7cbc4abd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c51392f186fb54c8c9e26b380496de9992c1e913", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c51392f186fb54c8c9e26b380496de9992c1e913", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c51392f186fb54c8c9e26b380496de9992c1e913", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c51392f186fb54c8c9e26b380496de9992c1e913/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4615f96c2d51be66bb76fa3d168d8a162b92317d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4615f96c2d51be66bb76fa3d168d8a162b92317d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4615f96c2d51be66bb76fa3d168d8a162b92317d"}], "stats": {"total": 37, "additions": 29, "deletions": 8}, "files": [{"sha": "c3fdcbe555ec75f0a936d69facda29b40a5deafe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c51392f186fb54c8c9e26b380496de9992c1e913", "patch": "@@ -1,3 +1,16 @@\n+2013-11-23  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* config/bfin/bfin-protos.h (push_multiple_operation): Delete.\n+\t(pop_multiple_operation): Delete.\n+\t(analyze_push_multiple_operation): Declare.\n+\t(analyze_pop_multiple_operation): Declare.\n+\t* config/bfin/bfin.c (push_multiple_operation): Rename to...\n+\t(analyze_push_multiple_operation): ...this and remove mode argument.\n+\t(pop_multiple_operation): Rename to...\n+\t(analyze_pop_multiple_operation): ...this and remove mode argument.\n+\t* config/bfin/predicates.md (push_multiple_operation): Define.\n+\t(pop_multiple_operation): Likewise.\n+\n 2013-11-23  Alan Modra  <amodra@gmail.com>\n \n \t* config/rs6000/vsx.md (fusion peepholes): Disable when !TARGET_VSX."}, {"sha": "1123845d364fcad0a843c982786dbb5d7e2518d6", "filename": "gcc/config/bfin/bfin-protos.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2Fconfig%2Fbfin%2Fbfin-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2Fconfig%2Fbfin%2Fbfin-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin-protos.h?ref=c51392f186fb54c8c9e26b380496de9992c1e913", "patch": "@@ -105,8 +105,8 @@ extern rtx bfin_va_arg (tree, tree);\n \n extern void bfin_expand_prologue (void);\n extern void bfin_expand_epilogue (int, int, bool);\n-extern int push_multiple_operation (rtx, enum machine_mode);\n-extern int pop_multiple_operation (rtx, enum machine_mode);\n+extern int analyze_push_multiple_operation (rtx);\n+extern int analyze_pop_multiple_operation (rtx);\n extern void output_push_multiple (rtx, rtx *);\n extern void output_pop_multiple (rtx, rtx *);\n extern int bfin_hard_regno_rename_ok (unsigned int, unsigned int);"}, {"sha": "a1adf8010b6d9622bf7aafd80122664af748308c", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=c51392f186fb54c8c9e26b380496de9992c1e913", "patch": "@@ -2992,7 +2992,7 @@ static int first_preg_to_save, first_dreg_to_save;\n static int n_regs_to_save;\n \n int\n-push_multiple_operation (rtx op, enum machine_mode mode ATTRIBUTE_UNUSED)\n+analyze_push_multiple_operation (rtx op)\n {\n   int lastdreg = 8, lastpreg = 6;\n   int i, group;\n@@ -3063,7 +3063,7 @@ push_multiple_operation (rtx op, enum machine_mode mode ATTRIBUTE_UNUSED)\n }\n \n int\n-pop_multiple_operation (rtx op, enum machine_mode mode ATTRIBUTE_UNUSED)\n+analyze_pop_multiple_operation (rtx op)\n {\n   int lastdreg = 8, lastpreg = 6;\n   int i, group;\n@@ -3132,7 +3132,7 @@ output_push_multiple (rtx insn, rtx *operands)\n   int ok;\n   \n   /* Validate the insn again, and compute first_[dp]reg_to_save. */\n-  ok = push_multiple_operation (PATTERN (insn), VOIDmode);\n+  ok = analyze_push_multiple_operation (PATTERN (insn));\n   gcc_assert (ok);\n   \n   if (first_dreg_to_save == 8)\n@@ -3156,7 +3156,7 @@ output_pop_multiple (rtx insn, rtx *operands)\n   int ok;\n   \n   /* Validate the insn again, and compute first_[dp]reg_to_save. */\n-  ok = pop_multiple_operation (PATTERN (insn), VOIDmode);\n+  ok = analyze_pop_multiple_operation (PATTERN (insn));\n   gcc_assert (ok);\n \n   if (first_dreg_to_save == 8)\n@@ -4136,8 +4136,8 @@ workaround_rts_anomaly (void)\n \n \t  if (GET_CODE (pat) == PARALLEL)\n \t    {\n-\t      if (push_multiple_operation (pat, VOIDmode)\n-\t\t  || pop_multiple_operation (pat, VOIDmode))\n+\t      if (analyze_push_multiple_operation (pat)\n+\t\t  || analyze_pop_multiple_operation (pat))\n \t\tthis_cycles = n_regs_to_save;\n \t    }\n \t  else"}, {"sha": "8d9e13d5acaea674241a49f2cd6a73ddadad82cd", "filename": "gcc/config/bfin/predicates.md", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2Fconfig%2Fbfin%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c51392f186fb54c8c9e26b380496de9992c1e913/gcc%2Fconfig%2Fbfin%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fpredicates.md?ref=c51392f186fb54c8c9e26b380496de9992c1e913", "patch": "@@ -239,3 +239,11 @@\n   gcc_assert (REG_P (op));\n   return IREG_P (op);\n })\n+\n+(define_predicate \"push_multiple_operation\"\n+  (and (match_code \"parallel\")\n+       (match_test \"analyze_push_multiple_operation (op)\")))\n+\n+(define_predicate \"pop_multiple_operation\"\n+  (and (match_code \"parallel\")\n+       (match_test \"analyze_pop_multiple_operation (op)\")))"}]}