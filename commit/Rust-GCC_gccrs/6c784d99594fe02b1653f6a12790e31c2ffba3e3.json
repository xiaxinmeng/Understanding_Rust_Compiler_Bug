{"sha": "6c784d99594fe02b1653f6a12790e31c2ffba3e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmM3ODRkOTk1OTRmZTAyYjE2NTNmNmExMjc5MGUzMWMyZmZiYTNlMw==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2002-05-15T22:32:25Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2002-05-15T22:32:25Z"}, "message": "c++config (__USE_MALLOC): Report case where the user improperly defined it on the command line.\n\n\tlibstdc++/6641\n\t* include/bits/c++config (__USE_MALLOC): Report case where\n\tthe user improperly defined it on the command line.\n\nFrom-SVN: r53494", "tree": {"sha": "1d2b051a387190dcf8cc06c104c264110562456c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d2b051a387190dcf8cc06c104c264110562456c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c784d99594fe02b1653f6a12790e31c2ffba3e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c784d99594fe02b1653f6a12790e31c2ffba3e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c784d99594fe02b1653f6a12790e31c2ffba3e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c784d99594fe02b1653f6a12790e31c2ffba3e3/comments", "author": null, "committer": null, "parents": [{"sha": "033afd1106402a8f18e5acc21de1d85fd73d8969", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033afd1106402a8f18e5acc21de1d85fd73d8969", "html_url": "https://github.com/Rust-GCC/gccrs/commit/033afd1106402a8f18e5acc21de1d85fd73d8969"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "d94791b86b282548a4b562d610f1d50ae950916d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c784d99594fe02b1653f6a12790e31c2ffba3e3/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c784d99594fe02b1653f6a12790e31c2ffba3e3/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6c784d99594fe02b1653f6a12790e31c2ffba3e3", "patch": "@@ -1,3 +1,9 @@\n+2002-05-15  Loren J. Rittle <ljrittle@acm.org>\n+\n+\tlibstdc++/6641\n+\t* include/bits/c++config (__USE_MALLOC): Report case where\n+\tthe user improperly defined it on the command line.\n+\n 2002-05-15  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* testsuite/testsuite_hooks.h (__set_testsuite_memlimit):"}, {"sha": "3433f02bc9b2b40cb0bc2da6552904c7cab5af4d", "filename": "libstdc++-v3/include/bits/c++config", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c784d99594fe02b1653f6a12790e31c2ffba3e3/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c784d99594fe02b1653f6a12790e31c2ffba3e3/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig?ref=6c784d99594fe02b1653f6a12790e31c2ffba3e3", "patch": "@@ -69,7 +69,15 @@\n // that threads are properly configured on your platform before\n // assigning blame to the STL container-memory allocator.  After doing\n // so, please report any possible issues to libstdc++@gcc.gnu.org .\n-// Do not blindly #define __USE_MALLOC here or on the command line.\n+// Do not define __USE_MALLOC on the command line.  Enforce it here:\n+#ifdef __USE_MALLOC\n+#error __USE_MALLOC should only be defined within \\\n+libstdc++-v3/include/bits/c++config before full recompilation of the library.\n+#endif\n+// Define __USE_MALLOC after this point in the file in order to aid debugging\n+// or globally change allocation policy.  This breaks the ABI, thus\n+// completely recompile the library.  A patch to better support\n+// changing the global allocator policy would be probably be accepted.\n \n // The remainder of the prewritten config is mostly automatic; all the\n // user hooks are listed above."}]}