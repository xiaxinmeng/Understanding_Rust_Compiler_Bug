{"sha": "f8e56962463899a75aa424b93e7ba32cabddd504", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhlNTY5NjI0NjM4OTlhNzVhYTQyNGI5M2U3YmEzMmNhYmRkZDUwNA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-03-23T23:12:49Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-03-23T23:12:49Z"}, "message": "re PR ada/85036 (--disable-bootstrap --enable-languages=ada[,c++] fails)\n\n\tPR ada/85036\n\t* gnatlink.adb (Process_Args): Drop existing link switches if multiple\n\tswitches are passed for --LINK.\n\nFrom-SVN: r258827", "tree": {"sha": "9a3ec11b53bb1362381c1419457c49ed42eb715b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a3ec11b53bb1362381c1419457c49ed42eb715b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8e56962463899a75aa424b93e7ba32cabddd504", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e56962463899a75aa424b93e7ba32cabddd504", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8e56962463899a75aa424b93e7ba32cabddd504", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e56962463899a75aa424b93e7ba32cabddd504/comments", "author": null, "committer": null, "parents": [{"sha": "b05e29ecf955a36c00b964ff61aad878a846bc80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b05e29ecf955a36c00b964ff61aad878a846bc80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b05e29ecf955a36c00b964ff61aad878a846bc80"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "d75028d2fa484fb0fade6f77bc6f07ea6763f937", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e56962463899a75aa424b93e7ba32cabddd504/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e56962463899a75aa424b93e7ba32cabddd504/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=f8e56962463899a75aa424b93e7ba32cabddd504", "patch": "@@ -1,3 +1,9 @@\n+2018-03-23  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/85036\n+\t* gnatlink.adb (Process_Args): Drop existing link switches if multiple\n+\tswitches are passed for --LINK.\n+\n 2018-03-12  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR ada/82813"}, {"sha": "cea664bf75fcd5a970b9f1dbbb7cd8073162398c", "filename": "gcc/ada/gnatlink.adb", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e56962463899a75aa424b93e7ba32cabddd504/gcc%2Fada%2Fgnatlink.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e56962463899a75aa424b93e7ba32cabddd504/gcc%2Fada%2Fgnatlink.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatlink.adb?ref=f8e56962463899a75aa424b93e7ba32cabddd504", "patch": "@@ -544,6 +544,11 @@ procedure Gnatlink is\n                      end if;\n \n                      --  The other arguments are passed as-is to the linker\n+                     --  and override those coming from --GCC= if any.\n+\n+                     if L_Args.all'Last >= 2 then\n+                        Gcc_Linker_Options.Set_Last (0);\n+                     end if;\n \n                      for J in 2 .. L_Args.all'Last loop\n                         Gcc_Linker_Options.Increment_Last;"}]}