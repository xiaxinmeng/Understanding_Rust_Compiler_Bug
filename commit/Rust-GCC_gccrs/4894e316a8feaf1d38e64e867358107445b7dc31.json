{"sha": "4894e316a8feaf1d38e64e867358107445b7dc31", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg5NGUzMTZhOGZlYWYxZDM4ZTY0ZTg2NzM1ODEwNzQ0NWI3ZGMzMQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-12-18T16:57:36Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-12-18T16:57:36Z"}, "message": "LWG 3171: restore stream insertion for filesystem::directory_entry\n\n\t* include/bits/fs_dir.h (operator<<): Overload for directory_entry,\n\tas per LWG 3171.\n\t* testsuite/27_io/filesystem/directory_entry/lwg3171.cc: New test.\n\nFrom-SVN: r267238", "tree": {"sha": "b5332b05f10eef7826f43eb8ad3a8892c7042c41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5332b05f10eef7826f43eb8ad3a8892c7042c41"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4894e316a8feaf1d38e64e867358107445b7dc31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4894e316a8feaf1d38e64e867358107445b7dc31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4894e316a8feaf1d38e64e867358107445b7dc31", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4894e316a8feaf1d38e64e867358107445b7dc31/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb601354e11d8c0db41cd119d51fe1acd4afa648", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb601354e11d8c0db41cd119d51fe1acd4afa648", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb601354e11d8c0db41cd119d51fe1acd4afa648"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "d9747e8bb07ef6c5d7e9b713ecd5f79e47032aba", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4894e316a8feaf1d38e64e867358107445b7dc31/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4894e316a8feaf1d38e64e867358107445b7dc31/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=4894e316a8feaf1d38e64e867358107445b7dc31", "patch": "@@ -1,5 +1,9 @@\n 2018-12-18  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* include/bits/fs_dir.h (operator<<): Overload for directory_entry,\n+\tas per LWG 3171.\n+\t* testsuite/27_io/filesystem/directory_entry/lwg3171.cc: New test.\n+\n \t* src/filesystem/std-dir.cc (filesystem::_Dir::advance): Move new\n \tpath instead of copying.\n "}, {"sha": "90bdf7305f8b22e3d33ac41c528dd0f0d1654586", "filename": "libstdc++-v3/include/bits/fs_dir.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4894e316a8feaf1d38e64e867358107445b7dc31/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffs_dir.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4894e316a8feaf1d38e64e867358107445b7dc31/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffs_dir.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffs_dir.h?ref=4894e316a8feaf1d38e64e867358107445b7dc31", "patch": "@@ -300,6 +300,14 @@ _GLIBCXX_BEGIN_NAMESPACE_CXX11\n     friend class directory_iterator;\n     friend class recursive_directory_iterator;\n \n+    // _GLIBCXX_RESOLVE_LIB_DEFECTS\n+    // 3171. LWG 2989 breaks directory_entry stream insertion\n+    template<typename _CharT, typename _Traits>\n+      friend basic_ostream<_CharT, _Traits>&\n+      operator<<(basic_ostream<_CharT, _Traits>& __os,\n+\t\t const directory_entry& __d)\n+      { return __os << __d.path(); }\n+\n     directory_entry(const filesystem::path& __p, file_type __t)\n     : _M_path(__p), _M_type(__t)\n     { }"}]}