{"sha": "32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzJhZDBmMDMyOThkZDVlZGQwMTVmYTc4ZGNmYmI5NmQ2NmM5YTgwZA==", "commit": {"author": {"name": "Teresa Johnson", "email": "tejohnson@google.com", "date": "2013-11-19T22:13:49Z"}, "committer": {"name": "Teresa Johnson", "email": "tejohnson@gcc.gnu.org", "date": "2013-11-19T22:13:49Z"}, "message": "i386-common.c: Enable -freorder-blocks-and-partition at -O2 and up for x86.\n\n2013-11-19  Teresa Johnson  <tejohnson@google.com>\n\n\t* common/config/i386/i386-common.c: Enable\n\t-freorder-blocks-and-partition at -O2 and up for x86.\n\t* doc/invoke.texi: Update -freorder-blocks-and-partition default.\n\t* opts.c (finish_options): Only warn if -freorder-blocks-and-\n\tpartition was set on command line.\n\nFrom-SVN: r205058", "tree": {"sha": "0ee342f407ede127f48bbc6e9ebf78572744d167", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ee342f407ede127f48bbc6e9ebf78572744d167"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/comments", "author": {"login": "teresajohnson", "id": 20446403, "node_id": "MDQ6VXNlcjIwNDQ2NDAz", "avatar_url": "https://avatars.githubusercontent.com/u/20446403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teresajohnson", "html_url": "https://github.com/teresajohnson", "followers_url": "https://api.github.com/users/teresajohnson/followers", "following_url": "https://api.github.com/users/teresajohnson/following{/other_user}", "gists_url": "https://api.github.com/users/teresajohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/teresajohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teresajohnson/subscriptions", "organizations_url": "https://api.github.com/users/teresajohnson/orgs", "repos_url": "https://api.github.com/users/teresajohnson/repos", "events_url": "https://api.github.com/users/teresajohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/teresajohnson/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2ae367c1e7081c2ec9a47267551d197002e79b23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ae367c1e7081c2ec9a47267551d197002e79b23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ae367c1e7081c2ec9a47267551d197002e79b23"}], "stats": {"total": 33, "additions": 24, "deletions": 9}, "files": [{"sha": "9cd78e97644f26f682bcc00269b6edfd5cb19ace", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "patch": "@@ -1,3 +1,11 @@\n+2013-11-19  Teresa Johnson  <tejohnson@google.com>\n+\n+\t* common/config/i386/i386-common.c: Enable\n+\t-freorder-blocks-and-partition at -O2 and up for x86.\n+\t* doc/invoke.texi: Update -freorder-blocks-and-partition default.\n+\t* opts.c (finish_options): Only warn if -freorder-blocks-and-\n+\tpartition was set on command line.\n+\n 2013-11-19  Sriraman Tallam  <tmsriram@google.com>\n \n \t* final.c (final_scan_insn): Emit a label for the split"}, {"sha": "e07479da28c05ef30a0e09580c5ffdb09e9e3ca0", "filename": "gcc/common/config/i386/i386-common.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c?ref=32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "patch": "@@ -789,6 +789,8 @@ static const struct default_options ix86_option_optimization_table[] =\n   {\n     /* Enable redundant extension instructions removal at -O2 and higher.  */\n     { OPT_LEVELS_2_PLUS, OPT_free, NULL, 1 },\n+    /* Enable function splitting at -O2 and higher.  */\n+    { OPT_LEVELS_2_PLUS, OPT_freorder_blocks_and_partition, NULL, 1 },\n     /* Turn off -fschedule-insns by default.  It tends to make the\n        problem with not enough registers even worse.  */\n     { OPT_LEVELS_ALL, OPT_fschedule_insns, NULL, 0 },"}, {"sha": "e00542285f9430298435c6efea521c528d3eb0fa", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "patch": "@@ -8173,6 +8173,8 @@ exception handling, for linkonce sections, for functions with a user-defined\n section attribute and on any architecture that does not support named\n sections.\n \n+Enabled for x86 at levels @option{-O2}, @option{-O3}.\n+\n @item -freorder-functions\n @opindex freorder-functions\n Reorder functions in the object file in order to"}, {"sha": "a31b28de56b238413915c2be649e68dea28bde88", "filename": "gcc/opts.c", "status": "modified", "additions": 12, "deletions": 9, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "patch": "@@ -737,9 +737,10 @@ finish_options (struct gcc_options *opts, struct gcc_options *opts_set,\n       && opts->x_flag_reorder_blocks_and_partition\n       && (ui_except == UI_SJLJ || ui_except >= UI_TARGET))\n     {\n-      inform (loc,\n-\t      \"-freorder-blocks-and-partition does not work \"\n-\t      \"with exceptions on this architecture\");\n+      if (opts_set->x_flag_reorder_blocks_and_partition)\n+        inform (loc,\n+                \"-freorder-blocks-and-partition does not work \"\n+                \"with exceptions on this architecture\");\n       opts->x_flag_reorder_blocks_and_partition = 0;\n       opts->x_flag_reorder_blocks = 1;\n     }\n@@ -752,9 +753,10 @@ finish_options (struct gcc_options *opts, struct gcc_options *opts_set,\n       && opts->x_flag_reorder_blocks_and_partition\n       && (ui_except == UI_SJLJ || ui_except >= UI_TARGET))\n     {\n-      inform (loc,\n-\t      \"-freorder-blocks-and-partition does not support \"\n-\t      \"unwind info on this architecture\");\n+      if (opts_set->x_flag_reorder_blocks_and_partition)\n+        inform (loc,\n+                \"-freorder-blocks-and-partition does not support \"\n+                \"unwind info on this architecture\");\n       opts->x_flag_reorder_blocks_and_partition = 0;\n       opts->x_flag_reorder_blocks = 1;\n     }\n@@ -769,9 +771,10 @@ finish_options (struct gcc_options *opts, struct gcc_options *opts_set,\n \t      && targetm_common.unwind_tables_default\n \t      && (ui_except == UI_SJLJ || ui_except >= UI_TARGET))))\n     {\n-      inform (loc,\n-\t      \"-freorder-blocks-and-partition does not work \"\n-\t      \"on this architecture\");\n+      if (opts_set->x_flag_reorder_blocks_and_partition)\n+        inform (loc,\n+                \"-freorder-blocks-and-partition does not work \"\n+                \"on this architecture\");\n       opts->x_flag_reorder_blocks_and_partition = 0;\n       opts->x_flag_reorder_blocks = 1;\n     }"}]}