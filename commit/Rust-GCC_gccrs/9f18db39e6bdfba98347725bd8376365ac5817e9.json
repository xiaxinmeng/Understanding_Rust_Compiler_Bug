{"sha": "9f18db39e6bdfba98347725bd8376365ac5817e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWYxOGRiMzllNmJkZmJhOTgzNDc3MjViZDgzNzYzNjVhYzU4MTdlOQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2005-06-16T12:49:06Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2005-06-16T12:49:06Z"}, "message": "Alan Modra <amodra.bigpond.net.au>\n\n2005-06-16  Paolo Bonzini  <bonzini@gnu.org>\n            Daniel Jacobowitz  <dan@codesourcery.com>\n\t    Alan Modra <amodra.bigpond.net.au>\n\n        * configure.ac (gcc_version): Set near the beginning.\n        (as, ld, nm): Do not link in-tree tools.  Set gcc_cv_* if tools are\n        found in the tree.  Use gcc_AC_PROG to find the tools in the system.\n        (objdump): Do not look for it.\n        * Makefile.in (NM_FOR_TARGET): Point to ./nm.\n        (ORIGINAL_AS_FOR_TARGET, ORIGINAL_LD_FOR_TARGET,\n        ORIGINAL_NM_FOR_TARGET): Substitute from autoconf.\n        (as, ld, nm): New rules.\n        (libgcc.mk): Depend on them.\n        * aclocal.m4 (gcc_AC_TOOL_DIRS, gcc_AC_CHECK_TOOL,\n        gcc_AC_BUILD_EXEEXT): New.\n        (gcc_AC_CHECK_PROG_VER): Use gcc_AC_BUILD_EXEEXT.\n        * configure: Regenerate.\n\nCo-Authored-By: Daniel Jacobowitz <dan@codesourcery.com>\n\nFrom-SVN: r101084", "tree": {"sha": "259f401a4d80b42ecd004c9a617f7771758b5f4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/259f401a4d80b42ecd004c9a617f7771758b5f4c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f18db39e6bdfba98347725bd8376365ac5817e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f18db39e6bdfba98347725bd8376365ac5817e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f18db39e6bdfba98347725bd8376365ac5817e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f18db39e6bdfba98347725bd8376365ac5817e9/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "72095b64e2a0d164f662f9d1c0921baf1aa0edf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72095b64e2a0d164f662f9d1c0921baf1aa0edf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72095b64e2a0d164f662f9d1c0921baf1aa0edf9"}], "stats": {"total": 867, "additions": 549, "deletions": 318}, "files": [{"sha": "4a6bae3a9df652f5852c2ba587ffc8ca6103c449", "filename": "gcc/ChangeLog", "status": "modified", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f18db39e6bdfba98347725bd8376365ac5817e9", "patch": "@@ -1,3 +1,21 @@\n+2005-06-16  Paolo Bonzini  <bonzini@gnu.org>\n+            Daniel Jacobowitz  <dan@codesourcery.com>\n+\t    Alan Modra <amodra.bigpond.net.au>\n+\n+        * configure.ac (gcc_version): Set near the beginning.\n+        (as, ld, nm): Do not link in-tree tools.  Set gcc_cv_* if tools are\n+        found in the tree.  Use gcc_AC_PROG to find the tools in the system.\n+        (objdump): Do not look for it.\n+        * Makefile.in (NM_FOR_TARGET): Point to ./nm\n+        (ORIGINAL_AS_FOR_TARGET, ORIGINAL_LD_FOR_TARGET,\n+        ORIGINAL_NM_FOR_TARGET): Substitute from autoconf.\n+        (as, ld, nm): New rules.\n+        (libgcc.mk): Depend on them.\n+        * aclocal.m4 (gcc_AC_TOOL_DIRS, gcc_AC_CHECK_TOOL,\n+        gcc_AC_BUILD_EXEEXT): New.\n+        (gcc_AC_CHECK_PROG_VER): Use gcc_AC_BUILD_EXEEXT.\n+        * configure: Regenerate.\n+\n 2005-06-16  Jan Hubicka  <jh@suse.cz>\n \n \t* basic-block.h (rtl_bb_info): Break out head_, end_,\n@@ -3600,10 +3618,6 @@\n \n \t* tree-ssa-math-opts.c: New file.\n \n-2005-05-17  Paolo Bonzini  <bonzini@gnu.org>\n-\n-\t* tree-ssa-math-opts.c: New file.\n-\n 2005-05-17  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* Makefile.in: Add tree-ssa-math-opts.c."}, {"sha": "5328f372a6c08a08f58eb688cc2c178c1647b1ad", "filename": "gcc/Makefile.in", "status": "modified", "additions": 50, "deletions": 14, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=9f18db39e6bdfba98347725bd8376365ac5817e9", "patch": "@@ -343,6 +343,7 @@ AR_FOR_TARGET := $(shell \\\n AR_FLAGS_FOR_TARGET =\n AR_CREATE_FOR_TARGET = $(AR_FOR_TARGET) $(AR_FLAGS_FOR_TARGET) rc\n AR_EXTRACT_FOR_TARGET = $(AR_FOR_TARGET) $(AR_FLAGS_FOR_TARGET) x\n+ORIGINAL_AS_FOR_TARGET = @ORIGINAL_AS_FOR_TARGET@\n RANLIB_FOR_TARGET := $(shell \\\n   if [ -f $(objdir)/../binutils/ranlib ] ; then \\\n     echo $(objdir)/../binutils/ranlib ; \\\n@@ -353,18 +354,9 @@ RANLIB_FOR_TARGET := $(shell \\\n        t='$(program_transform_name)'; echo ranlib | sed -e $$t ; \\\n     fi; \\\n   fi)\n-NM_FOR_TARGET := $(shell \\\n-  if [ -f ./nm ] ; then \\\n-    echo ./nm ; \\\n-  elif [ -f $(objdir)/../binutils/nm-new ] ; then \\\n-    echo $(objdir)/../binutils/nm-new ; \\\n-  else \\\n-    if [ \"$(host)\" = \"$(target)\" ] ; then \\\n-      echo $(NM); \\\n-    else \\\n-       t='$(program_transform_name)'; echo nm | sed -e $$t ; \\\n-    fi; \\\n-  fi)\n+ORIGINAL_LD_FOR_TARGET = @ORIGINAL_LD_FOR_TARGET@\n+ORIGINAL_NM_FOR_TARGET = @ORIGINAL_NM_FOR_TARGET@\n+NM_FOR_TARGET = ./nm\n \n # --------\n # UNSORTED\n@@ -1207,6 +1199,49 @@ cpp$(exeext): gcc.o cppspec.o version.o intl.o prefix.o \\\n \t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ gcc.o cppspec.o intl.o \\\n \t  prefix.o version.o $(EXTRA_GCC_OBJS) $(LIBS)\n \n+# Create links to binutils, especially for in-tree builds, to make -B.\n+# use them.  We need hard links so that directories can be shuffled\n+# during toplevel bootstrap.\n+# Go through an additional indirection, because the file we create\n+# can be either `sometool' (if it is a script) or `sometool$(exeext)'\n+# (if it is a hard link).\n+stamp-as: $(ORIGINAL_AS_FOR_TARGET)\n+\t@echo creating as; rm -f as; \\\n+\tcase \"$<\" in \\\n+\t  ./*) ;; \\\n+\t  ../*) \\\n+\t     echo $(LN) $< as$(exeext); \\\n+\t     $(LN) $< as$(exeext) || cp $< as$(exeext) ;; \\\n+\t  *) echo '#!$(SHELL)' > as; echo 'exec $< \"$$@\"' >> as ; \\\n+\t     chmod +x as ;; \\\n+\tesac\n+\techo timestamp > $@\n+\t\n+\n+stamp-collect-ld: $(ORIGINAL_LD_FOR_TARGET)\n+\t@echo creating collect-ld; rm -f collect-ld; \\\n+\tcase \"$<\" in \\\n+\t  ./*) ;; \\\n+\t  ../*) \\\n+\t     echo $(LN) $< collect-ld$(exeext); \\\n+\t     $(LN) $< collect-ld$(exeext) || cp $< collect-ld$(exeext) ;; \\\n+\t  *) echo '#!$(SHELL)' > collect-ld; echo 'exec $< \"$$@\"' >> collect-ld ; \\\n+\t     chmod +x collect-ld ;; \\\n+\tesac\n+\techo timestamp > $@\n+\n+stamp-nm: $(ORIGINAL_NM_FOR_TARGET)\n+\t@echo creating nm; rm -f nm; \\\n+\tcase \"$<\" in \\\n+\t  ./*) ;; \\\n+\t  ../*) \\\n+\t     echo $(LN) $< nm$(exeext); \\\n+\t     $(LN) $< nm$(exeext) || cp $< nm$(exeext) ;; \\\n+\t  *) echo '#!$(SHELL)' > nm; echo 'exec $< \"$$@\"' >> nm ; \\\n+\t     chmod +x nm ;; \\\n+\tesac\n+\techo timestamp > $@\n+\n # Dump a specs file to make -B./ read these specs over installed ones.\n $(SPECS): xgcc$(exeext)\n \t$(GCC_FOR_TARGET) -dumpspecs > tmp-specs\n@@ -1245,7 +1280,8 @@ xlimits.h: glimits.h limitx.h limity.h\n LIB2ADD = $(LIB2FUNCS_EXTRA)\n LIB2ADD_ST = $(LIB2FUNCS_STATIC_EXTRA)\n \n-libgcc.mk: config.status Makefile mklibgcc $(LIB2ADD) $(LIB2ADD_ST) xgcc$(exeext) specs\n+libgcc.mk: config.status Makefile mklibgcc $(LIB2ADD) $(LIB2ADD_ST) specs \\\n+\t\txgcc$(exeext) stamp-as stamp-collect-ld stamp-nm\n \tobjext='$(objext)' \\\n \tLIB1ASMFUNCS='$(LIB1ASMFUNCS)' \\\n \tLIB2FUNCS_ST='$(LIB2FUNCS_ST)' \\\n@@ -4031,7 +4067,7 @@ bootstrap4 bootstrap4-lean: stage4_build\n unstage1 unstage2 unstage3 unstage4 unstageprofile unstagefeedback:\n \t-set -vx; stage=`echo $@ | sed -e 's/un//'`; \\\n \trm -f $$stage/as$(exeext); \\\n-\trm -f $$stage/ld$(exeext); \\\n+\trm -f $$stage/nm$(exeext); \\\n \trm -f $$stage/collect-ld$(exeext); \\\n \tif test -d $$stage; then \\\n \t  mv $$stage/specs $(SPECS) 2>/dev/null || :; \\"}, {"sha": "b180c1b9513e274b6bb09ba608e1a2fd38b1e4ec", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 77, "deletions": 1, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=9f18db39e6bdfba98347725bd8376365ac5817e9", "patch": "@@ -329,7 +329,8 @@ dnl Locate a program and check that its version is acceptable.\n dnl AC_PROG_CHECK_VER(var, name, version-switch,\n dnl                  version-extract-regexp, version-glob)\n AC_DEFUN([gcc_AC_CHECK_PROG_VER],\n-[AC_CHECK_PROG([$1], [$2], [$2])\n+[AC_REQUIRE([gcc_AC_BUILD_EXEEXT])\n+AC_CHECK_PROG([$1], [$2], [$2])\n if test -n \"[$]$1\"; then\n   # Found it, now check the version.\n   AC_CACHE_CHECK(for modern $2, gcc_cv_prog_$2_modern,\n@@ -653,3 +654,78 @@ m4_ifdef([GCC_TARGET_TEMPLATE($1)],[],[#ifndef USED_FOR_TARGET\n ])[#undef $1]m4_ifdef([GCC_TARGET_TEMPLATE($1)],[],[\n #endif\n ]))])\n+\n+AC_DEFUN([gcc_AC_TOOL_DIRS], [\n+# When searching for the assembler or linker, search the same directories\n+# that the installed compiler will search.  Else we may find the wrong\n+# assembler or linker and lose.  If we do not find a suitable binary,\n+# then try the user's path.\n+#\n+# Also note we have to check MD_EXEC_PREFIX before checking the user's path.\n+if test \"x$exec_prefix\" = xNONE; then\n+\tif test \"x$prefix\" = xNONE; then\n+\t\tgcc_cv_tool_prefix=/usr/local\n+\telse\n+\t\tgcc_cv_tool_prefix=$prefix\n+\tfi\n+else\n+\tgcc_cv_tool_prefix=$exec_prefix\n+fi\n+\n+if test x$host = x$build; then\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical/$gcc_version\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical/$gcc_version\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin\"\n+else\n+    gcc_cv_tool_dirs=\n+fi\n+\n+if test x$build = x$target; then\n+    # Rummage through tm_files looking for MD_EXEC_PREFIX\n+    md_dirs=\n+    for f in ${tm_file_list}; do\n+\tif test -f $f; then\n+\t    if grep '^#[ \t]*undef[ \t]*MD_EXEC_PREFIX' $f > /dev/null; then\n+\t\tmd_dirs=\n+\t    fi\n+\t    md_dirs=\"$md_dirs \"`sed -n -e 's@^#[ \t]*define[ \t]*MD_EXEC_PREFIX[ \t]*\"\\(.*\\)/\"@\\1@p' < $f`\n+\tfi\n+    done\n+    for f in ${md_dirs}; do\n+        gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$f\"\n+    done\n+fi])\n+\n+dnl Make sure that build_exeext is looked for\n+AC_DEFUN([gcc_AC_BUILD_EXEEXT], [\n+ac_executable_extensions=\"$build_exeext\"])\n+\n+AC_DEFUN([gcc_AC_CHECK_TOOL], [\n+AC_REQUIRE([gcc_AC_TOOL_DIRS])\n+AC_REQUIRE([gcc_AC_BUILD_EXEEXT])\n+\n+dnl shut up useless \"checking for...\" messages\n+dnl we can still read them in config.log\n+exec AS_MESSAGE_FD([])>/dev/null\n+AC_PATH_PROGS($1, $2, , $gcc_cv_tool_dirs)\n+if test \"x[$]$1\" = x; then\n+\t# If the loop above did not find a tool, then use whatever\n+\t# one we can find in the users's path.  We are looking for a\n+\t# ${build} -> ${target} tool.\n+\tif test \"x$program_prefix\" != xNONE; then\n+\t\tdefault_tool_name=${program_prefix}$2\n+\telif test x$build != x$host && test x$build != x$target; then\n+\t\tdefault_tool_name=${target_noncanonical}-$2\n+\telse\n+\t\tdefault_tool_name=`echo $2 | sed \"${program_transform_name}\"`\n+\tfi\n+\tAC_PATH_PROGS($1, $default_tool_name,\n+\t\t$gcc_cv_tool_prefix/$default_tool_name$build_exeext)\n+fi\n+test \"$silent\" != yes && exec AS_MESSAGE_FD([])>&1\n+\n+$3=\"[$]$1\"\n+AC_SUBST($3)])"}, {"sha": "a5e04ec1c7921e347c524469add96e68d6b95837", "filename": "gcc/configure", "status": "modified", "additions": 382, "deletions": 140, "changes": 522, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=9f18db39e6bdfba98347725bd8376365ac5817e9", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -1385,6 +1385,8 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n           ac_config_headers=\"$ac_config_headers auto-host.h:config.in\"\n \n \n+gcc_version=`cat $srcdir/BASE-VER`\n+\n # Determine the host, build, and target systems\n ac_aux_dir=\n for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n@@ -7359,6 +7361,9 @@ MISSING=\"${CONFIG_SHELL-/bin/sh} $srcdir/../missing\"\n \n # See if makeinfo has been installed and is modern enough\n # that we can use it.\n+\n+ac_executable_extensions=\"$build_exeext\"\n+\n # Extract the first word of \"makeinfo\", so it can be a program name with args.\n set dummy makeinfo; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n@@ -7403,7 +7408,7 @@ if test \"${gcc_cv_prog_makeinfo_modern+set}\" = set; then\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:7406: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:7411: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[2-9]*)\n@@ -12791,18 +12796,13 @@ esac\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n-echo \"$as_me:$LINENO: checking what assembler to use\" >&5\n-echo $ECHO_N \"checking what assembler to use... $ECHO_C\" >&6\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n if test -x \"$DEFAULT_ASSEMBLER\"; then\n \tgcc_cv_as=\"$DEFAULT_ASSEMBLER\"\n-elif test -x as$build_exeext; then\n-\t# Build using assembler in the current directory.\n-\tgcc_cv_as=./as$build_exeext\n elif test -f $gcc_cv_as_gas_srcdir/configure.in \\\n      && test -f ../gas/Makefile \\\n      && test x$build = x$host; then\n@@ -12830,88 +12830,178 @@ gcc_cv_gas_vers=`expr \\( \\( $gcc_cv_gas_major_version \\* 1000 \\) \\\n \t\t\t    + $gcc_cv_gas_minor_version \\) \\* 1000 \\\n \t\t\t    + $gcc_cv_gas_patch_version`\n \n-  rm -f as$build_exeext\n-  $LN_S ../gas/as-new$build_exeext as$build_exeext 2>/dev/null\n+  gcc_cv_as=../gas/as-new$build_exeext\n   in_tree_gas_is_elf=no\n   if grep 'obj_format = elf' ../gas/Makefile > /dev/null \\\n      || (grep 'obj_format = multi' ../gas/Makefile \\\n          && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /dev/null\n   then\n     in_tree_gas_is_elf=yes\n   fi\n+elif test -x as$build_exeext; then\n+\t# Build using assembler in the current directory.\n+\tgcc_cv_as=./as$build_exeext\n elif test -x \"$AS_FOR_TARGET\"; then\n         gcc_cv_as=\"$AS_FOR_TARGET\"\n elif test -x \"$AS\" && test x$host = x$target; then\n \tgcc_cv_as=\"$AS\"\n fi\n \n-gcc_version=`cat $srcdir/BASE-VER`\n \n-if test \"x$gcc_cv_as\" = x; then\n-\t# Search the same directories that the installed compiler will\n-\t# search.  Else we may find the wrong assembler and lose.  If we\n-\t# do not find a suitable assembler binary, then try the user's\n-\t# path.\n-\t#\n-\t# Also note we have to check MD_EXEC_PREFIX before checking the\n-\t# user's path.  Unfortunately, there is no good way to get at the\n-\t# value of MD_EXEC_PREFIX here.  So we do a brute force search\n-\t# through all the known MD_EXEC_PREFIX values.  Ugh.  This needs\n-\t# to be fixed as part of the make/configure rewrite too.\n-\n-\tif test \"x$exec_prefix\" = xNONE; then\n-\t\tif test \"x$prefix\" = xNONE; then\n-\t\t\ttest_prefix=/usr/local\n-\t\telse\n-\t\t\ttest_prefix=$prefix\n-\t\tfi\n+# When searching for the assembler or linker, search the same directories\n+# that the installed compiler will search.  Else we may find the wrong\n+# assembler or linker and lose.  If we do not find a suitable binary,\n+# then try the user's path.\n+#\n+# Also note we have to check MD_EXEC_PREFIX before checking the user's path.\n+if test \"x$exec_prefix\" = xNONE; then\n+\tif test \"x$prefix\" = xNONE; then\n+\t\tgcc_cv_tool_prefix=/usr/local\n \telse\n-\t\ttest_prefix=$exec_prefix\n+\t\tgcc_cv_tool_prefix=$prefix\n \tfi\n+else\n+\tgcc_cv_tool_prefix=$exec_prefix\n+fi\n+\n+if test x$host = x$build; then\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical/$gcc_version\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical/$gcc_version\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin\"\n+else\n+    gcc_cv_tool_dirs=\n+fi\n+\n+if test x$build = x$target; then\n+    # Rummage through tm_files looking for MD_EXEC_PREFIX\n+    md_dirs=\n+    for f in ${tm_file_list}; do\n+\tif test -f $f; then\n+\t    if grep '^#[ \t]*undef[ \t]*MD_EXEC_PREFIX' $f > /dev/null; then\n+\t\tmd_dirs=\n+\t    fi\n+\t    md_dirs=\"$md_dirs \"`sed -n -e 's@^#[ \t]*define[ \t]*MD_EXEC_PREFIX[ \t]*\"\\(.*\\)/\"@\\1@p' < $f`\n+\tfi\n+    done\n+    for f in ${md_dirs}; do\n+        gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$f\"\n+    done\n+fi\n+\n+\n+\n+\n+exec 6>/dev/null\n+for ac_prog in as\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $gcc_cv_as in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $gcc_cv_tool_dirs\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n-\t# If the loop below does not find an assembler, then use whatever\n+  ;;\n+esac\n+fi\n+gcc_cv_as=$ac_cv_path_gcc_cv_as\n+\n+if test -n \"$gcc_cv_as\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n+echo \"${ECHO_T}$gcc_cv_as\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$gcc_cv_as\" && break\n+done\n+\n+if test \"x$gcc_cv_as\" = x; then\n+\t# If the loop above did not find a tool, then use whatever\n \t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} assembler.\n+\t# ${build} -> ${target} tool.\n \tif test \"x$program_prefix\" != xNONE; then\n-\t\tgcc_cv_as=${program_prefix}as$build_exeext\n+\t\tdefault_tool_name=${program_prefix}as\n \telif test x$build != x$host && test x$build != x$target; then\n-\t\tgcc_cv_as=${target_noncanonical}-as$build_exeext\n+\t\tdefault_tool_name=${target_noncanonical}-as\n \telse\n-\t\tgcc_cv_as=`echo as | sed \"${program_transform_name}\"`$build_exeext\n+\t\tdefault_tool_name=`echo as | sed \"${program_transform_name}\"`\n \tfi\n+\tfor ac_prog in $default_tool_name\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $gcc_cv_as in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n-\tif test x$host = x$build; then\n-\t    test_dirs=\"$test_prefix/libexec/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/libexec/gcc/$target_noncanonical \\\n-\t\t       /usr/lib/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       /usr/lib/gcc/$target_noncanonical \\\n-\t\t       $test_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/$target_noncanonical/bin\"\n-\telse\n-\t    test_dirs=\n-\tfi\n+  ;;\n+esac\n+fi\n+gcc_cv_as=$ac_cv_path_gcc_cv_as\n \n-\tif test x$build = x$target; then\n-\t    test_dirs=\"$test_dirs \\\n-\t\t   /usr/libexec \\\n-\t\t   /usr/ccs/gcc \\\n-\t\t   /usr/ccs/bin \\\n-\t\t   /udk/usr/ccs/bin \\\n-\t\t   /bsd43/usr/lib/cmplrs/cc \\\n-\t\t   /usr/cross64/usr/bin \\\n-\t\t   /usr/lib/cmplrs/cc \\\n-\t\t   /sysv/usr/lib/cmplrs/cc \\\n-\t\t   /svr4/usr/lib/cmplrs/cc \\\n-\t\t   /usr/bin\"\n-\tfi\n+if test -n \"$gcc_cv_as\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n+echo \"${ECHO_T}$gcc_cv_as\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$gcc_cv_as\" && break\n+done\n+test -n \"$gcc_cv_as\" || gcc_cv_as=\"$gcc_cv_tool_prefix/$default_tool_name$build_exeext\"\n \n-\tfor dir in $test_dirs; do\n-\t\tif test -x $dir/as$build_exeext; then\n-\t\t\tgcc_cv_as=$dir/as$build_exeext\n-\t\t\tbreak;\n-\t\tfi\n-\tdone\n fi\n+test \"$silent\" != yes && exec 6>&1\n+\n+ORIGINAL_AS_FOR_TARGET=\"$gcc_cv_as\"\n+\n+echo \"$as_me:$LINENO: checking what assembler to use\" >&5\n+echo $ECHO_N \"checking what assembler to use... $ECHO_C\" >&6\n case $in_tree_gas in\n   yes)\n     echo \"$as_me:$LINENO: result: \\\"newly built gas\\\"\" >&5\n@@ -12930,8 +13020,6 @@ esac\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n-echo \"$as_me:$LINENO: checking what linker to use\" >&5\n-echo $ECHO_N \"checking what linker to use... $ECHO_C\" >&6\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -12940,9 +13028,6 @@ gcc_cv_ld_gld_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/ld\n gcc_cv_ld_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n if test -x \"$DEFAULT_LINKER\"; then\n \tgcc_cv_ld=\"$DEFAULT_LINKER\"\n-elif test -x collect-ld$build_exeext; then\n-\t# Build using linker in the current directory.\n-\tgcc_cv_ld=./collect-ld$build_exeext\n elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n      && test -f ../ld/Makefile \\\n      && test x$build = x$host; then\n@@ -12965,79 +13050,128 @@ elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n \tdone\n \tgcc_cv_gld_major_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=\\([0-9]*\\)\"`\n \tgcc_cv_gld_minor_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=[0-9]*\\.\\([0-9]*\\)\"`\n-\trm -f collect-ld$build_exeext\n-\t$LN_S ../ld/ld-new$build_exeext collect-ld$build_exeext 2>/dev/null\n+\tgcc_cv_ld=../ld/ld-new$build_exeext\n+elif test -x collect-ld$build_exeext; then\n+\t# Build using linker in the current directory.\n+\tgcc_cv_ld=./collect-ld$build_exeext\n elif test -x \"$LD_FOR_TARGET\"; then\n         gcc_cv_ld=\"$LD_FOR_TARGET\"\n elif test -x \"$LD\" && test x$host = x$target; then\n \tgcc_cv_ld=\"$LD\"\n fi\n \n-if test \"x$gcc_cv_ld\" = x; then\n-\t# Search the same directories that the installed compiler will\n-\t# search.  Else we may find the wrong linker and lose.  If we\n-\t# do not find a suitable linker binary, then try the user's\n-\t# path.\n-\t#\n-\t# Also note we have to check MD_EXEC_PREFIX before checking the\n-\t# user's path.  Unfortunately, there is no good way to get at the\n-\t# value of MD_EXEC_PREFIX here.  So we do a brute force search\n-\t# through all the known MD_EXEC_PREFIX values.  Ugh.  This needs\n-\t# to be fixed as part of the make/configure rewrite too.\n-\n-\tif test \"x$exec_prefix\" = xNONE; then\n-\t\tif test \"x$prefix\" = xNONE; then\n-\t\t\ttest_prefix=/usr/local\n-\t\telse\n-\t\t\ttest_prefix=$prefix\n-\t\tfi\n-\telse\n-\t\ttest_prefix=$exec_prefix\n-\tfi\n \n-\t# If the loop below does not find a linker, then use whatever\n+\n+\n+\n+exec 6>/dev/null\n+for ac_prog in ld\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $gcc_cv_ld in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $gcc_cv_tool_dirs\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  ;;\n+esac\n+fi\n+gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n+\n+if test -n \"$gcc_cv_ld\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n+echo \"${ECHO_T}$gcc_cv_ld\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$gcc_cv_ld\" && break\n+done\n+\n+if test \"x$gcc_cv_ld\" = x; then\n+\t# If the loop above did not find a tool, then use whatever\n \t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} linker.\n+\t# ${build} -> ${target} tool.\n \tif test \"x$program_prefix\" != xNONE; then\n-\t\tgcc_cv_ld=${program_prefix}ld$build_exeext\n+\t\tdefault_tool_name=${program_prefix}ld\n \telif test x$build != x$host && test x$build != x$target; then\n-\t\tgcc_cv_ld=${target_noncanonical}-ld$build_exeext\n+\t\tdefault_tool_name=${target_noncanonical}-ld\n \telse\n-\t\tgcc_cv_ld=`echo ld | sed \"${program_transform_name}\"`$build_exeext\n+\t\tdefault_tool_name=`echo ld | sed \"${program_transform_name}\"`\n \tfi\n+\tfor ac_prog in $default_tool_name\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $gcc_cv_ld in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n-\tif test x$host = x$build; then\n-\t    test_dirs=\"$test_prefix/libexec/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/libexec/gcc/$target_noncanonical \\\n-\t\t       /usr/lib/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       /usr/lib/gcc/$target_noncanonical \\\n-\t\t       $test_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/$target_noncanonical/bin\"\n-\telse\n-\t    test_dirs=\n-\tfi\n+  ;;\n+esac\n+fi\n+gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n \n-\tif test x$build = x$target; then\n-\t    test_dirs=\"$test_dirs \\\n-\t\t   /usr/libexec \\\n-\t\t   /usr/ccs/gcc \\\n-\t\t   /usr/ccs/bin \\\n-\t\t   /udk/usr/ccs/bin \\\n-\t\t   /bsd43/usr/lib/cmplrs/cc \\\n-\t\t   /usr/cross64/usr/bin \\\n-\t\t   /usr/lib/cmplrs/cc \\\n-\t\t   /sysv/usr/lib/cmplrs/cc \\\n-\t\t   /svr4/usr/lib/cmplrs/cc \\\n-\t\t   /usr/bin\"\n-\tfi\n+if test -n \"$gcc_cv_ld\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n+echo \"${ECHO_T}$gcc_cv_ld\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$gcc_cv_ld\" && break\n+done\n+test -n \"$gcc_cv_ld\" || gcc_cv_ld=\"$gcc_cv_tool_prefix/$default_tool_name$build_exeext\"\n \n-\tfor dir in $test_dirs; do\n-\t\tif test -x $dir/ld$build_exeext; then\n-\t\t\tgcc_cv_ld=$dir/ld$build_exeext\n-\t\t\tbreak;\n-\t\tfi\n-\tdone\n fi\n+test \"$silent\" != yes && exec 6>&1\n+\n+ORIGINAL_LD_FOR_TARGET=\"$gcc_cv_ld\"\n+\n+echo \"$as_me:$LINENO: checking what linker to use\" >&5\n+echo $ECHO_N \"checking what linker to use... $ECHO_C\" >&6\n case $in_tree_ld in\n   yes)\n     echo \"$as_me:$LINENO: result: \\\"newly built ld\\\"\" >&5\n@@ -13051,25 +13185,129 @@ esac\n \n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n-echo \"$as_me:$LINENO: checking what nm to use\" >&5\n-echo $ECHO_N \"checking what nm to use... $ECHO_C\" >&6\n in_tree_nm=no\n-if test -x nm$build_exeext; then\n-\tgcc_cv_nm=./nm$build_exeext\n-elif test -f $gcc_cv_binutils_srcdir/configure.in \\\n+gcc_cv_nm=\n+if test -f $gcc_cv_binutils_srcdir/configure.in \\\n      && test -f ../binutils/Makefile; then\n \t# Single tree build which includes binutils.\n \tin_tree_nm=yes\n+\tgcc_cv_nm=../binutils/nm-new$build_exeext\n+elif test -x nm$build_exeext; then\n \tgcc_cv_nm=./nm$build_exeext\n-\trm -f nm$build_exeext\n-\t$LN_S ../binutils/nm-new$build_exeext nm$build_exeext 2>/dev/null\n-elif test \"x$program_prefix\" != xNONE; then\n-\tgcc_cv_nm=${program_prefix}nm$build_exeext\n-elif test x$build != x$host && test x$build != x$target; then\n-\tgcc_cv_nm=${target_noncanonical}-nm$build_exeext\n+fi\n+\n+\n+\n+\n+\n+exec 6>/dev/null\n+for ac_prog in nm\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-\tgcc_cv_nm=`echo nm | sed \"${program_transform_name}\"`$build_exeext\n+  case $gcc_cv_nm in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $gcc_cv_tool_dirs\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  ;;\n+esac\n fi\n+gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n+\n+if test -n \"$gcc_cv_nm\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n+echo \"${ECHO_T}$gcc_cv_nm\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$gcc_cv_nm\" && break\n+done\n+\n+if test \"x$gcc_cv_nm\" = x; then\n+\t# If the loop above did not find a tool, then use whatever\n+\t# one we can find in the users's path.  We are looking for a\n+\t# ${build} -> ${target} tool.\n+\tif test \"x$program_prefix\" != xNONE; then\n+\t\tdefault_tool_name=${program_prefix}nm\n+\telif test x$build != x$host && test x$build != x$target; then\n+\t\tdefault_tool_name=${target_noncanonical}-nm\n+\telse\n+\t\tdefault_tool_name=`echo nm | sed \"${program_transform_name}\"`\n+\tfi\n+\tfor ac_prog in $default_tool_name\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $gcc_cv_nm in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  ;;\n+esac\n+fi\n+gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n+\n+if test -n \"$gcc_cv_nm\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n+echo \"${ECHO_T}$gcc_cv_nm\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$gcc_cv_nm\" && break\n+done\n+test -n \"$gcc_cv_nm\" || gcc_cv_nm=\"$gcc_cv_tool_prefix/$default_tool_name$build_exeext\"\n+\n+fi\n+test \"$silent\" != yes && exec 6>&1\n+\n+ORIGINAL_NM_FOR_TARGET=\"$gcc_cv_nm\"\n+\n+echo \"$as_me:$LINENO: checking what nm to use\" >&5\n+echo $ECHO_N \"checking what nm to use... $ECHO_C\" >&6\n case $in_tree_nm in\n   yes) echo \"$as_me:$LINENO: result: \\\"newly built nm\\\"\" >&5\n echo \"${ECHO_T}\\\"newly built nm\\\"\" >&6 ;;\n@@ -13087,9 +13325,7 @@ elif test -f $gcc_cv_binutils_srcdir/configure.in \\\n      && test -f ../binutils/Makefile; then\n \t# Single tree build which includes binutils.\n \tin_tree_objdump=yes\n-\tgcc_cv_objdump=./objdump$build_exeext\n-\trm -f objdump$build_exeext\n-\t$LN_S ../binutils/objdump$build_exeext objdump$build_exeext 2>/dev/null\n+\tgcc_cv_objdump=../binutils/objdump$build_exeext\n elif test \"x$program_prefix\" != xNONE; then\n \tgcc_cv_objdump=${program_prefix}objdump$build_exeext\n elif test x$build != x$host && test x$build != x$target; then\n@@ -16349,6 +16585,12 @@ s,@BUILD_CFLAGS@,$BUILD_CFLAGS,;t t\n s,@STMP_FIXINC@,$STMP_FIXINC,;t t\n s,@STMP_FIXPROTO@,$STMP_FIXPROTO,;t t\n s,@collect2@,$collect2,;t t\n+s,@gcc_cv_as@,$gcc_cv_as,;t t\n+s,@ORIGINAL_AS_FOR_TARGET@,$ORIGINAL_AS_FOR_TARGET,;t t\n+s,@gcc_cv_ld@,$gcc_cv_ld,;t t\n+s,@ORIGINAL_LD_FOR_TARGET@,$ORIGINAL_LD_FOR_TARGET,;t t\n+s,@gcc_cv_nm@,$gcc_cv_nm,;t t\n+s,@ORIGINAL_NM_FOR_TARGET@,$ORIGINAL_NM_FOR_TARGET,;t t\n s,@libgcc_visibility@,$libgcc_visibility,;t t\n s,@GGC@,$GGC,;t t\n s,@zlibdir@,$zlibdir,;t t"}, {"sha": "84a190270b561456535e18f26c205e1ac78650df", "filename": "gcc/configure.ac", "status": "modified", "additions": 22, "deletions": 159, "changes": 181, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f18db39e6bdfba98347725bd8376365ac5817e9/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=9f18db39e6bdfba98347725bd8376365ac5817e9", "patch": "@@ -30,6 +30,8 @@ AC_INIT\n AC_CONFIG_SRCDIR(tree.c)\n AC_CONFIG_HEADER(auto-host.h:config.in)\n \n+gcc_version=`cat $srcdir/BASE-VER`\n+\n # Determine the host, build, and target systems\n AC_CANONICAL_BUILD\n AC_CANONICAL_HOST\n@@ -1739,17 +1741,13 @@ esac\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n-AC_MSG_CHECKING(what assembler to use)\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n if test -x \"$DEFAULT_ASSEMBLER\"; then\n \tgcc_cv_as=\"$DEFAULT_ASSEMBLER\"\n-elif test -x as$build_exeext; then\n-\t# Build using assembler in the current directory.\n-\tgcc_cv_as=./as$build_exeext\n elif test -f $gcc_cv_as_gas_srcdir/configure.in \\\n      && test -f ../gas/Makefile \\\n      && test x$build = x$host; then\n@@ -1758,8 +1756,7 @@ elif test -f $gcc_cv_as_gas_srcdir/configure.in \\\n   # we'll use what we're building after installation anyway.\n   in_tree_gas=yes\n   _gcc_COMPUTE_GAS_VERSION\n-  rm -f as$build_exeext\n-  $LN_S ../gas/as-new$build_exeext as$build_exeext 2>/dev/null\n+  gcc_cv_as=../gas/as-new$build_exeext\n   in_tree_gas_is_elf=no\n   if grep 'obj_format = elf' ../gas/Makefile > /dev/null \\\n      || (grep 'obj_format = multi' ../gas/Makefile \\\n@@ -1768,79 +1765,17 @@ elif test -f $gcc_cv_as_gas_srcdir/configure.in \\\n     in_tree_gas_is_elf=yes\n   fi\n m4_pattern_allow([AS_FOR_TARGET])dnl\n+elif test -x as$build_exeext; then\n+\t# Build using assembler in the current directory.\n+\tgcc_cv_as=./as$build_exeext\n elif test -x \"$AS_FOR_TARGET\"; then\n         gcc_cv_as=\"$AS_FOR_TARGET\"\n elif test -x \"$AS\" && test x$host = x$target; then\n \tgcc_cv_as=\"$AS\"\n fi\n \n-gcc_version=`cat $srcdir/BASE-VER`\n-\n-if test \"x$gcc_cv_as\" = x; then\n-\t# Search the same directories that the installed compiler will\n-\t# search.  Else we may find the wrong assembler and lose.  If we\n-\t# do not find a suitable assembler binary, then try the user's\n-\t# path.\n-\t#\n-\t# Also note we have to check MD_EXEC_PREFIX before checking the\n-\t# user's path.  Unfortunately, there is no good way to get at the\n-\t# value of MD_EXEC_PREFIX here.  So we do a brute force search\n-\t# through all the known MD_EXEC_PREFIX values.  Ugh.  This needs\n-\t# to be fixed as part of the make/configure rewrite too.\n-\n-\tif test \"x$exec_prefix\" = xNONE; then\n-\t\tif test \"x$prefix\" = xNONE; then\n-\t\t\ttest_prefix=/usr/local\n-\t\telse\n-\t\t\ttest_prefix=$prefix\n-\t\tfi\n-\telse\n-\t\ttest_prefix=$exec_prefix\n-\tfi\n-\n-\t# If the loop below does not find an assembler, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} assembler.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tgcc_cv_as=${program_prefix}as$build_exeext\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tgcc_cv_as=${target_noncanonical}-as$build_exeext\n-\telse\n-\t\tgcc_cv_as=`echo as | sed \"${program_transform_name}\"`$build_exeext\n-\tfi\n-\n-\tif test x$host = x$build; then\n-\t    test_dirs=\"$test_prefix/libexec/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/libexec/gcc/$target_noncanonical \\\n-\t\t       /usr/lib/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       /usr/lib/gcc/$target_noncanonical \\\n-\t\t       $test_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/$target_noncanonical/bin\"\n-\telse\n-\t    test_dirs=\n-\tfi\n-\n-\tif test x$build = x$target; then\n-\t    test_dirs=\"$test_dirs \\\n-\t\t   /usr/libexec \\\n-\t\t   /usr/ccs/gcc \\\n-\t\t   /usr/ccs/bin \\\n-\t\t   /udk/usr/ccs/bin \\\n-\t\t   /bsd43/usr/lib/cmplrs/cc \\\n-\t\t   /usr/cross64/usr/bin \\\n-\t\t   /usr/lib/cmplrs/cc \\\n-\t\t   /sysv/usr/lib/cmplrs/cc \\\n-\t\t   /svr4/usr/lib/cmplrs/cc \\\n-\t\t   /usr/bin\"\n-\tfi\n-\n-\tfor dir in $test_dirs; do\n-\t\tif test -x $dir/as$build_exeext; then\n-\t\t\tgcc_cv_as=$dir/as$build_exeext\n-\t\t\tbreak;\n-\t\tfi\n-\tdone\n-fi\n+gcc_AC_CHECK_TOOL(gcc_cv_as, as, ORIGINAL_AS_FOR_TARGET)\n+AC_MSG_CHECKING(what assembler to use)\n case $in_tree_gas in\n   yes)\n     AC_MSG_RESULT(\"newly built gas\")\n@@ -1857,7 +1792,6 @@ esac\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n-AC_MSG_CHECKING(what linker to use)\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -1866,9 +1800,6 @@ gcc_cv_ld_gld_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/ld\n gcc_cv_ld_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n if test -x \"$DEFAULT_LINKER\"; then\n \tgcc_cv_ld=\"$DEFAULT_LINKER\"\n-elif test -x collect-ld$build_exeext; then\n-\t# Build using linker in the current directory.\n-\tgcc_cv_ld=./collect-ld$build_exeext\n elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n      && test -f ../ld/Makefile \\\n      && test x$build = x$host; then\n@@ -1895,79 +1826,18 @@ changequote(,)dnl\n \tgcc_cv_gld_major_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=\\([0-9]*\\)\"`\n \tgcc_cv_gld_minor_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=[0-9]*\\.\\([0-9]*\\)\"`\n changequote([,])dnl\n-\trm -f collect-ld$build_exeext\n-\t$LN_S ../ld/ld-new$build_exeext collect-ld$build_exeext 2>/dev/null\n+\tgcc_cv_ld=../ld/ld-new$build_exeext\n+elif test -x collect-ld$build_exeext; then\n+\t# Build using linker in the current directory.\n+\tgcc_cv_ld=./collect-ld$build_exeext\n elif test -x \"$LD_FOR_TARGET\"; then\n         gcc_cv_ld=\"$LD_FOR_TARGET\"\n elif test -x \"$LD\" && test x$host = x$target; then\n \tgcc_cv_ld=\"$LD\"\n fi\n \n-if test \"x$gcc_cv_ld\" = x; then\n-\t# Search the same directories that the installed compiler will\n-\t# search.  Else we may find the wrong linker and lose.  If we\n-\t# do not find a suitable linker binary, then try the user's\n-\t# path.\n-\t#\n-\t# Also note we have to check MD_EXEC_PREFIX before checking the\n-\t# user's path.  Unfortunately, there is no good way to get at the\n-\t# value of MD_EXEC_PREFIX here.  So we do a brute force search\n-\t# through all the known MD_EXEC_PREFIX values.  Ugh.  This needs\n-\t# to be fixed as part of the make/configure rewrite too.\n-\n-\tif test \"x$exec_prefix\" = xNONE; then\n-\t\tif test \"x$prefix\" = xNONE; then\n-\t\t\ttest_prefix=/usr/local\n-\t\telse\n-\t\t\ttest_prefix=$prefix\n-\t\tfi\n-\telse\n-\t\ttest_prefix=$exec_prefix\n-\tfi\n-\n-\t# If the loop below does not find a linker, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} linker.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tgcc_cv_ld=${program_prefix}ld$build_exeext\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tgcc_cv_ld=${target_noncanonical}-ld$build_exeext\n-\telse\n-\t\tgcc_cv_ld=`echo ld | sed \"${program_transform_name}\"`$build_exeext\n-\tfi\n-\n-\tif test x$host = x$build; then\n-\t    test_dirs=\"$test_prefix/libexec/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/libexec/gcc/$target_noncanonical \\\n-\t\t       /usr/lib/gcc/$target_noncanonical/$gcc_version \\\n-\t\t       /usr/lib/gcc/$target_noncanonical \\\n-\t\t       $test_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version \\\n-\t\t       $test_prefix/$target_noncanonical/bin\"\n-\telse\n-\t    test_dirs=\n-\tfi\n-\n-\tif test x$build = x$target; then\n-\t    test_dirs=\"$test_dirs \\\n-\t\t   /usr/libexec \\\n-\t\t   /usr/ccs/gcc \\\n-\t\t   /usr/ccs/bin \\\n-\t\t   /udk/usr/ccs/bin \\\n-\t\t   /bsd43/usr/lib/cmplrs/cc \\\n-\t\t   /usr/cross64/usr/bin \\\n-\t\t   /usr/lib/cmplrs/cc \\\n-\t\t   /sysv/usr/lib/cmplrs/cc \\\n-\t\t   /svr4/usr/lib/cmplrs/cc \\\n-\t\t   /usr/bin\"\n-\tfi\n-\n-\tfor dir in $test_dirs; do\n-\t\tif test -x $dir/ld$build_exeext; then\n-\t\t\tgcc_cv_ld=$dir/ld$build_exeext\n-\t\t\tbreak;\n-\t\tfi\n-\tdone\n-fi\n+gcc_AC_CHECK_TOOL(gcc_cv_ld, ld, ORIGINAL_LD_FOR_TARGET)\n+AC_MSG_CHECKING(what linker to use)\n case $in_tree_ld in\n   yes)\n     AC_MSG_RESULT(\"newly built ld\")\n@@ -1979,24 +1849,19 @@ esac\n \n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n-AC_MSG_CHECKING(what nm to use)\n in_tree_nm=no\n-if test -x nm$build_exeext; then\n-\tgcc_cv_nm=./nm$build_exeext\n-elif test -f $gcc_cv_binutils_srcdir/configure.in \\\n+gcc_cv_nm=\n+if test -f $gcc_cv_binutils_srcdir/configure.in \\\n      && test -f ../binutils/Makefile; then\n \t# Single tree build which includes binutils.\n \tin_tree_nm=yes\n+\tgcc_cv_nm=../binutils/nm-new$build_exeext\n+elif test -x nm$build_exeext; then\n \tgcc_cv_nm=./nm$build_exeext\n-\trm -f nm$build_exeext\n-\t$LN_S ../binutils/nm-new$build_exeext nm$build_exeext 2>/dev/null\n-elif test \"x$program_prefix\" != xNONE; then\n-\tgcc_cv_nm=${program_prefix}nm$build_exeext\n-elif test x$build != x$host && test x$build != x$target; then\n-\tgcc_cv_nm=${target_noncanonical}-nm$build_exeext\n-else\n-\tgcc_cv_nm=`echo nm | sed \"${program_transform_name}\"`$build_exeext\n fi\n+\n+gcc_AC_CHECK_TOOL(gcc_cv_nm, nm, ORIGINAL_NM_FOR_TARGET)\n+AC_MSG_CHECKING(what nm to use)\n case $in_tree_nm in\n   yes) AC_MSG_RESULT(\"newly built nm\") ;;\n   no)  AC_MSG_RESULT($gcc_cv_nm) ;;\n@@ -2011,9 +1876,7 @@ elif test -f $gcc_cv_binutils_srcdir/configure.in \\\n      && test -f ../binutils/Makefile; then\n \t# Single tree build which includes binutils.\n \tin_tree_objdump=yes\n-\tgcc_cv_objdump=./objdump$build_exeext\n-\trm -f objdump$build_exeext\n-\t$LN_S ../binutils/objdump$build_exeext objdump$build_exeext 2>/dev/null\n+\tgcc_cv_objdump=../binutils/objdump$build_exeext\n elif test \"x$program_prefix\" != xNONE; then\n \tgcc_cv_objdump=${program_prefix}objdump$build_exeext\n elif test x$build != x$host && test x$build != x$target; then"}]}