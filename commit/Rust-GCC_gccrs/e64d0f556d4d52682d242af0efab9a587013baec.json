{"sha": "e64d0f556d4d52682d242af0efab9a587013baec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTY0ZDBmNTU2ZDRkNTI2ODJkMjQyYWYwZWZhYjlhNTg3MDEzYmFlYw==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@mips.com", "date": "2012-10-30T21:21:41Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2012-10-30T21:21:41Z"}, "message": "mti-linux.h (SYSROOT_SUFFIX_SPEC): Change order and add mabi=64.\n\n2012-10-30  Steve Ellcey  <sellcey@mips.com>\n\n\t* config/mips/mti-linux.h (SYSROOT_SUFFIX_SPEC): Change order\n\tand add mabi=64.\n\t(DRIVER_SELF_SPECS): Make -n32 the default on mips64* archs.\n\t* config/mips/t-mti-linux (MULTILIB_OPTIONS): Change order.\n\t(MULTILIB_DIRNAMES): Ditto.\n\t(MULTILIB_EXCEPTIONS): New.\n\nFrom-SVN: r192995", "tree": {"sha": "b6db3d38f4fd6a718d234a15add279e89af9fd95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b6db3d38f4fd6a718d234a15add279e89af9fd95"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e64d0f556d4d52682d242af0efab9a587013baec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e64d0f556d4d52682d242af0efab9a587013baec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e64d0f556d4d52682d242af0efab9a587013baec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e64d0f556d4d52682d242af0efab9a587013baec/comments", "author": null, "committer": null, "parents": [{"sha": "606e7d3a082ead945cd3804525fea467886a0187", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/606e7d3a082ead945cd3804525fea467886a0187", "html_url": "https://github.com/Rust-GCC/gccrs/commit/606e7d3a082ead945cd3804525fea467886a0187"}], "stats": {"total": 28, "additions": 25, "deletions": 3}, "files": [{"sha": "80c968c349b3b23ca335784261e7a724e60c7604", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e64d0f556d4d52682d242af0efab9a587013baec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e64d0f556d4d52682d242af0efab9a587013baec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e64d0f556d4d52682d242af0efab9a587013baec", "patch": "@@ -1,3 +1,12 @@\n+2012-10-30  Steve Ellcey  <sellcey@mips.com>\n+\n+\t* config/mips/mti-linux.h (SYSROOT_SUFFIX_SPEC): Change order\n+\tand add mabi=64.\n+\t(DRIVER_SELF_SPECS): Make -n32 the default on mips64* archs.\n+\t* config/mips/t-mti-linux (MULTILIB_OPTIONS): Change order.\n+\t(MULTILIB_DIRNAMES): Ditto.\n+\t(MULTILIB_EXCEPTIONS): New.\n+\n 2012-10-30  Joern Rennecke  <joern.rennecke@embecosm.com>\n \n \t* lra-constraints.c (check_secondary_memory_needed_p):"}, {"sha": "cda9bdc83c977cb12e3230cd14a3b4ba398f5d74", "filename": "gcc/config/mips/mti-linux.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e64d0f556d4d52682d242af0efab9a587013baec/gcc%2Fconfig%2Fmips%2Fmti-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e64d0f556d4d52682d242af0efab9a587013baec/gcc%2Fconfig%2Fmips%2Fmti-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmti-linux.h?ref=e64d0f556d4d52682d242af0efab9a587013baec", "patch": "@@ -21,7 +21,7 @@ along with GCC; see the file COPYING3.  If not see\n /* This target is a multilib target, specify the sysroot paths.  */\n #undef SYSROOT_SUFFIX_SPEC\n #define SYSROOT_SUFFIX_SPEC \\\n-    \"%{mips32:/mips32}%{mips64:/mips64}%{mips64r2:/mips64r2}%{msoft-float:/sof}%{mel|EL:/el}%{mabi=64:/64}%{mabi=n32:/n32}\"\n+    \"%{mips32:/mips32}%{mips64:/mips64}%{mips64r2:/mips64r2}%{mabi=64:/64}%{mel|EL:/el}%{msoft-float:/sof}\"\n \n #undef DRIVER_SELF_SPECS\n #define DRIVER_SELF_SPECS\t\t\t\t\t\t\\\n@@ -36,6 +36,10 @@ along with GCC; see the file COPYING3.  If not see\n   /* Infer the -msynci setting from -march if not explicitly set.  */\t\\\n   MIPS_ISA_SYNCI_SPEC,\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n+  /* If no ABI option is specified, infer one from the ISA level\t\\\n+     or -mgp setting.  */\t\t\t\t\t\t\\\n+  \"%{!mabi=*: %{\" MIPS_32BIT_OPTION_SPEC \": -mabi=32;: -mabi=n32}}\",\t\\\n+\t\t\t\t\t\t\t\t\t\\\n   /* Base SPECs.  */\t\t\t\t\t\t\t\\\n   BASE_DRIVER_SELF_SPECS\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\"}, {"sha": "6d280cdbcfd1cbf0d0bc05ec917efe9f57a6b4f4", "filename": "gcc/config/mips/t-mti-linux", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e64d0f556d4d52682d242af0efab9a587013baec/gcc%2Fconfig%2Fmips%2Ft-mti-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e64d0f556d4d52682d242af0efab9a587013baec/gcc%2Fconfig%2Fmips%2Ft-mti-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-mti-linux?ref=e64d0f556d4d52682d242af0efab9a587013baec", "patch": "@@ -19,6 +19,15 @@\n # The default build is mips32r2, hard-float big-endian.  Add mips32,\n # soft-float, and little-endian variations.\n \n-MULTILIB_OPTIONS = mips32/mips64/mips64r2 msoft-float EL\n-MULTILIB_DIRNAMES = mips32 mips64 mips64r2 sof el\n+MULTILIB_OPTIONS = mips32/mips64/mips64r2 mabi=64 EL msoft-float\n+MULTILIB_DIRNAMES = mips32 mips64 mips64r2 64 el sof\n MULTILIB_MATCHES = EL=mel EB=meb\n+\n+# The 64 bit ABI is not supported on the mips32 architecture.\n+MULTILIB_EXCEPTIONS += *mips32*/*mabi=64*\n+\n+# The 64 bit ABI is not supported on the mips32r2 architecture.\n+# Because mips32r2 is the default we can't use that flag to trigger\n+# the exception so we check for mabi=64 with no specific mips flag\n+# instead.\n+MULTILIB_EXCEPTIONS += mabi=64*"}]}