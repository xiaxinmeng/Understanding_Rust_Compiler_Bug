{"sha": "bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRiNGY2Y2UyZmViZWY2NWU4ZTZiMWEwZDllOTIxYjIwNjFlZGFjOA==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2013-07-17T12:57:41Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2013-07-17T12:57:41Z"}, "message": "[multiple changes]\n\n2013-07-17  Mikael Morin  <mikael@gcc.gnu.org>\n            Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/57895\n        * match.c (gfc_match_name): Ensure that the error\n        message regarding -fdollar-ok gets printed.\n        (gfc_match_common): Avoid multiple freeing.\n\n2013-07-17  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/57895\n        * gfortran.dg/dollar_sym_3.f: New.\n        * gfortran.dg/dollar_sym_1.f90: Update dg-error.\n\nFrom-SVN: r201008", "tree": {"sha": "ccfe0a46201e28b7ac2a0161d259c2f552ad775b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ccfe0a46201e28b7ac2a0161d259c2f552ad775b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/comments", "author": null, "committer": null, "parents": [{"sha": "a1259a13026fb572411d29b13318264e2d087346", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1259a13026fb572411d29b13318264e2d087346", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1259a13026fb572411d29b13318264e2d087346"}], "stats": {"total": 42, "additions": 31, "deletions": 11}, "files": [{"sha": "6c977b9491c9ed6f16539e39f64e036b89cbb152", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "patch": "@@ -1,3 +1,11 @@\n+2013-07-17  Mikael Morin  <mikael@gcc.gnu.org>\n+\t    Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/57895\n+\t* match.c (gfc_match_name): Ensure that the error\n+\tmessage regarding -fdollar-ok gets printed.\n+\t(gfc_match_common): Avoid multiple freeing.\n+\n 2013-07-16  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/57912\n@@ -149,7 +157,7 @@\n \n \tPR fortran/37336\n \t* trans-decl.c (init_intent_out_dt): Call finalizer\n-\twhen approriate.\n+\twhen appropriate.\n \n 2013-06-08  Tobias Burnus  <burnus@net-b.de>\n \n@@ -650,7 +658,7 @@\n 2013-04-08  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/56782\n-\t* frontend-passes.c (callback_reduction):  Dont't do\n+\t* frontend-passes.c (callback_reduction):  Don't do\n \tany simplification if there is only a single element\n \twhich has an iterator.\n "}, {"sha": "7f30156624d79a229988420930e723d0af63c06a", "filename": "gcc/fortran/match.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ffortran%2Fmatch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ffortran%2Fmatch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmatch.c?ref=bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "patch": "@@ -556,8 +556,8 @@ gfc_match_name (char *buffer)\n \n   if (c == '$' && !gfc_option.flag_dollar_ok)\n     {\n-      gfc_error (\"Invalid character '$' at %C. Use -fdollar-ok to allow it \"\n-\t\t \"as an extension\");\n+      gfc_fatal_error (\"Invalid character '$' at %L. Use -fdollar-ok to allow \"\n+\t\t       \"it as an extension\", &old_loc);\n       return MATCH_ERROR;\n     }\n \n@@ -4520,10 +4520,6 @@ gfc_match_common (void)\n   gfc_syntax_error (ST_COMMON);\n \n cleanup:\n-  if (old_blank_common)\n-    old_blank_common->common_next = NULL;\n-  else\n-    gfc_current_ns->blank_common.head = NULL;\n   gfc_free_array_spec (as);\n   return MATCH_ERROR;\n }"}, {"sha": "2d6ece45d1ebf5fbeaf197742fed9b38994ccc86", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "patch": "@@ -1,3 +1,9 @@\n+2013-07-17  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/57895\n+\t* gfortran.dg/dollar_sym_3.f: New.\n+\t* gfortran.dg/dollar_sym_1.f90: Update dg-error.\n+\n 2013-07-16  Iain Sandoe  <iain@codesourcery.com>\n \n \tPR target/55654"}, {"sha": "6c0dfcb24d6a6745064f3cc9b4324db175785af4", "filename": "gcc/testsuite/gfortran.dg/dollar_sym_1.f90", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_sym_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_sym_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_sym_1.f90?ref=bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "patch": "@@ -3,7 +3,7 @@\n ! Variable names containing $ signs\n ! \n       REAL*4 PLT$C_HOUSTPIX   ! { dg-error \"Invalid character '\\\\$'\" }\n-      INTEGER PLT$C_COMMAND   ! { dg-error \"Invalid character '\\\\$'\" }\n-      PARAMETER (PLT$B_OPC=0) ! { dg-error \"Invalid character '\\\\$'\" }\n-      common /abc$def/ PLT$C_HOUSTPIX, PLT$C_COMMAND ! { dg-error \"Invalid character '\\\\$'\" }\n+      INTEGER PLT$C_COMMAND   ! Unreachable as the error above is now fatal\n+      PARAMETER (PLT$B_OPC=0) !  Unreachable as the error above is now fatal\n+      common /abc$def/ PLT$C_HOUSTPIX, PLT$C_COMMAND !  Unreachable as the error above is now fatal\n       end"}, {"sha": "7cf2047eda0f1a5637b8aba0e833f81154bb9f7c", "filename": "gcc/testsuite/gfortran.dg/dollar_sym_3.f", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_sym_3.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_sym_3.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_sym_3.f?ref=bdb4f6ce2febef65e8e6b1a0d9e921b2061edac8", "patch": "@@ -0,0 +1,10 @@\n+! { dg-do compile }\n+!\n+! PR fortran/57895\n+!\n+! Contributed by Vittorio Zecca\n+!\n+c Segmentation fault in gfc_restore_last_undo_checkpoint\n+      COMMON RADE3155V62$JUTMU9L9E(3,3,3), LADE314JUTMP9         ! { dg-error \"Invalid character '\\\\$' at .1.. Use -fdollar-ok to allow it as an extension\" }\n+     +LHEDDJNTMP9L(3,3,3)                                                       \n+      end"}]}