{"sha": "609754920ff466cb720aa317f96b1b7eceb30ad4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA5NzU0OTIwZmY0NjZjYjcyMGFhMzE3Zjk2YjFiN2VjZWIzMGFkNA==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-05-21T08:00:17Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2004-05-21T08:00:17Z"}, "message": "Makefile.tpl: Whenever a recursive target is defined...\n\n2004-05-21  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* Makefile.tpl: Whenever a recursive target is defined, wrap\n\tit in a special @if/@endif block, and prepare its maybe\n\tdependency in the @if/@endif block\n\t* configure.in: Instead of writing maybe dependencies, remove\n\tthe @if/@endif statements, and remove the @if/@endif blocks\n\tthat remain.\n\t* Makefile.in: Regenerate.\n\t* configure: Regenerate.\n\nFrom-SVN: r82088", "tree": {"sha": "8e6c5e406cefca8fca79c1868885d3e4022bbb5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e6c5e406cefca8fca79c1868885d3e4022bbb5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/609754920ff466cb720aa317f96b1b7eceb30ad4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609754920ff466cb720aa317f96b1b7eceb30ad4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/609754920ff466cb720aa317f96b1b7eceb30ad4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609754920ff466cb720aa317f96b1b7eceb30ad4/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "082a099ce4d0c306c9af311189e9ae1f8c4cba68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/082a099ce4d0c306c9af311189e9ae1f8c4cba68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/082a099ce4d0c306c9af311189e9ae1f8c4cba68"}], "stats": {"total": 3541, "additions": 3428, "deletions": 113}, "files": [{"sha": "5c23ad82e4d9f2eb6f991653c815c95a328486bd", "filename": "ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609754920ff466cb720aa317f96b1b7eceb30ad4/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609754920ff466cb720aa317f96b1b7eceb30ad4/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=609754920ff466cb720aa317f96b1b7eceb30ad4", "patch": "@@ -1,3 +1,14 @@\n+2004-05-21  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* Makefile.tpl: Whenever a recursive target is defined, wrap\n+\tit in a special @if/@endif block, and prepare its maybe\n+\tdependency in the @if/@endif block\n+\t* configure.in: Instead of writing maybe dependencies, remove\n+\tthe @if/@endif statements, and remove the @if/@endif blocks\n+\tthat remain.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Regenerate.\n+\n 2004-05-20  Janis Johnson  <janis187@us.ibm.com>\n \n \t* MAINTAINERS (Various Maintainers): Add myself for compat testsuite."}, {"sha": "ecd94f0582f1b57d36cb950bfcead4897da52f4e", "filename": "Makefile.in", "status": "modified", "additions": 3288, "deletions": 4, "changes": 3292, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609754920ff466cb720aa317f96b1b7eceb30ad4/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609754920ff466cb720aa317f96b1b7eceb30ad4/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=609754920ff466cb720aa317f96b1b7eceb30ad4"}, {"sha": "6e946098dcd392efae7410890647ff69c4f40acd", "filename": "Makefile.tpl", "status": "modified", "additions": 51, "deletions": 4, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609754920ff466cb720aa317f96b1b7eceb30ad4/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609754920ff466cb720aa317f96b1b7eceb30ad4/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=609754920ff466cb720aa317f96b1b7eceb30ad4", "patch": "@@ -697,6 +697,8 @@ TAGS: do-TAGS\n [+ FOR build_modules +]\n .PHONY: configure-build-[+module+] maybe-configure-build-[+module+]\n maybe-configure-build-[+module+]:\n+@if build-[+module+]\n+maybe-configure-build-[+module+]: configure-build-[+module+]\n configure-build-[+module+]:\n \t@test ! -f $(BUILD_SUBDIR)/[+module+]/Makefile || exit 0; \\\n \t$(SHELL) $(srcdir)/mkinstalldirs $(BUILD_SUBDIR)/[+module+] ; \\\n@@ -757,13 +759,17 @@ configure-build-[+module+]:\n \t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n \t  --with-build-subdir=\"$(BUILD_SUBDIR)\" \\\n \t  || exit 1\n+@endif build-[+module+]\n \n .PHONY: all-build-[+module+] maybe-all-build-[+module+]\n maybe-all-build-[+module+]:\n+@if build-[+module+]\n+maybe-all-build-[+module+]: all-build-[+module+]\n all-build-[+module+]: configure-build-[+module+]\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t(cd $(BUILD_SUBDIR)/[+module+] && $(MAKE) all)\n+@endif build-[+module+]\n [+ ENDFOR build_modules +]\n \n # --------------------------------------\n@@ -772,6 +778,8 @@ all-build-[+module+]: configure-build-[+module+]\n [+ FOR host_modules +]\n .PHONY: configure-[+module+] maybe-configure-[+module+]\n maybe-configure-[+module+]:\n+@if [+module+]\n+maybe-configure-[+module+]: configure-[+module+]\n configure-[+module+]:\n \t@test ! -f [+module+]/Makefile || exit 0; \\\n \t[ -d [+module+] ] || mkdir [+module+]; \\\n@@ -809,9 +817,12 @@ configure-[+module+]:\n \t$(SHELL) $${libsrcdir}/configure \\\n \t  $(HOST_CONFIGARGS) $${srcdiroption} \\\n \t  || exit 1\n+@endif [+module+]\n \n .PHONY: all-[+module+] maybe-all-[+module+]\n maybe-all-[+module+]:\n+@if [+module+]\n+maybe-all-[+module+]: all-[+module+]\n all-[+module+]: configure-[+module+]\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n@@ -820,9 +831,12 @@ all-[+module+]: configure-[+module+]\n \t  IF with_x \n \t    +] $(X11_FLAGS_TO_PASS)[+ \n \t  ENDIF with_x +] all)\n+@endif [+module+]\n \n .PHONY: check-[+module+] maybe-check-[+module+]\n maybe-check-[+module+]:\n+@if [+module+]\n+maybe-check-[+module+]: check-[+module+]\n [+ IF no_check +]\n check-[+module+]:\n [+ ELIF no_check_cross +]\n@@ -847,9 +861,12 @@ check-[+module+]:\n \t    +] $(X11_FLAGS_TO_PASS)[+ \n \t  ENDIF with_x +] check)\n [+ ENDIF no_check +]\n+@endif [+module+]\n \n .PHONY: install-[+module+] maybe-install-[+module+]\n maybe-install-[+module+]:\n+@if [+module+]\n+maybe-install-[+module+]: install-[+module+]\n [+ IF no_install +]\n install-[+module+]:\n [+ ELSE install +]\n@@ -862,11 +879,14 @@ install-[+module+]: installdirs\n \t    +] $(X11_FLAGS_TO_PASS)[+ \n \t  ENDIF with_x +] install)\n [+ ENDIF no_install +]\n+@endif [+module+]\n \n # Other targets (info, dvi, etc.)\n [+ FOR recursive_targets +]\n .PHONY: maybe-[+make_target+]-[+module+] [+make_target+]-[+module+]\n maybe-[+make_target+]-[+module+]:\n+@if [+module+]\n+maybe-[+make_target+]-[+module+]: [+make_target+]-[+module+]\n [+ IF (match-value? = \"missing\" (get \"make_target\") ) +]\n # [+module+] doesn't support [+make_target+].\n [+make_target+]-[+module+]:\n@@ -891,6 +911,7 @@ maybe-[+make_target+]-[+module+]:\n \t          [+make_target+]) \\\n \t  || exit 1\n [+ ENDIF +]\n+@endif [+module+]\n [+ ENDFOR recursive_targets +]\n [+ ENDFOR host_modules +]\n \n@@ -900,6 +921,8 @@ maybe-[+make_target+]-[+module+]:\n [+ FOR target_modules +]\n .PHONY: configure-target-[+module+] maybe-configure-target-[+module+]\n maybe-configure-target-[+module+]:\n+@if target-[+module+]\n+maybe-configure-target-[+module+]: configure-target-[+module+]\n \n # There's only one multilib.out.  Cleverer subdirs shouldn't need it copied.\n $(TARGET_SUBDIR)/[+module+]/multilib.out: multilib.out\n@@ -974,9 +997,12 @@ ENDIF raw_cxx +]\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n \t  --with-target-subdir=\"$(TARGET_SUBDIR)\" \\\n \t  || exit 1\n+@endif target-[+module+]\n \n .PHONY: all-target-[+module+] maybe-all-target-[+module+]\n maybe-all-target-[+module+]:\n+@if target-[+module+]\n+maybe-all-target-[+module+]: all-target-[+module+]\n all-target-[+module+]: configure-target-[+module+]\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n@@ -987,9 +1013,12 @@ all-target-[+module+]: configure-target-[+module+]\n \t  +] 'CXX=$$(RAW_CXX_FOR_TARGET)' 'CXX_FOR_TARGET=$$(RAW_CXX_FOR_TARGET)' [+ \n \t    ENDIF raw_cxx \n \t  +] all)\n+@endif target-[+module+]\n \n .PHONY: check-target-[+module+] maybe-check-target-[+module+]\n maybe-check-target-[+module+]:\n+@if target-[+module+]\n+maybe-check-target-[+module+]: check-target-[+module+]\n [+ IF no_check +]\n # Dummy target for uncheckable module.\n check-target-[+module+]:\n@@ -1005,9 +1034,12 @@ check-target-[+module+]:\n \t    ENDIF raw_cxx \n \t  +] check)\n [+ ENDIF no_check +]\n+@endif target-[+module+]\n \n .PHONY: install-target-[+module+] maybe-install-target-[+module+]\n maybe-install-target-[+module+]:\n+@if target-[+module+]\n+maybe-install-target-[+module+]: install-target-[+module+]\n [+ IF no_install +]\n # Dummy target for uninstallable.\n install-target-[+module+]:\n@@ -1019,11 +1051,14 @@ install-target-[+module+]: installdirs\n \t(cd $(TARGET_SUBDIR)/[+module+] && \\\n \t  $(MAKE) $(TARGET_FLAGS_TO_PASS) install)\n [+ ENDIF no_install +]\n+@endif target-[+module+]\n \n # Other targets (info, dvi, etc.)\n [+ FOR recursive_targets +]\n .PHONY: maybe-[+make_target+]-target-[+module+] [+make_target+]-target-[+module+]\n maybe-[+make_target+]-target-[+module+]:\n+@if target-[+module+]\n+maybe-[+make_target+]-target-[+module+]: [+make_target+]-target-[+module+]\n [+ IF (match-value? = \"missing\" (get \"make_target\") ) +]\n # [+module+] doesn't support [+make_target+].\n [+make_target+]-target-[+module+]:\n@@ -1048,6 +1083,7 @@ maybe-[+make_target+]-target-[+module+]:\n \t          [+make_target+]) \\\n \t  || exit 1\n [+ ENDIF +]\n+@endif target-[+module+]\n [+ ENDFOR recursive_targets +]\n [+ ENDFOR target_modules +]\n \n@@ -1067,6 +1103,8 @@ maybe-[+make_target+]-target-[+module+]:\n # We must skip configuring if toplevel bootstrap is going.\n .PHONY: configure-gcc maybe-configure-gcc\n maybe-configure-gcc:\n+@if gcc\n+maybe-configure-gcc: configure-gcc\n configure-gcc:\n \t@test ! -f gcc/Makefile || exit 0; \\\n \t[ -f stage_last ] && exit 0; \\\n@@ -1108,12 +1146,15 @@ configure-gcc:\n \t$(SHELL) $${libsrcdir}/configure \\\n \t  $(HOST_CONFIGARGS) $${srcdiroption} \\\n \t  || exit 1\n+@endif gcc\n \n # Don't 'make all' in gcc if it's already been made by 'bootstrap'; that\n # causes trouble.  This wart will be fixed eventually by moving\n # the bootstrap behavior to this file.\n .PHONY: all-gcc maybe-all-gcc\n maybe-all-gcc:\n+@if gcc\n+maybe-all-gcc: all-gcc\n all-gcc: configure-gcc\n \tr=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n@@ -1126,6 +1167,7 @@ all-gcc: configure-gcc\n \t  $(SET_LIB_PATH) \\\n \t  (cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) all); \\\n \tfi\n+@endif gcc\n \n # Building GCC uses some tools for rebuilding \"source\" files\n # like texinfo, bison/byacc, etc.  So we must depend on those.\n@@ -1203,6 +1245,8 @@ cross: all-texinfo all-bison all-byacc all-binutils all-gas all-ld\n \n .PHONY: check-gcc maybe-check-gcc\n maybe-check-gcc:\n+@if gcc\n+maybe-check-gcc: check-gcc\n check-gcc:\n \t@if [ -f ./gcc/Makefile ] ; then \\\n \t  r=`${PWD_COMMAND}`; export r; \\\n@@ -1226,9 +1270,12 @@ check-gcc-c++:\n \n .PHONY: check-c++\n check-c++: check-target-libstdc++-v3 check-gcc-c++\n+@endif gcc\n \n .PHONY: install-gcc maybe-install-gcc\n maybe-install-gcc:\n+@if gcc\n+maybe-install-gcc: install-gcc\n install-gcc:\n \t@if [ -f ./gcc/Makefile ] ; then \\\n \t  r=`${PWD_COMMAND}`; export r; \\\n@@ -1238,6 +1285,7 @@ install-gcc:\n \telse \\\n \t  true; \\\n \tfi\n+@endif gcc\n \n # Install the gcc headers files, but not the fixed include files,\n # which Cygnus is not allowed to distribute.  This rule is very\n@@ -1264,6 +1312,8 @@ gcc-no-fixedincludes:\n [+ FOR recursive_targets +]\n .PHONY: maybe-[+make_target+]-gcc [+make_target+]-gcc\n maybe-[+make_target+]-gcc:\n+@if gcc\n+maybe-[+make_target+]-gcc: [+make_target+]-gcc\n [+make_target+]-gcc: [+\n   FOR depend +]\\\n     [+depend+]-gcc [+\n@@ -1283,6 +1333,7 @@ maybe-[+make_target+]-gcc:\n \t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \\\n \t          [+make_target+]) \\\n \t  || exit 1\n+@endif gcc\n \n [+ ENDFOR recursive_targets +]\n \n@@ -1712,10 +1763,6 @@ configure-target-gperf: $(ALL_GCC_CXX)\n all-target-gperf: maybe-all-target-libiberty maybe-all-target-libstdc++-v3\n configure-target-qthreads: $(ALL_GCC_C)\n \n-# Dependencies of maybe-foo on foo.  These are used because, for example,\n-# all-gcc only depends on all-gas if gas is present and being configured.\n-@maybe_dependencies@\n-\n # Serialization dependencies.  Host configures don't work well in parallel to\n # each other, due to contention over config.cache.  Target configures and \n # build configures are similar."}, {"sha": "fe595163a528adc120c78bf071d2dbab5372b6d0", "filename": "configure", "status": "modified", "additions": 60, "deletions": 84, "changes": 144, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609754920ff466cb720aa317f96b1b7eceb30ad4/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609754920ff466cb720aa317f96b1b7eceb30ad4/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=609754920ff466cb720aa317f96b1b7eceb30ad4", "patch": "@@ -3009,54 +3009,51 @@ case \"$enable_gdbtk\" in\n     ;;\n esac\n \n-# Create the 'maybe dependencies'.  This uses a temporary file.\n+# Strip out unwanted targets.\n \n # While at that, we remove Makefiles if we were started for recursive\n # configuration, so that the top-level Makefile reconfigures them,\n # like we used to do when configure itself was recursive.\n-rm -f maybedep.tmp\n-echo '# maybedep.tmp' > maybedep.tmp\n \n-# Make-targets which may need maybe dependencies.\n-mts=\"configure all install check clean distclean dvi info install-info\"\n-mts=\"${mts} installcheck mostlyclean maintainer-clean TAGS\"\n+# Loop over modules.  $extrasub must be used with care, limiting as\n+# much as possible the usage of range addresses.  That's because autoconf\n+# splits the sed script to overcome limits in the number of commands,\n+# and relying on carefully-timed sed passes may turn out to be very hard\n+# to maintain later.  In this particular case, you just have to be careful\n+# not to nest @if/@endif pairs, because configure will not warn you at all.\n \n-# Loop over modules and make-targets.\n for module in ${build_modules} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${build_subdir}/${module}/Makefile; then\n     echo 1>&2 \"*** removing ${build_subdir}/${module}/Makefile to force reconfigure\"\n     rm -f ${build_subdir}/${module}/Makefile\n   fi\n-  for mt in ${mts} ; do\n-    case ${mt} in\n-      install) ;; # No installing build modules.\n-      *) echo \"maybe-${mt}-build-${module}: ${mt}-build-${module}\" >> maybedep.tmp ;;\n-    esac\n-  done\n+  extrasub=\"$extrasub\n+/^@if build-$module\\$/d\n+/^@endif build-$module\\$/d\"\n done\n for module in ${configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${module}/Makefile; then\n     echo 1>&2 \"*** removing ${module}/Makefile to force reconfigure\"\n     rm -f ${module}/Makefile\n   fi\n-  for mt in ${mts} ; do\n-    echo \"maybe-${mt}-${module}: ${mt}-${module}\" >> maybedep.tmp\n-  done\n+  extrasub=\"$extrasub\n+/^@if $module\\$/d\n+/^@endif $module\\$/d\"\n done\n for module in ${target_configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${target_subdir}/${module}/Makefile; then\n     echo 1>&2 \"*** removing ${target_subdir}/${module}/Makefile to force reconfigure\"\n     rm -f ${target_subdir}/${module}/Makefile\n   fi\n-  for mt in ${mts} ; do\n-    echo \"maybe-${mt}-target-${module}: ${mt}-target-${module}\" >> maybedep.tmp\n-  done\n+  extrasub=\"$extrasub\n+/^@if target-$module\\$/d\n+/^@endif target-$module\\$/d\"\n done\n-maybe_dependencies=maybedep.tmp\n-\n+extrasub=\"$extrasub\n+/^@if /,/^@endif /d\"\n \n # Create the serialization dependencies.  This uses a temporary file.\n \n@@ -3437,7 +3434,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3441: checking for $ac_word\" >&5\n+echo \"configure:3438: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3470,7 +3467,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3474: checking for $ac_word\" >&5\n+echo \"configure:3471: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3509,7 +3506,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3513: checking for $ac_word\" >&5\n+echo \"configure:3510: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3542,7 +3539,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3546: checking for $ac_word\" >&5\n+echo \"configure:3543: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3581,7 +3578,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3585: checking for $ac_word\" >&5\n+echo \"configure:3582: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3614,7 +3611,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3618: checking for $ac_word\" >&5\n+echo \"configure:3615: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3653,7 +3650,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3657: checking for $ac_word\" >&5\n+echo \"configure:3654: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3686,7 +3683,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3690: checking for $ac_word\" >&5\n+echo \"configure:3687: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3725,7 +3722,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3729: checking for $ac_word\" >&5\n+echo \"configure:3726: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3758,7 +3755,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3762: checking for $ac_word\" >&5\n+echo \"configure:3759: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3797,7 +3794,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3801: checking for $ac_word\" >&5\n+echo \"configure:3798: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3830,7 +3827,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3834: checking for $ac_word\" >&5\n+echo \"configure:3831: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3869,7 +3866,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3873: checking for $ac_word\" >&5\n+echo \"configure:3870: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3902,7 +3899,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3906: checking for $ac_word\" >&5\n+echo \"configure:3903: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3941,7 +3938,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3945: checking for $ac_word\" >&5\n+echo \"configure:3942: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3974,7 +3971,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3978: checking for $ac_word\" >&5\n+echo \"configure:3975: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4013,7 +4010,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4017: checking for $ac_word\" >&5\n+echo \"configure:4014: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4046,7 +4043,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4050: checking for $ac_word\" >&5\n+echo \"configure:4047: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4095,7 +4092,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4099: checking for $ac_word\" >&5\n+echo \"configure:4096: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4128,7 +4125,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4132: checking for $ac_word\" >&5\n+echo \"configure:4129: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4167,7 +4164,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4171: checking for $ac_word\" >&5\n+echo \"configure:4168: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4200,7 +4197,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4204: checking for $ac_word\" >&5\n+echo \"configure:4201: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4239,7 +4236,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4243: checking for $ac_word\" >&5\n+echo \"configure:4240: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4272,7 +4269,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4276: checking for $ac_word\" >&5\n+echo \"configure:4273: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4311,7 +4308,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4315: checking for $ac_word\" >&5\n+echo \"configure:4312: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4344,7 +4341,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4348: checking for $ac_word\" >&5\n+echo \"configure:4345: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4383,7 +4380,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4387: checking for $ac_word\" >&5\n+echo \"configure:4384: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4416,7 +4413,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4420: checking for $ac_word\" >&5\n+echo \"configure:4417: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4455,7 +4452,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4459: checking for $ac_word\" >&5\n+echo \"configure:4456: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4488,7 +4485,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4492: checking for $ac_word\" >&5\n+echo \"configure:4489: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4527,7 +4524,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4531: checking for $ac_word\" >&5\n+echo \"configure:4528: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4560,7 +4557,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4564: checking for $ac_word\" >&5\n+echo \"configure:4561: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4645,7 +4642,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4649: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4646: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4770,34 +4767,15 @@ trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15\n # Transform confdefs.h into DEFS.\n # Protect against shell expansion while executing Makefile rules.\n # Protect against Makefile macro expansion.\n-#\n-# If the first sed substitution is executed (which looks for macros that\n-# take arguments), then we branch to the quote section.  Otherwise,\n-# look for a macro that doesn't take arguments.\n-cat >confdef2opt.sed <<\\_ACEOF\n-t clear\n-: clear\n-s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t(][^ \t(]*([^)]*)\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n-t quote\n-s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t][^ \t]*\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n-t quote\n-d\n-: quote\n-s,[ \t`~#$^&*(){}\\\\|;'\"<>?],\\\\&,g\n-s,\\[,\\\\&,g\n-s,\\],\\\\&,g\n-s,\\$,$$,g\n-p\n-_ACEOF\n-# We use echo to avoid assuming a particular line-breaking character.\n-# The extra dot is to prevent the shell from consuming trailing\n-# line-breaks from the sub-command output.  A line-break within\n-# single-quotes doesn't work because, if this script is created in a\n-# platform that uses two characters for line-breaks (e.g., DOS), tr\n-# would break.\n-ac_LF_and_DOT=`echo; echo .`\n-DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr \"$ac_LF_and_DOT\" ' .'`\n-rm -f confdef2opt.sed\n+cat > conftest.defs <<\\EOF\n+s%#define \\([A-Za-z_][A-Za-z0-9_]*\\) *\\(.*\\)%-D\\1=\\2%g\n+s%[ \t`~#$^&*(){}\\\\|;'\"<>?]%\\\\&%g\n+s%\\[%\\\\&%g\n+s%\\]%\\\\&%g\n+s%\\$%$$%g\n+EOF\n+DEFS=`sed -f conftest.defs confdefs.h | tr '\\012' ' '`\n+rm -f conftest.defs\n \n \n # Without the \"./\", some shells look in PATH for config.status.\n@@ -4899,8 +4877,6 @@ s%@stage1_languages@%$stage1_languages%g\n s%@DEFAULT_YACC@%$DEFAULT_YACC%g\n s%@DEFAULT_M4@%$DEFAULT_M4%g\n s%@DEFAULT_LEX@%$DEFAULT_LEX%g\n-/@maybe_dependencies@/r $maybe_dependencies\n-s%@maybe_dependencies@%%g\n /@serialization_dependencies@/r $serialization_dependencies\n s%@serialization_dependencies@%%g\n /@host_makefile_frag@/r $host_makefile_frag"}, {"sha": "c27fc12852150cdebf3d2a2badd3cdab9f0e9e50", "filename": "configure.in", "status": "modified", "additions": 18, "deletions": 21, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609754920ff466cb720aa317f96b1b7eceb30ad4/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609754920ff466cb720aa317f96b1b7eceb30ad4/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=609754920ff466cb720aa317f96b1b7eceb30ad4", "patch": "@@ -1716,54 +1716,51 @@ case \"$enable_gdbtk\" in\n     ;;\n esac\n \n-# Create the 'maybe dependencies'.  This uses a temporary file.\n+# Strip out unwanted targets.\n \n # While at that, we remove Makefiles if we were started for recursive\n # configuration, so that the top-level Makefile reconfigures them,\n # like we used to do when configure itself was recursive.\n-rm -f maybedep.tmp\n-echo '# maybedep.tmp' > maybedep.tmp\n \n-# Make-targets which may need maybe dependencies.\n-mts=\"configure all install check clean distclean dvi info install-info\"\n-mts=\"${mts} installcheck mostlyclean maintainer-clean TAGS\"\n+# Loop over modules.  $extrasub must be used with care, limiting as\n+# much as possible the usage of range addresses.  That's because autoconf\n+# splits the sed script to overcome limits in the number of commands,\n+# and relying on carefully-timed sed passes may turn out to be very hard\n+# to maintain later.  In this particular case, you just have to be careful\n+# not to nest @if/@endif pairs, because configure will not warn you at all.\n \n-# Loop over modules and make-targets.\n for module in ${build_modules} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${build_subdir}/${module}/Makefile; then\n     echo 1>&2 \"*** removing ${build_subdir}/${module}/Makefile to force reconfigure\"\n     rm -f ${build_subdir}/${module}/Makefile\n   fi\n-  for mt in ${mts} ; do\n-    case ${mt} in\n-      install) ;; # No installing build modules.\n-      *) echo \"maybe-${mt}-build-${module}: ${mt}-build-${module}\" >> maybedep.tmp ;;\n-    esac\n-  done\n+  extrasub=\"$extrasub\n+/^@if build-$module\\$/d\n+/^@endif build-$module\\$/d\"\n done\n for module in ${configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${module}/Makefile; then\n     echo 1>&2 \"*** removing ${module}/Makefile to force reconfigure\"\n     rm -f ${module}/Makefile\n   fi\n-  for mt in ${mts} ; do\n-    echo \"maybe-${mt}-${module}: ${mt}-${module}\" >> maybedep.tmp\n-  done\n+  extrasub=\"$extrasub\n+/^@if $module\\$/d\n+/^@endif $module\\$/d\"\n done\n for module in ${target_configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${target_subdir}/${module}/Makefile; then\n     echo 1>&2 \"*** removing ${target_subdir}/${module}/Makefile to force reconfigure\"\n     rm -f ${target_subdir}/${module}/Makefile\n   fi\n-  for mt in ${mts} ; do\n-    echo \"maybe-${mt}-target-${module}: ${mt}-target-${module}\" >> maybedep.tmp\n-  done\n+  extrasub=\"$extrasub\n+/^@if target-$module\\$/d\n+/^@endif target-$module\\$/d\"\n done\n-maybe_dependencies=maybedep.tmp\n-AC_SUBST_FILE(maybe_dependencies)\n+extrasub=\"$extrasub\n+/^@if /,/^@endif /d\"\n \n # Create the serialization dependencies.  This uses a temporary file.\n "}]}