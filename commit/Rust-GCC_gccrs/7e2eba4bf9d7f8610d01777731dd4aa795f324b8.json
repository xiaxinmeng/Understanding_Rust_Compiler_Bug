{"sha": "7e2eba4bf9d7f8610d01777731dd4aa795f324b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2UyZWJhNGJmOWQ3Zjg2MTBkMDE3Nzc3MzFkZDRhYTc5NWYzMjRiOA==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2005-07-17T00:48:46Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2005-07-17T00:48:46Z"}, "message": "re PR fortran/21730 ([4.0 only] Character length incorrect.)\n\n        PR fortran/21730\n        * decl.c (do_parm): Adjust character initializer to character length\n        of symbol before assigning.\n\nFrom-SVN: r102104", "tree": {"sha": "bd888ce71a949dedcbbf720f30df0156f2b235d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd888ce71a949dedcbbf720f30df0156f2b235d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e2eba4bf9d7f8610d01777731dd4aa795f324b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e2eba4bf9d7f8610d01777731dd4aa795f324b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e2eba4bf9d7f8610d01777731dd4aa795f324b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e2eba4bf9d7f8610d01777731dd4aa795f324b8/comments", "author": null, "committer": null, "parents": [{"sha": "30702a9f844e0181a720661a7d8ff066aef6a302", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30702a9f844e0181a720661a7d8ff066aef6a302", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30702a9f844e0181a720661a7d8ff066aef6a302"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "49b8dae11cc92ca876ed1eb72da0d0b9008e1390", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2eba4bf9d7f8610d01777731dd4aa795f324b8/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2eba4bf9d7f8610d01777731dd4aa795f324b8/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7e2eba4bf9d7f8610d01777731dd4aa795f324b8", "patch": "@@ -1,3 +1,9 @@\n+2005-07-16  David Edelsohn  <edelsohn@gnu.org>\n+\n+\tPR fortran/21730\n+\t* decl.c (do_parm): Adjust character initializer to character length\n+\tof symbol before assigning.\n+\n 2005-07-14  Steve Ellcey  <sje@cup.hp.com>\n \n \t* trans-types.c (MAX_REAL_KINDS): Increase from 4 to 5."}, {"sha": "9288ab9d4ef33037bc7b6dc659c3a23664742ab1", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2eba4bf9d7f8610d01777731dd4aa795f324b8/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2eba4bf9d7f8610d01777731dd4aa795f324b8/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=7e2eba4bf9d7f8610d01777731dd4aa795f324b8", "patch": "@@ -3101,6 +3101,16 @@ do_parm (void)\n       goto cleanup;\n     }\n \n+  if (sym->ts.type == BT_CHARACTER\n+      && sym->ts.cl != NULL\n+      && sym->ts.cl->length != NULL\n+      && sym->ts.cl->length->expr_type == EXPR_CONSTANT\n+      && init->expr_type == EXPR_CONSTANT\n+      && init->ts.type == BT_CHARACTER\n+      && init->ts.kind == 1)\n+    gfc_set_constant_character_len (\n+      mpz_get_si (sym->ts.cl->length->value.integer), init);\n+\n   sym->value = init;\n   return MATCH_YES;\n "}]}