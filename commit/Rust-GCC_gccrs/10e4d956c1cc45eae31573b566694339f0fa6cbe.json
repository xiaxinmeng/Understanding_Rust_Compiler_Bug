{"sha": "10e4d956c1cc45eae31573b566694339f0fa6cbe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBlNGQ5NTZjMWNjNDVlYWUzMTU3M2I1NjY2OTQzMzlmMGZhNmNiZQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2007-04-23T19:02:57Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2007-04-23T19:02:57Z"}, "message": "i386.md (prefix_extra): New attribute.\n\n2007-04-23  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* config/i386/i386.md (prefix_extra): New attribute.\n\t(length): Add prefix_extra.\n\n\t* onfig/i386/sse.md (sse2_movdqu): Set prefix_data16.\n\t(sse2_movntv2di): Likewise.\n\t(sse2_cvtps2dq): Likewise.\n\t(sse2_cvtpd2pi): Likewise.\n\t(sse2_cvttpd2pi): Likewise.\n\t(*sse2_cvtpd2ps): Likewise.\n\t(*add<mode>3): Likewise.\n\t(sse2_ssadd<mode>3): Likewise.\n\t(sse2_usadd<mode>3): Likewise.\n\t(*sub<mode>3): Likewise.\n\t(sse2_sssub<mode>3): Likewise.\n\t(sse2_ussub<mode>3): Likewise.\n\t(*mulv8hi3): Likewise.\n\t(*smulv8hi3_highpart): Likewise.\n\t(*umulv8hi3_highpart): Likewise.\n\t(sse2_umulv2siv2di3): Likewise.\n\t(sse2_pmaddwd): Likewise.\n\t(ashr<mode>3): Likewise.\n\t(lshr<mode>3): Likewise.\n\t(ashl<mode>3): Likewise.\n\t(sse2_ashlti3): Likewise.\n\t(sse2_lshrti3): Likewise.\n\t(*umaxv16qi3): Likewise.\n\t(*smaxv8hi3): Likewise.\n\t(*uminv16qi3): Likewise.\n\t(*sminv8hi3): Likewise.\n\t(sse2_eq<mode>3): Likewise.\n\t(sse2_gt<mode>3): Likewise.\n\t(*and<mode>3): Likewise.\n\t(sse2_nand<mode>3): Likewise.\n\t(*ior<mode>3): Likewise.\n\t(*xor<mode>3): Likewise.\n\t(sse2_packsswb): Likewise.\n\t(sse2_packssdw): Likewise.\n\t(sse2_packuswb): Likewise.\n\t(sse2_punpckhbw): Likewise.\n\t(sse2_punpcklbw): Likewise.\n\t(sse2_punpckhwd): Likewise.\n\t(sse2_punpcklwd): Likewise.\n\t(sse2_punpckhdq): Likewise.\n\t(sse2_punpckldq): Likewise.\n\t(sse2_punpckhqdq): Likewise.\n\t(sse2_punpcklqdq): Likewise.\n\t(*sse2_pinsrw): Likewise.\n\t(*sse2_pextrw): Likewise.\n\t(sse2_pshufd_1): Likewise.\n\t(sse2_uavgv16qi3): Likewise.\n\t(sse2_uavgv8hi3): Likewise.\n\t(sse2_psadbw): Likewise.\n\t(sse2_pmovmskb): Likewise.\n\t(*sse2_maskmovdqu): Likewise.\n\t(*sse2_maskmovdqu_rex64): Likewise.\n\t(sse4a_extrqi): Likewise.\n\t(sse4a_extrq): Likewise.\n\t(sse3_lddqu): Set prefix_rep.\n\t(sse3_addsubv4sf3): Likewise.\n\t(sse3_haddv4sf3): Likewise.\n\t(sse3_hsubv4sf3): Likewise.\n\t(sse_cvtss2si): Likewise.\n\t(sse_cvtss2si_2): Likewise.\n\t(sse_cvtss2siq): Likewise.\n\t(sse_cvtss2siq_2): Likewise.\n\t(sse_cvttss2si): Likewise.\n\t(sse_cvttss2siq): Likewise.\n\t(sse2_cvttps2dq): Likewise.\n\t(sse3_movshdup): Likewise.\n\t(sse3_movsldup): Likewise.\n\t(sse2_cvtsd2si): Likewise.\n\t(sse2_cvtsd2si_2): Likewise.\n\t(sse2_cvtsd2siq): Likewise.\n\t(sse2_cvtsd2siq_2): Likewise.\n\t(sse2_cvttsd2si): Likewise.\n\t(sse2_cvttsd2siq): Likewise.\n\t(*sse2_cvtpd2dq): Likewise.\n\t(*sse2_cvttpd2dq): Likewise.\n\t(sse2_pshuflw_1): Likewise.\n\t(sse2_pshufhw_1): Likewise.\n\t(sse4a_insertqi): Likewise.\n\t(sse4a_insertq): Likewise.\n\t(ssse3_phaddwv8hi3): Set prefix_data16 and prefix_extra.\n\t(ssse3_phadddv4si3): Likewise.\n\t(ssse3_phaddswv8hi3): Likewise.\n\t(ssse3_phsubwv8hi3): Likewise.\n\t(ssse3_phsubdv4si3): Likewise.\n\t(ssse3_phsubswv8hi3): Likewise.\n\t(ssse3_pmaddubswv8hi3): Likewise.\n\t(ssse3_pmulhrswv8hi3): Likewise.\n\t(ssse3_pshufbv16qi3): Likewise.\n\t(ssse3_psign<mode>3): Likewise.\n\t(ssse3_palignrti): Likewise.\n\t(abs<mode>2): Likewise.\n\t(ssse3_phaddwv4hi3): Set prefix_extra.\n\t(ssse3_phadddv2si3): Likewise.\n\t(ssse3_phaddswv4hi3): Likewise.\n\t(ssse3_phsubwv4hi3): Likewise.\n\t(ssse3_phsubdv2si3): Likewise.\n\t(ssse3_phsubswv4hi3): Likewise.\n\t(ssse3_pmaddubswv4hi3): Likewise.\n\t(ssse3_pmulhrswv4hi3): Likewise.\n\t(ssse3_pshufbv8qi3): Likewise.\n\t(ssse3_psign<mode>3): Likewise.\n\t(ssse3_palignrdi): Likewise.\n\t(abs<mode>2): Likewise.\n\t(sse2_cvtdq2ps): Set mode to V4SF instead of V2DF.\n\t(*vec_dupv2df): Set mode to V2DF instead of V4SF.\n\t(sse2_pmovmskb): Set mode to SI instead of V2DF.\n\nFrom-SVN: r124077", "tree": {"sha": "f0b1b1d5c2bcb860a175e4178f18564224b796fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0b1b1d5c2bcb860a175e4178f18564224b796fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10e4d956c1cc45eae31573b566694339f0fa6cbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10e4d956c1cc45eae31573b566694339f0fa6cbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10e4d956c1cc45eae31573b566694339f0fa6cbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10e4d956c1cc45eae31573b566694339f0fa6cbe/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d76473618c43c7a073359a300113fa5cf21fd999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d76473618c43c7a073359a300113fa5cf21fd999", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d76473618c43c7a073359a300113fa5cf21fd999"}], "stats": {"total": 239, "additions": 235, "deletions": 4}, "files": [{"sha": "46866c3cc61d9b7885aee2d9afc8ff5ea34dd8d8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 112, "deletions": 0, "changes": 112, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10e4d956c1cc45eae31573b566694339f0fa6cbe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10e4d956c1cc45eae31573b566694339f0fa6cbe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=10e4d956c1cc45eae31573b566694339f0fa6cbe", "patch": "@@ -1,3 +1,115 @@\n+2007-04-23  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/i386/i386.md (prefix_extra): New attribute.\n+\t(length): Add prefix_extra.\n+\n+\t* onfig/i386/sse.md (sse2_movdqu): Set prefix_data16.\n+\t(sse2_movntv2di): Likewise.\n+\t(sse2_cvtps2dq): Likewise.\n+\t(sse2_cvtpd2pi): Likewise.\n+\t(sse2_cvttpd2pi): Likewise.\n+\t(*sse2_cvtpd2ps): Likewise.\n+\t(*add<mode>3): Likewise.\n+\t(sse2_ssadd<mode>3): Likewise.\n+\t(sse2_usadd<mode>3): Likewise.\n+\t(*sub<mode>3): Likewise.\n+\t(sse2_sssub<mode>3): Likewise.\n+\t(sse2_ussub<mode>3): Likewise.\n+\t(*mulv8hi3): Likewise.\n+\t(*smulv8hi3_highpart): Likewise.\n+\t(*umulv8hi3_highpart): Likewise.\n+\t(sse2_umulv2siv2di3): Likewise.\n+\t(sse2_pmaddwd): Likewise.\n+\t(ashr<mode>3): Likewise.\n+\t(lshr<mode>3): Likewise.\n+\t(ashl<mode>3): Likewise.\n+\t(sse2_ashlti3): Likewise.\n+\t(sse2_lshrti3): Likewise.\n+\t(*umaxv16qi3): Likewise.\n+\t(*smaxv8hi3): Likewise.\n+\t(*uminv16qi3): Likewise.\n+\t(*sminv8hi3): Likewise.\n+\t(sse2_eq<mode>3): Likewise.\n+\t(sse2_gt<mode>3): Likewise.\n+\t(*and<mode>3): Likewise.\n+\t(sse2_nand<mode>3): Likewise.\n+\t(*ior<mode>3): Likewise.\n+\t(*xor<mode>3): Likewise.\n+\t(sse2_packsswb): Likewise.\n+\t(sse2_packssdw): Likewise.\n+\t(sse2_packuswb): Likewise.\n+\t(sse2_punpckhbw): Likewise.\n+\t(sse2_punpcklbw): Likewise.\n+\t(sse2_punpckhwd): Likewise.\n+\t(sse2_punpcklwd): Likewise.\n+\t(sse2_punpckhdq): Likewise.\n+\t(sse2_punpckldq): Likewise.\n+\t(sse2_punpckhqdq): Likewise.\n+\t(sse2_punpcklqdq): Likewise.\n+\t(*sse2_pinsrw): Likewise.\n+\t(*sse2_pextrw): Likewise.\n+\t(sse2_pshufd_1): Likewise.\n+\t(sse2_uavgv16qi3): Likewise.\n+\t(sse2_uavgv8hi3): Likewise.\n+\t(sse2_psadbw): Likewise.\n+\t(sse2_pmovmskb): Likewise.\n+\t(*sse2_maskmovdqu): Likewise.\n+\t(*sse2_maskmovdqu_rex64): Likewise.\n+\t(sse4a_extrqi): Likewise.\n+\t(sse4a_extrq): Likewise.\n+\t(sse3_lddqu): Set prefix_rep.\n+\t(sse3_addsubv4sf3): Likewise.\n+\t(sse3_haddv4sf3): Likewise.\n+\t(sse3_hsubv4sf3): Likewise.\n+\t(sse_cvtss2si): Likewise.\n+\t(sse_cvtss2si_2): Likewise.\n+\t(sse_cvtss2siq): Likewise.\n+\t(sse_cvtss2siq_2): Likewise.\n+\t(sse_cvttss2si): Likewise.\n+\t(sse_cvttss2siq): Likewise.\n+\t(sse2_cvttps2dq): Likewise.\n+\t(sse3_movshdup): Likewise.\n+\t(sse3_movsldup): Likewise.\n+\t(sse2_cvtsd2si): Likewise.\n+\t(sse2_cvtsd2si_2): Likewise.\n+\t(sse2_cvtsd2siq): Likewise.\n+\t(sse2_cvtsd2siq_2): Likewise.\n+\t(sse2_cvttsd2si): Likewise.\n+\t(sse2_cvttsd2siq): Likewise.\n+\t(*sse2_cvtpd2dq): Likewise.\n+\t(*sse2_cvttpd2dq): Likewise.\n+\t(sse2_pshuflw_1): Likewise.\n+\t(sse2_pshufhw_1): Likewise.\n+\t(sse4a_insertqi): Likewise.\n+\t(sse4a_insertq): Likewise.\n+\t(ssse3_phaddwv8hi3): Set prefix_data16 and prefix_extra.\n+\t(ssse3_phadddv4si3): Likewise.\n+\t(ssse3_phaddswv8hi3): Likewise.\n+\t(ssse3_phsubwv8hi3): Likewise.\n+\t(ssse3_phsubdv4si3): Likewise.\n+\t(ssse3_phsubswv8hi3): Likewise.\n+\t(ssse3_pmaddubswv8hi3): Likewise.\n+\t(ssse3_pmulhrswv8hi3): Likewise.\n+\t(ssse3_pshufbv16qi3): Likewise.\n+\t(ssse3_psign<mode>3): Likewise.\n+\t(ssse3_palignrti): Likewise.\n+\t(abs<mode>2): Likewise.\n+\t(ssse3_phaddwv4hi3): Set prefix_extra.\n+\t(ssse3_phadddv2si3): Likewise.\n+\t(ssse3_phaddswv4hi3): Likewise.\n+\t(ssse3_phsubwv4hi3): Likewise.\n+\t(ssse3_phsubdv2si3): Likewise.\n+\t(ssse3_phsubswv4hi3): Likewise.\n+\t(ssse3_pmaddubswv4hi3): Likewise.\n+\t(ssse3_pmulhrswv4hi3): Likewise.\n+\t(ssse3_pshufbv8qi3): Likewise.\n+\t(ssse3_psign<mode>3): Likewise.\n+\t(ssse3_palignrdi): Likewise.\n+\t(abs<mode>2): Likewise.\n+\t(sse2_cvtdq2ps): Set mode to V4SF instead of V2DF.\n+\t(*vec_dupv2df): Set mode to V2DF instead of V4SF.\n+\t(sse2_pmovmskb): Set mode to SI instead of V2DF.\n+\n 2007-04-23  Nick Clifton  <nickc@redhat.com>\n \n \t* params.def: Fix formatting of emacs local variables."}, {"sha": "5beb901c60d9abc0e8719055a15237380126e3f2", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10e4d956c1cc45eae31573b566694339f0fa6cbe/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10e4d956c1cc45eae31573b566694339f0fa6cbe/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=10e4d956c1cc45eae31573b566694339f0fa6cbe", "patch": "@@ -317,6 +317,9 @@\n \t]\n \t(const_int 0)))\n \n+;; There are also additional prefixes in SSSE3.\n+(define_attr \"prefix_extra\" \"\" (const_int 0))\n+\n ;; Set when modrm byte is used.\n (define_attr \"modrm\" \"\"\n   (cond [(eq_attr \"type\" \"str,leave\")\n@@ -366,7 +369,8 @@\n \t (plus (plus (attr \"modrm\")\n \t\t     (plus (attr \"prefix_0f\")\n \t\t\t   (plus (attr \"prefix_rex\")\n-\t\t\t\t (const_int 1))))\n+\t\t\t\t (plus (attr \"prefix_extra\")\n+\t\t\t\t       (const_int 1)))))\n \t       (plus (attr \"prefix_rep\")\n \t\t     (plus (attr \"prefix_data16\")\n \t\t\t   (plus (attr \"length_immediate\")"}, {"sha": "63f0eac53b6f88e91ab7835caf1c1e45acf3c4ea", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 118, "deletions": 3, "changes": 121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10e4d956c1cc45eae31573b566694339f0fa6cbe/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10e4d956c1cc45eae31573b566694339f0fa6cbe/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=10e4d956c1cc45eae31573b566694339f0fa6cbe", "patch": "@@ -267,6 +267,7 @@\n   \"TARGET_SSE2 && !(MEM_P (operands[0]) && MEM_P (operands[1]))\"\n   \"movdqu\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssemov\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse_movntv4sf\"\n@@ -294,6 +295,7 @@\n   \"TARGET_SSE2\"\n   \"movntdq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_movntsi\"\n@@ -312,6 +314,7 @@\n   \"TARGET_SSE3\"\n   \"lddqu\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n@@ -650,6 +653,7 @@\n   \"TARGET_SSE3\"\n   \"addsubps\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseadd\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"V4SF\")])\n \n (define_insn \"sse3_haddv4sf3\"\n@@ -676,6 +680,7 @@\n   \"TARGET_SSE3\"\n   \"haddps\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseadd\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"V4SF\")])\n \n (define_insn \"sse3_hsubv4sf3\"\n@@ -702,6 +707,7 @@\n   \"TARGET_SSE3\"\n   \"hsubps\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseadd\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"V4SF\")])\n \n (define_expand \"reduc_splus_v4sf\"\n@@ -1005,6 +1011,7 @@\n   \"cvtss2si\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"SI\")])\n \n (define_insn \"sse_cvtss2si_2\"\n@@ -1016,6 +1023,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"SI\")])\n \n (define_insn \"sse_cvtss2siq\"\n@@ -1029,6 +1037,7 @@\n   \"cvtss2siq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"sse_cvtss2siq_2\"\n@@ -1040,6 +1049,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"sse_cvttss2si\"\n@@ -1053,6 +1063,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"SI\")])\n \n (define_insn \"sse_cvttss2siq\"\n@@ -1066,6 +1077,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"sse2_cvtdq2ps\"\n@@ -1074,7 +1086,7 @@\n   \"TARGET_SSE2\"\n   \"cvtdq2ps\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n-   (set_attr \"mode\" \"V2DF\")])\n+   (set_attr \"mode\" \"V4SF\")])\n \n (define_insn \"sse2_cvtps2dq\"\n   [(set (match_operand:V4SI 0 \"register_operand\" \"=x\")\n@@ -1083,6 +1095,7 @@\n   \"TARGET_SSE2\"\n   \"cvtps2dq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_cvttps2dq\"\n@@ -1091,6 +1104,7 @@\n   \"TARGET_SSE2\"\n   \"cvttps2dq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n@@ -1176,6 +1190,7 @@\n   \"TARGET_SSE3\"\n   \"movshdup\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sse\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"V4SF\")])\n \n (define_insn \"sse3_movsldup\"\n@@ -1191,6 +1206,7 @@\n   \"TARGET_SSE3\"\n   \"movsldup\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sse\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"V4SF\")])\n \n (define_expand \"sse_shufps\"\n@@ -1923,6 +1939,7 @@\n   \"cvtpd2pi\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"unit\" \"mmx\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"sse2_cvttpd2pi\"\n@@ -1932,6 +1949,7 @@\n   \"cvttpd2pi\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"unit\" \"mmx\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_cvtsi2sd\"\n@@ -1973,6 +1991,7 @@\n   \"cvtsd2si\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"SI\")])\n \n (define_insn \"sse2_cvtsd2si_2\"\n@@ -1984,6 +2003,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"SI\")])\n \n (define_insn \"sse2_cvtsd2siq\"\n@@ -1997,6 +2017,7 @@\n   \"cvtsd2siq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"sse2_cvtsd2siq_2\"\n@@ -2008,6 +2029,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"sse2_cvttsd2si\"\n@@ -2019,6 +2041,7 @@\n   \"TARGET_SSE2\"\n   \"cvttsd2si\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sseicvt\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"SI\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")])\n@@ -2032,6 +2055,7 @@\n   \"TARGET_SSE2 && TARGET_64BIT\"\n   \"cvttsd2siq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sseicvt\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"DI\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")])\n@@ -2065,6 +2089,7 @@\n   \"TARGET_SSE2\"\n   \"cvtpd2dq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")\n    (set_attr \"amdfam10_decode\" \"double\")])\n \n@@ -2084,6 +2109,7 @@\n   \"TARGET_SSE2\"\n   \"cvttpd2dq\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")\n    (set_attr \"amdfam10_decode\" \"double\")])\n \n@@ -2135,6 +2161,7 @@\n   \"TARGET_SSE2\"\n   \"cvtpd2ps\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"V4SF\")\n    (set_attr \"amdfam10_decode\" \"double\")])\n \n@@ -2472,7 +2499,7 @@\n   \"TARGET_SSE2\"\n   \"unpcklpd\\t%0, %0\"\n   [(set_attr \"type\" \"sselog1\")\n-   (set_attr \"mode\" \"V4SF\")])\n+   (set_attr \"mode\" \"V2DF\")])\n \n (define_insn \"*vec_concatv2df_sse3\"\n   [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n@@ -2559,6 +2586,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (PLUS, <MODE>mode, operands)\"\n   \"padd<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_ssadd<mode>3\"\n@@ -2569,6 +2597,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (SS_PLUS, <MODE>mode, operands)\"\n   \"padds<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_usadd<mode>3\"\n@@ -2579,6 +2608,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (US_PLUS, <MODE>mode, operands)\"\n   \"paddus<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"sub<mode>3\"\n@@ -2596,6 +2626,7 @@\n   \"TARGET_SSE2\"\n   \"psub<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_sssub<mode>3\"\n@@ -2606,6 +2637,7 @@\n   \"TARGET_SSE2\"\n   \"psubs<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_ussub<mode>3\"\n@@ -2616,6 +2648,7 @@\n   \"TARGET_SSE2\"\n   \"psubus<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"mulv16qi3\"\n@@ -2676,6 +2709,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (MULT, V8HImode, operands)\"\n   \"pmullw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseimul\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"smulv8hi3_highpart\"\n@@ -2704,6 +2738,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (MULT, V8HImode, operands)\"\n   \"pmulhw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseimul\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"umulv8hi3_highpart\"\n@@ -2732,6 +2767,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (MULT, V8HImode, operands)\"\n   \"pmulhuw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseimul\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_umulv2siv2di3\"\n@@ -2748,6 +2784,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (MULT, V4SImode, operands)\"\n   \"pmuludq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseimul\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_pmaddwd\"\n@@ -2784,6 +2821,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (MULT, V8HImode, operands)\"\n   \"pmaddwd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"mulv4si3\"\n@@ -3082,6 +3120,7 @@\n   \"TARGET_SSE2\"\n   \"psra<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"lshr<mode>3\"\n@@ -3092,6 +3131,7 @@\n   \"TARGET_SSE2\"\n   \"psrl<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ashl<mode>3\"\n@@ -3102,6 +3142,7 @@\n   \"TARGET_SSE2\"\n   \"psll<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_ashlti3\"\n@@ -3114,6 +3155,7 @@\n   return \"pslldq\\t{%2, %0|%0, %2}\";\n }\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"vec_shl_<mode>\"\n@@ -3138,6 +3180,7 @@\n   return \"psrldq\\t{%2, %0|%0, %2}\";\n }\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"vec_shr_<mode>\"\n@@ -3166,6 +3209,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (UMAX, V16QImode, operands)\"\n   \"pmaxub\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"smaxv8hi3\"\n@@ -3182,6 +3226,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (SMAX, V8HImode, operands)\"\n   \"pmaxsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"umaxv8hi3\"\n@@ -3251,6 +3296,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (UMIN, V16QImode, operands)\"\n   \"pminub\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"sminv8hi3\"\n@@ -3267,6 +3313,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (SMIN, V8HImode, operands)\"\n   \"pminsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"smin<mode>3\"\n@@ -3323,6 +3370,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (EQ, <MODE>mode, operands)\"\n   \"pcmpeq<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"ssecmp\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_gt<mode>3\"\n@@ -3333,6 +3381,7 @@\n   \"TARGET_SSE2\"\n   \"pcmpgt<ssevecsize>\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"ssecmp\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"vcond<mode>\"\n@@ -3403,6 +3452,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (AND, <MODE>mode, operands)\"\n   \"pand\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_nand<mode>3\"\n@@ -3413,6 +3463,7 @@\n   \"TARGET_SSE2\"\n   \"pandn\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"ior<mode>3\"\n@@ -3430,6 +3481,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (IOR, <MODE>mode, operands)\"\n   \"por\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"xor<mode>3\"\n@@ -3447,6 +3499,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (XOR, <MODE>mode, operands)\"\n   \"pxor\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n@@ -3686,6 +3739,7 @@\n   \"TARGET_SSE2\"\n   \"packsswb\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_packssdw\"\n@@ -3698,6 +3752,7 @@\n   \"TARGET_SSE2\"\n   \"packssdw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_packuswb\"\n@@ -3710,6 +3765,7 @@\n   \"TARGET_SSE2\"\n   \"packuswb\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpckhbw\"\n@@ -3729,6 +3785,7 @@\n   \"TARGET_SSE2\"\n   \"punpckhbw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpcklbw\"\n@@ -3748,6 +3805,7 @@\n   \"TARGET_SSE2\"\n   \"punpcklbw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpckhwd\"\n@@ -3763,6 +3821,7 @@\n   \"TARGET_SSE2\"\n   \"punpckhwd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpcklwd\"\n@@ -3778,6 +3837,7 @@\n   \"TARGET_SSE2\"\n   \"punpcklwd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpckhdq\"\n@@ -3791,6 +3851,7 @@\n   \"TARGET_SSE2\"\n   \"punpckhdq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpckldq\"\n@@ -3804,6 +3865,7 @@\n   \"TARGET_SSE2\"\n   \"punpckldq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpckhqdq\"\n@@ -3817,6 +3879,7 @@\n   \"TARGET_SSE2\"\n   \"punpckhqdq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_punpcklqdq\"\n@@ -3830,6 +3893,7 @@\n   \"TARGET_SSE2\"\n   \"punpcklqdq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"*sse2_pinsrw\"\n@@ -3845,6 +3909,7 @@\n   return \"pinsrw\\t{%3, %k2, %0|%0, %k2, %3}\";\n }\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"*sse2_pextrw\"\n@@ -3856,6 +3921,7 @@\n   \"TARGET_SSE2\"\n   \"pextrw\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"sse2_pshufd\"\n@@ -3893,6 +3959,7 @@\n   return \"pshufd\\t{%2, %1, %0|%0, %1, %2}\";\n }\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"sse2_pshuflw\"\n@@ -3934,6 +4001,7 @@\n   return \"pshuflw\\t{%2, %1, %0|%0, %1, %2}\";\n }\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"sse2_pshufhw\"\n@@ -3975,6 +4043,7 @@\n   return \"pshufhw\\t{%2, %1, %0|%0, %1, %2}\";\n }\n   [(set_attr \"type\" \"sselog\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_expand \"sse2_loadd\"\n@@ -4428,6 +4497,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (PLUS, V16QImode, operands)\"\n   \"pavgb\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse2_uavgv8hi3\"\n@@ -4448,6 +4518,7 @@\n   \"TARGET_SSE2 && ix86_binary_operator_ok (PLUS, V8HImode, operands)\"\n   \"pavgw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n ;; The correct representation for this is absolutely enormous, and \n@@ -4460,6 +4531,7 @@\n   \"TARGET_SSE2\"\n   \"psadbw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse_movmskps\"\n@@ -4487,7 +4559,8 @@\n   \"TARGET_SSE2\"\n   \"pmovmskb\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n-   (set_attr \"mode\" \"V2DF\")])\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"mode\" \"SI\")])\n \n (define_expand \"sse2_maskmovdqu\"\n   [(set (match_operand:V16QI 0 \"memory_operand\" \"\")\n@@ -4508,6 +4581,7 @@\n   ;; @@@ check ordering of operands in intel/nonintel syntax\n   \"maskmovdqu\\t{%2, %1|%1, %2}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"*sse2_maskmovdqu_rex64\"\n@@ -4520,6 +4594,7 @@\n   ;; @@@ check ordering of operands in intel/nonintel syntax\n   \"maskmovdqu\\t{%2, %1|%1, %2}\"\n   [(set_attr \"type\" \"ssecvt\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse_ldmxcsr\"\n@@ -4670,6 +4745,8 @@\n   \"TARGET_SSSE3\"\n   \"phaddw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_phaddwv4hi3\"\n@@ -4696,6 +4773,7 @@\n   \"TARGET_SSSE3\"\n   \"phaddw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_phadddv4si3\"\n@@ -4722,6 +4800,8 @@\n   \"TARGET_SSSE3\"\n   \"phaddd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_phadddv2si3\"\n@@ -4740,6 +4820,7 @@\n   \"TARGET_SSSE3\"\n   \"phaddd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_phaddswv8hi3\"\n@@ -4782,6 +4863,8 @@\n   \"TARGET_SSSE3\"\n   \"phaddsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_phaddswv4hi3\"\n@@ -4808,6 +4891,7 @@\n   \"TARGET_SSSE3\"\n   \"phaddsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_phsubwv8hi3\"\n@@ -4850,6 +4934,8 @@\n   \"TARGET_SSSE3\"\n   \"phsubw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_phsubwv4hi3\"\n@@ -4876,6 +4962,7 @@\n   \"TARGET_SSSE3\"\n   \"phsubw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_phsubdv4si3\"\n@@ -4902,6 +4989,8 @@\n   \"TARGET_SSSE3\"\n   \"phsubd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_phsubdv2si3\"\n@@ -4920,6 +5009,7 @@\n   \"TARGET_SSSE3\"\n   \"phsubd\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_phsubswv8hi3\"\n@@ -4962,6 +5052,8 @@\n   \"TARGET_SSSE3\"\n   \"phsubsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_phsubswv4hi3\"\n@@ -4988,6 +5080,7 @@\n   \"TARGET_SSSE3\"\n   \"phsubsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_pmaddubswv8hi3\"\n@@ -5040,6 +5133,8 @@\n   \"TARGET_SSSE3\"\n   \"pmaddubsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_pmaddubswv4hi3\"\n@@ -5076,6 +5171,7 @@\n   \"TARGET_SSSE3\"\n   \"pmaddubsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseiadd\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_pmulhrswv8hi3\"\n@@ -5098,6 +5194,8 @@\n   \"TARGET_SSSE3 && ix86_binary_operator_ok (MULT, V8HImode, operands)\"\n   \"pmulhrsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseimul\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_pmulhrswv4hi3\"\n@@ -5118,6 +5216,7 @@\n   \"TARGET_SSSE3 && ix86_binary_operator_ok (MULT, V4HImode, operands)\"\n   \"pmulhrsw\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseimul\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_pshufbv16qi3\"\n@@ -5128,6 +5227,8 @@\n   \"TARGET_SSSE3\"\n   \"pshufb\\t{%2, %0|%0, %2}\";\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_pshufbv8qi3\"\n@@ -5138,6 +5239,7 @@\n   \"TARGET_SSSE3\"\n   \"pshufb\\t{%2, %0|%0, %2}\";\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_psign<mode>3\"\n@@ -5148,6 +5250,8 @@\n   \"TARGET_SSSE3\"\n   \"psign<ssevecsize>\\t{%2, %0|%0, %2}\";\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_psign<mode>3\"\n@@ -5158,6 +5262,7 @@\n   \"TARGET_SSSE3\"\n   \"psign<mmxvecsize>\\t{%2, %0|%0, %2}\";\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"ssse3_palignrti\"\n@@ -5172,6 +5277,8 @@\n   return \"palignr\\t{%3, %2, %0|%0, %2, %3}\";\n }\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"ssse3_palignrdi\"\n@@ -5186,6 +5293,7 @@\n   return \"palignr\\t{%3, %2, %0|%0, %2, %3}\";\n }\n   [(set_attr \"type\" \"sseishft\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n (define_insn \"abs<mode>2\"\n@@ -5194,6 +5302,8 @@\n   \"TARGET_SSSE3\"\n   \"pabs<ssevecsize>\\t{%1, %0|%0, %1}\";\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_data16\" \"1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"abs<mode>2\"\n@@ -5202,6 +5312,7 @@\n   \"TARGET_SSSE3\"\n   \"pabs<mmxvecsize>\\t{%1, %0|%0, %1}\";\n   [(set_attr \"type\" \"sselog1\")\n+   (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n@@ -5259,6 +5370,7 @@\n   \"TARGET_SSE4A\"\n   \"extrq\\t{%3, %2, %0|%0, %2, %3}\"\n   [(set_attr \"type\" \"sse\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse4a_extrq\"\n@@ -5269,6 +5381,7 @@\n   \"TARGET_SSE4A\"\n   \"extrq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sse\")\n+   (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse4a_insertqi\"\n@@ -5281,6 +5394,7 @@\n   \"TARGET_SSE4A\"\n   \"insertq\\t{%4, %3, %2, %0|%0, %2, %3, %4}\"\n   [(set_attr \"type\" \"sseins\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse4a_insertq\"\n@@ -5291,4 +5405,5 @@\n   \"TARGET_SSE4A\"\n   \"insertq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"sseins\")\n+   (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"mode\" \"TI\")])"}]}