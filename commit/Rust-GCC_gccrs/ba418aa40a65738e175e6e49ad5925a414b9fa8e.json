{"sha": "ba418aa40a65738e175e6e49ad5925a414b9fa8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmE0MThhYTQwYTY1NzM4ZTE3NWU2ZTQ5YWQ1OTI1YTQxNGI5ZmE4ZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-08-14T01:34:31Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-08-14T01:34:31Z"}, "message": "(va_start): For stdarg, delete separate define for 64 bit ABI.\n\n(va_start): For stdarg, delete separate define for 64 bit ABI.  For\nvarargs, don't subtract 64, and only add -8 when all argument\nregisters are used.\n\nFrom-SVN: r10230", "tree": {"sha": "8e36021e6a5da3341e9c9bb3135d954d84d827a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e36021e6a5da3341e9c9bb3135d954d84d827a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba418aa40a65738e175e6e49ad5925a414b9fa8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba418aa40a65738e175e6e49ad5925a414b9fa8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba418aa40a65738e175e6e49ad5925a414b9fa8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba418aa40a65738e175e6e49ad5925a414b9fa8e/comments", "author": null, "committer": null, "parents": [{"sha": "a2ef6e41d2c7f6ed0096983ca7c0cd1d74faad16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2ef6e41d2c7f6ed0096983ca7c0cd1d74faad16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2ef6e41d2c7f6ed0096983ca7c0cd1d74faad16"}], "stats": {"total": 15, "additions": 4, "deletions": 11}, "files": [{"sha": "3cf1c920af56ecfde757d933578e7631647a0a66", "filename": "gcc/ginclude/va-mips.h", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba418aa40a65738e175e6e49ad5925a414b9fa8e/gcc%2Fginclude%2Fva-mips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba418aa40a65738e175e6e49ad5925a414b9fa8e/gcc%2Fginclude%2Fva-mips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-mips.h?ref=ba418aa40a65738e175e6e49ad5925a414b9fa8e", "patch": "@@ -7,7 +7,7 @@\n /* ---------------------------------------- */\n \n \n-/* These macros implement varargs for GNU C--either traditional or ANSU.  */\n+/* These macros implement varargs for GNU C--either traditional or ANSI.  */\n \n /* Define __gnuc_va_list.  */\n \n@@ -43,14 +43,8 @@ typedef char * __gnuc_va_list;\n #endif\n \n #ifdef _STDARG_H\n-#if defined(_MIPS_SIM) && (_MIPS_SIM == _MIPS_SIM_ABI64)\n-#define va_start(__AP, __LASTARG)\t\t\t\t\t\\\n-  (__AP = __builtin_next_arg (__LASTARG) - 64\t\t\t\t\\\n-   + (__builtin_args_info (2) > 8 ? 64 : __builtin_args_info(2) * 8))\n-#else\n #define va_start(__AP, __LASTARG) \\\n   (__AP = (__gnuc_va_list) __builtin_next_arg (__LASTARG))\n-#endif\n \n #else\n #define va_alist  __builtin_va_alist\n@@ -60,12 +54,11 @@ typedef char * __gnuc_va_list;\n #else\n #define va_dcl    int __builtin_va_alist; __va_ellipsis\n #endif\n-/* Need alternate code for _MIPS_SIM_ABI64, but don't use that symbol\n-   because it may not be defined.  */\n+/* Need alternate code for _MIPS_SIM_ABI64.  */\n #if defined(_MIPS_SIM) && (_MIPS_SIM == _MIPS_SIM_ABI64)\n #define va_start(__AP)\t\t\t\t\t\t\t\\\n-  (__AP = __builtin_next_arg () - 64\t\t\t\t\t\\\n-   + (__builtin_args_info (2) > 8 ? 64 : __builtin_args_info(2) * 8))\n+  (__AP = (__gnuc_va_list) __builtin_next_arg ()\t\t\t\\\n+   + (__builtin_args_info (2) >= 8 ? -8 : 0))\n #else\n #define va_start(__AP)  __AP = (char *) &__builtin_va_alist\n #endif"}]}