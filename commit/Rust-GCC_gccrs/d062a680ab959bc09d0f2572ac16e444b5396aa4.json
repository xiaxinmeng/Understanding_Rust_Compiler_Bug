{"sha": "d062a680ab959bc09d0f2572ac16e444b5396aa4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA2MmE2ODBhYjk1OWJjMDlkMGYyNTcyYWMxNmU0NDRiNTM5NmFhNA==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2001-12-04T22:49:20Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2001-12-04T22:49:20Z"}, "message": "langhooks.h (struct lang_hooks): Add staticp.\n\n\t* langhooks.h (struct lang_hooks): Add staticp.\n\t* langhooks-def.h (lhd_staticp, LANG_HOOKS_STATICP): New.\n\t(LANG_HOOKS_INITIALIZER): Add LANG_HOOKS_STATICP.\n\t* langhooks.c (lhd_staticp): New function.\n\t* tree.c (staticp): Call lang_hooks.staticp for language-specific\n\ttree codes.\n\nFrom-SVN: r47628", "tree": {"sha": "23a8878b902f5ac60f9c00bc63521603f68218d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23a8878b902f5ac60f9c00bc63521603f68218d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d062a680ab959bc09d0f2572ac16e444b5396aa4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d062a680ab959bc09d0f2572ac16e444b5396aa4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d062a680ab959bc09d0f2572ac16e444b5396aa4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d062a680ab959bc09d0f2572ac16e444b5396aa4/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69927b59f2c4b5de206b5fb336821ba8dd645e59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69927b59f2c4b5de206b5fb336821ba8dd645e59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69927b59f2c4b5de206b5fb336821ba8dd645e59"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "22242e2274d26105fc549ea9b370f73e7298c467", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d062a680ab959bc09d0f2572ac16e444b5396aa4", "patch": "@@ -1,3 +1,12 @@\n+2001-12-04  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* langhooks.h (struct lang_hooks): Add staticp.\n+\t* langhooks-def.h (lhd_staticp, LANG_HOOKS_STATICP): New.\n+\t(LANG_HOOKS_INITIALIZER): Add LANG_HOOKS_STATICP.\n+\t* langhooks.c (lhd_staticp): New function.\n+\t* tree.c (staticp): Call lang_hooks.staticp for language-specific\n+\ttree codes.\n+\n 2001-12-04  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* cppspec.c (lang_specific_driver): Set is_cpp_driver."}, {"sha": "910d1f543594609bfe192d8e398e41d8e4ac4101", "filename": "gcc/langhooks-def.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Flanghooks-def.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Flanghooks-def.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks-def.h?ref=d062a680ab959bc09d0f2572ac16e444b5396aa4", "patch": "@@ -42,6 +42,7 @@ extern int lhd_decode_option PARAMS ((int, char **));\n extern HOST_WIDE_INT lhd_get_alias_set PARAMS ((tree));\n extern tree lhd_return_tree PARAMS ((tree));\n extern int lhd_safe_from_p PARAMS ((rtx, tree));\n+extern int lhd_staticp PARAMS ((tree));\n extern void lhd_clear_binding_stack PARAMS ((void));\n extern void lhd_print_tree_nothing PARAMS ((FILE *, tree, int));\n extern void lhd_set_yydebug PARAMS ((int));\n@@ -71,6 +72,7 @@ int lhd_tree_inlining_anon_aggr_type_p\t\tPARAMS ((tree));\n #define LANG_HOOKS_GET_ALIAS_SET\tlhd_get_alias_set\n #define LANG_HOOKS_EXPAND_CONSTANT\tlhd_return_tree\n #define LANG_HOOKS_SAFE_FROM_P\t\tlhd_safe_from_p\n+#define LANG_HOOKS_STATICP\t\tlhd_staticp\n #define LANG_HOOKS_HONOR_READONLY\tfalse\n #define LANG_HOOKS_PRINT_STATISTICS\tlhd_do_nothing\n #define LANG_HOOKS_PRINT_XNODE\t\tlhd_print_tree_nothing\n@@ -132,6 +134,7 @@ int lhd_tree_dump_type_quals\t\t\tPARAMS ((tree));\n   LANG_HOOKS_GET_ALIAS_SET, \\\n   LANG_HOOKS_EXPAND_CONSTANT, \\\n   LANG_HOOKS_SAFE_FROM_P, \\\n+  LANG_HOOKS_STATICP, \\\n   LANG_HOOKS_HONOR_READONLY, \\\n   LANG_HOOKS_PRINT_STATISTICS, \\\n   LANG_HOOKS_PRINT_XNODE, \\"}, {"sha": "5e0098680e35e8508d2aed251c395c4f84d6d5d1", "filename": "gcc/langhooks.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Flanghooks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Flanghooks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks.c?ref=d062a680ab959bc09d0f2572ac16e444b5396aa4", "patch": "@@ -77,6 +77,15 @@ lhd_safe_from_p (x, exp)\n   return 1;\n }\n \n+/* Called from staticp.  */\n+\n+int\n+lhd_staticp (exp)\n+     tree exp;\n+{\n+  return 0;\n+}\n+\n /* Called when -dy is given on the command line.  */\n \n void"}, {"sha": "8ce5674ebe9d5c4fe1ca8f2e03493d090c8fcdc9", "filename": "gcc/langhooks.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Flanghooks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Flanghooks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks.h?ref=d062a680ab959bc09d0f2572ac16e444b5396aa4", "patch": "@@ -123,6 +123,9 @@ struct lang_hooks\n      parameter.  */\n   int (*safe_from_p) PARAMS ((rtx, tree));\n \n+  /* Hook called by staticp for language-specific tree codes.  */\n+  int (*staticp) PARAMS ((tree));\n+\n   /* Nonzero if TYPE_READONLY and TREE_READONLY should always be honored.  */\n   bool honor_readonly;\n "}, {"sha": "c21f9132211161ff928e7d61e60be43f2fa9b36d", "filename": "gcc/tree.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d062a680ab959bc09d0f2572ac16e444b5396aa4/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=d062a680ab959bc09d0f2572ac16e444b5396aa4", "patch": "@@ -1518,7 +1518,11 @@ staticp (arg)\n \treturn staticp (TREE_OPERAND (arg, 0));\n \n     default:\n-      return 0;\n+      if ((unsigned int) TREE_CODE (arg)\n+\t  >= (unsigned int) LAST_AND_UNUSED_TREE_CODE)\n+\treturn (*lang_hooks.staticp) (arg);\n+      else\n+\treturn 0;\n     }\n }\n \f"}]}