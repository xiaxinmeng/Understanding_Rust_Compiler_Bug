{"sha": "88febe351918f2cb70edd3527febf3e06f588089", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhmZWJlMzUxOTE4ZjJjYjcwZWRkMzUyN2ZlYmYzZTA2ZjU4ODA4OQ==", "commit": {"author": {"name": "Peter O'Gorman", "email": "pogma@thewrittenword.com", "date": "2009-09-27T15:19:59Z"}, "committer": {"name": "Peter O'Gorman", "email": "pogma@gcc.gnu.org", "date": "2009-09-27T15:19:59Z"}, "message": "collect2.c (main): Look for -brtl before adding libraries.\n\nFrom-SVN: r152219", "tree": {"sha": "bed31c0e70a9dc44cb819f3ec5c3ce371280265d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bed31c0e70a9dc44cb819f3ec5c3ce371280265d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88febe351918f2cb70edd3527febf3e06f588089", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88febe351918f2cb70edd3527febf3e06f588089", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88febe351918f2cb70edd3527febf3e06f588089", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88febe351918f2cb70edd3527febf3e06f588089/comments", "author": null, "committer": null, "parents": [{"sha": "aa58f943d88dfcb1d0d7609b62079269e318cf1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa58f943d88dfcb1d0d7609b62079269e318cf1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa58f943d88dfcb1d0d7609b62079269e318cf1d"}], "stats": {"total": 33, "additions": 20, "deletions": 13}, "files": [{"sha": "f516f0e02eec7f412c7c8e29ed3a789801845673", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88febe351918f2cb70edd3527febf3e06f588089/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88febe351918f2cb70edd3527febf3e06f588089/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=88febe351918f2cb70edd3527febf3e06f588089", "patch": "@@ -1,3 +1,7 @@\n+2009-09-25  Peter O'Gorman  <pogma@thewrittenword.com>\n+\n+\tcollect2.c (main): Look for -brtl before adding libraries.\n+\n 2009-09-19  Jonathan Gray <jsg@openbsd.org>\n \n \t* config.gcc: Update OpenBSD targets."}, {"sha": "82c400bbaaf8e54bb4f033053060747b79119721", "filename": "gcc/collect2.c", "status": "modified", "additions": 16, "deletions": 13, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88febe351918f2cb70edd3527febf3e06f588089/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88febe351918f2cb70edd3527febf3e06f588089/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=88febe351918f2cb70edd3527febf3e06f588089", "patch": "@@ -943,6 +943,22 @@ main (int argc, char **argv)\n       {\n \tif (! strcmp (argv[i], \"-debug\"))\n \t  debug = 1;\n+#ifdef COLLECT_EXPORT_LIST\n+\t/* since -brtl, -bexport, -b64 are not position dependent\n+\t   also check for them here */\n+\tif ((argv[i][0] == '-') && (argv[i][1] == 'b'))\n+  \t  {\n+\t    arg = argv[i];\n+\t    /* We want to disable automatic exports on AIX when user\n+\t       explicitly puts an export list in command line */\n+\t    if (arg[2] == 'E' || strncmp (&arg[2], \"export\", 6) == 0)\n+\t      export_flag = 1;\n+\t    else if (arg[2] == '6' && arg[3] == '4')\n+\t      aix64_flag = 1;\n+\t    else if (arg[2] == 'r' && arg[3] == 't' && arg[4] == 'l')\n+\t      aixrtl_flag = 1;\n+\t  }\n+#endif\n       }\n     vflag = debug;\n   }\n@@ -1164,19 +1180,6 @@ main (int argc, char **argv)\n \t{\n \t  switch (arg[1])\n \t    {\n-#ifdef COLLECT_EXPORT_LIST\n-\t    /* We want to disable automatic exports on AIX when user\n-\t       explicitly puts an export list in command line */\n-\t    case 'b':\n-\t      if (arg[2] == 'E' || strncmp (&arg[2], \"export\", 6) == 0)\n-\t\texport_flag = 1;\n-\t      else if (arg[2] == '6' && arg[3] == '4')\n-\t\taix64_flag = 1;\n-\t      else if (arg[2] == 'r' && arg[3] == 't' && arg[4] == 'l')\n-\t\taixrtl_flag = 1;\n-\t      break;\n-#endif\n-\n \t    case 'd':\n \t      if (!strcmp (arg, \"-debug\"))\n \t\t{"}]}