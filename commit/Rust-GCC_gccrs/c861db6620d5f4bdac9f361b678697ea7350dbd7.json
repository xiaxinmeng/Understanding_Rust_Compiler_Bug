{"sha": "c861db6620d5f4bdac9f361b678697ea7350dbd7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg2MWRiNjYyMGQ1ZjRiZGFjOWYzNjFiNjc4Njk3ZWE3MzUwZGJkNw==", "commit": {"author": {"name": "Adam Nemet", "email": "anemet@caviumnetworks.com", "date": "2007-06-25T17:21:46Z"}, "committer": {"name": "Adam Nemet", "email": "nemet@gcc.gnu.org", "date": "2007-06-25T17:21:46Z"}, "message": "re PR libfortran/32495 (static declaration of 'strcasestr' follows non-static declaration)\n\n\tPR libfortran/32495\n\t* runtime/backtrace.c (local_strcasestr): Rename from strcasestr.\n\t(show_backtrace): Rename strcasestr to local_strcasestr.\n\nFrom-SVN: r125998", "tree": {"sha": "b11fa18b32f34018066a55df97a91e68a33269d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b11fa18b32f34018066a55df97a91e68a33269d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c861db6620d5f4bdac9f361b678697ea7350dbd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c861db6620d5f4bdac9f361b678697ea7350dbd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c861db6620d5f4bdac9f361b678697ea7350dbd7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c861db6620d5f4bdac9f361b678697ea7350dbd7/comments", "author": null, "committer": null, "parents": [{"sha": "d17a3b1b437d55d2b5f2e8e6589e4fd18e505a3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d17a3b1b437d55d2b5f2e8e6589e4fd18e505a3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d17a3b1b437d55d2b5f2e8e6589e4fd18e505a3b"}], "stats": {"total": 22, "additions": 15, "deletions": 7}, "files": [{"sha": "fc8e1edf2b57593ef89a78164cf3ceffea1fec40", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c861db6620d5f4bdac9f361b678697ea7350dbd7/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c861db6620d5f4bdac9f361b678697ea7350dbd7/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=c861db6620d5f4bdac9f361b678697ea7350dbd7", "patch": "@@ -1,3 +1,9 @@\n+2007-06-24  Adam Nemet  <anemet@caviumnetworks.com>\n+\n+\tPR libfortran/32495\n+\t* runtime/backtrace.c (local_strcasestr): Rename from strcasestr.\n+\t(show_backtrace): Rename strcasestr to local_strcasestr.\n+\n 2007-06-24  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libgfortran/32456"}, {"sha": "684ac00c9a0f48b3d3546222806d739bd76526a8", "filename": "libgfortran/runtime/backtrace.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c861db6620d5f4bdac9f361b678697ea7350dbd7/libgfortran%2Fruntime%2Fbacktrace.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c861db6620d5f4bdac9f361b678697ea7350dbd7/libgfortran%2Fruntime%2Fbacktrace.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Fbacktrace.c?ref=c861db6620d5f4bdac9f361b678697ea7350dbd7", "patch": "@@ -68,11 +68,13 @@ Boston, MA 02110-1301, USA.  */\n \n \n \n-#ifndef HAVE_STRCASESTR\n-#define HAVE_STRCASESTR 1\n static char *\n-strcasestr (const char *s1, const char *s2)\n+local_strcasestr (const char *s1, const char *s2)\n {\n+#ifdef HAVE_STRCASESTR\n+  return strcasestr (s1, s2);\n+#else\n+\n   const char *p = s1;\n   const size_t len = strlen (s2);\n   const char u = *s2, v = isupper((int) *s2) ? tolower((int) *s2)\n@@ -88,8 +90,8 @@ strcasestr (const char *s1, const char *s2)\n       if (strncasecmp (p, s2, len) == 0)\n \treturn (char *)p;\n     }\n-}\n #endif\n+}\n \n #define CAN_FORK (defined(HAVE_FORK) && defined(HAVE_EXECVP) \\\n \t\t  && defined(HAVE_WAIT))\n@@ -224,9 +226,9 @@ show_backtrace (void)\n \t\t|| strcmp (func, \"main\") == 0 || strcmp (func, \"_start\") == 0)\n \t      continue;\n \n-\t    if (strcasestr (str[i], \"libgfortran.so\") != NULL\n-\t\t|| strcasestr (str[i], \"libgfortran.dylib\") != NULL\n-\t\t|| strcasestr (str[i], \"libgfortran.a\") != NULL)\n+\t    if (local_strcasestr (str[i], \"libgfortran.so\") != NULL\n+\t\t|| local_strcasestr (str[i], \"libgfortran.dylib\") != NULL\n+\t\t|| local_strcasestr (str[i], \"libgfortran.a\") != NULL)\n \t      continue;\n \n \t    /* If we only have the address, use the glibc backtrace.  */"}]}