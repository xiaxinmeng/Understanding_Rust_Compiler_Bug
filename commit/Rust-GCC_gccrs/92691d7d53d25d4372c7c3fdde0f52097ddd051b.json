{"sha": "92691d7d53d25d4372c7c3fdde0f52097ddd051b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI2OTFkN2Q1M2QyNWQ0MzcyYzdjM2ZkZGUwZjUyMDk3ZGRkMDUxYg==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-11-23T09:39:24Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-11-23T09:39:24Z"}, "message": "caller-save.c (insert_one_insn): Initialize the live_before and live_after register sets.\n\n(\n        * caller-save.c (insert_one_insn): Initialize the live_before and\n        live_after register sets.\n\nFrom-SVN: r23789", "tree": {"sha": "744b29bc5daf0b7b381bfe8540e411245aaa23f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/744b29bc5daf0b7b381bfe8540e411245aaa23f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92691d7d53d25d4372c7c3fdde0f52097ddd051b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92691d7d53d25d4372c7c3fdde0f52097ddd051b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92691d7d53d25d4372c7c3fdde0f52097ddd051b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92691d7d53d25d4372c7c3fdde0f52097ddd051b/comments", "author": null, "committer": null, "parents": [{"sha": "193f66a952e8d2364b5bd9134795e3f03fe070a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/193f66a952e8d2364b5bd9134795e3f03fe070a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/193f66a952e8d2364b5bd9134795e3f03fe070a3"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "5fffe344642e8f558a358e3e116256280e1e5d6e", "filename": "gcc/caller-save.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92691d7d53d25d4372c7c3fdde0f52097ddd051b/gcc%2Fcaller-save.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92691d7d53d25d4372c7c3fdde0f52097ddd051b/gcc%2Fcaller-save.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcaller-save.c?ref=92691d7d53d25d4372c7c3fdde0f52097ddd051b", "patch": "@@ -728,6 +728,10 @@ insert_one_insn (chain, before_p, code, pat)\n       chain->prev = new;\n       new->next = chain;\n       new->insn = emit_insn_before (pat, insn);\n+      /* ??? It would be nice if we could exclude the already / still saved\n+\t registers from the live sets.  */\n+      COPY_REG_SET (new->live_before, chain->live_before);\n+      COPY_REG_SET (new->live_after, chain->live_before);\n       if (chain->insn == basic_block_head[chain->block])\n \tbasic_block_head[chain->block] = new->insn;\n     }\n@@ -739,6 +743,10 @@ insert_one_insn (chain, before_p, code, pat)\n       chain->next = new;\n       new->prev = chain;\n       new->insn = emit_insn_after (pat, insn);\n+      /* ??? It would be nice if we could exclude the already / still saved\n+\t registers from the live sets, and observe REG_UNUSED notes.  */\n+      COPY_REG_SET (new->live_before, chain->live_after);\n+      COPY_REG_SET (new->live_after, chain->live_after);\n       if (chain->insn == basic_block_end[chain->block])\n \tbasic_block_end[chain->block] = new->insn;\n     }"}]}