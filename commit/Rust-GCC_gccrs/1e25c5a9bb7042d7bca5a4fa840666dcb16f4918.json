{"sha": "1e25c5a9bb7042d7bca5a4fa840666dcb16f4918", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWUyNWM1YTliYjcwNDJkN2JjYTVhNGZhODQwNjY2ZGNiMTZmNDkxOA==", "commit": {"author": {"name": "Pekka J\u00e4\u00e4skel\u00e4inen", "email": "pekka.jaaskelainen@parmance.com", "date": "2018-05-04T18:04:14Z"}, "committer": {"name": "Pekka J\u00e4\u00e4skel\u00e4inen", "email": "visit0r@gcc.gnu.org", "date": "2018-05-04T18:04:14Z"}, "message": "[BRIGFE] skip multiple forward declarations of the same function\n\nFrom-SVN: r259950", "tree": {"sha": "fbf023370fafe6762118932e262bf3f7cc6c2821", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbf023370fafe6762118932e262bf3f7cc6c2821"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918/comments", "author": {"login": "pjaaskel", "id": 1652632, "node_id": "MDQ6VXNlcjE2NTI2MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1652632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjaaskel", "html_url": "https://github.com/pjaaskel", "followers_url": "https://api.github.com/users/pjaaskel/followers", "following_url": "https://api.github.com/users/pjaaskel/following{/other_user}", "gists_url": "https://api.github.com/users/pjaaskel/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjaaskel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjaaskel/subscriptions", "organizations_url": "https://api.github.com/users/pjaaskel/orgs", "repos_url": "https://api.github.com/users/pjaaskel/repos", "events_url": "https://api.github.com/users/pjaaskel/events{/privacy}", "received_events_url": "https://api.github.com/users/pjaaskel/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "60a3d46c17e7cee099043c1564181ab2f3c21d41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60a3d46c17e7cee099043c1564181ab2f3c21d41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60a3d46c17e7cee099043c1564181ab2f3c21d41"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "732696420584efb0ba06afbe97fe72c1631dc58b", "filename": "gcc/brig/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918/gcc%2Fbrig%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918/gcc%2Fbrig%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbrig%2FChangeLog?ref=1e25c5a9bb7042d7bca5a4fa840666dcb16f4918", "patch": "@@ -1,3 +1,8 @@\n+2018-05-04  Pekka J\u00e4\u00e4skel\u00e4inen  <pekka.jaaskelainen@parmance.com>\n+\n+\t* brig/brigfrontend/brig-function-handler.cc: Skip multiple forward\n+\tdeclarations of the same function.\n+\n 2018-05-04  Pekka J\u00e4\u00e4skel\u00e4inen  <pekka.jaaskelainen@parmance.com>\n \n \t* brig/brig-lang.c: Do not allow optimizations based on known C"}, {"sha": "d64135db7f25e4b1878680942f6d6c64d26c6e00", "filename": "gcc/brig/brigfrontend/brig-function-handler.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918/gcc%2Fbrig%2Fbrigfrontend%2Fbrig-function-handler.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e25c5a9bb7042d7bca5a4fa840666dcb16f4918/gcc%2Fbrig%2Fbrigfrontend%2Fbrig-function-handler.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbrig%2Fbrigfrontend%2Fbrig-function-handler.cc?ref=1e25c5a9bb7042d7bca5a4fa840666dcb16f4918", "patch": "@@ -80,6 +80,10 @@ brig_directive_function_handler::operator () (const BrigBase *base)\n   if (m_parent.m_analyzing)\n     return bytes_consumed;\n \n+  /* There can be multiple forward declarations of the same function.\n+     Skip all but the first one.  */\n+  if (!is_definition && m_parent.function_decl (func_name) != NULL_TREE)\n+    return bytes_consumed;\n   tree fndecl;\n   tree ret_value = NULL_TREE;\n "}]}