{"sha": "11670eebf3c9844fc34793789397fe05d60b4a77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTE2NzBlZWJmM2M5ODQ0ZmMzNDc5Mzc4OTM5N2ZlMDVkNjBiNGE3Nw==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2004-05-21T21:37:25Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-05-21T21:37:25Z"}, "message": "io.c (check_format): As a GNU extension...\n\n\n\t* io.c (check_format): As a GNU extension, allow the comma after a\n\tstring literal to be optional in a format.  Use gfc_notify_std to\n\tissue an error/warning as appropriate.\n\n\t* io/format.c (parse_format_list): Allow the comma after a string\n\tliteral to be optional.\n\nFrom-SVN: r82109", "tree": {"sha": "d8fe1bebb6dada99658d820fef0bcdf6b8789378", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8fe1bebb6dada99658d820fef0bcdf6b8789378"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11670eebf3c9844fc34793789397fe05d60b4a77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11670eebf3c9844fc34793789397fe05d60b4a77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11670eebf3c9844fc34793789397fe05d60b4a77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11670eebf3c9844fc34793789397fe05d60b4a77/comments", "author": null, "committer": null, "parents": [{"sha": "0b817eb02d8c970b3041591f58a4a7c4253ed855", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b817eb02d8c970b3041591f58a4a7c4253ed855", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b817eb02d8c970b3041591f58a4a7c4253ed855"}], "stats": {"total": 49, "additions": 47, "deletions": 2}, "files": [{"sha": "fefaac0e0af1b90f90ed00ed83f102e6b0df378e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11670eebf3c9844fc34793789397fe05d60b4a77/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11670eebf3c9844fc34793789397fe05d60b4a77/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=11670eebf3c9844fc34793789397fe05d60b4a77", "patch": "@@ -1,3 +1,9 @@\n+2004-05-21  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* io.c (check_format): As a GNU extension, allow the comma after a\n+\tstring literal to be optional in a format.  Use gfc_notify_std to\n+\tissue an error/warning as appropriate.\n+\n 2004-05-21  Roger Sayle  <roger@eyesopen.com>\n \n \t* io.c (check_format): Use gfc_notify_std to determine whether to"}, {"sha": "120b44003c413a1aaa28c91c8d18fc9f520fbdfb", "filename": "gcc/fortran/io.c", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11670eebf3c9844fc34793789397fe05d60b4a77/gcc%2Ffortran%2Fio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11670eebf3c9844fc34793789397fe05d60b4a77/gcc%2Ffortran%2Fio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fio.c?ref=11670eebf3c9844fc34793789397fe05d60b4a77", "patch": "@@ -481,9 +481,11 @@ check_format (void)\n \n     case FMT_SIGN:\n     case FMT_BLANK:\n-    case FMT_CHAR:\n       goto between_desc;\n \n+    case FMT_CHAR:\n+      goto extension_optional_comma;\n+\n     case FMT_COLON:\n     case FMT_SLASH:\n       goto optional_comma;\n@@ -728,6 +730,38 @@ check_format (void)\n \n   goto format_item;\n \n+extension_optional_comma:\n+  /* As a GNU extension, permit a missing comma after a string literal.  */\n+  t = format_lex ();\n+  switch (t)\n+    {\n+    case FMT_COMMA:\n+      break;\n+\n+    case FMT_RPAREN:\n+      level--;\n+      if (level < 0)\n+\tgoto finished;\n+      goto between_desc;\n+\n+    case FMT_COLON:\n+    case FMT_SLASH:\n+      goto optional_comma;\n+\n+    case FMT_END:\n+      error = unexpected_end;\n+      goto syntax;\n+\n+    default:\n+      if (gfc_notify_std (GFC_STD_GNU, \"Extension: Missing comma at %C\")\n+\t  == FAILURE)\n+\treturn FAILURE;\n+      saved_token = t;\n+      break;\n+    }\n+\n+  goto format_item;\n+\n syntax:\n   /* Something went wrong.  If the format we're checking is a string,\n      generate a warning, since the program is correct.  If the format"}, {"sha": "3eedff3926a6a1faab394d855a98c6ffb2982208", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11670eebf3c9844fc34793789397fe05d60b4a77/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11670eebf3c9844fc34793789397fe05d60b4a77/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=11670eebf3c9844fc34793789397fe05d60b4a77", "patch": "@@ -1,3 +1,8 @@\n+2004-05-21  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* io/format.c (parse_format_list): Allow the comma after a string\n+\tliteral to be optional.\n+\n 2004-05-18  Paul Brook  <paul@codesourcery.com>\n \tFeng Wang  <fengwang@nudt.edu.cn>\n "}, {"sha": "f886f7f718778cca003e908bf113296096a9fb91", "filename": "libgfortran/io/format.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11670eebf3c9844fc34793789397fe05d60b4a77/libgfortran%2Fio%2Fformat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11670eebf3c9844fc34793789397fe05d60b4a77/libgfortran%2Fio%2Fformat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fformat.c?ref=11670eebf3c9844fc34793789397fe05d60b4a77", "patch": "@@ -543,7 +543,7 @@ parse_format_list (void)\n       tail->u.string.p = string;\n       tail->u.string.length = value;\n       tail->repeat = 1;\n-      goto between_desc;\n+      goto optional_comma;\n \n     case FMT_S:\n     case FMT_SS:"}]}