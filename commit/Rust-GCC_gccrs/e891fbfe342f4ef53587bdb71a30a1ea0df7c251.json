{"sha": "e891fbfe342f4ef53587bdb71a30a1ea0df7c251", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg5MWZiZmUzNDJmNGVmNTM1ODdiZGI3MWEzMGExZWEwZGY3YzI1MQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1999-04-11T23:00:24Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-04-11T23:00:24Z"}, "message": "config-ml.in: On mips*-*-*...\n\n        * config-ml.in: On mips*-*-*, if multidirs contains mabi=64, try to\n        link a trivial program with -mabi=64.  If it fails, remove mabi=64\n        from multidirs.\n\nFrom-SVN: r26355", "tree": {"sha": "c6ae4ff25e9c075ec9f7ce01bb43bb9632d68935", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6ae4ff25e9c075ec9f7ce01bb43bb9632d68935"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e891fbfe342f4ef53587bdb71a30a1ea0df7c251", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e891fbfe342f4ef53587bdb71a30a1ea0df7c251", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e891fbfe342f4ef53587bdb71a30a1ea0df7c251", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e891fbfe342f4ef53587bdb71a30a1ea0df7c251/comments", "author": null, "committer": null, "parents": [{"sha": "1bd0b556b421ac098196cd4889f50eac23d5394d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bd0b556b421ac098196cd4889f50eac23d5394d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bd0b556b421ac098196cd4889f50eac23d5394d"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "a269c2aa3b4855fd0f473879a587673a6f6e505b", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e891fbfe342f4ef53587bdb71a30a1ea0df7c251/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e891fbfe342f4ef53587bdb71a30a1ea0df7c251/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=e891fbfe342f4ef53587bdb71a30a1ea0df7c251", "patch": "@@ -1,3 +1,9 @@\n+Sun Apr 11 23:55:34 1999  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\t\n+\t* config-ml.in: On mips*-*-*, if multidirs contains mabi=64, try to\n+\tlink a trivial program with -mabi=64.  If it fails, remove mabi=64\n+\tfrom multidirs.\n+\n Sat Apr 10 21:50:01 1999  Philipp Thomas  (kthomas@gwdg.de)\n \n \t* config.sub: Set basic_machine to i586 when target_alias = k6-*."}, {"sha": "ed8b1edfaf4e62fc757591a4d3b2937aae699337", "filename": "config-ml.in", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e891fbfe342f4ef53587bdb71a30a1ea0df7c251/config-ml.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e891fbfe342f4ef53587bdb71a30a1ea0df7c251/config-ml.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config-ml.in?ref=e891fbfe342f4ef53587bdb71a30a1ea0df7c251", "patch": "@@ -299,6 +299,28 @@ mips*-*-*)\n \t    esac\n \t  done\n \tfi\n+\tcase \" $multidirs \" in\n+\t*\" mabi=64 \"*)\n+\t  # We will not be able to create libraries with -mabi=64 if\n+\t  # we cannot even link a trivial program.  It usually\n+\t  # indicates the 64bit libraries are missing.\n+\t  if echo 'main() {}' > conftest.c &&\n+\t     ${CC-gcc} -mabi=64 conftest.c -o conftest; then\n+\t    :\n+\t  else\n+\t    echo Could not link program with -mabi=64, disabling it.\n+\t    old_multidirs=\"${multidirs}\"\n+\t    multidirs=\"\"\n+\t    for x in ${old_multidirs}; do\n+\t      case \"$x\" in\n+\t      *mabi=64* ) : ;;\n+\t      *) multidirs=\"${multidirs} ${x}\" ;;\n+\t      esac\n+\t    done\n+\t  fi\n+\t  rm -f conftest.c conftest\n+\t  ;;\n+\tesac\n \t;;\n powerpc*-*-* | rs6000*-*-*)\n \tif [ x$enable_softfloat = xno ]"}]}