{"sha": "19ae544530188caba340362af6878f3224a83eab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTlhZTU0NDUzMDE4OGNhYmEzNDAzNjJhZjY4NzhmMzIyNGE4M2VhYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2003-09-18T20:47:38Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2003-09-18T20:47:38Z"}, "message": "except.c (output_function_exception_table): Adjust last change to handle TYPE of INTEGER_CST.\n\n\t* except.c (output_function_exception_table): Adjust last change\n\tto handle TYPE of INTEGER_CST.\n\nFrom-SVN: r71540", "tree": {"sha": "c86de8d94e0aeac6a19460549976063f8ca42816", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c86de8d94e0aeac6a19460549976063f8ca42816"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19ae544530188caba340362af6878f3224a83eab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19ae544530188caba340362af6878f3224a83eab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19ae544530188caba340362af6878f3224a83eab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19ae544530188caba340362af6878f3224a83eab/comments", "author": null, "committer": null, "parents": [{"sha": "5ae6cd0d1b33941dc142292062ff565cd99e4504", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ae6cd0d1b33941dc142292062ff565cd99e4504", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ae6cd0d1b33941dc142292062ff565cd99e4504"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "b8d779dd9c1c9e3ab6a5ed3b7319103bbbc75866", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19ae544530188caba340362af6878f3224a83eab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19ae544530188caba340362af6878f3224a83eab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=19ae544530188caba340362af6878f3224a83eab", "patch": "@@ -1,3 +1,8 @@\n+2003-09-18  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* except.c (output_function_exception_table): Adjust last change\n+\tto handle TYPE of INTEGER_CST.\n+\n 2003-09-18  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR target/11184"}, {"sha": "220835e1475a624da70278d6bbb71e9cf9647568", "filename": "gcc/except.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19ae544530188caba340362af6878f3224a83eab/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19ae544530188caba340362af6878f3224a83eab/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=19ae544530188caba340362af6878f3224a83eab", "patch": "@@ -3707,12 +3707,14 @@ output_function_exception_table (void)\n \t  /* Let cgraph know that the rtti decl is used.  Not all of the\n \t     paths below go through assemble_integer, which would take\n \t     care of this for us.  */\n-\t  if (TREE_CODE (type) != ADDR_EXPR)\n+\t  if (TREE_CODE (type) == ADDR_EXPR)\n+\t    {\n+\t      node = cgraph_varpool_node (type);\n+\t      if (node)\n+\t\tcgraph_varpool_mark_needed_node (node);\n+\t    }\n+\t  else if (TREE_CODE (type) != INTEGER_CST)\n \t    abort ();\n-\t  type = TREE_OPERAND (type, 0);\n-\t  node = cgraph_varpool_node (type);\n-\t  if (node)\n-\t    cgraph_varpool_mark_needed_node (node);\n \t}\n \n       if (tt_format == DW_EH_PE_absptr || tt_format == DW_EH_PE_aligned)"}]}