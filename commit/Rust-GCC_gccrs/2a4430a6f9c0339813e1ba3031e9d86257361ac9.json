{"sha": "2a4430a6f9c0339813e1ba3031e9d86257361ac9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE0NDMwYTZmOWMwMzM5ODEzZTFiYTMwMzFlOWQ4NjI1NzM2MWFjOQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2008-01-05T16:47:50Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2008-01-05T16:47:50Z"}, "message": "mips.c (mips_in_small_data_p): Reinstate size > 0 check.\n\ngcc/\n\t* config/mips/mips.c (mips_in_small_data_p): Reinstate size > 0 check.\n\nFrom-SVN: r131339", "tree": {"sha": "5202a4654ed71e340888c7db112f4f6431a1072f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5202a4654ed71e340888c7db112f4f6431a1072f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a4430a6f9c0339813e1ba3031e9d86257361ac9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a4430a6f9c0339813e1ba3031e9d86257361ac9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a4430a6f9c0339813e1ba3031e9d86257361ac9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a4430a6f9c0339813e1ba3031e9d86257361ac9/comments", "author": null, "committer": null, "parents": [{"sha": "2fd7985e1b93cf37c020a0a9820dd296d45e9fd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fd7985e1b93cf37c020a0a9820dd296d45e9fd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fd7985e1b93cf37c020a0a9820dd296d45e9fd6"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "570f269b625703047694e1129263430470cc129c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a4430a6f9c0339813e1ba3031e9d86257361ac9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a4430a6f9c0339813e1ba3031e9d86257361ac9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2a4430a6f9c0339813e1ba3031e9d86257361ac9", "patch": "@@ -1,3 +1,7 @@\n+2008-01-05  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\t* config/mips/mips.c (mips_in_small_data_p): Reinstate size > 0 check.\n+\n 2008-01-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/34618"}, {"sha": "1aa907a2bcf07cc824cf60cfb42704be60e98017", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a4430a6f9c0339813e1ba3031e9d86257361ac9/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a4430a6f9c0339813e1ba3031e9d86257361ac9/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=2a4430a6f9c0339813e1ba3031e9d86257361ac9", "patch": "@@ -6677,8 +6677,10 @@ mips_in_small_data_p (const_tree decl)\n \treturn false;\n     }\n \n+  /* We have traditionally not treated zero-sized objects as small data,\n+     so this is now effectively part of the ABI.  */\n   size = int_size_in_bytes (TREE_TYPE (decl));\n-  return size <= mips_small_data_threshold;\n+  return size > 0 && size <= mips_small_data_threshold;\n }\n \n /* Implement TARGET_USE_ANCHORS_FOR_SYMBOL_P.  We don't want to use"}]}