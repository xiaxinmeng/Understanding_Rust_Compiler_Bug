{"sha": "13c0a63051e154d83fad6063c40d17183246b098", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNjMGE2MzA1MWUxNTRkODNmYWQ2MDYzYzQwZDE3MTgzMjQ2YjA5OA==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2007-07-11T09:37:18Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2007-07-11T09:37:18Z"}, "message": "cygming.h (PREFERRED_DEBUGGING_TYPE): Define to DWARF2_DEBUG on 32 bit target too.\n\n\t* config/i386/cygming.h (PREFERRED_DEBUGGING_TYPE): Define to\n\tDWARF2_DEBUG on 32 bit target too.\n\t(DWARF2_UNWIND_INFO): Reorganize 64-bit vs 32-bit definition.\n\nFrom-SVN: r126544", "tree": {"sha": "8c493c457f77e0bb71fd9d1de5d6ac74192e21d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c493c457f77e0bb71fd9d1de5d6ac74192e21d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13c0a63051e154d83fad6063c40d17183246b098", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13c0a63051e154d83fad6063c40d17183246b098", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13c0a63051e154d83fad6063c40d17183246b098", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13c0a63051e154d83fad6063c40d17183246b098/comments", "author": null, "committer": null, "parents": [{"sha": "cbb2b8131a0ae5847b5be0a1e9ef5c3daf343d6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbb2b8131a0ae5847b5be0a1e9ef5c3daf343d6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbb2b8131a0ae5847b5be0a1e9ef5c3daf343d6e"}], "stats": {"total": 33, "additions": 17, "deletions": 16}, "files": [{"sha": "b134c9419f2c57143a61a071ba5fd3839f390964", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13c0a63051e154d83fad6063c40d17183246b098/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13c0a63051e154d83fad6063c40d17183246b098/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=13c0a63051e154d83fad6063c40d17183246b098", "patch": "@@ -1,3 +1,10 @@\n+2007-07-11  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\t* config/i386/cygming.h (PREFERRED_DEBUGGING_TYPE): Define to\n+\tDWARF2_DEBUG on 32 bit target too.\n+\t(DWARF2_UNWIND_INFO): Reorganize 64-bit vs 32-bit definition. \n+\n+\n 2007-07-11  Nick Clifton  <nickc@redhat.com>\n \n \t* config/m32r/m32r.h (INITIALIZE_TRAMPOLINE): Provide alternative"}, {"sha": "c82e6dfaee48c5f1ce2c2318eae7efb9f27a0910", "filename": "gcc/config/i386/cygming.h", "status": "modified", "additions": 10, "deletions": 16, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13c0a63051e154d83fad6063c40d17183246b098/gcc%2Fconfig%2Fi386%2Fcygming.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13c0a63051e154d83fad6063c40d17183246b098/gcc%2Fconfig%2Fi386%2Fcygming.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygming.h?ref=13c0a63051e154d83fad6063c40d17183246b098", "patch": "@@ -21,19 +21,14 @@ along with GCC; see the file COPYING.  If not, write to\n the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n Boston, MA 02110-1301, USA.  */\n \n-#if TARGET_64BIT_DEFAULT\n-#ifndef DWARF2_DEBUGGING_INFO\n+#define DBX_DEBUGGING_INFO 1\n+#define SDB_DEBUGGING_INFO 1\n+#if TARGET_64BIT_DEFAULT || defined (HAVE_GAS_PE_SECREL32_RELOC)\n #define DWARF2_DEBUGGING_INFO 1\n #endif\n-#ifndef DWARF2_UNWIND_INFO\n-#define DWARF2_UNWIND_INFO 1\n-#endif\n-#endif\n \n-#define DBX_DEBUGGING_INFO 1\n-#define SDB_DEBUGGING_INFO 1\n #undef PREFERRED_DEBUGGING_TYPE\n-#if TARGET_64BIT_DEFAULT\n+#if (DWARF2_DEBUGGING_INFO)\n #define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n #else\n #define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n@@ -42,23 +37,20 @@ Boston, MA 02110-1301, USA.  */\n #undef TARGET_64BIT_MS_ABI\n #define TARGET_64BIT_MS_ABI TARGET_64BIT\n \n-#ifdef HAVE_GAS_PE_SECREL32_RELOC\n-#define DWARF2_DEBUGGING_INFO 1\n-\n #undef DBX_REGISTER_NUMBER\n #define DBX_REGISTER_NUMBER(n)\t\t\t\t\\\n   (TARGET_64BIT ? dbx64_register_map[n]\t\t\t\\\n    : (write_symbols == DWARF2_DEBUG\t\t\t\\\n       ? svr4_dbx_register_map[n] : dbx_register_map[n]))\n \n-\n /* Map gcc register number to DWARF 2 CFA column number. For 32 bit\n    target, always use the svr4_dbx_register_map for DWARF .eh_frame\n    even if we don't use DWARF .debug_frame. */\n #undef DWARF_FRAME_REGNUM\n #define DWARF_FRAME_REGNUM(n) TARGET_64BIT \\\n \t? dbx64_register_map[(n)] : svr4_dbx_register_map[(n)] \n \n+#ifdef HAVE_GAS_PE_SECREL32_RELOC\n /* Use section relative relocations for debugging offsets.  Unlike\n    other targets that fake this by putting the section VMA at 0, PE\n    won't allow it.  */\n@@ -288,9 +280,11 @@ do {\t\t\t\t\t\t\t\\\n #define ASM_COMMENT_START \" #\"\n \n #ifndef DWARF2_UNWIND_INFO\n-/* If configured with --disable-sjlj-exceptions, use DWARF2, else\n-   default to SJLJ  */\n-#if defined (CONFIG_SJLJ_EXCEPTIONS) && !CONFIG_SJLJ_EXCEPTIONS\n+/* 64-bit target uses DWARF2 unwind by default. If 32-bit target\n+   configured with --disable-sjlj-exceptions, use DWARF2, else default\n+   to SJLJ.  */\n+#if TARGET_64BIT_DEFAULT \\\n+    || (defined (CONFIG_SJLJ_EXCEPTIONS) && !CONFIG_SJLJ_EXCEPTIONS)\n #define DWARF2_UNWIND_INFO 1\n #else\n #define DWARF2_UNWIND_INFO 0"}]}