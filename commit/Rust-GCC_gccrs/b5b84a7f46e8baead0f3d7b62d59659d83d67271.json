{"sha": "b5b84a7f46e8baead0f3d7b62d59659d83d67271", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjViODRhN2Y0NmU4YmFlYWQwZjNkN2I2MmQ1OTY1OWQ4M2Q2NzI3MQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-09-07T04:24:24Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-09-07T04:24:24Z"}, "message": "[multiple changes]\n\n2006-09-06  James E Wilson  <wilson@specifix.com>\n\n        PR rtl-opt/27883\n        * flow.c (update_life_info): If UPDATE_LIFE_LOCAL and PROP_DEATH_NOTES\n        then call count_or_remove_death_notes.\n\n2006-09-06  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR rtl-opt/27883\n        * g++.dg/opt/copysign-1.C: New test.\n\nFrom-SVN: r116739", "tree": {"sha": "dabac1e6add1ad67f425c5273286eec14a5b9a35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dabac1e6add1ad67f425c5273286eec14a5b9a35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5b84a7f46e8baead0f3d7b62d59659d83d67271", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5b84a7f46e8baead0f3d7b62d59659d83d67271", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5b84a7f46e8baead0f3d7b62d59659d83d67271", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5b84a7f46e8baead0f3d7b62d59659d83d67271/comments", "author": null, "committer": null, "parents": [{"sha": "aa4f41c1d57b1d533650672d5bcf2e40fffbf0f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa4f41c1d57b1d533650672d5bcf2e40fffbf0f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa4f41c1d57b1d533650672d5bcf2e40fffbf0f1"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "580bf89d685df8a7b6346272194ff961f3960f05", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5b84a7f46e8baead0f3d7b62d59659d83d67271", "patch": "@@ -1,3 +1,9 @@\n+2006-09-06  James E Wilson  <wilson@specifix.com>\n+\n+\tPR rtl-opt/27883\n+\t* flow.c (update_life_info): If UPDATE_LIFE_LOCAL and PROP_DEATH_NOTES\n+\tthen call count_or_remove_death_notes.\n+\n 2006-09-06  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/27371"}, {"sha": "47e49f484e7f34ce7ed4e48f0c3d886743fd5f93", "filename": "gcc/flow.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=b5b84a7f46e8baead0f3d7b62d59659d83d67271", "patch": "@@ -647,6 +647,17 @@ update_life_info (sbitmap blocks, enum update_life_extent extent,\n \tcount_or_remove_death_notes (blocks,\n \t\t\t\t     prop_flags & PROP_POST_REGSTACK ? -1 : 1);\n     }\n+  else\n+    {\n+      /* FIXME: This can go when the dataflow branch has been merged in.  */\n+      /* For a local update, if we are creating new REG_DEAD notes, then we\n+\t must delete the old ones first to avoid conflicts if they are\n+\t different.  */\n+      if (prop_flags & PROP_DEATH_NOTES)\n+\tcount_or_remove_death_notes (blocks,\n+\t\t\t\t     prop_flags & PROP_POST_REGSTACK ? -1 : 1);\n+    }\n+\t\t\t\t     \n \n   /* Clear log links in case we are asked to (re)compute them.  */\n   if (prop_flags & PROP_LOG_LINKS)"}, {"sha": "0e052be2e7df38e715118408af7be24a17a46c75", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b5b84a7f46e8baead0f3d7b62d59659d83d67271", "patch": "@@ -1,3 +1,8 @@\n+2006-09-06  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR rtl-opt/27883\n+\t* g++.dg/opt/copysign-1.C: New test.\n+\n 2006-09-06  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/28903"}, {"sha": "347bec26e7d83c0adfbc9cc288e9370b6321fd9f", "filename": "gcc/testsuite/g++.dg/opt/copysign-1.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fcopysign-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b84a7f46e8baead0f3d7b62d59659d83d67271/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fcopysign-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fcopysign-1.C?ref=b5b84a7f46e8baead0f3d7b62d59659d83d67271", "patch": "@@ -0,0 +1,10 @@\n+// { dg-options \"-O2\" }\n+// { dg-do compile }\n+// PR rtl-opt/27883\n+// MIPS used to ICE because local flow update\n+// was not removing an invalid REG_DEAD.\n+\n+\n+double copysign (double x, double y);\n+double GetDouble();\n+double a = copysign (1.0, GetDouble());"}]}