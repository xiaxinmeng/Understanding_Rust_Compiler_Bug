{"sha": "d58247a32166e5bb072261dc258a237a8d26a39b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU4MjQ3YTMyMTY2ZTViYjA3MjI2MWRjMjU4YTIzN2E4ZDI2YTM5Yg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-07-16T20:34:12Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-07-16T20:34:12Z"}, "message": "* function.c (pass_by_reference): True for all variable sized types.\n\nFrom-SVN: r84829", "tree": {"sha": "e6d0fcfb2e19b283cad9eb0657730e2d85bb5b13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e6d0fcfb2e19b283cad9eb0657730e2d85bb5b13"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d58247a32166e5bb072261dc258a237a8d26a39b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d58247a32166e5bb072261dc258a237a8d26a39b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d58247a32166e5bb072261dc258a237a8d26a39b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d58247a32166e5bb072261dc258a237a8d26a39b/comments", "author": null, "committer": null, "parents": [{"sha": "7eacb691bbe051ae1d62800d9e5dad753df7acff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eacb691bbe051ae1d62800d9e5dad753df7acff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eacb691bbe051ae1d62800d9e5dad753df7acff"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "c579dd50f8ce805ee5ffc5154a44152b7f58374d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d58247a32166e5bb072261dc258a237a8d26a39b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d58247a32166e5bb072261dc258a237a8d26a39b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d58247a32166e5bb072261dc258a237a8d26a39b", "patch": "@@ -1,3 +1,7 @@\n+2004-07-16  Richard Henderson  <rth@redhat.com>\n+\n+\t* function.c (pass_by_reference): True for all variable sized types.\n+\n 2004-07-16  Sebastian Pop  <pop@cri.ensmp.fr>\n \n \t* Makefile.in (tree-pretty-print.o): Depend on tree-chrec.h."}, {"sha": "23fb74cf6761380da260542fc266fafa68a45f69", "filename": "gcc/function.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d58247a32166e5bb072261dc258a237a8d26a39b/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d58247a32166e5bb072261dc258a237a8d26a39b/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=d58247a32166e5bb072261dc258a237a8d26a39b", "patch": "@@ -2039,9 +2039,8 @@ pass_by_reference (CUMULATIVE_ARGS *ca, enum machine_mode mode,\n       if (TREE_ADDRESSABLE (type))\n \treturn true;\n \n-      /* If an object's size is dependent on itself, there's no way\n-\t to *not* pass by reference.  */\n-      if (CONTAINS_PLACEHOLDER_P (TYPE_SIZE (type)))\n+      /* GCC post 3.4 passes *all* variable sized types by reference.  */\n+      if (!TYPE_SIZE (type) || TREE_CODE (TYPE_SIZE (type)) != INTEGER_CST)\n \treturn true;\n     }\n "}]}