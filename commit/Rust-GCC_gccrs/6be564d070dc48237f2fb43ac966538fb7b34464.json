{"sha": "6be564d070dc48237f2fb43ac966538fb7b34464", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJlNTY0ZDA3MGRjNDgyMzdmMmZiNDNhYzk2NjUzOGZiN2IzNDQ2NA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-31T21:27:50Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-31T21:27:50Z"}, "message": "[4.3 net 2]: If _SIZE_T_, etc. are undefined then type is already declared.\n\n[4.3 net 2]: Force inclusion of ansi.h.\nUndef _SIZE_T_, _PTRDIFF_T_, _WCHAR_T_ at end.\n\nFrom-SVN: r2669", "tree": {"sha": "7cfe6f903494229747e6d1ec2a36574ee2fc72bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7cfe6f903494229747e6d1ec2a36574ee2fc72bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6be564d070dc48237f2fb43ac966538fb7b34464", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6be564d070dc48237f2fb43ac966538fb7b34464", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6be564d070dc48237f2fb43ac966538fb7b34464", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6be564d070dc48237f2fb43ac966538fb7b34464/comments", "author": null, "committer": null, "parents": [{"sha": "98126ed6a4064896d8aa157e3f21d9de35830a32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98126ed6a4064896d8aa157e3f21d9de35830a32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98126ed6a4064896d8aa157e3f21d9de35830a32"}], "stats": {"total": 33, "additions": 29, "deletions": 4}, "files": [{"sha": "e38425600dfb0da027591f77492a1b853f849e55", "filename": "gcc/ginclude/stddef.h", "status": "modified", "additions": 29, "deletions": 4, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6be564d070dc48237f2fb43ac966538fb7b34464/gcc%2Fginclude%2Fstddef.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6be564d070dc48237f2fb43ac966538fb7b34464/gcc%2Fginclude%2Fstddef.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstddef.h?ref=6be564d070dc48237f2fb43ac966538fb7b34464", "patch": "@@ -17,13 +17,28 @@\n /* This avoids lossage on SunOS but only if stdtypes.h comes first.\n    There's no way to win with the other order!  Sun lossage.  */\n \n-/*  In 4.3bsd-net2, machine/ansi.h defines these symbols for some other\n-    purpose.  Undef them to prevent them from confusing this file.  */\n+/* On 4.3bsd-net2, make sure ansi.h is included, so we have\n+   one less case to deal with in the following.  */\n+#if defined (__BSD_NET2__) || defined (____386BSD____)\n+#include <ansi.h>\n+#endif\n+\n+/* In 4.3bsd-net2, machine/ansi.h defines these symbols, which are\n+    defined if the corresponding type is *not* defined.  */\n #ifdef _ANSI_H_\n-#undef _PTRDIFF_T_\n+#ifndef _SIZE_T_\n+#define _SIZE_T\n+#endif\n+#ifndef _PTRDIFF_T_\n+#define _PTRDIFF_T\n+#endif\n+#ifndef _WCHAR_T_\n+#define _WCHAR_T\n+#endif\n #undef _SIZE_T_\n+#undef _PTRDIFF_T_\n #undef _WCHAR_T_\n-#endif\n+#endif /* _ANSI_H_ */\n \n /* In case nobody has defined these types, but we aren't running under\n    GCC 2.00, make sure that __PTRDIFF_TYPE__, __SIZE__TYPE__, and\n@@ -147,6 +162,16 @@ typedef __WCHAR_TYPE__ wchar_t;\n #undef\t__need_wchar_t\n #endif /* _STDDEF_H or __need_wchar_t.  */\n \n+/*  In 4.3bsd-net2, leave these undefined to indicate that size_t, etc.\n+    are already defined.  We need not worry about the case of wanting just\n+    one of these types, not on 4.3bsd-net2, because only the GNU libc\n+    header files do that.  */\n+#ifdef _ANSI_H_\n+#undef _PTRDIFF_T_\n+#undef _SIZE_T_\n+#undef _WCHAR_T_\n+#endif\n+\n #endif /* __sys_stdtypes_h */\n \n /* A null pointer constant.  */"}]}