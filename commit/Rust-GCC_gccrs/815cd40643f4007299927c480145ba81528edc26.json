{"sha": "815cd40643f4007299927c480145ba81528edc26", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODE1Y2Q0MDY0M2Y0MDA3Mjk5OTI3YzQ4MDE0NWJhODE1MjhlZGMyNg==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2007-10-04T20:26:24Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2007-10-04T20:26:24Z"}, "message": "re PR fortran/33539 (Too much noise for zero-length character strings)\n\n2007-10-04  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/33539\n\t* resolve.c: Only warn if the string length is\n\tless than zero.\n\n2007-10-04  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/33539\n\t* zero_length_2.f90:  Omit warning for zero-length string.\n\t* repeat_2.f90:  Likewise.\n\t* repeat_4.f90:  Likewise.\n\t* char_length_2.f90:  Likewise.\n\nFrom-SVN: r129022", "tree": {"sha": "5c4da28c82571183db8296f69b54b10292eec205", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c4da28c82571183db8296f69b54b10292eec205"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/815cd40643f4007299927c480145ba81528edc26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/815cd40643f4007299927c480145ba81528edc26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/815cd40643f4007299927c480145ba81528edc26", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/815cd40643f4007299927c480145ba81528edc26/comments", "author": null, "committer": null, "parents": [{"sha": "789e4e2825e4f1c0d4221ebe6d5468e2b2f7c7fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/789e4e2825e4f1c0d4221ebe6d5468e2b2f7c7fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/789e4e2825e4f1c0d4221ebe6d5468e2b2f7c7fb"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "536b3c5d3f751bddccf0f268225d0cfbec0d3b0b", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/815cd40643f4007299927c480145ba81528edc26/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/815cd40643f4007299927c480145ba81528edc26/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=815cd40643f4007299927c480145ba81528edc26", "patch": "@@ -6558,7 +6558,7 @@ resolve_charlen (gfc_charlen *cl)\n \n   /* \"If the character length parameter value evaluates to a negative\n      value, the length of character entities declared is zero.\"  */\n-  if (cl->length && !gfc_extract_int (cl->length, &i) && i <= 0)\n+  if (cl->length && !gfc_extract_int (cl->length, &i) && i < 0)\n     {\n       gfc_warning_now (\"CHARACTER variable has zero length at %L\",\n \t\t       &cl->length->where);"}, {"sha": "a519c540fd3304d34ce7c003a0f03cfb421cc0c1", "filename": "gcc/testsuite/gfortran.dg/char_length_2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Fchar_length_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Fchar_length_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fchar_length_2.f90?ref=815cd40643f4007299927c480145ba81528edc26", "patch": "@@ -3,7 +3,7 @@\n ! CHARACTER lengths weren't reduced early enough for all checks of\n ! them to be meaningful.  Furthermore negative string lengths weren't\n ! dealt with correctly.\n-CHARACTER(len=0) :: c1  ! { dg-warning \"CHARACTER variable has zero length\" }\n+CHARACTER(len=0) :: c1   ! This is OK.\n CHARACTER(len=-1) :: c2  ! { dg-warning \"CHARACTER variable has zero length\" }\n PARAMETER(I=-100)\n CHARACTER(len=I) :: c3   ! { dg-warning \"CHARACTER variable has zero length\" }"}, {"sha": "d71f1860aa33e21ba431f30a9cd6bfdd96a98f48", "filename": "gcc/testsuite/gfortran.dg/repeat_2.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Frepeat_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Frepeat_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Frepeat_2.f90?ref=815cd40643f4007299927c480145ba81528edc26", "patch": "@@ -22,10 +22,10 @@ end subroutine bar\n \n program test\n   implicit none\n-  character(len=0), parameter :: s0 = \"\"   ! { dg-warning \"zero length\" }\n+  character(len=0), parameter :: s0 = \"\" \n   character(len=1), parameter :: s1 = \"a\"\n   character(len=2), parameter :: s2 = \"ab\"\n-  character(len=0) :: t0 ! { dg-warning \"CHARACTER variable has zero length\" }\n+  character(len=0) :: t0 \n   character(len=1) :: t1\n   character(len=2) :: t2\n   integer :: i"}, {"sha": "e5b5acc60ce6be47887b9478e9c35190701242a5", "filename": "gcc/testsuite/gfortran.dg/repeat_4.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Frepeat_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Frepeat_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Frepeat_4.f90?ref=815cd40643f4007299927c480145ba81528edc26", "patch": "@@ -3,10 +3,10 @@\n ! { dg-do compile }\n program test\n   implicit none\n-  character(len=0), parameter :: s0 = \"\"   ! { dg-warning \"zero length\" }\n+  character(len=0), parameter :: s0 = \"\" \n   character(len=1), parameter :: s1 = \"a\"\n   character(len=2), parameter :: s2 = \"ab\"\n-  character(len=0) :: t0   ! { dg-warning \"CHARACTER variable has zero length\" }\n+  character(len=0) :: t0\n   character(len=1) :: t1\n   character(len=2) :: t2\n "}, {"sha": "2cc3f2938ca121f43d4c59f7524ade9cd5ae8c43", "filename": "gcc/testsuite/gfortran.dg/zero_length_2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Fzero_length_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/815cd40643f4007299927c480145ba81528edc26/gcc%2Ftestsuite%2Fgfortran.dg%2Fzero_length_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fzero_length_2.f90?ref=815cd40643f4007299927c480145ba81528edc26", "patch": "@@ -1,6 +1,6 @@\n ! { dg-do run }\n   character(len=1) :: s\n-  character(len=0) :: s0 ! { dg-warning \"CHARACTER variable has zero length\" }\n+  character(len=0) :: s0\n   s = \" \"\n   s0 = \"\"\n   call bar (\"\")"}]}