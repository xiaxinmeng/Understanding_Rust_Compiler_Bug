{"sha": "432a3b3644f52822cb61da7f529edf35b4390dd8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDMyYTNiMzY0NGY1MjgyMmNiNjFkYTdmNTI5ZWRmMzViNDM5MGRkOA==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2019-09-18T08:32:33Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-09-18T08:32:33Z"}, "message": "[Ada] Refine type of Get_Homonym_Number result\n\nRoutine Get_Homonym_Number always returns a positive number. This is\nexplained in its comment and is evident from its body. No test attached,\nbecause semantics is unaffected.\n\n2019-09-18  Piotr Trojanek  <trojanek@adacore.com>\n\ngcc/ada/\n\n\t* exp_dbug.ads, exp_dbug.adb (Get_Homonym_Number): Refine type\n\tfrom Nat to Pos.\n\t* sem_util.adb (Add_Homonym_Suffix): Refine type of a local\n\tvariable.\n\nFrom-SVN: r275851", "tree": {"sha": "8d8de94b0728c5b4ee7f38bfcc0170cdbb75454a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d8de94b0728c5b4ee7f38bfcc0170cdbb75454a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/432a3b3644f52822cb61da7f529edf35b4390dd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/432a3b3644f52822cb61da7f529edf35b4390dd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/432a3b3644f52822cb61da7f529edf35b4390dd8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/432a3b3644f52822cb61da7f529edf35b4390dd8/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d05586dce2ea2ac3bc6f645b7ad79290b327ccae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d05586dce2ea2ac3bc6f645b7ad79290b327ccae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d05586dce2ea2ac3bc6f645b7ad79290b327ccae"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "8b044d1744b085193e20f5b8d0c085d8744b9bad", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=432a3b3644f52822cb61da7f529edf35b4390dd8", "patch": "@@ -1,3 +1,10 @@\n+2019-09-18  Piotr Trojanek  <trojanek@adacore.com>\n+\n+\t* exp_dbug.ads, exp_dbug.adb (Get_Homonym_Number): Refine type\n+\tfrom Nat to Pos.\n+\t* sem_util.adb (Add_Homonym_Suffix): Refine type of a local\n+\tvariable.\n+\n 2019-09-18  Yannick Moy  <moy@adacore.com>\n \n \t* exp_dbug.adb (Append_Homonym_Number): Use new function"}, {"sha": "c2d2318d977d508fe7b2894ba9627bfb4f0ee668", "filename": "gcc/ada/exp_dbug.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2Fexp_dbug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2Fexp_dbug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.adb?ref=432a3b3644f52822cb61da7f529edf35b4390dd8", "patch": "@@ -1058,9 +1058,9 @@ package body Exp_Dbug is\n    -- Get_Homonym_Number --\n    ------------------------\n \n-   function Get_Homonym_Number (E : Entity_Id) return Nat is\n+   function Get_Homonym_Number (E : Entity_Id) return Pos is\n       H  : Entity_Id := Homonym (E);\n-      Nr : Nat := 1;\n+      Nr : Pos := 1;\n \n    begin\n       while Present (H) loop"}, {"sha": "ac40a40d9fa9ade06b973e7b6c9555fd2bd83039", "filename": "gcc/ada/exp_dbug.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2Fexp_dbug.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2Fexp_dbug.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.ads?ref=432a3b3644f52822cb61da7f529edf35b4390dd8", "patch": "@@ -460,7 +460,7 @@ package Exp_Dbug is\n    -- Subprograms for Handling Qualification --\n    --------------------------------------------\n \n-   function Get_Homonym_Number (E : Entity_Id) return Nat;\n+   function Get_Homonym_Number (E : Entity_Id) return Pos;\n    --  Return the homonym number for E, which is its position in the homonym\n    --  chain starting at 1. This is exported for use in GNATprove.\n "}, {"sha": "eac0c972e025c6cc6d45627a36817396687c584f", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/432a3b3644f52822cb61da7f529edf35b4390dd8/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=432a3b3644f52822cb61da7f529edf35b4390dd8", "patch": "@@ -26183,7 +26183,7 @@ package body Sem_Util is\n \n          if Has_Homonym (U) then\n             declare\n-               N : constant Nat := Get_Homonym_Number (U);\n+               N : constant Pos := Get_Homonym_Number (U);\n                S : constant String := N'Img;\n             begin\n                if N > 1 then"}]}