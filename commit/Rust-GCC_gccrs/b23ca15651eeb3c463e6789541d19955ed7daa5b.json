{"sha": "b23ca15651eeb3c463e6789541d19955ed7daa5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjIzY2ExNTY1MWVlYjNjNDYzZTY3ODk1NDFkMTk5NTVlZDdkYWE1Yg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2000-08-30T21:49:07Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-08-30T21:49:07Z"}, "message": "sh.md (cmpeqsi_ior_t, [...]): New insns.\n\n* config/sh/sh.md (cmpeqsi_ior_t, cmpeqsi_and_t): New insns.\n(cmpeqdi_t splitter): Use cmpeqsi_and_t instead of emitting jumps\nand labels.\n\nFrom-SVN: r36072", "tree": {"sha": "301fecc37627cd6acfab9f9f57679d6556d4dd38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/301fecc37627cd6acfab9f9f57679d6556d4dd38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b23ca15651eeb3c463e6789541d19955ed7daa5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b23ca15651eeb3c463e6789541d19955ed7daa5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b23ca15651eeb3c463e6789541d19955ed7daa5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b23ca15651eeb3c463e6789541d19955ed7daa5b/comments", "author": null, "committer": null, "parents": [{"sha": "8c81504d8da44a87da614eeb5a34e05f168fe692", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c81504d8da44a87da614eeb5a34e05f168fe692", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c81504d8da44a87da614eeb5a34e05f168fe692"}], "stats": {"total": 39, "additions": 33, "deletions": 6}, "files": [{"sha": "2fff75873c1c641de3e471156908cf9c626681d4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b23ca15651eeb3c463e6789541d19955ed7daa5b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b23ca15651eeb3c463e6789541d19955ed7daa5b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b23ca15651eeb3c463e6789541d19955ed7daa5b", "patch": "@@ -1,3 +1,9 @@\n+2000-08-30  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/sh/sh.md (cmpeqsi_ior_t, cmpeqsi_and_t): New insns.\n+\t(cmpeqdi_t splitter): Use cmpeqsi_and_t instead of emitting jumps\n+\tand labels.\n+\n 2000-08-30  J. David Anglin  <dave@hiauly1.hia.nrc.ca>\n \n \t* fixinc/gnu-regex.c: Don't define `const'."}, {"sha": "fc3068491241fa69703c869f3acc068312cc0961", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 27, "deletions": 6, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b23ca15651eeb3c463e6789541d19955ed7daa5b/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b23ca15651eeb3c463e6789541d19955ed7daa5b/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=b23ca15651eeb3c463e6789541d19955ed7daa5b", "patch": "@@ -558,6 +558,30 @@\n \tcmp/eq\t%1,%0\n \tcmp/eq\t%1,%0\")\n \n+(define_insn \"cmpeqsi_ior_t\"\n+  [(set (reg:SI 18)\n+\t(ior:SI (reg:SI 18)\n+\t\t(eq:SI (match_operand:SI 0 \"arith_reg_operand\" \"r,z,r\")\n+\t\t       (match_operand:SI 1 \"arith_operand\" \"N,rI,r\"))))]\n+  \"\"\n+  \"@\n+\tbt .+4\\;tst\t%0,%0\n+\tbt .+4\\;cmp/eq\t%1,%0\n+\tbt .+4\\;cmp/eq\t%1,%0\"\n+  [(set_attr \"length\" \"4\")])\n+\n+(define_insn \"cmpeqsi_and_t\"\n+  [(set (reg:SI 18)\n+\t(and:SI (reg:SI 18)\n+\t\t(eq:SI (match_operand:SI 0 \"arith_reg_operand\" \"r,z,r\")\n+\t\t       (match_operand:SI 1 \"arith_operand\" \"N,rI,r\"))))]\n+  \"\"\n+  \"@\n+\tbf .+4\\;tst\t%0,%0\n+\tbf .+4\\;cmp/eq\t%1,%0\n+\tbf .+4\\;cmp/eq\t%1,%0\"\n+  [(set_attr \"length\" \"4\")])\n+\n (define_insn \"cmpgtsi_t\"\n   [(set (reg:SI 18) (gt:SI (match_operand:SI 0 \"arith_reg_operand\" \"r,r\")\n \t\t\t   (match_operand:SI 1 \"arith_reg_or_0_operand\" \"r,N\")))]\n@@ -636,11 +660,9 @@\n \t\t\t   (match_operand:DI 1 \"arith_reg_or_0_operand\" \"N,r\")))]\n   \"reload_completed\"\n   [(set (reg:SI 18) (eq:SI (match_dup 2) (match_dup 3)))\n-   (set (pc) (if_then_else (eq (reg:SI 18) (const_int 0))\n-\t\t\t   (label_ref (match_dup 6))\n-\t\t\t   (pc)))\n-   (set (reg:SI 18) (eq:SI (match_dup 4) (match_dup 5)))\n-   (match_dup 6)]\n+   (set (reg:SI 18)\n+\t(and:SI (reg:SI 18)\n+\t\t(eq:SI (match_dup 4) (match_dup 5))))]\n   \"\n {\n   operands[2]\n@@ -654,7 +676,6 @@\n \t\t      + (TARGET_LITTLE_ENDIAN ? 1 : 0)));\n   operands[4] = gen_lowpart (SImode, operands[0]);\n   operands[5] = gen_lowpart (SImode, operands[1]);\n-  operands[6] = gen_label_rtx ();\n }\")\n \n (define_insn \"cmpgtdi_t\""}]}