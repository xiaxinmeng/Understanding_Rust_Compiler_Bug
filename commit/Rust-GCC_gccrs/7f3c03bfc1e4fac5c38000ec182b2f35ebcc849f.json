{"sha": "7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2YzYzAzYmZjMWU0ZmFjNWMzODAwMGVjMTgyYjJmMzVlYmNjODQ5Zg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2018-04-24T15:54:56Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2018-04-24T15:54:56Z"}, "message": "Testsuite fixes for C++11 alignof change.\n\ngcc/testsuite:\n\t* c-c++-common/attr-aligned-1.c: Use __alignof__ in C++11.\n\t* g++.dg/cpp0x/alignas4.C: Expect 4-byte alignment on x86.\n\nFrom-SVN: r259606", "tree": {"sha": "ebd5a06c7e7b097f1f191fa80b63c8393c1ca05d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebd5a06c7e7b097f1f191fa80b63c8393c1ca05d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f/comments", "author": null, "committer": null, "parents": [{"sha": "8ff02f9647e63f9a94e16045edf757d8bb58ed2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ff02f9647e63f9a94e16045edf757d8bb58ed2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ff02f9647e63f9a94e16045edf757d8bb58ed2e"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "26b62393ac0a7d6ced767013bdb635f8b21db9e6", "filename": "gcc/testsuite/c-c++-common/attr-aligned-1.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fattr-aligned-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fattr-aligned-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fattr-aligned-1.c?ref=7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f", "patch": "@@ -17,8 +17,8 @@ main ()\n }\n \n #if defined(__cplusplus) && __cplusplus >= 201103L\n-static_assert (alignof (S) == 2 * alignof (double), \"alignment of S\");\n-static_assert (alignof (T) == 2 * alignof (double), \"alignment of T\");\n-static_assert (alignof (const S) == 2 * alignof (double), \"alignment of const S\");\n-static_assert (alignof (const T) == 2 * alignof (double), \"alignment of const T\");\n+static_assert (alignof (S) == 2 * __alignof__ (double), \"alignment of S\");\n+static_assert (alignof (T) == 2 * __alignof__ (double), \"alignment of T\");\n+static_assert (alignof (const S) == 2 * __alignof__ (double), \"alignment of const S\");\n+static_assert (alignof (const T) == 2 * __alignof__ (double), \"alignment of const T\");\n #endif"}, {"sha": "b66fa651bc2ce915cb7af97fdc0f6855ef207aea", "filename": "gcc/testsuite/g++.dg/cpp0x/alignas4.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas4.C?ref=7f3c03bfc1e4fac5c38000ec182b2f35ebcc849f", "patch": "@@ -1,6 +1,7 @@\n // PR c++/59012\n // { dg-do compile { target c++11 } }\n-// { dg-final { scan-assembler \"align 8\" { target { { i?86-*-* x86_64-*-* } && { ! *-*-darwin* } } } } }\n+// { dg-final { scan-assembler \"align 8\" { target { { i?86-*-* x86_64-*-* } && { { ! ia32 } && { ! *-*-darwin* } } } } } }\n+// { dg-final { scan-assembler \"align 4\" { target ia32 } } }\n \n template <class... T>\n struct A"}]}