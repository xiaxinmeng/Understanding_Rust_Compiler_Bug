{"sha": "e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTRmMmNkNDNlYzIwNzZlOWE4NGY2MTFjOGE3MjQ1NGUzNDk3NWUwYw==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel1@de.ibm.com", "date": "2006-08-31T07:43:36Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2006-08-31T07:43:36Z"}, "message": "re PR target/24367 (unrecognizable insn with -fPIC -O2 -funroll-loops)\n\n2006-08-31  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\tPR target/24367\n\t* config/s390/s390.md (\"movsi\", \"movdi\" expander): Accept rtxes like\n\tr12 + SYMBOLIC_CONST.\n\n2006-08-31  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\tPR target/24367\n\t* gcc.dg/pr24367.c: New testcase.\n\nFrom-SVN: r116599", "tree": {"sha": "1827db1892808b46722cf8bee2f28098e66535fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1827db1892808b46722cf8bee2f28098e66535fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/comments", "author": null, "committer": null, "parents": [{"sha": "99cdbefb972862f1fd6219a990df04ab7cb95503", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99cdbefb972862f1fd6219a990df04ab7cb95503", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99cdbefb972862f1fd6219a990df04ab7cb95503"}], "stats": {"total": 40, "additions": 38, "deletions": 2}, "files": [{"sha": "8f1fd3476169b745b64c64d94ae6f5800d1e9e38", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "patch": "@@ -1,3 +1,9 @@\n+2006-08-31  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\tPR target/24367\n+\t* config/s390/s390.md (\"movsi\", \"movdi\" expander): Accept rtxes like\n+\tr12 + SYMBOLIC_CONST.\n+\n 2006-08-30  Richard Guenther  <rguenther@suse.de>\n \n \t* Makefile.in (see.o): Add $(EXPR_H) dependency."}, {"sha": "eb734e15e13265945e2c6df950750b8111c90eeb", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "patch": "@@ -907,7 +907,11 @@\n   \"\"\n {\n   /* Handle symbolic constants.  */\n-  if (TARGET_64BIT && SYMBOLIC_CONST (operands[1]))\n+  if (TARGET_64BIT\n+      && (SYMBOLIC_CONST (operands[1])\n+\t  || (GET_CODE (operands[1]) == PLUS\n+\t      && XEXP (operands[1], 0) == pic_offset_table_rtx\n+\t      && SYMBOLIC_CONST (XEXP (operands[1], 1)))))\n     emit_symbolic_move (operands);\n })\n \n@@ -1158,7 +1162,11 @@\n   \"\"\n {\n   /* Handle symbolic constants.  */\n-  if (!TARGET_64BIT && SYMBOLIC_CONST (operands[1]))\n+  if (!TARGET_64BIT\n+      && (SYMBOLIC_CONST (operands[1])\n+\t  || (GET_CODE (operands[1]) == PLUS\n+\t      && XEXP (operands[1], 0) == pic_offset_table_rtx\n+\t      && SYMBOLIC_CONST (XEXP(operands[1], 1)))))\n     emit_symbolic_move (operands);\n })\n "}, {"sha": "2e6cec9e1b4ca7dac5c999919d6de8c2d3bd044f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "patch": "@@ -1,3 +1,8 @@\n+2006-08-31  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\tPR target/24367\n+\t* gcc.dg/pr24367.c: New testcase.\n+\n 2006-08-30  Joseph Myers  <joseph@codesourcery.com>\n \n \t* gcc.dg/arm-mmx-1.c: Skip for -mfloat-abi=softfp."}, {"sha": "64867190992a0d32715424fe3da377d5eeab8d68", "filename": "gcc/testsuite/gcc.dg/pr24367.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr24367.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f2cd43ec2076e9a84f611c8a72454e34975e0c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr24367.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr24367.c?ref=e4f2cd43ec2076e9a84f611c8a72454e34975e0c", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-do compile { target fpic } } */\n+/* { dg-options \"-O2 -fPIC -funroll-loops\" } */\n+\n+char *\n+test (const char *parent, const char *child)\n+{\n+  static char rtn_path[1024];\n+  char *s = rtn_path;\n+  char *s_end = rtn_path + sizeof (rtn_path);\n+  const char *s2 = child;\n+\n+  while (*s != '\\0')\n+    s++;\n+  while ((s < s_end) && (*s2 != '\\0'))\n+    *s++ = *s2++;\n+  return (rtn_path);\n+}"}]}