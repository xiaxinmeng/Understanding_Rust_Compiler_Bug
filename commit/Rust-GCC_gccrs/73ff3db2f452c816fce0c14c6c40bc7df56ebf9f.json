{"sha": "73ff3db2f452c816fce0c14c6c40bc7df56ebf9f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNmZjNkYjJmNDUyYzgxNmZjZTBjMTRjNmM0MGJjN2RmNTZlYmY5Zg==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2017-11-28T14:23:36Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2017-11-28T14:23:36Z"}, "message": "Makefile.in (SELFTEST_FLAGS): Use nul instead of /dev/null on mingw build hosts.\n\n2017-11-28  Olivier Hainque  <hainque@adacore.com>\n\n\t* Makefile.in (SELFTEST_FLAGS): Use nul instead of /dev/null\n\ton mingw build hosts.\n\nFrom-SVN: r255200", "tree": {"sha": "3b6ad5b19d468492260b168b33334ce43a523904", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b6ad5b19d468492260b168b33334ce43a523904"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "61cd19e6be197dbafa410e894f002a185256db30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61cd19e6be197dbafa410e894f002a185256db30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61cd19e6be197dbafa410e894f002a185256db30"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "5835f8705322bec3efd5a97ee88e8abb969eacef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=73ff3db2f452c816fce0c14c6c40bc7df56ebf9f", "patch": "@@ -1,3 +1,8 @@\n+2017-11-28  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* Makefile.in (SELFTEST_FLAGS): Use nul instead of /dev/null\n+\ton mingw build hosts.\n+\n 2017-11-28  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/81307"}, {"sha": "0baa29221f3624ac69b6e439f0acc222b8853f88", "filename": "gcc/Makefile.in", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73ff3db2f452c816fce0c14c6c40bc7df56ebf9f/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=73ff3db2f452c816fce0c14c6c40bc7df56ebf9f", "patch": "@@ -1912,9 +1912,12 @@ rest.cross: specs\n # Specify -o /dev/null so the output of -S is discarded. More importantly\n # It does not try to create a file with the name \"null.s\" on POSIX and\n # \"nul.s\" on Windows. Because on Windows \"nul\" is a reserved file name.\n+# Beware that /dev/null is not available to mingw tools, so directly use\n+# \"nul\" instead of \"/dev/null\" if we're building on a mingw machine.\n # Specify the path to gcc/testsuite/selftests within the srcdir\n # as an argument to -fself-test.\n-SELFTEST_FLAGS = -nostdinc /dev/null -S -o /dev/null \\\n+DEVNULL=$(if $(findstring mingw,$(build)),nul,/dev/null)\n+SELFTEST_FLAGS = -nostdinc $(DEVNULL) -S -o $(DEVNULL) \\\n \t-fself-test=$(srcdir)/testsuite/selftests\n \n C_SELFTEST_FLAGS = -xc $(SELFTEST_FLAGS)"}]}