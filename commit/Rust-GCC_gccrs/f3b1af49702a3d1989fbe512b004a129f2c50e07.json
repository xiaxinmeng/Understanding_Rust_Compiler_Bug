{"sha": "f3b1af49702a3d1989fbe512b004a129f2c50e07", "node_id": "C_kwDOANBUbNoAKGYzYjFhZjQ5NzAyYTNkMTk4OWZiZTUxMmIwMDRhMTI5ZjJjNTBlMDc", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2023-02-01T09:53:50Z"}, "committer": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2023-02-01T09:53:50Z"}, "message": "testsuite: Fix g++.dg/gomp warnings for aarch64\n\nA couple of tweaks to make g++.dg/gomp clean on aarch64.\n\ngcc/testsuite/\n\t* g++.dg/gomp/attrs-10.C: Update warning strings for aarch64.\n\t* g++.dg/gomp/declare-simd-8.C: Add expected warning for aarch64.", "tree": {"sha": "76b816c92d2f1cc074259d5e059907712dcedf6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76b816c92d2f1cc074259d5e059907712dcedf6b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3b1af49702a3d1989fbe512b004a129f2c50e07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3b1af49702a3d1989fbe512b004a129f2c50e07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3b1af49702a3d1989fbe512b004a129f2c50e07", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3b1af49702a3d1989fbe512b004a129f2c50e07/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bfc070595bfb00abef88a002eee5d9117f5b86a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfc070595bfb00abef88a002eee5d9117f5b86a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfc070595bfb00abef88a002eee5d9117f5b86a7"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "ed0214a8de235b3c2a6b52336106ac5de754be46", "filename": "gcc/testsuite/g++.dg/gomp/attrs-10.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3b1af49702a3d1989fbe512b004a129f2c50e07/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fattrs-10.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3b1af49702a3d1989fbe512b004a129f2c50e07/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fattrs-10.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fattrs-10.C?ref=f3b1af49702a3d1989fbe512b004a129f2c50e07", "patch": "@@ -55,7 +55,7 @@ f4 (int l)\n \n int\n f5 (int l)\n-{\t// { dg-warning \"GCC does not currently support mixed size types for 'simd' functions\" \"\" { target aarch64*-*-* } .-1 }\n+{\t// { dg-warning \"GCC does not currently support simdlen 8 for type 'int'\" \"\" { target aarch64*-*-* } .-1 }\n   return l + 4;\n }\n \n@@ -78,7 +78,7 @@ f5 (int l)\n int\n f6 [[omp::sequence (directive (declare simd uniform (l) simdlen (8), notinbranch),\n \t\t    omp::directive (declare simd linear (l) simdlen (8) inbranch))]] (int l)\n-{\t// { dg-warning \"GCC does not currently support mixed size types for 'simd' functions\" \"\" { target aarch64*-*-* } .-2 }\n+{\t// { dg-warning \"GCC does not currently support simdlen 8 for type 'int'\" \"\" { target aarch64*-*-* } .-2 }\n   return l + 5;\n }\n \n@@ -124,7 +124,7 @@ f8 (int l)\n int\n f9 [[omp::directive (declare simd uniform (l) simdlen (8)),\n      omp::directive (declare variant (f8) match (construct={parallel,for}))]] (int l)\n-{\t// { dg-warning \"GCC does not currently support mixed size types for 'simd' functions\" \"\" { target aarch64*-*-* } .-2 }\n+{\t// { dg-warning \"GCC does not currently support simdlen 8 for type 'int'\" \"\" { target aarch64*-*-* } .-2 }\n   return l + 8;\n }\n "}, {"sha": "ef183136833a997e2009af367acb575e02cb5b22", "filename": "gcc/testsuite/g++.dg/gomp/declare-simd-8.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3b1af49702a3d1989fbe512b004a129f2c50e07/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fdeclare-simd-8.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3b1af49702a3d1989fbe512b004a129f2c50e07/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fdeclare-simd-8.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fdeclare-simd-8.C?ref=f3b1af49702a3d1989fbe512b004a129f2c50e07", "patch": "@@ -4,6 +4,7 @@ template <int N, typename T>\n struct S {\n   #pragma omp declare simd aligned(a : N * 2) aligned(b) linear(ref(b): N)\n   float foo (float *a, T *&b) { return *a + *b; }\n+  // { dg-warning \"GCC does not currently support mixed size types for 'simd' functions\" \"\" { target aarch64*-*-* } .-1 }\n };\n \n S<16, float> s;"}]}