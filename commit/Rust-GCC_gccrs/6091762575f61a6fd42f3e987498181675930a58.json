{"sha": "6091762575f61a6fd42f3e987498181675930a58", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA5MTc2MjU3NWY2MWE2ZmQ0MmYzZTk4NzQ5ODE4MTY3NTkzMGE1OA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "1998-08-29T01:15:22Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "1998-08-29T01:15:22Z"}, "message": "pt.c (decl_template_parm_p): Add checks for TEMPLATE_TEMPLATE_PARM.\n\n\ufffd\n1998-08-28  Benjamin Kosnik  <bkoz@loony.cygnus.com>\n        * pt.c (decl_template_parm_p): Add checks for\n        TEMPLATE_TEMPLATE_PARM.\n\nFrom-SVN: r22071", "tree": {"sha": "917c04a1f9fd0eaa788e730ed2d07ee5a7930308", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/917c04a1f9fd0eaa788e730ed2d07ee5a7930308"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6091762575f61a6fd42f3e987498181675930a58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6091762575f61a6fd42f3e987498181675930a58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6091762575f61a6fd42f3e987498181675930a58", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6091762575f61a6fd42f3e987498181675930a58/comments", "author": null, "committer": null, "parents": [{"sha": "d84f48212d7c6cc7275cd68768b54e3a342a0cfb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d84f48212d7c6cc7275cd68768b54e3a342a0cfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d84f48212d7c6cc7275cd68768b54e3a342a0cfb"}], "stats": {"total": 27, "additions": 18, "deletions": 9}, "files": [{"sha": "364fd5288b2af26ad17bba18c1b624434536b56f", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 18, "deletions": 9, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6091762575f61a6fd42f3e987498181675930a58/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6091762575f61a6fd42f3e987498181675930a58/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=6091762575f61a6fd42f3e987498181675930a58", "patch": "@@ -1458,16 +1458,25 @@ int comp_template_parms (parms1, parms2)\n int decl_template_parm_p (old_decl)\n      tree old_decl;\n {\n-  if (TREE_CODE_CLASS (TREE_CODE (old_decl)) == 'd'\n-      /* For template type parameters. */\n-      && ((TREE_TYPE (old_decl)\n-\t   && TREE_CODE (TREE_TYPE (old_decl)) == TEMPLATE_TYPE_PARM)\n-\t  /* For non-type template parameters. */\n-\t  || (DECL_INITIAL (old_decl) \n-\t      && TREE_CODE (DECL_INITIAL (old_decl)) == TEMPLATE_PARM_INDEX)))\n+  /* For template template parms. */\n+  if (TREE_CODE (old_decl) == TEMPLATE_DECL\n+      && TREE_TYPE (old_decl)\n+      && TREE_CODE (TREE_TYPE (old_decl)) == TEMPLATE_TEMPLATE_PARM)\n     return 1;\n-  else\n-    return 0;\n+\n+  /* For template type parms. */\n+  if (TREE_CODE (old_decl) == TYPE_DECL\n+      && TREE_TYPE (old_decl)\n+      && TREE_CODE (TREE_TYPE (old_decl)) == TEMPLATE_TYPE_PARM)\n+    return 1;\n+\n+  /* For template non-type parms. */\n+  if (TREE_CODE (old_decl) == CONST_DECL\n+      && DECL_INITIAL (old_decl) \n+      && TREE_CODE (DECL_INITIAL (old_decl)) == TEMPLATE_PARM_INDEX)\n+    return 1;\n+\n+  return 0;\n }\n \n "}]}