{"sha": "9a1425dac2737d697ed3182d36d4be031a0639c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWExNDI1ZGFjMjczN2Q2OTdlZDMxODJkMzZkNGJlMDMxYTA2MzljNg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-08-02T18:47:46Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-08-02T18:47:46Z"}, "message": "re PR fortran/40853 (I/O: Namelist read error)\n\n2009-08-02  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/40853\n\t* gfortran.dg/namelist_40.f90: Update error output.\n\t* gfortran.dg/namelist_47.f90: Update error output.\n\t* gfortran.dg/namelist_58.f90: New test.\n\nFrom-SVN: r150357", "tree": {"sha": "9cdd4ce1d33023dadb3f216527d1a8d4d0097254", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9cdd4ce1d33023dadb3f216527d1a8d4d0097254"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a1425dac2737d697ed3182d36d4be031a0639c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a1425dac2737d697ed3182d36d4be031a0639c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a1425dac2737d697ed3182d36d4be031a0639c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a1425dac2737d697ed3182d36d4be031a0639c6/comments", "author": null, "committer": null, "parents": [{"sha": "ba286d56964f5232eac0b8e87780fd229c57b73c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba286d56964f5232eac0b8e87780fd229c57b73c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba286d56964f5232eac0b8e87780fd229c57b73c"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "ad74f3712b625403c41abdbcfba9a54d8a4e138d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9a1425dac2737d697ed3182d36d4be031a0639c6", "patch": "@@ -1,3 +1,10 @@\n+2009-08-02  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/40853\n+\t* gfortran.dg/namelist_40.f90: Update error output.\n+\t* gfortran.dg/namelist_47.f90: Update error output.\n+\t* gfortran.dg/namelist_58.f90: New test.\n+\n 2009-08-02  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/40881"}, {"sha": "d6f896a39569358740b5c15332c571164333779b", "filename": "gcc/testsuite/gfortran.dg/namelist_40.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_40.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_40.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_40.f90?ref=9a1425dac2737d697ed3182d36d4be031a0639c6", "patch": "@@ -47,7 +47,7 @@ subroutine writenml (astring)\n end subroutine writenml\n \n end program namelist_40\n-! { dg-output \"Multiple sub-objects with non-zero rank in namelist object x(\\n|\\r\\n|\\r)\" }\n+! { dg-output \"Multiple sub-objects with non-zero rank in namelist object x%m%ch(\\n|\\r\\n|\\r)\" }\n ! { dg-output \"Missing colon in substring qualifier for namelist variable x%m%ch(\\n|\\r\\n|\\r)\" }\n ! { dg-output \"Substring out of range for namelist variable x%m%ch(\\n|\\r\\n|\\r)\" }\n ! { dg-output \"Bad character in substring qualifier for namelist variable x%m%ch(\\n|\\r\\n|\\r)\" }"}, {"sha": "581924720bdc9d1f271d23378253de347c8d97c8", "filename": "gcc/testsuite/gfortran.dg/namelist_47.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_47.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_47.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_47.f90?ref=9a1425dac2737d697ed3182d36d4be031a0639c6", "patch": "@@ -45,7 +45,7 @@ subroutine writenml (astring)\n end subroutine writenml\n \n end program namelist_47\n-! { dg-output \"Multiple sub-objects with non-zero rank in namelist object x(\\n|\\r\\n|\\r)\" }\n+! { dg-output \"Multiple sub-objects with non-zero rank in namelist object x%m%c012345678901234567890123456789012345678901234567890123456789h(\\n|\\r\\n|\\r)\" }\n ! { dg-output \"Missing colon in substring qualifier for namelist variable x%m%c012345678901234567890123456789012345678901234567890123456789h(\\n|\\r\\n|\\r)\" }\n ! { dg-output \"Substring out of range for namelist variable x%m%c012345678901234567890123456789012345678901234567890123456789h(\\n|\\r\\n|\\r)\" }\n ! { dg-output \"Bad character in substring qualifier for namelist variable x%m%c012345678901234567890123456789012345678901234567890123456789h(\\n|\\r\\n|\\r)\" }"}, {"sha": "fcce01653a46b606a53e386d0dd596af66715c26", "filename": "gcc/testsuite/gfortran.dg/namelist_58.f90", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_58.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a1425dac2737d697ed3182d36d4be031a0639c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_58.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_58.f90?ref=9a1425dac2737d697ed3182d36d4be031a0639c6", "patch": "@@ -0,0 +1,25 @@\n+! { dg-do run }\n+! PR40853 Error in namelist IO.\n+! Test case derived from example given in PR. < jvdelisle@gcc.gnu.org >\n+program test\n+  implicit none\n+  type tao_title_struct\n+    character(2) justify   \n+  end type\n+  type tao_plot_page_struct\n+    real shape_height_max \n+    type (tao_title_struct) title ! Comment this line out and the bug goes away.\n+    real size(2)\n+  end type\n+  type (tao_plot_page_struct) plot_page\n+  namelist / params / plot_page\n+  open (10, status=\"scratch\")\n+  write(10,'(a)')\"  &params\"\n+  write(10,'(a)')\"  plot_page%size=5 , 2,\"\n+  write(10,'(a)')\"/\"\n+  rewind(10)\n+  read (10, nml = params)\n+  if (any(plot_page%size .ne. (/ 5, 2 /))) call abort\n+  close (10)\n+end program\n+"}]}