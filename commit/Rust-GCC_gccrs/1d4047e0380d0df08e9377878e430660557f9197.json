{"sha": "1d4047e0380d0df08e9377878e430660557f9197", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ0MDQ3ZTAzODBkMGRmMDhlOTM3Nzg3OGU0MzA2NjA1NTdmOTE5Nw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2002-07-08T08:56:20Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2002-07-08T08:56:20Z"}, "message": "mips.md: Add imadd type.\n\n\t* config/mips/mips.md: Add imadd type.  Update scheduler description\n\tto use imadd as well as imul.\n\t(*mul_acc_si, *madsi): Change imul alternatives to imadd.\n\t(*mul_acc_di, *mul_acc_64bit_di): Likewise.\n\t(*mul_sub_si): Likewise for first alternative.  Change second\n\talternative from imul to multi.\n\nFrom-SVN: r55321", "tree": {"sha": "f43a9310c29d5d38750ace84bbb5d5a3ebd11dde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f43a9310c29d5d38750ace84bbb5d5a3ebd11dde"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d4047e0380d0df08e9377878e430660557f9197", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d4047e0380d0df08e9377878e430660557f9197", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d4047e0380d0df08e9377878e430660557f9197", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d4047e0380d0df08e9377878e430660557f9197/comments", "author": null, "committer": null, "parents": [{"sha": "594bb0e78980cbb20cdeb028056a8f01be55b06f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/594bb0e78980cbb20cdeb028056a8f01be55b06f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/594bb0e78980cbb20cdeb028056a8f01be55b06f"}], "stats": {"total": 40, "additions": 25, "deletions": 15}, "files": [{"sha": "be542f1c0234b6570166cb1155975ad598e606db", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d4047e0380d0df08e9377878e430660557f9197/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d4047e0380d0df08e9377878e430660557f9197/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1d4047e0380d0df08e9377878e430660557f9197", "patch": "@@ -1,3 +1,12 @@\n+2002-07-08  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.md: Add imadd type.  Update scheduler description\n+\tto use imadd as well as imul.\n+\t(*mul_acc_si, *madsi): Change imul alternatives to imadd.\n+\t(*mul_acc_di, *mul_acc_64bit_di): Likewise.\n+\t(*mul_sub_si): Likewise for first alternative.  Change second\n+\talternative from imul to multi.\n+\n 2002-07-07  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* c-common.c (c_common_post_options): Update prototype;"}, {"sha": "1205e5230f6939a8bb2f0a9af150dbacf0465406", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 16, "deletions": 15, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d4047e0380d0df08e9377878e430660557f9197/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d4047e0380d0df08e9377878e430660557f9197/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=1d4047e0380d0df08e9377878e430660557f9197", "patch": "@@ -68,6 +68,7 @@\n ;; arith\tinteger arithmetic instruction\n ;; darith\tdouble precision integer arithmetic instructions\n ;; imul\t\tinteger multiply\n+;; imadd\tinteger multiply-add\n ;; idiv\t\tinteger divide\n ;; icmp\t\tinteger compare\n ;; fadd\t\tfloating point add/subtract\n@@ -83,7 +84,7 @@\n ;; nop\t\tno operation\n \n (define_attr \"type\"\n-  \"unknown,branch,jump,call,load,store,move,xfer,hilo,arith,darith,imul,idiv,icmp,fadd,fmul,fmadd,fdiv,fabs,fneg,fcmp,fcvt,fsqrt,multi,nop\"\n+  \"unknown,branch,jump,call,load,store,move,xfer,hilo,arith,darith,imul,imadd,idiv,icmp,fadd,fmul,fmadd,fdiv,fabs,fneg,fcmp,fcvt,fsqrt,multi,nop\"\n   (const_string \"unknown\"))\n \n ;; Main data type used by the insn\n@@ -222,7 +223,7 @@\n   1 3)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\")\n+  (and (eq_attr \"type\" \"imul,imadd\")\n        (eq_attr \"cpu\" \"!r3000,r3900,r4000,r4600,r4650,r4100,r4300,r5000\"))\n   17 17)\n \n@@ -237,39 +238,39 @@\n   1 5)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\") (eq_attr \"cpu\" \"r3000,r3900\"))\n+  (and (eq_attr \"type\" \"imul,imadd\") (eq_attr \"cpu\" \"r3000,r3900\"))\n   12 12)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\") (eq_attr \"cpu\" \"r4000,r4600\"))\n+  (and (eq_attr \"type\" \"imul,imadd\") (eq_attr \"cpu\" \"r4000,r4600\"))\n   10 10)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\") (eq_attr \"cpu\" \"r4650\"))\n+  (and (eq_attr \"type\" \"imul,imadd\") (eq_attr \"cpu\" \"r4650\"))\n   4 4)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\")\n+  (and (eq_attr \"type\" \"imul,imadd\")\n        (and (eq_attr \"mode\" \"SI\") (eq_attr \"cpu\" \"r4100\")))\n   1 1)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\")\n+  (and (eq_attr \"type\" \"imul,imadd\")\n        (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r4100\")))\n   4 4)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\")\n+  (and (eq_attr \"type\" \"imul,imadd\")\n        (and (eq_attr \"mode\" \"SI\") (eq_attr \"cpu\" \"r4300,r5000\")))\n   5 5)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\")\n+  (and (eq_attr \"type\" \"imul,imadd\")\n        (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r4300\")))\n   8 8)\n \n (define_function_unit \"imuldiv\"  1 0\n-  (and (eq_attr \"type\" \"imul\")\n+  (and (eq_attr \"type\" \"imul,imadd\")\n        (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r5000\")))\n   9 9)\n \n@@ -1868,7 +1869,7 @@\n     return \\\"#\\\";\n   return madd[which_alternative];\n }\"\n-  [(set_attr \"type\"\t\"imul,imul,multi\")\n+  [(set_attr \"type\"\t\"imadd,imadd,multi\")\n    (set_attr \"mode\"\t\"SI\")\n    (set_attr \"length\"\t\"4,4,8\")])\n \n@@ -1932,7 +1933,7 @@\n     return \\\"#\\\";\n   return \\\"msub\\\\t%2,%3\\\";\n }\"\n-  [(set_attr \"type\"     \"imul,imul,multi\")\n+  [(set_attr \"type\"     \"imadd,multi,multi\")\n    (set_attr \"mode\"     \"SI\")\n    (set_attr \"length\"   \"4,8,8\")])\n \n@@ -2241,7 +2242,7 @@\n    (clobber (match_scratch:SI 4 \"=a\"))]\n   \"TARGET_MAD\"\n   \"mad\\\\t%1,%2\"\n-  [(set_attr \"type\"\t\"imul\")\n+  [(set_attr \"type\"\t\"imadd\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"*mul_acc_di\"\n@@ -2262,7 +2263,7 @@\n   else\n     return \\\"madu\\\\t%1,%2\\\";\n }\"\n-  [(set_attr \"type\"\t\"imul\")\n+  [(set_attr \"type\"\t\"imadd\")\n    (set_attr \"mode\"\t\"SI\")])\n \n (define_insn \"*mul_acc_64bit_di\"\n@@ -2284,7 +2285,7 @@\n   else\n     return \\\"madu\\\\t%1,%2\\\";\n }\"\n-  [(set_attr \"type\"\t\"imul\")\n+  [(set_attr \"type\"\t\"imadd\")\n    (set_attr \"mode\"\t\"SI\")])\n \n ;; Floating point multiply accumulate instructions."}]}