{"sha": "c31a34018aa6c4f34102e8c5a93cc98def3b5a7b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzMxYTM0MDE4YWE2YzRmMzQxMDJlOGM1YTkzY2M5OGRlZjNiNWE3Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-06-26T00:04:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-06-26T00:04:36Z"}, "message": "cmd/go: silence ar with D flag failures\n    \n    The first call of ar must not show its output in order to avoid useless\n    error messages about D flag.\n    The corresponding Go toolchain patch is CL 182077.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/183817\n\nFrom-SVN: r272661", "tree": {"sha": "bc9301efe578b218e45f961367984653fdf77579", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc9301efe578b218e45f961367984653fdf77579"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b/comments", "author": null, "committer": null, "parents": [{"sha": "ebecdd0c3649b02de48836d17baa949fa8f106f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebecdd0c3649b02de48836d17baa949fa8f106f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebecdd0c3649b02de48836d17baa949fa8f106f8"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "caa7bf91664b3d90c0550e883996efccb75bcf6d", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=c31a34018aa6c4f34102e8c5a93cc98def3b5a7b", "patch": "@@ -1,4 +1,4 @@\n-a857aad2f3994e6fa42a6fc65330e65d209597a0\n+1d6578a20a9a2ee599a07f03cf7f8e7797d72b9c\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "3b97209b7525afc22f5de252c45b6ee2094f925b", "filename": "libgo/go/cmd/go/internal/work/gccgo.go", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fgccgo.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c31a34018aa6c4f34102e8c5a93cc98def3b5a7b/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fgccgo.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fgccgo.go?ref=c31a34018aa6c4f34102e8c5a93cc98def3b5a7b", "patch": "@@ -209,9 +209,16 @@ func (tools gccgoToolchain) pack(b *Builder, a *Action, afile string, ofiles []s\n \t}\n \tabsAfile := mkAbs(objdir, afile)\n \t// Try with D modifier first, then without if that fails.\n-\tif b.run(a, p.Dir, p.ImportPath, nil, tools.ar(), arArgs, \"rcD\", absAfile, absOfiles) != nil {\n+\toutput, err := b.runOut(p.Dir, nil, tools.ar(), arArgs, \"rcD\", absAfile, absOfiles)\n+\tif err != nil {\n \t\treturn b.run(a, p.Dir, p.ImportPath, nil, tools.ar(), arArgs, \"rc\", absAfile, absOfiles)\n \t}\n+\n+\tif len(output) > 0 {\n+\t\t// Show the output if there is any even without errors.\n+\t\tb.showOutput(a, p.Dir, p.ImportPath, b.processOutput(output))\n+\t}\n+\n \treturn nil\n }\n "}]}