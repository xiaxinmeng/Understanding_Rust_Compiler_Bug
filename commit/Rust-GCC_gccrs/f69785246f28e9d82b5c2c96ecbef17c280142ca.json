{"sha": "f69785246f28e9d82b5c2c96ecbef17c280142ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjY5Nzg1MjQ2ZjI4ZTlkODJiNWMyYzk2ZWNiZWYxN2MyODAxNDJjYQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@torsion.usersys.redhat.com", "date": "2020-05-07T21:10:42Z"}, "committer": {"name": "Jeff Law", "email": "law@torsion.usersys.redhat.com", "date": "2020-05-07T21:10:42Z"}, "message": "Remove remnants of COFF support which was dropped eons ago.\n\n\t* config/h8300/h8300.c (h8300_asm_named_section): Remove.\n\t(h8300_option_override): Remove remnants of COFF support.", "tree": {"sha": "eb6f55a39caf67dd49a5ab81b2ec06de2578da17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb6f55a39caf67dd49a5ab81b2ec06de2578da17"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f69785246f28e9d82b5c2c96ecbef17c280142ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f69785246f28e9d82b5c2c96ecbef17c280142ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f69785246f28e9d82b5c2c96ecbef17c280142ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f69785246f28e9d82b5c2c96ecbef17c280142ca/comments", "author": null, "committer": null, "parents": [{"sha": "91d505491c7deda61de04dd64da008e0205abf74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91d505491c7deda61de04dd64da008e0205abf74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91d505491c7deda61de04dd64da008e0205abf74"}], "stats": {"total": 26, "additions": 5, "deletions": 21}, "files": [{"sha": "c2382f7f2d14b69404e5743a3ae8e92cbfe3a08e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f69785246f28e9d82b5c2c96ecbef17c280142ca/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f69785246f28e9d82b5c2c96ecbef17c280142ca/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f69785246f28e9d82b5c2c96ecbef17c280142ca", "patch": "@@ -1,3 +1,8 @@\n+2020-05-07 Jeff Law  <law@redhat.com>\n+\n+\t* config/h8300/h8300.c (h8300_asm_named_section): Remove.\n+\t(h8300_option_override): Remove remnants of COFF support.\n+\n 2020-05-07  Alan Modra  <amodra@gmail.com>\n \n \t* tree-ssa-reassoc.c (optimize_range_tests_to_bit_test): Replace"}, {"sha": "2c51c7c29556be9bc961c914bbdbdd9db12f3ecb", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f69785246f28e9d82b5c2c96ecbef17c280142ca/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f69785246f28e9d82b5c2c96ecbef17c280142ca/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=f69785246f28e9d82b5c2c96ecbef17c280142ca", "patch": "@@ -102,9 +102,6 @@ static tree h8300_handle_tiny_data_attribute (tree *, tree, tree, int, bool *);\n static void h8300_print_operand_address (FILE *, machine_mode, rtx);\n static void h8300_print_operand (FILE *, rtx, int);\n static bool h8300_print_operand_punct_valid_p (unsigned char code);\n-#ifndef OBJECT_FORMAT_ELF\n-static void h8300_asm_named_section (const char *, unsigned int, tree);\n-#endif\n static int h8300_register_move_cost (machine_mode, reg_class_t, reg_class_t);\n static int h8300_and_costs (rtx);\n static int h8300_shift_costs (rtx);\n@@ -323,14 +320,6 @@ h8300_option_override (void)\n   static const char *const h8_pop_ops[2]  = { \"pop\"  , \"pop.l\"  };\n   static const char *const h8_mov_ops[2]  = { \"mov.w\", \"mov.l\"  };\n \n-#ifndef OBJECT_FORMAT_ELF\n-  if (TARGET_H8300SX)\n-    {\n-      error (\"%<-msx%> is not supported in coff\");\n-      target_flags |= MASK_H8300S;\n-    }\n-#endif\n-\n   if (TARGET_H8300)\n     {\n       cpu_type = (int) CPU_H8300;\n@@ -5457,16 +5446,6 @@ h8300_reorg (void)\n     shorten_branches (get_insns ());\n }\n \n-#ifndef OBJECT_FORMAT_ELF\n-static void\n-h8300_asm_named_section (const char *name, unsigned int flags ATTRIBUTE_UNUSED,\n-\t\t\t tree decl)\n-{\n-  /* ??? Perhaps we should be using default_coff_asm_named_section.  */\n-  fprintf (asm_out_file, \"\\t.section %s\\n\", name);\n-}\n-#endif /* ! OBJECT_FORMAT_ELF */\n-\n /* Nonzero if X is a constant address suitable as an 8-bit absolute,\n    which is a special case of the 'R' operand.  */\n "}]}