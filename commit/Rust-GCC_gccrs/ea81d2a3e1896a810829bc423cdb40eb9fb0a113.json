{"sha": "ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWE4MWQyYTNlMTg5NmE4MTA4MjliYzQyM2NkYjQwZWI5ZmIwYTExMw==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-11-12T18:18:30Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-11-12T18:18:30Z"}, "message": "re PR libffi/11147 (fficonfig.h is abi-specific)\n\n2003-11-12  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* configure.in, include/Makefile.am: PR libgcj/11147, install\n\tthe ffitarget.h header file in a gcc versioned and target\n\tdependent place.\n\t* configure: Regenerated.\n\t* Makefile.in, include/Makefile.in: Likewise.\n\t* testsuite/Makefile.in: Likewise.\n\nFrom-SVN: r73504", "tree": {"sha": "90cac5078948cc14791492f6d3c325dab0a9b523", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90cac5078948cc14791492f6d3c325dab0a9b523"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/comments", "author": null, "committer": null, "parents": [{"sha": "b1a19c7ceab2890e5f54896ed643c0ff86f74d2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1a19c7ceab2890e5f54896ed643c0ff86f74d2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1a19c7ceab2890e5f54896ed643c0ff86f74d2f"}], "stats": {"total": 266, "additions": 178, "deletions": 88}, "files": [{"sha": "593dc4c119e032fd2c41641b4a920d4a506d9466", "filename": "libffi/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -1,3 +1,12 @@\n+2003-11-12  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* configure.in, include/Makefile.am: PR libgcj/11147, install\n+\tthe ffitarget.h header file in a gcc versioned and target\n+\tdependent place.\n+\t* configure: Regenerated.\n+\t* Makefile.in, include/Makefile.in: Likewise.\n+\t* testsuite/Makefile.in: Likewise.\n+\n 2003-11-09  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* testsuite/libffi.call/closure_fn0.c: Print result and check"}, {"sha": "d0f3ff840d5e1736a119a22dcc760d438ac6cd12", "filename": "libffi/Makefile.in", "status": "modified", "additions": 73, "deletions": 71, "changes": 144, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.in?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -85,7 +85,9 @@ STRIP = @STRIP@\n TARGET = @TARGET@\n TARGETDIR = @TARGETDIR@\n VERSION = @VERSION@\n+gcc_version = @gcc_version@\n libffi_basedir = @libffi_basedir@\n+tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n \n@@ -240,116 +242,116 @@ LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n libffi_convenience_la_LDFLAGS = \n libffi_convenience_la_LIBADD = \n-@X86_64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@X86_64_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@X86_64_TRUE@src/java_raw_api.lo src/x86/ffi64.lo src/x86/unix64.lo \\\n-@X86_64_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n-@SH_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@SH_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n-@SH_TRUE@src/sh/ffi.lo\n-@POWERPC_AIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@POWERPC_AIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@POWERPC_AIX_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/aix.lo src/powerpc/aix_closure.lo\n-@ALPHA_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@ALPHA_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@ALPHA_TRUE@src/java_raw_api.lo src/alpha/ffi.lo src/alpha/osf.lo\n-@IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n @POWERPC_DARWIN_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_DARWIN_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_DARWIN_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n-@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n-@X86_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n-@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n @S390_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n+@IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n+@MIPS_IRIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_IRIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_IRIX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n+@MIPS_IRIX_TRUE@src/mips/n32.lo\n+@ALPHA_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@ALPHA_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@ALPHA_TRUE@src/java_raw_api.lo src/alpha/ffi.lo src/alpha/osf.lo\n+@POWERPC_AIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@POWERPC_AIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@POWERPC_AIX_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/aix.lo src/powerpc/aix_closure.lo\n+@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n @SH64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n+@X86_64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@X86_64_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@X86_64_TRUE@src/java_raw_api.lo src/x86/ffi64.lo src/x86/unix64.lo \\\n+@X86_64_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n+@ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n @SPARC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @SPARC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @SPARC_TRUE@src/java_raw_api.lo src/sparc/ffi.lo src/sparc/v8.lo \\\n @SPARC_TRUE@src/sparc/v9.lo\n+@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n @POWERPC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_TRUE@src/java_raw_api.lo src/powerpc/ffi.lo \\\n @POWERPC_TRUE@src/powerpc/sysv.lo src/powerpc/ppc_closure.lo \\\n @POWERPC_TRUE@src/powerpc/linux64.lo src/powerpc/linux64_closure.lo\n-@ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n-@MIPS_IRIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_IRIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_IRIX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n-@MIPS_IRIX_TRUE@src/mips/n32.lo\n-@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n-libffi_la_LIBADD = \n-@X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_64_TRUE@src/x86/ffi64.lo src/x86/unix64.lo src/x86/ffi.lo \\\n-@X86_64_TRUE@src/x86/sysv.lo\n-@SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n+@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n+@SH_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@SH_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n @SH_TRUE@src/sh/ffi.lo\n-@POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n-@ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n-@IA64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n+@X86_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n+libffi_la_LIBADD = \n @POWERPC_DARWIN_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @POWERPC_DARWIN_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n-@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n-@X86_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@X86_TRUE@src/raw_api.lo src/java_raw_api.lo src/x86/ffi.lo \\\n-@X86_TRUE@src/x86/sysv.lo\n-@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n @S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n+@IA64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n+@MIPS_IRIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_IRIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_IRIX_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n+@ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n+@POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n+@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n @SH64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n+@X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_64_TRUE@src/x86/ffi64.lo src/x86/unix64.lo src/x86/ffi.lo \\\n+@X86_64_TRUE@src/x86/sysv.lo\n+@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n+@ARM_TRUE@src/arm/ffi.lo\n @SPARC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SPARC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SPARC_TRUE@src/sparc/ffi.lo src/sparc/v8.lo src/sparc/v9.lo\n+@M68K_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n @POWERPC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @POWERPC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @POWERPC_TRUE@src/powerpc/ffi.lo src/powerpc/sysv.lo \\\n @POWERPC_TRUE@src/powerpc/ppc_closure.lo src/powerpc/linux64.lo \\\n @POWERPC_TRUE@src/powerpc/linux64_closure.lo\n-@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n-@ARM_TRUE@src/arm/ffi.lo\n-@MIPS_IRIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_IRIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_IRIX_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n-@M68K_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n+@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n+@SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n+@SH_TRUE@src/sh/ffi.lo\n+@X86_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@X86_TRUE@src/raw_api.lo src/java_raw_api.lo src/x86/ffi.lo \\\n+@X86_TRUE@src/x86/sysv.lo\n CFLAGS = @CFLAGS@\n COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)"}, {"sha": "8a9ec774a2f0f2273e3281f529b596e480f0a9ac", "filename": "libffi/configure", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -3584,6 +3584,15 @@ esac\n \n \n \n+#Figure out where generated headers like ffitarget.h get installed.\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^\\\"]*\\)\\\".*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+tool_include_dir='$(libdir)/gcc/$(target_alias)/'${gcc_version}/include\n+\n+\n+\n+\n if test \"${multilib}\" = \"yes\"; then\n   multilib_arg=\"--enable-multilib\"\n else\n@@ -3802,6 +3811,8 @@ s%@TARGET@%$TARGET%g\n s%@TARGETDIR@%$TARGETDIR%g\n s%@toolexecdir@%$toolexecdir%g\n s%@toolexeclibdir@%$toolexeclibdir%g\n+s%@tool_include_dir@%$tool_include_dir%g\n+s%@gcc_version@%$gcc_version%g\n \n CEOF\n EOF\n@@ -4090,3 +4101,4 @@ chmod +x $CONFIG_STATUS\n rm -fr confdefs* $ac_clean_files\n test \"$no_create\" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1\n \n+"}, {"sha": "e11f42ead391b624519fdb1739c5fcc6c9cabfa9", "filename": "libffi/configure.in", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure.in?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -231,6 +231,17 @@ esac\n AC_SUBST(toolexecdir)\n AC_SUBST(toolexeclibdir)\n \n+#Figure out where generated headers like ffitarget.h get installed.\n+changequote(,)dnl\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^\\\"]*\\)\\\".*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+tool_include_dir='$(libdir)/gcc/$(target_alias)/'${gcc_version}/include\n+changequote([,])dnl\n+AC_SUBST(tool_include_dir)\n+AC_SUBST(gcc_version)\n+\n+\n if test \"${multilib}\" = \"yes\"; then\n   multilib_arg=\"--enable-multilib\"\n else"}, {"sha": "048824d39387a58daa229a1bead045c74c177863", "filename": "libffi/include/Makefile.am", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Finclude%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Finclude%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Finclude%2FMakefile.am?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -7,4 +7,7 @@ EXTRA_DIST=ffi.h.in ffi_common.h\n \n hackdir=$(includedir)\n \n-hack_DATA=ffitarget.h ffi.h\n+hack_DATA= ffi.h\n+\n+toollibffidir = @tool_include_dir@/libffi\n+toollibffi_HEADERS = ffitarget.h"}, {"sha": "b562bba8bc6cd1cacf7c7da91675872ba225c765", "filename": "libffi/include/Makefile.in", "status": "modified", "additions": 67, "deletions": 16, "changes": 83, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Finclude%2FMakefile.in?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -86,7 +86,9 @@ STRIP = @STRIP@\n TARGET = @TARGET@\n TARGETDIR = @TARGETDIR@\n VERSION = @VERSION@\n+gcc_version = @gcc_version@\n libffi_basedir = @libffi_basedir@\n+tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n \n@@ -97,12 +99,17 @@ EXTRA_DIST = ffi.h.in ffi_common.h\n \n hackdir = $(includedir)\n \n-hack_DATA = ffitarget.h ffi.h\n+hack_DATA = ffi.h\n+\n+toollibffidir = @tool_include_dir@/libffi\n+toollibffi_HEADERS = ffitarget.h\n mkinstalldirs = $(SHELL) $(top_srcdir)/${libffi_basedir}../mkinstalldirs\n CONFIG_HEADER = ../fficonfig.h\n CONFIG_CLEAN_FILES =  ffi.h\n DATA =  $(hack_DATA)\n \n+HEADERS =  $(toollibffi_HEADERS)\n+\n DIST_COMMON =  Makefile.am Makefile.in ffi.h.in\n \n \n@@ -140,9 +147,50 @@ uninstall-hackDATA:\n \tlist='$(hack_DATA)'; for p in $$list; do \\\n \t  rm -f $(DESTDIR)$(hackdir)/$$p; \\\n \tdone\n+\n+install-toollibffiHEADERS: $(toollibffi_HEADERS)\n+\t@$(NORMAL_INSTALL)\n+\t$(mkinstalldirs) $(DESTDIR)$(toollibffidir)\n+\t@list='$(toollibffi_HEADERS)'; for p in $$list; do \\\n+\t  if test -f \"$$p\"; then d= ; else d=\"$(srcdir)/\"; fi; \\\n+\t  echo \" $(INSTALL_DATA) $$d$$p $(DESTDIR)$(toollibffidir)/$$p\"; \\\n+\t  $(INSTALL_DATA) $$d$$p $(DESTDIR)$(toollibffidir)/$$p; \\\n+\tdone\n+\n+uninstall-toollibffiHEADERS:\n+\t@$(NORMAL_UNINSTALL)\n+\tlist='$(toollibffi_HEADERS)'; for p in $$list; do \\\n+\t  rm -f $(DESTDIR)$(toollibffidir)/$$p; \\\n+\tdone\n+\n tags: TAGS\n-TAGS:\n \n+ID: $(HEADERS) $(SOURCES) $(LISP)\n+\tlist='$(SOURCES) $(HEADERS)'; \\\n+\tunique=`for i in $$list; do echo $$i; done | \\\n+\t  awk '    { files[$$0] = 1; } \\\n+\t       END { for (i in files) print i; }'`; \\\n+\there=`pwd` && cd $(srcdir) \\\n+\t  && mkid -f$$here/ID $$unique $(LISP)\n+\n+TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) $(LISP)\n+\ttags=; \\\n+\there=`pwd`; \\\n+\tlist='$(SOURCES) $(HEADERS)'; \\\n+\tunique=`for i in $$list; do echo $$i; done | \\\n+\t  awk '    { files[$$0] = 1; } \\\n+\t       END { for (i in files) print i; }'`; \\\n+\ttest -z \"$(ETAGS_ARGS)$$unique$(LISP)$$tags\" \\\n+\t  || (cd $(srcdir) && etags $(ETAGS_ARGS) $$tags  $$unique $(LISP) -o $$here/TAGS)\n+\n+mostlyclean-tags:\n+\n+clean-tags:\n+\n+distclean-tags:\n+\t-rm -f TAGS ID\n+\n+maintainer-clean-tags:\n \n distdir = $(top_builddir)/$(PACKAGE)-$(VERSION)/$(subdir)\n \n@@ -175,20 +223,20 @@ installcheck: installcheck-am\n install-exec-am:\n install-exec: install-exec-am\n \n-install-data-am: install-hackDATA\n+install-data-am: install-hackDATA install-toollibffiHEADERS\n install-data: install-data-am\n \n install-am: all-am\n \t@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am\n install: install-am\n-uninstall-am: uninstall-hackDATA\n+uninstall-am: uninstall-hackDATA uninstall-toollibffiHEADERS\n uninstall: uninstall-am\n-all-am: Makefile $(DATA)\n+all-am: Makefile $(DATA) $(HEADERS)\n all-redirect: all-am\n install-strip:\n \t$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install\n installdirs:\n-\t$(mkinstalldirs)  $(DESTDIR)$(hackdir)\n+\t$(mkinstalldirs)  $(DESTDIR)$(hackdir) $(DESTDIR)$(toollibffidir)\n \n \n mostlyclean-generic:\n@@ -201,31 +249,34 @@ distclean-generic:\n \t-test -z \"$(DISTCLEANFILES)\" || rm -f $(DISTCLEANFILES)\n \n maintainer-clean-generic:\n-mostlyclean-am:  mostlyclean-generic\n+mostlyclean-am:  mostlyclean-tags mostlyclean-generic\n \n mostlyclean: mostlyclean-am\n \n-clean-am:  clean-generic mostlyclean-am\n+clean-am:  clean-tags clean-generic mostlyclean-am\n \n clean: clean-am\n \n-distclean-am:  distclean-generic clean-am\n+distclean-am:  distclean-tags distclean-generic clean-am\n \t-rm -f libtool\n \n distclean: distclean-am\n \n-maintainer-clean-am:  maintainer-clean-generic distclean-am\n+maintainer-clean-am:  maintainer-clean-tags maintainer-clean-generic \\\n+\t\tdistclean-am\n \t@echo \"This command is intended for maintainers to use;\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n \n maintainer-clean: maintainer-clean-am\n \n-.PHONY: uninstall-hackDATA install-hackDATA tags distdir info-am info \\\n-dvi-am dvi check check-am installcheck-am installcheck install-exec-am \\\n-install-exec install-data-am install-data install-am install \\\n-uninstall-am uninstall all-redirect all-am all installdirs \\\n-mostlyclean-generic distclean-generic clean-generic \\\n-maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n+.PHONY: uninstall-hackDATA install-hackDATA uninstall-toollibffiHEADERS \\\n+install-toollibffiHEADERS tags mostlyclean-tags distclean-tags \\\n+clean-tags maintainer-clean-tags distdir info-am info dvi-am dvi check \\\n+check-am installcheck-am installcheck install-exec-am install-exec \\\n+install-data-am install-data install-am install uninstall-am uninstall \\\n+all-redirect all-am all installdirs mostlyclean-generic \\\n+distclean-generic clean-generic maintainer-clean-generic clean \\\n+mostlyclean distclean maintainer-clean\n \n \n # Tell versions [3.59,3.63) of GNU make to not export all variables."}, {"sha": "e30426cebcf72c2e44b83b812ef8ab8aec68b1ea", "filename": "libffi/testsuite/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea81d2a3e1896a810829bc423cdb40eb9fb0a113/libffi%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2FMakefile.in?ref=ea81d2a3e1896a810829bc423cdb40eb9fb0a113", "patch": "@@ -85,7 +85,9 @@ STRIP = @STRIP@\n TARGET = @TARGET@\n TARGETDIR = @TARGETDIR@\n VERSION = @VERSION@\n+gcc_version = @gcc_version@\n libffi_basedir = @libffi_basedir@\n+tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n "}]}