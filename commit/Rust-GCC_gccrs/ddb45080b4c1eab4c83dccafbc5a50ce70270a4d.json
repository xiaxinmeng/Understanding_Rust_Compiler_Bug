{"sha": "ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGRiNDUwODBiNGMxZWFiNGM4M2RjY2FmYmM1YTUwY2U3MDI3MGE0ZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-07-02T04:11:30Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-07-02T04:11:30Z"}, "message": "re PR c++/6949 (ICE in tsubst_decl, at cp/pt.c:5733)\n\n\tPR c++/6949\n\t* decl2.c (grokfield): Create TEMPLATE_DECLs for methods in local\n\tclasses.\n\n\tPR c++/6949\n\t* g++.dg/template/local3.C: New test.\n\nFrom-SVN: r68818", "tree": {"sha": "6b8aac90ee843d059112574c08ea9bc44f3a08ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b8aac90ee843d059112574c08ea9bc44f3a08ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/comments", "author": null, "committer": null, "parents": [{"sha": "f9f4d1e10a89929da39e0e860e783f2c0f4910ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9f4d1e10a89929da39e0e860e783f2c0f4910ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9f4d1e10a89929da39e0e860e783f2c0f4910ca"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "c0480b97c5660d3c0298e9688445b33d8e8928ef", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "patch": "@@ -1,3 +1,9 @@\n+2003-07-01  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/6949\n+\t* decl2.c (grokfield): Create TEMPLATE_DECLs for methods in local\n+\tclasses.\n+\n 2003-07-01  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* error.c (locate_error): %P takes an `int', not a `tree'."}, {"sha": "c6217936918c2b8b1a53d5dcc7601a591e46432a", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "patch": "@@ -970,7 +970,7 @@ grokfield (tree declarator, tree declspecs, tree init, tree asmspec_tree,\n \t}\n     }\n \n-  if (processing_template_decl && ! current_function_decl\n+  if (processing_template_decl\n       && (TREE_CODE (value) == VAR_DECL || TREE_CODE (value) == FUNCTION_DECL))\n     value = push_template_decl (value);\n "}, {"sha": "3d9914d8dfb375234525284548ed709b6a0d280e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "patch": "@@ -1,5 +1,8 @@\n 2003-07-01  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/6949\n+\t* g++.dg/template/local3.C: New test.\n+\n \tPR c++/11149\n \t* g++.dg/lookup/scoped6.C: New test.\n "}, {"sha": "4d6a5763b48d4169cb59f807e1ad8d0544fc8c4b", "filename": "gcc/testsuite/g++.dg/template/local3.C", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Flocal3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddb45080b4c1eab4c83dccafbc5a50ce70270a4d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Flocal3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Flocal3.C?ref=ddb45080b4c1eab4c83dccafbc5a50ce70270a4d", "patch": "@@ -0,0 +1,14 @@\n+ template<class T>\n+ void f(const T&)\n+ {\n+         struct B {\n+\t   \n+                 void g (T);\n+         };\n+         B b;\n+ };\n+ void g()\n+ {\n+         f(42);\n+ }\n+ "}]}