{"sha": "b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ5Y2ViNDUwZmY3YjkxZDgxYzU0NzQxZjBmYzllNDllYTZmNWYwZQ==", "commit": {"author": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-07-22T03:48:00Z"}, "committer": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-07-22T03:48:00Z"}, "message": "fold-const.c (fold_unary): Don't strip signed nops from ABS_EXPRs.\n\n2005-07-21  James A. Morrison  <phython@gcc.gnu.org>\n\n        * fold-const.c (fold_unary): Don't strip signed nops from ABS_EXPRs.\n        (tree_expr_nonnegative_p): Return try for TYPE_UNSIGNED.\n\nFrom-SVN: r102269", "tree": {"sha": "3b38a25b4343c6d118a0f6eb45423b321ee9a217", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b38a25b4343c6d118a0f6eb45423b321ee9a217"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e/comments", "author": null, "committer": null, "parents": [{"sha": "b4db223f6e04a59bab5f87e23c812b3952024c64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4db223f6e04a59bab5f87e23c812b3952024c64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4db223f6e04a59bab5f87e23c812b3952024c64"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "178432c25e7898d894dfe44bb7cbfa32db5fd019", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e", "patch": "@@ -1,3 +1,8 @@\n+2005-07-21  James A. Morrison  <phython@gcc.gnu.org>\n+\n+\t* fold-const.c (fold_unary): Don't strip signed nops from ABS_EXPRs.\n+\t(tree_expr_nonnegative_p): Return try for TYPE_UNSIGNED.\n+\n 2005-07-21  DJ Delorie  <dj@redhat.com>\n \n \t* toplev.c (warn_deprecated_use): Add warning control to warning"}, {"sha": "9a9ea2246c0f5dd511090ed94e80cea958b5fe0e", "filename": "gcc/fold-const.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=b49ceb450ff7b91d81c54741f0fc9e49ea6f5f0e", "patch": "@@ -6524,9 +6524,11 @@ fold_unary (enum tree_code code, tree type, tree op0)\n   arg0 = op0;\n   if (arg0)\n     {\n-      if (code == NOP_EXPR || code == FLOAT_EXPR || code == CONVERT_EXPR)\n+      if (code == NOP_EXPR || code == CONVERT_EXPR\n+\t  || code == FLOAT_EXPR || code == ABS_EXPR)\n \t{\n-\t  /* Don't use STRIP_NOPS, because signedness of argument type matters.  */\n+\t  /* Don't use STRIP_NOPS, because signedness of argument type\n+\t     matters.  */\n \t  STRIP_SIGN_NOPS (arg0);\n \t}\n       else\n@@ -10686,6 +10688,9 @@ multiple_of_p (tree type, tree top, tree bottom)\n int\n tree_expr_nonnegative_p (tree t)\n {\n+  if (TYPE_UNSIGNED (TREE_TYPE (t)))\n+    return 1;\n+\n   switch (TREE_CODE (t))\n     {\n     case ABS_EXPR:"}]}