{"sha": "920a8260a475c90750d1cd3da8024c8d8c870ca3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTIwYTgyNjBhNDc1YzkwNzUwZDFjZDNkYTgwMjRjOGQ4Yzg3MGNhMw==", "commit": {"author": {"name": "Jack Howarth", "email": "howarth@bromo.med.uc.edu", "date": "2010-04-26T20:33:49Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2010-04-26T20:33:49Z"}, "message": "re PR target/43715 (configure option --enable-plugin fails on darwin)\n\n2010-04-21  Jack Howarth <howarth@bromo.med.uc.edu>\n\n        PR 43715\n\t* testsuite/lib/plugin-support.exp: Use \"-undefined\n\tdynamic_lookup\" on darwin.\n\nFrom-SVN: r158747", "tree": {"sha": "f28500cfb03ff33121b5887fa885436f1072c039", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f28500cfb03ff33121b5887fa885436f1072c039"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/920a8260a475c90750d1cd3da8024c8d8c870ca3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/920a8260a475c90750d1cd3da8024c8d8c870ca3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/920a8260a475c90750d1cd3da8024c8d8c870ca3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/920a8260a475c90750d1cd3da8024c8d8c870ca3/comments", "author": null, "committer": null, "parents": [{"sha": "b83a701b0f79c99a487202016d158c40eb0c4629", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b83a701b0f79c99a487202016d158c40eb0c4629", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b83a701b0f79c99a487202016d158c40eb0c4629"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "80bfee2482f697413438c1b92601d7ef6f44ada4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/920a8260a475c90750d1cd3da8024c8d8c870ca3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/920a8260a475c90750d1cd3da8024c8d8c870ca3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=920a8260a475c90750d1cd3da8024c8d8c870ca3", "patch": "@@ -1,3 +1,9 @@\n+2010-04-21  Jack Howarth <howarth@bromo.med.uc.edu>\n+\n+\tPR 43715\n+\t* testsuite/lib/plugin-support.exp: Use \"-undefined\n+\tdynamic_lookup\" on darwin.\n+\n 2010-04-26  Richard Guenther  <rguenther@suse.de>\n \n \t* gcc.dg/lto/20100426_0.c: New testcase."}, {"sha": "fe4526549b3acd937f1a94d219e7d57c31c6649c", "filename": "gcc/testsuite/lib/plugin-support.exp", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/920a8260a475c90750d1cd3da8024c8d8c870ca3/gcc%2Ftestsuite%2Flib%2Fplugin-support.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/920a8260a475c90750d1cd3da8024c8d8c870ca3/gcc%2Ftestsuite%2Flib%2Fplugin-support.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fplugin-support.exp?ref=920a8260a475c90750d1cd3da8024c8d8c870ca3", "patch": "@@ -88,6 +88,10 @@ proc plugin-test-execute { plugin_src plugin_tests } {\n \n     set optstr \"$includes $extra_flags -DIN_GCC -fPIC -shared\"\n \n+    if { [ ishost *-*-darwin* ] } {\n+        set optstr [concat $optstr \"-undefined dynamic_lookup\"]\n+    }\n+\n     # Temporarily switch to the environment for the plugin compiler.\n     restore_ld_library_path_env_vars\n     set status [remote_exec build \"$PLUGINCC $PLUGINCFLAGS $plugin_src $optstr -o $plugin_lib\"]"}]}