{"sha": "92d966284c9a0eb34f54568e223b40a3c335922c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTJkOTY2Mjg0YzlhMGViMzRmNTQ1NjhlMjIzYjQwYTNjMzM1OTIyYw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2007-01-20T00:33:00Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2007-01-20T00:33:00Z"}, "message": "re PR middle-end/29335 (transcendental functions with constant arguments should be resolved at compile-time)\n\n\tPR middle-end/29335\n\t* builtins.c (fold_builtin_1): Handle builtin fdim.\n\ntestsuite:\n\t* gcc.dg/torture/builtin-math-3.c: Test fdim.\n\nFrom-SVN: r120993", "tree": {"sha": "e249678ebbc25e4a25e5298a7a8f98047b509888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e249678ebbc25e4a25e5298a7a8f98047b509888"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92d966284c9a0eb34f54568e223b40a3c335922c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92d966284c9a0eb34f54568e223b40a3c335922c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92d966284c9a0eb34f54568e223b40a3c335922c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92d966284c9a0eb34f54568e223b40a3c335922c/comments", "author": null, "committer": null, "parents": [{"sha": "77dbd49bdca1963e363a97c5020e667bbf005daa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77dbd49bdca1963e363a97c5020e667bbf005daa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77dbd49bdca1963e363a97c5020e667bbf005daa"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "5a9e553c6c575ebdd9c10076258a43e3f8ecf823", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=92d966284c9a0eb34f54568e223b40a3c335922c", "patch": "@@ -1,3 +1,8 @@\n+2007-01-19  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\tPR middle-end/29335\n+\t* builtins.c (fold_builtin_1): Handle builtin fdim.\n+\n 2007-01-20  Jan Hubicka  <jh@suse.cz>\n \n         * tree-ssa.c (init_tree_ssa): Do not call init_alias_heapvars."}, {"sha": "bf57c7bf55e0e96e523cb897d2e3fdafccb82c5d", "filename": "gcc/builtins.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=92d966284c9a0eb34f54568e223b40a3c335922c", "patch": "@@ -9469,6 +9469,13 @@ fold_builtin_1 (tree fndecl, tree arglist, bool ignore)\n \t\t\t     type, mpfr_atan2);\n     break;\n \n+    CASE_FLT_FN (BUILT_IN_FDIM):\n+      if (validate_arglist (arglist, REAL_TYPE, REAL_TYPE, VOID_TYPE))\n+\treturn do_mpfr_arg2 (TREE_VALUE (arglist),\n+\t\t\t     TREE_VALUE (TREE_CHAIN (arglist)),\n+\t\t\t     type, mpfr_dim);\n+    break;\n+\n     CASE_FLT_FN (BUILT_IN_FMA):\n       if (validate_arglist (arglist, REAL_TYPE, REAL_TYPE, REAL_TYPE, VOID_TYPE))\n \treturn do_mpfr_arg3 (TREE_VALUE (arglist),"}, {"sha": "e9f9c9f125aaef585f5019b40d57fc969097c867", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=92d966284c9a0eb34f54568e223b40a3c335922c", "patch": "@@ -1,3 +1,7 @@\n+2007-01-19  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gcc.dg/torture/builtin-math-3.c: Test fdim.\n+\n 2007-01-19  Mike Stump  <mrs@apple.com>\n \n \t* gcc.dg/darwin-ld-6.c: Remove, tests a linker flag that is going"}, {"sha": "b347dccbecc35ad022d16cbfc6ba1546c03cd009", "filename": "gcc/testsuite/gcc.dg/torture/builtin-math-3.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fbuiltin-math-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92d966284c9a0eb34f54568e223b40a3c335922c/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fbuiltin-math-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fbuiltin-math-3.c?ref=92d966284c9a0eb34f54568e223b40a3c335922c", "patch": "@@ -294,6 +294,16 @@ int main (void)\n   TESTIT2_R (atan2, -1.0, 0.0, -1.58, -1.57); /* atan2(-1,0) == -pi/2 */\n   TESTIT2_R (atan2, 1.0, 0.0, 1.57, 1.58); /* atan2(1,0) == pi/2 */\n \n+  TESTIT2 (fdim, 0.0, 0.0, 0.0); /* fdim(0,0) == 0 */\n+  TESTIT2 (fdim, -0.0, 0.0, 0.0); /* fdim(-0,0) == 0 */\n+  TESTIT2 (fdim, 0.0, -0.0, 0.0); /* fdim(0,-0) == 0 */\n+  TESTIT2 (fdim, -0.0, -0.0, 0.0); /* fdim(-0,-0) == 0 */\n+  TESTIT2 (fdim, 5.0, 5.0, 0.0); /* fdim(5,5) == 0 */\n+  TESTIT2 (fdim, 5.0, 6.0, 0.0); /* fdim(5,6) == 0 */\n+  TESTIT2 (fdim, 6.0, 5.0, 1.0); /* fdim(6,5) == 1 */\n+  TESTIT2 (fdim, -5.0, -6.0, 1.0); /* fdim(-5,-6) == 1 */\n+  TESTIT2 (fdim, -6.0, -5.0, 0.0); /* fdim(-6,-5) == 0 */\n+\n   TESTIT2 (fmin, 5.0, 6.0, 5.0); /* fmin(5,6) == 5 */\n   TESTIT2 (fmin, 6.0, 5.0, 5.0); /* fmin(6,5) == 5 */\n   TESTIT2 (fmin, -5.0, -6.0, -6.0); /* fmin(-5,-6) == -6 */"}]}