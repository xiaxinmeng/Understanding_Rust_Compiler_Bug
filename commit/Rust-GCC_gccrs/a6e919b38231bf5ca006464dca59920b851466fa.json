{"sha": "a6e919b38231bf5ca006464dca59920b851466fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTZlOTE5YjM4MjMxYmY1Y2EwMDY0NjRkY2E1OTkyMGI4NTE0NjZmYQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-08-04T17:02:51Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-08-04T17:02:51Z"}, "message": "* prefix.c (translate_name): Don't strip trailing DIR_SEPARATOR.\n\nFrom-SVN: r35485", "tree": {"sha": "617c48f602124e1a40772e9b4093518127470787", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/617c48f602124e1a40772e9b4093518127470787"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6e919b38231bf5ca006464dca59920b851466fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6e919b38231bf5ca006464dca59920b851466fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6e919b38231bf5ca006464dca59920b851466fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6e919b38231bf5ca006464dca59920b851466fa/comments", "author": null, "committer": null, "parents": [{"sha": "93284395b02210f59118783ba162e4544061751c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93284395b02210f59118783ba162e4544061751c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93284395b02210f59118783ba162e4544061751c"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "2e701efdd804f276724108f04e1eb2f6041bd0e9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6e919b38231bf5ca006464dca59920b851466fa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6e919b38231bf5ca006464dca59920b851466fa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a6e919b38231bf5ca006464dca59920b851466fa", "patch": "@@ -1,4 +1,8 @@\n-2000-07-17  Mark Elbrecht  <snowball3@bigfoot.com>\n+2000-08-04  Donn Terry (donnte@microsoft.com)\n+\n+\t* prefix.c (translate_name): Don't strip trailing DIR_SEPARATOR.\n+\n+2000-08-04  Mark Elbrecht  <snowball3@bigfoot.com>\n \n \t* i386/x-djgpp: Delete code that conditionally modifies target_alias.\n \tDelete code that conditionally modifies 'version'."}, {"sha": "4789ed82b97c8c56dc6351ed4658bca9db0de2ae", "filename": "gcc/prefix.c", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6e919b38231bf5ca006464dca59920b851466fa/gcc%2Fprefix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6e919b38231bf5ca006464dca59920b851466fa/gcc%2Fprefix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprefix.c?ref=a6e919b38231bf5ca006464dca59920b851466fa", "patch": "@@ -268,14 +268,10 @@ translate_name (name)\n   if (prefix == 0)\n     prefix = PREFIX;\n \n-  /* Remove any trailing directory separator from what we got. First check\n-     for an empty prefix.  */\n-  if (prefix[0] && IS_DIR_SEPARATOR (prefix[strlen (prefix) - 1]))\n-    {\n-      char * temp = xstrdup (prefix);\n-      temp[strlen (temp) - 1] = 0;\n-      prefix = temp;\n-    }\n+  /* We used to strip trailing DIR_SEPARATORs here, but that can\n+     sometimes yield a result with no separator when one was coded\n+     and intended by the user, causing two path components to run\n+     together.  */\n \n   return concat (prefix, name, NULL_PTR);\n }"}]}