{"sha": "a93fa71e59b4ae310d9953c1f6c87870383339f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTkzZmE3MWU1OWI0YWUzMTBkOTk1M2MxZjZjODc4NzAzODMzMzlmNg==", "commit": {"author": {"name": "Mike Stump", "email": "mikestump@comcast.net", "date": "2011-02-13T12:33:42Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2011-02-13T12:33:42Z"}, "message": "t-darwin (build/slashify1): Harden against rebuilds.\n\n\t* config/t-darwin (build/slashify1): Harden against rebuilds.\n\t* config/slashify.c: Nix parms to quite the build.\n\ncp:\n\t(build/slashify): Harden against rebuilds.\n\nFrom-SVN: r170107", "tree": {"sha": "b940f755110b56881ac803df479ecd25f15f0bdd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b940f755110b56881ac803df479ecd25f15f0bdd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a93fa71e59b4ae310d9953c1f6c87870383339f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a93fa71e59b4ae310d9953c1f6c87870383339f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a93fa71e59b4ae310d9953c1f6c87870383339f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a93fa71e59b4ae310d9953c1f6c87870383339f6/comments", "author": null, "committer": null, "parents": [{"sha": "029c8f3e77d76d09d84a9bfaf2fec6eed60120eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/029c8f3e77d76d09d84a9bfaf2fec6eed60120eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/029c8f3e77d76d09d84a9bfaf2fec6eed60120eb"}], "stats": {"total": 29, "additions": 19, "deletions": 10}, "files": [{"sha": "df33d96a5f4be1f46128d748bcb4e0ad83b414df", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a93fa71e59b4ae310d9953c1f6c87870383339f6", "patch": "@@ -1,3 +1,8 @@\n+2011-02-13  Mike Stump  <mikestump@comcast.net>\n+\n+\t* config/t-darwin (build/slashify1): Harden against rebuilds.\n+\t* config/slashify.c: Nix parms to quite the build.\n+\n 2011-02-13  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* configure: Regenerate."}, {"sha": "555bf8831c3e74c7dc45a7a381f70c3db0dfbd0b", "filename": "gcc/config/slashify.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fconfig%2Fslashify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fconfig%2Fslashify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fslashify.c?ref=a93fa71e59b4ae310d9953c1f6c87870383339f6", "patch": "@@ -25,9 +25,9 @@ along with GCC; see the file COPYING3.  If not see\n \n #include <stdio.h>\n \n-extern int main (int, char **);\n+extern int main (void);\n \n-int main (int argc, char **argv) {\n+int main (void) {\n   int c,c1;\n   int saw_start = 0;\n   while ((c=getchar ()) != EOF) {"}, {"sha": "1caee4bed185d37da0de74f2e08b0902baaf33c1", "filename": "gcc/config/t-darwin", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fconfig%2Ft-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fconfig%2Ft-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-darwin?ref=a93fa71e59b4ae310d9953c1f6c87870383339f6", "patch": "@@ -17,18 +17,18 @@\n # along with GCC; see the file COPYING3.  If not see\n # <http://www.gnu.org/licenses/>.\n \n-build/slashify:: $(srcdir)/config/slashify.c\n-\t$(COMPILER_FOR_BUILD) $(srcdir)/config/slashify.c -o $@\n+build/slashify1: $(srcdir)/config/slashify.c\n+\t$(COMPILER_FOR_BUILD) $(BUILD_COMPILERFLAGS) $(BUILD_CPPFLAGS) $(srcdir)/config/slashify.c -o $@\n \n $(srcdir)/config/darwin.h: config/darwin.h.rebuild\n \n-config/darwin.h.rebuild: build/slashify\n+config/darwin.h.rebuild: build/slashify1\n \t@if [ ! -e $(srcdir)/config/darwin.h\t\t\t\t\t\\\n \t      -o $(srcdir)/config/darwin.h -nt config/darwin.h ]; then\t\t\\\n \t\t{ test -d config || mkdir config; } &&\t\t\t\t\\\n \t\tcp -p $(srcdir)/config/darwin-sections.def\t\t\t\\\n \t\t      config/darwin-sections.def &&\t\t\t\t\\\n-\t\tbuild/slashify < $(srcdir)/config/darwin.h  >config/darwin.h;\t\\\n+\t\tbuild/slashify1 < $(srcdir)/config/darwin.h  >config/darwin.h;\t\\\n \tfi\n \n darwin.o: $(srcdir)/config/darwin.c $(CONFIG_H) $(SYSTEM_H) coretypes.h     \\"}, {"sha": "9ed9a6fb360dc72f5c44d52813b45468e42f9258", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a93fa71e59b4ae310d9953c1f6c87870383339f6", "patch": "@@ -3,6 +3,8 @@\n \t* parser.c (cp_parser_primary_expression): Add arguments to all the plugins.\n \t* lex.c: Plugify.\n \t* Make-lang.in (objcp/plugin/lex.h): Likewise.\n+\t(build/slashify): Harden against rebuilds.\n+\n \t* Make-lang.in (cp/parser.o): Move c-family/c-objc.h dependancy\n \tdown.\n "}, {"sha": "831c36ac7879c37f76af81cb165bd1eca3d32dc5", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a93fa71e59b4ae310d9953c1f6c87870383339f6/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=a93fa71e59b4ae310d9953c1f6c87870383339f6", "patch": "@@ -333,15 +333,17 @@ cp/parser.o: $(objdir)/objcp/plugin/parser.h $(srcdir)/objcp/plugin/parser.c \\\n \n cp/lex.o: $(objdir)/objcp/plugin/lex.h c-family/c-objc.h\n \n-build/slashify:: $(srcdir)/config/slashify.c\n-\t$(COMPILER_FOR_BUILD) $(srcdir)/config/slashify.c -o $@\n+# Would like to get rid of the #, but we always rebuild the checksum\n+# if we do\n+build/slashify: # $(srcdir)/config/slashify.c\n+\t$(COMPILER_FOR_BUILD) $(BUILD_COMPILERFLAGS) $(BUILD_CPPFLAGS) $(srcdir)/config/slashify.c -o $@\n \n-$(objdir)/objcp/plugin/parser.h: $(srcdir)/objcp/plugin/parser.h | build/slashify\n+$(objdir)/objcp/plugin/parser.h: $(srcdir)/objcp/plugin/parser.h build/slashify\n \ttest -d objcp || mkdir objcp\n \ttest -d objcp/plugin || mkdir objcp/plugin\n \tbuild/slashify < $< > $@\n \n-$(objdir)/objcp/plugin/lex.h: $(srcdir)/objcp/plugin/lex.h | build/slashify\n+$(objdir)/objcp/plugin/lex.h: $(srcdir)/objcp/plugin/lex.h build/slashify\n \ttest -d objcp || mkdir objcp\n \ttest -d objcp/plugin || mkdir objcp/plugin\n \tbuild/slashify < $< > $@"}]}