{"sha": "eadccfbb857dfdac6c286b38bc500154785c5982", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFkY2NmYmI4NTdkZmRhYzZjMjg2YjM4YmM1MDAxNTQ3ODVjNTk4Mg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-02-27T01:48:57Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-27T01:48:57Z"}, "message": "alpha.c (alpha_encode_section_info): Examine MODULE_LOCAL_P; improve commentary.\n\n        * config/alpha/alpha.c (alpha_encode_section_info): Examine\n        MODULE_LOCAL_P; improve commentary.\n\nFrom-SVN: r50082", "tree": {"sha": "74662ace933747fc88e3af3266270e3c955eae45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/74662ace933747fc88e3af3266270e3c955eae45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eadccfbb857dfdac6c286b38bc500154785c5982", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadccfbb857dfdac6c286b38bc500154785c5982", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eadccfbb857dfdac6c286b38bc500154785c5982", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadccfbb857dfdac6c286b38bc500154785c5982/comments", "author": null, "committer": null, "parents": [{"sha": "7fe4a89aedaa72d35e8e19b66ab19db834cff242", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fe4a89aedaa72d35e8e19b66ab19db834cff242", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fe4a89aedaa72d35e8e19b66ab19db834cff242"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "dedadf28f3e3e3fd8513a47b3451b61c3914fa94", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eadccfbb857dfdac6c286b38bc500154785c5982/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eadccfbb857dfdac6c286b38bc500154785c5982/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eadccfbb857dfdac6c286b38bc500154785c5982", "patch": "@@ -1,3 +1,8 @@\n+2002-02-26  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/alpha/alpha.c (alpha_encode_section_info): Examine\n+\tMODULE_LOCAL_P; improve commentary.\n+\n 2002-02-26  Zack Weinberg  <zack@codesourcery.com>\n \n \t* doc/cpp.texi: Clarify documentation of relationship between"}, {"sha": "aea7471f1ad2a646731790249abbc34c4d716555", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eadccfbb857dfdac6c286b38bc500154785c5982/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eadccfbb857dfdac6c286b38bc500154785c5982/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=eadccfbb857dfdac6c286b38bc500154785c5982", "patch": "@@ -1566,6 +1566,7 @@ alpha_encode_section_info (decl)\n \t don't know that they exist in this unit of translation.  */\n       if (TREE_PUBLIC (decl))\n \treturn;\n+\n       /* Do not mark functions that are not in .text; otherwise we\n \t don't know that they are near enough for a direct branch.  */\n       if (! decl_in_text_section (decl))\n@@ -1589,11 +1590,16 @@ alpha_encode_section_info (decl)\n \n   /* A variable is considered \"local\" if it is defined in this module.  */\n \n-  if (DECL_EXTERNAL (decl))\n+  /* Local binding occurs for any non-default visibility.  */\n+  if (MODULE_LOCAL_P (decl))\n+    is_local = true;\n+  /* Otherwise, variables defined outside this object may not be local.  */\n+  else if (DECL_EXTERNAL (decl))\n     is_local = false;\n   /* Linkonce and weak data is never local.  */\n   else if (DECL_ONE_ONLY (decl) || DECL_WEAK (decl))\n     is_local = false;\n+  /* Static variables are always local.  */\n   else if (! TREE_PUBLIC (decl))\n     is_local = true;\n   /* If PIC, then assume that any global name can be overridden by"}]}