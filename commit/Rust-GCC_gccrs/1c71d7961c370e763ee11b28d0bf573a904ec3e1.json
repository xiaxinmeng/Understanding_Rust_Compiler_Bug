{"sha": "1c71d7961c370e763ee11b28d0bf573a904ec3e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWM3MWQ3OTYxYzM3MGU3NjNlZTExYjI4ZDBiZjU3M2E5MDRlYzNlMQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2005-01-27T19:50:02Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2005-01-27T19:50:02Z"}, "message": "* gcc.dg/mips-movcc-1.c, gcc.dg/mips-movcc-2.c, gcc.dg/mips-movcc-3.c,\n\n\t* gcc.dg/mips-nmadd-1.c, gcc.dg/mips-nmadd-2.c, gcc.dg/mips-rsqrt-1.c,\n\t* gcc.dg/mips-rsqrt-2, gcc.dg/mips-rsqrt-3.c: Add dummy asm statements\n\tto cope with cases where the multilib options override the dg-options.\n\nFrom-SVN: r94331", "tree": {"sha": "ab77606da4ae35e2421097285245196f8b02b330", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ab77606da4ae35e2421097285245196f8b02b330"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c71d7961c370e763ee11b28d0bf573a904ec3e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c71d7961c370e763ee11b28d0bf573a904ec3e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c71d7961c370e763ee11b28d0bf573a904ec3e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c71d7961c370e763ee11b28d0bf573a904ec3e1/comments", "author": null, "committer": null, "parents": [{"sha": "00adda9fd87dc073d416481125c0781542a69fe2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00adda9fd87dc073d416481125c0781542a69fe2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00adda9fd87dc073d416481125c0781542a69fe2"}], "stats": {"total": 45, "additions": 43, "deletions": 2}, "files": [{"sha": "dd20d3f51ad3829dc75f61a58b2798231c0e36bf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -1,3 +1,10 @@\n+2005-01-27  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* gcc.dg/mips-movcc-1.c, gcc.dg/mips-movcc-2.c, gcc.dg/mips-movcc-3.c,\n+\t* gcc.dg/mips-nmadd-1.c, gcc.dg/mips-nmadd-2.c, gcc.dg/mips-rsqrt-1.c,\n+\t* gcc.dg/mips-rsqrt-2, gcc.dg/mips-rsqrt-3.c: Add dummy asm statements\n+\tto cope with cases where the multilib options override the dg-options.\n+\n 2005-01-27  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c/18946"}, {"sha": "70a7dc738b58ee5c40bd4a161da8eba15703a550", "filename": "gcc/testsuite/gcc.dg/mips-movcc-1.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-1.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -6,6 +6,9 @@\n \n void ext_int (int);\n \n+#if __mips < 4\n+asm (\"# movz movn\");\n+#else\n int\n sub1 (int i, int j, int k)\n {\n@@ -17,9 +20,14 @@ sub2 (int i, int j, long l)\n {\n   ext_int (!l ? i : j);\n }\n+#endif\n \n+#if __mips < 4 || __mips_soft_float\n+asm (\"# movt\");\n+#else\n int\n sub3 (int i, int j, float f)\n {\n   ext_int (f ? i : j);\n }\n+#endif"}, {"sha": "22d58e94a1ea71cf60478570edd5067eefa2dd32", "filename": "gcc/testsuite/gcc.dg/mips-movcc-2.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-2.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -6,6 +6,9 @@\n \n void ext_long (long);\n \n+#if __mips < 4\n+asm (\"# movz movn\");\n+#else\n long\n sub4 (long i, long j, long k)\n {\n@@ -17,9 +20,14 @@ sub5 (long i, long j, int k)\n {\n   ext_long (!k ? i : j);\n }\n+#endif\n \n+#if __mips < 4 || __mips_soft_float\n+asm (\"# movf\");\n+#else\n long\n sub6 (long i, long j, float f)\n {\n   ext_long (!f ? i : j);\n }\n+#endif"}, {"sha": "3a3a43be15d2c522191175e74d77d74fc91b3b01", "filename": "gcc/testsuite/gcc.dg/mips-movcc-3.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-movcc-3.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -7,6 +7,9 @@\n /* { dg-final { scan-assembler \"movn.d\" } } */\n /* { dg-final { scan-assembler \"movf.d\" } } */\n \n+#if __mips < 4 || __mips_soft_float\n+asm (\"# movz.s movn.s movt.s movz.d movn.d movf.d\");\n+#else\n void ext_float (float);\n void ext_double (double);\n \n@@ -45,3 +48,4 @@ subc (double f, double g, double h)\n {\n   ext_double (!h ? f : g);\n }\n+#endif"}, {"sha": "1bf7895f2a8c76ab388fce932c33c09b1430498a", "filename": "gcc/testsuite/gcc.dg/mips-nmadd-1.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-nmadd-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-nmadd-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-nmadd-1.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -5,6 +5,9 @@\n /* { dg-final { scan-assembler \"nmsub.s\" } } */\n /* { dg-final { scan-assembler \"nmsub.d\" } } */\n \n+#if (__mips != 4 && __mips != 64) || __mips_soft_float\n+asm (\"# nmadd.s nmadd.d nmsub.s nmsub.d\");\n+#else\n float\n sub1 (float f, float g, float h)\n {\n@@ -28,3 +31,4 @@ sub4 (double f, double g, double h)\n {\n   return -((f * g) - h);\n }\n+#endif"}, {"sha": "20b83bd21ae44bc3b7259647a25a1aad5cc34146", "filename": "gcc/testsuite/gcc.dg/mips-nmadd-2.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-nmadd-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-nmadd-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-nmadd-2.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -5,6 +5,9 @@\n /* { dg-final { scan-assembler \"nmsub.s\" } } */\n /* { dg-final { scan-assembler \"nmsub.d\" } } */\n \n+#if (__mips != 4 && __mips != 64) || __mips_soft_float\n+asm (\"# nmadd.s nmadd.d nmsub.s nmsub.d\");\n+#else\n float\n sub1 (float f, float g, float h)\n {\n@@ -28,3 +31,4 @@ sub4 (double f, double g, double h)\n {\n   return -((f * g) - h);\n }\n+#endif"}, {"sha": "b228ddba2963868ba4833a6a9460606a40a81f4c", "filename": "gcc/testsuite/gcc.dg/mips-rsqrt-1.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-rsqrt-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-rsqrt-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-rsqrt-1.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -3,6 +3,9 @@\n /* { dg-final { scan-assembler \"rsqrt.d\" } } */\n /* { dg-final { scan-assembler \"rsqrt.s\" } } */\n \n+#if (__mips != 4 && __mips != 64) || __mips_soft_float\n+asm (\"# rsqrt.d rsqrt.s\");\n+#else\n extern double sqrt(double);\n extern float sqrtf(float);\n \n@@ -15,4 +18,4 @@ float bar(float x)\n {\n   return 1.0f/sqrtf(x);\n }\n-\n+#endif"}, {"sha": "a4cddcd0a0d8a3608c1a0b23bb7ce17ecc98d8b0", "filename": "gcc/testsuite/gcc.dg/mips-rsqrt-2.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-rsqrt-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c71d7961c370e763ee11b28d0bf573a904ec3e1/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-rsqrt-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmips-rsqrt-2.c?ref=1c71d7961c370e763ee11b28d0bf573a904ec3e1", "patch": "@@ -3,6 +3,9 @@\n /* { dg-final { scan-assembler \"rsqrt.d\" } } */\n /* { dg-final { scan-assembler \"rsqrt.s\" } } */\n \n+#if (__mips != 4 && __mips != 64) || __mips_soft_float\n+asm (\"# rsqrt.d rsqrt.s\");\n+#else\n extern double sqrt(double);\n extern float sqrtf(float);\n \n@@ -15,4 +18,4 @@ float bar(float x)\n {\n   return sqrtf(1.0f/x);\n }\n-\n+#endif"}]}