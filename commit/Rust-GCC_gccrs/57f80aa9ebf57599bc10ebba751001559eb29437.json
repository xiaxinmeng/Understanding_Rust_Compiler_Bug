{"sha": "57f80aa9ebf57599bc10ebba751001559eb29437", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdmODBhYTllYmY1NzU5OWJjMTBlYmJhNzUxMDAxNTU5ZWIyOTQzNw==", "commit": {"author": {"name": "Rolf Ebert", "email": "rolf.ebert.gcc@gmx.de", "date": "2008-04-14T09:39:39Z"}, "committer": {"name": "Samuel Tardieu", "email": "sam@gcc.gnu.org", "date": "2008-04-14T09:39:39Z"}, "message": "re PR ada/20822 (makeinfo cannot process gnat_ugn_unw.texi)\n\n2008-04-14  Rolf Ebert  <rolf.ebert.gcc@gmx.de>\n\n    gcc/ada/\n\tPR ada/20822\n\t* xgnatugn.adb (Put_Line): New procedure, ensuring Unix\n\tline endings even on non-Unix platforms.\n\nFrom-SVN: r134257", "tree": {"sha": "67a1056587110bf07352f720a75c0bbda2308412", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67a1056587110bf07352f720a75c0bbda2308412"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57f80aa9ebf57599bc10ebba751001559eb29437", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57f80aa9ebf57599bc10ebba751001559eb29437", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57f80aa9ebf57599bc10ebba751001559eb29437", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57f80aa9ebf57599bc10ebba751001559eb29437/comments", "author": {"login": "RREE", "id": 176057, "node_id": "MDQ6VXNlcjE3NjA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/176057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RREE", "html_url": "https://github.com/RREE", "followers_url": "https://api.github.com/users/RREE/followers", "following_url": "https://api.github.com/users/RREE/following{/other_user}", "gists_url": "https://api.github.com/users/RREE/gists{/gist_id}", "starred_url": "https://api.github.com/users/RREE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RREE/subscriptions", "organizations_url": "https://api.github.com/users/RREE/orgs", "repos_url": "https://api.github.com/users/RREE/repos", "events_url": "https://api.github.com/users/RREE/events{/privacy}", "received_events_url": "https://api.github.com/users/RREE/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9ff231e23ce6bb18ab8463997acf60abe5b3672a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ff231e23ce6bb18ab8463997acf60abe5b3672a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ff231e23ce6bb18ab8463997acf60abe5b3672a"}], "stats": {"total": 38, "additions": 33, "deletions": 5}, "files": [{"sha": "39a458fc822492f5963c96114c1d82b85428add0", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57f80aa9ebf57599bc10ebba751001559eb29437/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57f80aa9ebf57599bc10ebba751001559eb29437/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=57f80aa9ebf57599bc10ebba751001559eb29437", "patch": "@@ -1,3 +1,9 @@\n+2008-04-14  Rolf Ebert  <rolf.ebert.gcc@gmx.de>\n+\n+\tPR ada/20822\n+\t* xgnatugn.adb (Put_Line): New procedure, ensuring Unix\n+\tline endings even on non-Unix platforms.\n+\n 2008-04-14  Samuel Tardieu  <sam@rfc1149.net>\n \n \tPR ada/35050"}, {"sha": "ee3b07df82052b2bc96e21aa7ea3ac7142a45dee", "filename": "gcc/ada/xgnatugn.adb", "status": "modified", "additions": 27, "deletions": 5, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57f80aa9ebf57599bc10ebba751001559eb29437/gcc%2Fada%2Fxgnatugn.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57f80aa9ebf57599bc10ebba751001559eb29437/gcc%2Fada%2Fxgnatugn.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxgnatugn.adb?ref=57f80aa9ebf57599bc10ebba751001559eb29437", "patch": "@@ -97,6 +97,7 @@ with Ada.Strings.Fixed;          use Ada.Strings.Fixed;\n with Ada.Strings.Unbounded;      use Ada.Strings.Unbounded;\n with Ada.Strings.Maps;           use Ada.Strings.Maps;\n with Ada.Strings.Maps.Constants; use Ada.Strings.Maps.Constants;\n+with Ada.Streams.Stream_IO;      use Ada.Streams.Stream_IO;\n with Ada.Text_IO;                use Ada.Text_IO;\n \n with GNAT.Spitbol;               use GNAT.Spitbol;\n@@ -108,12 +109,14 @@ procedure Xgnatugn is\n    --  Print usage information. Invoked if an invalid command line is\n    --  encountered.\n \n-   Output_File : File_Type;\n+   subtype Sfile is Ada.Streams.Stream_IO.File_Type;\n+\n+   Output_File : Sfile;\n    --  The preprocessed output is written to this file\n \n    type Input_File is record\n       Name : VString;\n-      Data : File_Type;\n+      Data : Ada.Text_IO.File_Type;\n       Line : Natural := 0;\n    end record;\n    --  Records information on an input file. Name and Line are used\n@@ -123,6 +126,10 @@ procedure Xgnatugn is\n    --  Returns a line from Input and performs the necessary\n    --  line-oriented checks (length, character set, trailing spaces).\n \n+   procedure Put_Line (F : Sfile; S : String);\n+   procedure Put_Line (F : Sfile; S : VString);\n+   --  Local version of Put_Line ensures Unix style line endings\n+\n    Number_Of_Warnings : Natural := 0;\n    Number_Of_Errors   : Natural := 0;\n    Warnings_Enabled   : Boolean;\n@@ -352,6 +359,21 @@ procedure Xgnatugn is\n       end;\n    end Get_Line;\n \n+   --------------\n+   -- Put_Line --\n+   --------------\n+\n+   procedure Put_Line (F : Sfile; S : String) is\n+   begin\n+      String'Write (Stream (F), S);\n+      Character'Write (Stream (F), ASCII.LF);\n+   end Put_Line;\n+\n+   procedure Put_Line (F : Sfile; S : VString) is\n+   begin\n+      Put_Line (F, To_String (S));\n+   end Put_Line;\n+\n    -----------\n    -- Error --\n    -----------\n@@ -1311,7 +1333,7 @@ begin\n          Open (Source_File.Data, In_File, Argument (2));\n \n       exception\n-         when Name_Error =>\n+         when Ada.Text_IO.Name_Error =>\n             Valid_Command_Line := False;\n       end;\n    end if;\n@@ -1324,7 +1346,7 @@ begin\n          Open (Dictionary_File.Data, In_File, Argument (3));\n \n       exception\n-         when Name_Error =>\n+         when Ada.Text_IO.Name_Error =>\n             Valid_Command_Line := False;\n       end;\n    end if;\n@@ -1349,7 +1371,7 @@ begin\n          Create (Output_File, Out_File, S (Output_File_Name));\n \n       exception\n-         when Name_Error | Use_Error =>\n+         when Ada.Text_IO.Name_Error | Ada.Text_IO.Use_Error =>\n             Valid_Command_Line := False;\n       end;\n    end if;"}]}