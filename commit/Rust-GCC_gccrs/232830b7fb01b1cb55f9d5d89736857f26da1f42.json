{"sha": "232830b7fb01b1cb55f9d5d89736857f26da1f42", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMyODMwYjdmYjAxYjFjYjU1ZjlkNWQ4OTczNjg1N2YyNmRhMWY0Mg==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2003-09-04T13:20:24Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2003-09-04T13:20:24Z"}, "message": "Add support for v850e1 processor - a variant of the v850e.\n\nFrom-SVN: r71063", "tree": {"sha": "675de48718c5fdb2977e350dca367e06eb8bab02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/675de48718c5fdb2977e350dca367e06eb8bab02"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/232830b7fb01b1cb55f9d5d89736857f26da1f42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232830b7fb01b1cb55f9d5d89736857f26da1f42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/232830b7fb01b1cb55f9d5d89736857f26da1f42", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232830b7fb01b1cb55f9d5d89736857f26da1f42/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c490cc89914ed21080b3eb4d77943ecdd11e0008", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c490cc89914ed21080b3eb4d77943ecdd11e0008", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c490cc89914ed21080b3eb4d77943ecdd11e0008"}], "stats": {"total": 48, "additions": 44, "deletions": 4}, "files": [{"sha": "1608f4f1804acd90f90763e64244e9de9dfebaa0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=232830b7fb01b1cb55f9d5d89736857f26da1f42", "patch": "@@ -1,3 +1,13 @@\n+2003-09-04  Nick Clifton  <nickc@redhat.com>\n+\n+\t* config.gcc: Add v850e1 target.  Allow --with-cpu to accept\n+\tv850e1.\n+\t* config/v850/v850.h: Accept v850e1 as a default CPU.\n+\tAccept -mv850e1 as a command line option.\n+\t* doc/invoke.texi: Document new -mv850e1 command line switch.\n+\t* config/v850/t-v850: Treat -mv850e1 as a multilib alias for\n+\t-mv850e.\n+\n 2003-09-04  Nick Clifton  <nickc@redhat.com>\n \n \t* config.gcc (v850e-*-*): Use t-v850e makefile fragment."}, {"sha": "4890ee3a9ff01aa87c774ba66b4042913ef450dc", "filename": "gcc/config/v850/t-v850", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fconfig%2Fv850%2Ft-v850", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fconfig%2Fv850%2Ft-v850", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Ft-v850?ref=232830b7fb01b1cb55f9d5d89736857f26da1f42", "patch": "@@ -84,9 +84,14 @@ fp-bit.c: $(srcdir)/config/fp-bit.c\n MULTILIB_OPTIONS  = mv850e\n MULTILIB_DIRNAMES = v850e\n INSTALL_LIBGCC    = install-multilib\n+MULTILIB_MATCHES  = mv850e=mv850e1\n \n TCFLAGS = -mno-app-regs -msmall-sld -Wa,-mwarn-signed-overflow -Wa,-mwarn-unsigned-overflow\n \n v850-c.o: $(srcdir)/config/v850/v850-c.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n   $(TM_H) $(CPPLIB_H) $(TREE_H) c-pragma.h toplev.h $(GGC_H) $(TM_P_H)\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/v850/v850-c.c \n+\n+# Local Variables:\n+# mode: Makefile\n+# End:"}, {"sha": "97724e5810913eb7324ae2ba087cd4838b7152d1", "filename": "gcc/config/v850/t-v850e", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fconfig%2Fv850%2Ft-v850e", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fconfig%2Fv850%2Ft-v850e", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Ft-v850e?ref=232830b7fb01b1cb55f9d5d89736857f26da1f42", "patch": "@@ -90,3 +90,7 @@ TCFLAGS = -mno-app-regs -msmall-sld -Wa,-mwarn-signed-overflow -Wa,-mwarn-unsign\n v850-c.o: $(srcdir)/config/v850/v850-c.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n   $(TM_H) $(CPPLIB_H) $(TREE_H) c-pragma.h toplev.h $(GGC_H) $(TM_P_H)\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/v850/v850-c.c \n+\n+# Local Variables:\n+# mode: Makefile\n+# End:"}, {"sha": "7ebf12d6693b23e7a6b130367967fb17c43cd5a8", "filename": "gcc/config/v850/v850.h", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fconfig%2Fv850%2Fv850.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fconfig%2Fv850%2Fv850.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.h?ref=232830b7fb01b1cb55f9d5d89736857f26da1f42", "patch": "@@ -32,6 +32,7 @@\n \n #define TARGET_CPU_generic \t1\n #define TARGET_CPU_v850e   \t2\n+#define TARGET_CPU_v850e1  \t3\n \n #ifndef TARGET_CPU_DEFAULT\n #define TARGET_CPU_DEFAULT\tTARGET_CPU_generic\n@@ -56,6 +57,17 @@\n #define TARGET_VERSION \t\tfprintf (stderr, \" (NEC V850E)\");\n #endif\n \n+#if TARGET_CPU_DEFAULT == TARGET_CPU_v850e1\n+#undef  MASK_DEFAULT\n+#define MASK_DEFAULT            MASK_V850E\t/* No practical difference.  */\n+#undef  SUBTARGET_ASM_SPEC\n+#define SUBTARGET_ASM_SPEC \t\"%{!mv*:-mv850e1}\"\n+#undef  SUBTARGET_CPP_SPEC\n+#define SUBTARGET_CPP_SPEC \t\"%{!mv*:-D__v850e1__} %{mv850e1:-D__v850e1__}\"\n+#undef  TARGET_VERSION\n+#define TARGET_VERSION \t\tfprintf (stderr, \" (NEC V850E1)\");\n+#endif\n+\n #define ASM_SPEC \"%{mv*:-mv%*}\"\n #define CPP_SPEC\t\t\"%{mv850e:-D__v850e__} %{mv850:-D__v850__} %(subtarget_cpp_spec)\"\n \n@@ -176,6 +188,8 @@ extern int target_flags;\n    { \"v850\",\t\t \t MASK_V850,\t\t\t\t\\\n                                 N_(\"Compile for the v850 processor\") },\t\\\n    { \"v850\",\t\t \t -(MASK_V850 ^ MASK_CPU), \"\" },\t\t\\\n+   { \"v850e1\",\t\t\t MASK_V850E, N_(\"Compile for v850e1 processor\") }, \\\n+   { \"v850e1\",\t\t        -(MASK_V850E ^ MASK_CPU), \"\" }, /* Make sure that the other bits are cleared.  */ \\\n    { \"v850e\",\t\t\t MASK_V850E, N_(\"Compile for v850e processor\") }, \\\n    { \"v850e\",\t\t        -(MASK_V850E ^ MASK_CPU), \"\" }, /* Make sure that the other bits are cleared.  */ \\\n    { \"small-sld\",\t\t MASK_SMALL_SLD, N_(\"Enable the use of the short load instructions\") },\t\\"}, {"sha": "4ca859bf0c9345eeb2c1de4b1694bf310b38d42e", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232830b7fb01b1cb55f9d5d89736857f26da1f42/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=232830b7fb01b1cb55f9d5d89736857f26da1f42", "patch": "@@ -571,6 +571,7 @@ in the following sections.\n -mtda=@var{n}  -msda=@var{n}  -mzda=@var{n} @gol\n -mapp-regs  -mno-app-regs @gol\n -mdisable-callt  -mno-disable-callt @gol\n+-mv850e1 @gol\n -mv850e @gol\n -mv850  -mbig-switch}\n \n@@ -9700,22 +9701,28 @@ the compiler.  This setting is the default.\n @opindex mno-app-regs\n This option will cause r2 and r5 to be treated as fixed registers.\n   \n+@item -mv850e1\n+@opindex mv850e1\n+Specify that the target processor is the V850E1.  The preprocessor\n+constants @samp{__v850e1__} and @samp{__v850e__} will be defined if\n+this option is used.\n+\n @item -mv850e\n @opindex mv850e\n Specify that the target processor is the V850E.  The preprocessor\n constant @samp{__v850e__} will be defined if this option is used.\n \n-If neither @option{-mv850} nor @option{-mv850e} are defined\n-then a default target processor will be chosen and the relevant\n-@samp{__v850*__} preprocessor constant will be defined.\n+If neither @option{-mv850} nor @option{-mv850e} nor @option{-mv850e1}\n+are defined then a default target processor will be chosen and the\n+relevant @samp{__v850*__} preprocessor constant will be defined.\n \n The preprocessor constants @samp{__v850} and @samp{__v851__} are always\n defined, regardless of which processor variant is the target.\n \n @item -mdisable-callt\n @opindex mdisable-callt\n This option will suppress generation of the CALLT instruction for the\n-v850e flavors of the v850 architecture.  The default is\n+v850e and v850e1 flavors of the v850 architecture.  The default is\n @option{-mno-disable-callt} which allows the CALLT instruction to be used.\n \n @end table"}]}