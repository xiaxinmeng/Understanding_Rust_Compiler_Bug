{"sha": "22677ff0c4bd069d574a57c9a45efdcc89578560", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI2NzdmZjBjNGJkMDY5ZDU3NGE1N2M5YTQ1ZWZkY2M4OTU3ODU2MA==", "commit": {"author": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2017-05-02T15:20:47Z"}, "committer": {"name": "Tamar Christina", "email": "tnfchris@gcc.gnu.org", "date": "2017-05-02T15:20:47Z"}, "message": "expr.c (expand_expr_real_2): Re-cost if previous costs are the same.\n\n2017-04-26  Tamar Christina  <tamar.christina@arm.com>\n\n\t* expr.c (expand_expr_real_2): Re-cost if previous costs are the same.\n\nFrom-SVN: r247505", "tree": {"sha": "5c7b10e0e3db06e515bea76842fbfdb296a53b1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c7b10e0e3db06e515bea76842fbfdb296a53b1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22677ff0c4bd069d574a57c9a45efdcc89578560", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22677ff0c4bd069d574a57c9a45efdcc89578560", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22677ff0c4bd069d574a57c9a45efdcc89578560", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22677ff0c4bd069d574a57c9a45efdcc89578560/comments", "author": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cc5b8f3d568e95ce74e03d8d87ada71117a6c106", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc5b8f3d568e95ce74e03d8d87ada71117a6c106", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc5b8f3d568e95ce74e03d8d87ada71117a6c106"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "b177645b802407f4e5a59b74a40ec5cefadb322d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22677ff0c4bd069d574a57c9a45efdcc89578560/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22677ff0c4bd069d574a57c9a45efdcc89578560/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=22677ff0c4bd069d574a57c9a45efdcc89578560", "patch": "@@ -1,3 +1,7 @@\n+2017-04-26  Tamar Christina  <tamar.christina@arm.com>\n+\n+\t* expr.c (expand_expr_real_2): Re-cost if previous costs are the same.\n+\n 2017-04-27  Tamar Christina  <tamar.christina@arm.com>\n \n \t* simplify-rtx.c (simplify_binary_operation_1): Add LSHIFTRT case."}, {"sha": "4749cc508b88600d880ce9ed130a1e58cf60e97b", "filename": "gcc/expr.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22677ff0c4bd069d574a57c9a45efdcc89578560/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22677ff0c4bd069d574a57c9a45efdcc89578560/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=22677ff0c4bd069d574a57c9a45efdcc89578560", "patch": "@@ -8838,6 +8838,15 @@ expand_expr_real_2 (sepops ops, rtx target, machine_mode tmode,\n \t   end_sequence ();\n \t   unsigned uns_cost = seq_cost (uns_insns, speed_p);\n \t   unsigned sgn_cost = seq_cost (sgn_insns, speed_p);\n+\n+\t   /* If costs are the same then use as tie breaker the other\n+\t      other factor.  */\n+\t   if (uns_cost == sgn_cost)\n+\t     {\n+\t\tuns_cost = seq_cost (uns_insns, !speed_p);\n+\t\tsgn_cost = seq_cost (sgn_insns, !speed_p);\n+\t     }\n+\n \t   if (uns_cost < sgn_cost || (uns_cost == sgn_cost && unsignedp))\n \t     {\n \t       emit_insn (uns_insns);"}]}