{"sha": "c19d161545bb1c8c58dbc23b6f708b12403193f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE5ZDE2MTU0NWJiMWM4YzU4ZGJjMjNiNmY3MDhiMTI0MDMxOTNmMw==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonberg@adacore.com", "date": "2007-08-31T10:23:59Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-08-31T10:23:59Z"}, "message": "sem_ch10.adb (Analyze_Subunit_Context): When analyzing context clauses of subunits...\n\n2007-08-31  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch10.adb (Analyze_Subunit_Context): When analyzing context\n\tclauses of subunits, ignore limited_with_clauses that are illegal and\n\thave not been fully analyzed.\n\nFrom-SVN: r127979", "tree": {"sha": "eb4b86a7d19feae159234e59d049cafcdfc9a9f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb4b86a7d19feae159234e59d049cafcdfc9a9f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c19d161545bb1c8c58dbc23b6f708b12403193f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c19d161545bb1c8c58dbc23b6f708b12403193f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c19d161545bb1c8c58dbc23b6f708b12403193f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c19d161545bb1c8c58dbc23b6f708b12403193f3/comments", "author": {"login": "Edschonberg", "id": 6352375, "node_id": "MDQ6VXNlcjYzNTIzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6352375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Edschonberg", "html_url": "https://github.com/Edschonberg", "followers_url": "https://api.github.com/users/Edschonberg/followers", "following_url": "https://api.github.com/users/Edschonberg/following{/other_user}", "gists_url": "https://api.github.com/users/Edschonberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Edschonberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Edschonberg/subscriptions", "organizations_url": "https://api.github.com/users/Edschonberg/orgs", "repos_url": "https://api.github.com/users/Edschonberg/repos", "events_url": "https://api.github.com/users/Edschonberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Edschonberg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1d7d0be618c69e8547b25c52069364ad5ceff6c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d7d0be618c69e8547b25c52069364ad5ceff6c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d7d0be618c69e8547b25c52069364ad5ceff6c4"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "29d10de9425517ea8003829e6ca5d76f077f41a4", "filename": "gcc/ada/sem_ch10.adb", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c19d161545bb1c8c58dbc23b6f708b12403193f3/gcc%2Fada%2Fsem_ch10.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c19d161545bb1c8c58dbc23b6f708b12403193f3/gcc%2Fada%2Fsem_ch10.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch10.adb?ref=c19d161545bb1c8c58dbc23b6f708b12403193f3", "patch": "@@ -1892,15 +1892,20 @@ package body Sem_Ch10 is\n                --  Protect frontend against previous errors in context clauses\n \n                if Nkind (Name (Item)) /= N_Selected_Component then\n-                  Unit_Name := Entity (Name (Item));\n-                  while Is_Child_Unit (Unit_Name) loop\n-                     Set_Is_Visible_Child_Unit (Unit_Name);\n-                     Unit_Name := Scope (Unit_Name);\n-                  end loop;\n+                  if Error_Posted (Item) then\n+                     null;\n+\n+                  else\n+                     Unit_Name := Entity (Name (Item));\n+                     while Is_Child_Unit (Unit_Name) loop\n+                        Set_Is_Visible_Child_Unit (Unit_Name);\n+                        Unit_Name := Scope (Unit_Name);\n+                     end loop;\n \n-                  if not Is_Immediately_Visible (Unit_Name) then\n-                     Set_Is_Immediately_Visible (Unit_Name);\n-                     Set_Context_Installed (Item);\n+                     if not Is_Immediately_Visible (Unit_Name) then\n+                        Set_Is_Immediately_Visible (Unit_Name);\n+                        Set_Context_Installed (Item);\n+                     end if;\n                   end if;\n                end if;\n \n@@ -1932,6 +1937,7 @@ package body Sem_Ch10 is\n                --  Protect frontend against previous errors in context clauses\n \n               and then Nkind (Name (Item)) /= N_Selected_Component\n+              and then not Error_Posted (Item)\n             then\n                Unit_Name := Entity (Name (Item));\n                while Is_Child_Unit (Unit_Name) loop"}]}