{"sha": "609a87f3b342bcda458f73d4de4a463f32eb3483", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA5YTg3ZjNiMzQyYmNkYTQ1OGY3M2Q0ZGU0YTQ2M2YzMmViMzQ4Mw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-08-06T15:29:24Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-08-06T15:29:24Z"}, "message": "config.gcc (*-*-linux*): Default to --enable-threads=posix if no --{enable,disable}-threads is given to...\n\n\t* config.gcc (*-*-linux*): Default to --enable-threads=posix if no\n\t--{enable,disable}-threads is given to configure.\n\t(alpha*-*-linux*, hppa*-*-linux*, i[34567]86-*-linux*,\n\tx86_64-*-linux*, ia64*-*-linux*, m68k-*-linux*, mips*-*-linux*,\n\tpowerpc-*-linux-gnualtivec*, powerpc-*-linux*, s390-*-linux*,\n\ts390x-*-linux*, sh-*-linux*, sparc-*-linux*, sparc64-*-linux*):\n\tRemove thread_file setting here.\n\nFrom-SVN: r56071", "tree": {"sha": "d8112a7687f136a4c3320281f6a697bf5f3f2003", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8112a7687f136a4c3320281f6a697bf5f3f2003"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/609a87f3b342bcda458f73d4de4a463f32eb3483", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609a87f3b342bcda458f73d4de4a463f32eb3483", "html_url": "https://github.com/Rust-GCC/gccrs/commit/609a87f3b342bcda458f73d4de4a463f32eb3483", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609a87f3b342bcda458f73d4de4a463f32eb3483/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ff4c5e7b832b2fc50f036f9d20cb6238b528b798", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff4c5e7b832b2fc50f036f9d20cb6238b528b798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff4c5e7b832b2fc50f036f9d20cb6238b528b798"}], "stats": {"total": 68, "additions": 20, "deletions": 48}, "files": [{"sha": "ade9711875af77882e8e146f4dd33c99f5f35ca0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609a87f3b342bcda458f73d4de4a463f32eb3483/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609a87f3b342bcda458f73d4de4a463f32eb3483/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=609a87f3b342bcda458f73d4de4a463f32eb3483", "patch": "@@ -1,3 +1,13 @@\n+2002-08-06  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config.gcc (*-*-linux*): Default to --enable-threads=posix if no\n+\t--{enable,disable}-threads is given to configure.\n+\t(alpha*-*-linux*, hppa*-*-linux*, i[34567]86-*-linux*,\n+\tx86_64-*-linux*, ia64*-*-linux*, m68k-*-linux*, mips*-*-linux*,\n+\tpowerpc-*-linux-gnualtivec*, powerpc-*-linux*, s390-*-linux*,\n+\ts390x-*-linux*, sh-*-linux*, sparc-*-linux*, sparc64-*-linux*):\n+\tRemove thread_file setting here.\n+\n 2002-08-06  David Edelsohn  <edelsohn@gnu.org>\n \n \t* doc/install.texi (Binaries): Update Bull Freeware URL."}, {"sha": "14dbef9d5a7d1443c5c4c4364ede0d5850885a33", "filename": "gcc/config.gcc", "status": "modified", "additions": 10, "deletions": 48, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609a87f3b342bcda458f73d4de4a463f32eb3483/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609a87f3b342bcda458f73d4de4a463f32eb3483/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=609a87f3b342bcda458f73d4de4a463f32eb3483", "patch": "@@ -320,6 +320,16 @@ esac\n case $machine in\n *-*-linux*)\n \txm_defines=POSIX\n+\tcase $machine in\n+\t*-*-linux*ecoff* | *-*-linux*libc1* | *-*-linux*oldld* | *-*-linux*aout*)\n+\t\t;;\n+\t*)\n+\t\tcase x${enable_threads} in\n+\t\t\tx | xyes | xposix) thread_file='posix'\n+\t\t\t;;\n+\t\tesac\n+\t\t;;\n+\tesac\n \t;;\n *-*-gnu*)\n \t# On the Hurd, the setup is just about the same on\n@@ -480,9 +490,6 @@ alpha*-*-linux*)\n \ttmake_file=\"t-slibgcc-elf-ver t-linux alpha/t-crtfm alpha/t-alpha alpha/t-ieee\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\"\n \tgas=yes gnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n alpha*-*-gnu*)\n \ttarget_cpu_default=\"MASK_GAS\"\n@@ -752,9 +759,6 @@ hppa*-*-linux* | parisc*-*-linux*)\n \ttmake_file=\"t-slibgcc-elf-ver t-linux pa/t-linux\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgas=yes gnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n hppa*-*-openbsd*)\n \ttarget_cpu_default=\"MASK_PA_11\"\n@@ -998,9 +1002,6 @@ i370-*-linux*)\n \tgnu_ld=yes\n \tgas=yes\n \telf=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n i[34567]86-*-darwin*)\n \ttm_file=\"${tm_file} darwin.h i386/darwin.h\"\n@@ -1126,9 +1127,6 @@ i[34567]86-*-linux*)\t# Intel 80386's running GNU/Linux\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n \tfloat_format=i386\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n x86_64-*-linux*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h \\\n@@ -1137,9 +1135,6 @@ x86_64-*-linux*)\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n \tfloat_format=i386\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n i[34567]86-*-gnu*)\n \tfloat_format=i386\n@@ -1440,9 +1435,6 @@ ia64*-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h ia64/sysv4.h ia64/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux ia64/t-ia64 ia64/t-glibc\"\n \ttarget_cpu_default=\"MASK_GNU_AS|MASK_GNU_LD\"\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \tfloat_format=i386\n \t;;\n ia64*-*-hpux*)\n@@ -1719,9 +1711,6 @@ m68k-*-linux*)\t\t# Motorola m68k's running GNU/Linux\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tfloat_format=m68k\n \tgnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n m68k-*-psos*)\n \ttmake_file=m68k/t-m68kbare\n@@ -1881,9 +1870,6 @@ mips*-*-linux*)\t\t\t\t# Linux MIPS, either endian.\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n \tgas=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n mips*el-*-openbsd*)\t# mips little endian\n \ttarget_cpu_default=\"MASK_GAS|MASK_ABICALLS\"\n@@ -2108,17 +2094,11 @@ powerpc-*-linux-gnualtivec*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h\"\n \tout_file=rs6000/rs6000.c\n \ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n powerpc-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n \tout_file=rs6000/rs6000.c\n \ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n powerpc-*-gnu-gnualtivec*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h rs6000/gnu.h\"\n@@ -2240,9 +2220,6 @@ s390-*-linux*)\n \ttm_file=\"s390/s390.h dbxelf.h elfos.h svr4.h linux.h s390/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-linux\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\"\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n s390x-*-linux*)\n \ttm_file=\"s390/s390x.h s390/s390.h dbxelf.h elfos.h svr4.h linux.h s390/linux.h\"\n@@ -2252,9 +2229,6 @@ s390x-*-linux*)\n \tout_file=s390/s390.c\n \ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-linux s390/t-linux64\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\"\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n sh-*-elf* | sh[2346l]*-*-elf*)\n \ttmake_file=\"sh/t-sh sh/t-elf\"\n@@ -2311,9 +2285,6 @@ sh-*-linux* | sh[2346lbe]*-*-linux*)\n \tesac\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sh/elf.h sh/linux.h\"\n \tgas=yes gnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \tfloat_format=sh\n \tcase $machine in\n \tsh64*)\n@@ -2447,9 +2418,6 @@ sparc-*-linux*)\t\t# Sparc's running GNU/Linux, libc6\n \ttmake_file=\"t-slibgcc-elf-ver t-linux sparc/t-crtfm\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \tfloat_format=sparc\n \t;;\n sparc-*-lynxos*)\n@@ -2642,9 +2610,6 @@ sparc64-*-linux*)\t\t# 64-bit Sparc's running GNU/Linux\n \ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/linux64.h\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \tfloat_format=sparc\n \t;;\n sparc64-*-netbsd*)\n@@ -2776,9 +2741,6 @@ xtensa-*-linux*)\n \ttmake_file=\"t-linux xtensa/t-xtensa\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n \tgas=yes gnu_ld=yes\n-\tif test x$enable_threads = xyes; then\n-\t\tthread_file='posix'\n-\tfi\n \t;;\n *)\n \techo \"*** Configuration $machine not supported\" 1>&2"}]}