{"sha": "06dc18b33ed6c755ea37c9a25da395cace5d3a3e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZkYzE4YjMzZWQ2Yzc1NWVhMzdjOWEyNWRhMzk1Y2FjZTVkM2EzZQ==", "commit": {"author": {"name": "Trevor Saunders", "email": "tbsaunde+gcc@tbsaunde.org", "date": "2016-07-13T02:43:56Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2016-07-13T02:43:56Z"}, "message": "cfgexpand.c: use auto_vec in stack_vars_data\n\ngcc/ChangeLog:\n\n2016-07-12  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* cfgexpand.c (struct stack_vars_data): Make type of fields\n\tauto_vec.\n\t(expand_used_vars): Adjust.\n\nFrom-SVN: r238282", "tree": {"sha": "772307469b4d32b3299918e7593473156bd8d942", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/772307469b4d32b3299918e7593473156bd8d942"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06dc18b33ed6c755ea37c9a25da395cace5d3a3e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06dc18b33ed6c755ea37c9a25da395cace5d3a3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06dc18b33ed6c755ea37c9a25da395cace5d3a3e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06dc18b33ed6c755ea37c9a25da395cace5d3a3e/comments", "author": null, "committer": null, "parents": [{"sha": "37a5199721af7f322f681cd17efb673d70209d52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37a5199721af7f322f681cd17efb673d70209d52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37a5199721af7f322f681cd17efb673d70209d52"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "7882dbfb3074f6faa7e6ac4e40f77dc56f016cbe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06dc18b33ed6c755ea37c9a25da395cace5d3a3e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06dc18b33ed6c755ea37c9a25da395cace5d3a3e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=06dc18b33ed6c755ea37c9a25da395cace5d3a3e", "patch": "@@ -1,3 +1,9 @@\n+2016-07-12  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* cfgexpand.c (struct stack_vars_data): Make type of fields\n+\tauto_vec.\n+\t(expand_used_vars): Adjust.\n+\n 2016-07-12  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* ipa.c (record_cdtor_fn): Adjust."}, {"sha": "93df01bd7586b5d6d2340bbdf0e234735f1c44bc", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06dc18b33ed6c755ea37c9a25da395cace5d3a3e/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06dc18b33ed6c755ea37c9a25da395cace5d3a3e/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=06dc18b33ed6c755ea37c9a25da395cace5d3a3e", "patch": "@@ -1030,10 +1030,10 @@ struct stack_vars_data\n   /* Vector of offset pairs, always end of some padding followed\n      by start of the padding that needs Address Sanitizer protection.\n      The vector is in reversed, highest offset pairs come first.  */\n-  vec<HOST_WIDE_INT> asan_vec;\n+  auto_vec<HOST_WIDE_INT> asan_vec;\n \n   /* Vector of partition representative decls in between the paddings.  */\n-  vec<tree> asan_decl_vec;\n+  auto_vec<tree> asan_decl_vec;\n \n   /* Base pseudo register for Address Sanitizer protected automatic vars.  */\n   rtx asan_base;\n@@ -2179,8 +2179,6 @@ expand_used_vars (void)\n     {\n       struct stack_vars_data data;\n \n-      data.asan_vec = vNULL;\n-      data.asan_decl_vec = vNULL;\n       data.asan_base = NULL_RTX;\n       data.asan_alignb = 0;\n \n@@ -2239,9 +2237,6 @@ expand_used_vars (void)\n \t}\n \n       expand_stack_vars (NULL, &data);\n-\n-      data.asan_vec.release ();\n-      data.asan_decl_vec.release ();\n     }\n \n   fini_vars_expansion ();"}]}