{"sha": "229fbccbab7b8ad59558f34bce92311dbd48c2b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI5ZmJjY2JhYjdiOGFkNTk1NThmMzRiY2U5MjMxMWRiZDQ4YzJiNA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2009-09-22T15:13:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2009-09-22T15:13:24Z"}, "message": "m32c-protos.h (m32c_initialize_trampoline): Remove.\n\n\t* config/m32c/m32c-protos.h (m32c_initialize_trampoline): Remove.\n\t* config/m32c/m32c.c (TARGET_TRAMPOLINE_INIT): New.\n\t(m32c_trampoline_init): Rename from m32c_initialize_trampoline;\n\tadjust for hook parameters.\n\t* config/m32c/m32c.h (INITIALIZE_TRAMPOLINE): Remove.\n\nFrom-SVN: r151996", "tree": {"sha": "a332b354b3665dc1c044716611c7164ba48dc9d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a332b354b3665dc1c044716611c7164ba48dc9d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/229fbccbab7b8ad59558f34bce92311dbd48c2b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/229fbccbab7b8ad59558f34bce92311dbd48c2b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/229fbccbab7b8ad59558f34bce92311dbd48c2b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/229fbccbab7b8ad59558f34bce92311dbd48c2b4/comments", "author": null, "committer": null, "parents": [{"sha": "f4a33d37279965f2ac958547862e9c46841bf223", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4a33d37279965f2ac958547862e9c46841bf223", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4a33d37279965f2ac958547862e9c46841bf223"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "43ca7408dc3c3fbf575fb47cce41ccf2e2b0d89f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=229fbccbab7b8ad59558f34bce92311dbd48c2b4", "patch": "@@ -124,6 +124,12 @@\n \t(TRAMPOLINE_SIZE): Use it.\n \t(TRAMPOLINE_ALIGNMENT): Follow Pmode.\n \n+\t* config/m32c/m32c-protos.h (m32c_initialize_trampoline): Remove.\n+\t* config/m32c/m32c.c (TARGET_TRAMPOLINE_INIT): New.\n+\t(m32c_trampoline_init): Rename from m32c_initialize_trampoline;\n+\tadjust for hook parameters.\n+\t* config/m32c/m32c.h (INITIALIZE_TRAMPOLINE): Remove.\n+\n 2009-09-22  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/rs6000/rs6000.c (bdesc_2arg): Fix CODE_FOR_vector_gt* codes"}, {"sha": "e571fe9d25e15397300a1123b80939d0fba7b194", "filename": "gcc/config/m32c/m32c-protos.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h?ref=229fbccbab7b8ad59558f34bce92311dbd48c2b4", "patch": "@@ -73,7 +73,6 @@ int  m32c_hard_regno_ok (int, MM);\n bool m32c_illegal_subreg_p (rtx);\n bool m32c_immd_dbl_mov (rtx *, MM);\n rtx  m32c_incoming_return_addr_rtx (void);\n-void m32c_initialize_trampoline (rtx, rtx, rtx);\n int  m32c_legitimate_constant_p (rtx);\n int  m32c_legitimize_reload_address (rtx *, MM, int, int, int);\n rtx  m32c_libcall_value (MM);"}, {"sha": "a0689495aa046cf8d6a95a1207fa555d6b78486d", "filename": "gcc/config/m32c/m32c.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2Fconfig%2Fm32c%2Fm32c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2Fconfig%2Fm32c%2Fm32c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.c?ref=229fbccbab7b8ad59558f34bce92311dbd48c2b4", "patch": "@@ -1717,11 +1717,16 @@ m32c_trampoline_alignment (void)\n   return 2;\n }\n \n-/* Implements INITIALIZE_TRAMPOLINE.  */\n-void\n-m32c_initialize_trampoline (rtx tramp, rtx function, rtx chainval)\n+/* Implements TARGET_TRAMPOLINE_INIT.  */\n+\n+#undef TARGET_TRAMPOLINE_INIT\n+#define TARGET_TRAMPOLINE_INIT m32c_trampoline_init\n+static void\n+m32c_trampoline_init (rtx m_tramp, tree fndecl, rtx chainval)\n {\n-#define A0(m,i) gen_rtx_MEM (m, plus_constant (tramp, i))\n+  rtx function = XEXP (DECL_RTL (fndecl), 0);\n+\n+#define A0(m,i) adjust_address (m_tramp, m, i)\n   if (TARGET_A16)\n     {\n       /* Note: we subtract a \"word\" because the moves want signed"}, {"sha": "48e669b3da4ef4873726ff6b9a48d7501d8ca759", "filename": "gcc/config/m32c/m32c.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2Fconfig%2Fm32c%2Fm32c.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229fbccbab7b8ad59558f34bce92311dbd48c2b4/gcc%2Fconfig%2Fm32c%2Fm32c.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.h?ref=229fbccbab7b8ad59558f34bce92311dbd48c2b4", "patch": "@@ -555,7 +555,6 @@ typedef struct m32c_cumulative_args\n \n #define TRAMPOLINE_SIZE m32c_trampoline_size ()\n #define TRAMPOLINE_ALIGNMENT m32c_trampoline_alignment ()\n-#define INITIALIZE_TRAMPOLINE(a,fn,sc) m32c_initialize_trampoline (a, fn, sc)\n \n /* Addressing Modes */\n "}]}