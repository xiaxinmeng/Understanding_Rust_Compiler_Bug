{"sha": "1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWE3OGU1YTdjNmNkOTZlY2E1NzUyYzBmYmFmNWFiMWYxYWQ4ZjAzNw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2003-07-02T01:30:10Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2003-07-02T01:30:10Z"}, "message": "inclhack.def (irix_stdio_va_list): Apply to IRIX 6.5 <internal/stdio_core.h> too.\n\n\t* fixinc/inclhack.def (irix_stdio_va_list): Apply to IRIX 6.5\n\t<internal/stdio_core.h> too.\n\t(stdio_va_list): Apply to IRIX 6.5 <internal/stdio_core.h> and\n\t<internal/wchar_core.h> too.\n\tSubstitute va_list uses in inline definition.\n\t* fixinc/fixincl.x: Regenerate.\n\nFrom-SVN: r68811", "tree": {"sha": "5648402cc2bb8698a2f9f85fcfb2333f02eb5eda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5648402cc2bb8698a2f9f85fcfb2333f02eb5eda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/comments", "author": null, "committer": null, "parents": [{"sha": "b01b24846839cdfe955c04856c21d1a0249397a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b01b24846839cdfe955c04856c21d1a0249397a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b01b24846839cdfe955c04856c21d1a0249397a6"}], "stats": {"total": 30, "additions": 25, "deletions": 5}, "files": [{"sha": "537735db5457124a11179ee0f6e142d721da917c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "patch": "@@ -1,3 +1,12 @@\n+2003-07-02  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* fixinc/inclhack.def (irix_stdio_va_list): Apply to IRIX 6.5\n+\t<internal/stdio_core.h> too.\n+\t(stdio_va_list): Apply to IRIX 6.5 <internal/stdio_core.h> and\n+\t<internal/wchar_core.h> too.\n+\tSubstitute va_list uses in inline definition.\n+\t* fixinc/fixincl.x: Regenerate.\n+\n 2003-07-02  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* config/mips/iris5.h (SET_FILE_NUMBER): Moved here from iris3.h."}, {"sha": "1aa7c55ee65a9509afea9e84b4df144753a7d8bd", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "patch": "@@ -2,11 +2,11 @@\n  * \n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  * \n- * It has been AutoGen-ed  Wednesday May 28, 2003 at 12:55:57 AM CDT\n+ * It has been AutoGen-ed  Wednesday July  2, 2003 at 03:26:19 AM MEST\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT CVS-MERGE THIS FILE, EITHER Wed May 28 00:55:57 CDT 2003\n+/* DO NOT CVS-MERGE THIS FILE, EITHER Wed Jul  2 03:26:20 MEST 2003\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -2559,7 +2559,7 @@ tSCC zIrix_Stdio_Va_ListName[] =\n  *  File name selection pattern\n  */\n tSCC zIrix_Stdio_Va_ListList[] =\n-  \"|stdio.h|\";\n+  \"|stdio.h|internal/stdio_core.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n@@ -4206,7 +4206,7 @@ tSCC zStdio_Va_ListName[] =\n  *  File name selection pattern\n  */\n tSCC zStdio_Va_ListList[] =\n-  \"|stdio.h|\";\n+  \"|stdio.h|internal/stdio_core.h|internal/wchar_core.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n@@ -4228,6 +4228,8 @@ static tTestDesc aStdio_Va_ListTests[] = {\n static const char* apzStdio_Va_ListPatch[] = { \"sed\",\n     \"-e\", \"s@ va_list @ __gnuc_va_list @\\n\\\n s@ va_list)@ __gnuc_va_list)@\\n\\\n+s@va_list _ap;@__gnuc_va_list _ap;@\\n\\\n+s@(va_list)&@(__gnuc_va_list)\\\\&@\\n\\\n s@ _VA_LIST_));@ __gnuc_va_list));@\\n\\\n s@ __VA_LIST__));@ __gnuc_va_list));@\\n\\\n s@ va_list@ __not_va_list__@\\n\\"}, {"sha": "5a513d3edafa887cb94c66b469bfdcd8e6cb11d5", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=1a78e5a7c6cd96eca5752c0fbaf5ab1f1ad8f037", "patch": "@@ -1440,12 +1440,14 @@ fix = {\n };\n \n /*\n- *  IRIX 5.x's stdio.h declares some functions that take a va_list as\n+ *  IRIX 5.x's stdio.h and IRIX 6.5's internal/stdio_core.h declare\n+ *  some functions that take a va_list as\n  *  taking char *.  However, GCC uses void * for va_list, so\n  *  calling vfprintf with a va_list fails in C++.  */\n fix = {\n     hackname  = irix_stdio_va_list;\n     files     = stdio.h;\n+    files     = internal/stdio_core.h;\n \n     select = '(printf\\(.*), /\\* va_list \\*/ char \\*';\n     c_fix  = format;\n@@ -2328,10 +2330,15 @@ fix = {\n  *  presence of __gnuc_va_list, __DJ_va_list, or _G_va_list is taken\n  *  to indicate that the header knows what it's doing -- under SUSv2,\n  *  stdio.h is required to define va_list, and we shouldn't break that.\n+ *  On IRIX 6.5, internal/wchar_core.h used to get its definition of\n+ *  va_list from stdio.h.  Since this doesn't happen any longer, use\n+ *  __gnuc_va_list there, too.\n  */\n fix = {\n     hackname = stdio_va_list;\n     files    = stdio.h;\n+    files    = internal/stdio_core.h;\n+    files    = internal/wchar_core.h;\n     bypass   = '__gnuc_va_list|_BSD_VA_LIST_|__DJ_va_list|_G_va_list';\n \n     /*\n@@ -2345,6 +2352,8 @@ fix = {\n      */\n     sed = \"s@ va_list @ __gnuc_va_list @\\n\"\n           \"s@ va_list)@ __gnuc_va_list)@\\n\"\n+    \t  \"s@va_list _ap;@__gnuc_va_list _ap;@\\n\"\n+\t  \"s@(va_list)&@(__gnuc_va_list)\\\\&@\\n\"\n           \"s@ _VA_LIST_));@ __gnuc_va_list));@\\n\"\n           \"s@ __VA_LIST__));@ __gnuc_va_list));@\\n\"\n           \"s@ va_list@ __not_va_list__@\\n\""}]}