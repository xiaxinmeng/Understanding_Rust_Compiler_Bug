{"sha": "47f447b17d43726d2eef73592f80a25bcafa94e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdmNDQ3YjE3ZDQzNzI2ZDJlZWY3MzU5MmY4MGEyNWJjYWZhOTRlOQ==", "commit": {"author": {"name": "Jack Howarth", "email": "howarth@bromo.med.uc.edu", "date": "2009-10-21T15:07:59Z"}, "committer": {"name": "Peter O'Gorman", "email": "pogma@gcc.gnu.org", "date": "2009-10-21T15:07:59Z"}, "message": "re PR c++/41313 (r150553 causes g++.dg/tree-prof/partition1.C compilation and execution test failures on *-apple-darwin*)\n\n2009-10-21  Jack Howarth  <howarth@bromo.med.uc.edu>\n\n\tPR c++/41313\n\t* gcc/config/darwin10.h: Use default_emit_unwind_label.\n\t* gcc/config/darwin.c: Disable -freorder-blocks-and-partition\n\twhen darwin_emit_unwind_label is used.\n\nFrom-SVN: r153057", "tree": {"sha": "458b28857685ed2fd4c0116eb04950cda554dd69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/458b28857685ed2fd4c0116eb04950cda554dd69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47f447b17d43726d2eef73592f80a25bcafa94e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f447b17d43726d2eef73592f80a25bcafa94e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47f447b17d43726d2eef73592f80a25bcafa94e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f447b17d43726d2eef73592f80a25bcafa94e9/comments", "author": null, "committer": null, "parents": [{"sha": "ad0abd3c9040a5085d7833cb964e94ce2ec59069", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad0abd3c9040a5085d7833cb964e94ce2ec59069", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad0abd3c9040a5085d7833cb964e94ce2ec59069"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "4b54c31c07bf12e9eb878ca2fca68889dcee8b70", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f447b17d43726d2eef73592f80a25bcafa94e9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f447b17d43726d2eef73592f80a25bcafa94e9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47f447b17d43726d2eef73592f80a25bcafa94e9", "patch": "@@ -1,3 +1,10 @@\n+2009-10-21  Jack Howarth  <howarth@bromo.med.uc.edu>\n+\n+\tPR c++/41313\n+\t* gcc/config/darwin10.h: Use default_emit_unwind_label.\n+\t* gcc/config/darwin.c: Disable -freorder-blocks-and-partition\n+\twhen darwin_emit_unwind_label is used.\n+\n 2009-10-21  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* tree-vect-stmts.c (exist_non_indexing_operands_for_use_p): Tweak"}, {"sha": "b5c4fb8e0d96b3ef32f70bb270126887d8d800ff", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f447b17d43726d2eef73592f80a25bcafa94e9/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f447b17d43726d2eef73592f80a25bcafa94e9/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=47f447b17d43726d2eef73592f80a25bcafa94e9", "patch": "@@ -1697,6 +1697,17 @@ darwin_override_options (void)\n   if (dwarf_strict < 0) \n     dwarf_strict = 1;\n \n+  /* Disable -freorder-blocks-and-partition for darwin_emit_unwind_label.  */\n+  if (flag_reorder_blocks_and_partition \n+      && (targetm.asm_out.unwind_label == darwin_emit_unwind_label))\n+    {\n+      inform (input_location,\n+              \"-freorder-blocks-and-partition does not work with exceptions \"\n+              \"on this architecture\");\n+      flag_reorder_blocks_and_partition = 0;\n+      flag_reorder_blocks = 1;\n+    }\n+\n   if (flag_mkernel || flag_apple_kext)\n     {\n       /* -mkernel implies -fapple-kext for C++ */"}, {"sha": "b1edf36ce3d5b66141ccb4e367e5c0ab56b9488a", "filename": "gcc/config/darwin10.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f447b17d43726d2eef73592f80a25bcafa94e9/gcc%2Fconfig%2Fdarwin10.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f447b17d43726d2eef73592f80a25bcafa94e9/gcc%2Fconfig%2Fdarwin10.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin10.h?ref=47f447b17d43726d2eef73592f80a25bcafa94e9", "patch": "@@ -23,3 +23,8 @@ unwinder in libSystem is fixed to digest new epilog unwinding notes. */\n \n #undef LIB_SPEC\n #define LIB_SPEC \"%{!static:-no_compact_unwind -lSystem}\"\n+\n+/* Unwind labels are no longer required in darwin10.  */\n+\n+#undef TARGET_ASM_EMIT_UNWIND_LABEL\n+#define TARGET_ASM_EMIT_UNWIND_LABEL default_emit_unwind_label"}]}