{"sha": "5235ddbc1493486549cd6fc599d60c13b913847c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTIzNWRkYmMxNDkzNDg2NTQ5Y2Q2ZmM1OTlkNjBjMTNiOTEzODQ3Yw==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2010-12-23T13:39:06Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2010-12-23T13:39:06Z"}, "message": "re PR fortran/46978 (TRANSPOSE with RESHAPE and ALLOCATE: Segfault)\n\n2010-12-23  Mikael Morin  <mikael@gcc.gnu.org>\n\n\tPR fortran/46978\n\t* gfortran.dg/transpose_intrinsic_func_call_1.f90: New test.\n\nFrom-SVN: r168207", "tree": {"sha": "e88f008e15a0ceab600f0aa664b0ff07fafb0e20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e88f008e15a0ceab600f0aa664b0ff07fafb0e20"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5235ddbc1493486549cd6fc599d60c13b913847c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5235ddbc1493486549cd6fc599d60c13b913847c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5235ddbc1493486549cd6fc599d60c13b913847c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5235ddbc1493486549cd6fc599d60c13b913847c/comments", "author": null, "committer": null, "parents": [{"sha": "2b63684b6e30bd1e0e33fe120566fd6298f4eea8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b63684b6e30bd1e0e33fe120566fd6298f4eea8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b63684b6e30bd1e0e33fe120566fd6298f4eea8"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "2f81d85be628c25a9b8076af2ef23080862118f8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5235ddbc1493486549cd6fc599d60c13b913847c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5235ddbc1493486549cd6fc599d60c13b913847c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5235ddbc1493486549cd6fc599d60c13b913847c", "patch": "@@ -1,3 +1,8 @@\n+2010-12-23  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/46978\n+\t* gfortran.dg/transpose_intrinsic_func_call_1.f90: New test.\n+\n 2010-12-23  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \t* obj-c.dg/gnu-api-2-class.m: Test that class_addMethod() returns"}, {"sha": "53d727d9b286859c8b4f660122ce04d6483b2d96", "filename": "gcc/testsuite/gfortran.dg/transpose_intrinsic_func_call_1.f90", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5235ddbc1493486549cd6fc599d60c13b913847c/gcc%2Ftestsuite%2Fgfortran.dg%2Ftranspose_intrinsic_func_call_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5235ddbc1493486549cd6fc599d60c13b913847c/gcc%2Ftestsuite%2Fgfortran.dg%2Ftranspose_intrinsic_func_call_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ftranspose_intrinsic_func_call_1.f90?ref=5235ddbc1493486549cd6fc599d60c13b913847c", "patch": "@@ -0,0 +1,26 @@\n+! { dg-do run }\n+!\n+! PR fortran/46978\n+! The coor assignment was using the wrong loop bounds if the argument to\n+! transpose was an intrinsic function call\n+!\n+! Original testcase by Martien Huelsen <m.a.hulsen@tue.nl>\n+! Reduced by Tobias Burnus <burnus@net-b.de>\n+\n+program elastic2\n+  implicit none\n+  real, allocatable, dimension(:,:) :: coor\n+  real, allocatable, dimension(:) :: a\n+  integer :: nno\n+  nno = 3\n+  allocate(a(2*nno))\n+  call two()\n+  coor = transpose ( reshape ( a, (/2,nno/) ) )\n+  if (any(coor /= 12)) call abort\n+contains\n+  subroutine two()\n+    allocate(coor(3,2))\n+    coor = 99\n+    a = 12\n+  end subroutine\n+end program elastic2"}]}