{"sha": "f937df35a46610a9f8eb54d28bcc8f50533c8611", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjkzN2RmMzVhNDY2MTBhOWY4ZWI1NGQyOGJjYzhmNTA1MzNjODYxMQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2005-11-30T11:12:36Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2005-11-30T11:12:36Z"}, "message": "loop-doloop.c (add_test): Only add jump notes if we did emit a jump.\n\n\t* loop-doloop.c (add_test): Only add jump notes if we did emit a\n\tjump.\n\nFrom-SVN: r107713", "tree": {"sha": "075379e525e12e54fb4ec6d03faeeca3b482222d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/075379e525e12e54fb4ec6d03faeeca3b482222d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f937df35a46610a9f8eb54d28bcc8f50533c8611", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f937df35a46610a9f8eb54d28bcc8f50533c8611", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f937df35a46610a9f8eb54d28bcc8f50533c8611", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f937df35a46610a9f8eb54d28bcc8f50533c8611/comments", "author": null, "committer": null, "parents": [{"sha": "224b4faf2097f0ed0e5a058ffee9e35fe3827bde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/224b4faf2097f0ed0e5a058ffee9e35fe3827bde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/224b4faf2097f0ed0e5a058ffee9e35fe3827bde"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "ddb830f89b7bf0995780b8068f95d1d753b7b5ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f937df35a46610a9f8eb54d28bcc8f50533c8611/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f937df35a46610a9f8eb54d28bcc8f50533c8611/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f937df35a46610a9f8eb54d28bcc8f50533c8611", "patch": "@@ -1,3 +1,8 @@\n+2005-11-30  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* loop-doloop.c (add_test): Only add jump notes if we did emit a\n+\tjump.\n+\n 2005-11-30  Jeff Law  <law@redhat.com>\n \n \t* tree-ssa-uncprop.c (associate_equivalences_with_edges): Properly"}, {"sha": "3fcb79d9dc1fe7f16fcf4e39b36c2c2f1a7a7b0b", "filename": "gcc/loop-doloop.c", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f937df35a46610a9f8eb54d28bcc8f50533c8611/gcc%2Floop-doloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f937df35a46610a9f8eb54d28bcc8f50533c8611/gcc%2Floop-doloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-doloop.c?ref=f937df35a46610a9f8eb54d28bcc8f50533c8611", "patch": "@@ -244,14 +244,18 @@ add_test (rtx cond, basic_block bb, basic_block dest)\n   do_compare_rtx_and_jump (op0, op1, code, 0, mode, NULL_RTX, NULL_RTX, label);\n \n   jump = get_last_insn ();\n-  JUMP_LABEL (jump) = label;\n+  /* It is possible for the jump to be optimized out.  */\n+  if (JUMP_P (jump))\n+    {\n+      JUMP_LABEL (jump) = label;\n \n-  /* The jump is supposed to handle an unlikely special case.  */\n-  REG_NOTES (jump)\n-\t  = gen_rtx_EXPR_LIST (REG_BR_PROB,\n-\t\t\t       const0_rtx, REG_NOTES (jump));\n+       /* The jump is supposed to handle an unlikely special case.  */\n+      REG_NOTES (jump)\n+\t= gen_rtx_EXPR_LIST (REG_BR_PROB,\n+\t\t\t     const0_rtx, REG_NOTES (jump));\n \n-  LABEL_NUSES (label)++;\n+      LABEL_NUSES (label)++;\n+    }\n \n   seq = get_insns ();\n   end_sequence ();"}]}