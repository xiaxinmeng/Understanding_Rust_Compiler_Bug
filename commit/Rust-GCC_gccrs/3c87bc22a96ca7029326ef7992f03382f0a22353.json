{"sha": "3c87bc22a96ca7029326ef7992f03382f0a22353", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2M4N2JjMjJhOTZjYTcwMjkzMjZlZjc5OTJmMDMzODJmMGEyMjM1Mw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-07-21T01:09:47Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-07-21T01:09:47Z"}, "message": "mauve.exp (mauve_find_harness_files): New proc.\n\n\t* libjava.mauve/mauve.exp (mauve_find_harness_files): New proc.\n\t(test_mauve): Use it.\n\t(test_mauve_sim): Likewise.\n\nFrom-SVN: r69620", "tree": {"sha": "5a095083c506bbcb354710a5bd8beb83b3dec403", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a095083c506bbcb354710a5bd8beb83b3dec403"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c87bc22a96ca7029326ef7992f03382f0a22353", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c87bc22a96ca7029326ef7992f03382f0a22353", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c87bc22a96ca7029326ef7992f03382f0a22353", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c87bc22a96ca7029326ef7992f03382f0a22353/comments", "author": null, "committer": null, "parents": [{"sha": "0292e50e95c622120a075a7bd04073e9c23411bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0292e50e95c622120a075a7bd04073e9c23411bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0292e50e95c622120a075a7bd04073e9c23411bc"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "8c37e22858ebd69f110ecc091c872df875794814", "filename": "libjava/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c87bc22a96ca7029326ef7992f03382f0a22353/libjava%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c87bc22a96ca7029326ef7992f03382f0a22353/libjava%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FChangeLog?ref=3c87bc22a96ca7029326ef7992f03382f0a22353", "patch": "@@ -1,3 +1,9 @@\n+2003-07-20  Tom Tromey  <tromey@redhat.com>\n+\n+\t* libjava.mauve/mauve.exp (mauve_find_harness_files): New proc.\n+\t(test_mauve): Use it.\n+\t(test_mauve_sim): Likewise.\n+\n 2003-07-19  Tom Tromey  <tromey@redhat.com>\n \n \t* libjava.verify/verify.exp (gcj_verify_list_tests): Only change"}, {"sha": "4ef1a104fd29fe744d19d182141f0e5123023527", "filename": "libjava/testsuite/libjava.mauve/mauve.exp", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c87bc22a96ca7029326ef7992f03382f0a22353/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c87bc22a96ca7029326ef7992f03382f0a22353/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp?ref=3c87bc22a96ca7029326ef7992f03382f0a22353", "patch": "@@ -74,6 +74,16 @@ proc find_mauve_sources {} {\n   return 0\n }\n \n+# Find all the harness files and return a list of them, with no\n+# suffix.\n+proc mauve_find_harness_files {} {\n+  set result {}\n+  foreach file [glob -nocomplain -- *.class gnu/testlet/*.class] {\n+    lappend result [file root $file]\n+  }\n+  return $result\n+}\n+\n # Run all the Mauve tests.  Return 1 on success, 0 on any failure.  If\n # the tests are skipped, that is treated like success.\n proc test_mauve {} {\n@@ -159,7 +169,7 @@ proc test_mauve {} {\n \n   set ok 1\n   set objlist {}\n-  foreach base {DejaGNUTestHarness gnu/testlet/SimpleTestHarness gnu/testlet/TestHarness gnu/testlet/Testlet gnu/testlet/ResourceNotFoundException gnu/testlet/config} {\n+  foreach base [mauve_find_harness_files] {\n     set file $base.class\n     set obj $base.o\n     set x [libjava_prune_warnings \\\n@@ -298,9 +308,7 @@ proc test_mauve_sim {} {\n \n   set ok 1\n   set objlist {}\n-  foreach base {gnu/testlet/SimpleTestHarness gnu/testlet/TestHarness \\\n-\t\t  gnu/testlet/Testlet gnu/testlet/ResourceNotFoundException \\\n-\t\t  gnu/testlet/config} {\n+  foreach base [mauve_find_harness_files] {\n     set file $base.class\n     set obj $base.o\n     set x [libjava_prune_warnings \\"}]}