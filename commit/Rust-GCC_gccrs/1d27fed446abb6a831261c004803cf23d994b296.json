{"sha": "1d27fed446abb6a831261c004803cf23d994b296", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQyN2ZlZDQ0NmFiYjZhODMxMjYxYzAwNDgwM2NmMjNkOTk0YjI5Ng==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2005-02-22T02:00:56Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2005-02-22T02:00:56Z"}, "message": "tree-ssa-loop-ivopts.c (computation_cost): Start register numbering at LAST_VIRTUAL_REGISTER+1 to avoid possibly using...\n\n* tree-ssa-loop-ivopts.c (computation_cost): Start register\nnumbering at LAST_VIRTUAL_REGISTER+1 to avoid possibly using hard\nregisters in unsupported ways.\n* expmed.c (init_expmed): Likewise.\n\nFrom-SVN: r95373", "tree": {"sha": "f5b0b6c3a483e1133a6d5c98e0fa842e70566ec9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5b0b6c3a483e1133a6d5c98e0fa842e70566ec9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d27fed446abb6a831261c004803cf23d994b296", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d27fed446abb6a831261c004803cf23d994b296", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d27fed446abb6a831261c004803cf23d994b296", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d27fed446abb6a831261c004803cf23d994b296/comments", "author": null, "committer": null, "parents": [{"sha": "933e5b284a41cc6e1d21805c350d9aea5ef84006", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/933e5b284a41cc6e1d21805c350d9aea5ef84006", "html_url": "https://github.com/Rust-GCC/gccrs/commit/933e5b284a41cc6e1d21805c350d9aea5ef84006"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "16cb58b19e54ed2dd46f827aef99f72c35ba4d3c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d27fed446abb6a831261c004803cf23d994b296/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d27fed446abb6a831261c004803cf23d994b296/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1d27fed446abb6a831261c004803cf23d994b296", "patch": "@@ -1,3 +1,10 @@\n+2005-02-21  DJ Delorie  <dj@redhat.com>\n+\n+\t* tree-ssa-loop-ivopts.c (computation_cost): Start register\n+\tnumbering at LAST_VIRTUAL_REGISTER+1 to avoid possibly using hard\n+\tregisters in unsupported ways.\n+\t* expmed.c (init_expmed): Likewise.\n+\t\n 2005-02-21  Stan Cox  <scox@redhat.com>\n \n \t* config/iq2000/iq2000.h (DWARF_FRAME_RETURN_COLUMN): Change to 31."}, {"sha": "afbbaf53869b38d42618e673fe1cb6064c0bd21e", "filename": "gcc/expmed.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d27fed446abb6a831261c004803cf23d994b296/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d27fed446abb6a831261c004803cf23d994b296/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=1d27fed446abb6a831261c004803cf23d994b296", "patch": "@@ -145,7 +145,8 @@ init_expmed (void)\n   memset (&all, 0, sizeof all);\n \n   PUT_CODE (&all.reg, REG);\n-  REGNO (&all.reg) = 10000;\n+  /* Avoid using hard regs in ways which may be unsupported.  */\n+  REGNO (&all.reg) = LAST_VIRTUAL_REGISTER + 1;\n \n   PUT_CODE (&all.plus, PLUS);\n   XEXP (&all.plus, 0) = &all.reg;"}, {"sha": "8b069d058d7a4fe61b93451f1b278a1bf56b4dd9", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d27fed446abb6a831261c004803cf23d994b296/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d27fed446abb6a831261c004803cf23d994b296/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=1d27fed446abb6a831261c004803cf23d994b296", "patch": "@@ -2427,7 +2427,8 @@ computation_cost (tree expr)\n   rtx seq, rslt;\n   tree type = TREE_TYPE (expr);\n   unsigned cost;\n-  int regno = 0;\n+  /* Avoid using hard regs in ways which may be unsupported.  */\n+  int regno = LAST_VIRTUAL_REGISTER + 1;\n \n   walk_tree (&expr, prepare_decl_rtl, &regno, NULL);\n   start_sequence ();"}]}