{"sha": "ea9b01d4ff31637cc034c182102198b3cfcb0ea9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWE5YjAxZDRmZjMxNjM3Y2MwMzRjMTgyMTAyMTk4YjNjZmNiMGVhOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2014-12-16T21:36:53Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2014-12-16T21:36:53Z"}, "message": "re PR go/61246 (gccgo: ICE in do_determine_types [GoSmith])\n\n\tPR go/61246\ncompiler: Switch expression comparisons should be boolean typed.\n\nFrom-SVN: r218794", "tree": {"sha": "a9235fdd3621d1a86d359831a4190adaeeedb9b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9235fdd3621d1a86d359831a4190adaeeedb9b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea9b01d4ff31637cc034c182102198b3cfcb0ea9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea9b01d4ff31637cc034c182102198b3cfcb0ea9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea9b01d4ff31637cc034c182102198b3cfcb0ea9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea9b01d4ff31637cc034c182102198b3cfcb0ea9/comments", "author": null, "committer": null, "parents": [{"sha": "e49aee92bb85865aa0512ed5e827c1a93fdcd928", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e49aee92bb85865aa0512ed5e827c1a93fdcd928", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e49aee92bb85865aa0512ed5e827c1a93fdcd928"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "6eb0d7bcc78991e3bdfd8c4153d36f1af5ab3704", "filename": "gcc/go/gofrontend/statements.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea9b01d4ff31637cc034c182102198b3cfcb0ea9/gcc%2Fgo%2Fgofrontend%2Fstatements.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea9b01d4ff31637cc034c182102198b3cfcb0ea9/gcc%2Fgo%2Fgofrontend%2Fstatements.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fstatements.cc?ref=ea9b01d4ff31637cc034c182102198b3cfcb0ea9", "patch": "@@ -3857,7 +3857,11 @@ Switch_statement::do_lower(Gogo*, Named_object*, Block* enclosing,\n   Expression* val = this->val_;\n   if (val == NULL)\n     val = Expression::make_boolean(true, loc);\n-  Temporary_statement* val_temp = Statement::make_temporary(NULL, val, loc);\n+\n+  Type* type = val->type();\n+  if (type->is_abstract())\n+    type = type->make_non_abstract_type();\n+  Temporary_statement* val_temp = Statement::make_temporary(type, val, loc);\n   b->add_statement(val_temp);\n \n   this->clauses_->lower(b, val_temp, this->break_label());"}]}