{"sha": "d1c6a352cad473edbacecad5ceb49eaaa4e67a52", "node_id": "C_kwDOANBUbNoAKGQxYzZhMzUyY2FkNDczZWRiYWNlY2FkNWNlYjQ5ZWFhYTRlNjdhNTI", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-01-16T10:03:30Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-01-16T10:03:30Z"}, "message": "contrib: Partial fix for failed update-copyright --this year [PR108413]\n\nAs mentioned on IRC or in PR108413, the last update-copyright.py --this year\nfailed and that is why we are in a strange state where some copyrights have\nbeen updated and others have not.\nThe full list of errors I got was I think:\ngcc/m2/mc-boot/GmcOptions.c: unrecognised copyright: comment (f, (const char *) \"Copyright (C) ''2021'' Free Software Foundation, Inc.\", 53);\ngcc/m2/mc-boot/GmcOptions.c: unrecognised copyright: comment (f, (const char *) \"Copyright (C) ''2021'' Free Software Foundation, Inc.\", 53);\ngcc/testsuite/gm2/switches/pedantic-params/pass/Strings.mod: unrecognised copyright holder: Faculty of Information Technology,\ngcc/testsuite/gm2/switches/pedantic-params/pass/Strings2.mod: unrecognised copyright holder: Faculty of Information Technology,\nlibphobos/libdruntime/__builtins.di: unrecognised copyright: * Copyright: Copyright Digital Mars 2022\nlibstdc++-v3/src/c++17/fast_float/fast_float.h: unrecognised copyright holder: The fast_float authors\nlibstdc++-v3/include/c_compatibility/stdatomic.h: unrecognised copyright holder: The GCC developers\n\nThe following patch deals with the gcc/testsuite/gm2 ones and\nwith the fast_float.h one, ok for trunk?\n\nNot really sure what we should do in the GmcOptions.c case\n(perhaps obfuscate it in the source somehow by splitting\nthe string literals into different substrings\nPerhaps \"Copy\" \"right (\" \"C) ''...\" would do it?  Or do we want\nto bump there each year (manually or by the script)?\nE.g. in gcc.cc we have\n      printf (\"Copyright %s 2023 Free Software Foundation, Inc.\\n\",\n              _(\"(C)\"));\nwhich also prints (C) nicer in Unicode if possible and is updated\nby hand each year.\n\nI have no idea about the libphobos case, we have tons of\nlibphobos/src/std/format/spec.d:Copyright: Copyright The D Language Foundation 2000-2013.\nlibphobos/src/std/random.d:Copyright: Copyright Andrei Alexandrescu 2008 - 2009, Joseph Rushton Wakeling 2012.\netc. lines and those aren't reported as errors.\n\nAnd the last one is that I think for The GCC developers we should treat it\nsimilarly like FSF and bump copyright on it.\nWould\n        canon_gcc = 'The GCC developers'\n        self.add_package_author ('The GCC developers', canon_gcc)\n        self.add_package_author ('The GCC Developers', canon_gcc)\nor something similar do the trick?\n\n2023-01-16  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR other/108413\n\t* update-copyright.py (TestsuiteFilter): Add .mod and .rs extensions.\n\t(GCCCopyright): Add 'The fast_float authors' as external author.", "tree": {"sha": "40311ce6dadea7869a3d9c15a9ecd723f171c628", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40311ce6dadea7869a3d9c15a9ecd723f171c628"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1c6a352cad473edbacecad5ceb49eaaa4e67a52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1c6a352cad473edbacecad5ceb49eaaa4e67a52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1c6a352cad473edbacecad5ceb49eaaa4e67a52", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1c6a352cad473edbacecad5ceb49eaaa4e67a52/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b0907b4fc455377e5f8109f427d97da02b6aec9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b0907b4fc455377e5f8109f427d97da02b6aec9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b0907b4fc455377e5f8109f427d97da02b6aec9"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "529032c677b7f76c5f1d50985adcb579d3a33a30", "filename": "contrib/update-copyright.py", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1c6a352cad473edbacecad5ceb49eaaa4e67a52/contrib%2Fupdate-copyright.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1c6a352cad473edbacecad5ceb49eaaa4e67a52/contrib%2Fupdate-copyright.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fupdate-copyright.py?ref=d1c6a352cad473edbacecad5ceb49eaaa4e67a52", "patch": "@@ -596,6 +596,8 @@ def __init__ (self):\n                 '.go',\n                 '.inc',\n                 '.java',\n+                '.mod',\n+                '.rs'\n                 ])\n \n     def skip_file (self, dir, filename):\n@@ -733,6 +735,7 @@ def __init__ (self, errors):\n         self.add_external_author ('Stephen L. Moshier')\n         self.add_external_author ('Sun Microsystems, Inc. All rights reserved.')\n         self.add_external_author ('The D Language Foundation, All Rights Reserved')\n+        self.add_external_author ('The fast_float authors')\n         self.add_external_author ('The Go Authors.  All rights reserved.')\n         self.add_external_author ('The Go Authors. All rights reserved.')\n         self.add_external_author ('The Go Authors.')"}]}