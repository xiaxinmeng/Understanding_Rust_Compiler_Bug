{"sha": "9e8b2461bd1f8b308ca1d0fe406e46a97822316c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU4YjI0NjFiZDFmOGIzMDhjYTFkMGZlNDA2ZTQ2YTk3ODIyMzE2Yw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-11-16T00:33:56Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-11-16T00:33:56Z"}, "message": "(relax_delay_slots): When invert a conditional jump over a single unconditional jump...\n\n(relax_delay_slots): When invert a conditional jump over a single\nunconditional jump, invert the INSN_FROM_TARGET_P bit of insns in the\ndelay slots.\n\nFrom-SVN: r8452", "tree": {"sha": "eeea59ec6818a934db499319c58434037bd8197e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eeea59ec6818a934db499319c58434037bd8197e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e8b2461bd1f8b308ca1d0fe406e46a97822316c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e8b2461bd1f8b308ca1d0fe406e46a97822316c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e8b2461bd1f8b308ca1d0fe406e46a97822316c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e8b2461bd1f8b308ca1d0fe406e46a97822316c/comments", "author": null, "committer": null, "parents": [{"sha": "1324c5deb7f14b9b44806c91c1589fe396fec7f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1324c5deb7f14b9b44806c91c1589fe396fec7f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1324c5deb7f14b9b44806c91c1589fe396fec7f9"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "cd7d6528f24bfd1f186a3baa3f0b1041935824a0", "filename": "gcc/reorg.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8b2461bd1f8b308ca1d0fe406e46a97822316c/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8b2461bd1f8b308ca1d0fe406e46a97822316c/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=9e8b2461bd1f8b308ca1d0fe406e46a97822316c", "patch": "@@ -3972,6 +3972,17 @@ relax_delay_slots (first)\n \n \t      if (invert_jump (delay_insn, label))\n \t\t{\n+\t\t  int i;\n+\n+\t\t  /* Must update the INSN_FROM_TARGET_P bits now that\n+\t\t     the branch is reversed, so that mark_target_live_regs\n+\t\t     will handle the delay slot insn correctly.  */\n+\t\t  for (i = 1; i < XVECLEN (PATTERN (insn), 0); i++)\n+\t\t    {\n+\t\t      rtx slot = XVECEXP (PATTERN (insn), 0, i);\n+\t\t      INSN_FROM_TARGET_P (slot) = ! INSN_FROM_TARGET_P (slot);\n+\t\t    }\n+\n \t\t  delete_insn (next);\n \t\t  next = insn;\n \t\t}"}]}