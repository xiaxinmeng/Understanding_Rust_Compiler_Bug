{"sha": "226e5736c08614621ef64dd7f710f6af006d082a", "node_id": "C_kwDOANBUbNoAKDIyNmU1NzM2YzA4NjE0NjIxZWY2NGRkN2Y3MTBmNmFmMDA2ZDA4MmE", "commit": {"author": {"name": "Philip Herron", "email": "herron.philip@googlemail.com", "date": "2023-02-06T17:48:06Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2023-02-14T22:55:07Z"}, "message": "gccrs: Add new virtual function HIR::ImplItem::get_impl_item_name\n\nSigned-off-by: Philip Herron <herron.philip@googlemail.com>\n\ngcc/rust/ChangeLog:\n\n\t* hir/tree/rust-hir-item.h: implement virtual function\n\t* hir/tree/rust-hir.h: add virtual function", "tree": {"sha": "813114a15c6eaeb7f3c4a567bf14f5de3bd47254", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/813114a15c6eaeb7f3c4a567bf14f5de3bd47254"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/226e5736c08614621ef64dd7f710f6af006d082a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/226e5736c08614621ef64dd7f710f6af006d082a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/226e5736c08614621ef64dd7f710f6af006d082a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/226e5736c08614621ef64dd7f710f6af006d082a/comments", "author": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a10df8a219b6aabcb9af73f1134021083d511538", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a10df8a219b6aabcb9af73f1134021083d511538", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a10df8a219b6aabcb9af73f1134021083d511538"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "03e1f71abb53777ce75ae1a8d421758fd06f961c", "filename": "gcc/rust/hir/tree/rust-hir-item.h", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/226e5736c08614621ef64dd7f710f6af006d082a/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-item.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/226e5736c08614621ef64dd7f710f6af006d082a/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-item.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-item.h?ref=226e5736c08614621ef64dd7f710f6af006d082a", "patch": "@@ -1226,6 +1226,11 @@ class Function : public VisItem, public ImplItem\n \n   SelfParam &get_self_param () { return self; }\n \n+  std::string get_impl_item_name () const override final\n+  {\n+    return get_function_name ();\n+  }\n+\n protected:\n   /* Use covariance to implement clone function as returning this object\n    * rather than base */\n@@ -1345,6 +1350,11 @@ class TypeAlias : public VisItem, public ImplItem\n     return get_mappings ();\n   };\n \n+  std::string get_impl_item_name () const override final\n+  {\n+    return get_new_type_name ();\n+  }\n+\n protected:\n   /* Use covariance to implement clone function as returning this object\n    * rather than base */\n@@ -2116,7 +2126,7 @@ class ConstantItem : public VisItem, public ImplItem\n \n   Expr *get_expr () { return const_expr.get (); }\n \n-  std::string get_identifier () { return identifier; }\n+  std::string get_identifier () const { return identifier; }\n \n   Analysis::NodeMapping get_impl_mappings () const override\n   {\n@@ -2130,6 +2140,11 @@ class ConstantItem : public VisItem, public ImplItem\n \n   ItemKind get_item_kind () const override { return ItemKind::Constant; }\n \n+  std::string get_impl_item_name () const override final\n+  {\n+    return get_identifier ();\n+  }\n+\n protected:\n   /* Use covariance to implement clone function as returning this object\n    * rather than base */"}, {"sha": "28f1f21a6bb4b2ef5e01756e09483b54508bc747", "filename": "gcc/rust/hir/tree/rust-hir.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/226e5736c08614621ef64dd7f710f6af006d082a/gcc%2Frust%2Fhir%2Ftree%2Frust-hir.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/226e5736c08614621ef64dd7f710f6af006d082a/gcc%2Frust%2Fhir%2Ftree%2Frust-hir.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir.h?ref=226e5736c08614621ef64dd7f710f6af006d082a", "patch": "@@ -839,6 +839,8 @@ class ImplItem : public Node\n \n   virtual ImplItemType get_impl_item_type () const = 0;\n \n+  virtual std::string get_impl_item_name () const = 0;\n+\n protected:\n   // Clone function implementation as pure virtual method\n   virtual ImplItem *clone_inherent_impl_item_impl () const = 0;"}]}