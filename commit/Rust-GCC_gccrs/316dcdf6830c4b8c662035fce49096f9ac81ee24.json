{"sha": "316dcdf6830c4b8c662035fce49096f9ac81ee24", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE2ZGNkZjY4MzBjNGI4YzY2MjAzNWZjZTQ5MDk2ZjlhYzgxZWUyNA==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@redhat.com", "date": "2001-06-22T22:20:42Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2001-06-22T22:20:42Z"}, "message": "basic-block.h (dump_edge_info): Declare.\n\n2001-06-22  Diego Novillo  <dnovillo@redhat.com>\n\n\t* basic-block.h (dump_edge_info): Declare.\n\t(clear_edges): Declare.\n\t(mark_critical_edges): Declare.\n\t* flow.c (dump_edge_info): Remove static declaration.\n\t(clear_edges): Ditto.\n\t(mark_critical_edges): Ditto.\n\t(free_basic_block_vars): Only clear edges and free basic block\n\tarray if basic_block_info is not NULL.\n\t* ssa.c (compute_dominance_frontiers): Remove static declaration.\n\t* ssa.h (compute_dominance_frontiers): Declare.\n\nFrom-SVN: r43518", "tree": {"sha": "6a6c46aab4b02ff1686a4500b33664db8735565c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a6c46aab4b02ff1686a4500b33664db8735565c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/316dcdf6830c4b8c662035fce49096f9ac81ee24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/316dcdf6830c4b8c662035fce49096f9ac81ee24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/316dcdf6830c4b8c662035fce49096f9ac81ee24", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/316dcdf6830c4b8c662035fce49096f9ac81ee24/comments", "author": null, "committer": null, "parents": [{"sha": "1b28186a60548d3e4eb6db9cbe5c7bbae0bd47e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b28186a60548d3e4eb6db9cbe5c7bbae0bd47e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b28186a60548d3e4eb6db9cbe5c7bbae0bd47e3"}], "stats": {"total": 37, "additions": 26, "deletions": 11}, "files": [{"sha": "057efe45598ea464a61f9db948e11458963a199b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=316dcdf6830c4b8c662035fce49096f9ac81ee24", "patch": "@@ -1,3 +1,16 @@\n+2001-06-22  Diego Novillo  <dnovillo@redhat.com>\n+\n+\t* basic-block.h (dump_edge_info): Declare.\n+\t(clear_edges): Declare.\n+\t(mark_critical_edges): Declare.\n+\t* flow.c (dump_edge_info): Remove static declaration.\n+\t(clear_edges): Ditto.\n+\t(mark_critical_edges): Ditto.\n+\t(free_basic_block_vars): Only clear edges and free basic block\n+\tarray if basic_block_info is not NULL.\n+\t* ssa.c (compute_dominance_frontiers): Remove static declaration.\n+\t* ssa.h (compute_dominance_frontiers): Declare.\n+\n 2001-06-22  Toshiyasu Morita  (toshiyasu.morita@hsa.hitachi.com)\n \n \t* predict.c: (expected_value_to_br_prob): Check for const_true_rtx"}, {"sha": "515d222c2b5fd68b4ebf0eb160b686844700564f", "filename": "gcc/basic-block.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fbasic-block.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fbasic-block.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbasic-block.h?ref=316dcdf6830c4b8c662035fce49096f9ac81ee24", "patch": "@@ -290,6 +290,9 @@ extern int flow_delete_block\t\tPARAMS ((basic_block));\n extern void merge_blocks_nomove\t\tPARAMS ((basic_block, basic_block));\n extern void tidy_fallthru_edge\t\tPARAMS ((edge, basic_block,\n \t\t\t\t\t\t basic_block));\n+extern void dump_edge_info\t\tPARAMS ((FILE *, edge, int));\n+extern void clear_edges\t\t\tPARAMS ((void));\n+extern void mark_critical_edges\t\tPARAMS ((void));\n \n /* Structure to hold information for each natural loop.  */\n struct loop"}, {"sha": "2d7ee8047d943b84b33d66a164968d3f725c4611", "filename": "gcc/flow.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=316dcdf6830c4b8c662035fce49096f9ac81ee24", "patch": "@@ -364,12 +364,10 @@ typedef struct depth_first_search_dsS *depth_first_search_ds;\n static int count_basic_blocks\t\tPARAMS ((rtx));\n static void find_basic_blocks_1\t\tPARAMS ((rtx));\n static rtx find_label_refs\t\tPARAMS ((rtx, rtx));\n-static void clear_edges\t\t\tPARAMS ((void));\n static void make_edges\t\t\tPARAMS ((rtx));\n static void make_label_edge\t\tPARAMS ((sbitmap *, basic_block,\n \t\t\t\t\t\t rtx, int));\n static void make_eh_edge\t\tPARAMS ((sbitmap *, basic_block, rtx));\n-static void mark_critical_edges\t\tPARAMS ((void));\n \n static void commit_one_edge_insertion\tPARAMS ((edge));\n \n@@ -434,7 +432,6 @@ static void mark_used_regs\t\tPARAMS ((struct propagate_block_info *,\n \t\t\t\t\t\t rtx, rtx, rtx));\n void dump_flow_info\t\t\tPARAMS ((FILE *));\n void debug_flow_info\t\t\tPARAMS ((void));\n-static void dump_edge_info\t\tPARAMS ((FILE *, edge, int));\n static void print_rtl_and_abort_fcn\tPARAMS ((const char *, int,\n \t\t\t\t\t\t const char *))\n \t\t\t\t\tATTRIBUTE_NORETURN;\n@@ -1118,7 +1115,7 @@ compute_bb_for_insn (max)\n \n /* Free the memory associated with the edge structures.  */\n \n-static void\n+void\n clear_edges ()\n {\n   int i;\n@@ -1432,7 +1429,7 @@ make_eh_edge (edge_cache, src, insn)\n \n /* Identify critical edges and set the bits appropriately.  */\n \n-static void\n+void\n mark_critical_edges ()\n {\n   int i, n = n_basic_blocks;\n@@ -3094,8 +3091,11 @@ free_basic_block_vars (keep_head_end_p)\n \n   if (! keep_head_end_p)\n     {\n-      clear_edges ();\n-      VARRAY_FREE (basic_block_info);\n+      if (basic_block_info)\n+\t{\n+\t  clear_edges ();\n+\t  VARRAY_FREE (basic_block_info);\n+\t}\n       n_basic_blocks = 0;\n \n       ENTRY_BLOCK_PTR->aux = NULL;\n@@ -6390,7 +6390,7 @@ debug_flow_info ()\n   dump_flow_info (stderr);\n }\n \n-static void\n+void\n dump_edge_info (file, e, do_succ)\n      FILE *file;\n      edge e;"}, {"sha": "97e259b3d9f99e48e8029cee9678020dc67a5d0e", "filename": "gcc/ssa.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fssa.c?ref=316dcdf6830c4b8c662035fce49096f9ac81ee24", "patch": "@@ -166,8 +166,6 @@ static rtx first_insn_after_basic_block_note\n   PARAMS ((basic_block));\n static void compute_dominance_frontiers_1\n   PARAMS ((sbitmap *frontiers, int *idom, int bb, sbitmap done));\n-static void compute_dominance_frontiers\n-  PARAMS ((sbitmap *frontiers, int *idom));\n static void find_evaluations_1\n   PARAMS ((rtx dest, rtx set, void *data));\n static void find_evaluations\n@@ -558,7 +556,7 @@ compute_dominance_frontiers_1 (frontiers, idom, bb, done)\n       }\n }\n \n-static void\n+void\n compute_dominance_frontiers (frontiers, idom)\n      sbitmap *frontiers;\n      int *idom;"}, {"sha": "5eb97855b7035cdbd585fd6442bd5baeaba7598c", "filename": "gcc/ssa.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fssa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/316dcdf6830c4b8c662035fce49096f9ac81ee24/gcc%2Fssa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fssa.h?ref=316dcdf6830c4b8c662035fce49096f9ac81ee24", "patch": "@@ -27,6 +27,7 @@ typedef int (*successor_phi_fn)         PARAMS ((rtx, int, int, void *));\n extern int for_each_successor_phi       PARAMS ((basic_block bb,\n \t\t\t\t\t\t successor_phi_fn,\n \t\t\t\t\t\t void *));\n+void compute_dominance_frontiers\tPARAMS ((sbitmap *frontiers, int *idom));\n extern int remove_phi_alternative\tPARAMS ((rtx, basic_block));\n \n "}]}