{"sha": "b0c2b2f9345175370ef1d485eb326a58486fd108", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjBjMmIyZjkzNDUxNzUzNzBlZjFkNDg1ZWIzMjZhNTg0ODZmZDEwOA==", "commit": {"author": {"name": "Jason Thorpe", "email": "thorpej@wasabisystems.com", "date": "2002-09-15T18:14:18Z"}, "committer": {"name": "Jason Thorpe", "email": "thorpej@gcc.gnu.org", "date": "2002-09-15T18:14:18Z"}, "message": "netbsd.h (LIB_SPEC): Include the appropriate pthread library if -pthread is specified.\n\n* config/netbsd.h (LIB_SPEC): Include the appropriate pthread\nlibrary if -pthread is specified.\n\nFrom-SVN: r57164", "tree": {"sha": "41fb57985cf24878b6cf2a1308e14942670a7e2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41fb57985cf24878b6cf2a1308e14942670a7e2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b0c2b2f9345175370ef1d485eb326a58486fd108", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c2b2f9345175370ef1d485eb326a58486fd108", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0c2b2f9345175370ef1d485eb326a58486fd108", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c2b2f9345175370ef1d485eb326a58486fd108/comments", "author": null, "committer": null, "parents": [{"sha": "a0494c057ab0c2771725bbf8281c652060a5fff5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0494c057ab0c2771725bbf8281c652060a5fff5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0494c057ab0c2771725bbf8281c652060a5fff5"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "9055d877827a2a805b3c713ffe5ae1dfc820756f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0c2b2f9345175370ef1d485eb326a58486fd108/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0c2b2f9345175370ef1d485eb326a58486fd108/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b0c2b2f9345175370ef1d485eb326a58486fd108", "patch": "@@ -1,3 +1,8 @@\n+2002-09-15  Jason Thorpe  <thorpej@wasabisystems.com>\n+\n+\t* config/netbsd.h (LIB_SPEC): Include the appropriate pthread\n+\tlibrary if -pthread is specified.\n+\n 2002-09-15  Jason Thorpe  <thorpej@wasabisystems.com>\n \n \t* config.gcc (*-*-netbsd*): Set thread_file to 'posix'"}, {"sha": "b57d412e53b6ef385f2534160eed8379367d2184", "filename": "gcc/config/netbsd.h", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0c2b2f9345175370ef1d485eb326a58486fd108/gcc%2Fconfig%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0c2b2f9345175370ef1d485eb326a58486fd108/gcc%2Fconfig%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd.h?ref=b0c2b2f9345175370ef1d485eb326a58486fd108", "patch": "@@ -77,14 +77,23 @@ Boston, MA 02111-1307, USA.  */\n #endif /* NETBSD_NATIVE */\n \n \n-/* Provide a LIB_SPEC appropriate for NetBSD.  Just select the appropriate\n-   libc, depending on whether we're doing profiling; if `-posix' is specified,\n-   link against the appropriate libposix first.  Don't include libc when\n-   linking a shared library.  */\n+/* Provide a LIB_SPEC appropriate for NetBSD.  Here we:\n+\n+   1. Select the appropriate set of libs, depending on whether we're\n+      profiling.\n+\n+   2. Include the pthread library if -pthread is specified.\n+\n+   3. Include the posix library if -posix is specified.  */\n \n #undef LIB_SPEC\n #define LIB_SPEC\t\t\\\n-  \"%{posix:\t\t\t\\\n+  \"%{pthread:\t\t\t\\\n+     %{!p:\t\t\t\\\n+       %{!pg:-lpthread}}\t\\\n+     %{p:-lpthread_p}\t\t\\\n+     %{pg:-lpthread_p}}\t\t\\\n+   %{posix:\t\t\t\\\n      %{!p:\t\t\t\\\n        %{!pg:-lposix}}\t\t\\\n      %{p:-lposix_p}\t\t\\"}]}