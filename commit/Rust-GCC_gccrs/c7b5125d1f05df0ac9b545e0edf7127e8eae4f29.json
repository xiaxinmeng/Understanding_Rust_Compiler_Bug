{"sha": "c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdiNTEyNWQxZjA1ZGYwYWM5YjU0NWUwZWRmNzEyN2U4ZWFlNGYyOQ==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2011-02-07T08:20:56Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2011-02-07T08:20:56Z"}, "message": "re PR lto/47225 (cross-compile fails while configuring libgcc with \"xgcc: fatal error: -fuse-linker-plugin, but liblto_plugin.so not found\")\n\n2011-02-07  Kai Tietz  <kai.tietz@onevision.com>\n\n        PR lto/47225\n        * Makefile.am (Wl): New helper for encoding -Wl,.\n        (liblto_plugin_la_LIBADD): Use -Wl for libiberty library.\n        * Makefile.in: Regenerated.\n\nFrom-SVN: r169877", "tree": {"sha": "1720c83155cfd109562b677dcf45ec9fbd4c397e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1720c83155cfd109562b677dcf45ec9fbd4c397e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/comments", "author": null, "committer": null, "parents": [{"sha": "38be4072f980e8e0cefe5a0107afb1bea250b041", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38be4072f980e8e0cefe5a0107afb1bea250b041", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38be4072f980e8e0cefe5a0107afb1bea250b041"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "1fae1365787fe2c8cfa726658e8d374e5817e910", "filename": "lto-plugin/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/lto-plugin%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/lto-plugin%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FChangeLog?ref=c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "patch": "@@ -1,3 +1,10 @@\n+2011-02-07  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\tPR lto/47225\n+\t* Makefile.am (Wl): New helper for encoding -Wl,.\n+\t(liblto_plugin_la_LIBADD): Use -Wl for libiberty library.\n+\t* Makefile.in: Regenerated.\n+\n 2011-01-25  Ian Lance Taylor  <iant@google.com>\n \n \t* lto-plugin.c (gold_version): New static variable."}, {"sha": "1e4405389cf7a551fdecc5dab526876398b782ec", "filename": "lto-plugin/Makefile.am", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/lto-plugin%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/lto-plugin%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FMakefile.am?ref=c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "patch": "@@ -11,11 +11,13 @@ AM_CPPFLAGS = -I$(top_srcdir)/../include $(DEFS)\n AM_CFLAGS = -Wall -Werror\n AM_LIBTOOLFLAGS = --tag=disable-static\n \n+# This can go away when libiberty becomes a normal convenience library\n+Wl=-Wl,\n libexecsub_LTLIBRARIES = liblto_plugin.la\n \n liblto_plugin_la_SOURCES = lto-plugin.c\n liblto_plugin_la_LIBADD = \\\n-\t$(if $(wildcard ../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n+\t$(if $(wildcard ../libiberty/pic/libiberty.a),$(Wl)../libiberty/pic/libiberty.a,)\n # Note that we intentionally override the bindir supplied by ACX_LT_HOST_FLAGS\n liblto_plugin_la_LDFLAGS = $(lt_host_flags) -bindir $(libexecsubdir) \\\n \t$(if $(wildcard ../libiberty/pic/libiberty.a),,-Wc,../libiberty/libiberty.a)"}, {"sha": "f1595f7aa2fee1b457d9791457f61b3aa9cb5ad7", "filename": "lto-plugin/Makefile.in", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/lto-plugin%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7b5125d1f05df0ac9b545e0edf7127e8eae4f29/lto-plugin%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FMakefile.in?ref=c7b5125d1f05df0ac9b545e0edf7127e8eae4f29", "patch": "@@ -82,7 +82,7 @@ am__base_list = \\\n am__installdirs = \"$(DESTDIR)$(libexecsubdir)\"\n LTLIBRARIES = $(libexecsub_LTLIBRARIES)\n liblto_plugin_la_DEPENDENCIES = $(if $(wildcard \\\n-\t../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n+\t../libiberty/pic/libiberty.a),$(Wl)../libiberty/pic/libiberty.a,)\n am_liblto_plugin_la_OBJECTS = lto-plugin.lo\n liblto_plugin_la_OBJECTS = $(am_liblto_plugin_la_OBJECTS)\n liblto_plugin_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \\\n@@ -231,10 +231,13 @@ libexecsubdir := $(libexecdir)/gcc/$(target_noncanonical)/$(gcc_version)\n AM_CPPFLAGS = -I$(top_srcdir)/../include $(DEFS)\n AM_CFLAGS = -Wall -Werror\n AM_LIBTOOLFLAGS = --tag=disable-static\n+\n+# This can go away when libiberty becomes a normal convenience library\n+Wl = -Wl,\n libexecsub_LTLIBRARIES = liblto_plugin.la\n liblto_plugin_la_SOURCES = lto-plugin.c\n liblto_plugin_la_LIBADD = \\\n-\t$(if $(wildcard ../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n+\t$(if $(wildcard ../libiberty/pic/libiberty.a),$(Wl)../libiberty/pic/libiberty.a,)\n \n # Note that we intentionally override the bindir supplied by ACX_LT_HOST_FLAGS\n liblto_plugin_la_LDFLAGS = $(lt_host_flags) -bindir $(libexecsubdir) \\"}]}