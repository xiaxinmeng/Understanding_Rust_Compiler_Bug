{"sha": "7ac88634ad7825b671a22dfd9bbbadc8264b8175", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2FjODg2MzRhZDc4MjViNjcxYTIyZGZkOWJiYmFkYzgyNjRiODE3NQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2003-12-11T20:47:10Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2003-12-11T20:47:10Z"}, "message": "mips.c (mips_global_pointer): Force functions with a nonlocal goto to set up $gp.\n\n\t* config/mips/mips.c (mips_global_pointer): Force functions with\n\ta nonlocal goto to set up $gp.\n\nFrom-SVN: r74547", "tree": {"sha": "0fb40284d492ea6eeaafe3d4b63d24947d0c5941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0fb40284d492ea6eeaafe3d4b63d24947d0c5941"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ac88634ad7825b671a22dfd9bbbadc8264b8175", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac88634ad7825b671a22dfd9bbbadc8264b8175", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ac88634ad7825b671a22dfd9bbbadc8264b8175", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac88634ad7825b671a22dfd9bbbadc8264b8175/comments", "author": null, "committer": null, "parents": [{"sha": "1ec7a83137275efef6050bb652ac57af2ce05f8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ec7a83137275efef6050bb652ac57af2ce05f8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ec7a83137275efef6050bb652ac57af2ce05f8e"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "746a76c84e8b484d0662723e845b0fef3c24b875", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ac88634ad7825b671a22dfd9bbbadc8264b8175/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ac88634ad7825b671a22dfd9bbbadc8264b8175/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7ac88634ad7825b671a22dfd9bbbadc8264b8175", "patch": "@@ -1,3 +1,8 @@\n+2003-12-11  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.c (mips_global_pointer): Force functions with\n+\ta nonlocal goto to set up $gp.\n+\n 2003-12-11  James E Wilson  <wilson@specifixinc.com>\n \n \tPR target/13132"}, {"sha": "d5d230cbe1f1bdec27aab79d838030fed9b6f923", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ac88634ad7825b671a22dfd9bbbadc8264b8175/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ac88634ad7825b671a22dfd9bbbadc8264b8175/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=7ac88634ad7825b671a22dfd9bbbadc8264b8175", "patch": "@@ -6052,6 +6052,11 @@ mips_global_pointer (void)\n   if (current_function_profile)\n     return GLOBAL_POINTER_REGNUM;\n \n+  /* If the function has a nonlocal goto, $gp must hold the correct\n+     global pointer for the target function.  */\n+  if (current_function_has_nonlocal_goto)\n+    return GLOBAL_POINTER_REGNUM;\n+\n   /* If the gp is never referenced, there's no need to initialize it.\n      Note that reload can sometimes introduce constant pool references\n      into a function that otherwise didn't need them.  For example,"}]}