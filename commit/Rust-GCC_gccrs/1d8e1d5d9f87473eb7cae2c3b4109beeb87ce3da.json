{"sha": "1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ4ZTFkNWQ5Zjg3NDczZWI3Y2FlMmMzYjQxMDliZWViODdjZTNkYQ==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2009-07-10T04:37:19Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2009-07-10T04:37:19Z"}, "message": "re PR fortran/39334 (Recusive parameter kind produces segfault)\n\n2009-07-10  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/39334\n\t* primary.c (match_kind_param): Return MATCH_NO if the symbol\n\thas no value.\n\n2009-07-10  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/39334\n\t* gfortran.dg/recursive_parameter_1.f90: New test.\n\nFrom-SVN: r149456", "tree": {"sha": "acac293dc5f471528a2212769313f49c38c37ac8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acac293dc5f471528a2212769313f49c38c37ac8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/comments", "author": null, "committer": null, "parents": [{"sha": "b9263ae5900c9881553383d8c66ea25a2b02e52c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9263ae5900c9881553383d8c66ea25a2b02e52c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9263ae5900c9881553383d8c66ea25a2b02e52c"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "20894cb2870d940fd4388403025eeccd1e322af0", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "patch": "@@ -1,3 +1,9 @@\n+2009-07-10  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/39334\n+\t* primary.c (match_kind_param): Return MATCH_NO if the symbol\n+\thas no value.\n+\n 2008-07-09  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/40629"}, {"sha": "8013cc86d1e10aa75e539472b4334fe9b38c9162", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "patch": "@@ -57,6 +57,9 @@ match_kind_param (int *kind)\n   if (sym->attr.flavor != FL_PARAMETER)\n     return MATCH_NO;\n \n+  if (sym->value == NULL)\n+    return MATCH_NO;\n+\n   p = gfc_extract_int (sym->value, kind);\n   if (p != NULL)\n     return MATCH_NO;"}, {"sha": "48711da3da03adc73f534dac99b56d7ef610a496", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "patch": "@@ -1,3 +1,8 @@\n+2009-07-10  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/39334\n+\t* gfortran.dg/recursive_parameter_1.f90: New test.\n+\n 2009-07-09  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \t* gfortran.dg/c_kind_tests_2.f03: clean-up leftover module(s)."}, {"sha": "8a13d254f4910044f809618281416c3f227f4c0d", "filename": "gcc/testsuite/gfortran.dg/recursive_parameter_1.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ftestsuite%2Fgfortran.dg%2Frecursive_parameter_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da/gcc%2Ftestsuite%2Fgfortran.dg%2Frecursive_parameter_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Frecursive_parameter_1.f90?ref=1d8e1d5d9f87473eb7cae2c3b4109beeb87ce3da", "patch": "@@ -0,0 +1,11 @@\n+! { dg-do compile }\n+! Tests the fix for PR39334 in which the recursive parameter declaration\n+! caused a sgfault.\n+!\n+! Reported by James van Buskirk on comp.lang.fortran\n+!\n+program recursive_parameter\n+   implicit none\n+   integer, parameter :: dp = kind(1.0_dp) ! { dg-error \"Missing kind-parameter\" }\n+   write(*,*) dp ! { dg-error \"has no IMPLICIT type\" }\n+end program recursive_parameter"}]}