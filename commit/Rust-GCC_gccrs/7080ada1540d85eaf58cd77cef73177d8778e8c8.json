{"sha": "7080ada1540d85eaf58cd77cef73177d8778e8c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA4MGFkYTE1NDBkODVlYWY1OGNkNzdjZWY3MzE3N2Q4Nzc4ZThjOA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2002-02-27T01:26:04Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2002-02-27T01:26:04Z"}, "message": "cpp.texi: Clarify documentation of relationship between #line and #include.\n\n\t* doc/cpp.texi: Clarify documentation of relationship between\n\t#line and #include.\n\nFrom-SVN: r50079", "tree": {"sha": "12f8dccac388230c8b710268dd6bd2607710880a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12f8dccac388230c8b710268dd6bd2607710880a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7080ada1540d85eaf58cd77cef73177d8778e8c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7080ada1540d85eaf58cd77cef73177d8778e8c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7080ada1540d85eaf58cd77cef73177d8778e8c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7080ada1540d85eaf58cd77cef73177d8778e8c8/comments", "author": null, "committer": null, "parents": [{"sha": "b42cff6bff5a7442358e730614540088d7b6b416", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b42cff6bff5a7442358e730614540088d7b6b416", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b42cff6bff5a7442358e730614540088d7b6b416"}], "stats": {"total": 43, "additions": 42, "deletions": 1}, "files": [{"sha": "05415534fc7f0a21f4d2ece1fd3c602519fe8b33", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7080ada1540d85eaf58cd77cef73177d8778e8c8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7080ada1540d85eaf58cd77cef73177d8778e8c8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7080ada1540d85eaf58cd77cef73177d8778e8c8", "patch": "@@ -1,3 +1,8 @@\n+2002-02-26  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* doc/cpp.texi: Clarify documentation of relationship between\n+\t#line and #include.\n+\n 2002-02-26  Kazu Hirata  <kazu@hxi.com>\n \n \t* config/h8300/h8300-protos.h: Update the prototype for"}, {"sha": "d672e575cf5b3e39827d047f12783f6ae98da472", "filename": "gcc/doc/cpp.texi", "status": "modified", "additions": 37, "deletions": 1, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7080ada1540d85eaf58cd77cef73177d8778e8c8/gcc%2Fdoc%2Fcpp.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7080ada1540d85eaf58cd77cef73177d8778e8c8/gcc%2Fdoc%2Fcpp.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fcpp.texi?ref=7080ada1540d85eaf58cd77cef73177d8778e8c8", "patch": "@@ -3044,7 +3044,35 @@ The result should match one of the above two forms.\n @samp{#line} directives alter the results of the @code{__FILE__} and\n @code{__LINE__} predefined macros from that point on.  @xref{Standard\n Predefined Macros}.  They do not have any effect on @samp{#include}'s\n-idea of the directory containing the current file.\n+idea of the directory containing the current file.  This is a change\n+from GCC 2.95.  Previously, a file reading\n+\n+@smallexample\n+#line 1 \"../src/gram.y\"\n+#include \"gram.h\"\n+@end smallexample\n+\n+would search for @file{gram.h} in @file{../src}, then the @option{-I}\n+chain; the directory containing the physical source file would not be\n+searched.  In GCC 3.0 and later, the @samp{#include} is not affected by\n+the presence of a @samp{#line} referring to a different directory.\n+\n+We made this change because the old behavior caused problems when\n+generated source files were transported between machines.  For instance,\n+it is common practice to ship generated parsers with a source release,\n+so that people building the distribution do not need to have yacc or\n+Bison installed.  These files frequently have @samp{#line} directives\n+referring to the directory tree of the system where the distribution was\n+created.  If GCC tries to search for headers in those directories, the\n+build is likely to fail.\n+\n+The new behavior can cause failures too, if the generated file is not\n+in the same directory as its source and it attempts to include a header\n+which would be visible searching from the directory containing the\n+source file.  However, this problem is easily solved with an additional\n+@option{-I} switch on the command line.  The failures caused by the old\n+semantics could sometimes be corrected only by editing the generated\n+files, which is difficult and error-prone.\n \n @node Pragmas\n @chapter Pragmas\n@@ -3780,6 +3808,14 @@ were still available in traditional mode.  It is now a separate program\n and does not implement any of the GNU extensions, except for a partial\n implementation of assertions.  Even those may be removed in a future\n release.\n+\n+@item @samp{#line} and @samp{#include}\n+\n+The @samp{#line} directive used to change GCC's notion of the\n+``directory containing the current file,'' used by @samp{#include} with\n+a double-quoted header file name.  In 3.0 and later, it does not.\n+@xref{Line Control}, for further explanation.\n+\n @end itemize\n \n @node Invocation"}]}