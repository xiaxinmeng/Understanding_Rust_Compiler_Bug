{"sha": "b5674962f18be68ae4b22042b09fd251ccd09ed1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjU2NzQ5NjJmMThiZTY4YWU0YjIyMDQyYjA5ZmQyNTFjY2QwOWVkMQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-06-30T17:27:54Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2004-06-30T17:27:54Z"}, "message": "3000.md: Improve description.\n\n2004-06-30  Richard Sandiford  <rsandifo@redhat.com>\n\t    Eric Christopher  <echristo@redhat.com>\n\n\t* config/mips/3000.md: Improve description.\n\nFrom-SVN: r83917", "tree": {"sha": "73ff6cba0291db6bf79d9fcbfaaf713fe71786d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73ff6cba0291db6bf79d9fcbfaaf713fe71786d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5674962f18be68ae4b22042b09fd251ccd09ed1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5674962f18be68ae4b22042b09fd251ccd09ed1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5674962f18be68ae4b22042b09fd251ccd09ed1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5674962f18be68ae4b22042b09fd251ccd09ed1/comments", "author": null, "committer": null, "parents": [{"sha": "74fe2f96ca0834c247e3241eab98567de677cdc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74fe2f96ca0834c247e3241eab98567de677cdc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74fe2f96ca0834c247e3241eab98567de677cdc6"}], "stats": {"total": 88, "additions": 51, "deletions": 37}, "files": [{"sha": "04562d7d06665c7c33afb234ddc77e829da1f240", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5674962f18be68ae4b22042b09fd251ccd09ed1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5674962f18be68ae4b22042b09fd251ccd09ed1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5674962f18be68ae4b22042b09fd251ccd09ed1", "patch": "@@ -1,3 +1,8 @@\n+2004-06-30  Richard Sandiford  <rsandifo@redhat.com>\n+\t    Eric Christopher  <echristo@redhat.com>\n+\n+\t* config/mips/3000.md: Improve description.\n+\n 2004-06-30  Paul Brook  <paul@codesourcery.com>\n \n \t* config/arm/cirrus.md (cirrus_arm_movdi, cirrus_movsf_hard_insn,\n@@ -146,7 +151,7 @@\n \n 2004-06-29  Per Bothner  <per@bothner.com>\n \n-\t* config/i386/winnt.c (i386_pe_encode_section_info):  Smash rtlname's \n+\t* config/i386/winnt.c (i386_pe_encode_section_info):  Smash rtlname's\n \tXSTR in place, so we don't lose SYMBOL_REF_DECL info.\n \n 2004-06-29  Zack Weinberg  <zack@codesourcery.com>"}, {"sha": "8c9a0d6429f5b24e9146003175b6d9c56027c2fa", "filename": "gcc/config/mips/3000.md", "status": "modified", "additions": 45, "deletions": 36, "changes": 81, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5674962f18be68ae4b22042b09fd251ccd09ed1/gcc%2Fconfig%2Fmips%2F3000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5674962f18be68ae4b22042b09fd251ccd09ed1/gcc%2Fconfig%2Fmips%2F3000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F3000.md?ref=b5674962f18be68ae4b22042b09fd251ccd09ed1", "patch": "@@ -2,68 +2,77 @@\n ;; This is a special pipeline - this is also the default schedule and\n ;; so we need to schedule instructions that may not exist on the r2k/r3k.\n \n-;; Generic processor description that assumes that the only latencies are for\n-;; hazards or delay slots, otherwise everything is assumed to issue and execute\n-;; in one cycle.\n-(define_automaton \"r3k\")\n+(define_automaton \"r3k_alu,r3k_imuldiv\")\n \n-(define_cpu_unit \"r3k_alu\" \"r3k\")\n+(define_cpu_unit \"r3k_alu\" \"r3k_alu\")\n+(define_cpu_unit \"r3k_imuldiv\" \"r3k_imuldiv\")\n \n-(define_insn_reservation \"r3k_generic_alu\" 1\n+(define_insn_reservation \"r3k_generic\" 1\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (eq_attr \"type\" \"unknown,prefetch,prefetchx,condmove,mthilo,const,arith,shift,slt,clz,trap,fmove,fadd,fmadd,fabs,fneg,fcvt,fsqrt,frsqrt,multi,nop\"))\n+       (eq_attr \"type\" \"unknown,prefetch,prefetchx,condmove,const,arith,\n+\t\t\tshift,slt,clz,trap,multi,nop\"))\n   \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_load_alu\" 2\n+(define_insn_reservation \"r3k_load\" 2\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (eq_attr \"type\" \"load, fpload, fpidxload, xfer\"))\n-  \"r3k_alu*2\")\n+       (eq_attr \"type\" \"load,fpload,fpidxload,xfer\"))\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_call_alu\" 2\n+(define_insn_reservation \"r3k_store\" 1\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (eq_attr \"type\" \"branch,jump,call\"))\n-  \"r3k_alu*2\")\n+       (eq_attr \"type\" \"store,fpstore,fpidxstore\"))\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_hilo_alu\" 3\n+(define_insn_reservation \"r3k_branch\" 1\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (eq_attr \"type\" \"mfhilo\"))\n-  \"r3k_alu*3\")\n+       (eq_attr \"type\" \"branch,jump,call\"))\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_fcmp_alu\" 2\n+(define_insn_reservation \"r3k_hilo\" 1\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (eq_attr \"type\" \"fcmp, fadd\"))\n-  \"r3k_alu*2\")\n+       (eq_attr \"type\" \"mfhilo,mthilo\"))\n+  \"r3k_imuldiv*3\")\n \n-(define_insn_reservation \"r3k_imul_alu\" 12\n+(define_insn_reservation \"r3k_imul\" 12\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (eq_attr \"type\" \"imul, imadd\"))\n-  \"r3k_alu*12\")\n+       (eq_attr \"type\" \"imul,imadd\"))\n+  \"r3k_imuldiv*12\")\n \n-(define_insn_reservation \"r3k_idiv_alu\" 35\n+(define_insn_reservation \"r3k_idiv\" 35\n   (and (eq_attr \"cpu\" \"r3000\")\n        (eq_attr \"type\" \"idiv\"))\n-  \"r3k_alu*35\")\n+  \"r3k_imuldiv*35\")\n+\n+(define_insn_reservation \"r3k_fmove\" 1\n+  (and (eq_attr \"cpu\" \"r3000\")\n+       (eq_attr \"type\" \"fabs,fneg,fmove,fcvt\"))\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_fmul_single_alu\" 4\n+(define_insn_reservation \"r3k_fadd\" 2\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (and (eq_attr \"type\" \"fmul\")\n+       (eq_attr \"type\" \"fcmp,fadd\"))\n+  \"r3k_alu\")\n+\n+(define_insn_reservation \"r3k_fmul_single\" 4\n+  (and (eq_attr \"cpu\" \"r3000\")\n+       (and (eq_attr \"type\" \"fmul,fmadd\")\n \t    (eq_attr \"mode\" \"SF\")))\n-  \"r3k_alu*4\")\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_fmul_double_alu\" 5\n+(define_insn_reservation \"r3k_fmul_double\" 5\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (and (eq_attr \"type\" \"fmul\")\n+       (and (eq_attr \"type\" \"fmul,fmadd\")\n \t    (eq_attr \"mode\" \"DF\")))\n-  \"r3k_alu*5\")\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_fdiv_single_alu\" 12\n+(define_insn_reservation \"r3k_fdiv_single\" 12\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"SF\")))\n-  \"r3k_alu*12\")\n+  \"r3k_alu\")\n \n-(define_insn_reservation \"r3k_fdiv_double_alu\" 19\n+(define_insn_reservation \"r3k_fdiv_double\" 19\n   (and (eq_attr \"cpu\" \"r3000\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"DF\")))\n-  \"r3k_alu*19\")\n+  \"r3k_alu\")"}]}