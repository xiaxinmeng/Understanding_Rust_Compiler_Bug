{"sha": "51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTFhNmE0MDQ0YzllZWQ1M2Q4NmIzZjc5Y2E1YzNjN2I4N2FkZTM5ZA==", "commit": {"author": {"name": "Damian Rouson", "email": "damian@sourceryinstitute.org", "date": "2019-10-13T17:16:40Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-10-13T17:16:40Z"}, "message": "re PR fortran/91513 (Non-standard terminology in error message for pointer component assignment in pure procedure)\n\n2019-10-13  Damian Rouson  <damain@sourceryinstitue.org>\n\n\tPR fortran/91513\n\t* resolve.c (resolve_ordinary_assign): Improved error message.\n\n2019-10-13  Damian Rouson  <damain@sourceryinstitue.org>\n\n\tPR fortran/91513\n\t* gfortran.dg/impure_assignment_2.f90: Update dg-error regex.\n\nFrom-SVN: r276941", "tree": {"sha": "6673f4326e8f02402502f3d4eeb2a061615e69cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6673f4326e8f02402502f3d4eeb2a061615e69cf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/comments", "author": {"login": "rouson", "id": 13108868, "node_id": "MDQ6VXNlcjEzMTA4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/13108868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rouson", "html_url": "https://github.com/rouson", "followers_url": "https://api.github.com/users/rouson/followers", "following_url": "https://api.github.com/users/rouson/following{/other_user}", "gists_url": "https://api.github.com/users/rouson/gists{/gist_id}", "starred_url": "https://api.github.com/users/rouson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rouson/subscriptions", "organizations_url": "https://api.github.com/users/rouson/orgs", "repos_url": "https://api.github.com/users/rouson/repos", "events_url": "https://api.github.com/users/rouson/events{/privacy}", "received_events_url": "https://api.github.com/users/rouson/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5284fba56ec3392a61b2fe066027253868274156", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5284fba56ec3392a61b2fe066027253868274156", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5284fba56ec3392a61b2fe066027253868274156"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "2892011b740e48c5113bed3dc1591cb6f8f98ab5", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "patch": "@@ -1,3 +1,8 @@\n+2019-10-13  Damian Rouson  <damain@sourceryinstitue.org>\n+\n+\tPR fortran/91513\n+\t* resolve.c (resolve_ordinary_assign): Improved error message.\n+\n 2019-10-13  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/90297"}, {"sha": "93f2d0aa7612c74a10998b394cb721e9c9a40086", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "patch": "@@ -10769,9 +10769,12 @@ resolve_ordinary_assign (gfc_code *code, gfc_namespace *ns)\n \t\t\t\"component in a PURE procedure\",\n \t\t\t&rhs->where);\n \t  else\n-\t    gfc_error (\"The impure variable at %L is assigned to \"\n-\t\t\t\"a derived type variable with a POINTER \"\n-\t\t\t\"component in a PURE procedure (12.6)\",\n+\t  /* F2008, C1283 (4).  */\n+\t    gfc_error (\"In a pure subprogram an INTENT(IN) dummy argument \"\n+\t\t\t\"shall not be used as the expr at %L of an intrinsic \"\n+\t\t\t\"assignment statement in which the variable is of a \"\n+\t\t\t\"derived type if the derived type has a pointer \"\n+\t\t\t\"component at any level of component selection.\",\n \t\t\t&rhs->where);\n \t  return rval;\n \t}"}, {"sha": "eca8cc6e44dabde8490642c7df9ecb225ec34666", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "patch": "@@ -1,3 +1,8 @@\n+2019-10-13  Damian Rouson  <damain@sourceryinstitue.org>\n+\n+\tPR fortran/91513\n+\t* gfortran.dg/impure_assignment_2.f90: Update dg-error regex.\n+\n 2019-10-13  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/92017"}, {"sha": "1c1da4b9ee3b6d2a319e42a22cdd9ee898140e0b", "filename": "gcc/testsuite/gfortran.dg/impure_assignment_2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ftestsuite%2Fgfortran.dg%2Fimpure_assignment_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d/gcc%2Ftestsuite%2Fgfortran.dg%2Fimpure_assignment_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fimpure_assignment_2.f90?ref=51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "patch": "@@ -40,7 +40,7 @@ PURE integer FUNCTION give_next2(i)\n   PURE FUNCTION give_next3(node)\n      TYPE(node_type), intent(in) :: node\n      TYPE(node_type) :: give_next\n-     give_next = node ! { dg-error \"impure variable\" }\n+     give_next = node ! { dg-error \"pure subprogram\" }\n   END FUNCTION\n END MODULE pr20863\n "}]}