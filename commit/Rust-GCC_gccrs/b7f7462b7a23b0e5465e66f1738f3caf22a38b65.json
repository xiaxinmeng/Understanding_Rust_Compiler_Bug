{"sha": "b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdmNzQ2MmI3YTIzYjBlNTQ2NWU2NmYxNzM4ZjNjYWYyMmEzOGI2NQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-12-02T09:14:57Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-12-02T09:14:57Z"}, "message": "flow.c (delete_block): Call set_last_insn after we have reset NEXT_INSN (kept_tail).\n\n8\n        * flow.c (delete_block): Call set_last_insn after we have reset\n        NEXT_INSN (kept_tail).\n\nFrom-SVN: r24059", "tree": {"sha": "6d4572e2f7f7ef36b60eaf29f14af7759886dc81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d4572e2f7f7ef36b60eaf29f14af7759886dc81"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7f7462b7a23b0e5465e66f1738f3caf22a38b65/comments", "author": null, "committer": null, "parents": [{"sha": "2536e1eefe226d841cee6d45dd11031b75e862d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2536e1eefe226d841cee6d45dd11031b75e862d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2536e1eefe226d841cee6d45dd11031b75e862d8"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "cc76a9ccb2b519527206d290692c087da2b9ba92", "filename": "gcc/flow.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7f7462b7a23b0e5465e66f1738f3caf22a38b65/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7f7462b7a23b0e5465e66f1738f3caf22a38b65/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "patch": "@@ -1026,11 +1026,15 @@ delete_block (i)\n       NEXT_INSN (PREV_INSN (basic_block_head[i])) = kept_head;\n       if (insn != 0)\n \tPREV_INSN (insn) = kept_tail;\n-      else\n-\tset_last_insn (kept_tail);\n \n       PREV_INSN (kept_head) = PREV_INSN (basic_block_head[i]);\n       NEXT_INSN (kept_tail) = insn;\n+\n+      /* This must happen after NEXT_INSN (kept_tail) has been reinitialized\n+\t since set_last_insn will abort if it detects a non-NULL NEXT_INSN\n+\t field in its argument.  */\n+      if (insn == NULL_RTX)\n+\tset_last_insn (kept_tail);\n     }\n \n   /* Each time we delete some basic blocks,"}]}