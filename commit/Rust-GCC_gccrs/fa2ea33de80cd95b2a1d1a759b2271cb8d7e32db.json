{"sha": "fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmEyZWEzM2RlODBjZDk1YjJhMWQxYTc1OWIyMjcxY2I4ZDdlMzJkYg==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2010-09-27T15:46:07Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-09-27T15:46:07Z"}, "message": "objc-act.c (objc_get_class_reference): Use CP_TYPE_CONTEXT.\n\n2010-09-27  Richard Guenther  <rguenther@suse.de>\n\n\t* objc-act.c (objc_get_class_reference): Use CP_TYPE_CONTEXT.\n\t(objc_is_global_reference_p): Use DECL_FILE_SCOPE_P.\n\nFrom-SVN: r164652", "tree": {"sha": "5df1b0528ff2655dcc5b87833cc2f50741b81bba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5df1b0528ff2655dcc5b87833cc2f50741b81bba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1787f59e44205f742abeffc49c28fb31f72a2723", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1787f59e44205f742abeffc49c28fb31f72a2723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1787f59e44205f742abeffc49c28fb31f72a2723"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "9a2e46b96ab1d782de837d1ad79e2f4b9e7dec6a", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db", "patch": "@@ -1,3 +1,8 @@\n+2010-09-27  Richard Guenther  <rguenther@suse.de>\n+\n+\t* objc-act.c (objc_get_class_reference): Use CP_TYPE_CONTEXT.\n+\t(objc_is_global_reference_p): Use DECL_FILE_SCOPE_P.\n+\n 2010-09-26  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \t* objc-act.c: Removed historical, obsolete comment at the top of"}, {"sha": "e4483da7adb4a94c70ee059d9597748449f2f779", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=fa2ea33de80cd95b2a1d1a759b2271cb8d7e32db", "patch": "@@ -2858,8 +2858,8 @@ objc_get_class_reference (tree ident)\n \t     : TREE_TYPE (ident));\n \n #ifdef OBJCPLUS\n-  if (TYPE_P (ident) && TYPE_CONTEXT (ident)\n-      && TYPE_CONTEXT (ident) != global_namespace)\n+  if (TYPE_P (ident)\n+      && CP_TYPE_CONTEXT (ident) != global_namespace)\n     local_scope = true;\n #endif\n \n@@ -3251,7 +3251,7 @@ objc_is_global_reference_p (tree expr)\n   return (TREE_CODE (expr) == INDIRECT_REF || TREE_CODE (expr) == PLUS_EXPR\n \t  ? objc_is_global_reference_p (TREE_OPERAND (expr, 0))\n \t  : DECL_P (expr)\n-\t  ? (!DECL_CONTEXT (expr) || TREE_STATIC (expr))\n+\t  ? (DECL_FILE_SCOPE_P (expr) || TREE_STATIC (expr))\n \t  : 0);\n }\n "}]}