{"sha": "d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDAzOTU4Y2ZkZmEwMWMzYWQ2M2FjNTBjMTkwYTA1NmYxYWRkNGRjMA==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2017-02-28T08:42:06Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2017-02-28T08:42:06Z"}, "message": "Miscellaneous optimization group fixes\n\n\tgcc/\n\t* doc/optinfo.texi (Optimization groups): Fix option used for\n\tOPTGROUP_ALL.\n\t* doc/invoke.texi (-fopt-info): Document \"omp\".\n\t* dumpfile.h: Sort OPTGROUP_OMP before OPTGROUP_VEC.\n\t(OPTGROUP_ALL): Add OPTGROUP_OMP.\n\t* hsa-gen.c (pass_data_gen_hsail): Use OPTGROUP_OMP.\n\t* ipa-hsa.c (pass_data_ipa_hsa): Likewise.\n\t* omp-simd-clone.c (pass_data_omp_simd_clone): Likewise.\n\nFrom-SVN: r245769", "tree": {"sha": "a76496c7d223c849bbaf2617aed91afecf7fe85b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a76496c7d223c849bbaf2617aed91afecf7fe85b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fd2b8c8bd3839a847cc40adc78561ab73448e4cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd2b8c8bd3839a847cc40adc78561ab73448e4cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd2b8c8bd3839a847cc40adc78561ab73448e4cb"}], "stats": {"total": 25, "additions": 18, "deletions": 7}, "files": [{"sha": "cd9552175ffc06209be003803bf9b4b046367e53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -1,5 +1,14 @@\n 2017-02-28  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\t* doc/optinfo.texi (Optimization groups): Fix option used for\n+\tOPTGROUP_ALL.\n+\t* doc/invoke.texi (-fopt-info): Document \"omp\".\n+\t* dumpfile.h: Sort OPTGROUP_OMP before OPTGROUP_VEC.\n+\t(OPTGROUP_ALL): Add OPTGROUP_OMP.\n+\t* hsa-gen.c (pass_data_gen_hsail): Use OPTGROUP_OMP.\n+\t* ipa-hsa.c (pass_data_ipa_hsa): Likewise.\n+\t* omp-simd-clone.c (pass_data_omp_simd_clone): Likewise.\n+\n \t* dumpfile.h (OPTGROUP_OPENMP): Rename to OPTGROUP_OMP.  Adjust\n \tall users.\n \t* dumpfile.c (optgroup_options): Instead of \"openmp\", associate"}, {"sha": "d90c95c112d11c84fae4fbde2608b62b88ebd531", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -13155,6 +13155,8 @@ Enable dumps from all interprocedural optimizations.\n Enable dumps from all loop optimizations.\n @item inline\n Enable dumps from all inlining optimizations.\n+@item omp\n+Enable dumps from all OMP (Offloading and Multi Processing) optimizations.\n @item vec\n Enable dumps from all vectorization optimizations.\n @item optall"}, {"sha": "e17cb371aa816e511d3460d7a8cb26ac1b964111", "filename": "gcc/doc/optinfo.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fdoc%2Foptinfo.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fdoc%2Foptinfo.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Foptinfo.texi?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -70,7 +70,7 @@ Vectorization passes. Enabled by @option{-vec}.\n All other optimization passes which do not fall into one of the above.\n \n @item OPTGROUP_ALL\n-All optimization passes. Enabled by @option{-all}.\n+All optimization passes. Enabled by @option{-optall}.\n \n @end ftable\n "}, {"sha": "fef58f5e9b1b55bb8f91d1921991029d4a0dc1a9", "filename": "gcc/dumpfile.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fdumpfile.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fdumpfile.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdumpfile.h?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -98,12 +98,12 @@ enum tree_dump_index\n #define OPTGROUP_IPA         (1 << 1)   /* IPA optimization passes */\n #define OPTGROUP_LOOP        (1 << 2)   /* Loop optimization passes */\n #define OPTGROUP_INLINE      (1 << 3)   /* Inlining passes */\n-#define OPTGROUP_VEC         (1 << 4)   /* Vectorization passes */\n-#define OPTGROUP_OMP         (1 << 5)   /* OMP (Offloading and Multi\n+#define OPTGROUP_OMP         (1 << 4)   /* OMP (Offloading and Multi\n \t\t\t\t\t   Processing) transformations */\n+#define OPTGROUP_VEC         (1 << 5)   /* Vectorization passes */\n #define OPTGROUP_OTHER       (1 << 6)   /* All other passes */\n #define OPTGROUP_ALL\t     (OPTGROUP_IPA | OPTGROUP_LOOP | OPTGROUP_INLINE \\\n-                              | OPTGROUP_VEC | OPTGROUP_OTHER)\n+                              | OPTGROUP_OMP | OPTGROUP_VEC | OPTGROUP_OTHER)\n \n /* Define a tree dump switch.  */\n struct dump_file_info"}, {"sha": "7b69d64ac97b8bccd0f59c095e1d605eb242bd8c", "filename": "gcc/hsa-gen.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fhsa-gen.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fhsa-gen.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhsa-gen.c?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -6474,7 +6474,7 @@ const pass_data pass_data_gen_hsail =\n {\n   GIMPLE_PASS,\n   \"hsagen\",\t \t\t\t/* name */\n-  OPTGROUP_NONE,\t\t\t/* optinfo_flags */\n+  OPTGROUP_OMP,\t\t\t\t/* optinfo_flags */\n   TV_NONE,\t\t\t\t/* tv_id */\n   PROP_cfg | PROP_ssa,\t\t\t/* properties_required */\n   0,\t\t\t\t\t/* properties_provided */"}, {"sha": "c02dadaa016ecdb025e595683d17dd7b5b569ffe", "filename": "gcc/ipa-hsa.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fipa-hsa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fipa-hsa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-hsa.c?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -289,7 +289,7 @@ const pass_data pass_data_ipa_hsa =\n {\n   IPA_PASS, /* type */\n   \"hsa\", /* name */\n-  OPTGROUP_NONE, /* optinfo_flags */\n+  OPTGROUP_OMP, /* optinfo_flags */\n   TV_IPA_HSA, /* tv_id */\n   0, /* properties_required */\n   0, /* properties_provided */"}, {"sha": "99589d44664609cb5ff59ca3e0d61c9759d92400", "filename": "gcc/omp-simd-clone.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fomp-simd-clone.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03958cfdfa01c3ad63ac50c190a056f1add4dc0/gcc%2Fomp-simd-clone.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-simd-clone.c?ref=d03958cfdfa01c3ad63ac50c190a056f1add4dc0", "patch": "@@ -1690,7 +1690,7 @@ const pass_data pass_data_omp_simd_clone =\n {\n   SIMPLE_IPA_PASS,\t\t/* type */\n   \"simdclone\",\t\t\t/* name */\n-  OPTGROUP_NONE,\t\t/* optinfo_flags */\n+  OPTGROUP_OMP,\t\t\t/* optinfo_flags */\n   TV_NONE,\t\t\t/* tv_id */\n   ( PROP_ssa | PROP_cfg ),\t/* properties_required */\n   0,\t\t\t\t/* properties_provided */"}]}