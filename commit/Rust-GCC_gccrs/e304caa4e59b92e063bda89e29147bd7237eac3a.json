{"sha": "e304caa4e59b92e063bda89e29147bd7237eac3a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTMwNGNhYTRlNTliOTJlMDYzYmRhODllMjkxNDdiZDcyMzdlYWMzYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2014-07-20T21:00:51Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2014-07-20T21:00:51Z"}, "message": "cse.c (exp_equiv_p): For GCSE...\n\n\t* cse.c (exp_equiv_p) <MEM>: For GCSE, return 0 for expressions with\n\tdifferent trapping status if -fnon-call-exceptions is enabled.\n\nFrom-SVN: r212879", "tree": {"sha": "1c4e16db6a44569a60735424bb076e93f3c03a36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c4e16db6a44569a60735424bb076e93f3c03a36"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e304caa4e59b92e063bda89e29147bd7237eac3a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e304caa4e59b92e063bda89e29147bd7237eac3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e304caa4e59b92e063bda89e29147bd7237eac3a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e304caa4e59b92e063bda89e29147bd7237eac3a/comments", "author": null, "committer": null, "parents": [{"sha": "d6cd6e226f990518183cb2c87ced5d9ae70bb4d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6cd6e226f990518183cb2c87ced5d9ae70bb4d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6cd6e226f990518183cb2c87ced5d9ae70bb4d5"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "efb67bac4c0b5c58eaf67c97497d84700586ec8b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e304caa4e59b92e063bda89e29147bd7237eac3a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e304caa4e59b92e063bda89e29147bd7237eac3a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e304caa4e59b92e063bda89e29147bd7237eac3a", "patch": "@@ -1,3 +1,8 @@\n+2014-07-20  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* cse.c (exp_equiv_p) <MEM>: For GCSE, return 0 for expressions with\n+\tdifferent trapping status if -fnon-call-exceptions is enabled.\n+\n 2014-07-20  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* expr.c (store_field): Handle VOIDmode for calls that return values"}, {"sha": "34f93643cdfee61dd675d5e75fc9bb370e8d643a", "filename": "gcc/cse.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e304caa4e59b92e063bda89e29147bd7237eac3a/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e304caa4e59b92e063bda89e29147bd7237eac3a/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=e304caa4e59b92e063bda89e29147bd7237eac3a", "patch": "@@ -2687,6 +2687,13 @@ exp_equiv_p (const_rtx x, const_rtx y, int validate, bool for_gcse)\n \t     the same attributes share the same mem_attrs data structure.  */\n \t  if (MEM_ATTRS (x) != MEM_ATTRS (y))\n \t    return 0;\n+\n+\t  /* If we are handling exceptions, we cannot consider two expressions\n+\t     with different trapping status as equivalent, because simple_mem\n+\t     might accept one and reject the other.  */\n+\t  if (cfun->can_throw_non_call_exceptions\n+\t      && (MEM_NOTRAP_P (x) != MEM_NOTRAP_P (y)))\n+\t    return 0;\n \t}\n       break;\n "}]}