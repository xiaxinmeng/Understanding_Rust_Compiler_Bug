{"sha": "9b226f90938905516f8bb3bd10b1d49ae1493bf3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWIyMjZmOTA5Mzg5MDU1MTZmOGJiM2JkMTBiMWQ0OWFlMTQ5M2JmMw==", "commit": {"author": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1994-10-27T22:50:06Z"}, "committer": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1994-10-27T22:50:06Z"}, "message": "(process_command): Don't forget to split -Wl arguments at commas.\n\nFrom-SVN: r8350", "tree": {"sha": "6d3d04ab2d701f8433779c0603f6d7703b194aa1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d3d04ab2d701f8433779c0603f6d7703b194aa1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b226f90938905516f8bb3bd10b1d49ae1493bf3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b226f90938905516f8bb3bd10b1d49ae1493bf3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b226f90938905516f8bb3bd10b1d49ae1493bf3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b226f90938905516f8bb3bd10b1d49ae1493bf3/comments", "author": null, "committer": null, "parents": [{"sha": "368dfd3a5b2916890f3208ebe358f550fac7e4c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/368dfd3a5b2916890f3208ebe358f550fac7e4c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/368dfd3a5b2916890f3208ebe358f550fac7e4c3"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "f9ab8f4c964453e023c6fb479ab700adae9bb22d", "filename": "gcc/gcc.c", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b226f90938905516f8bb3bd10b1d49ae1493bf3/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b226f90938905516f8bb3bd10b1d49ae1493bf3/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=9b226f90938905516f8bb3bd10b1d49ae1493bf3", "patch": "@@ -2583,7 +2583,12 @@ process_command (argc, argv)\n \t/* The +e options to the C++ front-end.  */\n \tn_switches++;\n       else if (strncmp (argv[i], \"-Wl,\", 4) == 0)\n-\tn_infiles++;\n+\t{\n+\t  int j;\n+\t  /* Split the argument at commas.  */\n+\t  for (j = 3; argv[i][j]; j++)\n+\t    n_infiles += (argv[i][j] == ',');\n+\t}\n       else if (strcmp (argv[i], \"-Xlinker\") == 0)\n \t{\n \t  if (i + 1 == argc)\n@@ -2794,8 +2799,20 @@ process_command (argc, argv)\n \t}\n       else if (strncmp (argv[i], \"-Wl,\", 4) == 0)\n \t{\n+\t  int prev, j;\n+\t  /* Split the argument at commas.  */\n+\t  prev = 4;\n+\t  for (j = 4; argv[i][j]; j++)\n+\t    if (argv[i][j] == ',')\n+\t      {\n+\t\tinfiles[n_infiles].language = spec_lang;\n+\t\tinfiles[n_infiles++].name\n+\t\t  = save_string (argv[i] + prev, j - prev);\n+\t\tprev = j + 1;\n+\t      }\n+\t  /* Record the part after the last comma.  */\n \t  infiles[n_infiles].language = spec_lang;\n-\t  infiles[n_infiles++].name = argv[i] + 4;\n+\t  infiles[n_infiles++].name = argv[i] + prev;\n \t}\n       else if (strcmp (argv[i], \"-Xlinker\") == 0)\n \t{"}]}