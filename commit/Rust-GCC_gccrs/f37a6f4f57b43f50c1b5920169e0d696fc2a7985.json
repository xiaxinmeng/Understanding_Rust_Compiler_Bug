{"sha": "f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjM3YTZmNGY1N2I0M2Y1MGMxYjU5MjAxNjllMGQ2OTZmYzJhNzk4NQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2006-01-06T12:27:14Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2006-01-06T12:27:14Z"}, "message": "tree-dfa.c (mark_new_vars_to_rename): Create stmt annotation, if necessary.\n\n2006-01-06  Richard Guenther  <rguenther@suse.de>\n\n\t* tree-dfa.c (mark_new_vars_to_rename): Create stmt\n\tannotation, if necessary.\n\t* tree-ssa-pre.c (create_expression_by_pieces): Remove\n\tredundant calls to update_stmt.\n\t* tree-ssa-forwprop.c (tidy_after_forward_propagate_addr):\n\tLikewise.\n\nFrom-SVN: r109416", "tree": {"sha": "bbbbd052ce8b081cd8692e3a8756f3a53ebcd797", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbbbd052ce8b081cd8692e3a8756f3a53ebcd797"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fd09ac0cf712e7dfbd25bccff1db810193cc7b17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd09ac0cf712e7dfbd25bccff1db810193cc7b17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd09ac0cf712e7dfbd25bccff1db810193cc7b17"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "93bd4e1b16f7609eab464141809ff435dbbf7b4e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "patch": "@@ -1,3 +1,12 @@\n+2006-01-06  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree-dfa.c (mark_new_vars_to_rename): Create stmt\n+\tannotation, if necessary.\n+\t* tree-ssa-pre.c (create_expression_by_pieces): Remove\n+\tredundant calls to update_stmt.\n+\t* tree-ssa-forwprop.c (tidy_after_forward_propagate_addr):\n+\tLikewise.\n+\n 2006-01-05  Richard Henderson  <rth@redhat.com>\n \n \t* c-parser.c (c_parser_objc_methodprotolist): Handle CPP_PRAGMA."}, {"sha": "36b4a5bf953e754afbf64ecba524e3b4a165ad05", "filename": "gcc/tree-dfa.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2Ftree-dfa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2Ftree-dfa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-dfa.c?ref=f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "patch": "@@ -796,6 +796,7 @@ mark_new_vars_to_rename (tree stmt)\n   if (TREE_CODE (stmt) == PHI_NODE)\n     return;\n \n+  get_stmt_ann (stmt);\n   vars_in_vops_to_rename = BITMAP_ALLOC (NULL);\n \n   /* Before re-scanning the statement for operands, mark the existing"}, {"sha": "55d9c75aaeab36b46bce5aa74e82d932fe125a0f", "filename": "gcc/tree-ssa-forwprop.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2Ftree-ssa-forwprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2Ftree-ssa-forwprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-forwprop.c?ref=f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "patch": "@@ -444,8 +444,6 @@ forward_propagate_into_cond (tree cond_expr)\n static void\n tidy_after_forward_propagate_addr (tree stmt)\n {\n-  mark_new_vars_to_rename (stmt);\n-\n   /* We may have turned a trapping insn into a non-trapping insn.  */\n   if (maybe_clean_or_replace_eh_stmt (stmt, stmt)\n       && tree_purge_dead_eh_edges (bb_for_stmt (stmt)))\n@@ -454,7 +452,7 @@ tidy_after_forward_propagate_addr (tree stmt)\n   if (TREE_CODE (TREE_OPERAND (stmt, 1)) == ADDR_EXPR)\n      recompute_tree_invariant_for_addr_expr (TREE_OPERAND (stmt, 1));\n \n-  update_stmt (stmt);\n+  mark_new_vars_to_rename (stmt);\n }\n \n /* STMT defines LHS which is contains the address of the 0th element"}, {"sha": "cb4e51f8c952c26d9468345684acda77c19d5220", "filename": "gcc/tree-ssa-pre.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2Ftree-ssa-pre.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f37a6f4f57b43f50c1b5920169e0d696fc2a7985/gcc%2Ftree-ssa-pre.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-pre.c?ref=f37a6f4f57b43f50c1b5920169e0d696fc2a7985", "patch": "@@ -2150,8 +2150,7 @@ create_expression_by_pieces (basic_block block, tree expr, tree stmts)\n \t  vn_add (forcedname, val);\n \t  bitmap_value_replace_in_set (NEW_SETS (block), forcedname);\n \t  bitmap_value_replace_in_set (AVAIL_OUT (block), forcedname);\n-\t  update_stmt (stmt);\n-\t  mark_new_vars_to_rename (tsi_stmt (tsi));\n+\t  mark_new_vars_to_rename (stmt);\n \t}\n       tsi = tsi_last (stmts);\n       tsi_link_after (&tsi, forced_stmts, TSI_CONTINUE_LINKING);\n@@ -2179,7 +2178,6 @@ create_expression_by_pieces (basic_block block, tree expr, tree stmts)\n   tsi = tsi_last (stmts);\n   tsi_link_after (&tsi, newexpr, TSI_CONTINUE_LINKING);\n   VEC_safe_push (tree, heap, inserted_exprs, newexpr);\n-  update_stmt (newexpr);\n   mark_new_vars_to_rename (newexpr);\n \n   /* Add a value handle to the temporary."}]}