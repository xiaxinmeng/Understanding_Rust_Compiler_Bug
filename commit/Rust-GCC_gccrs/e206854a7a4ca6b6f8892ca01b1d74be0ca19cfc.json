{"sha": "e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTIwNjg1NGE3YTRjYTZiNmY4ODkyY2EwMWIxZDc0YmUwY2ExOWNmYw==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "1995-06-19T22:02:30Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "1995-06-19T22:02:30Z"}, "message": "Will bring over with next merge.\n\nFrom-SVN: r10013", "tree": {"sha": "d53bc5bb71065b066da15cc6b8721cfac79d8471", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d53bc5bb71065b066da15cc6b8721cfac79d8471"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc/comments", "author": null, "committer": null, "parents": [{"sha": "7ea426fe97833f6d4b8fc0f5b5102a3c059b506b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ea426fe97833f6d4b8fc0f5b5102a3c059b506b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ea426fe97833f6d4b8fc0f5b5102a3c059b506b"}], "stats": {"total": 25, "additions": 6, "deletions": 19}, "files": [{"sha": "a5db235f45f8807e28d2b20f355f0f2724a1af22", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc", "patch": "@@ -1,8 +1,3 @@\n-Mon Jun 19 12:54:15 1995  Gerald Baumgartner  (gb@alexander.cs.purdue.edu)\n-\n-\t* decl.c (start_function): If current_class_decl is a signature\n-\tpointer, don't dereference it but set C_C_D to current_class_decl.\n-\n Fri Jun 16 15:07:29 1995  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)\n \n \t* Make-lang.in (DEMANGLER_PROG): Add LIBS."}, {"sha": "1cb9a4e6ee76316c0d3d8aa6938bb6e931194b19", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 6, "deletions": 14, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=e206854a7a4ca6b6f8892ca01b1d74be0ca19cfc", "patch": "@@ -11206,24 +11206,16 @@ start_function (declspecs, declarator, raises, pre_parsed_p)\n \t     we keep the consistency between `current_class_type'\n \t     and `current_class_decl'.  */\n \t  tree t = last_function_parms;\n+\t  int i = suspend_momentary ();\n \n \t  my_friendly_assert (t != NULL_TREE\n \t\t\t      && TREE_CODE (t) == PARM_DECL, 162);\n \n-\t  if (TREE_CODE (TREE_TYPE (t)) == POINTER_TYPE)\n-\t    {\n-\t      int i = suspend_momentary ();\n-\n-\t      /* Fool build_indirect_ref.  */\n-\t      current_class_decl = NULL_TREE;\n-\t      C_C_D = build_indirect_ref (t, NULL_PTR);\n-\t      current_class_decl = t;\n-\t      resume_momentary (i);\n-\t    }\n-\t  else\n-\t    /* We're having a signature pointer here.  */\n-\t    C_C_D = current_class_decl = t;\n-\n+\t  /* Fool build_indirect_ref.  */\n+\t  current_class_decl = NULL_TREE;\n+\t  C_C_D = build_indirect_ref (t, NULL_PTR);\n+\t  current_class_decl = t;\n+\t  resume_momentary (i);\n \t}\n     }\n   else"}]}