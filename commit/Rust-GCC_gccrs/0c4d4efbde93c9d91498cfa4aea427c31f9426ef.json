{"sha": "0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM0ZDRlZmJkZTkzYzlkOTE0OThjZmE0YWVhNDI3YzMxZjk0MjZlZg==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "dan@codesourcery.com", "date": "2007-07-26T11:52:19Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2007-07-26T11:52:19Z"}, "message": "fold-const.c (fold_read_from_constant_string): Use build_int_cst_type.\n\n\t* fold-const.c (fold_read_from_constant_string): Use\n\tbuild_int_cst_type.\n\t* tree-ssa-ccp.c (fold_const_aggregate_ref): Likewise.\n\nFrom-SVN: r126952", "tree": {"sha": "d53a5fda9fbcebe0370a3e0a07b56791df0d32b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d53a5fda9fbcebe0370a3e0a07b56791df0d32b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/comments", "author": null, "committer": null, "parents": [{"sha": "7e98624c5eefcd77b90ad1ebbbc06ab17b005a32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e98624c5eefcd77b90ad1ebbbc06ab17b005a32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e98624c5eefcd77b90ad1ebbbc06ab17b005a32"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "37ece5cc937ccb0200d1bfc5b084d5479bb0dbe0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "patch": "@@ -1,3 +1,9 @@\n+2007-07-26  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* fold-const.c (fold_read_from_constant_string): Use\n+\tbuild_int_cst_type.\n+\t* tree-ssa-ccp.c (fold_const_aggregate_ref): Likewise.\n+\n 2007-07-26  Nick Clifton  <nickc@redhat.com>\n \n \t* tree-ssa-operands.h: Change copyright header to refer to version"}, {"sha": "106aa4d3dd5e8d56311b3552ba5c46f6640746b6", "filename": "gcc/fold-const.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "patch": "@@ -14062,10 +14062,9 @@ fold_read_from_constant_string (tree exp)\n \t  && (GET_MODE_CLASS (TYPE_MODE (TREE_TYPE (TREE_TYPE (string))))\n \t      == MODE_INT)\n \t  && (GET_MODE_SIZE (TYPE_MODE (TREE_TYPE (TREE_TYPE (string)))) == 1))\n-\treturn fold_convert (TREE_TYPE (exp),\n-\t\t\t     build_int_cst (NULL_TREE,\n-\t\t\t\t\t    (TREE_STRING_POINTER (string)\n-\t\t\t\t\t     [TREE_INT_CST_LOW (index)])));\n+\treturn build_int_cst_type (TREE_TYPE (exp),\n+\t\t\t\t   (TREE_STRING_POINTER (string)\n+\t\t\t\t    [TREE_INT_CST_LOW (index)]));\n     }\n   return NULL;\n }"}, {"sha": "5d4d3d859ec8929404ed5e3b39fbf0a4d00fb1f0", "filename": "gcc/tree-ssa-ccp.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/gcc%2Ftree-ssa-ccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c4d4efbde93c9d91498cfa4aea427c31f9426ef/gcc%2Ftree-ssa-ccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ccp.c?ref=0c4d4efbde93c9d91498cfa4aea427c31f9426ef", "patch": "@@ -1052,10 +1052,9 @@ fold_const_aggregate_ref (tree t)\n \t          == MODE_INT)\n \t      && GET_MODE_SIZE (TYPE_MODE (TREE_TYPE (TREE_TYPE (ctor)))) == 1\n \t      && compare_tree_int (idx, TREE_STRING_LENGTH (ctor)) < 0)\n-\t    return fold_convert (TREE_TYPE (t),\n-\t\t\t\t build_int_cst (NULL,\n-\t\t\t\t\t\t(TREE_STRING_POINTER (ctor)\n-\t\t\t\t\t\t [TREE_INT_CST_LOW (idx)])));\n+\t    return build_int_cst_type (TREE_TYPE (t),\n+\t\t\t\t       (TREE_STRING_POINTER (ctor)\n+\t\t\t\t\t[TREE_INT_CST_LOW (idx)]));\n \t  return NULL_TREE;\n \t}\n "}]}