{"sha": "55c8e6a320e63f3687748e20400d0ba46e3dc1df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTVjOGU2YTMyMGU2M2YzNjg3NzQ4ZTIwNDAwZDBiYTQ2ZTNkYzFkZg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2009-01-13T01:49:30Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2009-01-13T01:49:30Z"}, "message": "re PR target/38384 (shared link/execute fails for cross gcc from linux to target hppa64-hp-hpux11.00)\n\n2009-01-12  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tPR libstdc++/38384\n\t* crossconfig.m4 (hpux): Update for 10.20, 11, 11.20.\n\t* configure: Regenerate.\n\n2009-01-12  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* crossconfig.m4 (linux): Add GCC_CHECK_TLS to define _GLIBCXX_HAVE_TLS.\n\tUse GLIBCXX_CHECK_COMPILER_FEATURES to compute SECTION_FLAGS.\n\nFrom-SVN: r143322", "tree": {"sha": "e58a75b01d625080e102b743f6a089e2de58228b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e58a75b01d625080e102b743f6a089e2de58228b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55c8e6a320e63f3687748e20400d0ba46e3dc1df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55c8e6a320e63f3687748e20400d0ba46e3dc1df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55c8e6a320e63f3687748e20400d0ba46e3dc1df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55c8e6a320e63f3687748e20400d0ba46e3dc1df/comments", "author": null, "committer": null, "parents": [{"sha": "8e39b3681c91297e7cdf7f453518f23191582e5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e39b3681c91297e7cdf7f453518f23191582e5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e39b3681c91297e7cdf7f453518f23191582e5f"}], "stats": {"total": 4177, "additions": 2444, "deletions": 1733}, "files": [{"sha": "a40d5113549f907ba2516b267660b37eb25aef2b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c8e6a320e63f3687748e20400d0ba46e3dc1df/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c8e6a320e63f3687748e20400d0ba46e3dc1df/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=55c8e6a320e63f3687748e20400d0ba46e3dc1df", "patch": "@@ -1,3 +1,14 @@\n+2009-01-12  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tPR libstdc++/38384\n+\t* crossconfig.m4 (hpux): Update for 10.20, 11, 11.20.\n+\t* configure: Regenerate.\n+\n+2009-01-12  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* crossconfig.m4 (linux): Add GCC_CHECK_TLS to define _GLIBCXX_HAVE_TLS.\n+\tUse GLIBCXX_CHECK_COMPILER_FEATURES to compute SECTION_FLAGS.\n+\n 2009-01-11  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \t* include/tr1_impl/regex (basic_regex::basic_regex): Use range"}, {"sha": "598e207be3da1dbb29cfc1ad5d9745f07dd33faa", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 2402, "deletions": 1723, "changes": 4125, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c8e6a320e63f3687748e20400d0ba46e3dc1df/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c8e6a320e63f3687748e20400d0ba46e3dc1df/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=55c8e6a320e63f3687748e20400d0ba46e3dc1df"}, {"sha": "03dd3360f1989f70c942efead17ac6bfa4f5b7ba", "filename": "libstdc++-v3/crossconfig.m4", "status": "modified", "additions": 31, "deletions": 10, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c8e6a320e63f3687748e20400d0ba46e3dc1df/libstdc%2B%2B-v3%2Fcrossconfig.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c8e6a320e63f3687748e20400d0ba46e3dc1df/libstdc%2B%2B-v3%2Fcrossconfig.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fcrossconfig.m4?ref=55c8e6a320e63f3687748e20400d0ba46e3dc1df", "patch": "@@ -108,35 +108,56 @@ case \"${host}\" in\n     SECTION_FLAGS='-ffunction-sections -fdata-sections'\n     AC_SUBST(SECTION_FLAGS)\n     GLIBCXX_CHECK_LINKER_FEATURES\n-    GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT\n+\n+    # GLIBCXX_CHECK_MATH_SUPPORT\n+    AC_DEFINE(HAVE_ISNAN)\n     AC_DEFINE(HAVE_COPYSIGN)\n     AC_DEFINE(HAVE_COPYSIGNF)\n+    AC_DEFINE(HAVE_HYPOT)\n+    AC_DEFINE(HAVE_ACOSF)\n+    AC_DEFINE(HAVE_ASINF)\n+    AC_DEFINE(HAVE_ATANF)\n+    AC_DEFINE(HAVE_COSF)\n+    AC_DEFINE(HAVE_COSHF)\n+    AC_DEFINE(HAVE_SINF)\n+    AC_DEFINE(HAVE_SINHF)\n+    AC_DEFINE(HAVE_TANF)\n+    AC_DEFINE(HAVE_TANHF)\n+    AC_DEFINE(HAVE_EXPF)\n+    AC_DEFINE(HAVE_ATAN2F)\n     AC_DEFINE(HAVE_FABSF)\n+    AC_DEFINE(HAVE_FMODF)\n     AC_DEFINE(HAVE_FREXPF)\n-    AC_DEFINE(HAVE_HYPOT)\n+    AC_DEFINE(HAVE_LOGF)\n+    AC_DEFINE(HAVE_LOG10F)\n+    AC_DEFINE(HAVE_MODF)\n+    AC_DEFINE(HAVE_POWF)\n+    AC_DEFINE(HAVE_SQRTF)\n+\n+    GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT\n+\n+    # GLIBCXX_CHECK_STDLIB_SUPPORT\n+    AC_DEFINE(HAVE_STRTOLD)\n+\n+    GCC_CHECK_TLS\n     case \"$target\" in\n       *-hpux10*)\n-\tAC_DEFINE(HAVE_FINITE)\n-\tAC_DEFINE(HAVE_FINITEF)\n \tAC_DEFINE(HAVE_ISINF)\n \tAC_DEFINE(HAVE_ISINFF)\n-\tAC_DEFINE(HAVE_ISNAN)\n \tAC_DEFINE(HAVE_ISNANF)\n+\tAC_DEFINE(HAVE_FINITE)\n+\tAC_DEFINE(HAVE_FINITEF)\n \t;;\n     esac\n     ;;\n   *-linux* | *-uclinux* | *-gnu* | *-kfreebsd*-gnu | *-knetbsd*-gnu)\n-    SECTION_FLAGS='-ffunction-sections -fdata-sections'\n-    AC_SUBST(SECTION_FLAGS)\n     GLIBCXX_CHECK_COMPILER_FEATURES\n     GLIBCXX_CHECK_LINKER_FEATURES\n     GLIBCXX_CHECK_MATH_SUPPORT\n     GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT\n     GLIBCXX_CHECK_STDLIB_SUPPORT\n-\n     AC_DEFINE(_GLIBCXX_USE_RANDOM_TR1)\n-\n-    # For iconv support.\n+    GCC_CHECK_TLS\n     AM_ICONV\n     ;;\n   *-mingw32*)"}]}