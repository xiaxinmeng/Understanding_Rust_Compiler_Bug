{"sha": "08167d1cdbfaf763a8bede8fd46c870356a921f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDgxNjdkMWNkYmZhZjc2M2E4YmVkZThmZDQ2Yzg3MDM1NmE5MjFmNQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2004-12-23T16:12:57Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2004-12-23T16:12:57Z"}, "message": "re PR c++/18962 (specialization of template class with inner template members and parameter)\n\ngcc/cp/ChangeLog:\nPR c++/18962\n* pt.c (check_explicit_specialization): Use the argument list from\nthe definition in a template function specialization definition.\ngcc/testsuite/ChangeLog:\n* g++.dg/template/spec19.C: New.\n\nFrom-SVN: r92552", "tree": {"sha": "9456b71999f04d8db4d56c178ba79cff15a371f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9456b71999f04d8db4d56c178ba79cff15a371f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08167d1cdbfaf763a8bede8fd46c870356a921f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08167d1cdbfaf763a8bede8fd46c870356a921f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08167d1cdbfaf763a8bede8fd46c870356a921f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08167d1cdbfaf763a8bede8fd46c870356a921f5/comments", "author": null, "committer": null, "parents": [{"sha": "faa003343e09656a6b0174c00305073823f2fd0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faa003343e09656a6b0174c00305073823f2fd0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/faa003343e09656a6b0174c00305073823f2fd0c"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "c8e448f4e2b800c5d95fc9034e831cebd910f002", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=08167d1cdbfaf763a8bede8fd46c870356a921f5", "patch": "@@ -1,3 +1,9 @@\n+2004-12-23  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\tPR c++/18962\n+\t* pt.c (check_explicit_specialization): Use the argument list from\n+\tthe definition in a template function specialization definition.\n+\n 2004-12-23  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n \n \tPR c++/18733"}, {"sha": "3c6f5bcbbdf291b5dd838c22f9aab4885ee2ba16", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=08167d1cdbfaf763a8bede8fd46c870356a921f5", "patch": "@@ -2059,6 +2059,10 @@ check_explicit_specialization (tree declarator,\n \t\t  DECL_SOURCE_LOCATION (tmpl) = DECL_SOURCE_LOCATION (decl);\n \t\t  DECL_SOURCE_LOCATION (DECL_TEMPLATE_RESULT (tmpl))\n \t\t    = DECL_SOURCE_LOCATION (decl);\n+\t\t  /* We want to use the argument list specified in the\n+\t\t     definition, not in the original declaration.  */\n+\t\t  DECL_ARGUMENTS (DECL_TEMPLATE_RESULT (tmpl))\n+\t\t    = DECL_ARGUMENTS (decl);\n \t\t}\n \t      return tmpl;\n \t    }"}, {"sha": "3a91de1d3657a994e9af978643d0e7199ac1e6f1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=08167d1cdbfaf763a8bede8fd46c870356a921f5", "patch": "@@ -1,3 +1,7 @@\n+2004-12-23  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* g++.dg/template/spec19.C: New.\n+\n 2004-12-23  Alexandre Oliva  <aoliva@redhat.com>\n \n \tPR target/16891"}, {"sha": "c560b01642a2be3ff2d0b40fe26cccb9a332c2e2", "filename": "gcc/testsuite/g++.dg/template/spec19.C", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fspec19.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08167d1cdbfaf763a8bede8fd46c870356a921f5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fspec19.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fspec19.C?ref=08167d1cdbfaf763a8bede8fd46c870356a921f5", "patch": "@@ -0,0 +1,23 @@\n+// PR c++/18962\n+\n+template<class T1,int N1>\n+class Class\n+{\n+public:\n+  template <class T2,int N2>\n+  void function( const Class<T2,N2>& );\n+};\n+\n+template<>\n+template<class T2,int N2>\n+void Class<int,1>::function( const Class<T2,N2>& param ) \n+{\n+  param; // make sure we use the argument list from the definition.\n+}\n+\n+int main()\n+{\n+  Class<int,1> instance;\n+  Class<char,2> param;\n+  instance.function( param );\n+}"}]}