{"sha": "90f938c2ecefbf16b4793a4135531ed5394a52ac", "node_id": "C_kwDOANBUbNoAKDkwZjkzOGMyZWNlZmJmMTZiNDc5M2E0MTM1NTMxZWQ1Mzk0YTUyYWM", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-03-23T21:07:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-03-23T21:07:53Z"}, "message": "Merge #1056 #1057\n\n1056: Fix '#include <algorithm>' [#159] r=tschwinge a=tschwinge\n\n... recently introduced in #1044 commit 35ca685200830626e5abd623f65a850649beace2\r\n\"macros: Add base functions to check for follow-set ambiguities\".\r\n\r\nGCC doesn't like that:\r\n\r\n    In file included from [...]\r\n    ./mm_malloc.h:42:12: error: attempt to use poisoned \"malloc\"\r\n         return malloc (__size);\r\n                ^\r\n\r\nSee commit e7b3f654f2ab0400c95c0517387a9ad645a5c4cd, for example.\r\n\n\n1057: For use as 'std::unordered_map' key, provide 'std::hash' for 'Rust::AST::MacroFragSpec::Kind' enum class r=tschwinge a=tschwinge\n\n... recently introduced in #1044 commit 35ca685200830626e5abd623f65a850649beace2\r\n\"macros: Add base functions to check for follow-set ambiguities\".\r\n\r\nOtherwise, at least with an oldish GCC 5.2, compilation of\r\n'gcc/rust/parse/rust-parse.cc' fails noisily:\r\n\r\n    In file included from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/hashtable.h:35:0,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/unordered_map:47,\r\n                     from [GCC/Rust]/gcc/rust/rust-system.h:46,\r\n                     from [GCC/Rust]/gcc/rust/rust-linemap.h:12,\r\n                     from [GCC/Rust]/gcc/rust/lex/rust-lex.h:22,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.h:20,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.cc:17:\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/hashtable_policy.h: In instantiation of 'struct std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> >':\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits:137:12:   required from 'struct std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > >'\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits:148:38:   required from 'struct std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:100:66:   required from 'class std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >'\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:101:5:   required from here\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/hashtable_policy.h:85:34: error: no match for call to '(const std::hash<Rust::AST::MacroFragSpec::Kind>) (const Rust::AST::MacroFragSpec::Kind&)'\r\n      noexcept(declval<const _Hash&>()(declval<const _Key&>()))>\r\n                                      ^\r\n    In file included from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/move.h:57:0,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/stl_pair.h:59,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/stl_algobase.h:64,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/char_traits.h:39,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/string:40,\r\n                     from [GCC/Rust]/gcc/rust/rust-system.h:34,\r\n                     from [GCC/Rust]/gcc/rust/rust-linemap.h:12,\r\n                     from [GCC/Rust]/gcc/rust/lex/rust-lex.h:22,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.h:20,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.cc:17:\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits: In instantiation of 'struct std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >':\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:100:66:   required from 'class std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >'\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:101:5:   required from here\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits:148:38: error: 'value' is not a member of 'std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > >'\r\n         : public integral_constant<bool, !_Pp::value>\r\n                                          ^\r\n    In file included from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/unordered_map:48:0,\r\n                     from [GCC/Rust]/gcc/rust/rust-system.h:46,\r\n                     from [GCC/Rust]/gcc/rust/rust-linemap.h:12,\r\n                     from [GCC/Rust]/gcc/rust/lex/rust-lex.h:22,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.h:20,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.cc:17:\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h: In instantiation of 'class std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >':\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:101:5:   required from here\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:100:66: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef __umap_hashtable<_Key, _Tp, _Hash, _Pred, _Alloc>  _Hashtable;\r\n                                                                      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:107:45: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::key_type key_type;\r\n                                                 ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:108:47: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::value_type value_type;\r\n                                                   ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:109:48: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::mapped_type mapped_type;\r\n                                                    ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:110:43: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::hasher hasher;\r\n                                               ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:111:46: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::key_equal key_equal;\r\n                                                  ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:112:51: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::allocator_type allocator_type;\r\n                                                       ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:117:45: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::pointer  pointer;\r\n                                                 ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:118:50: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_pointer const_pointer;\r\n                                                      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:119:47: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::reference  reference;\r\n                                                   ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:120:52: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_reference const_reference;\r\n                                                        ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:121:46: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::iterator  iterator;\r\n                                                  ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:122:51: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_iterator const_iterator;\r\n                                                       ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:123:51: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::local_iterator local_iterator;\r\n                                                       ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:124:57: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_local_iterator const_local_iterator;\r\n                                                             ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:125:47: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::size_type  size_type;\r\n                                                   ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:126:52: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::difference_type difference_type;\r\n                                                        ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:280:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           operator=(initializer_list<value_type> __l)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:379:2: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n      emplace(_Args&&... __args)\r\n      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:432:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           insert(const value_type& __x)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:439:2: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n      insert(_Pair&& __x)\r\n      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:499:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           insert(initializer_list<value_type> __l)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:645:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           equal_range(const key_type& __x)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:649:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           equal_range(const key_type& __x) const\r\n           ^\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc: In function 'bool Rust::peculiar_fragment_match_compatible(Rust::AST::MacroMatchFragment&, Rust::AST::MacroMatch&)':\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:104:5: error: too many initializers for 'std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >'\r\n         };\r\n         ^\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:119:16: error: no match for 'operator[]' (operand types are 'std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >' and 'Rust::AST::MacroFragSpec::Kind')\r\n        = follow_set[last_match.get_frag_spec ().get_kind ()];\r\n                    ^\r\n    make[2]: *** [[GCC/Rust]/gcc/rust/Make-lang.in:299: rust/rust-parse.o] Error 1\r\n\n\nCo-authored-by: Thomas Schwinge <thomas@codesourcery.com>", "tree": {"sha": "fd733b684fc6eb521159d2020aa8dfbd5ab8d6ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd733b684fc6eb521159d2020aa8dfbd5ab8d6ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90f938c2ecefbf16b4793a4135531ed5394a52ac", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiO4wpCRBK7hj4Ov3rIwAAG08IACfLc8bPmMlGZ550Iidb68sx\naeIgoOaJq2JLO2iWIrwJdB3LPVZRMCqsnaCdwBAS7oec0i1FAuubiuI7ydcxUYDW\n046BAsauiye6MFLUf1eBS2vDy0J0JAYJ9fAHbnegVGaENt+3kJXk+6kLjEi5UZSe\nWsM3XpcUxzvAlp6iZMA8t+o+0t1Li3ekGycpFNpaMkSYkYz97a8JfU6VFrWTwR0k\nAZOCkLpAGPfCFsIrCLJC6ogkBFFunWk7Nb4yPOqfID0Ro1EbuT5tEssRaqPWg4Lf\nJKYBUSZ6HSw1kOUMTKNpcmerdgDwyfQ4BKUEDtH88/K657LjVL19yb3DpGzS/1k=\n=Z8gc\n-----END PGP SIGNATURE-----\n", "payload": "tree fd733b684fc6eb521159d2020aa8dfbd5ab8d6ef\nparent eef1ee2638c73e35cc804c2d4ab42598dccea8ac\nparent 85ffe83ad7b6fb4dae1c25979898044ad1765b2e\nparent 7af3505c97388b227f1799a4805e21e3f4de4d4e\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1648069673 +0000\ncommitter GitHub <noreply@github.com> 1648069673 +0000\n\nMerge #1056 #1057\n\n1056: Fix '#include <algorithm>' [#159] r=tschwinge a=tschwinge\n\n... recently introduced in #1044 commit 35ca685200830626e5abd623f65a850649beace2\r\n\"macros: Add base functions to check for follow-set ambiguities\".\r\n\r\nGCC doesn't like that:\r\n\r\n    In file included from [...]\r\n    ./mm_malloc.h:42:12: error: attempt to use poisoned \"malloc\"\r\n         return malloc (__size);\r\n                ^\r\n\r\nSee commit e7b3f654f2ab0400c95c0517387a9ad645a5c4cd, for example.\r\n\n\n1057: For use as 'std::unordered_map' key, provide 'std::hash' for 'Rust::AST::MacroFragSpec::Kind' enum class r=tschwinge a=tschwinge\n\n... recently introduced in #1044 commit 35ca685200830626e5abd623f65a850649beace2\r\n\"macros: Add base functions to check for follow-set ambiguities\".\r\n\r\nOtherwise, at least with an oldish GCC 5.2, compilation of\r\n'gcc/rust/parse/rust-parse.cc' fails noisily:\r\n\r\n    In file included from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/hashtable.h:35:0,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/unordered_map:47,\r\n                     from [GCC/Rust]/gcc/rust/rust-system.h:46,\r\n                     from [GCC/Rust]/gcc/rust/rust-linemap.h:12,\r\n                     from [GCC/Rust]/gcc/rust/lex/rust-lex.h:22,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.h:20,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.cc:17:\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/hashtable_policy.h: In instantiation of 'struct std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> >':\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits:137:12:   required from 'struct std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > >'\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits:148:38:   required from 'struct std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:100:66:   required from 'class std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >'\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:101:5:   required from here\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/hashtable_policy.h:85:34: error: no match for call to '(const std::hash<Rust::AST::MacroFragSpec::Kind>) (const Rust::AST::MacroFragSpec::Kind&)'\r\n      noexcept(declval<const _Hash&>()(declval<const _Key&>()))>\r\n                                      ^\r\n    In file included from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/move.h:57:0,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/stl_pair.h:59,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/stl_algobase.h:64,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/char_traits.h:39,\r\n                     from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/string:40,\r\n                     from [GCC/Rust]/gcc/rust/rust-system.h:34,\r\n                     from [GCC/Rust]/gcc/rust/rust-linemap.h:12,\r\n                     from [GCC/Rust]/gcc/rust/lex/rust-lex.h:22,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.h:20,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.cc:17:\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits: In instantiation of 'struct std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >':\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:100:66:   required from 'class std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >'\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:101:5:   required from here\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/type_traits:148:38: error: 'value' is not a member of 'std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > >'\r\n         : public integral_constant<bool, !_Pp::value>\r\n                                          ^\r\n    In file included from [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/unordered_map:48:0,\r\n                     from [GCC/Rust]/gcc/rust/rust-system.h:46,\r\n                     from [GCC/Rust]/gcc/rust/rust-linemap.h:12,\r\n                     from [GCC/Rust]/gcc/rust/lex/rust-lex.h:22,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.h:20,\r\n                     from [GCC/Rust]/gcc/rust/parse/rust-parse.cc:17:\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h: In instantiation of 'class std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >':\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:101:5:   required from here\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:100:66: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef __umap_hashtable<_Key, _Tp, _Hash, _Pred, _Alloc>  _Hashtable;\r\n                                                                      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:107:45: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::key_type key_type;\r\n                                                 ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:108:47: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::value_type value_type;\r\n                                                   ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:109:48: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::mapped_type mapped_type;\r\n                                                    ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:110:43: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::hasher hasher;\r\n                                               ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:111:46: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::key_equal key_equal;\r\n                                                  ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:112:51: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::allocator_type allocator_type;\r\n                                                       ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:117:45: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::pointer  pointer;\r\n                                                 ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:118:50: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_pointer const_pointer;\r\n                                                      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:119:47: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::reference  reference;\r\n                                                   ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:120:52: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_reference const_reference;\r\n                                                        ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:121:46: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::iterator  iterator;\r\n                                                  ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:122:51: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_iterator const_iterator;\r\n                                                       ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:123:51: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::local_iterator local_iterator;\r\n                                                       ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:124:57: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::const_local_iterator const_local_iterator;\r\n                                                             ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:125:47: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::size_type  size_type;\r\n                                                   ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:126:52: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           typedef typename _Hashtable::difference_type difference_type;\r\n                                                        ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:280:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           operator=(initializer_list<value_type> __l)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:379:2: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n      emplace(_Args&&... __args)\r\n      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:432:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           insert(const value_type& __x)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:439:2: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n      insert(_Pair&& __x)\r\n      ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:499:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           insert(initializer_list<value_type> __l)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:645:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           equal_range(const key_type& __x)\r\n           ^\r\n    [GCC]/i686-pc-linux-gnu/include/c++/5.2.0/bits/unordered_map.h:649:7: error: 'value' is not a member of 'std::__not_<std::__and_<std::__is_fast_hash<std::hash<Rust::AST::MacroFragSpec::Kind> >, std::__detail::__is_noexcept_hash<Rust::AST::MacroFragSpec::Kind, std::hash<Rust::AST::MacroFragSpec::Kind> > > >'\r\n           equal_range(const key_type& __x) const\r\n           ^\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc: In function 'bool Rust::peculiar_fragment_match_compatible(Rust::AST::MacroMatchFragment&, Rust::AST::MacroMatch&)':\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:104:5: error: too many initializers for 'std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >'\r\n         };\r\n         ^\r\n    [GCC/Rust]/gcc/rust/parse/rust-parse.cc:119:16: error: no match for 'operator[]' (operand types are 'std::unordered_map<Rust::AST::MacroFragSpec::Kind, std::vector<Rust::TokenId> >' and 'Rust::AST::MacroFragSpec::Kind')\r\n        = follow_set[last_match.get_frag_spec ().get_kind ()];\r\n                    ^\r\n    make[2]: *** [[GCC/Rust]/gcc/rust/Make-lang.in:299: rust/rust-parse.o] Error 1\r\n\n\nCo-authored-by: Thomas Schwinge <thomas@codesourcery.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90f938c2ecefbf16b4793a4135531ed5394a52ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90f938c2ecefbf16b4793a4135531ed5394a52ac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90f938c2ecefbf16b4793a4135531ed5394a52ac/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eef1ee2638c73e35cc804c2d4ab42598dccea8ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eef1ee2638c73e35cc804c2d4ab42598dccea8ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eef1ee2638c73e35cc804c2d4ab42598dccea8ac"}, {"sha": "85ffe83ad7b6fb4dae1c25979898044ad1765b2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85ffe83ad7b6fb4dae1c25979898044ad1765b2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85ffe83ad7b6fb4dae1c25979898044ad1765b2e"}, {"sha": "7af3505c97388b227f1799a4805e21e3f4de4d4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7af3505c97388b227f1799a4805e21e3f4de4d4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7af3505c97388b227f1799a4805e21e3f4de4d4e"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "d13890a473a1d06615998eff74e12b10ee5e6fc4", "filename": "gcc/rust/ast/rust-macro.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f938c2ecefbf16b4793a4135531ed5394a52ac/gcc%2Frust%2Fast%2Frust-macro.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f938c2ecefbf16b4793a4135531ed5394a52ac/gcc%2Frust%2Fast%2Frust-macro.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-macro.h?ref=90f938c2ecefbf16b4793a4135531ed5394a52ac", "patch": "@@ -906,4 +906,15 @@ struct AttributeParser\n } // namespace AST\n } // namespace Rust\n \n+/* <https://stackoverflow.com/a/35304501> */\n+namespace std {\n+template <> struct hash<Rust::AST::MacroFragSpec::Kind>\n+{\n+  size_t operator() (const Rust::AST::MacroFragSpec::Kind &t) const noexcept\n+  {\n+    return size_t (t);\n+  }\n+};\n+} // namespace std\n+\n #endif"}, {"sha": "7e6ab9b02878e7a290bb675fe47ee419479ff20b", "filename": "gcc/rust/parse/rust-parse-impl.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f938c2ecefbf16b4793a4135531ed5394a52ac/gcc%2Frust%2Fparse%2Frust-parse-impl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f938c2ecefbf16b4793a4135531ed5394a52ac/gcc%2Frust%2Fparse%2Frust-parse-impl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fparse%2Frust-parse-impl.h?ref=90f938c2ecefbf16b4793a4135531ed5394a52ac", "patch": "@@ -20,9 +20,9 @@ along with GCC; see the file COPYING3.  If not see\n /* DO NOT INCLUDE ANYWHERE - this is automatically included with rust-parse.h\n  * This is also the reason why there are no include guards. */\n \n+#define INCLUDE_ALGORITHM\n #include \"rust-diagnostics.h\"\n #include \"util/rust-make-unique.h\"\n-#include <algorithm>\n \n namespace Rust {\n // Left binding powers of operations."}]}