{"sha": "57deb3a13bdb2f425f51b274d3369aaeca79e184", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdkZWIzYTEzYmRiMmY0MjVmNTFiMjc0ZDMzNjlhYWVjYTc5ZTE4NA==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2002-02-23T02:11:07Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2002-02-23T02:11:07Z"}, "message": "- Add missing mask_operand patch.\n\nFrom-SVN: r49984", "tree": {"sha": "885fc13cb45924174bf780d8d76a1f25b284a750", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/885fc13cb45924174bf780d8d76a1f25b284a750"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57deb3a13bdb2f425f51b274d3369aaeca79e184", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57deb3a13bdb2f425f51b274d3369aaeca79e184", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57deb3a13bdb2f425f51b274d3369aaeca79e184", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57deb3a13bdb2f425f51b274d3369aaeca79e184/comments", "author": null, "committer": null, "parents": [{"sha": "e72247f417055c24de8e8ceb755b02f03222718c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e72247f417055c24de8e8ceb755b02f03222718c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e72247f417055c24de8e8ceb755b02f03222718c"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "4be4f46c43a7c0557ae807b0ac12411113f59f8c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57deb3a13bdb2f425f51b274d3369aaeca79e184/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57deb3a13bdb2f425f51b274d3369aaeca79e184/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=57deb3a13bdb2f425f51b274d3369aaeca79e184", "patch": "@@ -9,6 +9,7 @@\n \tSimplify comparison of `low'.\n \t(add_operand): Fix formatting.\n \t(non_add_cint_operand): Use CONST_OK_FOR_LETTER_P.\n+\t(mask_operand): Disallow mask to wrap in 64-bit mode.\n \t(rs6000_stack_info): Remove redundant test setting push_p.\n \t(output_toc): Fix formatting.\n \t* config/rs6000/rs6000.md (boolsi3, boolcsi3 splitters): Use"}, {"sha": "70adbf86cb431b102a24eb7c5f9f83cb21a32ea6", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57deb3a13bdb2f425f51b274d3369aaeca79e184/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57deb3a13bdb2f425f51b274d3369aaeca79e184/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=57deb3a13bdb2f425f51b274d3369aaeca79e184", "patch": "@@ -1399,6 +1399,11 @@ mask_operand (op, mode)\n \n   c = INTVAL (op);\n \n+  /* Fail in 64-bit mode if the mask wraps around because the upper\n+     32-bits of the mask will all be 1s, contrary to GCC's internal view.  */\n+  if (TARGET_POWERPC64 && (c & 0x80000001) == 0x80000001)\n+    return 0;\n+\n   /* We don't change the number of transitions by inverting,\n      so make sure we start with the LS bit zero.  */\n   if (c & 1)"}]}