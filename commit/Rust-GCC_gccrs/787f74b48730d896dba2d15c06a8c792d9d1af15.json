{"sha": "787f74b48730d896dba2d15c06a8c792d9d1af15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg3Zjc0YjQ4NzMwZDg5NmRiYTJkMTVjMDZhOGM3OTJkOWQxYWYxNQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-11-01T05:20:40Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-11-01T05:20:40Z"}, "message": "runtime: Don't ask mmap for wrapping memory.\n\nFrom-SVN: r180732", "tree": {"sha": "a371b546ba8d1ccc9322e424abc0ddb0fee68fd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a371b546ba8d1ccc9322e424abc0ddb0fee68fd8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/787f74b48730d896dba2d15c06a8c792d9d1af15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/787f74b48730d896dba2d15c06a8c792d9d1af15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/787f74b48730d896dba2d15c06a8c792d9d1af15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/787f74b48730d896dba2d15c06a8c792d9d1af15/comments", "author": null, "committer": null, "parents": [{"sha": "3d4339609875e273966ffab5b76526a0bf07963d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d4339609875e273966ffab5b76526a0bf07963d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d4339609875e273966ffab5b76526a0bf07963d"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "66f5bda66c0b3c9ef2fbbd10f8fb512e1a450afe", "filename": "libgo/runtime/malloc.goc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/787f74b48730d896dba2d15c06a8c792d9d1af15/libgo%2Fruntime%2Fmalloc.goc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/787f74b48730d896dba2d15c06a8c792d9d1af15/libgo%2Fruntime%2Fmalloc.goc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fmalloc.goc?ref=787f74b48730d896dba2d15c06a8c792d9d1af15", "patch": "@@ -358,6 +358,8 @@ runtime_mallocinit(void)\n \t\t// away from the running binary image and then round up\n \t\t// to a MB boundary.\n \t\twant = (byte*)(((uintptr)end + (1<<18) + (1<<20) - 1)&~((1<<20)-1));\n+\t\tif(0xffffffff - (uintptr)want <= bitmap_size + arena_size)\n+\t\t  want = 0;\n \t\tp = runtime_SysReserve(want, bitmap_size + arena_size);\n \t\tif(p == nil)\n \t\t\truntime_throw(\"runtime: cannot reserve arena virtual address space\");"}]}