{"sha": "e16d045df7cc21834a3925da83e3c753d38d8566", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTE2ZDA0NWRmN2NjMjE4MzRhMzkyNWRhODNlM2M3NTNkMzhkODU2Ng==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-06-11T05:16:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-06-11T05:16:10Z"}, "message": "ifcvt.c (life_data_ok): New.\n\n        * ifcvt.c (life_data_ok): New.\n        (merge_if_block): Use it to determine whether to update\n        global_live_at_end.\n        (if_convert): Set it.\n\nFrom-SVN: r43170", "tree": {"sha": "91677a44eb6f5847031d9b6c1be652bb26d4084a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91677a44eb6f5847031d9b6c1be652bb26d4084a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e16d045df7cc21834a3925da83e3c753d38d8566", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e16d045df7cc21834a3925da83e3c753d38d8566", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e16d045df7cc21834a3925da83e3c753d38d8566", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e16d045df7cc21834a3925da83e3c753d38d8566/comments", "author": null, "committer": null, "parents": [{"sha": "68fe6226c8dfc2ab8349126b5a7fb47822860ef8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68fe6226c8dfc2ab8349126b5a7fb47822860ef8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68fe6226c8dfc2ab8349126b5a7fb47822860ef8"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "65f0cb7436ba0164a2c9cb125329e1c64c1ec44d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e16d045df7cc21834a3925da83e3c753d38d8566/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e16d045df7cc21834a3925da83e3c753d38d8566/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e16d045df7cc21834a3925da83e3c753d38d8566", "patch": "@@ -1,3 +1,10 @@\n+2001-06-10  Richard Henderson  <rth@redhat.com>\n+\n+\t* ifcvt.c (life_data_ok): New.\n+\t(merge_if_block): Use it to determine whether to update\n+\tglobal_live_at_end.\n+\t(if_convert): Set it.\n+\n 2001-06-10  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/osf5.h (ASM_OLDAS_SPEC): Add -c."}, {"sha": "aaa205663761ccb982abd7450d3c59ce3bc536bd", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e16d045df7cc21834a3925da83e3c753d38d8566/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e16d045df7cc21834a3925da83e3c753d38d8566/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=e16d045df7cc21834a3925da83e3c753d38d8566", "patch": "@@ -66,6 +66,9 @@ static int num_updated_if_blocks;\n /* # of basic blocks that were removed.  */\n static int num_removed_blocks;\n \n+/* True if life data ok at present.  */\n+static bool life_data_ok;\n+\n /* The post-dominator relation on the original block numbers.  */\n static sbitmap *post_dominators;\n \n@@ -1719,7 +1722,7 @@ merge_if_block (test_bb, then_bb, else_bb, join_bb)\n   /* First merge TEST block into THEN block.  This is a no-brainer since\n      the THEN block did not have a code label to begin with.  */\n \n-  if (combo_bb->global_live_at_end)\n+  if (life_data_ok)\n     COPY_REG_SET (combo_bb->global_live_at_end, then_bb->global_live_at_end);\n   merge_blocks_nomove (combo_bb, then_bb);\n   num_removed_blocks++;\n@@ -1759,7 +1762,7 @@ merge_if_block (test_bb, then_bb, else_bb, join_bb)\n   else if (join_bb->pred == NULL || join_bb->pred->pred_next == NULL)\n     {\n       /* We can merge the JOIN.  */\n-      if (combo_bb->global_live_at_end)\n+      if (life_data_ok)\n \tCOPY_REG_SET (combo_bb->global_live_at_end,\n \t\t      join_bb->global_live_at_end);\n       merge_blocks_nomove (combo_bb, join_bb);\n@@ -2444,14 +2447,15 @@ dead_or_predicable (test_bb, merge_bb, other_bb, new_dest, reversep)\n /* Main entry point for all if-conversion.  */\n \n void\n-if_convert (life_data_ok)\n-     int life_data_ok;\n+if_convert (x_life_data_ok)\n+     int x_life_data_ok;\n {\n   int block_num;\n \n   num_possible_if_blocks = 0;\n   num_updated_if_blocks = 0;\n   num_removed_blocks = 0;\n+  life_data_ok = (x_life_data_ok != 0);\n \n   /* Free up basic_block_for_insn so that we don't have to keep it \n      up to date, either here or in merge_blocks_nomove.  */"}]}