{"sha": "2f33c6356126df5e17e1f8dcd44e4f4c52278b3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmYzM2M2MzU2MTI2ZGY1ZTE3ZTFmOGRjZDQ0ZTRmNGM1MjI3OGIzYg==", "commit": {"author": {"name": "Herman A.J. ten Brugge", "email": "Haj.Ten.Brugge@net.HCC.nl", "date": "2001-01-31T00:20:44Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-01-31T00:20:44Z"}, "message": "regmove.c (try_auto_increment): Change REG_DEAD into REG_UNUSED when register dies in the insn.\n\n        * regmove.c (try_auto_increment): Change REG_DEAD into REG_UNUSED\n        when register dies in the insn.\n\nFrom-SVN: r39358", "tree": {"sha": "6dd380b75a454658841493c82a6924565e7c0558", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6dd380b75a454658841493c82a6924565e7c0558"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b/comments", "author": null, "committer": null, "parents": [{"sha": "22ef15cf2e871bdd197c6ba366261ce44549deed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22ef15cf2e871bdd197c6ba366261ce44549deed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22ef15cf2e871bdd197c6ba366261ce44549deed"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "839d4f4db3453f86b772ec806bcb3b4e7342e3d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f33c6356126df5e17e1f8dcd44e4f4c52278b3b", "patch": "@@ -1,3 +1,8 @@\n+2001-01-30  Herman A.J. ten Brugge  <Haj.Ten.Brugge@net.HCC.nl>\n+\n+\t* regmove.c (try_auto_increment): Change REG_DEAD into REG_UNUSED\n+\twhen register dies in the insn.\n+\n 2001-01-30  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* diagnostic.c (fatal): Fix word wrap."}, {"sha": "cbbeb835c7ee2a98175da034f71e47c33ed260f8", "filename": "gcc/regmove.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b/gcc%2Fregmove.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f33c6356126df5e17e1f8dcd44e4f4c52278b3b/gcc%2Fregmove.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregmove.c?ref=2f33c6356126df5e17e1f8dcd44e4f4c52278b3b", "patch": "@@ -146,6 +146,16 @@ try_auto_increment (insn, inc_insn, inc_insn_set, reg, increment, pre)\n \t\t\t       gen_rtx_fmt_e (inc_code, Pmode, reg), 1);\n \t      if (apply_change_group ())\n \t\t{\n+\t\t  /* If there is a REG_DEAD note on this insn, we must\n+\t\t     change this not to REG_UNUSED meaning that the register\n+\t\t     is set, but the value is dead.  Failure to do so will\n+\t\t     result in a sched1 abort -- when it recomputes lifetime\n+\t\t     information, the number of REG_DEAD notes will have\n+\t\t     changed.  */\n+\t\t  rtx note = find_reg_note (insn, REG_DEAD, reg);\n+\t\t  if (note)\n+\t\t    PUT_MODE (note, REG_UNUSED);\n+\n \t\t  REG_NOTES (insn)\n \t\t    = gen_rtx_EXPR_LIST (REG_INC,\n \t\t\t\t\t reg, REG_NOTES (insn));"}]}