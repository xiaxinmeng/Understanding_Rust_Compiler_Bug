{"sha": "b94c0f4fea4e37a17023419eea3a164b12a23ec7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk0YzBmNGZlYTRlMzdhMTcwMjM0MTllZWEzYTE2NGIxMmEyM2VjNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-04-29T17:43:16Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-04-29T17:43:16Z"}, "message": "decl2.c (do_static_initialization): Call do_pending_stack_adjust.\n\n        * decl2.c (do_static_initialization): Call do_pending_stack_adjust.\n        (do_static_destruction): Likewise.\n\nFrom-SVN: r26700", "tree": {"sha": "32b212d76ac6435fc601e149a575132853cd9404", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32b212d76ac6435fc601e149a575132853cd9404"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b94c0f4fea4e37a17023419eea3a164b12a23ec7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b94c0f4fea4e37a17023419eea3a164b12a23ec7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b94c0f4fea4e37a17023419eea3a164b12a23ec7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b94c0f4fea4e37a17023419eea3a164b12a23ec7/comments", "author": null, "committer": null, "parents": [{"sha": "7cae975e66fef11bcb7d165cd399efae6e0b807b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cae975e66fef11bcb7d165cd399efae6e0b807b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cae975e66fef11bcb7d165cd399efae6e0b807b"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "01e462742c3f02c3ff8f20bd47932e4526c3df3d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b94c0f4fea4e37a17023419eea3a164b12a23ec7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b94c0f4fea4e37a17023419eea3a164b12a23ec7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b94c0f4fea4e37a17023419eea3a164b12a23ec7", "patch": "@@ -1,3 +1,8 @@\n+1999-04-29  Richard Henderson  <rth@cygnus.com>\n+\n+\t* decl2.c (do_static_initialization): Call do_pending_stack_adjust.\n+\t(do_static_destruction): Likewise.\n+\n 1999-04-29  Nathan Sidwell  <nathan@acm.org>\n \n \t* cp-tree.h (TYPE_NOTHROW_P): New macro."}, {"sha": "7e96a92a4f289c1302ca16ee3c53ed7ba4e2dc08", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b94c0f4fea4e37a17023419eea3a164b12a23ec7/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b94c0f4fea4e37a17023419eea3a164b12a23ec7/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=b94c0f4fea4e37a17023419eea3a164b12a23ec7", "patch": "@@ -3220,6 +3220,11 @@ do_static_initialization (decl, init, sentry, priority)\n   /* Cleanup any temporaries needed for the initial value.  */\n   expand_end_target_temps ();\n \n+  /* Cleanup any deferred pops from function calls.  This would be done\n+     by expand_end_cond, but we also need it when !sentry, since we are\n+     constructing these sequences by parts.  */\n+  do_pending_stack_adjust ();\n+\n   /* Close the conditional opened above.  */\n   if (sentry)\n     expand_end_cond ();\n@@ -3276,6 +3281,11 @@ do_static_destruction (decl, sentry, priority)\n   /* Actually to the destruction.  */\n   expand_expr_stmt (build_cleanup (decl));\n \n+  /* Cleanup any deferred pops from function calls.  This would be done\n+     by expand_end_cond, but we also need it when !sentry, since we are\n+     constructing these sequences by parts.  */\n+  do_pending_stack_adjust ();\n+\n   /* Close the conditional opened above.  */\n   if (sentry)\n     expand_end_cond ();"}]}