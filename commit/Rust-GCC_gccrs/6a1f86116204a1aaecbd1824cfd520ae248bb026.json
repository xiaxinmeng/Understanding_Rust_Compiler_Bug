{"sha": "6a1f86116204a1aaecbd1824cfd520ae248bb026", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmExZjg2MTE2MjA0YTFhYWVjYmQxODI0Y2ZkNTIwYWUyNDhiYjAyNg==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@apple.com", "date": "2006-05-19T10:06:17Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2006-05-19T10:06:17Z"}, "message": "re PR c/27673 (Gcc failed to bootstrap on Linux)\n\n\tPR c/27673\n\t* c-parser.c (c_parser_parms_declarator): Initialize had_vla_unspec.\n\t(c_parser_parms_list_declarator): Likewise.\n\nFrom-SVN: r113904", "tree": {"sha": "e62a3d2fc60147525f84a1dc878d3ba616570d45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e62a3d2fc60147525f84a1dc878d3ba616570d45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a1f86116204a1aaecbd1824cfd520ae248bb026", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a1f86116204a1aaecbd1824cfd520ae248bb026", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a1f86116204a1aaecbd1824cfd520ae248bb026", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a1f86116204a1aaecbd1824cfd520ae248bb026/comments", "author": null, "committer": null, "parents": [{"sha": "baffad1f3d30a473263e56f86b1420dbc7371ab3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/baffad1f3d30a473263e56f86b1420dbc7371ab3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/baffad1f3d30a473263e56f86b1420dbc7371ab3"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "9fe0328e8b49a20b9845cf21f2c56d12905f08d9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a1f86116204a1aaecbd1824cfd520ae248bb026/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a1f86116204a1aaecbd1824cfd520ae248bb026/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6a1f86116204a1aaecbd1824cfd520ae248bb026", "patch": "@@ -43,6 +43,7 @@\n \tPR c/18740\n \tPR c/7948\n \tPR c/25802\n+\tPR c/27673\n \t* c-tree.h (struct c_arg_info): Add had_vla_unspec.\n \t(c_vla_unspec_p): Add.\n \t(c_vla_type_p): Add.\n@@ -57,6 +58,8 @@\n \ttypeof when argument is a variably modified type not inside sizeof or alignof.\n \t(c_parser_direct_declarator_inner): Propagate errors.\n \t(c_parser_sizeof_expression): Add support for [*].\n+\t(c_parser_parms_declarator): Initialize had_vla_unspec.\n+\t(c_parser_parms_list_declarator): Likewise.\n \t* c-typeck.c (c_vla_type_p): Add.\n \t(composite_type): Add support for vla compositing.\n \t(comptypes_internal): Add support for vla compatibility."}, {"sha": "8afe79c3703eadf5cf58e5633b9391c65227156a", "filename": "gcc/c-parser.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a1f86116204a1aaecbd1824cfd520ae248bb026/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a1f86116204a1aaecbd1824cfd520ae248bb026/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=6a1f86116204a1aaecbd1824cfd520ae248bb026", "patch": "@@ -2522,6 +2522,7 @@ c_parser_parms_declarator (c_parser *parser, bool id_list_ok, tree attrs)\n \t  ret->tags = 0;\n \t  ret->types = list;\n \t  ret->others = 0;\n+\t  ret->had_vla_unspec = 0;\n \t  c_parser_consume_token (parser);\n \t  pop_scope ();\n \t  return ret;\n@@ -2563,6 +2564,7 @@ c_parser_parms_list_declarator (c_parser *parser, tree attrs)\n       ret->tags = 0;\n       ret->types = 0;\n       ret->others = 0;\n+      ret->had_vla_unspec = 0;\n       c_parser_consume_token (parser);\n       return ret;\n     }\n@@ -2572,6 +2574,7 @@ c_parser_parms_list_declarator (c_parser *parser, tree attrs)\n       ret->parms = 0;\n       ret->tags = 0;\n       ret->others = 0;\n+      ret->had_vla_unspec = 0;\n       /* Suppress -Wold-style-definition for this case.  */\n       ret->types = error_mark_node;\n       error (\"ISO C requires a named argument before %<...%>\");\n@@ -2622,6 +2625,7 @@ c_parser_parms_list_declarator (c_parser *parser, tree attrs)\n \t      ret->tags = 0;\n \t      ret->types = 0;\n \t      ret->others = 0;\n+\t      ret->had_vla_unspec = 0;\n \t      return ret;\n \t    }\n \t}\n@@ -2647,6 +2651,7 @@ c_parser_parms_list_declarator (c_parser *parser, tree attrs)\n \t\t  ret->tags = 0;\n \t\t  ret->types = 0;\n \t\t  ret->others = 0;\n+\t\t  ret->had_vla_unspec = 0;\n \t\t  return ret;\n \t\t}\n \t    }"}]}