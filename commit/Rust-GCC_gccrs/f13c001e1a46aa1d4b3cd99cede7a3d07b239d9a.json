{"sha": "f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjEzYzAwMWUxYTQ2YWExZDRiM2NkOTljZWRlN2EzZDA3YjIzOWQ5YQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-10-19T18:36:21Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-10-19T18:36:21Z"}, "message": "re PR fortran/37834 (write(*,'(f0.0)') 0.0  prints \".\" instead of \"0.\")\n\n2008-10-19  Jerry DeLisle  <jvdelisle@gcc.gnu.org\n\n\tPR libfortran/37834\n\t* io/write_float.def (output_float): Emit '0.' for special case of\n\tformat specifier 'f0.0' and value of zero. Likewise emit '0' for 'f1.0'.\n\nFrom-SVN: r141231", "tree": {"sha": "052d70853d0a6388f542edac0afffdd480c73c1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/052d70853d0a6388f542edac0afffdd480c73c1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a/comments", "author": null, "committer": null, "parents": [{"sha": "a15138a45ffc3b88fbda897f6a7d818f2c89b017", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a15138a45ffc3b88fbda897f6a7d818f2c89b017", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a15138a45ffc3b88fbda897f6a7d818f2c89b017"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "9b2d18d58cf400a56c4835afc1159ec8c6e1433d", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a", "patch": "@@ -1,3 +1,9 @@\n+2008-10-19  Jerry DeLisle  <jvdelisle@gcc.gnu.org\n+\n+\tPR libfortran/37834\n+\t* io/write_float.def (output_float): Emit '0.' for special case of\n+\tformat specifier 'f0.0' and value of zero. Likewise emit '0' for 'f1.0'.\n+\n 2008-10-17  Jerry DeLisle  <jvdelisle@gcc.gnu.org\n \n \tPR libfortran/37863"}, {"sha": "d55e3799946d9570f7c24cf3bfcfafabd7ff207f", "filename": "libgfortran/io/write_float.def", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a/libgfortran%2Fio%2Fwrite_float.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a/libgfortran%2Fio%2Fwrite_float.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite_float.def?ref=f13c001e1a46aa1d4b3cd99cede7a3d07b239d9a", "patch": "@@ -119,6 +119,22 @@ output_float (st_parameter_dt *dtp, const fnode *f, char *buffer, size_t size,\n \tsign = calculate_sign (dtp, sign_bit);\n       else\n \tsign = calculate_sign (dtp, 0);\n+\n+      /* Handle special cases.  */\n+      if (w == 0)\n+\tw = 2;\n+\n+      /* For this one we choose to not output a decimal point.\n+\t F95 10.5.1.2.1  */\n+      if (w == 1 && ft == FMT_F)\n+\t{\n+\t  out = write_block (dtp, w);\n+\t  if (out == NULL)\n+\t    return;\n+\t  *out = '0';\n+\t  return;\n+\t}\n+\t      \n     }\n \n   /* Normalize the fractional component.  */"}]}