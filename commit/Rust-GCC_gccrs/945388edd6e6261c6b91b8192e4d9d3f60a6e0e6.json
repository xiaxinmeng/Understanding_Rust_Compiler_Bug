{"sha": "945388edd6e6261c6b91b8192e4d9d3f60a6e0e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTQ1Mzg4ZWRkNmU2MjYxYzZiOTFiODE5MmU0ZDlkM2Y2MGE2ZTBlNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1994-06-02T17:45:40Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1994-06-02T17:45:40Z"}, "message": "[emacs]: Block input around the garbage reclamation.\n\nInclude blockinput.h.\n\nFrom-SVN: r7422", "tree": {"sha": "a8b70a50334cac73be8c205a9097dd81d1d3c509", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a8b70a50334cac73be8c205a9097dd81d1d3c509"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/945388edd6e6261c6b91b8192e4d9d3f60a6e0e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/945388edd6e6261c6b91b8192e4d9d3f60a6e0e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/945388edd6e6261c6b91b8192e4d9d3f60a6e0e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/945388edd6e6261c6b91b8192e4d9d3f60a6e0e6/comments", "author": null, "committer": null, "parents": [{"sha": "119af78aa8c30f259b00678717ef67a0619cfe4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/119af78aa8c30f259b00678717ef67a0619cfe4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/119af78aa8c30f259b00678717ef67a0619cfe4e"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "d1f4d1a302b6b824c2269dd42b16198590c1149c", "filename": "gcc/alloca.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/945388edd6e6261c6b91b8192e4d9d3f60a6e0e6/gcc%2Falloca.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/945388edd6e6261c6b91b8192e4d9d3f60a6e0e6/gcc%2Falloca.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falloca.c?ref=945388edd6e6261c6b91b8192e4d9d3f60a6e0e6", "patch": "@@ -29,6 +29,10 @@\n #endif\n #endif\n \n+#ifdef emacs\n+#include \"blockinput.h\"\n+#endif\n+\n /* If compiling with GCC 2, this file's not needed.  */\n #if !defined (__GNUC__) || __GNUC__ < 2\n \n@@ -176,6 +180,10 @@ alloca (size)\n   {\n     register header *hp;\t/* Traverses linked list.  */\n \n+#ifdef emacs\n+    BLOCK_INPUT;\n+#endif\n+\n     for (hp = last_alloca_header; hp != NULL;)\n       if ((STACK_DIR > 0 && hp->h.deep > depth)\n \t  || (STACK_DIR < 0 && hp->h.deep < depth))\n@@ -190,6 +198,10 @@ alloca (size)\n \tbreak;\t\t\t/* Rest are not deeper.  */\n \n     last_alloca_header = hp;\t/* -> last valid storage.  */\n+\n+#ifdef emacs\n+    UNBLOCK_INPUT;\n+#endif\n   }\n \n   if (size == 0)"}]}