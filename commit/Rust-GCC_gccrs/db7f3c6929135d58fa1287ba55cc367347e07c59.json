{"sha": "db7f3c6929135d58fa1287ba55cc367347e07c59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI3ZjNjNjkyOTEzNWQ1OGZhMTI4N2JhNTVjYzM2NzM0N2UwN2M1OQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-04-15T17:05:36Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-04-15T17:05:36Z"}, "message": "re PR libobjc/14948 (irix6.5 bootstrap fails in mabi=64/libobjc)\n\n\tPR libobjc/14948\n\t* configure.ac: De-precious CC so multilibs work.\n\t* configure: Regenerate.\n\nFrom-SVN: r80724", "tree": {"sha": "39ce7b01f6486eb3624203c9f807dfedcd092001", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39ce7b01f6486eb3624203c9f807dfedcd092001"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db7f3c6929135d58fa1287ba55cc367347e07c59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db7f3c6929135d58fa1287ba55cc367347e07c59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db7f3c6929135d58fa1287ba55cc367347e07c59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db7f3c6929135d58fa1287ba55cc367347e07c59/comments", "author": null, "committer": null, "parents": [{"sha": "a49877d87f5aec34295e82b0fffaee086457f1c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49877d87f5aec34295e82b0fffaee086457f1c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a49877d87f5aec34295e82b0fffaee086457f1c3"}], "stats": {"total": 53, "additions": 32, "deletions": 21}, "files": [{"sha": "9839340ccb5ffc38c21138eea63c19db9b3bc0b8", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db7f3c6929135d58fa1287ba55cc367347e07c59/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db7f3c6929135d58fa1287ba55cc367347e07c59/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=db7f3c6929135d58fa1287ba55cc367347e07c59", "patch": "@@ -1,3 +1,9 @@\n+2004-04-15  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\tPR libobjc/14948\n+\t* configure.ac: De-precious CC so multilibs work.\n+\t* configure: Regenerate.\n+\n 2004-04-14  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* configure.ac: Restore toolexecdir."}, {"sha": "4c4ebb6361cfd86b7b342f0adb87fc9a34712ebb", "filename": "libobjc/configure", "status": "modified", "additions": 17, "deletions": 21, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db7f3c6929135d58fa1287ba55cc367347e07c59/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db7f3c6929135d58fa1287ba55cc367347e07c59/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=db7f3c6929135d58fa1287ba55cc367347e07c59", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS VERSION OBJC_BOEHM_GC toplevel_srcdir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir gcc_version toolexecdir toolexeclibdir CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP EGREP GTHREAD_FLAGS LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS VERSION OBJC_BOEHM_GC toplevel_srcdir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir gcc_version toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP CPPFLAGS EGREP GTHREAD_FLAGS LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -750,26 +750,14 @@ ac_env_target_alias_set=${target_alias+set}\n ac_env_target_alias_value=$target_alias\n ac_cv_env_target_alias_set=${target_alias+set}\n ac_cv_env_target_alias_value=$target_alias\n-ac_env_CC_set=${CC+set}\n-ac_env_CC_value=$CC\n-ac_cv_env_CC_set=${CC+set}\n-ac_cv_env_CC_value=$CC\n-ac_env_CFLAGS_set=${CFLAGS+set}\n-ac_env_CFLAGS_value=$CFLAGS\n-ac_cv_env_CFLAGS_set=${CFLAGS+set}\n-ac_cv_env_CFLAGS_value=$CFLAGS\n-ac_env_LDFLAGS_set=${LDFLAGS+set}\n-ac_env_LDFLAGS_value=$LDFLAGS\n-ac_cv_env_LDFLAGS_set=${LDFLAGS+set}\n-ac_cv_env_LDFLAGS_value=$LDFLAGS\n-ac_env_CPPFLAGS_set=${CPPFLAGS+set}\n-ac_env_CPPFLAGS_value=$CPPFLAGS\n-ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}\n-ac_cv_env_CPPFLAGS_value=$CPPFLAGS\n ac_env_CPP_set=${CPP+set}\n ac_env_CPP_value=$CPP\n ac_cv_env_CPP_set=${CPP+set}\n ac_cv_env_CPP_value=$CPP\n+ac_env_CPPFLAGS_set=${CPPFLAGS+set}\n+ac_env_CPPFLAGS_value=$CPPFLAGS\n+ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}\n+ac_cv_env_CPPFLAGS_value=$CPPFLAGS\n \n #\n # Report the --help message.\n@@ -1587,6 +1575,12 @@ esac\n # --------\n \n \n+\n+# We must force CC to /not/ be a precious variable; otherwise\n+# the wrong, non-multilib-adjusted value will be used in multilibs.\n+# As a side effect, we have to subst CFLAGS ourselves.\n+\n+\n ac_ext=c\n ac_cpp='$CPP $CPPFLAGS'\n ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n@@ -2546,6 +2540,9 @@ ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $\n ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n+\n+\n+\n if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n@@ -3610,7 +3607,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 3613 \"configure\"' > conftest.$ac_ext\n+  echo '#line 3610 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -5605,12 +5602,10 @@ s,@gcc_version@,$gcc_version,;t t\n s,@toolexecdir@,$toolexecdir,;t t\n s,@toolexeclibdir@,$toolexeclibdir,;t t\n s,@CC@,$CC,;t t\n-s,@CFLAGS@,$CFLAGS,;t t\n-s,@LDFLAGS@,$LDFLAGS,;t t\n-s,@CPPFLAGS@,$CPPFLAGS,;t t\n s,@ac_ct_CC@,$ac_ct_CC,;t t\n s,@EXEEXT@,$EXEEXT,;t t\n s,@OBJEXT@,$OBJEXT,;t t\n+s,@CFLAGS@,$CFLAGS,;t t\n s,@AS@,$AS,;t t\n s,@ac_ct_AS@,$ac_ct_AS,;t t\n s,@AR@,$AR,;t t\n@@ -5626,6 +5621,7 @@ s,@ac_ct_STRIP@,$ac_ct_STRIP,;t t\n s,@LIBTOOL@,$LIBTOOL,;t t\n s,@SET_MAKE@,$SET_MAKE,;t t\n s,@CPP@,$CPP,;t t\n+s,@CPPFLAGS@,$CPPFLAGS,;t t\n s,@EGREP@,$EGREP,;t t\n s,@GTHREAD_FLAGS@,$GTHREAD_FLAGS,;t t\n s,@LIBOBJS@,$LIBOBJS,;t t"}, {"sha": "e6d65fa5e8338ab911a6265e5e72b8803c62eac1", "filename": "libobjc/configure.ac", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db7f3c6929135d58fa1287ba55cc367347e07c59/libobjc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db7f3c6929135d58fa1287ba55cc367347e07c59/libobjc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.ac?ref=db7f3c6929135d58fa1287ba55cc367347e07c59", "patch": "@@ -159,7 +159,16 @@ AC_SUBST(toolexeclibdir)\n # --------\n \n GCC_NO_EXECUTABLES\n+\n+# We must force CC to /not/ be a precious variable; otherwise\n+# the wrong, non-multilib-adjusted value will be used in multilibs.\n+# As a side effect, we have to subst CFLAGS ourselves.\n+m4_rename([_AC_ARG_VAR_PRECIOUS],[real_PRECIOUS])\n+m4_define([_AC_ARG_VAR_PRECIOUS],[])\n AC_PROG_CC\n+m4_rename([real_PRECIOUS],[_AC_ARG_VAR_PRECIOUS])\n+\n+AC_SUBST(CFLAGS)\n \n AC_CHECK_TOOL(AS, as)\n AC_CHECK_TOOL(AR, ar)"}]}