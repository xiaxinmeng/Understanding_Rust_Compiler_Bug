{"sha": "4244a86e669bb667e282329e6c1015de56ead9ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDI0NGE4NmU2NjliYjY2N2UyODIzMjllNmMxMDE1ZGU1NmVhZDllYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2010-10-20T17:30:10Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2010-10-20T17:30:10Z"}, "message": "tree-optimize.c (execute_fixup_cfg): Purge dead abnormal call edges if there is a call statement to pure or const...\n\n\t* tree-optimize.c (execute_fixup_cfg): Purge dead abnormal call edges\n\tif there is a call statement to pure or const function in the block.\n\nFrom-SVN: r165730", "tree": {"sha": "9c6c6e3782229c6edf56d2ac2df6aeed1adedbeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c6c6e3782229c6edf56d2ac2df6aeed1adedbeb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4244a86e669bb667e282329e6c1015de56ead9ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4244a86e669bb667e282329e6c1015de56ead9ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4244a86e669bb667e282329e6c1015de56ead9ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4244a86e669bb667e282329e6c1015de56ead9ea/comments", "author": null, "committer": null, "parents": [{"sha": "825cb171c0e5482e873a53af0982346947302a9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/825cb171c0e5482e873a53af0982346947302a9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/825cb171c0e5482e873a53af0982346947302a9c"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "e3a4cab0814793ebd81c19d73317b25be9560ee3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4244a86e669bb667e282329e6c1015de56ead9ea/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4244a86e669bb667e282329e6c1015de56ead9ea/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4244a86e669bb667e282329e6c1015de56ead9ea", "patch": "@@ -1,3 +1,8 @@\n+2010-10-20  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-optimize.c (execute_fixup_cfg): Purge dead abnormal call edges\n+\tif there is a call statement to pure or const function in the block.\n+\n 2010-10-20  Paul Koning  <pkoning@equallogic.com>\n \n \tFix several build errors for pdp11 target."}, {"sha": "f5a35ad4d24819a6164cc91843d6afd835f6b6c8", "filename": "gcc/tree-optimize.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4244a86e669bb667e282329e6c1015de56ead9ea/gcc%2Ftree-optimize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4244a86e669bb667e282329e6c1015de56ead9ea/gcc%2Ftree-optimize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-optimize.c?ref=4244a86e669bb667e282329e6c1015de56ead9ea", "patch": "@@ -271,13 +271,16 @@ execute_fixup_cfg (void)\n \t      int flags = gimple_call_flags (stmt);\n \t      if (flags & (ECF_CONST | ECF_PURE | ECF_LOOPING_CONST_OR_PURE))\n \t\t{\n+\t\t  if (gimple_purge_dead_abnormal_call_edges (bb))\n+\t\t    todo |= TODO_cleanup_cfg;\n+\n \t\t  if (gimple_in_ssa_p (cfun))\n \t\t    {\n \t\t      todo |= TODO_update_ssa | TODO_cleanup_cfg;\n \t\t      update_stmt (stmt);\n \t\t    }\n \t\t}\n-\t      \n+\n \t      if (flags & ECF_NORETURN\n \t\t  && fixup_noreturn_call (stmt))\n \t\ttodo |= TODO_cleanup_cfg;"}]}