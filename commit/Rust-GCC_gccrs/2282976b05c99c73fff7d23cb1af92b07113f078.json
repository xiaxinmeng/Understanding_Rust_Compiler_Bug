{"sha": "2282976b05c99c73fff7d23cb1af92b07113f078", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI4Mjk3NmIwNWM5OWM3M2ZmZjdkMjNjYjFhZjkyYjA3MTEzZjA3OA==", "commit": {"author": {"name": "Simon Martin", "email": "simartin@users.sourceforge.net", "date": "2009-11-20T21:37:23Z"}, "committer": {"name": "Simon Martin", "email": "simartin@gcc.gnu.org", "date": "2009-11-20T21:37:23Z"}, "message": "re PR c++/38646 (ICE with invalid specialization of variadic template)\n\ngcc/cp/\n\n2009-11-20  Simon Martin  <simartin@users.sourceforge.net>\n\n\tPR c++/38646\n\t* pt.c (process_partial_specialization): Do not turn wrongly located\n\tparameter pack arguments into error_mark_node.\n\tSplit too long lines into two.\n\ngcc/testsuite/\n\n2009-11-20  Simon Martin  <simartin@users.sourceforge.net>\n\n\tPR c++/38646\n\t* g++.dg/cpp0x/pr38646.C: New test.\n\nFrom-SVN: r154378", "tree": {"sha": "6fe90d992185eeac583b8115ba0cfcb089f6f026", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fe90d992185eeac583b8115ba0cfcb089f6f026"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2282976b05c99c73fff7d23cb1af92b07113f078", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2282976b05c99c73fff7d23cb1af92b07113f078", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2282976b05c99c73fff7d23cb1af92b07113f078", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2282976b05c99c73fff7d23cb1af92b07113f078/comments", "author": {"login": "simartin", "id": 935202, "node_id": "MDQ6VXNlcjkzNTIwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/935202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simartin", "html_url": "https://github.com/simartin", "followers_url": "https://api.github.com/users/simartin/followers", "following_url": "https://api.github.com/users/simartin/following{/other_user}", "gists_url": "https://api.github.com/users/simartin/gists{/gist_id}", "starred_url": "https://api.github.com/users/simartin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simartin/subscriptions", "organizations_url": "https://api.github.com/users/simartin/orgs", "repos_url": "https://api.github.com/users/simartin/repos", "events_url": "https://api.github.com/users/simartin/events{/privacy}", "received_events_url": "https://api.github.com/users/simartin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "70826946ea1908954914bb09e27e40139f49be59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70826946ea1908954914bb09e27e40139f49be59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70826946ea1908954914bb09e27e40139f49be59"}], "stats": {"total": 33, "additions": 28, "deletions": 5}, "files": [{"sha": "520262e21fe0f999beeaec1b99a1a6ddc1237cc3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2282976b05c99c73fff7d23cb1af92b07113f078", "patch": "@@ -1,3 +1,10 @@\n+2009-11-20  Simon Martin  <simartin@users.sourceforge.net>\n+\n+\tPR c++/38646\n+\t* pt.c (process_partial_specialization): Do not turn wrongly located\n+\tparameter pack arguments into error_mark_node.\n+\tSplit too long lines into two.\n+\n 2009-11-20  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/42060"}, {"sha": "0a194440ae6958f1a6df21c0ea8794753c6a18f3", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=2282976b05c99c73fff7d23cb1af92b07113f078", "patch": "@@ -3795,12 +3795,11 @@ process_partial_specialization (tree decl)\n                   || (!packed_args && i < nargs - 1))\n                 {\n                   if (TREE_CODE (arg) == EXPR_PACK_EXPANSION)\n-                    error (\"parameter pack argument %qE must be at the end of the template argument list\", arg);\n+                    error (\"parameter pack argument %qE must be at the \"\n+\t\t\t   \"end of the template argument list\", arg);\n                   else\n-                    error (\"parameter pack argument %qT must be at the end of the template argument list\", arg);\n-\n-\t\t  if (packed_args)\n-\t\t    TREE_VEC_ELT (packed_args, j) = error_mark_node;\n+                    error (\"parameter pack argument %qT must be at the \"\n+\t\t\t   \"end of the template argument list\", arg);\n                 }\n             }\n "}, {"sha": "51d1d328067d1040d352af68bad2103b618e14b9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2282976b05c99c73fff7d23cb1af92b07113f078", "patch": "@@ -1,3 +1,8 @@\n+2009-11-20  Simon Martin  <simartin@users.sourceforge.net>\n+\n+\tPR c++/38646\n+\t* g++.dg/cpp0x/pr38646.C: New test.\n+\n 2009-11-20  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* gcc.dg/c99-stdint-6.c: Set dg-options for alpha*-dec-osf5*."}, {"sha": "3ef74cd4866695e708f577c1c11e51e7b53a9aaf", "filename": "gcc/testsuite/g++.dg/cpp0x/pr38646.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr38646.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2282976b05c99c73fff7d23cb1af92b07113f078/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr38646.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr38646.C?ref=2282976b05c99c73fff7d23cb1af92b07113f078", "patch": "@@ -0,0 +1,12 @@\n+/* PR c++/38646 */\n+/* { dg-do \"compile\" } */\n+/* { dg-options \"-std=c++0x\" } */\n+\n+template<int...> struct A;\n+\n+template<int... N> struct A<N..., N...> /* { dg-error \"must be at the end\" } */\n+{\n+  template<typename> struct B;\n+\n+  template<typename T> struct B<T*> {};\n+};"}]}