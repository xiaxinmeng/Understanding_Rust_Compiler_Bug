{"sha": "5d27ef94846befb5099acc0cbbe555b586e415ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQyN2VmOTQ4NDZiZWZiNTA5OWFjYzBjYmJlNTU1YjU4NmU0MTVmZg==", "commit": {"author": {"name": "Stuart Menefy", "email": "stuart.menefy@st.com", "date": "2003-12-05T15:48:37Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2003-12-05T15:48:37Z"}, "message": "re PR target/13302 (Putting a va_list in a struct causes seg fault)\n\n2003-12-05  Stuart Menefy <stuart.menefy@st.com>\n\t    J\"orn Rennecke <joern.rennecke@superh.com>\n\n\tPR target/13302\ngcc:\n\t* sh.c (sh_build_builtin_va_list): Use (*lang_hooks.types.make_type).\ntestsuite:\n\t* g++.dg/other/struct-va_list.C: New test.\n\nCo-Authored-By: J\"orn Rennecke <joern.rennecke@superh.com>\n\nFrom-SVN: r74334", "tree": {"sha": "3f8ebe77d54071b949f47bd83d88fbd96eda5aac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f8ebe77d54071b949f47bd83d88fbd96eda5aac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d27ef94846befb5099acc0cbbe555b586e415ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d27ef94846befb5099acc0cbbe555b586e415ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d27ef94846befb5099acc0cbbe555b586e415ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d27ef94846befb5099acc0cbbe555b586e415ff/comments", "author": null, "committer": null, "parents": [{"sha": "f128e1f3326ab1f24d59110b70e118c95eb76fd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f128e1f3326ab1f24d59110b70e118c95eb76fd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f128e1f3326ab1f24d59110b70e118c95eb76fd5"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "f9d6c8c17c1e77115422daf284e0db833a9f9f6f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d27ef94846befb5099acc0cbbe555b586e415ff", "patch": "@@ -1,3 +1,9 @@\n+2003-12-05  Stuart Menefy <stuart.menefy@st.com>\n+            J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\tPR target/13302\n+\t* sh.c (sh_build_builtin_va_list): Use (*lang_hooks.types.make_type).\n+\n 2003-12-05  Roger Sayle  <roger@eyesopen.com>\n \n \t* dojump.c (do_jump): If the expression being compared against"}, {"sha": "0015f7029a4f2a25deb21f844c54d1ae0a1f7d43", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=5d27ef94846befb5099acc0cbbe555b586e415ff", "patch": "@@ -5929,7 +5929,7 @@ sh_build_builtin_va_list (void)\n       || TARGET_HITACHI || sh_cfun_attr_renesas_p ())\n     return ptr_type_node;\n \n-  record = make_node (RECORD_TYPE);\n+  record = (*lang_hooks.types.make_type) (RECORD_TYPE);\n \n   f_next_o = build_decl (FIELD_DECL, get_identifier (\"__va_next_o\"),\n \t\t\t ptr_type_node);"}, {"sha": "2000b1c5fb5556ae3e5b04035c06cadd0b1c4ed3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5d27ef94846befb5099acc0cbbe555b586e415ff", "patch": "@@ -1,3 +1,9 @@\n+2003-12-05  Stuart Menefy <stuart.menefy@st.com>\n+            J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\tPR target/13302\n+\t* g++.dg/other/struct-va_list.C: New test.\n+\n 2003-12-05  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/13166"}, {"sha": "769b909ff4676d7a17b70aad059feb105b8cfd1c", "filename": "gcc/testsuite/g++.dg/other/struct-va_list.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fstruct-va_list.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d27ef94846befb5099acc0cbbe555b586e415ff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fstruct-va_list.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fstruct-va_list.C?ref=5d27ef94846befb5099acc0cbbe555b586e415ff", "patch": "@@ -0,0 +1,8 @@\n+// { dg-do compile }\n+// PR target/13302\n+\n+#include <stdarg.h>\n+\n+struct NumArgState{\n+    va_list ap;\n+};"}]}