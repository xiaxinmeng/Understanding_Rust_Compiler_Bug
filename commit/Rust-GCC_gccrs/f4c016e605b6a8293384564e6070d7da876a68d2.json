{"sha": "f4c016e605b6a8293384564e6070d7da876a68d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRjMDE2ZTYwNWI2YTgyOTMzODQ1NjRlNjA3MGQ3ZGE4NzZhNjhkMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-12-01T23:50:48Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-12-01T23:50:48Z"}, "message": "runtime: Remove temporary runtime_cond_wait function.\n\nFrom-SVN: r181897", "tree": {"sha": "debba9432db66a824c1e162898af0b56ead31731", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/debba9432db66a824c1e162898af0b56ead31731"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4c016e605b6a8293384564e6070d7da876a68d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4c016e605b6a8293384564e6070d7da876a68d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4c016e605b6a8293384564e6070d7da876a68d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4c016e605b6a8293384564e6070d7da876a68d2/comments", "author": null, "committer": null, "parents": [{"sha": "9a944f58851b27df1d68c18c927a826826b7fa0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a944f58851b27df1d68c18c927a826826b7fa0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a944f58851b27df1d68c18c927a826826b7fa0b"}], "stats": {"total": 27, "additions": 0, "deletions": 27}, "files": [{"sha": "e28bc82f8abab68ee4a95d5b02eca52a8e6040aa", "filename": "libgo/runtime/runtime.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4c016e605b6a8293384564e6070d7da876a68d2/libgo%2Fruntime%2Fruntime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4c016e605b6a8293384564e6070d7da876a68d2/libgo%2Fruntime%2Fruntime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fruntime.h?ref=f4c016e605b6a8293384564e6070d7da876a68d2", "patch": "@@ -337,6 +337,3 @@ void reflect_call(const struct __go_func_type *, const void *, _Bool, _Bool,\n #ifdef __rtems__\n void __wrap_rtems_task_variable_add(void **);\n #endif\n-\n-/* Temporary.  */\n-void\truntime_cond_wait(pthread_cond_t*, pthread_mutex_t*);"}, {"sha": "d43e224ffb29e06eda3104b2dcff252b091c50b0", "filename": "libgo/runtime/thread.c", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4c016e605b6a8293384564e6070d7da876a68d2/libgo%2Fruntime%2Fthread.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4c016e605b6a8293384564e6070d7da876a68d2/libgo%2Fruntime%2Fthread.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fthread.c?ref=f4c016e605b6a8293384564e6070d7da876a68d2", "patch": "@@ -90,27 +90,3 @@ runtime_minit(void)\n \tif(sigaltstack(&ss, nil) < 0)\n \t\t*(int *)0xf1 = 0xf1;\n }\n-\n-// Temporary functions, which will be removed when we stop using\n-// condition variables.\n-\n-void\n-runtime_cond_wait(pthread_cond_t* cond, pthread_mutex_t* mutex)\n-{\n-\tint i;\n-\n-\truntime_entersyscall();\n-\n-\ti = pthread_cond_wait(cond, mutex);\n-\tif(i != 0)\n-\t\truntime_throw(\"pthread_cond_wait\");\n-\ti = pthread_mutex_unlock(mutex);\n-\tif(i != 0)\n-\t\truntime_throw(\"pthread_mutex_unlock\");\n-\n-\truntime_exitsyscall();\n-\n-\ti = pthread_mutex_lock(mutex);\n-\tif(i != 0)\n-\t\truntime_throw(\"pthread_mutex_lock\");\n-}"}]}