{"sha": "073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDczY2JhZDNiYjBlYmU3YTI5ZTExYWNjNTFkMDg1NDNmNWIxZGJkNw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-09-20T06:54:52Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-09-20T06:54:52Z"}, "message": "re PR target/17565 ([3.3 only] asms in delay slots)\n\n\tPR target/17565\n\t* config/mips/mips.md (define_asm_attributes): Set can_delay to no.\n\nFrom-SVN: r87744", "tree": {"sha": "3b4fc4f9a8b7cd419627994ceb2a9a76d6813d29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b4fc4f9a8b7cd419627994ceb2a9a76d6813d29"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/comments", "author": null, "committer": null, "parents": [{"sha": "95c53c62a0ead38459084c66a708af8c8097f00d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95c53c62a0ead38459084c66a708af8c8097f00d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95c53c62a0ead38459084c66a708af8c8097f00d"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "45f7fe7a9ed7a610215bdd5e78e92cd9f77f21ea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "patch": "@@ -1,3 +1,8 @@\n+2004-09-20  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\tPR target/17565\n+\t* config/mips/mips.md (define_asm_attributes): Set can_delay to no.\n+\n 2004-09-20  Jan Hubicka  <jh@suse.cz>\n \n \t* predict.c (estimate_probability): Remove unnecesary code."}, {"sha": "b8239edf7b23650a7d9e1830a61ae7d3517b23fe", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "patch": "@@ -310,7 +310,8 @@\n \n ;; Describe a user's asm statement.\n (define_asm_attributes\n-  [(set_attr \"type\" \"multi\")])\n+  [(set_attr \"type\" \"multi\")\n+   (set_attr \"can_delay\" \"no\")])\n \f\n ;; This mode macro allows 32-bit and 64-bit GPR patterns to be generated\n ;; from the same template."}, {"sha": "8548b4733e9ddd56802a3fe8792538e1a0561e7e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "patch": "@@ -1,3 +1,7 @@\n+2004-09-20  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* gcc.target/mips/asm-1.c: New test.\n+\n 2004-09-19  Ira Rosen  <irar@il.ibm.com>\n \n \t* gcc.dg/vect/vect-13.c: Now vectorized on ppc*."}, {"sha": "1a64e8754fd17553cbe5bd4a2243c87787462eb6", "filename": "gcc/testsuite/gcc.target/mips/asm-1.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fasm-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fasm-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fasm-1.c?ref=073cbad3bb0ebe7a29e11acc51d08543f5b1dbd7", "patch": "@@ -0,0 +1,14 @@\n+/* PR target/17565.  GCC used to put the asm into the delay slot\n+   of the call.  */\n+/* { dg-do assemble } */\n+/* { dg-options \"-O\" } */\n+int foo (int n)\n+{\n+  register int k asm (\"$16\") = n;\n+  if (k > 0)\n+    {\n+      bar ();\n+      asm (\"li %0,0x12345678\" : \"=r\" (k));\n+    }\n+  return k;\n+}"}]}