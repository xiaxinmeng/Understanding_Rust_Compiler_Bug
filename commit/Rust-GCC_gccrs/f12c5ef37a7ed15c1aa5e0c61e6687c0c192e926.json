{"sha": "f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjEyYzVlZjM3YTdlZDE1YzFhYTVlMGM2MWU2Njg3YzBjMTkyZTkyNg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "1999-10-25T21:11:18Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "1999-10-25T21:11:18Z"}, "message": "* arm.md (pic_load_addr): Add constraints to operand 1.\n\nFrom-SVN: r30170", "tree": {"sha": "4eca1c887f98ab8cf98d769265a9a4b23c19ad88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4eca1c887f98ab8cf98d769265a9a4b23c19ad88"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926/comments", "author": null, "committer": null, "parents": [{"sha": "2ca129355b55fab730c22877399a83a7fae8dcc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ca129355b55fab730c22877399a83a7fae8dcc7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ca129355b55fab730c22877399a83a7fae8dcc7"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "fcabdd8fef8405102c45e429ebfa375d9ec1212e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926", "patch": "@@ -1,6 +1,11 @@\n+Mon Oct 25 22:08:35 1999  Richard Earnshaw (rearnsha@arm.com)\n+\n+\t* arm.md (pic_load_addr): Add constraints to operand 1.\n+\n 1999-10-25  Bruce Korb  <autogen@linuxbox.com>\n \n-\t* fixinc/genfixes:  Provide a means for specifying -D options to AutoGen\n+\t* fixinc/genfixes:  Provide a means for specifying -D options to\n+\tAutoGen\n \n Mon Oct 25 00:42:35 1999  Jeffrey A Law  (law@cygnus.com)\n "}, {"sha": "88d42069bf01594def594500b95a14958d29ee7a", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=f12c5ef37a7ed15c1aa5e0c61e6687c0c192e926", "patch": "@@ -2858,16 +2858,20 @@\n \t   && GET_CODE (XEXP (XEXP (operands[1], 0), 1)) == CONST_INT))\"\n   \"adr%?\\\\t%0, %a1\")\n \n-/* When generating pic, we need to load the symbol offset into a register.\n-   So that the optimizer does not confuse this with a normal symbol load\n-   we use an unspec.  The offset will be loaded from a constant pool entry,\n-   since that is the only type of relocation we can use.  */\n+;; When generating pic, we need to load the symbol offset into a register.\n+;; So that the optimizer does not confuse this with a normal symbol load\n+;; we use an unspec.  The offset will be loaded from a constant pool entry,\n+;; since that is the only type of relocation we can use.\n+\n+;; The rather odd constraints on the following are to force reload to leave\n+;; the insn alone, and to force the minipool generation pass to then move\n+;; the GOT symbol to memory.\n \n (define_insn \"pic_load_addr\"\n   [(set (match_operand:SI 0 \"s_register_operand\" \"=r\")\n-\t(unspec:SI [(match_operand 1 \"\" \"\")] 3))]\n+\t(unspec:SI [(match_operand:SI 1 \"\" \"mX\")] 3))]\n   \"flag_pic\"\n-  \"ldr%?\\\\t%0, %a1\"\n+  \"ldr%?\\\\t%0, %1\"\n  [(set_attr \"type\" \"load\")\n   (set_attr \"pool_range\" \"4096\")])\n "}]}