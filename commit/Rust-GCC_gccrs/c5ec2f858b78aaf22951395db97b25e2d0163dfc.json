{"sha": "c5ec2f858b78aaf22951395db97b25e2d0163dfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzVlYzJmODU4Yjc4YWFmMjI5NTEzOTVkYjk3YjI1ZTJkMDE2M2RmYw==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-07-10T21:06:21Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-07-10T21:39:53Z"}, "message": "aix: only create named section for VAR_DECL or FUNCTION_DECL\n\nget_constant_section() can be passed constant-like non-DECLs, such as\nCONSTRUCTOR or STRING_CST, which make DECL_SECTION_NAME unhappy\n(asserted in symtab_node::get).  This patch ensures that xcoff select\nsection only invokes resolve_unique_section() for DECLs.\n\ngcc/ChangeLog\n\n2020-07-10  David Edelsohn  <dje.gcc@gmail.com>\n\n\t* config/rs6000/rs6000.c (rs6000_xcoff_select_section): Only\n\tcreate named section for VAR_DECL or FUNCTION_DECL.", "tree": {"sha": "e7756ea543634b28a0488bd14af01637c2521030", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7756ea543634b28a0488bd14af01637c2521030"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c5ec2f858b78aaf22951395db97b25e2d0163dfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5ec2f858b78aaf22951395db97b25e2d0163dfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5ec2f858b78aaf22951395db97b25e2d0163dfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5ec2f858b78aaf22951395db97b25e2d0163dfc/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2104239c8f23ff3463dba64f1c9266896ce4fae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2104239c8f23ff3463dba64f1c9266896ce4fae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2104239c8f23ff3463dba64f1c9266896ce4fae"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "b42f0c5b33dd94df583126dad47f616ac99b233d", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5ec2f858b78aaf22951395db97b25e2d0163dfc/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5ec2f858b78aaf22951395db97b25e2d0163dfc/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=c5ec2f858b78aaf22951395db97b25e2d0163dfc", "patch": "@@ -20465,7 +20465,7 @@ rs6000_xcoff_select_section (tree decl, int reloc,\n {\n   /* Place variables with alignment stricter than BIGGEST_ALIGNMENT into\n      named section.  */\n-  if (align > BIGGEST_ALIGNMENT)\n+  if (align > BIGGEST_ALIGNMENT && VAR_OR_FUNCTION_DECL_P (decl))\n     {\n       resolve_unique_section (decl, reloc, true);\n       if (IN_NAMED_SECTION (decl))"}]}