{"sha": "be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUzNmI2ZDBkZGVhN2Q2ZmFiNTAxY2M0NDExOGQyZDVkYWY3NTBkOA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@albatross.co.nz", "date": "2000-12-18T22:17:25Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2000-12-18T22:17:25Z"}, "message": "Removed additional addNotify() peer hacks.\n\nFrom-SVN: r38367", "tree": {"sha": "00e1f43706469e55eeb3fb7de2b0bac1b9c60fc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00e1f43706469e55eeb3fb7de2b0bac1b9c60fc5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/comments", "author": null, "committer": null, "parents": [{"sha": "2cb5082c1ee1ed65a3afe6e1bb11f28328860d02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cb5082c1ee1ed65a3afe6e1bb11f28328860d02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cb5082c1ee1ed65a3afe6e1bb11f28328860d02"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "793e410a34967fc6c59a85a2c36cb5507e463e2c", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "patch": "@@ -2,6 +2,12 @@\n \n \t* java/awt/Window.java (addNotify): Remove peer casting hack now that \n \tgcj/312 is fixed.\n+\t* java/awt/Button.java (addNotify): Likewise.\n+\t* java/awt/Label.java (addNotify): Likewise.\n+\t* java/awt/Panel.java (addNotify): Likewise.\n+\t* java/awt/Scrollbar.java (addNotify): Likewise.\n+\t* java/awt/Component.java (processPaintEvent): Use peer not getPeer.\n+\tRemove redundant null checks.\n \n 2000-12-18  Joseph S. Myers  <jsm28@cam.ac.uk>\n "}, {"sha": "2544e9e4bea643c37307d24fae557535f04a08d0", "filename": "libjava/java/awt/Button.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FButton.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FButton.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FButton.java?ref=be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "patch": "@@ -38,7 +38,7 @@ public void addActionListener (ActionListener l)\n   public void addNotify ()\n   {\n     if (peer == null)\n-      peer = (ComponentPeer) getToolkit ().createButton (this);\n+      peer = getToolkit ().createButton (this);\n     super.addNotify();\n   }\n "}, {"sha": "09b724470715fc014d29e23e119e6765696f55e8", "filename": "libjava/java/awt/Component.java", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FComponent.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FComponent.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FComponent.java?ref=be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "patch": "@@ -1306,8 +1306,6 @@ protected void processHierarchyBoundsEvent(HierarchyEvent e)\n \n   private void processPaintEvent(PaintEvent event)\n   {\n-    ComponentPeer peer = getPeer();\n-\t\n     // Can't do graphics without peer\n     if (peer == null)\n       return;\n@@ -1319,10 +1317,10 @@ private void processPaintEvent(PaintEvent event)\n     switch (event.id)\n       {\n       case PaintEvent.PAINT:\n-\tif (peer != null) paint(gfx);\n+\tpaint(gfx);\n \tbreak;\n       case PaintEvent.UPDATE:\n-\tif (peer != null) update(gfx);\n+\tupdate(gfx);\n \tbreak;\n       default:\n \tthrow new IllegalArgumentException(\"unknown paint event\");"}, {"sha": "c184dce03b969916f60965cd93538508a9c0a9e8", "filename": "libjava/java/awt/Label.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FLabel.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FLabel.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FLabel.java?ref=be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "patch": "@@ -42,7 +42,7 @@ public Label (String text, int alignment)\n   public void addNotify ()\n   {\n     if (peer == null)\n-      peer = (ComponentPeer) getToolkit ().createLabel (this);\n+      peer = getToolkit ().createLabel (this);\n   }\n \n   public int getAlignment ()"}, {"sha": "871969584821949d8887593a3a76be868e6ab052", "filename": "libjava/java/awt/Panel.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FPanel.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FPanel.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FPanel.java?ref=be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "patch": "@@ -32,8 +32,8 @@ public Panel(LayoutManager layout)\n \n   public void addNotify()\n   {\n-    if (getPeer() == null)\n-      peer = (ComponentPeer) getToolkit().createPanel(this);\n+    if (peer == null)\n+      peer = getToolkit().createPanel(this);\n     super.addNotify();\n   }\n }"}, {"sha": "88a8d1fec5a497ecc54675aa76ee7a339637476c", "filename": "libjava/java/awt/Scrollbar.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FScrollbar.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be36b6d0ddea7d6fab501cc44118d2d5daf750d8/libjava%2Fjava%2Fawt%2FScrollbar.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FScrollbar.java?ref=be36b6d0ddea7d6fab501cc44118d2d5daf750d8", "patch": "@@ -54,7 +54,7 @@ public Scrollbar (int orientation, int value, int visible,\n   public void addNotify ()\n   {\n     if (peer == null)\n-      peer = (ComponentPeer) getToolkit ().createScrollbar (this);\n+      peer = getToolkit ().createScrollbar (this);\n   }\n \n   public int getOrientation ()"}]}