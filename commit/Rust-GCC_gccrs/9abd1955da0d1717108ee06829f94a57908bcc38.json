{"sha": "9abd1955da0d1717108ee06829f94a57908bcc38", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWFiZDE5NTVkYTBkMTcxNzEwOGVlMDY4MjlmOTRhNTc5MDhiY2MzOA==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2005-03-16T18:29:26Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2005-03-16T18:29:26Z"}, "message": "optabs.c (expand_copysign_absneg): Make static.\n\n\n\t* optabs.c (expand_copysign_absneg): Make static.\n\t* optabs.h (expand_copysign_absneg): Delete prototype.\n\t* config/rs6000/rs6000.md (copysigntf3): Delete pattern.\n\nFrom-SVN: r96572", "tree": {"sha": "43897d52fbbd0eb9ee1c0eb42cd22fbab770b92d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43897d52fbbd0eb9ee1c0eb42cd22fbab770b92d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9abd1955da0d1717108ee06829f94a57908bcc38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9abd1955da0d1717108ee06829f94a57908bcc38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9abd1955da0d1717108ee06829f94a57908bcc38", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9abd1955da0d1717108ee06829f94a57908bcc38/comments", "author": null, "committer": null, "parents": [{"sha": "455d8f0605b9e3c4f8760470471d22a43d01f531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/455d8f0605b9e3c4f8760470471d22a43d01f531", "html_url": "https://github.com/Rust-GCC/gccrs/commit/455d8f0605b9e3c4f8760470471d22a43d01f531"}], "stats": {"total": 36, "additions": 7, "deletions": 29}, "files": [{"sha": "3978c1af56dcfbe497b5ebf720ea97df9d310204", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9abd1955da0d1717108ee06829f94a57908bcc38", "patch": "@@ -1,3 +1,9 @@\n+2005-03-16  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* optabs.c (expand_copysign_absneg): Make static.\n+\t* optabs.h (expand_copysign_absneg): Delete prototype.\n+\t* config/rs6000/rs6000.md (copysigntf3): Delete pattern.\n+\n 2005-03-16  Richard Henderson  <rth@redhat.com>\n \n \tPR middle-end/15700"}, {"sha": "fc4b6f1cfb2aa121f5f84e2adc02457a29775d3d", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 0, "deletions": 27, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=9abd1955da0d1717108ee06829f94a57908bcc38", "patch": "@@ -8492,33 +8492,6 @@\n   operands[5] = simplify_gen_subreg (DFmode, operands[0], TFmode, hi_word);\n   operands[6] = simplify_gen_subreg (DFmode, operands[0], TFmode, lo_word);\n }\")\n-\n-(define_expand \"copysigntf3\"\n-  [(match_operand:TF 0 \"general_operand\" \"\")\n-   (match_operand:TF 1 \"general_operand\" \"\")\n-   (match_operand:TF 2 \"general_operand\" \"\")]\n-  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n-   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n-{\n-  rtx target, op0, op1, temp;\n-  bool op0_is_abs = false;\n-\n-  target = operands[0];\n-  op0 = operands[1];\n-  op1 = operands[2];\n-\n-  if (GET_CODE (op0) == CONST_DOUBLE)\n-    {\n-      if (real_isneg (CONST_DOUBLE_REAL_VALUE (op0)))\n-\top0 = simplify_unary_operation (ABS, TFmode, op0, TFmode);\n-      op0_is_abs = true;\n-    }\n-\n-  temp = expand_copysign_absneg (TFmode, op0, op1, target, 127, op0_is_abs);\n-  if (temp != target)\n-    emit_move_insn (target, temp);\n-  DONE;\n-})\n \f\n ;; Next come the multi-word integer load and store and the load and store\n ;; multiple insns."}, {"sha": "b2021f1d358cdc617bfe84002d03d20897b8a86a", "filename": "gcc/optabs.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=9abd1955da0d1717108ee06829f94a57908bcc38", "patch": "@@ -2678,7 +2678,7 @@ expand_abs (enum machine_mode mode, rtx op0, rtx target,\n    is that we have a split register file, and leaving op0 in fp registers,\n    and not playing with subregs so much, will help the register allocator.  */\n \n-rtx\n+static rtx\n expand_copysign_absneg (enum machine_mode mode, rtx op0, rtx op1, rtx target,\n \t\t        int bitpos, bool op0_is_abs)\n {"}, {"sha": "b9aa6ac4161465c88b5f66e076933c1925387729", "filename": "gcc/optabs.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2Foptabs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9abd1955da0d1717108ee06829f94a57908bcc38/gcc%2Foptabs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.h?ref=9abd1955da0d1717108ee06829f94a57908bcc38", "patch": "@@ -463,7 +463,6 @@ extern rtx expand_abs (enum machine_mode, rtx, rtx, int, int);\n \n /* Expand the copysign operation.  */\n extern rtx expand_copysign (rtx, rtx, rtx);\n-extern rtx expand_copysign_absneg (enum machine_mode, rtx, rtx, rtx, int, bool);\n \n /* Generate an instruction with a given INSN_CODE with an output and\n    an input.  */"}]}