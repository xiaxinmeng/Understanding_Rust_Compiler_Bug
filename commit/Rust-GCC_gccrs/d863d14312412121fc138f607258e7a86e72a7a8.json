{"sha": "d863d14312412121fc138f607258e7a86e72a7a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDg2M2QxNDMxMjQxMjEyMWZjMTM4ZjYwNzI1OGU3YTg2ZTcyYTdhOA==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2012-10-30T02:17:50Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2012-10-30T02:17:50Z"}, "message": "re PR target/54989 (FAIL: gcc.dg/hoist-register-pressure.c scan-rtl-dump hoist \"PRE/HOIST: end of bb .* copying expression\" on darwin)\n\n\tPR target/54989\n\t* gcc.dg/hoist-register-pressure-1.c: Rename from\n\thoist-register-pressure.c. Add nonpic condition.\n\t* gcc.dg/hoist-register-pressure-2.c: New testcase.\n\nFrom-SVN: r192976", "tree": {"sha": "3c6e677253de7c6838d5e4b518c8301896c09cae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c6e677253de7c6838d5e4b518c8301896c09cae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d863d14312412121fc138f607258e7a86e72a7a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d863d14312412121fc138f607258e7a86e72a7a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d863d14312412121fc138f607258e7a86e72a7a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d863d14312412121fc138f607258e7a86e72a7a8/comments", "author": null, "committer": null, "parents": [{"sha": "c46cf1fa1387a7d61124404fdd194133948f570f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c46cf1fa1387a7d61124404fdd194133948f570f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c46cf1fa1387a7d61124404fdd194133948f570f"}], "stats": {"total": 41, "additions": 40, "deletions": 1}, "files": [{"sha": "627d80ddb376104f49bcee704a8f050ffbd970d2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d863d14312412121fc138f607258e7a86e72a7a8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d863d14312412121fc138f607258e7a86e72a7a8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d863d14312412121fc138f607258e7a86e72a7a8", "patch": "@@ -1,3 +1,10 @@\n+2012-10-30  Bin Cheng  <bin.cheng@arm.com>\n+\n+\tPR target/54989\n+\t* gcc.dg/hoist-register-pressure-1.c: Rename from\n+\thoist-register-pressure.c. Add nonpic condition.\n+\t* gcc.dg/hoist-register-pressure-2.c: New testcase.\n+\n 2012-10-29  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \tPR c++/54930"}, {"sha": "01e5ed4fbb5312a8ff8852ccac33426176b8def9", "filename": "gcc/testsuite/gcc.dg/hoist-register-pressure-1.c", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d863d14312412121fc138f607258e7a86e72a7a8/gcc%2Ftestsuite%2Fgcc.dg%2Fhoist-register-pressure-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d863d14312412121fc138f607258e7a86e72a7a8/gcc%2Ftestsuite%2Fgcc.dg%2Fhoist-register-pressure-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fhoist-register-pressure-1.c?ref=d863d14312412121fc138f607258e7a86e72a7a8", "patch": "@@ -1,5 +1,5 @@\n /* { dg-options \"-Os -fdump-rtl-hoist\" }  */\n-/* { dg-final { scan-rtl-dump \"PRE/HOIST: end of bb .* copying expression\" \"hoist\" } } */\n+/* { dg-final { scan-rtl-dump \"PRE/HOIST: end of bb .* copying expression\" \"hoist\" { target { nonpic } } } } */\n \n #define BUF 100\n int a[BUF];", "previous_filename": "gcc/testsuite/gcc.dg/hoist-register-pressure.c"}, {"sha": "7f973fec575d78894f387b14494e1c5cd8b8f5fc", "filename": "gcc/testsuite/gcc.dg/hoist-register-pressure-2.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d863d14312412121fc138f607258e7a86e72a7a8/gcc%2Ftestsuite%2Fgcc.dg%2Fhoist-register-pressure-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d863d14312412121fc138f607258e7a86e72a7a8/gcc%2Ftestsuite%2Fgcc.dg%2Fhoist-register-pressure-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fhoist-register-pressure-2.c?ref=d863d14312412121fc138f607258e7a86e72a7a8", "patch": "@@ -0,0 +1,32 @@\n+/* { dg-options \"-Os -fdump-rtl-hoist\" }  */\n+/* { dg-final { scan-rtl-dump \"PRE/HOIST: end of bb .* copying expression\" \"hoist\" } } */\n+\n+#define BUF 100\n+int a[BUF];\n+\n+void com (int);\n+void bar (int);\n+\n+int foo (int x, int y, int z)\n+{\n+  /* \"x+y\" won't be hoisted if \"-fira-hoist-pressure\" is disabled,\n+     because its rtx_cost is too small.  */\n+  if (z)\n+    {\n+      a[1] = a[0];\n+      a[2] = a[1];\n+      a[3] = a[3];\n+      a[4] = a[5];\n+      a[5] = a[7];\n+      a[6] = a[11];\n+      a[7] = a[13];\n+      a[8] = a[17];\n+      com (x+y);\n+    }\n+  else\n+    {\n+      bar (x+y);\n+    }\n+\n+  return 0;\n+}"}]}