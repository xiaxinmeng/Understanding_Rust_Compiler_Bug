{"sha": "76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzZjNmVhMGM4YmU5NWYwZjMxY2Y2M2JiNTVlNjQ3YzQ1MzllN2IxMg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2006-04-04T00:30:05Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2006-04-04T00:30:05Z"}, "message": "Makefile.in: Rebuilt.\n\nfastjar\n\tRemoved\nlibjava\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am (ZIP): Removed.\n\t(libgcj-$(gcc_version).jar): Use $(JAR).\n\t(src.zip): Likewise.\n\t* configure: Rebuilt.\n\t* configure.ac: Check for jar.  Removed code to set ZIP.\n\nFrom-SVN: r112654", "tree": {"sha": "e7eff1dfe7f6d953e9d4f452f6d946837a9a4d07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7eff1dfe7f6d953e9d4f452f6d946837a9a4d07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/comments", "author": null, "committer": null, "parents": [{"sha": "46bdbc0012b7ac304f1810c23611d8c6f1f81186", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46bdbc0012b7ac304f1810c23611d8c6f1f81186", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46bdbc0012b7ac304f1810c23611d8c6f1f81186"}], "stats": {"total": 16739, "additions": 76, "deletions": 16663}, "files": [{"sha": "8351d85d460482f3fea898ae174847a7884923e5", "filename": "fastjar/AUTHORS", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FAUTHORS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FAUTHORS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FAUTHORS?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1 +0,0 @@\n-Bryan Burns and Cory Jon Hollingsworth."}, {"sha": "057aa6110514d7f63011cf19518a8348563d15d4", "filename": "fastjar/CHANGES", "status": "removed", "additions": 0, "deletions": 38, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FCHANGES", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FCHANGES", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FCHANGES?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,38 +0,0 @@\n-0.92\t\t08/24/2000\tImproved support for other Unix platforms.\n-\t\t\t\tNow works on Solaris, AIX, True 64, and HP-UX.\n-\t\t\t\tHopefully resolved all big endian problems.\n-\t\t\t\tFixed bug in update which caused it to skip\n-\t\t\t\topenning update file\n-\n-0.90            12/06/1999      Fixed recursive archival bug.\n-\n-0.86            10/12/1999      Applied patch to fix leading \"./\" problem.\n-\n-0.85            5/10/1999       The -t and -x flags now work.  Hooray!  Those\n-                                took quite a long time to get working. \n-                                Handling extraction/listing added quite a bit\n-                                of code, 500-1000 lines. ouch!\n-\n-0.75            4/27/1999       Added support for -C flag, allowing you to\n-                                change directories before adding files.  See\n-                                fastjar's usage screen for more info.  Also\n-                                improved the total compression display, and\n-                                added install/uninstall targets to the\n-                                Makefile.\n-\n-0.71            4/27/1999       Added -V flag to print version info.  Added\n-                                better error messages, and added configure\n-                                script for better portability.\n-\n-0.70            4/25/1999       Added compression.  Only deflation is supported\n-                                at this time (only one jar supports) and is\n-                                enabled by default.  use the -0 flag to disable\n-                                compression.\n-\n-0.60            4/21/1999       Added support for manifest files (-m, -M).\n-                                Fixed bug with mod time/date in central header.\n-\n-0.50.1          4/20/1999       Added patch from John Bley. (Fixes bug with\n-                                not properly closing the file)\n-\n-0.50            4/20/1999       First public release"}, {"sha": "d60c31a97a544b53039088d14fe9114583c0efc3", "filename": "fastjar/COPYING", "status": "removed", "additions": 0, "deletions": 340, "changes": 340, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FCOPYING", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FCOPYING", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FCOPYING?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,340 +0,0 @@\n-\t\t    GNU GENERAL PUBLIC LICENSE\n-\t\t       Version 2, June 1991\n-\n- Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n-     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n- Everyone is permitted to copy and distribute verbatim copies\n- of this license document, but changing it is not allowed.\n-\n-\t\t\t    Preamble\n-\n-  The licenses for most software are designed to take away your\n-freedom to share and change it.  By contrast, the GNU General Public\n-License is intended to guarantee your freedom to share and change free\n-software--to make sure the software is free for all its users.  This\n-General Public License applies to most of the Free Software\n-Foundation's software and to any other program whose authors commit to\n-using it.  (Some other Free Software Foundation software is covered by\n-the GNU Library General Public License instead.)  You can apply it to\n-your programs, too.\n-\n-  When we speak of free software, we are referring to freedom, not\n-price.  Our General Public Licenses are designed to make sure that you\n-have the freedom to distribute copies of free software (and charge for\n-this service if you wish), that you receive source code or can get it\n-if you want it, that you can change the software or use pieces of it\n-in new free programs; and that you know you can do these things.\n-\n-  To protect your rights, we need to make restrictions that forbid\n-anyone to deny you these rights or to ask you to surrender the rights.\n-These restrictions translate to certain responsibilities for you if you\n-distribute copies of the software, or if you modify it.\n-\n-  For example, if you distribute copies of such a program, whether\n-gratis or for a fee, you must give the recipients all the rights that\n-you have.  You must make sure that they, too, receive or can get the\n-source code.  And you must show them these terms so they know their\n-rights.\n-\n-  We protect your rights with two steps: (1) copyright the software, and\n-(2) offer you this license which gives you legal permission to copy,\n-distribute and/or modify the software.\n-\n-  Also, for each author's protection and ours, we want to make certain\n-that everyone understands that there is no warranty for this free\n-software.  If the software is modified by someone else and passed on, we\n-want its recipients to know that what they have is not the original, so\n-that any problems introduced by others will not reflect on the original\n-authors' reputations.\n-\n-  Finally, any free program is threatened constantly by software\n-patents.  We wish to avoid the danger that redistributors of a free\n-program will individually obtain patent licenses, in effect making the\n-program proprietary.  To prevent this, we have made it clear that any\n-patent must be licensed for everyone's free use or not licensed at all.\n-\n-  The precise terms and conditions for copying, distribution and\n-modification follow.\n-\f\n-\t\t    GNU GENERAL PUBLIC LICENSE\n-   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n-\n-  0. This License applies to any program or other work which contains\n-a notice placed by the copyright holder saying it may be distributed\n-under the terms of this General Public License.  The \"Program\", below,\n-refers to any such program or work, and a \"work based on the Program\"\n-means either the Program or any derivative work under copyright law:\n-that is to say, a work containing the Program or a portion of it,\n-either verbatim or with modifications and/or translated into another\n-language.  (Hereinafter, translation is included without limitation in\n-the term \"modification\".)  Each licensee is addressed as \"you\".\n-\n-Activities other than copying, distribution and modification are not\n-covered by this License; they are outside its scope.  The act of\n-running the Program is not restricted, and the output from the Program\n-is covered only if its contents constitute a work based on the\n-Program (independent of having been made by running the Program).\n-Whether that is true depends on what the Program does.\n-\n-  1. You may copy and distribute verbatim copies of the Program's\n-source code as you receive it, in any medium, provided that you\n-conspicuously and appropriately publish on each copy an appropriate\n-copyright notice and disclaimer of warranty; keep intact all the\n-notices that refer to this License and to the absence of any warranty;\n-and give any other recipients of the Program a copy of this License\n-along with the Program.\n-\n-You may charge a fee for the physical act of transferring a copy, and\n-you may at your option offer warranty protection in exchange for a fee.\n-\n-  2. You may modify your copy or copies of the Program or any portion\n-of it, thus forming a work based on the Program, and copy and\n-distribute such modifications or work under the terms of Section 1\n-above, provided that you also meet all of these conditions:\n-\n-    a) You must cause the modified files to carry prominent notices\n-    stating that you changed the files and the date of any change.\n-\n-    b) You must cause any work that you distribute or publish, that in\n-    whole or in part contains or is derived from the Program or any\n-    part thereof, to be licensed as a whole at no charge to all third\n-    parties under the terms of this License.\n-\n-    c) If the modified program normally reads commands interactively\n-    when run, you must cause it, when started running for such\n-    interactive use in the most ordinary way, to print or display an\n-    announcement including an appropriate copyright notice and a\n-    notice that there is no warranty (or else, saying that you provide\n-    a warranty) and that users may redistribute the program under\n-    these conditions, and telling the user how to view a copy of this\n-    License.  (Exception: if the Program itself is interactive but\n-    does not normally print such an announcement, your work based on\n-    the Program is not required to print an announcement.)\n-\f\n-These requirements apply to the modified work as a whole.  If\n-identifiable sections of that work are not derived from the Program,\n-and can be reasonably considered independent and separate works in\n-themselves, then this License, and its terms, do not apply to those\n-sections when you distribute them as separate works.  But when you\n-distribute the same sections as part of a whole which is a work based\n-on the Program, the distribution of the whole must be on the terms of\n-this License, whose permissions for other licensees extend to the\n-entire whole, and thus to each and every part regardless of who wrote it.\n-\n-Thus, it is not the intent of this section to claim rights or contest\n-your rights to work written entirely by you; rather, the intent is to\n-exercise the right to control the distribution of derivative or\n-collective works based on the Program.\n-\n-In addition, mere aggregation of another work not based on the Program\n-with the Program (or with a work based on the Program) on a volume of\n-a storage or distribution medium does not bring the other work under\n-the scope of this License.\n-\n-  3. You may copy and distribute the Program (or a work based on it,\n-under Section 2) in object code or executable form under the terms of\n-Sections 1 and 2 above provided that you also do one of the following:\n-\n-    a) Accompany it with the complete corresponding machine-readable\n-    source code, which must be distributed under the terms of Sections\n-    1 and 2 above on a medium customarily used for software interchange; or,\n-\n-    b) Accompany it with a written offer, valid for at least three\n-    years, to give any third party, for a charge no more than your\n-    cost of physically performing source distribution, a complete\n-    machine-readable copy of the corresponding source code, to be\n-    distributed under the terms of Sections 1 and 2 above on a medium\n-    customarily used for software interchange; or,\n-\n-    c) Accompany it with the information you received as to the offer\n-    to distribute corresponding source code.  (This alternative is\n-    allowed only for noncommercial distribution and only if you\n-    received the program in object code or executable form with such\n-    an offer, in accord with Subsection b above.)\n-\n-The source code for a work means the preferred form of the work for\n-making modifications to it.  For an executable work, complete source\n-code means all the source code for all modules it contains, plus any\n-associated interface definition files, plus the scripts used to\n-control compilation and installation of the executable.  However, as a\n-special exception, the source code distributed need not include\n-anything that is normally distributed (in either source or binary\n-form) with the major components (compiler, kernel, and so on) of the\n-operating system on which the executable runs, unless that component\n-itself accompanies the executable.\n-\n-If distribution of executable or object code is made by offering\n-access to copy from a designated place, then offering equivalent\n-access to copy the source code from the same place counts as\n-distribution of the source code, even though third parties are not\n-compelled to copy the source along with the object code.\n-\f\n-  4. You may not copy, modify, sublicense, or distribute the Program\n-except as expressly provided under this License.  Any attempt\n-otherwise to copy, modify, sublicense or distribute the Program is\n-void, and will automatically terminate your rights under this License.\n-However, parties who have received copies, or rights, from you under\n-this License will not have their licenses terminated so long as such\n-parties remain in full compliance.\n-\n-  5. You are not required to accept this License, since you have not\n-signed it.  However, nothing else grants you permission to modify or\n-distribute the Program or its derivative works.  These actions are\n-prohibited by law if you do not accept this License.  Therefore, by\n-modifying or distributing the Program (or any work based on the\n-Program), you indicate your acceptance of this License to do so, and\n-all its terms and conditions for copying, distributing or modifying\n-the Program or works based on it.\n-\n-  6. Each time you redistribute the Program (or any work based on the\n-Program), the recipient automatically receives a license from the\n-original licensor to copy, distribute or modify the Program subject to\n-these terms and conditions.  You may not impose any further\n-restrictions on the recipients' exercise of the rights granted herein.\n-You are not responsible for enforcing compliance by third parties to\n-this License.\n-\n-  7. If, as a consequence of a court judgment or allegation of patent\n-infringement or for any other reason (not limited to patent issues),\n-conditions are imposed on you (whether by court order, agreement or\n-otherwise) that contradict the conditions of this License, they do not\n-excuse you from the conditions of this License.  If you cannot\n-distribute so as to satisfy simultaneously your obligations under this\n-License and any other pertinent obligations, then as a consequence you\n-may not distribute the Program at all.  For example, if a patent\n-license would not permit royalty-free redistribution of the Program by\n-all those who receive copies directly or indirectly through you, then\n-the only way you could satisfy both it and this License would be to\n-refrain entirely from distribution of the Program.\n-\n-If any portion of this section is held invalid or unenforceable under\n-any particular circumstance, the balance of the section is intended to\n-apply and the section as a whole is intended to apply in other\n-circumstances.\n-\n-It is not the purpose of this section to induce you to infringe any\n-patents or other property right claims or to contest validity of any\n-such claims; this section has the sole purpose of protecting the\n-integrity of the free software distribution system, which is\n-implemented by public license practices.  Many people have made\n-generous contributions to the wide range of software distributed\n-through that system in reliance on consistent application of that\n-system; it is up to the author/donor to decide if he or she is willing\n-to distribute software through any other system and a licensee cannot\n-impose that choice.\n-\n-This section is intended to make thoroughly clear what is believed to\n-be a consequence of the rest of this License.\n-\f\n-  8. If the distribution and/or use of the Program is restricted in\n-certain countries either by patents or by copyrighted interfaces, the\n-original copyright holder who places the Program under this License\n-may add an explicit geographical distribution limitation excluding\n-those countries, so that distribution is permitted only in or among\n-countries not thus excluded.  In such case, this License incorporates\n-the limitation as if written in the body of this License.\n-\n-  9. The Free Software Foundation may publish revised and/or new versions\n-of the General Public License from time to time.  Such new versions will\n-be similar in spirit to the present version, but may differ in detail to\n-address new problems or concerns.\n-\n-Each version is given a distinguishing version number.  If the Program\n-specifies a version number of this License which applies to it and \"any\n-later version\", you have the option of following the terms and conditions\n-either of that version or of any later version published by the Free\n-Software Foundation.  If the Program does not specify a version number of\n-this License, you may choose any version ever published by the Free Software\n-Foundation.\n-\n-  10. If you wish to incorporate parts of the Program into other free\n-programs whose distribution conditions are different, write to the author\n-to ask for permission.  For software which is copyrighted by the Free\n-Software Foundation, write to the Free Software Foundation; we sometimes\n-make exceptions for this.  Our decision will be guided by the two goals\n-of preserving the free status of all derivatives of our free software and\n-of promoting the sharing and reuse of software generally.\n-\n-\t\t\t    NO WARRANTY\n-\n-  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n-FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n-OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n-PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n-OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n-MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n-TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n-PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\n-REPAIR OR CORRECTION.\n-\n-  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\n-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\n-REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\n-INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\n-OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\n-TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\n-YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\n-PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\n-POSSIBILITY OF SUCH DAMAGES.\n-\n-\t\t     END OF TERMS AND CONDITIONS\n-\f\n-\t    How to Apply These Terms to Your New Programs\n-\n-  If you develop a new program, and you want it to be of the greatest\n-possible use to the public, the best way to achieve this is to make it\n-free software which everyone can redistribute and change under these terms.\n-\n-  To do so, attach the following notices to the program.  It is safest\n-to attach them to the start of each source file to most effectively\n-convey the exclusion of warranty; and each file should have at least\n-the \"copyright\" line and a pointer to where the full notice is found.\n-\n-    <one line to give the program's name and a brief idea of what it does.>\n-    Copyright (C) <year>  <name of author>\n-\n-    This program is free software; you can redistribute it and/or modify\n-    it under the terms of the GNU General Public License as published by\n-    the Free Software Foundation; either version 2 of the License, or\n-    (at your option) any later version.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU General Public License for more details.\n-\n-    You should have received a copy of the GNU General Public License\n-    along with this program; if not, write to the Free Software\n-    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n-\n-\n-Also add information on how to contact you by electronic and paper mail.\n-\n-If the program is interactive, make it output a short notice like this\n-when it starts in an interactive mode:\n-\n-    Gnomovision version 69, Copyright (C) year  name of author\n-    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n-    This is free software, and you are welcome to redistribute it\n-    under certain conditions; type `show c' for details.\n-\n-The hypothetical commands `show w' and `show c' should show the appropriate\n-parts of the General Public License.  Of course, the commands you use may\n-be called something other than `show w' and `show c'; they could even be\n-mouse-clicks or menu items--whatever suits your program.\n-\n-You should also get your employer (if you work as a programmer) or your\n-school, if any, to sign a \"copyright disclaimer\" for the program, if\n-necessary.  Here is a sample; alter the names:\n-\n-  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n-  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n-\n-  <signature of Ty Coon>, 1 April 1989\n-  Ty Coon, President of Vice\n-\n-This General Public License does not permit incorporating your program into\n-proprietary programs.  If your program is a subroutine library, you may\n-consider it more useful to permit linking proprietary applications with the\n-library.  If this is what you want to do, use the GNU Library General\n-Public License instead of this License."}, {"sha": "0c755e9c9645c02c06c8fc7e0622f4eb2add71c6", "filename": "fastjar/ChangeLog", "status": "removed", "additions": 0, "deletions": 618, "changes": 618, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FChangeLog?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,618 +0,0 @@\n-2006-02-08  Thomas Fitzsimmons  <fitzsim@redhat.com>\n-\n-\t* jartool.h (ACTION_INDEX): New macro.\n-\t* jartool.c (main): Handle -i option.\n-\t* fastjar.texi (Invoking fastjar): Add description of -i option.\n-\n-2006-01-31  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c (version): Use 2006.\n-\t* jargrep.c (version): Use 2006.\n-\n-2005-11-29  Tom Tromey  <tromey@redhat.com>\n-\n-\t* compress.c (write_data): Mark 'ze' as unused.\n-\t* jartool.h (__attribute__): New define.\n-\t* shift.c (shift_up): Added cast.\n-\t(shift_down): Likewise.\n-\t* jartool.c (help): Split string constant.\n-\n-2005-06-29  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* all files: Update FSF address.\n-\n-2005-05-17  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* configure.ac: Use AC_C_BIGENDIAN instead of AC_C_BIGENDIAN_CROSS.\n-\tUse AC_CHECK_SIZEOF instead of AC_COMPILE_CHECK_SIZEOF.\n-\t* Makefile.am: Remove ACLOCAL_AMFLAGS.\n-\t* aclocal.m4, Makefile.in, configure, config.h.in: Regenerate.\n-\n-2005-03-28  Marcin Dalecki  <martin@dalecki.de>\n-\n-\t* jartool.c (main): Indentation fixlet.\n-\t(add_entry): Likewise.\n-\t(init_args): Don't use K&R style.\n-\t(jt_strdup): Likewise.\n-\t(get_next_arg): Add explicit '(void)'.\n-\t(init_headers): Likewise.\n-\t(version): Likewise.\n-\n-2005-03-15  Zack Weinberg  <zack@codesourcery.com>\n-\n-\t* Makefile.am (fastjar_TEXINFOS): Add gcc-vers.texi.\n-\t(BASEVER, DEVPHASE): New variables.\n-\t(POD2MAN): Adjust setting of --release option.\n-\t(fastjar.1, grepjar.1, gcc-vers.texi): New rules.\n-\t* Makefile.in: Regenerate.\n-\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.\n-\t* aclocal.m4, configure: Regenerate.\n-\n-2004-12-02  Richard Sandiford  <rsandifo@redhat.com>\n-\n-\t* configure.ac: Use TL_AC_GCC_VERSION to set gcc_version.\n-\t* configure, aclocal.m4, Makefile.in: Regenerate.\n-\n-2004-11-15  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* Makefile.am: Remove -no-dependencies.\n-\t* Makefile.in: Regenerate.\n-\n-2004-11-13  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* Makefile.am: Define ACLOCAL_AMFLAGS.\n-\t* acinclude.m4: Remove unnecessary sinclude.\n-\t* aclocal.m4, Makefile.in, configure: Regenerate (autoreconf 1.9.3).\n-\n-2004-09-23  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c (extract_jar): Unconditionally read extra data in the\n-\tentry header; don't read it after the file contents.\n-\n-2004-08-11  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\tPR bootstrap/16164\n-\t* Makefile.am: Force fastjar.info to be built in build directory.\n-\t* Makefile.in: Regenerate.\n-\n-2004-07-23  Thomas Fitzsimmons  <fitzsim@redhat.com>\n-\n-\t* Makefile.am: Rename jar binary to fastjar.\n-\t* Makefile.in: Regenerate.\n-\t* fastjar.texi: Rename references to jar binary with fastjar.\n-\n-2004-07-19  Bryce McKinlay  <mckinlay@redhat.com>\n-\n-\t* jartool.c (main): Ensure that only one of ftruncate and _chsize\n-\tis used.\n-\n-2004-07-11  Bryce McKinlay  <mckinlay@redhat.com>\n-\n-\tPR 16472\n-\t* configure.ac: Check for ftruncate() and _chsize().\n-\t* jartool.c (main): Use _chsize if ftruncate not available.\n-\t* configure, config.h.in: Rebuilt.\n-\n-2004-07-09  Richard Sandiford  <rsandifo@redhat.com>\n-\n-\t* jartool.c (find_entry, looks_like_dir): Remove inline spec.\n-\n-2004-07-07  Matthias Klose  <doko@debian.org>\n-\n-\t* Makefile.am (jar_CPPFLAGS): Add AM_CPPFLAGS.\n-\t* Makefile.in: Regenerate.\n-\n-2004-07-06  Matthias Klose  <doko@debian.org>\n-\n-\t* Makefile.in: Regenerate.\n-\t* fastjar.texi: Update for '-u'.\n-\n-2004-07-06  Casey Marshall <csm@gnu.org>\n-\n-\tPR 7854\n-\t* Makefile.am\n-\t(jar_SOURCES): added shift.c, shift.h.\n-\t(jar_CPPFLAGS): define WITH_SHIFT_DOWN.\n-\n-\t* compress.c\n-\tAdded FSF copyright.\n-\t(write_data): new function.\n-\t(compress_file): call write_data.\n-\n-\t* jartool.c\n-\tUpdated copyright year.\n-\t(progname): new variable.\n-\t(end_of_entries): new variable.\n-\t(main): open and read file when updating.\n-\t(find_entry): new function.\n-\t(looks_like_dir): new function.\n-\t(read_entries): new function.\n-\t(make_manifest): added parameter `updating'.\n-\tCall `add_file_to_jar' with `updating'.\n-\t(add_to_jar_with_dir): added parameter `updating'.\n-\tCall `add_to_jar' with `updating'.\n-\t(add_to_jar): added parameter `updating'.\n-\tCall `add_file_to_jar' with `updating'.\n-\tDon't add directories if they already exist.\n-\t(add_file_to_jar): added parameter `updating'.\n-\tUpdate entries if they already exist.\n-\n-\t* jartool.h\n-\tAdded #ifndef __FASTJAR_JARTOOL_H__.\n-\t(struct zipentry): added `flags'.\n-\n-\t* shift.c: new file.\n-\n-\t* shift.h: new file.\n-\n-\t* zipfile.h\n-\t(CEN_FLAGS): new constant.\n-\n-2004-07-05  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* Makefile.am: Silence two automake warnings.\n-\t* Makefile.in: Regenerate.\n-\n-2004-06-25  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\tPR other/15194\n-\t* configure.ac: Add check for long long.\n-\t* jartool.h: Check for long long before using it.\n-\t* configure: Regenerate\n-\t* config.h.in: Regenerate.\n-\n-2004-06-15  Paolo Bonzini  <bonzini@gnu.org>\n-\n-\t* acinclude.m4: Quote first argument of AC_DEFUNs.\n-\t* aclocal.m4: Regenerate with automake 1.8.\n-\t* Makefile.in: Likewise.\n-\t* configure: Regenerate.\n-\t* .cvsignore: New file.\n-\n-2004-04-12  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\tPR bootstrap/14905\n-\t* configure.ac: Parse --enable-generated-files-in-srcdir.\n-\t* Makefile.am: Copy man and info files to srcdir if requested.\n-\t* configure: Regenerate.\n-\t* Makefile.in Regenerate.\n-\n-2004-03-10  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* configure.ac: Bump AC_PREREQ to 2.59.\n-\t* configure: Regenerate.\n-\n-2004-03-09  Hans-Peter Nilsson  <hp@axis.com>\n-\n-\t* configure: Regenerate for config/accross.m4 correction.\n-\n-2004-01-09  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* configure.in: Rename file to ...\n-\t* configure.ac: ... this.  Add in AC_PREREQ(2.57)\n-\t* config.h.in: Regenerate.\n-\t* aclocal.m4: Regenerate.\n-\t* Makefile.in: Regenerate.\n-\n-2004-01-07  Andreas Tobler  <a.tobler@schweiz.ch>\n-\n-\t* jartool.c (make_manifest): Fix off-by-one bug when creating\n-\tan empty MANIFEST.MF.\n-\n-2003-12-01  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* Makefile.am: Define AM_MAKINFOFLAGS.  Remove Automake 1.4 hack.\n-\t* Makefile.in: Regenerate with automake 1.7.6 & autoconf 2.57 tools.\n-\t* aclocal.m4, config.h.in, configure: Likewise.\n-\t* install-sh, missing, mkinstalldirs, stamp-h.in: Remove.\n-\n-2003-11-21  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* .cvsignore: Delete.\n-\n-2003-10-30  Kelley Cook  <kcook@gcc.gnu.org>\n-\n-\t* Makefile.am (my_make_i_flags): Add $(srcdir) and update comment\n-\tto match.\n-\t(fastjar.info): Update target to write to build directory.\n-\t(%.1): New implicit rule from a .pod file.\n-\t(jar.1): Delete.\n-\t(grepjar.1): Delete.\n-\t(jar.pod): New intermediate rule.\n-\t(grepjar.pod): Likewise.\n-\t* Makefile.in: Regenerate.\n-\n-2003-08-13  Matthias Klose  <doko@debian.org>\n-\n-\t* fastjar.texi: License manual under the GPL.\n-\t* Makefile.am: Remove reference to fdl.texi\n-\t* Makefile.in: Regenerate\n-\n-2003-07-29  Nathanael Nerode  <neroden@gcc.gnu.org>\n-\n-\t* mkinstalldirs: Import autoconf 2.57 / automake 1.7 version.\n-\n-2003-07-11  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n-\n-\t* README: Note that FastJar is not part of GCC.\n-\n-2003-07-02  Nathanael Nerode  <neroden@gcc.gnu.org>\n-\n-\tPR java/9532\n-\t* jartool.c (add_to_jar): Return 1 on failure to open file.\n-\tSplit out -C case to:\n-\t* jartool.c (add_to_jar_with_dir): New function.\n-\n-2003-06-15  Nathanael Nerode  <neroden@gcc.gnu.org>\n-\n-\tPR java/9532\n-\t* jartool.c (main) Give proper error messages with -C, and\n-\tcheck for missing arguments properly.  Send error messages\n-\tto stderr.\n-\t* jartool.c (add_to_jar): Make getcwd() call portable,\n-\tand check for error return.\n-\n-2003-03-30  Joseph S. Myers  <jsm@polyomino.org.uk>\n-\n-\t* fastjar.texi: Remove @ at start of file.\n-\n-2003-03-10  Mohan Embar  <gnustuff@thisiscool.com>\n-\n-\t* dostime.c: add #include <stddef.h> for definition of NULL\n-\n-2003-02-04  Joseph S. Myers  <jsm@polyomino.org.uk>\n-\n-\t* fastjar.texi: Update to GFDL 1.2.\n-\n-2003-01-31  Daiki Ueno  <ueno@unixuser.org>\n-\n-\t* jartool.c (extract_jar): Don't lseek to skip extra fields.\n-\t(consume): If the stream is seekable, do lseek.\n-\n-2003-01-28  Ranjit Mathew  <rmathew@hotmail.com>\n-\n-\t* jargrep.c: Include xregex.h from libiberty instead of\n-\tsystem regex.h for better portability.\n-\n-2003-01-21  Ranjit Mathew  <rmathew@hotmail.com>\n-\n-\t* jartool.c (list_jar): Terminate the 'ascii_date' buffer\n-\twith a '\\0' to guard against the case where the formatted\n-\ttime string is more than the size allowed by the buffer.\n-\n-2003-01-14  Tom Tromey  <tromey@redhat.com>\n-\n-\t* config.h.in: Rebuilt.\n-\n-2002-12-30  DJ Delorie  <dj@redhat.com>\n-\n-\t* Makefile.am (jar.1, grepjar.1): Protect against\n-\ttexi2pod/pod2man failing.\n-\t* Makefile.in: Regenerated.\n-\n-2002-12-23  Joseph S. Myers  <jsm@polyomino.org.uk>\n-\n-\t* fastjar.texi: Include Cover Texts in man page.\n-\n-2002-12-04  Jakub Jelinek  <jakub@redhat.com>\n-\n-\t* fastjar.texi (jar @direntry, grepjar @direntry): Add (fastjar).\n-\n-2002-11-23  H.J. Lu <hjl@gnu.org>\n-\n-\t* acinclude.m4: Include ../config/accross.m4.\n-\t(gcc_AC_COMPILE_CHECK_SIZEOF): Removed.\n-\t(gcc_AC_EXAMINE_OBJECT): Removed.\n-\t(gcc_AC_C_COMPILE_ENDIAN): Removed.\n-\t* aclocal.m4; Rebuild.\n-\n-\t* configure.in: Replace AC_C_BIGENDIAN with AC_C_BIGENDIAN_CROSS.\n-\tReplace AC_CHECK_SIZEOF with AC_COMPILE_CHECK_SIZEOF.\n-\t* configure: Likewise.\n-\n-2002-11-21  Ranjit Mathew <rmathew@hotmail.com>\n-\n-\t* jartool.c (extract_jar): Use \"open\" with O_BINARY instead of\n-\t\"creat\" to create extracted files.\n-\n-2002-11-11  Tom Tromey  <tromey@redhat.com>\n-\n-\t* dostime.c (dos2unixtime): Mask for seconds is 0x1f.  Correctly\n-\tcompute month.\n-\t(unix2dostime): Handle years before 1980.  Correctly compute month\n-\tand day of month.\n-\n-2002-11-10  Jakub Jelinek  <jakub@redhat.com>\n-\n-\t* jartool.c (add_to_jar): Only compare file to jarfile if jarfile is\n-\tnon-NULL.\n-\n-\t* configure.in (AC_CHECK_HEADERS): Add limits.h.\n-\t* configure, config.h.in: Rebuilt.\n-\n-2002-11-07  Tom Tromey  <tromey@redhat.com>\n-\n-\t* dostime.c: Rewrote from scratch.\n-\t* dostime.h (dostime): Removed.\n-\n-2002-10-20  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c: Use mode 0666 when opening new file.\n-\n-2002-09-16  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n-\n-\t* jargrep.c (chk_wrd): Remove unused variable(s).\n-\t* jartool.c (main, create_central_header, list_jar): Likewise.\n-\n-2002-10-15  Ranjit Mathew  <rmathew@hotmail.com>\n-\n-\t* configure, config.h.in: Rebuilt.\n-\t* configure.in: Call gcc_AC_FUNC_MKDIR_TAKES_ONE_ARG.\n-\n-2002-09-11  Tom Tromey  <tromey@redhat.com>\n-\n-\t* Makefile.in: Rebuilt.\n-\t* Makefile.am (TEXINFO_TEX): New macro.\n-\t(info_TEXINFOS): Likewise.\n-\t(fastjar_TEXINFOS): Likewise.\n-\t(man_MANS): Likewise.\n-\t(EXTRA_DIST): Likewise.\n-\t(my_makei_flags): Likewise.\n-\t(fastjar.info): New rule.\n-\t(fastjar_TEXINFOS): Don't mention `$(srcdir)'.\n-\t(TEXINFO_TEX): Likewise.\n-\t(AUTOMAKE_OPTIONS): Added `cygnus'.\n-\n-2002-09-11  Matthias Klose  <doko@debian.org>\n-\n-\t* Makefile.am: Revert the previous patch.\n-\t* Makefile.in: Regenerated.\n-\n-2002-09-10  Matthias Klose  <doko@debian.org>\n-\n-\t* fastjar.texi: New.\n-\t* Makefile.am: Support building info docs and manpages.\n-\t* Makefile.in: Regenerated.\n-\t* configure.in: Set gcc_version.\n-\t* configure: Regenerated.\n-\t* jargrep.c: Update usage and help strings.\n-\n-2002-09-09  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c (mkdir): Define.\n-\t* config.h.in: Rebuilt.\n-\t* aclocal.m4, configure: Rebuilt.\n-\t* acinclude.m4: New file.  Copied gcc_AC_COMPILE_CHECK_SIZEOF,\n-\tgcc_AC_EXAMINE_OBJECT, and fastjar_AC_COMPILE_C_BIGENDIAN from\n-\taclocal.m4.\n-\n-2002-09-04  Tom Tromey  <tromey@redhat.com>\n-\n-\tFrom greenrd@hotmail.com:\n-\t* jartool.c (list_jar): Correctly determine when new `filename'\n-\tbuffer must be allocated.  Fixes PR java/7830.\n-\n-2002-06-03  Geoffrey Keating  <geoffk@redhat.com>\n-\n-\t* configure.in: Support cross-compiling.\n-\t* configure: Regenerate.\n-\t* aclocal.m4 (gcc_AC_COMPILE_CHECK_SIZEOF): New.\n-\t(gcc_AC_EXAMINE_OBJECT): New.\n-\t(fastjar_AC_COMPILE_C_BIGENDIAN): New.\n-\n-2002-03-18  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n-\n-\t* jartool.c (expand_options): Handle tar-style argument list with a\n-\tleading \"-\".\n-\n-2002-02-23  Anthony Green  <green@redhat.com>\n-\n-\t* jartool.c (main): Fix handling of -C.\n-\n-2002-01-30  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c (main): NULL-terminate new_argv.  Pass 0 as argument\n-\tto init_args.\n-\n-2002-01-11  Tom Tromey  <tromey@redhat.com>\n-\n-\t* Makefile.in: Rebuilt.\n-\t* Makefile.am (AUTOMAKE_OPTIONS): New macro.\n-\n-2002-01-09  Tom Tromey  <tromey@redhat.com>\n-\n-\tFor PR libgcj/5303:\n-\t* jargrep.h: Removed RCS keywords.\n-\t(GVERSION): Removed.\n-\t* configure, Makefile.in, config.h.in: Rebuilt.\n-\t* configure.in: Added AM_MAINTAINER_MODE.\n-\tDon't look for getopt.h.  Use `fastjar' as package name.\n-\t* Makefile.am (INCLUDES): Look in ../include.\n-\t(LIBIBERTY): New macro.\n-\t(jar_LDADD): Use it.\n-\t(jar_DEPENDENCIES): Likewise.\n-\t(grepjar_LDADD): Likewise.\n-\t(grepjar_DEPENDENCIES): Likewise.\n-\t* jargrep.c: Removed RCS keywords.  Always include getopt.h.\n-\t(LONG_OPT): New macro.\n-\t(OPT_HELP): Likewise.\n-\t(main): Use getopt_long.  Let getopt print invalid argument\n-\tmessage.  Handle --help.  Use version().\n-\t(version): New function.\n-\t(optarg, optind): Don't declare.\n-\t(option_vec): New global.\n-\t(help): New function.\n-\t(Usage): Updated to GNU standards.\n-\t* jartool.c: Removed RCS keywords.  Include getopt.h.\n-\t(LONG_OPT): New macro.\n-\t(OPT_HELP): Likewise.\n-\t(options): New global.\n-\t(help): New function.\n-\t(usage): Print a single line.\n-\t(version): New function.\n-\t(expand_options): New function.\n-\t(main): Use getopt_long and expand_options.  Fail if `-u'\n-\tspecified.  Changed handling of -f, -m, -V options.\n-\t(OPTION_STRING): New macro.\n-\t(version_string): Removed.\n-\n-2001-01-02  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n-\n-\tPR bootstrap/5117\n-\t* configure.in (AC_CHECK_HEADERS): Check for stdlib.h.\n-\t* Makefile.am: Move grepjar to bin_PROGRAMS.\n-\t* config.h.in: Regenerated.\n-\t* Makefile.in: Regenerated.\n-\t* aclocal.m4: Regenerated.\n-\t* stamp-h.in: Regenerated.\n-\t* jargrep.c: Eliminate some signed/unsigned and default\n-\tuninitialized warnings. Use HAVE_STDLIB_H instead of\n-\tSTDC_HEADERS macro.\n-\t* jartool.c: Likewise.\n-\t* compress.c: Likewise.\n-\n-2001-09-17  Tom Tromey  <tromey@redhat.com>\n-\n-\tFor PR java/4295:\n-\t* aclocal.m4, configure, Makefile.in: Rebuilt.\n-\t* configure.in: Added AC_EXEEXT.\n-\n-2001-10-12  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n-\n-\t* jatool.c (extract_jar): Account for null termination when determining\n-\twhether to expand \"filename\".\n-\n-2001-08-28  Alexandre Petit-Bianco  <apbianco@redhat.com>\n-\n-\t* jartool.c (add_to_jar): Return 1 if `stat' initialy failed.\n-\tFixes PR java/3949.\n-\n-2001-08-27  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c (jarfile): Remove length limitation.\n-\t(main): Use jt_strdup when initializing jarfile.\n-\n-2001-07-04  Tom Tromey  <tromey@redhat.com>\n-\n-\tModified from patch by Julian Hall <jules@acris.co.uk>:\n-\t* jartool.c (errno): Conditionally declare.\n-\t(O_BINARY): Conditionally define.\n-\t(main): Use open, not creat.  Use O_BINARY everywhere.\n-\t(make_manifest): Use O_BINARY.\n-\t(add_to_jar): Likewise.\n-\n-2001-06-28  Tom Tromey  <tromey@redhat.com>\n-\n-\t* configure: Rebuilt.\n-\t* configure.in: Accept --with-system-zlib.  Fixes PR java/3441.\n-\n-2001-05-15  Per Bothner  <per@bothner.com>\n-\n-\t* Makefile.am (bin_PROGRAMS):  Renamed from \"fastjar\" to \"jar\".\n-\n-2001-05-03  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n-\n-\t* jartool.c (jt_strdup): New function.\n-\t(get_next_arg): Use jt_strdup instead of strdup.\n-\n-2001-01-21  Tom Tromey  <tromey@redhat.com>\n-\n-\t* Makefile.in: Rebuilt.\n-\t* Makefile.am (bin_PROGRAMS): Remove grepjar.\n-\t(EXTRA_PROGRAMS): New macro.\n-\n-2000-12-28  Robert Lipe <robertl@sco.com>\n-\n-\t* jartool.c (MAXPATHLEN): Provide if not defined.\n-\n-2000-12-15  Tom Tromey  <tromey@redhat.com>\n-\t    Kelley Cook <kelleycook@home.com>\n-\n-\t* jargrep.c: Include getopt.h if it exists.\n-\t(optind): Declare.\n-\t* configure, config.h: Rebuilt.\n-\t* configure.in: Check for getopt.h.\n-\n-2000-12-14  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n-\n-\t* configure.in (fastjar_warn_cflags): Set when using gcc.\n-\n-\t* Makefile.am (AM_CFLAGS): Set to @fastjar_warn_cflags@.\n-\n-2000-12-14  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n-\n-\t* compress.c: Include stdlib.h and compress.h.\n-\t(rcsid): Delete.\n-\t(report_str_error): Make static.\n-\t(ez_inflate_str): Delete unused variable.  Add parens in if-stmt.\n-\t(hrd_inflate_str): Likewise.\n-\n-\t* compress.h (init_compression, end_compression, init_inflation,\n-\tend_inflation): Prototype void arguments.\n-\n-\t* dostime.c (rcsid): Delete.\n-\n-\t* jargrep.c: Include ctype.h, stdlib.h, zlib.h and compress.h.\n-\tMake functions static.  Cast ctype function argument to `unsigned\n-\tchar'.  Add parens in if-stmts.  Constify.\n-\t(Usage): Change into a macro.\n-\t(jargrep): Remove unused parameter.\n-\n-\t* jartool.c: Constify.  Add parens in if-stmts.  Align\n-\tsigned/unsigned char pointers in functions calls using casts.\n-\t(rcsid): Delete.\n-\t(list_jar): Fix printf format specifier.\n-\t(usage): Chop long string into bits.  Reformat.\n-\n-\t* pushback.c (rcsid): Delete.\n-\n-2000-12-13  Tom Tromey  <tromey@redhat.com>\n-\n-\t* jartool.c (extract_jar): Use strchr, not index.\n-\n-2000-12-11  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-\t* install-defs.sh: Removed.\n-\n-2000-12-10  Robert Lipe <robertlipe@usa.net>\n-\n-\t* jargrep.c (jargrep): Added null statement after case.\n-\n-2000-12-10  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-\t* Makefile: Removed.\n-\t* Makefile.in: Rebuilt with `-i' and `--enable-foreign'.\n-\n-Tue Nov 16 15:11:36 2000  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-\t* Makefile.am: New file.\n-\t* Makefile.in: Rebuilt.\n-\t* aclocal.m4: Likewise.\n-\t* stamp-h.in: Likewise.\n-\t* config.h.in: Likewise.\n-\t* configure.in (AM_INIT_AUTOMAKE): Added.\n-\t(AM_CONFIG_HEADER): Likewise.\n-\t(AC_CHECK_HEADERS): Check for sys/param.h\n-\t(AC_CHECK_LIB): Don't check for system's zlib.\n-\t(AC_CHECK_FUNC): Removed system's zlib function checks.\n-\t(ZDEPS. ZLIBS, ZINCS): Added.\n-\t* configure: Rebuilt.\n-\t* jartool.c (sys/param.h): Conditionally included or define MAXPATHLEN.\n-\t(init_args, get_next_arg): New function.\n-\t(use_explicit_list_only, read_names_from_stdin): New global\n-\t(main): Parse new non standard options 'E' and '@', check and\n-\treport their usage if necessary. Use init_args and get_next_arg.\n-\tFixed indentation.\n-\t(add_to_jar): Don't read directory content if `use_explicit_list_only'.\n-\t(usage): Added `-E' and `-@'.\n-\t* jartool.h (VERSION): Macro removed.\n-\n-Tue Nov 14 15:10:44 2000  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-\t* fastjar imported from sourceforge.net/projects/fastjar with\n-\tBryan Burns' permission. Check `CHANGES' for post import changes.\n-\t* ChangeLog: Created.\n-\t* NEWS: Likewise.\n-\t* mkinstalldirs: Likewise.\n-\t* COPYING: Likewise.\n-\t* AUTHORS: Likewise."}, {"sha": "cdc770fb741e30e474bccb6965c05619dbc08dcb", "filename": "fastjar/INSTALL", "status": "removed", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FINSTALL", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FINSTALL", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FINSTALL?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,18 +0,0 @@\n-----------------------\n-How to install fastjar\n-----------------------\n-\n-\n-1.  Run the 'configure' script to generate config.h and Makefile.  You can\n-    use 'configure --help' to get a list of command-line options.\n-\n-2.  If you're feeling experimental, you can change some settings in jartool.h\n-    to optimize fastjar for your particular system.\n-\n-3.  Type 'make' to create the fastjar binary.\n-\n-4.  Type 'make install' to install fastjar in whichever directory you supplied\n-    to configure (or the default directory if you didn't specify one.)\n-\n-\n-"}, {"sha": "099656a34e24ff404e40ced7250a211273e1cac0", "filename": "fastjar/Makefile.am", "status": "removed", "additions": 0, "deletions": 121, "changes": 121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FMakefile.am?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,121 +0,0 @@\n-# Process this with automake to create Makefile.in\n-\n-# Work around what appears to be a GNU make bug handling MAKEFLAGS\n-# values defined in terms of make variables, as is the case for CC and\n-# friends when we are called from the top level Makefile.\n-AM_MAKEFLAGS = \\\n-\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n-\t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n-\t\"CFLAGS=$(CFLAGS)\" \\\n-\t\"CXXFLAGS=$(CXXFLAGS)\" \\\n-\t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n-\t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n-\t\"INSTALL=$(INSTALL)\" \\\n-\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n-\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n-\t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \\\n-\t\"JC1FLAGS=$(JC1FLAGS)\" \\\n-\t\"LDFLAGS=$(LDFLAGS)\" \\\n-\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n-\t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \\\n-\t\"MAKE=$(MAKE)\" \\\n-\t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n-\t\"PICFLAG=$(PICFLAG)\" \\\n-\t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n-\t\"SHELL=$(SHELL)\" \\\n-\t\"exec_prefix=$(exec_prefix)\" \\\n-\t\"infodir=$(infodir)\" \\\n-\t\"libdir=$(libdir)\" \\\n-\t\"prefix=$(prefix)\" \\\n-\t\"AR=$(AR)\" \\\n-\t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n-\t\"LD=$(LD)\" \\\n-\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n-\t\"NM=$(NM)\" \\\n-\t\"PICFLAG=$(PICFLAG)\" \\\n-\t\"RANLIB=$(RANLIB)\" \\\n-\t\"DESTDIR=$(DESTDIR)\"\n-\n-AM_CPPFLAGS = -I. -I$(top_srcdir) $(ZINCS) -I$(top_srcdir)/../include\n-\n-LIBIBERTY = ../libiberty/libiberty.a\n-\n-bin_PROGRAMS = fastjar grepjar\n-fastjar_SOURCES = jartool.c dostime.c compress.c pushback.c shift.c jartool.h \\\n-zipfile.h dostime.h compress.h pushback.h shift.h\n-fastjar_LDADD = $(ZLIBS) $(LIBIBERTY)\n-fastjar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n-fastjar_CPPFLAGS = $(AM_CPPFLAGS) -DWITH_SHIFT_DOWN\n-\n-grepjar_SOURCES = jargrep.c dostime.c compress.c pushback.c jartool.h \\\n-zipfile.h dostime.h compress.h pushback.h\n-grepjar_LDADD = $(ZLIBS) $(LIBIBERTY)\n-grepjar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n-\n-AM_CFLAGS = @fastjar_warn_cflags@\n-AM_MAKEINFOFLAGS = -I $(srcdir)/../gcc/doc/include\n-\n-TEXINFO_TEX = ../gcc/doc/include/texinfo.tex\n-info_TEXINFOS = fastjar.texi\n-fastjar_TEXINFOS = \\\n-\t../gcc/doc/include/gcc-common.texi \\\n-\t../gcc/doc/include/gpl.texi \\\n-\tgcc-vers.texi\n-man_MANS = fastjar.1 grepjar.1\n-EXTRA_DIST = $(man_MANS)\n-\n-BASEVER = $(srcdir)/../gcc/BASE-VER\n-DEVPHASE = $(srcdir)/../gcc/DEV-PHASE\n-\n-TEXI2POD = perl $(srcdir)/../contrib/texi2pod.pl\n-POD2MAN = pod2man --center=\"GNU\" --release=\"gcc-$(shell cat $(BASEVER))\"\n-\n-.pod.1:\n-\t-($(POD2MAN) --section=1 $< > $(@).T$$$$ && \\\n-\t\tmv -f $(@).T$$$$ $@) || \\\n-\t\t(rm -f $(@).T$$$$ && exit 1)\n-\n-.INTERMEDIATE: fastjar.pod grepjar.pod\n-\n-fastjar.pod: $(srcdir)/fastjar.texi\n-\t-$(TEXI2POD) -D fastjar $< > $@\n-\n-grepjar.pod: $(srcdir)/fastjar.texi\n-\t-$(TEXI2POD) -D grepjar $< > $@\n-\n-fastjar.1 grepjar.1: $(BASEVER)\n-\n-# gcc-vers.texi is generated from the version files.\n-gcc-vers.texi: $(BASEVER) $(DEVPHASE)\n-\t(echo \"@set version-GCC $(shell cat $(BASEVER))\"; \\\n-\t if [ \"$(shell cat $(DEVPHASE))\" = \"experimental\" ]; \\\n-\t then echo \"@set DEVELOPMENT\"; \\\n-\t else echo \"@clear DEVELOPMENT\"; \\\n-\t fi) > $@T\n-\tmv -f $@T $@\n-\n-# GCC LOCAL CHANGE\n-# The following commands allow us to release tarballs with the man pages\n-# and info documentation prebuilt.  This feature is enabled via \n-# --enable-generated-files-in-srcdir in the configure script.\n-\n-if GENINSRC\n-STAMP_GENINSRC = stamp-geninsrc\n-else\n-STAMP_GENINSRC =\n-endif\n-\n-all-local: $(STAMP_GENINSRC) \n-\n-stamp-geninsrc: fastjar.1 grepjar.1 fastjar.info\n-\t-cp -p $(top_builddir)/fastjar.1 $(srcdir)/fastjar.1\n-\t-cp -p $(top_builddir)/grepjar.1 $(srcdir)/grepjar.1\n-\t-cp -p $(top_builddir)/fastjar.info $(srcdir)/fastjar.info\n-\ttouch $@\n-\n-CLEANFILES = stamp-geninsrc fastjar.info\n-MAINTAINERCLEANFILES = $(srcdir)/fastjar.1 \\\n-                       $(srcdir)/grepjar.1 \\\n-                       $(srcdir)/fastjar.info"}, {"sha": "24bd78898b34c7eb1db6c043f6deb141d22033b4", "filename": "fastjar/Makefile.in", "status": "removed", "additions": 0, "deletions": 945, "changes": 945, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FMakefile.in?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,945 +0,0 @@\n-# Makefile.in generated by automake 1.9.3 from Makefile.am.\n-# @configure_input@\n-\n-# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n-# This Makefile.in is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n-# even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n-# PARTICULAR PURPOSE.\n-\n-@SET_MAKE@\n-\n-# Process this with automake to create Makefile.in\n-\n-SOURCES = $(fastjar_SOURCES) $(grepjar_SOURCES)\n-\n-srcdir = @srcdir@\n-top_srcdir = @top_srcdir@\n-VPATH = @srcdir@\n-pkgdatadir = $(datadir)/@PACKAGE@\n-pkglibdir = $(libdir)/@PACKAGE@\n-pkgincludedir = $(includedir)/@PACKAGE@\n-top_builddir = .\n-am__cd = CDPATH=\"$${ZSH_VERSION+.}$(PATH_SEPARATOR)\" && cd\n-INSTALL = @INSTALL@\n-install_sh_DATA = $(install_sh) -c -m 644\n-install_sh_PROGRAM = $(install_sh) -c\n-install_sh_SCRIPT = $(install_sh) -c\n-INSTALL_HEADER = $(INSTALL_DATA)\n-transform = $(program_transform_name)\n-NORMAL_INSTALL = :\n-PRE_INSTALL = :\n-POST_INSTALL = :\n-NORMAL_UNINSTALL = :\n-PRE_UNINSTALL = :\n-POST_UNINSTALL = :\n-bin_PROGRAMS = fastjar$(EXEEXT) grepjar$(EXEEXT)\n-subdir = .\n-DIST_COMMON = README $(am__configure_deps) $(fastjar_TEXINFOS) \\\n-\t$(srcdir)/../compile $(srcdir)/../depcomp \\\n-\t$(srcdir)/../install-sh $(srcdir)/../missing \\\n-\t$(srcdir)/../mkinstalldirs $(srcdir)/Makefile.am \\\n-\t$(srcdir)/Makefile.in $(srcdir)/config.h.in \\\n-\t$(srcdir)/install-defs.sh.in $(top_srcdir)/configure AUTHORS \\\n-\tCOPYING ChangeLog INSTALL NEWS\n-ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \\\n-\t$(top_srcdir)/configure.ac\n-am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n-\t$(ACLOCAL_M4)\n-am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n- configure.lineno configure.status.lineno\n-mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n-CONFIG_HEADER = config.h\n-CONFIG_CLEAN_FILES = install-defs.sh\n-am__installdirs = \"$(DESTDIR)$(bindir)\" \"$(DESTDIR)$(infodir)\" \\\n-\t\"$(DESTDIR)$(man1dir)\"\n-binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)\n-PROGRAMS = $(bin_PROGRAMS)\n-am_fastjar_OBJECTS = fastjar-jartool.$(OBJEXT) \\\n-\tfastjar-dostime.$(OBJEXT) fastjar-compress.$(OBJEXT) \\\n-\tfastjar-pushback.$(OBJEXT) fastjar-shift.$(OBJEXT)\n-fastjar_OBJECTS = $(am_fastjar_OBJECTS)\n-am__DEPENDENCIES_1 =\n-am__DEPENDENCIES_2 = ../libiberty/libiberty.a\n-am_grepjar_OBJECTS = jargrep.$(OBJEXT) dostime.$(OBJEXT) \\\n-\tcompress.$(OBJEXT) pushback.$(OBJEXT)\n-grepjar_OBJECTS = $(am_grepjar_OBJECTS)\n-DEFAULT_INCLUDES = -I. -I$(srcdir) -I.\n-depcomp = $(SHELL) $(top_srcdir)/../depcomp\n-am__depfiles_maybe = depfiles\n-COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \\\n-\t$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n-CCLD = $(CC)\n-LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@\n-SOURCES = $(fastjar_SOURCES) $(grepjar_SOURCES)\n-DIST_SOURCES = $(fastjar_SOURCES) $(grepjar_SOURCES)\n-INFO_DEPS = fastjar.info\n-am__TEXINFO_TEX_DIR = $(srcdir)/../gcc/doc/include\n-DVIS = fastjar.dvi\n-PDFS = fastjar.pdf\n-PSS = fastjar.ps\n-HTMLS = fastjar.html\n-TEXINFOS = fastjar.texi\n-TEXI2DVI = texi2dvi\n-TEXI2PDF = $(TEXI2DVI) --pdf --batch\n-MAKEINFOHTML = $(MAKEINFO) --html\n-AM_MAKEINFOHTMLFLAGS = $(AM_MAKEINFOFLAGS)\n-DVIPS = dvips\n-man1dir = $(mandir)/man1\n-NROFF = nroff\n-MANS = $(man_MANS)\n-ETAGS = etags\n-CTAGS = ctags\n-DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)\n-distdir = $(PACKAGE)-$(VERSION)\n-top_distdir = $(distdir)\n-am__remove_distdir = \\\n-  { test ! -d $(distdir) \\\n-    || { find $(distdir) -type d ! -perm -200 -exec chmod u+w {} ';' \\\n-         && rm -fr $(distdir); }; }\n-DIST_ARCHIVES = $(distdir).tar.gz\n-GZIP_ENV = --best\n-distuninstallcheck_listfiles = find . -type f -print\n-distcleancheck_listfiles = find . -type f -print\n-ACLOCAL = @ACLOCAL@\n-AMDEP_FALSE = @AMDEP_FALSE@\n-AMDEP_TRUE = @AMDEP_TRUE@\n-AMTAR = @AMTAR@\n-AUTOCONF = @AUTOCONF@\n-AUTOHEADER = @AUTOHEADER@\n-AUTOMAKE = @AUTOMAKE@\n-AWK = @AWK@\n-CC = @CC@\n-CCDEPMODE = @CCDEPMODE@\n-CFLAGS = @CFLAGS@\n-CHMOD = @CHMOD@\n-CP = @CP@\n-CPP = @CPP@\n-CPPFLAGS = @CPPFLAGS@\n-CYGPATH_W = @CYGPATH_W@\n-DEFS = @DEFS@\n-DEPDIR = @DEPDIR@\n-ECHO_C = @ECHO_C@\n-ECHO_N = @ECHO_N@\n-ECHO_T = @ECHO_T@\n-EGREP = @EGREP@\n-EXEEXT = @EXEEXT@\n-GENINSRC_FALSE = @GENINSRC_FALSE@\n-GENINSRC_TRUE = @GENINSRC_TRUE@\n-INSTALL_DATA = @INSTALL_DATA@\n-INSTALL_PROGRAM = @INSTALL_PROGRAM@\n-INSTALL_SCRIPT = @INSTALL_SCRIPT@\n-INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n-LDFLAGS = @LDFLAGS@\n-LIBOBJS = @LIBOBJS@\n-LIBS = @LIBS@\n-LTLIBOBJS = @LTLIBOBJS@\n-MAINT = @MAINT@\n-MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@\n-MAINTAINER_MODE_TRUE = @MAINTAINER_MODE_TRUE@\n-MAKEINFO = @MAKEINFO@\n-OBJEXT = @OBJEXT@\n-PACKAGE = @PACKAGE@\n-PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n-PACKAGE_NAME = @PACKAGE_NAME@\n-PACKAGE_STRING = @PACKAGE_STRING@\n-PACKAGE_TARNAME = @PACKAGE_TARNAME@\n-PACKAGE_VERSION = @PACKAGE_VERSION@\n-PATH_SEPARATOR = @PATH_SEPARATOR@\n-RM = @RM@\n-SET_MAKE = @SET_MAKE@\n-SHELL = @SHELL@\n-STRIP = @STRIP@\n-VERSION = @VERSION@\n-ZDEPS = @ZDEPS@\n-ZINCS = @ZINCS@\n-ZLIBS = @ZLIBS@\n-ac_ct_CC = @ac_ct_CC@\n-ac_ct_STRIP = @ac_ct_STRIP@\n-am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n-am__fastdepCC_TRUE = @am__fastdepCC_TRUE@\n-am__include = @am__include@\n-am__leading_dot = @am__leading_dot@\n-am__quote = @am__quote@\n-am__tar = @am__tar@\n-am__untar = @am__untar@\n-bindir = @bindir@\n-build_alias = @build_alias@\n-datadir = @datadir@\n-exec_prefix = @exec_prefix@\n-fastjar_warn_cflags = @fastjar_warn_cflags@\n-host_alias = @host_alias@\n-includedir = @includedir@\n-infodir = @infodir@\n-install_sh = @install_sh@\n-libdir = @libdir@\n-libexecdir = @libexecdir@\n-localstatedir = @localstatedir@\n-mandir = @mandir@\n-mkdir_p = @mkdir_p@\n-oldincludedir = @oldincludedir@\n-prefix = @prefix@\n-program_transform_name = @program_transform_name@\n-sbindir = @sbindir@\n-sharedstatedir = @sharedstatedir@\n-sysconfdir = @sysconfdir@\n-target_alias = @target_alias@\n-\n-# Work around what appears to be a GNU make bug handling MAKEFLAGS\n-# values defined in terms of make variables, as is the case for CC and\n-# friends when we are called from the top level Makefile.\n-AM_MAKEFLAGS = \\\n-\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n-\t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n-\t\"CFLAGS=$(CFLAGS)\" \\\n-\t\"CXXFLAGS=$(CXXFLAGS)\" \\\n-\t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n-\t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n-\t\"INSTALL=$(INSTALL)\" \\\n-\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n-\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n-\t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \\\n-\t\"JC1FLAGS=$(JC1FLAGS)\" \\\n-\t\"LDFLAGS=$(LDFLAGS)\" \\\n-\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n-\t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \\\n-\t\"MAKE=$(MAKE)\" \\\n-\t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n-\t\"PICFLAG=$(PICFLAG)\" \\\n-\t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n-\t\"SHELL=$(SHELL)\" \\\n-\t\"exec_prefix=$(exec_prefix)\" \\\n-\t\"infodir=$(infodir)\" \\\n-\t\"libdir=$(libdir)\" \\\n-\t\"prefix=$(prefix)\" \\\n-\t\"AR=$(AR)\" \\\n-\t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n-\t\"LD=$(LD)\" \\\n-\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n-\t\"NM=$(NM)\" \\\n-\t\"PICFLAG=$(PICFLAG)\" \\\n-\t\"RANLIB=$(RANLIB)\" \\\n-\t\"DESTDIR=$(DESTDIR)\"\n-\n-AM_CPPFLAGS = -I. -I$(top_srcdir) $(ZINCS) -I$(top_srcdir)/../include\n-LIBIBERTY = ../libiberty/libiberty.a\n-fastjar_SOURCES = jartool.c dostime.c compress.c pushback.c shift.c jartool.h \\\n-zipfile.h dostime.h compress.h pushback.h shift.h\n-\n-fastjar_LDADD = $(ZLIBS) $(LIBIBERTY)\n-fastjar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n-fastjar_CPPFLAGS = $(AM_CPPFLAGS) -DWITH_SHIFT_DOWN\n-grepjar_SOURCES = jargrep.c dostime.c compress.c pushback.c jartool.h \\\n-zipfile.h dostime.h compress.h pushback.h\n-\n-grepjar_LDADD = $(ZLIBS) $(LIBIBERTY)\n-grepjar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n-AM_CFLAGS = @fastjar_warn_cflags@\n-AM_MAKEINFOFLAGS = -I $(srcdir)/../gcc/doc/include\n-TEXINFO_TEX = ../gcc/doc/include/texinfo.tex\n-info_TEXINFOS = fastjar.texi\n-fastjar_TEXINFOS = \\\n-\t../gcc/doc/include/gcc-common.texi \\\n-\t../gcc/doc/include/gpl.texi \\\n-\tgcc-vers.texi\n-\n-man_MANS = fastjar.1 grepjar.1\n-EXTRA_DIST = $(man_MANS)\n-BASEVER = $(srcdir)/../gcc/BASE-VER\n-DEVPHASE = $(srcdir)/../gcc/DEV-PHASE\n-TEXI2POD = perl $(srcdir)/../contrib/texi2pod.pl\n-POD2MAN = pod2man --center=\"GNU\" --release=\"gcc-$(shell cat $(BASEVER))\"\n-@GENINSRC_FALSE@STAMP_GENINSRC = \n-\n-# GCC LOCAL CHANGE\n-# The following commands allow us to release tarballs with the man pages\n-# and info documentation prebuilt.  This feature is enabled via \n-# --enable-generated-files-in-srcdir in the configure script.\n-@GENINSRC_TRUE@STAMP_GENINSRC = stamp-geninsrc\n-CLEANFILES = stamp-geninsrc fastjar.info\n-MAINTAINERCLEANFILES = $(srcdir)/fastjar.1 \\\n-                       $(srcdir)/grepjar.1 \\\n-                       $(srcdir)/fastjar.info\n-\n-all: config.h\n-\t$(MAKE) $(AM_MAKEFLAGS) all-am\n-\n-.SUFFIXES:\n-.SUFFIXES: .1 .c .dvi .o .obj .pod .ps\n-am--refresh:\n-\t@:\n-$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)\n-\t@for dep in $?; do \\\n-\t  case '$(am__configure_deps)' in \\\n-\t    *$$dep*) \\\n-\t      echo ' cd $(srcdir) && $(AUTOMAKE) --gnu '; \\\n-\t      cd $(srcdir) && $(AUTOMAKE) --gnu  \\\n-\t\t&& exit 0; \\\n-\t      exit 1;; \\\n-\t  esac; \\\n-\tdone; \\\n-\techo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  Makefile'; \\\n-\tcd $(top_srcdir) && \\\n-\t  $(AUTOMAKE) --gnu  Makefile\n-.PRECIOUS: Makefile\n-Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status\n-\t@case '$?' in \\\n-\t  *config.status*) \\\n-\t    echo ' $(SHELL) ./config.status'; \\\n-\t    $(SHELL) ./config.status;; \\\n-\t  *) \\\n-\t    echo ' cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)'; \\\n-\t    cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe);; \\\n-\tesac;\n-\n-$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n-\t$(SHELL) ./config.status --recheck\n-\n-$(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n-\tcd $(srcdir) && $(AUTOCONF)\n-$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n-\tcd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)\n-\n-config.h: stamp-h1\n-\t@if test ! -f $@; then \\\n-\t  rm -f stamp-h1; \\\n-\t  $(MAKE) stamp-h1; \\\n-\telse :; fi\n-\n-stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status\n-\t@rm -f stamp-h1\n-\tcd $(top_builddir) && $(SHELL) ./config.status config.h\n-$(srcdir)/config.h.in: @MAINTAINER_MODE_TRUE@ $(am__configure_deps) \n-\tcd $(top_srcdir) && $(AUTOHEADER)\n-\trm -f stamp-h1\n-\ttouch $@\n-\n-distclean-hdr:\n-\t-rm -f config.h stamp-h1\n-install-defs.sh: $(top_builddir)/config.status $(srcdir)/install-defs.sh.in\n-\tcd $(top_builddir) && $(SHELL) ./config.status $@\n-install-binPROGRAMS: $(bin_PROGRAMS)\n-\t@$(NORMAL_INSTALL)\n-\ttest -z \"$(bindir)\" || $(mkdir_p) \"$(DESTDIR)$(bindir)\"\n-\t@list='$(bin_PROGRAMS)'; for p in $$list; do \\\n-\t  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \\\n-\t  if test -f $$p \\\n-\t  ; then \\\n-\t    f=`echo \"$$p1\" | sed 's,^.*/,,;$(transform);s/$$/$(EXEEXT)/'`; \\\n-\t   echo \" $(INSTALL_PROGRAM_ENV) $(binPROGRAMS_INSTALL) '$$p' '$(DESTDIR)$(bindir)/$$f'\"; \\\n-\t   $(INSTALL_PROGRAM_ENV) $(binPROGRAMS_INSTALL) \"$$p\" \"$(DESTDIR)$(bindir)/$$f\" || exit 1; \\\n-\t  else :; fi; \\\n-\tdone\n-\n-uninstall-binPROGRAMS:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(bin_PROGRAMS)'; for p in $$list; do \\\n-\t  f=`echo \"$$p\" | sed 's,^.*/,,;s/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \\\n-\t  echo \" rm -f '$(DESTDIR)$(bindir)/$$f'\"; \\\n-\t  rm -f \"$(DESTDIR)$(bindir)/$$f\"; \\\n-\tdone\n-\n-clean-binPROGRAMS:\n-\t-test -z \"$(bin_PROGRAMS)\" || rm -f $(bin_PROGRAMS)\n-fastjar$(EXEEXT): $(fastjar_OBJECTS) $(fastjar_DEPENDENCIES) \n-\t@rm -f fastjar$(EXEEXT)\n-\t$(LINK) $(fastjar_LDFLAGS) $(fastjar_OBJECTS) $(fastjar_LDADD) $(LIBS)\n-grepjar$(EXEEXT): $(grepjar_OBJECTS) $(grepjar_DEPENDENCIES) \n-\t@rm -f grepjar$(EXEEXT)\n-\t$(LINK) $(grepjar_LDFLAGS) $(grepjar_OBJECTS) $(grepjar_LDADD) $(LIBS)\n-\n-mostlyclean-compile:\n-\t-rm -f *.$(OBJEXT)\n-\n-distclean-compile:\n-\t-rm -f *.tab.c\n-\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/compress.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dostime.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fastjar-compress.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fastjar-dostime.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fastjar-jartool.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fastjar-pushback.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fastjar-shift.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/jargrep.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pushback.Po@am__quote@\n-\n-.c.o:\n-@am__fastdepCC_TRUE@\tif $(COMPILE) -MT $@ -MD -MP -MF \"$(DEPDIR)/$*.Tpo\" -c -o $@ $<; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/$*.Tpo\" \"$(DEPDIR)/$*.Po\"; else rm -f \"$(DEPDIR)/$*.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(COMPILE) -c $<\n-\n-.c.obj:\n-@am__fastdepCC_TRUE@\tif $(COMPILE) -MT $@ -MD -MP -MF \"$(DEPDIR)/$*.Tpo\" -c -o $@ `$(CYGPATH_W) '$<'`; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/$*.Tpo\" \"$(DEPDIR)/$*.Po\"; else rm -f \"$(DEPDIR)/$*.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(COMPILE) -c `$(CYGPATH_W) '$<'`\n-\n-fastjar-jartool.o: jartool.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-jartool.o -MD -MP -MF \"$(DEPDIR)/fastjar-jartool.Tpo\" -c -o fastjar-jartool.o `test -f 'jartool.c' || echo '$(srcdir)/'`jartool.c; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-jartool.Tpo\" \"$(DEPDIR)/fastjar-jartool.Po\"; else rm -f \"$(DEPDIR)/fastjar-jartool.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='jartool.c' object='fastjar-jartool.o' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-jartool.o `test -f 'jartool.c' || echo '$(srcdir)/'`jartool.c\n-\n-fastjar-jartool.obj: jartool.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-jartool.obj -MD -MP -MF \"$(DEPDIR)/fastjar-jartool.Tpo\" -c -o fastjar-jartool.obj `if test -f 'jartool.c'; then $(CYGPATH_W) 'jartool.c'; else $(CYGPATH_W) '$(srcdir)/jartool.c'; fi`; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-jartool.Tpo\" \"$(DEPDIR)/fastjar-jartool.Po\"; else rm -f \"$(DEPDIR)/fastjar-jartool.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='jartool.c' object='fastjar-jartool.obj' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-jartool.obj `if test -f 'jartool.c'; then $(CYGPATH_W) 'jartool.c'; else $(CYGPATH_W) '$(srcdir)/jartool.c'; fi`\n-\n-fastjar-dostime.o: dostime.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-dostime.o -MD -MP -MF \"$(DEPDIR)/fastjar-dostime.Tpo\" -c -o fastjar-dostime.o `test -f 'dostime.c' || echo '$(srcdir)/'`dostime.c; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-dostime.Tpo\" \"$(DEPDIR)/fastjar-dostime.Po\"; else rm -f \"$(DEPDIR)/fastjar-dostime.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='dostime.c' object='fastjar-dostime.o' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-dostime.o `test -f 'dostime.c' || echo '$(srcdir)/'`dostime.c\n-\n-fastjar-dostime.obj: dostime.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-dostime.obj -MD -MP -MF \"$(DEPDIR)/fastjar-dostime.Tpo\" -c -o fastjar-dostime.obj `if test -f 'dostime.c'; then $(CYGPATH_W) 'dostime.c'; else $(CYGPATH_W) '$(srcdir)/dostime.c'; fi`; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-dostime.Tpo\" \"$(DEPDIR)/fastjar-dostime.Po\"; else rm -f \"$(DEPDIR)/fastjar-dostime.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='dostime.c' object='fastjar-dostime.obj' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-dostime.obj `if test -f 'dostime.c'; then $(CYGPATH_W) 'dostime.c'; else $(CYGPATH_W) '$(srcdir)/dostime.c'; fi`\n-\n-fastjar-compress.o: compress.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-compress.o -MD -MP -MF \"$(DEPDIR)/fastjar-compress.Tpo\" -c -o fastjar-compress.o `test -f 'compress.c' || echo '$(srcdir)/'`compress.c; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-compress.Tpo\" \"$(DEPDIR)/fastjar-compress.Po\"; else rm -f \"$(DEPDIR)/fastjar-compress.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='compress.c' object='fastjar-compress.o' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-compress.o `test -f 'compress.c' || echo '$(srcdir)/'`compress.c\n-\n-fastjar-compress.obj: compress.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-compress.obj -MD -MP -MF \"$(DEPDIR)/fastjar-compress.Tpo\" -c -o fastjar-compress.obj `if test -f 'compress.c'; then $(CYGPATH_W) 'compress.c'; else $(CYGPATH_W) '$(srcdir)/compress.c'; fi`; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-compress.Tpo\" \"$(DEPDIR)/fastjar-compress.Po\"; else rm -f \"$(DEPDIR)/fastjar-compress.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='compress.c' object='fastjar-compress.obj' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-compress.obj `if test -f 'compress.c'; then $(CYGPATH_W) 'compress.c'; else $(CYGPATH_W) '$(srcdir)/compress.c'; fi`\n-\n-fastjar-pushback.o: pushback.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-pushback.o -MD -MP -MF \"$(DEPDIR)/fastjar-pushback.Tpo\" -c -o fastjar-pushback.o `test -f 'pushback.c' || echo '$(srcdir)/'`pushback.c; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-pushback.Tpo\" \"$(DEPDIR)/fastjar-pushback.Po\"; else rm -f \"$(DEPDIR)/fastjar-pushback.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='pushback.c' object='fastjar-pushback.o' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-pushback.o `test -f 'pushback.c' || echo '$(srcdir)/'`pushback.c\n-\n-fastjar-pushback.obj: pushback.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-pushback.obj -MD -MP -MF \"$(DEPDIR)/fastjar-pushback.Tpo\" -c -o fastjar-pushback.obj `if test -f 'pushback.c'; then $(CYGPATH_W) 'pushback.c'; else $(CYGPATH_W) '$(srcdir)/pushback.c'; fi`; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-pushback.Tpo\" \"$(DEPDIR)/fastjar-pushback.Po\"; else rm -f \"$(DEPDIR)/fastjar-pushback.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='pushback.c' object='fastjar-pushback.obj' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-pushback.obj `if test -f 'pushback.c'; then $(CYGPATH_W) 'pushback.c'; else $(CYGPATH_W) '$(srcdir)/pushback.c'; fi`\n-\n-fastjar-shift.o: shift.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-shift.o -MD -MP -MF \"$(DEPDIR)/fastjar-shift.Tpo\" -c -o fastjar-shift.o `test -f 'shift.c' || echo '$(srcdir)/'`shift.c; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-shift.Tpo\" \"$(DEPDIR)/fastjar-shift.Po\"; else rm -f \"$(DEPDIR)/fastjar-shift.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='shift.c' object='fastjar-shift.o' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-shift.o `test -f 'shift.c' || echo '$(srcdir)/'`shift.c\n-\n-fastjar-shift.obj: shift.c\n-@am__fastdepCC_TRUE@\tif $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT fastjar-shift.obj -MD -MP -MF \"$(DEPDIR)/fastjar-shift.Tpo\" -c -o fastjar-shift.obj `if test -f 'shift.c'; then $(CYGPATH_W) 'shift.c'; else $(CYGPATH_W) '$(srcdir)/shift.c'; fi`; \\\n-@am__fastdepCC_TRUE@\tthen mv -f \"$(DEPDIR)/fastjar-shift.Tpo\" \"$(DEPDIR)/fastjar-shift.Po\"; else rm -f \"$(DEPDIR)/fastjar-shift.Tpo\"; exit 1; fi\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='shift.c' object='fastjar-shift.obj' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(fastjar_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o fastjar-shift.obj `if test -f 'shift.c'; then $(CYGPATH_W) 'shift.c'; else $(CYGPATH_W) '$(srcdir)/shift.c'; fi`\n-\n-fastjar.info: fastjar.texi $(fastjar_TEXINFOS)\n-\trestore=: && backupdir=\"$(am__leading_dot)am$$$$\" && \\\n-\trm -rf $$backupdir && mkdir $$backupdir && \\\n-\tfor f in $@ $@-[0-9] $@-[0-9][0-9] $(@:.info=).i[0-9] $(@:.info=).i[0-9][0-9]; do \\\n-\t  if test -f $$f; then mv $$f $$backupdir; restore=mv; else :; fi; \\\n-\tdone; \\\n-\tif $(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I $(srcdir) \\\n-\t -o $@ `test -f 'fastjar.texi' || echo '$(srcdir)/'`fastjar.texi; \\\n-\tthen \\\n-\t  rc=0; \\\n-\telse \\\n-\t  rc=$$?; \\\n-\t  $$restore $$backupdir/* `echo \"./$@\" | sed 's|[^/]*$$||'`; \\\n-\tfi; \\\n-\trm -rf $$backupdir; exit $$rc\n-\n-fastjar.dvi: fastjar.texi $(fastjar_TEXINFOS) \n-\tTEXINPUTS=\"$(am__TEXINFO_TEX_DIR)$(PATH_SEPARATOR)$$TEXINPUTS\" \\\n-\tMAKEINFO='$(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I $(srcdir)' \\\n-\t$(TEXI2DVI) -o $@ `test -f 'fastjar.texi' || echo '$(srcdir)/'`fastjar.texi\n-\n-fastjar.pdf: fastjar.texi $(fastjar_TEXINFOS) \n-\tTEXINPUTS=\"$(am__TEXINFO_TEX_DIR)$(PATH_SEPARATOR)$$TEXINPUTS\" \\\n-\tMAKEINFO='$(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I $(srcdir)' \\\n-\t$(TEXI2PDF) -o $@ `test -f 'fastjar.texi' || echo '$(srcdir)/'`fastjar.texi\n-\n-fastjar.html: fastjar.texi $(fastjar_TEXINFOS) \n-\trm -rf $(@:.html=.htp)\n-\tif $(MAKEINFOHTML) $(AM_MAKEINFOHTMLFLAGS) $(MAKEINFOFLAGS) -I $(srcdir) \\\n-\t -o $(@:.html=.htp) `test -f 'fastjar.texi' || echo '$(srcdir)/'`fastjar.texi; \\\n-\tthen \\\n-\t  rm -rf $@; \\\n-\t  if test ! -d $(@:.html=.htp) && test -d $(@:.html=); then \\\n-\t    mv $(@:.html=) $@; else mv $(@:.html=.htp) $@; fi; \\\n-\telse \\\n-\t  if test ! -d $(@:.html=.htp) && test -d $(@:.html=); then \\\n-\t    rm -rf $(@:.html=); else rm -Rf $(@:.html=.htp) $@; fi; \\\n-\t  exit 1; \\\n-\tfi\n-.dvi.ps:\n-\t$(DVIPS) -o $@ $<\n-\n-uninstall-info-am:\n-\t$(PRE_UNINSTALL)\n-\t@if (install-info --version && \\\n-\t     install-info --version 2>&1 | sed 1q | grep -i -v debian) >/dev/null 2>&1; then \\\n-\t  list='$(INFO_DEPS)'; \\\n-\t  for file in $$list; do \\\n-\t    relfile=`echo \"$$file\" | sed 's|^.*/||'`; \\\n-\t    echo \" install-info --info-dir='$(DESTDIR)$(infodir)' --remove '$(DESTDIR)$(infodir)/$$relfile'\"; \\\n-\t    install-info --info-dir=\"$(DESTDIR)$(infodir)\" --remove \"$(DESTDIR)$(infodir)/$$relfile\"; \\\n-\t  done; \\\n-\telse :; fi\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(INFO_DEPS)'; \\\n-\tfor file in $$list; do \\\n-\t  relfile=`echo \"$$file\" | sed 's|^.*/||'`; \\\n-\t  relfile_i=`echo \"$$relfile\" | sed 's|\\.info$$||;s|$$|.i|'`; \\\n-\t  (if cd \"$(DESTDIR)$(infodir)\"; then \\\n-\t     echo \" rm -f $$relfile $$relfile-[0-9] $$relfile-[0-9][0-9] $$relfile_i[0-9] $$relfile_i[0-9][0-9])\"; \\\n-\t     rm -f $$relfile $$relfile-[0-9] $$relfile-[0-9][0-9] $$relfile_i[0-9] $$relfile_i[0-9][0-9]; \\\n-\t   else :; fi); \\\n-\tdone\n-\n-dist-info: $(INFO_DEPS)\n-\t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n-\tlist='$(INFO_DEPS)'; \\\n-\tfor base in $$list; do \\\n-\t  case $$base in \\\n-\t    $(srcdir)/*) base=`echo \"$$base\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n-\t  esac; \\\n-\t  if test -f $$base; then d=.; else d=$(srcdir); fi; \\\n-\t  for file in $$d/$$base*; do \\\n-\t    relfile=`expr \"$$file\" : \"$$d/\\(.*\\)\"`; \\\n-\t    test -f $(distdir)/$$relfile || \\\n-\t      cp -p $$file $(distdir)/$$relfile; \\\n-\t  done; \\\n-\tdone\n-\n-mostlyclean-aminfo:\n-\t-rm -rf fastjar.aux fastjar.cp fastjar.cps fastjar.fn fastjar.fns fastjar.ky \\\n-\t  fastjar.kys fastjar.log fastjar.pg fastjar.pgs fastjar.tmp \\\n-\t  fastjar.toc fastjar.tp fastjar.tps fastjar.vr fastjar.vrs \\\n-\t  fastjar.dvi fastjar.pdf fastjar.ps fastjar.html\n-\n-maintainer-clean-aminfo:\n-\t@list='$(INFO_DEPS)'; for i in $$list; do \\\n-\t  i_i=`echo \"$$i\" | sed 's|\\.info$$||;s|$$|.i|'`; \\\n-\t  echo \" rm -f $$i $$i-[0-9] $$i-[0-9][0-9] $$i_i[0-9] $$i_i[0-9][0-9]\"; \\\n-\t  rm -f $$i $$i-[0-9] $$i-[0-9][0-9] $$i_i[0-9] $$i_i[0-9][0-9]; \\\n-\tdone\n-install-man1: $(man1_MANS) $(man_MANS)\n-\t@$(NORMAL_INSTALL)\n-\ttest -z \"$(man1dir)\" || $(mkdir_p) \"$(DESTDIR)$(man1dir)\"\n-\t@list='$(man1_MANS) $(dist_man1_MANS) $(nodist_man1_MANS)'; \\\n-\tl2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \\\n-\tfor i in $$l2; do \\\n-\t  case \"$$i\" in \\\n-\t    *.1*) list=\"$$list $$i\" ;; \\\n-\t  esac; \\\n-\tdone; \\\n-\tfor i in $$list; do \\\n-\t  if test -f $(srcdir)/$$i; then file=$(srcdir)/$$i; \\\n-\t  else file=$$i; fi; \\\n-\t  ext=`echo $$i | sed -e 's/^.*\\\\.//'`; \\\n-\t  case \"$$ext\" in \\\n-\t    1*) ;; \\\n-\t    *) ext='1' ;; \\\n-\t  esac; \\\n-\t  inst=`echo $$i | sed -e 's/\\\\.[0-9a-z]*$$//'`; \\\n-\t  inst=`echo $$inst | sed -e 's/^.*\\///'`; \\\n-\t  inst=`echo $$inst | sed '$(transform)'`.$$ext; \\\n-\t  echo \" $(INSTALL_DATA) '$$file' '$(DESTDIR)$(man1dir)/$$inst'\"; \\\n-\t  $(INSTALL_DATA) \"$$file\" \"$(DESTDIR)$(man1dir)/$$inst\"; \\\n-\tdone\n-uninstall-man1:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(man1_MANS) $(dist_man1_MANS) $(nodist_man1_MANS)'; \\\n-\tl2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \\\n-\tfor i in $$l2; do \\\n-\t  case \"$$i\" in \\\n-\t    *.1*) list=\"$$list $$i\" ;; \\\n-\t  esac; \\\n-\tdone; \\\n-\tfor i in $$list; do \\\n-\t  ext=`echo $$i | sed -e 's/^.*\\\\.//'`; \\\n-\t  case \"$$ext\" in \\\n-\t    1*) ;; \\\n-\t    *) ext='1' ;; \\\n-\t  esac; \\\n-\t  inst=`echo $$i | sed -e 's/\\\\.[0-9a-z]*$$//'`; \\\n-\t  inst=`echo $$inst | sed -e 's/^.*\\///'`; \\\n-\t  inst=`echo $$inst | sed '$(transform)'`.$$ext; \\\n-\t  echo \" rm -f '$(DESTDIR)$(man1dir)/$$inst'\"; \\\n-\t  rm -f \"$(DESTDIR)$(man1dir)/$$inst\"; \\\n-\tdone\n-\n-ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)\n-\tlist='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \\\n-\tunique=`for i in $$list; do \\\n-\t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-\t  done | \\\n-\t  $(AWK) '    { files[$$0] = 1; } \\\n-\t       END { for (i in files) print i; }'`; \\\n-\tmkid -fID $$unique\n-tags: TAGS\n-\n-TAGS:  $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \\\n-\t\t$(TAGS_FILES) $(LISP)\n-\ttags=; \\\n-\there=`pwd`; \\\n-\tlist='$(SOURCES) $(HEADERS) config.h.in $(LISP) $(TAGS_FILES)'; \\\n-\tunique=`for i in $$list; do \\\n-\t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-\t  done | \\\n-\t  $(AWK) '    { files[$$0] = 1; } \\\n-\t       END { for (i in files) print i; }'`; \\\n-\tif test -z \"$(ETAGS_ARGS)$$tags$$unique\"; then :; else \\\n-\t  test -n \"$$unique\" || unique=$$empty_fix; \\\n-\t  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \\\n-\t    $$tags $$unique; \\\n-\tfi\n-ctags: CTAGS\n-CTAGS:  $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \\\n-\t\t$(TAGS_FILES) $(LISP)\n-\ttags=; \\\n-\there=`pwd`; \\\n-\tlist='$(SOURCES) $(HEADERS) config.h.in $(LISP) $(TAGS_FILES)'; \\\n-\tunique=`for i in $$list; do \\\n-\t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-\t  done | \\\n-\t  $(AWK) '    { files[$$0] = 1; } \\\n-\t       END { for (i in files) print i; }'`; \\\n-\ttest -z \"$(CTAGS_ARGS)$$tags$$unique\" \\\n-\t  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \\\n-\t     $$tags $$unique\n-\n-GTAGS:\n-\there=`$(am__cd) $(top_builddir) && pwd` \\\n-\t  && cd $(top_srcdir) \\\n-\t  && gtags -i $(GTAGS_ARGS) $$here\n-\n-distclean-tags:\n-\t-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags\n-\n-distdir: $(DISTFILES)\n-\t$(am__remove_distdir)\n-\tmkdir $(distdir)\n-\t$(mkdir_p) $(distdir)/. $(distdir)/.. $(distdir)/../gcc/doc/include\n-\t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n-\ttopsrcdirstrip=`echo \"$(top_srcdir)\" | sed 's|.|.|g'`; \\\n-\tlist='$(DISTFILES)'; for file in $$list; do \\\n-\t  case $$file in \\\n-\t    $(srcdir)/*) file=`echo \"$$file\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n-\t    $(top_srcdir)/*) file=`echo \"$$file\" | sed \"s|^$$topsrcdirstrip/|$(top_builddir)/|\"`;; \\\n-\t  esac; \\\n-\t  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \\\n-\t  dir=`echo \"$$file\" | sed -e 's,/[^/]*$$,,'`; \\\n-\t  if test \"$$dir\" != \"$$file\" && test \"$$dir\" != \".\"; then \\\n-\t    dir=\"/$$dir\"; \\\n-\t    $(mkdir_p) \"$(distdir)$$dir\"; \\\n-\t  else \\\n-\t    dir=''; \\\n-\t  fi; \\\n-\t  if test -d $$d/$$file; then \\\n-\t    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \\\n-\t      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \\\n-\t    fi; \\\n-\t    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \\\n-\t  else \\\n-\t    test -f $(distdir)/$$file \\\n-\t    || cp -p $$d/$$file $(distdir)/$$file \\\n-\t    || exit 1; \\\n-\t  fi; \\\n-\tdone\n-\t$(MAKE) $(AM_MAKEFLAGS) \\\n-\t  top_distdir=\"$(top_distdir)\" distdir=\"$(distdir)\" \\\n-\t  dist-info\n-\t-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \\; -o \\\n-\t  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \\; -o \\\n-\t  ! -type d ! -perm -400 -exec chmod a+r {} \\; -o \\\n-\t  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \\; \\\n-\t|| chmod -R a+r $(distdir)\n-dist-gzip: distdir\n-\ttardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz\n-\t$(am__remove_distdir)\n-\n-dist-bzip2: distdir\n-\ttardir=$(distdir) && $(am__tar) | bzip2 -9 -c >$(distdir).tar.bz2\n-\t$(am__remove_distdir)\n-\n-dist-tarZ: distdir\n-\ttardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z\n-\t$(am__remove_distdir)\n-\n-dist-shar: distdir\n-\tshar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz\n-\t$(am__remove_distdir)\n-\n-dist-zip: distdir\n-\t-rm -f $(distdir).zip\n-\tzip -rq $(distdir).zip $(distdir)\n-\t$(am__remove_distdir)\n-\n-dist dist-all: distdir\n-\ttardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz\n-\t$(am__remove_distdir)\n-\n-# This target untars the dist file and tries a VPATH configuration.  Then\n-# it guarantees that the distribution is self-contained by making another\n-# tarfile.\n-distcheck: dist\n-\tcase '$(DIST_ARCHIVES)' in \\\n-\t*.tar.gz*) \\\n-\t  GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(am__untar) ;;\\\n-\t*.tar.bz2*) \\\n-\t  bunzip2 -c $(distdir).tar.bz2 | $(am__untar) ;;\\\n-\t*.tar.Z*) \\\n-\t  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\\\n-\t*.shar.gz*) \\\n-\t  GZIP=$(GZIP_ENV) gunzip -c $(distdir).shar.gz | unshar ;;\\\n-\t*.zip*) \\\n-\t  unzip $(distdir).zip ;;\\\n-\tesac\n-\tchmod -R a-w $(distdir); chmod a+w $(distdir)\n-\tmkdir $(distdir)/_build\n-\tmkdir $(distdir)/_inst\n-\tchmod a-w $(distdir)\n-\tdc_install_base=`$(am__cd) $(distdir)/_inst && pwd | sed -e 's,^[^:\\\\/]:[\\\\/],/,'` \\\n-\t  && dc_destdir=\"$${TMPDIR-/tmp}/am-dc-$$$$/\" \\\n-\t  && cd $(distdir)/_build \\\n-\t  && ../configure --srcdir=.. --prefix=\"$$dc_install_base\" \\\n-\t    $(DISTCHECK_CONFIGURE_FLAGS) \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) dvi \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) check \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) install \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) installcheck \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) uninstall \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) distuninstallcheck_dir=\"$$dc_install_base\" \\\n-\t        distuninstallcheck \\\n-\t  && chmod -R a-w \"$$dc_install_base\" \\\n-\t  && ({ \\\n-\t       (cd ../.. && umask 077 && mkdir \"$$dc_destdir\") \\\n-\t       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR=\"$$dc_destdir\" install \\\n-\t       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR=\"$$dc_destdir\" uninstall \\\n-\t       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR=\"$$dc_destdir\" \\\n-\t            distuninstallcheck_dir=\"$$dc_destdir\" distuninstallcheck; \\\n-\t      } || { rm -rf \"$$dc_destdir\"; exit 1; }) \\\n-\t  && rm -rf \"$$dc_destdir\" \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) dist \\\n-\t  && rm -rf $(DIST_ARCHIVES) \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck\n-\t$(am__remove_distdir)\n-\t@(echo \"$(distdir) archives ready for distribution: \"; \\\n-\t  list='$(DIST_ARCHIVES)'; for i in $$list; do echo $$i; done) | \\\n-\t  sed -e '1{h;s/./=/g;p;x;}' -e '$${p;x;}'\n-distuninstallcheck:\n-\t@cd $(distuninstallcheck_dir) \\\n-\t&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \\\n-\t   || { echo \"ERROR: files left after uninstall:\" ; \\\n-\t        if test -n \"$(DESTDIR)\"; then \\\n-\t          echo \"  (check DESTDIR support)\"; \\\n-\t        fi ; \\\n-\t        $(distuninstallcheck_listfiles) ; \\\n-\t        exit 1; } >&2\n-distcleancheck: distclean\n-\t@if test '$(srcdir)' = . ; then \\\n-\t  echo \"ERROR: distcleancheck can only run from a VPATH build\" ; \\\n-\t  exit 1 ; \\\n-\tfi\n-\t@test `$(distcleancheck_listfiles) | wc -l` -eq 0 \\\n-\t  || { echo \"ERROR: files left in build directory after distclean:\" ; \\\n-\t       $(distcleancheck_listfiles) ; \\\n-\t       exit 1; } >&2\n-check-am: all-am\n-check: check-am\n-all-am: Makefile $(INFO_DEPS) $(PROGRAMS) $(MANS) config.h all-local\n-installdirs:\n-\tfor dir in \"$(DESTDIR)$(bindir)\" \"$(DESTDIR)$(infodir)\" \"$(DESTDIR)$(man1dir)\"; do \\\n-\t  test -z \"$$dir\" || $(mkdir_p) \"$$dir\"; \\\n-\tdone\n-install: install-am\n-install-exec: install-exec-am\n-install-data: install-data-am\n-uninstall: uninstall-am\n-\n-install-am: all-am\n-\t@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am\n-\n-installcheck: installcheck-am\n-install-strip:\n-\t$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=\"$(INSTALL_STRIP_PROGRAM)\" \\\n-\t  install_sh_PROGRAM=\"$(INSTALL_STRIP_PROGRAM)\" INSTALL_STRIP_FLAG=-s \\\n-\t  `test -z '$(STRIP)' || \\\n-\t    echo \"INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'\"` install\n-mostlyclean-generic:\n-\n-clean-generic:\n-\t-test -z \"$(CLEANFILES)\" || rm -f $(CLEANFILES)\n-\n-distclean-generic:\n-\t-test -z \"$(CONFIG_CLEAN_FILES)\" || rm -f $(CONFIG_CLEAN_FILES)\n-\n-maintainer-clean-generic:\n-\t@echo \"This command is intended for maintainers to use\"\n-\t@echo \"it deletes files that may require special tools to rebuild.\"\n-\t-test -z \"$(MAINTAINERCLEANFILES)\" || rm -f $(MAINTAINERCLEANFILES)\n-clean: clean-am\n-\n-clean-am: clean-binPROGRAMS clean-generic mostlyclean-am\n-\n-distclean: distclean-am\n-\t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n-\t-rm -rf ./$(DEPDIR)\n-\t-rm -f Makefile\n-distclean-am: clean-am distclean-compile distclean-generic \\\n-\tdistclean-hdr distclean-tags\n-\n-dvi: dvi-am\n-\n-dvi-am: $(DVIS)\n-\n-html: html-am\n-\n-html-am: $(HTMLS)\n-\n-info: info-am\n-\n-info-am: $(INFO_DEPS)\n-\n-install-data-am: install-info-am install-man\n-\n-install-exec-am: install-binPROGRAMS\n-\n-install-info: install-info-am\n-\n-install-info-am: $(INFO_DEPS)\n-\t@$(NORMAL_INSTALL)\n-\ttest -z \"$(infodir)\" || $(mkdir_p) \"$(DESTDIR)$(infodir)\"\n-\t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n-\tlist='$(INFO_DEPS)'; \\\n-\tfor file in $$list; do \\\n-\t  case $$file in \\\n-\t    $(srcdir)/*) file=`echo \"$$file\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n-\t  esac; \\\n-\t  if test -f $$file; then d=.; else d=$(srcdir); fi; \\\n-\t  file_i=`echo \"$$file\" | sed 's|\\.info$$||;s|$$|.i|'`; \\\n-\t  for ifile in $$d/$$file $$d/$$file-[0-9] $$d/$$file-[0-9][0-9] \\\n-                       $$d/$$file_i[0-9] $$d/$$file_i[0-9][0-9] ; do \\\n-\t    if test -f $$ifile; then \\\n-\t      relfile=`echo \"$$ifile\" | sed 's|^.*/||'`; \\\n-\t      echo \" $(INSTALL_DATA) '$$ifile' '$(DESTDIR)$(infodir)/$$relfile'\"; \\\n-\t      $(INSTALL_DATA) \"$$ifile\" \"$(DESTDIR)$(infodir)/$$relfile\"; \\\n-\t    else : ; fi; \\\n-\t  done; \\\n-\tdone\n-\t@$(POST_INSTALL)\n-\t@if (install-info --version && \\\n-\t     install-info --version 2>&1 | sed 1q | grep -i -v debian) >/dev/null 2>&1; then \\\n-\t  list='$(INFO_DEPS)'; \\\n-\t  for file in $$list; do \\\n-\t    relfile=`echo \"$$file\" | sed 's|^.*/||'`; \\\n-\t    echo \" install-info --info-dir='$(DESTDIR)$(infodir)' '$(DESTDIR)$(infodir)/$$relfile'\";\\\n-\t    install-info --info-dir=\"$(DESTDIR)$(infodir)\" \"$(DESTDIR)$(infodir)/$$relfile\" || :;\\\n-\t  done; \\\n-\telse : ; fi\n-install-man: install-man1\n-\n-installcheck-am:\n-\n-maintainer-clean: maintainer-clean-am\n-\t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n-\t-rm -rf $(top_srcdir)/autom4te.cache\n-\t-rm -rf ./$(DEPDIR)\n-\t-rm -f Makefile\n-maintainer-clean-am: distclean-am maintainer-clean-aminfo \\\n-\tmaintainer-clean-generic\n-\n-mostlyclean: mostlyclean-am\n-\n-mostlyclean-am: mostlyclean-aminfo mostlyclean-compile \\\n-\tmostlyclean-generic\n-\n-pdf: pdf-am\n-\n-pdf-am: $(PDFS)\n-\n-ps: ps-am\n-\n-ps-am: $(PSS)\n-\n-uninstall-am: uninstall-binPROGRAMS uninstall-info-am uninstall-man\n-\n-uninstall-man: uninstall-man1\n-\n-.PHONY: CTAGS GTAGS all all-am all-local am--refresh check check-am \\\n-\tclean clean-binPROGRAMS clean-generic ctags dist dist-all \\\n-\tdist-bzip2 dist-gzip dist-info dist-shar dist-tarZ dist-zip \\\n-\tdistcheck distclean distclean-compile distclean-generic \\\n-\tdistclean-hdr distclean-tags distcleancheck distdir \\\n-\tdistuninstallcheck dvi dvi-am html html-am info info-am \\\n-\tinstall install-am install-binPROGRAMS install-data \\\n-\tinstall-data-am install-exec install-exec-am install-info \\\n-\tinstall-info-am install-man install-man1 install-strip \\\n-\tinstallcheck installcheck-am installdirs maintainer-clean \\\n-\tmaintainer-clean-aminfo maintainer-clean-generic mostlyclean \\\n-\tmostlyclean-aminfo mostlyclean-compile mostlyclean-generic pdf \\\n-\tpdf-am ps ps-am tags uninstall uninstall-am \\\n-\tuninstall-binPROGRAMS uninstall-info-am uninstall-man \\\n-\tuninstall-man1\n-\n-\n-.pod.1:\n-\t-($(POD2MAN) --section=1 $< > $(@).T$$$$ && \\\n-\t\tmv -f $(@).T$$$$ $@) || \\\n-\t\t(rm -f $(@).T$$$$ && exit 1)\n-\n-.INTERMEDIATE: fastjar.pod grepjar.pod\n-\n-fastjar.pod: $(srcdir)/fastjar.texi\n-\t-$(TEXI2POD) -D fastjar $< > $@\n-\n-grepjar.pod: $(srcdir)/fastjar.texi\n-\t-$(TEXI2POD) -D grepjar $< > $@\n-\n-fastjar.1 grepjar.1: $(BASEVER)\n-\n-# gcc-vers.texi is generated from the version files.\n-gcc-vers.texi: $(BASEVER) $(DEVPHASE)\n-\t(echo \"@set version-GCC $(shell cat $(BASEVER))\"; \\\n-\t if [ \"$(shell cat $(DEVPHASE))\" = \"experimental\" ]; \\\n-\t then echo \"@set DEVELOPMENT\"; \\\n-\t else echo \"@clear DEVELOPMENT\"; \\\n-\t fi) > $@T\n-\tmv -f $@T $@\n-\n-all-local: $(STAMP_GENINSRC) \n-\n-stamp-geninsrc: fastjar.1 grepjar.1 fastjar.info\n-\t-cp -p $(top_builddir)/fastjar.1 $(srcdir)/fastjar.1\n-\t-cp -p $(top_builddir)/grepjar.1 $(srcdir)/grepjar.1\n-\t-cp -p $(top_builddir)/fastjar.info $(srcdir)/fastjar.info\n-\ttouch $@\n-# Tell versions [3.59,3.63) of GNU make to not export all variables.\n-# Otherwise a system limit (for SysV at least) may be exceeded.\n-.NOEXPORT:"}, {"sha": "70ee4990fb2417581ab9bf9b7045a1725708a1d5", "filename": "fastjar/NEWS", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FNEWS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FNEWS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FNEWS?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,14 +0,0 @@\n-Noteworthy changes in fastjar, 11/2000\n---------------------------------------\n-\n-Fastjar as been imported from sourceforge.net/projects/fastjar with\n-Brian Burns' permission so that it can be used as a replacement to the\n-zip utility in order to create the libgcj.zip archive. Several missing\n-distribution files were created, most notably Makefile.am.\n-\n-Two new options were added: `-E' to prevent fastjar from reading the\n-content of a directory when specifying one (and instead relying on the\n-provided list of files to populate the archive with regard to the\n-directory entry) and `-@' to let fastjar read the name of the files to\n-add to the archive from the standard input. This last option is\n-supported only when creating or augmenting an archive."}, {"sha": "a16a501829d39fefa13e330eb7f2a41a54b1bf17", "filename": "fastjar/README", "status": "removed", "additions": 0, "deletions": 78, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FREADME?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,78 +0,0 @@\n-This directory contains the FastJar package, which is not part of GCC but\n-shipped with GCC as convenience.\n-\n-=======\n-FastJar 0.90\n-\n-12/6/1999\n-=======\n-\n-FastJar is an attempt at creating a feature-for-feature copy of Sun's JDK's\n-'jar' command.  Sun's jar (or Blackdown's for that matter) is written entirely\n-in Java which makes it dog slow.  Since FastJar is written in C, it can create\n-the same .jar file as Sun's tool in a fraction of the time.  On my system,\n-Sun's jar takes 50 seconds to create a 10MB jar file, while FastJar only takes\n-a little over a second.  \n-\n-The reason I wrote fastjar is that building .jar files is a regular process\n-of the build where I work.  The way we have it setup, you have to re-create\n-the .jar file everytime you want to test it out, which is about every 5 minutes\n-when I'm busy coding.  The .jar file wasn't -that- big, but it did take about\n-30 seconds to be made, and watching all the garbage collection messages was\n-pretty irritating as well.  I probably wasted a half-hour a day watching\n-Sun's jar tool chug along.  By writing the program in C, I spend much less time\n-banging my head against the monitor waiting for the build to finish.  Yay!\n-\n-FastJar has been tested on Solaris and Linux 2.2.x systems and nothing else. \n-It should compile/run without any problems on either system, provided you have\n-zlib installed.  \n-\n-Please mail any bug reports to burnsbr@ucs.orst.edu.\n-\n-If you use FastJar and want me to add the rest of the features, send me mail\n-(toast@users.sourceforge.net).  I'll be much more likely to put more work into this\n-if I know other people find it useful other than me.\n-\n-As always, this not being a final release, bugs may exist.  I test each\n-release pretty well, but I can always miss things...\n-\n-Compression will slow things down quite a bit.  A 10MB jar file takes about\n-1 second on my machine without compression, and 9 seconds with it.  If you\n-want fastjar to be fast, use the -0 (zero, not O) flag to turn off compression.\n-\n-Supported flags:\n---------------------------\n--c  | create a new archive\n--v  | verbose output\n--f  | specify archive file name\n--m  | specify existing manifest file\n--M  | don't create manifest\n--0  | store only\n--C  | change to dir\n--t  | list contents\n--x  | extract contents\n-\n-Unsupported flags:\n-----------------------------\n--u  | update exisiting archive\n-\n-If you use the \"unsupported\" flags, nothing bad will happen, but then again\n-nothing will happen at all.  \n-\n-\n-Unsupported features (in this release):\n----------------------------------------------\n-  * updating\n-  * full manifest support (?)\n-\n-Order or features for the future:\n---------------------------------------------\n-  * archive updating\n-  * full manifest support\n-  * filtering\n-  * dependency checking\n-\n-\n-===========================================================================\n-http://fastjar.sourceforge.net\n-toast@users.sourceforge.net"}, {"sha": "c856366e549bce6e4cf6aaeacae5e956c086d326", "filename": "fastjar/acinclude.m4", "status": "removed", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Facinclude.m4?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,21 +0,0 @@\n-dnl Define MKDIR_TAKES_ONE_ARG if mkdir accepts only one argument instead\n-dnl of the usual 2.\n-AC_DEFUN([gcc_AC_FUNC_MKDIR_TAKES_ONE_ARG],\n-[AC_CACHE_CHECK([if mkdir takes one argument], gcc_cv_mkdir_takes_one_arg,\n-[AC_TRY_COMPILE([\n-#include <sys/types.h>\n-#ifdef HAVE_SYS_STAT_H\n-# include <sys/stat.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-# include <unistd.h>\n-#endif\n-#ifdef HAVE_DIRECT_H\n-# include <direct.h>\n-#endif], [mkdir (\"foo\", 0);],\n-         gcc_cv_mkdir_takes_one_arg=no, gcc_cv_mkdir_takes_one_arg=yes)])\n-if test $gcc_cv_mkdir_takes_one_arg = yes ; then\n-   AC_DEFINE(MKDIR_TAKES_ONE_ARG, 1, [Define if host mkdir takes a\n-single argument.])\n-fi\n-])"}, {"sha": "1759af4487114f012519781ddb742b878473bc61", "filename": "fastjar/aclocal.m4", "status": "removed", "additions": 0, "deletions": 1085, "changes": 1085, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Faclocal.m4?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,1085 +0,0 @@\n-# generated automatically by aclocal 1.9.3 -*- Autoconf -*-\n-\n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n-# even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n-# PARTICULAR PURPOSE.\n-\n-#                                                        -*- Autoconf -*-\n-# Copyright (C) 2002, 2003  Free Software Foundation, Inc.\n-# Generated from amversion.in; do not edit by hand.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-\n-# AM_AUTOMAKE_VERSION(VERSION)\n-# ----------------------------\n-# Automake X.Y traces this macro to ensure aclocal.m4 has been\n-# generated from the m4 files accompanying Automake X.Y.\n-AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version=\"1.9\"])\n-\n-# AM_SET_CURRENT_AUTOMAKE_VERSION\n-# -------------------------------\n-# Call AM_AUTOMAKE_VERSION so it can be traced.\n-# This function is AC_REQUIREd by AC_INIT_AUTOMAKE.\n-AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],\n-\t [AM_AUTOMAKE_VERSION([1.9.3])])\n-\n-# AM_AUX_DIR_EXPAND\n-\n-# Copyright (C) 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets\n-# $ac_aux_dir to `$srcdir/foo'.  In other projects, it is set to\n-# `$srcdir', `$srcdir/..', or `$srcdir/../..'.\n-#\n-# Of course, Automake must honor this variable whenever it calls a\n-# tool from the auxiliary directory.  The problem is that $srcdir (and\n-# therefore $ac_aux_dir as well) can be either absolute or relative,\n-# depending on how configure is run.  This is pretty annoying, since\n-# it makes $ac_aux_dir quite unusable in subdirectories: in the top\n-# source directory, any form will work fine, but in subdirectories a\n-# relative path needs to be adjusted first.\n-#\n-# $ac_aux_dir/missing\n-#    fails when called from a subdirectory if $ac_aux_dir is relative\n-# $top_srcdir/$ac_aux_dir/missing\n-#    fails if $ac_aux_dir is absolute,\n-#    fails when called from a subdirectory in a VPATH build with\n-#          a relative $ac_aux_dir\n-#\n-# The reason of the latter failure is that $top_srcdir and $ac_aux_dir\n-# are both prefixed by $srcdir.  In an in-source build this is usually\n-# harmless because $srcdir is `.', but things will broke when you\n-# start a VPATH build or use an absolute $srcdir.\n-#\n-# So we could use something similar to $top_srcdir/$ac_aux_dir/missing,\n-# iff we strip the leading $srcdir from $ac_aux_dir.  That would be:\n-#   am_aux_dir='\\$(top_srcdir)/'`expr \"$ac_aux_dir\" : \"$srcdir//*\\(.*\\)\"`\n-# and then we would define $MISSING as\n-#   MISSING=\"\\${SHELL} $am_aux_dir/missing\"\n-# This will work as long as MISSING is not called from configure, because\n-# unfortunately $(top_srcdir) has no meaning in configure.\n-# However there are other variables, like CC, which are often used in\n-# configure, and could therefore not use this \"fixed\" $ac_aux_dir.\n-#\n-# Another solution, used here, is to always expand $ac_aux_dir to an\n-# absolute PATH.  The drawback is that using absolute paths prevent a\n-# configured tree to be moved without reconfiguration.\n-\n-AC_DEFUN([AM_AUX_DIR_EXPAND],\n-[dnl Rely on autoconf to set up CDPATH properly.\n-AC_PREREQ([2.50])dnl\n-# expand $ac_aux_dir to an absolute path\n-am_aux_dir=`cd $ac_aux_dir && pwd`\n-])\n-\n-# AM_CONDITIONAL                                              -*- Autoconf -*-\n-\n-# Copyright (C) 1997, 2000, 2001, 2003, 2004 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 6\n-\n-# AM_CONDITIONAL(NAME, SHELL-CONDITION)\n-# -------------------------------------\n-# Define a conditional.\n-AC_DEFUN([AM_CONDITIONAL],\n-[AC_PREREQ(2.52)dnl\n- ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],\n-\t[$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl\n-AC_SUBST([$1_TRUE])\n-AC_SUBST([$1_FALSE])\n-if $2; then\n-  $1_TRUE=\n-  $1_FALSE='#'\n-else\n-  $1_TRUE='#'\n-  $1_FALSE=\n-fi\n-AC_CONFIG_COMMANDS_PRE(\n-[if test -z \"${$1_TRUE}\" && test -z \"${$1_FALSE}\"; then\n-  AC_MSG_ERROR([[conditional \"$1\" was never defined.\n-Usually this means the macro was only invoked conditionally.]])\n-fi])])\n-\n-# serial 7\t\t\t\t\t\t-*- Autoconf -*-\n-\n-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-\n-# There are a few dirty hacks below to avoid letting `AC_PROG_CC' be\n-# written in clear, in which case automake, when reading aclocal.m4,\n-# will think it sees a *use*, and therefore will trigger all it's\n-# C support machinery.  Also note that it means that autoscan, seeing\n-# CC etc. in the Makefile, will ask for an AC_PROG_CC use...\n-\n-\n-\n-# _AM_DEPENDENCIES(NAME)\n-# ----------------------\n-# See how the compiler implements dependency checking.\n-# NAME is \"CC\", \"CXX\", \"GCJ\", or \"OBJC\".\n-# We try a few techniques and use that to set a single cache variable.\n-#\n-# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was\n-# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular\n-# dependency, and given that the user is not expected to run this macro,\n-# just rely on AC_PROG_CC.\n-AC_DEFUN([_AM_DEPENDENCIES],\n-[AC_REQUIRE([AM_SET_DEPDIR])dnl\n-AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl\n-AC_REQUIRE([AM_MAKE_INCLUDE])dnl\n-AC_REQUIRE([AM_DEP_TRACK])dnl\n-\n-ifelse([$1], CC,   [depcc=\"$CC\"   am_compiler_list=],\n-       [$1], CXX,  [depcc=\"$CXX\"  am_compiler_list=],\n-       [$1], OBJC, [depcc=\"$OBJC\" am_compiler_list='gcc3 gcc'],\n-       [$1], GCJ,  [depcc=\"$GCJ\"  am_compiler_list='gcc3 gcc'],\n-                   [depcc=\"$$1\"   am_compiler_list=])\n-\n-AC_CACHE_CHECK([dependency style of $depcc],\n-               [am_cv_$1_dependencies_compiler_type],\n-[if test -z \"$AMDEP_TRUE\" && test -f \"$am_depcomp\"; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named `D' -- because `-MD' means `put the output\n-  # in D'.\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \"$am_depcomp\" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_$1_dependencies_compiler_type=none\n-  if test \"$am_compiler_list\" = \"\"; then\n-     am_compiler_list=`sed -n ['s/^#*\\([a-zA-Z0-9]*\\))$/\\1/p'] < ./depcomp`\n-  fi\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \"conftst'$i'.h\"' >> sub/conftest.c\n-      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with\n-      # Solaris 8's {/usr,}/bin/sh.\n-      touch sub/conftst$i.h\n-    done\n-    echo \"${am__include} ${am__quote}sub/conftest.Po${am__quote}\" > confmf\n-\n-    case $depmode in\n-    nosideeffect)\n-      # after this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested\n-      if test \"x$enable_dependency_tracking\" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    none) break ;;\n-    esac\n-    # We check with `-c' and `-o' for the sake of the \"dashmstdout\"\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle `-M -o', and we need to detect this.\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_$1_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_$1_dependencies_compiler_type=none\n-fi\n-])\n-AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])\n-AM_CONDITIONAL([am__fastdep$1], [\n-  test \"x$enable_dependency_tracking\" != xno \\\n-  && test \"$am_cv_$1_dependencies_compiler_type\" = gcc3])\n-])\n-\n-\n-# AM_SET_DEPDIR\n-# -------------\n-# Choose a directory name for dependency files.\n-# This macro is AC_REQUIREd in _AM_DEPENDENCIES\n-AC_DEFUN([AM_SET_DEPDIR],\n-[AC_REQUIRE([AM_SET_LEADING_DOT])dnl\n-AC_SUBST([DEPDIR], [\"${am__leading_dot}deps\"])dnl\n-])\n-\n-\n-# AM_DEP_TRACK\n-# ------------\n-AC_DEFUN([AM_DEP_TRACK],\n-[AC_ARG_ENABLE(dependency-tracking,\n-[  --disable-dependency-tracking  speeds up one-time build\n-  --enable-dependency-tracking   do not reject slow dependency extractors])\n-if test \"x$enable_dependency_tracking\" != xno; then\n-  am_depcomp=\"$ac_aux_dir/depcomp\"\n-  AMDEPBACKSLASH='\\'\n-fi\n-AM_CONDITIONAL([AMDEP], [test \"x$enable_dependency_tracking\" != xno])\n-AC_SUBST([AMDEPBACKSLASH])\n-])\n-\n-# Generate code to set up dependency tracking.   -*- Autoconf -*-\n-\n-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004\n-#   Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-#serial 2\n-\n-# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-# ------------------------------\n-AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[for mf in $CONFIG_FILES; do\n-  # Strip MF so we end up with the name of the file.\n-  mf=`echo \"$mf\" | sed -e 's/:.*$//'`\n-  # Check whether this is an Automake generated Makefile or not.\n-  # We used to match only the files named `Makefile.in', but\n-  # some people rename them; so instead we look at the file content.\n-  # Grep'ing the first line is not enough: some people post-process\n-  # each Makefile.in and add a new line on top of each file to say so.\n-  # So let's grep whole file.\n-  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then\n-    dirpart=`AS_DIRNAME(\"$mf\")`\n-  else\n-    continue\n-  fi\n-  # Extract the definition of DEPDIR, am__include, and am__quote\n-  # from the Makefile without running `make'.\n-  DEPDIR=`sed -n 's/^DEPDIR = //p' < \"$mf\"`\n-  test -z \"$DEPDIR\" && continue\n-  am__include=`sed -n 's/^am__include = //p' < \"$mf\"`\n-  test -z \"am__include\" && continue\n-  am__quote=`sed -n 's/^am__quote = //p' < \"$mf\"`\n-  # When using ansi2knr, U may be empty or an underscore; expand it\n-  U=`sed -n 's/^U = //p' < \"$mf\"`\n-  # Find all dependency output files, they are included files with\n-  # $(DEPDIR) in their names.  We invoke sed twice because it is the\n-  # simplest approach to changing $(DEPDIR) to its actual value in the\n-  # expansion.\n-  for file in `sed -n \"\n-    s/^$am__include $am__quote\\(.*(DEPDIR).*\\)$am__quote\"'$/\\1/p' <\"$mf\" | \\\n-       sed -e 's/\\$(DEPDIR)/'\"$DEPDIR\"'/g' -e 's/\\$U/'\"$U\"'/g'`; do\n-    # Make sure the directory exists.\n-    test -f \"$dirpart/$file\" && continue\n-    fdir=`AS_DIRNAME([\"$file\"])`\n-    AS_MKDIR_P([$dirpart/$fdir])\n-    # echo \"creating $dirpart/$file\"\n-    echo '# dummy' > \"$dirpart/$file\"\n-  done\n-done\n-])# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-\n-\n-# AM_OUTPUT_DEPENDENCY_COMMANDS\n-# -----------------------------\n-# This macro should only be invoked once -- use via AC_REQUIRE.\n-#\n-# This code is only required when automatic dependency tracking\n-# is enabled.  FIXME.  This creates each `.P' file that we will\n-# need in order to bootstrap the dependency handling code.\n-AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[AC_CONFIG_COMMANDS([depfiles],\n-     [test x\"$AMDEP_TRUE\" != x\"\" || _AM_OUTPUT_DEPENDENCY_COMMANDS],\n-     [AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"])\n-])\n-\n-# Like AC_CONFIG_HEADER, but automatically create stamp file. -*- Autoconf -*-\n-\n-# Copyright (C) 1996, 1997, 2000, 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 7\n-\n-# AM_CONFIG_HEADER is obsolete.  It has been replaced by AC_CONFIG_HEADERS.\n-AU_DEFUN([AM_CONFIG_HEADER], [AC_CONFIG_HEADERS($@)])\n-\n-# Do all the work for Automake.                            -*- Autoconf -*-\n-\n-# This macro actually does too much some checks are only needed if\n-# your package does certain things.  But this isn't really a big deal.\n-\n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 11\n-\n-# AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])\n-# AM_INIT_AUTOMAKE([OPTIONS])\n-# -----------------------------------------------\n-# The call with PACKAGE and VERSION arguments is the old style\n-# call (pre autoconf-2.50), which is being phased out.  PACKAGE\n-# and VERSION should now be passed to AC_INIT and removed from\n-# the call to AM_INIT_AUTOMAKE.\n-# We support both call styles for the transition.  After\n-# the next Automake release, Autoconf can make the AC_INIT\n-# arguments mandatory, and then we can depend on a new Autoconf\n-# release and drop the old call support.\n-AC_DEFUN([AM_INIT_AUTOMAKE],\n-[AC_PREREQ([2.58])dnl\n-dnl Autoconf wants to disallow AM_ names.  We explicitly allow\n-dnl the ones we care about.\n-m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl\n-AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl\n-AC_REQUIRE([AC_PROG_INSTALL])dnl\n-# test to see if srcdir already configured\n-if test \"`cd $srcdir && pwd`\" != \"`pwd`\" &&\n-   test -f $srcdir/config.status; then\n-  AC_MSG_ERROR([source directory already configured; run \"make distclean\" there first])\n-fi\n-\n-# test whether we have cygpath\n-if test -z \"$CYGPATH_W\"; then\n-  if (cygpath --version) >/dev/null 2>/dev/null; then\n-    CYGPATH_W='cygpath -w'\n-  else\n-    CYGPATH_W=echo\n-  fi\n-fi\n-AC_SUBST([CYGPATH_W])\n-\n-# Define the identity of the package.\n-dnl Distinguish between old-style and new-style calls.\n-m4_ifval([$2],\n-[m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl\n- AC_SUBST([PACKAGE], [$1])dnl\n- AC_SUBST([VERSION], [$2])],\n-[_AM_SET_OPTIONS([$1])dnl\n- AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl\n- AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl\n-\n-_AM_IF_OPTION([no-define],,\n-[AC_DEFINE_UNQUOTED(PACKAGE, \"$PACKAGE\", [Name of package])\n- AC_DEFINE_UNQUOTED(VERSION, \"$VERSION\", [Version number of package])])dnl\n-\n-# Some tools Automake needs.\n-AC_REQUIRE([AM_SANITY_CHECK])dnl\n-AC_REQUIRE([AC_ARG_PROGRAM])dnl\n-AM_MISSING_PROG(ACLOCAL, aclocal-${am__api_version})\n-AM_MISSING_PROG(AUTOCONF, autoconf)\n-AM_MISSING_PROG(AUTOMAKE, automake-${am__api_version})\n-AM_MISSING_PROG(AUTOHEADER, autoheader)\n-AM_MISSING_PROG(MAKEINFO, makeinfo)\n-AM_PROG_INSTALL_SH\n-AM_PROG_INSTALL_STRIP\n-AC_REQUIRE([AM_PROG_MKDIR_P])dnl\n-# We need awk for the \"check\" target.  The system \"awk\" is bad on\n-# some platforms.\n-AC_REQUIRE([AC_PROG_AWK])dnl\n-AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n-AC_REQUIRE([AM_SET_LEADING_DOT])dnl\n-_AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])],\n-              [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],\n-\t      \t\t     [_AM_PROG_TAR([v7])])])\n-_AM_IF_OPTION([no-dependencies],,\n-[AC_PROVIDE_IFELSE([AC_PROG_CC],\n-                  [_AM_DEPENDENCIES(CC)],\n-                  [define([AC_PROG_CC],\n-                          defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl\n-AC_PROVIDE_IFELSE([AC_PROG_CXX],\n-                  [_AM_DEPENDENCIES(CXX)],\n-                  [define([AC_PROG_CXX],\n-                          defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl\n-])\n-])\n-\n-\n-# When config.status generates a header, we must update the stamp-h file.\n-# This file resides in the same directory as the config header\n-# that is generated.  The stamp files are numbered to have different names.\n-\n-# Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the\n-# loop where config.status creates the headers, so we can generate\n-# our stamp files there.\n-AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],\n-[# Compute $1's index in $config_headers.\n-_am_stamp_count=1\n-for _am_header in $config_headers :; do\n-  case $_am_header in\n-    $1 | $1:* )\n-      break ;;\n-    * )\n-      _am_stamp_count=`expr $_am_stamp_count + 1` ;;\n-  esac\n-done\n-echo \"timestamp for $1\" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])\n-\n-# AM_PROG_INSTALL_SH\n-# ------------------\n-# Define $install_sh.\n-\n-# Copyright (C) 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-AC_DEFUN([AM_PROG_INSTALL_SH],\n-[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n-install_sh=${install_sh-\"$am_aux_dir/install-sh\"}\n-AC_SUBST(install_sh)])\n-\n-#                                                          -*- Autoconf -*-\n-# Copyright (C) 2003  Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 1\n-\n-# Check whether the underlying file-system supports filenames\n-# with a leading dot.  For instance MS-DOS doesn't.\n-AC_DEFUN([AM_SET_LEADING_DOT],\n-[rm -rf .tst 2>/dev/null\n-mkdir .tst 2>/dev/null\n-if test -d .tst; then\n-  am__leading_dot=.\n-else\n-  am__leading_dot=_\n-fi\n-rmdir .tst 2>/dev/null\n-AC_SUBST([am__leading_dot])])\n-\n-# Add --enable-maintainer-mode option to configure.\n-# From Jim Meyering\n-\n-# Copyright (C) 1996, 1998, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 3\n-\n-AC_DEFUN([AM_MAINTAINER_MODE],\n-[AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n-  dnl maintainer-mode is disabled by default\n-  AC_ARG_ENABLE(maintainer-mode,\n-[  --enable-maintainer-mode  enable make rules and dependencies not useful\n-\t\t\t  (and sometimes confusing) to the casual installer],\n-      USE_MAINTAINER_MODE=$enableval,\n-      USE_MAINTAINER_MODE=no)\n-  AC_MSG_RESULT([$USE_MAINTAINER_MODE])\n-  AM_CONDITIONAL(MAINTAINER_MODE, [test $USE_MAINTAINER_MODE = yes])\n-  MAINT=$MAINTAINER_MODE_TRUE\n-  AC_SUBST(MAINT)dnl\n-]\n-)\n-\n-AU_DEFUN([jm_MAINTAINER_MODE], [AM_MAINTAINER_MODE])\n-\n-# Check to see how 'make' treats includes.\t-*- Autoconf -*-\n-\n-# Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 2\n-\n-# AM_MAKE_INCLUDE()\n-# -----------------\n-# Check to see how make treats includes.\n-AC_DEFUN([AM_MAKE_INCLUDE],\n-[am_make=${MAKE-make}\n-cat > confinc << 'END'\n-am__doit:\n-\t@echo done\n-.PHONY: am__doit\n-END\n-# If we don't find an include directive, just comment out the code.\n-AC_MSG_CHECKING([for style of include used by $am_make])\n-am__include=\"#\"\n-am__quote=\n-_am_result=none\n-# First try GNU make style include.\n-echo \"include confinc\" > confmf\n-# We grep out `Entering directory' and `Leaving directory'\n-# messages which can occur if `w' ends up in MAKEFLAGS.\n-# In particular we don't look at `^make:' because GNU make might\n-# be invoked under some other name (usually \"gmake\"), in which\n-# case it prints its new name instead of `make'.\n-if test \"`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`\" = \"done\"; then\n-   am__include=include\n-   am__quote=\n-   _am_result=GNU\n-fi\n-# Now try BSD make style include.\n-if test \"$am__include\" = \"#\"; then\n-   echo '.include \"confinc\"' > confmf\n-   if test \"`$am_make -s -f confmf 2> /dev/null`\" = \"done\"; then\n-      am__include=.include\n-      am__quote=\"\\\"\"\n-      _am_result=BSD\n-   fi\n-fi\n-AC_SUBST([am__include])\n-AC_SUBST([am__quote])\n-AC_MSG_RESULT([$_am_result])\n-rm -f confinc confmf\n-])\n-\n-#  -*- Autoconf -*-\n-\n-\n-# Copyright (C) 1997, 1999, 2000, 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 3\n-\n-# AM_MISSING_PROG(NAME, PROGRAM)\n-# ------------------------------\n-AC_DEFUN([AM_MISSING_PROG],\n-[AC_REQUIRE([AM_MISSING_HAS_RUN])\n-$1=${$1-\"${am_missing_run}$2\"}\n-AC_SUBST($1)])\n-\n-\n-# AM_MISSING_HAS_RUN\n-# ------------------\n-# Define MISSING if not defined so far and test if it supports --run.\n-# If it does, set am_missing_run to use it, otherwise, to nothing.\n-AC_DEFUN([AM_MISSING_HAS_RUN],\n-[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n-test x\"${MISSING+set}\" = xset || MISSING=\"\\${SHELL} $am_aux_dir/missing\"\n-# Use eval to expand $SHELL\n-if eval \"$MISSING --run true\"; then\n-  am_missing_run=\"$MISSING --run \"\n-else\n-  am_missing_run=\n-  AC_MSG_WARN([`missing' script is too old or missing])\n-fi\n-])\n-\n-# AM_PROG_MKDIR_P\n-# ---------------\n-# Check whether `mkdir -p' is supported, fallback to mkinstalldirs otherwise.\n-\n-# Copyright (C) 2003, 2004 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# Automake 1.8 used `mkdir -m 0755 -p --' to ensure that directories\n-# created by `make install' are always world readable, even if the\n-# installer happens to have an overly restrictive umask (e.g. 077).\n-# This was a mistake.  There are at least two reasons why we must not\n-# use `-m 0755':\n-#   - it causes special bits like SGID to be ignored,\n-#   - it may be too restrictive (some setups expect 775 directories).\n-#\n-# Do not use -m 0755 and let people choose whatever they expect by\n-# setting umask.\n-#\n-# We cannot accept any implementation of `mkdir' that recognizes `-p'.\n-# Some implementations (such as Solaris 8's) are not thread-safe: if a\n-# parallel make tries to run `mkdir -p a/b' and `mkdir -p a/c'\n-# concurrently, both version can detect that a/ is missing, but only\n-# one can create it and the other will error out.  Consequently we\n-# restrict ourselves to GNU make (using the --version option ensures\n-# this.)\n-AC_DEFUN([AM_PROG_MKDIR_P],\n-[if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then\n-  # We used to keeping the `.' as first argument, in order to\n-  # allow $(mkdir_p) to be used without argument.  As in\n-  #   $(mkdir_p) $(somedir)\n-  # where $(somedir) is conditionally defined.  However this is wrong\n-  # for two reasons:\n-  #  1. if the package is installed by a user who cannot write `.'\n-  #     make install will fail,\n-  #  2. the above comment should most certainly read\n-  #     $(mkdir_p) $(DESTDIR)$(somedir)\n-  #     so it does not work when $(somedir) is undefined and\n-  #     $(DESTDIR) is not.\n-  #  To support the latter case, we have to write\n-  #     test -z \"$(somedir)\" || $(mkdir_p) $(DESTDIR)$(somedir),\n-  #  so the `.' trick is pointless.\n-  mkdir_p='mkdir -p --'\n-else\n-  # On NextStep and OpenStep, the `mkdir' command does not\n-  # recognize any option.  It will interpret all options as\n-  # directories to create, and then abort because `.' already\n-  # exists.\n-  for d in ./-p ./--version;\n-  do\n-    test -d $d && rmdir $d\n-  done\n-  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.\n-  if test -f \"$ac_aux_dir/mkinstalldirs\"; then\n-    mkdir_p='$(mkinstalldirs)'\n-  else\n-    mkdir_p='$(install_sh) -d'\n-  fi\n-fi\n-AC_SUBST([mkdir_p])])\n-\n-# Helper functions for option handling.                    -*- Autoconf -*-\n-\n-# Copyright (C) 2001, 2002, 2003  Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 2\n-\n-# _AM_MANGLE_OPTION(NAME)\n-# -----------------------\n-AC_DEFUN([_AM_MANGLE_OPTION],\n-[[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])\n-\n-# _AM_SET_OPTION(NAME)\n-# ------------------------------\n-# Set option NAME.  Presently that only means defining a flag for this option.\n-AC_DEFUN([_AM_SET_OPTION],\n-[m4_define(_AM_MANGLE_OPTION([$1]), 1)])\n-\n-# _AM_SET_OPTIONS(OPTIONS)\n-# ----------------------------------\n-# OPTIONS is a space-separated list of Automake options.\n-AC_DEFUN([_AM_SET_OPTIONS],\n-[AC_FOREACH([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])\n-\n-# _AM_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])\n-# -------------------------------------------\n-# Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.\n-AC_DEFUN([_AM_IF_OPTION],\n-[m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])\n-\n-#\n-# Check to make sure that the build environment is sane.\n-#\n-\n-# Copyright (C) 1996, 1997, 2000, 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 3\n-\n-# AM_SANITY_CHECK\n-# ---------------\n-AC_DEFUN([AM_SANITY_CHECK],\n-[AC_MSG_CHECKING([whether build environment is sane])\n-# Just in case\n-sleep 1\n-echo timestamp > conftest.file\n-# Do `set' in a subshell so we don't clobber the current shell's\n-# arguments.  Must try -L first in case configure is actually a\n-# symlink; some systems play weird games with the mod time of symlinks\n-# (eg FreeBSD returns the mod time of the symlink's containing\n-# directory).\n-if (\n-   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`\n-   if test \"$[*]\" = \"X\"; then\n-      # -L didn't work.\n-      set X `ls -t $srcdir/configure conftest.file`\n-   fi\n-   rm -f conftest.file\n-   if test \"$[*]\" != \"X $srcdir/configure conftest.file\" \\\n-      && test \"$[*]\" != \"X conftest.file $srcdir/configure\"; then\n-\n-      # If neither matched, then we have a broken ls.  This can happen\n-      # if, for instance, CONFIG_SHELL is bash and it inherits a\n-      # broken ls alias from the environment.  This has actually\n-      # happened.  Such a system could not be considered \"sane\".\n-      AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken\n-alias in your environment])\n-   fi\n-\n-   test \"$[2]\" = conftest.file\n-   )\n-then\n-   # Ok.\n-   :\n-else\n-   AC_MSG_ERROR([newly created file is older than distributed files!\n-Check your system clock])\n-fi\n-AC_MSG_RESULT(yes)])\n-\n-# AM_PROG_INSTALL_STRIP\n-\n-# Copyright (C) 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# One issue with vendor `install' (even GNU) is that you can't\n-# specify the program used to strip binaries.  This is especially\n-# annoying in cross-compiling environments, where the build's strip\n-# is unlikely to handle the host's binaries.\n-# Fortunately install-sh will honor a STRIPPROG variable, so we\n-# always use install-sh in `make install-strip', and initialize\n-# STRIPPROG with the value of the STRIP variable (set by the user).\n-AC_DEFUN([AM_PROG_INSTALL_STRIP],\n-[AC_REQUIRE([AM_PROG_INSTALL_SH])dnl\n-# Installed binaries are usually stripped using `strip' when the user\n-# run `make install-strip'.  However `strip' might not be the right\n-# tool to use in cross-compilation environments, therefore Automake\n-# will honor the `STRIP' environment variable to overrule this program.\n-dnl Don't test for $cross_compiling = yes, because it might be `maybe'.\n-if test \"$cross_compiling\" != no; then\n-  AC_CHECK_TOOL([STRIP], [strip], :)\n-fi\n-INSTALL_STRIP_PROGRAM=\"\\${SHELL} \\$(install_sh) -c -s\"\n-AC_SUBST([INSTALL_STRIP_PROGRAM])])\n-\n-# Check how to create a tarball.                            -*- Autoconf -*-\n-\n-# Copyright (C) 2004  Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 1\n-\n-\n-# _AM_PROG_TAR(FORMAT)\n-# --------------------\n-# Check how to create a tarball in format FORMAT.\n-# FORMAT should be one of `v7', `ustar', or `pax'.\n-#\n-# Substitute a variable $(am__tar) that is a command\n-# writing to stdout a FORMAT-tarball containing the directory\n-# $tardir.\n-#     tardir=directory && $(am__tar) > result.tar\n-#\n-# Substitute a variable $(am__untar) that extract such\n-# a tarball read from stdin.\n-#     $(am__untar) < result.tar\n-AC_DEFUN([_AM_PROG_TAR],\n-[# Always define AMTAR for backward compatibility.\n-AM_MISSING_PROG([AMTAR], [tar])\n-m4_if([$1], [v7],\n-     [am__tar='${AMTAR} chof - \"$$tardir\"'; am__untar='${AMTAR} xf -'],\n-     [m4_case([$1], [ustar],, [pax],,\n-              [m4_fatal([Unknown tar format])])\n-AC_MSG_CHECKING([how to create a $1 tar archive])\n-# Loop over all known methods to create a tar archive until one works.\n-_am_tools='gnutar m4_if([$1], [ustar], [plaintar]) pax cpio none'\n-_am_tools=${am_cv_prog_tar_$1-$_am_tools}\n-# Do not fold the above two line into one, because Tru64 sh and\n-# Solaris sh will not grok spaces in the rhs of `-'.\n-for _am_tool in $_am_tools\n-do\n-  case $_am_tool in\n-  gnutar)\n-    for _am_tar in tar gnutar gtar;\n-    do\n-      AM_RUN_LOG([$_am_tar --version]) && break\n-    done\n-    am__tar=\"$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - \"'\"$$tardir\"'\n-    am__tar_=\"$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - \"'\"$tardir\"'\n-    am__untar=\"$_am_tar -xf -\"\n-    ;;\n-  plaintar)\n-    # Must skip GNU tar: if it does not support --format= it doesn't create\n-    # ustar tarball either.\n-    (tar --version) >/dev/null 2>&1 && continue\n-    am__tar='tar chf - \"$$tardir\"'\n-    am__tar_='tar chf - \"$tardir\"'\n-    am__untar='tar xf -'\n-    ;;\n-  pax)\n-    am__tar='pax -L -x $1 -w \"$$tardir\"'\n-    am__tar_='pax -L -x $1 -w \"$tardir\"'\n-    am__untar='pax -r'\n-    ;;\n-  cpio)\n-    am__tar='find \"$$tardir\" -print | cpio -o -H $1 -L'\n-    am__tar_='find \"$tardir\" -print | cpio -o -H $1 -L'\n-    am__untar='cpio -i -H $1 -d'\n-    ;;\n-  none)\n-    am__tar=false\n-    am__tar_=false\n-    am__untar=false\n-    ;;\n-  esac\n-\n-  # If the value was cached, stop now.  We just wanted to have am__tar\n-  # and am__untar set.\n-  test -n \"${am_cv_prog_tar_$1}\" && break\n-\n-  # tar/untar a dummy directory, and stop if the command works\n-  rm -rf conftest.dir\n-  mkdir conftest.dir\n-  echo GrepMe > conftest.dir/file\n-  AM_RUN_LOG([tardir=conftest.dir && eval $am__tar_ >conftest.tar])\n-  rm -rf conftest.dir\n-  if test -s conftest.tar; then\n-    AM_RUN_LOG([$am__untar <conftest.tar])\n-    grep GrepMe conftest.dir/file >/dev/null 2>&1 && break\n-  fi\n-done\n-rm -rf conftest.dir\n-\n-AC_CACHE_VAL([am_cv_prog_tar_$1], [am_cv_prog_tar_$1=$_am_tool])\n-AC_MSG_RESULT([$am_cv_prog_tar_$1])])\n-AC_SUBST([am__tar])\n-AC_SUBST([am__untar])\n-]) # _AM_PROG_TAR\n-\n-m4_include([acinclude.m4])"}, {"sha": "84b3dad17686a24fc9876d81dc74b3f45f117cea", "filename": "fastjar/compress.c", "status": "removed", "additions": 0, "deletions": 562, "changes": 562, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fcompress.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fcompress.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fcompress.c?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,562 +0,0 @@\n-/* $Id: compress.c,v 1.2 2000/12/14 18:45:35 ghazi Exp $\n-\n-   $Log: compress.c,v $\n-   Revision 1.2  2000/12/14 18:45:35  ghazi\n-   Warning fixes:\n-\n-   \t* compress.c: Include stdlib.h and compress.h.\n-   \t(rcsid): Delete.\n-   \t(report_str_error): Make static.\n-   \t(ez_inflate_str): Delete unused variable.  Add parens in if-stmt.\n-   \t(hrd_inflate_str): Likewise.\n-\n-   \t* compress.h (init_compression, end_compression, init_inflation,\n-   \tend_inflation): Prototype void arguments.\n-\n-   \t* dostime.c (rcsid): Delete.\n-\n-   \t* jargrep.c: Include ctype.h, stdlib.h, zlib.h and compress.h.\n-   \tMake functions static.  Cast ctype function argument to `unsigned\n-   \tchar'.  Add parens in if-stmts.  Constify.\n-   \t(Usage): Change into a macro.\n-   \t(jargrep): Remove unused parameter.\n-\n-   \t* jartool.c: Constify.  Add parens in if-stmts.  Align\n-   \tsigned/unsigned char pointers in functions calls using casts.\n-   \t(rcsid): Delete.\n-   \t(list_jar): Fix printf format specifier.\n-   \t(usage): Chop long string into bits.  Reformat.\n-\n-   \t* pushback.c (rcsid): Delete.\n-\n-   Revision 1.1  2000/12/09 03:08:23  apbianco\n-   2000-12-08  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-           * fastjar: Imported.\n-\n-   Revision 1.7  2000/09/13 14:02:02  cory\n-   Reformatted some of the code to more closly match the layout of the orriginal\n-   fastjar utility.\n-\n-   Revision 1.6  2000/09/12 22:29:36  cory\n-   Jargrep now seems to do what I want it to do.  Performs properly on Linux x86,\n-   will test some other platforms later.\n-\n-   Revision 1.1.1.1  1999/12/06 03:09:16  toast\n-   initial checkin..\n-\n-\n-\n-   Revision 1.7  1999/05/10 08:50:05  burnsbr\n-   *** empty log message ***\n-\n-   Revision 1.6  1999/05/10 08:38:44  burnsbr\n-   *** empty log message ***\n-\n-   Revision 1.5  1999/05/10 08:30:29  burnsbr\n-   added inflation code\n-\n-   Revision 1.4  1999/04/27 10:03:33  burnsbr\n-   added configure support\n-\n-   Revision 1.3  1999/04/26 02:35:32  burnsbr\n-   compression now works.. yahoo\n-\n-   Revision 1.2  1999/04/23 12:01:59  burnsbr\n-   added licence stuff.\n-\n-   Revision 1.1  1999/04/23 11:58:25  burnsbr\n-   Initial revision\n-\n-\n-*/\n-\n-/*\n-  compress.c - code for handling deflation\n-  Copyright (C) 1999  Bryan Burns\n-  Copyright (C) 2004  Free Software Foundation, Inc.\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n- */\n-\n-#include \"config.h\"\n-\n-#include <zlib.h>\n-#include <string.h>\n-#include <stdio.h>\n-#include <errno.h>\n-\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifdef STDC_HEADERS\n-#include <stdlib.h>\n-#endif\n-\n-#include <sys/types.h>\n-\n-#include \"jartool.h\"\n-#include \"pushback.h\"\n-#include \"compress.h\"\n-#include \"shift.h\"\n-\n-int write_data (int, void *, size_t, struct zipentry *);\n-\n-extern int seekable;\n-extern off_t end_of_entries;\n-\n-static z_stream zs;\n-\n-void init_compression(){\n-\n-  memset(&zs, 0, sizeof(z_stream));\n-\n-  zs.zalloc = Z_NULL;\n-  zs.zfree = Z_NULL;\n-  zs.opaque = Z_NULL;\n-\n-  /* Why -MAX_WBITS?  zlib has an undocumented feature, where if the windowbits\n-     parameter is negative, it omits the zlib header, which seems to kill\n-     any other zip/unzip program.  This caused me SO much pain.. */\n-  if(deflateInit2(&zs, Z_DEFAULT_COMPRESSION, Z_DEFLATED, -MAX_WBITS, \n-                  9, Z_DEFAULT_STRATEGY) != Z_OK){\n-    \n-    fprintf(stderr, \"Error initializing deflation!\\n\");\n-    exit(1);\n-  }\n-}\n-\n-int\n-write_data (int fd, void *buf, size_t len,\n-\t    struct zipentry *ze __attribute__((unused)))\n-{\n-#ifdef WITH_SHIFT_DOWN\n-  struct zipentry *next = NULL;\n-  off_t here = lseek (fd, 0, SEEK_CUR);\n-  /*\n-   * If we are updating and there is not enough space before the next\n-   * entry, expand the file.\n-   */\n-  if (ze)\n-    {\n-      next = ze->next_entry;\n-      if (next && here + len >= next->offset)\n-\t{\n-\t  if (shift_down (fd, next->offset, (here + len) - next->offset, next))\n-\t    {\n-\t      perror (\"can't expand file\");\n-\t      exit (1);\n-\t    }\n-\t}\n-    }\n-#endif /* WITH_SHIFT_DOWN */\n-\n-  return write (fd, buf, len);\n-}\n-\n-int compress_file(int in_fd, int out_fd, struct zipentry *ze,\n-\t\t  struct zipentry *existing)\n-{\n-  Bytef in_buff[RDSZ];\n-  Bytef out_buff[RDSZ];\n-  unsigned int rdamt, wramt;\n-  unsigned long tr = 0;\n-  int rtval;\n-\n-  rdamt = 0;\n-\n-  zs.avail_in = 0;\n-  zs.next_in = in_buff;\n-  \n-  zs.next_out = out_buff;\n-  zs.avail_out = (uInt)RDSZ;\n-  \n-  ze->crc = crc32(0L, Z_NULL, 0); \n-  \n-  for(; ;){\n-    \n-    /* If deflate is out of input, fill the input buffer for it */\n-    if(zs.avail_in == 0 && zs.avail_out > 0){\n-      if((rtval = read(in_fd, in_buff, RDSZ)) == 0)\n-        break;\n-\n-      if(rtval == -1){\n-        perror(\"read\");\n-        exit(1);\n-      }\n-\n-      rdamt = rtval;\n-\n-      /* compute the CRC while we're at it */\n-      ze->crc = crc32(ze->crc, in_buff, rdamt); \n-\n-      /* update the total amount read sofar */\n-      tr += rdamt;\n-\n-      zs.next_in = in_buff;\n-      zs.avail_in = rdamt;\n-    }\n-    \n-    /* deflate the data */\n-    if(deflate(&zs, 0) != Z_OK){\n-      fprintf(stderr, \"Error deflating! %s:%d\\n\", __FILE__, __LINE__);\n-      exit(1);\n-    }\n-    \n-    /* If the output buffer is full, dump it to disk */\n-    if(zs.avail_out == 0){\n-\n-      if (write_data (out_fd, out_buff, RDSZ, existing) != RDSZ)\n-\t{\n-\t  perror(\"write\");\n-\t  exit(1);\n-\t}\n-\n-      /* clear the output buffer */\n-      zs.next_out = out_buff;\n-      zs.avail_out = (uInt)RDSZ;\n-    }\n-\n-  }\n-  \n-  /* If we have any data waiting in the buffer after we're done with the file\n-     we can flush it */\n-  if(zs.avail_out < RDSZ){\n-\n-    wramt = RDSZ - zs.avail_out;\n-\n-    if (write_data (out_fd, out_buff, wramt, existing) != (int)wramt)\n-      {\n-\tperror(\"write\");\n-\texit(1);\n-      }\n-    /* clear the output buffer */\n-    zs.next_out = out_buff;\n-    zs.avail_out = (uInt)RDSZ;\n-  }\n-  \n-\n-  /* finish deflation.  This purges zlib's internal data buffers */\n-  while(deflate(&zs, Z_FINISH) == Z_OK){\n-    wramt = RDSZ - zs.avail_out;\n-\n-    if (write_data (out_fd, out_buff, wramt, existing) != (int)wramt)\n-      {\n-\tperror(\"write\");\n-\texit(1);\n-      }\n-\n-    zs.next_out = out_buff;\n-    zs.avail_out = (uInt)RDSZ;\n-  }\n-\n-  /* If there's any data left in the buffer, write it out */\n-  if(zs.avail_out != RDSZ){\n-    wramt = RDSZ - zs.avail_out;\n-\n-    if (write_data (out_fd, out_buff, wramt, existing) != (int)wramt)\n-      {\n-\tperror(\"write\");\n-\texit(1);\n-      }\n-  }\n-\n-  /* update fastjar's entry information */\n-  ze->usize = (ub4)zs.total_in;\n-  ze->csize = (ub4)zs.total_out;\n-\n-  /* Reset the deflation for the next time around */\n-  if(deflateReset(&zs) != Z_OK){\n-    fprintf(stderr, \"Error resetting deflation\\n\");\n-    exit(1);\n-  }\n-  \n-  return 0;\n-}\n-\n-void end_compression(){\n-  int rtval;\n-\n-  /* Oddly enough, zlib always returns Z_DATA_ERROR if you specify no\n-     zlib header.  Go fig. */\n-  if((rtval = deflateEnd(&zs)) != Z_OK && rtval != Z_DATA_ERROR){\n-    fprintf(stderr, \"Error calling deflateEnd\\n\");\n-    fprintf(stderr, \"error: (%d) %s\\n\", rtval, zs.msg);\n-    exit(1);\n-  }\n-}\n-\n-\n-void init_inflation(){\n-\n-  memset(&zs, 0, sizeof(z_stream));\n-    \n-  zs.zalloc = Z_NULL;\n-  zs.zfree = Z_NULL;\n-  zs.opaque = Z_NULL;\n-  \n-  if(inflateInit2(&zs, -15) != Z_OK){\n-    fprintf(stderr, \"Error initializing deflation!\\n\");\n-    exit(1);\n-  }\n-\n-}\n-\n-int inflate_file(pb_file *pbf, int out_fd, struct zipentry *ze){\n-  Bytef in_buff[RDSZ];\n-  Bytef out_buff[RDSZ];\n-  unsigned int rdamt;\n-  int rtval;\n-  ub4 crc = 0;\n-\n-  zs.avail_in = 0;\n-\n-  crc = crc32(crc, NULL, 0); /* initialize crc */\n-\n-  /* loop until we've consumed all the compressed data */\n-  for(;;){\n-    \n-    if(zs.avail_in == 0){\n-      if((rdamt = pb_read(pbf, in_buff, RDSZ)) == 0)\n-        break;\n-      else if((int)rdamt < 0){\n-        perror(\"read\");\n-        exit(1);\n-      }\n-\n-#ifdef DEBUG\n-      printf(\"%d bytes read\\n\", rdamt);\n-#endif\n-\n-      zs.next_in = in_buff;\n-      zs.avail_in = rdamt;\n-    }\n-\n-    zs.next_out = out_buff;\n-    zs.avail_out = RDSZ;\n-    \n-    if((rtval = inflate(&zs, 0)) != Z_OK){\n-      if(rtval == Z_STREAM_END){\n-#ifdef DEBUG\n-        printf(\"end of stream\\n\");\n-#endif\n-        if(zs.avail_out != RDSZ){\n-          crc = crc32(crc, out_buff, (RDSZ - zs.avail_out));\n-\n-          if(out_fd >= 0)\n-            if(write(out_fd, out_buff, (RDSZ - zs.avail_out)) != \n-               (int)(RDSZ - zs.avail_out)){\n-              perror(\"write\");\n-              exit(1);\n-            }\n-        }\n-        \n-        break;\n-      } else {\n-        fprintf(stderr, \"Error inflating file! (%d)\\n\", rtval);\n-        exit(1);\n-      }\n-    } else {\n-      if(zs.avail_out != RDSZ){\n-        crc = crc32(crc, out_buff, (RDSZ - zs.avail_out));\n-\n-        if(out_fd >= 0)\n-          if(write(out_fd, out_buff, (RDSZ - zs.avail_out)) != \n-             (int)(RDSZ - zs.avail_out)){\n-            perror(\"write\");\n-            exit(1);\n-          }\n-        zs.next_out = out_buff;\n-        zs.avail_out = RDSZ;\n-      }\n-    }\n-  }\n-#ifdef DEBUG\n-  printf(\"done inflating\\n\");\n-#endif\n-\n-#ifdef DEBUG\n-  printf(\"%d bytes left over\\n\", zs.avail_in);\n-#endif\n-\n-#ifdef DEBUG    \n-  printf(\"CRC is %x\\n\", crc);\n-#endif\n-\n-  ze->crc = crc;\n-  \n-  pb_push(pbf, zs.next_in, zs.avail_in);\n-\n-  ze->usize = zs.total_out;\n-\n-  inflateReset(&zs);\n-  return 0;\n-}\n-\n-/*\n-Function name: report_str_error\n-args:\tval\tError code returned from zlib.\n-purpose: Put out an error message corresponding to error code returned from zlib.\n-Be suitably cryptic seeing I don't really know exactly what these errors mean.\n-*/\n-\n-static void report_str_error(int val) {\n-\tswitch(val) {\n-\tcase Z_STREAM_END:\n-\t\tbreak;\n-\tcase Z_NEED_DICT:\n-\t\tfprintf(stderr, \"Need a dictionary?\\n\");\n-\t\texit(1);\n-\tcase Z_DATA_ERROR:\n-\t\tfprintf(stderr, \"Z_DATA_ERROR\\n\");\n-\t\texit(1);\n-\tcase Z_STREAM_ERROR:\n-\t\tfprintf(stderr, \"Z_STREAM_ERROR\\n\");\n-\t\texit(1);\n-\tcase Z_MEM_ERROR:\n-\t\tfprintf(stderr, \"Z_MEM_ERROR\\n\");\n-\t\texit(1);\n-\tcase Z_BUF_ERROR:\n-\t\tfprintf(stderr, \"Z_BUF_ERROR\\n\");\n-\t\texit(1);\n-\tcase Z_OK:\n-\t\tbreak;\n-\tdefault:\n-\t\tfprintf(stderr, \"Unknown behavior from inflate\\n\");\n-\t\texit(1);\n-\t}\n-}\n-\n-/*\n-Function name: ez_inflate_str\n-args:\tpbf\t\tPointer to pushback handle for file.\n-\t\tcsize\tCompressed size of embedded file.\n-\t\tusize\tUncompressed size of embedded file.\n-purpose: Read in and decompress the contents of an embedded file and store it in a\n-byte array.\n-returns: Byte array of uncompressed embedded file.\n-*/\n-\n-static Bytef *ez_inflate_str(pb_file *pbf, ub4 csize, ub4 usize) {\n-\tBytef *out_buff;\n-\tBytef *in_buff;\n-\tunsigned int rdamt;\n-\n-\tif((zs.next_in = in_buff = (Bytef *) malloc(csize))) {\n-\t\tif((zs.next_out = out_buff = (Bytef *) malloc(usize + 1))) { \n-\t\t\tif((rdamt = pb_read(pbf, zs.next_in, csize)) == csize) {\n-\t\t\t\tzs.avail_in = csize;\n-\t\t\t\tzs.avail_out = usize;\n-\t\t\t\treport_str_error(inflate(&zs, 0));\n-\t\t\t\tfree(in_buff);\n-\t\t\t\tinflateReset(&zs);\n-\t\t\t\tout_buff[usize] = '\\0';\n-\t\t\t}\n-\t\t\telse {\n-\t\t\t\tfprintf(stderr, \"Read failed on input file.\\n\");\n-\t\t\t\tfprintf(stderr, \"Tried to read %u but read %u instead.\\n\", csize, rdamt);\n-\t\t\t\tfree(in_buff);\n-\t\t\t\tfree(out_buff);\n-\t\t\t\texit(1);\n-\t\t\t}\n-\t\t}\n-\t\telse {\n-\t\t\tfprintf(stderr, \"Malloc of out_buff failed.\\n\");\n-\t\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\t\tfree(in_buff);\n-\t\t\texit(1);\n-\t\t}\n-\t}\n-\telse {\n-\t\tfprintf(stderr, \"Malloc of in_buff failed.\\n\");\n-\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\texit(1);\n-\t}\n-\n-\treturn out_buff;\n-}\n-\n-/*\n-Function name: hrd_inflate_str\n-args:\tpbf\t\tPointer to pushback handle for file.\n-\t\tcsize\tPointer to compressed size of embedded file.\n-\t\tusize\tPointer to uncompressed size of embedded file.\n-purpose: Read and decompress an embedded file into a string.  Set csize and usize\n-accordingly.  This function does the reading for us in the case there is not size\n-information in the header for the embedded file.\n-returns: Byte array of the contents of the embedded file.\n-*/\n-\n-static Bytef *hrd_inflate_str(pb_file *pbf, ub4 *csize, ub4 *usize) {\n-\tBytef *out_buff;\n-\tBytef *tmp;\n-\tBytef in_buff[RDSZ];\n-\tunsigned int rdamt;\n-\tint i;\n-\tint zret;\n-\n-\ti = 1; \n-\tout_buff = NULL;\n-\tzret = Z_OK;\n-\twhile(zret != Z_STREAM_END && (rdamt = pb_read(pbf, in_buff, RDSZ)))\n-\t{\n-\t\tzs.avail_in = rdamt;\n-\t\tzs.avail_out = 0;\n-\t\tzs.next_in = in_buff;\n-\t\tdo {\n-\t\t\tif((tmp = (Bytef *) realloc(out_buff, (RDSZ * i) + 1))) {\n-\t\t\t\tout_buff = tmp;\n-\t\t\t\tzs.next_out = &(out_buff[(RDSZ * (i - 1)) - zs.avail_out]);\n-\t\t\t\tzs.avail_out += RDSZ;\n-\t\t\t\ti++;\n-\t\t\t}\n-\t\t\telse {\n-\t\t\t\tfprintf(stderr, \"Realloc of out_buff failed.\\n\");\n-\t\t\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\t\t\texit(1);\n-\t\t\t}\n-\t\t} while((zret = inflate(&zs, 0)) == Z_OK);\n-\t\treport_str_error(zret);\n-\t}\n-\tpb_push(pbf, zs.next_in, zs.avail_in);\n-\n-\tout_buff[(RDSZ * (i - 1)) - zs.avail_out] = '\\0';\n-\t*usize = zs.total_out;\n-\t*csize = zs.total_in;\n-\n-\tinflateReset(&zs);\n-\n-\treturn out_buff;\n-}\n-\n-/*\n-Function name: inflate_string\n-args:\tpbf\t\tPointer to pushback handle for file.\n-\t\tcsize\tPointer to compressed size of embedded file.  May be 0 if not set.\n-\t\tusize\tPointer to uncompressed size of embedded file. May be 0 if not set.\n-purpose: Decide the easiest (in computer terms) methos of decompressing this embedded\n-file to a string.\n-returns: Pointer to a string containing the decompressed contents of the embedded file.\n-If csize and usize are not set set them to correct numbers.\n-*/\n-\n-Bytef *inflate_string(pb_file *pbf, ub4 *csize, ub4 *usize) {\n-Bytef *ret_buf;\n-\n-\tif(*csize && *usize) ret_buf = ez_inflate_str(pbf, *csize, *usize);\n-\telse ret_buf = hrd_inflate_str(pbf, csize, usize);\n-\n-\treturn ret_buf;\n-}"}, {"sha": "bf0b8deceae149494addf150918558a5a5090ef9", "filename": "fastjar/compress.h", "status": "removed", "additions": 0, "deletions": 57, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fcompress.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fcompress.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fcompress.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,57 +0,0 @@\n-/* $Id: compress.h,v 1.1 2000/12/09 03:08:23 apbianco Exp $\n-\n-   $Log: compress.h,v $\n-   Revision 1.1  2000/12/09 03:08:23  apbianco\n-   2000-12-08  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-           * fastjar: Imported.\n-\n-   Revision 1.1.1.1  1999/12/06 03:09:12  toast\n-   initial checkin..\n-\n-\n-\n-   Revision 1.3  1999/05/10 08:32:09  burnsbr\n-   added new function protos.\n-\n-   Revision 1.2  1999/04/23 12:02:20  burnsbr\n-   added licence\n-\n-   Revision 1.1  1999/04/23 11:59:37  burnsbr\n-   Initial revision\n-\n-\n-*/\n-\n-/*\n-  compress.h - header for compression\n-  Copyright (C) 1999  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n- */\n-\n-/* Initializes the compression data structure(s) */\n-void init_compression(void);\n-\n-/* Compresses the file specified by in_fd and appends it to out_fd */\n-int compress_file(int, int, struct zipentry *, struct zipentry *);\n-\n-/* Frees memory used by compression function */\n-void end_compression(void);\n-\n-void init_inflation(void);\n-int inflate_file(pb_file *, int, struct zipentry *);\n-void end_inflation(void);\n-Bytef *inflate_string(pb_file *, ub4 *, ub4 *);"}, {"sha": "330488a5cffd638cabdba573b02ea613fb7320e2", "filename": "fastjar/config.h.in", "status": "removed", "additions": 0, "deletions": 113, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfig.h.in?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,113 +0,0 @@\n-/* config.h.in.  Generated from configure.ac by autoheader.  */\n-\n-/* Define to 1 if you have the <dirent.h> header file, and it defines `DIR'.\n-   */\n-#undef HAVE_DIRENT_H\n-\n-/* Define to 1 if you have the <fcntl.h> header file. */\n-#undef HAVE_FCNTL_H\n-\n-/* Define to 1 if you have the `ftruncate' function. */\n-#undef HAVE_FTRUNCATE\n-\n-/* Define to 1 if you have the <inttypes.h> header file. */\n-#undef HAVE_INTTYPES_H\n-\n-/* Define to 1 if you have the <limits.h> header file. */\n-#undef HAVE_LIMITS_H\n-\n-/* Define to 1 if the system has the type `long long'. */\n-#undef HAVE_LONG_LONG\n-\n-/* Define to 1 if you have the <memory.h> header file. */\n-#undef HAVE_MEMORY_H\n-\n-/* Define to 1 if you have the <ndir.h> header file, and it defines `DIR'. */\n-#undef HAVE_NDIR_H\n-\n-/* Define to 1 if you have the <stdint.h> header file. */\n-#undef HAVE_STDINT_H\n-\n-/* Define to 1 if you have the <stdlib.h> header file. */\n-#undef HAVE_STDLIB_H\n-\n-/* Define to 1 if you have the <strings.h> header file. */\n-#undef HAVE_STRINGS_H\n-\n-/* Define to 1 if you have the <string.h> header file. */\n-#undef HAVE_STRING_H\n-\n-/* Define to 1 if you have the <sys/dir.h> header file, and it defines `DIR'.\n-   */\n-#undef HAVE_SYS_DIR_H\n-\n-/* Define to 1 if you have the <sys/ndir.h> header file, and it defines `DIR'.\n-   */\n-#undef HAVE_SYS_NDIR_H\n-\n-/* Define to 1 if you have the <sys/param.h> header file. */\n-#undef HAVE_SYS_PARAM_H\n-\n-/* Define to 1 if you have the <sys/stat.h> header file. */\n-#undef HAVE_SYS_STAT_H\n-\n-/* Define to 1 if you have the <sys/types.h> header file. */\n-#undef HAVE_SYS_TYPES_H\n-\n-/* Define to 1 if you have the <unistd.h> header file. */\n-#undef HAVE_UNISTD_H\n-\n-/* Define to 1 if you have the `_chsize' function. */\n-#undef HAVE__CHSIZE\n-\n-/* Define if host mkdir takes a single argument. */\n-#undef MKDIR_TAKES_ONE_ARG\n-\n-/* Name of package */\n-#undef PACKAGE\n-\n-/* Define to the address where bug reports for this package should be sent. */\n-#undef PACKAGE_BUGREPORT\n-\n-/* Define to the full name of this package. */\n-#undef PACKAGE_NAME\n-\n-/* Define to the full name and version of this package. */\n-#undef PACKAGE_STRING\n-\n-/* Define to the one symbol short name of this package. */\n-#undef PACKAGE_TARNAME\n-\n-/* Define to the version of this package. */\n-#undef PACKAGE_VERSION\n-\n-/* The size of a `char', as computed by sizeof. */\n-#undef SIZEOF_CHAR\n-\n-/* The size of a `int', as computed by sizeof. */\n-#undef SIZEOF_INT\n-\n-/* The size of a `long', as computed by sizeof. */\n-#undef SIZEOF_LONG\n-\n-/* The size of a `long long', as computed by sizeof. */\n-#undef SIZEOF_LONG_LONG\n-\n-/* The size of a `short', as computed by sizeof. */\n-#undef SIZEOF_SHORT\n-\n-/* Define to 1 if you have the ANSI C header files. */\n-#undef STDC_HEADERS\n-\n-/* Define to 1 if your <sys/time.h> declares `struct tm'. */\n-#undef TM_IN_SYS_TIME\n-\n-/* Version number of package */\n-#undef VERSION\n-\n-/* Define to 1 if your processor stores words with the most significant byte\n-   first (like Motorola and SPARC, unlike Intel and VAX). */\n-#undef WORDS_BIGENDIAN\n-\n-/* Define to `long' if <sys/types.h> does not define. */\n-#undef off_t"}, {"sha": "6d0f5b57f8fae250a1d95a3a6e20d6e33cb33526", "filename": "fastjar/configure", "status": "removed", "additions": 0, "deletions": 8385, "changes": 8385, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfigure?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186"}, {"sha": "92bbf54de4a497c881af3d576a90994722c12c10", "filename": "fastjar/configure.ac", "status": "removed", "additions": 0, "deletions": 92, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfigure.ac?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,92 +0,0 @@\n-dnl Process this file with autoconf to produce a configure script.\n-AC_PREREQ(2.59)\n-AC_INIT(jartool.h)\n-AM_INIT_AUTOMAKE(fastjar, 0.92-gcc)\n-AM_CONFIG_HEADER(config.h)\n-\n-dnl Checks for programs.\n-AC_PROG_CC\n-AC_PROG_INSTALL\n-AC_PATH_PROG(RM, rm, /bin/rm, $PATH:/bin:/usr/bin:/usr/local/bin)\n-AC_PATH_PROG(CP, cp, /bin/cp, $PATH:/bin:/usr/bin:/usr/local/bin)\n-AC_PATH_PROG(STRIP, strip, /usr/bin/strip, $PATH:/bin:/usr/bin:/usr/local/bin)\n-AC_PATH_PROG(CHMOD, chmod, /bin/chmod, $PATH:/bin:/usr/bin:/usr/local/bin)\n-AC_EXEEXT\n-\n-AM_MAINTAINER_MODE\n-\n-dnl Add warning flags if we are using gcc.\n-if test \"$GCC\" = yes; then\n-  fastjar_warn_cflags='-W -Wall -pedantic -Wstrict-prototypes -Wmissing-prototypes -Wwrite-strings'\n-fi\n-AC_SUBST(fastjar_warn_cflags)\n-\n-dnl Checks for header files.\n-AC_HEADER_DIRENT\n-AC_HEADER_STDC\n-AC_STRUCT_TM\n-AC_CHECK_HEADERS(fcntl.h unistd.h sys/param.h stdlib.h limits.h)\n-\n-AC_CHECK_FUNCS(ftruncate _chsize)\n-\n-dnl Checks for typedefs, structures, and compiler characteristics.\n-AC_TYPE_OFF_T\n-AC_STRUCT_TM\n-\n-# mkdir takes a single argument on some systems.\n-gcc_AC_FUNC_MKDIR_TAKES_ONE_ARG\n-\n-dnl Check for type-widths\n-AC_CHECK_SIZEOF(char)\n-AC_CHECK_SIZEOF(short)\n-AC_CHECK_SIZEOF(int)\n-AC_CHECK_SIZEOF(long)\n-AC_CHECK_TYPES([long long],[AC_CHECK_SIZEOF(long long)])\n-\n-dnl Check byte order\n-AC_C_BIGENDIAN\n-\n-AC_ARG_WITH(system-zlib,\n-[  --with-system-zlib      use installed libz])\n-\n-ZLIBS=\n-ZDEPS=\n-ZINCS=\n-use_zlib=maybe\n-if test \"$with_system_zlib\" = yes; then\n-   AC_CHECK_LIB(z, deflate, ZLIBS=-lz, use_zlib=no)\n-else\n-   use_zlib=no\n-fi\n-\n-if test \"$use_zlib\" = no; then\n-   # Brain dead way to find tree's zlib.\n-   ZDEPS='$(top_builddir)/../zlib/libz.a'\n-   ZLIBS=\"$ZDEPS -L\\$(here)/../zlib/$libsubdir\"\n-   ZINCS='-I$(top_srcdir)/../zlib'\n-fi\n-AC_SUBST(ZLIBS)\n-AC_SUBST(ZDEPS)\n-AC_SUBST(ZINCS)\n-\n-# GCC LOCAL CHANGE\n-# We would like to our source tree to be readonly.  However when releases or\n-# pre-releases are generated, the man pages need to be included as they are\n-# converted from the texi files via perl which we don't require end users to\n-# have installed.\n-# Therefore we have --enable-generated-files-in-srcdir to do just that.\n-\n-AC_MSG_CHECKING([whether to place generated files in the source directory])\n-  dnl generated-files-in-srcdir is disabled by default\n-  AC_ARG_ENABLE(generated-files-in-srcdir, \n-[  --enable-generated-files-in-srcdir\n-                          put copies of generated files in source dir\n-                          intended for creating source tarballs for users\n-                          without texinfo, perl, bison or flex.],\n-      generated_files_in_srcdir=$enableval,\n-      generated_files_in_srcdir=no)\n-\n-AC_MSG_RESULT($generated_files_in_srcdir)\n-AM_CONDITIONAL(GENINSRC, test x$generated_files_in_srcdir = xyes)\n-\n-AC_OUTPUT(Makefile install-defs.sh)"}, {"sha": "10c0bf32a9a70cdb189fdcca83bea2da63aff1ee", "filename": "fastjar/dostime.c", "status": "removed", "additions": 0, "deletions": 81, "changes": 81, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fdostime.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fdostime.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fdostime.c?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,81 +0,0 @@\n-/* dostime.c - convert dos time to/from time_t.\n-\n-   Copyright (C) 2002 Free Software Foundation\n-\n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n-*/\n-\n-#include <config.h>\n-\n-#include <time.h>\n-\n-#include <stddef.h>\n-\n-#include \"dostime.h\"\n-\n-/*\n- * The specification to which this was written.  From Joe Buck.\n- * The DOS format appears to have only 2 second resolution.  It is an\n- * unsigned long, and ORs together\n- * \n- * (year-1980)<<25\n- * month<<21  (month is tm_mon + 1, 1=Jan through 12=Dec)\n- * day<<16    (day is tm_mday, 1-31)\n- * hour<<11   (hour is tm_hour, 0-23)\n- * min<<5\t   (min is tm_min, 0-59)\n- * sec>>1\t   (sec is tm_sec, 0-59, that's right, we throw away the LSB)\n- * \n- * DOS uses local time, so the localtime() call is used to turn the time_t\n- * into a struct tm.\n- */\n-\n-time_t\n-dos2unixtime (unsigned long dostime)\n-{\n-  struct tm ltime;\n-  time_t now = time (NULL);\n-\n-  /* Call localtime to initialize timezone in TIME.  */\n-  ltime = *localtime (&now);\n-\n-  ltime.tm_year = (dostime >> 25) + 80;\n-  ltime.tm_mon = ((dostime >> 21) & 0x0f) - 1;\n-  ltime.tm_mday = (dostime >> 16) & 0x1f;\n-  ltime.tm_hour = (dostime >> 11) & 0x0f;\n-  ltime.tm_min = (dostime >> 5) & 0x3f;\n-  ltime.tm_sec = (dostime & 0x1f) << 1;\n-\n-  ltime.tm_wday = -1;\n-  ltime.tm_yday = -1;\n-  ltime.tm_isdst = -1;\n-\n-  return mktime (&ltime);\n-}\n-\n-unsigned long\n-unix2dostime (time_t *time)\n-{\n-  struct tm *ltime = localtime (time);\n-  int year = ltime->tm_year - 80;\n-  if (year < 0)\n-    year = 0;\n-\n-  return (year << 25\n-\t  | (ltime->tm_mon + 1) << 21\n-\t  | ltime->tm_mday << 16\n-\t  | ltime->tm_hour << 11\n-\t  | ltime->tm_min << 5\n-\t  | ltime->tm_sec >> 1);\n-}"}, {"sha": "dd092b58aedbc69b65adb93495b945e3bc46d8da", "filename": "fastjar/dostime.h", "status": "removed", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fdostime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fdostime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fdostime.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,21 +0,0 @@\n-/*\n-  dostime.h - function prototypes\n-  Copyright (C) 1999, 2002  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n- */\n-\n-time_t dos2unixtime(unsigned long dostime);\n-unsigned long unix2dostime(time_t*);"}, {"sha": "d39f4a9d7f31c64b9e46d83defd524c9063f42a5", "filename": "fastjar/fastjar.texi", "status": "removed", "additions": 0, "deletions": 236, "changes": 236, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Ffastjar.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Ffastjar.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Ffastjar.texi?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,236 +0,0 @@\n-\\input texinfo @c -*-texinfo-*-\n-@setfilename fastjar.info\n-@settitle Guide to GNU jar utilites\n-\n-@c Note: When reading this manual you'll find lots of strange\n-@c circumlocutions like ``compiler for the Java language''.\n-@c This is necessary due to Sun's restrictions on the use of\n-@c the word ``Java'.\n-\n-@c When this manual is copyrighted.\n-@set copyrights-fastjar 2002\n-\n-@include gcc-common.texi\n-\n-@c Versions\n-@set which-gcj GCC-@value{version-GCC}\n-\n-@ifinfo\n-@format\n-@dircategory Programming\n-@direntry\n-* fastjar: (fastjar).       GNU jar utilities\n-@end direntry\n-\n-@dircategory Individual utilities\n-@direntry\n-* fastjar: (fastjar)Invoking fastjar.\n-                            An archive tool for Java archives\n-* grepjar: (fastjar)Invoking grepjar.\n-                            Search files in a jar file for a pattern\n-@end direntry\n-@end format\n-\n-@c man begin COPYRIGHT\n-Copyright (C) @value{copyrights-fastjar} Matthias Klose\n-\n-Permission is granted to copy, distribute and/or modify this document\n-under the terms of the GNU General Public License as published by the\n-Free Software Foundation; either version 2, or (at your option) any\n-later version. A copy of the license is included in the\n-@c man end\n-section entitled ``GNU General Public License''.\n-@ignore\n-@c man begin COPYRIGHT\n-man page gpl(7).\n-@c man end\n-@end ignore\n-@end ifinfo\n-\n-@titlepage\n-@title GNU jar utilites\n-@author Brian Burns\n-\n-@page\n-@vskip 0pt plus 1filll\n-Copyright @copyright{} @value{copyrights-gcj} Matthias Klose\n-@sp 2\n-For the @value{which-gcj} Version*\n-@sp 1\n-Published by the Free Software Foundation @*\n-51 Franklin Street, Fifth Floor@*\n-Boston, MA 02110-1301, USA@*\n-@sp 1\n-Permission is granted to copy, distribute and/or modify this document\n-under the terms of the GNU General Public License as published by the\n-Free Software Foundation; either version 2, or (at your option) any\n-later version. A copy of the license is included in the\n-section entitled ``GNU General Public License''.\n-@end titlepage\n-@contents\n-@page\n-\n-\n-@node Top\n-@top Introduction\n-\n-This manual describes how to use @command{fastjar} and @command{grepjar}.\n-\n-@menu\n-* Invoking fastjar::\tOptions supported by @command{fastjar}\n-* Invoking grepjar::    Options supported by @command{grepjar}\n-* Copying::\t\tThe GNU General Public License\n-@end menu\n-\n-@node Invoking fastjar\n-@chapter Invoking fastjar\n-\n-@c man title fastjar archive tool for Java archives\n-\n-@c man begin DESCRIPTION fastjar\n-\n-@code{fastjar} is an implementation of Sun's jar utility that comes with\n-the JDK, written entirely in C, and runs in a fraction of the time while\n-being feature compatible.\n-\n-If any file is a directory then it is processed recursively.  The\n-manifest file name and the archive file name needs to be specified in\n-the same order the @option{-m} and @option{-f} flags are specified.\n-\n-@c man end\n-\n-@ignore\n-@c man begin SYNOPSIS fastjar\n-fastjar @option{-ctxu} [@option{OPTIONS}] [@var{jar-file}] [@var{manifest-file}] [@option{-C} @var{dir}] @var{files}@dots{}\n-@c man end\n-@c man begin SEEALSO fastjar\n-gcj(1), gij(1), grepjar(1)\n-and the Info entry for @file{gcj}.\n-@c man end\n-@end ignore\n-\n-@c man begin OPTIONS fastjar\n-\n-Exactly one of the following actions must be specified:\n-\n-@table @gcctabopt\n-\n-@item -c\n-Create new archive.\n-\n-@item -t\n-List table of contents for archive.\n-\n-@item -x\n-Extract named (or all) files from archive.\n-\n-@item -u\n-Update existing archive.\n-\n-@end table\n-\n-The following parameters are optional:\n-\n-@table @gcctabopt\n-\n-@item -@@\n-Read the names of the files to add to the archive from stdin.  This\n-option is supported only in combination with @option{-c} or @option{-u}.\n-Non standard option added in the GCC version.\n-\n-@item -C @var{directory}\n-Change to the @var{directory} and include the following file.\n-\n-@item -E\n-Prevent fastjar from reading the content of a directory when specifying\n-one (and instead relying on the provided list of files to populate the\n-archive with regard to the directory entry). Non standard option added\n-in the GCC version.\n-\n-@item -M\n-Do not create a manifest file for the entries.\n-\n-@item -i\n-Generate an index of the packages in this jar and its Class-Path\n-(currently a no-op for jar command-line compatibility).\n-\n-@item -0\n-Store only; use no ZIP compression.\n-\n-@item -V\n-@itemx --version\n-Display version information.\n-\n-@item -f @var{archive}\n-Specify archive file name.\n-\n-@item -m @var{manifest}\n-Include manifest information from specified @var{manifest} file.\n-\n-@item -v\n-Generate verbose output on standard output.\n-\n-@end table\n-\n-All remaining options are considered to be names of files.\n-\n-@c man end\n-\n-@node Invoking grepjar\n-@chapter Invoking grepjar\n-\n-@c man title grepjar search files in a jar file for a pattern\n-\n-@c man begin DESCRIPTION grepjar\n-\n-The @code{grepjar} program can be used to search files in a jar file for\n-a pattern.\n-\n-@c man end\n-\n-@ignore\n-@c man begin SYNOPSIS grepjar\n-grepjar [@option{-bcinsw}] @option{-e} @var{PATTERN} | @var{PATTERN} @var{files}@dots{}\n-@c man end\n-@c man begin SEEALSO grepjar\n-fastjar(1), gcj(1), gij(1), gfdl(7) and the Info entry for @file{gcj}.\n-@c man end\n-@end ignore\n-\n-@c man begin OPTIONS grepjar\n-\n-@table @gcctabopt\n-@item -b\n-Print byte offset of match.\n-\n-@item -c\n-Print number of matches.\n-\n-@item -i\n-Compare case-insensitively.\n-\n-@item -n\n-Print line number of each match.\n-\n-@item -s\n-Suppress error messages.\n-\n-@item -w\n-Force @var{PATTERN} to match only whole words.\n-\n-@item -e @var{PATTERN}\n-Use @var{PATTERN} as regular expression.\n-\n-@item --help\n-Print help, then exit.\n-\n-@item -V\n-@itemx --version\n-Print version number, then exit.\n-@end table\n-\n-@c man end\n-\n-@include gpl.texi\n-\n-@bye"}, {"sha": "b90410c417fdefb30ef284a1e4b3cac39552553f", "filename": "fastjar/install-defs.sh.in", "status": "removed", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Finstall-defs.sh.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Finstall-defs.sh.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Finstall-defs.sh.in?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,7 +0,0 @@\n-CP=@CP@\n-STRIP=@STRIP@\n-CHMOD=@CHMOD@\n-\n-prefix=@prefix@\n-exec_prefix=@exec_prefix@\n-BINDIR=@bindir@"}, {"sha": "99f4df22f9bc9a462de8466b602f4be2e0a944f1", "filename": "fastjar/jargrep.c", "status": "removed", "additions": 0, "deletions": 791, "changes": 791, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjargrep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjargrep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjargrep.c?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,791 +0,0 @@\n-/*\n-  jargrep.c - main functions for jargrep utility\n-  Copyright (C) 2002, 2003, 2006 Free Software Foundation\n-  Copyright (C) 1999, 2000 Bryan Burns\n-  Copyright (C) 2000 Cory Hollingsworth \n- \n-  Parts of this program are base on Bryan Burns work with fastjar \n-  Copyright (C) 1999. \n-\n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n-*/\n-\n-/* Id: jargrep.c,v 1.5 2002/01/03 04:57:56 rodrigc Exp\n-\n-Log: jargrep.c,v \n-Revision 1.5  2002/01/03 04:57:56  rodrigc\n-2001-01-02  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n-\n-        PR bootstrap/5117\n-        * configure.in (AC_CHECK_HEADERS): Check for stdlib.h.\n-        * Makefile.am: Move grepjar to bin_PROGRAMS.\n-        * config.h.in: Regenerated.\n-        * Makefile.in: Regenerated.\n-        * aclocal.m4: Regenerated.\n-        * jargrep.c: Eliminate some signed/unsigned and default\n-        uninitialized warnings. Use HAVE_STDLIB_H instead of\n-        STDC_HEADERS macro.\n-        * jartool.c: Likewise.\n-        * compress.c: Likewise.\n-\n-Revision 1.4  2000/12/15 18:45:09  tromey\n-\t* jargrep.c: Include getopt.h if it exists.\n-\t(optind): Declare.\n-\t* configure, config.h: Rebuilt.\n-\t* configure.in: Check for getopt.h.\n-\n-Revision 1.3  2000/12/14 18:45:35  ghazi\n-Warning fixes:\n-\n-\t* compress.c: Include stdlib.h and compress.h.\n-\t(rcsid): Delete.\n-\t(report_str_error): Make static.\n-\t(ez_inflate_str): Delete unused variable.  Add parens in if-stmt.\n-\t(hrd_inflate_str): Likewise.\n-\n-\t* compress.h (init_compression, end_compression, init_inflation,\n-\tend_inflation): Prototype void arguments.\n-\n-\t* dostime.c (rcsid): Delete.\n-\n-\t* jargrep.c: Include ctype.h, stdlib.h, zlib.h and compress.h.\n-\tMake functions static.  Cast ctype function argument to `unsigned\n-\tchar'.  Add parens in if-stmts.  Constify.\n-\t(Usage): Change into a macro.\n-\t(jargrep): Remove unused parameter.\n-\n-\t* jartool.c: Constify.  Add parens in if-stmts.  Align\n-\tsigned/unsigned char pointers in functions calls using casts.\n-\t(rcsid): Delete.\n-\t(list_jar): Fix printf format specifier.\n-\t(usage): Chop long string into bits.  Reformat.\n-\n-\t* pushback.c (rcsid): Delete.\n-\n-Revision 1.2  2000/12/11 02:59:55  apbianco\n-2000-12-10  Robert Lipe <robertlipe@usa.net>\n-\n-\t* jargrep.c (jargrep): Added null statement after case.\n-\n-2000-12-10  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-\t* Makefile: Removed.\n-\t* Makefile.in: Rebuilt with `-i' and `--enable-foreign'.\n-\n-(http://gcc.gnu.org/ml/gcc/2000-12/msg00294.html)\n-\n-Revision 1.1  2000/12/09 03:08:23  apbianco\n-2000-12-08  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-        * fastjar: Imported.\n-\n-Revision 1.8  2000/09/13 14:02:02  cory\n-Reformatted some of the code to more closly match the layout of the orriginal\n-fastjar utility.\n-\n-Revision 1.7  2000/09/12 22:29:36  cory\n-Jargrep now seems to do what I want it to do.  Performs properly on Linux x86,\n-will test some other platforms later.\n-\n-\n-*/\n-\n-#include \"config.h\"\n-#include <stdio.h>\n-#include <unistd.h>\n-#include <errno.h>\n-#include <string.h>\n-#include <sys/types.h>\n-#include <sys/stat.h>\n-#include <fcntl.h>\n-#include <ctype.h>\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-\n-#include \"xregex.h\"\n-\n-#include \"jargrep.h\"\n-#include \"jartool.h\"\n-#include \"pushback.h\"\n-#include \"zipfile.h\"\n-#include \"zlib.h\"\n-#include \"compress.h\"\n-#include <getopt.h>\n-\n-void version(void);\n-void help(const char *name);\n-\n-#define Usage \"Usage: %s [-bcinsVw] [--version|--help] <-e PATTERN | PATTERN> FILE ...\\n\"\n-\n-/*\n-Function name: opt_valid\n-arg:\toptions\tBitfield flag that contains the command line options of grepjar.\n-purpose:\tTo guard agains the occurance of certain incompatible flags being used\n-together.\n-returns: TRUE if options are valid, FALSE otherwise.\n-*/\n-\n-static int opt_valid(int options) {\n-\tint retflag;\n-\n-\tif((options & JG_PRINT_COUNT) && \n-\t\t(options & (JG_PRINT_BYTEOFFSET | JG_PRINT_LINE_NUMBER)))\n-\t{\n-\t\tretflag = FALSE;\n-\t}\n-\telse retflag = TRUE;\n-\n-\treturn retflag;\n-}\n-\n-/*\n-Function name: create_regexp\n-args:\tregstr\tString containing the uncompiled regular expression.  This may be the \n-\t\t\t\texpression as is passed in through argv.\n-\t\toptions\tThis is the flag containing the commandline options that have been\n-\t\t\t\tparsed by getopt.\n-purpose: Handle the exception handling involved with setting upt a new regular \n-expression.\n-returns: Newly allocated compile regular expression ready to be used in an regexec call.\n-*/\n-\n-static regex_t *create_regexp(const char *regstr, int options) {\n-\tregex_t *exp;\n-\tint errcode;\n-\tint msgsize;\n-\tchar *errmsg;\n-\n-\tif((exp = (regex_t *) malloc(sizeof(regex_t))))\n-\t{\n-\t\tif((errcode = regcomp(exp, regstr, (options & JG_IGNORE_CASE) ? REG_ICASE : 0))) {\n-\t\t\tfprintf(stderr, \"regcomp of regex failed,\\n\");\n-\t\t\tif((errmsg = (char *) malloc(msgsize = regerror(errcode, exp, NULL, 0) + 1))) {\n-\t\t\t\tregerror(errcode, exp, errmsg, msgsize);\n-\t\t\t\tfprintf(stderr, \"Error: %s\\n\", errmsg);\n-\t\t\t\tfree(exp);\n-\t\t\t\tfree(errmsg);\n-\t\t\t\texit(1);\n-\t\t\t}\n-\t\t\telse {\n-\t\t\t\tfprintf(stderr, \"Malloc of errmsg failed.\\n\");\n-\t\t\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\t\t\tfree(exp);\n-\t\t\t\texit(1);\n-\t\t\t}\n-\t\t}\n-\t}\n-\telse {\n-\t\tfprintf(stderr, \"Malloc of regex failed,\\n\");\n-\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\texit(1);\n-\t}\n-\n-\treturn exp; \n-}\n-\n-/*\n-Function name: check_sig\n-args:\tscratch\tPointer to array of bytes containing signature.\n-\t\tpbf\t\tPointer to push back handle for jar file.\n-purpose: \tVerify that checksum is correct.\n-returns: 0, 1, or 2.  0 means we are ready to read embedded file information.  1 means\n-we have read beyound the embedded file list and can exit knowing we have read all the\n-relevent information.  2 means we still haven't reached embdedded file list and need to\n-do some more reading.\n-*/\n-static int check_sig(ub1 *scratch, pb_file *pbfp) {\n-\tub4 signature;\n-\tint retflag = 0;\n-\n-\tsignature = UNPACK_UB4(scratch, 0);\n-\n-#ifdef DEBUG    \n-    printf(\"signature is %x\\n\", signature);\n-#endif\n-    if(signature == 0x08074b50){\n-#ifdef DEBUG    \n-      printf(\"skipping data descriptor\\n\");\n-#endif\n-      pb_read(pbfp, scratch, 12);\n-      retflag = 2;\n-    } else if(signature == 0x02014b50){\n-#ifdef DEBUG    \n-      printf(\"Central header reached.. we're all done!\\n\");\n-#endif\n-      retflag = 1;\n-    }else if(signature != 0x04034b50){\n-      printf(\"Ick! %#x\\n\", signature);\n-      retflag = 1;\n-    }\n-    \n-\treturn retflag;\n-}\n-\n-/*\n-Function name: decd_siz\n-args\tcsize\t\tPointer to embedded file's compressed size.\n-\t\tusize\t\tPointer to embedded file's uncmpressed size.\n-\t\tfnlen\t\tPointer to embedded file's file name length.\n-\t\telfen\t\tPointer to length of extra fields in jar file.\n-\t\tflags\t\tPointer to bitmapped flags.\n-\t\tmethod\t\tPointer to indicator of storage method of embedded file.\n-\t\tfile_header\tPointer to string containing the above values to be unbacked.\n-Purpose: Unpack the series of values from file_header.\n-*/\n-\n-static void decd_siz(ub4 *csize, ub4 *usize, ub2 *fnlen, ub2 *eflen, ub2 *flags, ub2 *method, ub1 *file_header) {\n-    *csize = UNPACK_UB4(file_header, LOC_CSIZE);\n-#ifdef DEBUG    \n-    printf(\"Compressed size is %u\\n\", *csize);\n-#endif\n-\n-\t*usize = UNPACK_UB4(file_header, LOC_USIZE);\n-#ifdef DEBUG\n-\tprintf(\"Uncompressed size is %u\\n\", *usize);\n-#endif\n-\n-    *fnlen = UNPACK_UB2(file_header, LOC_FNLEN);\n-#ifdef DEBUG    \n-    printf(\"Filename length is %hu\\n\", *fnlen);\n-#endif\n-\n-    *eflen = UNPACK_UB2(file_header, LOC_EFLEN);\n-#ifdef DEBUG    \n-    printf(\"Extra field length is %hu\\n\", *eflen);\n-#endif\n-\n-    *flags = UNPACK_UB2(file_header, LOC_EXTRA);\n-#ifdef DEBUG    \n-    printf(\"Flags are %#hx\\n\", *flags);\n-#endif\n-\n-    *method = UNPACK_UB2(file_header, LOC_COMP);\n-#ifdef DEBUG\n-    printf(\"Compression method is %#hx\\n\", *method);\n-#endif\n-\n-}\n-\n-/*\n-Function name: new_filename\n-args:\tpbf\t\tPointer to push back file handle.  Used for reading input file.\n-\t\tlen\t\tLength of file name to be read.\n-purpose:\tRead in the embedded file name from jar file.\n-returns: Pointer to newly allocated string containing file name.\n-*/\n-\n-static char *new_filename(pb_file *pbf, ub4 len) {\n-\tchar *filename;\n-\n-\tif(!(filename = (char *) malloc(len + 1))) {\n-\t\tfprintf(stderr, \"Malloc failed of filename\\n\");\n-\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t}\n-    pb_read(pbf, filename, len);\n-    filename[len] = '\\0';\n-\n-#ifdef DEBUG    \n-    printf(\"filename is %s\\n\", filename);\n-#endif\n-\n-\treturn filename;\n-}\n-\n-/*\n-Funtion name: read_string\n-args:\tpbf\t\tPointer to push back file handle.  Used for reading input file.\n-\t\tsize\tSize of embedded file in bytes.\n-purpose:\tCreate a string containing the contents of the embedded noncompressed file.\n-returns: Pointer to newly allocated string containing embedded file contents.\n-*/\n-\n-static char *read_string(pb_file *pbf, int size) {\n-\tchar *page;\n-\t\n-\tif((page = (char *) malloc(size + 1))) {\n-\t\tpb_read(pbf, page, size);\n-\t\tpage[size] = '\\0';\n-\t}\n-\telse {\n-\t\tfprintf(stderr, \"Malloc of page buffer failed.\\n\");\n-\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\texit(1);\n-\t}\n-\n-\treturn page;\n-}\n-\n-/*\n-Function name: extract_line\n-args:\tstream\tString containing the full contents of a file which is to be substringed\n-\t\t\t\tin order to provide line representing our grep output.\n-\t\tbegin\tIndex into stream which regular expression first matches.\n-\t\tend\t\tIndex into stream which end of match to the regular expression.\n-\t\tb\t\tPointer to the index of what will be the beginning of the line when\n-\t\t\t\tstring is returned.  Used for -b option.\n-purpose:\tCreate a string that can be printed by jargrep from the long string stream.\n-The matching line that is printed out by jargrep is generated by this function.\n-returns: Pointer to newly allocated string containing matched expression.\n-*/\n-\n-static char *extract_line(const char *stream, regoff_t begin, regoff_t end, int *b) {\n-\tint e;\n-\tint length;\n-\tchar *retstr;\n-\n-\tfor(*b = begin; *b >= 0 && !iscntrl((unsigned char)stream[*b]); (*b)--);\n-\t(*b)++;\n-\tfor(e = end; stream[e] == '\\t' || !iscntrl((unsigned char)stream[e]); e++);\n-\tlength = e - *b;\n-\tif((retstr = (char *) malloc(length + 1))) {\n-\t\tsprintf(retstr, \"%d:\", *b);\n-\t\tstrncpy(retstr, &(stream[*b]), length);\n-\t\tretstr[length] = '\\0';\n-\t}\n-\telse {\n-\t\tfprintf(stderr, \"Malloc failed of output string.\\n\");\n-\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\texit(1);\n-\t}\n-\n-\treturn retstr;\n-}\n-\n-/*\n-Function name: chk_wrd\n-args:\texp\t\tPointer to compiled POSIX style regular expression of search target.\n-\t\tstr\t\tString known to contain at least one match of exp.\n-purpose: Verify that the occurance of the regular expression in str occurs as a whole\n-word and not a substring of another word.\n-returns: TRUE if it is a word, FALSE of it is a substring.\n-*/\n-\n-static int chk_wrd(regex_t *exp, const char *str) {\n-\tint wrd_fnd = FALSE;\n-\tint frnt_ok;\n-\tint bck_ok;\n-\tconst char *str2;\n-\tregmatch_t match;\n-\n-\tstr2 = str;\n-\tfrnt_ok = bck_ok = FALSE;\n-\twhile(!wrd_fnd && !regexec(exp, str2, 1, &match, 0)) {\n-\t\tif(!match.rm_so && (str2 == str)) frnt_ok = TRUE;\n-\t\telse if(!isalnum((unsigned char)str2[match.rm_so - 1])\n-\t\t\t&& str2[match.rm_so - 1] != '_')\n-\t\t\tfrnt_ok = TRUE;\n-\t\telse frnt_ok = FALSE;\n-\t\tif(frnt_ok) {\n-\t\t\tif(str2[match.rm_eo] == '\\0') bck_ok = TRUE;\n-\t\t\telse if(!isalnum((unsigned char)str2[match.rm_eo])\n-\t\t\t\t&& str2[match.rm_eo] != '_')\n-\t\t\t\tbck_ok = TRUE;\n-\t\t\telse bck_ok = FALSE;\n-\t\t}\n-\t\twrd_fnd = frnt_ok && bck_ok;\n-\t\tstr2 = &(str2[match.rm_eo]);\n-\t}\n-\n-\treturn wrd_fnd;\n-}\n-\n-/*\n-Function name: prnt_mtchs\n-args:\texp\t\t\tPointer to compiled POSIX style regular expression of search target.\n-\t\tfilename\tString containing the name of the embedded file which matches have\n-\t\t\t\t\tbeen found in.\n-\t\tstream\t\tString containing the processed contents of the embedded jar file\n-\t\t\t\t\trepresended with filename.\n-\t\tpmatch\t\tArray of regmatch_t matches into stream.\n-\t\tnl_offset\tArray of offsets of '\\n' characters in stream.  May be NULL if -n is\n-\t\t\t\t\tnot set on command line.\n-\t\tnum\t\t\tNumber of matches in pmatch array.\n-\t\tlines\t\tNumber of lines in file.  Not set if -n is not set on command line.\n-\t\toptions\t\tBitwise flag containing flags set to represent the command line \n-\t\t\t\t\toptions.\n-purpose:\tControl output of jargrep.  Output is controlled by which options have been\n-set at the command line.\n-*/\n-\n-static void prnt_mtchs(regex_t *exp, const char *filename, const char *stream, regmatch_t *pmatch, regmatch_t *nl_offset, int num, int lines, int options) {\n-\tint i;\n-\tint j = 0;\n-\tint ln_cnt;\n-\tint begin;\n-\tint o_begin;\n-\tchar *str;\n-\n-\to_begin = -1;\n-\tln_cnt = 0;\n-\tfor(i = 0; i < num; i++) {\n-\t\tstr = extract_line(stream, pmatch[i].rm_so, pmatch[i].rm_eo, &begin);\n-\t\tif(begin > o_begin) {\n-\t\t\tif(!(options & JG_WORD_EXPRESSIONS) || chk_wrd(exp, str)) {\n-\t\t\t\tln_cnt++;\n-\t\t\t\tif(!(options & JG_PRINT_COUNT)) {\n-\t\t\t\t\tprintf(\"%s:\", filename);\n-\t\t\t\t\tif(options & JG_PRINT_LINE_NUMBER) {\n-\t\t\t\t\t\tfor(; j < lines && nl_offset[j].rm_so < begin; j++);\n-\t\t\t\t\t\tprintf(\"%d:\", j + 1);\n-\t\t\t\t\t}\n-\t\t\t\t\tif(options & JG_PRINT_BYTEOFFSET) printf(\"%d:\", begin);\n-\t\t\t\t\tprintf(\"%s\\n\", str);\n-\t\t\t\t}\n-\t\t\t}\n-\t\t}\n-\t\to_begin = begin;\n-\t\tfree(str);\n-\t}\n-\tif(options & JG_PRINT_COUNT) printf(\"%s:%d\\n\", filename, ln_cnt);\n-}\n-\n-/*\n-Function name: check_crc\n-args:\tpbf\t\tPointer to pushback file pointer for jar file.\n-\t\tstream\tString containing the non modified contents fo the extraced file entry.\n-\t\tusize\tSize of file in bytes.\n-purpose:\tVerify the CRC matches that as what is stored in the jar file.\n-*/\n-\n-static void check_crc(pb_file *pbf, const char *stream, ub4 usize) {\n-\tub4 crc=0;\n-\tub4 lcrc;\n-\tub1 scratch[16];\n-\n-\tcrc = crc32(crc, NULL, 0);\n-\tcrc = crc32(crc, (const unsigned char *)stream, usize);\n-\tif(pb_read(pbf, scratch, 16) != 16) {\n-\t\tperror(\"read\");\n-        exit(1);\n-\t}\n-\tif(UNPACK_UB4(scratch, 0) != 0x08074b50) {\n-\t\tfprintf(stderr, \"Error! Missing data descriptor!\\n\");\n-\t\texit(1);\n-\t}\n-\tlcrc = UNPACK_UB4(scratch, 4);\n-\tif(crc != lcrc){\n-    \tfprintf(stderr, \"Error! CRCs do not match! Got %x, expected %x\\n\",\n-              crc, lcrc);\n-      \texit(1);\n-    }\n-}\n-\n-/*\n-Function name mk_ascii\n-args:\tstream\tString that contains the contents of the extraced file entry.\n-\t\tusize\tString size.\n-purpose:\tMake certain that the contents of the file are ASCII, not binary.  This\n-permits grepping of binary files as well by converting non ASCII and control characters\n-into '\\n'.\n-*/\n-\n-static void mk_ascii(char *stream, size_t usize) {\n-\tsize_t i;\n-\n-\tfor(i = 0; i < usize; i++) \n-\t\tif(stream[i] != '\\t'\n-\t\t   && (iscntrl((unsigned char)stream[i])\n-\t\t       || (unsigned char) stream[i] >= 128))\n-\t\t\tstream[i] = '\\n';\n-}\n-\n-/*\n-Funtion name: fnd_match\n-args:\texp\t\t\tPointer to compiled POSIX style regular expression of search target.\n-\t\tstr_stream\tString that contains the contents of the extracted file entry.\n-\t\ti\t\t\tPointer to counter and index of matches.\n-purpose:\tSearch str_stream for occurances of the regular expression exp and create\n-an array of matches.\n-returns:  Pointer to newly allocated array of regmatch_t which gives indexes to start\n-and end of matches.  NULL is returned upon no matches found.\n-*/\n-\n-static regmatch_t *fnd_match(regex_t *exp, const char *str_stream, int *i) {\n-\tint regflag;\n-\tregmatch_t match;\n-\tregmatch_t *match_array;\n-\tregmatch_t *tmp;\n-\n-\tmatch_array = NULL;\n-\tfor(*i = 0, regflag = regexec(exp, str_stream, 1, &match, 0); !regflag; \n-\t\tregflag = regexec(exp, &(str_stream[match.rm_eo]), 1, &match, 0), (*i)++)\n-\t{\n-\t\tif((tmp = (regmatch_t *) \n-\t\t    realloc(match_array, sizeof(regmatch_t) * ((*i) + 1))))\n-\t\t{\n-\t\t\tmatch_array = tmp;\n-\t\t\tif(*i) {\n-\t\t\t\tmatch.rm_so += match_array[(*i) - 1].rm_eo;\n-\t\t\t\tmatch.rm_eo += match_array[(*i) - 1].rm_eo;\n-\t\t\t}\n-\t\t\tmatch_array[*i] = match;\n-\t\t}\n-\t\telse {\n-\t\t\tfprintf(stderr, \"Realloc of match_array failed.\\n\");\n-\t\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\t\texit(1);\n-\t\t}\n-\t} \n-\n-\treturn match_array;\n-}\n-\n-/*\n-Function name: cont_grep\n-args:\texp\t\tPointer to compiled POSIX style regular expression of search target.\n-\t\tnl_exp\tPointer to compiled POSIX style regular expression of newlines.  This\n-\t\t\t\targument is NULL unless the -n option is used on the command line.\n-\t\tfd\t\tFile descriptor of the jar file being grepped.\n-\t\tpbf\t\tPointer to pushback file style file stream.  This is for use with\n-\t\t\t\tthe pushback.c file io funtions.\n-\t\toptions\tBitwise flag containing flags set to represent the command line options.\n-purpose:\tThis function handles single entries in an open jar file.  The header is\n-read and then the embeded file is extracted and grepped.\n-returns: FALSE upon failure, TRUE otherwise.\n-*/\n-\n-static int cont_grep(regex_t *exp, regex_t *nl_exp, int fd, pb_file *pbf, int options) {\n-\tint retflag = TRUE;\n-\tint i;\n-\tint j;\n-\tub4 csize;\n-\tub4 usize;\n-\tub2 fnlen;\n-\tub2 eflen;\n-\tub2 flags;\n-\tub2 method;\n-\tub1 file_header[30];\n-\tchar *filename;\n-\tchar *str_stream;\n-\tregmatch_t *match_array;\n-\tregmatch_t *nl_offsets=0;\n-\n-\tif(pb_read(pbf, (file_header + 4), 26) != 26) {\n-\t\tperror(\"read\");\n-\t\tretflag = FALSE;\n-   \t}\n-\telse {\n-\t\tdecd_siz(&csize, &usize, &fnlen, &eflen, &flags, &method, file_header);\n-\t\tfilename = new_filename(pbf, fnlen);\n-\t\tlseek(fd, eflen, SEEK_CUR);\n-\t\tif(filename[fnlen - 1] != '/') {\n-\t\t\tstr_stream = (method == 8 || (flags & 0x0008)) ? \n-\t\t\t\t(char *) inflate_string(pbf, &csize, &usize) : \n-\t\t\t\t\tread_string(pbf, csize);\n-\t\t\tif(flags & 0x008) check_crc(pbf, str_stream, usize);\n-\t\t\tmk_ascii(str_stream, usize);\n-\t\t\tmatch_array = fnd_match(exp, str_stream, &i);\n-\t\t\tif((options & JG_PRINT_LINE_NUMBER) && i) \n-\t\t\t\tnl_offsets = fnd_match(nl_exp, str_stream, &j);\n-\t\t\tprnt_mtchs(exp, filename, str_stream, match_array, nl_offsets, i, j, options);\n-\t\t\tif(match_array) free(match_array);\n-\t\t\tfree(str_stream);\n-\t\t}\n-\t\tfree(filename);\n-\t\tretflag = TRUE;\n-\t}\n-\n-\treturn retflag;\n-}\n-\n-/*\n-Funtion name: jargrep\n-args:\texp\t\tPointer to compiled POSIX style regular expression of search target.\n-\t\tnl_exp\tPointer to compiled regular expression for newlines or NULL.  Only set \n-\t\t\t\tif -n option is present at command line.\n-\t\tjarfile\tFilename of jar file to be searched.\n-\t\toptions\tBitwise flag containing flags set to represent the command line options.\n-purpose:\tOpen jar file.  Check signatures.  When right signature is found go to deeper\n-grep routine.\n-*/\n-\n-static void jargrep(regex_t *exp, regex_t *nl_exp, const char *jarfile, int options){\n-\tint fd;\n-\tint floop = TRUE;\n-\tpb_file pbf;\n-\tub1 scratch[16];\n-\n-\tif((fd = open(jarfile, O_RDONLY)) == -1) {\n-\t\tif(!(options & JG_SUPRESS_ERROR))\n-\t\t\tfprintf(stderr, \"Error reading file '%s': %s\\n\", jarfile, strerror(errno));\n-\t}\n-\telse {\n-\t\tpb_init(&pbf, fd);\t\n-\t\t\n-\t\tdo {\n-\t\t\tif(pb_read(&pbf, scratch, 4) != 4) {\n-\t\t\t\tperror(\"read\");\n-\t\t\t\tfloop = FALSE;\n-\t\t\t}\n-\t\t\telse {\n-\t\t\t\tswitch (check_sig(scratch, &pbf)) {\n-\t\t\t\tcase 0:\n-\t\t\t\t\tfloop = cont_grep(exp, nl_exp, fd, &pbf, options);\n-\t\t\t\t\tbreak;\n-\t\t\t\tcase 1:\n-\t\t\t\t\tfloop = FALSE;\n-\t\t\t\t\tbreak;\n-\t\t\t\tcase 2:\n-\t\t\t\t\t/* fall through continue */\n-\t\t\t\t\t;\n-\t\t\t\t}\n-\t\t\t}\n-\t\t} while(floop);\n-\t}\n-}\n-\n-/* This is used to mark options with no short value.  */\n-#define LONG_OPT(Num)  ((Num) + 128)\n-\n-#define OPT_HELP     LONG_OPT (0)\n-\n-static const struct option option_vec[] =\n-{\n-  { \"help\", no_argument, NULL, OPT_HELP },\n-  { \"version\", no_argument, NULL, 'V' },\n-  { NULL, no_argument, NULL, 0 }\n-};\n-\n-/*\n-Funtion Name: main\n-args:\targc\tnumber of in coming args.\n-\t\targv\tarray of strings.\n-purpose: Entry point of the program.  Parse command line arguments and set options.\n-Set up regular expressions.  Call grep routines for each file as input.\n-returns: 1 on error 0 on success.\n-*/\n-\n-int main(int argc, char **argv) {\n-\tint c;\n-\tint retval = 0;\n-\tint fileindex;\n-\tint options = 0;\n-\tregex_t *regexp;\n-\tregex_t *nl_exp = NULL;\n-\tchar *regexpstr = NULL;\n-\n-\twhile((c = getopt_long(argc, argv, \"bce:insVw\",\n-\t\t\t       option_vec, NULL)) != -1) {\n-\t\tswitch(c) {\n-\t\t\tcase 'b':\n-\t\t\t\toptions |= JG_PRINT_BYTEOFFSET;\n-\t\t\t\tbreak;\n-\t\t\tcase 'c':\n-\t\t\t\toptions |= JG_PRINT_COUNT;\n-\t\t\t\tbreak;\n-\t\t\tcase 'e':\n-\t\t\t\tif(!(regexpstr = (char *) malloc(strlen(optarg) + 1))) {\n-\t\t\t\t\tfprintf(stderr, \"Malloc failure.\\n\");\n-\t\t\t\t\tfprintf(stderr, \"Error: %s\\n\", strerror(errno));\n-\t\t\t\t\texit(1);\n-\t\t\t\t}\n-\t\t\t\tstrcpy(regexpstr, optarg);\n-\t\t\t\tbreak;\n-\t\t\tcase 'i':\n-\t\t\t\toptions |= JG_IGNORE_CASE;\n-\t\t\t\tbreak;\n-\t\t\tcase 'n':\n-\t\t\t\toptions |= JG_PRINT_LINE_NUMBER;\n-\t\t\t\tbreak;\n-\t\t\tcase 's':\n-\t\t\t\toptions |= JG_SUPRESS_ERROR;\n-\t\t\t\tbreak;\n-\t\t\tcase 'v':\n-\t\t\t\toptions |= JG_INVERT;\n-\t\t\t\tbreak;\n-\t\t\tcase 'V':\n-\t\t\t\tversion ();\n-\t\t\t\tbreak;\n-\t\t\tcase 'w':\n-\t\t\t\toptions |= JG_WORD_EXPRESSIONS;\n-\t\t\t\tbreak;\n-\t\t\tcase OPT_HELP:\n-\t\t\t\thelp(argv[0]);\n-\t\t\t\tbreak;\n-\t\t\tdefault:\n-\t\t\t\tfprintf(stderr, Usage, argv[0]);\n-\t\t\t\texit(1);\n-\t\t}\n-\t}\n-\tif(!regexpstr){\n-\t\tif(((argc - optind) >= 2)) {\n-\t\t\tregexpstr = argv[optind];\n-\t\t\tfileindex = optind + 1;\n-\t\t}\n-\t\telse {\n-\t\t\tfprintf(stderr, \"Invalid arguments.\\n\");\n-\t\t\tfprintf(stderr, Usage, argv[0]);\n-\t\t\texit(1);\n-\t\t}\n-\t}\n-\telse if((argc - optind) == 1) {\n-\t\tfileindex = optind;\n-\t}\n-\telse {\n-\t\tfprintf(stderr, \"Invalid arguments.\\n\");\n-\t\tfprintf(stderr, Usage, argv[0]);\n-\t\texit(1);\n-\t}\n-\n-\tif(opt_valid(options)) {\n-\t\tregexp = create_regexp(regexpstr, options);\n-\t\tif(options & JG_PRINT_LINE_NUMBER) nl_exp = create_regexp(\"\\n\", 0);\n-\t\tinit_inflation();\n-\t\tfor(; fileindex < argc; fileindex++)\n-\t\t\tjargrep(regexp, nl_exp, argv[fileindex], options);\n-\t\tregfree(regexp);\n-\t\tif(options & JG_PRINT_LINE_NUMBER) regfree(nl_exp);\n-\t}\n-\telse {\n-\t\tretval = 1;\n-\t\tfprintf(stderr, \"Error: Invalid combination of options.\\n\");\n-\t}\n-\n-\treturn retval;\n-}\n-\n-void help(const char *filename)\n-{\n-  printf (Usage, filename);\n-  printf (\"\\\n-\\n\\\n-Search files in a jar file for a pattern.\\n\\\n-\\n\\\n-   -b                print byte offset of match\\n\\\n-   -c                print number of matches\\n\\\n-   -i                compare case-insensitively\\n\\\n-   -n                print line number of each match\\n\\\n-   -s                suppress error messages\\n\\\n-   -w                force PATTERN to match only whole words\\n\\\n-   -e PATTERN        use PATTERN as regular expression\\n\\\n-   -V|--version      print version number and exit\\n\\\n-   --help            print help\\n\\\n-\");\n-\n-  exit (0);\n-}\n-\n-void version ()\n-{\n-  printf(\"grepjar (%s) %s\\n\\n\", PACKAGE, VERSION);\n-  printf(\"Copyright 1999, 2000, 2001  Bryan Burns\\n\");\n-  printf(\"Copyright 2000 Cory Hollingsworth\\n\");\n-  printf(\"Copyright 2006 Free Software Foundation\\n\");\n-  printf(\"\\\n-This is free software; see the source for copying conditions.  There is NO\\n\\\n-warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\\n\");\n-  exit (0);\n-}"}, {"sha": "14fa2dac701ca0ee986c6e2d0816dd7421c7bc58", "filename": "fastjar/jargrep.h", "status": "removed", "additions": 0, "deletions": 27, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjargrep.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjargrep.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjargrep.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,27 +0,0 @@\n-/*\n-  jargrep.h - header file for jargrep utility\n-  Copyright (C) 2002 Free Software Foundation\n-  Copyright (C) 2000 Cory Hollingsworth\n-\n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-\n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-\n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n-*/\n-\n-#define JG_PRINT_BYTEOFFSET\t\t0x00000001\n-#define JG_PRINT_COUNT\t\t\t0x00000002\n-#define JG_IGNORE_CASE\t\t\t0x00000004\n-#define JG_PRINT_LINE_NUMBER\t0x00000008\n-#define JG_SUPRESS_ERROR\t\t0x00000010\n-#define JG_INVERT\t\t\t\t0x00000020\n-#define JG_WORD_EXPRESSIONS\t\t0x00000040"}, {"sha": "7faa518a2e196cde0a2ed545387bfc4289f27150", "filename": "fastjar/jartool.c", "status": "removed", "additions": 0, "deletions": 2357, "changes": 2357, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjartool.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjartool.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjartool.c?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,2357 +0,0 @@\n-/*\n-  jartool.c - main functions for fastjar utility\n-  Copyright (C) 2002, 2004, 2005, 2006  Free Software Foundation\n-  Copyright (C) 1999, 2000, 2001  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n-*/\n-\n-/*\n-   Revision 1.10  2002/01/03 04:57:56  rodrigc\n-   2001-01-02  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n-\n-           PR bootstrap/5117\n-           * configure.in (AC_CHECK_HEADERS): Check for stdlib.h.\n-           * Makefile.am: Move grepjar to bin_PROGRAMS.\n-           * config.h.in: Regenerated.\n-           * Makefile.in: Regenerated.\n-           * aclocal.m4: Regenerated.\n-           * jargrep.c: Eliminate some signed/unsigned and default\n-           uninitialized warnings. Use HAVE_STDLIB_H instead of\n-           STDC_HEADERS macro.\n-           * jartool.c: Likewise.\n-           * compress.c: Likewise.\n-\n-   Revision 1.9  2001/10/12 00:49:42  bryce\n-           * jatool.c (extract_jar): Account for null termination when\n-   \tdetermining whether to expand \"filename\".\n-\n-   Revision 1.8  2001/08/29 01:35:31  apbianco\n-   2001-08-28  Alexandre Petit-Bianco  <apbianco@redhat.com>\n-\n-   \t* jartool.c (add_to_jar): Return 1 if `stat' initialy failed.\n-   \tFixes PR java/3949.\n-\n-   (http://gcc.gnu.org/ml/gcc-patches/2001-08/msg01641.html)\n-\n-   Revision 1.7  2001/08/27 23:09:37  tromey\n-   \t* jartool.c (jarfile): Remove length limitation.\n-   \t(main): Use jt_strdup when initializing jarfile.\n-\n-   Revision 1.6  2001/07/04 18:33:53  tromey\n-   \tModified from patch by Julian Hall <jules@acris.co.uk>:\n-   \t* jartool.c (errno): Conditionally declare.\n-   \t(O_BINARY): Conditionally define.\n-   \t(main): Use open, not creat.  Use O_BINARY everywhere.\n-   \t(make_manifest): Use O_BINARY.\n-   \t(add_to_jar): Likewise.\n-\n-   Revision 1.5  2001/05/03 21:40:47  danglin\n-   \t* jartool.c (jt_strdup): New function.\n-   \t(get_next_arg): Use jt_strdup instead of strdup.\n-\n-   Revision 1.4  2000/12/28 21:47:37  robertl\n-   2000-12-28  Robert Lipe <robertl@sco.com>\n-\n-           * jartool.c (MAXPATHLEN): Provide if not defined.\n-\n-   Revision 1.3  2000/12/14 18:45:35  ghazi\n-   Warning fixes:\n-\n-   \t* compress.c: Include stdlib.h and compress.h.\n-   \t(rcsid): Delete.\n-   \t(report_str_error): Make static.\n-   \t(ez_inflate_str): Delete unused variable.  Add parens in if-stmt.\n-   \t(hrd_inflate_str): Likewise.\n-\n-   \t* compress.h (init_compression, end_compression, init_inflation,\n-   \tend_inflation): Prototype void arguments.\n-\n-   \t* dostime.c (rcsid): Delete.\n-\n-   \t* jargrep.c: Include ctype.h, stdlib.h, zlib.h and compress.h.\n-   \tMake functions static.  Cast ctype function argument to `unsigned\n-   \tchar'.  Add parens in if-stmts.  Constify.\n-   \t(Usage): Change into a macro.\n-   \t(jargrep): Remove unused parameter.\n-\n-   \t* jartool.c: Constify.  Add parens in if-stmts.  Align\n-   \tsigned/unsigned char pointers in functions calls using casts.\n-   \t(rcsid): Delete.\n-   \t(list_jar): Fix printf format specifier.\n-   \t(usage): Chop long string into bits.  Reformat.\n-\n-   \t* pushback.c (rcsid): Delete.\n-\n-   Revision 1.2  2000/12/13 18:11:57  tromey\n-   \t* jartool.c (extract_jar): Use strchr, not index.\n-\n-   Revision 1.1  2000/12/09 03:08:23  apbianco\n-   2000-12-08  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-           * fastjar: Imported.\n-\n-   Revision 1.5  2000/08/24 15:01:27  cory\n-   Made certain that fastjar opened the jar file before trying to update it\n-   with the -u option.\n-\n-   Revision 1.4  2000/08/24 13:39:21  cory\n-   Changed +'s to |'s in jartool.c to insure there was no confusion with sign\n-   when byte swapping.  Better safe than sorry.\n-\n-   Revision 1.3  2000/08/23 19:42:17  cory\n-   Added support for more Unix platforms.  The following code has been hacked\n-   to work on AIX, Solaris, True 64, and HP-UX.\n-   Added bigendian check.  Probably works on most big and little endian platforms\n-   now.\n-\n-   Revision 1.2  1999/12/06 07:38:28  toast\n-   fixed recursive archiving bug\n-\n-   Revision 1.1.1.1  1999/12/06 03:09:34  toast\n-   initial checkin..\n-\n-\n-\n-   Revision 1.22  1999/10/12 19:45:13  burnsbr\n-   adding patch to fix compat problem\n-\n-   Revision 1.21  1999/05/10 09:15:49  burnsbr\n-   fixed manifest file version info\n-\n-   Revision 1.20  1999/05/10 08:53:16  burnsbr\n-   *** empty log message ***\n-\n-   Revision 1.19  1999/05/10 08:30:39  burnsbr\n-   added extract / listing code\n-\n-   Revision 1.18  1999/04/28 04:24:29  burnsbr\n-   updated version\n-\n-   Revision 1.17  1999/04/28 04:21:23  burnsbr\n-   added support for -C dir-changing flag.. Updated total compression display\n-\n-   Revision 1.16  1999/04/27 10:28:22  burnsbr\n-   updated version string\n-\n-   Revision 1.15  1999/04/27 10:04:06  burnsbr\n-   configure support\n-\n-   Revision 1.14  1999/04/27 08:56:14  burnsbr\n-   added -V flag, better error messages\n-\n-   Revision 1.13  1999/04/26 02:35:21  burnsbr\n-   changed all sorts of stuff.. compression now works 100%\n-\n-   Revision 1.12  1999/04/23 12:00:45  burnsbr\n-   90% done with compression code\n-\n-   Revision 1.11  1999/04/22 04:12:57  burnsbr\n-   finished first round of Manifest file support..\n-   might need to do more, digest etc..\n-\n-   Revision 1.10  1999/04/22 02:35:23  burnsbr\n-   added more manifest support, about 75% done now.  Replaced all the\n-   redundant shifts and bit-logic with a macro or two, making the code\n-   easier to read.\n-\n-   Revision 1.9  1999/04/21 09:55:16  burnsbr\n-   pulled out printfs\n-\n-   Revision 1.8  1999/04/21 02:58:01  burnsbr\n-   started manifest code\n-\n-   Revision 1.7  1999/04/20 23:15:28  burnsbr\n-   added patch sent by John Bley <jbb6@acpub.duke.edu>\n-\n-   Revision 1.6  1999/04/20 08:56:02  burnsbr\n-   added GPL comment\n-\n-   Revision 1.5  1999/04/20 08:16:09  burnsbr\n-   fixed verbose flag, did some optimization\n-\n-   Revision 1.4  1999/04/20 05:09:59  burnsbr\n-   added rcsid variable\n-\n-   Revision 1.3  1999/04/20 05:08:54  burnsbr\n-   fixed Log statement\n-\n-*/\n-\n-#include \"config.h\"\n-\n-#include <zlib.h>\n-\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-\n-#include <stdio.h>\n-#include <sys/stat.h>\n-#include <sys/types.h>\n-\n-#ifdef HAVE_SYS_PARAM_H\n-#include <sys/param.h>\n-#endif\n-\n-#ifndef MAXPATHLEN\n-#define MAXPATHLEN 1024\n-#endif\n-\n-#ifdef HAVE_DIRENT_H\n-#include <dirent.h>\n-#endif\n-\n-#ifdef HAVE_FCNTL_H\n-#include <fcntl.h>\n-#endif\n-\n-#include <string.h>\n-#include <errno.h>\n-\n-#ifdef TM_IN_SYS_TIME\n-#include <sys/time.h>\n-#else\n-#include <time.h>\n-#endif\n-\n-#include <getopt.h>\n-\n-#include \"jartool.h\"\n-#include \"zipfile.h\"\n-#include \"dostime.h\"\n-#include \"pushback.h\"\n-#include \"compress.h\"\n-#include \"shift.h\"\n-\n-/* Some systems have mkdir that takes a single argument.  */\n-#ifdef MKDIR_TAKES_ONE_ARG\n-# define mkdir(a,b) mkdir(a)\n-#endif\n-\n-\n-#ifdef WORDS_BIGENDIAN\n-\n-#define L2BI(l) ((l & 0xff000000) >> 24) | \\\n-\t\t((l & 0x00ff0000) >> 8)  | \\\n-\t\t((l & 0x0000ff00) << 8)  | \\\n-\t\t((l & 0x000000ff) << 24);\n-\n-#define L2BS(l) ((l & 0xff00) >> 8) | ((l & 0x00ff) << 8);\n-\n-#endif\n-\n-#ifndef errno\n-extern int errno;\n-#endif\n-\n-#ifndef O_BINARY\n-#define O_BINARY 0\n-#endif\n-\n-void usage(const char*);\n-void help(const char *);\n-void version(void);\n-void add_entry(struct zipentry *);\n-void init_headers(void);\n-\n-int consume(pb_file *, int);\n-int list_jar(int, char**, int);\n-int extract_jar(int, char**, int);\n-int add_file_to_jar(int, int, const char*, struct stat*, int);\n-int add_to_jar(int, const char*, int);\n-int add_to_jar_with_dir(int, const char*, const char*, int);\n-int create_central_header(int);\n-int make_manifest(int, const char*, int);\n-int read_entries (int);\n-static void init_args(char **, int);\n-static char *get_next_arg (void);\n-static char *jt_strdup (char*);\n-static void expand_options (int *argcp, char ***argvp);\n-static struct zipentry *find_entry (const char *);\n-static int looks_like_dir (const char *);\n-\n-/* global variables */\n-ub1 file_header[30];\n-ub1 data_descriptor[16];\n-int do_compress;\n-int seekable;\n-int verbose;\n-char *jarfile;\n-\n-/* If non zero, then don't recurse in directory. Instead, add the\n-   directory entry and relie on an explicit list of files to populate\n-   the archive. This option isn't supported by the original jar tool. */\n-int use_explicit_list_only;\n-\n-/* If non zero, then read the entry names from stdin. This option\n-   isn't supported by the original jar tool. */\n-int read_names_from_stdin;\n-\n-zipentry *ziplist; /* linked list of entries */\n-zipentry *ziptail; /* tail of the linked list */\n-\n-int number_of_entries; /* number of entries in the linked list */\n-\n-/* What we go by. */\n-const char *progname;\n-\n-/* The offset of the end of the last zip entry. */\n-ub4 end_of_entries;\n-\n-/* This is used to mark options with no short value.  */\n-#define LONG_OPT(Num)  ((Num) + 128)\n-\n-#define OPT_HELP     LONG_OPT (0)\n-\n-/* This holds all options.  */\n-#define OPTION_STRING \"-ctxuvVf:m:C:0MiE@\"\n-\n-/* Define the MANIFEST content here to have it easier with calculations\n-   below.  This is for the case we create an empty MANIFEST.MF.  */\n-#define MANIFEST_STR \"Manifest-Version: 1.0\\nCreated-By: \"\n-#define MANIFEST_END \"\\n\\n\"\n-\n-static const struct option options[] =\n-{\n-  { \"help\", no_argument, NULL, OPT_HELP },\n-  { \"version\", no_argument, NULL, 'V' },\n-  { NULL, no_argument, NULL, 0 }\n-};\n-\n-int main(int argc, char **argv)\n-{\n-\n-  char *mfile = NULL;\n-  \n-  int action = ACTION_NONE;\n-  int manifest = TRUE;\n-  int opt;\n-  \n-  int jarfd = -1;\n-  \n-  /* These are used to collect file names and `-C' options for the\n-     second pass through the command line.  */\n-  int new_argc;\n-  char **new_argv;\n-\n-  progname = argv[0];\n-\n-  do_compress = TRUE;\n-  verbose = FALSE;\n-  \n-  ziplist = NULL;\n-  \n-  number_of_entries = 0;\n-  \n-  if(argc < 2)\n-    usage(argv[0]);\n-  \n-  new_argc = 0;\n-  new_argv = (char **) malloc (argc * sizeof (char *));\n-\n-  expand_options (&argc, &argv);\n-  while ((opt = getopt_long (argc, argv, OPTION_STRING,\n-\t\t\t     options, NULL)) != -1) {\n-    switch(opt){\n-    case 'C':\n-      new_argv[new_argc++] = (char *) \"-C\";\n-      /* ... fall through ... */\n-    case 1:\n-      /* File name or unparsed option, due to RETURN_IN_ORDER.  */\n-      new_argv[new_argc++] = optarg;\n-      break;\n-    case 'c':\n-      action = ACTION_CREATE;\n-      break;\n-    case 't':\n-      action = ACTION_LIST;\n-      break;\n-    case 'x':\n-      action = ACTION_EXTRACT;\n-      break;\n-    case 'u':\n-      action = ACTION_UPDATE;\n-      break;\n-    case 'v':\n-      verbose = TRUE;\n-      break;\n-    case 'V':\n-      version();\n-      exit(0);\n-    case 'f':\n-      jarfile = optarg;\n-      break;\n-    case 'm':\n-      mfile = optarg;\n-      break;\n-    case '0':\n-      do_compress = FALSE;\n-      break;\n-    case 'M':\n-      manifest = FALSE;\n-      break;\n-    case 'i':\n-      action = ACTION_INDEX;\n-      break;\n-\n-    case OPT_HELP:\n-      help(argv[0]);\n-      break;\n-\n-    /* The following options aren't supported by the original jar tool. */\n-    case 'E':\n-      use_explicit_list_only = TRUE;\n-      break;\n-    case '@':\n-      read_names_from_stdin = TRUE;\n-      break;\n-    default:\n-      usage(argv[0]);\n-    }\n-  }\n-\n-  if(verbose && action == ACTION_INDEX)\n-    fprintf(stderr, \"Warning: '-i' option is currently a no-op\\n\");\n-\n-  /* FIXME: implement -i option. */\n-  if(action == ACTION_INDEX)\n-    exit(0);\n-\n-  /* We might have seen `--'.  In this case we want to make sure that\n-     all following options are handled as file names.  */\n-  while (optind < argc)\n-    new_argv[new_argc++] = argv[optind++];\n-  new_argv[new_argc] = NULL;\n-\n-  if(action == ACTION_NONE){\n-    fprintf(stderr, \"%s: one of options -{ctxu} must be specified.\\n\",\n-\t    progname);\n-    usage(argv[0]);\n-  }\n-\n-  /* Verify unsupported combinations and warn of the use of non\n-     standard features */\n-  if(verbose && use_explicit_list_only)\n-    fprintf (stderr, \"Warning: using non standard '-E' option\\n\");\n-  if(verbose && read_names_from_stdin)\n-    fprintf (stderr, \"Warning: using non standard '-@' option\\n\");\n-  if(read_names_from_stdin\n-      && (action != ACTION_CREATE && action != ACTION_UPDATE)){\n-      fprintf(stderr, \"%s: option '-@' is supported only with '-c' or '-u'.\\n\",\n-\t      progname);\n-      usage(argv[0]);\n-  }\n-\n-  /* create the jarfile */\n-  if(action == ACTION_CREATE){\n-    if(jarfile){\n-      jarfd = open(jarfile, O_CREAT | O_BINARY | O_WRONLY | O_TRUNC, 0666);\n-\n-      if(jarfd < 0){\n-        fprintf(stderr, \"%s: error opening %s for writing: %s\\n\", progname,\n-\t\tjarfile, strerror (errno));\n-        exit(1);\n-      }\n-      \n-      /* We assume that the file is seekable */\n-      seekable = TRUE;\n-      \n-    } else {\n-      \n-      jarfd = STDOUT_FILENO;  /* jarfd is stdout otherwise */\n-      \n-      /* standard out is not seekable */\n-      seekable = FALSE;\n-      \n-      /* don't want our output to be part of the jar file.. figured this one\n-         out the hard way.. =P */\n-      verbose = FALSE;\n-    }\n-  } else if(action == ACTION_LIST || action == ACTION_EXTRACT){\n-\n-    if(jarfile){\n-      jarfd = open(jarfile, O_RDONLY | O_BINARY);\n-\n-      if(jarfd < 0){\n-        fprintf(stderr, \"%s: error opening %s for reading: %s\\n\", progname,\n-\t\tjarfile, strerror (errno));\n-        exit(1);\n-      }\n-\n-      seekable = TRUE;\n-    } else {\n-      jarfd = STDIN_FILENO; /* jarfd is standard in */\n-\n-      /* we assume that the stream isn't seekable for safety */\n-      seekable = FALSE;\n-    }\n-  }\n-\n-  if (action == ACTION_UPDATE)\n-    {\n-      if (!jarfile)\n-\t{\n-\t  fprintf (stderr, \"%s: `-u' mode requires a file name\\n\",\n-\t\t   argv[0]);\n-\t  exit (1);\n-\t}\n-\n-      if ((jarfd = open (jarfile, O_RDWR | O_BINARY)) < 0)\n-\t{\n-\t  fprintf (stderr, \"Error opening %s for reading!\\n\", jarfile);\n-\t  perror (jarfile);\n-\t  exit (1);\n-\t}\n-\n-      /* Assert that jarfd is seekable. */\n-      if (lseek (jarfd, 0, SEEK_CUR) == -1)\n-\t{\n-\t  fprintf (stderr, \"%s: %s is not seekable\\n\", argv[0], jarfile);\n-\t  exit (1);\n-\t}\n-\n-      seekable = TRUE;\n-    }\n-\n-  if(action == ACTION_CREATE || action == ACTION_UPDATE){\n-    const char *arg;\n-    init_headers();\n-\n-    if(do_compress)\n-      init_compression();\n-\n-    if (action == ACTION_UPDATE)\n-      {\n-\tif (read_entries (jarfd))\n-\t  exit (1);\n-      }\n-\n-    /* Add the META-INF/ directory and the manifest */\n-    if(manifest && mfile)\n-      make_manifest(jarfd, mfile, action == ACTION_UPDATE);\n-    else if(manifest && action == ACTION_CREATE)\n-      make_manifest(jarfd, NULL, FALSE);\n-\n-    init_args (new_argv, 0);\n-    /* now we add the files to the archive */\n-    while ((arg = get_next_arg ())){\n-\n-      if(!strcmp(arg, \"-C\")){\n-\tconst char *dir_to_change = get_next_arg ();\n-\tconst char *file_to_add = get_next_arg ();\n-        if (!dir_to_change || !file_to_add) {\n-          fprintf(stderr, \"%s: error: missing argument for -C.\\n\", progname);\n-          exit(1);\n-        }\n-\tif (add_to_jar_with_dir(jarfd, dir_to_change, file_to_add,\n-\t\t\t\taction == ACTION_UPDATE))\n-\t  {\n-\t    fprintf(stderr,\n-\t\t    \"Error adding %s (in directory %s) to jar archive!\\n\",\n-\t\t    file_to_add, dir_to_change);\n-\t    exit(1);\n-\t  }\n-      } else {\n-        if(add_to_jar(jarfd, arg, action == ACTION_UPDATE)){\n-          fprintf(stderr, \"Error adding %s to jar archive!\\n\", arg);\n-          exit(1);\n-        }\n-      }\n-    }\n-    /* de-initialize the compression DS */\n-    if(do_compress)\n-      end_compression();\n-\n-    if (action == ACTION_UPDATE)\n-      lseek (jarfd, end_of_entries, SEEK_SET);\n-    \n-    create_central_header(jarfd);\n-\n-#if ! (HAVE_FTRUNCATE || HAVE__CHSIZE)\n-  #error neither ftruncate() or _chsize() available\n-#endif\n-    /* Check if the file shrunk when we updated it. */\n-    if (action == ACTION_UPDATE)\n-#if HAVE_FTRUNCATE\n-      ftruncate (jarfd, lseek (jarfd, 0, SEEK_CUR));\n-#else\n-      _chsize (jarfd, lseek (jarfd, 0, SEEK_CUR));\n-#endif\n-\n-    if (jarfd != STDIN_FILENO && close(jarfd) != 0) {\n-      fprintf(stderr, \"%s: error closing jar archive: %s\\n\",\n-\t      progname, strerror (errno));\n-      exit (1);\n-    }\n-  } else if(action == ACTION_LIST){\n-    list_jar(jarfd, &new_argv[0], new_argc);\n-  } else if(action == ACTION_EXTRACT){\n-    extract_jar(jarfd, &new_argv[0], new_argc);\n-  }\n-  \n-  exit(0);\n-}\n-\n-static int args_current_g;\n-static char **args_g;\n-\n-static void \n-init_args(char **args, int current)\n-{\n-  if(!read_names_from_stdin)\n-    {\n-      args_g = args;\n-      args_current_g = current;\n-    }\n-}\n-\n-static char *\n-get_next_arg (void)\n-{\n-  static int reached_end = 0;\n-\n-  if (reached_end)\n-    return NULL;\n-\n-  if (args_g)\n-    {\n-      if (!args_g [args_current_g])\n-\t{\n-\t  reached_end = 1;\n-\t  return NULL;\n-\t}\n-      return args_g [args_current_g++];\n-    }\n-  else\n-    {\n-      /* Read the name from stdin. Delimiters are '\\n' and\n-\t '\\r'. Reading EOF indicates that we don't have anymore file\n-\t names characters to read. */\n-\n-      char s [MAXPATHLEN];\n-      int  pos = 0;\n-\n-      /* Get rid of '\\n' and '\\r' first. */\n-      while (1)\n-\t{\n-\t  int c = getc (stdin);\n-\t  if (c == '\\n' || c == '\\r')\n-\t    continue;\n-\t  else\n-\t    {\n-\t      if (c == EOF)\n-\t\treturn NULL;\n-\t      ungetc (c, stdin);\n-\t      break;\n-\t    }\n-\t}\n-\n-      while (1)\n-\t{\n-\t  int c = getc (stdin);\n-\t  /* Exit when we get a delimiter or don't have any characters\n-             to read */\n-\t  if (c == '\\n'|| c == '\\r'|| c == EOF)\n-\t    break;\n-\t  s [pos++] = (char) c;\n-\t}\n-\n-      if (pos)\n-\t{\n-\t  s [pos] = '\\0';\n-\t  return jt_strdup (s);\n-\t}\n-      else\n-\treturn NULL;\n-    }\n-}\n-\n-void init_headers(void)\n-{\n-  /* packing file header */\n-  /* magic number */\n-  file_header[0] = 0x50;\n-  file_header[1] = 0x4b;\n-  file_header[2] = 0x03;\n-  file_header[3] = 0x04;\n-  /* version number (Unix 1.0)*/\n-  file_header[4] = 10;\n-  file_header[5] = 0;\n-  /* bit flag (normal deflation)*/\n-  file_header[6] = 0x00;\n-\n-  file_header[7] = 0x00;\n-  /* do_compression method (deflation) */\n-  file_header[8] = 0;\n-  file_header[9] = 0;\n-\n-  /* last mod file time (MS-DOS format) */\n-  file_header[10] = 0;\n-  file_header[11] = 0;\n-  /* last mod file date (MS-DOS format) */\n-  file_header[12] = 0;\n-  file_header[13] = 0;\n-  /* CRC 32 */\n-  file_header[14] = 0;\n-  file_header[15] = 0;\n-  file_header[16] = 0;\n-  file_header[17] = 0;\n-  /* compressed size */\n-  file_header[18] = 0;\n-  file_header[19] = 0;\n-  file_header[20] = 0;\n-  file_header[21] = 0;\n-  /* uncompressed size */\n-  file_header[22] = 0;\n-  file_header[23] = 0;\n-  file_header[24] = 0;\n-  file_header[25] = 0;\n-  /* filename length */\n-  file_header[26] = 0;\n-  file_header[27] = 0;\n-  /* extra field length */\n-  file_header[28] = 0;\n-  file_header[29] = 0;\n-\n-  /* Initialize the compression DS */\n-  PACK_UB4(data_descriptor, 0, 0x08074b50);\n-  \n-}\n-\n-void add_entry(struct zipentry *ze)\n-{\n-\n-  if(ziplist == NULL){\n-    ziplist = ze;\n-    ziptail = ziplist;\n-  } else {\n-    ziplist->next_entry = ze;\n-    ziplist = ze;\n-  }\n-  \n-  number_of_entries++;\n-}\n-\n-static struct zipentry *\n-find_entry (const char *fname)\n-{\n-  struct zipentry *ze;\n-\n-  for (ze = ziptail; ze; ze = ze->next_entry)\n-    {\n-      if (!strcmp (ze->filename, fname))\n-\treturn ze;\n-    }\n-  return NULL;\n-}\n-\n-\n-static int\n-looks_like_dir (const char *fname)\n-{\n-  struct zipentry *ze;\n-  size_t len = strlen (fname);\n-\n-  for (ze = ziptail; ze; ze = ze->next_entry)\n-    {\n-      if (strlen (ze->filename) > len\n-\t  && !strncmp (fname, ze->filename, len)\n-\t  && ze->filename[len] == '/')\n-\treturn 1;\n-    }\n-  return 0;\n-}\n-\n-\n-/*\n- * Read the zip entries of an existing file, building `ziplist' as we go.\n- */\n-int read_entries (int fd)\n-{\n-  struct zipentry *ze;\n-  ub1 intbuf[4];\n-  ub1 header[46];\n-  ub2 len;\n-  ub2 count, i;\n-  off_t offset;\n-\n-  if (lseek (fd, -22, SEEK_END) == -1)\n-    {\n-      fprintf (stderr, \"%s: %s: can't seek file\\n\", progname, jarfile);\n-      return 1;\n-    }\n-\n-  if (read (fd, intbuf, 4) < 4)\n-    {\n-      perror (progname);\n-      return 1;\n-    }\n-  /* Is there a zipfile comment? */\n-  while (UNPACK_UB4(intbuf, 0) != 0x06054b50)\n-    {\n-      if (lseek (fd, -5, SEEK_CUR) == -1 ||\n-\t  read (fd, intbuf, 4) != 4)\n-\t{\n-\t  fprintf (stderr, \"%s: can't find end of central directory: %s\\n\",\n-\t\t   progname, strerror (errno));\n-\t  return 1;\n-\t}\n-    }\n-\n-  /* Skip disk numbers. */\n-  if (lseek (fd, 6, SEEK_CUR) == -1)\n-    {\n-      perror (progname);\n-      return 1;\n-    }\n-\n-  /* Number of entries in the central directory. */\n-  if (read (fd, intbuf, 2) != 2)\n-    {\n-      perror (progname);\n-      return 1;\n-    }\n-  count = UNPACK_UB2(intbuf, 0);\n-\n-  if (lseek (fd, 4, SEEK_CUR) == -1)\n-    {\n-      perror (progname);\n-      return 1;\n-    }\n-\n-  /* Offset where the central directory begins. */\n-  if (read (fd, intbuf, 4) != 4)\n-    {\n-      perror (progname);\n-      return 1;\n-    }\n-  offset = UNPACK_UB4(intbuf, 0);\n-  end_of_entries = offset;\n-\n-  if (lseek (fd, offset, SEEK_SET) != offset)\n-    {\n-      perror (progname);\n-      return 1;\n-    }\n-\n-  if (read (fd, header, 46) != 46)\n-    {\n-      fprintf (stderr, \"%s: %s: unexpected end of file\\n\",\n-\t       progname, jarfile);\n-      return 1;\n-    }\n-\n-  for (i = 0; i < count; i++)\n-    {\n-      if (UNPACK_UB4(header, 0) != 0x02014b50)\n-\t{\n-\t  fprintf (stderr, \"%s: can't find central directory header\\n\",\n-\t\t   progname);\n-\t  return 1;\n-\t}\n-      ze = (struct zipentry *) malloc (sizeof (struct zipentry));\n-      if (!ze)\n-\t{\n-\t  perror (progname);\n-\t  return 1;\n-\t}\n-      memset (ze, 0, sizeof (struct zipentry));\n-      ze->flags = UNPACK_UB2(header, CEN_FLAGS);\n-      ze->mod_time = UNPACK_UB2(header, CEN_MODTIME);\n-      ze->mod_date = UNPACK_UB2(header, CEN_MODDATE);\n-      ze->crc = UNPACK_UB4(header, CEN_CRC);\n-      ze->usize = UNPACK_UB4(header, CEN_USIZE);\n-      ze->csize = UNPACK_UB4(header, CEN_CSIZE);\n-      ze->offset = UNPACK_UB4(header, CEN_OFFSET);\n-      ze->compressed = (header[CEN_COMP] || header[CEN_COMP+1]);\n-      len = UNPACK_UB2(header, CEN_FNLEN);\n-      ze->filename = (char *) malloc ((len+1) * sizeof (char));\n-      if (!ze->filename)\n-\t{\n-\t  perror (progname);\n-\t  return 1;\n-\t}\n-      if (read (fd, ze->filename, len) != len)\n-\t{\n-\t  fprintf (stderr, \"%s: %s: unexpected end of file\\n\",\n-\t\t   progname, jarfile);\n-\t  return 1;\n-\t}\n-      len = UNPACK_UB4(header, CEN_EFLEN);\n-      len += UNPACK_UB4(header, CEN_COMLEN);\n-      if (lseek (fd, len, SEEK_CUR) == -1)\n-\t{\n-\t  perror (progname);\n-\t  return 1;\n-\t}\n-      add_entry (ze);\n-      if (i < count - 1)\n-\t{\n-\t  if (read (fd, header, 46) != 46)\n-\t    {\n-\t      fprintf (stderr, \"%s: %s: unexpected end of file\\n\",\n-\t\t       progname, jarfile);\n-\t      return 1;\n-\t    }\n-\t}\n-    }\n-\n-  lseek (fd, 0, SEEK_SET);\n-  return 0;\n-}\n-\n-int make_manifest(int jfd, const char *mf_name, int updating)\n-{\n-  time_t current_time;\n-  int nlen;   /* length of file name */\n-  int mod_time; /* file modification time */\n-  struct zipentry *ze;\n-  \n-  nlen = 9;  /* trust me on this one */\n-\n-  memset((file_header + 12), '\\0', 16); /*clear mod time, crc, size fields*/\n-  \n-  current_time = time(NULL);\n-  if(current_time == (time_t)-1){\n-    perror(\"time\");\n-    exit(1);\n-  }\n-\n-  mod_time = unix2dostime(&current_time);\n-  \n-  PACK_UB2(file_header, LOC_EXTRA, 0);\n-  PACK_UB2(file_header, LOC_COMP, 0);\n-  PACK_UB2(file_header, LOC_FNLEN, nlen);\n-  PACK_UB4(file_header, LOC_MODTIME, mod_time);\n-  \n-  if(verbose)\n-    printf(\"adding: META-INF/ (in=0) (out=0) (stored 0%%)\\n\");\n-  \n-  ze = (zipentry*)malloc(sizeof(zipentry));\n-  if(ze == NULL){\n-    perror(\"malloc\");\n-    exit(1);\n-  }\n-  \n-  memset(ze, 0, sizeof(zipentry)); /* clear all the fields*/\n-  ze->filename = (char*)malloc((nlen + 1) * sizeof(char) + 1);\n-  strcpy(ze->filename, \"META-INF/\");\n-  ze->filename[nlen] = '\\0';\n-    \n-  ze->offset = lseek(jfd, 0, SEEK_CUR);\n-  ze->mod_time = (ub2)(mod_time & 0x0000ffff);\n-  ze->mod_date = (ub2)((mod_time & 0xffff0000) >> 16);\n-  ze->compressed = FALSE;\n-\n-  add_entry(ze);\n-  \n-  write(jfd, file_header, 30);\n-  write(jfd, \"META-INF/\", nlen);\n-\n-  /* if the user didn't specify an external manifest file... */\n-  if(mf_name == NULL){\n-    \n-    int mf_len = strlen(MANIFEST_STR) + strlen(VERSION) + strlen(MANIFEST_END);\n-    char *mf;\n-\n-    if((mf = (char *) malloc(mf_len + 1))) {\n-    uLong crc;\n-\n-    sprintf(mf, \"%s%s%s\", MANIFEST_STR, VERSION, MANIFEST_END);\n-\n-    crc = crc32(0L, Z_NULL, 0);\n-    \n-    crc = crc32(crc, (const unsigned char *)mf, mf_len);\n-\n-    nlen = 20;  /* once again, trust me */\n-\n-    PACK_UB2(file_header, LOC_EXTRA, 0);\n-    PACK_UB2(file_header, LOC_COMP, 0);\n-    PACK_UB2(file_header, LOC_FNLEN, nlen);\n-    PACK_UB4(file_header, LOC_USIZE, mf_len);\n-    \n-    memcpy((file_header + LOC_CSIZE), (file_header + LOC_USIZE), 4);\n-    \n-    PACK_UB4(file_header, LOC_CRC, crc);\n-\n-    if(verbose)\n-      printf(\"adding: META-INF/MANIFEST.MF (in=56) (out=56) (stored 0%%)\\n\");\n-    \n-    ze = (zipentry*)malloc(sizeof(zipentry));\n-    if(ze == NULL){\n-      perror(\"malloc\");\n-      exit(1);\n-    }\n-    \n-    memset(ze, 0, sizeof(zipentry)); /* clear all the fields*/\n-    ze->filename = (char*)malloc((nlen + 1) * sizeof(char) + 1);\n-    strcpy(ze->filename, \"META-INF/MANIFEST.MF\");\n-    ze->filename[nlen] = '\\0';\n-    \n-    ze->offset = lseek(jfd, 0, SEEK_CUR);\n-    ze->mod_time = (ub2)(mod_time & 0x0000ffff);\n-    ze->mod_date = (ub2)((mod_time & 0xffff0000) >> 16);\n-    ze->crc = crc;\n-    ze->csize = mf_len;\n-    ze->usize = ze->csize;\n-    ze->compressed = FALSE;\n-    \n-    add_entry(ze);\n-    \n-    write(jfd, file_header, 30);\n-    write(jfd, \"META-INF/MANIFEST.MF\", nlen);\n-    write(jfd, mf, mf_len);\n-    free(mf);\n-    }\n-    else {\n-\tprintf(\"malloc errror\\n\");\n-\texit(-1);\n-    }\n-  } else {\n-    int mfd;\n-    struct stat statbuf;\n-\n-    stat(mf_name, &statbuf);\n-\n-    if(!S_ISREG(statbuf.st_mode)){\n-      fprintf(stderr, \"Invalid manifest file specified.\\n\");\n-      exit(1);\n-    }\n-  \n-    mfd = open(mf_name, O_RDONLY | O_BINARY);\n-\n-    if(mfd < 0){\n-      fprintf(stderr, \"Error opening %s.\\n\", mf_name);\n-      exit(1);\n-    }\n-\n-    if(add_file_to_jar(jfd, mfd, \"META-INF/MANIFEST.MF\", &statbuf, updating)){\n-      perror(\"error writing to jar\");\n-      exit(1);\n-    }\n-\n-  }\n-\n-  return 0;\n-}\n-\n-/* Implements -C by wrapping add_to_jar.  new_dir is the directory \n-   to switch to.\n-\n-   `updating', if nonzero, will indicate that we are updating an\n-   existing file, and will need to take special care. If set, we will\n-   also expect that the linked list of zip entries will be filled in\n-   with the jar file's current contents.\n- */\n-int \n-add_to_jar_with_dir (int fd, const char* new_dir, const char* file,\n-\t\t     const int updating)\n-{\n-  int retval;\n-  char old_dir[MAXPATHLEN]; \n-  if (getcwd(old_dir, MAXPATHLEN) == NULL) {\n-    perror(\"getcwd\");\n-    return 1;\n-  }\n-  if (chdir(new_dir) == -1) {\n-    perror(new_dir);\n-    return 1;\n-  }\n-  retval=add_to_jar(fd, file, updating);\n-  if (chdir(old_dir) == -1) {\n-    perror(old_dir);\n-    return 1;\n-  }\n-  return retval;\n-}\n-\n-int \n-add_to_jar (int fd, const char *file, const int updating)\n-{\n-  struct stat statbuf;\n-  DIR *dir;\n-  struct dirent *de;\n-  zipentry *ze;\n-  zipentry *existing = NULL;\n-  int stat_return;\n-\n-  /* This is a quick compatibility fix -- Simon Weijgers <simon@weijgers.com> \n-   * It fixes this:\n-   *   \"normal\" jar : org/apache/java/io/LogRecord.class\n-   *   fastjar      : ./org/apache/java/io/LogRecord.class\n-   * Fastjar's preservation of the ./'s makes the jarfile unusuable for use \n-   * with both kaffe-1.0b4 and JDK.\n-   */\n-  while (*file=='.' && *(file+1)=='/')\n-    file+=2;\n-  \n-  if(jarfile && !strcmp(file, jarfile)){\n-    if(verbose)\n-      printf(\"skipping: %s\\n\", file);\n-    return 0;  /* we don't want to add ourselves.. */\n-  }\n-\n-  stat_return = stat(file, &statbuf);\n-  \n-  if(stat_return == -1){\n-    perror(file);\n-    return 1;\n-  } else if(S_ISDIR(statbuf.st_mode)){\n-    char *fullname;\n-    char *t_ptr;\n-    int nlen;\n-    unsigned long mod_time;\n-\n-    dir = opendir(file);\n-    \n-    if(dir == NULL){\n-      perror(\"opendir\");\n-      return 1;\n-    }\n-    \n-    nlen = strlen(file) + 256;\n-    fullname = (char*)malloc(nlen * sizeof(char));\n-    memset(fullname, 0, (nlen * sizeof(char)));\n-    \n-    if(fullname == NULL){\n-      fprintf(stderr, \"Filename is NULL!\\n\");\n-      return 1;\n-    }\n-\n-    strcpy(fullname, file);\n-    nlen = strlen(file);\n-\n-    if(fullname[nlen - 1] != '/'){\n-      fullname[nlen] = '/';\n-      t_ptr = (fullname + nlen + 1);\n-    } else\n-      t_ptr = (fullname + nlen);\n-\n-\n-    memset((file_header + 12), '\\0', 16); /*clear mod time, crc, size fields*/\n-    \n-    nlen = (t_ptr - fullname);\n-\n-    mod_time = unix2dostime(&statbuf.st_mtime);\n-\n-    PACK_UB2(file_header, LOC_EXTRA, 0);\n-    PACK_UB2(file_header, LOC_COMP, 0);\n-    PACK_UB2(file_header, LOC_FNLEN, nlen);\n-    PACK_UB4(file_header, LOC_MODTIME, mod_time);\n-\n-    ze = (zipentry*)malloc(sizeof(zipentry));\n-    if(ze == NULL){\n-      perror(\"malloc\");\n-      exit(1);\n-    }\n-\n-    memset(ze, 0, sizeof(zipentry)); /* clear all the fields*/\n-    ze->filename = (char*)malloc((nlen + 1) * sizeof(char) + 1);\n-    strcpy(ze->filename, fullname);\n-    ze->filename[nlen] = '\\0';\n-    \n-    ze->offset = lseek(fd, 0, SEEK_CUR);\n-    ze->mod_time = (ub2)(mod_time & 0x0000ffff);\n-    ze->mod_date = (ub2)((mod_time & 0xffff0000) >> 16);\n-    ze->compressed = FALSE;\n-\n-    if (updating)\n-      {\n-\tif ((existing = find_entry (ze->filename)) != NULL)\n-\t  {\n-\t    if (existing->usize != 0)\n-\t      {\n-\t\t/* XXX overwriting non-directory with directory? */\n-\t\tfprintf (stderr, \"%s: %s: can't overwrite non-directory with directory\\n\",\n-\t\t\t progname, fullname);\n-\t\treturn 1;\n-\t      }\n-\t  }\n-\tif (lseek (fd, end_of_entries, SEEK_SET) == -1)\n-\t  {\n-\t    fprintf (stderr, \"%s %d\\n\", __FILE__, __LINE__);\n-\t    perror (\"lseek\");\n-\t    return 1;\n-\t  }\n-      }\n-\n-    if (!existing)\n-      {\n-\tadd_entry (ze);\n-\twrite (fd, file_header, 30);\n-\twrite (fd, fullname, nlen);\n-\tend_of_entries = lseek (fd, 0, SEEK_CUR);\n-\n-\tif (verbose)\n-\t  printf (\"adding: %s (in=%d) (out=%d) (stored 0%%)\\n\", fullname, 0, 0);\n-      }\n-\n-    while(!use_explicit_list_only && (de = readdir(dir)) != NULL){\n-      if(de->d_name[0] == '.')\n-        continue;\n-      if(jarfile && !strcmp(de->d_name, jarfile)){\n-\t/* we don't want to add ourselves.  Believe me */\n-        if(verbose)\n-          printf(\"skipping: %s\\n\", de->d_name);\n-        continue;\n-      }\n-\n-      strcpy(t_ptr, de->d_name);\n-\n-      if (add_to_jar(fd, fullname, updating)) {\n-        fprintf(stderr, \"Error adding file to jar!\\n\");\n-        return 1;\n-      }\n-    }\n-\n-    free(fullname);\n-    closedir(dir);\n-      \n-  } else if(S_ISREG(statbuf.st_mode)){\n-    int add_fd;\n-\n-    add_fd = open(file, O_RDONLY | O_BINARY);\n-    if(add_fd < 0){\n-      fprintf(stderr, \"Error opening %s.\\n\", file);\n-      return 1;\n-    }\n-    \n-    if(add_file_to_jar(fd, add_fd, file, &statbuf, updating)){\n-      fprintf(stderr, \"Error adding file to jar!\\n\");\n-      return 1;\n-    }\n-    \n-  } else {\n-    fprintf(stderr, \"Illegal file specified: %s\\n\", file);\n-  }\n-  return 0;\n-}\n-\n-int add_file_to_jar(int jfd, int ffd, const char *fname, struct stat *statbuf,\n-\t\t    const int updating)\n-{\n-  unsigned short file_name_length;\n-  unsigned long mod_time;\n-  ub1 rd_buff[RDSZ];\n-  uLong crc = 0;\n-  off_t offset = 0;\n-  int rdamt;\n-  struct zipentry *ze;\n-  struct zipentry *existing = NULL;\n-\n-  if (updating)\n-    {\n-      existing = find_entry (fname);\n-      if (existing && looks_like_dir (fname))\n-\t{\n-\t  fprintf (stderr, \"%s: %s is a directory in the archive\\n\",\n-\t\t   progname, fname);\n-\t  return 1;\n-\t}\n-    }\n-\n-  mod_time = unix2dostime(&(statbuf->st_mtime));\n-  file_name_length = strlen(fname);\n-\n-  if(!seekable && !do_compress){\n-    crc = crc32(0L, Z_NULL, 0); \n-    \n-    while((rdamt = read(ffd, rd_buff, RDSZ)) != 0) \n-      crc = crc32(crc, rd_buff, rdamt); \n-    \n-    lseek(ffd, 0, SEEK_SET);\n-  }\n-  \n-  /* data descriptor */\n-  if(!seekable && do_compress){\n-    PACK_UB2(file_header, LOC_EXTRA, 8);\n-  } else {\n-    PACK_UB2(file_header, LOC_EXTRA, 0);\n-  }\n-  \n-  if(do_compress){\n-    PACK_UB2(file_header, LOC_COMP, 8);\n-  } else {\n-    PACK_UB2(file_header, LOC_COMP, 0);\n-  }\n-    \n-  PACK_UB4(file_header, LOC_MODTIME, mod_time);\n-  PACK_UB2(file_header, LOC_FNLEN, file_name_length);\n-  \n-  if(!seekable && !do_compress){\n-    PACK_UB4(file_header, LOC_CRC, crc);\n-    PACK_UB4(file_header, LOC_USIZE, statbuf->st_size); \n-    PACK_UB4(file_header, LOC_CSIZE, statbuf->st_size);\n-  } else \n-    memset((file_header + LOC_CRC), '\\0', 12); /* clear crc/usize/csize */\n-  \n-  ze = (zipentry*)malloc(sizeof(zipentry));\n-  if(ze == NULL){\n-    perror(\"malloc\");\n-    exit(1);\n-  }\n-  \n-  memset(ze, 0, sizeof(zipentry)); /* clear all the fields*/\n-  ze->filename = (char*)malloc((file_name_length + 1) * sizeof(char));\n-  strcpy(ze->filename, fname);\n-\n-  ze->mod_time = (ub2)(mod_time & 0x0000ffff);\n-  ze->mod_date = (ub2)((mod_time & 0xffff0000) >> 16);\n-\n-  if(!seekable && !do_compress)\n-    ze->crc = crc;\n-\n-  ze->csize = statbuf->st_size;\n-  ze->usize = ze->csize;\n-\n-  if (existing)\n-    ze->offset = existing->offset;\n-  else if (updating)\n-    ze->offset = end_of_entries;\n-  else\n-    ze->offset = lseek(jfd, 0, SEEK_CUR);\n-\n-  if(do_compress)\n-    ze->compressed = TRUE;\n-  else\n-    ze->compressed = FALSE;\n-\n-  if (!existing)\n-    add_entry(ze);\n-  if (updating && lseek (jfd, ze->offset, SEEK_SET) < 0)\n-    {\n-      perror (\"lseek\");\n-      return 1;\n-    }\n-\n-  /* We can safely write the header here, since it will be the same size\n-     as before */\n-  \n-  /* Write the local header */\n-  write(jfd, file_header, 30);\n-    \n-  /* write the file name to the zip file */\n-  write(jfd, fname, file_name_length);\n-\n-\n-  if(verbose){\n-    if (existing)\n-      printf (\"updating: %s \", fname);\n-    else\n-      printf(\"adding: %s \", fname);\n-    fflush(stdout);\n-  }\n- \n-  if(do_compress){\n-    /* compress the file */\n-    compress_file(ffd, jfd, ze, existing);\n-  } else {\n-    /* If we are not writing the last entry, make space for it. */\n-    if (existing && existing->next_entry)\n-      {\n-\tif (ze->usize > existing->usize)\n-\t  {\n-\t    if (shift_down (jfd, existing->next_entry->offset,\n-\t\t\t    ze->usize - existing->usize, existing->next_entry))\n-\t      {\n-\t\tfprintf (stderr, \"%s: %s\\n\", progname, strerror (errno));\n-\t\treturn 1;\n-\t      }\n-\t  }\n-      }\n-\n-    /* Write the contents of the file (uncompressed) to the zip file */\n-    /* calculate the CRC as we go along */\n-    ze->crc = crc32(0L, Z_NULL, 0); \n-      \n-    while((rdamt = read(ffd, rd_buff, RDSZ)) != 0){\n-      ze->crc = crc32(ze->crc, rd_buff, rdamt);\n-      if(write(jfd, rd_buff, rdamt) != rdamt){\n-        perror(\"write\");\n-        return 0;\n-      }\n-    }\n-  }\n-  close(ffd);\n-  \n-  /* write out data descriptor */\n-  PACK_UB4(data_descriptor, 4, ze->crc);\n-  PACK_UB4(data_descriptor, 8, ze->csize);\n-  PACK_UB4(data_descriptor, 12, ze->usize);\n-\n-  /* we need to seek back and fill the header */\n-  if(seekable){\n-    offset = (ze->csize + strlen(ze->filename) + 16);\n-    \n-    if(lseek(jfd, -offset, SEEK_CUR) == (off_t)-1){\n-      perror(\"lseek\");\n-      exit(1);\n-    }\n-\n-    if(write(jfd, (data_descriptor + 4), 12) != 12){\n-      perror(\"write\");\n-      return 0;\n-    }\n-    \n-    offset -= 12;\n-\n-    if(lseek(jfd, offset, SEEK_CUR) == (off_t)-1){\n-      perror(\"lseek\");\n-      exit(1);\n-    }\n-  } else if(do_compress){\n-    /* Sun's jar tool will only allow a data descriptor if the entry is\n-       compressed, but we'll save 16 bytes/entry if we only use it when\n-       we can't seek back on the file */\n-    /* Technically, you CAN'T have a data descriptor unless the data\n-       part has an obvious end, which DEFLATED does. Otherwise, there\n-       would not be any way to determine where the data descriptor is.\n-       Store an uncompressed file that ends with 0x504b0708, and see.\n-       -- csm */\n-    \n-    if(write(jfd, data_descriptor, 16) != 16){\n-      perror(\"write\");\n-      return 0;\n-    }\n-  }\n-\n-  if (existing)\n-    {\n-      int dd = (existing->flags & (1 << 3)) ? 12 : 0;\n-      if (existing->next_entry && ze->csize < existing->csize + dd)\n-\t{\n-\t  if (shift_up (jfd, existing->next_entry->offset,\n-\t\t\texisting->csize + dd - ze->csize,\n-\t\t\texisting->next_entry))\n-\t    {\n-\t      perror (progname);\n-\t      return 1;\n-\t    }\n-\t}\n-      /* Replace the existing entry data with this entry's. */\n-      existing->csize = ze->csize;\n-      existing->usize = ze->usize;\n-      existing->crc = ze->crc;\n-      existing->mod_time = ze->mod_time;\n-      existing->mod_date = ze->mod_date;\n-      free (ze->filename);\n-      free (ze);\n-    }\n-  else if (updating)\n-    end_of_entries = lseek (jfd, 0, SEEK_CUR);\n-  \n-  if(verbose)\n-    printf(\"(in=%d) (out=%d) (%s %d%%)\\n\", \n-           (int)ze->usize, (int)ze->csize,\n-           (do_compress ? \"deflated\" : \"stored\"),\n-           (do_compress ? ((int)((1 - ze->csize/(float)ze->usize) * 100)) : 0));\n-\n-  return 0;\n-}\n-\n-int create_central_header(int fd){\n-  ub1 header[46];\n-  ub1 end_header[22];\n-  int start_offset;\n-  int dir_size;\n-  int total_in = 0, total_out = 22;\n-\n-  zipentry *ze;\n-\n-  /* magic number */\n-  header[0] = 'P';\n-  header[1] = 'K';\n-  header[2] = 1;\n-  header[3] = 2;\n-  /* version made by */\n-  header[4] = 10;\n-  header[5] = 0;\n-  /* version needed to extract */\n-  header[6] = 10;\n-  header[7] = 0;\n-  /* bit flag */\n-  header[8] = 0;\n-  header[9] = 0;\n-  /* compression method */\n-  header[10] = 0;\n-  header[11] = 0;\n-  /* file mod time */\n-  header[12] = 0;\n-  header[13] = 0;\n-  /* file mod date */\n-  header[14] = 0;\n-  header[15] = 0;\n-  /* crc 32 */\n-  header[16] = 0;\n-  header[17] = 0;\n-  header[18] = 0;\n-  header[19] = 0;\n-  /* compressed size */\n-  header[20] = 0;\n-  header[21] = 0;\n-  header[22] = 0;\n-  header[23] = 0;\n-  /* uncompressed size */\n-  header[24] = 0;\n-  header[25] = 0;\n-  header[26] = 0;\n-  header[27] = 0;\n-  /* filename length */\n-  header[28] = 0;\n-  header[29] = 0;\n-  /* extra field length */\n-  header[30] = 0;\n-  header[31] = 0;\n-  /* file comment length */\n-  header[32] = 0;\n-  header[33] = 0;\n-  /* disk number start */\n-  header[34] = 0;\n-  header[35] = 0;\n-  /* internal file attribs */\n-  header[36] = 0;\n-  header[37] = 0;\n-  /* external file attribs */\n-  header[38] = 0;\n-  header[39] = 0;\n-  header[40] = 0;\n-  header[41] = 0;\n-  /* relative offset of local header */\n-  header[42] = 0;\n-  header[43] = 0;\n-  header[44] = 0;\n-  header[45] = 0;\n-\n-  start_offset = lseek(fd, 0, SEEK_CUR);\n-\n-  for(ze = ziptail; ze != NULL; ze = ze->next_entry){\n-\n-    total_in += ze->usize;\n-    total_out += ze->csize + 76 + strlen(ze->filename) * 2;\n-\n-    if(ze->compressed){\n-      PACK_UB2(header, CEN_COMP, 8);\n-    } else {\n-      PACK_UB2(header, CEN_COMP, 0);\n-    }\n-        \n-    PACK_UB2(header, CEN_MODTIME, ze->mod_time);\n-    PACK_UB2(header, CEN_MODDATE, ze->mod_date);\n-    PACK_UB4(header, CEN_CRC, ze->crc);\n-    PACK_UB4(header, CEN_CSIZE, ze->csize);\n-    PACK_UB4(header, CEN_USIZE, ze->usize);\n-    PACK_UB2(header, CEN_FNLEN, strlen(ze->filename));\n-    PACK_UB4(header, CEN_OFFSET, ze->offset);\n-\n-    write(fd, header, 46);\n-\n-    write(fd, ze->filename, strlen(ze->filename));\n-  }\n-\n-  dir_size = lseek(fd, 0, SEEK_CUR) - start_offset;\n-\n-  /* magic number */\n-  end_header[0] = 0x50;\n-  end_header[1] = 0x4b;\n-  end_header[2] = 0x05;\n-  end_header[3] = 0x06;\n-  /* number of this disk */\n-  end_header[4] = 0;\n-  end_header[5] = 0;\n-  /* number of disk w/ start of central header */\n-  end_header[6] = 0;\n-  end_header[7] = 0;\n-  /* total number of entries in central dir on this disk*/\n-  PACK_UB2(end_header, 8, number_of_entries);\n-  /* total number of entries in central dir*/\n-  PACK_UB2(end_header, 10, number_of_entries);\n-  /* size of central dir. */\n-  PACK_UB4(end_header, 12, dir_size);\n-  /* offset of start of central dir */\n-  PACK_UB4(end_header, 16, start_offset);\n-  /* zipfile comment length */\n-  end_header[20] = 0;\n-  end_header[21] = 0;\n-\n-  write(fd, end_header, 22);\n-  \n-  if(verbose)\n-    printf(\"Total:\\n------\\n(in = %d) (out = %d) (%s %d%%)\\n\", \n-           total_in, \n-           total_out,\n-           (do_compress ? \"deflated\" : \"stored\"),\n-           (int)((1 - (total_out / (float)total_in)) * 100)\n-           );\n-\n-  return 0;\n-}\n-\n-int extract_jar(int fd, char **files, int file_num){\n-  int rdamt;\n-  int out_a, in_a;\n-  ub4 signature;\n-  ub4 csize;\n-  ub4 crc;\n-  ub2 fnlen;\n-  ub2 eflen;\n-  ub2 flags;\n-  ub2 method;\n-  ub1 *filename = NULL;\n-  int filename_len = 0;\n-  ub4 rd_buff[RDSZ];\n-  pb_file pbf;\n-  ub1 scratch[16];\n-  zipentry ze;\n-  int f_fd;\n-  int dir;\n-  int handle;\n-  int j;\n-\n-  init_inflation();\n-\n-  pb_init(&pbf, fd);\n-\n-  for(;;){\n-    f_fd = 0;\n-    crc = 0;\n-    ze.crc = 0;\n-    \n-    dir = FALSE; /* by default, the file isn't a dir */\n-    handle = TRUE; /* by default we'll extract/create the file */\n-\n-    if((rdamt = pb_read(&pbf, scratch, 4)) != 4){\n-      perror(\"read\");\n-      break;\n-    }\n-    \n-    signature = UNPACK_UB4(scratch, 0);\n-\n-#ifdef DEBUG    \n-    printf(\"signature is %x\\n\", signature);\n-#endif\n-    if(signature == 0x08074b50){\n-#ifdef DEBUG    \n-      printf(\"skipping data descriptor\\n\");\n-#endif\n-      pb_read(&pbf, scratch, 12);\n-      continue;\n-    } else if(signature == 0x02014b50){\n-#ifdef DEBUG    \n-      printf(\"Central header reached.. we're all done!\\n\");\n-#endif\n-      break;\n-    }else if(signature != 0x04034b50){\n-      printf(\"Ick! %#x\\n\", signature);\n-      break;\n-    }\n-    \n-    if((rdamt = pb_read(&pbf, (file_header + 4), 26)) != 26){\n-      perror(\"read\");\n-      break;\n-    }\n-    \n-    csize = UNPACK_UB4(file_header, LOC_CSIZE);\n-#ifdef DEBUG    \n-    printf(\"Compressed size is %u\\n\", csize);\n-#endif\n-\n-    fnlen = UNPACK_UB2(file_header, LOC_FNLEN);\n-#ifdef DEBUG    \n-    printf(\"Filename length is %hu\\n\", fnlen);\n-#endif\n-\n-    eflen = UNPACK_UB2(file_header, LOC_EFLEN);\n-#ifdef DEBUG    \n-    printf(\"Extra field length is %hu\\n\", eflen);\n-#endif\n-\n-    flags = UNPACK_UB2(file_header, LOC_EXTRA);\n-#ifdef DEBUG    \n-    printf(\"Flags are %#hx\\n\", flags);\n-#endif\n-\n-    method = UNPACK_UB2(file_header, LOC_COMP);\n-#ifdef DEBUG\n-    printf(\"Compression method is %#hx\\n\", method);\n-#endif\n-\n-    /* if there isn't a data descriptor */\n-    if(!(flags & 0x0008)){\n-      crc = UNPACK_UB4(file_header, LOC_CRC);\n-#ifdef DEBUG    \n-      printf(\"CRC is %x\\n\", crc);\n-#endif\n-    }\n-\n-    if(filename_len < fnlen + 1){\n-      if(filename != NULL)\n-        free(filename);\n-      \n-      filename = malloc(sizeof(ub1) * (fnlen + 1));\n-      filename_len = fnlen + 1;\n-    }\n-\n-    pb_read(&pbf, filename, fnlen);\n-    filename[fnlen] = '\\0';\n-\n-#ifdef DEBUG    \n-    printf(\"filename is %s\\n\", filename);\n-#endif\n-\n-    if(file_num > 0){\n-      handle = FALSE;\n-      \n-      for(j = 0; j < file_num; j++)\n-        if(strcmp(files[j], (const char *)filename) == 0){\n-          handle = TRUE;\n-          break;\n-        }\n-    }\n-\n-    if(!handle)\n-      f_fd = -1;\n-\n-    /* OK, there is some directory information in the file.  Nothing to do\n-       but ensure the directory(s) exist, and create them if they don't.\n-       What a pain! */\n-    if(strchr((const char *)filename, '/') != NULL && handle){\n-      /* Loop through all the directories in the path, (everything w/ a '/') */\n-      const ub1 *start = filename;\n-      char *tmp_buff;\n-      struct stat sbuf;\n-\n-      tmp_buff = malloc(sizeof(char) * strlen((const char *)filename));\n-\n-      for(;;){\n-        const ub1 *idx = (const unsigned char *)strchr((const char *)start, '/');\n-\n-        if(idx == NULL)\n-          break;\n-        else if(idx == start){\n-          start++;\n-          continue;\n-        }\n-        start = idx + 1;\n-\n-        strncpy(tmp_buff, (const char *)filename, (idx - filename));\n-        tmp_buff[(idx - filename)] = '\\0';\n-\n-#ifdef DEBUG    \n-        printf(\"checking the existance of %s\\n\", tmp_buff);\n-#endif\n-\n-        if(stat(tmp_buff, &sbuf) < 0){\n-          if(errno != ENOENT){\n-            perror(\"stat\");\n-            exit(1);\n-          }\n-\n-        } else if(S_ISDIR(sbuf.st_mode)){\n-#ifdef DEBUG    \n-          printf(\"Directory exists\\n\");\n-#endif\n-          continue;\n-        }else {\n-          fprintf(stderr, \"Hmmm.. %s exists but isn't a directory!\\n\",\n-                  tmp_buff);\n-          exit(1);\n-        }\n-        \n-#ifdef DEBUG    \n-        printf(\"Making directory..\\n\");\n-#endif\n-        if(mkdir(tmp_buff, 0755) < 0){\n-          perror(\"mkdir\");\n-          exit(1);\n-        }\n-        if(verbose && handle)\n-          printf(\"%10s: %s/\\n\", \"created\", tmp_buff);\n-\n-      }\n-\n-      /* only a directory */\n-      if(strlen((const char *)start) == 0)\n-        dir = TRUE;\n-\n-#ifdef DEBUG    \n-      printf(\"Leftovers are \\\"%s\\\" (%d)\\n\", start, strlen((const char *)start));\n-#endif\n-\n-      /* If the entry was just a directory, don't write to file, etc */\n-      if(strlen((const char *)start) == 0)\n-        f_fd = -1;\n-\n-      free(tmp_buff);\n-    }\n-\n-    if(f_fd != -1 && handle){\n-      f_fd = open((const char *)filename,\n-                  O_WRONLY | O_CREAT | O_TRUNC | O_BINARY, 0644);\n-\n-      if(f_fd < 0){\n-        fprintf(stderr, \"Error extracting JAR archive!\\n\");\n-        perror((const char *)filename);\n-        exit(1);\n-      }\n-    }\n-\n-    if(method != 8 && flags & 0x0008){\n-      fprintf(stderr, \"Error in JAR file! (not compressed but data desc.)\\n\");\n-      exit(1);\n-    }\n-\n-    if (eflen > 0)\n-      consume(&pbf, eflen);\n-\n-    if(method == 8 || flags & 0x0008){\n-      \n-      inflate_file(&pbf, f_fd, &ze);\n-    } else {\n-\n-#ifdef DEBUG    \n-      printf(\"writing stored data.. (%d bytes)\\n\", csize);\n-#endif\n-\n-      out_a = 0;\n-      in_a = csize;\n-\n-      ze.crc = crc32(ze.crc, NULL, 0); /* initialize the crc */\n-\n-      while(out_a < (int)csize){\n-        rdamt = (in_a > RDSZ ? RDSZ : in_a);\n-        if(pb_read(&pbf, rd_buff, rdamt) != rdamt){\n-          perror(\"read\");\n-          exit(1);\n-        }\n-        \n-        ze.crc = crc32(ze.crc, (Bytef*)rd_buff, rdamt);\n-\n-        if(f_fd >= 0)\n-          write(f_fd, rd_buff, rdamt);\n-\n-        out_a += rdamt;\n-        in_a -= rdamt;\n-\n-#ifdef DEBUG    \n-        printf(\"%d bytes written\\n\", out_a);\n-#endif\n-      }\n-    }\n-\n-    /* if there is a data descriptor left, compare the CRC */\n-    if(flags & 0x0008){\n-\n-      if(pb_read(&pbf, scratch, 16) != 16){\n-        perror(\"read\");\n-        exit(1);\n-      }\n-\n-      signature = UNPACK_UB4(scratch, 0);\n-\n-      if(signature != 0x08074b50){\n-        fprintf(stderr, \"Error! Missing data descriptor!\\n\");\n-        exit(1);\n-      }\n-\n-      crc = UNPACK_UB4(scratch, 4);\n-\n-    }\n-\n-    if(crc != ze.crc){\n-      fprintf(stderr, \"Error! CRCs do not match! Got %x, expected %x\\n\",\n-              ze.crc, crc);\n-      exit(1);\n-    }\n-\n-    close(f_fd);\n-\n-    if(verbose && dir == FALSE && handle)\n-      printf(\"%10s: %s\\n\",\n-             (method == 8 ? \"inflated\" : \"extracted\"),\n-             filename);\n-  }\n-\n-  return 0;\n-}\n-\n-int list_jar(int fd, char **files, int file_num){\n-  ub4 signature;\n-  ub4 csize;\n-  ub4 usize;\n-  ub4 mdate;\n-  ub4 tmp;\n-  ub2 fnlen;\n-  ub2 eflen;\n-  ub2 clen;\n-  ub2 flags;\n-  ub2 method;\n-  ub2 cen_size;\n-  ub1 *filename = NULL;\n-  ub1 scratch[16];\n-  ub1 cen_header[46];\n-  int filename_len = 0;\n-  off_t size;\n-  int i, j;\n-  time_t tdate;\n-  struct tm *s_tm;\n-  char ascii_date[31];\n-  zipentry ze;\n-\n-#ifdef DEBUG\n-  printf(\"Listing jar file, looking for %d files\\n\", file_num);\n-#endif\n-\n-  /* This should be the start of the central-header-end section */\n-  if(seekable){\n-    if(lseek(fd, -22, SEEK_END) == (off_t)-1){\n-      perror(\"lseek\");\n-      exit(1);\n-    }\n-    \n-    if(read(fd, &tmp, sizeof(ub4)) != 4){\n-      perror(\"read\");\n-      exit(1);\n-    }\n-\n-#ifdef WORDS_BIGENDIAN\n-    tmp = L2BI(tmp);\n-#endif\n-\n-    if(tmp != 0x06054b50){\n-      fprintf(stderr, \"Error in JAR file format. zip-style comment?\\n\");\n-      exit(1);\n-    }\n-\n-    if(lseek(fd, 6, SEEK_CUR) == (off_t)-1){\n-      perror(\"lseek\");\n-      exit(1);\n-    }\n-  \n-    if(read(fd, &cen_size, 2) != 2){\n-      perror(\"read\");\n-      exit(1);\n-    }\n-\n-#ifdef WORDS_BIGENDIAN\n-    cen_size = L2BS(cen_size);\n-#endif\n-\n-    /*   printf(\"%hu entries in central header\\n\", cen_size); */\n-\n-    if(lseek(fd, 4, SEEK_CUR) == (off_t)-1){\n-      perror(\"lseek\");\n-      exit(1);\n-    }\n-\n-    if(read(fd, &tmp, 4) != 4){\n-      perror(\"read\");\n-      exit(1);\n-    }\n-\n-#ifdef WORDS_BIGENDIAN\n-    tmp = L2BI(tmp);\n-#endif\n-\n-    /*   printf(\"Central header offset = %d\\n\", tmp); */\n-\n-    if(lseek(fd, tmp, SEEK_SET) != (int)tmp){\n-      perror(\"lseek\");\n-      exit(1);\n-    }\n-\n-    /* Loop through the entries in the central header */\n-    for(i = 0; i < cen_size; i++){\n-    \n-      if(read(fd, &cen_header, 46) != 46){\n-        perror(\"read\");\n-        exit(1);\n-      }\n-\n-      signature = UNPACK_UB4(cen_header, 0);\n-      if(signature != 0x02014b50){\n-        fprintf(stderr, \"Error in JAR file! Cannot locate central header!\\n\");\n-        exit(1);\n-      }\n-\n-      usize = UNPACK_UB4(cen_header, CEN_USIZE);\n-      fnlen = UNPACK_UB2(cen_header, CEN_FNLEN);\n-      eflen = UNPACK_UB2(cen_header, CEN_EFLEN);\n-      clen = UNPACK_UB2(cen_header, CEN_COMLEN);\n-\n-      /* If we're providing verbose output, we need to make an ASCII\n-       * formatted version of the date. */\n-      if(verbose){\n-        mdate = UNPACK_UB4(cen_header, CEN_MODTIME);\n-        tdate = dos2unixtime(mdate);\n-        s_tm = localtime(&tdate);\n-        strftime(ascii_date, 30, \"%a %b %d %H:%M:%S %Z %Y\", s_tm);\n-        ascii_date[30] = '\\0';\n-      }\n-\n-      if(filename_len < fnlen + 1){\n-        if(filename != NULL)\n-          free(filename);\n-      \n-        filename = malloc(sizeof(ub1) * (fnlen + 1));\n-        filename_len = fnlen + 1;\n-      }\n-    \n-      if(read(fd, filename, fnlen) != fnlen){\n-        perror(\"read\");\n-        exit(1);\n-      }\n-      filename[fnlen] = '\\0';\n-    \n-      /* if the user specified a list of files on the command line,\n-         we'll only display those, otherwise we'll display everything */\n-      if(file_num > 0){\n-        for(j = 0; j < file_num; j++)\n-          if(strcmp(files[j], (const char *)filename) == 0){\n-            if(verbose)\n-              printf(\"%6d %s %s\\n\", usize, ascii_date, filename);\n-            else\n-              printf(\"%s\\n\", filename);\n-            break;\n-          }\n-      } else {\n-        if(verbose)\n-          printf(\"%6d %s %s\\n\", usize, ascii_date, filename);\n-        else\n-          printf(\"%s\\n\", filename);\n-      }            \n-      \n-      size = eflen + clen;\n-      if(size > 0){\n-        if(lseek(fd, size, SEEK_CUR) == (off_t)-1){\n-          perror(\"lseek\");\n-          exit(1);\n-        }\n-      }\n-    }\n-  } else {\n-    /* the file isn't seekable.. evil! */\n-    pb_file pbf;\n-\n-    pb_init(&pbf, fd);\n-\n-    init_inflation();\n-\n-    for(;;){\n-      if(pb_read(&pbf, scratch, 4) != 4){\n-        perror(\"read\");\n-        break;\n-      }\n-      \n-      signature = UNPACK_UB4(scratch, 0);\n-      \n-#ifdef DEBUG\n-      printf(\"signature is %x\\n\", signature);\n-#endif\n-      \n-      if(signature == 0x08074b50){\n-#ifdef DEBUG\n-        printf(\"skipping data descriptor\\n\");\n-#endif\n-        pb_read(&pbf, scratch, 12);\n-        continue;\n-      } else if(signature == 0x02014b50){\n-#ifdef DEBUG\n-        printf(\"Central header reached.. we're all done!\\n\");\n-#endif\n-        break;\n-      }else if(signature != 0x04034b50){\n-#ifdef DEBUG\n-        printf(\"Ick! %#x\\n\", signature);\n-#endif\n-        break;\n-      }\n-      \n-      if(pb_read(&pbf, (file_header + 4), 26) != 26){\n-        perror(\"read\");\n-        break;\n-      }\n-      \n-      csize = UNPACK_UB4(file_header, LOC_CSIZE);\n-#ifdef DEBUG\n-      printf(\"Compressed size is %u\\n\", csize);\n-#endif\n-      \n-      fnlen = UNPACK_UB2(file_header, LOC_FNLEN);\n-#ifdef DEBUG\n-      printf(\"Filename length is %hu\\n\", fnlen);\n-#endif\n-      \n-      eflen = UNPACK_UB2(file_header, LOC_EFLEN);\n-#ifdef DEBUG\n-      printf(\"Extra field length is %hu\\n\", eflen);\n-#endif\n-      \n-      method = UNPACK_UB2(file_header, LOC_COMP);\n-#ifdef DEBUG\n-      printf(\"Compression method is %#hx\\n\", method);\n-#endif\n-\n-      flags = UNPACK_UB2(file_header, LOC_EXTRA);\n-#ifdef DEBUG\n-      printf(\"Flags are %#hx\\n\", flags);\n-#endif\n-      \n-      usize = UNPACK_UB4(file_header, LOC_USIZE);\n-\n-      /* If we're providing verbose output, we need to make an ASCII\n-       * formatted version of the date. */\n-      if(verbose){\n-        mdate = UNPACK_UB4(file_header, LOC_MODTIME);\n-        tdate = dos2unixtime(mdate);\n-        s_tm = localtime(&tdate);\n-        strftime(ascii_date, 30, \"%a %b %d %H:%M:%S %Z %Y\", s_tm);\n-      }\n-\n-      if(filename_len < fnlen + 1){\n-        if(filename != NULL)\n-          free(filename);\n-        \n-        filename = malloc(sizeof(ub1) * (fnlen + 1));\n-        ascii_date[30] = '\\0';\n-        filename_len = fnlen + 1;\n-      }\n-      \n-      pb_read(&pbf, filename, fnlen);\n-      filename[fnlen] = '\\0';\n-      \n-      /* the header is at the end.  In a JAR file, this means that the data\n-         happens to be compressed.  We have no choice but to inflate the\n-         data */\n-      if(flags & 0x0008){\n-\n-        size = eflen;\n-\n-        if(size > 0)\n-          consume(&pbf, size);\n-        \n-        if(method == 8){\n-#ifdef DEBUG\n-          printf(\"inflating %s\\n\", filename);\n-#endif\n-          inflate_file(&pbf, -1, &ze);\n-\n-          usize = ze.usize;\n-        } else \n-          printf(\"We're shit outta luck!\\n\");\n-          \n-      } else {\n-        size = csize + (eflen > 0 ? eflen : 0);\n-        \n-\n-#ifdef DEBUG\n-        printf(\"Skipping %ld bytes\\n\", (long)size);\n-#endif\n-\n-        consume(&pbf, size);\n-      }\n-      /* print out the listing */\n-      if(file_num > 0){\n-        for(j = 0; j < file_num; j++)\n-          if(strcmp(files[j], (const char *)filename) == 0){\n-            if(verbose)\n-              printf(\"%6d %s %s\\n\", usize, ascii_date, filename);\n-            else\n-              printf(\"%s\\n\", filename);\n-            break;\n-          }\n-      } else {\n-        if(verbose)\n-          printf(\"%6d %s %s\\n\", usize, ascii_date, filename);\n-        else\n-          printf(\"%s\\n\", filename);\n-      }        \n-    }\n-  }\n-  return 0;\n-}\n-\n-int consume(pb_file *pbf, int amt){\n-  int tc = 0; /* total amount consumed */\n-  ub1 buff[RDSZ];\n-  int rdamt;\n-\n-#ifdef DEBUG\n-  printf(\"Consuming %d bytes\\n\", amt);\n-#endif\n-\n-  if (seekable){\n-    if (amt <= (int)pbf->buff_amt)\n-      pb_read(pbf, buff, amt);\n-    else {\n-      lseek(pbf->fd, amt - pbf->buff_amt, SEEK_CUR);\n-      pb_read(pbf, buff, pbf->buff_amt); /* clear pbf */\n-    }\n-  } else\n-  while(tc < amt){\n-    rdamt = pb_read(pbf, buff, ((amt - tc) < RDSZ ? (amt - tc) : RDSZ));\n-#ifdef DEBUG\n-    printf(\"got %d bytes\\n\", rdamt);\n-#endif\n-    tc += rdamt;\n-  }\n-\n-#ifdef DEBUG\n-  printf(\"%d bytes consumed\\n\", amt);\n-#endif\n-\n-  return 0;\n-}\n-\n-void usage(const char *filename){\n-  fprintf(stderr, \"Try `%s --help' for more information.\\n\", filename);\n-  exit (1);\n-}\n-\n-void version (void)\n-{\n-  printf(\"jar (%s) %s\\n\\n\", PACKAGE, VERSION);\n-  printf(\"Copyright 1999, 2000, 2001  Bryan Burns\\n\");\n-  printf(\"Copyright 2006 Free Software Foundation\\n\");\n-  printf(\"\\\n-This is free software; see the source for copying conditions.  There is NO\\n\\\n-warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\\n\");\n-  exit (0);\n-}\n-\n-void help(const char *filename)\n-{\n-  printf(\"\\\n-Usage: %s {ctxuV}[vfm0ME@] [jar-file] [manifest-file] [-C dir] files ...\\n\\\n-\\n\\\n-Store many files together in a single `jar' file.\\n\\\n-\\n\\\n-  -c              create new archive\\n\\\n-  -t              list table of contents for archive\\n\\\n-  -x              extract named (or all) files from archive\\n\\\n-  -u              update existing archive\\n\\\n-\", filename);\n-  printf(\"\\n\\\n-  -@              read names from stdin\\n\\\n-  -0              store only; use no ZIP compression\\n\\\n-  -C DIR FILE     change to the specified directory and include\\n\\\n-                  the following file\\n\\\n-  -E              don't include the files found in a directory\\n\\\n-  -f FILE         specify archive file name\\n\\\n-  --help          print this help, then exit\\n\\\n-\");\n-  printf(\"\\\n-  -m FILE         include manifest information from specified manifest file\\n\\\n-  -M              Do not create a manifest file for the entries\\n\\\n-  -i              generate an index of the packages in this jar\\n\\\n-                  and its Class-Path (currently unimplemented)\\n\\\n-  -v              generate verbose output on standard output\\n\\\n-  -V, --version   display version information\\n\\\n-\");\n-  printf(\"\\n\\\n-If any file is a directory then it is processed recursively.\\n\\\n-The manifest file name and the archive file name needs to be specified\\n\\\n-in the same order the 'm' and 'f' flags are specified.\\n\\\n-\\n\\\n-Example 1: to archive two class files into an archive called classes.jar: \\n\\\n-     jar cvf classes.jar Foo.class Bar.class \\n\\\n-Example 2: use an existing manifest file 'mymanifest' and archive all the\\n\\\n-     files in the foo/ directory into 'classes.jar': \\n\\\n-     jar cvfm classes.jar mymanifest -C foo/ .\\n\\\n-\");\n-\n-  exit(0);\n-}\n-\n-static char *\n-jt_strdup(char *s)\n-{\n-  char *result = (char*)malloc(strlen(s) + 1);\n-  if (result == (char*)0)\n-    return (char*)0;\n-  strcpy(result, s);\n-  return result;\n-}\n-\n-/* Convert \"tar-style\" first argument to a form expected by getopt.\n-   This idea and the code comes from GNU tar.  This can allocate a new\n-   argument vector.  This might leak some memory, but we don't care.  */\n-static void\n-expand_options (int *argcp, char ***argvp)\n-{\n-  int argc = *argcp;\n-  char **argv = *argvp;\n-\n-  /* Accept arguments with a leading \"-\" (eg \"-cvf\"), but don't do expansion \n-     if a long argument (like \"--help\") is detected. */\n-  if (argc > 1 && argv[1][1] != '-')\n-    {\n-      char buf[3];\n-      char **new_argv;\n-      int new_argc;\n-      int args_to_expand;\n-      char *p;\n-      char **in, **out;\n-\n-      buf[0] = '-';\n-      buf[2] = '\\0';\n-\n-      args_to_expand = strlen (argv[1]);\n-      if (argv[1][0] == '-')\n-        --args_to_expand;\n-        \n-      new_argc = argc - 1 + args_to_expand;\n-      new_argv = (char **) malloc (new_argc * sizeof (char *));\n-      in = argv;\n-      out = new_argv;\n-\n-      *out++ = *in++;\n-      p = *in++;\n-      if (*p == '-')\n-        p++;\n-      while (*p != '\\0')\n-\t{\n-\t  char *opt;\n-\t  buf[1] = *p;\n-\t  *out++ = jt_strdup (buf);\n-\t  /* If the option takes an argument, move the next argument\n-\t     to just after this option.  */\n-\t  opt = strchr (OPTION_STRING, *p);\n-\t  if (opt && opt[1] == ':')\n-\t    {\n-\t      if (in < argv + argc)\n-\t\t*out++ = *in++;\n-\t      else\n-\t\t{\n-\t\t  fprintf(stderr, \"%s: option `%s' requires an argument.\\n\",\n-\t\t\t  argv[0], buf);\n-\t\t  usage(argv[0]);\n-\t\t}\n-\t    }\n-\t  ++p;\n-\t}\n-\n-      /* Copy remaining options.  */\n-      while (in < argv + argc)\n-\t*out++ = *in++;\n-\n-      *argcp = new_argc;\n-      *argvp = new_argv;\n-    }\n-}"}, {"sha": "5865c8021dcf216868e8c5ad4956d8d19e10dc57", "filename": "fastjar/jartool.h", "status": "removed", "additions": 0, "deletions": 124, "changes": 124, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjartool.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fjartool.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjartool.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,124 +0,0 @@\n-/* $Id: jartool.h,v 1.4 2000/08/24 15:23:35 cory Exp $\n-\n-   $Log: jartool.h,v $\n-   Revision 1.4  2000/08/24 15:23:35  cory\n-   Set version number since I think we can let this one out.\n-\n-   Revision 1.3  2000/08/23 19:42:17  cory\n-   Added support for more Unix platforms.  The following code has been hacked\n-   to work on AIX, Solaris, True 64, and HP-UX.\n-   Added bigendian check.  Probably works on most big and little endian platforms\n-   now.\n-\n-   Revision 1.2  1999/12/06 03:47:20  toast\n-   fixing version string\n-\n-   Revision 1.1.1.1  1999/12/06 03:08:24  toast\n-   initial checkin..\n-\n-\n-\n-   Revision 1.6  1999/05/10 09:16:08  burnsbr\n-   *** empty log message ***\n-\n-   Revision 1.5  1999/04/27 10:04:20  burnsbr\n-   configure support\n-\n-   Revision 1.4  1999/04/26 02:36:15  burnsbr\n-   changed RDSZ to 4096 from 512\n-\n-   Revision 1.3  1999/04/23 12:00:29  burnsbr\n-   modified zipentry struct\n-\n-\n-*/\n-\n-/*\n-  jartool.h - generic defines, struct defs etc.\n-  Copyright (C) 1999, 2005  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n- */\n-\n-#ifndef __FASTJAR_JARTOOL_H__\n-#define __FASTJAR_JARTOOL_H__\n-\n-#include <sys/types.h>\n-#include \"config.h\"\n-\n-#define ACTION_NONE 0\n-#define ACTION_CREATE 1\n-#define ACTION_EXTRACT 2\n-#define ACTION_UPDATE 3\n-#define ACTION_LIST 4\n-#define ACTION_INDEX 5\n-\n-#define TRUE 1\n-#define FALSE 0\n-\n-/* Amount of bytes to read at a time.  You can change this to optimize for\n-   your system */\n-#define RDSZ 4096\n-\n-/* Change these to match your system:\n-   ub1 == unsigned 1 byte word\n-   ub2 == unsigned 2 byte word\n-   ub4 == unsigned 4 byte word\n-*/\n-#if SIZEOF_CHAR == 1\n-typedef unsigned char ub1;\n-#else\n-typedef u_int8_t ub1;\n-#endif\n-\n-#if SIZEOF_SHORT == 2\n-typedef unsigned short ub2;\n-#elif SIZEOF_INT == 2\n-typedef unsigned int ub2;\n-#else\n-typedef u_int16_t ub2;\n-#endif\n-\n-#if SIZEOF_INT == 4\n-typedef unsigned int ub4;\n-#elif SIZEOF_LONG == 4\n-typedef unsigned long ub4;\n-#elif defined(HAVE_LONG_LONG) && SIZEOF_LONG_LONG == 4\n-typedef unsigned long long ub4;\n-#else\n-typedef u_int32_t ub4;\n-#endif\n-\n-struct zipentry {\n-  ub2 mod_time;\n-  ub2 mod_date;\n-  ub4 crc;\n-  ub4 csize;\n-  ub4 usize;\n-  ub4 offset;\n-  ub1 compressed;\n-  ub2 flags;\n-  char *filename;\n-  \n-  struct zipentry *next_entry;\n-};\n-\n-typedef struct zipentry zipentry;\n-\n-#ifndef __GNUC__\n-#define __attribute__()\n-#endif\n-\n-#endif /* __FASTJAR_JARTOOL_H__ */"}, {"sha": "fd5a01a2dea3cfb99c1abd28f4219d62d2328bee", "filename": "fastjar/pushback.c", "status": "removed", "additions": 0, "deletions": 194, "changes": 194, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fpushback.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fpushback.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fpushback.c?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,194 +0,0 @@\n-/* $Id: pushback.c,v 1.2 2000/12/14 18:45:35 ghazi Exp $\n-\n-   $Log: pushback.c,v $\n-   Revision 1.2  2000/12/14 18:45:35  ghazi\n-   Warning fixes:\n-\n-   \t* compress.c: Include stdlib.h and compress.h.\n-   \t(rcsid): Delete.\n-   \t(report_str_error): Make static.\n-   \t(ez_inflate_str): Delete unused variable.  Add parens in if-stmt.\n-   \t(hrd_inflate_str): Likewise.\n-\n-   \t* compress.h (init_compression, end_compression, init_inflation,\n-   \tend_inflation): Prototype void arguments.\n-\n-   \t* dostime.c (rcsid): Delete.\n-\n-   \t* jargrep.c: Include ctype.h, stdlib.h, zlib.h and compress.h.\n-   \tMake functions static.  Cast ctype function argument to `unsigned\n-   \tchar'.  Add parens in if-stmts.  Constify.\n-   \t(Usage): Change into a macro.\n-   \t(jargrep): Remove unused parameter.\n-\n-   \t* jartool.c: Constify.  Add parens in if-stmts.  Align\n-   \tsigned/unsigned char pointers in functions calls using casts.\n-   \t(rcsid): Delete.\n-   \t(list_jar): Fix printf format specifier.\n-   \t(usage): Chop long string into bits.  Reformat.\n-\n-   \t* pushback.c (rcsid): Delete.\n-\n-   Revision 1.1  2000/12/09 03:08:23  apbianco\n-   2000-12-08  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n-\n-           * fastjar: Imported.\n-\n-   Revision 1.2  2000/08/23 19:42:17  cory\n-   Added support for more Unix platforms.  The following code has been hacked\n-   to work on AIX, Solaris, True 64, and HP-UX.\n-   Added bigendian check.  Probably works on most big and little endian platforms\n-   now.\n-\n-   Revision 1.1.1.1  1999/12/06 03:09:13  toast\n-   initial checkin..\n-\n-\n-\n-   Revision 1.1  1999/05/10 08:32:37  burnsbr\n-   Initial revision\n-\n-*/\n-\n-/*\n-  pushback.c - code for a pushback buffer to handle file I/O\n-  Copyright (C) 1999  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n- */\n-\n-#include <unistd.h>\n-#include <string.h>\n-#include <stdio.h>\n-\n-#include \"jartool.h\"\n-#include \"pushback.h\"\n-\n-void pb_init(pb_file *pbf, int fd){\n-  pbf->fd = fd;\n-  pbf->next = pbf->pb_buff;\n-  pbf->buff_amt = 0;\n-}\n-\n-int pb_push(pb_file *pbf, void *buff, int amt){\n-  int in_amt;\n-  int wrap = 0;\n-\n-#ifdef DEBUG\n-  printf(\"%d bytes being pushed back to the buffer\\n\", amt);\n-#endif\n-\n-  /* determine how much we can take */\n-  if((int)(RDSZ - pbf->buff_amt) < amt)\n-    in_amt = RDSZ - pbf->buff_amt;\n-  else\n-    in_amt = amt;\n-\n-  if(in_amt == 0)\n-    return 0;\n-\n-  /* figure out if we need to wrap around, and if so, by how much */\n-  if(((pbf->pb_buff + RDSZ) - pbf->next) < in_amt)\n-    wrap = in_amt - ((pbf->pb_buff + RDSZ) - pbf->next);\n-\n-  /* write everything up til the end of the buffer */\n-  memcpy(pbf->next, buff, (in_amt - wrap));\n-\n-  /* finish writing what's wrapped around */\n-  memcpy(pbf->pb_buff, ((char *)buff + (in_amt - wrap)), wrap);\n-         \n-  /* update the buff_amt field */\n-  pbf->buff_amt += in_amt;\n-\n-#ifdef DEBUG\n-  printf(\"%d bytes we can't accept\\n\", (amt - in_amt));\n-#endif\n-\n-  return in_amt;\n-}\n-\n-\n-int pb_read(pb_file *pbf, void *buff, int amt){\n-  int out_amt = 0;\n-  int wrap = 0;\n-  void *bp = buff;\n-  int tmp;\n-\n-#ifdef DEBUG\n-  printf(\"%d bytes requested from us\\n\", amt);\n-#endif\n-  while(out_amt < amt){\n-    /* if our push-back buffer contains some data */\n-    if(pbf->buff_amt > 0){\n-      \n-#ifdef DEBUG\n-      printf(\"giving data from buffer\\n\");\n-#endif\n-      \n-      /* calculate how much we can actually give the caller */\n-      if( (amt - out_amt) < (int)pbf->buff_amt )\n-        tmp = (amt - out_amt);\n-      else\n-        tmp = pbf->buff_amt;\n-      \n-      /* Determine if we're going to need to wrap around the buffer */\n-      if(tmp > ((pbf->pb_buff + RDSZ) - pbf->next))\n-        wrap = tmp - ((pbf->pb_buff + RDSZ) - pbf->next);\n-      \n-      memcpy(bp, pbf->next, (tmp - wrap));\n-      bp = &(((char *)bp)[tmp - wrap]);\n-      \n-      /* If we need to wrap, read from the start of the buffer */\n-      if(wrap > 0){\n-        memcpy(bp, pbf->pb_buff, wrap);\n-        bp = &(((char *)bp)[wrap]);\n-      }\n-      \n-      /* update the buff_amt field */\n-      pbf->buff_amt -= tmp;\n-      pbf->next += tmp;\n-      \n-#ifdef DEBUG\n-      printf(\"%d bytes remaining in buffer\\n\", pbf->buff_amt);\n-#endif\n-      \n-      /* if the buffer is empty, reset the next header to the front of the\n-         buffer so subsequent pushbacks/reads won't have to wrap */\n-      if(pbf->buff_amt == 0)\n-        pbf->next = pbf->pb_buff;\n-      \n-      out_amt += tmp;\n-\n-    } else {\n-#ifdef DEBUG\n-      printf(\"Reading from file..\\n\");\n-#endif\n-      \n-      /* The pushback buffer was empty, so we just need to read from the file */\n-      tmp = read(pbf->fd, bp, (amt - out_amt));\n-      if(tmp == 0)\n-        break;\n-      else\n-        out_amt += tmp;\n-      \n-      bp = &(((char *)bp)[tmp]);\n-    }\n-  }\n-\n-#ifdef DEBUG\n-  printf(\"managed to read %d bytes\\n\", out_amt);\n-#endif\n-  return out_amt;\n-}"}, {"sha": "2e25b24383c102a7ecfce811a4caf29ceb79fc1a", "filename": "fastjar/pushback.h", "status": "removed", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fpushback.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fpushback.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fpushback.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,32 +0,0 @@\n-/*\n-  pushback.h - header for pushback.c\n-  Copyright (C) 1999  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n-*/\n-\n-struct pb_file {\n-  unsigned int buff_amt;\n-  ub1 pb_buff[RDSZ];\n-  int fd;\n-  ub1 *next;\n-};\n-\n-typedef struct pb_file pb_file;\n-\n-\n-void pb_init(pb_file *, int);\n-int pb_push(pb_file *, void *, int);\n-int pb_read(pb_file *, void *, int);"}, {"sha": "2b08a2efab2c5875a96c5521e9a6f987b8e082b8", "filename": "fastjar/shift.c", "status": "removed", "additions": 0, "deletions": 166, "changes": 166, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fshift.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fshift.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fshift.c?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,166 +0,0 @@\n-/* shift.c -- utilities to move regions of data in a file.\n-   Copyright (C) 2004, 2005  Free Software Foundation, Inc.\n-\n-This program is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2 of the License, or (at\n-your option) any later version.\n-  \n-This program is distributed in the hope that it will be useful, but\n-WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-General Public License for more details.\n-  \n-You should have received a copy of the GNU General Public License\n-along with this program; if not, write to the Free Software\n-Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n-USA.  */\n-\n-\n-#include <sys/types.h>\n-#include <unistd.h>\n-#include <stdio.h>\n-#include \"jartool.h\"\n-#include \"shift.h\"\n-\n-#define BUFFER_SIZE 1024\n-\n-#define MIN(a, b) ((a) < (b) ? (a) : (b))\n-\n-/*\n- * Shift the contents of a file up by `amount' bytes, starting at `begin'.\n- * The file is not truncated, data from `amount' to `begin - amount' is\n- * overwritten. The current file pointer of `fd' is preserved. Note that\n- * this might be past the new \"end\" of the file.\n- *\n- * If this function is passed a `struct zipentry', then all `offset'\n- * fields from that entry down the list that are greater than or equal\n- * to `begin' will be decreased by `amount'.\n- * \n- * fd     - The file descriptor.\n- * begin  - The offset of the first byte that should be shifted.\n- * amount - The number of bytes to shift by.\n- * ze     - A pointer into a list of zip entries that should be updated\n- *          to reflect the modified offset.\n- */\n-int\n-shift_up (int fd, off_t begin, off_t amount, struct zipentry *ze)\n-{\n-  extern off_t end_of_entries;\n-  int len, moved = 0;\n-  ub1 buffer[BUFFER_SIZE];\n-  off_t where, end, save;\n-\n-  if (amount <= 0)\n-    return 0;\n-\n-  if ((save = lseek (fd, 0, SEEK_CUR)) == -1)\n-    return 1;\n-  if ((end = lseek (fd, 0, SEEK_END)) == -1)\n-    return 1;\n-  if (end < begin)\n-    return 0;\n-\n-  where = begin;\n-\n-  do\n-    {\n-      if (lseek (fd, where, SEEK_SET) < 0)\n-\treturn 1;\n-      if ((len = read (fd, buffer, BUFFER_SIZE)) < 0)\n-\treturn 1;\n-      if (len == 0)\n-\tbreak;\n-      if (lseek (fd, where - amount, SEEK_SET) < 0)\n-\treturn 1;\n-      if (write (fd, buffer, len) < 0)\n-\treturn 1;\n-      where += len;\n-    }\n-  while (where < end);\n-\n-  for (; ze; ze = ze->next_entry)\n-    {\n-      if ((off_t) ze->offset >= begin)\n-\t{\n-\t  ze->offset -= amount;\n-\t  moved = 1;\n-\t}\n-    }\n-  if (moved)\n-    end_of_entries -= amount;\n-\n-  if (lseek (fd, save, SEEK_SET) == -1)\n-    return 1;\n-  return 0;\n-}\n-\n-/*\n- * Shift the contents of this file down by `amount' bytes, extending the\n- * end of file, starting at `begin'. This function will preserve the\n- * current file pointer of `fd'. Naturally, this function will fail if\n- * `fd' is not seekable.\n- *\n- * If this function is passed a `struct zipentry', then all `offset'\n- * fields from that entry down the list that are greater than or equal\n- * to `begin' will be increased by `amount'.\n- *\n- * fd     - The file descriptor.\n- * begin  - The offset of the first byte that should be shifted.\n- * amount - The number of bytes to shift by.\n- * ze     - A pointer into a list of zip entries that should be updated\n- *          to reflect the modified offset.\n- */\n-int\n-shift_down (int fd, off_t begin, off_t amount, struct zipentry *ze)\n-{\n-  extern off_t end_of_entries;\n-  int off, len, moved = 0;\n-  ub1 buffer[BUFFER_SIZE];\n-  off_t where, save;\n-\n-  if (amount <= 0)\n-    return 0;\n-\n-  if ((save = lseek (fd, 0, SEEK_CUR)) == -1)\n-    return 1;\n-  if ((where = lseek (fd, 0, SEEK_END)) == -1)\n-    return 1;\n-  if (where < begin)\n-    return 0;\n-  off = (where - begin) % BUFFER_SIZE;\n-  if (off == 0)\n-    where -= BUFFER_SIZE;\n-  else\n-    where -= off;\n-\n-  do\n-    {\n-      if (lseek (fd, where, SEEK_SET) < 0)\n-\treturn 1;\n-      if ((len = read (fd, buffer, BUFFER_SIZE)) < 0)\n-\treturn 1;\n-      if (lseek (fd, where + amount, SEEK_SET) < 0)\n-\treturn 1;\n-      if (write (fd, buffer, len) < 0)\n-\treturn 1;\n-      where -= BUFFER_SIZE;\n-    }\n-  while (where >= begin);\n-\n-  for (; ze; ze = ze->next_entry)\n-    {\n-      if ((off_t) ze->offset >= begin)\n-\t{\n-\t  ze->offset += amount;\n-\t  moved = 1;\n-\t}\n-    }\n-  if (moved)\n-    end_of_entries += amount;\n-\n-  if (lseek (fd, save, SEEK_SET) == -1)\n-    return 1;\n-\n-  return 0;\n-}"}, {"sha": "97c99b8774006ca1de0001e1766f04cdb8cbdc14", "filename": "fastjar/shift.h", "status": "removed", "additions": 0, "deletions": 29, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fshift.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fshift.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fshift.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,29 +0,0 @@\n-/* shift.h -- utilities to move regions of data in a file.\n-   Copyright (C) 2004  Free Software Foundation, Inc.\n-\n-This program is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2 of the License, or (at\n-your option) any later version.\n-  \n-This program is distributed in the hope that it will be useful, but\n-WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-General Public License for more details.\n-  \n-You should have received a copy of the GNU General Public License\n-along with this program; if not, write to the Free Software\n-Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n-USA.  */\n-\n-\n-#ifndef __FASTJAR_SHIFT_H__\n-#define __FASTJAR_SHIFT_H__\n-\n-#include <sys/types.h>\n-#include \"jartool.h\"\n-\n-int shift_down (int, off_t, off_t, struct zipentry *);\n-int shift_up (int, off_t, off_t, struct zipentry *);\n-\n-#endif /* __FASTJAR_SHIFT_H__ */"}, {"sha": "47aaaea92700e5c3c8c1c5f6ba640683328aa915", "filename": "fastjar/zipfile.h", "status": "removed", "additions": 0, "deletions": 75, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fzipfile.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bdbc0012b7ac304f1810c23611d8c6f1f81186/fastjar%2Fzipfile.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fzipfile.h?ref=46bdbc0012b7ac304f1810c23611d8c6f1f81186", "patch": "@@ -1,75 +0,0 @@\n-/* $Id: zipfile.h,v 1.1.1.1 1999/12/06 03:09:11 toast Exp $\n-\n-   $Log: zipfile.h,v $\n-   Revision 1.1.1.1  1999/12/06 03:09:11  toast\n-   initial checkin..\n-\n-\n-\n-   Revision 1.6  1999/05/10 08:33:08  burnsbr\n-   added UNPACK_UB4 and UNPACK_UB2\n-\n-   Revision 1.5  1999/04/26 02:36:34  burnsbr\n-   added LOC_EXTRA macro\n-\n-   Revision 1.4  1999/04/23 12:01:19  burnsbr\n-   added more defines\n-\n-\n-*/\n-\n-/*\n-  zipfile.h - defines for indexing zipfile headers\n-  Copyright (C) 1999  Bryan Burns\n-  \n-  This program is free software; you can redistribute it and/or\n-  modify it under the terms of the GNU General Public License\n-  as published by the Free Software Foundation; either version 2\n-  of the License, or (at your option) any later version.\n-  \n-  This program is distributed in the hope that it will be useful,\n-  but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  GNU General Public License for more details.\n-  \n-  You should have received a copy of the GNU General Public License\n-  along with this program; if not, write to the Free Software\n-  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n- */\n-\n-#define LOC_EXTRA   6  /* extra bytes */\n-#define LOC_COMP    8  /* compression method */\n-#define LOC_MODTIME 10 /* last modification time */\n-#define LOC_MODDATE 12 /* last modification date */\n-#define LOC_CRC     14 /* CRC */\n-#define LOC_CSIZE   18 /* compressed size */\n-#define LOC_USIZE   22 /* uncompressed size */\n-#define LOC_FNLEN   26 /* filename length */\n-#define LOC_EFLEN   28 /* extra-field length */\n-\n-#define CEN_FLAGS    8\n-#define CEN_COMP    10 /* compression method */\n-#define CEN_MODTIME 12\n-#define CEN_MODDATE 14\n-#define CEN_CRC     16\n-#define CEN_CSIZE   20\n-#define CEN_USIZE   24\n-#define CEN_FNLEN   28\n-#define CEN_EFLEN   30\n-#define CEN_COMLEN  32\n-#define CEN_OFFSET  42\n-\n-\n-/* macros */\n-#define PACK_UB4(d, o, v) d[o] = (ub1)((v) & 0x000000ff); \\\n-                          d[o + 1] = (ub1)(((v) & 0x0000ff00) >> 8); \\\n-                          d[o + 2] = (ub1)(((v) & 0x00ff0000) >> 16); \\\n-                          d[o + 3] = (ub1)(((v) & 0xff000000) >> 24)\n-\n-#define PACK_UB2(d, o, v) d[o] = (ub1)((v) & 0x00ff); \\\n-                          d[o + 1] = (ub1)(((v) & 0xff00) >> 8)\n-\n-#define UNPACK_UB4(s, o) (ub4)s[o] + (((ub4)s[o + 1]) << 8) +\\\n-                         (((ub4)s[o + 2]) << 16) + (((ub4)s[o + 3]) << 24)\n-\n-#define UNPACK_UB2(s, o)  (ub2)s[o] + (((ub2)s[o + 1]) << 8)"}, {"sha": "ce599c13764617a65189d443d8c084e33bf4aaee", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -1,3 +1,12 @@\n+2006-04-03  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am (ZIP): Removed.\n+\t(libgcj-$(gcc_version).jar): Use $(JAR).\n+\t(src.zip): Likewise.\n+\t* configure: Rebuilt.\n+\t* configure.ac: Check for jar.  Removed code to set ZIP.\n+\n 2006-04-03  Andrew Haley  <aph@redhat.com>\n \n \t* testsuite/libjava.lang/Float_2.java: New file."}, {"sha": "3deaa7eb1e14b3ccb0660901553d1efa79d6d9c8", "filename": "libjava/Makefile.am", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -87,7 +87,6 @@ bin_SCRIPTS = addr2name.awk\n ##\n \n GCJH = @GCJH@\n-ZIP = @ZIP@\n \n ## The compiler with whatever flags we want for both -c and -C\n ## compiles.\n@@ -322,10 +321,7 @@ $(propertyo_files): %.lo: classpath/resource/%\n \t$(LTGCJCOMPILE) -o $@ -c $< -Wc,--resource,$(@:.lo=)\n \n libgcj-$(gcc_version).jar:\n-\tjardir=`dirname $(ZIP)`; \\\n-\tjardir=`cd $$jardir && pwd`; \\\n-\tjarname=`basename $(ZIP)`; \\\n-\tcd classpath/lib; $$jardir/$$jarname -cfM \\\n+\tcd classpath/lib; $(JAR) -cfM \\\n \t    ../../libgcj-$(gcc_version).jar gnu java javax org\n \n CLEANFILES = libgcj-$(gcc_version).jar \\\n@@ -883,9 +879,10 @@ src.zip:\n \t    echo $$file; \\\n \t  done ); \\\n \t) | \\\n-## Many of the above circumlocutions are because ZIP will most likely\n-## be a relative path to fastjar.\n-\t$(ZIP) -cfM@ $$here/src.zip\n+## Many of the above circumlocutions were because ZIP used to be a\n+## relative path to fastjar.  It didn't seem worthwhile to change the\n+## code when we moved to an external jar.\n+\t$(JAR) -cfM@ $$here/src.zip\n ## Override GNU Classpath sources with libgcj replacements.\n \there=`pwd`; \\\n \t( \\\n@@ -897,7 +894,7 @@ src.zip:\n \t    echo $$file; \\\n \t  done ); \\\n \t) | \\\n-\t$(ZIP) -ufM@ $$here/src.zip\n+\t$(JAR) -ufM@ $$here/src.zip\n \n ## We use a variable for this in case the user wants to override it.\n sourcesdir = $(jardir)"}, {"sha": "9851dd16b4960f5bf31611e50baa474abdff8b42", "filename": "libjava/Makefile.in", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -488,6 +488,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n INTERPRETER = @INTERPRETER@\n+JAR = @JAR@\n JAVA_HOME = @JAVA_HOME@\n JAVA_HOME_SET_FALSE = @JAVA_HOME_SET_FALSE@\n JAVA_HOME_SET_TRUE = @JAVA_HOME_SET_TRUE@\n@@ -579,7 +580,6 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZINCS = @ZINCS@\n-ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@\n@@ -8423,10 +8423,7 @@ $(propertyo_files): %.lo: classpath/resource/%\n \t$(LTGCJCOMPILE) -o $@ -c $< -Wc,--resource,$(@:.lo=)\n \n libgcj-$(gcc_version).jar:\n-\tjardir=`dirname $(ZIP)`; \\\n-\tjardir=`cd $$jardir && pwd`; \\\n-\tjarname=`basename $(ZIP)`; \\\n-\tcd classpath/lib; $$jardir/$$jarname -cfM \\\n+\tcd classpath/lib; $(JAR) -cfM \\\n \t    ../../libgcj-$(gcc_version).jar gnu java javax org\n \n mostlyclean-local:\n@@ -10726,7 +10723,7 @@ src.zip:\n \t    echo $$file; \\\n \t  done ); \\\n \t) | \\\n-\t$(ZIP) -cfM@ $$here/src.zip\n+\t$(JAR) -cfM@ $$here/src.zip\n \there=`pwd`; \\\n \t( \\\n \t  ( cd $(srcdir); \\\n@@ -10737,7 +10734,7 @@ src.zip:\n \t    echo $$file; \\\n \t  done ); \\\n \t) | \\\n-\t$(ZIP) -ufM@ $$here/src.zip\n+\t$(JAR) -ufM@ $$here/src.zip\n \n install-src.zip: src.zip\n \t$(INSTALL_DATA) src.zip $(DESTDIR)$(sourcesdir)/src-$(gcc_version).zip"}, {"sha": "b72520e4e147828a64584629e6a7730f5e1c9355", "filename": "libjava/configure", "status": "modified", "additions": 50, "deletions": 10, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -310,7 +310,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS LD ac_ct_LD AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE GTK_AWT_TRUE GTK_AWT_FALSE QT_AWT_TRUE QT_AWT_FALSE GCJH ZIP INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM_INNER_NAT_HDRS CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS GTK_CAIRO_TRUE GTK_CAIRO_FALSE PKG_CONFIG CAIRO_CFLAGS CAIRO_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir dbexecdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES LD_START_STATIC_SPEC LD_FINISH_STATIC_SPEC here LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS LD ac_ct_LD AR ac_ct_AR RANLIB ac_ct_RANLIB JAR MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE GTK_AWT_TRUE GTK_AWT_FALSE QT_AWT_TRUE QT_AWT_FALSE GCJH INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM_INNER_NAT_HDRS CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS GTK_CAIRO_TRUE GTK_CAIRO_FALSE PKG_CONFIG CAIRO_CFLAGS CAIRO_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir dbexecdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES LD_START_STATIC_SPEC LD_FINISH_STATIC_SPEC here LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -3964,6 +3964,52 @@ else\n   RANLIB=\"$ac_cv_prog_RANLIB\"\n fi\n \n+for ac_prog in jar fastjar\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_JAR+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$JAR\"; then\n+  ac_cv_prog_JAR=\"$JAR\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_JAR=\"$ac_prog\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+fi\n+fi\n+JAR=$ac_cv_prog_JAR\n+if test -n \"$JAR\"; then\n+  echo \"$as_me:$LINENO: result: $JAR\" >&5\n+echo \"${ECHO_T}$JAR\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  test -n \"$JAR\" && break\n+done\n+test -n \"$JAR\" || JAR=\"false\"\n+\n+if test \"$JAR\" = false; then\n+  { { echo \"$as_me:$LINENO: error: jar program not found\" >&5\n+echo \"$as_me: error: jar program not found\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n \n # Find a good install program.  We prefer a C program (faster),\n # so one script is as good as another.  But avoid the broken or\n@@ -4805,7 +4851,6 @@ case \"${which_gcj}\" in\n    built)\n       GCJ=\"$built_gcc_dir/gcj -B`${PWDCMD-pwd}`/ -B$built_gcc_dir/\"\n       GCJH='$(top_builddir)/$(MULTIBUILDTOP)../../$(host_subdir)/gcc/gcjh'\n-      ZIP='$(top_builddir)/$(MULTIBUILDTOP)../../$(host_subdir)/fastjar/fastjar'\n    ;;\n    cross)\n       if test \"x${with_newlib}\" = \"xyes\"; then\n@@ -4815,21 +4860,16 @@ case \"${which_gcj}\" in\n       else\n          GCJ=\"${target_noncanonical}-gcj -B`${PWDCMD-pwd}`/\"\n       fi\n-      ZIP='$(target_noncanonical)-fastjar'\n       GCJH='$(target_noncanonical)-gcjh'\n    ;;\n    path)\n       GCJ=\"gcj -B`${PWDCMD-pwd}`/\"\n-      ## In this case, gcj is found outside the build tree.  However, zip is\n-      ## found in the build tree.\n-      ZIP='$(top_builddir)/$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/fastjar'\n       GCJH=gcjh\n    ;;\n esac\n \n \n \n-\n # Create it, so that compile/link tests don't fail\n test -f libgcj.spec || touch libgcj.spec\n \n@@ -5668,7 +5708,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 5671 \"configure\"' > conftest.$ac_ext\n+  echo '#line 5711 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -6671,7 +6711,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then\n   :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 6674 \"configure\"\n+#line 6714 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -17807,6 +17847,7 @@ s,@AR@,$AR,;t t\n s,@ac_ct_AR@,$ac_ct_AR,;t t\n s,@RANLIB@,$RANLIB,;t t\n s,@ac_ct_RANLIB@,$ac_ct_RANLIB,;t t\n+s,@JAR@,$JAR,;t t\n s,@MAINTAINER_MODE_TRUE@,$MAINTAINER_MODE_TRUE,;t t\n s,@MAINTAINER_MODE_FALSE@,$MAINTAINER_MODE_FALSE,;t t\n s,@MAINT@,$MAINT,;t t\n@@ -17823,7 +17864,6 @@ s,@GTK_AWT_FALSE@,$GTK_AWT_FALSE,;t t\n s,@QT_AWT_TRUE@,$QT_AWT_TRUE,;t t\n s,@QT_AWT_FALSE@,$QT_AWT_FALSE,;t t\n s,@GCJH@,$GCJH,;t t\n-s,@ZIP@,$ZIP,;t t\n s,@INCLTDL@,$INCLTDL,;t t\n s,@LIBLTDL@,$LIBLTDL,;t t\n s,@DIRLTDL@,$DIRLTDL,;t t"}, {"sha": "2731bf3fc3760586f35fbdc8e19fd3de4eb089ab", "filename": "libjava/configure.ac", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -116,6 +116,10 @@ AC_CHECK_TOOL(AS, as)\n AC_CHECK_TOOL(LD, ld)\n AC_CHECK_TOOL(AR, ar)\n AC_CHECK_TOOL(RANLIB, ranlib, :)\n+AC_CHECK_PROGS(JAR, [jar fastjar], false)\n+if test \"$JAR\" = false; then\n+  AC_MSG_ERROR(jar program not found)\n+fi\n \n AC_PROG_INSTALL\n \n@@ -289,7 +293,6 @@ case \"${which_gcj}\" in\n    built)\n       GCJ=\"$built_gcc_dir/gcj -B`${PWDCMD-pwd}`/ -B$built_gcc_dir/\"\n       GCJH='$(top_builddir)/$(MULTIBUILDTOP)../../$(host_subdir)/gcc/gcjh'\n-      ZIP='$(top_builddir)/$(MULTIBUILDTOP)../../$(host_subdir)/fastjar/fastjar'\n    ;;\n    cross)\n       if test \"x${with_newlib}\" = \"xyes\"; then\n@@ -299,20 +302,15 @@ case \"${which_gcj}\" in\n       else\n          GCJ=\"${target_noncanonical}-gcj -B`${PWDCMD-pwd}`/\"\n       fi\n-      ZIP='$(target_noncanonical)-fastjar'\n       GCJH='$(target_noncanonical)-gcjh'\n    ;;\n    path)\n       GCJ=\"gcj -B`${PWDCMD-pwd}`/\"\n-      ## In this case, gcj is found outside the build tree.  However, zip is\n-      ## found in the build tree.\n-      ZIP='$(top_builddir)/$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/fastjar'\n       GCJH=gcjh\n    ;;\n esac\n \n AC_SUBST(GCJH)\n-AC_SUBST(ZIP)\n \n # Create it, so that compile/link tests don't fail\n test -f libgcj.spec || touch libgcj.spec"}, {"sha": "27e396bbfd4d6f26016b6396eac2eab325fa3c89", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -138,6 +138,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n INTERPRETER = @INTERPRETER@\n+JAR = @JAR@\n JAVA_HOME = @JAVA_HOME@\n JAVA_HOME_SET_FALSE = @JAVA_HOME_SET_FALSE@\n JAVA_HOME_SET_TRUE = @JAVA_HOME_SET_TRUE@\n@@ -229,7 +230,6 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZINCS = @ZINCS@\n-ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@"}, {"sha": "ca90aaa2b0d70f1985b8190d86ff3df4da51279e", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -137,6 +137,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n INTERPRETER = @INTERPRETER@\n+JAR = @JAR@\n JAVA_HOME = @JAVA_HOME@\n JAVA_HOME_SET_FALSE = @JAVA_HOME_SET_FALSE@\n JAVA_HOME_SET_TRUE = @JAVA_HOME_SET_TRUE@\n@@ -228,7 +229,6 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZINCS = @ZINCS@\n-ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@"}, {"sha": "abca47f6de5c89116966cefe5aa9420bb3da34f1", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c6ea0c8be95f0f31cf63bb55e647c4539e7b12/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=76c6ea0c8be95f0f31cf63bb55e647c4539e7b12", "patch": "@@ -126,6 +126,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n INTERPRETER = @INTERPRETER@\n+JAR = @JAR@\n JAVA_HOME = @JAVA_HOME@\n JAVA_HOME_SET_FALSE = @JAVA_HOME_SET_FALSE@\n JAVA_HOME_SET_TRUE = @JAVA_HOME_SET_TRUE@\n@@ -217,7 +218,6 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZINCS = @ZINCS@\n-ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@"}]}