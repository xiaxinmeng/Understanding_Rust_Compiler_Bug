{"sha": "c5798879234295caa4e9ff863697989a663bc864", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzU3OTg4NzkyMzQyOTVjYWE0ZTlmZjg2MzY5Nzk4OWE2NjNiYzg2NA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2005-11-10T15:13:15Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2005-11-10T15:13:15Z"}, "message": "enable_shared_from_this/not_shared.cc: Adjust, remove xfail.\n\n2005-11-10  Paolo Carlini  <pcarlini@suse.de>\n\n\t* testsuite/tr1/2_general_utilities/memory/\n\tenable_shared_from_this/not_shared.cc: Adjust, remove xfail.\n\t* testsuite/tr1/2_general_utilities/memory/\n\tenable_shared_from_this/not_shared2.cc: Likewise.\n\t* testsuite/tr1/2_general_utilities/memory/\n\tenable_shared_from_this/not_shared3.cc: Likewise.\n\nFrom-SVN: r106736", "tree": {"sha": "849dcea525fd88c16a28a7def7c3ad639f7303ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/849dcea525fd88c16a28a7def7c3ad639f7303ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c5798879234295caa4e9ff863697989a663bc864", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5798879234295caa4e9ff863697989a663bc864", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5798879234295caa4e9ff863697989a663bc864", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5798879234295caa4e9ff863697989a663bc864/comments", "author": null, "committer": null, "parents": [{"sha": "6d3e3e6aa90a6d3d0b2feeed7c107e77246607ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d3e3e6aa90a6d3d0b2feeed7c107e77246607ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d3e3e6aa90a6d3d0b2feeed7c107e77246607ed"}], "stats": {"total": 78, "additions": 45, "deletions": 33}, "files": [{"sha": "1e03518357ef62326fd5070185092d0a76a8f2fd", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c5798879234295caa4e9ff863697989a663bc864", "patch": "@@ -1,3 +1,12 @@\n+2005-11-10  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* testsuite/tr1/2_general_utilities/memory/\n+\tenable_shared_from_this/not_shared.cc: Adjust, remove xfail.\n+\t* testsuite/tr1/2_general_utilities/memory/\n+\tenable_shared_from_this/not_shared2.cc: Likewise.\n+\t* testsuite/tr1/2_general_utilities/memory/\n+\tenable_shared_from_this/not_shared3.cc: Likewise.\n+\n 2005-11-10  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/tr1/boost_shared_ptr.h (_Sp_counted_base::release,"}, {"sha": "c7a9dbf722c46582214c6afa2cd2aee468d9f172", "filename": "libstdc++-v3/testsuite/tr1/2_general_utilities/memory/enable_shared_from_this/not_shared.cc", "status": "modified", "additions": 12, "deletions": 11, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared.cc?ref=c5798879234295caa4e9ff863697989a663bc864", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do run { xfail *-*-* } }\n // Copyright (C) 2005 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -34,18 +33,20 @@ test01()\n   X x;\n \n   try\n-  {\n-    std::tr1::shared_ptr<X> p = x.shared_from_this();\n-  }\n+    {\n+      std::tr1::shared_ptr<X> p = x.shared_from_this();\n+      VERIFY( false );\n+    }\n   catch (const std::tr1::bad_weak_ptr&)\n-  {\n-    // Expected.\n-    __throw_exception_again;\n-  }\n+    {\n+      // Expected.\n+      VERIFY( true );\n+    }\n   catch (...)\n-  {\n-    // Failed.\n-  }\n+    {\n+      // Failed.\n+      VERIFY( false );\n+    }\n \n   return 0;\n }"}, {"sha": "9f5f88eea0af4a8cdc6e4b88ce6a383bf1c3433a", "filename": "libstdc++-v3/testsuite/tr1/2_general_utilities/memory/enable_shared_from_this/not_shared2.cc", "status": "modified", "additions": 12, "deletions": 11, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared2.cc?ref=c5798879234295caa4e9ff863697989a663bc864", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do run { xfail *-*-* } }\n // Copyright (C) 2005 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -36,18 +35,20 @@ test01()\n   X x(*p);  // copy of shared object should not be shared\n \n   try\n-  {\n-    std::tr1::shared_ptr<X> p = x.shared_from_this();\n-  }\n+    {\n+      std::tr1::shared_ptr<X> p = x.shared_from_this();\n+      VERIFY( false );\n+    }\n   catch (const std::tr1::bad_weak_ptr&)\n-  {\n-    // Expected.\n-    __throw_exception_again;\n-  }\n+    {\n+      // Expected.\n+      VERIFY( true );\n+    }\n   catch (...)\n-  {\n-    // Failed.\n-  }\n+    {\n+      // Failed.\n+      VERIFY( false );\n+    }\n \n   return 0;\n }"}, {"sha": "14b203b9fd04f43c248f6247a8e179189123b69e", "filename": "libstdc++-v3/testsuite/tr1/2_general_utilities/memory/enable_shared_from_this/not_shared3.cc", "status": "modified", "additions": 12, "deletions": 11, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared3.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5798879234295caa4e9ff863697989a663bc864/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared3.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F2_general_utilities%2Fmemory%2Fenable_shared_from_this%2Fnot_shared3.cc?ref=c5798879234295caa4e9ff863697989a663bc864", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do run { xfail *-*-* } }\n // Copyright (C) 2005 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -37,18 +36,20 @@ test01()\n   x = *p;  // copy of shared object should not be shared\n \n   try\n-  {\n-    std::tr1::shared_ptr<X> p = x.shared_from_this();\n-  }\n+    {\n+      std::tr1::shared_ptr<X> p = x.shared_from_this();\n+      VERIFY( false );\n+    }\n   catch (const std::tr1::bad_weak_ptr&)\n-  {\n-    // Expected.\n-    __throw_exception_again;\n-  }\n+    {\n+      // Expected.\n+      VERIFY( true );\n+    }\n   catch (...)\n-  {\n-    // Failed.\n-  }\n+    {\n+      // Failed.\n+      VERIFY( false );\n+    }\n \n   return 0;\n }"}]}