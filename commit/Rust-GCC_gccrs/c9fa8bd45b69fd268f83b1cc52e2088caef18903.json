{"sha": "c9fa8bd45b69fd268f83b1cc52e2088caef18903", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzlmYThiZDQ1YjY5ZmQyNjhmODNiMWNjNTJlMjA4OGNhZWYxODkwMw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2007-01-20T00:13:38Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2007-01-20T00:13:38Z"}, "message": "tree-ssa.c (init_tree_ssa): Do not call init_alias_heapvars.\n\n\n        * tree-ssa.c (init_tree_ssa): Do not call init_alias_heapvars.\n        * tree-ssa-structalias.c (compute_points_to_sets): Do call\n        init_alias_heapvars.\n        (init_alias_heapvars): Initialize only when not already initialized.\n        (delete_alias_heapvars): Set heapvar_for_stmt to NULL.\n\nFrom-SVN: r120983", "tree": {"sha": "4d7100791a00083bf39d88eb678529f1e4894c71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d7100791a00083bf39d88eb678529f1e4894c71"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c9fa8bd45b69fd268f83b1cc52e2088caef18903", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9fa8bd45b69fd268f83b1cc52e2088caef18903", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9fa8bd45b69fd268f83b1cc52e2088caef18903", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9fa8bd45b69fd268f83b1cc52e2088caef18903/comments", "author": null, "committer": null, "parents": [{"sha": "d6e2570089844c9f7e48e7878f24d7183a65123d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6e2570089844c9f7e48e7878f24d7183a65123d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6e2570089844c9f7e48e7878f24d7183a65123d"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "c4aede67bcbe418f160ffcb8db41411edf62539e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9fa8bd45b69fd268f83b1cc52e2088caef18903/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9fa8bd45b69fd268f83b1cc52e2088caef18903/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c9fa8bd45b69fd268f83b1cc52e2088caef18903", "patch": "@@ -1,3 +1,11 @@\n+2007-01-20  Jan Hubicka  <jh@suse.cz>\n+\n+        * tree-ssa.c (init_tree_ssa): Do not call init_alias_heapvars.\n+        * tree-ssa-structalias.c (compute_points_to_sets): Do call\n+        init_alias_heapvars.\n+        (init_alias_heapvars): Initialize only when not already initialized.\n+        (delete_alias_heapvars): Set heapvar_for_stmt to NULL.\n+\n 2007-01-19  Roger Sayle  <roger@eyesopen.com>\n \n \t* common.opt (fsigned-zeros): New command line option."}, {"sha": "def895854f598c56c25f5fe41624a53ea966460e", "filename": "gcc/tree-ssa-structalias.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9fa8bd45b69fd268f83b1cc52e2088caef18903/gcc%2Ftree-ssa-structalias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9fa8bd45b69fd268f83b1cc52e2088caef18903/gcc%2Ftree-ssa-structalias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-structalias.c?ref=c9fa8bd45b69fd268f83b1cc52e2088caef18903", "patch": "@@ -4692,6 +4692,7 @@ compute_points_to_sets (struct alias_info *ai)\n   timevar_push (TV_TREE_PTA);\n \n   init_alias_vars ();\n+  init_alias_heapvars ();\n \n   intra_create_variable_infos ();\n \n@@ -4934,14 +4935,16 @@ struct tree_opt_pass pass_ipa_pta =\n void\n init_alias_heapvars (void)\n {\n-  heapvar_for_stmt = htab_create_ggc (11, tree_map_hash, tree_map_eq,\n-\t\t\t\t      NULL);\n+  if (!heapvar_for_stmt)\n+    heapvar_for_stmt = htab_create_ggc (11, tree_map_hash, tree_map_eq,\n+\t\t\t\t\tNULL);\n }\n \n void\n delete_alias_heapvars (void)\n {\n   htab_delete (heapvar_for_stmt);\n+  heapvar_for_stmt = NULL;\n }\n \n "}, {"sha": "dd771ea2b991e21aadf6eb348db36f0ac3268314", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9fa8bd45b69fd268f83b1cc52e2088caef18903/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9fa8bd45b69fd268f83b1cc52e2088caef18903/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=c9fa8bd45b69fd268f83b1cc52e2088caef18903", "patch": "@@ -778,7 +778,6 @@ init_tree_ssa (void)\n \t\t\t\t\t       var_ann_eq, NULL);\n   cfun->gimple_df->call_clobbered_vars = BITMAP_GGC_ALLOC ();\n   cfun->gimple_df->addressable_vars = BITMAP_GGC_ALLOC ();\n-  init_alias_heapvars ();\n   init_ssanames ();\n   init_phinodes ();\n }"}]}