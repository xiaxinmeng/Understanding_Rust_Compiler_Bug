{"sha": "f4b83d665915650fb5711732f3edab926425d957", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRiODNkNjY1OTE1NjUwZmI1NzExNzMyZjNlZGFiOTI2NDI1ZDk1Nw==", "commit": {"author": {"name": "Andreas Krebbel", "email": "Andreas.Krebbel@de.ibm.com", "date": "2014-02-07T14:21:29Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2014-02-07T14:21:29Z"}, "message": "gcc-have-sync-compare-and-swap.c: Align the 16 byte variable used for atomic operations.\n\n2014-02-07  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n\n\t* gcc.dg/gcc-have-sync-compare-and-swap.c: Align the 16 byte\n\tvariable used for atomic operations.\n\nFrom-SVN: r207600", "tree": {"sha": "431d7bb0eca8472cfcd9a2954c452d5bb0417f58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/431d7bb0eca8472cfcd9a2954c452d5bb0417f58"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4b83d665915650fb5711732f3edab926425d957", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4b83d665915650fb5711732f3edab926425d957", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4b83d665915650fb5711732f3edab926425d957", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4b83d665915650fb5711732f3edab926425d957/comments", "author": null, "committer": null, "parents": [{"sha": "8bd7070a7a6fc94831aa9a67083ae038410ab19b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bd7070a7a6fc94831aa9a67083ae038410ab19b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bd7070a7a6fc94831aa9a67083ae038410ab19b"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "e1ccc2d7547a1a52b8a57659af74c2e2fe0c6cc5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4b83d665915650fb5711732f3edab926425d957/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4b83d665915650fb5711732f3edab926425d957/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f4b83d665915650fb5711732f3edab926425d957", "patch": "@@ -1,3 +1,8 @@\n+2014-02-07  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n+\n+\t* gcc.dg/gcc-have-sync-compare-and-swap.c: Align the 16 byte\n+\tvariable used for atomic operations.\n+\n 2014-02-07  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/60092"}, {"sha": "5affeba19f23ea88bd3418378227967acf358f58", "filename": "gcc/testsuite/gcc.dg/gcc-have-sync-compare-and-swap.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4b83d665915650fb5711732f3edab926425d957/gcc%2Ftestsuite%2Fgcc.dg%2Fgcc-have-sync-compare-and-swap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4b83d665915650fb5711732f3edab926425d957/gcc%2Ftestsuite%2Fgcc.dg%2Fgcc-have-sync-compare-and-swap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgcc-have-sync-compare-and-swap.c?ref=f4b83d665915650fb5711732f3edab926425d957", "patch": "@@ -40,10 +40,12 @@ void f8()\n #endif\n }\n \n+/* aligned (16): On S/390 16 byte compare and swap operations are only\n+   available if the memory operand resides on a 16 byte boundary.  */\n void f16()\n {\n #ifdef __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16\n-  typedef int __attribute__ ((__mode__ (__TI__))) ti_int_type;\n+  typedef int __attribute__ ((__mode__ (__TI__), aligned (16))) ti_int_type;\n   ti_int_type ti_int;\n   __sync_bool_compare_and_swap (&ti_int, (ti_int_type)0, (ti_int_type)1);\n #endif"}]}