{"sha": "3f595aa14ce1e5d7dc853fdb97dfae852849d939", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Y1OTVhYTE0Y2UxZTVkN2RjODUzZmRiOTdkZmFlODUyODQ5ZDkzOQ==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2002-01-08T10:00:27Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2002-01-08T10:00:27Z"}, "message": "re PR other/704 (--help and --version)\n\n\t* gcc.c (option_map): Remove --version.\n\t(process_command): Handle -fversion following the GNU Coding\n\tStandards.  Partially addresses PR other/704.\n\nf:\n\t* g77spec.c (lookup_option): Handle -fversion.\n\t(lang_specific_driver): Update copyright date in --version output.\n\nFrom-SVN: r48631", "tree": {"sha": "2bef32e66b7ac67a4758606fb3fcb9b477684be4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bef32e66b7ac67a4758606fb3fcb9b477684be4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3f595aa14ce1e5d7dc853fdb97dfae852849d939", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f595aa14ce1e5d7dc853fdb97dfae852849d939", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f595aa14ce1e5d7dc853fdb97dfae852849d939", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f595aa14ce1e5d7dc853fdb97dfae852849d939/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5bc5a8f9b7f14fdaf530000984a8eb30a0804b32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bc5a8f9b7f14fdaf530000984a8eb30a0804b32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bc5a8f9b7f14fdaf530000984a8eb30a0804b32"}], "stats": {"total": 29, "additions": 26, "deletions": 3}, "files": [{"sha": "ed9c48a4b255e420cc322058a3dbb97df9f73ff9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3f595aa14ce1e5d7dc853fdb97dfae852849d939", "patch": "@@ -1,3 +1,9 @@\n+2002-01-08  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* gcc.c (option_map): Remove --version.\n+\t(process_command): Handle -fversion following the GNU Coding\n+\tStandards.  Partially addresses PR other/704.\n+\n 2002-01-08  Graham Stott  <grahams@redhat.com>\n \n \t* combine.c (combine_instructions): Fix typo."}, {"sha": "c151a1f404ac54a16160b3faa33ee6fb4b4ad6e2", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=3f595aa14ce1e5d7dc853fdb97dfae852849d939", "patch": "@@ -1,3 +1,8 @@\n+2002-01-08  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* g77spec.c (lookup_option): Handle -fversion.\n+\t(lang_specific_driver): Update copyright date in --version output.\n+\n Mon Jan  7 00:03:42 2002  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* invoke.texi: Markup g77 as @command.  Remove reference to"}, {"sha": "7ba075675e9c820f749f01d38baa96ee2614af20", "filename": "gcc/f/g77spec.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2Ff%2Fg77spec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2Ff%2Fg77spec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fg77spec.c?ref=3f595aa14ce1e5d7dc853fdb97dfae852849d939", "patch": "@@ -1,5 +1,5 @@\n /* Specific flags and argument handling of the Fortran front-end.\n-   Copyright (C) 1997, 1999, 2000 Free Software Foundation, Inc.\n+   Copyright (C) 1997, 1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -194,6 +194,8 @@ lookup_option (xopt, xskip, xarg, text)\n \topt = OPTION_syntax_only;\n       else if (! strcmp (text, \"-dumpversion\"))\n \topt = OPTION_version;\n+      else if (! strcmp (text, \"-fversion\"))  /* Really --version!! */\n+\topt = OPTION_version;\n       else if (! strcmp (text, \"-Xlinker\")\n \t       || ! strcmp (text, \"-specs\"))\n \tskip = 1;\n@@ -373,7 +375,7 @@ lang_specific_driver (in_argc, in_argv, in_added_libraries)\n \tcase OPTION_version:\n \t  printf (\"\\\n GNU Fortran %s (Fortran Frontend version %s)\\n\\\n-Copyright (C) 2001 Free Software Foundation, Inc.\\n\\\n+Copyright (C) 2002 Free Software Foundation, Inc.\\n\\\n \\n\\\n GNU Fortran comes with NO WARRANTY, to the extent permitted by law.\\n\\\n You may redistribute copies of GNU Fortran\\n\\"}, {"sha": "d5472d33ddf307be2622560ad83fc121baa074a3", "filename": "gcc/gcc.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f595aa14ce1e5d7dc853fdb97dfae852849d939/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=3f595aa14ce1e5d7dc853fdb97dfae852849d939", "patch": "@@ -982,7 +982,6 @@ static const struct option_map option_map[] =\n    {\"--use-version\", \"-V\", \"a\"},\n    {\"--user-dependencies\", \"-MM\", 0},\n    {\"--verbose\", \"-v\", 0},\n-   {\"--version\", \"-dumpversion\", 0},\n    {\"--warn-\", \"-W\", \"*j\"},\n    {\"--write-dependencies\", \"-MD\", 0},\n    {\"--write-user-dependencies\", \"-MMD\", 0},\n@@ -3350,6 +3349,17 @@ process_command (argc, argv)\n \t  printf (\"%s\\n\", spec_machine);\n \t  exit (0);\n \t}\n+      else if (strcmp (argv[i], \"-fversion\") == 0)\n+\t{\n+\t  /* translate_options () has turned --version into -fversion.  */\n+\t  printf (_(\"%s (GCC) %s\\n\"), programname, version_string);\n+\t  fputs (_(\"Copyright (C) 2002 Free Software Foundation, Inc.\\n\"),\n+\t\t stdout);\n+\t  fputs (_(\"This is free software; see the source for copying conditions.  There is NO\\n\\\n+warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\\n\\n\"),\n+\t\t stdout);\n+\t  exit (0);\n+\t}\n       else if (strcmp (argv[i], \"-fhelp\") == 0)\n \t{\n \t  /* translate_options () has turned --help into -fhelp.  */"}]}