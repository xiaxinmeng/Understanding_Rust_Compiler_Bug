{"sha": "6a7441f5be2f1ae5c33e060925cb43879df7c05c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmE3NDQxZjViZTJmMWFlNWMzM2UwNjA5MjVjYjQzODc5ZGY3YzA1Yw==", "commit": {"author": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2010-08-11T20:24:55Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2010-08-11T20:24:55Z"}, "message": "Add more debug counter guards.\n\n2010-06-23  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite.c (graphite_transform_loops): Add two more dbg_cnt calls.\n\nFrom-SVN: r163121", "tree": {"sha": "7010c6118aa2f96f7bd022dd3523fd147fc12705", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7010c6118aa2f96f7bd022dd3523fd147fc12705"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a7441f5be2f1ae5c33e060925cb43879df7c05c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a7441f5be2f1ae5c33e060925cb43879df7c05c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a7441f5be2f1ae5c33e060925cb43879df7c05c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a7441f5be2f1ae5c33e060925cb43879df7c05c/comments", "author": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d4332d00176fc5613d3b64d83a4604fbe3021328", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4332d00176fc5613d3b64d83a4604fbe3021328", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4332d00176fc5613d3b64d83a4604fbe3021328"}], "stats": {"total": 35, "additions": 28, "deletions": 7}, "files": [{"sha": "263689f77a6daba5b4d86229004805c43488b940", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6a7441f5be2f1ae5c33e060925cb43879df7c05c", "patch": "@@ -1,3 +1,14 @@\n+2010-08-02  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite.c (graphite_transform_loops): Add two more dbg_cnt calls.\n+\n+2010-08-02  Alexander Monakov  <amonakov@ispras.ru>\n+\n+\t* dbgcnt.def (graphite_scop): New counter.\n+\t* graphite.c: Include dbgcnt.h.\n+\t(graphite_transform_loops): Use new counter to limit transformations.\n+\t* Makefile.in (graphite.o): Depend on DBGCNT_H.\n+\n 2010-08-02  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* passes.c (init_optimization_passes): Add pass_graphite."}, {"sha": "166d9f3ef321330c2700f74f6a7ab7ec2b078576", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=6a7441f5be2f1ae5c33e060925cb43879df7c05c", "patch": "@@ -1,3 +1,7 @@\n+2010-06-23  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite.c (graphite_transform_loops): Add two more dbg_cnt calls.\n+\n 2010-06-15  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* passes.c (init_optimization_passes): Add pass_graphite."}, {"sha": "7ba49a80d6709ed4aba9229ad2004d28913821d0", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=6a7441f5be2f1ae5c33e060925cb43879df7c05c", "patch": "@@ -2663,7 +2663,7 @@ sese.o: sese.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    pointer-set.h $(GIMPLE_H) sese.h tree-pretty-print.h\n graphite.o: graphite.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    $(GGC_H) $(TREE_H) $(RTL_H) $(BASIC_BLOCK_H) $(DIAGNOSTIC_H) $(TOPLEV_H) $(DIAGNOSTIC_CORE_H) \\\n-   $(TREE_FLOW_H) $(TREE_DUMP_H) $(TIMEVAR_H) $(CFGLOOP_H) $(GIMPLE_H) \\\n+   $(TREE_FLOW_H) $(TREE_DUMP_H) $(TIMEVAR_H) $(CFGLOOP_H) $(GIMPLE_H) $(DBGCNT_H) \\\n    $(PREDICT_H) $(TREE_DATA_REF_H) tree-pass.h graphite.h \\\n    pointer-set.h value-prof.h graphite-ppl.h sese.h \\\n    graphite-scop-detection.h graphite-clast-to-gimple.h \\"}, {"sha": "0492d66263501300d4ab6b3309baa9dc00ce519e", "filename": "gcc/dbgcnt.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2Fdbgcnt.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2Fdbgcnt.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbgcnt.def?ref=6a7441f5be2f1ae5c33e060925cb43879df7c05c", "patch": "@@ -157,6 +157,7 @@ DEBUG_COUNTER (dse2)\n DEBUG_COUNTER (gcse2_delete)\n DEBUG_COUNTER (global_alloc_at_func)\n DEBUG_COUNTER (global_alloc_at_reg)\n+DEBUG_COUNTER (graphite_scop)\n DEBUG_COUNTER (hoist)\n DEBUG_COUNTER (hoist_insn)\n DEBUG_COUNTER (ia64_sched2)"}, {"sha": "5b3b6aa7b3f31096250386d5aed75348dde12ca3", "filename": "gcc/graphite.c", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2Fgraphite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7441f5be2f1ae5c33e060925cb43879df7c05c/gcc%2Fgraphite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite.c?ref=6a7441f5be2f1ae5c33e060925cb43879df7c05c", "patch": "@@ -55,6 +55,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple.h\"\n #include \"sese.h\"\n #include \"predict.h\"\n+#include \"dbgcnt.h\"\n \n #ifdef HAVE_cloog\n \n@@ -271,18 +272,22 @@ graphite_transform_loops (void)\n   sbitmap_zero (reductions);\n \n   for (i = 0; VEC_iterate (scop_p, scops, i, scop); i++)\n-    rewrite_commutative_reductions_out_of_ssa (SCOP_REGION (scop), reductions);\n+    if (dbg_cnt (graphite_scop))\n+      rewrite_commutative_reductions_out_of_ssa (SCOP_REGION (scop),\n+\t\t\t\t\t\t reductions);\n \n   for (i = 0; VEC_iterate (scop_p, scops, i, scop); i++)\n-    {\n-      rewrite_reductions_out_of_ssa (scop);\n-      build_scop_bbs (scop, reductions);\n-    }\n+    if (dbg_cnt (graphite_scop))\n+      {\n+\trewrite_reductions_out_of_ssa (scop);\n+\tbuild_scop_bbs (scop, reductions);\n+      }\n \n   sbitmap_free (reductions);\n \n   for (i = 0; VEC_iterate (scop_p, scops, i, scop); i++)\n-    build_poly_scop (scop);\n+    if (dbg_cnt (graphite_scop))\n+      build_poly_scop (scop);\n \n   for (i = 0; VEC_iterate (scop_p, scops, i, scop); i++)\n     if (POLY_SCOP_P (scop)"}]}