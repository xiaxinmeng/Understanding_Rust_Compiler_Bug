{"sha": "7a89ad000878474ca2eea733bd209cfa8cbf73ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E4OWFkMDAwODc4NDc0Y2EyZWVhNzMzYmQyMDljZmE4Y2JmNzNjZQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2013-06-20T14:23:15Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2013-06-20T14:23:15Z"}, "message": "lto-cgraph.c (input_symtab): Do not set cgraph state.\n\n\n\t* lto-cgraph.c (input_symtab): Do not set cgraph state.\n\t* lto.c (read_cgraph_and_symbols): Set cgraph state.\n\nFrom-SVN: r200247", "tree": {"sha": "7d73d63f18320cc3c593b2372cb9cc34ad6a92ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d73d63f18320cc3c593b2372cb9cc34ad6a92ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a89ad000878474ca2eea733bd209cfa8cbf73ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a89ad000878474ca2eea733bd209cfa8cbf73ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a89ad000878474ca2eea733bd209cfa8cbf73ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a89ad000878474ca2eea733bd209cfa8cbf73ce/comments", "author": null, "committer": null, "parents": [{"sha": "cda7fd66fde00b160d6ba9b4b626082d09ea5929", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cda7fd66fde00b160d6ba9b4b626082d09ea5929", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cda7fd66fde00b160d6ba9b4b626082d09ea5929"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "8fad2257455b2b8e4ff19c0a787b9eb842055d07", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a89ad000878474ca2eea733bd209cfa8cbf73ce", "patch": "@@ -1,3 +1,7 @@\n+2013-06-20  Jan Hubicka  <jh@suse.cz>\n+\n+\t* lto-cgraph.c (input_symtab): Do not set cgraph state.\n+\n 2013-06-20  Joern Rennecke <joern.rennecke@embecosm.com>\n \n \tPR rtl-optimization/57425"}, {"sha": "6c9a0285f81c56e7c5a37760fc98907d932a9dc8", "filename": "gcc/lto-cgraph.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2Flto-cgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2Flto-cgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-cgraph.c?ref=7a89ad000878474ca2eea733bd209cfa8cbf73ce", "patch": "@@ -1451,8 +1451,6 @@ input_symtab (void)\n   unsigned int j = 0;\n   struct cgraph_node *node;\n \n-  cgraph_state = CGRAPH_STATE_IPA_SSA;\n-\n   while ((file_data = file_data_vec[j++]))\n     {\n       const char *data;"}, {"sha": "c2cbeedaa2a63f22c10c4a40aeb782d60eaa386a", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=7a89ad000878474ca2eea733bd209cfa8cbf73ce", "patch": "@@ -1,3 +1,7 @@\n+2013-06-20  Jan Hubicka  <jh@suse.cz>\n+\n+\t* lto.c (read_cgraph_and_symbols): Set cgraph state.\n+\n 2013-06-19  Jan Hubicka  <jh@suse.cz>\n \n \t* lto-partition.c (add_references_to_partition): Use"}, {"sha": "c0f9328b726e74e3716e75a2c95904126113e0c8", "filename": "gcc/lto/lto.c", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2Flto%2Flto.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a89ad000878474ca2eea733bd209cfa8cbf73ce/gcc%2Flto%2Flto.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto.c?ref=7a89ad000878474ca2eea733bd209cfa8cbf73ce", "patch": "@@ -3362,7 +3362,6 @@ read_cgraph_and_symbols (unsigned nfiles, const char **fnames)\n {\n   unsigned int i, last_file_ix;\n   FILE *resolution;\n-  struct cgraph_node *node;\n   int count = 0;\n   struct lto_file_decl_data **decl_data;\n   void **res;\n@@ -3544,14 +3543,7 @@ read_cgraph_and_symbols (unsigned nfiles, const char **fnames)\n     }\n   lto_symtab_merge_symbols ();\n   ggc_collect ();\n-\n-  /* FIXME: ipa_transforms_to_apply holds list of passes that have optimization\n-     summaries computed and needs to apply changes.  At the moment WHOPR only\n-     supports inlining, so we can push it here by hand.  In future we need to stream\n-     this field into ltrans compilation.  */\n-  if (flag_ltrans)\n-    FOR_EACH_DEFINED_FUNCTION (node)\n-      node->ipa_transforms_to_apply.safe_push ((ipa_opt_pass)&pass_ipa_inline);\n+  cgraph_state = CGRAPH_STATE_IPA_SSA;\n \n   timevar_pop (TV_IPA_LTO_CGRAPH_MERGE);\n "}]}