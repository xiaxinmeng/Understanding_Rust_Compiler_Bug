{"sha": "4300c4212ed393f6078e902f4d98591fabb68a5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDMwMGM0MjEyZWQzOTNmNjA3OGU5MDJmNGQ5ODU5MWZhYmI2OGE1Yg==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2005-03-03T22:17:26Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2005-03-03T22:17:26Z"}, "message": "re PR libgcj/20292 (new test case PR16923 fails)\n\n2005-03-03  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\tPR libgcj/20292\n\t* testsuite/libjava.jni/jni.exp\n\t(gcj_jni_invocation_compile_c_to_binary): Add -I. -I.. to compile\n\tflags.\n\t(gcj_jni_invocation_test_one): Add -L../.libs to cxx flags.\n\nFrom-SVN: r95848", "tree": {"sha": "12f45ba2e2910e4a0e6883509d1b01f351af8467", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12f45ba2e2910e4a0e6883509d1b01f351af8467"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4300c4212ed393f6078e902f4d98591fabb68a5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4300c4212ed393f6078e902f4d98591fabb68a5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4300c4212ed393f6078e902f4d98591fabb68a5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4300c4212ed393f6078e902f4d98591fabb68a5b/comments", "author": null, "committer": null, "parents": [{"sha": "59c982fe93b0c73af8e3208ae2f050cfce282849", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59c982fe93b0c73af8e3208ae2f050cfce282849", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59c982fe93b0c73af8e3208ae2f050cfce282849"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "e2f1c0516e06ffea08a9666e17137871521ac6d9", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4300c4212ed393f6078e902f4d98591fabb68a5b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4300c4212ed393f6078e902f4d98591fabb68a5b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=4300c4212ed393f6078e902f4d98591fabb68a5b", "patch": "@@ -1,3 +1,11 @@\n+2005-03-03  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\tPR libgcj/20292\n+\t* testsuite/libjava.jni/jni.exp\n+\t(gcj_jni_invocation_compile_c_to_binary): Add -I. -I.. to compile\n+\tflags.\n+\t(gcj_jni_invocation_test_one): Add -L../.libs to cxx flags.\n+\n 2005-02-23  David Daney  <ddaney@avtrex.com>\n \n \t* configure.host: Don't use -mxgot for MIPS builds."}, {"sha": "fb10bd4b9e6f13d7901e059cabb7e5e4a856b5a7", "filename": "libjava/testsuite/libjava.jni/jni.exp", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4300c4212ed393f6078e902f4d98591fabb68a5b/libjava%2Ftestsuite%2Flibjava.jni%2Fjni.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4300c4212ed393f6078e902f4d98591fabb68a5b/libjava%2Ftestsuite%2Flibjava.jni%2Fjni.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2Fjni.exp?ref=4300c4212ed393f6078e902f4d98591fabb68a5b", "patch": "@@ -194,6 +194,9 @@ proc gcj_jni_invocation_compile_c_to_binary {file {options {}}} {\n   set filename [file tail $file]\n   set name [file rootname $filename]\n \n+  # Find the generated header.\n+  lappend options \"additional_flags=-I. -I..\"\n+\n   # Find jni.h.\n   lappend options \"additional_flags=-I$srcdir/../include\"\n \n@@ -235,7 +238,7 @@ proc gcj_jni_invocation_test_one {file} {\n   pass \"bytecompile $file\"\n \n   set cfile [file rootname $file].c\n-  set cxxflags \"-lgcj\"\n+  set cxxflags \"-L../.libs -lgcj\"\n \n   if {! [gcj_jni_invocation_compile_c_to_binary $cfile $cxxflags]} {\n     # FIXME"}]}