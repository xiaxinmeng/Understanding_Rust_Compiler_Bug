{"sha": "2f3bdde7946ffbe607c345bc30ab7248a16a9447", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmYzYmRkZTc5NDZmZmJlNjA3YzM0NWJjMzBhYjcyNDhhMTZhOTQ0Nw==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@au.ibm.com", "date": "2005-11-29T12:31:26Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2005-11-29T12:31:26Z"}, "message": "Makefile.tpl (clean-target-libgcc): Invoke clean-target-libgcc from the gcc build directory.\n\n\t* Makefile.tpl (clean-target-libgcc): Invoke clean-target-libgcc\n\tfrom the gcc build directory.\n\t* Makefile.in: Regenerate.\ngcc/\n\t* Makefile.in (clean-target): Depend on clean-target-libgcc.\n\t(clean-target-libgcc): Import rule from the top-level Makefile.in.\n\nFrom-SVN: r107668", "tree": {"sha": "500eb93ddd4927a614067b6fab5ab323a23de95c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/500eb93ddd4927a614067b6fab5ab323a23de95c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f3bdde7946ffbe607c345bc30ab7248a16a9447", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f3bdde7946ffbe607c345bc30ab7248a16a9447", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f3bdde7946ffbe607c345bc30ab7248a16a9447", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f3bdde7946ffbe607c345bc30ab7248a16a9447/comments", "author": null, "committer": null, "parents": [{"sha": "1e90e92f6dd9f7bc11abb6e8c116d5481b98fe36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e90e92f6dd9f7bc11abb6e8c116d5481b98fe36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e90e92f6dd9f7bc11abb6e8c116d5481b98fe36"}], "stats": {"total": 39, "additions": 27, "deletions": 12}, "files": [{"sha": "9282eee74e280339e717c4787f8deb7922eee8c4", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3bdde7946ffbe607c345bc30ab7248a16a9447/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3bdde7946ffbe607c345bc30ab7248a16a9447/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=2f3bdde7946ffbe607c345bc30ab7248a16a9447", "patch": "@@ -1,3 +1,9 @@\n+2005-11-29  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* Makefile.tpl (clean-target-libgcc): Invoke clean-target-libgcc\n+\tfrom the gcc build directory.\n+\t* Makefile.in: Regenerate.\n+\n 2005-11-29  Ben Elliston  <bje@au.ibm.com>\n \n \t* Makefile.def: Add new libdecnumber host_module.  Make all-gcc"}, {"sha": "e84c5d23a7178e900cce69177961acb008edfc2e", "filename": "Makefile.in", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3bdde7946ffbe607c345bc30ab7248a16a9447/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3bdde7946ffbe607c345bc30ab7248a16a9447/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=2f3bdde7946ffbe607c345bc30ab7248a16a9447", "patch": "@@ -2081,14 +2081,10 @@ maintainer-clean: local-maintainer-clean do-maintainer-clean local-clean\n maintainer-clean: local-distclean\n realclean: maintainer-clean\n \n-# Extra dependency for clean-target, owing to the mixed nature of gcc\n+# Extra dependency for clean-target, owing to the mixed nature of gcc.\n clean-target: clean-target-libgcc\n clean-target-libgcc:\n-\ttest ! -d gcc/libgcc || \\\n-\t(cd gcc/libgcc && find . -type d -print) | \\\n-\twhile read d; do rm -f gcc/$$d/libgcc.a || : ; done\n-\t-rm -rf gcc/libgcc\n-\t-rm -f gcc/stmp-dirs\n+\ttest ! -d gcc || (cd gcc && $(MAKE) $@)\n \n # Check target.\n "}, {"sha": "4f38d6c5de44c3dde9f64244c6cd30b6cd54aabc", "filename": "Makefile.tpl", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3bdde7946ffbe607c345bc30ab7248a16a9447/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3bdde7946ffbe607c345bc30ab7248a16a9447/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=2f3bdde7946ffbe607c345bc30ab7248a16a9447", "patch": "@@ -839,14 +839,10 @@ maintainer-clean: local-maintainer-clean do-maintainer-clean local-clean\n maintainer-clean: local-distclean\n realclean: maintainer-clean\n \n-# Extra dependency for clean-target, owing to the mixed nature of gcc\n+# Extra dependency for clean-target, owing to the mixed nature of gcc.\n clean-target: clean-target-libgcc\n clean-target-libgcc:\n-\ttest ! -d gcc/libgcc || \\\n-\t(cd gcc/libgcc && find . -type d -print) | \\\n-\twhile read d; do rm -f gcc/$$d/libgcc.a || : ; done\n-\t-rm -rf gcc/libgcc\n-\t-rm -f gcc/stmp-dirs\n+\ttest ! -d gcc || (cd gcc && $(MAKE) $@)\n \n # Check target.\n "}, {"sha": "8aac20f508b82222a7926a4da0ac5c148481b3b6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3bdde7946ffbe607c345bc30ab7248a16a9447/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3bdde7946ffbe607c345bc30ab7248a16a9447/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f3bdde7946ffbe607c345bc30ab7248a16a9447", "patch": "@@ -1,3 +1,8 @@\n+2005-11-29  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* Makefile.in (clean-target): Depend on clean-target-libgcc.\n+\t(clean-target-libgcc): Import rule from the top-level Makefile.in.\n+\n 2005-11-29  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \tPR middle-end/20109"}, {"sha": "de573ca839c144f69fab944b4928ebcb0b353489", "filename": "gcc/Makefile.in", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3bdde7946ffbe607c345bc30ab7248a16a9447/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3bdde7946ffbe607c345bc30ab7248a16a9447/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=2f3bdde7946ffbe607c345bc30ab7248a16a9447", "patch": "@@ -3423,6 +3423,18 @@ fsf-funding.pod: funding.texi\n \t-$(TEXI2POD) $< > $@\n \n #\f\n+# clean-target removes all files made by compilation.\n+# This can be added to over time.\n+\n+clean-target: clean-target-libgcc\n+\n+clean-target-libgcc:\n+\ttest ! -d libgcc || \\\n+\t(cd libgcc && find . -type d -print) | \\\n+\twhile read d; do rm -f $$d/libgcc.a || : ; done\n+\ttest ! -d libgcc || rm -r libgcc\n+\ttest ! -f stmp-dirs || rm stmp-dirs\n+\n # Deletion of files made during compilation.\n # There are four levels of this:\n #   `mostlyclean', `clean', `distclean' and `maintainer-clean'."}]}