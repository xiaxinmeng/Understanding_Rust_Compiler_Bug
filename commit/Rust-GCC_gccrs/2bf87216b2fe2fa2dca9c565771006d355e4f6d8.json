{"sha": "2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJmODcyMTZiMmZlMmZhMmRjYTljNTY1NzcxMDA2ZDM1NWU0ZjZkOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-06-10T21:36:15Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-06-10T21:36:15Z"}, "message": "cfgcleanup.c (try_optimize_cfg): Make sure merge_blocks doesn't merge bb with itself.\n\n\t* cfgcleanup.c (try_optimize_cfg): Make sure merge_blocks doesn't\n\tmerge bb with itself.\n\n\t* gcc.c-torture/compile/20020605-1.c: New test.\n\nFrom-SVN: r54456", "tree": {"sha": "7ec1ac88f5e3d19ee1a46df7ee82526f46053be6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ec1ac88f5e3d19ee1a46df7ee82526f46053be6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "135fd2d8604aa7c1cdaee281d420a922e1234aef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/135fd2d8604aa7c1cdaee281d420a922e1234aef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/135fd2d8604aa7c1cdaee281d420a922e1234aef"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "0964d2700e5854d555cd91e2dc31b94cf8d84e02", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "patch": "@@ -1,3 +1,8 @@\n+2002-06-10  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* cfgcleanup.c (try_optimize_cfg): Make sure merge_blocks doesn't\n+\tmerge bb with itself.\n+\n 2002-06-10  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/alpha.md (builtin_zap): Fix thinkos expanding mask."}, {"sha": "74b8d338ca99be0666aa1199f955208a0a94ffd1", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "patch": "@@ -1675,6 +1675,7 @@ try_optimize_cfg (mode)\n \t\t     && !(s->flags & EDGE_COMPLEX)\n \t\t     && (c = s->dest) != EXIT_BLOCK_PTR\n \t\t     && c->pred->pred_next == NULL\n+\t\t     && b != c\n \t\t     /* If the jump insn has side effects,\n \t\t\twe can't kill the edge.  */\n \t\t     && (GET_CODE (b->end) != JUMP_INSN"}, {"sha": "afc08f4b8cea91f53d8c0464785675af997b072e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "patch": "@@ -1,3 +1,7 @@\n+2002-06-10  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc.c-torture/compile/20020605-1.c: New test.\n+\n 2002-06-07  Roger Sayle  <roger@eyesopen.com>\n \n \t* gcc.dg/20020607-2.c: New test case."}, {"sha": "960a4be7ed119492c1c5ea47325780e4b493deb4", "filename": "gcc/testsuite/gcc.c-torture/compile/20020605-1.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020605-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bf87216b2fe2fa2dca9c565771006d355e4f6d8/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020605-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020605-1.c?ref=2bf87216b2fe2fa2dca9c565771006d355e4f6d8", "patch": "@@ -0,0 +1,17 @@\n+/* This testcase caused on IA-32 -O2 endless loop in\n+   merge_blocks when trying to merge a basic block\n+   with itself.  */\n+\n+void f (void)\n+{\n+  char *c;\n+  do\n+    {\n+      if (c)\n+\tbreak;\n+    }\n+  while (1);\n+  if (!c)\n+    while (1)\n+      f ();\n+}"}]}