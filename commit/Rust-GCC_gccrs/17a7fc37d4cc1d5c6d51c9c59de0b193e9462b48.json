{"sha": "17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdhN2ZjMzdkNGNjMWQ1YzZkNTFjOWM1OWRlMGIxOTNlOTQ2MmI0OA==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2013-06-05T17:02:31Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2013-06-05T17:02:31Z"}, "message": "arm.md (enabled_for_depr_it): New attribute.\n\n2013-06-05  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n\n\t* config/arm/arm.md (enabled_for_depr_it): New attribute.\n\t(predicable_short_it): Likewise.\n\t(predicated): Likewise.\n\t(enabled): Handle above.\n\t(define_cond_exec): Set predicated attribute to yes.\n\nFrom-SVN: r199705", "tree": {"sha": "796ab7ff5369ba9e666141c27d643881770ddfb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/796ab7ff5369ba9e666141c27d643881770ddfb4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5124937746e3ff9ff7c32963b359c4d903f35290", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5124937746e3ff9ff7c32963b359c4d903f35290", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5124937746e3ff9ff7c32963b359c4d903f35290"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "7932819966ff0dfcb8cbeccc15b0620004f364d5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48", "patch": "@@ -1,3 +1,11 @@\n+2013-06-05  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* config/arm/arm.md (enabled_for_depr_it): New attribute.\n+\t(predicable_short_it): Likewise.\n+\t(predicated): Likewise.\n+\t(enabled): Handle above.\n+\t(define_cond_exec): Set predicated attribute to yes.\n+\n 2013-06-05  Mike Stump  <mikestump@comcast.net>\n \n \t* gdbinit.in (__FUNCTION__): Add."}, {"sha": "5370efab8d7429bff5c56a92d636254cd89a9dc1", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=17a7fc37d4cc1d5c6d51c9c59de0b193e9462b48", "patch": "@@ -93,6 +93,15 @@\n ; IS_THUMB1 is set to 'yes' iff we are generating Thumb-1 code.\n (define_attr \"is_thumb1\" \"no,yes\" (const (symbol_ref \"thumb1_code\")))\n \n+; We use this attribute to disable alternatives that can produce 32-bit\n+; instructions inside an IT-block in Thumb2 state.  ARMv8 deprecates IT blocks\n+; that contain 32-bit instructions.\n+(define_attr \"enabled_for_depr_it\" \"no,yes\" (const_string \"yes\"))\n+\n+; This attribute is used to disable a predicated alternative when we have\n+; arm_restrict_it.\n+(define_attr \"predicable_short_it\" \"no,yes\" (const_string \"yes\"))\n+\n ;; Operand number of an input operand that is shifted.  Zero if the\n ;; given instruction does not shift one of its input operands.\n (define_attr \"shift\" \"\" (const_int 0))\n@@ -103,6 +112,8 @@\n (define_attr \"fpu\" \"none,vfp\"\n   (const (symbol_ref \"arm_fpu_attr\")))\n \n+(define_attr \"predicated\" \"yes,no\" (const_string \"no\"))\n+\n ; LENGTH of an instruction (in bytes)\n (define_attr \"length\" \"\"\n   (const_int 4))\n@@ -190,6 +201,15 @@\n    (cond [(eq_attr \"insn_enabled\" \"no\")\n \t  (const_string \"no\")\n \n+\t  (and (eq_attr \"predicable_short_it\" \"no\")\n+\t       (and (eq_attr \"predicated\" \"yes\")\n+\t            (match_test \"arm_restrict_it\")))\n+\t  (const_string \"no\")\n+\n+\t  (and (eq_attr \"enabled_for_depr_it\" \"no\")\n+\t       (match_test \"arm_restrict_it\"))\n+\t  (const_string \"no\")\n+\n \t  (eq_attr \"arch_enabled\" \"no\")\n \t  (const_string \"no\")\n \n@@ -12130,6 +12150,7 @@\n      (const_int 0)])]\n   \"TARGET_32BIT\"\n   \"\"\n+[(set_attr \"predicated\" \"yes\")]\n )\n \n (define_insn \"force_register_use\""}]}