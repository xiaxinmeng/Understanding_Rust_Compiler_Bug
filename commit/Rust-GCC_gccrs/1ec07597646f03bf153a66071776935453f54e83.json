{"sha": "1ec07597646f03bf153a66071776935453f54e83", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWVjMDc1OTc2NDZmMDNiZjE1M2E2NjA3MTc3NjkzNTQ1M2Y1NGU4Mw==", "commit": {"author": {"name": "Jeffrey D. Oldham", "email": "oldham@codesourcery.com", "date": "2001-05-23T16:15:03Z"}, "committer": {"name": "Jeffrey D. Oldham", "email": "oldham@gcc.gnu.org", "date": "2001-05-23T16:15:03Z"}, "message": "Wed May 23 2001  Jeffrey D. Oldham  <oldham@codesourcery.com>\n\n\t* lib/g++.exp (g++_include_flags): Use args to compute\n \tget_multilibs.\n\t(g++_link_flags): Likewise.\n\t(g++_init): Pass TOOL_OPTIONS as arguments to two above functions.\n\nFrom-SVN: r42495", "tree": {"sha": "475a6c275b5bfa50b890679fe561dec29852f67b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/475a6c275b5bfa50b890679fe561dec29852f67b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ec07597646f03bf153a66071776935453f54e83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ec07597646f03bf153a66071776935453f54e83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ec07597646f03bf153a66071776935453f54e83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ec07597646f03bf153a66071776935453f54e83/comments", "author": null, "committer": null, "parents": [{"sha": "6cf735a76988517f6edb2ba4560e58d15e74e7a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cf735a76988517f6edb2ba4560e58d15e74e7a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cf735a76988517f6edb2ba4560e58d15e74e7a2"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "d0b88ef9b511c317dcbf6154081978847ffb8579", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ec07597646f03bf153a66071776935453f54e83/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ec07597646f03bf153a66071776935453f54e83/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1ec07597646f03bf153a66071776935453f54e83", "patch": "@@ -1,3 +1,10 @@\n+Wed May 23 2001  Jeffrey D. Oldham  <oldham@codesourcery.com>\n+\n+\t* lib/g++.exp (g++_include_flags): Use args to compute\n+ \tget_multilibs.\n+\t(g++_link_flags): Likewise.\n+\t(g++_init): Pass TOOL_OPTIONS as arguments to two above functions.\n+\n 2001-05-22  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gcc.dg/c90-hexfloat-1.c: Add more tests."}, {"sha": "bae4b6ec19b04264d81f7ef15b224b4b7272860e", "filename": "gcc/testsuite/lib/g++.exp", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ec07597646f03bf153a66071776935453f54e83/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ec07597646f03bf153a66071776935453f54e83/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp?ref=1ec07597646f03bf153a66071776935453f54e83", "patch": "@@ -79,7 +79,7 @@ proc g++_include_flags { args } {\n       append flags \"-I${dir} -I${dir}/src \"\n     }\n \n-    set gccpath [get_multilibs]\n+    set gccpath [get_multilibs ${args}]\n \n     if { ${HAVE_LIBSTDCXX_V3} } {\n       set odir_v3 [lookfor_file ${gccpath} libstdc++-v3]\n@@ -98,7 +98,7 @@ proc g++_link_flags { args } {\n     global srcdir\n     global ld_library_path\n \n-    set gccpath [get_multilibs];\n+    set gccpath [get_multilibs ${args}];\n     set libio_dir \"\"\n     set flags \"\"\n     set ld_library_path \".\"\n@@ -213,8 +213,13 @@ proc g++_init { args } {\n     set ALWAYS_CXXFLAGS \"\"\n \n     if ![is_remote host] {\n-\tlappend ALWAYS_CXXFLAGS \"additional_flags=[g++_include_flags]\";\n-\tlappend ALWAYS_CXXFLAGS \"ldflags=[g++_link_flags]\";\n+\tif [info exists TOOL_OPTIONS] {\n+\t    lappend ALWAYS_CXXFLAGS \"additional_flags=[g++_include_flags ${TOOL_OPTIONS}]\";\n+\t    lappend ALWAYS_CXXFLAGS \"ldflags=[g++_link_flags ${TOOL_OPTIONS}]\";\n+\t} else {\n+\t    lappend ALWAYS_CXXFLAGS \"additional_flags=[g++_include_flags]\";\n+\t    lappend ALWAYS_CXXFLAGS \"ldflags=[g++_link_flags]\";\n+\t}\n     }\n \n     if [info exists TOOL_OPTIONS] {"}]}