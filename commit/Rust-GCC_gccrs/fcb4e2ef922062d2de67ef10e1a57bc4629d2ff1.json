{"sha": "fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNiNGUyZWY5MjIwNjJkMmRlNjdlZjEwZTFhNTdiYzQ2MjlkMmZmMQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-10-18T00:01:49Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-10-18T00:01:49Z"}, "message": "Security.java (loadProviders): Added `vendor' argument.\n\n\t* java/security/Security.java (loadProviders): Added `vendor'\n\targument.\n\tLoad both `classpath' and `java.vm.name' providers.\n\nFrom-SVN: r46325", "tree": {"sha": "8f37d7d2c57fc8c14c742aa92aaedbfe540b87e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f37d7d2c57fc8c14c742aa92aaedbfe540b87e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1/comments", "author": null, "committer": null, "parents": [{"sha": "516b69ff81e6c922bbdeb3abd494cac674e344f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516b69ff81e6c922bbdeb3abd494cac674e344f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/516b69ff81e6c922bbdeb3abd494cac674e344f1"}], "stats": {"total": 21, "additions": 16, "deletions": 5}, "files": [{"sha": "af82b9b33aa5a29fb85ff49800aabd987c49c857", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1", "patch": "@@ -1,3 +1,9 @@\n+2001-10-17  Tom Tromey  <tromey@redhat.com>\n+\n+\t* java/security/Security.java (loadProviders): Added `vendor'\n+\targument.\n+\tLoad both `classpath' and `java.vm.name' providers.\n+\n 2001-10-17  Anthony Green  <green@redhat.com>\n \n \t* java/security/Security.java (loadProviders): Fix bug in how"}, {"sha": "373637add8c0fefc360b54bc182499e8083de7cc", "filename": "libjava/java/security/Security.java", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1/libjava%2Fjava%2Fsecurity%2FSecurity.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1/libjava%2Fjava%2Fsecurity%2FSecurity.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fsecurity%2FSecurity.java?ref=fcb4e2ef922062d2de67ef10e1a57bc4629d2ff1", "patch": "@@ -49,20 +49,25 @@ public final class Security extends Object\n \n   static\n   {\n-    loadProviders();\n+    loadProviders(System.getProperty(\"java.vm.name\"));\n+    loadProviders(\"classpath\");\n   }\n \n   // This class can't be instantiated.\n   private Security ()\n   {\n   }\n \n-  private static void loadProviders()\n+  private static void loadProviders(String vendor)\n   {\n+    if (vendor == null)\n+      return;\n+\n     String separator = System.getProperty(\"file.separator\");\n-    String secfilestr = System.getProperty(\"java.home\") +\n-      separator + \"lib\" + separator + \"security\" + separator +\n-      \"classpath.security\";\n+    String secfilestr = (System.getProperty(\"java.home\") +\n+\t\t\t separator + \"lib\" +\n+\t\t\t separator + \"security\" +\n+\t\t\t separator + vendor + \".security\");\n \n     providerCount = 0;\n     try"}]}