{"sha": "a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTUwZjQyMzY5NTZjYmNmZmYxZmU3YzhjMGNhOWM4ZGI0M2UzYmNkNQ==", "commit": {"author": {"name": "Dennis Zhang", "email": "dennis.zhang@arm.com", "date": "2019-08-23T08:25:44Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2019-08-23T08:25:44Z"}, "message": "[Arm] Add support for missing CPUs\n\nThis patch adds '-mcpu' options for following CPUs:\nCortex-M35P, Cortex-A77, Cortex-A76AE.\n\nRelated specifications are as following:\nhttps://developer.arm.com/ip-products/processors/cortex-m\nhttps://developer.arm.com/ip-products/processors/cortex-a\n\n2019-08-23  Dennis Zhang  <dennis.zhang@arm.com>\n\n\t* config/arm/arm-cpus.in (cortex-m35p): New entry.\n\t(cortex-a76ae): Likewise.\n\t(cortex-a77): Likewise\n\t* config/arm/arm-tables.opt: Regenerate.\n\t* config/arm/arm-tune.md: Likewise.\n\t* doc/invoke.texi (ARM Options): Document cortex-m35p, cortx-a76ae,\n\tcortex-a77 CPU options.\n\nFrom-SVN: r274845", "tree": {"sha": "f9987e8f5580363899f764105d6c89b6478a87a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9987e8f5580363899f764105d6c89b6478a87a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/comments", "author": null, "committer": null, "parents": [{"sha": "1628b2faf0011322be6ea4ad7b2484f720c595bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1628b2faf0011322be6ea4ad7b2484f720c595bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1628b2faf0011322be6ea4ad7b2484f720c595bf"}], "stats": {"total": 63, "additions": 58, "deletions": 5}, "files": [{"sha": "bd47b7736f1d1dc2e4995887ce673ed84e05734f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "patch": "@@ -1,3 +1,13 @@\n+2019-08-23  Dennis Zhang  <dennis.zhang@arm.com>\n+\n+\t* config/arm/arm-cpus.in (cortex-m35p): New entry.\n+\t(cortex-a76ae): Likewise.\n+\t(cortex-a77): Likewise\n+\t* config/arm/arm-tables.opt: Regenerate.\n+\t* config/arm/arm-tune.md: Likewise.\n+\t* doc/invoke.texi (ARM Options): Document cortex-m35p, cortx-a76ae,\n+\tcortex-a77 CPU options.\n+\n 2019-08-23  Martin Liska  <mliska@suse.cz>\n \n \t* profile.c (instrument_values): Do not set"}, {"sha": "f8a3b3db67a537163bfe787d78c8f2edc4253ab3", "filename": "gcc/config/arm/arm-cpus.in", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fconfig%2Farm%2Farm-cpus.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fconfig%2Farm%2Farm-cpus.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-cpus.in?ref=a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "patch": "@@ -1331,6 +1331,28 @@ begin cpu cortex-a76\n  part d0b\n end cpu cortex-a76\n \n+begin cpu cortex-a76ae\n+ cname cortexa76ae\n+ tune for cortex-a57\n+ tune flags LDSCHED\n+ architecture armv8.2-a+fp16+dotprod+simd\n+ option crypto add FP_ARMv8 CRYPTO\n+ costs cortex_a57\n+ vendor 41\n+ part d0e\n+end cpu cortex-a76ae\n+\n+begin cpu cortex-a77\n+ cname cortexa77\n+ tune for cortex-a57\n+ tune flags LDSCHED\n+ architecture armv8.2-a+fp16+dotprod+simd\n+ option crypto add FP_ARMv8 CRYPTO\n+ costs cortex_a57\n+ vendor 41\n+ part d0d\n+end cpu cortex-a77\n+\n begin cpu neoverse-n1\n  cname neoversen1\n  alias !ares\n@@ -1379,6 +1401,15 @@ begin cpu cortex-m33\n  costs v7m\n end cpu cortex-m33\n \n+begin cpu cortex-m35p\n+ cname cortexm35p\n+ tune flags LDSCHED\n+ architecture armv8-m.main+dsp+fp\n+ option nofp remove ALL_FP\n+ option nodsp remove armv7em\n+ costs v7m\n+end cpu cortex-m35p\n+\n # V8 R-profile implementations.\n begin cpu cortex-r52\n  cname cortexr52"}, {"sha": "aeb5b3fbf629e5cfae4d5f6d4d5f1a9c7752a511", "filename": "gcc/config/arm/arm-tables.opt", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fconfig%2Farm%2Farm-tables.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fconfig%2Farm%2Farm-tables.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-tables.opt?ref=a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "patch": "@@ -234,6 +234,12 @@ Enum(processor_type) String(cortex-a75) Value( TARGET_CPU_cortexa75)\n EnumValue\n Enum(processor_type) String(cortex-a76) Value( TARGET_CPU_cortexa76)\n \n+EnumValue\n+Enum(processor_type) String(cortex-a76ae) Value( TARGET_CPU_cortexa76ae)\n+\n+EnumValue\n+Enum(processor_type) String(cortex-a77) Value( TARGET_CPU_cortexa77)\n+\n EnumValue\n Enum(processor_type) String(neoverse-n1) Value( TARGET_CPU_neoversen1)\n \n@@ -249,6 +255,9 @@ Enum(processor_type) String(cortex-m23) Value( TARGET_CPU_cortexm23)\n EnumValue\n Enum(processor_type) String(cortex-m33) Value( TARGET_CPU_cortexm33)\n \n+EnumValue\n+Enum(processor_type) String(cortex-m35p) Value( TARGET_CPU_cortexm35p)\n+\n EnumValue\n Enum(processor_type) String(cortex-r52) Value( TARGET_CPU_cortexr52)\n "}, {"sha": "6fa5bb27750600847f3654b24aaa60d15a3722b8", "filename": "gcc/config/arm/arm-tune.md", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fconfig%2Farm%2Farm-tune.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fconfig%2Farm%2Farm-tune.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-tune.md?ref=a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "patch": "@@ -44,7 +44,8 @@\n \tcortexa73,exynosm1,xgene1,\n \tcortexa57cortexa53,cortexa72cortexa53,cortexa73cortexa35,\n \tcortexa73cortexa53,cortexa55,cortexa75,\n-\tcortexa76,neoversen1,cortexa75cortexa55,\n-\tcortexa76cortexa55,cortexm23,cortexm33,\n+\tcortexa76,cortexa76ae,cortexa77,\n+\tneoversen1,cortexa75cortexa55,cortexa76cortexa55,\n+\tcortexm23,cortexm33,cortexm35p,\n \tcortexr52\"\n \t(const (symbol_ref \"((enum attr_tune) arm_tune)\")))"}, {"sha": "7a356840d78cd6a092b926f6b6f4a387168024ea", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=a50f4236956cbcfff1fe7c8c0ca9c8db43e3bcd5", "patch": "@@ -17650,10 +17650,12 @@ Permissible names are: @samp{arm7tdmi}, @samp{arm7tdmi-s}, @samp{arm710t},\n @samp{cortex-a9}, @samp{cortex-a12}, @samp{cortex-a15}, @samp{cortex-a17},\n @samp{cortex-a32}, @samp{cortex-a35}, @samp{cortex-a53}, @samp{cortex-a55},\n @samp{cortex-a57}, @samp{cortex-a72}, @samp{cortex-a73}, @samp{cortex-a75},\n-@samp{cortex-a76}, @samp{ares}, @samp{cortex-r4}, @samp{cortex-r4f},\n+@samp{cortex-a76}, @samp{cortex-a76ae}, @samp{cortex-a77},\n+@samp{ares}, @samp{cortex-r4}, @samp{cortex-r4f},\n @samp{cortex-r5}, @samp{cortex-r7}, @samp{cortex-r8}, @samp{cortex-r52},\n @samp{cortex-m0}, @samp{cortex-m0plus}, @samp{cortex-m1}, @samp{cortex-m3},\n @samp{cortex-m4}, @samp{cortex-m7}, @samp{cortex-m23}, @samp{cortex-m33},\n+@samp{cortex-m35p},\n @samp{cortex-m1.small-multiply}, @samp{cortex-m0.small-multiply},\n @samp{cortex-m0plus.small-multiply}, @samp{exynos-m1}, @samp{marvell-pj4},\n @samp{neoverse-n1}, @samp{xscale}, @samp{iwmmxt}, @samp{iwmmxt2},\n@@ -17717,14 +17719,14 @@ The following extension options are common to the listed CPUs:\n \n @table @samp\n @item +nodsp\n-Disable the DSP instructions on @samp{cortex-m33}.\n+Disable the DSP instructions on @samp{cortex-m33}, @samp{cortex-m35p}.\n \n @item  +nofp\n Disables the floating-point instructions on @samp{arm9e},\n @samp{arm946e-s}, @samp{arm966e-s}, @samp{arm968e-s}, @samp{arm10e},\n @samp{arm1020e}, @samp{arm1022e}, @samp{arm926ej-s},\n @samp{arm1026ej-s}, @samp{cortex-r5}, @samp{cortex-r7}, @samp{cortex-r8},\n-@samp{cortex-m4}, @samp{cortex-m7} and @samp{cortex-m33}.\n+@samp{cortex-m4}, @samp{cortex-m7}, @samp{cortex-m33} and @samp{cortex-m35p}.\n Disables the floating-point and SIMD instructions on\n @samp{generic-armv7-a}, @samp{cortex-a5}, @samp{cortex-a7},\n @samp{cortex-a8}, @samp{cortex-a9}, @samp{cortex-a12},"}]}