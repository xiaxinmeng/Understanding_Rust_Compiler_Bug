{"sha": "a17b4d4c608e1336cbde0b7035efffe9fadadd83", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTE3YjRkNGM2MDhlMTMzNmNiZGUwYjcwMzVlZmZmZTlmYWRhZGQ4Mw==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2018-05-20T10:54:24Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2018-05-20T10:54:24Z"}, "message": "re PR fortran/82275 (gfortran rejects valid & accepts invalid reference to dimension-remapped type SELECT TYPE selector)\n\n2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/82275\n\tCorrecting ChangeLogs\n\t* match.c (gfc_match_type_spec): Go through the array ref and\n\tdecrement 'rank' for every dimension that is an element.\n\n2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/82275\n\tCorrecting ChangeLogs\n\t* gfortran.dg/select_type_42.f90: New test.\n\nFrom-SVN: r260416", "tree": {"sha": "d1fcb72506a6ebb36788314f1ac28521533dae8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1fcb72506a6ebb36788314f1ac28521533dae8e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a17b4d4c608e1336cbde0b7035efffe9fadadd83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a17b4d4c608e1336cbde0b7035efffe9fadadd83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a17b4d4c608e1336cbde0b7035efffe9fadadd83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a17b4d4c608e1336cbde0b7035efffe9fadadd83/comments", "author": null, "committer": null, "parents": [{"sha": "9ad8aaf839866994905bf577bcf2a1dee1b8a01a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ad8aaf839866994905bf577bcf2a1dee1b8a01a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ad8aaf839866994905bf577bcf2a1dee1b8a01a"}], "stats": {"total": 35, "additions": 26, "deletions": 9}, "files": [{"sha": "c5e1aa823e51cd8d6f363e1f697cd8ab2489d002", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a17b4d4c608e1336cbde0b7035efffe9fadadd83/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a17b4d4c608e1336cbde0b7035efffe9fadadd83/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=a17b4d4c608e1336cbde0b7035efffe9fadadd83", "patch": "@@ -1,10 +1,22 @@\n+2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/80657\n+\t* resolve.c (flag_fn_result_spec): Use the 'sym' argument to\n+\ttest for self refs to the function result in the character len\n+\texpression. If a self reference is found, emit an error and\n+\treturn true.\n+\t(resolve_fntype): Use the function symbol in the calls to the\n+\tabove.\n+\n 2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/49636\n \t* trans-array.c (gfc_get_array_span): Renamed from\n \t'get_array_span'.\n \t(gfc_conv_expr_descriptor): Change references to above.\n \t* trans-array.h : Add prototype for 'gfc_get_array_span'.\n+\t* trans-intrinsic.c (gfc_conv_associated): Add pre and post\n+\tblocks for 'arg1'.\n \t* trans-stmt.c (trans_associate_var): If the associate name is\n \ta subref array pointer, use gfc_get_array_span for the span.\n \n@@ -17,9 +29,11 @@\n 2018-05-19  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/82923\n-\t* gfortran.dg/allocate_assumed_charlen_4.f90: New test. Note\n-\tthat the patch fixes PR66694 & PR82617, although the testcases\n-\tare not explicitly included.\n+\tPR fortran/66694\n+\tPR fortran/82617\n+\t* trans-array.c (gfc_alloc_allocatable_for_assignment): Set the\n+\tcharlen backend_decl of the rhs expr to ss->info->string_length\n+\tso that the value in the current scope is used.\n \n 2018-05-13  Steven G. Kargl  <kargl@gcc.gnu.org>\n "}, {"sha": "7866b3524e07a3f164be57df33a57b45a9fcf075", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a17b4d4c608e1336cbde0b7035efffe9fadadd83/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a17b4d4c608e1336cbde0b7035efffe9fadadd83/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a17b4d4c608e1336cbde0b7035efffe9fadadd83", "patch": "@@ -1,21 +1,24 @@\n+2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/80657\n+\t* gfortran.dg/char_result_18.f90: New test.\n+\n 2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/49636\n \t* gfortran.dg/associate_38.f90: New test.\n \n 2018-05-20  Paul Thomas  <pault@gcc.gnu.org>\n \n-\tPR fortran/82923\n+\tPR fortran/82275\n \t* gfortran.dg/select_type_42.f90: New test.\n \n 2018-05-19  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/82923\n-\tPR fortran/66694\n-\tPR fortran/82617\n-\t* trans-array.c (gfc_alloc_allocatable_for_assignment): Set the\n-\tcharlen backend_decl of the rhs expr to ss->info->string_length\n-\tso that the value in the current scope is used.\n+\t* gfortran.dg/allocate_assumed_charlen_4.f90: New test. Note\n+\tthat the patch fixes PR66694 & PR82617, although the testcases\n+\tare not explicitly included.\n \n 2018-05-18  Kito Cheng  <kito.cheng@gmail.com>\n "}]}