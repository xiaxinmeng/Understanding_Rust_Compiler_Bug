{"sha": "829002bbab2e20744a8db95d1a5d248d8c189dcf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODI5MDAyYmJhYjJlMjA3NDRhOGRiOTVkMWE1ZDI0OGQ4YzE4OWRjZg==", "commit": {"author": {"name": "Bill Moyer", "email": "ttk@cygnus.com", "date": "1998-05-15T17:37:51Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-05-15T17:37:51Z"}, "message": "Patch from Bill Moyer.\n\n        * loop.c (basic_induction_var): Added test preventing\n        CCmode parameter passed to convert_modes().\n\nFrom-SVN: r19779", "tree": {"sha": "1b08f512804bdd6979b2acc9173efe1d13a6f613", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b08f512804bdd6979b2acc9173efe1d13a6f613"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/829002bbab2e20744a8db95d1a5d248d8c189dcf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/829002bbab2e20744a8db95d1a5d248d8c189dcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/829002bbab2e20744a8db95d1a5d248d8c189dcf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/829002bbab2e20744a8db95d1a5d248d8c189dcf/comments", "author": null, "committer": null, "parents": [{"sha": "b24f65cddd02f22d6ae7f3d7a89904fe3041b9ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b24f65cddd02f22d6ae7f3d7a89904fe3041b9ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b24f65cddd02f22d6ae7f3d7a89904fe3041b9ae"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "05787f8ae5251f42b046d787d1d9e0f9ddf021a3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/829002bbab2e20744a8db95d1a5d248d8c189dcf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/829002bbab2e20744a8db95d1a5d248d8c189dcf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=829002bbab2e20744a8db95d1a5d248d8c189dcf", "patch": "@@ -1,3 +1,8 @@\n+Fri May 15 17:36:11 1998  Bill Moyer <ttk@cygnus.com>\n+\n+        * loop.c (basic_induction_var): Added test preventing\n+        CCmode parameter passed to convert_modes().\n+\n Fri May 15 17:26:18 1998  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* expr.c (expand_expr, case EXPR_WITH_FILE_LOCATION): Save/restore"}, {"sha": "ce0b9b02631fc568427af0c113438d811da91563", "filename": "gcc/loop.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/829002bbab2e20744a8db95d1a5d248d8c189dcf/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/829002bbab2e20744a8db95d1a5d248d8c189dcf/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=829002bbab2e20744a8db95d1a5d248d8c189dcf", "patch": "@@ -5257,7 +5257,12 @@ basic_induction_var (x, mode, dest_reg, p, inc_val, mult_val)\n     case CONST_INT:\n     case SYMBOL_REF:\n     case CONST:\n-      if (loops_enclosed == 1)\n+      /* convert_modes aborts if we try to convert to or from CCmode, so just\n+         exclude that case.  It is very unlikely that a condition code value\n+\t would be a useful iterator anyways.  */\n+      if (loops_enclosed == 1\n+\t  && GET_MODE_CLASS (mode) != MODE_CC\n+\t  && GET_MODE_CLASS (GET_MODE (dest_reg)) != MODE_CC)\n  \t{\n \t  /* Possible bug here?  Perhaps we don't know the mode of X.  */\n \t  *inc_val = convert_modes (GET_MODE (dest_reg), mode, x, 0);"}]}