{"sha": "f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "node_id": "C_kwDOANBUbNoAKGY3YmQ0OGM2YmJkM2Q3YTQ3OTk0M2IyNDhiOTczYWFmNmM1OTQ2M2I", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2023-01-06T15:32:10Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2023-01-06T15:32:10Z"}, "message": "libstdc++: Add feature-test macros for implemented C++23 views [PR108260]\n\n\tPR libstdc++/108260\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/bits/utility.h (__cpp_lib_ranges_zip): Define for C++23.\n\t* include/std/ranges (__cpp_lib_ranges_zip): Likewise.\n\t(__cpp_lib_ranges_chunk): Likewise.\n\t(__cpp_lib_ranges_slide): Likewise.\n\t(__cpp_lib_ranges_chunk_by): Likewise.\n\t(__cpp_lib_ranges_join_with): Likewise.\n\t(__cpp_lib_ranges_repeat): Likewise.\n\t(__cpp_lib_ranges_stride): Likewise.\n\t(__cpp_lib_ranges_cartesian_product): Likewise.\n\t(__cpp_lib_ranges_as_rvalue): Likewise.\n\t* include/std/version: Ditto.\n\t* testsuite/20_util/tuple/p2321r2.cc: Verify value of\n\tfeature-test macro.\n\t* testsuite/std/ranges/adaptors/as_rvalue/1.cc: Likewise.\n\t* testsuite/std/ranges/adaptors/chunk/1.cc: Likewise.\n\t* testsuite/std/ranges/adaptors/chunk_by/1.cc: Likewise.\n\t* testsuite/std/ranges/adaptors/join_with/1.cc: Likewise.\n\t* testsuite/std/ranges/adaptors/slide/1.cc: Likewise.\n\t* testsuite/std/ranges/adaptors/stride/1.cc: Likewise.\n\t* testsuite/std/ranges/cartesian_product/1.cc: Likewise.\n\t* testsuite/std/ranges/repeat/1.cc: Likewise.\n\t* testsuite/std/ranges/zip/1.cc: Likewise.\n\t* testsuite/std/ranges/version_c++23.cc: New test.", "tree": {"sha": "dd21ffc6373860cec73cf966ec970128a26e2fca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd21ffc6373860cec73cf966ec970128a26e2fca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/comments", "author": null, "committer": null, "parents": [{"sha": "553332c19a04ad0a6bbdd2aafc3499a1cb4dfa0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/553332c19a04ad0a6bbdd2aafc3499a1cb4dfa0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/553332c19a04ad0a6bbdd2aafc3499a1cb4dfa0c"}], "stats": {"total": 116, "additions": 116, "deletions": 0}, "files": [{"sha": "fac6c7dc3bd106030e245b05bbbc198b3b69628e", "filename": "libstdc++-v3/include/bits/utility.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Finclude%2Fbits%2Futility.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Finclude%2Fbits%2Futility.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Futility.h?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -263,6 +263,10 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n     { using type = _Tp1; };\n #endif\n \n+#if __cplusplus > 202002L\n+#define __cpp_lib_ranges_zip 202110L // for <tuple> and <utility>\n+#endif\n+\n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace\n "}, {"sha": "dce7867e97749b14085f64f27ee3842d6bd7a516", "filename": "libstdc++-v3/include/std/ranges", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -4364,6 +4364,9 @@ namespace views::__adaptor\n   } // namespace views\n \n #if __cplusplus > 202002L\n+\n+#define __cpp_lib_ranges_zip 202110L\n+\n   namespace __detail\n   {\n     template<typename... _Rs>\n@@ -5802,6 +5805,8 @@ namespace views::__adaptor\n     inline constexpr auto pairwise_transform = adjacent_transform<2>;\n   }\n \n+#define __cpp_lib_ranges_chunk 202202L\n+\n   namespace __detail\n   {\n     template<typename _Tp>\n@@ -6339,6 +6344,8 @@ namespace views::__adaptor\n     inline constexpr _Chunk chunk;\n   }\n \n+#define __cpp_lib_ranges_slide 202202L\n+\n   namespace __detail\n   {\n     template<typename _Vp>\n@@ -6702,6 +6709,8 @@ namespace views::__adaptor\n     inline constexpr _Slide slide;\n   }\n \n+#define __cpp_lib_ranges_chunk_by 202202L\n+\n   template<forward_range _Vp,\n \t   indirect_binary_predicate<iterator_t<_Vp>, iterator_t<_Vp>> _Pred>\n     requires view<_Vp> && is_object_v<_Pred>\n@@ -6895,6 +6904,8 @@ namespace views::__adaptor\n     inline constexpr _ChunkBy chunk_by;\n   }\n \n+#define __cpp_lib_ranges_join_with 202202L\n+\n   namespace __detail\n   {\n     template<typename _Range, typename _Pattern>\n@@ -7375,6 +7386,8 @@ namespace views::__adaptor\n     inline constexpr _JoinWith join_with;\n   } // namespace views\n \n+#define __cpp_lib_ranges_repeat 202207L\n+\n   template<copy_constructible _Tp, semiregular _Bound = unreachable_sentinel_t>\n     requires (is_object_v<_Tp> && same_as<_Tp, remove_cv_t<_Tp>>\n       && (__detail::__is_integer_like<_Bound> || same_as<_Bound, unreachable_sentinel_t>))\n@@ -7626,6 +7639,8 @@ namespace views::__adaptor\n     }\n   }\n \n+#define __cpp_lib_ranges_stride 202207L\n+\n   template<input_range _Vp>\n     requires view<_Vp>\n   class stride_view : public view_interface<stride_view<_Vp>>\n@@ -7977,6 +7992,8 @@ namespace views::__adaptor\n     inline constexpr _Stride stride;\n   }\n \n+#define __cpp_lib_ranges_cartesian_product 202207L\n+\n   namespace __detail\n   {\n     template<bool _Const, typename _First, typename... _Vs>\n@@ -8487,6 +8504,8 @@ namespace views::__adaptor\n     inline constexpr _CartesianProduct cartesian_product;\n   }\n \n+#define __cpp_lib_ranges_as_rvalue 202207L\n+\n   template<input_range _Vp>\n     requires view<_Vp>\n   class as_rvalue_view : public view_interface<as_rvalue_view<_Vp>>"}, {"sha": "5730357793dd1f0831bd4cca4f253ab045022d75", "filename": "libstdc++-v3/include/std/version", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -319,6 +319,15 @@\n #define __cpp_lib_reference_from_temporary 202202L\n #define __cpp_lib_to_underlying 202102L\n #define __cpp_lib_unreachable 202202L\n+#define __cpp_lib_ranges_zip 202110L\n+#define __cpp_lib_ranges_chunk 202202L\n+#define __cpp_lib_ranges_slide 202202L\n+#define __cpp_lib_ranges_chunk_by 202202L\n+#define __cpp_lib_ranges_join_with 202202L\n+#define __cpp_lib_ranges_repeat 202207L\n+#define __cpp_lib_ranges_stride 202207L\n+#define __cpp_lib_ranges_cartesian_product 202207L\n+#define __cpp_lib_ranges_as_rvalue 202207L\n \n #if _GLIBCXX_HOSTED\n #define __cpp_lib_adaptor_iterator_pair_constructor 202106L"}, {"sha": "ceed38b16ec8a6ed6f443d92232fcdb91763f59d", "filename": "libstdc++-v3/testsuite/20_util/tuple/p2321r2.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2Fp2321r2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2Fp2321r2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2Fp2321r2.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -8,6 +8,10 @@\n #include <memory>\n #include <testsuite_hooks.h>\n \n+#if __cpp_lib_ranges_zip != 202110L\n+# error \"Feature-test macro __cpp_lib_ranges_zip has wrong value in <tuple>\"\n+#endif\n+\n using std::tuple;\n using std::pair;\n using std::allocator;"}, {"sha": "fbf0d6513660a129134b7db7d73e6badd0ea30ae", "filename": "libstdc++-v3/testsuite/std/ranges/adaptors/as_rvalue/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fas_rvalue%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fas_rvalue%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fas_rvalue%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -7,6 +7,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_as_rvalue != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_as_rvalue has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "18b934f99ee4c63e8b0f35a1db6847054189ca8a", "filename": "libstdc++-v3/testsuite/std/ranges/adaptors/chunk/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fchunk%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fchunk%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fchunk%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -7,6 +7,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_chunk != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_chunk has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "cba6fad6f9a8eec8887974506cd0cc0186e17a8e", "filename": "libstdc++-v3/testsuite/std/ranges/adaptors/chunk_by/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fchunk_by%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fchunk_by%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fchunk_by%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -7,6 +7,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_chunk_by != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_chunk_by has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "15127c0715f949ab90677ff5cd35a6921071e990", "filename": "libstdc++-v3/testsuite/std/ranges/adaptors/join_with/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fjoin_with%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fjoin_with%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fjoin_with%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -7,6 +7,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_join_with != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_join_with has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n using namespace std::literals;"}, {"sha": "8c015c1162b57f512f30f76a4fc9208b057d8ecb", "filename": "libstdc++-v3/testsuite/std/ranges/adaptors/slide/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fslide%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fslide%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fslide%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -7,6 +7,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_slide != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_slide has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "92aca35e83f0599e24835c1f163163fb4aa96269", "filename": "libstdc++-v3/testsuite/std/ranges/adaptors/stride/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fstride%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fstride%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fadaptors%2Fstride%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -6,6 +6,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_stride != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_stride has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "1ec4422e6f3acf5996ee1923a83c3ed598a64248", "filename": "libstdc++-v3/testsuite/std/ranges/cartesian_product/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fcartesian_product%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fcartesian_product%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fcartesian_product%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -6,6 +6,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_cartesian_product != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_cartesian_product has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "2f3ad4522a40d51990f75aad3f94c516d634e419", "filename": "libstdc++-v3/testsuite/std/ranges/repeat/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Frepeat%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Frepeat%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Frepeat%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -5,6 +5,10 @@\n #include <algorithm>\n #include <testsuite_hooks.h>\n \n+#if __cpp_lib_ranges_repeat != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_repeat has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}, {"sha": "d9ea9eca6c7793c3e029d5f475ebcfa762cd604e", "filename": "libstdc++-v3/testsuite/std/ranges/version_c++23.cc", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fversion_c%2B%2B23.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fversion_c%2B%2B23.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fversion_c%2B%2B23.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -0,0 +1,44 @@\n+// { dg-options \"-std=gnu++23\" }\n+// { dg-do preprocess { target c++23 } }\n+\n+#include <version>\n+\n+#if __cpp_lib_ranges != 202110L\n+# error \"Feature-test macro __cpp_lib_ranges has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_zip != 202110L\n+# error \"Feature-test macro __cpp_lib_ranges_zip has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_chunk != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_chunk has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_slide != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_slide has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_chunk_by != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_chunk_by has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_join_with != 202202L\n+# error \"Feature-test macro __cpp_lib_ranges_join_with has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_repeat != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_repeat has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_stride != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_stride has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_cartesian_product != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_cartesian_product has wrong value in <version>\"\n+#endif\n+\n+#if __cpp_lib_ranges_as_rvalue != 202207L\n+# error \"Feature-test macro __cpp_lib_ranges_as_rvalue has wrong value in <version>\"\n+#endif"}, {"sha": "8ca386d65632a91f311c57014e8f4fd586cf5915", "filename": "libstdc++-v3/testsuite/std/ranges/zip/1.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fzip%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7bd48c6bbd3d7a479943b248b973aaf6c59463b/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fzip%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fzip%2F1.cc?ref=f7bd48c6bbd3d7a479943b248b973aaf6c59463b", "patch": "@@ -8,6 +8,10 @@\n #include <testsuite_hooks.h>\n #include <testsuite_iterators.h>\n \n+#if __cpp_lib_ranges_zip != 202110L\n+# error \"Feature-test macro __cpp_lib_ranges_zip has wrong value in <ranges>\"\n+#endif\n+\n namespace ranges = std::ranges;\n namespace views = std::views;\n "}]}