{"sha": "ae3f9c32ae1f80e52318318fd749c0237c19e4e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUzZjljMzJhZTFmODBlNTIzMTgzMThmZDc0OWMwMjM3YzE5ZTRlOA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2017-09-30T20:42:05Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2017-09-30T20:42:05Z"}, "message": "re PR c++/65949 (Compiler can not deduce auto type in lambda)\n\n2017-09-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/65949\n\t* g++.dg/cpp1y/lambda-generic-variadic5.C: New.\n\nFrom-SVN: r253322", "tree": {"sha": "f103832b0a860816591491d889074df60cc8674c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f103832b0a860816591491d889074df60cc8674c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae3f9c32ae1f80e52318318fd749c0237c19e4e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae3f9c32ae1f80e52318318fd749c0237c19e4e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae3f9c32ae1f80e52318318fd749c0237c19e4e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae3f9c32ae1f80e52318318fd749c0237c19e4e8/comments", "author": null, "committer": null, "parents": [{"sha": "333cb61200ca99b916a71e989e25cf68a6ab597a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/333cb61200ca99b916a71e989e25cf68a6ab597a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/333cb61200ca99b916a71e989e25cf68a6ab597a"}], "stats": {"total": 66, "additions": 66, "deletions": 0}, "files": [{"sha": "fcf901a6a4d33920e27d6ee13b256af4532565f1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae3f9c32ae1f80e52318318fd749c0237c19e4e8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae3f9c32ae1f80e52318318fd749c0237c19e4e8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae3f9c32ae1f80e52318318fd749c0237c19e4e8", "patch": "@@ -1,3 +1,8 @@\n+2017-09-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/65949\n+\t* g++.dg/cpp1y/lambda-generic-variadic5.C: New.\n+\n 2017-09-30  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/68754"}, {"sha": "6dbb9c8e55be43aa1bf7c2652ad11f12baeca2d9", "filename": "gcc/testsuite/g++.dg/cpp1y/lambda-generic-variadic5.C", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae3f9c32ae1f80e52318318fd749c0237c19e4e8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Flambda-generic-variadic5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae3f9c32ae1f80e52318318fd749c0237c19e4e8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Flambda-generic-variadic5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Flambda-generic-variadic5.C?ref=ae3f9c32ae1f80e52318318fd749c0237c19e4e8", "patch": "@@ -0,0 +1,61 @@\n+// PR c++/65949\n+// { dg-do compile { target c++14 } }\n+\n+#include <initializer_list>\n+\n+template<class T, class... Ts>\n+struct Over : T, Over<Ts...>::type\n+{\n+    using type = Over;\n+\n+    Over(T f1, Ts... f2)\n+        : T(f1), Over<Ts...>::type(f2...)\n+    {\n+    }\n+\n+    using T::operator();\n+    using Over<Ts...>::type::operator();\n+};\n+\n+template<class T>\n+struct Over<T> : T\n+{\n+    using type = T;\n+    using T::operator();\n+};\n+\n+template <class... Lambdas>\n+auto CreateLambdas(Lambdas... lambdas)\n+{\n+    return Over<Lambdas...>(lambdas...);\n+}\n+\n+int main()\n+{\n+    auto mesLambda = CreateLambdas\n+    (\n+        []()\n+        {\n+\n+        },\n+\n+        [](auto i)\n+        {\n+\t  (void)i;\n+        },\n+\n+        [](auto... args)\n+        {\n+            auto list = {args...};\n+\n+            for(auto &&a : list)\n+\t      (void)a;\n+\n+            return 3;\n+        }\n+    );\n+\n+    mesLambda();\n+    mesLambda(1);\n+    mesLambda(12,24,36,48);\n+}"}]}