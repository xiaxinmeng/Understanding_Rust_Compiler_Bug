{"sha": "213ba34531cbc5b9bd757034c3079f051c0ae9fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjEzYmEzNDUzMWNiYzViOWJkNzU3MDM0YzMwNzlmMDUxYzBhZTlmYw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2001-07-02T16:46:07Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2001-07-02T16:46:07Z"}, "message": "install.texi (Specific, [...]): Split from IRIX 5 section.\n\n\t* doc/install.texi (Specific, mips*-sgi-irix4): Split from IRIX 5\n\tsection.\n\t(Specific, mips*-sgi-irix5): Note IDO download.\n\tReworded MIPS C hints.\n\tUse GNU as instead of GAS.\n\tMarkup fixes.\n\tRemoved SGI Freeware reference, IRIX 6 only.\n\t(Specific, mips*-sgi-irix6): Removed ranlib caveats, obsolete.\n\tNote N64 library requirement/workaround.\n\tUpdate O32 hints.\n\tComplete list of structure passing bug victims.\n\nFrom-SVN: r43694", "tree": {"sha": "ec865a7ce916772baea45114b859a8327e73ef70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec865a7ce916772baea45114b859a8327e73ef70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/213ba34531cbc5b9bd757034c3079f051c0ae9fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/213ba34531cbc5b9bd757034c3079f051c0ae9fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/213ba34531cbc5b9bd757034c3079f051c0ae9fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/213ba34531cbc5b9bd757034c3079f051c0ae9fc/comments", "author": null, "committer": null, "parents": [{"sha": "df0afdbe34b3b160dbbf42446a17616a18e1422b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df0afdbe34b3b160dbbf42446a17616a18e1422b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df0afdbe34b3b160dbbf42446a17616a18e1422b"}], "stats": {"total": 167, "additions": 97, "deletions": 70}, "files": [{"sha": "14fe09ec306e23628c777b25d8dfa9b2875cb61d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/213ba34531cbc5b9bd757034c3079f051c0ae9fc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/213ba34531cbc5b9bd757034c3079f051c0ae9fc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=213ba34531cbc5b9bd757034c3079f051c0ae9fc", "patch": "@@ -1,3 +1,17 @@\n+2001-07-02  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* doc/install.texi (Specific, mips*-sgi-irix4): Split from IRIX 5\n+\tsection.\n+\t(Specific, mips*-sgi-irix5): Note IDO download.\n+\tReworded MIPS C hints.\n+\tUse GNU as instead of GAS.\n+\tMarkup fixes.\n+\tRemoved SGI Freeware reference, IRIX 6 only.\n+\t(Specific, mips*-sgi-irix6): Removed ranlib caveats, obsolete.\n+\tNote N64 library requirement/workaround.\n+\tUpdate O32 hints.\n+\tComplete list of structure passing bug victims.\n+\n 2001-07-02  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* doc/install.texi: Remove CVS Id."}, {"sha": "fd165c813cd25633cb156e86335da97095674d7f", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 83, "deletions": 70, "changes": 153, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/213ba34531cbc5b9bd757034c3079f051c0ae9fc/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/213ba34531cbc5b9bd757034c3079f051c0ae9fc/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=213ba34531cbc5b9bd757034c3079f051c0ae9fc", "patch": "@@ -1329,7 +1329,9 @@ GNU Compiler Collection on your machine.\n @item\n @uref{#mips-mips-riscos*,,mips-mips-riscos*}\n @item\n-@uref{#mips*-sgi-irix[45],,mips*-sgi-irix[45]}\n+@uref{#mips*-sgi-irix4,,mips*-sgi-irix4}\n+@item\n+@uref{#mips*-sgi-irix5,,mips*-sgi-irix5}\n @item\n @uref{#mips*-sgi-irix6,,mips*-sgi-irix6}\n @item\n@@ -2658,37 +2660,13 @@ avoiding a linker bug.\n </p>\n <hr>\n @end html\n-@heading @anchor{mips*-sgi-irix[45]}mips*-sgi-irix[45]\n+@heading @anchor{mips*-sgi-irix4*}mips*-sgi-irix4*\n \n In order to compile GCC on an SGI running IRIX 4, the ``c.hdr.lib''\n option must be installed from the CD-ROM supplied from Silicon Graphics.\n This is found on the 2nd CD in release 4.0.1.\n \n-In order to compile GCC on an SGI running IRIX 5, the ``compiler_dev.hdr''\n-subsystem must be installed from the IDO CD-ROM supplied by Silicon\n-Graphics.\n-\n-@code{make compare} may fail on version 5 of IRIX unless you add\n-@option{-save-temps} to @code{CFLAGS}.  On these systems, the name of the\n-assembler input file is stored in the object file, and that makes\n-comparison fail if it differs between the @code{stage1} and\n-@code{stage2} compilations.  The option @option{-save-temps} forces a\n-fixed name to be used for the assembler input file, instead of a\n-randomly chosen name in @file{/tmp}.  Do not add @option{-save-temps}\n-unless the comparisons fail without that option.  If you do you\n-@option{-save-temps}, you will have to manually delete the @samp{.i} and\n-@samp{.s} files after each series of compilations.\n-\n-The MIPS C compiler needs to be told to increase its table size\n-for switch statements with the @option{-Wf,-XNg1500} option in\n-order to compile @file{cp/parse.c}.  If you use the @option{-O2}\n-optimization option, you also need to use @option{-Olimit 3000}.\n-Both of these options are automatically generated in the\n-@file{Makefile} that the shell script @file{configure} builds.\n-If you override the @code{CC} make variable and use the MIPS\n-compilers, you may need to add @samp{-Wf,-XNg1500 -Olimit 3000}.\n-\n-On Irix version 4.0.5F, and perhaps on some other versions as well,\n+On IRIX version 4.0.5F, and perhaps on some other versions as well,\n there is an assembler bug that reorders instructions incorrectly.  To\n work around it, specify the target configuration\n @samp{mips-sgi-irix4loser}.  This configuration inhibits assembler\n@@ -2704,79 +2682,114 @@ is due to erroneous assembler reordering.  Even if a problem does not go\n away with @option{-noasmopt}, it may still be due to assembler\n reordering---perhaps GCC itself was miscompiled as a result.\n \n-To enable debugging under Irix 5, you must use GNU as 2.5 or later,\n-and use the @option{--with-gnu-as} configure option when configuring gcc.\n-GNU as is distributed as part of the binutils package.\n+You may get the following warning on IRIX 4 platforms, it can be safely\n+ignored.\n+@example\n+  warning: foo.o does not have gp tables for all its sections.\n+@end example\n \n-You must use GAS on these platforms, as the native assembler can not handle\n-the code for exception handling support.  Either of these messages indicates\n-that you are using the MIPS assembler when instead you should be using GAS:\n+@html\n+</p>\n+<hr>\n+@end html\n+@heading @anchor{mips*-sgi-irix5*}mips*-sgi-irix5*\n \n-@samp{  as0: Error: ./libgcc2.c, line 1:Badly delimited numeric literal\n-  .4byte $LECIE1-$LSCIE1\n-  as0: Error: ./libgcc2.c, line 1:malformed statement}\n+In order to compile GCC on an SGI running IRIX 5, the ``compiler_dev.hdr''\n+subsystem must be installed from the IDO CD-ROM supplied by Silicon\n+Graphics.  It is also available for download from\n+@uref{http://www.sgi.com/developers/devtools/apis/ido.html,,http://www.sgi.com/developers/devtools/apis/ido.html}.\n \n-or:\n+@code{make compare} may fail on version 5 of IRIX unless you add\n+@option{-save-temps} to @code{CFLAGS}.  On these systems, the name of the\n+assembler input file is stored in the object file, and that makes\n+comparison fail if it differs between the @code{stage1} and\n+@code{stage2} compilations.  The option @option{-save-temps} forces a\n+fixed name to be used for the assembler input file, instead of a\n+randomly chosen name in @file{/tmp}.  Do not add @option{-save-temps}\n+unless the comparisons fail without that option.  If you do you\n+@option{-save-temps}, you will have to manually delete the @samp{.i} and\n+@samp{.s} files after each series of compilations.\n \n-@samp{  as0: Error: /src/bld-gcc/gcc/libgcc2.c, line 1:undefined symbol in expression\n-  .word $LECIE1-$LSCIE1}\n+If you use the MIPS C compiler to bootstrap, it may be necessary\n+to increase its table size for switch statements with the\n+@option{-Wf,-XNg1500} option.  If you use the @option{-O2}\n+optimization option, you also need to use @option{-Olimit 3000}.\n \n-These systems don't have ranlib, which various components in GCC need; you\n-should be able to avoid this problem by installing GNU binutils, which includes\n-a functional ranlib for this system.\n+To enable debugging under IRIX 5, you must use GNU @command{as} 2.5 or later,\n+and use the @option{--with-gnu-as} configure option when configuring GCC.\n+GNU @command{as} is distributed as part of the binutils package.\n+\n+You must use GNU @command{as} on these platforms, as the native\n+assembler can not handle the code for exception handling support. Either\n+of these messages indicates that you are using the MIPS assembler when\n+instead you should be using GNU @command{as}:\n \n-You may get the following warning on irix4 platforms, it can be safely\n-ignored.\n @example\n-  warning: foo.o does not have gp tables for all its sections.\n+  as0: Error: ./libgcc2.c, line 1:Badly delimited numeric literal\n+  .4byte $LECIE1-$LSCIE1\n+  as0: Error: ./libgcc2.c, line 1:malformed statement\n @end example\n \n-When building GCC, the build process loops rebuilding @command{cc1} over and\n-over again.  This happens on mips-sgi-irix5.2, and possibly other platforms.@*\n-It has been reported that this is a known bug in the @command{make} shipped with\n-IRIX 5.2.  We recommend you use GNU @command{make} instead of the vendor supplied\n-@command{make} program; however, you may have success with @command{smake} on IRIX 5.2 if\n-you do not have GNU @command{make} available.\n+or:\n \n-See @uref{http://freeware.sgi.com/,,http://freeware.sgi.com/} for more\n-information about using GCC on IRIX platforms.\n+@example\n+  as0: Error: ./libgcc2.c, line 1:undefined symbol in expression\n+  .word $LECIE1-$LSCIE1\n+@end example\n \n+When building GCC, the build process loops rebuilding @command{cc1} over\n+and over again.  This happens on @samp{mips-sgi-irix5.2}, and possibly\n+other platforms.  It has been reported that this is a known bug in the\n+@command{make} shipped with IRIX 5.2.  We recommend you use GNU\n+@command{make} instead of the vendor supplied @command{make} program;\n+however, you may have success with @command{smake} on IRIX 5.2 if you do\n+not have GNU @command{make} available.\n \n @html\n </p>\n <hr>\n @end html\n @heading @anchor{mips*-sgi-irix6}mips*-sgi-irix6\n \n-You must @emph{not} use GAS on irix6 platforms; doing so will only\n-cause problems.\n-\n-These systems don't have @command{ranlib}, which various components in GCC need; you\n-should be able to avoid this problem by making a dummy script called @command{ranlib}\n-which just exits with zero status and placing it in your path.\n-\n-If you are using Irix @command{cc} as your bootstrap compiler, you must\n+If you are using IRIX @command{cc} as your bootstrap compiler, you must\n ensure that the N32 ABI is in use.  To test this, compile a simple C\n file with @command{cc} and then run @command{file} on the\n resulting object file.  The output should look like:\n \n @example\n-@code{    test.o: ELF N32 MSB @dots{}}\n+test.o: ELF N32 MSB @dots{}\n @end example\n \n If you see:\n+\n+@example\n+test.o: ELF 32-bit MSB @dots{}\n+@end example\n+\n+or\n+\n @example\n-@code{    test.o: ELF 32-bit MSB}\n+test.o: ELF 64-bit MSB @dots{}\n @end example\n \n-then your version of @command{cc} uses the O32 ABI default.  You\n+then your version of @command{cc} uses the O32 or N64 ABI by default.  You\n should set the environment variable @env{CC} to @samp{cc -n32}\n before configuring GCC@.\n \n+GCC on IRIX 6 is usually built to support both the N32 and N64 ABIs.  If\n+you build GCC on a system that doesn't have the N64 libraries installed,\n+you need to configure with @option{--disable-multilib} so GCC doesn't\n+try to use them.  Look for @file{/usr/lib64/libc.so.1} to see if you\n+have the 64-bit libraries installed.\n+\n+You must @emph{not} use GNU @command{as} (which isn't built anyway as of\n+binutils 2.11.2) on IRIX 6 platforms; doing so will only cause problems.\n+\n GCC does not currently support generating O32 ABI binaries in the\n-mips-sgi-irix6 configurations.  It used to be possible to create a GCC\n-with O32 ABI only support by configuring it for the mips-sgi-irix5\n-target.  See the link below for details.\n+@samp{mips-sgi-irix6} configurations.  It used to be possible to create a GCC\n+with O32 ABI only support by configuring it for the @samp{mips-sgi-irix5}\n+target, which doesn't currently (2001-06-13) work itself.  It is\n+expected that O32 ABI support will be available again in a future release.\n \n GCC does not correctly pass/return structures which are\n smaller than 16 bytes and which are not 8 bytes.  The problem is very\n@@ -2790,13 +2803,13 @@ register.\n GCC is consistent with itself, but not consistent with the SGI C compiler\n (and the SGI supplied runtime libraries), so the only failures that can\n happen are when there are library functions that take/return such\n-structures.  There are very few such library functions.  I can only recall\n-seeing two of them: inet_ntoa, and semctl.\n+structures. There are very few such library functions.  Currently this\n+is known to affect @code{inet_ntoa}, @code{inet_lnaof},\n+@code{inet_netof}, @code{inet_makeaddr}, and @code{semctl}.\n \n See @uref{http://freeware.sgi.com/,,http://freeware.sgi.com/} for more\n information about using GCC on IRIX platforms.\n \n-\n @html\n </p>\n <hr>"}]}