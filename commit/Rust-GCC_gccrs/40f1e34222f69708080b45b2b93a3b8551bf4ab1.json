{"sha": "40f1e34222f69708080b45b2b93a3b8551bf4ab1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDBmMWUzNDIyMmY2OTcwODA4MGI0NWIyYjkzYTNiODU1MWJmNGFiMQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-06-24T22:17:18Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-06-24T22:17:18Z"}, "message": "decl.c (pushdecl): Don't set DECL_CONTEXT from current_namespace.\n\n        * decl.c (pushdecl): Don't set DECL_CONTEXT from current_namespace.\n        (push_namespace): Set DECL_CONTEXT for a new NAMESPACE_DECL.\n\n        * parse.y (complex_direct_notype_declarator): Support global_scope.\n        * Makefile.in: Adjust conflict count.\n\nFrom-SVN: r34686", "tree": {"sha": "653e902d0d929e93fde191fbd90e4bad22012914", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/653e902d0d929e93fde191fbd90e4bad22012914"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40f1e34222f69708080b45b2b93a3b8551bf4ab1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40f1e34222f69708080b45b2b93a3b8551bf4ab1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40f1e34222f69708080b45b2b93a3b8551bf4ab1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40f1e34222f69708080b45b2b93a3b8551bf4ab1/comments", "author": null, "committer": null, "parents": [{"sha": "5840d6e4f57a38f2c250927b4cd65c6e933f522c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5840d6e4f57a38f2c250927b4cd65c6e933f522c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5840d6e4f57a38f2c250927b4cd65c6e933f522c"}], "stats": {"total": 6612, "additions": 3327, "deletions": 3285}, "files": [{"sha": "a50d1ab1f700b58ddcc3a49e4cd50c62f40fed7d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=40f1e34222f69708080b45b2b93a3b8551bf4ab1", "patch": "@@ -1,3 +1,13 @@\n+2000-06-24  Jason Merrill  <jason@redhat.com>\n+\n+\t* decl.c (pushdecl): Don't set DECL_CONTEXT from current_namespace.\n+\t(push_namespace): Set DECL_CONTEXT for a new NAMESPACE_DECL.\n+\n+2000-06-24  Martin v. L\ufffdwis  <loewis@informatik.hu-berlin.de>\n+\n+\t* parse.y (complex_direct_notype_declarator): Support global_scope.\n+\t* Makefile.in: Adjust conflict count.\n+\n 2000-06-23  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>\n \n \t* parse.y (template_arg): Convert TEMPLATE_DECL"}, {"sha": "8e68a57291400844d7c5e9b0345f7cc8c703c88e", "filename": "gcc/cp/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMakefile.in?ref=40f1e34222f69708080b45b2b93a3b8551bf4ab1", "patch": "@@ -219,7 +219,7 @@ parse.o : $(PARSE_C) $(CXX_TREE_H) $(srcdir)/../flags.h lex.h \\\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(BIG_SWITCHFLAG) \\\n   `echo $(PARSE_C) | sed 's,^\\./,,'`\n \n-CONFLICTS = expect 31 shift/reduce conflicts and 42 reduce/reduce conflicts.\n+CONFLICTS = expect 32 shift/reduce conflicts and 58 reduce/reduce conflicts.\n $(PARSE_H) : $(PARSE_C)\n $(PARSE_C) : $(srcdir)/parse.y\n \t@echo $(CONFLICTS)"}, {"sha": "6d82e5bc1e9c78e4a264d67457b49877b0ccbd3f", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=40f1e34222f69708080b45b2b93a3b8551bf4ab1", "patch": "@@ -2369,6 +2369,7 @@ push_namespace (name)\n \t level is set elsewhere.  */\n       if (!global)\n \t{\n+\t  DECL_CONTEXT (d) = FROB_CONTEXT (current_namespace);\n \t  d = pushdecl (d);\n \t  pushlevel (0);\n \t  declare_namespace_level ();\n@@ -3829,8 +3830,6 @@ pushdecl (x)\n \t  && !(TREE_CODE (x) == VAR_DECL && DECL_EXTERNAL (x))\n \t  && !DECL_CONTEXT (x))\n \tDECL_CONTEXT (x) = current_function_decl;\n-      if (!DECL_CONTEXT (x))\n-\tDECL_CONTEXT (x) = FROB_CONTEXT (current_namespace);\n \n       /* If this is the declaration for a namespace-scope function,\n \t but the declaration itself is in a local scope, mark the"}, {"sha": "62d62bbd10917ab1e7a4d8836effce7985a9a6f8", "filename": "gcc/cp/parse.c", "status": "modified", "additions": 3309, "deletions": 3282, "changes": 6591, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.c?ref=40f1e34222f69708080b45b2b93a3b8551bf4ab1"}, {"sha": "0d86e2fbe22fab4d4627998fa971922935e9f7bc", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40f1e34222f69708080b45b2b93a3b8551bf4ab1/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=40f1e34222f69708080b45b2b93a3b8551bf4ab1", "patch": "@@ -2872,6 +2872,12 @@ complex_direct_notype_declarator:\n \t\t{ $$ = build_parse_node (ARRAY_REF, $$, NULL_TREE); }\n \t| notype_qualified_id\n                 { enter_scope_of ($1); }\n+\t| global_scope notype_qualified_id\n+                { enter_scope_of ($2); $$ = $2;}\n+\t| global_scope notype_unqualified_id\n+                { $$ = build_parse_node (SCOPE_REF, global_namespace, $2);\n+\t\t  enter_scope_of ($$); \n+\t\t}\n         | nested_name_specifier notype_template_declarator\n                 { got_scope = NULL_TREE;\n \t\t  $$ = build_parse_node (SCOPE_REF, $1, $2);"}]}