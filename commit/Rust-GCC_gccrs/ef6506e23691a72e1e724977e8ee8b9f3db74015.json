{"sha": "ef6506e23691a72e1e724977e8ee8b9f3db74015", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWY2NTA2ZTIzNjkxYTcyZTFlNzI0OTc3ZThlZThiOWYzZGI3NDAxNQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2020-06-24T20:20:49Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2020-06-24T20:20:49Z"}, "message": "outputs.exp: conditionals for split-dwarf and lto plugin\n\nThis patch introduces support for conditionals (and expr) expansions\nto file lists in proc outest in outputs.exp.\n\nThe conditionals machinery is now used to guard files that are only\ncreated by the LTO plugin, or when not using the LTO plugin.\n\nIt is also used to avoid special-casing .dwo files: the condition of\nwhen they're expected is now encoded in the list.\n\nFurthermore, the -g flag, that used to be specified along with\n$gsplit_dwarf, is now moved into $gsplit_dwarf, so that we don't\ncompile with -g if -gsplit-dwarf is not needed.  This avoids having to\ndeal with .dSYM directories.\n\nFurther removing special cases, $aout is now dealt with in a more\ngeneral way, using expr to perform variable/string expansion.\n\n\nfor  gcc/testsuite/ChangeLog\n\n\tPR testsuite/95416\n\tPR testsuite/95577\n\t* gcc.misc-tests/outputs.exp (gsplit_dwarf): Move -g into it.\n\t(outest): Introduce conditionals and string/variable/expr\n\texpansion.  Drop special-casing of $aout and .dwo.\n\t(gspd): New conditional.  Guard all .dwo files with it.\n\t(ltop): New conditional.  Guard files created by the LTO\n\tplugin with it.  Guard files created by fat LTO compilation\n\twith its negation.  Add a few -fno-use-linker-plugin tests\n\tguarded by it.", "tree": {"sha": "3729c959635aaa77c2d6e897f184f8820ec68752", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3729c959635aaa77c2d6e897f184f8820ec68752"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ef6506e23691a72e1e724977e8ee8b9f3db74015", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef6506e23691a72e1e724977e8ee8b9f3db74015", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef6506e23691a72e1e724977e8ee8b9f3db74015", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef6506e23691a72e1e724977e8ee8b9f3db74015/comments", "author": null, "committer": null, "parents": [{"sha": "11a751ff77fba92de77b099ec5e1896d3a99d482", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11a751ff77fba92de77b099ec5e1896d3a99d482", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11a751ff77fba92de77b099ec5e1896d3a99d482"}], "stats": {"total": 641, "additions": 338, "deletions": 303}, "files": [{"sha": "469d94c863f0bcce4444d93329df848baae2b46c", "filename": "gcc/testsuite/gcc.misc-tests/outputs.exp", "status": "modified", "additions": 338, "deletions": 303, "changes": 641, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef6506e23691a72e1e724977e8ee8b9f3db74015/gcc%2Ftestsuite%2Fgcc.misc-tests%2Foutputs.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef6506e23691a72e1e724977e8ee8b9f3db74015/gcc%2Ftestsuite%2Fgcc.misc-tests%2Foutputs.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Foutputs.exp?ref=ef6506e23691a72e1e724977e8ee8b9f3db74015"}]}