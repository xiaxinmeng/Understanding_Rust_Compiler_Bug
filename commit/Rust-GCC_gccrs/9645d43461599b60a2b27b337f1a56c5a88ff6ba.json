{"sha": "9645d43461599b60a2b27b337f1a56c5a88ff6ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTY0NWQ0MzQ2MTU5OWI2MGEyYjI3YjMzN2YxYTU2YzVhODhmZjZiYQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2011-08-30T13:17:40Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2011-08-30T13:17:40Z"}, "message": "bb-reorder.c (insert_section_boundary_note): Only do it if we reordered the blocks; i.e.\n\n\t* bb-reorder.c (insert_section_boundary_note): Only do it if\n\twe reordered the blocks; i.e. not if !optimize_function_for_speed_p.\n\nFrom-SVN: r178298", "tree": {"sha": "0cef3e86f4bbfb2644d6c5e98403f2de571d9395", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0cef3e86f4bbfb2644d6c5e98403f2de571d9395"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9645d43461599b60a2b27b337f1a56c5a88ff6ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9645d43461599b60a2b27b337f1a56c5a88ff6ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9645d43461599b60a2b27b337f1a56c5a88ff6ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9645d43461599b60a2b27b337f1a56c5a88ff6ba/comments", "author": null, "committer": null, "parents": [{"sha": "070f36cf077d9cfbfe737712f61a9ff5a3c49820", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/070f36cf077d9cfbfe737712f61a9ff5a3c49820", "html_url": "https://github.com/Rust-GCC/gccrs/commit/070f36cf077d9cfbfe737712f61a9ff5a3c49820"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "b89303d4e503d30fcb84b0734d863e5d26ac9a58", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9645d43461599b60a2b27b337f1a56c5a88ff6ba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9645d43461599b60a2b27b337f1a56c5a88ff6ba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9645d43461599b60a2b27b337f1a56c5a88ff6ba", "patch": "@@ -11,6 +11,9 @@\n \t* config/i386/i386.c (get_pc_thunk_name): Change prefix to\n \t\"__x86.get_pc_thunk\".\n \n+\t* bb-reorder.c (insert_section_boundary_note): Only do it if\n+\twe reordered the blocks; i.e. not if !optimize_function_for_speed_p.\n+\n 2011-08-30  Christian Bruel  <christian.bruel@st.com>\n \n \t* coverage.c (coverage_init): Check flag_branch_probabilities instead of"}, {"sha": "d0ed8ea7bd368e6f444086aed5503131495eaf1b", "filename": "gcc/bb-reorder.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9645d43461599b60a2b27b337f1a56c5a88ff6ba/gcc%2Fbb-reorder.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9645d43461599b60a2b27b337f1a56c5a88ff6ba/gcc%2Fbb-reorder.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbb-reorder.c?ref=9645d43461599b60a2b27b337f1a56c5a88ff6ba", "patch": "@@ -1965,8 +1965,11 @@ insert_section_boundary_note (void)\n   rtx new_note;\n   int first_partition = 0;\n \n-  if (flag_reorder_blocks_and_partition)\n-    FOR_EACH_BB (bb)\n+  if (!flag_reorder_blocks_and_partition\n+      || !optimize_function_for_speed_p (cfun))\n+    return;\n+\n+  FOR_EACH_BB (bb)\n     {\n       if (!first_partition)\n \tfirst_partition = BB_PARTITION (bb);"}]}