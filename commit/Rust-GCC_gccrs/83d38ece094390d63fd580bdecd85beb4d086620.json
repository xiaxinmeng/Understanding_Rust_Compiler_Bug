{"sha": "83d38ece094390d63fd580bdecd85beb4d086620", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNkMzhlY2UwOTQzOTBkNjNmZDU4MGJkZWNkODViZWI0ZDA4NjYyMA==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "coudert@clipper.ens.fr", "date": "2006-02-16T07:52:22Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2006-02-16T07:52:22Z"}, "message": "re PR libfortran/24903 (dotprod should use __builtin_conj)\n\n\tPR libfortran/24903\n\t* m4/dotprodc.m4: Use __builtin_conj instead of assigning real\n\tand imaginary parts separately.\n\t* generated/dotprod_c4.c: Regenerated.\n\t* generated/dotprod_c8.c: Regenerated.\n\t* generated/dotprod_c10.c: Regenerated.\n\t* generated/dotprod_c16.c: Regenerated.\n\nFrom-SVN: r111131", "tree": {"sha": "f2093c49861eca5b34a28bb437e2de88bf8c4007", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2093c49861eca5b34a28bb437e2de88bf8c4007"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83d38ece094390d63fd580bdecd85beb4d086620", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83d38ece094390d63fd580bdecd85beb4d086620", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83d38ece094390d63fd580bdecd85beb4d086620", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83d38ece094390d63fd580bdecd85beb4d086620/comments", "author": null, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed78a1162c2658c6cbe9f3d1948ee41244fd425c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed78a1162c2658c6cbe9f3d1948ee41244fd425c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed78a1162c2658c6cbe9f3d1948ee41244fd425c"}], "stats": {"total": 31, "additions": 16, "deletions": 15}, "files": [{"sha": "616ea15bd6e82b74952a40446c59d011de5a2531", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=83d38ece094390d63fd580bdecd85beb4d086620", "patch": "@@ -1,3 +1,13 @@\n+2006-02-16  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\tPR libfortran/24903\n+\t* m4/dotprodc.m4: Use __builtin_conj instead of assigning real\n+\tand imaginary parts separately.\n+\t* generated/dotprod_c4.c: Regenerated.\n+\t* generated/dotprod_c8.c: Regenerated.\n+\t* generated/dotprod_c10.c: Regenerated.\n+\t* generated/dotprod_c16.c: Regenerated.\n+\n 2006-02-12  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \tPR libgfortran/25949"}, {"sha": "b68b0d3b5e6509013be586fb4e517d7ff2268f68", "filename": "libgfortran/generated/dotprod_c10.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fdotprod_c10.c?ref=83d38ece094390d63fd580bdecd85beb4d086620", "patch": "@@ -49,7 +49,6 @@ dot_product_c10 (gfc_array_c10 * const restrict a, gfc_array_c10 * const restric\n   const GFC_COMPLEX_10 * restrict pa;\n   const GFC_COMPLEX_10 * restrict pb;\n   GFC_COMPLEX_10 res;\n-  GFC_COMPLEX_10 conjga;\n   index_type count;\n   index_type astride;\n   index_type bstride;\n@@ -71,8 +70,7 @@ dot_product_c10 (gfc_array_c10 * const restrict a, gfc_array_c10 * const restric\n \n   while (count--)\n     {\n-      COMPLEX_ASSIGN(conjga, REALPART (*pa), -IMAGPART (*pa));\n-      res += conjga * *pb;\n+      res += __builtin_conjl (*pa) * *pb;\n       pa += astride;\n       pb += bstride;\n     }"}, {"sha": "82d5d49ea92e072cd572bbdd6d9542096a023c4e", "filename": "libgfortran/generated/dotprod_c16.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fdotprod_c16.c?ref=83d38ece094390d63fd580bdecd85beb4d086620", "patch": "@@ -49,7 +49,6 @@ dot_product_c16 (gfc_array_c16 * const restrict a, gfc_array_c16 * const restric\n   const GFC_COMPLEX_16 * restrict pa;\n   const GFC_COMPLEX_16 * restrict pb;\n   GFC_COMPLEX_16 res;\n-  GFC_COMPLEX_16 conjga;\n   index_type count;\n   index_type astride;\n   index_type bstride;\n@@ -71,8 +70,7 @@ dot_product_c16 (gfc_array_c16 * const restrict a, gfc_array_c16 * const restric\n \n   while (count--)\n     {\n-      COMPLEX_ASSIGN(conjga, REALPART (*pa), -IMAGPART (*pa));\n-      res += conjga * *pb;\n+      res += __builtin_conjl (*pa) * *pb;\n       pa += astride;\n       pb += bstride;\n     }"}, {"sha": "7f336234fe87b9ed3de299a9f09369e6fb021b8f", "filename": "libgfortran/generated/dotprod_c4.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fdotprod_c4.c?ref=83d38ece094390d63fd580bdecd85beb4d086620", "patch": "@@ -49,7 +49,6 @@ dot_product_c4 (gfc_array_c4 * const restrict a, gfc_array_c4 * const restrict b\n   const GFC_COMPLEX_4 * restrict pa;\n   const GFC_COMPLEX_4 * restrict pb;\n   GFC_COMPLEX_4 res;\n-  GFC_COMPLEX_4 conjga;\n   index_type count;\n   index_type astride;\n   index_type bstride;\n@@ -71,8 +70,7 @@ dot_product_c4 (gfc_array_c4 * const restrict a, gfc_array_c4 * const restrict b\n \n   while (count--)\n     {\n-      COMPLEX_ASSIGN(conjga, REALPART (*pa), -IMAGPART (*pa));\n-      res += conjga * *pb;\n+      res += __builtin_conjf (*pa) * *pb;\n       pa += astride;\n       pb += bstride;\n     }"}, {"sha": "df7738f381e162eeae4598f0e9dcf2c7382cb07b", "filename": "libgfortran/generated/dotprod_c8.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fgenerated%2Fdotprod_c8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fdotprod_c8.c?ref=83d38ece094390d63fd580bdecd85beb4d086620", "patch": "@@ -49,7 +49,6 @@ dot_product_c8 (gfc_array_c8 * const restrict a, gfc_array_c8 * const restrict b\n   const GFC_COMPLEX_8 * restrict pa;\n   const GFC_COMPLEX_8 * restrict pb;\n   GFC_COMPLEX_8 res;\n-  GFC_COMPLEX_8 conjga;\n   index_type count;\n   index_type astride;\n   index_type bstride;\n@@ -71,8 +70,7 @@ dot_product_c8 (gfc_array_c8 * const restrict a, gfc_array_c8 * const restrict b\n \n   while (count--)\n     {\n-      COMPLEX_ASSIGN(conjga, REALPART (*pa), -IMAGPART (*pa));\n-      res += conjga * *pb;\n+      res += __builtin_conj (*pa) * *pb;\n       pa += astride;\n       pb += bstride;\n     }"}, {"sha": "415eebfe4a958e1dc9fa41c7f8fd8ec0412cd808", "filename": "libgfortran/m4/dotprodc.m4", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fm4%2Fdotprodc.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d38ece094390d63fd580bdecd85beb4d086620/libgfortran%2Fm4%2Fdotprodc.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fdotprodc.m4?ref=83d38ece094390d63fd580bdecd85beb4d086620", "patch": "@@ -34,6 +34,7 @@ Boston, MA 02110-1301, USA.  */\n #include <assert.h>\n #include \"libgfortran.h\"'\n include(iparm.m4)dnl\n+include(mtype.m4)dnl\n \n `#if defined (HAVE_'rtype_name`)'\n \n@@ -50,7 +51,6 @@ dot_product_`'rtype_code (rtype * const restrict a, rtype * const restrict b)\n   const rtype_name * restrict pa;\n   const rtype_name * restrict pb;\n   rtype_name res;\n-  rtype_name conjga;\n   index_type count;\n   index_type astride;\n   index_type bstride;\n@@ -73,8 +73,7 @@ sinclude(`dotprod_asm_'rtype_code`.m4')dnl\n \n   while (count--)\n     {\n-      COMPLEX_ASSIGN(conjga, REALPART (*pa), -IMAGPART (*pa));\n-      res += conjga * *pb;\n+      res += __builtin_conj`'q (*pa) * *pb;\n       pa += astride;\n       pb += bstride;\n     }"}]}