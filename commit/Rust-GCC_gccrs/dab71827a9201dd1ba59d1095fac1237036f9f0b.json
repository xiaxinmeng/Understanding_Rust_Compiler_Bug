{"sha": "dab71827a9201dd1ba59d1095fac1237036f9f0b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFiNzE4MjdhOTIwMWRkMWJhNTlkMTA5NWZhYzEyMzcwMzZmOWYwYg==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@google.com", "date": "2009-04-15T03:41:28Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2009-04-15T03:41:28Z"}, "message": "diagnostic.c (diagnostic_report_diagnostic): Do not warn about loaded plugins for DK_ERROR and DK_WARNING.\n\n\n\t* diagnostic.c (diagnostic_report_diagnostic): Do not\n\twarn about loaded plugins for DK_ERROR and DK_WARNING.\n\t* c-decl.c (declspecs_add_type): Move call to\n\tinvoke_plugin_callbacks ...\n\t* c-parser.c (c_parser_declspecs): ... here.\n\t* plugin.c (dump_active_plugins): Tidy output.\n\ncp/ChangeLog\n\n\t* parser.c (cp_parser_type_specifier_seq): Move call to\n\tinvoke_plugin_callbacks ...\n\t(cp_parser_type_specifier_seq): ... here.\n\nFrom-SVN: r146078", "tree": {"sha": "5d9837cad5adf85d3fe250481be67981045fb958", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d9837cad5adf85d3fe250481be67981045fb958"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dab71827a9201dd1ba59d1095fac1237036f9f0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dab71827a9201dd1ba59d1095fac1237036f9f0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dab71827a9201dd1ba59d1095fac1237036f9f0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dab71827a9201dd1ba59d1095fac1237036f9f0b/comments", "author": {"login": "dnovillo", "id": 7295335, "node_id": "MDQ6VXNlcjcyOTUzMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7295335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnovillo", "html_url": "https://github.com/dnovillo", "followers_url": "https://api.github.com/users/dnovillo/followers", "following_url": "https://api.github.com/users/dnovillo/following{/other_user}", "gists_url": "https://api.github.com/users/dnovillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnovillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnovillo/subscriptions", "organizations_url": "https://api.github.com/users/dnovillo/orgs", "repos_url": "https://api.github.com/users/dnovillo/repos", "events_url": "https://api.github.com/users/dnovillo/events{/privacy}", "received_events_url": "https://api.github.com/users/dnovillo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f86ce6015ef9aa3d143c20a0072df231235b5344", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f86ce6015ef9aa3d143c20a0072df231235b5344", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f86ce6015ef9aa3d143c20a0072df231235b5344"}], "stats": {"total": 29, "additions": 19, "deletions": 10}, "files": [{"sha": "9d9aba899fd846247b5b5665e27cc74408b3b17a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -3,6 +3,15 @@\n \t* config/rs6000/rs6000.c (rs6000_dwarf_register_span): Fix debug\n \toutput for other floating point modes.\n \n+2009-04-14  Diego Novillo  <dnovillo@google.com>\n+\n+\t* diagnostic.c (diagnostic_report_diagnostic): Do not\n+\twarn about loaded plugins for DK_ERROR and DK_WARNING.\n+\t* c-decl.c (declspecs_add_type): Move call to\n+\tinvoke_plugin_callbacks ...\n+\t* c-parser.c (c_parser_declspecs): ... here.\n+\t* plugin.c (dump_active_plugins): Tidy output.\n+\n 2009-04-14  Diego Novillo  <dnovillo@google.com>\n \t    Le-Chun Wu  <lcwu@google.com>\n "}, {"sha": "62262034d8cecf856fb23d11fe3bf4eb926686b4", "filename": "gcc/c-decl.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -7262,9 +7262,6 @@ struct c_declspecs *\n declspecs_add_type (struct c_declspecs *specs, struct c_typespec spec)\n {\n   tree type = spec.spec;\n-\n-  invoke_plugin_callbacks (PLUGIN_FINISH_TYPE, type);\n-\n   specs->non_sc_seen_p = true;\n   specs->declspecs_seen_p = true;\n   specs->type_seen_p = true;"}, {"sha": "7887391dfccd5ce3090ae4facd041af21b95532d", "filename": "gcc/c-parser.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -1553,6 +1553,7 @@ c_parser_declspecs (c_parser *parser, struct c_declspecs *specs,\n \t  attrs_ok = true;\n \t  seen_type = true;\n \t  t = c_parser_struct_or_union_specifier (parser);\n+          invoke_plugin_callbacks (PLUGIN_FINISH_TYPE, t.spec);\n \t  declspecs_add_type (specs, t);\n \t  break;\n \tcase RID_TYPEOF:"}, {"sha": "aa0ef54e603a60614e18ee2d37f32958a67935db", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -1,3 +1,9 @@\n+2009-04-14  Diego Novillo  <dnovillo@google.com>\n+\n+\t* parser.c (cp_parser_type_specifier_seq): Move call to\n+\tinvoke_plugin_callbacks ...\n+\t(cp_parser_type_specifier_seq): ... here.\n+\n 2009-04-14  Le-Chun Wu  <lcwu@google.com>\n \n \t* Make-lang.in: Modify dependencies of files including plugin.h."}, {"sha": "3dba794612a6e2c4ee8a01d956f3c2992c4b0ad7", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -11015,6 +11015,7 @@ cp_parser_type_specifier (cp_parser* parser,\n       cp_parser_parse_tentatively (parser);\n       /* Look for the class-specifier.  */\n       type_spec = cp_parser_class_specifier (parser);\n+      invoke_plugin_callbacks (PLUGIN_FINISH_TYPE, type_spec);\n       /* If that worked, we're done.  */\n       if (cp_parser_parse_definitely (parser))\n \t{\n@@ -13891,8 +13892,6 @@ cp_parser_type_specifier_seq (cp_parser* parser,\n \t  break;\n \t}\n \n-      invoke_plugin_callbacks (PLUGIN_FINISH_TYPE, type_specifier);\n-\n       seen_type_specifier = true;\n       /* The standard says that a condition can be:\n "}, {"sha": "42a40c6f33751d9d200f36ba94a5a415fe8c54df", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -372,10 +372,7 @@ diagnostic_report_diagnostic (diagnostic_context *context,\n \n   context->lock++;\n \n-  if ((diagnostic->kind == DK_ERROR\n-       || diagnostic->kind == DK_WARNING\n-       || diagnostic->kind == DK_ICE)\n-      && plugins_active_p ())\n+  if (diagnostic->kind == DK_ICE && plugins_active_p ())\n     {\n       fnotice (stderr, \"*** WARNING *** there are active plugins, do not report\"\n \t       \" this as a bug unless you can reproduce it without enabling\""}, {"sha": "92e88a8d5344093b9e90a457af82ac66c9ffcb98", "filename": "gcc/plugin.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fplugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dab71827a9201dd1ba59d1095fac1237036f9f0b/gcc%2Fplugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fplugin.c?ref=dab71827a9201dd1ba59d1095fac1237036f9f0b", "patch": "@@ -647,7 +647,7 @@ dump_active_plugins (FILE *file)\n   if (!plugins_active_p ())\n     return;\n \n-  fprintf (stderr, \"Event\\t\\tPlugins\\n\");\n+  fprintf (stderr, \"Event\\t\\t\\tPlugins\\n\");\n   for (event = PLUGIN_PASS_MANAGER_SETUP; event < PLUGIN_EVENT_LAST; event++)\n     if (plugin_callbacks[event])\n       {"}]}