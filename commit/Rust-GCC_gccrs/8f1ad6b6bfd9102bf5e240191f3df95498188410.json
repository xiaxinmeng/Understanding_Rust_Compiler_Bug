{"sha": "8f1ad6b6bfd9102bf5e240191f3df95498188410", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGYxYWQ2YjZiZmQ5MTAyYmY1ZTI0MDE5MWYzZGY5NTQ5ODE4ODQxMA==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2011-12-19T20:29:21Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2011-12-19T20:29:21Z"}, "message": "re PR rtl-optimization/50380 ([4.6 only] cc1 hangs eating 100% CPU)\n\n2011-12-19  Sandra Loosemore  <sandra@codesourcery.com>\n\t    Tom de Vries <tom@codesourcery.com>\n\n\tPR rtl-opt/50380\n\n\tgcc/\n\t* cse.c (find_comparison_args): Detect fixed point and\n\tbail early.\n\n\tgcc/testsuite/\n\t* gcc.c-torture/compile/pr50380.c: New testcase.\n\nCo-Authored-By: Tom de Vries <tom@codesourcery.com>\n\nFrom-SVN: r182498", "tree": {"sha": "2981ef68a72b8b5e256d21f7915180b8f476157f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2981ef68a72b8b5e256d21f7915180b8f476157f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f1ad6b6bfd9102bf5e240191f3df95498188410", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f1ad6b6bfd9102bf5e240191f3df95498188410", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f1ad6b6bfd9102bf5e240191f3df95498188410", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f1ad6b6bfd9102bf5e240191f3df95498188410/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1e815d32216f4c35208830b02c933895b1c2e9e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e815d32216f4c35208830b02c933895b1c2e9e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e815d32216f4c35208830b02c933895b1c2e9e2"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "02c8dce7e3e9a40ac97eb5483f804d5f2c923b9f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8f1ad6b6bfd9102bf5e240191f3df95498188410", "patch": "@@ -1,3 +1,10 @@\n+2011-12-19  Sandra Loosemore  <sandra@codesourcery.com>\n+\t    Tom de Vries <tom@codesourcery.com>\n+\n+\tPR rtl-opt/50380\n+\t* cse.c (find_comparison_args): Detect fixed point and\n+\tbail early.\n+\n 2011-12-19  Aldy Hernandez  <aldyh@redhat.com>\n \n \tPR middle-end/51411"}, {"sha": "e624b2828bc54bfae72bdba15138c800ff6a6e7b", "filename": "gcc/cse.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=8f1ad6b6bfd9102bf5e240191f3df95498188410", "patch": "@@ -3055,6 +3055,12 @@ find_comparison_args (enum rtx_code code, rtx *parg1, rtx *parg2,\n \t  if (! exp_equiv_p (p->exp, p->exp, 1, false))\n \t    continue;\n \n+\t  /* If it's the same comparison we're already looking at, skip it.  */\n+\t  if (COMPARISON_P (p->exp)\n+\t      && XEXP (p->exp, 0) == arg1\n+\t      && XEXP (p->exp, 1) == arg2)\n+\t    continue;\n+\n \t  if (GET_CODE (p->exp) == COMPARE\n \t      /* Another possibility is that this machine has a compare insn\n \t\t that includes the comparison code.  In that case, ARG1 would"}, {"sha": "cf758f16a37386bc10c014903e63dc78c2dbb79e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8f1ad6b6bfd9102bf5e240191f3df95498188410", "patch": "@@ -1,3 +1,9 @@\n+2011-12-19  Sandra Loosemore  <sandra@codesourcery.com>\n+\t    Tom de Vries <tom@codesourcery.com>\n+\n+\tPR rtl-opt/50380\n+\t* gcc.c-torture/compile/pr50380.c: New testcase.\n+\n 2011-12-19  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/51605"}, {"sha": "ffd044263e54492bdb10871a8e3cb577af85d7df", "filename": "gcc/testsuite/gcc.c-torture/compile/pr50380.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr50380.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f1ad6b6bfd9102bf5e240191f3df95498188410/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr50380.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr50380.c?ref=8f1ad6b6bfd9102bf5e240191f3df95498188410", "patch": "@@ -0,0 +1,12 @@\n+/* This test used to get stuck in an infinite loop in find_comparison_args\n+   when compiling for MIPS at -O2.  */\n+\n+__attribute__ ((__noreturn__)) extern void fail (void);\n+\n+char x;\n+\n+void foo (const unsigned char y)\n+{\n+   ((void) (__builtin_expect((!! y == y), 1) ? 0 : (fail (), 0)));\n+   x = ! y;\n+}"}]}