{"sha": "93cf819deee955ccd7432bbc2b0d642523ed155b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTNjZjgxOWRlZWU5NTVjY2Q3NDMyYmJjMmIwZDY0MjUyM2VkMTU1Yg==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@lisa.cygnus.com", "date": "1997-09-18T19:50:51Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1997-09-18T19:50:51Z"}, "message": "configure.in, configure: Make sure to create the stage* and include symbolic links in each subdirectory.\n\n\t* configure.in, configure: Make sure to create the stage* and include\n\tsymbolic links in each subdirectory.\n\ncopy that's also now in at the FSF; only does it if $symbolic_link is\ndefined to `ln -s'\n\nFrom-SVN: r15543", "tree": {"sha": "c364db7161f3f35aefcc147e98447ba22aff1f55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c364db7161f3f35aefcc147e98447ba22aff1f55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93cf819deee955ccd7432bbc2b0d642523ed155b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93cf819deee955ccd7432bbc2b0d642523ed155b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93cf819deee955ccd7432bbc2b0d642523ed155b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93cf819deee955ccd7432bbc2b0d642523ed155b/comments", "author": null, "committer": null, "parents": [{"sha": "f05011492be2d32526bbc5303d1121dd70ed9a1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f05011492be2d32526bbc5303d1121dd70ed9a1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f05011492be2d32526bbc5303d1121dd70ed9a1c"}], "stats": {"total": 45, "additions": 29, "deletions": 16}, "files": [{"sha": "4ce57ca9cc1dead49fbde76691028dba573aec72", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cf819deee955ccd7432bbc2b0d642523ed155b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cf819deee955ccd7432bbc2b0d642523ed155b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=93cf819deee955ccd7432bbc2b0d642523ed155b", "patch": "@@ -1,3 +1,8 @@\n+1997-09-18  Brendan Kehoe  <brendan@lisa.cygnus.com>\n+\n+\t* configure.in, configure: Make sure to create the stage* and include\n+\tsymbolic links in each subdirectory.\n+\n Thu Sep 18 01:47:06 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* pa.md (reload_peepholes): Don't allow addresses with side\n@@ -18,12 +23,6 @@ Wed Sep 17 18:33:59 1997  Jeffrey A Law  (law@cygnus.com)\n \t(CPP_SPEC): Include long_max_spec.\n \t(EXTRA_SPECS): Include long_max_spec.\n \n-1997-09-17  Brendan Kehoe  <brendan@lisa.cygnus.com>\n-\n-\t* configure.in, configure: Make sure to create the stage* and include\n-\tsymbolic links in each subdirectory, as we do in configure.lang for\n-\tnon-autoconf configurations.\n-\n Wed Sep 17 14:11:38 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* v850.c (construct_save_jarl): Fix thinko in last change."}, {"sha": "c3197303290e828dbbe40bac7015ce13d4d63fe9", "filename": "gcc/configure", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cf819deee955ccd7432bbc2b0d642523ed155b/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cf819deee955ccd7432bbc2b0d642523ed155b/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=93cf819deee955ccd7432bbc2b0d642523ed155b", "patch": "@@ -5111,9 +5111,15 @@ case x$CONFIG_HEADERS in\n xconfig.h:config.in)\n echo > cstamp-h ;;\n esac\n-# Make sure we create things so -Bstage1/ will work.\n-for d in .. ${subdirs} ; do\n-  if [ $d != .. ]; then\n+# If the host supports symlinks, point stage[1234] at ../stage[1234] so\n+# bootstrapping and the installation procedure can still use\n+# CC=\"stage1/xgcc -Bstage1/\".  If the host doesn't support symlinks,\n+# FLAGS_TO_PASS has been modified to solve the problem there.\n+# This is virtually a duplicate of what happens in configure.lang; we do\n+# an extra check to make sure this only happens if ln -s can be used.\n+if [ \"$symbolic_link\" = \"ln -s\" ]; then\n+ for d in .. ${subdirs} ; do\n+   if [ $d != .. ]; then\n \tSTARTDIR=`pwd`\n \tcd $d\n \tfor t in stage1 stage2 stage3 stage4 include\n@@ -5122,8 +5128,9 @@ for d in .. ${subdirs} ; do\n \t\t$symbolic_link ../$t $t 2>/dev/null\n \tdone\n \tcd $STARTDIR\n-  fi\n-done\n+   fi\n+ done\n+else true ; fi\n \n exit 0\n EOF"}, {"sha": "f0b6a49053e0765570f41cd307fbeee8e5fdd78a", "filename": "gcc/configure.in", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cf819deee955ccd7432bbc2b0d642523ed155b/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cf819deee955ccd7432bbc2b0d642523ed155b/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=93cf819deee955ccd7432bbc2b0d642523ed155b", "patch": "@@ -3147,9 +3147,15 @@ case x$CONFIG_HEADERS in\n xconfig.h:config.in)\n echo > cstamp-h ;;\n esac\n-# Make sure we create things so -Bstage1/ will work.\n-for d in .. ${subdirs} ; do\n-  if [ $d != .. ]; then\n+# If the host supports symlinks, point stage[1234] at ../stage[1234] so\n+# bootstrapping and the installation procedure can still use\n+# CC=\"stage1/xgcc -Bstage1/\".  If the host doesn't support symlinks,\n+# FLAGS_TO_PASS has been modified to solve the problem there.\n+# This is virtually a duplicate of what happens in configure.lang; we do\n+# an extra check to make sure this only happens if ln -s can be used.\n+if [[ \"$symbolic_link\" = \"ln -s\" ]]; then\n+ for d in .. ${subdirs} ; do\n+   if [[ $d != .. ]]; then\n \tSTARTDIR=`pwd`\n \tcd $d\n \tfor t in stage1 stage2 stage3 stage4 include\n@@ -3158,8 +3164,9 @@ for d in .. ${subdirs} ; do\n \t\t$symbolic_link ../$t $t 2>/dev/null\n \tdone\n \tcd $STARTDIR\n-  fi\n-done\n+   fi\n+ done\n+else true ; fi\n ],\n [\n host='${host}'"}]}