{"sha": "b4d330e1630264a6ced3d637344ee1a708527799", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjRkMzMwZTE2MzAyNjRhNmNlZDNkNjM3MzQ0ZWUxYTcwODUyNzc5OQ==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2002-08-15T14:51:00Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2002-08-15T14:51:00Z"}, "message": "rs6000.c (output_mi_thunk): Return to function section on TARGET_ELF.\n\n        * rs6000.c (output_mi_thunk): Return to function section on\n        TARGET_ELF.\n\n        * rs6000-c.c (rs6000_cpu_cpp_builtins): Define __PPC405__ if PPC405.\n\nFrom-SVN: r56348", "tree": {"sha": "b5fb36b0c847d9057121d4fb88274fcc2867bbe2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5fb36b0c847d9057121d4fb88274fcc2867bbe2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4d330e1630264a6ced3d637344ee1a708527799", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4d330e1630264a6ced3d637344ee1a708527799", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4d330e1630264a6ced3d637344ee1a708527799", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4d330e1630264a6ced3d637344ee1a708527799/comments", "author": null, "committer": null, "parents": [{"sha": "e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8fe46d4d64b4e482d7688ee59c39770ab95a5bd"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "ca3ebb23c7534ff0d41b43a02aab30f0766ac56f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4d330e1630264a6ced3d637344ee1a708527799/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4d330e1630264a6ced3d637344ee1a708527799/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b4d330e1630264a6ced3d637344ee1a708527799", "patch": "@@ -1,3 +1,10 @@\n+2002-08-15  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* rs6000.c (output_mi_thunk): Return to function section on\n+\tTARGET_ELF.\n+\n+\t* rs6000-c.c (rs6000_cpu_cpp_builtins): Define __PPC405__ if PPC405.\n+\n 2002-08-15  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.c (legitimize_address): Optimize loading"}, {"sha": "6093996a132539a754c90bcd1f3e68848d3d0ecd", "filename": "gcc/config/rs6000/rs6000-c.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4d330e1630264a6ced3d637344ee1a708527799/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4d330e1630264a6ced3d637344ee1a708527799/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-c.c?ref=b4d330e1630264a6ced3d637344ee1a708527799", "patch": "@@ -97,6 +97,9 @@ rs6000_cpu_cpp_builtins (pfile)\n     builtin_define (\"__SPE__\");\n   if (TARGET_SOFT_FLOAT)\n     builtin_define (\"_SOFT_FLOAT\");\n+  /* Used by lwarx/stwcx. errata work-around.  */\n+  if (rs6000_cpu == PROCESSOR_PPC405)\n+    builtin_define (\"__PPC405__\");\n   if (BYTES_BIG_ENDIAN)\n     {\n       builtin_define (\"__BIG_ENDIAN__\");\n@@ -127,5 +130,7 @@ rs6000_cpu_cpp_builtins (pfile)\n     case ABI_DARWIN:\n       builtin_define (\"_CALL_DARWIN\");\n       break;\n+    default:\n+      break;\n     }\n }"}, {"sha": "5b69dd58a19b9f0a0a9f6b551647c0bc4ed8ecea", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4d330e1630264a6ced3d637344ee1a708527799/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4d330e1630264a6ced3d637344ee1a708527799/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=b4d330e1630264a6ced3d637344ee1a708527799", "patch": "@@ -11335,7 +11335,10 @@ output_mi_thunk (file, thunk_fndecl, delta, function)\n \t    }\n \t  assemble_name (file, fname);\n \t  putc ('\\n', file);\n-\t  text_section ();\n+\t  if (TARGET_ELF)\n+\t    function_section (current_function_decl);\n+\t  else\n+\t    text_section();\n \t  if (TARGET_MINIMAL_TOC)\n \t    asm_fprintf (file, (TARGET_32BIT)\n \t\t\t ? \"\\t{l|lwz} %s,%s(%s)\\n\" : \"\\tld %s,%s(%s)\\n\", r12,"}]}