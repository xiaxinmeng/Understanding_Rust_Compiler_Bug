{"sha": "30102051a53033464e4eff65fcfb7aafd45e9f1a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAxMDIwNTFhNTMwMzM0NjRlNGVmZjY1ZmNmYjdhYWZkNDVlOWYxYQ==", "commit": {"author": {"name": "Claudiu Zissulescu", "email": "claziss@synopsys.com", "date": "2016-10-10T11:39:22Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gcc.gnu.org", "date": "2016-10-10T11:39:22Z"}, "message": "[ARC] Disable compact casesi patterns for arcv2\n\ngcc/\n2016-05-09  Claudiu Zissulescu  <claziss@synopsys.com>\n\n\t* common/config/arc/arc-common.c (arc_option_optimization_table):\n\tRemove compact casesi option.\n\t* config/arc/arc.c (arc_override_options): Use compact casesi\n\toption only for pre-ARCv2 cores.\n\t* doc/invoke.texi (mcompact-casesi): Update text.\n\nFrom-SVN: r240916", "tree": {"sha": "4c86268b96a5cc5885f5dbe572b46e75e16501ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c86268b96a5cc5885f5dbe572b46e75e16501ee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30102051a53033464e4eff65fcfb7aafd45e9f1a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30102051a53033464e4eff65fcfb7aafd45e9f1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30102051a53033464e4eff65fcfb7aafd45e9f1a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30102051a53033464e4eff65fcfb7aafd45e9f1a/comments", "author": {"login": "claziss", "id": 2761368, "node_id": "MDQ6VXNlcjI3NjEzNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claziss", "html_url": "https://github.com/claziss", "followers_url": "https://api.github.com/users/claziss/followers", "following_url": "https://api.github.com/users/claziss/following{/other_user}", "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}", "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claziss/subscriptions", "organizations_url": "https://api.github.com/users/claziss/orgs", "repos_url": "https://api.github.com/users/claziss/repos", "events_url": "https://api.github.com/users/claziss/events{/privacy}", "received_events_url": "https://api.github.com/users/claziss/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "41683e1a62f06f2791c9651d739cc69a5a60b07e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41683e1a62f06f2791c9651d739cc69a5a60b07e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41683e1a62f06f2791c9651d739cc69a5a60b07e"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "6810f199dc0bb0ce4b295551f5e5e772bac57fdf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=30102051a53033464e4eff65fcfb7aafd45e9f1a", "patch": "@@ -1,3 +1,11 @@\n+2016-10-10  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* common/config/arc/arc-common.c (arc_option_optimization_table):\n+\tRemove compact casesi option.\n+\t* config/arc/arc.c (arc_override_options): Use compact casesi\n+\toption only for pre-ARCv2 cores.\n+\t* doc/invoke.texi (mcompact-casesi): Update text.\n+\n 2016-10-09  Aaron Sawdey  <acsawdey@linux.vnet.ibm.com>\n \n \t* config/rs6000/rs6000.h (TARGET_EFFICIENT_OVERLAPPING_UNALIGNED): "}, {"sha": "5b687fb16ad5e869e160391fa2a4fdd1c9fd7c91", "filename": "gcc/common/config/arc/arc-common.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2Fcommon%2Fconfig%2Farc%2Farc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2Fcommon%2Fconfig%2Farc%2Farc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Farc%2Farc-common.c?ref=30102051a53033464e4eff65fcfb7aafd45e9f1a", "patch": "@@ -56,7 +56,6 @@ static const struct default_options arc_option_optimization_table[] =\n     { OPT_LEVELS_ALL, OPT_mbbit_peephole, NULL, 1 },\n     { OPT_LEVELS_SIZE, OPT_mq_class, NULL, 1 },\n     { OPT_LEVELS_SIZE, OPT_mcase_vector_pcrel, NULL, 1 },\n-    { OPT_LEVELS_SIZE, OPT_mcompact_casesi, NULL, 1 },\n     { OPT_LEVELS_NONE, 0, NULL, 0 }\n   };\n "}, {"sha": "5e8d6b4209ddc478e0ded032c5b1fe60885619e8", "filename": "gcc/config/arc/arc.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2Fconfig%2Farc%2Farc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2Fconfig%2Farc%2Farc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.c?ref=30102051a53033464e4eff65fcfb7aafd45e9f1a", "patch": "@@ -858,6 +858,17 @@ arc_override_options (void)\n   if (arc_size_opt_level == 3)\n     optimize_size = 1;\n \n+  /* Compact casesi is not a valid option for ARCv2 family.  */\n+  if (TARGET_V2\n+      && TARGET_COMPACT_CASESI)\n+    {\n+      warning (0, \"compact-casesi is not applicable to ARCv2\");\n+      TARGET_COMPACT_CASESI = 0;\n+    }\n+  else if (optimize_size == 1\n+\t   && !global_options_set.x_TARGET_COMPACT_CASESI)\n+    TARGET_COMPACT_CASESI = 1;\n+\n   if (flag_pic)\n     target_flags |= MASK_NO_SDATA_SET;\n "}, {"sha": "3f9c0a07be0ee33203eeb2ae89b89feb18705b9a", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30102051a53033464e4eff65fcfb7aafd45e9f1a/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=30102051a53033464e4eff65fcfb7aafd45e9f1a", "patch": "@@ -14293,8 +14293,8 @@ This is the default for @option{-Os}.\n \n @item -mcompact-casesi\n @opindex mcompact-casesi\n-Enable compact casesi pattern.\n-This is the default for @option{-Os}.\n+Enable compact casesi pattern.  This is the default for @option{-Os},\n+and only available for ARCv1 cores.\n \n @item -mno-cond-exec\n @opindex mno-cond-exec"}]}