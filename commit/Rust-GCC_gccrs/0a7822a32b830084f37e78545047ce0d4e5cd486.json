{"sha": "0a7822a32b830084f37e78545047ce0d4e5cd486", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGE3ODIyYTMyYjgzMDA4NGYzN2U3ODU0NTA0N2NlMGQ0ZTVjZDQ4Ng==", "commit": {"author": {"name": "Ramana Radhakrishnan", "email": "ramana.radhakrishnan@arm.com", "date": "2010-09-08T21:35:48Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2010-09-08T21:35:48Z"}, "message": "re PR target/44392 (libgcc compile with --enable-target-optspace (-Os) causes recursion in __bswapsi2)\n\n2010-09-08  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n\n\tPR target/44392\n\t* config/arm/arm.md (bswapsi2): Handle condition correctly\n\tfor armv6 and optimize_size.\n\nFrom-SVN: r164029", "tree": {"sha": "2fb5bfd03faabf6ced00b003e9814012ff8f46b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2fb5bfd03faabf6ced00b003e9814012ff8f46b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0a7822a32b830084f37e78545047ce0d4e5cd486", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a7822a32b830084f37e78545047ce0d4e5cd486", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a7822a32b830084f37e78545047ce0d4e5cd486", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a7822a32b830084f37e78545047ce0d4e5cd486/comments", "author": null, "committer": null, "parents": [{"sha": "03dbada4fb1c4400d6dc73f18da479b7fb86530f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03dbada4fb1c4400d6dc73f18da479b7fb86530f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03dbada4fb1c4400d6dc73f18da479b7fb86530f"}], "stats": {"total": 49, "additions": 25, "deletions": 24}, "files": [{"sha": "c121a35e462c9d84d1390a57733798ef5f00b936", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a7822a32b830084f37e78545047ce0d4e5cd486/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a7822a32b830084f37e78545047ce0d4e5cd486/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0a7822a32b830084f37e78545047ce0d4e5cd486", "patch": "@@ -1,3 +1,9 @@\n+2010-09-08  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n+\n+\tPR target/44392\n+\t* config/arm/arm.md (bswapsi2): Handle condition correctly\n+\tfor armv6 and optimize_size.\n+\n 2010-09-08  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n \tPR other/18555"}, {"sha": "8806dc58bcbbcfa9628fa61e286dfcff19828f17", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 19, "deletions": 24, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a7822a32b830084f37e78545047ce0d4e5cd486/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a7822a32b830084f37e78545047ce0d4e5cd486/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=0a7822a32b830084f37e78545047ce0d4e5cd486", "patch": "@@ -10658,34 +10658,29 @@\n (define_expand \"bswapsi2\"\n   [(set (match_operand:SI 0 \"s_register_operand\" \"=r\")\n   \t(bswap:SI (match_operand:SI 1 \"s_register_operand\" \"r\")))]\n-\"TARGET_EITHER\"\n+\"TARGET_EITHER && (arm_arch6 || !optimize_size)\"\n \"\n-  if (!arm_arch6)\n-    {\n-      if (!optimize_size)\n-\t{\n-\t  rtx op2 = gen_reg_rtx (SImode);\n-\t  rtx op3 = gen_reg_rtx (SImode);\n+    if (!arm_arch6)\n+      {\n+\trtx op2 = gen_reg_rtx (SImode);\n+\trtx op3 = gen_reg_rtx (SImode);\n \n-\t  if (TARGET_THUMB)\n-\t    {\n-\t      rtx op4 = gen_reg_rtx (SImode);\n-\t      rtx op5 = gen_reg_rtx (SImode);\n+\tif (TARGET_THUMB)\n+\t  {\n+\t    rtx op4 = gen_reg_rtx (SImode);\n+\t    rtx op5 = gen_reg_rtx (SImode);\n \n-\t      emit_insn (gen_thumb_legacy_rev (operands[0], operands[1],\n-\t\t\t\t\t       op2, op3, op4, op5));\n-\t    }\n-\t  else\n-\t    {\n-\t      emit_insn (gen_arm_legacy_rev (operands[0], operands[1],\n-\t\t\t\t\t     op2, op3));\n-\t    }\n+\t    emit_insn (gen_thumb_legacy_rev (operands[0], operands[1],\n+\t\t\t\t\t     op2, op3, op4, op5));\n+\t  }\n+\telse\n+\t  {\n+\t    emit_insn (gen_arm_legacy_rev (operands[0], operands[1],\n+\t\t\t\t\t   op2, op3));\n+\t  }\n \n-\t  DONE;\n-\t}\n-      else\n-\tFAIL;\n-    }\n+\tDONE;\n+      }\n   \"\n )\n "}]}