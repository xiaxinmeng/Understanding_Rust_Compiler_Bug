{"sha": "8211c4a299da94f1d8c16d176064cbfb5518a630", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODIxMWM0YTI5OWRhOTRmMWQ4YzE2ZDE3NjA2NGNiZmI1NTE4YTYzMA==", "commit": {"author": {"name": "Volker Reichelt", "email": "v.reichelt@netcologne.de", "date": "2017-04-27T16:10:54Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2017-04-27T16:10:54Z"}, "message": "parser.c (cp_parser_cast_expression): Add target type of cast to diagnostic.\n\n        * parser.c (cp_parser_cast_expression): Add target type of cast to\n        diagnostic.\n        * error.c (type_to_string): Add '{enum}' suffix to enumeration types.\n\n        * g++.dg/cpp1z/direct-enum-init1.C: Adjust for more verbose enum\n        diagnostics.\n        * g++.dg/warn/pr12242.C: Likewise.\n\nFrom-SVN: r247347", "tree": {"sha": "ad634f5671b22e264f7d83066ec259c4e2bc2424", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad634f5671b22e264f7d83066ec259c4e2bc2424"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8211c4a299da94f1d8c16d176064cbfb5518a630", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8211c4a299da94f1d8c16d176064cbfb5518a630", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8211c4a299da94f1d8c16d176064cbfb5518a630", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8211c4a299da94f1d8c16d176064cbfb5518a630/comments", "author": {"login": "VReichelt", "id": 85767072, "node_id": "MDQ6VXNlcjg1NzY3MDcy", "avatar_url": "https://avatars.githubusercontent.com/u/85767072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VReichelt", "html_url": "https://github.com/VReichelt", "followers_url": "https://api.github.com/users/VReichelt/followers", "following_url": "https://api.github.com/users/VReichelt/following{/other_user}", "gists_url": "https://api.github.com/users/VReichelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/VReichelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VReichelt/subscriptions", "organizations_url": "https://api.github.com/users/VReichelt/orgs", "repos_url": "https://api.github.com/users/VReichelt/repos", "events_url": "https://api.github.com/users/VReichelt/events{/privacy}", "received_events_url": "https://api.github.com/users/VReichelt/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4ca4927ac62079290939b2b93124ee8e09864491", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ca4927ac62079290939b2b93124ee8e09864491", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ca4927ac62079290939b2b93124ee8e09864491"}], "stats": {"total": 263, "additions": 140, "deletions": 123}, "files": [{"sha": "36e114b794f10820ac38ce85ec802a0188bb8d1a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=8211c4a299da94f1d8c16d176064cbfb5518a630", "patch": "@@ -1,3 +1,9 @@\n+2017-04-27  Volker Reichelt  <v.reichelt@netcologne.de>\n+\n+\t* parser.c (cp_parser_cast_expression): Add target type of cast to\n+\tdiagnostic.\n+\t* error.c (type_to_string): Add '{enum}' suffix to enumeration types.\n+\n 2017-04-26  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* decl.c (grok_ctor_properties, ambi_op_p, unary_op_p): Change"}, {"sha": "a83ecb2e0f2694ba7364863a54ae011ee5c3c69e", "filename": "gcc/cp/error.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=8211c4a299da94f1d8c16d176064cbfb5518a630", "patch": "@@ -3134,6 +3134,10 @@ type_to_string (tree typ, int verbose)\n       if (len == aka_len && memcmp (p, p+aka_start, len) == 0)\n \tp[len] = '\\0';\n     }\n+\n+  if (typ && TYPE_P (typ) && TREE_CODE (typ) == ENUMERAL_TYPE)\n+    pp_string (cxx_pp, M_(\" {enum}\"));\n+\n   return pp_ggc_formatted_text (cxx_pp);\n }\n "}, {"sha": "3917893b06af5f4487cf8d9a33537be3029b2484", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=8211c4a299da94f1d8c16d176064cbfb5518a630", "patch": "@@ -8763,7 +8763,8 @@ cp_parser_cast_expression (cp_parser *parser, bool address_p, bool cast_p,\n \t\t  && !in_system_header_at (input_location)\n \t\t  && !VOID_TYPE_P (type)\n \t\t  && current_lang_name != lang_name_c)\n-\t\twarning (OPT_Wold_style_cast, \"use of old-style cast\");\n+\t\twarning (OPT_Wold_style_cast,\n+\t\t\t \"use of old-style cast to %qT\", type);\n \n \t      /* Only type conversions to integral or enumeration types\n \t\t can be used in constant-expressions.  */"}, {"sha": "3523e2b522827cc7810237afb8571b135cbdea1b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8211c4a299da94f1d8c16d176064cbfb5518a630", "patch": "@@ -1,3 +1,9 @@\n+2017-04-27  Volker Reichelt  <v.reichelt@netcologne.de>\n+\n+\t* g++.dg/cpp1z/direct-enum-init1.C: Adjust for more verbose enum\n+\tdiagnostics.\n+\t* g++.dg/warn/pr12242.C: Likewise.\n+\n 2017-04-27  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* gcc.c-torture/execute/alias-3.c: Skip on AIX."}, {"sha": "a17473f86c92876ec971757b0f21ab35c2852fb6", "filename": "gcc/testsuite/g++.dg/cpp1z/direct-enum-init1.C", "status": "modified", "additions": 115, "deletions": 115, "changes": 230, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fdirect-enum-init1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fdirect-enum-init1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fdirect-enum-init1.C?ref=8211c4a299da94f1d8c16d176064cbfb5518a630", "patch": "@@ -17,121 +17,121 @@ void bar (E);\n void\n foo ()\n {\n-  A a1 { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" }\n-  B b1 { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  A a1 { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" }\n+  B b1 { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n   C c1 { s };\n-  D d1 { D(t) };\t// { dg-error \"invalid cast from type 'T' to type 'D'\" }\n-  D d2 { t };\t\t// { dg-error \"cannot convert 'T' to 'D' in initialization\" \"\" { target c++14_down } }\n+  D d1 { D(t) };\t// { dg-error \"invalid cast from type 'T' to type 'D {enum}'\" }\n+  D d2 { t };\t\t// { dg-error \"cannot convert 'T' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"invalid cast from type 'T' to type 'D'\" \"\" { target c++1z } .-1 }\n-  D d3 { 9 };\t\t// { dg-error \"cannot convert 'int' to 'D' in initialization\" \"\" { target c++14_down } }\n-  D d4 { l };\t\t// { dg-error \"cannot convert 'long int' to 'D' in initialization\" \"\" { target c++14_down } }\n+  D d3 { 9 };\t\t// { dg-error \"cannot convert 'int' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  D d4 { l };\t\t// { dg-error \"cannot convert 'long int' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n   D d5 { D(l) };\n-  D d6 { G };\t\t// { dg-error \"cannot convert 'A' to 'D' in initialization\" \"\" { target c++14_down } }\n-  E e1 { 5 };\t\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  E e2 { -1 };\t\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n+  D d6 { G };\t\t// { dg-error \"cannot convert 'A {enum}' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  E e1 { 5 };\t\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  E e2 { -1 };\t\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '-1' from 'int' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  E e3 { 5.0 };\t\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  E e3 { 5.0 };\t\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  E e4 { 5.2 };\t\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  E e4 { 5.2 };\t\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.\\[0-9]*e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  B b2 = { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" }\n-  C c2 = { C { 8 } };\t// { dg-error \"cannot convert 'int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  B b2 = { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" }\n+  C c2 = { C { 8 } };\t// { dg-error \"cannot convert 'int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n \n-  D *d7 = new D { 9 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target c++14_down } }\n-  E *e5 = new E { -4 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n+  D *d7 = new D { 9 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  E *e5 = new E { -4 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '-4' from 'int' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  bar ({ 10 });\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' for argument\" }\n-  bar (E { 9 });\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  V v1 = { { 11 } };\t// { dg-error \"braces around scalar initializer for type 'E'\" }\n-  V v2 = { E { 12 } };\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  V v3 = { E { 5.0 } };\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  bar ({ 10 });\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' for argument\" }\n+  bar (E { 9 });\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  V v1 = { { 11 } };\t// { dg-error \"braces around scalar initializer for type 'E {enum}'\" }\n+  V v2 = { E { 12 } };\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  V v3 = { E { 5.0 } };\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  V v4 = { 13 };\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" }\n-  if (B b3 { 5 })\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  V v4 = { 13 };\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" }\n+  if (B b3 { 5 })\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n     ;\n-  if (B b4 { 4.0 })\t// { dg-error \"cannot convert 'double' to 'B' in initialization\" \"\" { target c++14_down } }\n+  if (B b4 { 4.0 })\t// { dg-error \"cannot convert 'double' to 'B {enum}' in initialization\" \"\" { target c++14_down } }\n     ;\t\t\t// { dg-error \"narrowing conversion of '4.0e.0' from 'double' to 'short int' inside\" \"\" { target c++1z } .-1 }\n-  C c3 { 8L };\t\t// { dg-error \"cannot convert 'long int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  B b4 {short (c + 5)};\t// { dg-error \"invalid conversion from 'short int' to 'B'\" \"\" { target c++14_down } }\n-  B b5 {c + 5};\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  C c3 { 8L };\t\t// { dg-error \"cannot convert 'long int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  B b4 {short (c + 5)};\t// { dg-error \"invalid conversion from 'short int' to 'B {enum}'\" \"\" { target c++14_down } }\n+  B b5 {c + 5};\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of \\[^\\n\\r]* from 'int' to 'short int' inside\" \"\" { target c++1z } .-1 }\n-  C c4 { ll };\t\t// { dg-error \"cannot convert 'long long int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  C c4 { ll };\t\t// { dg-error \"cannot convert 'long long int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of 'll' from 'long long int' to 'int' inside\" \"\" { target c++1z } .-1 }\n-  C c5 {short (c + 5)};\t// { dg-error \"cannot convert 'short int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  C c6 {c + 5};\t\t// { dg-error \"cannot convert 'int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  C c5 {short (c + 5)};\t// { dg-error \"cannot convert 'short int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  C c6 {c + 5};\t\t// { dg-error \"cannot convert 'int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n }\n \n struct U\n {\n-  U () : e { 5 } {}\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n-  U (int) : e { 5.0 } {}// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n+  U () : e { 5 } {}\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  U (int) : e { 5.0 } {}// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n   U (float) : e({ 6 }) {}// { dg-error \"list-initializer for non-class type must not be parenthesized\" }\n-\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target *-*-* } .-1 }\n+\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target *-*-* } .-1 }\n   E e;\n };\n \n struct W\n {\n-  A a { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" }\n-  B b { 6 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n-  C c { 3.0f };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C' in initialization\" \"\" { target c++14_down } }\n+  A a { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" }\n+  B b { 6 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n+  C c { 3.0f };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '3.0e.0f' from 'float' to 'int' inside\" \"\" { target c++1z } .-1 }\n-  D d = { 7 };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" }\n+  D d = { 7 };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" }\n };\n \n template <int N>\n void\n foo2 ()\n {\n-  A a1 { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" }\n-  B b1 { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  A a1 { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" }\n+  B b1 { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n   C c1 { s };\n-  D d1 { D(t) };\t// { dg-error \"invalid cast from type 'T' to type 'D'\" }\n-  D d2 { t };\t\t// { dg-error \"cannot convert 'T' to 'D' in initialization\" \"\" { target c++14_down } }\n+  D d1 { D(t) };\t// { dg-error \"invalid cast from type 'T' to type 'D {enum}'\" }\n+  D d2 { t };\t\t// { dg-error \"cannot convert 'T' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"invalid cast from type 'T' to type 'D'\" \"\" { target c++1z } .-1 }\n-  D d3 { 9 };\t\t// { dg-error \"cannot convert 'int' to 'D' in initialization\" \"\" { target c++14_down } }\n-  D d4 { l };\t\t// { dg-error \"cannot convert 'long int' to 'D' in initialization\" \"\" { target c++14_down } }\n+  D d3 { 9 };\t\t// { dg-error \"cannot convert 'int' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  D d4 { l };\t\t// { dg-error \"cannot convert 'long int' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n   D d5 { D(l) };\n-  D d6 { G };\t\t// { dg-error \"cannot convert 'A' to 'D' in initialization\" \"\" { target c++14_down } }\n-  E e1 { 5 };\t\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  E e2 { -1 };\t\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n+  D d6 { G };\t\t// { dg-error \"cannot convert 'A {enum}' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  E e1 { 5 };\t\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  E e2 { -1 };\t\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '-1' from 'int' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  E e3 { 5.0 };\t\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  E e3 { 5.0 };\t\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  E e4 { 5.2 };\t\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  E e4 { 5.2 };\t\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.\\[0-9]*e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  B b2 = { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" }\n-  C c2 = { C { 8 } };\t// { dg-error \"cannot convert 'int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  D *d7 = new D { 9 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target c++14_down } }\n-  E *e5 = new E { -4 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n+  B b2 = { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" }\n+  C c2 = { C { 8 } };\t// { dg-error \"cannot convert 'int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  D *d7 = new D { 9 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  E *e5 = new E { -4 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '-4' from 'int' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  bar ({ 10 });\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' for argument\" }\n-  bar (E { 9 });\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  V v1 = { { 11 } };\t// { dg-error \"braces around scalar initializer for type 'E'\" }\n-  V v2 = { E { 12 } };\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  V v3 = { E { 5.0 } };\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  bar ({ 10 });\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' for argument\" }\n+  bar (E { 9 });\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  V v1 = { { 11 } };\t// { dg-error \"braces around scalar initializer for type 'E {enum}'\" }\n+  V v2 = { E { 12 } };\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  V v3 = { E { 5.0 } };\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  V v4 = { 13 };\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" }\n-  if (B b3 { 5 })\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  V v4 = { 13 };\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" }\n+  if (B b3 { 5 })\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n     ;\n-  if (B b4 { 4.0 })\t// { dg-error \"cannot convert 'double' to 'B' in initialization\" \"\" { target c++14_down } }\n+  if (B b4 { 4.0 })\t// { dg-error \"cannot convert 'double' to 'B {enum}' in initialization\" \"\" { target c++14_down } }\n     ;\t\t\t// { dg-error \"narrowing conversion of '4.0e.0' from 'double' to 'short int' inside\" \"\" { target c++1z } .-1 }\n-  C c3 { 8L };\t\t// { dg-error \"cannot convert 'long int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  B b4 {short (c + 5)};\t// { dg-error \"invalid conversion from 'short int' to 'B'\" \"\" { target c++14_down } }\n-  B b5 {c + 5};\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  C c3 { 8L };\t\t// { dg-error \"cannot convert 'long int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  B b4 {short (c + 5)};\t// { dg-error \"invalid conversion from 'short int' to 'B {enum}'\" \"\" { target c++14_down } }\n+  B b5 {c + 5};\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of \\[^\\n\\r]* from 'int' to 'short int' inside\" \"\" { target c++1z } .-1 }\n-  C c4 { ll };\t\t// { dg-error \"cannot convert 'long long int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  C c4 { ll };\t\t// { dg-error \"cannot convert 'long long int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of 'll' from 'long long int' to 'int' inside\" \"\" { target c++1z } .-1 }\n-  C c5 {short (c + 5)};\t// { dg-error \"cannot convert 'short int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  C c6 {c + 5};\t\t// { dg-error \"cannot convert 'int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  C c5 {short (c + 5)};\t// { dg-error \"cannot convert 'short int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  C c6 {c + 5};\t\t// { dg-error \"cannot convert 'int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n }\n \n template <int N>\n struct U2\n {\n-  U2 () : e { 5 } {}\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n-  U2 (int) : e { 5.0 } {}// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n+  U2 () : e { 5 } {}\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  U2 (int) : e { 5.0 } {}// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n   U2 (float) : e({ 6 }) {}\n   E e;\n@@ -140,66 +140,66 @@ struct U2\n template <int N>\n struct W2\n {\n-  A a { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" \"\" { target *-*-* } .-2 }\n-  B b { 6 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } .-3 }\n-  C c { 3.0f };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C' in initialization\" \"\" { target c++14_down } .-4 }\n+  A a { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" \"\" { target *-*-* } .-2 }\n+  B b { 6 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } .-3 }\n+  C c { 3.0f };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C {enum}' in initialization\" \"\" { target c++14_down } .-4 }\n \t\t\t// { dg-error \"narrowing conversion of '3.0e.0f' from 'float' to 'int' inside\" \"\" { target c++1z } .-5 }\n-  D d = { 7 };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target *-*-* } .-6 }\n+  D d = { 7 };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target *-*-* } .-6 }\n };\n \n template <typename H, typename I, typename J, typename K, typename L, typename M>\n void\n foo3 ()\n {\n   void bar3 (L);\n-  H a1 { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" }\n-  I b1 { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  H a1 { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" }\n+  I b1 { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n   J c1 { s };\n-  K d1 { K(t) };\t// { dg-error \"invalid cast from type 'T' to type 'D'\" }\n-  K d2 { t };\t\t// { dg-error \"cannot convert 'T' to 'D' in initialization\" \"\" { target c++14_down } }\n-\t\t\t// { dg-error \"invalid cast from type 'T' to type 'D'\" \"\" { target c++1z } .-1 }\n-  K d3 { 9 };\t\t// { dg-error \"cannot convert 'int' to 'D' in initialization\" \"\" { target c++14_down } }\n-  K d4 { l };\t\t// { dg-error \"cannot convert 'long int' to 'D' in initialization\" \"\" { target c++14_down } }\n+  K d1 { K(t) };\t// { dg-error \"invalid cast from type 'T' to type 'D {enum}'\" }\n+  K d2 { t };\t\t// { dg-error \"cannot convert 'T' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+\t\t\t// { dg-error \"invalid cast from type 'T' to type 'D {enum}'\" \"\" { target c++1z } .-1 }\n+  K d3 { 9 };\t\t// { dg-error \"cannot convert 'int' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  K d4 { l };\t\t// { dg-error \"cannot convert 'long int' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n   K d5 { K(l) };\n-  K d6 { G };\t\t// { dg-error \"cannot convert 'A' to 'D' in initialization\" \"\" { target c++14_down } }\n-  L e1 { 5 };\t\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  L e2 { -1 };\t\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n+  K d6 { G };\t\t// { dg-error \"cannot convert 'A {enum}' to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  L e1 { 5 };\t\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  L e2 { -1 };\t\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '-1' from 'int' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  L e3 { 5.0 };\t\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  L e3 { 5.0 };\t\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  L e4 { 5.2 };\t\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  L e4 { 5.2 };\t\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.\\[0-9]*e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  I b2 = { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" }\n-  J c2 = { J { 8 } };\t// { dg-error \"cannot convert 'int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  K *d7 = new K { 9 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target c++14_down } }\n-  L *e5 = new L { -4 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n+  I b2 = { 7 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" }\n+  J c2 = { J { 8 } };\t// { dg-error \"cannot convert 'int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  K *d7 = new K { 9 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target c++14_down } }\n+  L *e5 = new L { -4 };\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '-4' from 'int' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  bar3 ({ 10 });\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' for argument\" }\n-  bar3 (E { 9 });\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  M v1 = { { 11 } };\t// { dg-error \"braces around scalar initializer for type 'E'\" }\n-  M v2 = { L { 12 } };\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" \"\" { target c++14_down } }\n-  M v3 = { L { 5.0 } };\t// { dg-error \"cannot convert 'double' to 'E' in initialization\" \"\" { target c++14_down } }\n+  bar3 ({ 10 });\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' for argument\" }\n+  bar3 (E { 9 });\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  M v1 = { { 11 } };\t// { dg-error \"braces around scalar initializer for type 'E {enum}'\" }\n+  M v2 = { L { 12 } };\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  M v3 = { L { 5.0 } };\t// { dg-error \"cannot convert 'double' to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n-  M v4 = { 13 };\t// { dg-error \"cannot convert 'int' to 'E' in initialization\" }\n-  if (I b3 { 5 })\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  M v4 = { 13 };\t// { dg-error \"cannot convert 'int' to 'E {enum}' in initialization\" }\n+  if (I b3 { 5 })\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n     ;\n-  if (I b4 { 4.0 })\t// { dg-error \"cannot convert 'double' to 'B' in initialization\" \"\" { target c++14_down } }\n+  if (I b4 { 4.0 })\t// { dg-error \"cannot convert 'double' to 'B {enum}' in initialization\" \"\" { target c++14_down } }\n     ;\t\t\t// { dg-error \"narrowing conversion of '4.0e.0' from 'double' to 'short int' inside\" \"\" { target c++1z } .-1 }\n-  J c3 { 8L };\t\t// { dg-error \"cannot convert 'long int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  I b4 {short (c + 5)};\t// { dg-error \"invalid conversion from 'short int' to 'B'\" \"\" { target c++14_down } }\n-  I b5 {c + 5};\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } }\n+  J c3 { 8L };\t\t// { dg-error \"cannot convert 'long int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  I b4 {short (c + 5)};\t// { dg-error \"invalid conversion from 'short int' to 'B {enum}'\" \"\" { target c++14_down } }\n+  I b5 {c + 5};\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of \\[^\\n\\r]* from 'int' to 'short int' inside\" \"\" { target c++1z } .-1 }\n-  J c4 { ll };\t\t// { dg-error \"cannot convert 'long long int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  J c4 { ll };\t\t// { dg-error \"cannot convert 'long long int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of 'll' from 'long long int' to 'int' inside\" \"\" { target c++1z } .-1 }\n-  J c5 {short (c + 5)};\t// { dg-error \"cannot convert 'short int' to 'C' in initialization\" \"\" { target c++14_down } }\n-  J c6 {c + 5};\t\t// { dg-error \"cannot convert 'int' to 'C' in initialization\" \"\" { target c++14_down } }\n+  J c5 {short (c + 5)};\t// { dg-error \"cannot convert 'short int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n+  J c6 {c + 5};\t\t// { dg-error \"cannot convert 'int' to 'C {enum}' in initialization\" \"\" { target c++14_down } }\n }\n \n template <typename L>\n struct U3\n {\n-  U3 () : e { 5 } {}\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n-  U3 (int) : e { 5.0 } {}// { dg-error \"cannot convert \\[^\\n\\r]* to 'E' in initialization\" \"\" { target c++14_down } }\n+  U3 () : e { 5 } {}\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n+  U3 (int) : e { 5.0 } {}// { dg-error \"cannot convert \\[^\\n\\r]* to 'E {enum}' in initialization\" \"\" { target c++14_down } }\n \t\t\t// { dg-error \"narrowing conversion of '5.0e.0' from 'double' to 'unsigned char' inside\" \"\" { target c++1z } .-1 }\n   U3 (float) : e({ 6 }) {}\n   L e;\n@@ -208,11 +208,11 @@ struct U3\n template <typename H, typename I, typename J, typename K>\n struct W3\n {\n-  H a { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" \"\" { target *-*-* } .-2 }\n-  I b { 6 };\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } .-3 }\n-  J c { 3.0f };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C' in initialization\" \"\" { target c++14_down } .-4 }\n+  H a { 5 };\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" \"\" { target *-*-* } .-2 }\n+  I b { 6 };\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } .-3 }\n+  J c { 3.0f };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C {enum}' in initialization\" \"\" { target c++14_down } .-4 }\n \t\t\t// { dg-error \"narrowing conversion of '3.0e.0f' from 'float' to 'int' inside\" \"\" { target c++1z } .-5 }\n-  K d = { 7 };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target *-*-* } .-6 }\n+  K d = { 7 };\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target *-*-* } .-6 }\n };\n \n void\n@@ -221,17 +221,17 @@ test ()\n   foo2<0> ();\n   U2<0> u20;\n   U2<1> u21 (5);\n-  W2<0> w2;\t\t// { dg-error \"invalid conversion from 'int' to 'A'\" }\n-\t\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } .-1 }\n-\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C' in initialization\" \"\" { target c++14_down } .-2 }\n+  W2<0> w2;\t\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" }\n+\t\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } .-1 }\n+\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C {enum}' in initialization\" \"\" { target c++14_down } .-2 }\n \t\t\t// { dg-error \"narrowing conversion of '3.0e.0f' from 'float' to 'int' inside\" \"\" { target c++1z } .-3 }\n-\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target *-*-* } .-4 }\n+\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target *-*-* } .-4 }\n   foo3<A, B, C, D, E, V> ();\n   U3<E> u30;\n   U3<E> u31 (5);\n-  W3<A, B, C, D> w3;\t// { dg-error \"invalid conversion from 'int' to 'A'\" }\n-\t\t\t// { dg-error \"invalid conversion from 'int' to 'B'\" \"\" { target c++14_down } .-1 }\n-\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C' in initialization\" \"\" { target c++14_down } .-2 }\n+  W3<A, B, C, D> w3;\t// { dg-error \"invalid conversion from 'int' to 'A {enum}'\" }\n+\t\t\t// { dg-error \"invalid conversion from 'int' to 'B {enum}'\" \"\" { target c++14_down } .-1 }\n+\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'C {enum}' in initialization\" \"\" { target c++14_down } .-2 }\n \t\t\t// { dg-error \"narrowing conversion of '3.0e.0f' from 'float' to 'int' inside\" \"\" { target c++1z } .-3 }\n-\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D' in initialization\" \"\" { target *-*-* } .-4 }\n+\t\t\t// { dg-error \"cannot convert \\[^\\n\\r]* to 'D {enum}' in initialization\" \"\" { target *-*-* } .-4 }\n }"}, {"sha": "e1cd780d170ee826ebe2d3086ecddb9fa195991d", "filename": "gcc/testsuite/g++.dg/warn/pr12242.C", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpr12242.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8211c4a299da94f1d8c16d176064cbfb5518a630/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpr12242.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpr12242.C?ref=8211c4a299da94f1d8c16d176064cbfb5518a630", "patch": "@@ -10,14 +10,14 @@ void example ()\n   X x;\n   Y y;\n   \n-  x = 10;  // { dg-warning \"invalid conversion from .int. to .X.\" \"invalid\" }\n+  x = 10;  // { dg-warning \"invalid conversion from .int. to .X {enum}.\" \"invalid\" }\n            // { dg-warning \"unspecified\" \"unspecified\" { target *-*-* } .-1 }\n-  x = 1;   // { dg-warning \"invalid conversion from .int. to .X.\" }\n-  x = C;   // { dg-error \"cannot convert .Y. to .X. in assignment\" }  \n-  x = D;   // { dg-error \"cannot convert .Y. to .X. in assignment\" }  \n-  y = A;   // { dg-error \"cannot convert .X. to .Y. in assignment\" }  \n-  x = y;   // { dg-error \"cannot convert .Y. to .X. in assignment\" }  \n-  x = i;   // { dg-warning \"invalid conversion from .int. to .X.\"  }\n+  x = 1;   // { dg-warning \"invalid conversion from .int. to .X {enum}.\" }\n+  x = C;   // { dg-error \"cannot convert .Y {enum}. to .X {enum}. in assignment\" }  \n+  x = D;   // { dg-error \"cannot convert .Y {enum}. to .X {enum}. in assignment\" }  \n+  y = A;   // { dg-error \"cannot convert .X {enum}. to .Y {enum}. in assignment\" }  \n+  x = y;   // { dg-error \"cannot convert .Y {enum}. to .X {enum}. in assignment\" }  \n+  x = i;   // { dg-warning \"invalid conversion from .int. to .X {enum}.\"  }\n }\n \n void foo () "}]}