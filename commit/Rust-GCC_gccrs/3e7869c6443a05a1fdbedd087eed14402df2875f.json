{"sha": "3e7869c6443a05a1fdbedd087eed14402df2875f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2U3ODY5YzY0NDNhMDVhMWZkYmVkZDA4N2VlZDE0NDAyZGYyODc1Zg==", "commit": {"author": {"name": "David Mosberger", "email": "davidm@hpl.hp.com", "date": "2003-11-20T22:53:02Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2003-11-20T22:53:02Z"}, "message": "Patch from David Mosberger\n\t* config/t-libunwind: Mention unwind-c.c.\n\t(SHLIB_LC): Overwrite the default-value from t-slibgcc-elf-ver\n\tand mention -lunwind so that the resulting libgcc_s.so has\n\tthe necessary DT_NEEDED entry for libunwind.\n\t* unwind-libunwind.c (_Unwind_GetCFA): Implement.\n\t(_Unwind_GetBSP) [UNW_TARGET_IA64]: New function.\n\nFrom-SVN: r73777", "tree": {"sha": "0b2f2a1d3b8d58631f3565571f4188a1240462df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b2f2a1d3b8d58631f3565571f4188a1240462df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e7869c6443a05a1fdbedd087eed14402df2875f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e7869c6443a05a1fdbedd087eed14402df2875f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e7869c6443a05a1fdbedd087eed14402df2875f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e7869c6443a05a1fdbedd087eed14402df2875f/comments", "author": null, "committer": null, "parents": [{"sha": "146a1ecb877611526fcd141a6efc1e290e13e412", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/146a1ecb877611526fcd141a6efc1e290e13e412", "html_url": "https://github.com/Rust-GCC/gccrs/commit/146a1ecb877611526fcd141a6efc1e290e13e412"}], "stats": {"total": 35, "additions": 31, "deletions": 4}, "files": [{"sha": "c9bea389ef51a6b046b35e925062a75a2b7d9fd3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e7869c6443a05a1fdbedd087eed14402df2875f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e7869c6443a05a1fdbedd087eed14402df2875f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3e7869c6443a05a1fdbedd087eed14402df2875f", "patch": "@@ -1,3 +1,13 @@\n+2003-11-20 David Mosberger  <davidm@hpl.hp.com>\n+\n+\t* config/t-libunwind: Mention unwind-c.c.\n+\t(SHLIB_LC): Overwrite the default-value from t-slibgcc-elf-ver\n+\tand mention -lunwind so that the resulting libgcc_s.so has\n+\tthe necessary DT_NEEDED entry for libunwind.\n+\n+\t* unwind-libunwind.c (_Unwind_GetCFA): Implement.\n+\t(_Unwind_GetBSP) [UNW_TARGET_IA64]: New function.\n+\n 2003-11-20  Fariborz Jahanian  <fjahanian@apple.com>\n \t    David Edelsohn  <edelsohn@gnu.org>\n "}, {"sha": "a27c5e224f11d4fdbd3aec3109580ec3812f5518", "filename": "gcc/config/t-libunwind", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e7869c6443a05a1fdbedd087eed14402df2875f/gcc%2Fconfig%2Ft-libunwind", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e7869c6443a05a1fdbedd087eed14402df2875f/gcc%2Fconfig%2Ft-libunwind", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-libunwind?ref=3e7869c6443a05a1fdbedd087eed14402df2875f", "patch": "@@ -1 +1,3 @@\n-LIB2ADDEH = $(srcdir)/unwind-libunwind.c $(srcdir)/unwind-sjlj.c\n+SHLIB_LC = -lunwind -lc\n+LIB2ADDEH = $(srcdir)/unwind-libunwind.c $(srcdir)/unwind-sjlj.c \\\n+\t    $(srcdir)/unwind-c.c"}, {"sha": "89e841759cf9013309f77e437c5bb290a62971ca", "filename": "gcc/unwind-libunwind.c", "status": "modified", "additions": 18, "deletions": 3, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e7869c6443a05a1fdbedd087eed14402df2875f/gcc%2Funwind-libunwind.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e7869c6443a05a1fdbedd087eed14402df2875f/gcc%2Funwind-libunwind.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-libunwind.c?ref=3e7869c6443a05a1fdbedd087eed14402df2875f", "patch": "@@ -110,9 +110,11 @@ _Unwind_GetGR (struct _Unwind_Context *context, int index)\n _Unwind_Word\n _Unwind_GetCFA (struct _Unwind_Context *context)\n {\n-  /* ??? Is there any way to get this information?  */\n-  return NULL;\n-} \n+  unw_word_t ret;\n+\n+  unw_get_reg (&context->cursor, UNW_IA64_SP, &ret);\n+  return ret;\n+}\n \n /* Overwrite the saved value for register REG in CONTEXT with VAL.  */\n \n@@ -167,6 +169,19 @@ _Unwind_FindEnclosingFunction (void *pc)\n   return NULL;\n }\n \n+#ifdef UNW_TARGET_IA64\n+\n+_Unwind_Word\n+_Unwind_GetBSP (struct _Unwind_Context *context)\n+{\n+  unw_word_t ret;\n+\n+  unw_get_reg (&context->cursor, UNW_IA64_BSP, &ret);\n+  return ret;\n+}\n+\n+#endif\n+\n #include \"unwind.inc\"\n \n #endif /* !__USING_SJLJ_EXCEPTIONS__ */"}]}