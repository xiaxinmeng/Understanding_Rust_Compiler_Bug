{"sha": "6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjMzNGYzZTk5YjBlMjRjZGRkZjZkYzZjNzJjNGNlOTcwNzkxYzFhZg==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2014-01-31T23:56:46Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2014-01-31T23:56:46Z"}, "message": "re PR bootstrap/59985 (stage2/3 compare error on lto-streamer-in.o)\n\n2014-01-31  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR bootstrap/59985\n\t* lra-constraints.c (process_alt_operands): Update reload_sum only\n\ton the first pass.\n\n2014-01-31  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR bootstrap/59985\n\t* gcc.target/arm/pr59985.C: New.\n\nFrom-SVN: r207375", "tree": {"sha": "5e5480a634f05c28a3cab0845eb268ed9a4f6156", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5e5480a634f05c28a3cab0845eb268ed9a4f6156"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "eecd8b7c00ff2770b9899cb9c9de1addebdb6415", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eecd8b7c00ff2770b9899cb9c9de1addebdb6415", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eecd8b7c00ff2770b9899cb9c9de1addebdb6415"}], "stats": {"total": 85, "additions": 84, "deletions": 1}, "files": [{"sha": "32eb882f40ecd5c78f9be32d9f1f28ef9cb2ed8d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "patch": "@@ -1,3 +1,9 @@\n+2014-01-31  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR bootstrap/59985\n+\t* lra-constraints.c (process_alt_operands): Update reload_sum only\n+\ton the first pass.\n+\n 2014-01-31  Richard Henderson  <rth@redhat.com>\n \n \tPR middle-end/60004"}, {"sha": "ada1baf885c344f9706189ec87d905ce2ac31dc5", "filename": "gcc/lra-constraints.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2Flra-constraints.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2Flra-constraints.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra-constraints.c?ref=6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "patch": "@@ -2178,7 +2178,11 @@ process_alt_operands (int only_alternative)\n \t\t\t\t\t\t  (operand_reg[nop])]\n \t\t\t\t     .last_reload);\n \n-\t\t  if (last_reload > bb_reload_num)\n+\t\t  /* The value of reload_sum has sense only if we\n+\t\t     process insns in their order.  It happens only on\n+\t\t     the first constraints sub-pass when we do most of\n+\t\t     reload work.  */\n+\t\t  if (lra_constraint_iter == 1 && last_reload > bb_reload_num)\n \t\t    reload_sum += last_reload - bb_reload_num;\n \t\t}\n \t      /* If this is a constant that is reloaded into the"}, {"sha": "b1a657aea92e9cc74c202d037da72b49269bf1dd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "patch": "@@ -1,3 +1,8 @@\n+2014-01-31  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR bootstrap/59985\n+\t* gcc.target/arm/pr59985.C: New.\n+\n 2014-01-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR sanitizer/59410"}, {"sha": "cc688a96533a2c2a40e970984628d2b3f32dfeda", "filename": "gcc/testsuite/gcc.target/arm/pr59985.C", "status": "added", "additions": 68, "deletions": 0, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr59985.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6334f3e99b0e24cdddf6dc6c72c4ce970791c1af/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr59985.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr59985.C?ref=6334f3e99b0e24cdddf6dc6c72c4ce970791c1af", "patch": "@@ -0,0 +1,68 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-g -fcompare-debug -O2 -march=armv7-a -mtune=cortex-a9 -mfpu=vfpv3-d16 -mfloat-abi=hard\" } */\n+\n+extern void *f1 (unsigned long, unsigned long);\n+extern const struct line_map *f2 (void *, int, unsigned int, const char *, unsigned int);\n+extern unsigned int f3 (void *, unsigned int);\n+extern void *v1;\n+struct B { const char *s; int t; };\n+struct C { unsigned u; unsigned long long v; void *w; };\n+unsigned long long f4 (struct C *);\n+const char *f5 (void *, unsigned int, unsigned int *);\n+unsigned long long f6 (void *);\n+\n+static inline unsigned long long\n+f7 (struct C *x, unsigned y)\n+{\n+  unsigned long long a, b;\n+  int u = x->u;\n+  a = y == 64 ? -1ULL : (1ULL << y) - 1;\n+  if (u + y > 64)\n+    {\n+      f6 (x->w);\n+      x->u = y;\n+      return b & a;\n+    }\n+  b = x->v;\n+  b >>= u;\n+  x->u = u + y;\n+  return b & a;\n+}\n+\n+static const char *\n+f8 (const char *x)\n+{\n+  B **a;\n+  unsigned long t = __builtin_strlen (x);\n+  char *b;\n+  struct B *c;\n+  b = (char *) f1 (t + 1, 1);\n+  c = (struct B *) f1 (1, sizeof (struct B));\n+  __builtin_memcpy (b, x, t + 1);\n+  c->t = t;\n+  struct B *d = *a;\n+  return d->s;\n+}\n+\n+unsigned int\n+f9 (struct C *x, void *y)\n+{\n+  static const char *a;\n+  static int b;\n+  static int c;\n+  bool d, e, f;\n+  unsigned t;\n+  bool prev_file = a != __null;\n+  if (f7 (x, 1))\n+    return ((unsigned int) 0);\n+  d = f7 (x, 1);\n+  e = f7 (x, 1);\n+  f = f7 (x, 1);\n+  a = f8 (f5 (y, f4 (x), &t));\n+  if (e) b = f4 (x);\n+  if (f)\n+    if (d)\n+      if (prev_file)\n+        f2 (v1, 1, false, __null, 0);\n+  return f3 (v1, c);\n+}"}]}