{"sha": "1ffe6573a9fc8c9de27d6372cd506533599fc55e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZmZTY1NzNhOWZjOGM5ZGUyN2Q2MzcyY2Q1MDY1MzM1OTlmYzU1ZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-12-22T20:52:55Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-12-22T20:52:55Z"}, "message": "re PR c++/12397 (two-stage name lookup argument shadowed by global type)\n\n\tPR c++/12397\n\t* typeck.c (finish_class_member_access_expr): Don't tree\n\tIDENTIFIER_NODEs as non-dependent expressions.\n\n\tPR c++/12397\n\t* g++.dg/template/lookup3.C: New test.\n\nFrom-SVN: r74949", "tree": {"sha": "2b4a607757aed1c1da46baad13def1adc74f330f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b4a607757aed1c1da46baad13def1adc74f330f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ffe6573a9fc8c9de27d6372cd506533599fc55e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ffe6573a9fc8c9de27d6372cd506533599fc55e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ffe6573a9fc8c9de27d6372cd506533599fc55e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ffe6573a9fc8c9de27d6372cd506533599fc55e/comments", "author": null, "committer": null, "parents": [{"sha": "a6444561cb21197a38277a144672cace471b6cf6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6444561cb21197a38277a144672cace471b6cf6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6444561cb21197a38277a144672cace471b6cf6"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "4e4864fd24ad329d018129fe4c1abe7fc7c0ab1b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1ffe6573a9fc8c9de27d6372cd506533599fc55e", "patch": "@@ -1,3 +1,9 @@\n+2003-12-22  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/12397\n+\t* typeck.c (finish_class_member_access_expr): Don't tree\n+\tIDENTIFIER_NODEs as non-dependent expressions.\n+\n 2003-12-22  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR c++/5050"}, {"sha": "3cdfdc297d8404afd31429f0bc6b04f475372a67", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=1ffe6573a9fc8c9de27d6372cd506533599fc55e", "patch": "@@ -1809,6 +1809,9 @@ finish_class_member_access_expr (tree object, tree name)\n     {\n       if (/* If OBJECT_TYPE is dependent, so is OBJECT.NAME.  */\n \t  dependent_type_p (object_type)\n+\t  /* If NAME is just an IDENTIFIER_NODE, then the expression\n+\t     is dependent.  */\n+\t  || TREE_CODE (object) == IDENTIFIER_NODE\n \t  /* If NAME is \"f<args>\", where either 'f' or 'args' is\n \t     dependent, then the expression is dependent.  */\n \t  || (TREE_CODE (name) == TEMPLATE_ID_EXPR"}, {"sha": "f3765698ea9a0f160b391419120d54ac8fe151e3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1ffe6573a9fc8c9de27d6372cd506533599fc55e", "patch": "@@ -1,3 +1,8 @@\n+2003-12-22  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/12397\n+\t* g++.dg/template/lookup3.C: New test.\n+\n 2003-12-22  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \t* g++.dg/template/recurse1.C: New test"}, {"sha": "c96a0b0b981a938bd99bd6371407e21b530ebdbb", "filename": "gcc/testsuite/g++.dg/template/lookup3.C", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Flookup3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe6573a9fc8c9de27d6372cd506533599fc55e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Flookup3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Flookup3.C?ref=1ffe6573a9fc8c9de27d6372cd506533599fc55e", "patch": "@@ -0,0 +1,16 @@\n+// PR c++/12397\n+\n+struct foo { }; \n+ \n+template <typename T> struct bar \n+{ \n+  bar(){} \n+  int i; \n+  bar (const bar<T>& foo) : i (foo.i) {} \n+}; \n+ \n+int main() \n+{ \n+  bar<int> b1; \n+  bar<int> b2(b1); \n+} "}]}