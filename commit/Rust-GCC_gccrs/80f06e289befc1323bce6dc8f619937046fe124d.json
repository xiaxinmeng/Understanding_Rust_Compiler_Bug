{"sha": "80f06e289befc1323bce6dc8f619937046fe124d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBmMDZlMjg5YmVmYzEzMjNiY2U2ZGM4ZjYxOTkzNzA0NmZlMTI0ZA==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2006-07-06T16:00:57Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2006-07-06T16:00:57Z"}, "message": "configure.ac (ac_configure_args): Add --with-native-libdir.\n\n2006-07-06  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\t* configure.ac (ac_configure_args): Add --with-native-libdir.\n\t* configure: Regenerate.\n\t* classpath/native/jni/gtk-peer/Makefile.am: Remove GCJ LOCAL\n\tsections.\n\t* classpath/native/jni/gtk-peer/Makefile.in: Regenerate.\n\t* classpath/native/jawt/Makefile.am: Remove GCJ LOCAL sections.\n\t* classpath/native/jawt/Makefile.in: Regenerate.\n\t* classpath/native/plugin/Makefile.am: Remove GCJ LOCAL sections.\n\t* classpath/native/plugin/Makefile.in: Regenerate.\n\nFrom-SVN: r115223", "tree": {"sha": "71df9c3ed0af2a0c6defe4be1be1b468cad4162c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71df9c3ed0af2a0c6defe4be1be1b468cad4162c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80f06e289befc1323bce6dc8f619937046fe124d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80f06e289befc1323bce6dc8f619937046fe124d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80f06e289befc1323bce6dc8f619937046fe124d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80f06e289befc1323bce6dc8f619937046fe124d/comments", "author": null, "committer": null, "parents": [{"sha": "303c8bfdb275a5074f298ddd2c7545f05ca01d36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/303c8bfdb275a5074f298ddd2c7545f05ca01d36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/303c8bfdb275a5074f298ddd2c7545f05ca01d36"}], "stats": {"total": 279, "additions": 132, "deletions": 147}, "files": [{"sha": "0c9d0c2016aa1e25e8e1a19ec6d7512775160101", "filename": "libjava/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -1,3 +1,15 @@\n+2006-07-06  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\t* configure.ac (ac_configure_args): Add --with-native-libdir.\n+\t* configure: Regenerate.\n+\t* classpath/native/jni/gtk-peer/Makefile.am: Remove GCJ LOCAL\n+\tsections.\n+\t* classpath/native/jni/gtk-peer/Makefile.in: Regenerate.\n+\t* classpath/native/jawt/Makefile.am: Remove GCJ LOCAL sections.\n+\t* classpath/native/jawt/Makefile.in: Regenerate.\n+\t* classpath/native/plugin/Makefile.am: Remove GCJ LOCAL sections.\n+\t* classpath/native/plugin/Makefile.in: Regenerate.\n+\n 2006-07-05  Ranjit Mathew  <rmathew@gcc.gnu.org>\n             Danny Smith  <dannysmith@users.sourceforge.net>\n "}, {"sha": "01abf3bb9345719d24719e909b022599df036a7e", "filename": "libjava/classpath/native/jawt/Makefile.am", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.am?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -1,16 +1,8 @@\n-## GCJ LOCAL: install this library in GCJ's versioned library\n-## directory\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libjawt.la\n+nativeexeclib_LTLIBRARIES = libjawt.la\n \n libjawt_la_SOURCES = jawt.c\n libjawt_la_LIBADD = $(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n \n-## GCJ LOCAL: encode the library path and  use GCJ's library version\n-libjawt_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n-\n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @PANGOFT2_LIBS@ @X_LIBS@ @XTEST_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n "}, {"sha": "683bbb9dea53aa79cb8867e0cdf4e9d5d772f150", "filename": "libjava/classpath/native/jawt/Makefile.in", "status": "modified", "additions": 31, "deletions": 37, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -58,9 +58,9 @@ am__vpath_adj = case $$p in \\\n     *) f=$$p;; \\\n   esac;\n am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;\n-am__installdirs = \"$(DESTDIR)$(gcjversionedlibdir)\"\n-gcjversionedlibLTLIBRARIES_INSTALL = $(INSTALL)\n-LTLIBRARIES = $(gcjversionedlib_LTLIBRARIES)\n+am__installdirs = \"$(DESTDIR)$(nativeexeclibdir)\"\n+nativeexeclibLTLIBRARIES_INSTALL = $(INSTALL)\n+LTLIBRARIES = $(nativeexeclib_LTLIBRARIES)\n libjawt_la_DEPENDENCIES =  \\\n \t$(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n am_libjawt_la_OBJECTS = jawt.lo\n@@ -295,14 +295,9 @@ target_cpu = @target_cpu@\n target_os = @target_os@\n target_vendor = @target_vendor@\n vm_classes = @vm_classes@\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libjawt.la\n+nativeexeclib_LTLIBRARIES = libjawt.la\n libjawt_la_SOURCES = jawt.c\n libjawt_la_LIBADD = $(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n-libjawt_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n-\n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @PANGOFT2_LIBS@ @X_LIBS@ @XTEST_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n \n@@ -344,35 +339,35 @@ $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n-install-gcjversionedlibLTLIBRARIES: $(gcjversionedlib_LTLIBRARIES)\n+install-nativeexeclibLTLIBRARIES: $(nativeexeclib_LTLIBRARIES)\n \t@$(NORMAL_INSTALL)\n-\ttest -z \"$(gcjversionedlibdir)\" || $(mkdir_p) \"$(DESTDIR)$(gcjversionedlibdir)\"\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\ttest -z \"$(nativeexeclibdir)\" || $(mkdir_p) \"$(DESTDIR)$(nativeexeclibdir)\"\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  if test -f $$p; then \\\n \t    f=$(am__strip_dir) \\\n-\t    echo \" $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(gcjversionedlibdir)/$$f'\"; \\\n-\t    $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(gcjversionedlibdir)/$$f\"; \\\n+\t    echo \" $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(nativeexeclibdir)/$$f'\"; \\\n+\t    $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(nativeexeclibdir)/$$f\"; \\\n \t  else :; fi; \\\n \tdone\n \n-uninstall-gcjversionedlibLTLIBRARIES:\n+uninstall-nativeexeclibLTLIBRARIES:\n \t@$(NORMAL_UNINSTALL)\n-\t@set -x; list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\t@set -x; list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  p=$(am__strip_dir) \\\n-\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(gcjversionedlibdir)/$$p'\"; \\\n-\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(gcjversionedlibdir)/$$p\"; \\\n+\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(nativeexeclibdir)/$$p'\"; \\\n+\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(nativeexeclibdir)/$$p\"; \\\n \tdone\n \n-clean-gcjversionedlibLTLIBRARIES:\n-\t-test -z \"$(gcjversionedlib_LTLIBRARIES)\" || rm -f $(gcjversionedlib_LTLIBRARIES)\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+clean-nativeexeclibLTLIBRARIES:\n+\t-test -z \"$(nativeexeclib_LTLIBRARIES)\" || rm -f $(nativeexeclib_LTLIBRARIES)\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  dir=\"`echo $$p | sed -e 's|/[^/]*$$||'`\"; \\\n \t  test \"$$dir\" != \"$$p\" || dir=.; \\\n \t  echo \"rm -f \\\"$${dir}/so_locations\\\"\"; \\\n \t  rm -f \"$${dir}/so_locations\"; \\\n \tdone\n libjawt.la: $(libjawt_la_OBJECTS) $(libjawt_la_DEPENDENCIES) \n-\t$(LINK) -rpath $(gcjversionedlibdir) $(libjawt_la_LDFLAGS) $(libjawt_la_OBJECTS) $(libjawt_la_LIBADD) $(LIBS)\n+\t$(LINK) -rpath $(nativeexeclibdir) $(libjawt_la_LDFLAGS) $(libjawt_la_OBJECTS) $(libjawt_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n@@ -492,7 +487,7 @@ check-am: all-am\n check: check-am\n all-am: Makefile $(LTLIBRARIES)\n installdirs:\n-\tfor dir in \"$(DESTDIR)$(gcjversionedlibdir)\"; do \\\n+\tfor dir in \"$(DESTDIR)$(nativeexeclibdir)\"; do \\\n \t  test -z \"$$dir\" || $(mkdir_p) \"$$dir\"; \\\n \tdone\n install: install-am\n@@ -521,7 +516,7 @@ maintainer-clean-generic:\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n clean: clean-am\n \n-clean-am: clean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n+clean-am: clean-generic clean-libtool clean-nativeexeclibLTLIBRARIES \\\n \tmostlyclean-am\n \n distclean: distclean-am\n@@ -540,9 +535,9 @@ info: info-am\n \n info-am:\n \n-install-data-am: install-gcjversionedlibLTLIBRARIES\n+install-data-am:\n \n-install-exec-am:\n+install-exec-am: install-nativeexeclibLTLIBRARIES\n \n install-info: install-info-am\n \n@@ -568,21 +563,20 @@ ps: ps-am\n \n ps-am:\n \n-uninstall-am: uninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+uninstall-am: uninstall-info-am uninstall-nativeexeclibLTLIBRARIES\n \n-.PHONY: CTAGS GTAGS all all-am check check-am clean \\\n-\tclean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n-\tctags distclean distclean-compile distclean-generic \\\n-\tdistclean-libtool distclean-tags distdir dvi dvi-am html \\\n-\thtml-am info info-am install install-am install-data \\\n-\tinstall-data-am install-exec install-exec-am \\\n-\tinstall-gcjversionedlibLTLIBRARIES install-info \\\n-\tinstall-info-am install-man install-strip installcheck \\\n+.PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \\\n+\tclean-libtool clean-nativeexeclibLTLIBRARIES ctags distclean \\\n+\tdistclean-compile distclean-generic distclean-libtool \\\n+\tdistclean-tags distdir dvi dvi-am html html-am info info-am \\\n+\tinstall install-am install-data install-data-am install-exec \\\n+\tinstall-exec-am install-info install-info-am install-man \\\n+\tinstall-nativeexeclibLTLIBRARIES install-strip installcheck \\\n \tinstallcheck-am installdirs maintainer-clean \\\n \tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n \tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n-\ttags uninstall uninstall-am \\\n-\tuninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+\ttags uninstall uninstall-am uninstall-info-am \\\n+\tuninstall-nativeexeclibLTLIBRARIES\n \n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded."}, {"sha": "8a39f34fe204031492a106f29e5f9d3d557d1c19", "filename": "libjava/classpath/native/jni/gtk-peer/Makefile.am", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.am?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -1,8 +1,4 @@\n-## GCJ LOCAL: install this library in GCJ's versioned library\n-## directory\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libgtkpeer.la\n+nativeexeclib_LTLIBRARIES = libgtkpeer.la\n \n # GTK JNI sources.\n libgtkpeer_la_SOURCES = gnu_java_awt_peer_gtk_CairoSurface.c \\\n@@ -54,10 +50,6 @@ libgtkpeer_la_SOURCES = gnu_java_awt_peer_gtk_CairoSurface.c \\\n \t\t\tgtk_jawt.c \\\n \t\t\tgtkpeer.h\n \n-## GCJ LOCAL: encode the library path and  use GCJ's library version\n-libgtkpeer_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n-\n libgtkpeer_la_LIBADD = $(top_builddir)/native/jni/classpath/native_state.lo \\\n \t\t       $(top_builddir)/native/jni/classpath/jcl.lo\n "}, {"sha": "d63be469367d89f2551e3dfbc1dda9c475a44572", "filename": "libjava/classpath/native/jni/gtk-peer/Makefile.in", "status": "modified", "additions": 31, "deletions": 37, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.in?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -58,9 +58,9 @@ am__vpath_adj = case $$p in \\\n     *) f=$$p;; \\\n   esac;\n am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;\n-am__installdirs = \"$(DESTDIR)$(gcjversionedlibdir)\"\n-gcjversionedlibLTLIBRARIES_INSTALL = $(INSTALL)\n-LTLIBRARIES = $(gcjversionedlib_LTLIBRARIES)\n+am__installdirs = \"$(DESTDIR)$(nativeexeclibdir)\"\n+nativeexeclibLTLIBRARIES_INSTALL = $(INSTALL)\n+LTLIBRARIES = $(nativeexeclib_LTLIBRARIES)\n libgtkpeer_la_DEPENDENCIES =  \\\n \t$(top_builddir)/native/jni/classpath/native_state.lo \\\n \t$(top_builddir)/native/jni/classpath/jcl.lo\n@@ -337,9 +337,7 @@ target_cpu = @target_cpu@\n target_os = @target_os@\n target_vendor = @target_vendor@\n vm_classes = @vm_classes@\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libgtkpeer.la\n+nativeexeclib_LTLIBRARIES = libgtkpeer.la\n \n # GTK JNI sources.\n libgtkpeer_la_SOURCES = gnu_java_awt_peer_gtk_CairoSurface.c \\\n@@ -391,9 +389,6 @@ libgtkpeer_la_SOURCES = gnu_java_awt_peer_gtk_CairoSurface.c \\\n \t\t\tgtk_jawt.c \\\n \t\t\tgtkpeer.h\n \n-libgtkpeer_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n-\n libgtkpeer_la_LIBADD = $(top_builddir)/native/jni/classpath/native_state.lo \\\n \t\t       $(top_builddir)/native/jni/classpath/jcl.lo\n \n@@ -441,35 +436,35 @@ $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n-install-gcjversionedlibLTLIBRARIES: $(gcjversionedlib_LTLIBRARIES)\n+install-nativeexeclibLTLIBRARIES: $(nativeexeclib_LTLIBRARIES)\n \t@$(NORMAL_INSTALL)\n-\ttest -z \"$(gcjversionedlibdir)\" || $(mkdir_p) \"$(DESTDIR)$(gcjversionedlibdir)\"\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\ttest -z \"$(nativeexeclibdir)\" || $(mkdir_p) \"$(DESTDIR)$(nativeexeclibdir)\"\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  if test -f $$p; then \\\n \t    f=$(am__strip_dir) \\\n-\t    echo \" $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(gcjversionedlibdir)/$$f'\"; \\\n-\t    $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(gcjversionedlibdir)/$$f\"; \\\n+\t    echo \" $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(nativeexeclibdir)/$$f'\"; \\\n+\t    $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(nativeexeclibdir)/$$f\"; \\\n \t  else :; fi; \\\n \tdone\n \n-uninstall-gcjversionedlibLTLIBRARIES:\n+uninstall-nativeexeclibLTLIBRARIES:\n \t@$(NORMAL_UNINSTALL)\n-\t@set -x; list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\t@set -x; list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  p=$(am__strip_dir) \\\n-\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(gcjversionedlibdir)/$$p'\"; \\\n-\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(gcjversionedlibdir)/$$p\"; \\\n+\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(nativeexeclibdir)/$$p'\"; \\\n+\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(nativeexeclibdir)/$$p\"; \\\n \tdone\n \n-clean-gcjversionedlibLTLIBRARIES:\n-\t-test -z \"$(gcjversionedlib_LTLIBRARIES)\" || rm -f $(gcjversionedlib_LTLIBRARIES)\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+clean-nativeexeclibLTLIBRARIES:\n+\t-test -z \"$(nativeexeclib_LTLIBRARIES)\" || rm -f $(nativeexeclib_LTLIBRARIES)\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  dir=\"`echo $$p | sed -e 's|/[^/]*$$||'`\"; \\\n \t  test \"$$dir\" != \"$$p\" || dir=.; \\\n \t  echo \"rm -f \\\"$${dir}/so_locations\\\"\"; \\\n \t  rm -f \"$${dir}/so_locations\"; \\\n \tdone\n libgtkpeer.la: $(libgtkpeer_la_OBJECTS) $(libgtkpeer_la_DEPENDENCIES) \n-\t$(LINK) -rpath $(gcjversionedlibdir) $(libgtkpeer_la_LDFLAGS) $(libgtkpeer_la_OBJECTS) $(libgtkpeer_la_LIBADD) $(LIBS)\n+\t$(LINK) -rpath $(nativeexeclibdir) $(libgtkpeer_la_LDFLAGS) $(libgtkpeer_la_OBJECTS) $(libgtkpeer_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n@@ -631,7 +626,7 @@ check-am: all-am\n check: check-am\n all-am: Makefile $(LTLIBRARIES)\n installdirs:\n-\tfor dir in \"$(DESTDIR)$(gcjversionedlibdir)\"; do \\\n+\tfor dir in \"$(DESTDIR)$(nativeexeclibdir)\"; do \\\n \t  test -z \"$$dir\" || $(mkdir_p) \"$$dir\"; \\\n \tdone\n install: install-am\n@@ -660,7 +655,7 @@ maintainer-clean-generic:\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n clean: clean-am\n \n-clean-am: clean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n+clean-am: clean-generic clean-libtool clean-nativeexeclibLTLIBRARIES \\\n \tmostlyclean-am\n \n distclean: distclean-am\n@@ -679,9 +674,9 @@ info: info-am\n \n info-am:\n \n-install-data-am: install-gcjversionedlibLTLIBRARIES\n+install-data-am:\n \n-install-exec-am:\n+install-exec-am: install-nativeexeclibLTLIBRARIES\n \n install-info: install-info-am\n \n@@ -707,21 +702,20 @@ ps: ps-am\n \n ps-am:\n \n-uninstall-am: uninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+uninstall-am: uninstall-info-am uninstall-nativeexeclibLTLIBRARIES\n \n-.PHONY: CTAGS GTAGS all all-am check check-am clean \\\n-\tclean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n-\tctags distclean distclean-compile distclean-generic \\\n-\tdistclean-libtool distclean-tags distdir dvi dvi-am html \\\n-\thtml-am info info-am install install-am install-data \\\n-\tinstall-data-am install-exec install-exec-am \\\n-\tinstall-gcjversionedlibLTLIBRARIES install-info \\\n-\tinstall-info-am install-man install-strip installcheck \\\n+.PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \\\n+\tclean-libtool clean-nativeexeclibLTLIBRARIES ctags distclean \\\n+\tdistclean-compile distclean-generic distclean-libtool \\\n+\tdistclean-tags distdir dvi dvi-am html html-am info info-am \\\n+\tinstall install-am install-data install-data-am install-exec \\\n+\tinstall-exec-am install-info install-info-am install-man \\\n+\tinstall-nativeexeclibLTLIBRARIES install-strip installcheck \\\n \tinstallcheck-am installdirs maintainer-clean \\\n \tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n \tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n-\ttags uninstall uninstall-am \\\n-\tuninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+\ttags uninstall uninstall-am uninstall-info-am \\\n+\tuninstall-nativeexeclibLTLIBRARIES\n \n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded."}, {"sha": "59c4cb3f388e5e75c4134ab9e6487d8253ce1ce8", "filename": "libjava/classpath/native/plugin/Makefile.am", "status": "modified", "additions": 3, "deletions": 11, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fplugin%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fplugin%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fplugin%2FMakefile.am?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -1,24 +1,16 @@\n-## GCJ LOCAL: install this library in GCJ's versioned library\n-## directory\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libgcjwebplugin.la\n+nativeexeclib_LTLIBRARIES = libgcjwebplugin.la\n \n libgcjwebplugin_la_SOURCES = gcjwebplugin.cc\n \n libgcjwebplugin_la_CXXFLAGS = \\\n \t-Wall -DAPPLETVIEWER_EXECUTABLE=\"\\\"$(bindir)/gappletviewer\\\"\" \\\n-\t-DPLUGIN_DATA_DIRECTORY=\"\\\"$(PLUGIN_DIR)/gcjwebplugin-data\\\"\" \\\n \t$(MOZILLA_CFLAGS) $(GLIB_CFLAGS) $(GTK_CFLAGS)\n \n-## GCJ LOCAL: encode the library path and  use GCJ's library version\n-libgcjwebplugin_la_LDFLAGS =  -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version` \\\n+libgcjwebplugin_la_LDFLAGS = -avoid-version \\\n \t$(GLIB_LIBS) $(GTK_LIBS) \\\n \t-lstdc++\n \n-## GCJ LOCAL: depend on gcjversionedlib_LTLIBRARIES\n-install-plugin: $(gcjversionedlib_LTLIBRARIES)\n+install-plugin: $(nativeexeclib_LTLIBRARIES)\n \t$(INSTALL) -d -m0755 $(DESTDIR)$(PLUGIN_DIR)\n \t$(INSTALL) .libs/libgcjwebplugin.so $(DESTDIR)$(PLUGIN_DIR)\n "}, {"sha": "0560daca20ba71efcf6e9faab03f8af034963d61", "filename": "libjava/classpath/native/plugin/Makefile.in", "status": "modified", "additions": 33, "deletions": 38, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fplugin%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fclasspath%2Fnative%2Fplugin%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fplugin%2FMakefile.in?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -58,9 +58,9 @@ am__vpath_adj = case $$p in \\\n     *) f=$$p;; \\\n   esac;\n am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;\n-am__installdirs = \"$(DESTDIR)$(gcjversionedlibdir)\"\n-gcjversionedlibLTLIBRARIES_INSTALL = $(INSTALL)\n-LTLIBRARIES = $(gcjversionedlib_LTLIBRARIES)\n+am__installdirs = \"$(DESTDIR)$(nativeexeclibdir)\"\n+nativeexeclibLTLIBRARIES_INSTALL = $(INSTALL)\n+LTLIBRARIES = $(nativeexeclib_LTLIBRARIES)\n libgcjwebplugin_la_LIBADD =\n am_libgcjwebplugin_la_OBJECTS = libgcjwebplugin_la-gcjwebplugin.lo\n libgcjwebplugin_la_OBJECTS = $(am_libgcjwebplugin_la_OBJECTS)\n@@ -294,17 +294,13 @@ target_cpu = @target_cpu@\n target_os = @target_os@\n target_vendor = @target_vendor@\n vm_classes = @vm_classes@\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libgcjwebplugin.la\n+nativeexeclib_LTLIBRARIES = libgcjwebplugin.la\n libgcjwebplugin_la_SOURCES = gcjwebplugin.cc\n libgcjwebplugin_la_CXXFLAGS = \\\n \t-Wall -DAPPLETVIEWER_EXECUTABLE=\"\\\"$(bindir)/gappletviewer\\\"\" \\\n-\t-DPLUGIN_DATA_DIRECTORY=\"\\\"$(PLUGIN_DIR)/gcjwebplugin-data\\\"\" \\\n \t$(MOZILLA_CFLAGS) $(GLIB_CFLAGS) $(GTK_CFLAGS)\n \n-libgcjwebplugin_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version` \\\n+libgcjwebplugin_la_LDFLAGS = -avoid-version \\\n \t$(GLIB_LIBS) $(GTK_LIBS) \\\n \t-lstdc++\n \n@@ -341,35 +337,35 @@ $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n-install-gcjversionedlibLTLIBRARIES: $(gcjversionedlib_LTLIBRARIES)\n+install-nativeexeclibLTLIBRARIES: $(nativeexeclib_LTLIBRARIES)\n \t@$(NORMAL_INSTALL)\n-\ttest -z \"$(gcjversionedlibdir)\" || $(mkdir_p) \"$(DESTDIR)$(gcjversionedlibdir)\"\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\ttest -z \"$(nativeexeclibdir)\" || $(mkdir_p) \"$(DESTDIR)$(nativeexeclibdir)\"\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  if test -f $$p; then \\\n \t    f=$(am__strip_dir) \\\n-\t    echo \" $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(gcjversionedlibdir)/$$f'\"; \\\n-\t    $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(gcjversionedlibdir)/$$f\"; \\\n+\t    echo \" $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(nativeexeclibdir)/$$f'\"; \\\n+\t    $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(nativeexeclibdir)/$$f\"; \\\n \t  else :; fi; \\\n \tdone\n \n-uninstall-gcjversionedlibLTLIBRARIES:\n+uninstall-nativeexeclibLTLIBRARIES:\n \t@$(NORMAL_UNINSTALL)\n-\t@set -x; list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\t@set -x; list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  p=$(am__strip_dir) \\\n-\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(gcjversionedlibdir)/$$p'\"; \\\n-\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(gcjversionedlibdir)/$$p\"; \\\n+\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(nativeexeclibdir)/$$p'\"; \\\n+\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(nativeexeclibdir)/$$p\"; \\\n \tdone\n \n-clean-gcjversionedlibLTLIBRARIES:\n-\t-test -z \"$(gcjversionedlib_LTLIBRARIES)\" || rm -f $(gcjversionedlib_LTLIBRARIES)\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+clean-nativeexeclibLTLIBRARIES:\n+\t-test -z \"$(nativeexeclib_LTLIBRARIES)\" || rm -f $(nativeexeclib_LTLIBRARIES)\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  dir=\"`echo $$p | sed -e 's|/[^/]*$$||'`\"; \\\n \t  test \"$$dir\" != \"$$p\" || dir=.; \\\n \t  echo \"rm -f \\\"$${dir}/so_locations\\\"\"; \\\n \t  rm -f \"$${dir}/so_locations\"; \\\n \tdone\n libgcjwebplugin.la: $(libgcjwebplugin_la_OBJECTS) $(libgcjwebplugin_la_DEPENDENCIES) \n-\t$(CXXLINK) -rpath $(gcjversionedlibdir) $(libgcjwebplugin_la_LDFLAGS) $(libgcjwebplugin_la_OBJECTS) $(libgcjwebplugin_la_LIBADD) $(LIBS)\n+\t$(CXXLINK) -rpath $(nativeexeclibdir) $(libgcjwebplugin_la_LDFLAGS) $(libgcjwebplugin_la_OBJECTS) $(libgcjwebplugin_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n@@ -496,7 +492,7 @@ check-am: all-am\n check: check-am\n all-am: Makefile $(LTLIBRARIES)\n installdirs:\n-\tfor dir in \"$(DESTDIR)$(gcjversionedlibdir)\"; do \\\n+\tfor dir in \"$(DESTDIR)$(nativeexeclibdir)\"; do \\\n \t  test -z \"$$dir\" || $(mkdir_p) \"$$dir\"; \\\n \tdone\n install: install-am\n@@ -525,7 +521,7 @@ maintainer-clean-generic:\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n clean: clean-am\n \n-clean-am: clean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n+clean-am: clean-generic clean-libtool clean-nativeexeclibLTLIBRARIES \\\n \tmostlyclean-am\n \n distclean: distclean-am\n@@ -544,9 +540,9 @@ info: info-am\n \n info-am:\n \n-install-data-am: install-gcjversionedlibLTLIBRARIES\n+install-data-am:\n \n-install-exec-am:\n+install-exec-am: install-nativeexeclibLTLIBRARIES\n \n install-info: install-info-am\n \n@@ -572,24 +568,23 @@ ps: ps-am\n \n ps-am:\n \n-uninstall-am: uninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+uninstall-am: uninstall-info-am uninstall-nativeexeclibLTLIBRARIES\n \n-.PHONY: CTAGS GTAGS all all-am check check-am clean \\\n-\tclean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n-\tctags distclean distclean-compile distclean-generic \\\n-\tdistclean-libtool distclean-tags distdir dvi dvi-am html \\\n-\thtml-am info info-am install install-am install-data \\\n-\tinstall-data-am install-exec install-exec-am \\\n-\tinstall-gcjversionedlibLTLIBRARIES install-info \\\n-\tinstall-info-am install-man install-strip installcheck \\\n+.PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \\\n+\tclean-libtool clean-nativeexeclibLTLIBRARIES ctags distclean \\\n+\tdistclean-compile distclean-generic distclean-libtool \\\n+\tdistclean-tags distdir dvi dvi-am html html-am info info-am \\\n+\tinstall install-am install-data install-data-am install-exec \\\n+\tinstall-exec-am install-info install-info-am install-man \\\n+\tinstall-nativeexeclibLTLIBRARIES install-strip installcheck \\\n \tinstallcheck-am installdirs maintainer-clean \\\n \tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n \tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n-\ttags uninstall uninstall-am \\\n-\tuninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+\ttags uninstall uninstall-am uninstall-info-am \\\n+\tuninstall-nativeexeclibLTLIBRARIES\n \n \n-install-plugin: $(gcjversionedlib_LTLIBRARIES)\n+install-plugin: $(nativeexeclib_LTLIBRARIES)\n \t$(INSTALL) -d -m0755 $(DESTDIR)$(PLUGIN_DIR)\n \t$(INSTALL) .libs/libgcjwebplugin.so $(DESTDIR)$(PLUGIN_DIR)\n "}, {"sha": "3ebf6ded83a22653e293a833db492db4e070606d", "filename": "libjava/configure", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -14988,11 +14988,18 @@ esac\n \n \n \n-# Determine where the standard .db file is found.\n+# Determine where the standard .db file and GNU Classpath JNI\n+# libraries are found.\n multi_os_directory=`$CC -print-multi-os-directory`\n case $multi_os_directory in\n-  .) dbexecdir='$(libdir)/gcj-$(gcc_version)' ;; # Avoid /.\n-  *) dbexecdir='$(libdir)/'$multi_os_directory'/gcj-$(gcc_version)' ;;\n+  .)\n+   dbexecdir='$(libdir)/gcj-$(gcc_version)' # Avoid /.\n+   ac_configure_args=\"$ac_configure_args --with-native-libdir=\\$\\(libdir\\)/gcj-`cat $srcdir/../gcc/BASE-VER`\"\n+   ;;\n+  *)\n+   dbexecdir='$(libdir)/'$multi_os_directory'/gcj-$(gcc_version)'\n+   ac_configure_args=\"$ac_configure_args --with-native-libdir=\\$\\(libdir\\)/$multi_os_directory/gcj-`cat $srcdir/../gcc/BASE-VER`\"\n+   ;;\n esac\n \n "}, {"sha": "44340a45a3f7b0c6cafc446e490993cdf087424f", "filename": "libjava/configure.ac", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80f06e289befc1323bce6dc8f619937046fe124d/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=80f06e289befc1323bce6dc8f619937046fe124d", "patch": "@@ -1266,11 +1266,18 @@ AC_SUBST(toolexecdir)\n AC_SUBST(toolexecmainlibdir)\n AC_SUBST(toolexeclibdir)\n \n-# Determine where the standard .db file is found.\n+# Determine where the standard .db file and GNU Classpath JNI\n+# libraries are found.\n multi_os_directory=`$CC -print-multi-os-directory`\n case $multi_os_directory in\n-  .) dbexecdir='$(libdir)/gcj-$(gcc_version)' ;; # Avoid /.\n-  *) dbexecdir='$(libdir)/'$multi_os_directory'/gcj-$(gcc_version)' ;;\n+  .)\n+   dbexecdir='$(libdir)/gcj-$(gcc_version)' # Avoid /.\n+   ac_configure_args=\"$ac_configure_args --with-native-libdir=\\$\\(libdir\\)/gcj-`cat $srcdir/../gcc/BASE-VER`\"\n+   ;;\n+  *)\n+   dbexecdir='$(libdir)/'$multi_os_directory'/gcj-$(gcc_version)'\n+   ac_configure_args=\"$ac_configure_args --with-native-libdir=\\$\\(libdir\\)/$multi_os_directory/gcj-`cat $srcdir/../gcc/BASE-VER`\"\n+   ;;\n esac\n AC_SUBST(dbexecdir)\n "}]}