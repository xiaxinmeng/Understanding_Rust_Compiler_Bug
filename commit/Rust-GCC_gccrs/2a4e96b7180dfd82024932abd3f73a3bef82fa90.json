{"sha": "2a4e96b7180dfd82024932abd3f73a3bef82fa90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE0ZTk2YjcxODBkZmQ4MjAyNDkzMmFiZDNmNzNhM2JlZjgyZmE5MA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-02-06T05:52:33Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-02-06T05:52:33Z"}, "message": "ltcf-c.sh: Add support for --no-undefined under GNU/Linux.\n\n\t* ltcf-c.sh: Add support for --no-undefined under GNU/Linux.\n\t* ltcf-cxx.sh: Likewise.\n\nFrom-SVN: r39477", "tree": {"sha": "2bf0faa388ef99b16c20dea9c90f1f2121a313ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bf0faa388ef99b16c20dea9c90f1f2121a313ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a4e96b7180dfd82024932abd3f73a3bef82fa90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a4e96b7180dfd82024932abd3f73a3bef82fa90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a4e96b7180dfd82024932abd3f73a3bef82fa90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a4e96b7180dfd82024932abd3f73a3bef82fa90/comments", "author": null, "committer": null, "parents": [{"sha": "9638617e2bbbb0851f1d683f5d0a486882dcda3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9638617e2bbbb0851f1d683f5d0a486882dcda3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9638617e2bbbb0851f1d683f5d0a486882dcda3b"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "a60202fea358e18fdb2acc164c2d11b0de699e64", "filename": "ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a4e96b7180dfd82024932abd3f73a3bef82fa90/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a4e96b7180dfd82024932abd3f73a3bef82fa90/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=2a4e96b7180dfd82024932abd3f73a3bef82fa90", "patch": "@@ -1,5 +1,8 @@\n 2001-02-05  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* ltcf-c.sh: Add support for --no-undefined under GNU/Linux.\n+\t* ltcf-cxx.sh: Likewise.\n+\n \t* config.if: Assume enable_libstdcxx_v3 is defined.\n \n 2001-02-04  Mark Mitchell  <mark@codesourcery.com>"}, {"sha": "8e1cf87c9ebee02dfeea2328563ae1f374a6a9d2", "filename": "ltcf-c.sh", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a4e96b7180dfd82024932abd3f73a3bef82fa90/ltcf-c.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a4e96b7180dfd82024932abd3f73a3bef82fa90/ltcf-c.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-c.sh?ref=2a4e96b7180dfd82024932abd3f73a3bef82fa90", "patch": "@@ -207,8 +207,9 @@ EOF\n \n   *)\n     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n-      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${allow_undefined_flag} ${wl}-soname $wl$soname -o $lib'\n+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${allow_undefined_flag} ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+      no_undefined_flag='${wl}--no-undefined'\n     else\n       ld_shlibs=no\n     fi"}, {"sha": "068f15660f2c41e68111a692e19baccedbd0dedd", "filename": "ltcf-cxx.sh", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a4e96b7180dfd82024932abd3f73a3bef82fa90/ltcf-cxx.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a4e96b7180dfd82024932abd3f73a3bef82fa90/ltcf-cxx.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-cxx.sh?ref=2a4e96b7180dfd82024932abd3f73a3bef82fa90", "patch": "@@ -73,8 +73,9 @@ if { ac_try='${CC-c++} -E conftest.$ac_ext'; { (eval echo \\\"$ac_try\\\") 1>&5; (ev\n       egrep 'GNU ld' > /dev/null; then\n     with_gnu_ld=yes\n \n-    archive_cmds='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-    archive_expsym_cmds='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+    archive_cmds='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${allow_undefined_flag} ${wl}-soname $wl$soname -o $lib'\n+    archive_expsym_cmds='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${allow_undefined_flag} ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+    no_undefined_flag='${wl}--no-undefined'\n \n     hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'\n     export_dynamic_flag_spec='${wl}--export-dynamic'"}]}