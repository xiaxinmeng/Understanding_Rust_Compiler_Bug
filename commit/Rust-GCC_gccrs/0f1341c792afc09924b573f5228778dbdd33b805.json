{"sha": "0f1341c792afc09924b573f5228778dbdd33b805", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGYxMzQxYzc5MmFmYzA5OTI0YjU3M2Y1MjI4Nzc4ZGJkZDMzYjgwNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-06-04T19:23:53Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-06-04T19:23:53Z"}, "message": "re PR target/21888 (bootstrap failure with linker relaxation enabled)\n\n        PR target/21888\n        * config/alpha/alpha.c (alpha_align_insns): Don't insert nops\n        until we've passed initial ldgp.\n\nFrom-SVN: r100596", "tree": {"sha": "482d2e24acca50a4b052912454b62a18a6efd369", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/482d2e24acca50a4b052912454b62a18a6efd369"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f1341c792afc09924b573f5228778dbdd33b805", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f1341c792afc09924b573f5228778dbdd33b805", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f1341c792afc09924b573f5228778dbdd33b805", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f1341c792afc09924b573f5228778dbdd33b805/comments", "author": null, "committer": null, "parents": [{"sha": "833b3afe497cd2430838ddd8a9b1ab9c9b0ba4f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/833b3afe497cd2430838ddd8a9b1ab9c9b0ba4f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/833b3afe497cd2430838ddd8a9b1ab9c9b0ba4f2"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "f6b093a940a837e2fde5dc1eb332ba4da4e042db", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f1341c792afc09924b573f5228778dbdd33b805/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f1341c792afc09924b573f5228778dbdd33b805/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f1341c792afc09924b573f5228778dbdd33b805", "patch": "@@ -1,3 +1,9 @@\n+2005-06-04  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/21888\n+\t* config/alpha/alpha.c (alpha_align_insns): Don't insert nops\n+\tuntil we've passed initial ldgp.\n+\n 2005-06-04  Daniel Berlin  <dberlin@dberlin.org>\n \n \t* cfgexpand.c (expand_one_var): Use DECL_HAS_VALUE_EXPR_P."}, {"sha": "3f78c1600ea3aae210c48b3f249ca5323e0ccf17", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f1341c792afc09924b573f5228778dbdd33b805/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f1341c792afc09924b573f5228778dbdd33b805/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=0f1341c792afc09924b573f5228778dbdd33b805", "patch": "@@ -8974,7 +8974,7 @@ alpha_align_insns (unsigned int max_align,\n   unsigned int align;\n   /* OFS is the offset of the current insn in the insn group.  */\n   int ofs;\n-  int prev_in_use, in_use, len;\n+  int prev_in_use, in_use, len, ldgp;\n   rtx i, next;\n \n   /* Let shorten branches care for assigning alignments to code labels.  */\n@@ -8992,6 +8992,8 @@ alpha_align_insns (unsigned int max_align,\n   if (GET_CODE (i) == NOTE)\n     i = next_nonnote_insn (i);\n \n+  ldgp = alpha_function_needs_gp ? 8 : 0;\n+\n   while (i)\n     {\n       next = (*next_group) (i, &in_use, &len);\n@@ -9047,6 +9049,10 @@ alpha_align_insns (unsigned int max_align,\n \t    }\n \t}\n \n+      /* We may not insert padding inside the initial ldgp sequence.  */\n+      else if (ldgp > 0)\n+\tldgp -= len;\n+\n       /* If the group won't fit in the same INT16 as the previous,\n \t we need to add padding to keep the group together.  Rather\n \t than simply leaving the insn filling to the assembler, we"}]}