{"sha": "791e8c9c76380624c9257f7b7dac9707b1793ca2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzkxZThjOWM3NjM4MDYyNGM5MjU3ZjdiN2RhYzk3MDdiMTc5M2NhMg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-02-07T07:50:17Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-02-07T07:50:17Z"}, "message": "re PR libfortran/42742 (Handle very large format strings correctly)\n\n2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/42742\n\t* gfortran.dg/fmt_cache_2.f: New test.\n\nFrom-SVN: r156569", "tree": {"sha": "4ed5383851b54f510be811845facae399f47f9e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ed5383851b54f510be811845facae399f47f9e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/791e8c9c76380624c9257f7b7dac9707b1793ca2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/791e8c9c76380624c9257f7b7dac9707b1793ca2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/791e8c9c76380624c9257f7b7dac9707b1793ca2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/791e8c9c76380624c9257f7b7dac9707b1793ca2/comments", "author": null, "committer": null, "parents": [{"sha": "6c076a6c42817b0462e8e22897bf8a398ca53ca9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c076a6c42817b0462e8e22897bf8a398ca53ca9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c076a6c42817b0462e8e22897bf8a398ca53ca9"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "d50b95091a7ab52b5f62c65c8bd7863e49207cf0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/791e8c9c76380624c9257f7b7dac9707b1793ca2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/791e8c9c76380624c9257f7b7dac9707b1793ca2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=791e8c9c76380624c9257f7b7dac9707b1793ca2", "patch": "@@ -1,3 +1,8 @@\n+2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/42742\n+\t* gfortran.dg/fmt_cache_2.f: New test.\n+\n 2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \t* gfortran.dg/read_no_eor.f90: New test."}, {"sha": "f557a166c87660376f2c01bdbfcfa2bc42fcc1a2", "filename": "gcc/testsuite/gfortran.dg/fmt_cache_2.f", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/791e8c9c76380624c9257f7b7dac9707b1793ca2/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_cache_2.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/791e8c9c76380624c9257f7b7dac9707b1793ca2/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_cache_2.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_cache_2.f?ref=791e8c9c76380624c9257f7b7dac9707b1793ca2", "patch": "@@ -0,0 +1,36 @@\n+! { dg-do run }\n+! PR42742 Handle very large format strings correctly\n+! Test derived from example developed by Manfred Schwarb.\n+      character(12) bufarr(74)\n+      character(74*13+30) fmtstr,fmtstr2\n+      character(1) delim\n+      integer i,j,dat(5),pindx, loopcounter\n+      character(983) big_string ! any less and this test fails.\n+\n+      do i=1,74\n+        write(bufarr(i),'(i12)') i\n+      enddo\n+\n+      delim=\" \"\n+      dat(1)=2009\n+      dat(2)=10\n+      dat(3)=31\n+      dat(4)=3\n+      dat(5)=0\n+      fmtstr=\"(i2,i6,4(a1,i2.2)\"\n+      open(10, status=\"scratch\")\n+      do j=1,74\n+        fmtstr=fmtstr(1:len_trim(fmtstr))//\",a1,a12\"\n+        fmtstr2=fmtstr(1:len_trim(fmtstr))//\")\"\n+c        write(0,*) \"interation \",j,\": \",len_trim(fmtstr2)\n+        do i=1,10\n+          write(10,fmtstr2)\n+     &           i,dat(1),\"-\",dat(2),\"-\",dat(3),\n+     &           delim,dat(4),\":\",dat(5),\n+     &           (delim,bufarr(pindx),pindx=1,j)\n+        enddo\n+        loopcounter = j\n+      enddo\n+      close(10)\n+      if (loopcounter /= 74) call abort\n+      end"}]}