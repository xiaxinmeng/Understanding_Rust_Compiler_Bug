{"sha": "15336b9e67672e39122e9d9c5cec9222f84d173d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTUzMzZiOWU2NzY3MmUzOTEyMmU5ZDljNWNlYzkyMjJmODRkMTczZA==", "commit": {"author": {"name": "David Daney", "email": "ddaney@avtrex.com", "date": "2005-09-09T23:32:57Z"}, "committer": {"name": "David Daney", "email": "daney@gcc.gnu.org", "date": "2005-09-09T23:32:57Z"}, "message": "20010124-1.c: Removed and split into two new files which are ...\n\n2005-09-09  David Daney <ddaney@avtrex.com>\n\n\t* gcc.c-torture/execute/20010124-1.c:  Removed and split into two new\n\tfiles which are ...\n\t* gcc.c-torture/execute/builtins/20010124-1: ... here and ...\n\t* gcc.c-torture/execute/builtins/20010124-1-lib.c: ... here.\n\nFrom-SVN: r104116", "tree": {"sha": "cf5b55f9154ab5b141c0270c00a6bfbe0b1f2dbe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf5b55f9154ab5b141c0270c00a6bfbe0b1f2dbe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15336b9e67672e39122e9d9c5cec9222f84d173d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15336b9e67672e39122e9d9c5cec9222f84d173d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15336b9e67672e39122e9d9c5cec9222f84d173d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15336b9e67672e39122e9d9c5cec9222f84d173d/comments", "author": null, "committer": null, "parents": [{"sha": "a30efae8b9de7699ea70dbf48291466ab2dcd5c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30efae8b9de7699ea70dbf48291466ab2dcd5c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a30efae8b9de7699ea70dbf48291466ab2dcd5c6"}], "stats": {"total": 137, "additions": 87, "deletions": 50}, "files": [{"sha": "385068d851275b3843f81444c75f3bf6a05e6b20", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15336b9e67672e39122e9d9c5cec9222f84d173d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15336b9e67672e39122e9d9c5cec9222f84d173d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=15336b9e67672e39122e9d9c5cec9222f84d173d", "patch": "@@ -1,3 +1,10 @@\n+2005-09-09  David Daney <ddaney@avtrex.com>\n+\n+\t* gcc.c-torture/execute/20010124-1.c:  Removed and split into two new \n+\tfiles which are ...\n+\t* gcc.c-torture/execute/builtins/20010124-1: ... here and ...\n+\t* gcc.c-torture/execute/builtins/20010124-1-lib.c: ... here.\n+\n 2005-09-09  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \t* gfortran.dg/iostat_2.f90: New test."}, {"sha": "5db512b6f3e49d0d04d603c3613a774f74ddc350", "filename": "gcc/testsuite/gcc.c-torture/execute/20010124-1.c", "status": "removed", "additions": 0, "deletions": 50, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30efae8b9de7699ea70dbf48291466ab2dcd5c6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20010124-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30efae8b9de7699ea70dbf48291466ab2dcd5c6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20010124-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20010124-1.c?ref=a30efae8b9de7699ea70dbf48291466ab2dcd5c6", "patch": "@@ -1,50 +0,0 @@\n-/* Verify that structure return doesn't invoke memcpy on \n-   overlapping objects.  */\n-\n-extern void abort (void);\n-typedef __SIZE_TYPE__ size_t;\n-\n-struct S {\n-  char stuff[1024];\n-};\n-\n-union U {\n-  struct {\n-    int space;\n-    struct S s;\n-  } a;\n-  struct {\n-    struct S s;\n-    int space;\n-  } b;\n-};\n-\n-static struct S f(struct S *);\n-static void g(union U *);\n-\n-int main()\n-{\n-  union U u;\n-  u.b.s = f(&u.a.s);\n-  u.a.s = f(&u.b.s);\n-  g(&u);\n-  return 0;\n-}\n-  \n-static struct S f(struct S *p)\n-{\n-  return *p;\n-}\n-\n-static void g(union U *p)\n-{\n-}\n-\n-static void *memcpy(void *a, const void *b, size_t len)\n-{\n-  if (a < b && a+len > b)\n-    abort ();\n-  if (b < a && b+len > a)\n-    abort ();\n-  return a;\n-}"}, {"sha": "5f6a7487fd8fb140d409f063ba224a326d2c630e", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/20010124-1-lib.c", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15336b9e67672e39122e9d9c5cec9222f84d173d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2F20010124-1-lib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15336b9e67672e39122e9d9c5cec9222f84d173d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2F20010124-1-lib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2F20010124-1-lib.c?ref=15336b9e67672e39122e9d9c5cec9222f84d173d", "patch": "@@ -0,0 +1,50 @@\n+/* Verify that structure return doesn't invoke memcpy on \n+   overlapping objects.  */\n+\n+extern void abort (void);\n+extern int inside_main;\n+typedef __SIZE_TYPE__ size_t;\n+\n+struct S {\n+  char stuff[1024];\n+};\n+\n+union U {\n+  struct {\n+    int space;\n+    struct S s;\n+  } a;\n+  struct {\n+    struct S s;\n+    int space;\n+  } b;\n+};\n+  \n+struct S f(struct S *p)\n+{\n+  return *p;\n+}\n+\n+void g(union U *p)\n+{\n+}\n+\n+void *memcpy(void *a, const void *b, size_t len)\n+{\n+  if (inside_main)\n+    {\n+      if (a < b && a+len > b)\n+        abort ();\n+      if (b < a && b+len > a)\n+        abort ();\n+      return a;\n+    }\n+  else\n+    {\n+      char *dst = (char *) a;\n+      const char *src = (const char *) b;\n+      while (len--)\n+        *dst++ = *src++;\n+      return a;\n+    }\n+}"}, {"sha": "816287344e4dedb0660048c61a117ac78e5d1a4a", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/20010124-1.c", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15336b9e67672e39122e9d9c5cec9222f84d173d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2F20010124-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15336b9e67672e39122e9d9c5cec9222f84d173d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2F20010124-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2F20010124-1.c?ref=15336b9e67672e39122e9d9c5cec9222f84d173d", "patch": "@@ -0,0 +1,30 @@\n+/* Verify that structure return doesn't invoke memcpy on \n+   overlapping objects.  */\n+\n+extern void abort (void);\n+\n+struct S {\n+  char stuff[1024];\n+};\n+\n+union U {\n+  struct {\n+    int space;\n+    struct S s;\n+  } a;\n+  struct {\n+    struct S s;\n+    int space;\n+  } b;\n+};\n+\n+struct S f(struct S *);\n+void g(union U *);\n+\n+void main_test(void)\n+{\n+  union U u;\n+  u.b.s = f(&u.a.s);\n+  u.a.s = f(&u.b.s);\n+  g(&u);\n+}"}]}