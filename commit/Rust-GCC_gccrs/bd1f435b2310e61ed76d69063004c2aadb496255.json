{"sha": "bd1f435b2310e61ed76d69063004c2aadb496255", "node_id": "C_kwDOANBUbNoAKGJkMWY0MzViMjMxMGU2MWVkNzZkNjkwNjMwMDRjMmFhZGI0OTYyNTU", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-03-30T11:14:40Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-03-30T11:14:40Z"}, "message": "Merge #1059\n\n1059: Add base for build job using older GCC version r=CohenArthur a=CohenArthur\n\nFixes #1058 \n\nCo-authored-by: Arthur Cohen <arthur.cohen@embecosm.com>", "tree": {"sha": "27321b25416636f9ab6516a417d43c824861c13a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27321b25416636f9ab6516a417d43c824861c13a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd1f435b2310e61ed76d69063004c2aadb496255", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiRDugCRBK7hj4Ov3rIwAAAZIIAFd3iS0QVgM1m6zcTGjEElSA\nuKgOjFfnbpGeuZz/E/UTdzvFapqrdi5FgEeAJ1ot7nIgKU9OX3UkubXacslqlXfq\nIsG+wxNsqxM20/Wt3NQfTlIuK+/2Gu2Ri+Rz/s4t/+IfVlk7HMUSCDj3mNcJtEzg\ns/FDMHp+0djvCydKgQ4xXxS91j70gRh9oscbyh6UqEAv1PIF4jNcocmW5/QwcA5d\nRfcUjInY5iOJboyrG//NVcJ3irID9RCxRwrTpYPiKy+31vuiLNWhjflA6WMYE+MH\nQsqfGIhD6FOku6grPWCZ0sdzHMNr+M1SwH0y1l50xBoTJff2nm1gQ3wt9qIWpYM=\n=vHX6\n-----END PGP SIGNATURE-----\n", "payload": "tree 27321b25416636f9ab6516a417d43c824861c13a\nparent e8b9587d3a0615f497cfe9c66995c1f21e42a536\nparent e824a0835b1514d39287da3fe53dc9e11a0c5f42\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1648638880 +0000\ncommitter GitHub <noreply@github.com> 1648638880 +0000\n\nMerge #1059\n\n1059: Add base for build job using older GCC version r=CohenArthur a=CohenArthur\n\nFixes #1058 \n\nCo-authored-by: Arthur Cohen <arthur.cohen@embecosm.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd1f435b2310e61ed76d69063004c2aadb496255", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd1f435b2310e61ed76d69063004c2aadb496255", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd1f435b2310e61ed76d69063004c2aadb496255/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e8b9587d3a0615f497cfe9c66995c1f21e42a536", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8b9587d3a0615f497cfe9c66995c1f21e42a536", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8b9587d3a0615f497cfe9c66995c1f21e42a536"}, {"sha": "e824a0835b1514d39287da3fe53dc9e11a0c5f42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e824a0835b1514d39287da3fe53dc9e11a0c5f42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e824a0835b1514d39287da3fe53dc9e11a0c5f42"}], "stats": {"total": 77, "additions": 70, "deletions": 7}, "files": [{"sha": "6159047a1b656e48c79c8e2e0179f0991cf6a353", "filename": ".github/workflows/ccpp.yml", "status": "modified", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd1f435b2310e61ed76d69063004c2aadb496255/.github%2Fworkflows%2Fccpp.yml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd1f435b2310e61ed76d69063004c2aadb496255/.github%2Fworkflows%2Fccpp.yml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/.github%2Fworkflows%2Fccpp.yml?ref=bd1f435b2310e61ed76d69063004c2aadb496255", "patch": "@@ -84,3 +84,68 @@ jobs:\n             else \\\n               exit 0; \\\n             fi\n+\n+  build-and-check-gcc-48:\n+\n+    runs-on: ubuntu-18.04\n+    steps:\n+    - uses: actions/checkout@v2\n+\n+    - name: Install Deps\n+      run: |\n+          sudo apt-get update;\n+          sudo apt-get install -y \\\n+                  automake \\\n+                  autoconf \\\n+                  libtool \\\n+                  autogen \\\n+                  bison \\\n+                  flex \\\n+                  libgmp3-dev \\\n+                  libmpfr-dev \\\n+                  libmpc-dev \\\n+                  build-essential \\\n+                  gcc-4.8 \\\n+                  g++-4.8 \\\n+                  gcc-4.8-multilib \\\n+                  g++-4.8-multilib \\\n+                  dejagnu\n+\n+    - name: Configure\n+      run: |\n+           mkdir -p gccrs-build;\n+           cd gccrs-build;\n+           ../configure \\\n+               CC='gcc-4.8' \\\n+               CXX='g++-4.8' \\\n+               --enable-languages=rust \\\n+               --disable-bootstrap \\\n+               --enable-multilib\n+\n+    - name: Build\n+      shell: bash\n+      run: |\n+           make -C gccrs-build -j $(nproc)\n+\n+    - name: Run Tests\n+      run: |\n+           cd gccrs-build; \\\n+           make check-rust\n+\n+    - name: Archive check-rust results\n+      uses: actions/upload-artifact@v2\n+      with:\n+        name: check-rust-logs-4.8\n+        path: |\n+          gccrs-build/gcc/testsuite/rust/\n+\n+    - name: Check regressions\n+      run: |\n+           cd gccrs-build; \\\n+           if grep -e \"unexpected\" -e \"unresolved\" gcc/testsuite/rust/rust.sum;\\\n+           then \\\n+              echo \"some tests are not correct\"; \\\n+              exit 1; \\\n+            else \\\n+              exit 0; \\\n+            fi"}, {"sha": "3c1858cf554e16dccf89378b223333f7c8bf7054", "filename": "gcc/rust/typecheck/rust-hir-path-probe.h", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd1f435b2310e61ed76d69063004c2aadb496255/gcc%2Frust%2Ftypecheck%2Frust-hir-path-probe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd1f435b2310e61ed76d69063004c2aadb496255/gcc%2Frust%2Ftypecheck%2Frust-hir-path-probe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-path-probe.h?ref=bd1f435b2310e61ed76d69063004c2aadb496255", "patch": "@@ -364,10 +364,9 @@ class PathProbeType : public TypeCheckBase\n     PathProbeCandidate::TraitItemCandidate trait_item_candidate{trait_ref,\n \t\t\t\t\t\t\t\ttrait_item_ref,\n \t\t\t\t\t\t\t\timpl};\n-    PathProbeCandidate candidate{candidate_type,\n-\t\t\t\t trait_item_tyty,\n-\t\t\t\t trait_ref->get_locus (),\n-\t\t\t\t {trait_item_candidate}};\n+\n+    PathProbeCandidate candidate{candidate_type, trait_item_tyty,\n+\t\t\t\t trait_ref->get_locus (), trait_item_candidate};\n     candidates.push_back (std::move (candidate));\n   }\n \n@@ -409,10 +408,9 @@ class PathProbeType : public TypeCheckBase\n     PathProbeCandidate::TraitItemCandidate trait_item_candidate{trait_ref,\n \t\t\t\t\t\t\t\ttrait_item_ref,\n \t\t\t\t\t\t\t\tnullptr};\n-    PathProbeCandidate candidate{candidate_type,\n-\t\t\t\t trait_item_tyty,\n+    PathProbeCandidate candidate{candidate_type, trait_item_tyty,\n \t\t\t\t trait_item_ref->get_locus (),\n-\t\t\t\t {trait_item_candidate}};\n+\t\t\t\t trait_item_candidate};\n     candidates.push_back (std::move (candidate));\n   }\n "}]}