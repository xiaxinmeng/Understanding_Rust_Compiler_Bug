{"sha": "1c81e34352a99967cc1f42c82d71b0dfcfb57332", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWM4MWUzNDM1MmE5OTk2N2NjMWY0MmM4MmQ3MWIwZGZjZmI1NzMzMg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-03-26T22:31:52Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-03-26T22:31:52Z"}, "message": "natRuntime.cc (insertSystemProperties): Set gnu.classpath.home.url.\n\n\t* java/lang/natRuntime.cc (insertSystemProperties): Set\n\tgnu.classpath.home.url.\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am: Define LIBDIR.\n\nFrom-SVN: r64905", "tree": {"sha": "fecfca59efdeac675728e69ba04d48644f960f7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fecfca59efdeac675728e69ba04d48644f960f7d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c81e34352a99967cc1f42c82d71b0dfcfb57332", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c81e34352a99967cc1f42c82d71b0dfcfb57332", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c81e34352a99967cc1f42c82d71b0dfcfb57332", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c81e34352a99967cc1f42c82d71b0dfcfb57332/comments", "author": null, "committer": null, "parents": [{"sha": "de132314bc4f516e901fc30cd95152f747313ad5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de132314bc4f516e901fc30cd95152f747313ad5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de132314bc4f516e901fc30cd95152f747313ad5"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "78f09cb3d4dd2696c4e25392b48724d422f92be0", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=1c81e34352a99967cc1f42c82d71b0dfcfb57332", "patch": "@@ -1,3 +1,10 @@\n+2003-03-26  Tom Tromey  <tromey@redhat.com>\n+\n+\t* java/lang/natRuntime.cc (insertSystemProperties): Set\n+\tgnu.classpath.home.url.\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am: Define LIBDIR.\n+\n 2003-03-25  Michael Koch  <konqueror@gmx.de>\n \n \t* java/io/FileInputStream.java"}, {"sha": "563b0b058c2d28abde4049b7733e69caf1d2c58a", "filename": "libjava/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=1c81e34352a99967cc1f42c82d71b0dfcfb57332", "patch": "@@ -97,7 +97,7 @@ AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n ## Detect bugs in the verifier implementation, and maybe other places.\n \t-Wswitch-enum \\\n \t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE \\\n-\t-DPREFIX=\"\\\"$(prefix)\\\"\"\n+\t-DPREFIX=\"\\\"$(prefix)\\\"\" -DLIBDIR=\"\\\"$(libdir)\\\"\"\n if USING_GCC\n AM_CFLAGS = @LIBGCJ_CFLAGS@ $(WARNINGS)\n else"}, {"sha": "5a1a9837ab620172ab98cf03ae3011b546a55b16", "filename": "libjava/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=1c81e34352a99967cc1f42c82d71b0dfcfb57332", "patch": "@@ -191,7 +191,7 @@ AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n \t-fdollars-in-identifiers \\\n \t-Wswitch-enum \\\n \t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE \\\n-\t-DPREFIX=\"\\\"$(prefix)\\\"\"\n+\t-DPREFIX=\"\\\"$(prefix)\\\"\" -DLIBDIR=\"\\\"$(libdir)\\\"\"\n \n @USING_GCC_TRUE@AM_CFLAGS = @USING_GCC_TRUE@@LIBGCJ_CFLAGS@ $(WARNINGS)\n @USING_GCC_FALSE@AM_CFLAGS = @USING_GCC_FALSE@@LIBGCJ_CFLAGS@"}, {"sha": "2cf312ea86267910df57992f95f2ee51c9ceed05", "filename": "libjava/java/lang/natRuntime.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2Fjava%2Flang%2FnatRuntime.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c81e34352a99967cc1f42c82d71b0dfcfb57332/libjava%2Fjava%2Flang%2FnatRuntime.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatRuntime.cc?ref=1c81e34352a99967cc1f42c82d71b0dfcfb57332", "patch": "@@ -422,6 +422,12 @@ java::lang::Runtime::insertSystemProperties (java::util::Properties *newprops)\n   // redefine `java.home' with `-D' if necessary.\n   SET (\"java.home\", PREFIX);\n   SET (\"gnu.classpath.home\", PREFIX);\n+  // This is set to $(libdir) because we use this to find .security\n+  // files at runtime.\n+  char val2[sizeof (\"file://\") + sizeof (LIBDIR) + 1];\n+  strcpy (val2, \"file://\");\n+  strcat (val2, LIBDIR);\n+  SET (\"gnu.classpath.home.url\", val2);\n \n   SET (\"file.encoding\", default_file_encoding);\n "}]}