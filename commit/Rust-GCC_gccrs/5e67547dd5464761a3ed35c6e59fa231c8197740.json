{"sha": "5e67547dd5464761a3ed35c6e59fa231c8197740", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWU2NzU0N2RkNTQ2NDc2MWEzZWQzNWM2ZTU5ZmEyMzFjODE5Nzc0MA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2014-05-27T20:30:18Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2014-05-27T20:30:18Z"}, "message": "double-int.c (div_and_round_double): Use the proper predicate to detect a negative quotient.\n\n\t* double-int.c (div_and_round_double) <ROUND_DIV_EXPR>: Use the proper\n\tpredicate to detect a negative quotient.\n\nFrom-SVN: r210981", "tree": {"sha": "ca1325b4034c2c31499a10629a5a4f4c371b6f4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca1325b4034c2c31499a10629a5a4f4c371b6f4d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e67547dd5464761a3ed35c6e59fa231c8197740", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e67547dd5464761a3ed35c6e59fa231c8197740", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e67547dd5464761a3ed35c6e59fa231c8197740", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e67547dd5464761a3ed35c6e59fa231c8197740/comments", "author": null, "committer": null, "parents": [{"sha": "5c1bc275f4f85f2483fb2433b1592deeba1e3d6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c1bc275f4f85f2483fb2433b1592deeba1e3d6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c1bc275f4f85f2483fb2433b1592deeba1e3d6f"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "8898e8de95f410feea64a591f04ac9a8b92da6da", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5e67547dd5464761a3ed35c6e59fa231c8197740", "patch": "@@ -1,3 +1,8 @@\n+2014-05-27  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* double-int.c (div_and_round_double) <ROUND_DIV_EXPR>: Use the proper\n+\tpredicate to detect a negative quotient.\n+\n 2014-05-27  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* fold-const.c (fold_comparison): Clean up and extend X +- C1 CMP C2"}, {"sha": "f6e340bebfe6f238206fd5005037a467573b245d", "filename": "gcc/double-int.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2Fdouble-int.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2Fdouble-int.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdouble-int.c?ref=5e67547dd5464761a3ed35c6e59fa231c8197740", "patch": "@@ -588,7 +588,7 @@ div_and_round_double (unsigned code, int uns,\n \t\t == (unsigned HOST_WIDE_INT) htwice)\n \t\t&& (labs_den <= ltwice)))\n \t  {\n-\t    if (*hquo < 0)\n+\t    if (quo_neg)\n \t      /* quo = quo - 1;  */\n \t      add_double (*lquo, *hquo,\n \t\t\t  (HOST_WIDE_INT) -1, (HOST_WIDE_INT) -1, lquo, hquo);"}, {"sha": "d24b31eae609781570bf3e203488d7a021d78fcf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5e67547dd5464761a3ed35c6e59fa231c8197740", "patch": "@@ -1,3 +1,7 @@\n+2014-05-27  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/overflow_fixed.adb: New test.\n+\n 2014-05-27  Marek Polacek  <polacek@redhat.com>\n \n \tPR c/56724"}, {"sha": "6ece51523339e282a1464396bbd12a80210eb0ef", "filename": "gcc/testsuite/gnat.dg/overflow_fixed.adb", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2Ftestsuite%2Fgnat.dg%2Foverflow_fixed.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e67547dd5464761a3ed35c6e59fa231c8197740/gcc%2Ftestsuite%2Fgnat.dg%2Foverflow_fixed.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Foverflow_fixed.adb?ref=5e67547dd5464761a3ed35c6e59fa231c8197740", "patch": "@@ -0,0 +1,19 @@\n+-- { dg-do run }\n+-- { dg-options \"-gnato -O\" }\n+\n+procedure Overflow_Fixed is\n+\n+  type Unsigned_8_Bit is mod 2**8;\n+\n+  procedure Fixed_To_Eight (Value : Duration) is\n+    Item : Unsigned_8_Bit;\n+  begin\n+    Item := Unsigned_8_Bit(Value);\n+    raise Program_Error;\n+  exception\n+    when Constraint_Error => null; -- expected case\n+  end;\n+\n+begin\n+  Fixed_To_Eight (-0.5);\n+end;"}]}