{"sha": "b75b1be274e21796eae8fb1382ce1987f59ebee3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjc1YjFiZTI3NGUyMTc5NmVhZThmYjEzODJjZTE5ODdmNTllYmVlMw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2011-09-13T18:11:00Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2011-09-13T18:11:00Z"}, "message": "arm.md: Use match_test rather than eq/ne symbol_ref throughout file.\n\ngcc/\n\t* config/arm/arm.md: Use match_test rather than eq/ne symbol_ref\n\tthroughout file.\n\t* config/arm/neon.md: Likewise.\n\t* config/arm/vfp.md: Likewise.\n\t* config/arm/thumb2.md: Likewise.\n\t* config/arm/cortex-m4.md: Likewise.\n\nFrom-SVN: r178821", "tree": {"sha": "e7ec545e93ecd822301881369bb64bb4433d83e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7ec545e93ecd822301881369bb64bb4433d83e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b75b1be274e21796eae8fb1382ce1987f59ebee3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b75b1be274e21796eae8fb1382ce1987f59ebee3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b75b1be274e21796eae8fb1382ce1987f59ebee3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b75b1be274e21796eae8fb1382ce1987f59ebee3/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "280deda6f3c15c60ee5d33a717a826645284abf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/280deda6f3c15c60ee5d33a717a826645284abf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/280deda6f3c15c60ee5d33a717a826645284abf1"}], "stats": {"total": 283, "additions": 145, "deletions": 138}, "files": [{"sha": "33d7b04c1ec265cee4cad80a15aa1f10b04435de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b75b1be274e21796eae8fb1382ce1987f59ebee3", "patch": "@@ -1,3 +1,12 @@\n+2011-09-13  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* config/arm/arm.md: Use match_test rather than eq/ne symbol_ref\n+\tthroughout file.\n+\t* config/arm/neon.md: Likewise.\n+\t* config/arm/vfp.md: Likewise.\n+\t* config/arm/thumb2.md: Likewise.\n+\t* config/arm/cortex-m4.md: Likewise.\n+\n 2011-09-13  Sevak Sargsyan <sevak.sargsyan@ispras.ru>\n \n \t* config/arm/neon.md (neon_vabd<mode>_2, neon_vabd<mode>_3): New"}, {"sha": "0732ba17e9081cdcf7c273bac0ad0c38d70e5234", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=b75b1be274e21796eae8fb1382ce1987f59ebee3", "patch": "@@ -211,31 +211,31 @@\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"a\")\n-\t      (ne (symbol_ref \"TARGET_ARM\") (const_int 0)))\n+\t      (match_test \"TARGET_ARM\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"t\")\n-\t      (ne (symbol_ref \"TARGET_THUMB\") (const_int 0)))\n+\t      (match_test \"TARGET_THUMB\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"t1\")\n-\t      (ne (symbol_ref \"TARGET_THUMB1\") (const_int 0)))\n+\t      (match_test \"TARGET_THUMB1\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"t2\")\n-\t      (ne (symbol_ref \"TARGET_THUMB2\") (const_int 0)))\n+\t      (match_test \"TARGET_THUMB2\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"32\")\n-\t      (ne (symbol_ref \"TARGET_32BIT\") (const_int 0)))\n+\t      (match_test \"TARGET_32BIT\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"v6\")\n-\t      (ne (symbol_ref \"(TARGET_32BIT && arm_arch6)\") (const_int 0)))\n+\t      (match_test \"TARGET_32BIT && arm_arch6\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"nov6\")\n-\t      (ne (symbol_ref \"(TARGET_32BIT && !arm_arch6)\") (const_int 0)))\n+\t      (match_test \"TARGET_32BIT && !arm_arch6\"))\n \t (const_string \"yes\")\n \n \t (and (eq_attr \"arch\" \"onlya8\")\n@@ -7413,7 +7413,7 @@\n    (set_attr \"type\" \"branch\")\n    (set (attr \"length\")\n \t(if_then_else\n-\t   (and (ne (symbol_ref \"TARGET_THUMB2\") (const_int 0))\n+\t   (and (match_test \"TARGET_THUMB2\")\n \t\t(and (ge (minus (match_dup 0) (pc)) (const_int -250))\n \t\t     (le (minus (match_dup 0) (pc)) (const_int 256))))\n \t   (const_int 2)\n@@ -7439,7 +7439,7 @@\n    (set_attr \"type\" \"branch\")\n    (set (attr \"length\")\n \t(if_then_else\n-\t   (and (ne (symbol_ref \"TARGET_THUMB2\") (const_int 0))\n+\t   (and (match_test \"TARGET_THUMB2\")\n \t\t(and (ge (minus (match_dup 0) (pc)) (const_int -250))\n \t\t     (le (minus (match_dup 0) (pc)) (const_int 256))))\n \t   (const_int 2)\n@@ -7898,7 +7898,7 @@\n   [(set_attr \"predicable\" \"yes\")\n    (set (attr \"length\")\n \t(if_then_else\n-\t   (and (ne (symbol_ref \"TARGET_THUMB2\") (const_int 0))\n+\t   (and (match_test \"TARGET_THUMB2\")\n \t\t(and (ge (minus (match_dup 0) (pc)) (const_int -2044))\n \t\t     (le (minus (match_dup 0) (pc)) (const_int 2048))))\n \t   (const_int 2)"}, {"sha": "57479853610ebdcdff8db4cc5ff3052c1a09b276", "filename": "gcc/config/arm/cortex-m4.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fcortex-m4.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fcortex-m4.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-m4.md?ref=b75b1be274e21796eae8fb1382ce1987f59ebee3", "patch": "@@ -44,14 +44,14 @@\n (define_insn_reservation \"cortex_m4_store1_1\" 1\n   (and (and (eq_attr \"tune\" \"cortexm4\")\n \t    (eq_attr \"type\" \"store1\"))\n-       (ne (symbol_ref (\"arm_address_offset_is_imm (insn)\")) (const_int 0)))\n+       (match_test \"arm_address_offset_is_imm (insn)\"))\n   \"cortex_m4_a\")\n \n ;; Other byte, half-word and word load is two cycles.\n (define_insn_reservation \"cortex_m4_store1_2\" 2\n   (and (and (eq_attr \"tune\" \"cortexm4\")\n \t    (eq_attr \"type\" \"store1\"))\n-       (eq (symbol_ref (\"arm_address_offset_is_imm (insn)\")) (const_int 0)))\n+       (not (match_test \"arm_address_offset_is_imm (insn)\")))\n   \"cortex_m4_a*2\")\n \n (define_insn_reservation \"cortex_m4_load2\" 3"}, {"sha": "0d94a49adbbb28adda607b2e662aaf9dfb6a70b9", "filename": "gcc/config/arm/neon.md", "status": "modified", "additions": 119, "deletions": 119, "changes": 238, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fneon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fneon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fneon.md?ref=b75b1be274e21796eae8fb1382ce1987f59ebee3", "patch": "@@ -576,8 +576,8 @@\n   \"TARGET_NEON && (!<Is_float_mode> || flag_unsafe_math_optimizations)\"\n   \"vadd.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_1\")))]\n@@ -612,8 +612,8 @@\n   \"TARGET_NEON && (!<Is_float_mode> || flag_unsafe_math_optimizations)\"\n   \"vsub.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_2\")))]\n@@ -649,16 +649,16 @@\n   \"TARGET_NEON && (!<Is_float_mode> || flag_unsafe_math_optimizations)\"\n   \"vmul.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n                                     (const_string \"neon_mul_qqq_8_16_32_ddd_32\"))\n-                                  (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                  (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mul_qqq_8_16_32_ddd_32\")\n                                     (const_string \"neon_mul_qqq_8_16_32_ddd_32\")))))]\n )\n@@ -671,16 +671,16 @@\n   \"TARGET_NEON && (!<Is_float_mode> || flag_unsafe_math_optimizations)\"\n   \"vmla.<V_if_elem>\\t%<V_reg>0, %<V_reg>2, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vmla_ddd\")\n                                   (const_string \"neon_fp_vmla_qqq\"))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                                     (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\"))\n-                                  (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                  (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_qqq_8_16\")\n                                     (const_string \"neon_mla_qqq_32_qqd_32_scalar\")))))]\n )\n@@ -693,16 +693,16 @@\n   \"TARGET_NEON && (!<Is_float_mode> || flag_unsafe_math_optimizations)\"\n   \"vmls.<V_if_elem>\\t%<V_reg>0, %<V_reg>2, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vmla_ddd\")\n                                   (const_string \"neon_fp_vmla_qqq\"))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                                     (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\"))\n-                                  (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                  (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_qqq_8_16\")\n                                     (const_string \"neon_mla_qqq_32_qqd_32_scalar\")))))]\n )\n@@ -902,8 +902,8 @@\n   \"TARGET_NEON\"\n   \"vabs.<V_s_elem>\\t%<V_reg>0, %<V_reg>1\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_3\")))]\n@@ -915,8 +915,8 @@\n   \"TARGET_NEON\"\n   \"vneg.<V_s_elem>\\t%<V_reg>0, %<V_reg>1\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_3\")))]\n@@ -947,7 +947,7 @@\n   \"TARGET_NEON\"\n   \"vmin.<V_s_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n                     (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                     (const_string \"neon_int_5\")))]\n )\n@@ -959,7 +959,7 @@\n   \"TARGET_NEON\"\n   \"vmax.<V_s_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n                     (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                     (const_string \"neon_int_5\")))]\n )\n@@ -985,7 +985,7 @@\n       }\n   }\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_vshl_ddd\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -1001,7 +1001,7 @@\n \t\t\t\t\tfalse);\n   }\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_vshl_ddd\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -1017,7 +1017,7 @@\n \t\t\t\t\tfalse);\n   }              \n   [(set (attr \"neon_type\")\n-\t(if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+\t(if_then_else (match_test \"<Is_d_reg>\")\n \t\t      (const_string \"neon_vshl_ddd\")\n \t\t      (const_string \"neon_shift_3\")))]\n )\n@@ -1035,7 +1035,7 @@\n   \"TARGET_NEON\"\n   \"vshl.<V_s_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_vshl_ddd\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -1051,7 +1051,7 @@\n   \"TARGET_NEON\"\n   \"vshl.<V_u_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_vshl_ddd\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -1491,8 +1491,8 @@\n   \"vpadd.<V_if_elem>\\t%P0, %P1, %P2\"\n   ;; Assume this schedules like vadd.\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_1\")))]\n@@ -1507,7 +1507,7 @@\n   \"vpmin.<V_s_elem>\\t%P0, %P1, %P2\"\n   ;; Assume this schedules like vmin.\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n                     (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                     (const_string \"neon_int_5\")))]\n )\n@@ -1521,7 +1521,7 @@\n   \"vpmax.<V_s_elem>\\t%P0, %P1, %P2\"\n   ;; Assume this schedules like vmax.\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n                     (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                     (const_string \"neon_int_5\")))]\n )\n@@ -1794,8 +1794,8 @@\n   \"TARGET_NEON\"\n   \"vadd.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_1\")))]\n@@ -1873,16 +1873,16 @@\n   \"TARGET_NEON\"\n   \"vmul.%F3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n                                     (const_string \"neon_mul_qqq_8_16_32_ddd_32\"))\n-                                  (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                  (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mul_qqq_8_16_32_ddd_32\")\n                                     (const_string \"neon_mul_qqq_8_16_32_ddd_32\")))))]\n )\n@@ -1915,16 +1915,16 @@\n   \"TARGET_NEON\"\n   \"vmla.<V_if_elem>\\t%<V_reg>0, %<V_reg>2, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vmla_ddd\")\n                                   (const_string \"neon_fp_vmla_qqq\"))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                                     (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\"))\n-                                  (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                  (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_qqq_8_16\")\n                                     (const_string \"neon_mla_qqq_32_qqd_32_scalar\")))))]\n )\n@@ -1939,7 +1939,7 @@\n   \"TARGET_NEON\"\n   \"vmlal.%T4%#<V_sz_elem>\\t%q0, %P2, %P3\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -1972,17 +1972,17 @@\n   \"TARGET_NEON\"\n   \"vmls.<V_if_elem>\\t%<V_reg>0, %<V_reg>2, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vmla_ddd\")\n                                   (const_string \"neon_fp_vmla_qqq\"))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                                     (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\"))\n                                   (if_then_else\n-                                    (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                                    (match_test \"<Scalar_mul_8_16>\")\n                                     (const_string \"neon_mla_qqq_8_16\")\n                                     (const_string \"neon_mla_qqq_32_qqd_32_scalar\")))))]\n )\n@@ -1997,7 +1997,7 @@\n   \"TARGET_NEON\"\n   \"vmlsl.%T4%#<V_sz_elem>\\t%q0, %P2, %P3\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -2011,11 +2011,11 @@\n   \"TARGET_NEON\"\n   \"vq%O3dmulh.<V_s_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n-        (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n+        (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                       (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n                       (const_string \"neon_mul_qqq_8_16_32_ddd_32\"))\n-        (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+        (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                       (const_string \"neon_mul_qqq_8_16_32_ddd_32\")\n                       (const_string \"neon_mul_qqq_8_16_32_ddd_32\"))))]\n )\n@@ -2030,7 +2030,7 @@\n   \"TARGET_NEON\"\n   \"vqdmlal.<V_s_elem>\\t%q0, %P2, %P3\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -2045,7 +2045,7 @@\n   \"TARGET_NEON\"\n   \"vqdmlsl.<V_s_elem>\\t%q0, %P2, %P3\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -2059,7 +2059,7 @@\n   \"TARGET_NEON\"\n   \"vmull.%T3%#<V_sz_elem>\\t%q0, %P1, %P2\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n                    (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")))]\n )\n@@ -2073,7 +2073,7 @@\n   \"TARGET_NEON\"\n   \"vqdmull.<V_s_elem>\\t%q0, %P1, %P2\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n                    (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")))]\n )\n@@ -2103,8 +2103,8 @@\n   \"TARGET_NEON\"\n   \"vsub.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_2\")))]\n@@ -2177,8 +2177,8 @@\n   vceq.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\n   vceq.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, #0\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_5\")))]\n@@ -2196,8 +2196,8 @@\n   vcge.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\n   vcge.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, #0\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                   (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n+                   (if_then_else (match_test \"<Is_d_reg>\")\n                                  (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                  (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                    (const_string \"neon_int_5\")))]\n@@ -2215,8 +2215,8 @@\n   vcgt.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\n   vcgt.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, #0\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                   (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n+                   (if_then_else (match_test \"<Is_d_reg>\")\n                                  (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                  (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                    (const_string \"neon_int_5\")))]\n@@ -2235,8 +2235,8 @@\n   \"TARGET_NEON\"\n   \"vcle.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, #0\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_5\")))]\n@@ -2252,8 +2252,8 @@\n   \"TARGET_NEON\"\n   \"vclt.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, #0\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                    (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_float_mode>\")\n+                    (if_then_else (match_test \"<Is_d_reg>\")\n                                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                   (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                     (const_string \"neon_int_5\")))]\n@@ -2268,7 +2268,7 @@\n   \"TARGET_NEON\"\n   \"vacge.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                    (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -2282,7 +2282,7 @@\n   \"TARGET_NEON\"\n   \"vacgt.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                    (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -2307,8 +2307,8 @@\n   \"TARGET_NEON\"\n   \"vabd.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                   (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n+                   (if_then_else (match_test \"<Is_d_reg>\")\n                                  (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                  (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                    (const_string \"neon_int_5\")))]\n@@ -2335,7 +2335,7 @@\n   \"TARGET_NEON\"\n   \"vaba.%T4%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>2, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_vaba\") (const_string \"neon_vaba_qqq\")))]\n )\n \n@@ -2360,8 +2360,8 @@\n   \"TARGET_NEON\"\n   \"vmax.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-    (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                  (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+    (if_then_else (match_test \"<Is_float_mode>\")\n+                  (if_then_else (match_test \"<Is_d_reg>\")\n                                 (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                 (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                   (const_string \"neon_int_5\")))]\n@@ -2376,8 +2376,8 @@\n   \"TARGET_NEON\"\n   \"vmin.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-    (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n-                  (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+    (if_then_else (match_test \"<Is_float_mode>\")\n+                  (if_then_else (match_test \"<Is_d_reg>\")\n                                 (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                                 (const_string \"neon_fp_vadd_qqq_vabs_qq\"))\n                   (const_string \"neon_int_5\")))]\n@@ -2428,7 +2428,7 @@\n   \"vpmax.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   ;; Assume this schedules like vmax.\n   [(set (attr \"neon_type\")\n-    (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+    (if_then_else (match_test \"<Is_float_mode>\")\n                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                   (const_string \"neon_int_5\")))]\n )\n@@ -2443,7 +2443,7 @@\n   \"vpmin.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   ;; Assume this schedules like vmin.\n   [(set (attr \"neon_type\")\n-    (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+    (if_then_else (match_test \"<Is_float_mode>\")\n                   (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                   (const_string \"neon_int_5\")))]\n )\n@@ -2457,7 +2457,7 @@\n   \"TARGET_NEON\"\n   \"vrecps.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_fp_vrecps_vrsqrts_ddd\")\n                     (const_string \"neon_fp_vrecps_vrsqrts_qqq\")))]\n )\n@@ -2471,7 +2471,7 @@\n   \"TARGET_NEON\"\n   \"vrsqrts.<V_if_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_fp_vrecps_vrsqrts_ddd\")\n                     (const_string \"neon_fp_vrecps_vrsqrts_qqq\")))]\n )\n@@ -2570,7 +2570,7 @@\n   \"TARGET_NEON\"\n   \"vrecpe.<V_u_elem>\\t%<V_reg>0, %<V_reg>1\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                     (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -2583,7 +2583,7 @@\n   \"TARGET_NEON\"\n   \"vrsqrte.<V_u_elem>\\t%<V_reg>0, %<V_reg>1\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                     (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -3155,7 +3155,7 @@\n   \"TARGET_NEON\"\n   \"vcvt.%T2%#32.f32\\t%<V_reg>0, %<V_reg>1\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                    (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -3168,7 +3168,7 @@\n   \"TARGET_NEON\"\n   \"vcvt.f32.%T2%#32\\t%<V_reg>0, %<V_reg>1\"\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                    (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -3185,7 +3185,7 @@\n   return \"vcvt.%T3%#32.f32\\t%<V_reg>0, %<V_reg>1, %2\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                    (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -3202,7 +3202,7 @@\n   return \"vcvt.f32.%T3%#32\\t%<V_reg>0, %<V_reg>1, %2\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_d_reg>\")\n                    (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n                    (const_string \"neon_fp_vadd_qqq_vabs_qq\")))]\n )\n@@ -3261,9 +3261,9 @@\n   return \"vmul.<V_if_elem>\\t%P0, %P1, %P2[%c3]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n                    (const_string \"neon_fp_vmul_ddd\")\n-                   (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                   (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                  (const_string \"neon_mul_ddd_16_scalar_32_16_long_scalar\")\n                                  (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\"))))]\n )\n@@ -3282,9 +3282,9 @@\n   return \"vmul.<V_if_elem>\\t%q0, %q1, %P2[%c3]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n                    (const_string \"neon_fp_vmul_qqd\")\n-                   (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                   (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                  (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")\n                                  (const_string \"neon_mul_qqd_32_scalar\"))))]\n )\n@@ -3303,7 +3303,7 @@\n   return \"vmull.%T4%#<V_sz_elem>\\t%q0, %P1, %P2[%c3]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mul_ddd_16_scalar_32_16_long_scalar\")\n                    (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")))]\n )\n@@ -3322,7 +3322,7 @@\n   return \"vqdmull.<V_s_elem>\\t%q0, %P1, %P2[%c3]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mul_ddd_16_scalar_32_16_long_scalar\")\n                    (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")))]\n )\n@@ -3341,7 +3341,7 @@\n   return \"vq%O4dmulh.%T4%#<V_sz_elem>\\t%q0, %q1, %P2[%c3]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")\n                    (const_string \"neon_mul_qqd_32_scalar\")))]\n )\n@@ -3360,7 +3360,7 @@\n   return \"vq%O4dmulh.%T4%#<V_sz_elem>\\t%P0, %P1, %P2[%c3]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mul_ddd_16_scalar_32_16_long_scalar\")\n                    (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")))]\n )\n@@ -3380,9 +3380,9 @@\n   return \"vmla.<V_if_elem>\\t%P0, %P2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n                    (const_string \"neon_fp_vmla_ddd_scalar\")\n-                   (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                   (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                  (const_string \"neon_mla_ddd_16_scalar_qdd_32_16_long_scalar\")\n                                  (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\"))))]\n )\n@@ -3402,9 +3402,9 @@\n   return \"vmla.<V_if_elem>\\t%q0, %q2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n                    (const_string \"neon_fp_vmla_qqq_scalar\")\n-                   (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                   (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                  (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")\n                                  (const_string \"neon_mla_qqq_32_qqd_32_scalar\"))))]\n )\n@@ -3424,7 +3424,7 @@\n   return \"vmlal.%T5%#<V_sz_elem>\\t%q0, %P2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_16_scalar_qdd_32_16_long_scalar\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -3444,7 +3444,7 @@\n   return \"vqdmlal.<V_s_elem>\\t%q0, %P2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_16_scalar_qdd_32_16_long_scalar\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -3464,9 +3464,9 @@\n   return \"vmls.<V_if_elem>\\t%P0, %P2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n                    (const_string \"neon_fp_vmla_ddd_scalar\")\n-                   (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                   (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                  (const_string \"neon_mla_ddd_16_scalar_qdd_32_16_long_scalar\")\n                                  (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\"))))]\n )\n@@ -3486,9 +3486,9 @@\n   return \"vmls.<V_if_elem>\\t%q0, %q2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Is_float_mode>\") (const_int 0))\n+     (if_then_else (match_test \"<Is_float_mode>\")\n                    (const_string \"neon_fp_vmla_qqq_scalar\")\n-                   (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+                   (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                                  (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")\n                                  (const_string \"neon_mla_qqq_32_qqd_32_scalar\"))))]\n )\n@@ -3508,7 +3508,7 @@\n   return \"vmlsl.%T5%#<V_sz_elem>\\t%q0, %P2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_16_scalar_qdd_32_16_long_scalar\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -3528,7 +3528,7 @@\n   return \"vqdmlsl.<V_s_elem>\\t%q0, %P2, %P3[%c4]\";\n }\n   [(set (attr \"neon_type\")\n-     (if_then_else (ne (symbol_ref \"<Scalar_mul_8_16>\") (const_int 0))\n+     (if_then_else (match_test \"<Scalar_mul_8_16>\")\n                    (const_string \"neon_mla_ddd_16_scalar_qdd_32_16_long_scalar\")\n                    (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")))]\n )\n@@ -3756,7 +3756,7 @@\n   return \"vext.<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2, %3\";\n }\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_bp_simple\")\n                     (const_string \"neon_bp_2cycle\")))]\n )\n@@ -3834,7 +3834,7 @@\n   \"TARGET_NEON\"\n   \"v%O3shl.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_vshl_ddd\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -3848,7 +3848,7 @@\n   \"TARGET_NEON\"\n   \"vq%O3shl.%T3%#<V_sz_elem>\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_shift_2\")\n                     (const_string \"neon_vqshl_vrshl_vqrshl_qqq\")))]\n )\n@@ -3993,7 +3993,7 @@\n   return \"vsri.<V_sz_elem>\\t%<V_reg>0, %<V_reg>2, %3\";\n }\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_shift_1\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -4010,7 +4010,7 @@\n   return \"vsli.<V_sz_elem>\\t%<V_reg>0, %<V_reg>2, %3\";\n }\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_shift_1\")\n                     (const_string \"neon_shift_3\")))]\n )\n@@ -4182,7 +4182,7 @@\n   \"TARGET_NEON\"\n   \"vtrn.<V_sz_elem>\\t%<V_reg>0, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_bp_simple\")\n                     (const_string \"neon_bp_3cycle\")))]\n )\n@@ -4209,7 +4209,7 @@\n   \"TARGET_NEON\"\n   \"vzip.<V_sz_elem>\\t%<V_reg>0, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_bp_simple\")\n                     (const_string \"neon_bp_3cycle\")))]\n )\n@@ -4236,7 +4236,7 @@\n   \"TARGET_NEON\"\n   \"vuzp.<V_sz_elem>\\t%<V_reg>0, %<V_reg>3\"\n   [(set (attr \"neon_type\")\n-      (if_then_else (ne (symbol_ref \"<Is_d_reg>\") (const_int 0))\n+      (if_then_else (match_test \"<Is_d_reg>\")\n                     (const_string \"neon_bp_simple\")\n                     (const_string \"neon_bp_3cycle\")))]\n )"}, {"sha": "05585dabbab47a5a989984249734a31099e863f2", "filename": "gcc/config/arm/thumb2.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fthumb2.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fthumb2.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fthumb2.md?ref=b75b1be274e21796eae8fb1382ce1987f59ebee3", "patch": "@@ -951,7 +951,7 @@\n         (if_then_else\n \t    (and (ge (minus (match_dup 1) (pc)) (const_int 2))\n \t         (le (minus (match_dup 1) (pc)) (const_int 128))\n-\t         (eq (symbol_ref (\"which_alternative\")) (const_int 0)))\n+\t         (not (match_test \"which_alternative\")))\n \t    (const_int 2)\n \t    (const_int 8)))]\n )\n@@ -974,7 +974,7 @@\n         (if_then_else\n \t    (and (ge (minus (match_dup 1) (pc)) (const_int 2))\n \t         (le (minus (match_dup 1) (pc)) (const_int 128))\n-\t         (eq (symbol_ref (\"which_alternative\")) (const_int 0)))\n+\t         (not (match_test \"which_alternative\")))\n \t    (const_int 2)\n \t    (const_int 8)))]\n )"}, {"sha": "0c85c46019b3d6e72f450ffcc416ea4010de8693", "filename": "gcc/config/arm/vfp.md", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fvfp.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b75b1be274e21796eae8fb1382ce1987f59ebee3/gcc%2Fconfig%2Farm%2Fvfp.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvfp.md?ref=b75b1be274e21796eae8fb1382ce1987f59ebee3", "patch": "@@ -173,7 +173,7 @@\n                               (eq_attr \"alternative\" \"3\") (const_int 16)\n                               (eq_attr \"alternative\" \"9\")\n                                (if_then_else\n-                                 (eq (symbol_ref \"TARGET_VFP_SINGLE\") (const_int 1))\n+                                 (match_test \"TARGET_VFP_SINGLE\")\n                                  (const_int 8)\n                                  (const_int 4))]\n                               (const_int 4)))\n@@ -454,8 +454,7 @@\n    (set (attr \"length\") (cond [(eq_attr \"alternative\" \"5,6,8\") (const_int 8)\n \t\t\t       (eq_attr \"alternative\" \"7\")\n \t\t\t\t(if_then_else\n-\t\t\t\t (eq (symbol_ref \"TARGET_VFP_SINGLE\")\n-\t\t\t\t     (const_int 1))\n+\t\t\t\t (match_test \"TARGET_VFP_SINGLE\")\n \t\t\t\t (const_int 8)\n \t\t\t\t (const_int 4))]\n \t\t\t      (const_int 4)))\n@@ -498,8 +497,7 @@\n    (set (attr \"length\") (cond [(eq_attr \"alternative\" \"5,6,8\") (const_int 8)\n \t\t\t       (eq_attr \"alternative\" \"7\")\n \t\t\t\t(if_then_else\n-\t\t\t\t (eq (symbol_ref \"TARGET_VFP_SINGLE\")\n-\t\t\t\t     (const_int 1))\n+\t\t\t\t (match_test \"TARGET_VFP_SINGLE\")\n \t\t\t\t (const_int 8)\n \t\t\t\t (const_int 4))]\n \t\t\t      (const_int 4)))"}]}