{"sha": "987bf56f8498866e97f35d866a9d9a9bde777283", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg3YmY1NmY4NDk4ODY2ZTk3ZjM1ZDg2NmE5ZDlhOWJkZTc3NzI4Mw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-07-29T17:42:34Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-07-29T17:42:34Z"}, "message": "re PR c++/11131 (Unrelated declaration removes inline flag from function)\n\n\n\tPR C++/11131\n\t* tree-inline.c (expand_call_inline): Always call inlinable_function_p\n\tin !unit-at-a-time mode.\n\nFrom-SVN: r69929", "tree": {"sha": "0f103e3ff8f0cb48d46bf37b35971a7f157ce279", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f103e3ff8f0cb48d46bf37b35971a7f157ce279"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/987bf56f8498866e97f35d866a9d9a9bde777283", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/987bf56f8498866e97f35d866a9d9a9bde777283", "html_url": "https://github.com/Rust-GCC/gccrs/commit/987bf56f8498866e97f35d866a9d9a9bde777283", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/987bf56f8498866e97f35d866a9d9a9bde777283/comments", "author": null, "committer": null, "parents": [{"sha": "a47c20a77a20936d6d6fd5ebacb7dce43079a66f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a47c20a77a20936d6d6fd5ebacb7dce43079a66f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a47c20a77a20936d6d6fd5ebacb7dce43079a66f"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "0e339ddffd48b8468cac2f8f74b64f1a6b675591", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/987bf56f8498866e97f35d866a9d9a9bde777283/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/987bf56f8498866e97f35d866a9d9a9bde777283/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=987bf56f8498866e97f35d866a9d9a9bde777283", "patch": "@@ -1,3 +1,9 @@\n+Tue Jul 29 19:24:49 CEST 2003  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR C++/11131\n+\t* tree-inline.c (expand_call_inline): Always call inlinable_function_p\n+\tin !unit-at-a-time mode.\n+\n 2003-07-28  Geoffrey Keating  <geoffk@apple.com>\n \n \t* c-decl.c (c_expand_body_1): Use C_DECL_FILE_SCOPE to detect"}, {"sha": "bd45b15fe2bcaf6952308ac9da9d4a88546d2f05", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/987bf56f8498866e97f35d866a9d9a9bde777283/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/987bf56f8498866e97f35d866a9d9a9bde777283/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=987bf56f8498866e97f35d866a9d9a9bde777283", "patch": "@@ -1164,8 +1164,8 @@ expand_call_inline (tree *tp, int *walk_subtrees, void *data)\n \n   /* Don't try to inline functions that are not well-suited to\n      inlining.  */\n-  if (!DECL_SAVED_TREE (fn)\n-      || (flag_unit_at_a_time && !cgraph_inline_p (id->current_decl, fn))\n+  if ((flag_unit_at_a_time\n+       && (!DECL_SAVED_TREE (fn) || !cgraph_inline_p (id->current_decl, fn)))\n       || (!flag_unit_at_a_time && !inlinable_function_p (fn, id, 0)))\n     {\n       if (warn_inline && DECL_INLINE (fn) && !DID_INLINE_FUNC (fn)"}]}