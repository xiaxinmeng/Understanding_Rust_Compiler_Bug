{"sha": "e389f80098efb019e8d166338894249770f26e6e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTM4OWY4MDA5OGVmYjAxOWU4ZDE2NjMzODg5NDI0OTc3MGYyNmU2ZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-10-27T23:07:43Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-10-27T23:07:43Z"}, "message": "fix\n\nFrom-SVN: r23375", "tree": {"sha": "f2f16cfc3d5c4c4c9dfc8467d6c2517ec94d4450", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2f16cfc3d5c4c4c9dfc8467d6c2517ec94d4450"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e389f80098efb019e8d166338894249770f26e6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e389f80098efb019e8d166338894249770f26e6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e389f80098efb019e8d166338894249770f26e6e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e389f80098efb019e8d166338894249770f26e6e/comments", "author": null, "committer": null, "parents": [{"sha": "03acd8f806b61482262b880650f8ca52821d27f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03acd8f806b61482262b880650f8ca52821d27f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03acd8f806b61482262b880650f8ca52821d27f4"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "7f8647226c8e942fe7443fed02a430cbdcbd4ead", "filename": "gcc/testsuite/g++.old-deja/g++.robertl/eb43.C", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e389f80098efb019e8d166338894249770f26e6e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.robertl%2Feb43.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e389f80098efb019e8d166338894249770f26e6e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.robertl%2Feb43.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.robertl%2Feb43.C?ref=e389f80098efb019e8d166338894249770f26e6e", "patch": "@@ -1,4 +1,7 @@\n-// excess errors test - XFAIL *-*-*\n+// All the pointer_to_binary_function cases used to fail because g++\n+// couldn't handle converting an overloaded function to a class type.\n+// The first one should still fail because it requires an implicit conversion\n+// to pointer_to_binary_function, which has an `explicit' constructor.\n \n #include <vector.h>\n #include <algo.h>\n@@ -13,15 +16,15 @@ public :\n template <class T >\n inline bool compare(const Expr<T> a, const Expr<T> b){ return true; };\n \n-void main()\n+int main()\n {\n   vector<int>\ta(3);\n   sort( a.begin(), a.end(),\n \tstatic_cast<bool (*)(const Expr<int>,const Expr<int>)>(compare) );\n   sort( a.begin(), a.end(), compare<int> );\n   sort<vector<int>::iterator,\n        pointer_to_binary_function<const Expr<int>, const Expr<int>, bool> >\n-    ( a.begin(), a.end(), compare );\n+    ( a.begin(), a.end(), compare ); // ERROR - constructor is explicit\n   sort( a.begin(), a.end(),\n \tptr_fun<const Expr<int>, const Expr<int>, bool> (compare) );\n   sort( a.begin(), a.end(),"}]}