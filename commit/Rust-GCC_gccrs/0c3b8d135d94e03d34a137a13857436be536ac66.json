{"sha": "0c3b8d135d94e03d34a137a13857436be536ac66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGMzYjhkMTM1ZDk0ZTAzZDM0YTEzN2ExMzg1NzQzNmJlNTM2YWM2Ng==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2004-06-25T01:28:34Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2004-06-25T01:28:34Z"}, "message": "fold-const.c (fold_addr_expr_with_type): Look through all valid LHS modifiers to find a base to mark addressable.\n\n\t* fold-const.c (fold_addr_expr_with_type): Look through all\n\tvalid LHS modifiers to find a base to mark addressable.\n\nFrom-SVN: r83628", "tree": {"sha": "49657bf2149002ba15ce92b56d3b866765300899", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49657bf2149002ba15ce92b56d3b866765300899"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c3b8d135d94e03d34a137a13857436be536ac66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c3b8d135d94e03d34a137a13857436be536ac66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c3b8d135d94e03d34a137a13857436be536ac66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c3b8d135d94e03d34a137a13857436be536ac66/comments", "author": null, "committer": null, "parents": [{"sha": "61a36b9baaae66daf5ba883a86d4c0886256b05f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61a36b9baaae66daf5ba883a86d4c0886256b05f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61a36b9baaae66daf5ba883a86d4c0886256b05f"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "e4f9cb1dc00334b097ff0182d1fcd9b5d5c41242", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c3b8d135d94e03d34a137a13857436be536ac66/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c3b8d135d94e03d34a137a13857436be536ac66/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c3b8d135d94e03d34a137a13857436be536ac66", "patch": "@@ -1,5 +1,8 @@\n 2004-06-24  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n+\t* fold-const.c (fold_addr_expr_with_type): Look through all\n+\tvalid LHS modifiers to find a base to mark addressable.\n+\n \t* tree.h (debug_find_tree): Add declaration.\n \t* tree-inline.c (debug_find_tree): Remove extern declaration.\n "}, {"sha": "343662a5ee9a8952408f561969d16e949be71a26", "filename": "gcc/fold-const.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c3b8d135d94e03d34a137a13857436be536ac66/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c3b8d135d94e03d34a137a13857436be536ac66/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=0c3b8d135d94e03d34a137a13857436be536ac66", "patch": "@@ -10420,8 +10420,10 @@ build_fold_addr_expr_with_type (tree t, tree ptrtype)\n   else\n     {\n       tree base = t;\n-      while (TREE_CODE (base) == COMPONENT_REF\n-\t     || TREE_CODE (base) == ARRAY_REF)\n+\n+      while (handled_component_p (base)\n+\t     || TREE_CODE (base) == REALPART_EXPR\n+\t     || TREE_CODE (base) == IMAGPART_EXPR)\n \tbase = TREE_OPERAND (base, 0);\n       if (DECL_P (base))\n \tTREE_ADDRESSABLE (base) = 1;"}]}