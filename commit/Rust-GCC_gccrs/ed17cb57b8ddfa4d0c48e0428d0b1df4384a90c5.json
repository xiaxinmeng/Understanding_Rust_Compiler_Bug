{"sha": "ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWQxN2NiNTdiOGRkZmE0ZDBjNDhlMDQyOGQwYjFkZjQzODRhOTBjNQ==", "commit": {"author": {"name": "Jackson Woodruff", "email": "jackson.woodruff@arm.com", "date": "2017-09-15T16:17:55Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2017-09-15T16:17:55Z"}, "message": "re PR tree-optimization/71026 (Missing division optimizations)\n\n2017-09-15  Jackson Woodruff  <jackson.woodruff@arm.com>\n\n\tPR tree-optimization/71026\n\t* match.pd: Move RDIV patterns from fold-const.c\n\t* fold-const.c (distribute_real_division): Removed.\n\t(fold_binary_loc): Remove calls to distribute_real_divison.\n\n\tPR tree-optimization/71026\n\t* gcc/testsuire/gcc.dg/fold-div-1.c: Use -O1.\n\nFrom-SVN: r252827", "tree": {"sha": "9f1fdd7b65e117f00b289049338c93b0a1f172d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9f1fdd7b65e117f00b289049338c93b0a1f172d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/comments", "author": null, "committer": null, "parents": [{"sha": "7b9361409dda228eedb13a3abe547c3cafbe957b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b9361409dda228eedb13a3abe547c3cafbe957b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b9361409dda228eedb13a3abe547c3cafbe957b"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "7147d5d1671ecec063c30458f1725c67111605c0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "patch": "@@ -1,3 +1,10 @@\n+2017-09-15  Jackson Woodruff  <jackson.woodruff@arm.com>\n+\n+\tPR tree-optimization/71026\n+\t* match.pd: Move RDIV patterns from fold-const.c\n+\t* fold-const.c (distribute_real_division): Removed.\n+\t(fold_binary_loc): Remove calls to distribute_real_divison.\n+\n 2017-09-15  Jakub Jelinek  <jakub@redhat.com>\n \n \t* doc/invoke.texi: Document -std=c++17 and -std=gnu++17 and document"}, {"sha": "e9017e41f20eeca21275623dc25e969162b3533f", "filename": "gcc/match.pd", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2Fmatch.pd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2Fmatch.pd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmatch.pd?ref=ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "patch": "@@ -3517,6 +3517,13 @@ DEFINE_INT_AND_FLOAT_ROUND_FN (RINT)\n   (if (!HONOR_SNANS (type))\n    @0))\n \n+ (for op (plus minus)\n+  /* Simplify (A / C) +- (B / C) -> (A +- B) / C.  */\n+  (simplify\n+   (op (rdiv @0 @1)\n+       (rdiv @2 @1))\n+   (rdiv (op @0 @2) @1)))\n+\n  /* Simplify sqrt(x) * sqrt(y) -> sqrt(x*y).  */\n  (for root (SQRT CBRT)\n   (simplify"}, {"sha": "240544f036a4bf6421ce0ee7d125d5827b0ef771", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "patch": "@@ -1,3 +1,8 @@\n+2017-09-15  Jackson Woodruff  <jackson.woodruff@arm.com>\n+\n+\tPR tree-optimization/71026\n+\t* gcc/testsuire/gcc.dg/fold-div-1.c: Use -O1.\n+\n 2017-09-15  Jakub Jelinek  <jakub@redhat.com>\n \n \t* lib/g++-dg.exp (g++-dg-runtest): Use 17 instead of 1z."}, {"sha": "73b75861166f40733d9768e9703664d51ee1a9ef", "filename": "gcc/testsuite/gcc.dg/fold-div-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2Ftestsuite%2Fgcc.dg%2Ffold-div-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5/gcc%2Ftestsuite%2Fgcc.dg%2Ffold-div-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ffold-div-1.c?ref=ed17cb57b8ddfa4d0c48e0428d0b1df4384a90c5", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-funsafe-math-optimizations -fdump-tree-gimple\" } */\n+/* { dg-options \"-O1 -funsafe-math-optimizations -fdump-tree-gimple\" } */\n \n float f(float x)\n {"}]}