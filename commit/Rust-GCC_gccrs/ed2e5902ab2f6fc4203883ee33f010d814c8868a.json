{"sha": "ed2e5902ab2f6fc4203883ee33f010d814c8868a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWQyZTU5MDJhYjJmNmZjNDIwMzg4M2VlMzNmMDEwZDgxNGM4ODY4YQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2003-04-04T01:21:56Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2003-04-04T01:21:56Z"}, "message": "re PR c/10175 (-Wunreachable-code doesn't work for single lines)\n\n        PR c/10175\n        * jump.c (never_reached_warning): Revert patch of 2002-11-02.\n        Look backwards for a line note.\n\nFrom-SVN: r65227", "tree": {"sha": "ae1ea1dc2bebea2da16c63c26850e910f8520487", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae1ea1dc2bebea2da16c63c26850e910f8520487"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ed2e5902ab2f6fc4203883ee33f010d814c8868a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed2e5902ab2f6fc4203883ee33f010d814c8868a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed2e5902ab2f6fc4203883ee33f010d814c8868a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed2e5902ab2f6fc4203883ee33f010d814c8868a/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bc349178ee3f7cae0a82a44328679f018797bf4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc349178ee3f7cae0a82a44328679f018797bf4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc349178ee3f7cae0a82a44328679f018797bf4b"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "b890b9c982497a58d7126907218ba04e66b670dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed2e5902ab2f6fc4203883ee33f010d814c8868a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed2e5902ab2f6fc4203883ee33f010d814c8868a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ed2e5902ab2f6fc4203883ee33f010d814c8868a", "patch": "@@ -1,3 +1,9 @@\n+2003-04-03  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c/10175\n+\t* jump.c (never_reached_warning): Revert patch of 2002-11-02.\n+\tLook backwards for a line note.\n+\n 2003-04-03  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* fix-header.c (read_scan_file): Defer switch processing."}, {"sha": "b48bc6b03478fd5c14c92e4276a48291c0a4dd7c", "filename": "gcc/jump.c", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed2e5902ab2f6fc4203883ee33f010d814c8868a/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed2e5902ab2f6fc4203883ee33f010d814c8868a/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=ed2e5902ab2f6fc4203883ee33f010d814c8868a", "patch": "@@ -1909,10 +1909,20 @@ never_reached_warning (avoided_insn, finish)\n   if (!warn_notreached)\n     return;\n \n+  /* Back up to the first of any NOTEs preceding avoided_insn; flow passes\n+     us the head of a block, a NOTE_INSN_BASIC_BLOCK, which often follows\n+     the line note.  */\n+  for (insn = PREV_INSN (avoided_insn); ; insn = PREV_INSN (insn))\n+    if (GET_CODE (insn) != NOTE)\n+      {\n+\tinsn = NEXT_INSN (insn);\n+\tbreak;\n+      }\n+\n   /* Scan forwards, looking at LINE_NUMBER notes, until we hit a LABEL\n      in case FINISH is NULL, otherwise until we run out of insns.  */\n \n-  for (insn = avoided_insn; insn != NULL; insn = NEXT_INSN (insn))\n+  for (; insn != NULL; insn = NEXT_INSN (insn))\n     {\n       if ((finish == NULL && GET_CODE (insn) == CODE_LABEL)\n \t  || GET_CODE (insn) == BARRIER)\n@@ -1929,7 +1939,7 @@ never_reached_warning (avoided_insn, finish)\n \t}\n       else if (INSN_P (insn))\n \t{\n-\t  if (reached_end || a_line_note == NULL)\n+\t  if (reached_end)\n \t    break;\n \t  contains_insn = 1;\n \t}"}]}