{"sha": "edeac5de33e2a82c2641ca34c26b9e5bbdec5b49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWRlYWM1ZGUzM2UyYTgyYzI2NDFjYTM0YzI2YjllNWJiZGVjNWI0OQ==", "commit": {"author": {"name": "Andi Kleen", "email": "ak@muc.de", "date": "2003-07-30T20:28:45Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-07-30T20:28:45Z"}, "message": "* loop.c (check_dbra_loop): Allow LTU in the loop condition.\n\nFrom-SVN: r69971", "tree": {"sha": "0c3bb9bd40751351e4c41eb0c315bf0ee6f7db77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c3bb9bd40751351e4c41eb0c315bf0ee6f7db77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49/comments", "author": null, "committer": null, "parents": [{"sha": "6e885ee3ff4f358d7a7e84b8687f27a61101a25f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e885ee3ff4f358d7a7e84b8687f27a61101a25f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e885ee3ff4f358d7a7e84b8687f27a61101a25f"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "4346bdbac526678234d7448795372d6c8ffe37d8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=edeac5de33e2a82c2641ca34c26b9e5bbdec5b49", "patch": "@@ -1,3 +1,7 @@\n+2003-07-30  Andi Kleen  <ak@muc.de>\n+\n+\t* loop.c (check_dbra_loop): Allow LTU in the loop condition.\n+\n 2003-07-30  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n \n \t* combine.c (distribute_notes): Cancel REG_VALUE_PROFILE notes."}, {"sha": "4a987d50337cfe65b15a19afd770682440b0702d", "filename": "gcc/loop.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edeac5de33e2a82c2641ca34c26b9e5bbdec5b49/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=edeac5de33e2a82c2641ca34c26b9e5bbdec5b49", "patch": "@@ -8070,7 +8070,8 @@ check_dbra_loop (struct loop *loop, int insn_count)\n \t  before_comparison = get_condition_for_loop (loop, p);\n \t  if (before_comparison\n \t      && XEXP (before_comparison, 0) == bl->biv->dest_reg\n-\t      && GET_CODE (before_comparison) == LT\n+\t      && (GET_CODE (before_comparison) == LT\n+\t\t  || GET_CODE (before_comparison) == LTU)\n \t      && XEXP (before_comparison, 1) == const0_rtx\n \t      && ! reg_set_between_p (bl->biv->dest_reg, p, loop_start)\n \t      && INTVAL (bl->biv->add_val) == -1)\n@@ -8241,7 +8242,8 @@ check_dbra_loop (struct loop *loop, int insn_count)\n \t      /* for constants, LE gets turned into LT */\n \t      && (GET_CODE (comparison) == LT\n \t\t  || (GET_CODE (comparison) == LE\n-\t\t      && no_use_except_counting)))\n+\t\t      && no_use_except_counting) \n+\t\t  || GET_CODE (comparison) == LTU))\n \t    {\n \t      HOST_WIDE_INT add_val, add_adjust, comparison_val = 0;\n \t      rtx initial_value, comparison_value;"}]}