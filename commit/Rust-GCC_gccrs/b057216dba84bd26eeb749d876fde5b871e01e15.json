{"sha": "b057216dba84bd26eeb749d876fde5b871e01e15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA1NzIxNmRiYTg0YmQyNmVlYjc0OWQ4NzZmZGU1Yjg3MWUwMWUxNQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-12-08T18:52:48Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-12-08T18:52:48Z"}, "message": "cfgloopmanip.c (create_preheader): Speed up by \"unrolling\" and simplifying FOR_EACH_EDGE.\n\n\t* cfgloopmanip.c (create_preheader): Speed up by \"unrolling\"\n\tand simplifying FOR_EACH_EDGE.\n\nFrom-SVN: r91913", "tree": {"sha": "4e16e8f3757b241aca3fb4449f18006ee08624a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e16e8f3757b241aca3fb4449f18006ee08624a5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b057216dba84bd26eeb749d876fde5b871e01e15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b057216dba84bd26eeb749d876fde5b871e01e15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b057216dba84bd26eeb749d876fde5b871e01e15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b057216dba84bd26eeb749d876fde5b871e01e15/comments", "author": null, "committer": null, "parents": [{"sha": "d63a0e228c533fe4ab3b78007d43b3c6bf6a83d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d63a0e228c533fe4ab3b78007d43b3c6bf6a83d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d63a0e228c533fe4ab3b78007d43b3c6bf6a83d1"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "7972254f6ed1697b54678cef5367beb9a312917a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b057216dba84bd26eeb749d876fde5b871e01e15/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b057216dba84bd26eeb749d876fde5b871e01e15/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b057216dba84bd26eeb749d876fde5b871e01e15", "patch": "@@ -1,3 +1,8 @@\n+2004-12-08  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* cfgloopmanip.c (create_preheader): Speed up by \"unrolling\"\n+\tand simplifying FOR_EACH_EDGE.\n+\n 2004-12-08  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/frv/frv.c (frv_sort_insn_group): Always initialize"}, {"sha": "77988c20c2f61c2ce445777cd1dfc08359ad6d99", "filename": "gcc/cfgloopmanip.c", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b057216dba84bd26eeb749d876fde5b871e01e15/gcc%2Fcfgloopmanip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b057216dba84bd26eeb749d876fde5b871e01e15/gcc%2Fcfgloopmanip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloopmanip.c?ref=b057216dba84bd26eeb749d876fde5b871e01e15", "patch": "@@ -1156,9 +1156,10 @@ create_preheader (struct loop *loop, int flags)\n   gcc_assert (nentry);\n   if (nentry == 1)\n     {\n-      FOR_EACH_EDGE (e, ei, loop->header->preds)\n-\tif (e->src != loop->latch)\n-\t  break;\n+      /* Get an edge that is different from the one from loop->latch\n+\t to loop->header.  */\n+      e = EDGE_PRED (loop->header,\n+\t\t     EDGE_PRED (loop->header, 0)->src == loop->latch);\n \n       if (!(flags & CP_SIMPLE_PREHEADERS) || EDGE_COUNT (e->src->succs) == 1)\n \treturn NULL;\n@@ -1178,9 +1179,10 @@ create_preheader (struct loop *loop, int flags)\n \n   /* Reorganize blocks so that the preheader is not stuck in the middle of the\n      loop.  */\n-  FOR_EACH_EDGE (e, ei, dummy->preds)\n-    if (e->src != loop->latch)\n-      break;\n+  \n+  /* Get an edge that is different from the one from loop->latch to\n+     dummy.  */\n+  e = EDGE_PRED (dummy, EDGE_PRED (dummy, 0)->src == loop->latch);\n   move_block_after (dummy, e->src);\n \n   loop->header->loop_father = loop;"}]}