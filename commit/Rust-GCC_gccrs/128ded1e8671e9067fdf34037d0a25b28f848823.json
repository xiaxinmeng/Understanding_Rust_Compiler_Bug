{"sha": "128ded1e8671e9067fdf34037d0a25b28f848823", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTI4ZGVkMWU4NjcxZTkwNjdmZGYzNDAzN2QwYTI1YjI4Zjg0ODgyMw==", "commit": {"author": {"name": "Mike Stump", "email": "mikestump@comcast.net", "date": "2014-05-19T15:32:22Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2014-05-19T15:32:22Z"}, "message": "target-supports.exp (check_effective_target_avx): Early out if not x86 to prevent x86 flags on non-x86 targets.\n\n\t* lib/target-supports.exp (check_effective_target_avx): Early out\n\tif not x86 to prevent x86 flags on non-x86 targets.\n\nFrom-SVN: r210616", "tree": {"sha": "84703921ba6368f31b0b14ba94942c83939e689e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84703921ba6368f31b0b14ba94942c83939e689e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/128ded1e8671e9067fdf34037d0a25b28f848823", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/128ded1e8671e9067fdf34037d0a25b28f848823", "html_url": "https://github.com/Rust-GCC/gccrs/commit/128ded1e8671e9067fdf34037d0a25b28f848823", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/128ded1e8671e9067fdf34037d0a25b28f848823/comments", "author": null, "committer": null, "parents": [{"sha": "b17f08ddf93f7aae3162af92f79879175af255a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b17f08ddf93f7aae3162af92f79879175af255a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b17f08ddf93f7aae3162af92f79879175af255a8"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "731ccf7731ef065af3123259602bb27838c9d981", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/128ded1e8671e9067fdf34037d0a25b28f848823/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/128ded1e8671e9067fdf34037d0a25b28f848823/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=128ded1e8671e9067fdf34037d0a25b28f848823", "patch": "@@ -1,3 +1,8 @@\n+2014-05-19  Mike Stump  <mikestump@comcast.net>\n+\n+\t* lib/target-supports.exp (check_effective_target_avx): Early out\n+\tif not x86 to prevent x86 flags on non-x86 targets.\n+\n 2014-05-19  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/61221"}, {"sha": "1f921537757a64e37db1f615d627d5c6281d8318", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/128ded1e8671e9067fdf34037d0a25b28f848823/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/128ded1e8671e9067fdf34037d0a25b28f848823/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=128ded1e8671e9067fdf34037d0a25b28f848823", "patch": "@@ -5318,6 +5318,9 @@ proc check_effective_target_avx512f { } {\n # Return 1 if avx instructions can be compiled.\n \n proc check_effective_target_avx { } {\n+    if { !([istarget x86_64-*-*] || [istarget i?86-*-*]) } {\n+\treturn 0\n+    }\n     return [check_no_compiler_messages avx object {\n \tvoid _mm256_zeroall (void)\n \t{"}]}