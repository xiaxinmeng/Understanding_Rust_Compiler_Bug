{"sha": "cac960a3ec450377ebeea9a2ea563a545e54f2d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2FjOTYwYTNlYzQ1MDM3N2ViZWVhOWEyZWE1NjNhNTQ1ZTU0ZjJkNg==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2021-02-23T14:40:03Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2021-02-23T14:40:03Z"}, "message": "c++: Micro-optimize instantiation_dependent_expression_p\n\nThis makes instantiation_dependent_expression_p avoid calling\npotential_constant_expression when processing_template_decl isn't set\n(and hence when value_dependent_expression_p is definitely false).\n\ngcc/cp/ChangeLog:\n\n\t* pt.c (instantiation_dependent_expression_p): Check\n\tprocessing_template_decl before calling\n\tpotential_constant_expression.", "tree": {"sha": "7f9e4c08bc579648e5124bae1ff0b39c2f9c19f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f9e4c08bc579648e5124bae1ff0b39c2f9c19f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cac960a3ec450377ebeea9a2ea563a545e54f2d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cac960a3ec450377ebeea9a2ea563a545e54f2d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cac960a3ec450377ebeea9a2ea563a545e54f2d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cac960a3ec450377ebeea9a2ea563a545e54f2d6/comments", "author": null, "committer": null, "parents": [{"sha": "e03e58c1844d04678f95b278f3eff2a5fbaeff75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e03e58c1844d04678f95b278f3eff2a5fbaeff75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e03e58c1844d04678f95b278f3eff2a5fbaeff75"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "03935310ef7a778e5d95e320ed94f45389703c70", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cac960a3ec450377ebeea9a2ea563a545e54f2d6/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cac960a3ec450377ebeea9a2ea563a545e54f2d6/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=cac960a3ec450377ebeea9a2ea563a545e54f2d6", "patch": "@@ -27519,7 +27519,8 @@ bool\n instantiation_dependent_expression_p (tree expression)\n {\n   return (instantiation_dependent_uneval_expression_p (expression)\n-\t  || (potential_constant_expression (expression)\n+\t  || (processing_template_decl\n+\t      && potential_constant_expression (expression)\n \t      && value_dependent_expression_p (expression)));\n }\n "}]}