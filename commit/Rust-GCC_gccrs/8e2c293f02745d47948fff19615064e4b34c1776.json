{"sha": "8e2c293f02745d47948fff19615064e4b34c1776", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGUyYzI5M2YwMjc0NWQ0Nzk0OGZmZjE5NjE1MDY0ZTRiMzRjMTc3Ng==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@foss.st.com", "date": "2021-09-16T09:31:31Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@foss.st.com", "date": "2021-09-16T09:33:52Z"}, "message": "testsuite: Support single-precision in g++.dg/eh/arm-vfp-unwind.C\n\ng++.dg/eh/arm-vfp-unwind.C uses an asm statement relying on\ndouble-precision FPU support. This patch extends it support\nsingle-precision, useful for targets without double-precision.\n\n2021-09-16  Richard Earnshaw  <rearnsha@arm.com>\n\n\tgcc/testsuite/\n\t* g++.dg/eh/arm-vfp-unwind.C: Support single-precision.", "tree": {"sha": "a7776d9d6616aa004d24cc3d5fe1186541043411", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7776d9d6616aa004d24cc3d5fe1186541043411"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e2c293f02745d47948fff19615064e4b34c1776", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e2c293f02745d47948fff19615064e4b34c1776", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e2c293f02745d47948fff19615064e4b34c1776", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e2c293f02745d47948fff19615064e4b34c1776/comments", "author": null, "committer": null, "parents": [{"sha": "8137be3958be4e5421c283cce3e5b50dbb80b84e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8137be3958be4e5421c283cce3e5b50dbb80b84e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8137be3958be4e5421c283cce3e5b50dbb80b84e"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "8ea25e57ca25140e96c6e953c3b8db93496849c5", "filename": "gcc/testsuite/g++.dg/eh/arm-vfp-unwind.C", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e2c293f02745d47948fff19615064e4b34c1776/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Farm-vfp-unwind.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e2c293f02745d47948fff19615064e4b34c1776/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Farm-vfp-unwind.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Farm-vfp-unwind.C?ref=8e2c293f02745d47948fff19615064e4b34c1776", "patch": "@@ -12,7 +12,11 @@ using namespace std;\n \n static void donkey ()\n {\n-  asm volatile (\"fcpyd d9, %P0\" : : \"w\" (1.2345) : \"d9\");\n+#if __ARM_FP & 8\n+  asm volatile (\"vmov.f64 d9, %P0\" : : \"w\" (1.2345) : \"d9\");\n+#else\n+  asm volatile (\"vmov.f32 s18, %0\" : : \"t\" (1.2345f) : \"s18\");\n+#endif\n   throw 1;\n }\n "}]}