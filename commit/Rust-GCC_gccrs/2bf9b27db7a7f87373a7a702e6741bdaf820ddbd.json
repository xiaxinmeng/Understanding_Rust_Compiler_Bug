{"sha": "2bf9b27db7a7f87373a7a702e6741bdaf820ddbd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJmOWIyN2RiN2E3Zjg3MzczYTdhNzAyZTY3NDFiZGFmODIwZGRiZA==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2001-02-02T20:32:35Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2001-02-02T20:32:35Z"}, "message": "mkcheck.in: Also limit virtual memory size, for mmap-based mallocs.\n\n2001-02-02  Phil Edwards  <pme@sources.redhat.com>\n\n\t* mkcheck.in:  Also limit virtual memory size, for mmap-based mallocs.\n\nFrom-SVN: r39416", "tree": {"sha": "5ca55c410b53a0e8d356497f005400cce4b915e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ca55c410b53a0e8d356497f005400cce4b915e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd/comments", "author": null, "committer": null, "parents": [{"sha": "362f22957ffba0fb5828714de69881fd4ad9ef3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/362f22957ffba0fb5828714de69881fd4ad9ef3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/362f22957ffba0fb5828714de69881fd4ad9ef3b"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "2ada3b82bb07757b226d871a0f42db269b2d0552", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2bf9b27db7a7f87373a7a702e6741bdaf820ddbd", "patch": "@@ -1,3 +1,7 @@\n+2001-02-02  Phil Edwards  <pme@sources.redhat.com>\n+\n+\t* mkcheck.in:  Also limit virtual memory size, for mmap-based mallocs.\n+\n 2001-02-01  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* configure.in (toplevel_srcdir, auxdir): Set."}, {"sha": "d97289e21b33c248b18f03107194df7b83705426", "filename": "libstdc++-v3/mkcheck.in", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd/libstdc%2B%2B-v3%2Fmkcheck.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bf9b27db7a7f87373a7a702e6741bdaf820ddbd/libstdc%2B%2B-v3%2Fmkcheck.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmkcheck.in?ref=2bf9b27db7a7f87373a7a702e6741bdaf820ddbd", "patch": "@@ -89,9 +89,9 @@ LOG_FILE=\"$TEST_DIR/$(date +%Y%m%d)-mkchecklog.txt\"\n # the names of the specific test files to be run\n TESTS_FILE=\"$TEST_DIR/$(date +%Y%m%d)-mkcheckfiles.txt\"\n \n-# the heap size limit for testsuite binaries; start with a 2MB limit as per\n-# http://gcc.gnu.org/ml/libstdc++/2000-10/msg00029.html\n-MAX_MEM_USAGE=3072\n+# the heap size and virtual mem limit for testsuite binaries\n+# See http://gcc.gnu.org/ml/libstdc++/2000-10/msg00029.html\n+MAX_MEM_USAGE=16384\n \n #\n # 2: clean, make files, append general test info\n@@ -338,7 +338,8 @@ test_file()\n         # printed by the executable will be lost and cannot be redirected,\n         # because we need to capture the output of 'time'.  Bummer.\n         TIMEFORMAT='timemark %R'\n-        E_TIME_TEXT=\"$(exec 2>&1; ulimit -d $MAX_MEM_USAGE; \\\n+        E_TIME_TEXT=\"$(exec 2>&1;                                        \\\n+                     ulimit -d $MAX_MEM_USAGE; ulimit -v $MAX_MEM_USAGE; \\\n                      time $LTEXE $EXENAME)\"\n         E_ABNORMAL_TERMINATION=$?\n         E_TIME=\"$(echo $E_TIME_TEXT | awk '{print $2}')\""}]}