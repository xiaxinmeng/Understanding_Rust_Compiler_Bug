{"sha": "fca4c1d59a05f6ac806bb9ac1954ca56407e45b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNhNGMxZDU5YTA1ZjZhYzgwNmJiOWFjMTk1NGNhNTY0MDdlNDViOA==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain.sandoe@sandoe-acoustics.co.uk", "date": "2010-02-18T22:00:21Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2010-02-18T22:00:21Z"}, "message": "objc-act.c (finish_var_decl): Set the\tgenerated symbols as \"used\".\n\n\t* objc-act.c (finish_var_decl):\tSet the\tgenerated symbols as \"used\".\n\nCo-Authored-By: Mike Stump <mikestump@comcast.net>\n\nFrom-SVN: r156877", "tree": {"sha": "091bf3cb2202b0cf3af781304c0329733806c3ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/091bf3cb2202b0cf3af781304c0329733806c3ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8/comments", "author": null, "committer": null, "parents": [{"sha": "1a242e3cea4a90d5fa893e2509174c8a2e9a0aaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a242e3cea4a90d5fa893e2509174c8a2e9a0aaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a242e3cea4a90d5fa893e2509174c8a2e9a0aaa"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "a1673cdef2e8057e9946e046d5baadc39e4d41c8", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=fca4c1d59a05f6ac806bb9ac1954ca56407e45b8", "patch": "@@ -1,3 +1,8 @@\n+2010-02-18  Iain Sandoe <iain.sandoe@sandoe-acoustics.co.uk>\n+\t    Mike Stump  <mikestump@comcast.net>\n+\n+\t* objc-act.c (finish_var_decl): Set the generated symbols as \"used\".\n+\n 2009-12-17  Shujing Zhao  <pearly.zhao@oracle.com>\n \n \t* objc-act.c (objc_substitute_decl, build_ivar_reference,"}, {"sha": "fae535cf29df1786fa090096e4a16dfbe5541720", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fca4c1d59a05f6ac806bb9ac1954ca56407e45b8/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=fca4c1d59a05f6ac806bb9ac1954ca56407e45b8", "patch": "@@ -1524,6 +1524,14 @@ finish_var_decl (tree var, tree initializer)\n   mark_decl_referenced (var);\n   /* Mark the decl to avoid \"defined but not used\" warning.  */\n   TREE_USED (var) = 1;\n+  /* We reserve the right for the runtime to use/modify these variables\n+     in ways that are opaque to us.  */\n+  DECL_PRESERVE_P (var) = 1;\n+  /* ipa*.c/cgraphunit.c use lookup attribute rather than testing\n+     DECL_PRESERVE_P.  Once they switch to testing DECL_PRESERVE_P,\n+     this can be removed. */\n+  DECL_ATTRIBUTES (var) = tree_cons (get_identifier (\"used\"), NULL, \n+\t\t\t\t     DECL_ATTRIBUTES (var)) ;\n }\n \n /* Find the decl for the constant string class reference.  This is only"}]}