{"sha": "a239279ee574a15ed79d27b48f835c3db45a593f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTIzOTI3OWVlNTc0YTE1ZWQ3OWQyN2I0OGY4MzVjM2RiNDVhNTkzZg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2015-11-18T18:19:57Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-11-18T18:19:57Z"}, "message": "trans.c (fold_constant_decl_in_expr): If the index is not itself constant then bail out.\n\n\t* gcc-interface/trans.c (fold_constant_decl_in_expr) <ARRAY_REF>: If\n\tthe index is not itself constant then bail out.\n\nFrom-SVN: r230558", "tree": {"sha": "03a87a3b1bf91bdcddd818f9c42aab84c74228dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03a87a3b1bf91bdcddd818f9c42aab84c74228dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a239279ee574a15ed79d27b48f835c3db45a593f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a239279ee574a15ed79d27b48f835c3db45a593f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a239279ee574a15ed79d27b48f835c3db45a593f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a239279ee574a15ed79d27b48f835c3db45a593f/comments", "author": null, "committer": null, "parents": [{"sha": "70318db4b196d0937ee62e5c34b0b478d3e69816", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70318db4b196d0937ee62e5c34b0b478d3e69816", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70318db4b196d0937ee62e5c34b0b478d3e69816"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "3ffb45e7114c79f89e428ae0696f1737ce58fff5", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a239279ee574a15ed79d27b48f835c3db45a593f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a239279ee574a15ed79d27b48f835c3db45a593f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a239279ee574a15ed79d27b48f835c3db45a593f", "patch": "@@ -1,3 +1,8 @@\n+2015-11-18  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/trans.c (fold_constant_decl_in_expr) <ARRAY_REF>: If\n+\tthe index is not itself constant then bail out.\n+\n 2015-11-18  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_ch4.adb (Try_Container_Indexing): When constructing the"}, {"sha": "0d100193baa6f25429199d56b4c41208aa973cac", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a239279ee574a15ed79d27b48f835c3db45a593f/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a239279ee574a15ed79d27b48f835c3db45a593f/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=a239279ee574a15ed79d27b48f835c3db45a593f", "patch": "@@ -975,6 +975,9 @@ fold_constant_decl_in_expr (tree exp)\n \n     case ARRAY_REF:\n     case ARRAY_RANGE_REF:\n+      /* If the index is not itself constant, then nothing can be folded.  */\n+      if (!TREE_CONSTANT (TREE_OPERAND (exp, 1)))\n+\treturn exp;\n       op0 = fold_constant_decl_in_expr (TREE_OPERAND (exp, 0));\n       if (op0 == TREE_OPERAND (exp, 0))\n \treturn exp;"}]}