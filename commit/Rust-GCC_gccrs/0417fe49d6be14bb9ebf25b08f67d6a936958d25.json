{"sha": "0417fe49d6be14bb9ebf25b08f67d6a936958d25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQxN2ZlNDlkNmJlMTRiYjllYmYyNWIwOGY2N2Q2YTkzNjk1OGQyNQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2015-09-04T15:09:22Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2015-09-04T15:09:22Z"}, "message": "Apppend $prop to et_prop_list only if needed\n\n\tPR testsuite/67450\n\t* lib/target-supports.exp (check_cached_effective_target):\n\tApppend $prop to et_prop_list only if needed.\n\nFrom-SVN: r227492", "tree": {"sha": "e09ea8ce2d0e63a47d4d7f5e75524bbacd82300c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e09ea8ce2d0e63a47d4d7f5e75524bbacd82300c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0417fe49d6be14bb9ebf25b08f67d6a936958d25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0417fe49d6be14bb9ebf25b08f67d6a936958d25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0417fe49d6be14bb9ebf25b08f67d6a936958d25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0417fe49d6be14bb9ebf25b08f67d6a936958d25/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b2aaf235774b638c79fbde5ba18bd3495b7230f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2aaf235774b638c79fbde5ba18bd3495b7230f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2aaf235774b638c79fbde5ba18bd3495b7230f8"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "bb4f975e3633033b824fe24478babb5fcf824521", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0417fe49d6be14bb9ebf25b08f67d6a936958d25/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0417fe49d6be14bb9ebf25b08f67d6a936958d25/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0417fe49d6be14bb9ebf25b08f67d6a936958d25", "patch": "@@ -1,3 +1,9 @@\n+2015-09-04  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR testsuite/67450\n+\t* lib/target-supports.exp (check_cached_effective_target):\n+\tApppend $prop to et_prop_list only if needed.\n+\n 2015-09-04  Marek Polacek  <polacek@redhat.com>\n \n \tPR sanitizer/67279"}, {"sha": "5e17b2657bb1d2d45f1669e8415d137e9439164f", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0417fe49d6be14bb9ebf25b08f67d6a936958d25/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0417fe49d6be14bb9ebf25b08f67d6a936958d25/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=0417fe49d6be14bb9ebf25b08f67d6a936958d25", "patch": "@@ -125,7 +125,10 @@ proc check_cached_effective_target { prop args } {\n \tverbose \"check_cached_effective_target $prop: checking $target\" 2\n \tset et_cache($prop,target) $target\n \tset et_cache($prop,value) [uplevel eval $args]\n-\tlappend et_prop_list $prop\n+\tif {![info exists et_prop_list]\n+\t    || [lsearch $et_prop_list $prop] < 0} {\n+\t    lappend et_prop_list $prop\n+\t}\n \tverbose \"check_cached_effective_target cached list is now: $et_prop_list\" 2\n     }\n     set value $et_cache($prop,value)"}]}