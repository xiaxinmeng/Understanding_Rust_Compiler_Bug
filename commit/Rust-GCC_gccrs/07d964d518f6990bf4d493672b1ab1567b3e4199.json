{"sha": "07d964d518f6990bf4d493672b1ab1567b3e4199", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdkOTY0ZDUxOGY2OTkwYmY0ZDQ5MzY3MmIxYWIxNTY3YjNlNDE5OQ==", "commit": {"author": {"name": "Zhenqiang Chen", "email": "zhenqiang.chen@linaro.org", "date": "2013-10-08T07:58:08Z"}, "committer": {"name": "Xuepeng Guo", "email": "xguo@gcc.gnu.org", "date": "2013-10-08T07:58:08Z"}, "message": "re PR target/58423 ([ARM]ICE with shrink-wrap-sibcall.c on a15/neon/hard)\n\n2013-10-08  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n\n\tPR target/58423\n\t* config/arm/arm.c (arm_emit_ldrd_pop): Attach\n\tRTX_FRAME_RELATED_P on INSN.\n\nFrom-SVN: r203267", "tree": {"sha": "683088e848b5cb1e93e7946788848c42ae8c8aca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/683088e848b5cb1e93e7946788848c42ae8c8aca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07d964d518f6990bf4d493672b1ab1567b3e4199", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07d964d518f6990bf4d493672b1ab1567b3e4199", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07d964d518f6990bf4d493672b1ab1567b3e4199", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07d964d518f6990bf4d493672b1ab1567b3e4199/comments", "author": null, "committer": null, "parents": [{"sha": "18971f1fc38596e4bb8cd9911a8a656231bb5827", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18971f1fc38596e4bb8cd9911a8a656231bb5827", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18971f1fc38596e4bb8cd9911a8a656231bb5827"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "500fcbb0e5d64057e2fd8a146d07287dd942ec36", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07d964d518f6990bf4d493672b1ab1567b3e4199/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07d964d518f6990bf4d493672b1ab1567b3e4199/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=07d964d518f6990bf4d493672b1ab1567b3e4199", "patch": "@@ -1,3 +1,9 @@\n+2013-10-08  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n+\n+\tPR target/58423\n+\t* config/arm/arm.c (arm_emit_ldrd_pop): Attach\n+\tRTX_FRAME_RELATED_P on INSN.\n+\n 2013-10-07  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \t* config/rs6000/rs6000.c (altivec_expand_vec_perm_const_le): New."}, {"sha": "071c7024f1602bbe4a47a8eb69f1878d64ce3a13", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07d964d518f6990bf4d493672b1ab1567b3e4199/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07d964d518f6990bf4d493672b1ab1567b3e4199/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=07d964d518f6990bf4d493672b1ab1567b3e4199", "patch": "@@ -19565,8 +19565,8 @@ arm_emit_ldrd_pop (unsigned long saved_regs_mask)\n               mem = gen_frame_mem (DImode, stack_pointer_rtx);\n \n             tmp = gen_rtx_SET (DImode, gen_rtx_REG (DImode, j), mem);\n-            RTX_FRAME_RELATED_P (tmp) = 1;\n             tmp = emit_insn (tmp);\n+\t    RTX_FRAME_RELATED_P (tmp) = 1;\n \n             /* Generate dwarf info.  */\n \n@@ -19594,8 +19594,8 @@ arm_emit_ldrd_pop (unsigned long saved_regs_mask)\n               mem = gen_frame_mem (SImode, stack_pointer_rtx);\n \n             tmp = gen_rtx_SET (SImode, gen_rtx_REG (SImode, j), mem);\n-            RTX_FRAME_RELATED_P (tmp) = 1;\n             tmp = emit_insn (tmp);\n+\t    RTX_FRAME_RELATED_P (tmp) = 1;\n \n             /* Generate dwarf info.  */\n             REG_NOTES (tmp) = alloc_reg_note (REG_CFA_RESTORE,\n@@ -19619,8 +19619,9 @@ arm_emit_ldrd_pop (unsigned long saved_regs_mask)\n                          plus_constant (Pmode,\n                                         stack_pointer_rtx,\n                                         offset));\n-      RTX_FRAME_RELATED_P (tmp) = 1;\n-      emit_insn (tmp);\n+      tmp = emit_insn (tmp);\n+      arm_add_cfa_adjust_cfa_note (tmp, offset,\n+\t\t\t\t   stack_pointer_rtx, stack_pointer_rtx);\n       offset = 0;\n     }\n \n@@ -19643,6 +19644,8 @@ arm_emit_ldrd_pop (unsigned long saved_regs_mask)\n                               gen_rtx_REG (SImode, PC_REGNUM),\n                               NULL_RTX);\n       REG_NOTES (par) = dwarf;\n+      arm_add_cfa_adjust_cfa_note (par, UNITS_PER_WORD,\n+\t\t\t\t   stack_pointer_rtx, stack_pointer_rtx);\n     }\n }\n "}]}