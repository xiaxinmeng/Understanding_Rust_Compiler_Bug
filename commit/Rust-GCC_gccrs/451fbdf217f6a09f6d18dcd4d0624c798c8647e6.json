{"sha": "451fbdf217f6a09f6d18dcd4d0624c798c8647e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDUxZmJkZjIxN2Y2YTA5ZjZkMThkY2Q0ZDA2MjRjNzk4Yzg2NDdlNg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1999-09-20T18:59:09Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1999-09-20T18:59:09Z"}, "message": "crtstuff.c (ON_EXIT): Delete empty macro definition.\n\n       * crtstuff.c (ON_EXIT): Delete empty macro definition.\n       (__do_global_ctors_aux): Call atexit(), not ON_EXIT().\n\nFrom-SVN: r29527", "tree": {"sha": "1dce8dde0438dcbdd069e299fbaa31183fe04feb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1dce8dde0438dcbdd069e299fbaa31183fe04feb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/451fbdf217f6a09f6d18dcd4d0624c798c8647e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/451fbdf217f6a09f6d18dcd4d0624c798c8647e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/451fbdf217f6a09f6d18dcd4d0624c798c8647e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/451fbdf217f6a09f6d18dcd4d0624c798c8647e6/comments", "author": null, "committer": null, "parents": [{"sha": "8d0281351215583e5125523108429c623b9cceb7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d0281351215583e5125523108429c623b9cceb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d0281351215583e5125523108429c623b9cceb7"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "ac05e6d9e5ed83dc08d181b39f1a1d26d27a64c7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/451fbdf217f6a09f6d18dcd4d0624c798c8647e6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/451fbdf217f6a09f6d18dcd4d0624c798c8647e6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=451fbdf217f6a09f6d18dcd4d0624c798c8647e6", "patch": "@@ -1,3 +1,8 @@\n+Mon Sep 20 14:56:34 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* crtstuff.c (ON_EXIT): Delete empty macro definition.\n+\t(__do_global_ctors_aux): Call atexit(), not ON_EXIT().\n+\n Mon Sep 20 15:25:35 1999  Nick Clifton  <nickc@cygnus.com>\n \n \t* c-decl.c (c_decode_option): Extend comment."}, {"sha": "a17433a0c43eb58d7b4cecfbb4ebb7efc517ca3a", "filename": "gcc/crtstuff.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/451fbdf217f6a09f6d18dcd4d0624c798c8647e6/gcc%2Fcrtstuff.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/451fbdf217f6a09f6d18dcd4d0624c798c8647e6/gcc%2Fcrtstuff.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcrtstuff.c?ref=451fbdf217f6a09f6d18dcd4d0624c798c8647e6", "patch": "@@ -119,9 +119,6 @@ typedef void (*func_ptr) (void);\n \n #include \"gbl-ctors.h\"\n \n-#ifndef ON_EXIT\n-#define ON_EXIT(a, b)\n-#endif\n #define STATIC\n \n #endif /* OBJECT_FORMAT_ELF */\n@@ -262,7 +259,7 @@ __do_global_ctors_aux (void)\t/* prologue goes in .init section */\n #endif\n   asm (TEXT_SECTION_ASM_OP);\t/* don't put epilogue and body in .init */\n   DO_GLOBAL_CTORS_BODY;\n-  ON_EXIT (__do_global_dtors, 0);\n+  atexit (__do_global_dtors);\n }\n \n #endif /* OBJECT_FORMAT_ELF */\n@@ -421,7 +418,7 @@ __do_global_ctors_aux (void)\t/* prologue goes in .text section */\n {\n   asm (INIT_SECTION_ASM_OP);\n   DO_GLOBAL_CTORS_BODY;\n-  ON_EXIT (__do_global_dtors, 0);\n+  atexit (__do_global_dtors);\n }\t\t\t\t/* epilogue and body go in .init section */\n \n #ifdef FORCE_INIT_SECTION_ALIGN"}]}