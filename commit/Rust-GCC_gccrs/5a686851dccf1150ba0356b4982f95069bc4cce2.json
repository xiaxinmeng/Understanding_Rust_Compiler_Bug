{"sha": "5a686851dccf1150ba0356b4982f95069bc4cce2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE2ODY4NTFkY2NmMTE1MGJhMDM1NmI0OTgyZjk1MDY5YmM0Y2NlMg==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@linux.alibaba.com", "date": "2018-12-09T06:37:56Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2018-12-09T06:37:56Z"}, "message": "ipa-cp.c (update_profiling_info): Call adjust_for_ipa_scaling for zero profile count.\n\n\t* ipa-cp.c (update_profiling_info): Call adjust_for_ipa_scaling for\n\tzero profile count.\n\nFrom-SVN: r266918", "tree": {"sha": "66b6726f33b5556cac47a0bda8a2cb798e087bdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66b6726f33b5556cac47a0bda8a2cb798e087bdb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a686851dccf1150ba0356b4982f95069bc4cce2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a686851dccf1150ba0356b4982f95069bc4cce2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a686851dccf1150ba0356b4982f95069bc4cce2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a686851dccf1150ba0356b4982f95069bc4cce2/comments", "author": null, "committer": null, "parents": [{"sha": "019761d2240fc7754a50ee2b9e199c0591c21c7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/019761d2240fc7754a50ee2b9e199c0591c21c7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/019761d2240fc7754a50ee2b9e199c0591c21c7a"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "515fb32997d1607bcc4546d7828f00c559535ce8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a686851dccf1150ba0356b4982f95069bc4cce2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a686851dccf1150ba0356b4982f95069bc4cce2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a686851dccf1150ba0356b4982f95069bc4cce2", "patch": "@@ -1,3 +1,8 @@\n+2018-12-08  Bin Cheng  <bin.cheng@linux.alibaba.com>\n+\n+\t* ipa-cp.c (update_profiling_info): Call adjust_for_ipa_scaling for\n+\tzero profile count.\n+\n 2018-12-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/88304"}, {"sha": "d9ac7d8c35c82eaef7f1ea54805970d2aef0506f", "filename": "gcc/ipa-cp.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a686851dccf1150ba0356b4982f95069bc4cce2/gcc%2Fipa-cp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a686851dccf1150ba0356b4982f95069bc4cce2/gcc%2Fipa-cp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-cp.c?ref=5a686851dccf1150ba0356b4982f95069bc4cce2", "patch": "@@ -3719,9 +3719,11 @@ update_profiling_info (struct cgraph_node *orig_node,\n   new_sum = orig_node_count.combine_with_ipa_count (new_sum);\n   orig_node->count = remainder;\n \n+  profile_count::adjust_for_ipa_scaling (&new_sum, &orig_node_count);\n   for (cs = new_node->callees; cs; cs = cs->next_callee)\n     cs->count = cs->count.apply_scale (new_sum, orig_node_count);\n \n+  profile_count::adjust_for_ipa_scaling (&remainder, &orig_node_count);\n   for (cs = orig_node->callees; cs; cs = cs->next_callee)\n     cs->count = cs->count.apply_scale (remainder, orig_node_count);\n "}]}