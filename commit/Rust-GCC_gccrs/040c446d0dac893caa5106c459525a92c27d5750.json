{"sha": "040c446d0dac893caa5106c459525a92c27d5750", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQwYzQ0NmQwZGFjODkzY2FhNTEwNmM0NTk1MjVhOTJjMjdkNTc1MA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2014-03-07T11:33:39Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2014-03-07T11:33:39Z"}, "message": "Improve @tlsldmplt test on Solaris 11/x86\n\n\t* configure.ac (HAVE_AS_IX86_TLSLDMPLT): Improve test for Solaris\n\t11/x86 ld.\n\t* configure: Regenerate.\n\nFrom-SVN: r208399", "tree": {"sha": "b8f13c6ae1313600cf61756de963308e154f533a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8f13c6ae1313600cf61756de963308e154f533a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/040c446d0dac893caa5106c459525a92c27d5750", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/040c446d0dac893caa5106c459525a92c27d5750", "html_url": "https://github.com/Rust-GCC/gccrs/commit/040c446d0dac893caa5106c459525a92c27d5750", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/040c446d0dac893caa5106c459525a92c27d5750/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "caa16d41773bf442acb6bb8768b1c9a829ca8cab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caa16d41773bf442acb6bb8768b1c9a829ca8cab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caa16d41773bf442acb6bb8768b1c9a829ca8cab"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "53c52fd32d579c57c7bdb025170ac45e3ca783f3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/040c446d0dac893caa5106c459525a92c27d5750/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/040c446d0dac893caa5106c459525a92c27d5750/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=040c446d0dac893caa5106c459525a92c27d5750", "patch": "@@ -1,3 +1,9 @@\n+2014-03-07  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* configure.ac (HAVE_AS_IX86_TLSLDMPLT): Improve test for Solaris\n+\t11/x86 ld.\n+\t* configure: Regenerate.\n+\n 2014-03-07  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure.ac (TLS_SECTION_ASM_FLAG): Save as tls_section_flag."}, {"sha": "415377adc190bb34b8407bc3122d97fc93480093", "filename": "gcc/configure", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/040c446d0dac893caa5106c459525a92c27d5750/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/040c446d0dac893caa5106c459525a92c27d5750/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=040c446d0dac893caa5106c459525a92c27d5750", "patch": "@@ -25183,15 +25183,19 @@ $as_echo \"#define HAVE_AS_IX86_TLSGDPLT 1\" >>confdefs.h\n \n fi\n \n+    conftest_s='\n+\t.section .tdata,\"aw'$tls_section_flag'\",@progbits\n+tls_ld:\n+\t.section .text,\"ax\",@progbits\n+\t call    tls_ld@tlsldmplt'\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: checking assembler for R_386_TLS_LDM_PLT reloc\" >&5\n $as_echo_n \"checking assembler for R_386_TLS_LDM_PLT reloc... \" >&6; }\n if test \"${gcc_cv_as_ix86_tlsldmplt+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n   gcc_cv_as_ix86_tlsldmplt=no\n   if test x$gcc_cv_as != x; then\n-    $as_echo 'tls_ld:\n-\t call    tls_ld@tlsldmplt' > conftest.s\n+    $as_echo \"$conftest_s\" > conftest.s\n     if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5"}, {"sha": "0336066ccd2ccac200930349bf2808979cd8bfd6", "filename": "gcc/configure.ac", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/040c446d0dac893caa5106c459525a92c27d5750/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/040c446d0dac893caa5106c459525a92c27d5750/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=040c446d0dac893caa5106c459525a92c27d5750", "patch": "@@ -3920,10 +3920,14 @@ foo:\tnop\n       [AC_DEFINE(HAVE_AS_IX86_TLSGDPLT, 1,\n         [Define if your assembler and linker support @tlsgdplt.])])\n \n+    conftest_s='\n+\t.section .tdata,\"aw'$tls_section_flag'\",@progbits\n+tls_ld:\n+\t.section .text,\"ax\",@progbits\n+\t call    tls_ld@tlsldmplt'\n     gcc_GAS_CHECK_FEATURE([R_386_TLS_LDM_PLT reloc],\n         gcc_cv_as_ix86_tlsldmplt,,,\n-\t[tls_ld:\n-\t call    tls_ld@tlsldmplt],\n+\t[$conftest_s],\n \t[if test x$gcc_cv_ld != x \\\n \t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n \t   gcc_cv_as_ix86_tlsldmplt=yes"}]}