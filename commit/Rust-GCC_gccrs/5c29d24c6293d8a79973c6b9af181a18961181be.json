{"sha": "5c29d24c6293d8a79973c6b9af181a18961181be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMyOWQyNGM2MjkzZDhhNzk5NzNjNmI5YWYxODFhMTg5NjExODFiZQ==", "commit": {"author": {"name": "Dhananjay Deshpande", "email": "dhananjayd@kpitcummins.com", "date": "2003-05-30T19:26:14Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2003-05-30T19:26:14Z"}, "message": "crti.asm: Use .h8300hn and .h8300sn for normal mode.\n\n\t* config/h8300/crti.asm: Use .h8300hn and .h8300sn for normal\n\tmode.\n\t* config/h8300/crtn.asm: Likewise.\n\t* config/h8300/lib1funcs.asm: Likewise.\n\t* config/h8300/h8300.c (asm_file_start): Likewise.\n\t* config/h8300/elf.h (LINK_SPEC): Use h8300hnelf and\n\th8300snelf emulations for normal mode.\n\t* config/h8300/h8300.h (LINK_SPEC): Use h8300hn and h8300sn\n\temulations for normal mode.\n\nFrom-SVN: r67250", "tree": {"sha": "c3cce820d8a9ffcc9b3955555e4d8d313ade1092", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c3cce820d8a9ffcc9b3955555e4d8d313ade1092"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c29d24c6293d8a79973c6b9af181a18961181be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c29d24c6293d8a79973c6b9af181a18961181be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c29d24c6293d8a79973c6b9af181a18961181be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c29d24c6293d8a79973c6b9af181a18961181be/comments", "author": null, "committer": null, "parents": [{"sha": "a75e5191508f79f96ab6cdb9dd5e6e54e411d509", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a75e5191508f79f96ab6cdb9dd5e6e54e411d509", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a75e5191508f79f96ab6cdb9dd5e6e54e411d509"}], "stats": {"total": 50, "additions": 46, "deletions": 4}, "files": [{"sha": "36afa305490501f278ef1dbcb151f68e050c6b15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -1,3 +1,15 @@\n+2003-05-30  Dhananjay Deshpande  <dhananjayd@kpitcummins.com>\n+\n+\t* config/h8300/crti.asm: Use .h8300hn and .h8300sn for normal\n+\tmode.\n+\t* config/h8300/crtn.asm: Likewise.\n+\t* config/h8300/lib1funcs.asm: Likewise.\n+\t* config/h8300/h8300.c (asm_file_start): Likewise.\n+\t* config/h8300/elf.h (LINK_SPEC): Use h8300hnelf and\n+\th8300snelf emulations for normal mode.\n+\t* config/h8300/h8300.h (LINK_SPEC): Use h8300hn and h8300sn\n+\temulations for normal mode.\n+\n 2003-05-30  Dhananjay Deshpande  <dhananjayd@kpitcummins.com>\n \n \t* config/h8300/h8300.c (h8300_tiny_constant_address_p): Return"}, {"sha": "8070a84c600f048fe3ff13d9579c8a5aaabece71", "filename": "gcc/config/h8300/crti.asm", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fcrti.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fcrti.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fcrti.asm?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -38,11 +38,19 @@ Boston, MA 02111-1307, USA.  */\n    such object files.  */\n \n #ifdef __H8300H__\n+#ifdef __NORMAL_MODE__\n+\t.h8300hn\n+#else\n \t.h8300h\n #endif\n+#endif\n \n #ifdef __H8300S__\n+#ifdef __NORMAL_MODE__\n+\t.h8300sn\n+#else\n \t.h8300s\n+#endif\n #endif\n \n \t.section .init"}, {"sha": "5b7a1c05a16c21ba1d686f400fca06bf8ccfb2a9", "filename": "gcc/config/h8300/crtn.asm", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fcrtn.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fcrtn.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fcrtn.asm?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -30,11 +30,19 @@ Boston, MA 02111-1307, USA.  */\n /* See an explanation about .init and .fini in crti.asm.  */\n \n #ifdef __H8300H__\n+#ifdef __NORMAL_MODE__\n+\t.h8300hn\n+#else\n \t.h8300h\n #endif\n+#endif\n \n #ifdef __H8300S__\n+#ifdef __NORMAL_MODE__\n+\t.h8300sn\n+#else\n \t.h8300s\n+#endif\n #endif\n \t.section .init\n \trts"}, {"sha": "c306993602a265ccbbd029867b4cd46c514a0748", "filename": "gcc/config/h8300/elf.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Felf.h?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -43,4 +43,4 @@\n #define JUMP_TABLES_IN_TEXT_SECTION (flag_pic)\n \n #undef LINK_SPEC\n-#define LINK_SPEC \"%{mh:-m h8300helf} %{ms:-m h8300self}\"\n+#define LINK_SPEC \"%{mh:%{mn:-m h8300hnelf}} %{mh:%{!mn:-m h8300helf}} %{ms:%{mn:-m h8300snelf}} %{ms:%{!mn:-m h8300self}}\""}, {"sha": "1639fbfc6b9b97d09ffd777bfc772728770920dc", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -699,9 +699,15 @@ asm_file_start (file)\n   else if (optimize)\n     fprintf (file, \"; -O%d\\n\", optimize);\n   if (TARGET_H8300H)\n-    fprintf (file, \"\\n\\t.h8300h\\n\");\n+    if (TARGET_NORMAL_MODE)\n+      fprintf (file, \"\\n\\t.h8300hn\\n\");\n+    else\n+      fprintf (file, \"\\n\\t.h8300h\\n\");\n   else if (TARGET_H8300S)\n-    fprintf (file, \"\\n\\t.h8300s\\n\");\n+    if (TARGET_NORMAL_MODE)\n+      fprintf (file, \"\\n\\t.h8300sn\\n\");\n+    else\n+      fprintf (file, \"\\n\\t.h8300s\\n\");\n   else\n     fprintf (file, \"\\n\\n\");\n   output_file_directive (file, main_input_filename);"}, {"sha": "f4eafdecbba1366150eccf9fd3f6923f13f263a9", "filename": "gcc/config/h8300/h8300.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fh8300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Fh8300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.h?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -70,7 +70,7 @@ extern const char * const *h8_reg_names;\n     }\t\t\t\t\t\t\t\\\n   while (0)\n \n-#define LINK_SPEC \"%{mh:-m h8300h} %{ms:-m h8300s}\"\n+#define LINK_SPEC \"%{mh:%{mn:-m h8300hn}} %{mh:%{!mn:-m h8300h}} %{ms:%{mn:-m h8300sn}} %{ms:%{!mn:-m h8300s}}\"\n \n #define LIB_SPEC \"%{mrelax:-relax} %{g:-lg} %{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}\"\n "}, {"sha": "dc22e54d60e6829585b613f789f27d1542a1f218", "filename": "gcc/config/h8300/lib1funcs.asm", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c29d24c6293d8a79973c6b9af181a18961181be/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm?ref=5c29d24c6293d8a79973c6b9af181a18961181be", "patch": "@@ -96,12 +96,20 @@ Boston, MA 02111-1307, USA.  */\n #endif\n \n #ifdef __H8300H__\n+#ifdef __NORMAL_MODE__\n+\t.h8300hn\n+#else\n \t.h8300h\n #endif\n+#endif\n \n #ifdef __H8300S__\n+#ifdef __NORMAL_MODE__\n+\t.h8300sn\n+#else\n \t.h8300s\n #endif\n+#endif\n \n #ifdef L_cmpsi2\n #ifdef __H8300__"}]}