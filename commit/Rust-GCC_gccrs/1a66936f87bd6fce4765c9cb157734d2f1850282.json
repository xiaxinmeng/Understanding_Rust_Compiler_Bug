{"sha": "1a66936f87bd6fce4765c9cb157734d2f1850282", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWE2NjkzNmY4N2JkNmZjZTQ3NjVjOWNiMTU3NzM0ZDJmMTg1MDI4Mg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2009-07-22T13:04:19Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2009-07-22T13:04:19Z"}, "message": "predicates.md (zero_extended_scalar_load_operand): Use CONST_VECTOR_NUNITS to determine number of elements.\n\n\t* config/i386/predicates.md (zero_extended_scalar_load_operand):\n\tUse CONST_VECTOR_NUNITS to determine number of elements.\n\nFrom-SVN: r149930", "tree": {"sha": "f0fb816ee970af01b57baa845827d4de444fc2f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0fb816ee970af01b57baa845827d4de444fc2f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a66936f87bd6fce4765c9cb157734d2f1850282", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a66936f87bd6fce4765c9cb157734d2f1850282", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a66936f87bd6fce4765c9cb157734d2f1850282", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a66936f87bd6fce4765c9cb157734d2f1850282/comments", "author": null, "committer": null, "parents": [{"sha": "af4beb4b957395c1eddac112cf14fa4e53d6c414", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af4beb4b957395c1eddac112cf14fa4e53d6c414", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af4beb4b957395c1eddac112cf14fa4e53d6c414"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "bfafc2a56db0dae3d499998e3484bbe3562ff832", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a66936f87bd6fce4765c9cb157734d2f1850282/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a66936f87bd6fce4765c9cb157734d2f1850282/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1a66936f87bd6fce4765c9cb157734d2f1850282", "patch": "@@ -1,3 +1,8 @@\n+2009-07-22  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/predicates.md (zero_extended_scalar_load_operand):\n+\tUse CONST_VECTOR_NUNITS to determine number of elements.\n+\n 2009-07-22  Andreas Krebbel  <krebbel1@de.ibm.com>\n \n \t* config/s390/constraints.md (ZQ, ZR, ZS, ZT): New constraints.\n@@ -110,7 +115,8 @@\n \tcombined_args_to_skip and args_to_skip.\n \t* tree-inline.c (update_clone_info): New function.\n \t(tree_function_versioning): Call update_clone_info.\n-\t* cgraphunit.c: (cgraph_materialize_clone): Dump materialized functions.\n+\t* cgraphunit.c: (cgraph_materialize_clone): Dump materialized\n+\tfunctions.\n \t(cgraph_materialize_all_clones): More extensive dumping, working\n \twith combined_args_to_skip rather than args_to_skip.\n "}, {"sha": "2a4b61d86152872c7496c54f3783043cd7352341", "filename": "gcc/config/i386/predicates.md", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a66936f87bd6fce4765c9cb157734d2f1850282/gcc%2Fconfig%2Fi386%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a66936f87bd6fce4765c9cb157734d2f1850282/gcc%2Fconfig%2Fi386%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fpredicates.md?ref=1a66936f87bd6fce4765c9cb157734d2f1850282", "patch": "@@ -750,13 +750,12 @@\n {\n   unsigned n_elts;\n   op = maybe_get_pool_constant (op);\n-  if (!op)\n-    return 0;\n-  if (GET_CODE (op) != CONST_VECTOR)\n+\n+  if (!(op && GET_CODE (op) == CONST_VECTOR))\n     return 0;\n-  n_elts =\n-    (GET_MODE_SIZE (GET_MODE (op)) /\n-     GET_MODE_SIZE (GET_MODE_INNER (GET_MODE (op))));\n+\n+  n_elts = CONST_VECTOR_NUNITS (op);\n+\n   for (n_elts--; n_elts > 0; n_elts--)\n     {\n       rtx elt = CONST_VECTOR_ELT (op, n_elts);"}]}