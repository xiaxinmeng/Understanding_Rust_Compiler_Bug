{"sha": "2be480afc8ad19a2d0331502be0e73cde57ee09b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJlNDgwYWZjOGFkMTlhMmQwMzMxNTAyYmUwZTczY2RlNTdlZTA5Yg==", "commit": {"author": {"name": "Frank Ch. Eigler", "email": "fche@redhat.com", "date": "2004-06-24T21:12:49Z"}, "committer": {"name": "Frank Ch. Eigler", "email": "fche@gcc.gnu.org", "date": "2004-06-24T21:12:49Z"}, "message": "tree-mudflap.c (mx_register_decls): Add third (type) argument to synthesized __mf_unregister call.\n\n2004-06-24  Frank Ch. Eigler  <fche@redhat.com>\n\n\t* tree-mudflap.c (mx_register_decls): Add third (type) argument\n\tto synthesized __mf_unregister call.\n\nFrom-SVN: r83612", "tree": {"sha": "11507a1653bfd3f4ae5b3cbd209d14f120db9056", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11507a1653bfd3f4ae5b3cbd209d14f120db9056"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2be480afc8ad19a2d0331502be0e73cde57ee09b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2be480afc8ad19a2d0331502be0e73cde57ee09b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2be480afc8ad19a2d0331502be0e73cde57ee09b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2be480afc8ad19a2d0331502be0e73cde57ee09b/comments", "author": {"login": "fche", "id": 588885, "node_id": "MDQ6VXNlcjU4ODg4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/588885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fche", "html_url": "https://github.com/fche", "followers_url": "https://api.github.com/users/fche/followers", "following_url": "https://api.github.com/users/fche/following{/other_user}", "gists_url": "https://api.github.com/users/fche/gists{/gist_id}", "starred_url": "https://api.github.com/users/fche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fche/subscriptions", "organizations_url": "https://api.github.com/users/fche/orgs", "repos_url": "https://api.github.com/users/fche/repos", "events_url": "https://api.github.com/users/fche/events{/privacy}", "received_events_url": "https://api.github.com/users/fche/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cfbd22d765f6afb097d4bfb7b3407d60986e84a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfbd22d765f6afb097d4bfb7b3407d60986e84a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfbd22d765f6afb097d4bfb7b3407d60986e84a9"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "065feb15f7efbf6e63d82107160f3bae0f64ab60", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2be480afc8ad19a2d0331502be0e73cde57ee09b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2be480afc8ad19a2d0331502be0e73cde57ee09b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2be480afc8ad19a2d0331502be0e73cde57ee09b", "patch": "@@ -1,3 +1,8 @@\n+2004-06-24  Frank Ch. Eigler  <fche@redhat.com>\n+\n+\t* tree-mudflap.c (mx_register_decls): Add third (type) argument\n+\tto synthesized __mf_unregister call.\n+\n 2004-06-24  Roger Sayle  <roger@eyesopen.com>\n \n \tPR middle-end/15239"}, {"sha": "4d9e77b490e30e4b46636582524a6274863101ab", "filename": "gcc/tree-mudflap.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2be480afc8ad19a2d0331502be0e73cde57ee09b/gcc%2Ftree-mudflap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2be480afc8ad19a2d0331502be0e73cde57ee09b/gcc%2Ftree-mudflap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-mudflap.c?ref=2be480afc8ad19a2d0331502be0e73cde57ee09b", "patch": "@@ -883,19 +883,23 @@ mx_register_decls (tree decl, tree *stmt_list)\n               size = convert (size_type_node, TYPE_SIZE_UNIT (TREE_TYPE (decl)));\n             }\n \n-          /* (& VARIABLE, sizeof (VARIABLE)) */\n+          /* (& VARIABLE, sizeof (VARIABLE), __MF_TYPE_STACK) */\n           unregister_fncall_params =\n             tree_cons (NULL_TREE,\n                        convert (ptr_type_node,\n                                 mf_mark (build1 (ADDR_EXPR,\n                                                  build_pointer_type (TREE_TYPE (decl)),\n                                                  decl))),\n-                       tree_cons (NULL_TREE, size, NULL_TREE));\n+                       tree_cons (NULL_TREE, \n+                                  size,\n+                                  tree_cons (NULL_TREE, \n+                                             build_int_2 (3, 0), /* __MF_TYPE_STACK */\n+                                             NULL_TREE)));\n           /* __mf_unregister (...) */\n           unregister_fncall = build_function_call_expr (mf_unregister_fndecl,\n                                                         unregister_fncall_params);\n \n-          /* (& VARIABLE, sizeof (VARIABLE), __MF_TYPE_STACK) */\n+          /* (& VARIABLE, sizeof (VARIABLE), __MF_TYPE_STACK, \"name\") */\n           variable_name = mf_varname_tree (decl);\n           register_fncall_params =\n             tree_cons (NULL_TREE,"}]}