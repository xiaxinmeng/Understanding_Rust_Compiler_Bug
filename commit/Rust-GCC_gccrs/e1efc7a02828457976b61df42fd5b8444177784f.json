{"sha": "e1efc7a02828457976b61df42fd5b8444177784f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTFlZmM3YTAyODI4NDU3OTc2YjYxZGY0MmZkNWI4NDQ0MTc3Nzg0Zg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-02-21T20:34:38Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-02-21T20:34:38Z"}, "message": "testsuite_hooks.cc (__gnu_test::set_memory_limits): Do not set RLIMIT_AS on HP-UX.\n\n\t* testsuite/testsuite_hooks.cc (__gnu_test::set_memory_limits): Do\n\tnot set RLIMIT_AS on HP-UX.\n\nFrom-SVN: r78233", "tree": {"sha": "1390557cdcba65083242cb15e33324b9c7efe29d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1390557cdcba65083242cb15e33324b9c7efe29d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1efc7a02828457976b61df42fd5b8444177784f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1efc7a02828457976b61df42fd5b8444177784f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1efc7a02828457976b61df42fd5b8444177784f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1efc7a02828457976b61df42fd5b8444177784f/comments", "author": null, "committer": null, "parents": [{"sha": "22cc69c4c0a344d3272567bcefe50506ec1bb3ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22cc69c4c0a344d3272567bcefe50506ec1bb3ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22cc69c4c0a344d3272567bcefe50506ec1bb3ba"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "a98b01df820f6066c42dd700bf6801955b6f59c1", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1efc7a02828457976b61df42fd5b8444177784f/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1efc7a02828457976b61df42fd5b8444177784f/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=e1efc7a02828457976b61df42fd5b8444177784f", "patch": "@@ -1,3 +1,8 @@\n+2004-02-21  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* testsuite/testsuite_hooks.cc (__gnu_test::set_memory_limits): Do\n+\tnot set RLIMIT_AS on HP-UX.\n+\n 2004-02-21  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/locale_facets.h (class money_base): Add { _S_minus,"}, {"sha": "18ea13e1e86225ea9694adf943350de0ac062808", "filename": "libstdc++-v3/testsuite/testsuite_hooks.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1efc7a02828457976b61df42fd5b8444177784f/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1efc7a02828457976b61df42fd5b8444177784f/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.cc?ref=e1efc7a02828457976b61df42fd5b8444177784f", "patch": "@@ -74,7 +74,10 @@ namespace __gnu_test\n #endif\n \n     // Virtual memory.\n-#if _GLIBCXX_HAVE_MEMLIMIT_AS\n+    // On HP-UX 11.23, a trivial C++ program that sets RLIMIT_AS to\n+    // anything less than 128MB cannot \"malloc\" even 1K of memory.\n+    // Therefore, we skip RLIMIT_AS on HP-UX.\n+#if _GLIBCXX_HAVE_MEMLIMIT_AS && !defined(__hpux__)\n     getrlimit(RLIMIT_AS, &r);\n     r.rlim_cur = limit;\n     setrlimit(RLIMIT_AS, &r);"}]}