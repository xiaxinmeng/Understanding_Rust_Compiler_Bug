{"sha": "4cdf72233bf62dc514506547a73231914d50c42f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNkZjcyMjMzYmY2MmRjNTE0NTA2NTQ3YTczMjMxOTE0ZDUwYzQyZg==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2004-09-17T17:07:43Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-09-17T17:07:43Z"}, "message": "gfortran.h (struct gfc_linebuf): Don't use C99 empty arrays.\n\n\t* gfortran.h (struct gfc_linebuf): Don't use C99 empty arrays.\n\t(gfc_linebuf_header_size): Define.\n\t* scanner.c (load_file): Use it.\n\nFrom-SVN: r87655", "tree": {"sha": "c2b3a1d2ca9ee4e8559293e55aae97bbeb8ef3fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2b3a1d2ca9ee4e8559293e55aae97bbeb8ef3fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cdf72233bf62dc514506547a73231914d50c42f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cdf72233bf62dc514506547a73231914d50c42f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cdf72233bf62dc514506547a73231914d50c42f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cdf72233bf62dc514506547a73231914d50c42f/comments", "author": null, "committer": null, "parents": [{"sha": "fa151acf6d05dda7cb79e749aa4dcf2ff0f0c385", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa151acf6d05dda7cb79e749aa4dcf2ff0f0c385", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa151acf6d05dda7cb79e749aa4dcf2ff0f0c385"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "4d4b445cc34895c5068e8c719f19881bcffd6de9", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdf72233bf62dc514506547a73231914d50c42f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdf72233bf62dc514506547a73231914d50c42f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=4cdf72233bf62dc514506547a73231914d50c42f", "patch": "@@ -1,3 +1,9 @@\n+2004-09-17  Paul Brook  <paul@codesourcery.com>\n+\n+\t* gfortran.h (struct gfc_linebuf): Don't use C99 empty arrays.\n+\t(gfc_linebuf_header_size): Define.\n+\t* scanner.c (load_file): Use it.\n+\n 2004-09-16  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* array.c, data.c, decl.c, dependency.c, error.c, f95-lang.c,"}, {"sha": "94d5374e8a3d1f9d34356f03a21b49f90e20f98d", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdf72233bf62dc514506547a73231914d50c42f/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdf72233bf62dc514506547a73231914d50c42f/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=4cdf72233bf62dc514506547a73231914d50c42f", "patch": "@@ -469,9 +469,11 @@ typedef struct gfc_linebuf\n   struct gfc_file *file;\n   struct gfc_linebuf *next;\n \n-  char line[];\n+  char line[1];\n } gfc_linebuf;\n-  \n+\n+#define gfc_linebuf_header_size (offsetof (gfc_linebuf, line))\n+\n typedef struct \n {\n   char *nextc;"}, {"sha": "3c6ca19abd9df36e09c01d342757db76d62d3977", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdf72233bf62dc514506547a73231914d50c42f/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdf72233bf62dc514506547a73231914d50c42f/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=4cdf72233bf62dc514506547a73231914d50c42f", "patch": "@@ -1034,7 +1034,7 @@ load_file (char *filename, bool initial)\n \n       /* Add line.  */\n \n-      b = gfc_getmem (sizeof (gfc_linebuf) + len + 1);\n+      b = gfc_getmem (gfc_linebuf_header_size + len + 1);\n \n #ifdef USE_MAPPED_LOCATION\n       b->location"}]}