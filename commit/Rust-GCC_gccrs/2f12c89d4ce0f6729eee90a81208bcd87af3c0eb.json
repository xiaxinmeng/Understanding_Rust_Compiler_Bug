{"sha": "2f12c89d4ce0f6729eee90a81208bcd87af3c0eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmYxMmM4OWQ0Y2UwZjY3MjllZWU5MGE4MTIwOGJjZDg3YWYzYzBlYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@freesoft.cz", "date": "1999-12-14T12:56:06Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "1999-12-14T12:56:06Z"}, "message": "regclass.c (scan_one_insn): Set loop_cost to 1 when optimizing for size.\n\n\t* regclass.c (scan_one_insn): Set loop_cost to 1 when\n\toptimizing for size.\n\nFrom-SVN: r30918", "tree": {"sha": "7d5aa69d79ff7dd9a704f13d722d9c85e7a48a57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d5aa69d79ff7dd9a704f13d722d9c85e7a48a57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb/comments", "author": null, "committer": null, "parents": [{"sha": "afdac905840a1d37db1ba2510bc3ecee7b307d8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afdac905840a1d37db1ba2510bc3ecee7b307d8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afdac905840a1d37db1ba2510bc3ecee7b307d8c"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "62f07341c1100e847ac59f67a39be7d1ad745e15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f12c89d4ce0f6729eee90a81208bcd87af3c0eb", "patch": "@@ -1,3 +1,8 @@\n+Tue Dec 14 13:51:38 MET 1999  Jan Hubicka  <hubicka@freesoft.cz>\n+\n+\t* regclass.c (scan_one_insn): Set loop_cost to 1 when\n+\toptimizing for size.\n+\n 1999-12-14  Bernd Schmidt  <bernds@cygnus.co.uk>\n \n \t* reload1.c (reload): Can't avoid select_reload_regs/finish_spills"}, {"sha": "e8eca4de2fc88cd6f4fef7b49c550a2129c1392a", "filename": "gcc/regclass.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb/gcc%2Fregclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f12c89d4ce0f6729eee90a81208bcd87af3c0eb/gcc%2Fregclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregclass.c?ref=2f12c89d4ce0f6729eee90a81208bcd87af3c0eb", "patch": "@@ -829,9 +829,14 @@ scan_one_insn (insn, pass)\n   if (code == NOTE)\n     {\n       if (NOTE_LINE_NUMBER (insn) == NOTE_INSN_LOOP_BEG)\n-\tloop_depth++, loop_cost = 1 << (2 * MIN (loop_depth, 5));\n+\tloop_depth++;\n       else if (NOTE_LINE_NUMBER (insn) == NOTE_INSN_LOOP_END)\n-\tloop_depth--, loop_cost = 1 << (2 * MIN (loop_depth, 5));\n+\tloop_depth--;\n+\n+      if (optimize_size)\n+\tloop_cost = 1;\n+      else\n+\tloop_cost = 1 << (2 * MIN (loop_depth, 5));\n \n       return insn;\n     }"}]}