{"sha": "dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFjZGM2OGYzYmQ1ZTdjNGRlMGRkNTRmOWRjYjE0NjU2ODZhYzAxYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-02-02T18:09:58Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-02-02T18:09:58Z"}, "message": "decl.c (array_type_has_nonaliased_component): Return false if the component type is a pointer.\n\n\t* gcc-interface/decl.c (array_type_has_nonaliased_component): Return\n\tfalse if the component type is a pointer.\n\nFrom-SVN: r257344", "tree": {"sha": "68191fae7ddfba51fd55ae27bfe30d1659ab4d37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68191fae7ddfba51fd55ae27bfe30d1659ab4d37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a/comments", "author": null, "committer": null, "parents": [{"sha": "ee034d3108105353a2130a2d0d3630e5f8214811", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee034d3108105353a2130a2d0d3630e5f8214811", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee034d3108105353a2130a2d0d3630e5f8214811"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "e0e72a7d9547a98d2ac859147eb6fb133f9b19be", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a", "patch": "@@ -1,3 +1,8 @@\n+2018-02-02  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (array_type_has_nonaliased_component): Return\n+\tfalse if the component type is a pointer.\n+\n 2018-01-11  Gary Dismukes  <dismukes@adacore.com>\n \n \t* exp_ch3.adb (Default_Initialize_Object): Call New_Copy_Tree on the"}, {"sha": "e0466f349c32b1c5cbdfc8a949d3b2870db7a4ad", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=dacdc68f3bd5e7c4de0dd54f9dcb1465686ac01a", "patch": "@@ -6113,6 +6113,11 @@ array_type_has_nonaliased_component (tree gnu_type, Entity_Id gnat_type)\n       return TYPE_NONALIASED_COMPONENT (gnu_parent_type);\n     }\n \n+  /* Consider that an array of pointers has an aliased component, which is\n+     sort of logical and helps with Taft Amendment types in LTO mode.  */\n+  if (POINTER_TYPE_P (TREE_TYPE (gnu_type)))\n+    return false;\n+\n   /* Otherwise, rely exclusively on properties of the element type.  */\n   return type_for_nonaliased_component_p (TREE_TYPE (gnu_type));\n }"}]}