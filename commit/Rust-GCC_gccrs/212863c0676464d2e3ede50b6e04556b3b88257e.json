{"sha": "212863c0676464d2e3ede50b6e04556b3b88257e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjEyODYzYzA2NzY0NjRkMmUzZWRlNTBiNmUwNDU1NmIzYjg4MjU3ZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-23T09:17:56Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-23T09:17:56Z"}, "message": "[multiple changes]\n\n2009-07-23  Olivier Hainque  <hainque@adacore.com>\n\n\t* gnat_rm.texi: Document the GNAT.SSE units.\n\n2009-07-23  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch6.adb (Analyze_Return_Type): Do not create itype reference for\n\tnot null return if it appears on a subunit.\n\nFrom-SVN: r149979", "tree": {"sha": "7aacfef1a126574402faee123141f699f8cb4a61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7aacfef1a126574402faee123141f699f8cb4a61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/212863c0676464d2e3ede50b6e04556b3b88257e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/212863c0676464d2e3ede50b6e04556b3b88257e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/212863c0676464d2e3ede50b6e04556b3b88257e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/212863c0676464d2e3ede50b6e04556b3b88257e/comments", "author": null, "committer": null, "parents": [{"sha": "97cb64f052a76046aaf4d3290ef5ceb744f3e779", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97cb64f052a76046aaf4d3290ef5ceb744f3e779", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97cb64f052a76046aaf4d3290ef5ceb744f3e779"}], "stats": {"total": 55, "additions": 46, "deletions": 9}, "files": [{"sha": "2451727bb407594dc63accf671db1eaf130f7c05", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/212863c0676464d2e3ede50b6e04556b3b88257e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/212863c0676464d2e3ede50b6e04556b3b88257e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=212863c0676464d2e3ede50b6e04556b3b88257e", "patch": "@@ -1,3 +1,12 @@\n+2009-07-23  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* gnat_rm.texi: Document the GNAT.SSE units.\n+\n+2009-07-23  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch6.adb (Analyze_Return_Type): Do not create itype reference for\n+\tnot null return if it appears on a subunit.\n+\n 2009-07-23  Robert Dewar  <dewar@adacore.com>\n \n \t* exp_ch5.adb (Expand_N_Assignment_Statement): Do left-side validity"}, {"sha": "1f26563397b059903aaeddf9033ea74d7b9fcc55", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/212863c0676464d2e3ede50b6e04556b3b88257e/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/212863c0676464d2e3ede50b6e04556b3b88257e/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=212863c0676464d2e3ede50b6e04556b3b88257e", "patch": "@@ -381,6 +381,8 @@ The GNAT Library\n * GNAT.Spitbol.Table_Boolean (g-sptabo.ads)::\n * GNAT.Spitbol.Table_Integer (g-sptain.ads)::\n * GNAT.Spitbol.Table_VString (g-sptavs.ads)::\n+* GNAT.SSE (g-sse.ads)::\n+* GNAT.SSE.Vector_Types (g-ssvety.ads)::\n * GNAT.Strings (g-string.ads)::\n * GNAT.String_Split (g-strspl.ads)::\n * GNAT.Table (g-table.ads)::\n@@ -13568,6 +13570,8 @@ of GNAT, and will generate a warning message.\n * GNAT.Spitbol.Table_Boolean (g-sptabo.ads)::\n * GNAT.Spitbol.Table_Integer (g-sptain.ads)::\n * GNAT.Spitbol.Table_VString (g-sptavs.ads)::\n+* GNAT.SSE (g-sse.ads)::\n+* GNAT.SSE.Vector_Types (g-ssvety.ads)::\n * GNAT.Strings (g-string.ads)::\n * GNAT.String_Split (g-strspl.ads)::\n * GNAT.Table (g-table.ads)::\n@@ -14627,6 +14631,23 @@ A library level of instantiation of @code{GNAT.Spitbol.Patterns.Table} for\n a variable length string type, giving an implementation of general\n maps from strings to strings.\n \n+@node GNAT.SSE (g-sse.ads)\n+@section @code{GNAT.SSE} (@file{g-sse.ads})\n+@cindex @code{GNAT.SSE} (@file{g-sse.ads})\n+\n+@noindent\n+Root of a set of units aimed at offering Ada bindings to a subset of\n+the Intel(r) Streaming SIMD Extensions with GNAT on the x86 family of\n+targets.  It exposes vector component types together with a general\n+introduction to the binding contents and use.\n+\n+@node GNAT.SSE.Vector_Types (g-ssvety.ads)\n+@section @code{GNAT.SSE.Vector_Types} (@file{g-ssvety.ads})\n+@cindex @code{GNAT.SSE.Vector_Types} (@file{g-ssvety.ads})\n+\n+@noindent\n+SSE vector types for use with SSE related intrinsics.\n+\n @node GNAT.Strings (g-string.ads)\n @section @code{GNAT.Strings} (@file{g-string.ads})\n @cindex @code{GNAT.Strings} (@file{g-string.ads})"}, {"sha": "7d4bcd1521186973cb8e1b31fb6a2d2ccabb27e1", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 16, "deletions": 9, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/212863c0676464d2e3ede50b6e04556b3b88257e/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/212863c0676464d2e3ede50b6e04556b3b88257e/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=212863c0676464d2e3ede50b6e04556b3b88257e", "patch": "@@ -592,10 +592,10 @@ package body Sem_Ch6 is\n \n          elsif Covers (Base_Type (R_Type), Base_Type (R_Stm_Type))\n            or else (Is_Underlying_Record_View (Base_Type (R_Stm_Type))\n-                      and then\n-                        Covers\n-                          (Base_Type (R_Type),\n-                           Underlying_Record_View (Base_Type (R_Stm_Type))))\n+                     and then\n+                       Covers\n+                         (Base_Type (R_Type),\n+                          Underlying_Record_View (Base_Type (R_Stm_Type))))\n          then\n             --  A null exclusion may be present on the return type, on the\n             --  function specification, on the object declaration or on the\n@@ -1317,16 +1317,23 @@ package body Sem_Ch6 is\n                --  force elaboration must be attached to the freezing of\n                --  the base type.\n \n+               --  If the return specification appears on a proper body,\n+               --  the subtype will have been created already on the spec.\n+\n                if Is_Frozen (Typ) then\n-                  Build_Itype_Reference\n-                    (Etype (Designator), Parent (N));\n+                  if Nkind (Parent (N)) = N_Subprogram_Body\n+                    and then Nkind (Parent (Parent (N))) = N_Subunit\n+                  then\n+                     null;\n+                  else\n+                     Build_Itype_Reference (Etype (Designator), Parent (N));\n+                  end if;\n+\n                else\n                   Ensure_Freeze_Node (Typ);\n \n                   declare\n-                     IR : constant Node_Id :=\n-                             Make_Itype_Reference (Sloc (N));\n-\n+                     IR : constant Node_Id := Make_Itype_Reference (Sloc (N));\n                   begin\n                      Set_Itype (IR, Etype (Designator));\n                      Append_Freeze_Actions (Typ, New_List (IR));"}]}