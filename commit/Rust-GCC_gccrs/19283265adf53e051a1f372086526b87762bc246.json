{"sha": "19283265adf53e051a1f372086526b87762bc246", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkyODMyNjVhZGY1M2UwNTFhMWYzNzIwODY1MjZiODc3NjJiYzI0Ng==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-10-28T22:31:06Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-10-28T22:31:06Z"}, "message": "Makefile.in (cc1): Put C_OBJS, and thence @extra_c_objs@ last.\n\n        * Makefile.in (cc1): Put C_OBJS, and thence @extra_c_objs@ last.\n        (LIBCPP_OBJS): New.  Add cppulp.o.\n        (cppmain, fix-header): Depend on and use libcpp.a.\n        * configure.in (extra_c_objs, extra_cxx_objs): Use libcpp.a instead\n        of the individual object files.\n        * objc/Make-lang.in (cc1obj): Put OBJC_OBJS, and thence @extra_c_objs@,\n        last.\n        * cccp.c (user_label_prefix): New.\n        (main): Set it off -f*leading-underscore.\n        (special_symbol): Use it.\n        * cpplib.c (special_symbol): Likewise.\n        (cpp_handle_option): Handle -f*leading-underscore.\n        * cppulp.c: New file.\n        * output.h (user_label_prefix): Declare it.\n        * dwarf2out.c (ASM_NAME_TO_STRING): Prepend user_label_prefix.\n        * toplev.c (f_options, main): Handle -f*leading-underscore.\n        * defaults.h (ASM_OUTPUT_LABELREF): Use asm_fprintf instead of\n        referencing USER_LABEL_PREFIX directly.\n        * config/nextstep.h (ASM_OUTPUT_LABELREF): Likewise.\n        * m32r/m32r.h (ASM_OUTPUT_LABELREF): Likewise.\n        * final.c (asm_fprintf): Use user_label_prefix instead.\n        * arm/thumb.c (thumb_print_operand): Likewise.\n        * gcc.c (default_compilers): Pass -f*leading-underscore on to\n        cpp wherever appropriate.\n\nFrom-SVN: r23415", "tree": {"sha": "f7991921f56af47e0a4753b402cdb868e740a0f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7991921f56af47e0a4753b402cdb868e740a0f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19283265adf53e051a1f372086526b87762bc246", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19283265adf53e051a1f372086526b87762bc246", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19283265adf53e051a1f372086526b87762bc246", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19283265adf53e051a1f372086526b87762bc246/comments", "author": null, "committer": null, "parents": [{"sha": "a45a7ba07385068ad1a57dbf0addf9313e1c2cff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a45a7ba07385068ad1a57dbf0addf9313e1c2cff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a45a7ba07385068ad1a57dbf0addf9313e1c2cff"}], "stats": {"total": 375, "additions": 250, "deletions": 125}, "files": [{"sha": "952a8e5713c60c700a3e68799cac3165140d27a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -1,3 +1,34 @@\n+Wed Oct 28 22:27:05 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* Makefile.in (cc1): Put C_OBJS, and thence @extra_c_objs@ last.\n+\t(LIBCPP_OBJS): New.  Add cppulp.o.\n+\t(cppmain, fix-header): Depend on and use libcpp.a.\n+\t* configure.in (extra_c_objs, extra_cxx_objs): Use libcpp.a instead\n+\tof the individual object files.\n+\t* objc/Make-lang.in (cc1obj): Put OBJC_OBJS, and thence @extra_c_objs@,\n+\tlast.\n+\n+\t* cccp.c (user_label_prefix): New.\n+\t(main): Set it off -f*leading-underscore.\n+\t(special_symbol): Use it.\n+\t* cpplib.c (special_symbol): Likewise.\n+\t(cpp_handle_option): Handle -f*leading-underscore.\n+\t* cppulp.c: New file.\n+\n+\t* output.h (user_label_prefix): Declare it.\n+\t* dwarf2out.c (ASM_NAME_TO_STRING): Prepend user_label_prefix.\n+\t* toplev.c (f_options, main): Handle -f*leading-underscore.\n+\n+\t* defaults.h (ASM_OUTPUT_LABELREF): Use asm_fprintf instead of\n+\treferencing USER_LABEL_PREFIX directly.\n+\t* config/nextstep.h (ASM_OUTPUT_LABELREF): Likewise.\n+\t* m32r/m32r.h (ASM_OUTPUT_LABELREF): Likewise.\n+\t* final.c (asm_fprintf): Use user_label_prefix instead.\n+\t* arm/thumb.c (thumb_print_operand): Likewise.\n+\n+\t* gcc.c (default_compilers): Pass -f*leading-underscore on to\n+\tcpp wherever appropriate.\n+\n Wed Oct 28 23:09:25 1998  Robert Lipe  <robertl@dgii.com>\n \n \t* sco5.h (SUBTARGET_SWITCHES): Add documentation for OpenServer-"}, {"sha": "62eed7f068a3f9309d48058869b3d208f6126e5c", "filename": "gcc/Makefile.in", "status": "modified", "additions": 13, "deletions": 10, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -861,8 +861,8 @@ specs: xgcc$(exeext)\n gcc-cross: xgcc$(exeext)\n \tcp xgcc$(exeext) gcc-cross$(exeext)\n \n-cc1$(exeext): $(P) $(C_OBJS) $(OBJS) $(LIBDEPS)\n-\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ $(C_OBJS) $(OBJS) $(LIBS)\n+cc1$(exeext): $(P) $(OBJS) $(C_OBJS) $(LIBDEPS)\n+\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ $(OBJS) $(C_OBJS) $(LIBS)\n \n # Copy float.h from its source.\n gfloat.h: $(FLOAT_H)\n@@ -1881,11 +1881,15 @@ cccp.o: cccp.c $(CONFIG_H) pcp.h version.c config.status system.h gansidecl.h \\\n \t  -DTOOL_INCLUDE_DIR=\\\"$(tooldir)/include\\\" \\\n \t  -c `echo $(srcdir)/cccp.c | sed 's,^\\./,,'`\n \n-cppmain$(exeext): cppmain.o cpplib.o cpphash.o cppalloc.o cpperror.o cppexp.o \\\n-  prefix.o version.o mbchar.o @extra_cpp_objs@ $(LIBDEPS)\n-\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ cppmain.o cpplib.o cpphash.o \\\n-\t  mbchar.o @extra_cpp_objs@ \\\n-\t  cppalloc.o cpperror.o cppexp.o prefix.o version.o $(LIBS)\n+LIBCPP_OBJS =\tcpplib.o cpphash.o cppalloc.o cpperror.o cppexp.o \\\n+\t\tcppulp.o prefix.o version.o mbchar.o @extra_cpp_objs@\n+\n+libcpp.a: $(LIBCPP_OBJS)\n+\t$(AR) $(ARFLAGS) libcpp.a $(LIBCPP_OBJS)\n+\n+cppmain$(exeext): cppmain.o libcpp.a $(LIBDEPS)\n+\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o cppmain$(exeext) cppmain.o \\\n+\tlibcpp.a $(LIBS)\n \n cppmain.o: cppmain.c $(CONFIG_H) cpplib.h system.h gansidecl.h\n \n@@ -2117,10 +2121,9 @@ xsys-protos.h: $(GCC_PASSES) $(srcdir)/sys-protos.h deduced.h gen-protos Makefil\n \trm -rf fixtmp.c\n \n fix-header: fix-header.o scan-decls.o scan.o xsys-protos.h $(HOST_LIBDEPS) \\\n-   cpplib.o cpphash.o cppalloc.o cppexp.o prefix.o version.o\n+\t    libcpp.a\n \t$(HOST_CC) $(HOST_CFLAGS) $(HOST_LDFLAGS) -o $@ fix-header.o \\\n-\t   scan-decls.o scan.o cpplib.o cpphash.o cppalloc.o prefix.o \\\n-\t   version.o cppexp.o $(HOST_LIBS)\n+\t   scan-decls.o scan.o libcpp.a $(HOST_LIBS)\n \n fix-header.o: fix-header.c $(srcdir)/../include/obstack.h scan.h \\\n \txsys-protos.h $(build_xm_file) system.h cpplib.h cpphash.h"}, {"sha": "293317e0e7f73c891ac7cd361969d1316777001c", "filename": "gcc/cccp.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -727,6 +727,8 @@ char * wchar_type = WCHAR_TYPE;\n #ifndef USER_LABEL_PREFIX\n #define USER_LABEL_PREFIX \"\"\n #endif\n+char * user_label_prefix = USER_LABEL_PREFIX;\n+#undef USER_LABEL_PREFIX\n \n /* The string value for __REGISTER_PREFIX__ */\n \n@@ -1529,6 +1531,13 @@ main (argc, argv)\n \t  }\n \tbreak;\n \n+      case 'f':\n+\tif (!strcmp (argv[i], \"-fleading-underscore\"))\n+\t  user_label_prefix = \"_\";\n+\telse if (!strcmp (argv[i], \"-fno-leading-underscore\"))\n+\t  user_label_prefix = \"\";\n+\tbreak;\n+\n       case 'M':\n \t/* The style of the choices here is a bit mixed.\n \t   The chosen scheme is a hybrid of keeping all options in one string\n@@ -4282,7 +4291,7 @@ special_symbol (hp, op)\n     break;\n \n   case T_USER_LABEL_PREFIX_TYPE:\n-    buf = USER_LABEL_PREFIX;\n+    buf = user_label_prefix;\n     break;\n \n   case T_REGISTER_PREFIX_TYPE:"}, {"sha": "43082bb2d7204755c8973427c7db788e8f614e2c", "filename": "gcc/config/arm/thumb.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfig%2Farm%2Fthumb.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfig%2Farm%2Fthumb.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fthumb.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -1732,7 +1732,7 @@ thumb_print_operand (f, x, code)\n \t  return;\n \n \tcase '_':\n-\t  fputs (USER_LABEL_PREFIX, f);\n+\t  fputs (user_label_prefix, f);\n \t  return;\n \t  \n \tcase 'D':"}, {"sha": "d825f98934671f5fb7bf56ad35bb8aff4657158c", "filename": "gcc/config/m32r/m32r.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfig%2Fm32r%2Fm32r.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfig%2Fm32r%2Fm32r.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r.h?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -1660,7 +1660,7 @@ do {\t\t\t\t\\\n do {\t\t\t\t\t\t\t\\\n   char * real_name;\t\t\t\t\t\\\n   STRIP_NAME_ENCODING (real_name, (NAME));\t\t\\\n-  fprintf (FILE, \"%s%s\", USER_LABEL_PREFIX, real_name);\t\\\n+  asm_fprintf (FILE, \"%U%s\", real_name);\t\t\\\n } while (0)           \n \n /* If -Os, don't force line number labels to begin at the beginning of"}, {"sha": "59050a18a9e24e2cc64b7c167aba484caceb6137", "filename": "gcc/config/nextstep.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfig%2Fnextstep.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfig%2Fnextstep.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnextstep.h?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -291,7 +291,7 @@ extern int handle_pragma ();\n        else if (!strncmp (NAME, \"_OBJC_\", 6)) fprintf (FILE, \"L%s\", NAME);   \\\n        else if (!strncmp (NAME, \".objc_class_name_\", 17))\t\t\\\n \t fprintf (FILE, \"%s\", NAME);\t\t\t\t\t\\\n-       else fprintf (FILE, \"%s%s\", USER_LABEL_PREFIX, NAME); } while (0)\n+       else asm_fprintf (FILE, \"%U%s\", NAME); } while (0)\n \n #undef\tALIGN_ASM_OP\n #define ALIGN_ASM_OP\t\t\".align\""}, {"sha": "6acf456afd75e257a3f39308e2f0de120e5c94b1", "filename": "gcc/configure", "status": "modified", "additions": 91, "deletions": 92, "changes": 183, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -772,9 +772,8 @@ fi\n if test \"${enable_c_cpplib+set}\" = set; then\n   enableval=\"$enable_c_cpplib\"\n   if test x$enable_c_cpplib != xno; then\n-  extra_c_objs=\"${extra_c_objs} cpplib.o cppexp.o cpphash.o cpperror.o\"\n-  extra_c_objs=\"${extra_c_objs} prefix.o\"\n-  extra_cxx_objs=\"${extra_cxx_objs} ../cpplib.o ../cppexp.o ../cpphash.o ../cpperror.o ../prefix.o\"\n+  extra_c_objs=\"${extra_c_objs} libcpp.a\"\n+  extra_cxx_objs=\"${extra_cxx_objs} ../libcpp.a\"\n   extra_c_flags=-DUSE_CPPLIB=1\n   cpp_main=cppmain\n fi\n@@ -916,7 +915,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:920: checking host system type\" >&5\n+echo \"configure:919: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -937,7 +936,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:941: checking target system type\" >&5\n+echo \"configure:940: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -955,7 +954,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:959: checking build system type\" >&5\n+echo \"configure:958: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -982,7 +981,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:986: checking for $ac_word\" >&5\n+echo \"configure:985: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1011,7 +1010,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1015: checking for $ac_word\" >&5\n+echo \"configure:1014: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1061,7 +1060,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1065: checking for $ac_word\" >&5\n+echo \"configure:1064: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1092,7 +1091,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1096: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1095: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1102,11 +1101,11 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 1106 \"configure\"\n+#line 1105 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:1110: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1109: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1126,12 +1125,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1130: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1129: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1135: checking whether we are using GNU C\" >&5\n+echo \"configure:1134: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1140,7 +1139,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1144: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1143: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1159,7 +1158,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1163: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1162: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1202,7 +1201,7 @@ fi\n \n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1206: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1205: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1230,7 +1229,7 @@ fi\n \n \n echo $ac_n \"checking whether a default assembler was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1234: checking whether a default assembler was specified\" >&5\n+echo \"configure:1233: checking whether a default assembler was specified\" >&5\n if test x\"${AS+set}\" = x\"set\"; then\n     if test x\"$with_gas\" = x\"no\"; then\n     \techo \"$ac_t\"\"yes ($AS)\" 1>&6\n@@ -1242,7 +1241,7 @@ else\n fi\n \n echo $ac_n \"checking whether a default linker was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1246: checking whether a default linker was specified\" >&5\n+echo \"configure:1245: checking whether a default linker was specified\" >&5\n if test x\"${LD+set}\" = x\"set\"; then\n     if test x\"$with_gnu_ld\" = x\"no\"; then\n \techo \"$ac_t\"\"yes ($LD)\" 1>&6\n@@ -1259,7 +1258,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1263: checking for $ac_word\" >&5\n+echo \"configure:1262: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1290,7 +1289,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1294: checking for $ac_word\" >&5\n+echo \"configure:1293: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1323,15 +1322,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1327: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1326: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1335 \"configure\"\n+#line 1334 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1342,7 +1341,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1346: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1345: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1365,7 +1364,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1369: checking whether ln works\" >&5\n+echo \"configure:1368: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1397,7 +1396,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1401: checking whether ln -s works\" >&5\n+echo \"configure:1400: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1429,19 +1428,19 @@ else\n fi\n \n echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n-echo \"configure:1433: checking for volatile\" >&5\n+echo \"configure:1432: checking for volatile\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1438 \"configure\"\n+#line 1437 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n volatile int foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:1445: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1444: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_volatile=yes\n else\n@@ -1464,7 +1463,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1468: checking for $ac_word\" >&5\n+echo \"configure:1467: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1495,7 +1494,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1499: checking for $ac_word\" >&5\n+echo \"configure:1498: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1535,7 +1534,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1539: checking for a BSD compatible install\" >&5\n+echo \"configure:1538: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1586,7 +1585,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1590: checking how to run the C preprocessor\" >&5\n+echo \"configure:1589: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1601,13 +1600,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1605 \"configure\"\n+#line 1604 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1611: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1610: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1618,13 +1617,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1622 \"configure\"\n+#line 1621 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1628: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1627: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1635,13 +1634,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1639 \"configure\"\n+#line 1638 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1645: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1644: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1666,20 +1665,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1670: checking for ANSI C header files\" >&5\n+echo \"configure:1669: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1675 \"configure\"\n+#line 1674 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1683: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1682: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1696,7 +1695,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1700 \"configure\"\n+#line 1699 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1714,7 +1713,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1718 \"configure\"\n+#line 1717 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1735,7 +1734,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1739 \"configure\"\n+#line 1738 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1746,7 +1745,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1750: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1749: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1770,12 +1769,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1774: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1773: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1779 \"configure\"\n+#line 1778 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1784,7 +1783,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1788: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1787: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1805,20 +1804,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1809: checking whether string.h and strings.h may both be included\" >&5\n+echo \"configure:1808: checking whether string.h and strings.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1814 \"configure\"\n+#line 1813 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n #include <strings.h>\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1822: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1821: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_string=yes\n else\n@@ -1842,17 +1841,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unist\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1846: checking for $ac_hdr\" >&5\n+echo \"configure:1845: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1851 \"configure\"\n+#line 1850 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1856: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1855: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1882,17 +1881,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1886: checking for thread.h\" >&5\n+echo \"configure:1885: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1891 \"configure\"\n+#line 1890 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1896: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1895: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1916,17 +1915,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1920: checking for pthread.h\" >&5\n+echo \"configure:1919: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1925 \"configure\"\n+#line 1924 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1930: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1929: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1953,7 +1952,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1957: checking for $ac_word\" >&5\n+echo \"configure:1956: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1983,20 +1982,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1987: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1986: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1992 \"configure\"\n+#line 1991 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:2000: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1999: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -2019,20 +2018,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2023: checking for inttypes.h\" >&5\n+echo \"configure:2022: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2028 \"configure\"\n+#line 2027 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:2036: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2035: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -2055,12 +2054,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii gettimeofday strsignal\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2059: checking for $ac_func\" >&5\n+echo \"configure:2058: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2064 \"configure\"\n+#line 2063 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2083,7 +2082,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2087: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2086: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2112,12 +2111,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:2116: checking for vprintf\" >&5\n+echo \"configure:2115: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2121 \"configure\"\n+#line 2120 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -2140,7 +2139,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2144: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2143: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2164,12 +2163,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2168: checking for _doprnt\" >&5\n+echo \"configure:2167: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2173 \"configure\"\n+#line 2172 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2192,7 +2191,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2196: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2195: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2228,15 +2227,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2232: checking whether the printf functions support %p\" >&5\n+echo \"configure:2231: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2240 \"configure\"\n+#line 2239 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2249,7 +2248,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2253: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2252: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2278,12 +2277,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tstrsignal\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2282: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2281: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2287 \"configure\"\n+#line 2286 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2316,7 +2315,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2320: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2319: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2345,12 +2344,12 @@ done\n for ac_func in getrlimit setrlimit\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2349: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2348: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2354 \"configure\"\n+#line 2353 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2387,7 +2386,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2391: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2390: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2414,12 +2413,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2418: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2417: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2423 \"configure\"\n+#line 2422 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2431,7 +2430,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2435: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2434: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5644,7 +5643,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5648: checking assembler alignment features\" >&5\n+echo \"configure:5647: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -5715,7 +5714,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:5719: checking assembler subsection support\" >&5\n+echo \"configure:5718: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -5951,7 +5950,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:5955: checking whether to enable init_priority by default\" >&5\n+echo \"configure:5954: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi"}, {"sha": "dc3f42c152bef49b36f9b9c4a1c8cdb6894083b6", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -190,9 +190,8 @@ AC_ARG_ENABLE(c-cpplib,\n [  --enable-c-cpplib       link cpplib directly into C and C++ compilers\n                           (implies --enable-cpplib).],\n if test x$enable_c_cpplib != xno; then\n-  extra_c_objs=\"${extra_c_objs} cpplib.o cppexp.o cpphash.o cpperror.o\"\n-  extra_c_objs=\"${extra_c_objs} prefix.o\"\n-  extra_cxx_objs=\"${extra_cxx_objs} ../cpplib.o ../cppexp.o ../cpphash.o ../cpperror.o ../prefix.o\"\n+  extra_c_objs=\"${extra_c_objs} libcpp.a\"\n+  extra_cxx_objs=\"${extra_cxx_objs} ../libcpp.a\"\n   extra_c_flags=-DUSE_CPPLIB=1\n   cpp_main=cppmain\n fi)"}, {"sha": "c726c3c813c375616eee87148d9df2a6a2baf421", "filename": "gcc/cpplib.c", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fcpplib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fcpplib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -38,6 +38,7 @@ Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n #include \"gansidecl.h\"\n #include \"cpplib.h\"\n #include \"cpphash.h\"\n+#include \"output.h\"\n \n #ifndef GET_ENV_PATH_LIST\n #define GET_ENV_PATH_LIST(VAR,NAME)\tdo { (VAR) = getenv (NAME); } while (0)\n@@ -2338,7 +2339,7 @@ special_symbol (hp, pfile)\n     break;\n \n     case T_USER_LABEL_PREFIX_TYPE:\n-      buf = USER_LABEL_PREFIX;\n+      buf = user_label_prefix;\n       break;\n \n     case T_REGISTER_PREFIX_TYPE:\n@@ -6342,6 +6343,10 @@ cpp_handle_option (pfile, argc, argv)\n {\n   struct cpp_options *opts = CPP_OPTIONS (pfile);\n   int i = 0;\n+\n+  if (user_label_prefix == NULL)\n+    user_label_prefix = USER_LABEL_PREFIX;\n+\n   if (argv[i][0] != '-') {\n     if (opts->out_fname != NULL)\n       {\n@@ -6362,6 +6367,13 @@ cpp_handle_option (pfile, argc, argv)\n       cpp_fatal (pfile, \"Directory name missing after `%s' option\", argv[i]);\n       return argc;\n       \n+    case 'f':\n+      if (!strcmp (argv[i], \"-fleading-underscore\"))\n+ \tuser_label_prefix = \"_\";\n+      else if (!strcmp (argv[i], \"-fno-leading-underscore\"))\n+ \tuser_label_prefix = \"\";\n+      break;\n+\n     case 'i':\n       if (!strcmp (argv[i], \"-include\")\n \t  || !strcmp (argv[i], \"-imacros\")) {"}, {"sha": "29c2551facee9020cb788ba998a9ec455096ddae", "filename": "gcc/cppulp.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fcppulp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fcppulp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppulp.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -0,0 +1,27 @@\n+/* CPP Library.\n+   Copyright (C) 1986, 87, 89, 92-97, 1998 Free Software Foundation, Inc.\n+   Contributed by Per Bothner, 1994-95.\n+   Based on CCCP program by Paul Rubin, June 1986\n+   Adapted to ANSI C, Richard Stallman, Jan 1987\n+\n+This program is free software; you can redistribute it and/or modify it\n+under the terms of the GNU General Public License as published by the\n+Free Software Foundation; either version 2, or (at your option) any\n+later version.\n+\n+This program is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with this program; if not, write to the Free Software\n+Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n+\n+#include \"config.h\"\n+#include \"system.h\"\n+\n+#include \"gansidecl.h\"\n+#include \"output.h\"\n+\n+char *user_label_prefix;"}, {"sha": "a34af76e40cbce52699c8c5c7389c50dc8802ca1", "filename": "gcc/defaults.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fdefaults.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fdefaults.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdefaults.h?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -121,8 +121,7 @@ do { fprintf (FILE, \"\\t%s\\t\", ASM_LONG);\t\t\t\t\\\n /* This is how to output a reference to a user-level label named NAME.  */\n \n #ifndef ASM_OUTPUT_LABELREF\n-#define ASM_OUTPUT_LABELREF(FILE,NAME)  \\\n-  do { fputs (USER_LABEL_PREFIX, FILE); fputs (NAME, FILE); } while (0)\n+#define ASM_OUTPUT_LABELREF(FILE,NAME)  asm_fprintf ((FILE), \"%U%s\", (NAME))\n #endif\n \n /* This determines whether or not we support weak symbols.  */"}, {"sha": "86bfec5b099fc7d05d268e104091b8958eda1a1b", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -2663,13 +2663,16 @@ static char text_end_label[MAX_ARTIFICIAL_LABEL_BYTES];\n    macro has the same effect as ASM_OUTPUT_LABELREF, but copies to\n    a string rather than writing to a file.  */\n #ifndef ASM_NAME_TO_STRING\n-#define ASM_NAME_TO_STRING(STR, NAME) \\\n-  do {\t\t\t\t\t\t\t\t\t      \\\n-      if ((NAME)[0] == '*')\t\t\t\t\t\t      \\\n-\tdyn_string_append (STR, NAME + 1);\t\t\t\t      \\\n-      else\t\t\t\t\t\t\t\t      \\\n-\tdyn_string_append (STR, NAME);                                        \\\n-  }                                                                           \\\n+#define ASM_NAME_TO_STRING(STR, NAME)\t\t\t\\\n+  do {\t\t\t\t\t\t\t\\\n+      if ((NAME)[0] == '*')\t\t\t\t\\\n+\tdyn_string_append (STR, NAME + 1);\t\t\\\n+      else\t\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\\\n+\t  dyn_string_append (STR, user_label_prefix);\t\\\n+\t  dyn_string_append (STR, NAME);\t\t\\\n+\t}\t\t\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\\\n   while (0)\n #endif\n \f"}, {"sha": "b750d9394b8a7f8064cbba7fdda94a29ae6369b9", "filename": "gcc/final.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -3831,9 +3831,7 @@ asm_fprintf VPROTO((FILE *file, char *p, ...))\n \t    break;\n \n \t  case 'U':\n-#ifdef USER_LABEL_PREFIX\n-\t    fprintf (file, \"%s\", USER_LABEL_PREFIX);\n-#endif\n+\t    fputs (user_label_prefix, file);\n \t    break;\n \n \t  default:"}, {"sha": "a7eb71e45e20a6cf6e81a12ac0676b69a352f755", "filename": "gcc/gcc.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -628,6 +628,7 @@ static struct compiler default_compilers[] =\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n+\t%{fleading-underscore} %{fno-leading-underscore}\\\n \t%{g*} %{W*} %{w} %{pedantic*} %{H} %{d*} %C %{D*} %{U*} %{i*} %Z\\\n         %i %{E:%W{o*}}%{M:%W{o*}}%{MM:%W{o*}}\\n}\\\n       %{!E:%{!M:%{!MM:cc1 %i %1 \\\n@@ -661,6 +662,7 @@ static struct compiler default_compilers[] =\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n+\t%{fleading-underscore} %{fno-leading-underscore}\\\n \t%{g*} %{W*} %{w} %{pedantic*} %{H} %{d*} %C %{D*} %{U*} %{i*} %Z\\\n         %i %{!M:%{!MM:%{!E:%{!pipe:%g.i}}}}%{E:%W{o*}}%{M:%W{o*}}%{MM:%W{o*}} |\\n\",\n    \"%{!M:%{!MM:%{!E:cc1 %{!pipe:%g.i} %1 \\\n@@ -686,6 +688,7 @@ static struct compiler default_compilers[] =\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n+\t%{fleading-underscore} %{fno-leading-underscore}\\\n \t%{g*} %{W*} %{w} %{pedantic*} %{H} %{d*} %C %{D*} %{U*} %{i*} %Z\\\n         %i %W{o*}}\\\n     %{!E:%e-E required when input is from standard input}\"}},\n@@ -700,6 +703,7 @@ static struct compiler default_compilers[] =\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n+\t%{fleading-underscore} %{fno-leading-underscore}\\\n \t%{g*} %{W*} %{w} %{pedantic*} %{H} %{d*} %C %{D*} %{U*} %{i*} %Z\\\n         %i %{!M:%{!MM:%{!E:%{!pipe:%g.i}}}}%{E:%W{o*}}%{M:%W{o*}}%{MM:%W{o*}} |\\n\",\n     \"%{!M:%{!MM:%{!E:cc1obj %{!pipe:%g.i} %1 \\\n@@ -725,6 +729,7 @@ static struct compiler default_compilers[] =\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n+\t%{fleading-underscore} %{fno-leading-underscore}\\\n \t%{g*} %{W*} %{w} %{pedantic*} %{H} %{d*} %C %{D*} %{U*} %{i*} %Z\\\n         %i %W{o*}\"}},\n   {\".i\", {\"@cpp-output\"}},\n@@ -752,6 +757,7 @@ static struct compiler default_compilers[] =\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n+\t%{fleading-underscore} %{fno-leading-underscore}\\\n \t%{g*} %{W*} %{w} %{pedantic*} %{H} %{d*} %C %{D*} %{U*} %{i*} %Z\\\n         %i %{!M:%{!MM:%{!E:%{!pipe:%g.s}}}}%{E:%W{o*}}%{M:%W{o*}}%{MM:%W{o*}} |\\n\",\n     \"%{!M:%{!MM:%{!E:%{!S:as %a %Y\\"}, {"sha": "6b041fe38f80234daa7bd68ff20a364f562bacb0", "filename": "gcc/invoke.texi", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finvoke.texi?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -408,6 +408,7 @@ in the following sections.\n -fverbose-asm -fpack-struct  -fstack-check\n -fargument-alias  -fargument-noalias\n -fargument-noalias-global\n+-fleading-underscore\n @end smallexample\n @end table\n \n@@ -5989,6 +5990,14 @@ alias each other and do not alias global storage.\n \n Each language will automatically use whatever option is required by\n the language standard.  You should not need to use these options yourself.\n+\n+@item -fleading-underscore\n+This option and its counterpart, -fno-leading-underscore, forcibly\n+change the way C symbols are represented in the object file.  One use\n+is to help link with legacy assembly code.\n+\n+Be warned that you should know what you are doing when invoking this\n+option, and that not all targets provide complete support for it.\n @end table\n \n @node Environment Variables"}, {"sha": "2ef888cd6d2b124a8b97740d0fe5c67f8505fbab", "filename": "gcc/objc/Make-lang.in", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Fobjc%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Fobjc%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FMake-lang.in?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -59,9 +59,8 @@ OBJECTIVE-C objective-c: cc1obj$(exeext)\n # Language-specific object files for Objective C.\n OBJC_OBJS = objc-parse.o objc-act.o $(C_AND_OBJC_OBJS)\n \n-cc1obj$(exeext): $(P) $(OBJC_OBJS) $(OBJS) $(LIBDEPS)\n-\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ $(OBJC_OBJS) $(OBJS) \\\n-\t\t$(LIBS)\n+cc1obj$(exeext): $(P) $(OBJS) $(OBJC_OBJS) $(LIBDEPS)\n+\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ $(OBJS) $(OBJC_OBJS) $(LIBS)\n \n # Objective C language specific files.\n "}, {"sha": "4082e629cfc8363ce9f965d1704d6ef025f23f4c", "filename": "gcc/output.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Foutput.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Foutput.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foutput.h?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -482,3 +482,6 @@ extern FILE *rtl_dump_file;\n    && (DECL_INITIAL (DECL) == error_mark_node\t\t\\\n        || TREE_CONSTANT (DECL_INITIAL (DECL)))\t\t\\\n    && ! (RELOC && (flag_pic || DECL_ONE_ONLY (DECL))))\n+\n+/* User label prefix in effect for this compilation.  */\n+extern char *user_label_prefix;"}, {"sha": "5acb8f014b2ec29ebdc9dc98f70b460d0e1d07c0", "filename": "gcc/toplev.c", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19283265adf53e051a1f372086526b87762bc246/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19283265adf53e051a1f372086526b87762bc246/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=19283265adf53e051a1f372086526b87762bc246", "patch": "@@ -770,6 +770,17 @@ typedef struct\n }\n lang_independent_options;\n \n+/* Add or remove a leading underscore from user symbols.  */\n+int flag_leading_underscore = -1;\n+\n+/* The user symbol prefix after having resolved same.  */\n+char *user_label_prefix;\n+\n+/* A default for same.  */\n+#ifndef USER_LABEL_PREFIX\n+#define USER_LABEL_PREFIX \"\"\n+#endif\n+\n /* Table of language-independent -f options.\n    STRING is the option name.  VARIABLE is the address of the variable.\n    ON_VALUE is the value to store in VARIABLE\n@@ -915,6 +926,8 @@ lang_independent_options f_options[] =\n    \"Suppress output of instruction numbers and line number notes in debugging dumps\"},\n   {\"instrument-functions\", &flag_instrument_function_entry_exit, 1,\n    \"Instrument function entry/exit with profiling calls\"},\n+  {\"leading-underscore\", &flag_leading_underscore, 1,\n+   \"External symbols have a leading underscore\" }\n };\n \n #define NUM_ELEM(a)  (sizeof (a) / sizeof ((a)[0]))\n@@ -4899,6 +4912,21 @@ main (argc, argv)\n     warning (\"this target machine does not have delayed branches\");\n #endif\n \n+  user_label_prefix = USER_LABEL_PREFIX;\n+  if (flag_leading_underscore != -1)\n+    {\n+      /* If the default prefix is more complicated than \"\" or \"_\", \n+\t issue a warning and ignore this option.  */\n+      if (user_label_prefix[0] == 0 ||\n+\t  (user_label_prefix[0] == '_' && user_label_prefix[1] == 0))\n+\t{\n+\t  user_label_prefix = flag_leading_underscore ? \"_\" : \"\";\n+\t}\n+      else\n+\twarning (\"-f%sleading-underscore not supported on this target machine\",\n+\t\t flag_leading_underscore ? \"\" : \"no-\");\n+    }\n+\n   /* If we are in verbose mode, write out the version and maybe all the\n      option flags in use.  */\n   if (version_flag)"}]}