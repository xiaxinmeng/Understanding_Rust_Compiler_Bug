{"sha": "c23524153d2b7b683526969a0d9b85efdc8c2767", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzIzNTI0MTUzZDJiN2I2ODM1MjY5NjlhMGQ5Yjg1ZWZkYzhjMjc2Nw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2019-06-25T08:17:08Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2019-06-25T08:17:08Z"}, "message": "decl.c (gnat_to_gnu_entity): Remove superfluous test in previous change.\n\n\t* gcc-interface/decl.c (gnat_to_gnu_entity): Remove superfluous test\n\tin previous change.\n\t* gcc-interface/gigi.h (maybe_character_type): Fix formatting.\n\t(maybe_character_value): Likewise.\n\nFrom-SVN: r272637", "tree": {"sha": "6eabb9c78a6660bd71ad8ce27a2b109f4521db25", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6eabb9c78a6660bd71ad8ce27a2b109f4521db25"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c23524153d2b7b683526969a0d9b85efdc8c2767", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c23524153d2b7b683526969a0d9b85efdc8c2767", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c23524153d2b7b683526969a0d9b85efdc8c2767", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c23524153d2b7b683526969a0d9b85efdc8c2767/comments", "author": null, "committer": null, "parents": [{"sha": "361af3e4194ce1d9620e2c3506115bba9ef18efa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/361af3e4194ce1d9620e2c3506115bba9ef18efa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/361af3e4194ce1d9620e2c3506115bba9ef18efa"}], "stats": {"total": 26, "additions": 16, "deletions": 10}, "files": [{"sha": "fab2f0a53e2f5b2e2341e602120d9edc2fff1f13", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c23524153d2b7b683526969a0d9b85efdc8c2767/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c23524153d2b7b683526969a0d9b85efdc8c2767/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=c23524153d2b7b683526969a0d9b85efdc8c2767", "patch": "@@ -1,9 +1,16 @@\n+2019-06-25  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (gnat_to_gnu_entity): Remove superfluous test\n+\tin previous change.\n+\t* gcc-interface/gigi.h (maybe_character_type): Fix formatting.\n+\t(maybe_character_value): Likewise.\n+\n 2019-06-24  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity): Check that\n \ttype is array or integer prior checking string flag.\n-\t* gcc-interface/gigi.h (gnat_signed_type_for,\n-\tmaybe_character_value): Likewise.\n+\t* gcc-interface/gigi.h (maybe_character_type): Likewise.\n+\t(maybe_character_value): Likewise.\n \n 2019-06-24  Martin Sebor  <msebor@redhat.com>\n \n@@ -12,15 +19,13 @@\n \n 2019-06-18  Arnaud Charlet  <charlet@adacore.com>\n \n-PR ada/80590\n-\n+\tPR ada/80590\n \t* sem_ch5.adb (Analyze_Loop_Statement): Avoid exception propagation\n \tduring normal processing.\n \n 2019-06-17  Arnaud Charlet  <charlet@adacore.com>\n \n-PR ada/80590\n-\n+\tPR ada/80590\n \t* exp_ch9.adb (Expand_N_Delay_Relative_Statement): Swap the two\n \tconditions to avoid a unnecessary exception propagation in the default\n \tcase."}, {"sha": "a083816eddfb0f31c37f21f7f9e2bcbbda596c74", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c23524153d2b7b683526969a0d9b85efdc8c2767/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c23524153d2b7b683526969a0d9b85efdc8c2767/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=c23524153d2b7b683526969a0d9b85efdc8c2767", "patch": "@@ -1855,8 +1855,7 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, bool definition)\n \t  = Has_Biased_Representation (gnat_entity);\n \n       /* Do the same processing for Character subtypes as for types.  */\n-      if ((TREE_CODE (TREE_TYPE (gnu_type)) == INTEGER_TYPE\n-\t   || TREE_CODE (TREE_TYPE (gnu_type)) == ARRAY_TYPE)\n+      if (TREE_CODE (TREE_TYPE (gnu_type)) == INTEGER_TYPE\n \t  && TYPE_STRING_FLAG (TREE_TYPE (gnu_type)))\n \t{\n \t  TYPE_NAME (gnu_type) = gnu_entity_name;"}, {"sha": "c8eb637fa2be9411f47ddf0ecd9806fdba5a6be2", "filename": "gcc/ada/gcc-interface/gigi.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c23524153d2b7b683526969a0d9b85efdc8c2767/gcc%2Fada%2Fgcc-interface%2Fgigi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c23524153d2b7b683526969a0d9b85efdc8c2767/gcc%2Fada%2Fgcc-interface%2Fgigi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fgigi.h?ref=c23524153d2b7b683526969a0d9b85efdc8c2767", "patch": "@@ -1139,7 +1139,8 @@ static inline tree\n maybe_character_type (tree type)\n {\n   if (TREE_CODE (type) == INTEGER_TYPE\n-      && TYPE_STRING_FLAG (type) && !TYPE_UNSIGNED (type))\n+      && TYPE_STRING_FLAG (type)\n+      && !TYPE_UNSIGNED (type))\n     type = gnat_unsigned_type_for (type);\n \n   return type;\n@@ -1153,7 +1154,8 @@ maybe_character_value (tree expr)\n   tree type = TREE_TYPE (expr);\n \n   if (TREE_CODE (type) == INTEGER_TYPE\n-      && TYPE_STRING_FLAG (type) && !TYPE_UNSIGNED (type))\n+      && TYPE_STRING_FLAG (type)\n+      && !TYPE_UNSIGNED (type))\n     {\n       type = gnat_unsigned_type_for (type);\n       expr = convert (type, expr);"}]}