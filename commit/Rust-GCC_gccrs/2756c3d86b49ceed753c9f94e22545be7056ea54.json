{"sha": "2756c3d86b49ceed753c9f94e22545be7056ea54", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc1NmMzZDg2YjQ5Y2VlZDc1M2M5Zjk0ZTIyNTQ1YmU3MDU2ZWE1NA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@freesoft.cz", "date": "1999-12-09T10:53:29Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "1999-12-09T10:53:29Z"}, "message": "* i386.md (neg??, abs?f, one_cmpl?i): Use nonimmediate_operand in expander.\n\nFrom-SVN: r30844", "tree": {"sha": "ada22c30d2cf4eac5c17123ccacd581a8dad81af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ada22c30d2cf4eac5c17123ccacd581a8dad81af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2756c3d86b49ceed753c9f94e22545be7056ea54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2756c3d86b49ceed753c9f94e22545be7056ea54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2756c3d86b49ceed753c9f94e22545be7056ea54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2756c3d86b49ceed753c9f94e22545be7056ea54/comments", "author": null, "committer": null, "parents": [{"sha": "5dd56a932b3e62d8302a7a57f526bebe7c66eb85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dd56a932b3e62d8302a7a57f526bebe7c66eb85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dd56a932b3e62d8302a7a57f526bebe7c66eb85"}], "stats": {"total": 29, "additions": 16, "deletions": 13}, "files": [{"sha": "39323eec77990c2fb4347bd3ee2d969898187a96", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2756c3d86b49ceed753c9f94e22545be7056ea54/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2756c3d86b49ceed753c9f94e22545be7056ea54/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2756c3d86b49ceed753c9f94e22545be7056ea54", "patch": "@@ -1,5 +1,8 @@\n Thu Dec  9 11:36:24 MET 1999 Jan Hubicka  <hubicka@freesoft.cz>\n \n+\t* i386.md (neg??, abs?f, one_cmpl?i): Use nonimmediate_operand\n+\tin expander.\n+\n \t* flow.c (recompute_reg_usage): Use basic block info to get loop_depth.\n \n \t* combine.c (try_combine, distribute_notes): Remove REG_N_REFS"}, {"sha": "475e86075a6a874aab49f6852d226a22ff0f8459", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2756c3d86b49ceed753c9f94e22545be7056ea54/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2756c3d86b49ceed753c9f94e22545be7056ea54/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=2756c3d86b49ceed753c9f94e22545be7056ea54", "patch": "@@ -4724,7 +4724,7 @@\n \n (define_expand \"negdi2\"\n   [(parallel [(set (match_operand:DI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:DI (match_operand:DI 1 \"general_operand\" \"\")))\n+\t\t   (neg:DI (match_operand:DI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NEG, DImode, operands); DONE;\")\n@@ -4760,7 +4760,7 @@\n \n (define_expand \"negsi2\"\n   [(parallel [(set (match_operand:SI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:SI (match_operand:SI 1 \"general_operand\" \"\")))\n+\t\t   (neg:SI (match_operand:SI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NEG, SImode, operands); DONE;\")\n@@ -4795,7 +4795,7 @@\n \n (define_expand \"neghi2\"\n   [(parallel [(set (match_operand:HI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:HI (match_operand:HI 1 \"general_operand\" \"\")))\n+\t\t   (neg:HI (match_operand:HI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NEG, HImode, operands); DONE;\")\n@@ -4830,7 +4830,7 @@\n \n (define_expand \"negqi2\"\n   [(parallel [(set (match_operand:QI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:QI (match_operand:QI 1 \"general_operand\" \"\")))\n+\t\t   (neg:QI (match_operand:QI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NEG, QImode, operands); DONE;\")\n@@ -4867,7 +4867,7 @@\n \n (define_expand \"negsf2\"\n   [(parallel [(set (match_operand:SF 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:SF (match_operand:SF 1 \"general_operand\" \"\")))\n+\t\t   (neg:SF (match_operand:SF 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"TARGET_80387\"\n   \"ix86_expand_unary_operator (NEG, SFmode, operands); DONE;\")\n@@ -4922,7 +4922,7 @@\n \n (define_expand \"negdf2\"\n   [(parallel [(set (match_operand:DF 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:DF (match_operand:DF 1 \"general_operand\" \"\")))\n+\t\t   (neg:DF (match_operand:DF 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"TARGET_80387\"\n   \"ix86_expand_unary_operator (NEG, DFmode, operands); DONE;\")\n@@ -4958,7 +4958,7 @@\n \n (define_expand \"negxf2\"\n   [(parallel [(set (match_operand:XF 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:XF (match_operand:XF 1 \"general_operand\" \"\")))\n+\t\t   (neg:XF (match_operand:XF 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"TARGET_80387\"\n   \"ix86_expand_unary_operator (NEG, XFmode, operands); DONE;\")\n@@ -5050,7 +5050,7 @@\n \n (define_expand \"abssf2\"\n   [(parallel [(set (match_operand:SF 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:SF (match_operand:SF 1 \"general_operand\" \"\")))\n+\t\t   (neg:SF (match_operand:SF 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"TARGET_80387\"\n   \"ix86_expand_unary_operator (ABS, SFmode, operands); DONE;\")\n@@ -5105,7 +5105,7 @@\n \n (define_expand \"absdf2\"\n   [(parallel [(set (match_operand:DF 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:DF (match_operand:DF 1 \"general_operand\" \"\")))\n+\t\t   (neg:DF (match_operand:DF 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"TARGET_80387\"\n   \"ix86_expand_unary_operator (ABS, DFmode, operands); DONE;\")\n@@ -5141,7 +5141,7 @@\n \n (define_expand \"absxf2\"\n   [(parallel [(set (match_operand:XF 0 \"nonimmediate_operand\" \"\")\n-\t\t   (neg:XF (match_operand:XF 1 \"general_operand\" \"\")))\n+\t\t   (neg:XF (match_operand:XF 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"TARGET_80387\"\n   \"ix86_expand_unary_operator (ABS, XFmode, operands); DONE;\")\n@@ -5224,7 +5224,7 @@\n \n (define_expand \"one_cmplsi2\"\n   [(parallel [(set (match_operand:SI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (not:SI (match_operand:SI 1 \"general_operand\" \"\")))\n+\t\t   (not:SI (match_operand:SI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NOT, SImode, operands); DONE;\")\n@@ -5262,7 +5262,7 @@\n \n (define_expand \"one_cmplhi2\"\n   [(parallel [(set (match_operand:HI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (not:HI (match_operand:HI 1 \"general_operand\" \"\")))\n+\t\t   (not:HI (match_operand:HI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NOT, HImode, operands); DONE;\")\n@@ -5311,7 +5311,7 @@\n ;; %%% Potential partial reg stall on alternative 1.  What to do?\n (define_expand \"one_cmplqi2\"\n   [(parallel [(set (match_operand:QI 0 \"nonimmediate_operand\" \"\")\n-\t\t   (not:QI (match_operand:QI 1 \"general_operand\" \"\")))\n+\t\t   (not:QI (match_operand:QI 1 \"nonimmediate_operand\" \"\")))\n \t      (clobber (reg:CC 17))])]\n   \"\"\n   \"ix86_expand_unary_operator (NOT, QImode, operands); DONE;\")"}]}