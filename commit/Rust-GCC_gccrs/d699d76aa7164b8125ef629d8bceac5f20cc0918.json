{"sha": "d699d76aa7164b8125ef629d8bceac5f20cc0918", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDY5OWQ3NmFhNzE2NGI4MTI1ZWY2MjlkOGJjZWFjNWYyMGNjMDkxOA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenth@gcc.gnu.org", "date": "2005-06-01T09:34:15Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2005-06-01T09:34:15Z"}, "message": "fold-const.c (fold_binary): Fix types in strlen vs.\n\n2005-06-01  Richard Guenther  <rguenth@gcc.gnu.org>\n\n\t* fold-const.c (fold_binary): Fix types in strlen vs.\n\tzero comparison folding.\n\nFrom-SVN: r100436", "tree": {"sha": "4ae0a84079f09d7454efc104f6c1b5ab32c8508c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ae0a84079f09d7454efc104f6c1b5ab32c8508c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d699d76aa7164b8125ef629d8bceac5f20cc0918", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d699d76aa7164b8125ef629d8bceac5f20cc0918", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d699d76aa7164b8125ef629d8bceac5f20cc0918", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d699d76aa7164b8125ef629d8bceac5f20cc0918/comments", "author": null, "committer": null, "parents": [{"sha": "d006f5eb56135d6130498994fd6e82c1198eb5e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d006f5eb56135d6130498994fd6e82c1198eb5e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d006f5eb56135d6130498994fd6e82c1198eb5e1"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "c906a255fbdbedd51aa0834c3cfa3340a841c972", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d699d76aa7164b8125ef629d8bceac5f20cc0918/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d699d76aa7164b8125ef629d8bceac5f20cc0918/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d699d76aa7164b8125ef629d8bceac5f20cc0918", "patch": "@@ -1,3 +1,8 @@\n+2005-06-01  Richard Guenther  <rguenth@gcc.gnu.org>\n+\n+\t* fold-const.c (fold_binary): Fix types in strlen vs.\n+\tzero comparison folding.\n+\n 2005-06-01  Richard Henderson  <rth@redhat.com>\n \n \t* configure.ac (HAVE_AS_JSRDIRECT_RELOCS): New."}, {"sha": "18e92e27c6ab8916726236e9b8c83b2f436e4544", "filename": "gcc/fold-const.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d699d76aa7164b8125ef629d8bceac5f20cc0918/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d699d76aa7164b8125ef629d8bceac5f20cc0918/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=d699d76aa7164b8125ef629d8bceac5f20cc0918", "patch": "@@ -9915,11 +9915,11 @@ fold_binary (enum tree_code code, tree type, tree op0, tree op1)\n \t      && (arglist = TREE_OPERAND (arg0, 1))\n \t      && TREE_CODE (TREE_TYPE (TREE_VALUE (arglist))) == POINTER_TYPE\n \t      && ! TREE_CHAIN (arglist))\n-\t    return fold_build2 (code, type,\n-\t\t\t\tbuild1 (INDIRECT_REF, char_type_node,\n-\t\t\t\t\tTREE_VALUE (arglist)),\n-\t\t\t\tfold_convert (char_type_node,\n-\t\t\t\t\t      integer_zero_node));\n+\t    {\n+\t      tree iref = build_fold_indirect_ref (TREE_VALUE (arglist));\n+\t      return fold_build2 (code, type, iref,\n+\t\t\t\t  build_int_cst (TREE_TYPE (iref), 0));\n+\t    }\n \t}\n \n       /* We can fold X/C1 op C2 where C1 and C2 are integer constants"}]}