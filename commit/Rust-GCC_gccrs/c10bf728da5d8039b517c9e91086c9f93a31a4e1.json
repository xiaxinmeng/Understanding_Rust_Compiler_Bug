{"sha": "c10bf728da5d8039b517c9e91086c9f93a31a4e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzEwYmY3MjhkYTVkODAzOWI1MTdjOWU5MTA4NmM5ZjkzYTMxYTRlMQ==", "commit": {"author": {"name": "Andrew John Hughes", "email": "gandalf@gcc.gnu.org", "date": "2009-01-06T22:44:05Z"}, "committer": {"name": "Andrew John Hughes", "email": "gandalf@gcc.gnu.org", "date": "2009-01-06T22:44:05Z"}, "message": "Merge GNU Classpath libgcj-snapshot-20090102.\n\n2009-01-06  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n\tImport GNU Classpath (libgcj-snapshot-20090102).\n\n\t* libjava/classpath/lib/java/text/RuleBasedCollator$CollationSorter.class,\n\t* libjava/classpath/lib/java/text/MessageFormat$MessageFormatElement.class,\n\t* libjava/classpath/lib/java/text/MessageFormat.class,\n\t* libjava/classpath/lib/java/text/SimpleDateFormat.class,\n\t* libjava/classpath/lib/java/text/NumberFormat.class,\n\t* libjava/classpath/lib/java/text/RuleBasedCollator$CollationElement.class,\n\t* libjava/classpath/lib/java/text/MessageFormat$Field.class,\n\t* libjava/classpath/lib/java/text/RuleBasedCollator.class,\n\t* libjava/classpath/lib/java/text/NumberFormat$Field.class,\n\t* libjava/classpath/lib/gnu/xml/transform/Bindings.class,\n\t* libjava/classpath/lib/gnu/java/locale/LocaleData.class,\n\t* libjava/classpath/lib/gnu/java/awt/peer/gtk/FreetypeGlyphVector.class,\n\t* libjava/classpath/lib/gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.class,\n\t* libjava/gnu/java/awt/peer/gtk/FreetypeGlyphVector.h,\n\t* libjava/java/text/MessageFormat.h,\n\t* libjava/java/text/RuleBasedCollator$CollationSorter.h,\n\t* libjava/java/text/RuleBasedCollator.h,\n\t* libjava/java/text/SimpleDateFormat.h:\n\tRegenerated.\n\n2009-01-02  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * ChangeLog-2008: New file.\n\n2009-01-02  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * java/text/MessageFormat.java:\n       (setLocale(Locale)): Integer format should use\n       NumberFormat.getIntegerInstance.\n\nlibjava/classpath/ChangeLog-2008\n\n2008-12-31  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * java/text/MessageFormat.java:\n       (parse(String,ParsePosition)): Emulate behaviour\n       of Vector's setSize() which was being implicitly relied on.\n\n2008-12-31  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * java/text/SimpleDateFormat.java:\n       Remove superfluous empty line introduced\n       in last commit.\n\n2008-12-31  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * java/text/MessageFormat.java:\n       Convert variables to use generic types, use\n       CPStringBuilder in place of StringBuilder.\n       (Field()): Suppress warning due to only being used by\n       deserialization.\n       (scanFormat(String,int,CPStringBuilder,List,Locale)):\n       Use ArrayList instead of Vector as no synchronisation needed.\n       (parse(String,ParsePosition)): Likewise.\n       * java/text/NumberFormat.java:\n       (Field()): Suppress warning due to only being used by\n       deserialization.\n       * java/text/RuleBasedCollator.java:\n       Convert variables to use generic types.\n       (CollationElement): Make fields final.\n       (CollationSorter): Likewise.\n       (CollationSorter(int,String,int,boolean)): New constructor.\n       * java/text/SimpleDateFormat.java,\n       Convert variables to use generic types.\n       (applyPattern(String)): Clear list rather than creating a new instance.\n\n2008-12-30  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * java/text/SimpleDateFormat.java:\n       (standardChars): Use standard characters from CLDR.\n       (RFC822_TIMEZONE_FIELD): Fixed to match new standard\n       characters.\n\n2008-12-22  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * java/lang/String.java:\n       (byte[],int,int,String): Call new Charset method.\n       (stringToCharset(String)): Private method added to\n       handle exception conversion.\n       (byte[],int,int,Charset): Implemented.\n       (byte[], Charset): Likewise.\n       (getBytes(String)): Call new Charset method.\n       (getBytes(Charset)): Implemented.\n\n2008-12-18  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * native/jni/gtk-peer/gnu_java_awt_peer_gtk_FreetypeGlyphVector.c:\n       Include '\\0' in the string.\n\n2008-12-09  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       PR classpath/38473:\n       * native/jni/gtk-peer/gnu_java_awt_peer_gtk_FreetypeGlyphVector.c:\n       (Java_gnu_java_awt_peer_gtk_FreetypeGlyphVector_getGlyphOutlineNative):\n       Check that the glyph is an outline before calling\n       FT_Outline_Decompose.\n\n2008-11-16  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * gnu/xml/transform/Bindings.java:\n       Add generics to collections.\n\n2008-11-16  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.java:\n       (init(int,SecureRandom)): Improve exception message.\n\n2008-11-06  Mark Wielaard  <mark@klomp.org>\n\n       * native/jni/gtk-peer/gnu_java_awt_peer_gtk_FreetypeGlyphVector.c\n       (getKerning): Removed unused cls, method, values.\n\n2008-11-05  Andrew Haley  <aph@redhat.com>\n\n       * gnu/java/awt/peer/gtk/FreetypeGlyphVector.java (getKerning):\n       Return result in a float[], not a Point2D.\n       (performDefaultLayout): Call getKerning with a float[].\n       * native/jni/gtk-peer/gnu_java_awt_peer_gtk_FreetypeGlyphVector.c\n       (getKerning): Return result in a float[], not a Point2D.\n\n2008-11-05  Andrew Haley  <aph@redhat.com>\n\n       * tools/Makefile.am (UPDATE_TOOLS_ZIP, CREATE_TOOLS_ZIP): Exclude\n       .svn direcories.\n\n2008-10-23  David Edelsohn  <edelsohn@gnu.org>\n\n       * native/fdlibm/fdlibm.h: Undef hz.\n\n2008-10-20  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * m4/ac_prog_antlr.m4:\n       Remove redundant checks.\n       * tools/Makefile.am:\n       Use gjdoc_gendir when calling antlr.\n\n2008-10-17  Robert Lougher  <rob.lougher@gmail.com>\n\n       * native/jni/gtk-peer/gnu_java_awt_peer_gtk_CairoGraphics2D.c\n       (Java_gnu_java_awt_peer_gtk_CairoGraphics2D_cairoDrawGlyphVector):\n       Release 'fonts'.\n\n2008-10-16  Tom Tromey  <tromey@redhat.com>\n\n       * tools/gnu/classpath/tools/jar/WorkSet.java (initSet): Use\n       foreach.  Change argument type.\n       (WorkSet): Change argument type.\n       * tools/gnu/classpath/tools/jar/Indexer.java (indexJarFile): Use\n       foreach.\n       * tools/gnu/classpath/tools/jar/Creator.java\n       (writeCommandLineEntries): Use foreach.\n       (getAllEntries): Likewise.\n\n2008-10-15  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n\n       * configure.ac:\n       Remove superfluous AC_PROG_JAVA call.\n\nFrom-SVN: r143139", "tree": {"sha": "f6adfb5ce48587fcb2bd38f553cd63c1153c891c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6adfb5ce48587fcb2bd38f553cd63c1153c891c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c10bf728da5d8039b517c9e91086c9f93a31a4e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c10bf728da5d8039b517c9e91086c9f93a31a4e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c10bf728da5d8039b517c9e91086c9f93a31a4e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c10bf728da5d8039b517c9e91086c9f93a31a4e1/comments", "author": null, "committer": null, "parents": [{"sha": "5e5debf66a112ff98a9148330e5cdd6c94d0b2d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e5debf66a112ff98a9148330e5cdd6c94d0b2d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e5debf66a112ff98a9148330e5cdd6c94d0b2d3"}], "stats": {"total": 9798, "additions": 5129, "deletions": 4669}, "files": [{"sha": "b9a60b026df12788589a0a4af2dd41565694cfa4", "filename": "libjava/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -1,3 +1,27 @@\n+2009-01-06  Andrew John Hughes  <gnu_andrew@member.fsf.org>\n+\n+\tImport GNU Classpath (libgcj-snapshot-20090102).\n+\n+\t* libjava/classpath/lib/java/text/RuleBasedCollator$CollationSorter.class,\n+\t* libjava/classpath/lib/java/text/MessageFormat$MessageFormatElement.class,\n+\t* libjava/classpath/lib/java/text/MessageFormat.class,\n+\t* libjava/classpath/lib/java/text/SimpleDateFormat.class,\n+\t* libjava/classpath/lib/java/text/NumberFormat.class,\n+\t* libjava/classpath/lib/java/text/RuleBasedCollator$CollationElement.class,\n+\t* libjava/classpath/lib/java/text/MessageFormat$Field.class,\n+\t* libjava/classpath/lib/java/text/RuleBasedCollator.class,\n+\t* libjava/classpath/lib/java/text/NumberFormat$Field.class,\n+\t* libjava/classpath/lib/gnu/xml/transform/Bindings.class,\n+\t* libjava/classpath/lib/gnu/java/locale/LocaleData.class,\n+\t* libjava/classpath/lib/gnu/java/awt/peer/gtk/FreetypeGlyphVector.class,\n+\t* libjava/classpath/lib/gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.class,\n+\t* libjava/gnu/java/awt/peer/gtk/FreetypeGlyphVector.h,\n+\t* libjava/java/text/MessageFormat.h,\n+\t* libjava/java/text/RuleBasedCollator$CollationSorter.h,\n+\t* libjava/java/text/RuleBasedCollator.h,\n+\t* libjava/java/text/SimpleDateFormat.h:\n+\tRegenerated.\n+\n 2008-12-21  Andrew Pinski  <pinskia@gmail.com>\n \n \tPR target/38300"}, {"sha": "9416782db32d9ff9ebc5f5bdd4e3e3e76296717d", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 7, "deletions": 4361, "changes": 4368, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "ea6d9dcd7ea91e44599ce1db8cbc43836a758151", "filename": "libjava/classpath/ChangeLog-2008", "status": "added", "additions": 4443, "deletions": 0, "changes": 4443, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FChangeLog-2008", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FChangeLog-2008", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog-2008?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "aff0225dd16b23a78c541f43062913a468cb6d55", "filename": "libjava/classpath/ChangeLog.gcj", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog.gcj?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -1,3 +1,7 @@\n+2008-12-18  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* configure: Regenerate.\n+\n 2008-11-12  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR libgcj/33764\n@@ -7,6 +11,12 @@\n \t* configure: Regenerated.\n \t* tools/Makefile.in: Regenerated.\n \n+2008-11-10  Andrew Haley  <aph@redhat.com>\n+\n+\t* native/jni/gtk-peer/gnu_java_awt_peer_gtk_CairoGraphics2D.c \n+\t(Java_gnu_java_awt_peer_gtk_CairoGraphics2D_cairoDrawGlyphVector): \n+\tRemove bogus gdk_threads_leave ();\n+\n 2008-10-23  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR java/37893"}, {"sha": "8b82ade08e87bbfb02fbf4c3b45b181ab6dda8cb", "filename": "libjava/classpath/INSTALL", "status": "modified", "additions": 74, "deletions": 20, "changes": 94, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FINSTALL", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2FINSTALL", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FINSTALL?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -2,15 +2,15 @@ Installation Instructions\n *************************\n \n Copyright (C) 1994, 1995, 1996, 1999, 2000, 2001, 2002, 2004, 2005,\n-2006, 2007 Free Software Foundation, Inc.\n+2006, 2007, 2008 Free Software Foundation, Inc.\n \n-This file is free documentation; the Free Software Foundation gives\n+   This file is free documentation; the Free Software Foundation gives\n unlimited permission to copy, distribute and modify it.\n \n Basic Installation\n ==================\n \n-Briefly, the shell commands `./configure; make; make install' should\n+   Briefly, the shell commands `./configure; make; make install' should\n configure, build, and install this package.  The following\n more-detailed instructions are generic; see the `README' file for\n instructions specific to this package.\n@@ -73,9 +73,9 @@ The simplest way to compile this package is:\n Compilers and Options\n =====================\n \n-Some systems require unusual options for compilation or linking that the\n-`configure' script does not know about.  Run `./configure --help' for\n-details on some of the pertinent environment variables.\n+   Some systems require unusual options for compilation or linking that\n+the `configure' script does not know about.  Run `./configure --help'\n+for details on some of the pertinent environment variables.\n \n    You can give `configure' initial values for configuration parameters\n by setting variables in the command line or in the environment.  Here\n@@ -88,7 +88,7 @@ is an example:\n Compiling For Multiple Architectures\n ====================================\n \n-You can compile the package for more than one kind of computer at the\n+   You can compile the package for more than one kind of computer at the\n same time, by placing the object files for each architecture in their\n own directory.  To do this, you can use GNU `make'.  `cd' to the\n directory where you want the object files and executables to go and run\n@@ -100,10 +100,24 @@ architecture at a time in the source code directory.  After you have\n installed the package for one architecture, use `make distclean' before\n reconfiguring for another architecture.\n \n+   On MacOS X 10.5 and later systems, you can create libraries and\n+executables that work on multiple system types--known as \"fat\" or\n+\"universal\" binaries--by specifying multiple `-arch' options to the\n+compiler but only a single `-arch' option to the preprocessor.  Like\n+this:\n+\n+     ./configure CC=\"gcc -arch i386 -arch x86_64 -arch ppc -arch ppc64\" \\\n+                 CXX=\"g++ -arch i386 -arch x86_64 -arch ppc -arch ppc64\" \\\n+                 CPP=\"gcc -E\" CXXCPP=\"g++ -E\"\n+\n+   This is not guaranteed to produce working output in all cases, you\n+may have to build one architecture at a time and combine the results\n+using the `lipo' tool if you have problems.\n+\n Installation Names\n ==================\n \n-By default, `make install' installs the package's commands under\n+   By default, `make install' installs the package's commands under\n `/usr/local/bin', include files under `/usr/local/include', etc.  You\n can specify an installation prefix other than `/usr/local' by giving\n `configure' the option `--prefix=PREFIX'.\n@@ -126,7 +140,7 @@ option `--program-prefix=PREFIX' or `--program-suffix=SUFFIX'.\n Optional Features\n =================\n \n-Some packages pay attention to `--enable-FEATURE' options to\n+   Some packages pay attention to `--enable-FEATURE' options to\n `configure', where FEATURE indicates an optional part of the package.\n They may also pay attention to `--with-PACKAGE' options, where PACKAGE\n is something like `gnu-as' or `x' (for the X Window System).  The\n@@ -138,14 +152,36 @@ find the X include and library files automatically, but if it doesn't,\n you can use the `configure' options `--x-includes=DIR' and\n `--x-libraries=DIR' to specify their locations.\n \n+Particular systems\n+==================\n+\n+   On HP-UX, the default C compiler is not ANSI C compatible.  If GNU\n+CC is not installed, it is recommended to use the following options in\n+order to use an ANSI C compiler:\n+\n+     ./configure CC=\"cc -Ae\"\n+\n+and if that doesn't work, install pre-built binaries of GCC for HP-UX.\n+\n+   On OSF/1 a.k.a. Tru64, some versions of the default C compiler cannot\n+parse its `<wchar.h>' header file.  The option `-nodtk' can be used as\n+a workaround.  If GNU CC is not installed, it is therefore recommended\n+to try\n+\n+     ./configure CC=\"cc\"\n+\n+and if that doesn't work, try\n+\n+     ./configure CC=\"cc -nodtk\"\n+\n Specifying the System Type\n ==========================\n \n-There may be some features `configure' cannot figure out automatically,\n-but needs to determine by the type of machine the package will run on.\n-Usually, assuming the package is built to be run on the _same_\n-architectures, `configure' can figure that out, but if it prints a\n-message saying it cannot guess the machine type, give it the\n+   There may be some features `configure' cannot figure out\n+automatically, but needs to determine by the type of machine the package\n+will run on.  Usually, assuming the package is built to be run on the\n+_same_ architectures, `configure' can figure that out, but if it prints\n+a message saying it cannot guess the machine type, give it the\n `--build=TYPE' option.  TYPE can either be a short name for the system\n type, such as `sun4', or a canonical name which has the form:\n \n@@ -171,9 +207,9 @@ eventually be run) with `--host=TYPE'.\n Sharing Defaults\n ================\n \n-If you want to set default values for `configure' scripts to share, you\n-can create a site shell script called `config.site' that gives default\n-values for variables like `CC', `cache_file', and `prefix'.\n+   If you want to set default values for `configure' scripts to share,\n+you can create a site shell script called `config.site' that gives\n+default values for variables like `CC', `cache_file', and `prefix'.\n `configure' looks for `PREFIX/share/config.site' if it exists, then\n `PREFIX/etc/config.site' if it exists.  Or, you can set the\n `CONFIG_SITE' environment variable to the location of the site script.\n@@ -182,7 +218,7 @@ A warning: not all `configure' scripts look for a site script.\n Defining Variables\n ==================\n \n-Variables not defined in a site shell script can be set in the\n+   Variables not defined in a site shell script can be set in the\n environment passed to `configure'.  However, some packages may run\n configure again during the build, and the customized values of these\n variables may be lost.  In order to avoid this problem, you should set\n@@ -201,11 +237,19 @@ an Autoconf bug.  Until the bug is fixed you can use this workaround:\n `configure' Invocation\n ======================\n \n-`configure' recognizes the following options to control how it operates.\n+   `configure' recognizes the following options to control how it\n+operates.\n \n `--help'\n `-h'\n-     Print a summary of the options to `configure', and exit.\n+     Print a summary of all of the options to `configure', and exit.\n+\n+`--help=short'\n+`--help=recursive'\n+     Print a summary of the options unique to this package's\n+     `configure', and exit.  The `short' variant lists options used\n+     only in the top level, while the `recursive' variant lists options\n+     also present in any nested packages.\n \n `--version'\n `-V'\n@@ -232,6 +276,16 @@ an Autoconf bug.  Until the bug is fixed you can use this workaround:\n      Look for the package's source code in directory DIR.  Usually\n      `configure' can determine that directory automatically.\n \n+`--prefix=DIR'\n+     Use DIR as the installation prefix.  *Note Installation Names::\n+     for more details, including other options available for fine-tuning\n+     the installation locations.\n+\n+`--no-create'\n+`-n'\n+     Run the configure checks, but stop before creating any output\n+     files.\n+\n `configure' also accepts some other, not widely useful, options.  Run\n `configure --help' for more details.\n "}, {"sha": "3569bd5a864d8dd30ceca9dcaa7554ff2bcb455f", "filename": "libjava/classpath/doc/texinfo.tex", "status": "modified", "additions": 314, "deletions": 123, "changes": 437, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fdoc%2Ftexinfo.tex", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fdoc%2Ftexinfo.tex", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2Ftexinfo.tex?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -3,11 +3,11 @@\n % Load plain if necessary, i.e., if running under initex.\n \\expandafter\\ifx\\csname fmtname\\endcsname\\relax\\input plain\\fi\n %\n-\\def\\texinfoversion{2007-12-02.17}\n+\\def\\texinfoversion{2008-11-17.21}\n %\n-% Copyright (C) 1985, 1986, 1988, 1990, 1991, 1992, 1993, 1994, 1995, 2007,\n+% Copyright (C) 1985, 1986, 1988, 1990, 1991, 1992, 1993, 1994, 1995,\n % 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,\n-% 2007 Free Software Foundation, Inc.\n+% 2007, 2008 Free Software Foundation, Inc.\n %\n % This texinfo.tex file is free software: you can redistribute it and/or\n % modify it under the terms of the GNU General Public License as\n@@ -97,6 +97,9 @@\n \\let\\ptexslash=\\/\n \\let\\ptexstar=\\*\n \\let\\ptext=\\t\n+\\let\\ptextop=\\top\n+{\\catcode`\\'=\\active\n+\\global\\let\\ptexquoteright'}% Math-mode def from plain.tex.\n \n % If this character appears in an error message or help string, it\n % starts a new line in the output.\n@@ -460,7 +463,7 @@\n \\def\\argremovecomment#1\\comment#2\\ArgTerm{\\argremovec #1\\c\\ArgTerm}\n \\def\\argremovec#1\\c#2\\ArgTerm{\\argcheckspaces#1\\^^M\\ArgTerm}\n \n-% Each occurence of `\\^^M' or `<space>\\^^M' is replaced by a single space.\n+% Each occurrence of `\\^^M' or `<space>\\^^M' is replaced by a single space.\n %\n % \\argremovec might leave us with trailing space, e.g.,\n %    @end itemize  @c foo\n@@ -485,7 +488,7 @@\n % to get _exactly_ the rest of the line, we had to prevent such situation.\n % We prepended an \\empty token at the very beginning and we expand it now,\n % just before passing the control to \\argtorun.\n-% (Similarily, we have to think about #3 of \\argcheckspacesY above: it is\n+% (Similarly, we have to think about #3 of \\argcheckspacesY above: it is\n % either the null string, or it ends with \\^^M---thus there is no danger\n % that a pair of braces would be stripped.\n %\n@@ -542,12 +545,12 @@\n % used to check whether the current environment is the one expected.\n %\n % Non-false conditionals (@iftex, @ifset) don't fit into this, so they\n-% are not treated as enviroments; they don't open a group.  (The\n+% are not treated as environments; they don't open a group.  (The\n % implementation of @end takes care not to call \\endgroup in this\n % special case.)\n \n \n-% At runtime, environments start with this:\n+% At run-time, environments start with this:\n \\def\\startenvironment#1{\\begingroup\\def\\thisenv{#1}}\n % initialize\n \\let\\thisenv\\empty\n@@ -565,7 +568,7 @@\n   \\fi\n }\n \n-% Evironment mismatch, #1 expected:\n+% Environment mismatch, #1 expected:\n \\def\\badenverr{%\n   \\errhelp = \\EMsimple\n   \\errmessage{This command can appear only \\inenvironment\\temp,\n@@ -649,8 +652,8 @@\n \\def\\jmacro{j}\n \\def\\dotless#1{%\n   \\def\\temp{#1}%\n-  \\ifx\\temp\\imacro \\ptexi\n-  \\else\\ifx\\temp\\jmacro \\j\n+  \\ifx\\temp\\imacro \\ifmmode\\imath \\else\\ptexi \\fi\n+  \\else\\ifx\\temp\\jmacro \\ifmmode\\jmath \\else\\j \\fi\n   \\else \\errmessage{@dotless can be used only with i or j}%\n   \\fi\\fi\n }\n@@ -916,15 +919,20 @@\n   \\temp\n }\n \n-% @include file    insert text of that file as input.\n+% @include FILE -- \\input text of FILE.\n %\n \\def\\include{\\parseargusing\\filenamecatcodes\\includezzz}\n \\def\\includezzz#1{%\n   \\pushthisfilestack\n   \\def\\thisfile{#1}%\n   {%\n-    \\makevalueexpandable\n-    \\def\\temp{\\input #1 }%\n+    \\makevalueexpandable  % we want to expand any @value in FILE.\n+    \\turnoffactive        % and allow special characters in the expansion\n+    \\indexnofonts         % Allow `@@' and other weird things in file names.\n+    \\edef\\temp{\\noexpand\\input #1 }%\n+    %\n+    % This trickery is to read FILE outside of a group, in case it makes\n+    % definitions, etc.\n     \\expandafter\n   }\\temp\n   \\popthisfilestack\n@@ -939,6 +947,8 @@\n   \\catcode`>=\\other\n   \\catcode`+=\\other\n   \\catcode`-=\\other\n+  \\catcode`\\`=\\other\n+  \\catcode`\\'=\\other\n }\n \n \\def\\pushthisfilestack{%\n@@ -1114,6 +1124,16 @@\n   \\mathunderscore\n   \\let\\\\ = \\mathbackslash\n   \\mathactive\n+  % make the texinfo accent commands work in math mode\n+  \\let\\\"=\\ddot\n+  \\let\\'=\\acute\n+  \\let\\==\\bar\n+  \\let\\^=\\hat\n+  \\let\\`=\\grave\n+  \\let\\u=\\breve\n+  \\let\\v=\\check\n+  \\let\\~=\\tilde\n+  \\let\\dotaccent=\\dot\n   $\\finishmath\n }\n \\def\\finishmath#1{#1$\\endgroup}  % Close the group opened by \\tex.\n@@ -1127,17 +1147,21 @@\n   \\catcode`< = \\active\n   \\catcode`> = \\active\n   \\catcode`+ = \\active\n+  \\catcode`' = \\active\n   \\gdef\\mathactive{%\n     \\let^ = \\ptexhat\n     \\let< = \\ptexless\n     \\let> = \\ptexgtr\n     \\let+ = \\ptexplus\n+    \\let' = \\ptexquoteright\n   }\n }\n \n-% @bullet and @minus need the same treatment as @math, just above.\n+% Some math mode symbols.\n \\def\\bullet{$\\ptexbullet$}\n-\\def\\minus{$-$}\n+\\def\\geq{\\ifmmode \\ge\\else $\\ge$\\fi}\n+\\def\\leq{\\ifmmode \\le\\else $\\le$\\fi}\n+\\def\\minus{\\ifmmode -\\else $-$\\fi}\n \n % @dots{} outputs an ellipsis using the current font.\n % We do .5em per period so that it has the same spacing in the cm\n@@ -1362,8 +1386,11 @@\n           \\openin 1 #1.jpeg \\ifeof 1\n             \\openin 1 #1.JPG \\ifeof 1\n               \\openin 1 #1.pdf \\ifeof 1\n-                \\errhelp = \\nopdfimagehelp\n-                \\errmessage{Could not find image file #1 for pdf}%\n+                \\openin 1 #1.PDF \\ifeof 1\n+                  \\errhelp = \\nopdfimagehelp\n+                  \\errmessage{Could not find image file #1 for pdf}%\n+                \\else \\gdef\\pdfimgext{PDF}%\n+                \\fi\n               \\else \\gdef\\pdfimgext{pdf}%\n               \\fi\n             \\else \\gdef\\pdfimgext{JPG}%\n@@ -1377,7 +1404,7 @@\n       \\closein 1\n     \\endgroup\n     %\n-    % without \\immediate, pdftex seg faults when the same image is\n+    % without \\immediate, ancient pdftex seg faults when the same image is\n     % included twice.  (Version 3.14159-pre-1.0-unofficial-20010704.)\n     \\ifnum\\pdftexversion < 14\n       \\immediate\\pdfimage\n@@ -1607,6 +1634,10 @@\n \\def\\bf{\\fam=\\bffam \\setfontstyle{bf}}\\def\\bfstylename{bf}\n \\def\\tt{\\fam=\\ttfam \\setfontstyle{tt}}\n \n+% Unfortunately, we have to override this for titles and the like, since\n+% in those cases \"rm\" is bold.  Sigh.\n+\\def\\rmisbold{\\rm\\def\\curfontstyle{bf}}\n+\n % Texinfo sort of supports the sans serif font style, which plain TeX does not.\n % So we set up a \\sf.\n \\newfam\\sffam\n@@ -2004,8 +2035,6 @@\n \\setfont\\titlesc\\scbshape{10}{\\magstep4}{OT1}\n \\font\\titlei=cmmi12 scaled \\magstep3\n \\font\\titlesy=cmsy10 scaled \\magstep4\n-\\def\\authorrm{\\secrm}\n-\\def\\authortt{\\sectt}\n \\def\\titleecsize{2074}\n \n % Chapter (and unnumbered) fonts (17.28pt).\n@@ -2137,8 +2166,6 @@\n \\setfont\\titlesc\\scbshape{10}{\\magstep4}{OT1}\n \\font\\titlei=cmmi12 scaled \\magstep3\n \\font\\titlesy=cmsy10 scaled \\magstep4\n-\\def\\authorrm{\\secrm}\n-\\def\\authortt{\\sectt}\n \\def\\titleecsize{2074}\n \n % Chapter fonts (14.4pt).\n@@ -2270,7 +2297,7 @@\n   \\def\\curfontsize{title}%\n   \\def\\lsize{chap}\\def\\lllsize{subsec}%\n   \\resetmathfonts \\setleading{25pt}}\n-\\def\\titlefont#1{{\\titlefonts\\rm #1}}\n+\\def\\titlefont#1{{\\titlefonts\\rmisbold #1}}\n \\def\\chapfonts{%\n   \\let\\tenrm=\\chaprm \\let\\tenit=\\chapit \\let\\tensl=\\chapsl\n   \\let\\tenbf=\\chapbf \\let\\tentt=\\chaptt \\let\\smallcaps=\\chapsc\n@@ -2376,7 +2403,7 @@\n \n \\let\\i=\\smartitalic\n \\let\\slanted=\\smartslanted\n-\\let\\var=\\smartslanted\n+\\def\\var#1{{\\setupmarkupstyle{var}\\smartslanted{#1}}}\n \\let\\dfn=\\smartslanted\n \\let\\emph=\\smartitalic\n \n@@ -2416,7 +2443,7 @@\n   {\\tt \\rawbackslash \\plainfrenchspacing #1}%\n   \\null\n }\n-\\def\\samp#1{`\\tclose{#1}'\\null}\n+\\def\\samp#1{{\\setupmarkupstyle{samp}\\lq\\tclose{#1}\\rq\\null}}\n \\setfont\\keyrm\\rmshape{8}{1000}{OT1}\n \\font\\keysy=cmsy9\n \\def\\key#1{{\\keyrm\\textfont2=\\keysy \\leavevmode\\hbox{%\n@@ -2425,7 +2452,7 @@\n      \\hbox{\\raise0.4pt\\hbox{\\vphantom{\\angleleft}}#1}}%\n     \\kern-0.4pt\\hrule}%\n   \\kern-.06em\\raise0.4pt\\hbox{\\angleright}}}}\n-\\def\\key #1{{\\nohyphenation \\uppercase{#1}}\\null}\n+\\def\\key #1{{\\setupmarkupstyle{key}\\nohyphenation \\uppercase{#1}}\\null}\n % The old definition, with no lozenge:\n %\\def\\key #1{{\\ttsl \\nohyphenation \\uppercase{#1}}\\null}\n \\def\\ctrl #1{{\\tt \\rawbackslash \\hat}#1}\n@@ -2469,11 +2496,11 @@\n {\n   \\catcode`\\-=\\active \\catcode`\\_=\\active\n   \\catcode`\\'=\\active \\catcode`\\`=\\active\n+  \\global\\let'=\\rq \\global\\let`=\\lq  % default definitions\n   %\n   \\global\\def\\code{\\begingroup\n-    \\catcode\\rquoteChar=\\active \\catcode\\lquoteChar=\\active\n-    \\let'\\codequoteright \\let`\\codequoteleft\n-    %\n+    \\setupmarkupstyle{code}%\n+    % The following should really be moved into \\setupmarkupstyle handlers.\n     \\catcode\\dashChar=\\active  \\catcode\\underChar=\\active\n     \\ifallowcodebreaks\n      \\let-\\codedash\n@@ -2552,14 +2579,21 @@\n \\def\\xkey{\\key}\n \\def\\kbdfoo#1#2#3\\par{\\def\\one{#1}\\def\\three{#3}\\def\\threex{??}%\n \\ifx\\one\\xkey\\ifx\\threex\\three \\key{#2}%\n-\\else{\\tclose{\\kbdfont\\look}}\\fi\n-\\else{\\tclose{\\kbdfont\\look}}\\fi}\n+\\else{\\tclose{\\kbdfont\\setupmarkupstyle{kbd}\\look}}\\fi\n+\\else{\\tclose{\\kbdfont\\setupmarkupstyle{kbd}\\look}}\\fi}\n \n % For @indicateurl, @env, @command quotes seem unnecessary, so use \\code.\n \\let\\indicateurl=\\code\n \\let\\env=\\code\n \\let\\command=\\code\n \n+% @clicksequence{File @click{} Open ...}\n+\\def\\clicksequence#1{\\begingroup #1\\endgroup}\n+\n+% @clickstyle @arrow   (by default)\n+\\parseargdef\\clickstyle{\\def\\click{#1}}\n+\\def\\click{\\arrow}\n+\n % @uref (abbreviation for `urlref') takes an optional (comma-separated)\n % second argument specifying the text to display and an optional third\n % arg as text to display instead of (rather than in addition to) the url\n@@ -2621,7 +2655,7 @@\n %\n \\def\\dmn#1{\\thinspace #1}\n \n-\\def\\kbd#1{\\def\\look{#1}\\expandafter\\kbdfoo\\look??\\par}\n+\\def\\kbd#1{{\\setupmarkupstyle{kbd}\\def\\look{#1}\\expandafter\\kbdfoo\\look??\\par}}\n \n % @l was never documented to mean ``switch to the Lisp font'',\n % and it is not used as such in any manual I can find.  We need it for\n@@ -2722,8 +2756,35 @@\n \\def\\quotedblbase{{\\ecfont \\char\"12}}\n \\def\\quotesinglbase{{\\ecfont \\char\"0D}}\n %\n+% This positioning is not perfect (see the ogonek LaTeX package), but\n+% we have the precomposed glyphs for the most common cases.  We put the\n+% tests to use those glyphs in the single \\ogonek macro so we have fewer\n+% dummy definitions to worry about for index entries, etc.\n+% \n+% ogonek is also used with other letters in Lithuanian (IOU), but using\n+% the precomposed glyphs for those is not so easy since they aren't in\n+% the same EC font.\n+\\def\\ogonek#1{{%\n+  \\def\\temp{#1}%\n+  \\ifx\\temp\\macrocharA\\Aogonek\n+  \\else\\ifx\\temp\\macrochara\\aogonek\n+  \\else\\ifx\\temp\\macrocharE\\Eogonek\n+  \\else\\ifx\\temp\\macrochare\\eogonek\n+  \\else\n+    \\ecfont \\setbox0=\\hbox{#1}%\n+    \\ifdim\\ht0=1ex\\accent\"0C #1%\n+    \\else\\ooalign{\\unhbox0\\crcr\\hidewidth\\char\"0C \\hidewidth}%\n+    \\fi\n+  \\fi\\fi\\fi\\fi\n+  }%\n+}\n+\\def\\Aogonek{{\\ecfont \\char\"81}}\\def\\macrocharA{A}\n+\\def\\aogonek{{\\ecfont \\char\"A1}}\\def\\macrochara{a}\n+\\def\\Eogonek{{\\ecfont \\char\"86}}\\def\\macrocharE{E}\n+\\def\\eogonek{{\\ecfont \\char\"A6}}\\def\\macrochare{e}\n+%\n \\def\\ecfont{%\n-  % We can't distinguish serif/sanserif and italic/slanted, but this\n+  % We can't distinguish serif/sans and italic/slanted, but this\n   % is used for crude hacks anyway (like adding French and German\n   % quotes to documents typeset with CM, where we lose kerning), so\n   % hopefully nobody will notice/care.\n@@ -2851,12 +2912,9 @@\n \\let\\subtitlerm=\\tenrm\n \\def\\subtitlefont{\\subtitlerm \\normalbaselineskip = 13pt \\normalbaselines}\n \n-\\def\\authorfont{\\authorrm \\normalbaselineskip = 16pt \\normalbaselines\n-\t\t\\let\\tt=\\authortt}\n-\n \\parseargdef\\title{%\n   \\checkenv\\titlepage\n-  \\leftline{\\titlefonts\\rm #1}\n+  \\leftline{\\titlefonts\\rmisbold #1}\n   % print a rule at the page bottom also.\n   \\finishedtitlepagefalse\n   \\vskip4pt \\hrule height 4pt width \\hsize \\vskip4pt\n@@ -2877,7 +2935,7 @@\n   \\else\n     \\checkenv\\titlepage\n     \\ifseenauthor\\else \\vskip 0pt plus 1filll \\seenauthortrue \\fi\n-    {\\authorfont \\leftline{#1}}%\n+    {\\secfonts\\rmisbold \\leftline{#1}}%\n   \\fi\n }\n \n@@ -3847,11 +3905,11 @@\n \\def\\dosynindex#1#2#3{%\n   % Only do \\closeout if we haven't already done it, else we'll end up\n   % closing the target index.\n-  \\expandafter \\ifx\\csname donesynindex#2\\endcsname \\undefined\n+  \\expandafter \\ifx\\csname donesynindex#2\\endcsname \\relax\n     % The \\closeout helps reduce unnecessary open files; the limit on the\n     % Acorn RISC OS is a mere 16 files.\n     \\expandafter\\closeout\\csname#2indfile\\endcsname\n-    \\expandafter\\let\\csname\\donesynindex#2\\endcsname = 1\n+    \\expandafter\\let\\csname donesynindex#2\\endcsname = 1\n   \\fi\n   % redefine \\fooindfile:\n   \\expandafter\\let\\expandafter\\temp\\expandafter=\\csname#3indfile\\endcsname\n@@ -4009,6 +4067,7 @@\n   \\definedummyword\\guilsinglright\n   \\definedummyword\\expansion\n   \\definedummyword\\minus\n+  \\definedummyword\\ogonek\n   \\definedummyword\\pounds\n   \\definedummyword\\point\n   \\definedummyword\\print\n@@ -4052,6 +4111,7 @@\n   \\definedummyword\\v\n   \\definedummyword\\H\n   \\definedummyword\\dotaccent\n+  \\definedummyword\\ogonek\n   \\definedummyword\\ringaccent\n   \\definedummyword\\tieaccent\n   \\definedummyword\\ubaraccent\n@@ -4432,7 +4492,7 @@\n %\n % A straightforward implementation would start like this:\n %\t\\def\\entry#1#2{...\n-% But this frozes the catcodes in the argument, and can cause problems to\n+% But this freezes the catcodes in the argument, and can cause problems to\n % @code, which sets - active.  This problem was fixed by a kludge---\n % ``-'' was active throughout whole index, but this isn't really right.\n %\n@@ -5034,7 +5094,6 @@\n %       3) Likewise, headings look best if no \\parindent is used, and\n %          if justification is not attempted.  Hence \\raggedright.\n \n-\n \\def\\majorheading{%\n   {\\advance\\chapheadingskip by 10pt \\chapbreak }%\n   \\parsearg\\chapheadingzzz\n@@ -5044,7 +5103,7 @@\n \\def\\chapheadingzzz#1{%\n   {\\chapfonts \\vbox{\\hyphenpenalty=10000\\tolerance=5000\n                     \\parindent=0pt\\raggedright\n-                    \\rm #1\\hfill}}%\n+                    \\rmisbold #1\\hfill}}%\n   \\bigskip \\par\\penalty 200\\relax\n   \\suppressfirstparagraphindent\n }\n@@ -5163,7 +5222,7 @@\n   \\domark\n   %\n   {%\n-    \\chapfonts \\rm\n+    \\chapfonts \\rmisbold\n     %\n     % Have to define \\lastsection before calling \\donoderef, because the\n     % xref code eventually uses it.  On the other hand, it has to be called\n@@ -5225,7 +5284,7 @@\n \\def\\unnchfopen #1{%\n \\chapoddpage {\\chapfonts \\vbox{\\hyphenpenalty=10000\\tolerance=5000\n                        \\parindent=0pt\\raggedright\n-                       \\rm #1\\hfill}}\\bigskip \\par\\nobreak\n+                       \\rmisbold #1\\hfill}}\\bigskip \\par\\nobreak\n }\n \\def\\chfopen #1#2{\\chapoddpage {\\chapfonts\n \\vbox to 3in{\\vfil \\hbox to\\hsize{\\hfil #2} \\hbox to\\hsize{\\hfil #1} \\vfil}}%\n@@ -5234,7 +5293,7 @@\n \\def\\centerchfopen #1{%\n \\chapoddpage {\\chapfonts \\vbox{\\hyphenpenalty=10000\\tolerance=5000\n                        \\parindent=0pt\n-                       \\hfill {\\rm #1}\\hfill}}\\bigskip \\par\\nobreak\n+                       \\hfill {\\rmisbold #1}\\hfill}}\\bigskip \\par\\nobreak\n }\n \\def\\CHAPFopen{%\n   \\global\\let\\chapmacro=\\chfopen\n@@ -5267,7 +5326,7 @@\n \\def\\sectionheading#1#2#3#4{%\n   {%\n     % Switch to the right set of fonts.\n-    \\csname #2fonts\\endcsname \\rm\n+    \\csname #2fonts\\endcsname \\rmisbold\n     %\n     \\def\\sectionlevel{#2}%\n     \\def\\temptype{#3}%\n@@ -5650,16 +5709,120 @@\n \\message{environments,}\n % @foo ... @end foo.\n \n+% Markup style infrastructure.  \\defmarkupstylesetup\\INITMACRO will\n+% define and register \\INITMACRO to be called on markup style changes.\n+% \\INITMACRO can check \\currentmarkupstyle for the innermost\n+% style and the set of \\ifmarkupSTYLE switches for all styles\n+% currently in effect.\n+\\newif\\ifmarkupvar\n+\\newif\\ifmarkupsamp\n+\\newif\\ifmarkupkey\n+%\\newif\\ifmarkupfile % @file == @samp.\n+%\\newif\\ifmarkupoption % @option == @samp.\n+\\newif\\ifmarkupcode\n+\\newif\\ifmarkupkbd\n+%\\newif\\ifmarkupenv % @env == @code.\n+%\\newif\\ifmarkupcommand % @command == @code.\n+\\newif\\ifmarkuptex % @tex (and part of @math, for now).\n+\\newif\\ifmarkupexample\n+\\newif\\ifmarkupverb\n+\\newif\\ifmarkupverbatim\n+\n+\\let\\currentmarkupstyle\\empty\n+\n+\\def\\setupmarkupstyle#1{%\n+  \\csname markup#1true\\endcsname\n+  \\def\\currentmarkupstyle{#1}%\n+  \\markupstylesetup\n+}\n+\n+\\let\\markupstylesetup\\empty\n+\n+\\def\\defmarkupstylesetup#1{%\n+  \\expandafter\\def\\expandafter\\markupstylesetup\n+    \\expandafter{\\markupstylesetup #1}%\n+  \\def#1%\n+}\n+\n+% Markup style setup for left and right quotes.\n+\\defmarkupstylesetup\\markupsetuplq{%\n+  \\expandafter\\let\\expandafter \\temp \\csname markupsetuplq\\currentmarkupstyle\\endcsname\n+  \\ifx\\temp\\relax \\markupsetuplqdefault \\else \\temp \\fi\n+}\n+\n+\\defmarkupstylesetup\\markupsetuprq{%\n+  \\expandafter\\let\\expandafter \\temp \\csname markupsetuprq\\currentmarkupstyle\\endcsname\n+  \\ifx\\temp\\relax \\markupsetuprqdefault \\else \\temp \\fi\n+}\n+\n+{\n+\\catcode`\\'=\\active\n+\\catcode`\\`=\\active\n+\n+\\gdef\\markupsetuplqdefault{\\let`\\lq}\n+\\gdef\\markupsetuprqdefault{\\let'\\rq}\n+\n+\\gdef\\markupsetcodequoteleft{\\let`\\codequoteleft}\n+\\gdef\\markupsetcodequoteright{\\let'\\codequoteright}\n+\n+\\gdef\\markupsetnoligaturesquoteleft{\\let`\\noligaturesquoteleft}\n+}\n+\n+\\let\\markupsetuplqcode \\markupsetcodequoteleft\n+\\let\\markupsetuprqcode \\markupsetcodequoteright\n+\\let\\markupsetuplqexample \\markupsetcodequoteleft\n+\\let\\markupsetuprqexample \\markupsetcodequoteright\n+\\let\\markupsetuplqverb \\markupsetcodequoteleft\n+\\let\\markupsetuprqverb \\markupsetcodequoteright\n+\\let\\markupsetuplqverbatim \\markupsetcodequoteleft\n+\\let\\markupsetuprqverbatim \\markupsetcodequoteright\n+\n+\\let\\markupsetuplqsamp \\markupsetnoligaturesquoteleft\n+\\let\\markupsetuplqkbd \\markupsetnoligaturesquoteleft\n+\n+% Allow an option to not replace quotes with a regular directed right\n+% quote/apostrophe (char 0x27), but instead use the undirected quote\n+% from cmtt (char 0x0d).  The undirected quote is ugly, so don't make it\n+% the default, but it works for pasting with more pdf viewers (at least\n+% evince), the lilypond developers report.  xpdf does work with the\n+% regular 0x27.  \n+% \n+\\def\\codequoteright{%\n+  \\expandafter\\ifx\\csname SETtxicodequoteundirected\\endcsname\\relax\n+    \\expandafter\\ifx\\csname SETcodequoteundirected\\endcsname\\relax\n+      '%\n+    \\else \\char'15 \\fi\n+  \\else \\char'15 \\fi\n+}\n+%\n+% and a similar option for the left quote char vs. a grave accent.\n+% Modern fonts display ASCII 0x60 as a grave accent, so some people like\n+% the code environments to do likewise.\n+% \n+\\def\\codequoteleft{%\n+  \\expandafter\\ifx\\csname SETtxicodequotebacktick\\endcsname\\relax\n+    \\expandafter\\ifx\\csname SETcodequotebacktick\\endcsname\\relax\n+      % [Knuth] pp. 380,381,391\n+      % \\relax disables Spanish ligatures ?` and !` of \\tt font.\n+      \\relax`%\n+    \\else \\char'22 \\fi\n+  \\else \\char'22 \\fi\n+}\n+\n+% [Knuth] pp. 380,381,391, disable Spanish ligatures ?` and !` of \\tt font.\n+\\def\\noligaturesquoteleft{\\relax\\lq}\n+\n % @point{}, @result{}, @expansion{}, @print{}, @equiv{}.\n %\n-% Since these characters are used in examples, it should be an even number of\n+% Since these characters are used in examples, they should be an even number of\n % \\tt widths. Each \\tt character is 1en, so two makes it 1em.\n %\n \\def\\point{$\\star$}\n-\\def\\result{\\leavevmode\\raise.15ex\\hbox to 1em{\\hfil$\\Rightarrow$\\hfil}}\n-\\def\\expansion{\\leavevmode\\raise.1ex\\hbox to 1em{\\hfil$\\mapsto$\\hfil}}\n+\\def\\arrow{\\leavevmode\\raise.05ex\\hbox to 1em{\\hfil$\\rightarrow$\\hfil}}\n+\\def\\result{\\leavevmode\\raise.05ex\\hbox to 1em{\\hfil$\\Rightarrow$\\hfil}}\n+\\def\\expansion{\\leavevmode\\hbox to 1em{\\hfil$\\mapsto$\\hfil}}\n \\def\\print{\\leavevmode\\lower.1ex\\hbox to 1em{\\hfil$\\dashv$\\hfil}}\n-\\def\\equiv{\\leavevmode\\lower.1ex\\hbox to 1em{\\hfil$\\ptexequiv$\\hfil}}\n+\\def\\equiv{\\leavevmode\\hbox to 1em{\\hfil$\\ptexequiv$\\hfil}}\n \n % The @error{} command.\n % Adapted from the TeXbook's \\boxit.\n@@ -5689,6 +5852,7 @@\n % But \\@ or @@ will get a plain tex @ character.\n \n \\envdef\\tex{%\n+  \\setupmarkupstyle{tex}%\n   \\catcode `\\\\=0 \\catcode `\\{=1 \\catcode `\\}=2\n   \\catcode `\\$=3 \\catcode `\\&=4 \\catcode `\\#=6\n   \\catcode `\\^=7 \\catcode `\\_=8 \\catcode `\\~=\\active \\let~=\\tie\n@@ -5698,6 +5862,8 @@\n   \\catcode `\\|=\\other\n   \\catcode `\\<=\\other\n   \\catcode `\\>=\\other\n+  \\catcode`\\`=\\other\n+  \\catcode`\\'=\\other\n   \\escapechar=`\\\\\n   %\n   \\let\\b=\\ptexb\n@@ -5717,6 +5883,7 @@\n   \\let\\/=\\ptexslash\n   \\let\\*=\\ptexstar\n   \\let\\t=\\ptext\n+  \\expandafter \\let\\csname top\\endcsname=\\ptextop  % outer\n   \\let\\frenchspacing=\\plainfrenchspacing\n   %\n   \\def\\endldots{\\mathinner{\\ldots\\ldots\\ldots\\ldots}}%\n@@ -5898,7 +6065,7 @@\n %\n \\maketwodispenvs {lisp}{example}{%\n   \\nonfillstart\n-  \\tt\\quoteexpand\n+  \\tt\\setupmarkupstyle{example}%\n   \\let\\kbdfont = \\kbdexamplefont % Allow @kbd to do something special.\n   \\gobble       % eat return\n }\n@@ -5941,7 +6108,7 @@\n % we're doing normal filling.  So, when using \\aboveenvbreak and\n % \\afterenvbreak, temporarily make \\parskip 0.\n %\n-\\envdef\\quotation{%\n+\\def\\quotationstart{%\n   {\\parskip=0pt \\aboveenvbreak}% because \\aboveenvbreak inserts \\parskip\n   \\parindent=0pt\n   %\n@@ -5956,6 +6123,17 @@\n   \\parsearg\\quotationlabel\n }\n \n+\\envdef\\quotation{%\n+  \\setnormaldispenv\n+  \\quotationstart\n+}\n+\n+\\envdef\\smallquotation{%\n+  \\setsmalldispenv\n+  \\quotationstart\n+}\n+\\let\\Esmallquotation = \\Equotation\n+\n % We have retained a nonzero parskip for the environment, since we're\n % doing normal filling.\n %\n@@ -5991,18 +6169,16 @@\n   \\do\\ \\do\\\\\\do\\{\\do\\}\\do\\$\\do\\&%\n   \\do\\#\\do\\^\\do\\^^K\\do\\_\\do\\^^A\\do\\%\\do\\~%\n   \\do\\<\\do\\>\\do\\|\\do\\@\\do+\\do\\\"%\n+  % Don't do the quotes -- if we do, @set txicodequoteundirected and\n+  % @set txicodequotebacktick will not have effect on @verb and\n+  % @verbatim, and ?` and !` ligatures won't get disabled.\n+  %\\do\\`\\do\\'%\n }\n %\n % [Knuth] p. 380\n \\def\\uncatcodespecials{%\n   \\def\\do##1{\\catcode`##1=\\other}\\dospecials}\n %\n-% [Knuth] pp. 380,381,391\n-% Disable Spanish ligatures ?` and !` of \\tt font\n-\\begingroup\n-  \\catcode`\\`=\\active\\gdef`{\\relax\\lq}\n-\\endgroup\n-%\n % Setup for the @verb command.\n %\n % Eight spaces for a tab\n@@ -6014,7 +6190,7 @@\n \\def\\setupverb{%\n   \\tt  % easiest (and conventionally used) font for verbatim\n   \\def\\par{\\leavevmode\\endgraf}%\n-  \\catcode`\\`=\\active\n+  \\setupmarkupstyle{verb}%\n   \\tabeightspaces\n   % Respect line breaks,\n   % print special symbols as themselves, and\n@@ -6029,33 +6205,6 @@\n \\newdimen\\tabw \\setbox0=\\hbox{\\tt\\space} \\tabw=8\\wd0 % tab amount\n %\n \\def\\starttabbox{\\setbox0=\\hbox\\bgroup}\n-\n-% Allow an option to not replace quotes with a regular directed right\n-% quote/apostrophe (char 0x27), but instead use the undirected quote\n-% from cmtt (char 0x0d).  The undirected quote is ugly, so don't make it\n-% the default, but it works for pasting with more pdf viewers (at least\n-% evince), the lilypond developers report.  xpdf does work with the\n-% regular 0x27.  \n-% \n-\\def\\codequoteright{%\n-  \\expandafter\\ifx\\csname SETtxicodequoteundirected\\endcsname\\relax\n-    \\expandafter\\ifx\\csname SETcodequoteundirected\\endcsname\\relax\n-      '%\n-    \\else \\char'15 \\fi\n-  \\else \\char'15 \\fi\n-}\n-%\n-% and a similar option for the left quote char vs. a grave accent.\n-% Modern fonts display ASCII 0x60 as a grave accent, so some people like\n-% the code environments to do likewise.\n-% \n-\\def\\codequoteleft{%\n-  \\expandafter\\ifx\\csname SETtxicodequotebacktick\\endcsname\\relax\n-    \\expandafter\\ifx\\csname SETcodequotebacktick\\endcsname\\relax\n-      `%\n-    \\else \\char'22 \\fi\n-  \\else \\char'22 \\fi\n-}\n %\n \\begingroup\n   \\catcode`\\^^I=\\active\n@@ -6069,13 +6218,6 @@\n       \\wd0=\\dimen0 \\box0 \\starttabbox\n     }%\n   }\n-  \\catcode`\\'=\\active\n-  \\gdef\\rquoteexpand{\\catcode\\rquoteChar=\\active \\def'{\\codequoteright}}%\n-  %\n-  \\catcode`\\`=\\active\n-  \\gdef\\lquoteexpand{\\catcode\\lquoteChar=\\active \\def`{\\codequoteleft}}%\n-  %\n-  \\gdef\\quoteexpand{\\rquoteexpand \\lquoteexpand}%\n \\endgroup\n \n % start the verbatim environment.\n@@ -6085,9 +6227,8 @@\n   % Easiest (and conventionally used) font for verbatim\n   \\tt\n   \\def\\par{\\leavevmode\\egroup\\box0\\endgraf}%\n-  \\catcode`\\`=\\active\n   \\tabexpand\n-  \\quoteexpand\n+  \\setupmarkupstyle{verbatim}%\n   % Respect line breaks,\n   % print special symbols as themselves, and\n   % make each space count\n@@ -6147,6 +6288,7 @@\n   {%\n     \\makevalueexpandable\n     \\setupverbatim\n+    \\indexnofonts       % Allow `@@' and other weird things in file names.\n     \\input #1\n     \\afterenvbreak\n   }%\n@@ -6246,7 +6388,7 @@\n \\def\\Edefun{\\endgraf\\medbreak}\n \n % \\makedefun{deffn} creates \\deffn, \\deffnx and \\Edeffn;\n-% the only thing remainnig is to define \\deffnheader.\n+% the only thing remaining is to define \\deffnheader.\n %\n \\def\\makedefun#1{%\n   \\expandafter\\let\\csname E#1\\endcsname = \\Edefun\n@@ -6425,7 +6567,7 @@\n   %\n   % On the other hand, if an argument has two dashes (for instance), we\n   % want a way to get ttsl.  Let's try @var for that.\n-  \\let\\var=\\ttslanted\n+  \\def\\var##1{{\\setupmarkupstyle{var}\\ttslanted{##1}}}%\n   #1%\n   \\sl\\hyphenchar\\font=45\n }\n@@ -6953,20 +7095,22 @@\n   %\n   % Make link in pdf output.\n   \\ifpdf\n-    \\leavevmode\n-    \\getfilename{#4}%\n     {\\indexnofonts\n      \\turnoffactive\n+     % This expands tokens, so do it after making catcode changes, so _\n+     % etc. don't get their TeX definitions.\n+     \\getfilename{#4}%\n+     %\n      % See comments at \\activebackslashdouble.\n      {\\activebackslashdouble \\xdef\\pdfxrefdest{#1}%\n       \\backslashparens\\pdfxrefdest}%\n      %\n+     \\leavevmode\n+     \\startlink attr{/Border [0 0 0]}%\n      \\ifnum\\filenamelength>0\n-       \\startlink attr{/Border [0 0 0]}%\n-         goto file{\\the\\filename.pdf} name{\\pdfxrefdest}%\n+       goto file{\\the\\filename.pdf} name{\\pdfxrefdest}%\n      \\else\n-       \\startlink attr{/Border [0 0 0]}%\n-         goto name{\\pdfmkpgn{\\pdfxrefdest}}%\n+       goto name{\\pdfmkpgn{\\pdfxrefdest}}%\n      \\fi\n     }%\n     \\setcolor{\\linkcolor}%\n@@ -7317,7 +7461,7 @@\n % In case a @footnote appears in a vbox, save the footnote text and create\n % the real \\insert just after the vbox finished.  Otherwise, the insertion\n % would be lost.\n-% Similarily, if a @footnote appears inside an alignment, save the footnote\n+% Similarly, if a @footnote appears inside an alignment, save the footnote\n % text to a box and make the \\insert when a row of the table is finished.\n % And the same can be done for other insert classes.  --kasal, 16nov03.\n \n@@ -7421,15 +7565,19 @@\n   % If the image is by itself, center it.\n   \\ifvmode\n     \\imagevmodetrue\n-    \\nobreak\\bigskip\n+    \\nobreak\\medskip\n     % Usually we'll have text after the image which will insert\n     % \\parskip glue, so insert it here too to equalize the space\n     % above and below.\n     \\nobreak\\vskip\\parskip\n     \\nobreak\n-    \\line\\bgroup\n   \\fi\n   %\n+  % Leave vertical mode so that indentation from an enclosing\n+  % environment such as @quotation is respected.  On the other hand, if\n+  % it's at the top level, we don't want the normal paragraph indentation.\n+  \\noindent\n+  %\n   % Output the image.\n   \\ifpdf\n     \\dopdfimage{#1}{#2}{#3}%\n@@ -7440,7 +7588,7 @@\n     \\epsfbox{#1.eps}%\n   \\fi\n   %\n-  \\ifimagevmode \\egroup \\bigbreak \\fi  % space after the image\n+  \\ifimagevmode \\medskip \\fi  % space after the standalone image\n \\endgroup}\n \n \n@@ -7712,10 +7860,9 @@\n \n \\message{localization,}\n \n-% @documentlanguage is usually given very early, just after\n-% @setfilename.  If done too late, it may not override everything\n-% properly.  Single argument is the language (de) or locale (de_DE)\n-% abbreviation.  It would be nice if we could set up a hyphenation file.\n+% For single-language documents, @documentlanguage is usually given very\n+% early, just after @documentencoding.  Single argument is the language\n+% (de) or locale (de_DE) abbreviation.\n %\n {\n   \\catcode`\\_ = \\active\n@@ -7728,10 +7875,11 @@\n     \\ifeof 1\n       \\documentlanguagetrywithoutunderscore{#1_\\finish}%\n     \\else\n+      \\globaldefs = 1  % everything in the txi-LL files needs to persist\n       \\input txi-#1.tex\n     \\fi\n     \\closein 1\n-  \\endgroup\n+  \\endgroup % end raw TeX\n \\endgroup}\n }\n %\n@@ -7750,9 +7898,36 @@\n }\n %\n \\newhelp\\nolanghelp{The given language definition file cannot be found or\n-is empty.  Maybe you need to install it?  In the current directory\n-should work if nowhere else does.}\n+is empty.  Maybe you need to install it?  Putting it in the current\n+directory should work if nowhere else does.}\n+\n+% This macro is called from txi-??.tex files; the first argument is the\n+% \\language name to set (without the \"\\lang@\" prefix), the second and\n+% third args are \\{left,right}hyphenmin.\n+% \n+% The language names to pass are determined when the format is built.\n+% See the etex.log file created at that time, e.g.,\n+% /usr/local/texlive/2008/texmf-var/web2c/pdftex/etex.log.\n+% \n+% With TeX Live 2008, etex now includes hyphenation patterns for all\n+% available languages.  This means we can support hyphenation in\n+% Texinfo, at least to some extent.  (This still doesn't solve the\n+% accented characters problem.)\n+% \n+\\catcode`@=11\n+\\def\\txisetlanguage#1#2#3{%\n+  % do not set the language if the name is undefined in the current TeX.\n+  \\expandafter\\ifx\\csname lang@#1\\endcsname \\relax\n+    \\message{no patterns for #1}%\n+  \\else\n+    \\global\\language = \\csname lang@#1\\endcsname\n+  \\fi\n+  % but there is no harm in adjusting the hyphenmin values regardless.\n+  \\global\\lefthyphenmin = #2\\relax\n+  \\global\\righthyphenmin = #3\\relax\n+}\n \n+% Helpers for encodings.\n % Set the catcode of characters 128 through 255 to the specified number.\n %\n \\def\\setnonasciicharscatcode#1{%\n@@ -7841,7 +8016,7 @@\n   \\gdef^^a8{\\\"{}} \n   \\gdef^^a9{\\copyright} \n   \\gdef^^aa{\\ordf}\n-  \\gdef^^ab{\\missingcharmsg{LEFT-POINTING DOUBLE ANGLE QUOTATION MARK}} \n+  \\gdef^^ab{\\guillemetleft}\n   \\gdef^^ac{$\\lnot$}\n   \\gdef^^ad{\\-} \n   \\gdef^^ae{\\registeredsymbol} \n@@ -7860,7 +8035,7 @@\n   \\gdef^^b9{$^1$}\n   \\gdef^^ba{\\ordm}\n   %\n-  \\gdef^^bb{\\missingcharmsg{RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK}}\n+  \\gdef^^bb{\\guilletright}\n   \\gdef^^bc{$1\\over4$}\n   \\gdef^^bd{$1\\over2$}\n   \\gdef^^be{$3\\over4$}\n@@ -7953,7 +8128,7 @@\n % Latin2 (ISO-8859-2) character definitions.\n \\def\\lattwochardefs{%\n   \\gdef^^a0{~}\n-  \\gdef^^a1{\\missingcharmsg{LATIN CAPITAL LETTER A WITH OGONEK}}\n+  \\gdef^^a1{\\ogonek{A}}\n   \\gdef^^a2{\\u{}}\n   \\gdef^^a3{\\L}\n   \\gdef^^a4{\\missingcharmsg{CURRENCY SIGN}}\n@@ -7970,8 +8145,8 @@\n   \\gdef^^af{\\dotaccent Z}\n   %\n   \\gdef^^b0{\\textdegree}\n-  \\gdef^^b1{\\missingcharmsg{LATIN SMALL LETTER A WITH OGONEK}}\n-  \\gdef^^b2{\\missingcharmsg{OGONEK}}\n+  \\gdef^^b1{\\ogonek{a}}\n+  \\gdef^^b2{\\ogonek{ }}\n   \\gdef^^b3{\\l}\n   \\gdef^^b4{\\'{}}\n   \\gdef^^b5{\\v l}\n@@ -7996,7 +8171,7 @@\n   \\gdef^^c7{\\cedilla C}\n   \\gdef^^c8{\\v C}\n   \\gdef^^c9{\\'E}\n-  \\gdef^^ca{\\missingcharmsg{LATIN CAPITAL LETTER E WITH OGONEK}}\n+  \\gdef^^ca{\\ogonek{E}}\n   \\gdef^^cb{\\\"E}\n   \\gdef^^cc{\\v E}\n   \\gdef^^cd{\\'I}\n@@ -8030,7 +8205,7 @@\n   \\gdef^^e7{\\cedilla c}\n   \\gdef^^e8{\\v c}\n   \\gdef^^e9{\\'e}\n-  \\gdef^^ea{\\missingcharmsg{LATIN SMALL LETTER E WITH OGONEK}}\n+  \\gdef^^ea{\\ogonek{e}}\n   \\gdef^^eb{\\\"e}\n   \\gdef^^ec{\\v e}\n   \\gdef^^ed{\\'\\i}\n@@ -8259,10 +8434,14 @@\n   \\DeclareUnicodeCharacter{0101}{\\=a}\n   \\DeclareUnicodeCharacter{0102}{\\u{A}}\n   \\DeclareUnicodeCharacter{0103}{\\u{a}}\n+  \\DeclareUnicodeCharacter{0104}{\\ogonek{A}}\n+  \\DeclareUnicodeCharacter{0105}{\\ogonek{a}}\n   \\DeclareUnicodeCharacter{0106}{\\'C}\n   \\DeclareUnicodeCharacter{0107}{\\'c}\n   \\DeclareUnicodeCharacter{0108}{\\^C}\n   \\DeclareUnicodeCharacter{0109}{\\^c}\n+  \\DeclareUnicodeCharacter{0118}{\\ogonek{E}}\n+  \\DeclareUnicodeCharacter{0119}{\\ogonek{e}}\n   \\DeclareUnicodeCharacter{010A}{\\dotaccent{C}}\n   \\DeclareUnicodeCharacter{010B}{\\dotaccent{c}}\n   \\DeclareUnicodeCharacter{010C}{\\v{C}}\n@@ -8410,6 +8589,8 @@\n   \\DeclareUnicodeCharacter{0233}{\\=y}\n   \\DeclareUnicodeCharacter{0237}{\\dotless{j}}\n \n+  \\DeclareUnicodeCharacter{02DB}{\\ogonek{ }}\n+\n   \\DeclareUnicodeCharacter{1E02}{\\dotaccent{B}}\n   \\DeclareUnicodeCharacter{1E03}{\\dotaccent{b}}\n   \\DeclareUnicodeCharacter{1E04}{\\udotaccent{B}}\n@@ -8912,6 +9093,8 @@\n   @let>=@normalgreater\n   @let+=@normalplus\n   @let$=@normaldollar %$ font-lock fix\n+  @markupsetuplqdefault\n+  @markupsetuprqdefault\n   @unsepspaces\n }\n \n@@ -8946,7 +9129,15 @@\n @catcode`@# = @other\n @catcode`@% = @other\n \n-\n+@c Finally, make ` and ' active, so that txicodequoteundirected and\n+@c txicodequotebacktick work right in, e.g., @w{@code{`foo'}}.  If we\n+@c don't make ` and ' active, @code will not get them as active chars.\n+@c Do this last of all since we use ` in the previous @catcode assignments.\n+@catcode`@'=@active\n+@catcode`@`=@active\n+@markupsetuplqdefault\n+@markupsetuprqdefault\n+ \n @c Local variables:\n @c eval: (add-hook 'write-file-hooks 'time-stamp)\n @c page-delimiter: \"^\\\\\\\\message\""}, {"sha": "257c0a243f2a83ee98ba5b302f81582cc5b315a8", "filename": "libjava/classpath/gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fcrypto%2Fjce%2Fkey%2FSecretKeyGeneratorImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fcrypto%2Fjce%2Fkey%2FSecretKeyGeneratorImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fcrypto%2Fjce%2Fkey%2FSecretKeyGeneratorImpl.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -97,7 +97,8 @@ protected void engineInit(int keySize, SecureRandom random)\n   {\n     keySize >>>= 3; // Use bytes.\n     if (! keySizes.contains(Integer.valueOf(keySize)))\n-      throw new InvalidParameterException(\"unsupported key size: \" + keySize);\n+      throw new InvalidParameterException(\"unsupported key size: \" + keySize \n+\t\t\t\t\t  + \", valid sizes are: \" + keySizes);\n     currentKeySize = keySize;\n     this.random = random;\n     init = true;"}, {"sha": "ab790523f6d38d94e77d3e3ab3ba19350c5e87f9", "filename": "libjava/classpath/gnu/xml/transform/Bindings.java", "status": "modified", "additions": 36, "deletions": 39, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fgnu%2Fxml%2Ftransform%2FBindings.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fgnu%2Fxml%2Ftransform%2FBindings.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Ftransform%2FBindings.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -68,17 +68,17 @@\n   /**\n    * Global variables.\n    */\n-  final LinkedList variables;\n+  final LinkedList<Map<QName,Object>> variables;\n \n   /**\n    * Parameter value stack.\n    */\n-  final LinkedList parameters;\n+  final LinkedList<Map<QName,Object>> parameters;\n \n   /**\n    * Argument (with-param) value stack.\n    */\n-  final LinkedList withParameters;\n+  final LinkedList<Map<QName,Object>> withParameters;\n \n   /**\n    * Only search globals.\n@@ -88,9 +88,9 @@\n   Bindings(Stylesheet stylesheet)\n   {\n     this.stylesheet = stylesheet;\n-    variables = new LinkedList();\n-    parameters = new LinkedList();\n-    withParameters = new LinkedList();\n+    variables = new LinkedList<Map<QName,Object>>();\n+    parameters = new LinkedList<Map<QName,Object>>();\n+    withParameters = new LinkedList<Map<QName,Object>>();\n     for (int i = 0; i < 3; i++)\n       {\n         push(i);\n@@ -114,13 +114,13 @@ void push(int type)\n     switch (type)\n       {\n       case VARIABLE:\n-        variables.addFirst(new HashMap());\n+        variables.addFirst(new HashMap<QName,Object>());\n         break;\n       case PARAM:\n-        parameters.addFirst(new HashMap());\n+        parameters.addFirst(new HashMap<QName,Object>());\n         break;\n       case WITH_PARAM:\n-        withParameters.addFirst(new HashMap());\n+        withParameters.addFirst(new HashMap<QName,Object>());\n         break;\n       }\n   }\n@@ -145,11 +145,11 @@ public boolean containsKey(QName name, int type)\n   {\n     if (global)\n       {\n-        Map ctx1 = (Map) variables.getLast();\n-        Map ctx2 = (Map) parameters.getLast();\n+        Map<QName,Object> ctx1 = variables.getLast();\n+        Map<QName,Object> ctx2 = parameters.getLast();\n         return (ctx1.containsKey(name) || ctx2.containsKey(name));\n       }\n-    Iterator i = null;\n+    Iterator<Map<QName,Object>> i = null;\n     switch (type)\n       {\n       case VARIABLE:\n@@ -159,14 +159,14 @@ public boolean containsKey(QName name, int type)\n         i = parameters.iterator();\n         break;\n       case WITH_PARAM:\n-        Map ctx = (Map) withParameters.getFirst();\n+        Map<QName,Object> ctx = withParameters.getFirst();\n         return ctx.containsKey(name);\n       }\n     if (i != null)\n       {\n         while (i.hasNext())\n           {\n-            Map ctx = (Map) i.next();\n+            Map<QName,Object> ctx = i.next();\n             if (ctx.containsKey(name))\n               {\n                 return true;\n@@ -180,11 +180,11 @@ public Object get(QName name, Node context, int pos, int len)\n   {\n     if (global)\n       {\n-        Map ctx = (Map) variables.getLast();\n+        Map<QName,Object> ctx = variables.getLast();\n         Object ret = ctx.get(name);\n         if (ret == null)\n           {\n-            ctx = (Map) parameters.getLast();\n+            ctx = parameters.getLast();\n             ret = ctx.get(name);\n           }\n         return ret;\n@@ -195,24 +195,26 @@ public Object get(QName name, Node context, int pos, int len)\n     //if (parameters.size() > 1 && containsKey(name, PARAM))\n       // check that template defines parameter\n       {\n-        Map cwp = (Map) withParameters.getFirst();\n+        Map<QName,Object> cwp = withParameters.getFirst();\n         ret = cwp.get(name);\n         //System.err.println(\"\\twith-param: ret=\"+ret);\n       }\n     if (ret == null)\n       {\n-        for (Iterator i = variables.iterator(); i.hasNext() && ret == null; )\n+        for (Iterator<Map<QName,Object>> i = variables.iterator();\n+\t     i.hasNext() && ret == null; )\n           {\n-            Map vctx = (Map) i.next();\n+            Map<QName,Object> vctx = i.next();\n             ret = vctx.get(name);\n           }\n         //System.err.println(\"\\tvariable: ret=\"+ret);\n       }\n     if (ret == null)\n       {\n-        for (Iterator i = parameters.iterator(); i.hasNext() && ret == null; )\n+        for (Iterator<Map<QName,Object>> i = parameters.iterator();\n+\t     i.hasNext() && ret == null; )\n           {\n-            Map pctx = (Map) i.next();\n+            Map<QName,Object> pctx = i.next();\n             ret = pctx.get(name);\n           }\n         //System.err.println(\"\\tparam: ret=\"+ret);\n@@ -239,15 +241,15 @@ void set(QName name, Object value, int type)\n     switch (type)\n       {\n       case VARIABLE:\n-        Map vctx = (Map) variables.getFirst();\n+        Map<QName,Object> vctx = variables.getFirst();\n         vctx.put(name, value);\n         break;\n       case PARAM:\n-        Map pctx = (Map) parameters.getFirst();\n+        Map<QName,Object> pctx = parameters.getFirst();\n         pctx.put(name, value);\n         break;\n       case WITH_PARAM:\n-        Map wctx = (Map) withParameters.getFirst();\n+        Map<QName,Object> wctx = withParameters.getFirst();\n         wctx.put(name, value);\n         break;\n       }\n@@ -263,10 +265,10 @@ public String toString()\n   {\n     CPStringBuilder buf = new CPStringBuilder();\n     boolean next = false;\n-    Collection seen = new HashSet();\n-    Map wctx = (Map) withParameters.getFirst();\n+    Collection<QName> seen = new HashSet<QName>();\n+    Map<QName,Object> wctx = withParameters.getFirst();\n     buf.append('(');\n-    for (Iterator i = wctx.entrySet().iterator(); i.hasNext(); )\n+    for (Map.Entry<QName,Object> entry : wctx.entrySet())\n       {\n         if (next)\n           {\n@@ -276,8 +278,7 @@ public String toString()\n           {\n             next = true;\n           }\n-        Map.Entry entry = (Map.Entry) i.next();\n-        Object key = entry.getKey();\n+        QName key = entry.getKey();\n         if (!seen.contains(key))\n           {\n             buf.append(key);\n@@ -290,10 +291,9 @@ public String toString()\n     next = false;\n     seen.clear();\n     buf.append('{');\n-    for (Iterator i = variables.iterator(); i.hasNext(); )\n+    for (Map<QName,Object> ctx : variables)\n       {\n-        Map ctx = (Map) i.next();\n-        for (Iterator j = ctx.entrySet().iterator(); j.hasNext(); )\n+        for (Map.Entry<QName,Object> entry : ctx.entrySet())\n           {\n             if (next)\n               {\n@@ -303,8 +303,7 @@ public String toString()\n               {\n                 next = true;\n               }\n-            Map.Entry entry = (Map.Entry) j.next();\n-            Object key = entry.getKey();\n+            QName key = entry.getKey();\n             if (!seen.contains(key))\n               {\n                 buf.append(key);\n@@ -318,10 +317,9 @@ public String toString()\n     next = false;\n     seen.clear();\n     buf.append('[');\n-    for (Iterator i = parameters.iterator(); i.hasNext(); )\n+    for (Map<QName,Object> ctx : parameters)\n       {\n-        Map ctx = (Map) i.next();\n-        for (Iterator j = ctx.entrySet().iterator(); j.hasNext(); )\n+        for (Map.Entry<QName,Object> entry : ctx.entrySet())\n           {\n             if (next)\n               {\n@@ -331,8 +329,7 @@ public String toString()\n               {\n                 next = true;\n               }\n-            Map.Entry entry = (Map.Entry) j.next();\n-            Object key = entry.getKey();\n+            QName key = entry.getKey();\n             if (!seen.contains(key))\n               {\n                 buf.append(key);"}, {"sha": "c8c6cb9627a86b3ead481a001ba2c34212891001", "filename": "libjava/classpath/java/lang/String.java", "status": "modified", "additions": 99, "deletions": 24, "changes": 123, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Flang%2FString.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Flang%2FString.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FString.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -337,8 +337,58 @@ public String(byte[] ascii, int hibyte)\n    * @throws Error if the decoding fails\n    * @since 1.1\n    */\n-  public String(byte[] data, int offset, int count, String encoding)\n+  public String(byte[] data, int offset, int count, final String encoding)\n     throws UnsupportedEncodingException\n+  {\n+    this(data, offset, count, stringToCharset(encoding));\n+  }\n+\n+  /**\n+   * Wrapper method to convert exceptions resulting from\n+   * the selection of a {@link java.nio.charset.Charset} based on\n+   * a String.\n+   *\n+   * @throws UnsupportedEncodingException if encoding is not found\n+   */\n+  private static final Charset stringToCharset(final String encoding)\n+    throws UnsupportedEncodingException\n+  {\n+    try\n+      {\n+\treturn Charset.forName(encoding);\n+      }\n+    catch(IllegalCharsetNameException e)\n+      {\n+\tthrow new UnsupportedEncodingException(\"Encoding: \"+encoding+\n+\t\t\t\t\t       \" not found.\");\n+      }\n+    catch(UnsupportedCharsetException e)\n+      {\n+\tthrow new UnsupportedEncodingException(\"Encoding: \"+encoding+\n+\t\t\t\t\t       \" not found.\");\n+      }    \n+  }\n+\n+  /**\n+   * Creates a new String using the portion of the byte array starting at the\n+   * offset and ending at offset + count. Uses the specified encoding type\n+   * to decode the byte array, so the resulting string may be longer or\n+   * shorter than the byte array. For more decoding control, use\n+   * {@link java.nio.charset.CharsetDecoder}, and for valid character sets,\n+   * see {@link java.nio.charset.Charset}. Malformed input and unmappable\n+   * character sequences are replaced with the default replacement string\n+   * provided by the {@link java.nio.charset.Charset}.\n+   *\n+   * @param data byte array to copy\n+   * @param offset the offset to start at\n+   * @param count the number of bytes in the array to use\n+   * @param encoding the encoding to use\n+   * @throws NullPointerException if data or encoding is null\n+   * @throws IndexOutOfBoundsException if offset or count is incorrect\n+   *         (while unspecified, this is a StringIndexOutOfBoundsException)\n+   * @since 1.6\n+   */\n+  public String(byte[] data, int offset, int count, Charset encoding)\n   {\n     if (offset < 0)\n       throw new StringIndexOutOfBoundsException(\"offset: \" + offset);\n@@ -350,7 +400,7 @@ public String(byte[] data, int offset, int count, String encoding)\n \t\t\t\t\t\t+ (offset + count));\n     try \n       {\n-        CharsetDecoder csd = Charset.forName(encoding).newDecoder();\n+        CharsetDecoder csd = encoding.newDecoder();\n \tcsd.onMalformedInput(CodingErrorAction.REPLACE);\n \tcsd.onUnmappableCharacter(CodingErrorAction.REPLACE);\n \tCharBuffer cbuf = csd.decode(ByteBuffer.wrap(data, offset, count));\n@@ -366,16 +416,12 @@ public String(byte[] data, int offset, int count, String encoding)\n \t    this.offset = 0;\n \t    this.count = value.length;\n \t  }\n-      } catch(CharacterCodingException e){\n-\t  throw new UnsupportedEncodingException(\"Encoding: \"+encoding+\n-\t\t\t\t\t\t \" not found.\");\t  \n-      } catch(IllegalCharsetNameException e){\n-\t  throw new UnsupportedEncodingException(\"Encoding: \"+encoding+\n-\t\t\t\t\t\t \" not found.\");\n-      } catch(UnsupportedCharsetException e){\n-\t  throw new UnsupportedEncodingException(\"Encoding: \"+encoding+\n-\t\t\t\t\t\t \" not found.\");\n-      }    \n+      } \n+    catch(CharacterCodingException e)\n+      {\n+\t// This shouldn't ever happen.\n+\tthrow (InternalError) new InternalError().initCause(e);\n+      }\t  \n   }\n \n   /**\n@@ -401,6 +447,26 @@ public String(byte[] data, String encoding)\n     this(data, 0, data.length, encoding);\n   }\n \n+  /**\n+   * Creates a new String using the byte array. Uses the specified encoding\n+   * type to decode the byte array, so the resulting string may be longer or\n+   * shorter than the byte array. For more decoding control, use\n+   * {@link java.nio.charset.CharsetDecoder}, and for valid character sets,\n+   * see {@link java.nio.charset.Charset}. Malformed input and unmappable\n+   * character sequences are replaced with the default replacement string\n+   * provided by the {@link java.nio.charset.Charset}.\n+   *\n+   * @param data byte array to copy\n+   * @param encoding the name of the encoding to use\n+   * @throws NullPointerException if data or encoding is null\n+   * @see #String(byte[], int, int, java.nio.Charset)\n+   * @since 1.6\n+   */\n+  public String(byte[] data, Charset encoding)\n+  {\n+    this(data, 0, data.length, encoding);\n+  }\n+\n   /**\n    * Creates a new String using the portion of the byte array starting at the\n    * offset and ending at offset + count. Uses the encoding of the platform's\n@@ -726,11 +792,30 @@ public void getBytes(int srcBegin, int srcEnd, byte dst[], int dstBegin)\n    * @throws UnsupportedEncodingException if encoding is not supported\n    * @since 1.1\n    */\n-  public byte[] getBytes(String enc) throws UnsupportedEncodingException\n+  public byte[] getBytes(final String enc)\n+    throws UnsupportedEncodingException\n+  {\n+    return getBytes(stringToCharset(enc));\n+  }\n+\n+  /**\n+   * Converts the Unicode characters in this String to a byte array. Uses the\n+   * specified encoding method, so the result may be longer or shorter than\n+   * the String. For more encoding control, use\n+   * {@link java.nio.charset.CharsetEncoder}, and for valid character sets,\n+   * see {@link java.nio.charset.Charset}. Unsupported characters get\n+   * replaced by the {@link java.nio.charset.Charset}'s default replacement.\n+   *\n+   * @param enc encoding name\n+   * @return the resulting byte array\n+   * @throws NullPointerException if enc is null\n+   * @since 1.6\n+   */\n+  public byte[] getBytes(Charset enc)\n   {\n     try \n       {\n-\tCharsetEncoder cse = Charset.forName(enc).newEncoder();\n+\tCharsetEncoder cse = enc.newEncoder();\n \tcse.onMalformedInput(CodingErrorAction.REPLACE);\n \tcse.onUnmappableCharacter(CodingErrorAction.REPLACE);\n \tByteBuffer bbuf = cse.encode(CharBuffer.wrap(value, offset, count));\n@@ -742,16 +827,6 @@ public byte[] getBytes(String enc) throws UnsupportedEncodingException\n \tbbuf.get(bytes);\n \treturn bytes;\n       } \n-    catch(IllegalCharsetNameException e)\n-      {\n-\tthrow new UnsupportedEncodingException(\"Encoding: \" + enc\n-\t\t\t\t\t       + \" not found.\");\n-      } \n-    catch(UnsupportedCharsetException e)\n-      {\n-\tthrow new UnsupportedEncodingException(\"Encoding: \" + enc\n-\t\t\t\t\t       + \" not found.\");\n-      } \n     catch(CharacterCodingException e)\n       {\n \t// This shouldn't ever happen."}, {"sha": "700b187fefd38a15d9ead06a6c993dbb9b37629b", "filename": "libjava/classpath/java/text/MessageFormat.java", "status": "modified", "additions": 27, "deletions": 24, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FMessageFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FMessageFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FMessageFormat.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -38,13 +38,17 @@\n \n package java.text;\n \n+import gnu.java.lang.CPStringBuilder;\n+\n import gnu.java.text.FormatCharacterIterator;\n \n import java.io.InvalidObjectException;\n+\n+import java.util.ArrayList;\n import java.util.Date;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Locale;\n-import java.util.Vector;\n \n public class MessageFormat extends Format\n {\n@@ -69,7 +73,7 @@ public class MessageFormat extends Format\n \n     // Argument will be checked to make sure it is an instance of this\n     // class.\n-    Class formatClass;\n+    Class<?> formatClass;\n \n     // Formatter type.\n     String type;\n@@ -95,12 +99,7 @@ else if (style.equals(\"currency\"))\n               else if (style.equals(\"percent\"))\n                 format = NumberFormat.getPercentInstance(loc);\n               else if (style.equals(\"integer\"))\n-                {\n-                  NumberFormat nf = NumberFormat.getNumberInstance(loc);\n-                  nf.setMaximumFractionDigits(0);\n-                  nf.setGroupingUsed(false);\n-                  format = nf;\n-                }\n+\t\tformat = NumberFormat.getIntegerInstance(loc);\n               else\n                 {\n                   format = NumberFormat.getNumberInstance(loc);\n@@ -165,6 +164,7 @@ public static class Field extends Format.Field\n     public static final MessageFormat.Field ARGUMENT = new MessageFormat.Field(\"argument\");\n \n     // For deserialization\n+    @SuppressWarnings(\"unused\")\n     private Field()\n     {\n       super(\"\");\n@@ -194,7 +194,7 @@ protected Object readResolve() throws InvalidObjectException\n   // Helper that returns the text up to the next format opener.  The\n   // text is put into BUFFER.  Returns index of character after end of\n   // string.  Throws IllegalArgumentException on error.\n-  private static int scanString(String pat, int index, StringBuilder buffer)\n+  private static int scanString(String pat, int index, CPStringBuilder buffer)\n   {\n     int max = pat.length();\n     buffer.setLength(0);\n@@ -234,7 +234,7 @@ else if (c == '{')\n   // This helper retrieves a single part of a format element.  Returns\n   // the index of the terminating character.\n   private static int scanFormatElement(String pat, int index,\n-                                       StringBuilder buffer, char term)\n+                                       CPStringBuilder buffer, char term)\n   {\n     int max = pat.length();\n     buffer.setLength(0);\n@@ -281,11 +281,11 @@ else if (c == term)\n \n   // This is used to parse a format element and whatever non-format\n   // text might trail it.\n-  private static int scanFormat(String pat, int index, StringBuilder buffer,\n-                                Vector elts, Locale locale)\n+  private static int scanFormat(String pat, int index, CPStringBuilder buffer,\n+                                List<MessageFormatElement> elts, Locale locale)\n   {\n     MessageFormatElement mfe = new MessageFormatElement ();\n-    elts.addElement(mfe);\n+    elts.add(mfe);\n \n     int max = pat.length();\n \n@@ -342,17 +342,16 @@ public void applyPattern (String newPattern)\n   {\n     pattern = newPattern;\n \n-    StringBuilder tempBuffer = new StringBuilder ();\n+    CPStringBuilder tempBuffer = new CPStringBuilder ();\n \n     int index = scanString (newPattern, 0, tempBuffer);\n     leader = tempBuffer.toString();\n \n-    Vector elts = new Vector ();\n+    List<MessageFormatElement> elts = new ArrayList<MessageFormatElement>();\n     while (index < newPattern.length())\n       index = scanFormat (newPattern, index, tempBuffer, elts, locale);\n \n-    elements = new MessageFormatElement[elts.size()];\n-    elts.copyInto(elements);\n+    elements = elts.toArray(new MessageFormatElement[elts.size()]);\n   }\n \n   /**\n@@ -494,7 +493,8 @@ else if (thisArg instanceof Date)\n \n \tif (output_iterator != null)\n \t  {\n-\t    HashMap hash_argument = new HashMap();\n+\t    HashMap<MessageFormat.Field, Integer> hash_argument =\n+\t      new HashMap<MessageFormat.Field, Integer>();\n \t    int position = output_iterator.getEndIndex();\n \t    \n \t    hash_argument.put (MessageFormat.Field.ARGUMENT,\n@@ -613,7 +613,7 @@ public Object[] parse (String sourceStr, ParsePosition pos)\n       }\n     index += leader.length();\n \n-    Vector results = new Vector (elements.length, 1);\n+    ArrayList<Object> results = new ArrayList<Object>(elements.length);\n     // Now check each format.\n     for (int i = 0; i < elements.length; ++i)\n       {\n@@ -681,15 +681,18 @@ else if (formatter != null)\n \t  }\n \n \tif (elements[i].argNumber >= results.size())\n-\t  results.setSize(elements[i].argNumber + 1);\n-\tresults.setElementAt(value, elements[i].argNumber);\n+\t  {\n+\t    // Emulate padding behaviour of Vector.setSize() with ArrayList\n+\t    results.ensureCapacity(elements[i].argNumber + 1);\n+\t    for (int a = results.size(); a <= elements[i].argNumber; ++a)\n+\t      results.add(a, null);\n+\t  }\n+\tresults.set(elements[i].argNumber, value);\n \n \tindex += elements[i].trailer.length();\n       }\n \n-    Object[] r = new Object[results.size()];\n-    results.copyInto(r);\n-    return r;\n+    return results.toArray(new Object[results.size()]);\n   }\n \n   public Object[] parse (String sourceStr) throws ParseException"}, {"sha": "294f8917c14338e7bd3e4fa4c7b0797ffe8449ac", "filename": "libjava/classpath/java/text/NumberFormat.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FNumberFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FNumberFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FNumberFormat.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -177,6 +177,7 @@ public static class Field extends Format.Field\n      * This constructor is only used by the deserializer. Without it,\n      * it would fail to construct a valid object.\n      */\n+    @SuppressWarnings(\"unused\")\n     private Field()\n     {\n       super(\"\");"}, {"sha": "b761039ad80aa33ce280662db2e43daebe669214", "filename": "libjava/classpath/java/text/RuleBasedCollator.java", "status": "modified", "additions": 52, "deletions": 52, "changes": 104, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FRuleBasedCollator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FRuleBasedCollator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FRuleBasedCollator.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -151,13 +151,13 @@ public class RuleBasedCollator extends Collator\n    */\n   static final class CollationElement\n   {\n-    String key;\n-    int primary;\n-    short secondary;\n-    short tertiary;\n-    short equality;\n-    boolean ignore;\n-    String expansion;\n+    final String key;\n+    final int primary;\n+    final short secondary;\n+    final short tertiary;\n+    final short equality;\n+    final boolean ignore;\n+    final String expansion;\n \n     CollationElement(String key, int primary, short secondary, short tertiary,\n \t\t     short equality, String expansion, boolean ignore)\n@@ -185,7 +185,7 @@ int getValue()\n    * {@link #mergeRules(int,java.lang.String,java.util.ArrayList,java.util.ArrayList)})\n    * as a temporary state while merging two sets of instructions.\n    */\n-  static final class CollationSorter\n+  private static final class CollationSorter\n   {\n     static final int GREATERP = 0;\n     static final int GREATERS = 1;\n@@ -194,29 +194,39 @@ int getValue()\n     static final int RESET = 4;\n     static final int INVERSE_SECONDARY = 5;\n     \n-    int comparisonType;\n-    String textElement;\n-    int hashText;\n-    int offset;\n-    boolean ignore;\n+    final int comparisonType;\n+    final String textElement;\n+    final int hashText;\n+    final int offset;\n+    final boolean ignore;\n \n     String expansionOrdering;\n+\n+    private CollationSorter(final int comparisonType, final String textElement,\n+\t\t\t    final int offset, final boolean ignore)\n+    {\n+      this.comparisonType = comparisonType;\n+      this.textElement = textElement;\n+      this.offset = offset;\n+      this.ignore = ignore;\n+      hashText = textElement.hashCode();\n+    }\n   }\n \n   /**\n-   * This the the original rule string.\n+   * This is the original rule string.\n    */\n   private String rules;\n \n   /**\n    * This is the table of collation element values\n    */\n-  private Object[] ce_table;\n+  private CollationElement[] ce_table;\n \n   /**\n    * Quick-prefix finder.\n    */\n-  HashMap prefix_tree;\n+  HashMap<String,CollationElement> prefix_tree;\n \n   /**\n    * This is the value of the last sequence entered into\n@@ -306,7 +316,8 @@ static int findPrefixLength(String prefix, String s)\n    * @param patch Rules to be merged into the repository.\n    * @throws ParseException if it is impossible to find an anchor point for the new rules.\n    */\n-  private void mergeRules(int offset, String starter, ArrayList main, ArrayList patch)\n+  private void mergeRules(int offset, String starter, ArrayList<CollationSorter> main,\n+\t\t\t  ArrayList<CollationSorter> patch)\n     throws ParseException \n   {\n     int insertion_point = -1;\n@@ -324,8 +335,8 @@ private void mergeRules(int offset, String starter, ArrayList main, ArrayList pa\n \t\n \twhile (j < main.size())\n \t  {\n-\t    CollationSorter rule1 = (CollationSorter) patch.get(i);\n-\t    CollationSorter rule2 = (CollationSorter) main.get(j);\n+\t    CollationSorter rule1 = patch.get(i);\n+\t    CollationSorter rule2 = main.get(j);\n \t    \n \t    if (rule1.textElement.equals(rule2.textElement))\n \t      main.remove(j);\n@@ -337,7 +348,7 @@ private void mergeRules(int offset, String starter, ArrayList main, ArrayList pa\n     // Find the insertion point... O(N)\n     for (int i = 0; i < main.size(); i++)\n       {\n-\tCollationSorter sorter = (CollationSorter) main.get(i);\n+\tCollationSorter sorter = main.get(i);\n \tint length = findPrefixLength(starter, sorter.textElement);\n \t\t\n \tif (length > max_length)\n@@ -363,9 +374,7 @@ private void mergeRules(int offset, String starter, ArrayList main, ArrayList pa\n \t * sequence. The rest of the subsequence must be appended\n \t * to the end of the sequence.\n \t */\n-\tCollationSorter sorter = (CollationSorter) patch.get(0);\n-\tCollationSorter expansionPrefix =\n-\t  (CollationSorter) main.get(insertion_point-1);\n+\tCollationSorter sorter = patch.get(0);\n \t\n \tsorter.expansionOrdering = starter.substring(max_length); // Skip the first good prefix element\n \t\t\n@@ -398,7 +407,7 @@ private void mergeRules(int offset, String starter, ArrayList main, ArrayList pa\n    * @throws ParseException if something turned wrong during the parsing. To get details\n    * decode the message.\n    */\n-  private int subParseString(boolean stop_on_reset, ArrayList v,\n+  private int subParseString(boolean stop_on_reset, ArrayList<CollationSorter> v,\n \t\t\t     int base_offset, String rules)\n     throws ParseException\n   {\n@@ -508,7 +517,7 @@ private int subParseString(boolean stop_on_reset, ArrayList v,\n \t     * indicated by the text element.\n \t     */\n \t    String subrules = rules.substring(i);\n-\t    ArrayList sorted_rules = new ArrayList();\n+\t    ArrayList<CollationSorter> sorted_rules = new ArrayList<CollationSorter>();\n \t    int idx;\n \n \t    // Parse the subrules but do not iterate through all\n@@ -533,16 +542,12 @@ private int subParseString(boolean stop_on_reset, ArrayList v,\n \t\tbreak main_parse_loop;\n \t  }\n \n-\tCollationSorter sorter = new CollationSorter();\n-\t\n+\tString textElement = sb.toString();\n \tif (operator == CollationSorter.GREATERP)\n \t  ignoreChars = false;\n-\n-\tsorter.comparisonType = operator;\n-\tsorter.textElement = sb.toString();\n-\tsorter.hashText = sorter.textElement.hashCode();\n-\tsorter.offset = base_offset+rules.length();\n-\tsorter.ignore = ignoreChars;\n+\tCollationSorter sorter = new CollationSorter(operator, textElement,\n+\t\t\t\t\t\t     base_offset + rules.length(),\n+\t\t\t\t\t\t     ignoreChars);\n \tsb.setLength(0);\n \n \tv.add(sorter);\n@@ -551,7 +556,6 @@ private int subParseString(boolean stop_on_reset, ArrayList v,\n \n     if (operator >= 0)\n       {\n-\tCollationSorter sorter = new CollationSorter();\n \tint pos = rules.length() + base_offset;\n \n \tif ((sb.length() != 0 && nextIsModifier)\n@@ -561,11 +565,8 @@ private int subParseString(boolean stop_on_reset, ArrayList v,\n \tif (operator == CollationSorter.GREATERP)\n \t  ignoreChars = false;\n \n-\tsorter.comparisonType = operator;\n-\tsorter.textElement = sb.toString();\n- \tsorter.hashText = sorter.textElement.hashCode();\n-\tsorter.offset = base_offset+pos;\n-\tsorter.ignore = ignoreChars;\n+\tCollationSorter sorter = new CollationSorter(operator, sb.toString(),\n+\t\t\t\t\t\t     base_offset+pos, ignoreChars);\n \tv.add(sorter);\n       }\n \n@@ -593,10 +594,10 @@ public Object clone()\n    * @throws ParseException if something turned wrong during the parsing. To get details\n    * decode the message.\n    */\n-  private ArrayList parseString(String rules) \n+  private ArrayList<CollationSorter> parseString(String rules) \n     throws ParseException\n   {\n-    ArrayList v = new ArrayList();\n+    ArrayList<CollationSorter> v = new ArrayList<CollationSorter>();\n \n     // result of the first subParseString is not absolute (may be -1 or a\n     // positive integer). But we do not care.\n@@ -612,7 +613,7 @@ private ArrayList parseString(String rules)\n    * @param parsedElements Parsed instructions stored in a ArrayList.\n    * @throws ParseException if the order of the instructions are not valid.\n    */\n-  private void buildCollationVector(ArrayList parsedElements)\n+  private void buildCollationVector(ArrayList<CollationSorter> parsedElements)\n     throws ParseException\n   {\n     int primary_seq = 0;\n@@ -624,14 +625,13 @@ private void buildCollationVector(ArrayList parsedElements)\n     final boolean DECREASING = false;\n     final boolean INCREASING = true;\n     boolean secondaryType = INCREASING;\n-    ArrayList v = new ArrayList();\n+    ArrayList<CollationElement> v = new ArrayList<CollationElement>();\n \n     // elts is completely sorted.\n element_loop:\n     for (int i = 0; i < parsedElements.size(); i++)\n       {\n-\tCollationSorter elt = (CollationSorter) parsedElements.get(i);\n-\tboolean ignoreChar = false;\n+\tCollationSorter elt = parsedElements.get(i);\n \n \tswitch (elt.comparisonType)\n \t  {\n@@ -686,7 +686,7 @@ private void buildCollationVector(ArrayList parsedElements)\n \n     this.inverseAccentComparison = inverseComparisons; \n \n-    ce_table = v.toArray();\n+    ce_table = v.toArray(new CollationElement[v.size()]);\n \n     last_primary_value = primary_seq+1;\n     last_tertiary_value = last_tertiary_seq+1;\n@@ -699,11 +699,11 @@ private void buildCollationVector(ArrayList parsedElements)\n    */\n   private void buildPrefixAccess()\n   {\n-    prefix_tree = new HashMap();\n+    prefix_tree = new HashMap<String,CollationElement>();\n \n     for (int i = 0; i < ce_table.length; i++)\n       {\n-\tCollationElement e = (CollationElement) ce_table[i];\n+\tCollationElement e = ce_table[i];\n \n \tprefix_tree.put(e.key, e);\n       }\n@@ -941,7 +941,7 @@ public CollationElementIterator getCollationElementIterator(CharacterIterator so\n   public CollationKey getCollationKey(String source)\n   {\n     CollationElementIterator cei = getCollationElementIterator(source);\n-    ArrayList vect = new ArrayList();\n+    ArrayList<Integer> vect = new ArrayList<Integer>();\n \n     int ord = cei.next();\n     cei.reset(); //set to start of string\n@@ -969,16 +969,16 @@ public CollationKey getCollationKey(String source)\n                break;\n           }\n \n-        vect.add(new Integer(ord)); \n+        vect.add(Integer.valueOf(ord)); \n \tord = cei.next(); //increment to next key\n       }\n \n-    Object[] objarr = vect.toArray();\n+    Integer[] objarr = vect.toArray(new Integer[vect.size()]);\n     byte[] key = new byte[objarr.length * 4];\n \n     for (int i = 0; i < objarr.length; i++)\n       {\n-        int j = ((Integer) objarr[i]).intValue();\n+        int j = objarr[i].intValue();\n         key [i * 4] = (byte) ((j & 0xFF000000) >> 24);\n         key [i * 4 + 1] = (byte) ((j & 0x00FF0000) >> 16);\n         key [i * 4 + 2] = (byte) ((j & 0x0000FF00) >> 8);"}, {"sha": "b09c7caa28dbb32cdc96923b1121414248d1cd15", "filename": "libjava/classpath/java/text/SimpleDateFormat.java", "status": "modified", "additions": 11, "deletions": 13, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FSimpleDateFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fjava%2Ftext%2FSimpleDateFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FSimpleDateFormat.java?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -159,13 +159,13 @@ public String toString()\n   }\n \n   /**\n-   * A list of <code>CompiledField</code>s,\n+   * A list of <code>CompiledField</code>s and {@code String}s\n    * representing the compiled version of the pattern.\n    *\n    * @see CompiledField\n    * @serial Ignored.\n    */\n-  private transient ArrayList tokens;\n+  private transient ArrayList<Object> tokens;\n \n   /**\n    * The localised data used in formatting,\n@@ -235,16 +235,16 @@ public String toString()\n    */\n   private static final long serialVersionUID = 4774881970558875024L;\n \n-  // This string is specified in the Java class libraries.\n-  private static final String standardChars = \"GyMdkHmsSEDFwWahKzZ\";\n+  // This string is specified in the root of the CLDR.\n+  private static final String standardChars = \"GyMdkHmsSEDFwWahKzYeugAZvcL\";\n \n   /**  \n    * Represents the position of the RFC822 timezone pattern character\n    * in the array of localized pattern characters.  In the\n    * U.S. locale, this is 'Z'.  The value is the offset of the current\n    * time from GMT e.g. -0500 would be five hours prior to GMT.\n    */  \n-  private static final int RFC822_TIMEZONE_FIELD = 18;\n+  private static final int RFC822_TIMEZONE_FIELD = 23;\n \n   /**\n    * Reads the serialized version of this object.\n@@ -274,7 +274,7 @@ private void readObject(ObjectInputStream stream)\n       set2DigitYearStart(defaultCenturyStart);\n \n     // Set up items normally taken care of by the constructor.\n-    tokens = new ArrayList();\n+    tokens = new ArrayList<Object>();\n     try\n       {\n \tcompileFormat(pattern);\n@@ -416,7 +416,7 @@ public SimpleDateFormat()\n     Locale locale = Locale.getDefault();\n     calendar = new GregorianCalendar(locale);\n     computeCenturyStart();\n-    tokens = new ArrayList();\n+    tokens = new ArrayList<Object>();\n     formatData = new DateFormatSymbols(locale);\n     pattern = (formatData.dateFormats[DEFAULT] + ' '\n \t       + formatData.timeFormats[DEFAULT]);\n@@ -454,7 +454,7 @@ public SimpleDateFormat(String pattern, Locale locale)\n     super();\n     calendar = new GregorianCalendar(locale);\n     computeCenturyStart();\n-    tokens = new ArrayList();\n+    tokens = new ArrayList<Object>();\n     formatData = new DateFormatSymbols(locale);\n     compileFormat(pattern);\n     this.pattern = pattern;\n@@ -479,7 +479,7 @@ public SimpleDateFormat(String pattern, DateFormatSymbols formatData)\n     super();\n     calendar = new GregorianCalendar();\n     computeCenturyStart ();\n-    tokens = new ArrayList();\n+    tokens = new ArrayList<Object>();\n     if (formatData == null)\n       throw new NullPointerException(\"formatData\");\n     this.formatData = formatData;\n@@ -524,7 +524,7 @@ public String toLocalizedPattern()\n    */\n   public void applyPattern(String pattern)\n   {\n-    tokens = new ArrayList();\n+    tokens.clear();\n     compileFormat(pattern);\n     this.pattern = pattern;\n   }\n@@ -697,11 +697,10 @@ public int hashCode()\n   private void formatWithAttribute(Date date, FormatBuffer buffer, FieldPosition pos)\n   {\n     String temp;\n-    AttributedCharacterIterator.Attribute attribute;\n     calendar.setTime(date);\n \n     // go through vector, filling in fields where applicable, else toString\n-    Iterator iter = tokens.iterator();\n+    Iterator<Object> iter = tokens.iterator();\n     while (iter.hasNext())\n       {\n \tObject o = iter.next();\n@@ -910,7 +909,6 @@ public Date parse (String dateStr, ParsePosition pos)\n \t    char ch = pattern.charAt(fmt_index);\n \t    if (ch == '\\'')\n \t      {\n-\t\tint index = pos.getIndex();\n \t\tif (fmt_index < fmt_max - 1\n \t\t    && pattern.charAt(fmt_index + 1) == '\\'')\n \t\t  {"}, {"sha": "265d5981e139ad413c3c7a902f121d93d09eeefc", "filename": "libjava/classpath/lib/gnu/java/awt/peer/gtk/FreetypeGlyphVector.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "ccee011a4959d08ffa1a00eb4a1eaa39e92fe63e", "filename": "libjava/classpath/lib/gnu/java/locale/LocaleData.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fjava%2Flocale%2FLocaleData.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fjava%2Flocale%2FLocaleData.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjava%2Flocale%2FLocaleData.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "4d88b02ae11d78ac55358dceba4fb17c56fc1f48", "filename": "libjava/classpath/lib/gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fcrypto%2Fjce%2Fkey%2FSecretKeyGeneratorImpl.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fcrypto%2Fjce%2Fkey%2FSecretKeyGeneratorImpl.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fcrypto%2Fjce%2Fkey%2FSecretKeyGeneratorImpl.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "0bee21d17dc297d5c6335c1b3f3bf69a5793a76d", "filename": "libjava/classpath/lib/gnu/xml/transform/Bindings.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fxml%2Ftransform%2FBindings.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fgnu%2Fxml%2Ftransform%2FBindings.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fxml%2Ftransform%2FBindings.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "9d3230341b6dded3eeb96e66d41f497874353191", "filename": "libjava/classpath/lib/java/text/MessageFormat$Field.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat%24Field.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat%24Field.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat%24Field.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "95c77cf275328342a2285308607570376e84c672", "filename": "libjava/classpath/lib/java/text/MessageFormat$MessageFormatElement.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat%24MessageFormatElement.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat%24MessageFormatElement.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat%24MessageFormatElement.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "5ad2834305c401d99962b432684a3a757c961e61", "filename": "libjava/classpath/lib/java/text/MessageFormat.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FMessageFormat.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "4a926d3fa8489ac566cf158c631a3fb83a8179e3", "filename": "libjava/classpath/lib/java/text/NumberFormat$Field.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FNumberFormat%24Field.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FNumberFormat%24Field.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FNumberFormat%24Field.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "e1072aa8ed9d1df042baa5ef370caf573e7b4689", "filename": "libjava/classpath/lib/java/text/NumberFormat.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FNumberFormat.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FNumberFormat.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FNumberFormat.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "1fc3fb1b6e8755cc275d6262c25ba2dfd02dbc52", "filename": "libjava/classpath/lib/java/text/RuleBasedCollator$CollationElement.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator%24CollationElement.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator%24CollationElement.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator%24CollationElement.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "81c75c1ded7ccf8c4effec7831795c6818e6a81f", "filename": "libjava/classpath/lib/java/text/RuleBasedCollator$CollationSorter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator%24CollationSorter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator%24CollationSorter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator%24CollationSorter.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "ad2dc1b2ff98c3e2453442797a17f76bead5e561", "filename": "libjava/classpath/lib/java/text/RuleBasedCollator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FRuleBasedCollator.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "1bca569ab66fe394eb7aadfc996bf407e00a32a1", "filename": "libjava/classpath/lib/java/text/SimpleDateFormat.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FSimpleDateFormat.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FSimpleDateFormat.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjava%2Ftext%2FSimpleDateFormat.class?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1"}, {"sha": "cb7bf43dcb46de6528fb5318c1333f2850766f0b", "filename": "libjava/classpath/native/jni/gtk-peer/gnu_java_awt_peer_gtk_FreetypeGlyphVector.c", "status": "modified", "additions": 17, "deletions": 5, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_FreetypeGlyphVector.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_FreetypeGlyphVector.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_FreetypeGlyphVector.c?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -176,9 +176,6 @@ Java_gnu_java_awt_peer_gtk_FreetypeGlyphVector_getKerning\n {\n   FT_Face ft_face;\n   FT_Vector kern;\n-  jclass cls;\n-  jmethodID method;\n-  jvalue values[2];\n   PangoFcFont *font;\n \n   font = JLONG_TO_PTR(PangoFcFont, fnt);\n@@ -388,8 +385,23 @@ Java_gnu_java_awt_peer_gtk_FreetypeGlyphVector_getGlyphOutlineNative\n     }\n \n   FT_Get_Glyph( ft_face->glyph, &glyph );\n-  FT_Outline_Decompose (&(((FT_OutlineGlyph)glyph)->outline),\n-\t\t\t&ftCallbacks, path);\n+  if (glyph->format == FT_GLYPH_FORMAT_OUTLINE)\n+    {\n+      FT_Outline_Decompose (&(((FT_OutlineGlyph)glyph)->outline),\n+\t\t\t    &ftCallbacks, path);\n+    }\n+  else\n+    {\n+      char format[5];\n+\n+      format[0] = (glyph->format & 0xFF000000) >> 24;\n+      format[1] = (glyph->format & 0x00FF0000) >> 16;\n+      format[2] = (glyph->format & 0x0000FF00) >> 8;\n+      format[3] = (glyph->format & 0x000000FF);\n+      format[4] = '\\0';\n+      printf(\"WARNING: Unable to create outline for font %s %s of format %s\\n\",\n+\t     ft_face->family_name, ft_face->style_name, format);\n+    }\n   FT_Done_Glyph( glyph );\n   \n   pango_fc_font_unlock_face( font );"}, {"sha": "3f7a629449e98016d8e3b2176d07df6f8b89fdca", "filename": "libjava/gnu/java/awt/peer/gtk/FreetypeGlyphVector.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.h?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -70,7 +70,7 @@ class gnu::java::awt::peer::gtk::FreetypeGlyphVector : public ::java::awt::font:\n public:\n   virtual void getGlyphs(JArray< jint > *, JArray< jint > *, JArray< jlong > *);\n private:\n-  ::java::awt::geom::Point2D * getKerning(jint, jint, jlong);\n+  void getKerning(jint, jint, jlong, JArray< jfloat > *);\n   JArray< jdouble > * getMetricsNative(jint, jlong);\n   ::java::awt::geom::GeneralPath * getGlyphOutlineNative(jint, jlong);\n public:"}, {"sha": "961b0954146fbf4800b14ecfc0c628ba60b0ac45", "filename": "libjava/java/text/MessageFormat.h", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FMessageFormat.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FMessageFormat.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FMessageFormat.h?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -15,6 +15,10 @@ extern \"Java\"\n   {\n     namespace java\n     {\n+      namespace lang\n+      {\n+          class CPStringBuilder;\n+      }\n       namespace text\n       {\n           class FormatCharacterIterator;\n@@ -38,9 +42,9 @@ extern \"Java\"\n class java::text::MessageFormat : public ::java::text::Format\n {\n \n-  static jint scanString(::java::lang::String *, jint, ::java::lang::StringBuilder *);\n-  static jint scanFormatElement(::java::lang::String *, jint, ::java::lang::StringBuilder *, jchar);\n-  static jint scanFormat(::java::lang::String *, jint, ::java::lang::StringBuilder *, ::java::util::Vector *, ::java::util::Locale *);\n+  static jint scanString(::java::lang::String *, jint, ::gnu::java::lang::CPStringBuilder *);\n+  static jint scanFormatElement(::java::lang::String *, jint, ::gnu::java::lang::CPStringBuilder *, jchar);\n+  static jint scanFormat(::java::lang::String *, jint, ::gnu::java::lang::CPStringBuilder *, ::java::util::List *, ::java::util::Locale *);\n public:\n   virtual void applyPattern(::java::lang::String *);\n   virtual ::java::lang::Object * clone();"}, {"sha": "fb3d18895e4a1757184a9872851fe7867b63cd33", "filename": "libjava/java/text/RuleBasedCollator$CollationSorter.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FRuleBasedCollator%24CollationSorter.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FRuleBasedCollator%24CollationSorter.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FRuleBasedCollator%24CollationSorter.h?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -21,8 +21,9 @@ extern \"Java\"\n class java::text::RuleBasedCollator$CollationSorter : public ::java::lang::Object\n {\n \n+  RuleBasedCollator$CollationSorter(jint, ::java::lang::String *, jint, jboolean);\n public: // actually package-private\n-  RuleBasedCollator$CollationSorter();\n+  RuleBasedCollator$CollationSorter(jint, ::java::lang::String *, jint, jboolean, ::java::text::RuleBasedCollator$CollationSorter *);\n   static const jint GREATERP = 0;\n   static const jint GREATERS = 1;\n   static const jint GREATERT = 2;"}, {"sha": "74b5aa8ea3955267cc6e40239d6ffe77ef945da2", "filename": "libjava/java/text/RuleBasedCollator.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FRuleBasedCollator.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FRuleBasedCollator.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FRuleBasedCollator.h?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -54,7 +54,7 @@ class java::text::RuleBasedCollator : public ::java::text::Collator\n   virtual jint hashCode();\n private:\n   ::java::lang::String * __attribute__((aligned(__alignof__( ::java::text::Collator)))) rules;\n-  JArray< ::java::lang::Object * > * ce_table;\n+  JArray< ::java::text::RuleBasedCollator$CollationElement * > * ce_table;\n public: // actually package-private\n   ::java::util::HashMap * prefix_tree;\n private:"}, {"sha": "dbdb8169f23250ca12767104ab997e58490fa4f5", "filename": "libjava/java/text/SimpleDateFormat.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FSimpleDateFormat.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bf728da5d8039b517c9e91086c9f93a31a4e1/libjava%2Fjava%2Ftext%2FSimpleDateFormat.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FSimpleDateFormat.h?ref=c10bf728da5d8039b517c9e91086c9f93a31a4e1", "patch": "@@ -80,7 +80,7 @@ class java::text::SimpleDateFormat : public ::java::text::DateFormat\n   jint serialVersionOnStream;\n   static const jlong serialVersionUID = 4774881970558875024LL;\n   static ::java::lang::String * standardChars;\n-  static const jint RFC822_TIMEZONE_FIELD = 18;\n+  static const jint RFC822_TIMEZONE_FIELD = 23;\n public:\n   static ::java::lang::Class class$;\n };"}]}