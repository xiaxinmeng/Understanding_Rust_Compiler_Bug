{"sha": "3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2U2OWU2M2JkMTljMGMyMWM0MGQ2YmZhMzhhY2M3ZGJlOGE3ODI5Mw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:38:17Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:38:17Z"}, "message": "* i-c.adb (To_C): Raise CE if string is null and Append_Null\n\nFrom-SVN: r92839", "tree": {"sha": "c76f60b2cb9eae7df4e45dfbb276d1ddc8ae71c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c76f60b2cb9eae7df4e45dfbb276d1ddc8ae71c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293/comments", "author": null, "committer": null, "parents": [{"sha": "d9246d2d4ae30ab1b9f3c657b53874342e9b8ac2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9246d2d4ae30ab1b9f3c657b53874342e9b8ac2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9246d2d4ae30ab1b9f3c657b53874342e9b8ac2"}], "stats": {"total": 17, "additions": 8, "deletions": 9}, "files": [{"sha": "844f016441eedf54ca5d15783b39eb309f07dc08", "filename": "gcc/ada/i-c.adb", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293/gcc%2Fada%2Fi-c.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293/gcc%2Fada%2Fi-c.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fi-c.adb?ref=3e69e63bd19c0c21c40d6bfa38acc7dbe8a78293", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2001 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -289,21 +289,20 @@ package body Interfaces.C is\n             return R;\n          end;\n \n-      else -- Append_Nul is False\n+      --  Append_Nul False\n+\n+      else\n \n          --  A nasty case, if the string is null, we must return\n          --  a null char_array. The lower bound of this array is\n          --  required to be zero (RM B.3(50)) but that is of course\n-         --  impossible given that size_t is unsigned. This needs\n-         --  ARG resolution, but for now GNAT returns bounds 1 .. 0\n+         --  impossible given that size_t is unsigned. According to\n+         --  Ada 2005 AI-258, the result is to raise Constraint_Error.\n \n          if Item'Length = 0 then\n-            declare\n-               R : char_array (1 .. 0);\n+            raise Constraint_Error;\n \n-            begin\n-               return R;\n-            end;\n+         --  Normal case\n \n          else\n             declare"}]}