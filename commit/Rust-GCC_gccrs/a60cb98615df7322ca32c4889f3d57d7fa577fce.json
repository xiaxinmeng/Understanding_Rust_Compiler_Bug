{"sha": "a60cb98615df7322ca32c4889f3d57d7fa577fce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYwY2I5ODYxNWRmNzMyMmNhMzJjNDg4OWYzZDU3ZDdmYTU3N2ZjZQ==", "commit": {"author": {"name": "Dave Love", "email": "fx@gcc.gnu.org", "date": "1998-07-06T09:01:43Z"}, "committer": {"name": "Dave Love", "email": "fx@gcc.gnu.org", "date": "1998-07-06T09:01:43Z"}, "message": "[multiple changes]\n\n1998-07-06  Dave Love  <d.love@dl.ac.uk>\n\t* libU77/Makefile.in (lib): Change variable lib to LIBS.\n1998-07-06  Robert Lipe <robertl@dgii.com>\n\t* libU77/configure.in: Look for -lsocket, add to LIBS if found.\n\t* libU77/Makefile.in (lib):  Use LIBS from above.\n\nFrom-SVN: r20941", "tree": {"sha": "933432a58d0d03520c2b9cb1507d14ea6f56b2fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/933432a58d0d03520c2b9cb1507d14ea6f56b2fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a60cb98615df7322ca32c4889f3d57d7fa577fce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a60cb98615df7322ca32c4889f3d57d7fa577fce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a60cb98615df7322ca32c4889f3d57d7fa577fce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a60cb98615df7322ca32c4889f3d57d7fa577fce/comments", "author": null, "committer": null, "parents": [{"sha": "b4ce1e193b0956b03a7fbca5c6d2e641d1be79e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4ce1e193b0956b03a7fbca5c6d2e641d1be79e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4ce1e193b0956b03a7fbca5c6d2e641d1be79e7"}], "stats": {"total": 85, "additions": 81, "deletions": 4}, "files": [{"sha": "ebf47d22bcefc2db7f8a2e149b592906af498b93", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=a60cb98615df7322ca32c4889f3d57d7fa577fce", "patch": "@@ -1,3 +1,35 @@\n+1998-07-06  Dave Love  <d.love@dl.ac.uk>\n+\n+\t* libU77/Makefile.in (lib): Change variable lib to LIBS.\n+\n+1998-07-06  Robert Lipe <robertl@dgii.com>\n+\n+\t* libU77/configure.in: Look for -lsocket, add to LIBS if found.\n+\n+\t* libU77/Makefile.in (lib):  Use LIBS from above.\n+\n+1998-07-05  Dave Love  <d.love@dl.ac.uk>\n+\n+\t* f2cext.c (system_clock_): Remove (just f90 intrinsic).\n+\n+\t* Makefile.in (F2CEXT): Add datetime, remove sclock.\n+\t(UOBJ): Add libU77/datetime_.o.\n+\n+\t* libU77/config.h.in: Add HAVE_GETTIMEOFDAY.\n+\n+\t* libU77/configure.in: Check for gettimeofday.\n+\n+\t* libU77/datetime_.c: New file.\n+\n+\t* libU77/sys_clock_.c: Allow optional args.\n+\n+\t* libU77/Makefile.in (G77DIR): Fix for current directory\n+\tstructure.\n+\t(SRCS, OBJS): Add datetime.\n+\n+\t* libU77/u77-test.f: Call date_and_time.  Call system_clock\n+\tomitting args.\n+\n 1998-06-29  Dave Love  <d.love@dl.ac.uk>\n \n \t* libI77/wsfe.c (s_wsfe): Fix setting of f__curunit lost in"}, {"sha": "7d495b82833411a0e2f1744d979a12aaa11fe0b6", "filename": "libf2c/libU77/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FlibU77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FlibU77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2FMakefile.in?ref=a60cb98615df7322ca32c4889f3d57d7fa577fce", "patch": "@@ -30,6 +30,7 @@ VPATH = @srcdir@\n # gcc/f/runtime/configure sets this to all the -D options appropriate\n # for the configuration.\n DEFS = @DEFS@\n+LIBS = @LIBS@\n \n #### End of system configuration section. ####\n \n@@ -142,7 +143,7 @@ lint:\n \tlint $(ALL_CFLAGS) $(SRCS)\n \n check:\n-\t-$(G77DIR)g77 -B$(G77DIR) -ff90-intrinsics-enable -L.. -g $(srcdir)/u77-test.f $(lib) && ./a.out\n+\t-$(G77DIR)g77 -B$(G77DIR) -L.. -g $(srcdir)/u77-test.f $(LIBS) && ./a.out\n \trm -f a.out\n \n .PHONY: lint check all"}, {"sha": "61d9816455dfa0f4ae6cca46c038aa1580043895", "filename": "libf2c/libU77/configure", "status": "modified", "additions": 44, "deletions": 3, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FlibU77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FlibU77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure?ref=a60cb98615df7322ca32c4889f3d57d7fa577fce", "patch": "@@ -1341,18 +1341,59 @@ EOF\n fi\n \n \n+echo $ac_n \"checking for gethostname in -lsocket\"\"... $ac_c\" 1>&6\n+echo \"configure:1346: checking for gethostname in -lsocket\" >&5\n+ac_lib_var=`echo socket'_'gethostname | sed 'y%./+-%__p_%'`\n+if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  ac_save_LIBS=\"$LIBS\"\n+LIBS=\"-lsocket  $LIBS\"\n+cat > conftest.$ac_ext <<EOF\n+#line 1354 \"configure\"\n+#include \"confdefs.h\"\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char gethostname();\n+\n+int main() {\n+gethostname()\n+; return 0; }\n+EOF\n+if { (eval echo configure:1365: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+  rm -rf conftest*\n+  eval \"ac_cv_lib_$ac_lib_var=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_lib_$ac_lib_var=no\"\n+fi\n+rm -f conftest*\n+LIBS=\"$ac_save_LIBS\"\n+\n+fi\n+if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  LIBS=\"$LIBS -lsocket\"\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n \n for ac_func in symlink getcwd getwd lstat gethostname strerror clock \\\n   getrusage times alarm getlogin getgid getuid kill link ttyname \\\n   gettimeofday\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1351: checking for $ac_func\" >&5\n+echo \"configure:1392: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1356 \"configure\"\n+#line 1397 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1375,7 +1416,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1379: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1420: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else"}, {"sha": "c2a5d7cdd8eb7c8146776db88be7749d8e9ff890", "filename": "libf2c/libU77/configure.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FlibU77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a60cb98615df7322ca32c4889f3d57d7fa577fce/libf2c%2FlibU77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure.in?ref=a60cb98615df7322ca32c4889f3d57d7fa577fce", "patch": "@@ -95,6 +95,9 @@ AC_STRUCT_ST_BLOCKS\n AC_STRUCT_ST_RDEV\n AC_STRUCT_TM\n \n+dnl Some systems (SVR4, SCO OpenServer) need -lsocket for gethostname()\n+AC_CHECK_LIB(socket, gethostname, [LIBS=\"$LIBS -lsocket\"])\n+\n dnl Checks for library functions.\n \n AC_CHECK_FUNCS(symlink getcwd getwd lstat gethostname strerror clock \\"}]}