{"sha": "1f06b26767080802e6d5213dd9a9dbddd7430b0d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYwNmIyNjc2NzA4MDgwMmU2ZDUyMTNkZDlhOWRiZGRkNzQzMGIwZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchell@usa.net", "date": "1997-10-14T19:12:56Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-10-14T19:12:56Z"}, "message": "decl.c (pushtag): Unset DECL_ASSEMBLER_NAME before setting it, so as to avoid incorrect manglings.\n\nTue Oct 14 12:01:00 1997  Mark Mitchell  <mmitchell@usa.net>\n\n\t* decl.c (pushtag): Unset DECL_ASSEMBLER_NAME before setting it,\n\tso as to avoid incorrect manglings.\n\t* method.c (build_decl_overload_real): Don't mangle return types\n\tfor constructors.\n\nFrom-SVN: r15904", "tree": {"sha": "335ef05b2db94c97723e93ac979490d92c3fa88d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/335ef05b2db94c97723e93ac979490d92c3fa88d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f06b26767080802e6d5213dd9a9dbddd7430b0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f06b26767080802e6d5213dd9a9dbddd7430b0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f06b26767080802e6d5213dd9a9dbddd7430b0d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f06b26767080802e6d5213dd9a9dbddd7430b0d/comments", "author": null, "committer": null, "parents": [{"sha": "041c97f2fb4da3813758f9b05b225df8fc8f2a49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/041c97f2fb4da3813758f9b05b225df8fc8f2a49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/041c97f2fb4da3813758f9b05b225df8fc8f2a49"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "d5e98a59f04c9dc077aaf6b34c9530cf67833fb5", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f06b26767080802e6d5213dd9a9dbddd7430b0d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f06b26767080802e6d5213dd9a9dbddd7430b0d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1f06b26767080802e6d5213dd9a9dbddd7430b0d", "patch": "@@ -1,3 +1,10 @@\n+Tue Oct 14 12:01:00 1997  Mark Mitchell  <mmitchell@usa.net>\n+\n+\t* decl.c (pushtag): Unset DECL_ASSEMBLER_NAME before setting it,\n+\tso as to avoid incorrect manglings.\n+\t* method.c (build_decl_overload_real): Don't mangle return types\n+\tfor constructors.\n+\t\n Tue Oct 14 11:46:14 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* cp-tree.h (scratchalloc, build_scratch_list, make_scratch_vec,"}, {"sha": "6f1007cda21c23266991ad61c44552b327a2ad05", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f06b26767080802e6d5213dd9a9dbddd7430b0d/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f06b26767080802e6d5213dd9a9dbddd7430b0d/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=1f06b26767080802e6d5213dd9a9dbddd7430b0d", "patch": "@@ -2167,6 +2167,7 @@ pushtag (name, type, globalize)\n \t\tDECL_IGNORED_P (d) = 1;\n \n \t      TYPE_CONTEXT (type) = DECL_CONTEXT (d);\n+\t      DECL_ASSEMBLER_NAME (d) = DECL_NAME (d);\n \t      DECL_ASSEMBLER_NAME (d)\n \t\t= get_identifier (build_overload_name (type, 1, 1));\n \t    }"}, {"sha": "38004f8c482c56548695405183ce2bba84cbe337", "filename": "gcc/cp/method.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f06b26767080802e6d5213dd9a9dbddd7430b0d/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f06b26767080802e6d5213dd9a9dbddd7430b0d/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=1f06b26767080802e6d5213dd9a9dbddd7430b0d", "patch": "@@ -1194,7 +1194,7 @@ build_decl_overload_real (dname, parms, ret_type, tparms, targs,\n       DEALLOCATE_TYPEVEC (parms);\n     }\n \n-  if (ret_type != NULL_TREE)\n+  if (ret_type != NULL_TREE && for_method != 2)\n     {\n       /* Add the return type. */\n       OB_PUTC ('_');"}]}