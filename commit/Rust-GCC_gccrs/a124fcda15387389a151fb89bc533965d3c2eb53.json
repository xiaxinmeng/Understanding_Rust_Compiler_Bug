{"sha": "a124fcda15387389a151fb89bc533965d3c2eb53", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTEyNGZjZGExNTM4NzM4OWExNTFmYjg5YmM1MzM5NjVkM2MyZWI1Mw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-12-31T21:33:19Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-12-31T21:33:19Z"}, "message": "cfgrtl.c (delete_insn): Check for not NOTE_INSN_DELETED_LABEL before decrementing LABEL_NUSES from a...\n\n        * cfgrtl.c (delete_insn): Check for not NOTE_INSN_DELETED_LABEL\n        before decrementing LABEL_NUSES from a jump table.\n\nFrom-SVN: r48431", "tree": {"sha": "9e1f69103470c9ac37f72bf3fd4c899bfc6f1f0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e1f69103470c9ac37f72bf3fd4c899bfc6f1f0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a124fcda15387389a151fb89bc533965d3c2eb53", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a124fcda15387389a151fb89bc533965d3c2eb53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a124fcda15387389a151fb89bc533965d3c2eb53", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a124fcda15387389a151fb89bc533965d3c2eb53/comments", "author": null, "committer": null, "parents": [{"sha": "6d66e50d528d1a003fe040606050066e76fcb99a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d66e50d528d1a003fe040606050066e76fcb99a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d66e50d528d1a003fe040606050066e76fcb99a"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "56b3bf28e6a2473039bb18b837656a172da7e734", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a124fcda15387389a151fb89bc533965d3c2eb53/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a124fcda15387389a151fb89bc533965d3c2eb53/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=a124fcda15387389a151fb89bc533965d3c2eb53", "patch": "@@ -161,7 +161,15 @@ delete_insn (insn)\n       int i;\n \n       for (i = 0; i < len; i++)\n-\tLABEL_NUSES (XEXP (XVECEXP (pat, diff_vec_p, i), 0))--;\n+\t{\n+\t  rtx label = XEXP (XVECEXP (pat, diff_vec_p, i), 0);\n+\n+\t  /* When deleting code in bulk (e.g. removing many unreachable\n+\t     blocks) we can delete a label that's a target of the vector\n+\t     before deleting the vector itself.  */\n+\t  if (GET_CODE (label) != NOTE)\n+\t    LABEL_NUSES (label)--;\n+\t}\n     }\n \n   return next;"}]}