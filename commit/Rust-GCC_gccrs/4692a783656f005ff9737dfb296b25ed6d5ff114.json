{"sha": "4692a783656f005ff9737dfb296b25ed6d5ff114", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY5MmE3ODM2NTZmMDA1ZmY5NzM3ZGZiMjk2YjI1ZWQ2ZDVmZjExNA==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2017-12-08T23:47:44Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2017-12-08T23:47:44Z"}, "message": "[multiple changes]\n\n2017-12-08  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR rtl-optimization/83317\n\t* lra-constraints.c (process_address_1): Add insn code check.\n\n2017-12-08  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR rtl-optimization/83317\n\t* gcc.target/i386/pr83317.c: New test.\n\nFrom-SVN: r255517", "tree": {"sha": "0de658eb07b54957b40ee8134f528d10a59dce9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0de658eb07b54957b40ee8134f528d10a59dce9a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4692a783656f005ff9737dfb296b25ed6d5ff114", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4692a783656f005ff9737dfb296b25ed6d5ff114", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4692a783656f005ff9737dfb296b25ed6d5ff114", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4692a783656f005ff9737dfb296b25ed6d5ff114/comments", "author": null, "committer": null, "parents": [{"sha": "d5910e08a35c7bd4c2cd862d16e533fa978f3238", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5910e08a35c7bd4c2cd862d16e533fa978f3238", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5910e08a35c7bd4c2cd862d16e533fa978f3238"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "973fb15be93e8b475f41f0ee632dcc9ae82174dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4692a783656f005ff9737dfb296b25ed6d5ff114", "patch": "@@ -1,3 +1,8 @@\n+2017-12-08  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR rtl-optimization/83317\n+\t* lra-constraints.c (process_address_1): Add insn code check.\n+\n 2017-12-08  Michael Matz  <matz@suse.de>\n \n \tFix PR tree-optimization/83323"}, {"sha": "a6600ef992c8bc426e7032fe48e06e516b5238c1", "filename": "gcc/lra-constraints.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2Flra-constraints.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2Flra-constraints.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra-constraints.c?ref=4692a783656f005ff9737dfb296b25ed6d5ff114", "patch": "@@ -3222,7 +3222,8 @@ process_address_1 (int nop, bool check_only_p,\n   /* Do not attempt to decompose arbitrary addresses generated by combine\n      for asm operands with loose constraints, e.g 'X'.  */\n   else if (MEM_P (op)\n-\t   && !(get_constraint_type (cn) == CT_FIXED_FORM\n+\t   && !(INSN_CODE (curr_insn) < 0\n+\t\t&& get_constraint_type (cn) == CT_FIXED_FORM\n \t        && constraint_satisfied_p (op, cn)))\n     decompose_mem_address (&ad, op);\n   else if (GET_CODE (op) == SUBREG"}, {"sha": "cd6c927138ba0801ea62bbced08341a94210799f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4692a783656f005ff9737dfb296b25ed6d5ff114", "patch": "@@ -1,3 +1,8 @@\n+2017-12-08  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR rtl-optimization/83317\n+\t* gcc.target/i386/pr83317.c: New test.\n+\n 2017-12-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/81595"}, {"sha": "5ae0b8d4c59cbec65c2972f01ada2d3d8b7290af", "filename": "gcc/testsuite/gcc.target/i386/pr83317.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr83317.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4692a783656f005ff9737dfb296b25ed6d5ff114/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr83317.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr83317.c?ref=4692a783656f005ff9737dfb296b25ed6d5ff114", "patch": "@@ -0,0 +1,21 @@\n+/* PR rtl-optimization/83317 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O1\" } */\n+/* { dg-additional-options \"-fPIC\" { target fpic } } */\n+/* { dg-additional-options \"-msse2 -mfpmath=sse\" { target ia32 } } */\n+\n+struct S { double a; };\n+struct S c;\n+int d, e;\n+void *buf[64];\n+extern int setjmp (void **);\n+\n+void\n+foo ()\n+{\n+  setjmp (buf);\n+  struct S g;\n+  if (d)\n+    g.a = __builtin_copysign (e, d);\n+  c = g;\n+}"}]}