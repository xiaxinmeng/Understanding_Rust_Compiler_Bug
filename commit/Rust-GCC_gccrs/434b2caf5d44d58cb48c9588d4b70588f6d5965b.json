{"sha": "434b2caf5d44d58cb48c9588d4b70588f6d5965b", "node_id": "C_kwDOANBUbNoAKDQzNGIyY2FmNWQ0NGQ1OGNiNDhjOTU4OGQ0YjcwNTg4ZjZkNTk2NWI", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2022-02-11T23:16:33Z"}, "committer": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2022-02-11T23:17:24Z"}, "message": "i18n: fix exgettext handling of C++ sources\n\nThe move of source files to .cc names broke most message extraction by\nexgettext because it processed .c files with --language=GCC-source but\ndidn't process .cc files that way.  Fix to process files identified as\nC++ that way as well.\n\nTested with \"make gcc.pot\".\n\n\t* exgettext: Also process C++ sources with --language=GCC-source.", "tree": {"sha": "4bb74ad4074cd4c3409acf369f33495d4bb4e919", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4bb74ad4074cd4c3409acf369f33495d4bb4e919"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/434b2caf5d44d58cb48c9588d4b70588f6d5965b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/434b2caf5d44d58cb48c9588d4b70588f6d5965b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/434b2caf5d44d58cb48c9588d4b70588f6d5965b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/434b2caf5d44d58cb48c9588d4b70588f6d5965b/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8dc2499aa62f768c6395c9754b8cabc1ce25c494", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dc2499aa62f768c6395c9754b8cabc1ce25c494", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dc2499aa62f768c6395c9754b8cabc1ce25c494"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "95cb0e755549195e83686870d09153af78b2b705", "filename": "gcc/po/exgettext", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434b2caf5d44d58cb48c9588d4b70588f6d5965b/gcc%2Fpo%2Fexgettext", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434b2caf5d44d58cb48c9588d4b70588f6d5965b/gcc%2Fpo%2Fexgettext", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2Fexgettext?ref=434b2caf5d44d58cb48c9588d4b70588f6d5965b", "patch": "@@ -69,6 +69,7 @@ posrcxx=$pwd/$T/po-cxx-sources\n pottmp1=$pwd/$T/tmp1.pot\n pottmp2=$pwd/$T/tmp2.pot\n pottmp3=$pwd/$T/tmp3.pot\n+pottmp4=$pwd/$T/tmp4.pot\n pottmp=$pwd/$T/tmp.pot\n \n # Locate files to scan.  We scan the following directories:\n@@ -312,8 +313,13 @@ $xgettext --default-domain=$package --directory=$srcdir \\\n \t  --copyright-holder=\"Free Software Foundation, Inc.\" \\\n \t  --msgid-bugs-address=\"$BUGURL\" \\\n \t  --language=GCC-source -o $pottmp3\n+$xgettext --default-domain=$package --directory=$srcdir \\\n+\t  --add-comments --keyword= `cat $kopt2` --files-from=$posrcxx \\\n+\t  --copyright-holder=\"Free Software Foundation, Inc.\" \\\n+\t  --msgid-bugs-address=\"$BUGURL\" \\\n+\t  --language=GCC-source -o $pottmp4\n $xgettext --default-domain=$package \\\n-\t  --add-comments $pottmp1 $pottmp2 $pottmp3 \\\n+\t  --add-comments $pottmp1 $pottmp2 $pottmp3 $pottmp4 \\\n \t  --copyright-holder=\"Free Software Foundation, Inc.\" \\\n \t  --msgid-bugs-address=\"$BUGURL\" \\\n \t  --language=PO -o $pottmp"}]}