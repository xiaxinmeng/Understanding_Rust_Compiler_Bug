{"url": "https://api.github.com/repos/rust-lang/rust/pulls/93405", "id": 834027355, "node_id": "PR_kwDOAAsO6M4xtj9b", "html_url": "https://github.com/rust-lang/rust/pull/93405", "diff_url": "https://github.com/rust-lang/rust/pull/93405.diff", "patch_url": "https://github.com/rust-lang/rust/pull/93405.patch", "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/93405", "number": 93405, "state": "closed", "locked": false, "title": "Don't over-optimize the abi layout", "user": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "body": "This PR removes the aggregate \"optimization\" done to small (<= ptr-size * 2) return arguments because this cause many problems:\r\n\r\n- This block auto-vectorization (especially in with floats) https://github.com/rust-lang/rust/issues/85265#issuecomment-985369739\r\n- This adds unnecessary steps for packing (in the function) and unpacking (at the caller) the return arguments.\r\n\r\nSpecifically the behavior before the this PR was to aggregate every-type (struct, array) that was pass or return and was small enough (<= ptr-size * 2) into a single and unique integer, no matter the underline type. This would means for example that `[f32; 3]` (which is a very common representation for a vector in 3 dimensions) would be represented as a unique `i96` in the LLVM-IR that would need to be pack to be returned and than unpack at the caller to be used. https://github.com/rust-lang/rust/issues/91447#issuecomment-984525854\r\n\r\nI expect this change to have some compile time improvement and regressions, the improvement will probably be due to the removal of the packing and unpacking machinery and the regressions will most certanly be caused by the extra optimizations like auto-vectorization that LLVM will be able to perform. Overall I thing is change is worth while as it fix some regressions and improve the generated assembly.\r\n\r\n<details>\r\n<summary>Examples (Rust)</summary>\r\n\r\n```rust\r\npub struct Stats\r\n{\r\n    x: f32,\r\n    y: f32,\r\n    z: f32\r\n}\r\n\r\npub fn sum(a: &Stats, b: &Stats) -> Stats\r\n{\r\n    Stats {\r\n        x: a.x + b.x,\r\n        y: a.y + b.y,\r\n        z: a.z + b.z\r\n    }\r\n}\r\n\r\npub struct Stats2\r\n{\r\n    x: u32,\r\n    y: u32,\r\n    z: f32\r\n}\r\n\r\npub fn sum2(a: &Stats2, b: &Stats2) -> Stats2\r\n{\r\n    Stats2 {\r\n        x: a.x + b.x,\r\n        y: a.y + b.y,\r\n        z: a.z + b.z\r\n    }\r\n}\r\n\r\npub struct Stats3\r\n{\r\n    x: u64,\r\n    y: u32,\r\n    z: f32\r\n}\r\n\r\npub fn sum3(a: &Stats3, b: &Stats3) -> Stats3\r\n{\r\n    Stats3 {\r\n        x: a.x + b.x,\r\n        y: a.y + b.y,\r\n        z: a.z + b.z\r\n    }\r\n}\r\n\r\npub struct Stats4\r\n{\r\n    x: u16,\r\n    y: u16,\r\n    z: u16\r\n}\r\n\r\npub fn sum4(a: &Stats4, b: &Stats4) -> Stats4\r\n{\r\n    Stats4 {\r\n        x: a.x + b.x,\r\n        y: a.y + b.y,\r\n        z: a.z + b.z\r\n    }\r\n}\r\n\r\npub struct Stats5\r\n{\r\n    x: u16,\r\n    y: u16,\r\n    z: u16,\r\n    a: u16,\r\n    b: u16,\r\n    c: u16,\r\n    d: u16,\r\n    e: u16,\r\n    f: u16,\r\n}\r\n\r\npub fn sum5(a: &Stats5, b: &Stats5) -> Stats5\r\n{\r\n    Stats5 {\r\n        x: a.x + b.x,\r\n        y: a.y + b.y,\r\n        z: a.z + b.z,\r\n        a: a.a + b.a,\r\n        b: a.b + b.b,\r\n        c: a.c + b.c,\r\n        d: a.d + b.d,\r\n        e: a.e + b.e,\r\n        f: a.f + b.f,\r\n    }\r\n}\r\n\r\npub struct Uuu {\r\n    a: u64,\r\n    b: bool,\r\n    c: u8,\r\n    d: u32,\r\n}\r\n\r\npub fn sum6(a: &Uuu, b: &Uuu) -> Uuu {\r\n    Uuu {\r\n        a: a.a + b.a,\r\n        b: a.b,\r\n        c: a.c + b.c,\r\n        d: a.d + b.d,\r\n    }\r\n}\r\n\r\npub fn case_1(a: [f32; 4], b: [f32; 4]) -> [f32; 4] {\r\n    [\r\n        a[0] + b[0],\r\n        a[1] + b[1],\r\n        a[2] + b[2],\r\n        a[3] + b[3],\r\n    ]\r\n}\r\n\r\npub fn case_2(a: [f32; 4], b: [f32; 4]) -> [f32; 4] {\r\n    let mut c = [0.0; 4];\r\n    for i in 0..4 {\r\n        c[i] = a[i] + b[i];\r\n    }\r\n    c\r\n}\r\n\r\n#[no_mangle]\r\npub fn array_clone(a: &[u8; 2]) -> [u8; 2] {\r\n    // CHECK-NOT: getelementptr\r\n    // CHECK-NOT: load i8\r\n    // CHECK-NOT: zext\r\n    // CHECK-NOT: shl\r\n    // CHECK: load i16\r\n    // CHECK-NEXT: ret i16\r\n    a.clone()\r\n}\r\n\r\n#[no_mangle]\r\npub fn array_clone_big(a: &[u8; 16]) -> [u8; 16] {\r\n    a.clone()\r\n}\r\n\r\n#[no_mangle]\r\npub fn array_eq_value(a: [u16; 8], b: [u16; 8]) -> bool {\r\n    a == b\r\n}\r\n\r\n#[no_mangle]\r\npub fn is_zero_slice_short(data: &[u8; 4]) -> bool {\r\n    &data[..] == [0; 4]\r\n}\r\n\r\npub struct Bytes {\r\n  a: u8,\r\n  b: u8,\r\n  c: u8,\r\n  d: u8,\r\n}\r\n\r\n// CHECK-LABEL: small_array_alignment\r\n#[no_mangle]\r\npub fn small_array_alignment(x: &mut [i8; 4], y: [i8; 4]) {\r\n    *x = y;\r\n}\r\n\r\n// CHECK-LABEL: small_struct_alignment\r\n#[no_mangle]\r\npub fn small_struct_alignment(x: &mut Bytes, y: Bytes) {\r\n    *x = y;\r\n}\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>Examples (ASM - Current nightly)</summary>\r\n\r\n```asm\r\n\t.text\r\n\t.intel_syntax noprefix\r\n\t.file\t\"a.a146b597-cgu.0\"\r\n\t.section\t.text._ZN1a3sum17hf9af3d6e76074e96E,\"ax\",@progbits\r\n\t.globl\t_ZN1a3sum17hf9af3d6e76074e96E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a3sum17hf9af3d6e76074e96E,@function\r\n_ZN1a3sum17hf9af3d6e76074e96E:\r\n\t.cfi_startproc\r\n\tvmovss\txmm0, dword ptr [rdi]\r\n\tvaddss\txmm0, xmm0, dword ptr [rsi]\r\n\tvmovsd\txmm1, qword ptr [rdi + 4]\r\n\tvmovsd\txmm2, qword ptr [rsi + 4]\r\n\tvaddps\txmm1, xmm1, xmm2\r\n\tvmovd\teax, xmm0\r\n\tvextractps\tedx, xmm1, 1\r\n\tvextractps\tecx, xmm1, 0\r\n\tshl\trcx, 32\r\n\tor\trax, rcx\r\n\tret\r\n.Lfunc_end0:\r\n\t.size\t_ZN1a3sum17hf9af3d6e76074e96E, .Lfunc_end0-_ZN1a3sum17hf9af3d6e76074e96E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum217h24c2e94f4c556471E,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum217h24c2e94f4c556471E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum217h24c2e94f4c556471E,@function\r\n_ZN1a4sum217h24c2e94f4c556471E:\r\n\t.cfi_startproc\r\n\tmov\teax, dword ptr [rsi]\r\n\tmov\tecx, dword ptr [rsi + 4]\r\n\tadd\teax, dword ptr [rdi]\r\n\tadd\tecx, dword ptr [rdi + 4]\r\n\tvmovss\txmm0, dword ptr [rdi + 8]\r\n\tvaddss\txmm0, xmm0, dword ptr [rsi + 8]\r\n\tvmovd\tedx, xmm0\r\n\tshl\trcx, 32\r\n\tor\trax, rcx\r\n\tret\r\n.Lfunc_end1:\r\n\t.size\t_ZN1a4sum217h24c2e94f4c556471E, .Lfunc_end1-_ZN1a4sum217h24c2e94f4c556471E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum317hd5bc84ce8141d548E,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum317hd5bc84ce8141d548E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum317hd5bc84ce8141d548E,@function\r\n_ZN1a4sum317hd5bc84ce8141d548E:\r\n\t.cfi_startproc\r\n\tmov\trax, qword ptr [rsi]\r\n\tadd\trax, qword ptr [rdi]\r\n\tmov\tedx, dword ptr [rsi + 8]\r\n\tadd\tedx, dword ptr [rdi + 8]\r\n\tvmovss\txmm0, dword ptr [rdi + 12]\r\n\tvaddss\txmm0, xmm0, dword ptr [rsi + 12]\r\n\tvmovd\tecx, xmm0\r\n\tshl\trcx, 32\r\n\tor\trdx, rcx\r\n\tret\r\n.Lfunc_end2:\r\n\t.size\t_ZN1a4sum317hd5bc84ce8141d548E, .Lfunc_end2-_ZN1a4sum317hd5bc84ce8141d548E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum417h9691e4d029ee251dE,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum417h9691e4d029ee251dE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum417h9691e4d029ee251dE,@function\r\n_ZN1a4sum417h9691e4d029ee251dE:\r\n\t.cfi_startproc\r\n\tmovzx\teax, word ptr [rsi]\r\n\tadd\tax, word ptr [rdi]\r\n\tvmovd\txmm0, dword ptr [rdi + 2]\r\n\tvmovd\txmm1, dword ptr [rsi + 2]\r\n\tvpaddw\txmm0, xmm1, xmm0\r\n\tvpmovzxwq\txmm0, xmm0\r\n\tvpsllq\txmm1, xmm0, 16\r\n\tvpxor\txmm2, xmm2, xmm2\r\n\tvpunpckhdq\txmm0, xmm2, xmm0\r\n\tvpor\txmm0, xmm0, xmm1\r\n\tvmovq\trcx, xmm0\r\n\tmovzx\teax, ax\r\n\tor\trax, rcx\r\n\tret\r\n.Lfunc_end3:\r\n\t.size\t_ZN1a4sum417h9691e4d029ee251dE, .Lfunc_end3-_ZN1a4sum417h9691e4d029ee251dE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum517hb405ed71ffe589ceE,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum517hb405ed71ffe589ceE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum517hb405ed71ffe589ceE,@function\r\n_ZN1a4sum517hb405ed71ffe589ceE:\r\n\t.cfi_startproc\r\n\tmov\trax, rdi\r\n\tvmovdqu\txmm0, xmmword ptr [rdx]\r\n\tvpaddw\txmm0, xmm0, xmmword ptr [rsi]\r\n\tmovzx\tecx, word ptr [rdx + 16]\r\n\tadd\tcx, word ptr [rsi + 16]\r\n\tvmovdqu\txmmword ptr [rdi], xmm0\r\n\tmov\tword ptr [rdi + 16], cx\r\n\tret\r\n.Lfunc_end4:\r\n\t.size\t_ZN1a4sum517hb405ed71ffe589ceE, .Lfunc_end4-_ZN1a4sum517hb405ed71ffe589ceE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum617hc70e45116b4c4cb5E,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum617hc70e45116b4c4cb5E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum617hc70e45116b4c4cb5E,@function\r\n_ZN1a4sum617hc70e45116b4c4cb5E:\r\n\t.cfi_startproc\r\n\tmov\trax, qword ptr [rsi]\r\n\tadd\trax, qword ptr [rdi]\r\n\tmovzx\tecx, byte ptr [rdi + 12]\r\n\tmov\tr8b, byte ptr [rsi + 13]\r\n\tadd\tr8b, byte ptr [rdi + 13]\r\n\tmov\tedx, dword ptr [rsi + 8]\r\n\tadd\tedx, dword ptr [rdi + 8]\r\n\tmovzx\tesi, r8b\r\n\tshl\trsi, 40\r\n\tshl\trcx, 32\r\n\tor\trcx, rsi\r\n\tor\trdx, rcx\r\n\tret\r\n.Lfunc_end5:\r\n\t.size\t_ZN1a4sum617hc70e45116b4c4cb5E, .Lfunc_end5-_ZN1a4sum617hc70e45116b4c4cb5E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a6case_117hafdcab5a8df01687E,\"ax\",@progbits\r\n\t.globl\t_ZN1a6case_117hafdcab5a8df01687E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a6case_117hafdcab5a8df01687E,@function\r\n_ZN1a6case_117hafdcab5a8df01687E:\r\n\t.cfi_startproc\r\n\tmov\trax, rsi\r\n\tshld\trax, rdi, 32\r\n\tvmovd\txmm0, esi\r\n\tshr\trsi, 32\r\n\tvmovq\txmm1, rax\r\n\tvmovq\txmm2, rsi\r\n\tvpunpckldq\txmm1, xmm2, xmm1\r\n\tvmovd\txmm2, ecx\r\n\tvaddss\txmm0, xmm0, xmm2\r\n\tvmovd\txmm2, edx\r\n\tshrd\trdx, rcx, 32\r\n\tshr\trcx, 32\r\n\tvmovq\txmm3, rdx\r\n\tvmovq\txmm4, rcx\r\n\tvpunpckldq\txmm3, xmm4, xmm3\r\n\tvmovd\txmm4, edi\r\n\tvaddps\txmm1, xmm1, xmm3\r\n\tvaddps\txmm2, xmm2, xmm4\r\n\tvextractps\teax, xmm2, 0\r\n\tvmovd\tecx, xmm0\r\n\tvextractps\tedx, xmm1, 0\r\n\tvextractps\tesi, xmm1, 1\r\n\tshl\trsi, 32\r\n\tshl\trdx, 32\r\n\tor\trdx, rcx\r\n\tor\trax, rsi\r\n\tret\r\n.Lfunc_end6:\r\n\t.size\t_ZN1a6case_117hafdcab5a8df01687E, .Lfunc_end6-_ZN1a6case_117hafdcab5a8df01687E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a6case_217h872d9cdc533ae429E,\"ax\",@progbits\r\n\t.globl\t_ZN1a6case_217h872d9cdc533ae429E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a6case_217h872d9cdc533ae429E,@function\r\n_ZN1a6case_217h872d9cdc533ae429E:\r\n\t.cfi_startproc\r\n\tmov\trax, rsi\r\n\tshld\trax, rdi, 32\r\n\tvmovd\txmm0, esi\r\n\tshr\trsi, 32\r\n\tvmovq\txmm1, rax\r\n\tvmovq\txmm2, rsi\r\n\tvpunpckldq\txmm1, xmm2, xmm1\r\n\tvmovd\txmm2, ecx\r\n\tvaddss\txmm0, xmm0, xmm2\r\n\tvmovd\txmm2, edx\r\n\tshrd\trdx, rcx, 32\r\n\tshr\trcx, 32\r\n\tvmovq\txmm3, rdx\r\n\tvmovq\txmm4, rcx\r\n\tvpunpckldq\txmm3, xmm4, xmm3\r\n\tvmovd\txmm4, edi\r\n\tvaddps\txmm1, xmm1, xmm3\r\n\tvaddps\txmm2, xmm2, xmm4\r\n\tvextractps\teax, xmm2, 0\r\n\tvmovd\tecx, xmm0\r\n\tvextractps\tedx, xmm1, 0\r\n\tvextractps\tesi, xmm1, 1\r\n\tshl\trsi, 32\r\n\tshl\trdx, 32\r\n\tor\trdx, rcx\r\n\tor\trax, rsi\r\n\tret\r\n.Lfunc_end7:\r\n\t.size\t_ZN1a6case_217h872d9cdc533ae429E, .Lfunc_end7-_ZN1a6case_217h872d9cdc533ae429E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.array_clone,\"ax\",@progbits\r\n\t.globl\tarray_clone\r\n\t.p2align\t4, 0x90\r\n\t.type\tarray_clone,@function\r\narray_clone:\r\n\t.cfi_startproc\r\n\tmovzx\teax, word ptr [rdi]\r\n\tret\r\n.Lfunc_end8:\r\n\t.size\tarray_clone, .Lfunc_end8-array_clone\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.array_clone_big,\"ax\",@progbits\r\n\t.globl\tarray_clone_big\r\n\t.p2align\t4, 0x90\r\n\t.type\tarray_clone_big,@function\r\narray_clone_big:\r\n\t.cfi_startproc\r\n\tmov\trax, qword ptr [rdi]\r\n\tmov\trdx, qword ptr [rdi + 8]\r\n\tret\r\n.Lfunc_end9:\r\n\t.size\tarray_clone_big, .Lfunc_end9-array_clone_big\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.array_eq_value,\"ax\",@progbits\r\n\t.globl\tarray_eq_value\r\n\t.p2align\t4, 0x90\r\n\t.type\tarray_eq_value,@function\r\narray_eq_value:\r\n\t.cfi_startproc\r\n\txor\trsi, rcx\r\n\txor\trdi, rdx\r\n\tor\trdi, rsi\r\n\tsete\tal\r\n\tret\r\n.Lfunc_end10:\r\n\t.size\tarray_eq_value, .Lfunc_end10-array_eq_value\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.is_zero_slice_short,\"ax\",@progbits\r\n\t.globl\tis_zero_slice_short\r\n\t.p2align\t4, 0x90\r\n\t.type\tis_zero_slice_short,@function\r\nis_zero_slice_short:\r\n\t.cfi_startproc\r\n\tcmp\tdword ptr [rdi], 0\r\n\tsete\tal\r\n\tret\r\n.Lfunc_end11:\r\n\t.size\tis_zero_slice_short, .Lfunc_end11-is_zero_slice_short\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.small_array_alignment,\"ax\",@progbits\r\n\t.globl\tsmall_array_alignment\r\n\t.p2align\t4, 0x90\r\n\t.type\tsmall_array_alignment,@function\r\nsmall_array_alignment:\r\n\t.cfi_startproc\r\n\tmov\tdword ptr [rdi], esi\r\n\tret\r\n.Lfunc_end12:\r\n\t.size\tsmall_array_alignment, .Lfunc_end12-small_array_alignment\r\n\t.cfi_endproc\r\n\r\n\t.type\t.Lalloc41,@object\r\n\t.section\t.rodata.cst4,\"aM\",@progbits,4\r\n.Lalloc41:\r\n\t.zero\t4\r\n\t.size\t.Lalloc41, 4\r\n\r\n\t.globl\tsmall_struct_alignment\r\n\t.type\tsmall_struct_alignment,@function\r\n.set small_struct_alignment, small_array_alignment\r\n\t.section\t\".note.GNU-stack\",\"\",@progbits\r\n\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>Examples (ASM - This PR)</summary>\r\n\r\n```asm\r\n\t.text\r\n\t.intel_syntax noprefix\r\n\t.file\t\"a.a9ba02be-cgu.0\"\r\n\t.section\t.text._ZN1a3sum17h8c043182f8b901bbE,\"ax\",@progbits\r\n\t.globl\t_ZN1a3sum17h8c043182f8b901bbE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a3sum17h8c043182f8b901bbE,@function\r\n_ZN1a3sum17h8c043182f8b901bbE:\r\n\t.cfi_startproc\r\n\tsub\trsp, 4\r\n\t.cfi_def_cfa_offset 12\r\n\tvmovss\txmm0, dword ptr [rdi]\r\n\tvaddss\txmm0, xmm0, dword ptr [rsi]\r\n\tvmovss\txmm1, dword ptr [rdi + 4]\r\n\tvaddss\txmm1, xmm1, dword ptr [rsi + 4]\r\n\tvmovss\txmm2, dword ptr [rdi + 8]\r\n\tvaddss\txmm2, xmm2, dword ptr [rsi + 8]\r\n\tvmovss\tdword ptr [rsp], xmm2\r\n\tfld\tdword ptr [rsp]\r\n\tadd\trsp, 4\r\n\t.cfi_def_cfa_offset 8\r\n\tret\r\n.Lfunc_end0:\r\n\t.size\t_ZN1a3sum17h8c043182f8b901bbE, .Lfunc_end0-_ZN1a3sum17h8c043182f8b901bbE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum217he622ac4d5666af14E,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum217he622ac4d5666af14E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum217he622ac4d5666af14E,@function\r\n_ZN1a4sum217he622ac4d5666af14E:\r\n\t.cfi_startproc\r\n\tmov\teax, dword ptr [rsi]\r\n\tmov\tedx, dword ptr [rsi + 4]\r\n\tadd\teax, dword ptr [rdi]\r\n\tadd\tedx, dword ptr [rdi + 4]\r\n\tvmovss\txmm0, dword ptr [rdi + 8]\r\n\tvaddss\txmm0, xmm0, dword ptr [rsi + 8]\r\n\tret\r\n.Lfunc_end1:\r\n\t.size\t_ZN1a4sum217he622ac4d5666af14E, .Lfunc_end1-_ZN1a4sum217he622ac4d5666af14E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum317h04cf9869dc54377cE,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum317h04cf9869dc54377cE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum317h04cf9869dc54377cE,@function\r\n_ZN1a4sum317h04cf9869dc54377cE:\r\n\t.cfi_startproc\r\n\tmov\tr8, qword ptr [rdx]\r\n\tadd\tr8, qword ptr [rsi]\r\n\tmov\tecx, dword ptr [rdx + 8]\r\n\tadd\tecx, dword ptr [rsi + 8]\r\n\tvmovss\txmm0, dword ptr [rsi + 12]\r\n\tvaddss\txmm0, xmm0, dword ptr [rdx + 12]\r\n\tmov\trax, rdi\r\n\tmov\tqword ptr [rdi], r8\r\n\tmov\tdword ptr [rdi + 8], ecx\r\n\tvmovss\tdword ptr [rdi + 12], xmm0\r\n\tret\r\n.Lfunc_end2:\r\n\t.size\t_ZN1a4sum317h04cf9869dc54377cE, .Lfunc_end2-_ZN1a4sum317h04cf9869dc54377cE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum417h67d9515994751a4fE,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum417h67d9515994751a4fE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum417h67d9515994751a4fE,@function\r\n_ZN1a4sum417h67d9515994751a4fE:\r\n\t.cfi_startproc\r\n\tmovzx\teax, word ptr [rsi]\r\n\tmovzx\tedx, word ptr [rsi + 2]\r\n\tadd\tax, word ptr [rdi]\r\n\tadd\tdx, word ptr [rdi + 2]\r\n\tmovzx\tecx, word ptr [rsi + 4]\r\n\tadd\tcx, word ptr [rdi + 4]\r\n\tret\r\n.Lfunc_end3:\r\n\t.size\t_ZN1a4sum417h67d9515994751a4fE, .Lfunc_end3-_ZN1a4sum417h67d9515994751a4fE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum517hc3b00dfa19b7572aE,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum517hc3b00dfa19b7572aE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum517hc3b00dfa19b7572aE,@function\r\n_ZN1a4sum517hc3b00dfa19b7572aE:\r\n\t.cfi_startproc\r\n\tmov\trax, rdi\r\n\tvmovdqu\txmm0, xmmword ptr [rdx]\r\n\tvpaddw\txmm0, xmm0, xmmword ptr [rsi]\r\n\tmovzx\tecx, word ptr [rdx + 16]\r\n\tadd\tcx, word ptr [rsi + 16]\r\n\tvmovdqu\txmmword ptr [rdi], xmm0\r\n\tmov\tword ptr [rdi + 16], cx\r\n\tret\r\n.Lfunc_end4:\r\n\t.size\t_ZN1a4sum517hc3b00dfa19b7572aE, .Lfunc_end4-_ZN1a4sum517hc3b00dfa19b7572aE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a4sum617h761310a682ddc851E,\"ax\",@progbits\r\n\t.globl\t_ZN1a4sum617h761310a682ddc851E\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a4sum617h761310a682ddc851E,@function\r\n_ZN1a4sum617h761310a682ddc851E:\r\n\t.cfi_startproc\r\n\tmov\tr8, qword ptr [rdx]\r\n\tadd\tr8, qword ptr [rsi]\r\n\tmov\trax, rdi\r\n\tmov\tcl, byte ptr [rdx + 13]\r\n\tadd\tcl, byte ptr [rsi + 13]\r\n\tmov\tdil, byte ptr [rsi + 12]\r\n\tmov\tedx, dword ptr [rdx + 8]\r\n\tadd\tedx, dword ptr [rsi + 8]\r\n\tmov\tqword ptr [rax], r8\r\n\tmov\tbyte ptr [rax + 12], dil\r\n\tmov\tbyte ptr [rax + 13], cl\r\n\tmov\tdword ptr [rax + 8], edx\r\n\tret\r\n.Lfunc_end5:\r\n\t.size\t_ZN1a4sum617h761310a682ddc851E, .Lfunc_end5-_ZN1a4sum617h761310a682ddc851E\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a6case_117ha530dd71df48c3daE,\"ax\",@progbits\r\n\t.globl\t_ZN1a6case_117ha530dd71df48c3daE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a6case_117ha530dd71df48c3daE,@function\r\n_ZN1a6case_117ha530dd71df48c3daE:\r\n\t.cfi_startproc\r\n\tmov\trax, rdi\r\n\tvmovups\txmm0, xmmword ptr [rsi]\r\n\tvaddps\txmm0, xmm0, xmmword ptr [rdx]\r\n\tvmovups\txmmword ptr [rdi], xmm0\r\n\tret\r\n.Lfunc_end6:\r\n\t.size\t_ZN1a6case_117ha530dd71df48c3daE, .Lfunc_end6-_ZN1a6case_117ha530dd71df48c3daE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text._ZN1a6case_217hb59f9b1a3cb611cbE,\"ax\",@progbits\r\n\t.globl\t_ZN1a6case_217hb59f9b1a3cb611cbE\r\n\t.p2align\t4, 0x90\r\n\t.type\t_ZN1a6case_217hb59f9b1a3cb611cbE,@function\r\n_ZN1a6case_217hb59f9b1a3cb611cbE:\r\n\t.cfi_startproc\r\n\tmov\trax, rdi\r\n\tvmovups\txmm0, xmmword ptr [rsi]\r\n\tvaddps\txmm0, xmm0, xmmword ptr [rdx]\r\n\tvmovups\txmmword ptr [rdi], xmm0\r\n\tret\r\n.Lfunc_end7:\r\n\t.size\t_ZN1a6case_217hb59f9b1a3cb611cbE, .Lfunc_end7-_ZN1a6case_217hb59f9b1a3cb611cbE\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.array_clone,\"ax\",@progbits\r\n\t.globl\tarray_clone\r\n\t.p2align\t4, 0x90\r\n\t.type\tarray_clone,@function\r\narray_clone:\r\n\t.cfi_startproc\r\n\tmov\tal, byte ptr [rdi]\r\n\tmov\tdl, byte ptr [rdi + 1]\r\n\tret\r\n.Lfunc_end8:\r\n\t.size\tarray_clone, .Lfunc_end8-array_clone\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.array_clone_big,\"ax\",@progbits\r\n\t.globl\tarray_clone_big\r\n\t.p2align\t4, 0x90\r\n\t.type\tarray_clone_big,@function\r\narray_clone_big:\r\n\t.cfi_startproc\r\n\tmov\trax, rdi\r\n\tvmovups\txmm0, xmmword ptr [rsi]\r\n\tvmovups\txmmword ptr [rdi], xmm0\r\n\tret\r\n.Lfunc_end9:\r\n\t.size\tarray_clone_big, .Lfunc_end9-array_clone_big\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.array_eq_value,\"ax\",@progbits\r\n\t.globl\tarray_eq_value\r\n\t.p2align\t4, 0x90\r\n\t.type\tarray_eq_value,@function\r\narray_eq_value:\r\n\t.cfi_startproc\r\n\tvmovdqu\txmm0, xmmword ptr [rdi]\r\n\tvpxor\txmm0, xmm0, xmmword ptr [rsi]\r\n\tvptest\txmm0, xmm0\r\n\tsete\tal\r\n\tret\r\n.Lfunc_end10:\r\n\t.size\tarray_eq_value, .Lfunc_end10-array_eq_value\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.is_zero_slice_short,\"ax\",@progbits\r\n\t.globl\tis_zero_slice_short\r\n\t.p2align\t4, 0x90\r\n\t.type\tis_zero_slice_short,@function\r\nis_zero_slice_short:\r\n\t.cfi_startproc\r\n\tcmp\tdword ptr [rdi], 0\r\n\tsete\tal\r\n\tret\r\n.Lfunc_end11:\r\n\t.size\tis_zero_slice_short, .Lfunc_end11-is_zero_slice_short\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.small_array_alignment,\"ax\",@progbits\r\n\t.globl\tsmall_array_alignment\r\n\t.p2align\t4, 0x90\r\n\t.type\tsmall_array_alignment,@function\r\nsmall_array_alignment:\r\n\t.cfi_startproc\r\n\tmov\tbyte ptr [rdi], sil\r\n\tmov\tbyte ptr [rdi + 1], dl\r\n\tmov\tbyte ptr [rdi + 2], cl\r\n\tmov\tbyte ptr [rdi + 3], r8b\r\n\tret\r\n.Lfunc_end12:\r\n\t.size\tsmall_array_alignment, .Lfunc_end12-small_array_alignment\r\n\t.cfi_endproc\r\n\r\n\t.section\t.text.small_struct_alignment,\"ax\",@progbits\r\n\t.globl\tsmall_struct_alignment\r\n\t.p2align\t4, 0x90\r\n\t.type\tsmall_struct_alignment,@function\r\nsmall_struct_alignment:\r\n\t.cfi_startproc\r\n\tmov\tbyte ptr [rdi], sil\r\n\tmov\tbyte ptr [rdi + 1], dl\r\n\tmov\tbyte ptr [rdi + 2], cl\r\n\tmov\tbyte ptr [rdi + 3], r8b\r\n\tret\r\n.Lfunc_end13:\r\n\t.size\tsmall_struct_alignment, .Lfunc_end13-small_struct_alignment\r\n\t.cfi_endproc\r\n\r\n\t.type\t.Lalloc41,@object\r\n\t.section\t.rodata.cst4,\"aM\",@progbits,4\r\n.Lalloc41:\r\n\t.zero\t4\r\n\t.size\t.Lalloc41, 4\r\n\r\n\t.section\t\".note.GNU-stack\",\"\",@progbits\r\n```\r\n\r\n</details>\r\n\r\n\r\nRevert https://github.com/rust-lang/rust/pull/85828 (not needed anymore and block auto-vectorization if left)\r\nFixes https://github.com/rust-lang/rust/issues/85265\r\nFixes https://github.com/rust-lang/rust/issues/91447\r\n\r\ncc @scottmcm ", "created_at": "2022-01-28T01:39:17Z", "updated_at": "2023-05-05T16:47:14Z", "closed_at": "2022-02-01T17:44:33Z", "merged_at": null, "merge_commit_sha": "83716464ce381581f7fd80f7b5066a2aa840189e", "assignee": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 583426710, "node_id": "MDU6TGFiZWw1ODM0MjY3MTA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-review", "name": "S-waiting-on-review", "color": "d3dddd", "default": false, "description": "Status: Awaiting review from the assignee but also interested parties."}, {"id": 3116384996, "node_id": "MDU6TGFiZWwzMTE2Mzg0OTk2", "url": "https://api.github.com/repos/rust-lang/rust/labels/perf-regression", "name": "perf-regression", "color": "e4008a", "default": false, "description": "Performance regressions"}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/rust-lang/rust/pulls/93405/commits", "review_comments_url": "https://api.github.com/repos/rust-lang/rust/pulls/93405/comments", "review_comment_url": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/93405/comments", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/646350f12fec14626a7dde3c72ca12ab5391ac74", "head": {"label": "Urgau:optimize-abi", "ref": "optimize-abi", "sha": "646350f12fec14626a7dde3c72ca12ab5391ac74", "user": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "repo": {"id": 410517312, "node_id": "R_kgDOGHf_QA", "name": "rust", "full_name": "Urgau/rust", "private": false, "owner": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/Urgau/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": true, "url": "https://api.github.com/repos/Urgau/rust", "forks_url": "https://api.github.com/repos/Urgau/rust/forks", "keys_url": "https://api.github.com/repos/Urgau/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/Urgau/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/Urgau/rust/teams", "hooks_url": "https://api.github.com/repos/Urgau/rust/hooks", "issue_events_url": "https://api.github.com/repos/Urgau/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/Urgau/rust/events", "assignees_url": "https://api.github.com/repos/Urgau/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/Urgau/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/Urgau/rust/tags", "blobs_url": "https://api.github.com/repos/Urgau/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/Urgau/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/Urgau/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/Urgau/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/Urgau/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/Urgau/rust/languages", "stargazers_url": "https://api.github.com/repos/Urgau/rust/stargazers", "contributors_url": "https://api.github.com/repos/Urgau/rust/contributors", "subscribers_url": "https://api.github.com/repos/Urgau/rust/subscribers", "subscription_url": "https://api.github.com/repos/Urgau/rust/subscription", "commits_url": "https://api.github.com/repos/Urgau/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/Urgau/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/Urgau/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/Urgau/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/Urgau/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/Urgau/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/Urgau/rust/merges", "archive_url": "https://api.github.com/repos/Urgau/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/Urgau/rust/downloads", "issues_url": "https://api.github.com/repos/Urgau/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/Urgau/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/Urgau/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/Urgau/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/Urgau/rust/labels{/name}", "releases_url": "https://api.github.com/repos/Urgau/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/Urgau/rust/deployments", "created_at": "2021-09-26T10:13:52Z", "updated_at": "2022-03-10T10:41:48Z", "pushed_at": "2023-06-11T11:55:51Z", "git_url": "git://github.com/Urgau/rust.git", "ssh_url": "git@github.com:Urgau/rust.git", "clone_url": "https://github.com/Urgau/rust.git", "svn_url": "https://github.com/Urgau/rust", "homepage": "https://www.rust-lang.org", "size": 889458, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "rust-lang:master", "ref": "master", "sha": "86f5e177bca8121e1edc9864023a8ea61acf9034", "user": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 724712, "node_id": "MDEwOlJlcG9zaXRvcnk3MjQ3MTI=", "name": "rust", "full_name": "rust-lang/rust", "private": false, "owner": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/rust-lang/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": false, "url": "https://api.github.com/repos/rust-lang/rust", "forks_url": "https://api.github.com/repos/rust-lang/rust/forks", "keys_url": "https://api.github.com/repos/rust-lang/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rust-lang/rust/teams", "hooks_url": "https://api.github.com/repos/rust-lang/rust/hooks", "issue_events_url": "https://api.github.com/repos/rust-lang/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/rust-lang/rust/events", "assignees_url": "https://api.github.com/repos/rust-lang/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/rust-lang/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/rust-lang/rust/tags", "blobs_url": "https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rust-lang/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rust-lang/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rust-lang/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/rust-lang/rust/languages", "stargazers_url": "https://api.github.com/repos/rust-lang/rust/stargazers", "contributors_url": "https://api.github.com/repos/rust-lang/rust/contributors", "subscribers_url": "https://api.github.com/repos/rust-lang/rust/subscribers", "subscription_url": "https://api.github.com/repos/rust-lang/rust/subscription", "commits_url": "https://api.github.com/repos/rust-lang/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rust-lang/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rust-lang/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rust-lang/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rust-lang/rust/merges", "archive_url": "https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rust-lang/rust/downloads", "issues_url": "https://api.github.com/repos/rust-lang/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/rust-lang/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/rust-lang/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rust-lang/rust/labels{/name}", "releases_url": "https://api.github.com/repos/rust-lang/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/rust-lang/rust/deployments", "created_at": "2010-06-16T20:39:03Z", "updated_at": "2023-06-19T13:19:04Z", "pushed_at": "2023-06-19T13:40:39Z", "git_url": "git://github.com/rust-lang/rust.git", "ssh_url": "git@github.com:rust-lang/rust.git", "clone_url": "https://github.com/rust-lang/rust.git", "svn_url": "https://github.com/rust-lang/rust", "homepage": "https://www.rust-lang.org", "size": 920473, "stargazers_count": 82747, "watchers_count": 82747, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 10956, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 9632, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["compiler", "hacktoberfest", "language", "rust"], "visibility": "public", "forks": 10956, "open_issues": 9632, "watchers": 82747, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/93405"}, "html": {"href": "https://github.com/rust-lang/rust/pull/93405"}, "issue": {"href": "https://api.github.com/repos/rust-lang/rust/issues/93405"}, "comments": {"href": "https://api.github.com/repos/rust-lang/rust/issues/93405/comments"}, "review_comments": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/93405/comments"}, "review_comment": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/93405/commits"}, "statuses": {"href": "https://api.github.com/repos/rust-lang/rust/statuses/646350f12fec14626a7dde3c72ca12ab5391ac74"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": false, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": null, "comments": 19, "review_comments": 0, "maintainer_can_modify": false, "commits": 5, "additions": 103, "deletions": 461, "changed_files": 21}