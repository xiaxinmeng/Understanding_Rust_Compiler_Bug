{"url": "https://api.github.com/repos/rust-lang/rust/pulls/30095", "id": 52044616, "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwNDQ2MTY=", "html_url": "https://github.com/rust-lang/rust/pull/30095", "diff_url": "https://github.com/rust-lang/rust/pull/30095.diff", "patch_url": "https://github.com/rust-lang/rust/pull/30095.patch", "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30095", "number": 30095, "state": "closed", "locked": false, "title": "Improve OwnedSlice and use it in HIR", "user": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "body": "Most of the changes are to support switching between vector-like containers in HIR and beefing up `OwnedSlice`'s interface.\nThe actual change from `Vec` to `OwnedSlice` is [one line](https://github.com/petrochenkov/rust/blob/365e34c30ba5fb6c04684bd48ad90315f5918464/src/librustc_front/hir.rs#L54), and it can be changed back if necessary.\n\nMemory consumption for librustc, libcore and libstd is below under the spoilers - the changes are small, but consistent.\nlibcore is the most noticeable, 5.7% less memory immediately after lowering to HIR, 4% less memory during type checking.\n\n<details> \n  <summary>\n\nBefore:</summary>\n\n\n\n```\nrustc: x86_64-pc-windows-gnu/stage1/lib/rustlib/x86_64-pc-windows-gnu/lib/librustc\ntime: 0.149; rss: 61MB  parsing\ntime: 0.050; rss: 61MB  configuration 1\ntime: 0.000; rss: 61MB  recursion limit\ntime: 0.004; rss: 61MB  gated macro checking\ntime: 0.000; rss: 61MB  crate injection\ntime: 0.019; rss: 64MB  macro loading\ntime: 0.000; rss: 64MB  plugin loading\ntime: 0.000; rss: 64MB  plugin registration\ntime: 0.655; rss: 99MB  expansion\ntime: 0.026; rss: 99MB  complete gated feature checking 1\ntime: 0.111; rss: 99MB  configuration 2\ntime: 0.000; rss: 99MB  gated configuration checking\ntime: 0.059; rss: 100MB maybe building test harness\ntime: 0.054; rss: 100MB prelude injection\ntime: 0.013; rss: 100MB checking that all macro invocations are gone\ntime: 0.000; rss: 100MB checking for inline asm in case the target doesn't support it\ntime: 0.027; rss: 100MB complete gated feature checking 2\ntime: 0.058; rss: 100MB assigning node ids\ntime: 0.094; rss: 151MB lowering ast -> hir\ntime: 0.048; rss: 167MB indexing hir\ntime: 0.000; rss: 167MB attribute checking\ntime: 0.035; rss: 167MB early lint checks\ntime: 0.011; rss: 183MB external crate/lib resolution\ntime: 0.010; rss: 183MB language item collection\ntime: 0.219; rss: 233MB resolution\ntime: 0.019; rss: 233MB lifetime resolution\ntime: 0.000; rss: 233MB looking for entry point\ntime: 0.000; rss: 233MB looking for plugin registrar\ntime: 0.071; rss: 252MB region resolution\ntime: 0.010; rss: 252MB loop checking\ntime: 0.012; rss: 252MB static item recursion checking\ntime: 0.069; rss: 261MB type collecting\ntime: 0.002; rss: 261MB variance inference\ntime: 0.059; rss: 283MB coherence checking\ntime: 0.103; rss: 288MB wf checking (old)\ntime: 0.166; rss: 290MB item-types checking\ntime: 5.307; rss: 402MB item-bodies checking\ntime: 0.000; rss: 402MB drop-impl checking\ntime: 0.270; rss: 402MB wf checking (new)\ntime: 0.586; rss: 419MB const checking\ntime: 0.117; rss: 420MB privacy checking\ntime: 0.018; rss: 420MB stability index\ntime: 0.034; rss: 420MB intrinsic checking\ntime: 0.023; rss: 420MB effect checking\ntime: 0.093; rss: 420MB match checking\ntime: 0.430; rss: 486MB MIR dump\ntime: 0.068; rss: 487MB liveness checking\ntime: 0.613; rss: 488MB borrow checking\ntime: 0.327; rss: 489MB rvalue checking\ntime: 0.024; rss: 489MB reachability checking\ntime: 0.076; rss: 490MB death checking\ntime: 0.066; rss: 492MB stability checking\ntime: 0.000; rss: 492MB unused lib feature checking\ntime: 0.281; rss: 492MB lint checking\ntime: 0.001; rss: 492MB resolving dependency formats\ntime: 0.070; rss: 497MB erasing regions from MIR\ntime: 7.883; rss: 1028MB        translation\n  time: 1.817; rss: 549MB       llvm function passes [0]\n  time: 32.515; rss: 667MB      llvm module passes [0]\n  time: 10.598; rss: 685MB      codegen passes [0]\n  time: 0.004; rss: 166MB       codegen passes [0]\ntime: 45.969; rss: 161MB        LLVM passes\n  time: 0.612; rss: 161MB       running linker\ntime: 1.105; rss: 164MB linking\nrustc: x86_64-pc-windows-gnu/stage2/lib/rustlib/x86_64-pc-windows-gnu/lib/libcore\ntime: 0.089; rss: 41MB  parsing\ntime: 0.024; rss: 43MB  configuration 1\ntime: 0.000; rss: 43MB  recursion limit\ntime: 0.002; rss: 43MB  gated macro checking\ntime: 0.000; rss: 43MB  crate injection\ntime: 0.001; rss: 43MB  macro loading\ntime: 0.000; rss: 43MB  plugin loading\ntime: 0.000; rss: 43MB  plugin registration\ntime: 0.428; rss: 71MB  expansion\ntime: 0.012; rss: 71MB  complete gated feature checking 1\ntime: 0.090; rss: 71MB  configuration 2\ntime: 0.000; rss: 71MB  gated configuration checking\ntime: 0.047; rss: 71MB  maybe building test harness\ntime: 0.000; rss: 71MB  prelude injection\ntime: 0.005; rss: 71MB  checking that all macro invocations are gone\ntime: 0.000; rss: 71MB  checking for inline asm in case the target doesn't support it\ntime: 0.012; rss: 71MB  complete gated feature checking 2\ntime: 0.046; rss: 71MB  assigning node ids\ntime: 0.039; rss: 105MB lowering ast -> hir\ntime: 0.085; rss: 122MB indexing hir\ntime: 0.000; rss: 122MB attribute checking\ntime: 0.019; rss: 122MB early lint checks\ntime: 0.000; rss: 122MB external crate/lib resolution\ntime: 0.004; rss: 122MB language item collection\ntime: 0.076; rss: 139MB resolution\ntime: 0.011; rss: 139MB lifetime resolution\ntime: 0.000; rss: 139MB looking for entry point\ntime: 0.000; rss: 139MB looking for plugin registrar\ntime: 0.028; rss: 146MB region resolution\ntime: 0.003; rss: 146MB loop checking\ntime: 0.004; rss: 146MB static item recursion checking\ntime: 0.070; rss: 156MB type collecting\ntime: 0.001; rss: 156MB variance inference\ntime: 0.311; rss: 157MB coherence checking\ntime: 0.380; rss: 160MB wf checking (old)\ntime: 0.514; rss: 165MB item-types checking\ntime: 3.256; rss: 195MB item-bodies checking\ntime: 0.000; rss: 195MB drop-impl checking\ntime: 0.685; rss: 196MB wf checking (new)\ntime: 0.144; rss: 197MB const checking\ntime: 0.057; rss: 197MB privacy checking\ntime: 0.009; rss: 197MB stability index\ntime: 0.033; rss: 197MB intrinsic checking\ntime: 0.011; rss: 197MB effect checking\ntime: 0.052; rss: 197MB match checking\ntime: 0.178; rss: 218MB MIR dump\ntime: 0.024; rss: 219MB liveness checking\ntime: 0.285; rss: 219MB borrow checking\ntime: 0.146; rss: 219MB rvalue checking\ntime: 0.073; rss: 220MB reachability checking\ntime: 0.035; rss: 220MB death checking\ntime: 0.032; rss: 221MB stability checking\ntime: 0.000; rss: 221MB unused lib feature checking\ntime: 0.434; rss: 221MB lint checking\ntime: 0.000; rss: 221MB resolving dependency formats\ntime: 0.022; rss: 222MB erasing regions from MIR\ntime: 1.182; rss: 292MB translation\n  time: 0.157; rss: 171MB       llvm function passes [0]\n  time: 1.464; rss: 180MB       llvm module passes [0]\n  time: 1.217; rss: 183MB       codegen passes [0]\n  time: 0.004; rss: 148MB       codegen passes [0]\ntime: 2.897; rss: 143MB LLVM passes\ntime: 0.051; rss: 143MB linking\nrustc: x86_64-pc-windows-gnu/stage2/lib/rustlib/x86_64-pc-windows-gnu/lib/libstd\ntime: 0.143; rss: 60MB  parsing\ntime: 0.041; rss: 62MB  configuration 1\ntime: 0.000; rss: 62MB  recursion limit\ntime: 0.002; rss: 62MB  gated macro checking\ntime: 0.000; rss: 62MB  crate injection\ntime: 0.006; rss: 63MB  macro loading\ntime: 0.000; rss: 63MB  plugin loading\ntime: 0.000; rss: 63MB  plugin registration\ntime: 0.165; rss: 64MB  expansion\ntime: 0.007; rss: 64MB  complete gated feature checking 1\ntime: 0.039; rss: 64MB  configuration 2\ntime: 0.000; rss: 64MB  gated configuration checking\ntime: 0.020; rss: 64MB  maybe building test harness\ntime: 0.019; rss: 64MB  prelude injection\ntime: 0.003; rss: 64MB  checking that all macro invocations are gone\ntime: 0.000; rss: 64MB  checking for inline asm in case the target doesn't support it\ntime: 0.007; rss: 64MB  complete gated feature checking 2\ntime: 0.020; rss: 64MB  assigning node ids\ntime: 0.021; rss: 72MB  lowering ast -> hir\ntime: 0.012; rss: 80MB  indexing hir\ntime: 0.000; rss: 80MB  attribute checking\ntime: 0.010; rss: 80MB  early lint checks\ntime: 0.003; rss: 80MB  external crate/lib resolution\ntime: 0.002; rss: 80MB  language item collection\ntime: 0.057; rss: 106MB resolution\ntime: 0.004; rss: 106MB lifetime resolution\ntime: 0.000; rss: 106MB looking for entry point\ntime: 0.000; rss: 106MB looking for plugin registrar\ntime: 0.014; rss: 111MB region resolution\ntime: 0.002; rss: 111MB loop checking\ntime: 0.002; rss: 111MB static item recursion checking\ntime: 0.025; rss: 112MB type collecting\ntime: 0.001; rss: 112MB variance inference\ntime: 0.035; rss: 122MB coherence checking\ntime: 0.043; rss: 123MB wf checking (old)\ntime: 0.065; rss: 126MB item-types checking\ntime: 1.068; rss: 153MB item-bodies checking\ntime: 0.000; rss: 153MB drop-impl checking\ntime: 0.111; rss: 153MB wf checking (new)\ntime: 0.109; rss: 154MB const checking\ntime: 0.026; rss: 155MB privacy checking\ntime: 0.004; rss: 155MB stability index\ntime: 0.010; rss: 155MB intrinsic checking\ntime: 0.005; rss: 155MB effect checking\ntime: 0.026; rss: 155MB match checking\ntime: 0.117; rss: 171MB MIR dump\ntime: 0.014; rss: 172MB liveness checking\ntime: 0.185; rss: 172MB borrow checking\ntime: 0.127; rss: 172MB rvalue checking\ntime: 0.009; rss: 172MB reachability checking\ntime: 0.016; rss: 172MB death checking\ntime: 0.016; rss: 173MB stability checking\ntime: 0.000; rss: 173MB unused lib feature checking\ntime: 0.096; rss: 173MB lint checking\ntime: 0.000; rss: 173MB resolving dependency formats\ntime: 0.015; rss: 175MB erasing regions from MIR\ntime: 0.987; rss: 267MB translation\n  time: 0.202; rss: 213MB       llvm function passes [0]\n  time: 3.011; rss: 228MB       llvm module passes [0]\n  time: 1.258; rss: 233MB       codegen passes [0]\n  time: 0.004; rss: 178MB       codegen passes [0]\ntime: 4.568; rss: 175MB LLVM passes\n  time: 0.003; rss: 175MB       altering collections-71b07a99.rlib\n  time: 0.001; rss: 175MB       altering alloc-71b07a99.rlib\n  time: 0.009; rss: 175MB       altering rustc_unicode-71b07a99.rlib\n  time: 0.003; rss: 175MB       altering alloc_jemalloc-71b07a99.rlib\n  time: 0.001; rss: 175MB       altering libc-71b07a99.rlib\n  time: 0.003; rss: 175MB       altering rand-71b07a99.rlib\n  time: 0.004; rss: 175MB       altering core-71b07a99.rlib\n  time: 0.249; rss: 176MB       running linker\ntime: 0.343; rss: 176MB linking\n```\n\n</details>\n<details> \n  <summary>\n\nAfter:</summary>\n\n\n\n```\nrustc: x86_64-pc-windows-gnu/stage1/lib/rustlib/x86_64-pc-windows-gnu/lib/librustc\ntime: 0.148; rss: 61MB  parsing\ntime: 0.050; rss: 61MB  configuration 1\ntime: 0.000; rss: 61MB  recursion limit\ntime: 0.005; rss: 62MB  gated macro checking\ntime: 0.000; rss: 62MB  crate injection\ntime: 0.018; rss: 64MB  macro loading\ntime: 0.000; rss: 64MB  plugin loading\ntime: 0.000; rss: 64MB  plugin registration\ntime: 0.668; rss: 100MB expansion\ntime: 0.026; rss: 100MB complete gated feature checking 1\ntime: 0.112; rss: 100MB configuration 2\ntime: 0.000; rss: 100MB gated configuration checking\ntime: 0.059; rss: 100MB maybe building test harness\ntime: 0.054; rss: 100MB prelude injection\ntime: 0.013; rss: 100MB checking that all macro invocations are gone\ntime: 0.000; rss: 100MB checking for inline asm in case the target doesn't support it\ntime: 0.028; rss: 100MB complete gated feature checking 2\ntime: 0.057; rss: 100MB assigning node ids\ntime: 0.080; rss: 148MB lowering ast -> hir\ntime: 0.045; rss: 164MB indexing hir\ntime: 0.000; rss: 164MB attribute checking\ntime: 0.035; rss: 164MB early lint checks\ntime: 0.011; rss: 180MB external crate/lib resolution\ntime: 0.010; rss: 180MB language item collection\ntime: 0.211; rss: 231MB resolution\ntime: 0.017; rss: 231MB lifetime resolution\ntime: 0.000; rss: 231MB looking for entry point\ntime: 0.000; rss: 231MB looking for plugin registrar\ntime: 0.066; rss: 249MB region resolution\ntime: 0.008; rss: 249MB loop checking\ntime: 0.009; rss: 249MB static item recursion checking\ntime: 0.066; rss: 257MB type collecting\ntime: 0.002; rss: 257MB variance inference\ntime: 0.058; rss: 281MB coherence checking\ntime: 0.100; rss: 286MB wf checking (old)\ntime: 0.164; rss: 288MB item-types checking\ntime: 5.349; rss: 399MB item-bodies checking\ntime: 0.000; rss: 399MB drop-impl checking\ntime: 0.274; rss: 400MB wf checking (new)\ntime: 0.387; rss: 417MB const checking\ntime: 0.115; rss: 417MB privacy checking\ntime: 0.016; rss: 417MB stability index\ntime: 0.036; rss: 417MB intrinsic checking\ntime: 0.026; rss: 417MB effect checking\ntime: 0.093; rss: 417MB match checking\ntime: 0.430; rss: 483MB MIR dump\ntime: 0.065; rss: 484MB liveness checking\ntime: 0.619; rss: 485MB borrow checking\ntime: 0.341; rss: 486MB rvalue checking\ntime: 0.023; rss: 486MB reachability checking\ntime: 0.075; rss: 487MB death checking\ntime: 0.068; rss: 489MB stability checking\ntime: 0.000; rss: 489MB unused lib feature checking\ntime: 0.282; rss: 489MB lint checking\ntime: 0.002; rss: 489MB resolving dependency formats\ntime: 0.071; rss: 493MB erasing regions from MIR\ntime: 7.926; rss: 1014MB        translation\n  time: 1.861; rss: 549MB       llvm function passes [0]\n  time: 32.975; rss: 665MB      llvm module passes [0]\n  time: 10.806; rss: 667MB      codegen passes [0]\n  time: 0.004; rss: 166MB       codegen passes [0]\ntime: 46.722; rss: 160MB        LLVM passes\n  time: 0.626; rss: 160MB       running linker\ntime: 1.142; rss: 163MB linking\nrustc: x86_64-pc-windows-gnu/stage2/lib/rustlib/x86_64-pc-windows-gnu/lib/libcore\ntime: 0.072; rss: 42MB  parsing\ntime: 0.026; rss: 43MB  configuration 1\ntime: 0.000; rss: 43MB  recursion limit\ntime: 0.002; rss: 43MB  gated macro checking\ntime: 0.000; rss: 43MB  crate injection\ntime: 0.001; rss: 43MB  macro loading\ntime: 0.000; rss: 43MB  plugin loading\ntime: 0.000; rss: 43MB  plugin registration\ntime: 0.435; rss: 71MB  expansion\ntime: 0.010; rss: 71MB  complete gated feature checking 1\ntime: 0.093; rss: 71MB  configuration 2\ntime: 0.000; rss: 71MB  gated configuration checking\ntime: 0.045; rss: 71MB  maybe building test harness\ntime: 0.000; rss: 71MB  prelude injection\ntime: 0.005; rss: 71MB  checking that all macro invocations are gone\ntime: 0.000; rss: 71MB  checking for inline asm in case the target doesn't support it\ntime: 0.013; rss: 71MB  complete gated feature checking 2\ntime: 0.046; rss: 71MB  assigning node ids\ntime: 0.036; rss: 99MB  lowering ast -> hir\ntime: 0.084; rss: 116MB indexing hir\ntime: 0.000; rss: 116MB attribute checking\ntime: 0.018; rss: 116MB early lint checks\ntime: 0.000; rss: 116MB external crate/lib resolution\ntime: 0.003; rss: 116MB language item collection\ntime: 0.076; rss: 131MB resolution\ntime: 0.010; rss: 131MB lifetime resolution\ntime: 0.000; rss: 131MB looking for entry point\ntime: 0.000; rss: 131MB looking for plugin registrar\ntime: 0.029; rss: 141MB region resolution\ntime: 0.003; rss: 141MB loop checking\ntime: 0.003; rss: 141MB static item recursion checking\ntime: 0.068; rss: 149MB type collecting\ntime: 0.001; rss: 150MB variance inference\ntime: 0.313; rss: 151MB coherence checking\ntime: 0.403; rss: 154MB wf checking (old)\ntime: 0.543; rss: 158MB item-types checking\ntime: 3.340; rss: 187MB item-bodies checking\ntime: 0.000; rss: 187MB drop-impl checking\ntime: 0.689; rss: 188MB wf checking (new)\ntime: 0.144; rss: 189MB const checking\ntime: 0.055; rss: 189MB privacy checking\ntime: 0.008; rss: 189MB stability index\ntime: 0.032; rss: 189MB intrinsic checking\ntime: 0.010; rss: 189MB effect checking\ntime: 0.051; rss: 189MB match checking\ntime: 0.178; rss: 212MB MIR dump\ntime: 0.024; rss: 213MB liveness checking\ntime: 0.284; rss: 213MB borrow checking\ntime: 0.147; rss: 213MB rvalue checking\ntime: 0.073; rss: 214MB reachability checking\ntime: 0.033; rss: 214MB death checking\ntime: 0.032; rss: 215MB stability checking\ntime: 0.000; rss: 215MB unused lib feature checking\ntime: 0.436; rss: 215MB lint checking\ntime: 0.000; rss: 215MB resolving dependency formats\ntime: 0.023; rss: 217MB erasing regions from MIR\ntime: 1.166; rss: 288MB translation\n  time: 0.148; rss: 176MB       llvm function passes [0]\n  time: 1.406; rss: 185MB       llvm module passes [0]\n  time: 1.199; rss: 187MB       codegen passes [0]\n  time: 0.005; rss: 151MB       codegen passes [0]\ntime: 2.814; rss: 147MB LLVM passes\ntime: 0.048; rss: 147MB linking\nrustc: x86_64-pc-windows-gnu/stage2/lib/rustlib/x86_64-pc-windows-gnu/lib/libstd\ntime: 0.152; rss: 60MB  parsing\ntime: 0.043; rss: 62MB  configuration 1\ntime: 0.000; rss: 62MB  recursion limit\ntime: 0.002; rss: 62MB  gated macro checking\ntime: 0.000; rss: 62MB  crate injection\ntime: 0.006; rss: 63MB  macro loading\ntime: 0.000; rss: 63MB  plugin loading\ntime: 0.000; rss: 63MB  plugin registration\ntime: 0.179; rss: 64MB  expansion\ntime: 0.007; rss: 64MB  complete gated feature checking 1\ntime: 0.039; rss: 64MB  configuration 2\ntime: 0.000; rss: 64MB  gated configuration checking\ntime: 0.020; rss: 64MB  maybe building test harness\ntime: 0.019; rss: 64MB  prelude injection\ntime: 0.003; rss: 64MB  checking that all macro invocations are gone\ntime: 0.000; rss: 64MB  checking for inline asm in case the target doesn't support it\ntime: 0.008; rss: 64MB  complete gated feature checking 2\ntime: 0.020; rss: 64MB  assigning node ids\ntime: 0.024; rss: 69MB  lowering ast -> hir\ntime: 0.012; rss: 76MB  indexing hir\ntime: 0.000; rss: 76MB  attribute checking\ntime: 0.012; rss: 76MB  early lint checks\ntime: 0.003; rss: 77MB  external crate/lib resolution\ntime: 0.002; rss: 77MB  language item collection\ntime: 0.057; rss: 103MB resolution\ntime: 0.004; rss: 103MB lifetime resolution\ntime: 0.000; rss: 103MB looking for entry point\ntime: 0.000; rss: 103MB looking for plugin registrar\ntime: 0.013; rss: 107MB region resolution\ntime: 0.002; rss: 107MB loop checking\ntime: 0.002; rss: 107MB static item recursion checking\ntime: 0.024; rss: 108MB type collecting\ntime: 0.001; rss: 108MB variance inference\ntime: 0.033; rss: 119MB coherence checking\ntime: 0.044; rss: 120MB wf checking (old)\ntime: 0.065; rss: 122MB item-types checking\ntime: 1.113; rss: 151MB item-bodies checking\ntime: 0.000; rss: 151MB drop-impl checking\ntime: 0.120; rss: 151MB wf checking (new)\ntime: 0.106; rss: 153MB const checking\ntime: 0.023; rss: 153MB privacy checking\ntime: 0.003; rss: 153MB stability index\ntime: 0.010; rss: 153MB intrinsic checking\ntime: 0.005; rss: 153MB effect checking\ntime: 0.025; rss: 153MB match checking\ntime: 0.122; rss: 169MB MIR dump\ntime: 0.013; rss: 170MB liveness checking\ntime: 0.211; rss: 170MB borrow checking\ntime: 0.127; rss: 170MB rvalue checking\ntime: 0.007; rss: 170MB reachability checking\ntime: 0.017; rss: 170MB death checking\ntime: 0.016; rss: 171MB stability checking\ntime: 0.000; rss: 171MB unused lib feature checking\ntime: 0.087; rss: 171MB lint checking\ntime: 0.000; rss: 171MB resolving dependency formats\ntime: 0.017; rss: 172MB erasing regions from MIR\ntime: 1.039; rss: 264MB translation\n  time: 0.212; rss: 214MB       llvm function passes [0]\n  time: 3.120; rss: 227MB       llvm module passes [0]\n  time: 1.344; rss: 233MB       codegen passes [0]\n  time: 0.003; rss: 178MB       codegen passes [0]\ntime: 4.772; rss: 175MB LLVM passes\n  time: 0.003; rss: 175MB       altering collections-71b07a99.rlib\n  time: 0.001; rss: 175MB       altering alloc-71b07a99.rlib\n  time: 0.006; rss: 175MB       altering rustc_unicode-71b07a99.rlib\n  time: 0.003; rss: 175MB       altering alloc_jemalloc-71b07a99.rlib\n  time: 0.001; rss: 175MB       altering libc-71b07a99.rlib\n  time: 0.002; rss: 175MB       altering rand-71b07a99.rlib\n  time: 0.003; rss: 175MB       altering core-71b07a99.rlib\n  time: 0.260; rss: 175MB       running linker\ntime: 0.346; rss: 175MB linking\n```\n\n</details>\n\nr? @nrc or @eddyb \n", "created_at": "2015-11-28T17:26:56Z", "updated_at": "2016-09-21T19:45:15Z", "closed_at": "2015-12-19T16:22:52Z", "merged_at": null, "merge_commit_sha": "bb5fdac851793a1a81d6189ae82846eea1fdf602", "assignee": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/rust-lang/rust/pulls/30095/commits", "review_comments_url": "https://api.github.com/repos/rust-lang/rust/pulls/30095/comments", "review_comment_url": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30095/comments", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/2730981fe8287a7ff08e6b82880994ddc34dc1bf", "head": {"label": "petrochenkov:owned", "ref": "owned", "sha": "2730981fe8287a7ff08e6b82880994ddc34dc1bf", "user": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "repo": {"id": 26977039, "node_id": "MDEwOlJlcG9zaXRvcnkyNjk3NzAzOQ==", "name": "rust", "full_name": "petrochenkov/rust", "private": false, "owner": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/petrochenkov/rust", "description": "a safe, concurrent, practical language", "fork": true, "url": "https://api.github.com/repos/petrochenkov/rust", "forks_url": "https://api.github.com/repos/petrochenkov/rust/forks", "keys_url": "https://api.github.com/repos/petrochenkov/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/petrochenkov/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/petrochenkov/rust/teams", "hooks_url": "https://api.github.com/repos/petrochenkov/rust/hooks", "issue_events_url": "https://api.github.com/repos/petrochenkov/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/petrochenkov/rust/events", "assignees_url": "https://api.github.com/repos/petrochenkov/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/petrochenkov/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/petrochenkov/rust/tags", "blobs_url": "https://api.github.com/repos/petrochenkov/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/petrochenkov/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/petrochenkov/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/petrochenkov/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/petrochenkov/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/petrochenkov/rust/languages", "stargazers_url": "https://api.github.com/repos/petrochenkov/rust/stargazers", "contributors_url": "https://api.github.com/repos/petrochenkov/rust/contributors", "subscribers_url": "https://api.github.com/repos/petrochenkov/rust/subscribers", "subscription_url": "https://api.github.com/repos/petrochenkov/rust/subscription", "commits_url": "https://api.github.com/repos/petrochenkov/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/petrochenkov/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/petrochenkov/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/petrochenkov/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/petrochenkov/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/petrochenkov/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/petrochenkov/rust/merges", "archive_url": "https://api.github.com/repos/petrochenkov/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/petrochenkov/rust/downloads", "issues_url": "https://api.github.com/repos/petrochenkov/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/petrochenkov/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/petrochenkov/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/petrochenkov/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/petrochenkov/rust/labels{/name}", "releases_url": "https://api.github.com/repos/petrochenkov/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/petrochenkov/rust/deployments", "created_at": "2014-11-21T20:39:20Z", "updated_at": "2022-12-07T18:05:33Z", "pushed_at": "2023-06-16T22:08:50Z", "git_url": "git://github.com/petrochenkov/rust.git", "ssh_url": "git@github.com:petrochenkov/rust.git", "clone_url": "https://github.com/petrochenkov/rust.git", "svn_url": "https://github.com/petrochenkov/rust", "homepage": "https://prev.rust-lang.org", "size": 883215, "stargazers_count": 1, "watchers_count": 1, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 1, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 1, "open_issues": 0, "watchers": 1, "default_branch": "master"}}, "base": {"label": "rust-lang:master", "ref": "master", "sha": "29ea4eef9fa6e36f40bc1f31eb1e56bf5941ee72", "user": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 724712, "node_id": "MDEwOlJlcG9zaXRvcnk3MjQ3MTI=", "name": "rust", "full_name": "rust-lang/rust", "private": false, "owner": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/rust-lang/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": false, "url": "https://api.github.com/repos/rust-lang/rust", "forks_url": "https://api.github.com/repos/rust-lang/rust/forks", "keys_url": "https://api.github.com/repos/rust-lang/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rust-lang/rust/teams", "hooks_url": "https://api.github.com/repos/rust-lang/rust/hooks", "issue_events_url": "https://api.github.com/repos/rust-lang/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/rust-lang/rust/events", "assignees_url": "https://api.github.com/repos/rust-lang/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/rust-lang/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/rust-lang/rust/tags", "blobs_url": "https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rust-lang/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rust-lang/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rust-lang/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/rust-lang/rust/languages", "stargazers_url": "https://api.github.com/repos/rust-lang/rust/stargazers", "contributors_url": "https://api.github.com/repos/rust-lang/rust/contributors", "subscribers_url": "https://api.github.com/repos/rust-lang/rust/subscribers", "subscription_url": "https://api.github.com/repos/rust-lang/rust/subscription", "commits_url": "https://api.github.com/repos/rust-lang/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rust-lang/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rust-lang/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rust-lang/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rust-lang/rust/merges", "archive_url": "https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rust-lang/rust/downloads", "issues_url": "https://api.github.com/repos/rust-lang/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/rust-lang/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/rust-lang/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rust-lang/rust/labels{/name}", "releases_url": "https://api.github.com/repos/rust-lang/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/rust-lang/rust/deployments", "created_at": "2010-06-16T20:39:03Z", "updated_at": "2023-06-19T06:22:53Z", "pushed_at": "2023-06-19T06:22:45Z", "git_url": "git://github.com/rust-lang/rust.git", "ssh_url": "git@github.com:rust-lang/rust.git", "clone_url": "https://github.com/rust-lang/rust.git", "svn_url": "https://github.com/rust-lang/rust", "homepage": "https://www.rust-lang.org", "size": 919635, "stargazers_count": 82735, "watchers_count": 82735, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 10953, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 9628, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["compiler", "hacktoberfest", "language", "rust"], "visibility": "public", "forks": 10953, "open_issues": 9628, "watchers": 82735, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/30095"}, "html": {"href": "https://github.com/rust-lang/rust/pull/30095"}, "issue": {"href": "https://api.github.com/repos/rust-lang/rust/issues/30095"}, "comments": {"href": "https://api.github.com/repos/rust-lang/rust/issues/30095/comments"}, "review_comments": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/30095/comments"}, "review_comment": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/30095/commits"}, "statuses": {"href": "https://api.github.com/repos/rust-lang/rust/statuses/2730981fe8287a7ff08e6b82880994ddc34dc1bf"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": false, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": null, "comments": 21, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 222, "deletions": 154, "changed_files": 23}