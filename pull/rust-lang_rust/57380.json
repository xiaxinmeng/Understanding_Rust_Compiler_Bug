{"url": "https://api.github.com/repos/rust-lang/rust/pulls/57380", "id": 242511092, "node_id": "MDExOlB1bGxSZXF1ZXN0MjQyNTExMDky", "html_url": "https://github.com/rust-lang/rust/pull/57380", "diff_url": "https://github.com/rust-lang/rust/pull/57380.diff", "patch_url": "https://github.com/rust-lang/rust/pull/57380.patch", "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/57380", "number": 57380, "state": "closed", "locked": false, "title": "Fix Instant/Duration math precision & associativity on Windows", "user": {"login": "bearcage", "id": 596042, "node_id": "MDQ6VXNlcjU5NjA0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/596042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bearcage", "html_url": "https://github.com/bearcage", "followers_url": "https://api.github.com/users/bearcage/followers", "following_url": "https://api.github.com/users/bearcage/following{/other_user}", "gists_url": "https://api.github.com/users/bearcage/gists{/gist_id}", "starred_url": "https://api.github.com/users/bearcage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bearcage/subscriptions", "organizations_url": "https://api.github.com/users/bearcage/orgs", "repos_url": "https://api.github.com/users/bearcage/repos", "events_url": "https://api.github.com/users/bearcage/events{/privacy}", "received_events_url": "https://api.github.com/users/bearcage/received_events", "type": "User", "site_admin": false}, "body": "**tl;dr** Addition and subtraction on Duration/Instant are not associative on windows because we use the perfcounter frequency in every calculation instead of just when we measure time.\r\n\r\nThis is my first contrib (PR or Issue) to Rust, so please lmk if I've done this wrong. I followed CONTRIBUTING to the extent I could given my system doesn't seem to be able to build the compiler with changes in the source tree. I also asked about this issue in #rust-beginners a week or so ago, before digging through libstd -- I'm unsure if there's a good way to follow up on that, but I'd be happy to update the docs on the timing structs if this fixes the problem.\r\n\r\n\r\n## Issue\r\n\r\nThe `Duration` type keeps seconds in the upper-64 and nanoseconds in the lower-32 bits. In theory doing math on these ought to be basically the same as doing math on any other 64 or 32 bit integral number.\r\n\r\nOn windows (and I think macos too), however, our math gets messy because the Instant type stores the current point in time in units of HPET Performance Counter counts, not nanoseconds, and does unit conversions on every math operation, rather than just when we measure the time from the system clock.\r\n\r\nI tried this code:\r\n\r\n```\r\nuse std::time::{Duration, Instant};\r\n\r\nfn main() {\r\n    let now = Instant::now();\r\n    let offset = Duration::from_millis(5);\r\n    assert_eq!((now + offset) - now, (now - now) + offset);\r\n}\r\n```\r\n\r\nOn UNIX machines (linux and macos) it behaves as you'd expect -- [no crash](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=cf2206c0b7e07d8ecc7767a512364094).\r\n\r\nOn Windows hosts, however, it blows up because of a precision problem in the Instant +/- Duration math:\r\n\r\n```\r\nC:\\Users\\aberg\\work\\timetest (master -> origin)\r\n\u03bb cargo run\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.02s\r\n     Running `target\\debug\\timetest.exe`\r\nthread 'main' panicked at 'assertion failed: `(left == right)`\r\n  left: `4.999914ms`,\r\n right: `5ms`', src\\main.rs:6:5\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\nerror: process didn't exit successfully: `target\\debug\\timetest.exe` (exit code: 101)\r\n\r\nC:\\Users\\aberg\\work\\timetest (master -> origin)\r\n\u03bb cat src\\main.rs\r\nuse std::time::{Duration, Instant};\r\n\r\nfn main() {\r\n    let now = Instant::now();\r\n    let offset = Duration::from_millis(5);\r\n    assert_eq!((now + offset) - now, (now - now) + offset);\r\n}\r\n```\r\n\r\nOn windows I think this is a consequence of doing the HPET-PerfCounter-Unit conversion on each math operation. I suspect the reason it works on macs is that (from what I could find online) most apple machines report timing in nanoseconds anyway. For anyone interested, the equivalent functions on macos, with a little work to fish out the numerator/denominator from a timebase struct:\r\n\r\n* `QueryPerformanceCounter()` -> `mach_absolute_time()`\r\n* `QueryPerformanceFrequency()` -> `mach_timebase_info()`\r\n\r\nIf this PR ends up working as I expect it to when CI runs the tests, I can make the same changes to the macos implementation.\r\n\r\n\r\n## Potential Fix\r\n\r\nWe ought to be able to sort this out by storing nanoseconds, rather than PerfCounter units, that way intermediate math is done in the most precise units we support and we're only doing unit conversions when we actually measure the system clock (and it might even translate to a small perf gain for people doing tons of Instant/Duration math).\r\n\r\nI believe this will address the underlying cause of #56034, and make the guessed epsilon constant from #56059 unnecessary. If it's of interest, I can write up how these timing types work on the tier 1 platforms to address #32626 as well, since I'm already in here figuring it out.\r\n\r\n\r\n## This Patch\r\n\r\nTo that end, I've got this patch, which I think should fix it on windows, but I'm having trouble testing it -- any time I change anything in libstd I start getting this error, which no amount of clean building seems to resolve:\r\n\r\n```\r\nC:\\Users\\aberg\\work\\rust (master -> origin)\r\n\u03bb python x.py test --stage 0 --no-doc src/libstd\r\nUpdating only changed submodules\r\nSubmodules updated in 0.27 seconds\r\n    Finished dev [unoptimized] target(s) in 2.41s\r\nBuilding stage0 std artifacts (x86_64-pc-windows-msvc -> x86_64-pc-windows-msvc)\r\n    Finished release [optimized] target(s) in 6.78s\r\nCopying stage0 std from stage0 (x86_64-pc-windows-msvc -> x86_64-pc-windows-msvc / x86_64-pc-windows-msvc)\r\nBuilding stage0 test artifacts (x86_64-pc-windows-msvc -> x86_64-pc-windows-msvc)\r\n   Compiling test v0.0.0 (C:\\Users\\aberg\\work\\rust\\src\\libtest)\r\nerror[E0460]: found possibly newer version of crate `std` which `getopts` depends on\r\n  --> src\\libtest\\lib.rs:36:1\r\n   |\r\n36 | extern crate getopts;\r\n   | ^^^^^^^^^^^^^^^^^^^^^\r\n   |\r\n   = note: perhaps that crate needs to be recompiled?\r\n   = note: the following crate versions were found:\r\n           crate `std`: \\\\?\\C:\\Users\\aberg\\work\\rust\\build\\x86_64-pc-windows-msvc\\stage0-sysroot\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libstd-d7a80ca2ae113c97.rlib\r\n           crate `std`: \\\\?\\C:\\Users\\aberg\\work\\rust\\build\\x86_64-pc-windows-msvc\\stage0-sysroot\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\std-d7a80ca2ae113c97.dll\r\n           crate `getopts`: \\\\?\\C:\\Users\\aberg\\work\\rust\\build\\x86_64-pc-windows-msvc\\stage0-test\\x86_64-pc-windows-msvc\\release\\deps\\libgetopts-ae40a96de5f5d144.rlib\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0460`.\r\nerror: Could not compile `test`.\r\n\r\nTo learn more, run the command again with --verbose.\r\ncommand did not execute successfully: \"C:\\\\Users\\\\aberg\\\\work\\\\rust\\\\build\\\\x86_64-pc-windows-msvc\\\\stage0\\\\bin\\\\cargo.exe\" \"build\" \"--target\" \"x86_64-pc-windows-msvc\" \"-j\" \"12\" \"--release\" \"--manifest-path\" \"C:\\\\Users\\\\aberg\\\\work\\\\rust\\\\src/libtest/Cargo.toml\" \"--message-format\" \"json\"\r\nexpected success, got: exit code: 101\r\nfailed to run: C:\\Users\\aberg\\work\\rust\\build\\bootstrap\\debug\\bootstrap test --stage 0 --no-doc src/libstd\r\nBuild completed unsuccessfully in 0:00:20\r\n```\r\n\r\n---\r\n\r\nSince you wrote the linked PRs and might remember looking at related problems:\r\n\r\nr? @alexcrichton\r\n", "created_at": "2019-01-06T19:05:45Z", "updated_at": "2019-01-25T00:27:44Z", "closed_at": "2019-01-25T00:27:44Z", "merged_at": "2019-01-25T00:27:44Z", "merge_commit_sha": "14ce5364de3bf7d2da59fbe52360459c0f2c6ada", "assignee": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 583437191, "node_id": "MDU6TGFiZWw1ODM0MzcxOTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-bors", "name": "S-waiting-on-bors", "color": "d3dddd", "default": false, "description": "Status: Waiting on bors to run and complete tests. Bors will change the label on completion."}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/rust-lang/rust/pulls/57380/commits", "review_comments_url": "https://api.github.com/repos/rust-lang/rust/pulls/57380/comments", "review_comment_url": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57380/comments", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/14ce5364de3bf7d2da59fbe52360459c0f2c6ada", "head": {"label": "bearcage:master", "ref": "master", "sha": "14ce5364de3bf7d2da59fbe52360459c0f2c6ada", "user": {"login": "bearcage", "id": 596042, "node_id": "MDQ6VXNlcjU5NjA0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/596042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bearcage", "html_url": "https://github.com/bearcage", "followers_url": "https://api.github.com/users/bearcage/followers", "following_url": "https://api.github.com/users/bearcage/following{/other_user}", "gists_url": "https://api.github.com/users/bearcage/gists{/gist_id}", "starred_url": "https://api.github.com/users/bearcage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bearcage/subscriptions", "organizations_url": "https://api.github.com/users/bearcage/orgs", "repos_url": "https://api.github.com/users/bearcage/repos", "events_url": "https://api.github.com/users/bearcage/events{/privacy}", "received_events_url": "https://api.github.com/users/bearcage/received_events", "type": "User", "site_admin": false}, "repo": {"id": 163705453, "node_id": "MDEwOlJlcG9zaXRvcnkxNjM3MDU0NTM=", "name": "rust", "full_name": "bearcage/rust", "private": false, "owner": {"login": "bearcage", "id": 596042, "node_id": "MDQ6VXNlcjU5NjA0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/596042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bearcage", "html_url": "https://github.com/bearcage", "followers_url": "https://api.github.com/users/bearcage/followers", "following_url": "https://api.github.com/users/bearcage/following{/other_user}", "gists_url": "https://api.github.com/users/bearcage/gists{/gist_id}", "starred_url": "https://api.github.com/users/bearcage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bearcage/subscriptions", "organizations_url": "https://api.github.com/users/bearcage/orgs", "repos_url": "https://api.github.com/users/bearcage/repos", "events_url": "https://api.github.com/users/bearcage/events{/privacy}", "received_events_url": "https://api.github.com/users/bearcage/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/bearcage/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": true, "url": "https://api.github.com/repos/bearcage/rust", "forks_url": "https://api.github.com/repos/bearcage/rust/forks", "keys_url": "https://api.github.com/repos/bearcage/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/bearcage/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/bearcage/rust/teams", "hooks_url": "https://api.github.com/repos/bearcage/rust/hooks", "issue_events_url": "https://api.github.com/repos/bearcage/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/bearcage/rust/events", "assignees_url": "https://api.github.com/repos/bearcage/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/bearcage/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/bearcage/rust/tags", "blobs_url": "https://api.github.com/repos/bearcage/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/bearcage/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/bearcage/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/bearcage/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/bearcage/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/bearcage/rust/languages", "stargazers_url": "https://api.github.com/repos/bearcage/rust/stargazers", "contributors_url": "https://api.github.com/repos/bearcage/rust/contributors", "subscribers_url": "https://api.github.com/repos/bearcage/rust/subscribers", "subscription_url": "https://api.github.com/repos/bearcage/rust/subscription", "commits_url": "https://api.github.com/repos/bearcage/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/bearcage/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/bearcage/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/bearcage/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/bearcage/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/bearcage/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/bearcage/rust/merges", "archive_url": "https://api.github.com/repos/bearcage/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/bearcage/rust/downloads", "issues_url": "https://api.github.com/repos/bearcage/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/bearcage/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/bearcage/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/bearcage/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/bearcage/rust/labels{/name}", "releases_url": "https://api.github.com/repos/bearcage/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/bearcage/rust/deployments", "created_at": "2019-01-01T00:46:43Z", "updated_at": "2019-01-24T04:36:51Z", "pushed_at": "2019-01-24T04:36:46Z", "git_url": "git://github.com/bearcage/rust.git", "ssh_url": "git@github.com:bearcage/rust.git", "clone_url": "https://github.com/bearcage/rust.git", "svn_url": "https://github.com/bearcage/rust", "homepage": "https://www.rust-lang.org", "size": 415542, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "rust-lang:master", "ref": "master", "sha": "6bba352cad2117f56353d400f71e96eafa2e6bd7", "user": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 724712, "node_id": "MDEwOlJlcG9zaXRvcnk3MjQ3MTI=", "name": "rust", "full_name": "rust-lang/rust", "private": false, "owner": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/rust-lang/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": false, "url": "https://api.github.com/repos/rust-lang/rust", "forks_url": "https://api.github.com/repos/rust-lang/rust/forks", "keys_url": "https://api.github.com/repos/rust-lang/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rust-lang/rust/teams", "hooks_url": "https://api.github.com/repos/rust-lang/rust/hooks", "issue_events_url": "https://api.github.com/repos/rust-lang/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/rust-lang/rust/events", "assignees_url": "https://api.github.com/repos/rust-lang/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/rust-lang/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/rust-lang/rust/tags", "blobs_url": "https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rust-lang/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rust-lang/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rust-lang/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/rust-lang/rust/languages", "stargazers_url": "https://api.github.com/repos/rust-lang/rust/stargazers", "contributors_url": "https://api.github.com/repos/rust-lang/rust/contributors", "subscribers_url": "https://api.github.com/repos/rust-lang/rust/subscribers", "subscription_url": "https://api.github.com/repos/rust-lang/rust/subscription", "commits_url": "https://api.github.com/repos/rust-lang/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rust-lang/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rust-lang/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rust-lang/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rust-lang/rust/merges", "archive_url": "https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rust-lang/rust/downloads", "issues_url": "https://api.github.com/repos/rust-lang/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/rust-lang/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/rust-lang/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rust-lang/rust/labels{/name}", "releases_url": "https://api.github.com/repos/rust-lang/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/rust-lang/rust/deployments", "created_at": "2010-06-16T20:39:03Z", "updated_at": "2023-06-19T06:07:21Z", "pushed_at": "2023-06-19T06:15:17Z", "git_url": "git://github.com/rust-lang/rust.git", "ssh_url": "git@github.com:rust-lang/rust.git", "clone_url": "https://github.com/rust-lang/rust.git", "svn_url": "https://github.com/rust-lang/rust", "homepage": "https://www.rust-lang.org", "size": 919635, "stargazers_count": 82734, "watchers_count": 82734, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 10953, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 9628, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["compiler", "hacktoberfest", "language", "rust"], "visibility": "public", "forks": 10953, "open_issues": 9628, "watchers": 82734, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/57380"}, "html": {"href": "https://github.com/rust-lang/rust/pull/57380"}, "issue": {"href": "https://api.github.com/repos/rust-lang/rust/issues/57380"}, "comments": {"href": "https://api.github.com/repos/rust-lang/rust/issues/57380/comments"}, "review_comments": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/57380/comments"}, "review_comment": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/57380/commits"}, "statuses": {"href": "https://api.github.com/repos/rust-lang/rust/statuses/14ce5364de3bf7d2da59fbe52360459c0f2c6ada"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "comments": 17, "review_comments": 6, "maintainer_can_modify": false, "commits": 4, "additions": 83, "deletions": 44, "changed_files": 2}