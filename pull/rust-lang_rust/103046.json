{"url": "https://api.github.com/repos/rust-lang/rust/pulls/103046", "id": 1087255214, "node_id": "PR_kwDOAAsO6M5AzjKu", "html_url": "https://github.com/rust-lang/rust/pull/103046", "diff_url": "https://github.com/rust-lang/rust/pull/103046.diff", "patch_url": "https://github.com/rust-lang/rust/pull/103046.patch", "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/103046", "number": 103046, "state": "open", "locked": false, "title": "docs: Correct terminology in std::cmp", "user": {"login": "JanBeh", "id": 76393822, "node_id": "MDQ6VXNlcjc2MzkzODIy", "avatar_url": "https://avatars.githubusercontent.com/u/76393822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JanBeh", "html_url": "https://github.com/JanBeh", "followers_url": "https://api.github.com/users/JanBeh/followers", "following_url": "https://api.github.com/users/JanBeh/following{/other_user}", "gists_url": "https://api.github.com/users/JanBeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/JanBeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JanBeh/subscriptions", "organizations_url": "https://api.github.com/users/JanBeh/orgs", "repos_url": "https://api.github.com/users/JanBeh/repos", "events_url": "https://api.github.com/users/JanBeh/events{/privacy}", "received_events_url": "https://api.github.com/users/JanBeh/received_events", "type": "User", "site_admin": false}, "body": "This PR is the result of some discussions on URLO:\r\n\r\n* [Traits in `std::cmp` and mathematical terminology](https://users.rust-lang.org/t/traits-in-std-cmp-and-mathematical-terminology/69887)\r\n* [Are poker hands `Ord` or `PartialOrd`?](https://users.rust-lang.org/t/are-poker-hands-ord-or-partialord/82644)\r\n\r\nArguably, the documentation currently isn't very precise regarding mathematical terminology. This can lead to misunderstandings of what `PartialEq`, `Eq`, `PartialOrd`, and `Ord` actually do.\r\n\r\nWhile I believe this PR doesn't give any new API guarantees, it expliclitly mentions that `PartialEq::eq(a, b)` may return `true` for two distinct values `a` and `b` (i.e. where `a` and `b` are not equal in the mathematical sense). This leads to the consequence that `Ord` may describe a weak ordering instead of a total ordering.\r\n\r\nIn either case, I believe this PR should be thoroughly reviewed, ideally by someone with mathematical background to make sure the terminology is correct now, and also to ensure that no unwanted new API guarantees are made.\r\n\r\nIn particular, the following problems are addressed:\r\n\r\n* Some clarifications regarding used (mathematical) terminology:\r\n    * Avoid using the terms \"total equality\" and \"partial equality\" in favor of \"equivalence relation\" and \"partial equivalence relation\", which are well-defined and unambiguous.\r\n    * Clarify that `Ordering` is an ordering between two values (and not an order in the mathematical sense).\r\n    * Avoid saying that `PartialEq` and `Eq` are \"equality comparisons\" because the terminology \"equality comparison\" could be misleading: it's possible to implement `PartialEq` and `Eq` for other (partial) equivalence relations, in particular for relations where `a == b` for some `a` and `b` even when `a` and `b` are not the same value.\r\n    * Added a section \"Strict and non-strict partial orders\" to document that the `<=` and `>=` operators do not correspond to non-strict partial orders.\r\n    * Corrected section \"Corollaries\" in documenation of `Ord` in regard to `<` only describing a strict total order in cases where `==` conforms to mathematical equality.\r\n    * ~~Added a section \"Weak orders\" to explain that `Ord` may also describe a weak order or total preorder, depending on how `PartialEq::eq` has been implemented.~~ (Removed, see [comment](https://github.com/rust-lang/rust/pull/103046#issuecomment-1279929676))\r\n* Made documentation easier to understand:\r\n    * Explicitly state at the beginning of `PartialEq`'s documentation comment that implementing the trait will provide the `==` and `!=` operators.\r\n    * Added an easier to understand rule when to implement `Eq` in addition to `PartialEq`: \"if it\u2019s guaranteed that `PartialEq::eq(a, a)` always returns `true`.\"\r\n    *  Explicitly mention in documentation of `Eq` that the properties \"symmetric\" and \"transitive\" are already required by `PartialEq`.", "created_at": "2022-10-14T10:26:17Z", "updated_at": "2023-05-14T14:17:20Z", "closed_at": null, "merged_at": null, "merge_commit_sha": "9f46aa59d38f23de8532c60bf00f7334a5d8b1fb", "assignee": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 583426710, "node_id": "MDU6TGFiZWw1ODM0MjY3MTA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-review", "name": "S-waiting-on-review", "color": "d3dddd", "default": false, "description": "Status: Awaiting review from the assignee but also interested parties."}, {"id": 2011781731, "node_id": "MDU6TGFiZWwyMDExNzgxNzMx", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs", "name": "T-libs", "color": "bfd4f2", "default": false, "description": "Relevant to the library team, which will review and decide on the PR/issue."}], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/rust-lang/rust/pulls/103046/commits", "review_comments_url": "https://api.github.com/repos/rust-lang/rust/pulls/103046/comments", "review_comment_url": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/103046/comments", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/62dc64841ddf9c9f6376e35a7300ade3ee95fd0a", "head": {"label": "JanBeh:PR_clarify_cmp_terminology", "ref": "PR_clarify_cmp_terminology", "sha": "62dc64841ddf9c9f6376e35a7300ade3ee95fd0a", "user": {"login": "JanBeh", "id": 76393822, "node_id": "MDQ6VXNlcjc2MzkzODIy", "avatar_url": "https://avatars.githubusercontent.com/u/76393822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JanBeh", "html_url": "https://github.com/JanBeh", "followers_url": "https://api.github.com/users/JanBeh/followers", "following_url": "https://api.github.com/users/JanBeh/following{/other_user}", "gists_url": "https://api.github.com/users/JanBeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/JanBeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JanBeh/subscriptions", "organizations_url": "https://api.github.com/users/JanBeh/orgs", "repos_url": "https://api.github.com/users/JanBeh/repos", "events_url": "https://api.github.com/users/JanBeh/events{/privacy}", "received_events_url": "https://api.github.com/users/JanBeh/received_events", "type": "User", "site_admin": false}, "repo": {"id": 514788499, "node_id": "R_kgDOHq8Mkw", "name": "rust", "full_name": "JanBeh/rust", "private": false, "owner": {"login": "JanBeh", "id": 76393822, "node_id": "MDQ6VXNlcjc2MzkzODIy", "avatar_url": "https://avatars.githubusercontent.com/u/76393822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JanBeh", "html_url": "https://github.com/JanBeh", "followers_url": "https://api.github.com/users/JanBeh/followers", "following_url": "https://api.github.com/users/JanBeh/following{/other_user}", "gists_url": "https://api.github.com/users/JanBeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/JanBeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JanBeh/subscriptions", "organizations_url": "https://api.github.com/users/JanBeh/orgs", "repos_url": "https://api.github.com/users/JanBeh/repos", "events_url": "https://api.github.com/users/JanBeh/events{/privacy}", "received_events_url": "https://api.github.com/users/JanBeh/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/JanBeh/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": true, "url": "https://api.github.com/repos/JanBeh/rust", "forks_url": "https://api.github.com/repos/JanBeh/rust/forks", "keys_url": "https://api.github.com/repos/JanBeh/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/JanBeh/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/JanBeh/rust/teams", "hooks_url": "https://api.github.com/repos/JanBeh/rust/hooks", "issue_events_url": "https://api.github.com/repos/JanBeh/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/JanBeh/rust/events", "assignees_url": "https://api.github.com/repos/JanBeh/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/JanBeh/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/JanBeh/rust/tags", "blobs_url": "https://api.github.com/repos/JanBeh/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/JanBeh/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/JanBeh/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/JanBeh/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/JanBeh/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/JanBeh/rust/languages", "stargazers_url": "https://api.github.com/repos/JanBeh/rust/stargazers", "contributors_url": "https://api.github.com/repos/JanBeh/rust/contributors", "subscribers_url": "https://api.github.com/repos/JanBeh/rust/subscribers", "subscription_url": "https://api.github.com/repos/JanBeh/rust/subscription", "commits_url": "https://api.github.com/repos/JanBeh/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/JanBeh/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/JanBeh/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/JanBeh/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/JanBeh/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/JanBeh/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/JanBeh/rust/merges", "archive_url": "https://api.github.com/repos/JanBeh/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/JanBeh/rust/downloads", "issues_url": "https://api.github.com/repos/JanBeh/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/JanBeh/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/JanBeh/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/JanBeh/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/JanBeh/rust/labels{/name}", "releases_url": "https://api.github.com/repos/JanBeh/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/JanBeh/rust/deployments", "created_at": "2022-07-17T08:31:58Z", "updated_at": "2022-10-04T07:39:58Z", "pushed_at": "2022-12-06T16:24:31Z", "git_url": "git://github.com/JanBeh/rust.git", "ssh_url": "git@github.com:JanBeh/rust.git", "clone_url": "https://github.com/JanBeh/rust.git", "svn_url": "https://github.com/JanBeh/rust", "homepage": "https://www.rust-lang.org", "size": 1024770, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "rust-lang:master", "ref": "master", "sha": "999ac5f7770bff68bd65f490990d32c3ec1faaa6", "user": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 724712, "node_id": "MDEwOlJlcG9zaXRvcnk3MjQ3MTI=", "name": "rust", "full_name": "rust-lang/rust", "private": false, "owner": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/rust-lang/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": false, "url": "https://api.github.com/repos/rust-lang/rust", "forks_url": "https://api.github.com/repos/rust-lang/rust/forks", "keys_url": "https://api.github.com/repos/rust-lang/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rust-lang/rust/teams", "hooks_url": "https://api.github.com/repos/rust-lang/rust/hooks", "issue_events_url": "https://api.github.com/repos/rust-lang/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/rust-lang/rust/events", "assignees_url": "https://api.github.com/repos/rust-lang/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/rust-lang/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/rust-lang/rust/tags", "blobs_url": "https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rust-lang/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rust-lang/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rust-lang/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/rust-lang/rust/languages", "stargazers_url": "https://api.github.com/repos/rust-lang/rust/stargazers", "contributors_url": "https://api.github.com/repos/rust-lang/rust/contributors", "subscribers_url": "https://api.github.com/repos/rust-lang/rust/subscribers", "subscription_url": "https://api.github.com/repos/rust-lang/rust/subscription", "commits_url": "https://api.github.com/repos/rust-lang/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rust-lang/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rust-lang/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rust-lang/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rust-lang/rust/merges", "archive_url": "https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rust-lang/rust/downloads", "issues_url": "https://api.github.com/repos/rust-lang/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/rust-lang/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/rust-lang/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rust-lang/rust/labels{/name}", "releases_url": "https://api.github.com/repos/rust-lang/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/rust-lang/rust/deployments", "created_at": "2010-06-16T20:39:03Z", "updated_at": "2023-06-20T08:05:17Z", "pushed_at": "2023-06-20T08:02:50Z", "git_url": "git://github.com/rust-lang/rust.git", "ssh_url": "git@github.com:rust-lang/rust.git", "clone_url": "https://github.com/rust-lang/rust.git", "svn_url": "https://github.com/rust-lang/rust", "homepage": "https://www.rust-lang.org", "size": 930628, "stargazers_count": 82767, "watchers_count": 82767, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 10964, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 9622, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["compiler", "hacktoberfest", "language", "rust"], "visibility": "public", "forks": 10964, "open_issues": 9622, "watchers": 82767, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/103046"}, "html": {"href": "https://github.com/rust-lang/rust/pull/103046"}, "issue": {"href": "https://api.github.com/repos/rust-lang/rust/issues/103046"}, "comments": {"href": "https://api.github.com/repos/rust-lang/rust/issues/103046/comments"}, "review_comments": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/103046/comments"}, "review_comment": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/103046/commits"}, "statuses": {"href": "https://api.github.com/repos/rust-lang/rust/statuses/62dc64841ddf9c9f6376e35a7300ade3ee95fd0a"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": false, "mergeable": true, "rebaseable": false, "mergeable_state": "blocked", "merged_by": null, "comments": 46, "review_comments": 10, "maintainer_can_modify": true, "commits": 12, "additions": 50, "deletions": 17, "changed_files": 1}