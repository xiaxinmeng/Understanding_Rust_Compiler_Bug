{"url": "https://api.github.com/repos/rust-lang/rust/pulls/96709", "id": 927701487, "node_id": "PR_kwDOAAsO6M43S5nv", "html_url": "https://github.com/rust-lang/rust/pull/96709", "diff_url": "https://github.com/rust-lang/rust/pull/96709.diff", "patch_url": "https://github.com/rust-lang/rust/pull/96709.patch", "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/96709", "number": 96709, "state": "closed", "locked": false, "title": "Stabilize generic associated types", "user": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "body": "Closes #44265\r\n\r\nr? @nikomatsakis \r\n\r\n# \u26a1 Status of the discussion \u26a1 \r\n\r\n* [x] There have been several serious concerns raised, [summarized here](https://github.com/rust-lang/rust/pull/96709#issuecomment-1129311660).\r\n* [x] There has also been a [deep-dive comment](https://github.com/rust-lang/rust/pull/96709#issuecomment-1167220240) explaining some of the \"patterns of code\" that are enabled by GATs, based on use-cases posted to this thread or on the tracking issue.\r\n* [x] We have modeled some aspects of GATs in [a-mir-formality](https://github.com/nikomatsakis/a-mir-formality) to give better confidence in how they will be resolved in the future. [You can read a write-up here](https://github.com/rust-lang/types-team/blob/master/minutes/2022-07-08-implied-bounds-and-wf-checking.md).\r\n* [x] The major points of the discussion have been [summarized on the GAT initiative repository](https://rust-lang.github.io/generic-associated-types-initiative/mvp.html).\r\n* [x] [FCP has been proposed](https://github.com/rust-lang/rust/pull/96709#issuecomment-1129311660) and we are awaiting final decisions and discussion amidst the relevant team members.\r\n\r\n# Stabilization proposal\r\n\r\nThis PR proposes the stabilization of `#![feature(generic_associated_types)]`. While there a number of future additions to be made and bugs to be fixed (both discussed below), properly doing these will require significant language design and will ultimately likely be backwards-compatible. Given the overwhelming desire to have some form of generic associated types (GATs) available on stable and the stability of the \"simple\" uses, stabilizing the current subset of GAT features is almost certainly the correct next step.\r\n\r\nTracking issue: #44265\r\nInitiative: https://rust-lang.github.io/generic-associated-types-initiative/\r\nRFC: https://github.com/rust-lang/rfcs/blob/master/text/1598-generic_associated_types.md\r\nVersion: 1.65 (2022-08-22 => beta, 2022-11-03 => stable).\r\n\r\n## Motivation\r\n\r\nThere are a myriad of potential use cases for GATs. Stabilization unblocks probable future language features (e.g. async functions in traits), potential future standard library features (e.g. a `LendingIterator` or some form of `Iterator` with a lifetime generic), and a plethora of user use cases (some of which can be seen just by scrolling through the tracking issue and looking at all the issues linking to it).\r\n\r\nThere are a myriad of potential use cases for GATs. First, there are many users that have chosen to not use GATs primarily because they are not stable (some of which can be seen just by scrolling through the tracking issue and looking at all the issues linking to it). Second, while language feature desugaring isn't *blocked* on stabilization, it gives more confidence on using the feature. Likewise, library features like `LendingIterator` are not necessarily blocked on stabilization to be implemented unstably; however few, if any, public-facing APIs actually use unstable features.\r\n\r\nThis feature has a long history of design, discussion, and developement - the RFC was first introduced roughly 6 years ago. While there are still a number of features left to implement and bugs left to fix, it's clear that it's unlikely those will have backwards-incompatibility concerns. Additionally, the bugs that do exist do not strongly impede the most-common use cases.\r\n\r\n## What is stabilized\r\n\r\nThe primary language feature stabilized here is the ability to have generics on associated types, as so. Additionally, where clauses on associated types will now be accepted, regardless if the associated type is generic or not.\r\n\r\n```rust\r\ntrait ATraitWithGATs {\r\n    type Assoc<'a, T> where T: 'a;\r\n}\r\n\r\ntrait ATraitWithoutGATs<'a, T> {\r\n    type Assoc where T: 'a;\r\n}\r\n```\r\n\r\nWhen adding an impl for a trait with generic associated types, the generics for the associated type are copied as well. Note that where clauses are allowed both after the specified type and before the equals sign; however, the latter is a warn-by-default deprecation.\r\n\r\n```rust\r\nstruct X;\r\nstruct Y;\r\n\r\nimpl ATraitWithGATs for X {\r\n    type Assoc<'a, T> = &'a T\r\n      where T: 'a;\r\n}\r\nimpl ATraitWithGATs for Y {\r\n    type Assoc<'a, T>\r\n      where T: 'a\r\n    = &'a T;\r\n}\r\n```\r\n\r\nTo use a GAT in a function, generics are specified on the associated type, as if it was a struct or enum. GATs can also be specified in trait bounds:\r\n\r\n```rust\r\nfn accepts_gat<'a, T>(t: &'a T) -> T::Assoc<'a, T>\r\n  where for<'x> T: ATraitWithGATs<Assoc<'a, T> = &'a T> {\r\n    ...\r\n}\r\n```\r\n\r\nGATs can also appear in trait methods. However, depending on how they are used, they may confer where clauses on the associated type definition. More information can be found [here](https://github.com/rust-lang/rust/issues/87479). Briefly, where clauses are required when those bounds can be proven in the methods that *construct* the GAT or other associated types that use the GAT in the trait. This allows impls to have maximum flexibility in the types defined for the associated type.\r\n\r\nTo take a relatively simple example:\r\n\r\n```rust\r\ntrait Iterable {\r\n    type Item<'a>;\r\n    type Iterator<'a>: Iterator<Item = Self::Item<'a>>;\r\n\r\n    fn iter<'x>(&'x self) -> Self::Iterator<'x>;\r\n    //^ We know that `Self: 'a` for `Iterator<'a>`, so we require that bound on `Iterator`\r\n    //  `Iterator` uses `Self::Item`, so we also require a `Self: 'a` on `Item` too\r\n}\r\n```\r\n\r\nA couple well-explained examples are available in a previous [blog post](https://blog.rust-lang.org/2021/08/03/GATs-stabilization-push.html).\r\n\r\n## What isn't stabilized/implemented\r\n\r\n### Universal type/const quantification\r\n\r\nCurrently, you can write a bound like `X: for<'a> Trait<Assoc<'a> = &'a ()>`. However, you cannot currently write `for<T> X: Trait<Assoc<T> = T>` or `for<const N> X: Trait<Assoc<N> = [usize; N]>`.\r\n\r\nHere is an example where this is needed:\r\n\r\n```rust\r\ntrait Foo {}\r\n\r\ntrait Trait {\r\n    type Assoc<F: Foo>;\r\n}\r\n\r\ntrait Trait2: Sized {\r\n    fn foo<F: Foo, T: Trait<Assoc<F> = F>>(_t: T);\r\n}\r\n```\r\n\r\nIn the above example, the *caller* must specify `F`, which is likely not what is desired.\r\n\r\n### Object-safe GATs\r\n\r\nUnlike non-generic associated types, traits with GATs are not currently object-safe. In other words the following are not allowed:\r\n\r\n```rust\r\ntrait Trait {\r\n    type Assoc<'a>;\r\n}\r\n\r\nfn foo(t: &dyn for<'a> Trait<Assoc<'a> = &'a ()>) {}\r\n         //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not allowed\r\n\r\nlet ty: Box<dyn for<'a> Trait<Assoc<'a> = &'a ()>>;\r\n          //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not allowed\r\n```\r\n\r\n### Higher-kinded types\r\n\r\nYou cannot write currently (and there are no current plans to implement this):\r\n\r\n```rust\r\nstruct Struct<'a> {}\r\n\r\nfn foo(s: for<'a> Struct<'a>) {}\r\n```\r\n\r\n## Tests\r\n\r\nThere are many tests covering GATs that can be found in  `src/test/ui/generic-associated-types`. Here, I'll list (in alphanumeric order) tests highlight some important behavior or contain important patterns.\r\n\r\n- `./parse/*`: Parsing of GATs in traits and impls, and the trait path with GATs\r\n- `./collections-project-default.rs`: Interaction with associated type defaults\r\n- `./collections.rs`: The `Collection` pattern\r\n- `./const-generics-gat-in-trait-return-type-*.rs`: Const parameters\r\n- `./constraint-assoc-type-suggestion.rs`: Emit correct syntax in suggestion\r\n- `./cross-crate-bounds.rs`: Ensure we handles bounds across crates the same\r\n- `./elided-in-expr-position.rs`: Disallow lifetime elision in return position\r\n- `./gat-in-trait-path-undeclared-lifetime.rs`: Ensure we error on undeclared lifetime in trait path\r\n- `./gat-in-trait-path.rs`: Base trait path case\r\n- `./gat-trait-path-generic-type-arg.rs`: Don't allow shadowing of parameters\r\n- `./gat-trait-path-parenthesised-args.rs`: Don't allow paranthesized args in trait path\r\n- `./generic-associated-types-where.rs`: Ensure that we require where clauses from trait to be met on impl\r\n- `./impl_bounds.rs`: Check that the bounds on GATs in an impl are checked\r\n- `./issue-76826.rs`: `Windows` pattern\r\n- `./issue-78113-lifetime-mismatch-dyn-trait-box.rs`: Implicit 'static diagnostics\r\n- `./issue-84931.rs`: Ensure that we have a where clause on GAT to ensure trait parameter lives long enough\r\n- `./issue-87258_a.rs`: Unconstrained opaque type with TAITs\r\n- `./issue-87429-2.rs`: Ensure we can use bound vars in the bounds\r\n- `./issue-87429-associated-type-default.rs`: Ensure bounds hold with associated type defaults, for both trait and impl\r\n- `./issue-87429-specialization.rs`: Check that bounds hold under specialization\r\n- `./issue-88595.rs`: Under the outlives lint, we require a bound for both trait and GAT lifetime when trait lifetime is used in function\r\n- `./issue-90014.rs`: Lifetime bounds are checked with TAITs\r\n- `./issue-91139.rs`: Under migrate mode, but not NLL, we don't capture implied bounds from HRTB lifetimes used in a function and GATs\r\n- `./issue-91762.rs`: We used to too eagerly pick param env candidates when normalizing with GATs. We now require explicit parameters specified.\r\n- `./issue-95305.rs`: Disallow lifetime elision in trait paths\r\n- `./iterable.rs`: `Iterable` pattern\r\n- `./method-unsatified-assoc-type-predicate.rs`: Print predicates with GATs correctly in method resolve error\r\n- `./missing_lifetime_const.rs`: Ensure we must specify lifetime args (not elidable)\r\n- `./missing-where-clause-on-trait.rs`: Ensure we don't allow stricter bounds on impl than trait\r\n- `./parameter_number_and_kind_impl.rs`: Ensure paramters on GAT in impl match GAT in trait\r\n- `./pointer_family.rs`: `PointerFamily` pattern\r\n- `./projection-bound-cycle.rs`: Don't allow invalid cycles to prove bounds\r\n- `./self-outlives-lint.rs`: Ensures that an e.g. `Self: 'a` is written on the traits GAT if that bound can be implied from the GAT usage in the trait\r\n- `./shadowing.rs`: Don't allow lifetime shadowing in params\r\n- `./streaming_iterator.rs`: `StreamingIterator`(`LendingIterator`) pattern\r\n- `./trait-objects.rs`: Disallow trait objects for traits with GATs\r\n- `./variance_constraints.rs`: Require that GAT substs be invariant\r\n\r\n## Remaining bugs and open issues\r\n\r\nA full list of remaining open issues can be found at: https://github.com/rust-lang/rust/labels/F-generic_associated_types\r\n\r\nThere are some `known-bug` tests in-tree at `src/test/ui/generic-associated-types/bugs`.\r\n\r\nHere I'll categorize most of those that GAT bugs (or involve a pattern found more with GATs), but not those that include GATs but not a GAT issue in and of itself. (I also won't include issues directly for things listed elsewhere here.)\r\n\r\nUsing the concrete type of a GAT instead of the projection type can give errors, since lifetimes are chosen to be early-bound vs late-bound.\r\n- #85533\r\n- #87803\r\n\r\nIn certain cases, we can run into cycle or overflow errors. This is more generally a problem with associated types.\r\n- #87755\r\n- #87758\r\n\r\nBounds on an associatd type need to be proven by an impl, but where clauses need to be proven by the usage. This can lead to confusion when users write one when they mean the other.\r\n- #87831\r\n- #90573\r\n\r\nWe sometimes can't normalize closure signatures fully. Really an asociated types issue, but might happen a bit more frequently with GATs, since more obvious place for HRTB lifetimes.\r\n- #88382\r\n\r\nWhen calling a function, we assign types to parameters \"too late\", after we already try (and fail) to normalize projections. Another associated types issue that might pop up more with GATs.\r\n- #88460\r\n- #96230\r\n\r\nWe don't fully have implied bounds for lifetimes appearing in GAT trait paths, which can lead to unconstrained type errors.\r\n- #88526\r\n\r\nSuggestion for adding lifetime bounds can suggest unhelpful fixes (`T: 'a` instead of `Self: 'a`), but the next compiler error after making the suggested change is helpful.\r\n- #90816\r\n- #92096\r\n- #95268\r\n\r\nWe can end up requiring that `for<'a> I: 'a` when we really want `for<'a where I: 'a> I: 'a`. This can leave unhelpful errors than effectively can't be satisfied unless `I: 'static`. Requires bigger changes and not only GATs.\r\n- #91693\r\n\r\nUnlike with non-generic associated types, we don't eagerly normalize with param env candidates. This is intended behavior (for now), to avoid accidentaly stabilizing picking arbitrary impls.\r\n- #91762\r\n\r\nSome Iterator adapter patterns (namely `filter`) require Polonius or unsafe to work.\r\n- #92985\r\n\r\n\r\n## Potential Future work\r\n\r\n### Universal type/const quantification\r\n\r\nNo work has been done to implement this. There are also some questions around implied bounds.\r\n\r\n###  Object-safe GATs\r\n\r\nThe intention is to make traits with GATs object-safe. There are some design work to be done around well-formedness rules and general implementation.\r\n\r\n### GATified std lib types\r\n\r\nIt would be helpful to either introduce new std lib traits (like `LendingIterator`) or to modify existing ones (adding a `'a` generic to `Iterator::Item`). There also a number of other candidates, like `Index`/`IndexMut` and `Fn`/`FnMut`/`FnOnce`.\r\n\r\n### Reduce the need for `for<'a>`\r\n\r\nSeen [here](https://github.com/rust-lang/rfcs/pull/1598#issuecomment-2611378730). One possible syntax:\r\n\r\n```rust\r\ntrait Iterable {\r\n    type Iter<'a>: Iterator<Item = Self::Item<'a>>;\r\n}\r\n\r\nfn foo<T>() where T: Iterable, T::Item<let 'a>: Display { } //note the `let`!\r\n```\r\n\r\n### Better implied bounds on higher-ranked things\r\n\r\nCurrently if we have a `type Item<'a> where self: 'a`, and a `for<'a> T: Iterator<Item<'a> = &'a ()`, this requires `for<'a> Self: 'a`. Really, we want `for<'a where T: 'a> ...`\r\n\r\nThere was some mentions of this all the back in the RFC thread [here](https://github.com/rust-lang/rfcs/pull/1598#issuecomment-264340514).\r\n\r\n## Alternatives\r\n\r\n### Make generics on associated type in bounds a binder\r\n\r\nImagine the bound `for<'a> T: Trait<Item<'a>= &'a ()>`. It might be that `for<'a>` is \"too large\" and it should instead be `T: Trait<for<'a> Item<'a>= &'a ()>`. Brought up in RFC thread [here](https://github.com/rust-lang/rfcs/pull/1598#issuecomment-229443863) and in a few places since.\r\n\r\nAnother related question: Is `for<'a>` the right syntax? Maybe `where<'a>`? Also originally found in RFC thread [here](https://github.com/rust-lang/rfcs/pull/1598#issuecomment-261639969).\r\n\r\n### Stabilize lifetime GATs first\r\n\r\nThis has been brought up a few times. The idea is to only allow GATs with lifetime parameters to in initial stabilization. This was probably most useful prior to actual implementation. At this point, lifetimes, types, and consts are all implemented and work. It feels like an arbitrary split without strong reason.\r\n\r\n## History\r\n\r\n* On 2016-04-30, [RFC opened](https://github.com/rust-lang/rfcs/pull/1598)\r\n* On 2017-09-02, RFC merged and [tracking issue opened](https://github.com/rust-lang/rust/issues/44265)\r\n* On 2017-10-23, [Move Generics from MethodSig to TraitItem and ImplItem](https://github.com/rust-lang/rust/pull/44766)\r\n* On 2017-12-01, [Generic Associated Types Parsing & Name Resolution](https://github.com/rust-lang/rust/pull/45904)\r\n* On 2017-12-15, [https://github.com/rust-lang/rust/pull/46706](https://github.com/rust-lang/rust/pull/46706)\r\n* On 2018-04-23, [Feature gate where clauses on associated types](https://github.com/rust-lang/rust/pull/49368)\r\n* On 2018-05-10, [Extend tests for RFC1598 (GAT)](https://github.com/rust-lang/rust/pull/49423)\r\n* On 2018-05-24, [Finish implementing GATs (Chalk)](https://github.com/rust-lang/chalk/pull/134)\r\n* On 2019-12-21, [Make GATs less ICE-prone](https://github.com/rust-lang/rust/pull/67160)\r\n* On 2020-02-13, [fix lifetime shadowing check in GATs](https://github.com/rust-lang/rust/pull/68938)\r\n* On 2020-06-20, [Projection bound validation](https://github.com/rust-lang/rust/pull/72788)\r\n* On 2020-10-06, [Separate projection bounds and predicates](https://github.com/rust-lang/rust/pull/73905)\r\n* On 2021-02-05, [Generic associated types in trait paths](https://github.com/rust-lang/rust/pull/79554)\r\n* On 2021-02-06, [Trait objects do not work with generic associated types](https://github.com/rust-lang/rust/issues/81823)\r\n* On 2021-04-28, [Make traits with GATs not object safe](https://github.com/rust-lang/rust/pull/84622)\r\n* On 2021-05-11, [Improve diagnostics for GATs](https://github.com/rust-lang/rust/pull/82272)\r\n* On 2021-07-16, [Make GATs no longer an incomplete feature](https://github.com/rust-lang/rust/pull/84623)\r\n* On 2021-07-16, [Replace associated item bound vars with placeholders when projecting](https://github.com/rust-lang/rust/pull/86993)\r\n* On 2021-07-26, [GATs: Decide whether to have defaults for `where Self: 'a`](https://github.com/rust-lang/rust/issues/87479)\r\n* On 2021-08-25, [Normalize projections under binders](https://github.com/rust-lang/rust/pull/85499)\r\n* On 2021-08-03, [The push for GATs stabilization](https://blog.rust-lang.org/2021/08/03/GATs-stabilization-push.html)\r\n* On 2021-08-12, [Detect stricter constraints on gats where clauses in impls vs trait](https://github.com/rust-lang/rust/pull/88336)\r\n* On 2021-09-20, [Proposal: Change syntax of where clauses on type aliases](https://github.com/rust-lang/rust/issues/89122)\r\n* On 2021-11-06, [Implementation of GATs outlives lint](https://github.com/rust-lang/rust/pull/89970)\r\n* On 2021-12-29. [Parse and suggest moving where clauses after equals for type aliases](https://github.com/rust-lang/rust/pull/92118)\r\n* On 2022-01-15, [Ignore static lifetimes for GATs outlives lint](https://github.com/rust-lang/rust/pull/92865)\r\n* On 2022-02-08, [Don't constrain projection predicates with inference vars in GAT substs](https://github.com/rust-lang/rust/pull/92917)\r\n* On 2022-02-15, [Rework GAT where clause check](https://github.com/rust-lang/rust/pull/93820)\r\n* On 2022-02-19, [Only mark projection as ambiguous if GAT substs are constrained](https://github.com/rust-lang/rust/pull/93892)\r\n* On 2022-03-03, [Support GATs in Rustdoc](https://github.com/rust-lang/rust/pull/94009)\r\n* On 2022-03-06, [Change location of where clause on GATs](https://github.com/rust-lang/rust/pull/90076)\r\n* On 2022-05-04, [A shiny future with GATs blog post](https://jackh726.github.io/rust/2022/05/04/a-shiny-future-with-gats.html)\r\n* On 2022-05-04, [Stabilization PR](https://github.com/rust-lang/rust/pull/96709)\r\n\r\n", "created_at": "2022-05-04T14:34:48Z", "updated_at": "2022-09-22T15:11:36Z", "closed_at": "2022-09-13T12:36:19Z", "merged_at": "2022-09-13T12:36:19Z", "merge_commit_sha": "7098c181f8447810fadb1776d3ffa3cdc93ce402", "assignee": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 223796632, "node_id": "MDU6TGFiZWwyMjM3OTY2MzI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/relnotes", "name": "relnotes", "color": "fad8c7", "default": false, "description": "Marks issues that should be documented in the release notes of the next release."}, {"id": 583437191, "node_id": "MDU6TGFiZWw1ODM0MzcxOTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-bors", "name": "S-waiting-on-bors", "color": "d3dddd", "default": false, "description": "Status: Waiting on bors to run and complete tests. Bors will change the label on completion."}, {"id": 919710011, "node_id": "MDU6TGFiZWw5MTk3MTAwMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/disposition-merge", "name": "disposition-merge", "color": "008800", "default": false, "description": "This issue / PR is in PFCP or FCP with a disposition to merge it."}, {"id": 923282386, "node_id": "MDU6TGFiZWw5MjMyODIzODY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/finished-final-comment-period", "name": "finished-final-comment-period", "color": "f9e189", "default": false, "description": "The final comment period is finished for this PR / Issue."}, {"id": 1223998418, "node_id": "MDU6TGFiZWwxMjIzOTk4NDE4", "url": "https://api.github.com/repos/rust-lang/rust/labels/merged-by-bors", "name": "merged-by-bors", "color": "dae4e4", "default": false, "description": "This PR was explicitly merged by bors"}, {"id": 1404942788, "node_id": "MDU6TGFiZWwxNDA0OTQyNzg4", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-fcp", "name": "S-waiting-on-fcp", "color": "d3dddd", "default": false, "description": "Status: PR is in FCP and is awaiting for FCP to complete."}, {"id": 1485960423, "node_id": "MDU6TGFiZWwxNDg1OTYwNDIz", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-generic_associated_types", "name": "F-generic_associated_types", "color": "f9c0cc", "default": false, "description": "`#![feature(generic_associated_types)]` a.k.a. GATs"}, {"id": 2682491374, "node_id": "MDU6TGFiZWwyNjgyNDkxMzc0", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-rustdoc-json", "name": "A-rustdoc-json", "color": "f7e101", "default": false, "description": "Area: Rustdoc JSON backend"}, {"id": 4172483496, "node_id": "LA_kwDOAAsO6M74swuo", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-types", "name": "T-types", "color": "bfd4f2", "default": false, "description": "Relevant to the types team, which will review and decide on the PR/issue."}], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/97", "html_url": "https://github.com/rust-lang/rust/milestone/97", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/97/labels", "id": 8274783, "node_id": "MI_kwDOAAsO6M4AfkNf", "number": 97, "title": "1.65.0", "description": null, "creator": {"login": "rustbot", "id": 47979223, "node_id": "MDQ6VXNlcjQ3OTc5MjIz", "avatar_url": "https://avatars.githubusercontent.com/u/47979223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rustbot", "html_url": "https://github.com/rustbot", "followers_url": "https://api.github.com/users/rustbot/followers", "following_url": "https://api.github.com/users/rustbot/following{/other_user}", "gists_url": "https://api.github.com/users/rustbot/gists{/gist_id}", "starred_url": "https://api.github.com/users/rustbot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rustbot/subscriptions", "organizations_url": "https://api.github.com/users/rustbot/orgs", "repos_url": "https://api.github.com/users/rustbot/repos", "events_url": "https://api.github.com/users/rustbot/events{/privacy}", "received_events_url": "https://api.github.com/users/rustbot/received_events", "type": "User", "site_admin": false}, "open_issues": 3, "closed_issues": 953, "state": "closed", "created_at": "2022-08-06T12:29:11Z", "updated_at": "2023-04-12T04:50:01Z", "due_on": null, "closed_at": "2022-11-03T14:43:27Z"}, "draft": false, "commits_url": "https://api.github.com/repos/rust-lang/rust/pulls/96709/commits", "review_comments_url": "https://api.github.com/repos/rust-lang/rust/pulls/96709/comments", "review_comment_url": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/96709/comments", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/3cf0e98dc9a67086f4e738edb9d61b2fee1a38b0", "head": {"label": "jackh726:gats-stabilization", "ref": "gats-stabilization", "sha": "3cf0e98dc9a67086f4e738edb9d61b2fee1a38b0", "user": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "repo": {"id": 201345222, "node_id": "MDEwOlJlcG9zaXRvcnkyMDEzNDUyMjI=", "name": "rust", "full_name": "jackh726/rust", "private": false, "owner": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/jackh726/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": true, "url": "https://api.github.com/repos/jackh726/rust", "forks_url": "https://api.github.com/repos/jackh726/rust/forks", "keys_url": "https://api.github.com/repos/jackh726/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/jackh726/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/jackh726/rust/teams", "hooks_url": "https://api.github.com/repos/jackh726/rust/hooks", "issue_events_url": "https://api.github.com/repos/jackh726/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/jackh726/rust/events", "assignees_url": "https://api.github.com/repos/jackh726/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/jackh726/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/jackh726/rust/tags", "blobs_url": "https://api.github.com/repos/jackh726/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/jackh726/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/jackh726/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/jackh726/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/jackh726/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/jackh726/rust/languages", "stargazers_url": "https://api.github.com/repos/jackh726/rust/stargazers", "contributors_url": "https://api.github.com/repos/jackh726/rust/contributors", "subscribers_url": "https://api.github.com/repos/jackh726/rust/subscribers", "subscription_url": "https://api.github.com/repos/jackh726/rust/subscription", "commits_url": "https://api.github.com/repos/jackh726/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/jackh726/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/jackh726/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/jackh726/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/jackh726/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/jackh726/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/jackh726/rust/merges", "archive_url": "https://api.github.com/repos/jackh726/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/jackh726/rust/downloads", "issues_url": "https://api.github.com/repos/jackh726/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/jackh726/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/jackh726/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/jackh726/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/jackh726/rust/labels{/name}", "releases_url": "https://api.github.com/repos/jackh726/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/jackh726/rust/deployments", "created_at": "2019-08-08T22:14:58Z", "updated_at": "2022-10-11T04:09:48Z", "pushed_at": "2023-04-07T22:09:54Z", "git_url": "git://github.com/jackh726/rust.git", "ssh_url": "git@github.com:jackh726/rust.git", "clone_url": "https://github.com/jackh726/rust.git", "svn_url": "https://github.com/jackh726/rust", "homepage": "https://www.rust-lang.org", "size": 1092396, "stargazers_count": 2, "watchers_count": 2, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 2, "default_branch": "master"}}, "base": {"label": "rust-lang:master", "ref": "master", "sha": "f07d6e8c0a90a6b03dcf96366d0462c7c25962bd", "user": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 724712, "node_id": "MDEwOlJlcG9zaXRvcnk3MjQ3MTI=", "name": "rust", "full_name": "rust-lang/rust", "private": false, "owner": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/rust-lang/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": false, "url": "https://api.github.com/repos/rust-lang/rust", "forks_url": "https://api.github.com/repos/rust-lang/rust/forks", "keys_url": "https://api.github.com/repos/rust-lang/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rust-lang/rust/teams", "hooks_url": "https://api.github.com/repos/rust-lang/rust/hooks", "issue_events_url": "https://api.github.com/repos/rust-lang/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/rust-lang/rust/events", "assignees_url": "https://api.github.com/repos/rust-lang/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/rust-lang/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/rust-lang/rust/tags", "blobs_url": "https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rust-lang/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rust-lang/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rust-lang/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/rust-lang/rust/languages", "stargazers_url": "https://api.github.com/repos/rust-lang/rust/stargazers", "contributors_url": "https://api.github.com/repos/rust-lang/rust/contributors", "subscribers_url": "https://api.github.com/repos/rust-lang/rust/subscribers", "subscription_url": "https://api.github.com/repos/rust-lang/rust/subscription", "commits_url": "https://api.github.com/repos/rust-lang/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rust-lang/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rust-lang/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rust-lang/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rust-lang/rust/merges", "archive_url": "https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rust-lang/rust/downloads", "issues_url": "https://api.github.com/repos/rust-lang/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/rust-lang/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/rust-lang/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rust-lang/rust/labels{/name}", "releases_url": "https://api.github.com/repos/rust-lang/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/rust-lang/rust/deployments", "created_at": "2010-06-16T20:39:03Z", "updated_at": "2023-06-20T02:25:36Z", "pushed_at": "2023-06-20T02:02:30Z", "git_url": "git://github.com/rust-lang/rust.git", "ssh_url": "git@github.com:rust-lang/rust.git", "clone_url": "https://github.com/rust-lang/rust.git", "svn_url": "https://github.com/rust-lang/rust", "homepage": "https://www.rust-lang.org", "size": 930398, "stargazers_count": 82759, "watchers_count": 82759, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 10960, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 9627, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["compiler", "hacktoberfest", "language", "rust"], "visibility": "public", "forks": 10960, "open_issues": 9627, "watchers": 82759, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/96709"}, "html": {"href": "https://github.com/rust-lang/rust/pull/96709"}, "issue": {"href": "https://api.github.com/repos/rust-lang/rust/issues/96709"}, "comments": {"href": "https://api.github.com/repos/rust-lang/rust/issues/96709/comments"}, "review_comments": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/96709/comments"}, "review_comment": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/96709/commits"}, "statuses": {"href": "https://api.github.com/repos/rust-lang/rust/statuses/3cf0e98dc9a67086f4e738edb9d61b2fee1a38b0"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "comments": 182, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 313, "deletions": 808, "changed_files": 280}