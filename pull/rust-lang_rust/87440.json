{"url": "https://api.github.com/repos/rust-lang/rust/pulls/87440", "id": 696402348, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NDAyMzQ4", "html_url": "https://github.com/rust-lang/rust/pull/87440", "diff_url": "https://github.com/rust-lang/rust/pull/87440.diff", "patch_url": "https://github.com/rust-lang/rust/pull/87440.patch", "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/87440", "number": 87440, "state": "closed", "locked": false, "title": "Remove unnecessary condition in Barrier::wait()", "user": {"login": "twetzel59", "id": 27702327, "node_id": "MDQ6VXNlcjI3NzAyMzI3", "avatar_url": "https://avatars.githubusercontent.com/u/27702327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twetzel59", "html_url": "https://github.com/twetzel59", "followers_url": "https://api.github.com/users/twetzel59/followers", "following_url": "https://api.github.com/users/twetzel59/following{/other_user}", "gists_url": "https://api.github.com/users/twetzel59/gists{/gist_id}", "starred_url": "https://api.github.com/users/twetzel59/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twetzel59/subscriptions", "organizations_url": "https://api.github.com/users/twetzel59/orgs", "repos_url": "https://api.github.com/users/twetzel59/repos", "events_url": "https://api.github.com/users/twetzel59/events{/privacy}", "received_events_url": "https://api.github.com/users/twetzel59/received_events", "type": "User", "site_admin": false}, "body": "This is my first pull request for Rust, so feel free to call me out if anything is amiss.\r\n\r\nAfter some examination, I realized that the second condition of the \"spurious-wakeup-handler\" loop in ``std::sync::Barrier::wait()`` should always evaluate to ``true``, making it redundant in the ``&&`` expression.\r\n\r\nHere is the affected function before the fix:\r\n```rust\r\n#[stable(feature = \"rust1\", since = \"1.0.0\")]\r\npub fn wait(&self) -> BarrierWaitResult {\r\n    let mut lock = self.lock.lock().unwrap();\r\n    let local_gen = lock.generation_id;\r\n    lock.count += 1;\r\n    if lock.count < self.num_threads {\r\n        // We need a while loop to guard against spurious wakeups.\r\n        // https://en.wikipedia.org/wiki/Spurious_wakeup\r\n        while local_gen == lock.generation_id && lock.count < self.num_threads { // fixme\r\n            lock = self.cvar.wait(lock).unwrap();\r\n        }\r\n        BarrierWaitResult(false)\r\n    } else {\r\n        lock.count = 0;\r\n        lock.generation_id = lock.generation_id.wrapping_add(1);\r\n        self.cvar.notify_all();\r\n        BarrierWaitResult(true)\r\n    }\r\n}\r\n```\r\n\r\nAt first glance, it seems that the check that ``lock.count < self.num_threads`` would be necessary in order for a thread A to detect when another thread B has caused the barrier to reach its thread count, making thread B the \"leader\".\r\n\r\nHowever, the control flow implicitly results in an invariant that makes observing ``!(lock.count < self.num_threads)``, i.e. ``lock.count >= self.num_threads`` impossible from thread A.\r\n\r\nWhen thread B, which will be the leader, calls ``.wait()`` on this shared instance of the ``Barrier``, it locks the mutex in the first line and saves the ``MutexGuard`` in the ``lock`` variable. It then increments the value of ``lock.count``. However, it then proceeds to check if ``lock.count < self.num_threads``. Since it is the leader, it is the case that (after the increment of ``lock.count``), the lock count is *equal* to the number of threads. Thus, the second branch is immediately taken and ``lock.count`` is zeroed. Additionally, the generation ID is incremented (with wrap). Then, the condition variable is signalled. But, the other threads are waiting at the line ``lock = self.cvar.wait(lock).unwrap();``, so they cannot resume until thread B's call to ``Barrier::wait()`` returns, which drops the ``MutexGuard`` acquired in the first ``let`` statement and unlocks the mutex.\r\n\r\nThe order of events is thus:\r\n1. A thread A calls `.wait()`\r\n2. `.wait()` acquires the mutex, increments `lock.count`, and takes the first branch\r\n3. Thread A enters the ``while`` loop since the generation ID has not changed and the count is less than the number of threads for the ``Barrier``\r\n3. Spurious wakeups occur, but both conditions hold, so the thread A waits on the condition variable\r\n4. This process repeats for N - 2 additional times for non-leader threads A'\r\n5. *Meanwhile*, Thread B calls ``Barrier::wait()`` on the same barrier that threads A, A', A'', etc. are waiting on. The thread count reaches the number of threads for the ``Barrier``, so all threads should now proceed, with B being the leader. B acquires the mutex and increments the value ``lock.count`` only to find that it is not less than ``self.num_threads``. Thus, it immediately clamps ``self.num_threads`` back down to 0 and increments the generation. Then, it signals the condvar to tell the A (prime) threads that they may continue.\r\n6. The A, A', A''... threads wake up and attempt to re-acquire the ``lock`` as per the internal operation of a condition variable. When each A has exclusive access to the mutex, it finds that ``lock.generation_id`` no longer matches ``local_generation`` **and the ``&&`` expression short-circuits -- and even if it were to evaluate it, ``self.count`` is definitely less than ``self.num_threads`` because it has been reset to ``0`` by thread B *before* B dropped its ``MutexGuard``**.\r\n\r\nTherefore, it my understanding that it would be impossible for the non-leader threads to ever see the second boolean expression evaluate to anything other than ``true``. This PR simply removes that condition.\r\n\r\nAny input would be appreciated. Sorry if this is terribly verbose. I'm new to the Rust community and concurrency can be hard to explain in words. Thanks!", "created_at": "2021-07-24T20:30:08Z", "updated_at": "2021-10-21T10:59:32Z", "closed_at": "2021-10-21T10:59:28Z", "merged_at": "2021-10-21T10:59:28Z", "merge_commit_sha": "fb9232b45316c3875e12a242d4250e959c7bc24a", "assignee": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 583437191, "node_id": "MDU6TGFiZWw1ODM0MzcxOTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-bors", "name": "S-waiting-on-bors", "color": "d3dddd", "default": false, "description": "Status: Waiting on bors to run and complete tests. Bors will change the label on completion."}, {"id": 2011781731, "node_id": "MDU6TGFiZWwyMDExNzgxNzMx", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs", "name": "T-libs", "color": "bfd4f2", "default": false, "description": "Relevant to the library team, which will review and decide on the PR/issue."}], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/87", "html_url": "https://github.com/rust-lang/rust/milestone/87", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/87/labels", "id": 7260815, "node_id": "MI_kwDOAAsO6M4AbsqP", "number": 87, "title": "1.58.0", "description": null, "creator": {"login": "rustbot", "id": 47979223, "node_id": "MDQ6VXNlcjQ3OTc5MjIz", "avatar_url": "https://avatars.githubusercontent.com/u/47979223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rustbot", "html_url": "https://github.com/rustbot", "followers_url": "https://api.github.com/users/rustbot/followers", "following_url": "https://api.github.com/users/rustbot/following{/other_user}", "gists_url": "https://api.github.com/users/rustbot/gists{/gist_id}", "starred_url": "https://api.github.com/users/rustbot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rustbot/subscriptions", "organizations_url": "https://api.github.com/users/rustbot/orgs", "repos_url": "https://api.github.com/users/rustbot/repos", "events_url": "https://api.github.com/users/rustbot/events{/privacy}", "received_events_url": "https://api.github.com/users/rustbot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 539, "state": "closed", "created_at": "2021-10-17T19:18:18Z", "updated_at": "2022-01-18T15:20:17Z", "due_on": null, "closed_at": "2022-01-18T15:20:17Z"}, "draft": false, "commits_url": "https://api.github.com/repos/rust-lang/rust/pulls/87440/commits", "review_comments_url": "https://api.github.com/repos/rust-lang/rust/pulls/87440/comments", "review_comment_url": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/87440/comments", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/d65ab29e2e67bfc329c606923130d6bf5a518800", "head": {"label": "twetzel59:fix-barrier-no-op", "ref": "fix-barrier-no-op", "sha": "d65ab29e2e67bfc329c606923130d6bf5a518800", "user": {"login": "twetzel59", "id": 27702327, "node_id": "MDQ6VXNlcjI3NzAyMzI3", "avatar_url": "https://avatars.githubusercontent.com/u/27702327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twetzel59", "html_url": "https://github.com/twetzel59", "followers_url": "https://api.github.com/users/twetzel59/followers", "following_url": "https://api.github.com/users/twetzel59/following{/other_user}", "gists_url": "https://api.github.com/users/twetzel59/gists{/gist_id}", "starred_url": "https://api.github.com/users/twetzel59/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twetzel59/subscriptions", "organizations_url": "https://api.github.com/users/twetzel59/orgs", "repos_url": "https://api.github.com/users/twetzel59/repos", "events_url": "https://api.github.com/users/twetzel59/events{/privacy}", "received_events_url": "https://api.github.com/users/twetzel59/received_events", "type": "User", "site_admin": false}, "repo": {"id": 388872275, "node_id": "MDEwOlJlcG9zaXRvcnkzODg4NzIyNzU=", "name": "rust", "full_name": "twetzel59/rust", "private": false, "owner": {"login": "twetzel59", "id": 27702327, "node_id": "MDQ6VXNlcjI3NzAyMzI3", "avatar_url": "https://avatars.githubusercontent.com/u/27702327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twetzel59", "html_url": "https://github.com/twetzel59", "followers_url": "https://api.github.com/users/twetzel59/followers", "following_url": "https://api.github.com/users/twetzel59/following{/other_user}", "gists_url": "https://api.github.com/users/twetzel59/gists{/gist_id}", "starred_url": "https://api.github.com/users/twetzel59/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twetzel59/subscriptions", "organizations_url": "https://api.github.com/users/twetzel59/orgs", "repos_url": "https://api.github.com/users/twetzel59/repos", "events_url": "https://api.github.com/users/twetzel59/events{/privacy}", "received_events_url": "https://api.github.com/users/twetzel59/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/twetzel59/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": true, "url": "https://api.github.com/repos/twetzel59/rust", "forks_url": "https://api.github.com/repos/twetzel59/rust/forks", "keys_url": "https://api.github.com/repos/twetzel59/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/twetzel59/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/twetzel59/rust/teams", "hooks_url": "https://api.github.com/repos/twetzel59/rust/hooks", "issue_events_url": "https://api.github.com/repos/twetzel59/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/twetzel59/rust/events", "assignees_url": "https://api.github.com/repos/twetzel59/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/twetzel59/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/twetzel59/rust/tags", "blobs_url": "https://api.github.com/repos/twetzel59/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/twetzel59/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/twetzel59/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/twetzel59/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/twetzel59/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/twetzel59/rust/languages", "stargazers_url": "https://api.github.com/repos/twetzel59/rust/stargazers", "contributors_url": "https://api.github.com/repos/twetzel59/rust/contributors", "subscribers_url": "https://api.github.com/repos/twetzel59/rust/subscribers", "subscription_url": "https://api.github.com/repos/twetzel59/rust/subscription", "commits_url": "https://api.github.com/repos/twetzel59/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/twetzel59/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/twetzel59/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/twetzel59/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/twetzel59/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/twetzel59/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/twetzel59/rust/merges", "archive_url": "https://api.github.com/repos/twetzel59/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/twetzel59/rust/downloads", "issues_url": "https://api.github.com/repos/twetzel59/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/twetzel59/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/twetzel59/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/twetzel59/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/twetzel59/rust/labels{/name}", "releases_url": "https://api.github.com/repos/twetzel59/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/twetzel59/rust/deployments", "created_at": "2021-07-23T17:08:43Z", "updated_at": "2021-07-24T19:37:14Z", "pushed_at": "2021-07-24T19:57:33Z", "git_url": "git://github.com/twetzel59/rust.git", "ssh_url": "git@github.com:twetzel59/rust.git", "clone_url": "https://github.com/twetzel59/rust.git", "svn_url": "https://github.com/twetzel59/rust", "homepage": "https://www.rust-lang.org", "size": 665321, "stargazers_count": 0, "watchers_count": 0, "language": "Rust", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "rust-lang:master", "ref": "master", "sha": "bddb59cf07efcf6e606f16b87f85e3ecd2c1ca69", "user": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 724712, "node_id": "MDEwOlJlcG9zaXRvcnk3MjQ3MTI=", "name": "rust", "full_name": "rust-lang/rust", "private": false, "owner": {"login": "rust-lang", "id": 5430905, "node_id": "MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5430905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-lang", "html_url": "https://github.com/rust-lang", "followers_url": "https://api.github.com/users/rust-lang/followers", "following_url": "https://api.github.com/users/rust-lang/following{/other_user}", "gists_url": "https://api.github.com/users/rust-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-lang/subscriptions", "organizations_url": "https://api.github.com/users/rust-lang/orgs", "repos_url": "https://api.github.com/users/rust-lang/repos", "events_url": "https://api.github.com/users/rust-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-lang/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/rust-lang/rust", "description": "Empowering everyone to build reliable and efficient software.", "fork": false, "url": "https://api.github.com/repos/rust-lang/rust", "forks_url": "https://api.github.com/repos/rust-lang/rust/forks", "keys_url": "https://api.github.com/repos/rust-lang/rust/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rust-lang/rust/teams", "hooks_url": "https://api.github.com/repos/rust-lang/rust/hooks", "issue_events_url": "https://api.github.com/repos/rust-lang/rust/issues/events{/number}", "events_url": "https://api.github.com/repos/rust-lang/rust/events", "assignees_url": "https://api.github.com/repos/rust-lang/rust/assignees{/user}", "branches_url": "https://api.github.com/repos/rust-lang/rust/branches{/branch}", "tags_url": "https://api.github.com/repos/rust-lang/rust/tags", "blobs_url": "https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rust-lang/rust/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rust-lang/rust/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rust-lang/rust/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rust-lang/rust/statuses/{sha}", "languages_url": "https://api.github.com/repos/rust-lang/rust/languages", "stargazers_url": "https://api.github.com/repos/rust-lang/rust/stargazers", "contributors_url": "https://api.github.com/repos/rust-lang/rust/contributors", "subscribers_url": "https://api.github.com/repos/rust-lang/rust/subscribers", "subscription_url": "https://api.github.com/repos/rust-lang/rust/subscription", "commits_url": "https://api.github.com/repos/rust-lang/rust/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rust-lang/rust/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rust-lang/rust/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rust-lang/rust/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/{+path}", "compare_url": "https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rust-lang/rust/merges", "archive_url": "https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rust-lang/rust/downloads", "issues_url": "https://api.github.com/repos/rust-lang/rust/issues{/number}", "pulls_url": "https://api.github.com/repos/rust-lang/rust/pulls{/number}", "milestones_url": "https://api.github.com/repos/rust-lang/rust/milestones{/number}", "notifications_url": "https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rust-lang/rust/labels{/name}", "releases_url": "https://api.github.com/repos/rust-lang/rust/releases{/id}", "deployments_url": "https://api.github.com/repos/rust-lang/rust/deployments", "created_at": "2010-06-16T20:39:03Z", "updated_at": "2023-06-19T07:47:17Z", "pushed_at": "2023-06-19T07:47:52Z", "git_url": "git://github.com/rust-lang/rust.git", "ssh_url": "git@github.com:rust-lang/rust.git", "clone_url": "https://github.com/rust-lang/rust.git", "svn_url": "https://github.com/rust-lang/rust", "homepage": "https://www.rust-lang.org", "size": 919635, "stargazers_count": 82738, "watchers_count": 82738, "language": "Rust", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": false, "forks_count": 10954, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 9628, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["compiler", "hacktoberfest", "language", "rust"], "visibility": "public", "forks": 10954, "open_issues": 9628, "watchers": 82738, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/87440"}, "html": {"href": "https://github.com/rust-lang/rust/pull/87440"}, "issue": {"href": "https://api.github.com/repos/rust-lang/rust/issues/87440"}, "comments": {"href": "https://api.github.com/repos/rust-lang/rust/issues/87440/comments"}, "review_comments": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/87440/comments"}, "review_comment": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rust-lang/rust/pulls/87440/commits"}, "statuses": {"href": "https://api.github.com/repos/rust-lang/rust/statuses/d65ab29e2e67bfc329c606923130d6bf5a518800"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "comments": 4, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 1, "deletions": 1, "changed_files": 1}