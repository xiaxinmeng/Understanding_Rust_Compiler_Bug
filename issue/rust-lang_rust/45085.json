{"url": "https://api.github.com/repos/rust-lang/rust/issues/45085", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/45085/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/45085/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/45085/events", "html_url": "https://github.com/rust-lang/rust/issues/45085", "id": 263647939, "node_id": "MDU6SXNzdWUyNjM2NDc5Mzk=", "number": 45085, "title": "Consider adding load/store atomics for targets that don't support compare and swap", "user": {"login": "parched", "id": 5975405, "node_id": "MDQ6VXNlcjU5NzU0MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5975405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parched", "html_url": "https://github.com/parched", "followers_url": "https://api.github.com/users/parched/followers", "following_url": "https://api.github.com/users/parched/following{/other_user}", "gists_url": "https://api.github.com/users/parched/gists{/gist_id}", "starred_url": "https://api.github.com/users/parched/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parched/subscriptions", "organizations_url": "https://api.github.com/users/parched/orgs", "repos_url": "https://api.github.com/users/parched/repos", "events_url": "https://api.github.com/users/parched/events{/privacy}", "received_events_url": "https://api.github.com/users/parched/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-10-07T15:11:10Z", "updated_at": "2018-07-06T10:55:15Z", "closed_at": "2018-07-06T10:55:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some targets, Armv6-M for example, don't support atomic compare and swap so have \"max-atomic-width\" set to 0 in their target specs. Often you just need to `AtomicUsize::load` and `AtomicUsize::store` and none of the other CAS dependent methods but unfortunately it's not supported by rust even if that targets natively support it.\r\n\r\nWe could add another field to the target spec, \"max-atomic-load-store-width\", that defaults to the same value as \"max-atomic-width\", for determining whether to enable `Atomic*` without the CAS dependent methods.\r\n\r\ncc @japaric who probably would like this for https://github.com/japaric/spscrb", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/45085/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/45085/timeline", "performed_via_github_app": null, "state_reason": "completed"}