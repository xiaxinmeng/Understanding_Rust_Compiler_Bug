{"url": "https://api.github.com/repos/rust-lang/rust/issues/104255", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/104255/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/104255/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/104255/events", "html_url": "https://github.com/rust-lang/rust/issues/104255", "id": 1444451047, "node_id": "I_kwDOAAsO6M5WGJLn", "number": 104255, "title": "ICE - thread '<unnamed>' panicked at 'forcing query with already existing `DepNode`", "user": {"login": "BlackDex", "id": 610450, "node_id": "MDQ6VXNlcjYxMDQ1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/610450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlackDex", "html_url": "https://github.com/BlackDex", "followers_url": "https://api.github.com/users/BlackDex/followers", "following_url": "https://api.github.com/users/BlackDex/following{/other_user}", "gists_url": "https://api.github.com/users/BlackDex/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlackDex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlackDex/subscriptions", "organizations_url": "https://api.github.com/users/BlackDex/orgs", "repos_url": "https://api.github.com/users/BlackDex/repos", "events_url": "https://api.github.com/users/BlackDex/events{/privacy}", "received_events_url": "https://api.github.com/users/BlackDex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1359848690, "node_id": "MDU6TGFiZWwxMzU5ODQ4Njkw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-mcve", "name": "E-needs-mcve", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs a Minimal Complete and Verifiable Example"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-10T19:31:40Z", "updated_at": "2022-11-13T09:13:39Z", "closed_at": "2022-11-13T09:13:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Code\r\n\r\nhttps://github.com/BlackDex/vaultwarden/tree/impl-events\r\n\r\n\r\n### Meta\r\n- Works on stable\r\n\r\n```\r\nrustc 1.65.0 (897e37553 2022-11-02)\r\nbinary: rustc\r\ncommit-hash: 897e37553bba8b42751c67658967889d11ecd120\r\ncommit-date: 2022-11-02\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.65.0\r\nLLVM version: 15.0.0\r\n```\r\n\r\n- Works on beta\r\n\r\n```\r\nrustc 1.66.0-beta.1 (e080cc5a6 2022-11-01)\r\nbinary: rustc\r\ncommit-hash: e080cc5a659fb760c0bc561b722a790dad35b5e1\r\ncommit-date: 2022-11-01\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.66.0-beta.1\r\nLLVM version: 15.0.2\r\n```\r\n\r\n- Fails on nightly\r\n\r\n```\r\nrustc 1.67.0-nightly (e75aab045 2022-11-09)\r\nbinary: rustc\r\ncommit-hash: e75aab045fc476f176a58c408f6b06f0e275c6e1\r\ncommit-date: 2022-11-09\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.67.0-nightly\r\nLLVM version: 15.0.4\r\n```\r\n\r\n### Error output\r\n\r\n```\r\nthread '<unnamed>' panicked at 'forcing query with already existing `DepNode`\r\n- query-key: Canonical { max_universe: U0, variables: [], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [], reveal: UserFacing, constness: NotConst }, value: Binder(TraitPredicate(<for<'a, 'b, 'c, 'd, 'e, 'f, 'g, 'h> {std::future::ResumeTy, &'a rocket::Request<'b>, &'c rocket::Request<'d>, std::pin::Pin<std::boxed::Box<(dyn futures::Future<Output = rocket::outcome::Outcome<api::admin::AdminToken, (rocket::http::Status, &'e str), ()>> + std::marker::Send + 'f)>>, std::pin::Pin<std::boxed::Box<(dyn futures::Future<Output = rocket::outcome::Outcome<api::admin::AdminToken, (rocket::http::Status, &'g str), ()>> + std::marker::Send + 'h)>>, ()} as std::marker::Send>, polarity:Positive), []) } }\r\n- dep-node: evaluate_obligation(37e3670e4bc24600-d0145d064d70f03f)', /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/compiler/rustc_query_system/src/dep_graph/graph.rs:316:9\r\n```\r\n\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n```\r\nthread '<unnamed>' panicked at 'forcing query with already existing `DepNode`\r\n- query-key: Canonical { max_universe: U0, variables: [], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [], reveal: UserFacing, constness: NotConst }, value: Binder(TraitPredicate(<for<'a, 'b, 'c, 'd, 'e, 'f, 'g, 'h> {std::future::ResumeTy, &'a rocket::Request<'b>, &'c rocket::Request<'d>, std::pin::Pin<std::boxed::Box<(dyn futures::Future<Output = rocket::outcome::Outcome<api::admin::AdminToken, (rocket::http::Status, &'e str), ()>> + std::marker::Send + 'f)>>, std::pin::Pin<std::boxed::Box<(dyn futures::Future<Output = rocket::outcome::Outcome<api::admin::AdminToken, (rocket::http::Status, &'g str), ()>> + std::marker::Send + 'h)>>, ()} as std::marker::Send>, polarity:Positive), []) } }\r\n- dep-node: evaluate_obligation(37e3670e4bc24600-d0145d064d70f03f)', /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/compiler/rustc_query_system/src/dep_graph/graph.rs:316:9\r\nstack backtrace:\r\n   0:     0x78f133d663e0 - std::backtrace_rs::backtrace::libunwind::trace::h475e6d14c20ac628\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\r\n   1:     0x78f133d663e0 - std::backtrace_rs::backtrace::trace_unsynchronized::h782386969d170809\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x78f133d663e0 - std::sys_common::backtrace::_print_fmt::h2cff96f1339c9fb3\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:65:5\r\n   3:     0x78f133d663e0 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h65381e912452bd50\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:44:22\r\n   4:     0x78f133dc84fe - core::fmt::write::hddf5212808edda8e\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/core/src/fmt/mod.rs:1209:17\r\n   5:     0x78f133d56555 - std::io::Write::write_fmt::h86ff774c1fbcc56f\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/io/mod.rs:1682:15\r\n   6:     0x78f133d661a5 - std::sys_common::backtrace::_print::hac5746116d4b1148\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:47:5\r\n   7:     0x78f133d661a5 - std::sys_common::backtrace::print::h989584698b4383b5\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:34:9\r\n   8:     0x78f133d68f7f - std::panicking::default_hook::{{closure}}::hdf7100a7f19aaac7\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:267:22\r\n   9:     0x78f133d68cba - std::panicking::default_hook::hd54c9e09261f65ab\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:286:9\r\n  10:     0x78f133d6978c - std::panicking::rust_panic_with_hook::h6cb13ee30fd78212\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:688:13\r\n  11:     0x78f133d69527 - std::panicking::begin_panic_handler::{{closure}}::h81e7b2a35760b48f\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:579:13\r\n  12:     0x78f133d6688c - std::sys_common::backtrace::__rust_end_short_backtrace::h74bbf3f6d71875f1\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:137:18\r\n  13:     0x78f133d69242 - rust_begin_unwind\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:575:5\r\n  14:     0x78f133dc4ee3 - core::panicking::panic_fmt::h89bd6f1292ecd482\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/core/src/panicking.rs:65:14\r\n  15:     0x78f1355110fd - rustc_query_system[1f6ede8186171781]::query::plumbing::get_query::<rustc_query_impl[b28d4a501f55e093]::queries::evaluate_obligation, rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt>\r\n  16:     0x78f135200a41 - <rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::FulfillProcessor as rustc_data_structures[7663b3d9993f23bc]::obligation_forest::ObligationProcessor>::process_obligation\r\n  17:     0x78f1351fcd0c - <rustc_data_structures[7663b3d9993f23bc]::obligation_forest::ObligationForest<rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::PendingPredicateObligation>>::process_obligations::<rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::FulfillProcessor>\r\n  18:     0x78f13570f9bf - <rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::FulfillmentContext as rustc_infer[3a9b606107d045c1]::traits::engine::TraitEngine>::select_all_or_error\r\n  19:     0x78f1356a37be - <rustc_hir_typeck[fa6a34a4df64972e]::inherited::InheritedBuilder>::enter::<rustc_hir_typeck[fa6a34a4df64972e]::typeck_with_fallback<rustc_hir_typeck[fa6a34a4df64972e]::typeck::{closure#0}>::{closure#0}::{closure#1}, &rustc_middle[2300a5795c47275a]::ty::context::TypeckResults>\r\n  20:     0x78f13569590d - rustc_hir_typeck[fa6a34a4df64972e]::typeck\r\n  21:     0x78f13569f433 - <rustc_query_system[1f6ede8186171781]::dep_graph::graph::DepGraph<rustc_middle[2300a5795c47275a]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[2300a5795c47275a]::ty::context::TyCtxt, rustc_span[2e77502f23847349]::def_id::LocalDefId, &rustc_middle[2300a5795c47275a]::ty::context::TypeckResults>\r\n  22:     0x78f1356940d4 - rustc_query_system[1f6ede8186171781]::query::plumbing::try_execute_query::<rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt, rustc_query_system[1f6ede8186171781]::query::caches::DefaultCache<rustc_span[2e77502f23847349]::def_id::LocalDefId, &rustc_middle[2300a5795c47275a]::ty::context::TypeckResults>>\r\n  23:     0x78f136734878 - rustc_data_structures[7663b3d9993f23bc]::sync::par_for_each_in::<&[rustc_span[2e77502f23847349]::def_id::LocalDefId], <rustc_middle[2300a5795c47275a]::hir::map::Map>::par_body_owners<rustc_hir_typeck[fa6a34a4df64972e]::typeck_item_bodies::{closure#0}>::{closure#0}>\r\n  24:     0x78f136734553 - rustc_hir_typeck[fa6a34a4df64972e]::typeck_item_bodies\r\n  25:     0x78f13662cc89 - <rustc_query_system[1f6ede8186171781]::dep_graph::graph::DepGraph<rustc_middle[2300a5795c47275a]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[2300a5795c47275a]::ty::context::TyCtxt, (), ()>\r\n  26:     0x78f13662bc2d - rustc_query_system[1f6ede8186171781]::query::plumbing::try_execute_query::<rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt, rustc_query_system[1f6ede8186171781]::query::caches::DefaultCache<(), ()>>\r\n  27:     0x78f13662b5b7 - rustc_query_system[1f6ede8186171781]::query::plumbing::get_query::<rustc_query_impl[b28d4a501f55e093]::queries::typeck_item_bodies, rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt>\r\n  28:     0x78f1353a776a - <rustc_session[6a0929c18a48d200]::session::Session>::time::<(), rustc_hir_analysis[47fee765dc455125]::check_crate::{closure#7}>\r\n  29:     0x78f1353a6ebb - rustc_hir_analysis[47fee765dc455125]::check_crate\r\n  30:     0x78f1353a6aeb - rustc_interface[2d69c3ee45228f8a]::passes::analysis\r\n  31:     0x78f13678c62e - <rustc_query_system[1f6ede8186171781]::dep_graph::graph::DepGraph<rustc_middle[2300a5795c47275a]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[2300a5795c47275a]::ty::context::TyCtxt, (), core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  32:     0x78f13678b9a4 - rustc_query_system[1f6ede8186171781]::query::plumbing::try_execute_query::<rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt, rustc_query_system[1f6ede8186171781]::query::caches::DefaultCache<(), core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>>\r\n  33:     0x78f13678b427 - rustc_query_system[1f6ede8186171781]::query::plumbing::get_query::<rustc_query_impl[b28d4a501f55e093]::queries::analysis, rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt>\r\n  34:     0x78f13621c2be - <rustc_interface[2d69c3ee45228f8a]::passes::QueryContext>::enter::<rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  35:     0x78f13621938f - <rustc_interface[2d69c3ee45228f8a]::interface::Compiler>::enter::<rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}::{closure#2}, core[7d0df67402c3c815]::result::Result<core[7d0df67402c3c815]::option::Option<rustc_interface[2d69c3ee45228f8a]::queries::Linker>, rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  36:     0x78f1362143c2 - rustc_span[2e77502f23847349]::with_source_map::<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}::{closure#1}>\r\n  37:     0x78f136213e9c - <scoped_tls[5e9cb458eb9b4943]::ScopedKey<rustc_span[2e77502f23847349]::SessionGlobals>>::set::<rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  38:     0x78f136213488 - std[15847fe8052079fc]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[2d69c3ee45228f8a]::util::run_in_thread_pool_with_globals<rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  39:     0x78f1362131ac - <<std[15847fe8052079fc]::thread::Builder>::spawn_unchecked_<rustc_interface[2d69c3ee45228f8a]::util::run_in_thread_pool_with_globals<rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>::{closure#1} as core[7d0df67402c3c815]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  40:     0x78f137cb3953 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h9a068bdd0d9f070e\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/alloc/src/boxed.rs:2000:9\r\n  41:     0x78f137cb3953 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h86d7b043c0b02a10\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/alloc/src/boxed.rs:2000:9\r\n  42:     0x78f137cb3953 - std::sys::unix::thread::Thread::new::thread_start::hfaaa856b3ec2dce6\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys/unix/thread.rs:108:17\r\n  43:     0x78f1380b6609 - start_thread\r\n                               at /build/glibc-SzIz7B/glibc-2.31/nptl/pthread_create.c:477:8\r\n  44:     0x78f133b98133 - clone\r\n                               at /build/glibc-SzIz7B/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n  45:                0x0 - <unknown>\r\nthread '<unnamed>' panicked at 'forcing query with already existing `DepNode`\r\n- query-key: Canonical { max_universe: U0, variables: [], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [], reveal: UserFacing, constness: NotConst }, value: Binder(TraitPredicate(<for<'a, 'b, 'c, 'd, 'e, 'f, 'g, 'h> {std::future::ResumeTy, &'a rocket::Request<'b>, &'c rocket::Request<'d>, std::pin::Pin<std::boxed::Box<(dyn futures::Future<Output = rocket::outcome::Outcome<api::admin::AdminToken, (rocket::http::Status, &'e str), ()>> + std::marker::Send + 'f)>>, std::pin::Pin<std::boxed::Box<(dyn futures::Future<Output = rocket::outcome::Outcome<api::admin::AdminToken, (rocket::http::Status, &'g str), ()>> + std::marker::Send + 'h)>>, ()} as std::marker::Send>, polarity:Positive), []) } }\r\n- dep-node: evaluate_obligation(37e3670e4bc24600-d0145d064d70f03f)', /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/compiler/rustc_query_system/src/dep_graph/graph.rs:316:9\r\nstack backtrace:\r\n   0:     0x78f133d663e0 - std::backtrace_rs::backtrace::libunwind::trace::h475e6d14c20ac628\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\r\n   1:     0x78f133d663e0 - std::backtrace_rs::backtrace::trace_unsynchronized::h782386969d170809\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x78f133d663e0 - std::sys_common::backtrace::_print_fmt::h2cff96f1339c9fb3\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:65:5\r\n   3:     0x78f133d663e0 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h65381e912452bd50\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:44:22\r\n   4:     0x78f133dc84fe - core::fmt::write::hddf5212808edda8e\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/core/src/fmt/mod.rs:1209:17\r\n   5:     0x78f133d56555 - std::io::Write::write_fmt::h86ff774c1fbcc56f\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/io/mod.rs:1682:15\r\n   6:     0x78f133d661a5 - std::sys_common::backtrace::_print::hac5746116d4b1148\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:47:5\r\n   7:     0x78f133d661a5 - std::sys_common::backtrace::print::h989584698b4383b5\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:34:9\r\n   8:     0x78f133d68f7f - std::panicking::default_hook::{{closure}}::hdf7100a7f19aaac7\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:267:22\r\n   9:     0x78f133d68cba - std::panicking::default_hook::hd54c9e09261f65ab\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:286:9\r\n  10:     0x78f133d6978c - std::panicking::rust_panic_with_hook::h6cb13ee30fd78212\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:688:13\r\n  11:     0x78f133d69527 - std::panicking::begin_panic_handler::{{closure}}::h81e7b2a35760b48f\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:579:13\r\n  12:     0x78f133d6688c - std::sys_common::backtrace::__rust_end_short_backtrace::h74bbf3f6d71875f1\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys_common/backtrace.rs:137:18\r\n  13:     0x78f133d69242 - rust_begin_unwind\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/panicking.rs:575:5\r\n  14:     0x78f133dc4ee3 - core::panicking::panic_fmt::h89bd6f1292ecd482\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/core/src/panicking.rs:65:14\r\n  15:     0x78f1355110fd - rustc_query_system[1f6ede8186171781]::query::plumbing::get_query::<rustc_query_impl[b28d4a501f55e093]::queries::evaluate_obligation, rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt>\r\n  16:     0x78f135200a41 - <rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::FulfillProcessor as rustc_data_structures[7663b3d9993f23bc]::obligation_forest::ObligationProcessor>::process_obligation\r\n  17:     0x78f1351fcd0c - <rustc_data_structures[7663b3d9993f23bc]::obligation_forest::ObligationForest<rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::PendingPredicateObligation>>::process_obligations::<rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::FulfillProcessor>\r\n  18:     0x78f13570f9bf - <rustc_trait_selection[25b51cfe2be0bca7]::traits::fulfill::FulfillmentContext as rustc_infer[3a9b606107d045c1]::traits::engine::TraitEngine>::select_all_or_error\r\n  19:     0x78f1356a37be - <rustc_hir_typeck[fa6a34a4df64972e]::inherited::InheritedBuilder>::enter::<rustc_hir_typeck[fa6a34a4df64972e]::typeck_with_fallback<rustc_hir_typeck[fa6a34a4df64972e]::typeck::{closure#0}>::{closure#0}::{closure#1}, &rustc_middle[2300a5795c47275a]::ty::context::TypeckResults>\r\n  20:     0x78f13569590d - rustc_hir_typeck[fa6a34a4df64972e]::typeck\r\n  21:     0x78f13569f433 - <rustc_query_system[1f6ede8186171781]::dep_graph::graph::DepGraph<rustc_middle[2300a5795c47275a]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[2300a5795c47275a]::ty::context::TyCtxt, rustc_span[2e77502f23847349]::def_id::LocalDefId, &rustc_middle[2300a5795c47275a]::ty::context::TypeckResults>\r\n  22:     0x78f1356940d4 - rustc_query_system[1f6ede8186171781]::query::plumbing::try_execute_query::<rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt, rustc_query_system[1f6ede8186171781]::query::caches::DefaultCache<rustc_span[2e77502f23847349]::def_id::LocalDefId, &rustc_middle[2300a5795c47275a]::ty::context::TypeckResults>>\r\n  23:     0x78f136734878 - rustc_data_structures[7663b3d9993f23bc]::sync::par_for_each_in::<&[rustc_span[2e77502f23847349]::def_id::LocalDefId], <rustc_middle[2300a5795c47275a]::hir::map::Map>::par_body_owners<rustc_hir_typeck[fa6a34a4df64972e]::typeck_item_bodies::{closure#0}>::{closure#0}>\r\n  24:     0x78f136734553 - rustc_hir_typeck[fa6a34a4df64972e]::typeck_item_bodies\r\n  25:     0x78f13662cc89 - <rustc_query_system[1f6ede8186171781]::dep_graph::graph::DepGraph<rustc_middle[2300a5795c47275a]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[2300a5795c47275a]::ty::context::TyCtxt, (), ()>\r\n  26:     0x78f13662bc2d - rustc_query_system[1f6ede8186171781]::query::plumbing::try_execute_query::<rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt, rustc_query_system[1f6ede8186171781]::query::caches::DefaultCache<(), ()>>\r\n  27:     0x78f13662b5b7 - rustc_query_system[1f6ede8186171781]::query::plumbing::get_query::<rustc_query_impl[b28d4a501f55e093]::queries::typeck_item_bodies, rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt>\r\n  28:     0x78f1353a776a - <rustc_session[6a0929c18a48d200]::session::Session>::time::<(), rustc_hir_analysis[47fee765dc455125]::check_crate::{closure#7}>\r\n  29:     0x78f1353a6ebb - rustc_hir_analysis[47fee765dc455125]::check_crate\r\n  30:     0x78f1353a6aeb - rustc_interface[2d69c3ee45228f8a]::passes::analysis\r\n  31:     0x78f13678c62e - <rustc_query_system[1f6ede8186171781]::dep_graph::graph::DepGraph<rustc_middle[2300a5795c47275a]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[2300a5795c47275a]::ty::context::TyCtxt, (), core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  32:     0x78f13678b9a4 - rustc_query_system[1f6ede8186171781]::query::plumbing::try_execute_query::<rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt, rustc_query_system[1f6ede8186171781]::query::caches::DefaultCache<(), core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>>\r\n  33:     0x78f13678b427 - rustc_query_system[1f6ede8186171781]::query::plumbing::get_query::<rustc_query_impl[b28d4a501f55e093]::queries::analysis, rustc_query_impl[b28d4a501f55e093]::plumbing::QueryCtxt>\r\n  34:     0x78f13621c2be - <rustc_interface[2d69c3ee45228f8a]::passes::QueryContext>::enter::<rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  35:     0x78f13621938f - <rustc_interface[2d69c3ee45228f8a]::interface::Compiler>::enter::<rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}::{closure#2}, core[7d0df67402c3c815]::result::Result<core[7d0df67402c3c815]::option::Option<rustc_interface[2d69c3ee45228f8a]::queries::Linker>, rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  36:     0x78f1362143c2 - rustc_span[2e77502f23847349]::with_source_map::<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}::{closure#1}>\r\n  37:     0x78f136213e9c - <scoped_tls[5e9cb458eb9b4943]::ScopedKey<rustc_span[2e77502f23847349]::SessionGlobals>>::set::<rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  38:     0x78f136213488 - std[15847fe8052079fc]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[2d69c3ee45228f8a]::util::run_in_thread_pool_with_globals<rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>\r\n  39:     0x78f1362131ac - <<std[15847fe8052079fc]::thread::Builder>::spawn_unchecked_<rustc_interface[2d69c3ee45228f8a]::util::run_in_thread_pool_with_globals<rustc_interface[2d69c3ee45228f8a]::interface::run_compiler<core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>, rustc_driver[41f9f2ea3541ee7a]::run_compiler::{closure#1}>::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[7d0df67402c3c815]::result::Result<(), rustc_errors[2bcb93b13263f24b]::ErrorGuaranteed>>::{closure#1} as core[7d0df67402c3c815]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  40:     0x78f137cb3953 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h9a068bdd0d9f070e\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/alloc/src/boxed.rs:2000:9\r\n  41:     0x78f137cb3953 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h86d7b043c0b02a10\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/alloc/src/boxed.rs:2000:9\r\n  42:     0x78f137cb3953 - std::sys::unix::thread::Thread::new::thread_start::hfaaa856b3ec2dce6\r\n                               at /rustc/e75aab045fc476f176a58c408f6b06f0e275c6e1/library/std/src/sys/unix/thread.rs:108:17\r\n  43:     0x78f1380b6609 - start_thread\r\n                               at /build/glibc-SzIz7B/glibc-2.31/nptl/pthread_create.c:477:8\r\n  44:     0x78f133b98133 - clone\r\n                               at /build/glibc-SzIz7B/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n  45:                0x0 - <unknown>\r\nthread panicked while panicking. aborting.\r\nerror: could not compile `vaultwarden`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name vaultwarden --edition=2021 src/main.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type bin --emit=dep-info,link -C embed-bitcode=no -C debuginfo=2 --cfg 'feature=\"libsqlite3-sys\"' --cfg 'feature=\"sqlite\"' -C metadata=da593f8ba541dc41 -C extra-filename=-da593f8ba541dc41 --out-dir /home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps -C incremental=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/incremental -L dependency=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps --extern backtrace=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libbacktrace-1bfb2ad284f42f25.rlib --extern bytes=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libbytes-5e6b89f5bbd0cc67.rlib --extern cached=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libcached-ddcb7620514ac71a.rlib --extern chrono=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libchrono-2cb04540718384fa.rlib --extern chrono_tz=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libchrono_tz-281aca55b4ef3e78.rlib --extern cookie=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libcookie-01c321856dd2802b.rlib --extern cookie_store=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libcookie_store-8ed583008194f92a.rlib --extern ctrlc=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libctrlc-18d167cc16a84480.rlib --extern dashmap=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libdashmap-546f7f4099cc6ae8.rlib --extern data_encoding=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libdata_encoding-3c374c1dd97708e3.rlib --extern data_url=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libdata_url-715e6d99d9e27278.rlib --extern diesel=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libdiesel-535f998f14a042ac.rlib --extern diesel_migrations=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libdiesel_migrations-acc0c3813b83af74.rlib --extern dotenvy=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libdotenvy-874c666fc4362883.rlib --extern email_address=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libemail_address-5f67fe8016b00aaf.rlib --extern fern=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libfern-003eda43dd226f6d.rlib --extern futures=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libfutures-a78128c215177a64.rlib --extern governor=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libgovernor-fc005c7ff5204646.rlib --extern handlebars=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libhandlebars-28ba9ae22f6fdf1b.rlib --extern html5gum=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libhtml5gum-82df064a2d012eb3.rlib --extern job_scheduler_ng=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libjob_scheduler_ng-ec5fe626852f2bdc.rlib --extern jsonwebtoken=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libjsonwebtoken-8f2a6a1189f94e8a.rlib --extern lettre=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/liblettre-3a454e9b01ae0e56.rlib --extern libsqlite3_sys=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/liblibsqlite3_sys-b89429ad83b83b9a.rlib --extern log=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/liblog-2aea261907451eb5.rlib --extern num_derive=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libnum_derive-895fde4415b0e13e.so --extern num_traits=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libnum_traits-3f0549f1f4c73647.rlib --extern once_cell=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libonce_cell-70e1affe12711084.rlib --extern openssl=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libopenssl-06e7217da27c1506.rlib --extern paste=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libpaste-46f3bd3473781b46.so --extern percent_encoding=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libpercent_encoding-6f3e3411afe6defd.rlib --extern pico_args=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libpico_args-2a0da44bc2f40e00.rlib --extern rand=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/librand-c52ed873f5b2e6a8.rlib --extern regex=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libregex-8745b8b8bdbcc787.rlib --extern reqwest=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libreqwest-521dacdfb5614198.rlib --extern ring=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libring-5b49029b094f8dd9.rlib --extern rmpv=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/librmpv-51dd080f83985063.rlib --extern rocket=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/librocket-23a178b81ff8bfef.rlib --extern semver=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libsemver-af27ef5d72c66541.rlib --extern serde=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libserde-68bad29288c89745.rlib --extern serde_json=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libserde_json-e3d9424a5ae4367b.rlib --extern syslog=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libsyslog-281c5277aed9bcad.rlib --extern time=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libtime-624a968e820d7b07.rlib --extern tokio=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libtokio-cd8e85d016d68186.rlib --extern tokio_tungstenite=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libtokio_tungstenite-acebcb2d89166fcc.rlib --extern totp_lite=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libtotp_lite-3a0618318175b53c.rlib --extern tracing=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libtracing-742d7b21166d55bb.rlib --extern url=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/liburl-bebf37900bf8b0b2.rlib --extern uuid=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libuuid-b49bc0a991db8e22.rlib --extern webauthn_rs=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libwebauthn_rs-1b88ffd71152afa9.rlib --extern yubico=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/deps/libyubico-2bdf3e8266029fc7.rlib -L native=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/build/libsqlite3-sys-abe617a71f852dd7/out -L native=/home/mathijs/rust/bitwarden/bitwarden_rs/target/debug/build/ring-99ab37d02e0fab5a/out --cfg sqlite` (signal: 6, SIGABRT: process abort signal)\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/104255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/104255/timeline", "performed_via_github_app": null, "state_reason": "completed"}