{"url": "https://api.github.com/repos/rust-lang/rust/issues/93610", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/93610/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/93610/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/93610/events", "html_url": "https://github.com/rust-lang/rust/issues/93610", "id": 1122846457, "node_id": "I_kwDOAAsO6M5C7Ub5", "number": 93610, "title": "Tracking Issue for `arc_unwrap_or_clone`", "user": {"login": "derekdreery", "id": 1392222, "node_id": "MDQ6VXNlcjEzOTIyMjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1392222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekdreery", "html_url": "https://github.com/derekdreery", "followers_url": "https://api.github.com/users/derekdreery/followers", "following_url": "https://api.github.com/users/derekdreery/following{/other_user}", "gists_url": "https://api.github.com/users/derekdreery/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekdreery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekdreery/subscriptions", "organizations_url": "https://api.github.com/users/derekdreery/orgs", "repos_url": "https://api.github.com/users/derekdreery/repos", "events_url": "https://api.github.com/users/derekdreery/events{/privacy}", "received_events_url": "https://api.github.com/users/derekdreery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 650846969, "node_id": "MDU6TGFiZWw2NTA4NDY5Njk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-tracking-issue", "name": "C-tracking-issue", "color": "f5f1fd", "default": false, "description": "Category: A tracking issue for an RFC or an unstable feature."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-02-03T09:29:30Z", "updated_at": "2023-05-21T08:47:09Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Feature gate: `#![feature(arc_unwrap_or_clone)]`\r\n\r\nThis is a tracking issue for `arc_unwrap_or_clone`. This feature adds methods to `Rc`/`Arc` to gain access to the contained value, by unwrapping if there is exactly one reference, or cloning otherwise. It is equivalent to cloning the inner value, but saves the clone operation if the caller has the only reference to the rc'd value.\r\n\r\n### Public API\r\n\r\n```rust\r\nimpl<T: Clone> Arc<T> {\r\n    pub fn unwrap_or_clone(this: Self) -> T;\r\n}\r\n```\r\n\r\n### Steps / History\r\n\r\n- [x] Implementation: #91589\r\n- [ ] Final comment period (FCP)\r\n- [ ] Stabilization PR\r\n\r\n### Unresolved Questions\r\n\r\n- ~~More bikeshedding on the name is possible. Existing discussion on [irlo](https://internals.rust-lang.org/t/arc-into-inner/15707).~~ There seems to be consensus that the current name is good.\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/93610/reactions", "total_count": 15, "+1": 15, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/93610/timeline", "performed_via_github_app": null, "state_reason": null}