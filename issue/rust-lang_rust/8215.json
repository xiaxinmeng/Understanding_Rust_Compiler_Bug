{"url": "https://api.github.com/repos/rust-lang/rust/issues/8215", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/8215/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/8215/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/8215/events", "html_url": "https://github.com/rust-lang/rust/issues/8215", "id": 17541575, "node_id": "MDU6SXNzdWUxNzU0MTU3NQ==", "number": 8215, "title": "Documenting and fixing resolve's notion of public/private", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2013-08-02T02:19:30Z", "updated_at": "2015-08-26T15:57:10Z", "closed_at": "2013-10-08T05:56:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Making an issue off of [my email](https://mail.mozilla.org/pipermail/rust-dev/2013-July/005068.html) to the mailing list.\n\nCurrently today resolve is generally considered \"broken\", and I think that this would benefit from actually writing the rules down, writing lots of test cases and documentation, and then fixing resolve. To the best of my knowledge, these are the rules which resolve should follow for determining whether an item is public or private and whether a certain path should resolve or not:\n1. All items are private by default, with the exception of struct fields.\n   To flag an item as public, you use `pub`. Also `pub` is not allowed on `impl`\n   or `extern` (visibility is determined by each item individually).\n2. For a path which is a cross-crate reference, it is only valid of _every_\n   item in the path is marked as `pub`.\n3. A module may access any item from its immediate parent.\n4. A module may access any item from its immediate children.\n5. Any local-crate path which goes outside the bounds of 3/4 will only resolve\n   if each component of the path is `pub`. For example I could reach into a\n   child's private mod's pub items, but not the child's private mod's non-pub\n   items.\n\nI'm nominating for a backwards-compatibility milestone as there's probably lots of existing code which is doing the wrong thing by accident.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/8215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/8215/timeline", "performed_via_github_app": null, "state_reason": "completed"}