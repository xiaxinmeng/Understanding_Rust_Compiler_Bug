{"url": "https://api.github.com/repos/rust-lang/rust/issues/80485", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/80485/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/80485/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/80485/events", "html_url": "https://github.com/rust-lang/rust/issues/80485", "id": 776080221, "node_id": "MDU6SXNzdWU3NzYwODAyMjE=", "number": 80485, "title": "thread 'main' panicked at 'attempted to leave type uninitialized, which is invalid (regression 1.47 -> 1.48)", "user": {"login": "amarao", "id": 652496, "node_id": "MDQ6VXNlcjY1MjQ5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/652496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amarao", "html_url": "https://github.com/amarao", "followers_url": "https://api.github.com/users/amarao/followers", "following_url": "https://api.github.com/users/amarao/following{/other_user}", "gists_url": "https://api.github.com/users/amarao/gists{/gist_id}", "starred_url": "https://api.github.com/users/amarao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amarao/subscriptions", "organizations_url": "https://api.github.com/users/amarao/orgs", "repos_url": "https://api.github.com/users/amarao/repos", "events_url": "https://api.github.com/users/amarao/events{/privacy}", "received_events_url": "https://api.github.com/users/amarao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-29T20:48:37Z", "updated_at": "2022-07-17T12:31:29Z", "closed_at": "2020-12-29T21:55:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Code\r\n\r\nI tried this code:\r\nhttps://github.com/amarao/equart/tree/b07f31318b0529d3c01fe5d077497f3511dbc779\r\n\r\n(sorry, it happens somewhere deep inside Piston library I use, so the whole application is needed to make it runable).\r\n\r\nI expected to see this happen:\r\n\r\nApplication should work (display a picture).\r\n\r\nInstead, this happened:\r\n\r\nApplication crashes if mouse is moved over the window (Linux).\r\n\r\n`thread 'main' panicked at 'attempted to leave type `platform::platform::x11::util::input::PointerState` uninitialized, which is invalid', .rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/mem/mod.rs:658:9`\r\n\r\nIt most recently worked on: Rust 1.47\r\n\r\n### Version with regression\r\n\r\nRust 1.48.0\r\n\r\n```\r\nrustc 1.48.0 (7eac88abb 2020-11-16)\r\nbinary: rustc\r\ncommit-hash: 7eac88abb2e57e752f3302f02be5f3ce3d7adfb4\r\ncommit-date: 2020-11-16\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.48.0\r\nLLVM version: 11.0\r\n```\r\n\r\n### Backtrace\r\n\r\n```\r\nthread 'main' panicked at 'attempted to leave type `platform::platform::x11::util::input::PointerState` uninitialized, which is invalid', /home/amarao/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/mem/mod.rs:658:9\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /rustc/7eac88abb2e57e752f3302f02be5f3ce3d7adfb4/library/std/src/panicking.rs:483\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/7eac88abb2e57e752f3302f02be5f3ce3d7adfb4/library/core/src/panicking.rs:85\r\n   2: core::panicking::panic\r\n             at /rustc/7eac88abb2e57e752f3302f02be5f3ce3d7adfb4/library/core/src/panicking.rs:50\r\n   3: winit::platform::platform::x11::util::input::<impl winit::platform::platform::x11::xdisplay::XConnection>::query_pointer\r\n   4: winit::platform::platform::x11::EventsLoop::process_event\r\n   5: glutin_window::GlutinWindow::poll_event\r\n   6: <glutin_window::GlutinWindow as window::Window>::poll_event\r\n   7: event_loop::Events::next\r\n   8: equart::main\r\n```\r\n\r\n", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/80485/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/80485/timeline", "performed_via_github_app": null, "state_reason": "completed"}