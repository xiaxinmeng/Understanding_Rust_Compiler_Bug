{"url": "https://api.github.com/repos/rust-lang/rust/issues/57668", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57668/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57668/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57668/events", "html_url": "https://github.com/rust-lang/rust/issues/57668", "id": 399826366, "node_id": "MDU6SXNzdWUzOTk4MjYzNjY=", "number": 57668, "title": "Misleading code change suggestion in E0106", "user": {"login": "d33tah", "id": 295322, "node_id": "MDQ6VXNlcjI5NTMyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/295322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d33tah", "html_url": "https://github.com/d33tah", "followers_url": "https://api.github.com/users/d33tah/followers", "following_url": "https://api.github.com/users/d33tah/following{/other_user}", "gists_url": "https://api.github.com/users/d33tah/gists{/gist_id}", "starred_url": "https://api.github.com/users/d33tah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d33tah/subscriptions", "organizations_url": "https://api.github.com/users/d33tah/orgs", "repos_url": "https://api.github.com/users/d33tah/repos", "events_url": "https://api.github.com/users/d33tah/events{/privacy}", "received_events_url": "https://api.github.com/users/d33tah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-16T14:12:07Z", "updated_at": "2019-01-16T21:09:34Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I'm writing this in relation to the following StackOverflow question:\r\n\r\nhttps://stackoverflow.com/q/54217705/1091116\r\n\r\nConsider the following code:\r\n\r\n```rust\r\n    extern crate clap;\r\n    use clap::{App};\r\n    \r\n    use std::io;\r\n    \r\n    fn parse_argv() -> &'static clap::ArgMatches {\r\n        return App::new(\"example\")\r\n        .get_matches()\r\n    }\r\n    \r\n    fn main() -> io::Result<()> {\r\n    \r\n        let matches = parse_argv();\r\n    \r\n        Ok(())\r\n    }\r\n```\r\n\r\nThis is the error:\r\n\r\n<!-- language: none -->\r\n                                                                                                                                                                                                                                                                      \r\n    error[E0106]: missing lifetime specifier                                                                                                                                                                                                                                                                                                                                   \r\n     --> src/main.rs:6:29                                                                                                                                                                                                                                                                                                                                                      \r\n      |                                                                                                                                                                                                                                                                                                                                                                        \r\n    6 | fn parse_argv() -> &'static clap::ArgMatches {                                                                                                                                                                                                                                                                                                                         \r\n      |                             ^^^^^^^^^^^^^^^^ help: consider giving it a 'static lifetime: `clap::ArgMatches + 'static`                                                                                                                                                                                                                                                 \r\n      |                                                                                                                                                                                                                                                                                                                                                                        \r\n      = help: this function's return type contains a borrowed value, but there is no value for it to be borrowed from\r\n\r\nNow, the part that is troublesome is: \r\n\r\n      help: consider giving it a 'static lifetime: `clap::ArgMatches + 'static`\r\n\r\nI believe that compiler should give a clearer error message here, a suggestion on how to proceed or no code change suggestion at all. Doing as the compiler suggests doesn't solve them problem and results in the error message not going away.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57668/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57668/timeline", "performed_via_github_app": null, "state_reason": null}