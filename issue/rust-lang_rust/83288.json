{"url": "https://api.github.com/repos/rust-lang/rust/issues/83288", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/83288/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/83288/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/83288/events", "html_url": "https://github.com/rust-lang/rust/issues/83288", "id": 835445143, "node_id": "MDU6SXNzdWU4MzU0NDUxNDM=", "number": 83288, "title": "ICE with const generics.", "user": {"login": "krsnik02", "id": 1832977, "node_id": "MDQ6VXNlcjE4MzI5Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1832977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krsnik02", "html_url": "https://github.com/krsnik02", "followers_url": "https://api.github.com/users/krsnik02/followers", "following_url": "https://api.github.com/users/krsnik02/following{/other_user}", "gists_url": "https://api.github.com/users/krsnik02/gists{/gist_id}", "starred_url": "https://api.github.com/users/krsnik02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krsnik02/subscriptions", "organizations_url": "https://api.github.com/users/krsnik02/orgs", "repos_url": "https://api.github.com/users/krsnik02/repos", "events_url": "https://api.github.com/users/krsnik02/events{/privacy}", "received_events_url": "https://api.github.com/users/krsnik02/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1282665911, "node_id": "MDU6TGFiZWwxMjgyNjY1OTEx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-const-generics", "name": "A-const-generics", "color": "f7e101", "default": false, "description": "Area: const generics (parameters and arguments)"}, {"id": 1615551553, "node_id": "MDU6TGFiZWwxNjE1NTUxNTUz", "url": "https://api.github.com/repos/rust-lang/rust/labels/glacier", "name": "glacier", "color": "a5e2ff", "default": false, "description": "ICE tracked in rust-lang/glacier"}, {"id": 2341291797, "node_id": "MDU6TGFiZWwyMzQxMjkxNzk3", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-generic_const_exprs", "name": "F-generic_const_exprs", "color": "f9c0cc", "default": false, "description": "`#![feature(generic_const_exprs)]`"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-19T01:49:03Z", "updated_at": "2021-12-05T03:41:21Z", "closed_at": "2021-12-05T03:41:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\n\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n\r\n-->\r\n\r\n### Code\r\n\r\n```Rust\r\n#![allow(incomplete_features)]\r\n#![feature(const_generics, const_evaluatable_checked)]\r\n\r\nuse std::{marker::PhantomData, ops::Mul};\r\n\r\npub enum Nil {}\r\npub struct Cons<T, L> {\r\n    _phantom: PhantomData<(T, L)>,\r\n}\r\n\r\npub trait Indices<const N: usize> {\r\n    const RANK: usize;\r\n    const NUM_ELEMS: usize;\r\n}\r\n\r\nimpl<const N: usize> Indices<N> for Nil {\r\n    const RANK: usize = 0;\r\n    const NUM_ELEMS: usize = 1;\r\n}\r\n\r\nimpl<T, I: Indices<N>, const N: usize> Indices<N> for Cons<T, I> {\r\n    const RANK: usize = I::RANK + 1;\r\n    const NUM_ELEMS: usize = I::NUM_ELEMS * N;\r\n}\r\n\r\npub trait Concat<J> {\r\n    type Output;\r\n}\r\n\r\nimpl<J> Concat<J> for Nil {\r\n    type Output = J;\r\n}\r\n\r\nimpl<T, I, J> Concat<J> for Cons<T, I>\r\nwhere\r\n    I: Concat<J>,\r\n{\r\n    type Output = Cons<T, <I as Concat<J>>::Output>;\r\n}\r\n\r\npub struct Tensor<I: Indices<N>, const N: usize>\r\nwhere\r\n    [u8; I::NUM_ELEMS]: Sized,\r\n{\r\n    pub data: [u8; I::NUM_ELEMS],\r\n    _phantom: PhantomData<I>,\r\n}\r\n\r\nimpl<I: Indices<N>, J: Indices<N>, const N: usize> Mul<Tensor<J, N>> for Tensor<I, N>\r\nwhere\r\n    I: Concat<J>,\r\n    <I as Concat<J>>::Output: Indices<N>,\r\n    [u8; I::NUM_ELEMS]: Sized,\r\n    [u8; J::NUM_ELEMS]: Sized,\r\n    [u8; <I as Concat<J>>::Output::NUM_ELEMS]: Sized,\r\n{\r\n    type Output = Tensor<<I as Concat<J>>::Output, N>;\r\n\r\n    fn mul(self, rhs: Tensor<J, N>) -> Self::Output {\r\n        Tensor {\r\n            data: [0u8; <I as Concat<J>>::Output::NUM_ELEMS],\r\n            _phantom: PhantomData,\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.52.0-nightly (1705a7d64 2021-03-18)\r\nbinary: rustc\r\ncommit-hash: 1705a7d64b833d1c4b69958b0627bd054e6d764b\r\ncommit-date: 2021-03-18\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.52.0-nightly\r\nLLVM version: 12.0.0\r\n```\r\n\r\n### Error output\r\n\r\n```\r\nerror: internal compiler error: compiler\\rustc_infer\\src\\infer\\freshen.rs:247:17: unexpected const Const { ty: usize, val: Bound(DebruijnIndex(0), 1) }\r\n\r\nthread 'rustc' panicked at 'Box<Any>', /rustc/1705a7d64b833d1c4b69958b0627bd054e6d764b\\library\\std\\src\\panic.rs:59:5\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.52.0-nightly (1705a7d64 2021-03-18) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: -C embed-bitcode=no -C debuginfo=2 -C incremental --crate-type lib\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nthread 'rustc' panicked at 'substs of instance DefId(0:18 ~ error_minimal[71ac]::Indices::NUM_ELEMS) not normalized for codegen: [^0, Const { ty: usize, val: Bound(DebruijnIndex(0), 1) }]', compiler\\rustc_middle\\src\\ty\\instance.rs:284:9\r\nstack backtrace:\r\n   0:     0x7fffec1381fe - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h62553bb33d269d2e\r\n   1:     0x7fffec1634cc - core::fmt::write::h187a24ff0c56237d\r\n   2:     0x7fffec12bc58 - <std::io::IoSlice as core::fmt::Debug>::fmt::h7a51133a1941366b\r\n   3:     0x7fffec13c3fd - std::panicking::take_hook::ha7af702674468c4c\r\n   4:     0x7fffec13bec9 - std::panicking::take_hook::ha7af702674468c4c\r\n   5:     0x7fffc0c8dd87 - rustc_driver::report_ice::hf10dc2c8fa4042ab\r\n   6:     0x7fffec13cc55 - std::panicking::rust_panic_with_hook::hffdabf0e02906eb3\r\n   7:     0x7fffec13c7c1 - rust_begin_unwind\r\n   8:     0x7fffec138b1f - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h62553bb33d269d2e\r\n   9:     0x7fffec13c719 - rust_begin_unwind\r\n  10:     0x7fffec194fdc - std::panicking::begin_panic_fmt::h5f113f8f74763d19\r\n  11:     0x7fffc4be94ef - rustc_middle::ty::instance::Instance::new::hc3cef614036b2c39\r\n  12:     0x7fffc398ed38 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  13:     0x7fffc39bf0ea - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  14:     0x7fffc3abc14d - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  15:     0x7fffc3aa161f - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  16:     0x7fffc384b604 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  17:     0x7fffc397e2e0 - rustc_query_impl::Queries::new::h5ac540c8d5d50c7d\r\n  18:     0x7fffc38ab8de - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  19:     0x7fffc0e79cca - rustc_interface::interface::try_print_query_stack::hbf6433552c26b342\r\n  20:     0x7fffc0c8e75a - rustc_driver::report_ice::hf10dc2c8fa4042ab\r\n  21:     0x7fffec13cc55 - std::panicking::rust_panic_with_hook::hffdabf0e02906eb3\r\n  22:     0x7fffc4dc16e0 - <rustc_errors::snippet::Style as core::fmt::Debug>::fmt::h4ab63545b00d3235\r\n  23:     0x7fffc4dc1689 - <rustc_errors::snippet::Style as core::fmt::Debug>::fmt::h4ab63545b00d3235\r\n  24:     0x7fffc506e751 - rustc_query_system::query::job::report_cycle::h78ff372fa02cb0ad\r\n  25:     0x7fffc4db0710 - <rustc_feature::builtin_attrs::AttributeType as core::fmt::Debug>::fmt::h4d81e9bb6564882a\r\n  26:     0x7fffc4db7245 - rustc_errors::HandlerInner::err_count::h836eba26b76f283e\r\n  27:     0x7fffc4db4de2 - rustc_errors::Handler::bug::h64fb55725578e531\r\n  28:     0x7fffc4c90758 - <<rustc_middle::mir::query::GeneratorLayout as core::fmt::Debug>::fmt::GenVariantPrinter as core::fmt::Debug>::fmt::h4d26f75eae0c6dce\r\n  29:     0x7fffc4c8b0f0 - <<rustc_middle::mir::query::GeneratorLayout as core::fmt::Debug>::fmt::GenVariantPrinter as core::fmt::Debug>::fmt::h4d26f75eae0c6dce\r\n  30:     0x7fffc4c8b098 - <<rustc_middle::mir::query::GeneratorLayout as core::fmt::Debug>::fmt::GenVariantPrinter as core::fmt::Debug>::fmt::h4d26f75eae0c6dce\r\n  31:     0x7fffc4c90689 - <<rustc_middle::mir::query::GeneratorLayout as core::fmt::Debug>::fmt::GenVariantPrinter as core::fmt::Debug>::fmt::h4d26f75eae0c6dce\r\n  32:     0x7fffc5068c87 - rustc_middle::util::bug::bug_fmt::hf44d9914e298ce88\r\n  33:     0x7fffc4a6c5df - <rustc_infer::infer::freshen::TypeFreshener as rustc_middle::ty::fold::TypeFolder>::fold_const::h70d4da4bb2ed7cff\r\n  34:     0x7fffc488a9ac - <rustc_infer::infer::InferCtxt as rustc_trait_selection::traits::query::outlives_bounds::InferCtxtExt>::implied_outlives_bounds::h0691bd3491f937ef\r\n  35:     0x7fffc48e9aef - rustc_trait_selection::traits::select::SelectionContext::select::h6b9a2f2d2cbbd0ad\r\n  36:     0x7fffc4843a5c - unicode_normalization::__test_api::stream_safe::hec73581812109e2f\r\n  37:     0x7fffc48c58dc - rustc_trait_selection::traits::codegen::codegen_fulfill_obligation::h0d96f7a6392f349b\r\n  38:     0x7fffc3869115 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  39:     0x7fffc3a59db1 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n  40:     0x7fffc39e733c - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  41:     0x7fffc3ac7a06 - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  42:     0x7fffc3810644 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  43:     0x7fffc3752e53 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  44:     0x7fffc39850ff - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  45:     0x7fffc2f75d8f - rustc_ty_utils::instance::provide::h91ad6dda14455b8a\r\n  46:     0x7fffc2f7488a - rustc_ty_utils::instance::provide::h91ad6dda14455b8a\r\n  47:     0x7fffc386cad2 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  48:     0x7fffc3a59db1 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n  49:     0x7fffc39ecf64 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  50:     0x7fffc3ac5d19 - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  51:     0x7fffc381e3e7 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  52:     0x7fffc372972a - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  53:     0x7fffc398aa9b - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  54:     0x7fffc4bf91a5 - rustc_middle::ty::instance::Instance::resolve_opt_const_arg::h2fbedb89e5a40f5c\r\n  55:     0x7fffc4b41f5d - rustc_middle::mir::interpret::queries::<impl rustc_middle::ty::context::TyCtxt>::const_eval_resolve::ha35c09a1b9fc26e8\r\n  56:     0x7fffc48912d9 - <rustc_trait_selection::traits::query::normalize::QueryNormalizer as rustc_middle::ty::fold::TypeFolder>::fold_const::h2dbd9eee120ca947\r\n  57:     0x7fffc3007f49 - <&chalk_ir::GenericArg<rustc_middle::traits::chalk::RustInterner> as rustc_traits::chalk::lowering::LowerInto<rustc_middle::ty::subst::GenericArg>>::lower_into::h5e5650c88d8a441f\r\n  58:     0x7fffc2ff49de - <&chalk_ir::GenericArg<rustc_middle::traits::chalk::RustInterner> as rustc_traits::chalk::lowering::LowerInto<rustc_middle::ty::subst::GenericArg>>::lower_into::h5e5650c88d8a441f\r\n  59:     0x7fffc3014041 - <&chalk_ir::GenericArg<rustc_middle::traits::chalk::RustInterner> as rustc_traits::chalk::lowering::LowerInto<rustc_middle::ty::subst::GenericArg>>::lower_into::h5e5650c88d8a441f\r\n  60:     0x7fffc3a5f0f2 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n  61:     0x7fffc3a04329 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  62:     0x7fffc3aec74c - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  63:     0x7fffc3810da5 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  64:     0x7fffc377fae6 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  65:     0x7fffc39898ae - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  66:     0x7fffc4be3334 - <rustc_middle::ty::normalize_erasing_regions::NormalizeAfterErasingRegionsFolder as rustc_middle::ty::fold::TypeFolder>::fold_const::h2e1cc4fdbf5f546f\r\n  67:     0x7fffc3f82f6b - <rustc_mir::transform::dest_prop::CandidateAssignment as core::fmt::Debug>::fmt::hcd44057c79686343\r\n  68:     0x7fffc3edff19 - rustc_mir::interpret::eval_context::mir_assign_valid_types::heb0415135c8d8910\r\n  69:     0x7fffc3cbb8f4 - rustc_mir::const_eval::eval_queries::eval_to_allocation_raw_provider::hd3896ab4362499cf\r\n  70:     0x7fffc3868073 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  71:     0x7fffc3a5e8c9 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n  72:     0x7fffc39ee6c5 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  73:     0x7fffc3ae7828 - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  74:     0x7fffc37ec052 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  75:     0x7fffc37a7c6b - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  76:     0x7fffc398370b - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  77:     0x7fffc3cb9ac7 - rustc_mir::const_eval::eval_queries::eval_to_const_value_raw_provider::h9ba80fa852bd7017\r\n  78:     0x7fffc38680c3 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  79:     0x7fffc3a5e8c9 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n  80:     0x7fffc39e1071 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  81:     0x7fffc3ad5928 - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n  82:     0x7fffc37fdc7f - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  83:     0x7fffc3721b36 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n  84:     0x7fffc398384b - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n  85:     0x7fffc4b14145 - rustc_middle::mir::interpret::queries::<impl rustc_middle::ty::context::TyCtxt>::const_eval_global_id::h519a17aa44786a0b\r\n  86:     0x7fffc4b41fbb - rustc_middle::mir::interpret::queries::<impl rustc_middle::ty::context::TyCtxt>::const_eval_resolve::ha35c09a1b9fc26e8\r\n  87:     0x7fffc49d3722 - rustc_infer::infer::InferCtxt::const_eval_resolve::h7838daedbf188b80\r\n  88:     0x7fffc4913e4b - <rustc_trait_selection::traits::query::type_op::implied_outlives_bounds::ImpliedOutlivesBounds as core::fmt::Debug>::fmt::h4ebed88350c915bc\r\n  89:     0x7fffc48ea09e - rustc_trait_selection::traits::select::SelectionContext::select::h6b9a2f2d2cbbd0ad\r\n  90:     0x7fffc48d9963 - rustc_trait_selection::traits::select::SelectionContext::evaluate_root_obligation::h3ab8c20ee9b0762d\r\n  91:     0x7fffc4851542 - unicode_normalization::__test_api::stream_safe::hec73581812109e2f\r\n  92:     0x7fffc48d7f49 - <rustc_trait_selection::traits::TraitQueryMode as core::fmt::Debug>::fmt::h06becf8f1acbff30\r\n  93:     0x7fffc48d5a1b - <rustc_trait_selection::traits::TraitQueryMode as core::fmt::Debug>::fmt::h06becf8f1acbff30\r\n  94:     0x7fffc48b7268 - <rustc_trait_selection::traits::structural_match::NonStructuralMatchTy as core::fmt::Debug>::fmt::hc989979773fb9e44\r\n  95:     0x7fffc48fbbf7 - <rustc_trait_selection::traits::select::ProvisionalEvaluation as core::fmt::Debug>::fmt::h913e1987ab901c59\r\n  96:     0x7fffc48dfa69 - <rustc_trait_selection::traits::select::TraitObligationStack as core::fmt::Debug>::fmt::hdd71438164bf3d0e\r\n  97:     0x7fffc48e9b3b - rustc_trait_selection::traits::select::SelectionContext::select::h6b9a2f2d2cbbd0ad\r\n  98:     0x7fffc4891741 - <rustc_trait_selection::traits::fulfill::PendingPredicateObligation as core::fmt::Debug>::fmt::h9f4e701b86dd4ab5\r\n  99:     0x7fffc488fc32 - rustc_trait_selection::traits::fulfill::FulfillProcessor::progress_changed_obligations::he26b786ab43b4c32\r\n 100:     0x7fffc48b7d4a - <rustc_trait_selection::traits::structural_match::NonStructuralMatchTy as core::fmt::Debug>::fmt::hc989979773fb9e44\r\n 101:     0x7fffc488ed1c - <rustc_trait_selection::traits::fulfill::FulfillmentContext as rustc_infer::traits::engine::TraitEngine>::select_where_possible::hfc985bcc52011be6\r\n 102:     0x7fffc32dc9cf - rustc_typeck::check::fn_ctxt::_impl::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::resolve_vars_with_obligations::h47c1103350ccd067\r\n 103:     0x7fffc32cc878 - rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation::h807e0fa5bb42956a\r\n 104:     0x7fffc32c9caf - rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation::h807e0fa5bb42956a\r\n 105:     0x7fffc32ed6d9 - rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_block_no_value::h018b701bc4fa5ea5\r\n 106:     0x7fffc32c9caf - rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation::h807e0fa5bb42956a\r\n 107:     0x7fffc32d6f04 - rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation::h807e0fa5bb42956a\r\n 108:     0x7fffc34bc981 - rustc_typeck::check::check::check_wf_new::h22f4726fa1485181\r\n 109:     0x7fffc343ba08 - <rustc_typeck::astconv::ConvertedBindingKind as core::fmt::Debug>::fmt::h2a7010a4ff5b2e0c\r\n 110:     0x7fffc349ab81 - <rustc_typeck::check::fixup_opaque_types::FixupFolder as rustc_middle::ty::fold::TypeFolder>::fold_ty::h78d3acd8dc861f09\r\n 111:     0x7fffc3a59239 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n 112:     0x7fffc39e2e59 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n 113:     0x7fffc3ad16d8 - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n 114:     0x7fffc38175ca - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n 115:     0x7fffc3747d18 - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n 116:     0x7fffc3982d02 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n 117:     0x7fffc33acc1b - <rustc_typeck::bounds::Bounds as core::fmt::Debug>::fmt::hf626ecdc20bf1ae1\r\n 118:     0x7fffc34a19d3 - <rustc_typeck::check::CheckItemTypesVisitor as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_item::h6f609dad89ba15c2\r\n 119:     0x7fffc3a590b9 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n 120:     0x7fffc39e822f - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n 121:     0x7fffc3ae31da - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n 122:     0x7fffc380d13b - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n 123:     0x7fffc3761a2b - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n 124:     0x7fffc3982c42 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n 125:     0x7fffc33adfe9 - <rustc_typeck::bounds::Bounds as core::fmt::Debug>::fmt::hf626ecdc20bf1ae1\r\n 126:     0x7fffc33d85f7 - rustc_typeck::check_crate::h590ac54a0ff66e8b\r\n 127:     0x7fffc0de5e1e - rustc_interface::passes::BoxedResolver::to_resolver_outputs::h56a035dfcc96ba3e\r\n 128:     0x7fffc3a5afc9 - <rustc_middle::mir::interpret::GlobalId as rustc_query_impl::keys::Key>::default_span::ha2db6bdf82aefc30\r\n 129:     0x7fffc39e45d6 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n 130:     0x7fffc3adfff7 - <rustc_middle::ty::adt::AdtSizedConstraint as rustc_query_impl::values::Value>::from_cycle_error::hed12d773cab654cb\r\n 131:     0x7fffc380ebfa - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n 132:     0x7fffc378262e - <rustc_ast_lowering::item::ItemLowerer as rustc_ast::visit::Visitor>::visit_foreign_item::h10fb49fa6f6cbb54\r\n 133:     0x7fffc397ec52 - <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::try_print_query_stack::h61e7dd19d3d37c47\r\n 134:     0x7fffc0cfb5c9 - <rustc_driver::args::Error as core::fmt::Debug>::fmt::h9b0a6d32e855aaf2\r\n 135:     0x7fffc0ca6eeb - <rustc_span::symbol::SymbolStr as core::fmt::Display>::fmt::h212ff9ef21bfb491\r\n 136:     0x7fffc0c904ec - <rustc_driver::Compilation as core::fmt::Debug>::fmt::h6a63f46718527831\r\n 137:     0x7fffc0ca8127 - <rustc_span::symbol::SymbolStr as core::fmt::Display>::fmt::h212ff9ef21bfb491\r\n 138:     0x7fffc0c98594 - rustc_driver::pretty::print_after_hir_lowering::hd7a7d74f80bde00c\r\n 139:     0x7fffc0caa07f - <rustc_span::symbol::SymbolStr as core::fmt::Display>::fmt::h212ff9ef21bfb491\r\n 140:     0x7fffc0cc954d - <rustc_span::symbol::SymbolStr as core::fmt::Display>::fmt::h212ff9ef21bfb491\r\n 141:     0x7fffec14bcfa - std::sys::windows::thread::Thread::new::h485ded1a10d2ce17\r\n 142:     0x7ff85b497034 - BaseThreadInitThunk\r\n 143:     0x7ff85cb42651 - RtlUserThreadStart\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.52.0-nightly (1705a7d64 2021-03-18) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: -C embed-bitcode=no -C debuginfo=2 -C incremental --crate-type lib\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\nthread panicked while panicking. aborting.\r\nerror: could not compile `error-minimal`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name error_minimal --edition=2018 'src\\lib.rs' --error-format=json --json=diagnostic-rendered-ansi --crate-type lib --emit=dep-info,metadata,link -C embed-bitcode=no -C debuginfo=2 -C metadata=5e1ca44ee68d6aa4 -C extra-filename=-5e1ca44ee68d6aa4 --out-dir 'C:\\Users\\ghart\\error-minimal\\target\\debug\\deps' -C 'incremental=C:\\Users\\ghart\\error-minimal\\target\\debug\\incremental' -L 'dependency=C:\\Users\\ghart\\error-minimal\\target\\debug\\deps'` (exit code: 0xc000001d, STATUS_ILLEGAL_INSTRUCTION)\r\n```\r\n\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/83288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/83288/timeline", "performed_via_github_app": null, "state_reason": "completed"}