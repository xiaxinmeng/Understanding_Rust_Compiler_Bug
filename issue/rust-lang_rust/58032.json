{"url": "https://api.github.com/repos/rust-lang/rust/issues/58032", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/58032/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/58032/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/58032/events", "html_url": "https://github.com/rust-lang/rust/issues/58032", "id": 405393866, "node_id": "MDU6SXNzdWU0MDUzOTM4NjY=", "number": 58032, "title": "Improve readability of inline suggestions touching multiple other spans", "user": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-31T19:07:34Z", "updated_at": "2019-10-09T23:14:55Z", "closed_at": "2019-10-09T23:14:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For example:\r\n\r\n```\r\nerror[E0252]: the name `A` is defined multiple times\r\n  --> $DIR/import-twice.rs:6:14\r\n   |\r\nLL | use foo::{A, A};\r\n   |           ---^\r\n   |           || |\r\n   |           || `A` reimported here\r\n   |           |help: remove unnecessary import\r\n   |           previous import of the type `A` here\r\n   |\r\n   = note: `A` must be defined only once in the type namespace of this module\r\n```\r\n\r\nThere are three spans: `A`, `A, ` and the second `A`. Looking at this output in the terminal makes it hard to notice that the first two spans do not actually overlap (they just touch) and how far the suggestion span goes (does it cover the second `A`?). Eventually you can figure it out, but it'd be nice if in cases like this the suggestion weren't shown inline at all.\r\n\r\nThis can be done in https://github.com/rust-lang/rust/blob/8a0e5faec7f62e3cfd88d6625ce213d93b061305/src/librustc_errors/emitter.rs#L39-L65\r\n\r\nThe logic for this might become a bit involved, but a first approximation would be to identify spans that overlap/touch at least once.", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/58032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/58032/timeline", "performed_via_github_app": null, "state_reason": "completed"}