{"url": "https://api.github.com/repos/rust-lang/rust/issues/49717", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/49717/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/49717/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/49717/events", "html_url": "https://github.com/rust-lang/rust/issues/49717", "id": 311813873, "node_id": "MDU6SXNzdWUzMTE4MTM4NzM=", "number": 49717, "title": "Documentation test triggered without ```", "user": {"login": "benhansen-io", "id": 509969, "node_id": "MDQ6VXNlcjUwOTk2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/509969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benhansen-io", "html_url": "https://github.com/benhansen-io", "followers_url": "https://api.github.com/users/benhansen-io/followers", "following_url": "https://api.github.com/users/benhansen-io/following{/other_user}", "gists_url": "https://api.github.com/users/benhansen-io/gists{/gist_id}", "starred_url": "https://api.github.com/users/benhansen-io/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benhansen-io/subscriptions", "organizations_url": "https://api.github.com/users/benhansen-io/orgs", "repos_url": "https://api.github.com/users/benhansen-io/repos", "events_url": "https://api.github.com/users/benhansen-io/events{/privacy}", "received_events_url": "https://api.github.com/users/benhansen-io/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}, {"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-06T00:36:18Z", "updated_at": "2018-06-22T17:50:43Z", "closed_at": "2018-06-22T17:50:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you'd like to fix this bug, [here's how!](https://github.com/rust-lang/rust/issues/49717#issuecomment-392547535)\r\n\r\n------------------------\r\n\r\nThe follow documentation comment is considered a documentation test.  All of the Rust references I have read indicate ``` are needed to indicate a documentation test.\r\n\r\n## lib.rs\r\n\r\n    ///                   \r\n    ///     a             \r\n    /// b                 \r\n    pub fn some_lib_fn() {\r\n                      \r\n    } \r\n\r\nThen running `cargo test` gives the following output:\r\n\r\n     running 0 tests                                                                   \r\n                                                                                       \r\n     test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out        \r\n                                                                                       \r\n        Doc-tests reproduce-doc-test                                                   \r\n                                                                                       \r\n     running 1 test                                                                    \r\n     test src/lib.rs - some_lib_fn (line 1) ... FAILED                                 \r\n                                                                                       \r\n     failures:                                                                         \r\n                                                                                       \r\n     ---- src/lib.rs - some_lib_fn (line 1) stdout ----                                \r\n             error[E0425]: cannot find value `a` in this scope                         \r\n      --> src/lib.rs:2:1                                                               \r\n       |                                                                               \r\n     3 | a                                                                             \r\n       | ^ not found in this scope                                                     \r\n                                                                                       \r\n     thread 'rustc' panicked at 'couldn't compile the test', librustdoc/test.rs:298:13 \r\n     note: Run with `RUST_BACKTRACE=1` for a backtrace.                                \r\n                                                                                       \r\n                                                                                       \r\n     failures:                                                                         \r\n         src/lib.rs - some_lib_fn (line 1)                                             \r\n                                                                                       \r\n     test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out    \r\n                                                                                       \r\n     error: test failed, to rerun pass '--doc'                                         ", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/49717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/49717/timeline", "performed_via_github_app": null, "state_reason": "completed"}