{"url": "https://api.github.com/repos/rust-lang/rust/issues/84081", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/84081/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/84081/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/84081/events", "html_url": "https://github.com/rust-lang/rust/issues/84081", "id": 855220653, "node_id": "MDU6SXNzdWU4NTUyMjA2NTM=", "number": 84081, "title": "Unreasonable \"consider importing\" suggestions", "user": {"login": "porglezomp", "id": 1690225, "node_id": "MDQ6VXNlcjE2OTAyMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1690225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/porglezomp", "html_url": "https://github.com/porglezomp", "followers_url": "https://api.github.com/users/porglezomp/followers", "following_url": "https://api.github.com/users/porglezomp/following{/other_user}", "gists_url": "https://api.github.com/users/porglezomp/gists{/gist_id}", "starred_url": "https://api.github.com/users/porglezomp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/porglezomp/subscriptions", "organizations_url": "https://api.github.com/users/porglezomp/orgs", "repos_url": "https://api.github.com/users/porglezomp/repos", "events_url": "https://api.github.com/users/porglezomp/events{/privacy}", "received_events_url": "https://api.github.com/users/porglezomp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 239393, "node_id": "MDU6TGFiZWwyMzkzOTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-resolve", "name": "A-resolve", "color": "f7e101", "default": false, "description": "Area: Path resolution"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-11T05:11:42Z", "updated_at": "2021-04-17T04:48:37Z", "closed_at": "2021-04-17T04:48:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I made a typo text -> test and got a very strange suggestion.\r\n\r\nhttps://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=1fdd70937900d5a5443d66f0c200ada6\r\n```rust\r\nuse std::{fs, io::Read};\r\n\r\nfn foo() {\r\n    let mut f = fs::File::new(\"hello\");\r\n    let mut text = String::new();\r\n    f.read_to_string(&mut test).unwrap();\r\n}\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nStandard Error\r\n\r\n   Compiling playground v0.0.1 (/playground)\r\n\r\nerror[E0423]: expected value, found attribute macro `test`\r\n --> src/lib.rs:6:27\r\n  |\r\n6 |     f.read_to_string(&mut test).unwrap();\r\n  |                           ^^^^\r\n  |\r\nhelp: a local variable with a similar name exists\r\n  |\r\n6 |     f.read_to_string(&mut text).unwrap();\r\n  |                           ^^^^\r\nhelp: consider importing one of these items instead\r\n  |\r\n1 | use crate::fs::io::sys::ext::net::raw_fd::sys_common::backtrace::backtrace_rs::symbolize::gimli::mystd::detect::bit::test;\r\n  |\r\n1 | use crate::fs::io::sys::ext::net::raw_fd::sys_common::backtrace::backtrace_rs::symbolize::gimli::mystd::detect::cache::test;\r\n  |\r\n```\r\n\r\nThe import suggestions here are kind of nonsense.\r\n(They are only suggested if `fs` is imported.)\r\nIt seems like \"consider importing one of these items instead\" shouldn't suggest private items, at the very least in the case of external crates.\r\n\r\n(For the current crate, maybe you wanted one of your own items to be available, but those should still probably be called out as being private items?)", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/84081/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 2, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/84081/timeline", "performed_via_github_app": null, "state_reason": "completed"}