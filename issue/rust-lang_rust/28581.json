{"url": "https://api.github.com/repos/rust-lang/rust/issues/28581", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28581/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28581/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28581/events", "html_url": "https://github.com/rust-lang/rust/issues/28581", "id": 107634603, "node_id": "MDU6SXNzdWUxMDc2MzQ2MDM=", "number": 28581, "title": "TRPL: Document that Send and Sync are automatically derived", "user": {"login": "geofft", "id": 74644, "node_id": "MDQ6VXNlcjc0NjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/74644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geofft", "html_url": "https://github.com/geofft", "followers_url": "https://api.github.com/users/geofft/followers", "following_url": "https://api.github.com/users/geofft/following{/other_user}", "gists_url": "https://api.github.com/users/geofft/gists{/gist_id}", "starred_url": "https://api.github.com/users/geofft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geofft/subscriptions", "organizations_url": "https://api.github.com/users/geofft/orgs", "repos_url": "https://api.github.com/users/geofft/repos", "events_url": "https://api.github.com/users/geofft/events{/privacy}", "received_events_url": "https://api.github.com/users/geofft/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-09-22T02:31:56Z", "updated_at": "2016-01-07T01:26:56Z", "closed_at": "2016-01-07T01:26:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As far as I can tell, there is no documentation [outside of the _Rustonomicon_](https://doc.rust-lang.org/nomicon/send-and-sync.html) that says that `Send` and `Sync` are automatically derived on datatypes that consist solely of `Send` and `Sync` members, and that all primitives other than raw pointers are `Send + Sync`.\n\nSo it is a [natural worry for newcomers](https://www.reddit.com/r/programming/comments/3ltwwf/bjarne_stroustrup_announces_c_core_guidelines/cv9q6lr) that the language is less thread-usable than it is (i.e., that libraries will forget to manually implement `Send + Sync`, and be pathologically safe by being unusable across threads), and it's hard to clarify that. (I only found this part of the 'nomicon through `git grep`; the obvious Google results for 'rust send and sync' didn't have a clear statement that they were automatically derived.)\n\nThis might be as easy as copying the two 'nomicon paragraphs starting with \"Send and Sync are also automatically derived traits\" into concurrency.md or so; there's no nontrivial discussion of unsafety in them. I could also send in a PR adding an example of using a `Send + Sync` struct, if that would be helpful.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/28581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28581/timeline", "performed_via_github_app": null, "state_reason": "completed"}