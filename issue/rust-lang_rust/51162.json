{"url": "https://api.github.com/repos/rust-lang/rust/issues/51162", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/51162/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/51162/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/51162/events", "html_url": "https://github.com/rust-lang/rust/issues/51162", "id": 327262029, "node_id": "MDU6SXNzdWUzMjcyNjIwMjk=", "number": 51162, "title": "Doctests doesn't print the assert failure output", "user": {"login": "farodin91", "id": 1159212, "node_id": "MDQ6VXNlcjExNTkyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1159212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farodin91", "html_url": "https://github.com/farodin91", "followers_url": "https://api.github.com/users/farodin91/followers", "following_url": "https://api.github.com/users/farodin91/following{/other_user}", "gists_url": "https://api.github.com/users/farodin91/gists{/gist_id}", "starred_url": "https://api.github.com/users/farodin91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farodin91/subscriptions", "organizations_url": "https://api.github.com/users/farodin91/orgs", "repos_url": "https://api.github.com/users/farodin91/repos", "events_url": "https://api.github.com/users/farodin91/events{/privacy}", "received_events_url": "https://api.github.com/users/farodin91/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 262252628, "node_id": "MDU6TGFiZWwyNjIyNTI2Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-beta", "name": "regression-from-stable-to-beta", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to beta."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "closed", "locked": false, "assignee": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/51", "html_url": "https://github.com/rust-lang/rust/milestone/51", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/51/labels", "id": 3327068, "node_id": "MDk6TWlsZXN0b25lMzMyNzA2OA==", "number": 51, "title": "1.28", "description": "", "creator": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-05-07T19:33:42Z", "updated_at": "2018-12-03T04:52:58Z", "due_on": "2018-08-02T07:00:00Z", "closed_at": "2018-08-21T17:29:59Z"}, "comments": 9, "created_at": "2018-05-29T10:34:28Z", "updated_at": "2018-07-24T21:38:26Z", "closed_at": "2018-07-24T21:38:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run the cargo test command on nightly did not get any output on failing `assert_eq!()` in doctests.\r\n\r\nI expected to see this happen: \r\nOutput on stable(1.26)\r\n```\r\n`rustdoc --test ./predicates-rs/src/lib.rs --crate-name predicates -L dependency=./predicates-rs/target/debug/deps -L dependency=./predicates-rs/target/debug/deps --cfg 'feature=\"default\"' --cfg 'feature=\"regex\"' --cfg 'feature=\"float-cmp\"' --cfg 'feature=\"difference\"' --extern float_cmp=./predicates-rs/target/debug/deps/libfloat_cmp-4a42d8413dc12365.rlib --extern regex=./predicates-rs/target/debug/deps/libregex-30b85987be956602.rlib --extern predicates=./predicates-rs/target/debug/deps/libpredicates-f9ff1b22f35b575a.rlib --extern difference=./predicates-rs/target/debug/deps/libdifference-ed04b642d361199c.rlib`\r\n\r\nrunning 42 tests\r\ntest src/boolean.rs - boolean::PredicateBooleanExt::not (line 218) ... ok\r\ntest src/boolean.rs - boolean::PredicateBooleanExt::and (line 178) ... ok\r\ntest src/boolean.rs - boolean::PredicateBooleanExt::or (line 197) ... ok\r\ntest src/boxed.rs - boxed::PredicateBoxExt::boxed (line 80) ... ok\r\ntest src/float/close.rs - float::close::IsClosePredicate::distance (line 35) ... ok\r\ntest src/constant.rs - constant::always (line 41) ... ok\r\ntest src/float/close.rs - float::close::IsClosePredicate::epsilon (line 54) ... ok\r\ntest src/constant.rs - constant::never (line 62) ... ok\r\ntest src/float/close.rs - float::close::IsClosePredicate::ulps (line 71) ... ok\r\ntest src/function.rs - function::FnPredicate<F, T>::fn_name (line 36) ... ok\r\ntest src/float/close.rs - float::close::is_close (line 104) ... ok\r\ntest src/function.rs - function::function (line 78) ... ok\r\ntest src/iter.rs - iter::in_iter (line 100) ... ok\r\ntest src/iter.rs - iter::InPredicate<T>::sort (line 49) ... ok\r\ntest src/iter.rs - iter::in_hash (line 200) ... ok\r\ntest src/lib.rs -  (line 34) ... ok\r\ntest src/name.rs - name::PredicateNameExt::name (line 59) ... ok\r\ntest src/ord.rs - ord::ge (line 215) ... ok\r\ntest src/ord.rs - ord::eq (line 70) ... ok\r\ntest src/ord.rs - ord::gt (line 238) ... ok\r\ntest src/ord.rs - ord::le (line 192) ... ok\r\ntest src/ord.rs - ord::lt (line 170) ... ok\r\ntest src/ord.rs - ord::ne (line 92) ... ok\r\ntest src/path/existence.rs - path::existence::exists (line 38) ... ok\r\ntest src/path/existence.rs - path::existence::missing (line 53) ... ok\r\ntest src/path/ft.rs - path::ft::is_dir (line 107) ... ok\r\ntest src/path/ft.rs - path::ft::is_file (line 87) ... ok\r\ntest src/path/ft.rs - path::ft::is_symlink (line 127) ... ok\r\ntest src/str/adapters.rs - str::adapters::PredicateSliceExt::from_file_path (line 169) ... FAILED\r\ntest src/str/adapters.rs - str::adapters::PredicateStrExt::trim (line 123) ... ok\r\ntest src/str/adapters.rs - str::adapters::PredicateStrExt::from_utf8 (line 138) ... ok\r\ntest src/str/basics.rs - str::basics::ContainsPredicate::count (line 139) ... ok\r\ntest src/str/basics.rs - str::basics::is_empty (line 35) ... ok\r\ntest src/str/basics.rs - str::basics::contains (line 191) ... ok\r\ntest src/str/basics.rs - str::basics::ends_with (line 110) ... ok\r\ntest src/str/basics.rs - str::basics::starts_with (line 70) ... ok\r\ntest src/str/difference.rs - str::difference::DifferencePredicate::distance (line 74) ... ok\r\ntest src/str/difference.rs - str::difference::DifferencePredicate::split (line 54) ... ok\r\ntest src/str/difference.rs - str::difference::diff (line 108) ... ok\r\ntest src/str/difference.rs - str::difference::similar (line 131) ... ok\r\ntest src/str/regex.rs - str::regex::is_match (line 80) ... ok\r\ntest src/str/regex.rs - str::regex::RegexPredicate::count (line 31) ... ok\r\n\r\nfailures:\r\n\r\n---- src/str/adapters.rs - str::adapters::PredicateSliceExt::from_file_path (line 169) stdout ----\r\n        thread 'rustc' panicked at 'test executable failed:\r\n\r\nthread 'main' panicked at 'assertion failed: `(left == right)`\r\n  left: `false`,\r\n right: `true`', src/str/adapters.rs:8:1\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\n', librustdoc/test.rs:341:17\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\n\r\nfailures:\r\n    src/str/adapters.rs - str::adapters::PredicateSliceExt::from_file_path (line 169)\r\n```\r\n\r\nInstead, this happened: \r\nOutput on nightly (rustc 1.28.0-nightly (5bf68db6e 2018-05-28))\r\n```\r\nrustdoc --test ./predicates-rs/src/lib.rs --crate-name predicates -L dependency=./predicates-rs/target/debug/deps -L dependency=./predicates-rs/target/debug/deps --cfg 'feature=\"float-cmp\"' --cfg 'feature=\"default\"' --cfg 'feature=\"regex\"' --cfg 'feature=\"difference\"' --extern difference=./predicates-rs/target/debug/deps/libdifference-cf1e9088133b4a68.rlib --extern float_cmp=./predicates-rs/target/debug/deps/libfloat_cmp-0d3ec5c6568f6886.rlib --extern predicates=./predicates-rs/target/debug/deps/libpredicates-6e0d49cf47babc04.rlib --extern regex=./predicates-rs/target/debug/deps/libregex-5aa34502a8174bb1.rlib\r\n\r\nrunning 42 tests\r\ntest src/boolean.rs - boolean::PredicateBooleanExt::not (line 218) ... ok\r\ntest src/boolean.rs - boolean::PredicateBooleanExt::or (line 197) ... ok\r\ntest src/boolean.rs - boolean::PredicateBooleanExt::and (line 178) ... ok\r\ntest src/boxed.rs - boxed::PredicateBoxExt::boxed (line 80) ... ok\r\ntest src/float/close.rs - float::close::IsClosePredicate::distance (line 35) ... ok\r\ntest src/float/close.rs - float::close::IsClosePredicate::epsilon (line 54) ... ok\r\ntest src/constant.rs - constant::always (line 41) ... ok\r\ntest src/constant.rs - constant::never (line 62) ... ok\r\ntest src/float/close.rs - float::close::IsClosePredicate::ulps (line 71) ... ok\r\ntest src/function.rs - function::FnPredicate<F, T>::fn_name (line 36) ... ok\r\ntest src/float/close.rs - float::close::is_close (line 104) ... ok\r\ntest src/function.rs - function::function (line 78) ... ok\r\ntest src/iter.rs - iter::InPredicate<T>::sort (line 49) ... ok\r\ntest src/iter.rs - iter::in_hash (line 200) ... ok\r\ntest src/iter.rs - iter::in_iter (line 100) ... ok\r\ntest src/name.rs - name::PredicateNameExt::name (line 59) ... ok\r\ntest src/lib.rs -  (line 34) ... ok\r\ntest src/ord.rs - ord::eq (line 70) ... ok\r\ntest src/ord.rs - ord::ge (line 215) ... ok\r\ntest src/ord.rs - ord::gt (line 238) ... ok\r\ntest src/ord.rs - ord::le (line 192) ... ok\r\ntest src/ord.rs - ord::lt (line 170) ... ok\r\ntest src/ord.rs - ord::ne (line 92) ... ok\r\ntest src/path/existence.rs - path::existence::exists (line 38) ... ok\r\ntest src/path/existence.rs - path::existence::missing (line 53) ... ok\r\ntest src/path/ft.rs - path::ft::is_dir (line 107) ... ok\r\ntest src/path/ft.rs - path::ft::is_file (line 87) ... ok\r\ntest src/path/ft.rs - path::ft::is_symlink (line 127) ... ok\r\ntest src/str/adapters.rs - str::adapters::PredicateSliceExt::from_file_path (line 169) ... FAILED\r\ntest src/str/adapters.rs - str::adapters::PredicateStrExt::from_utf8 (line 138) ... ok\r\ntest src/str/adapters.rs - str::adapters::PredicateStrExt::trim (line 123) ... ok\r\ntest src/str/basics.rs - str::basics::ContainsPredicate::count (line 139) ... ok\r\ntest src/str/basics.rs - str::basics::contains (line 191) ... ok\r\ntest src/str/basics.rs - str::basics::is_empty (line 35) ... ok\r\ntest src/str/basics.rs - str::basics::ends_with (line 110) ... ok\r\ntest src/str/basics.rs - str::basics::starts_with (line 70) ... ok\r\ntest src/str/difference.rs - str::difference::DifferencePredicate::distance (line 74) ... ok\r\ntest src/str/difference.rs - str::difference::DifferencePredicate::split (line 54) ... ok\r\ntest src/str/difference.rs - str::difference::diff (line 108) ... ok\r\ntest src/str/difference.rs - str::difference::similar (line 131) ... ok\r\ntest src/str/regex.rs - str::regex::RegexPredicate::count (line 31) ... ok\r\ntest src/str/regex.rs - str::regex::is_match (line 80) ... ok\r\n\r\nfailures:\r\n\r\nfailures:\r\n    src/str/adapters.rs - str::adapters::PredicateSliceExt::from_file_path (line 169)\r\n\r\ntest result: FAILED. 41 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out\r\n```\r\n\r\nWe verified that it works on a nightly from 20-04-2018.\r\n\r\n## Meta\r\n`rustc --version --verbose`:\r\nrustc 1.28.0-nightly (5bf68db6e 2018-05-28)\r\nbinary: rustc\r\ncommit-hash: 5bf68db6ecda0dd4788311a41b5c763d35597c96\r\ncommit-date: 2018-05-28\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.28.0-nightly\r\nLLVM version: 6.0", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/51162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/51162/timeline", "performed_via_github_app": null, "state_reason": "completed"}