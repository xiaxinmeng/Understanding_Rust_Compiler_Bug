{"url": "https://api.github.com/repos/rust-lang/rust/issues/100588", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/100588/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/100588/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/100588/events", "html_url": "https://github.com/rust-lang/rust/issues/100588", "id": 1339119523, "node_id": "I_kwDOAAsO6M5P0Vej", "number": 100588, "title": "JsonDocCk: Automaticly infer file name", "user": {"login": "aDotInTheVoid", "id": 28781354, "node_id": "MDQ6VXNlcjI4NzgxMzU0", "avatar_url": "https://avatars.githubusercontent.com/u/28781354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aDotInTheVoid", "html_url": "https://github.com/aDotInTheVoid", "followers_url": "https://api.github.com/users/aDotInTheVoid/followers", "following_url": "https://api.github.com/users/aDotInTheVoid/following{/other_user}", "gists_url": "https://api.github.com/users/aDotInTheVoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/aDotInTheVoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aDotInTheVoid/subscriptions", "organizations_url": "https://api.github.com/users/aDotInTheVoid/orgs", "repos_url": "https://api.github.com/users/aDotInTheVoid/repos", "events_url": "https://api.github.com/users/aDotInTheVoid/events{/privacy}", "received_events_url": "https://api.github.com/users/aDotInTheVoid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 2682491374, "node_id": "MDU6TGFiZWwyNjgyNDkxMzc0", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-rustdoc-json", "name": "A-rustdoc-json", "color": "f7e101", "default": false, "description": "Area: Rustdoc JSON backend"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-15T15:08:06Z", "updated_at": "2022-08-23T05:22:19Z", "closed_at": "2022-08-23T05:22:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Right now in jsondocck all commands have the form `// @<commandname> <file> <command args>`\r\n\r\nThis form was inherited from htmldocck.py. However unlike HTML, the JSON output only produces 1 file. Therefor currently `-` can be used to imply the file for the previous command. Only the first command must specify the file.\r\n\r\nIt would be nice to automatically infer the name of the relevant file, so `-` is immediately available.\r\n\r\nI don't think it makes sense to remove commands having paths, as eventual we probably want to write tests for the interaction between two crates JSON output (see #99513). It would also cause alot of churn.\r\n\r\nDoing this also risks making the semantics of `-` more unclear. Is it the previously used file or the default file? These would be equivalent for every statement in the current test suite, but something to keep in mind for the future.\r\n\r\n_First discussed by @aDotInTheVoid in https://github.com/rust-lang/rust/pull/100582#discussion_r945829724_\r\n\r\n@rustbot modify labels: +A-rustdoc-json +T-rustdoc", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/100588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/100588/timeline", "performed_via_github_app": null, "state_reason": "completed"}