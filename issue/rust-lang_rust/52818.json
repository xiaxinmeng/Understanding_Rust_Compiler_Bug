{"url": "https://api.github.com/repos/rust-lang/rust/issues/52818", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52818/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52818/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52818/events", "html_url": "https://github.com/rust-lang/rust/issues/52818", "id": 345496085, "node_id": "MDU6SXNzdWUzNDU0OTYwODU=", "number": 52818, "title": "Make Duration a wrapper type around nanoseconds counter?", "user": {"login": "newpavlov", "id": 329626, "node_id": "MDQ6VXNlcjMyOTYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/329626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/newpavlov", "html_url": "https://github.com/newpavlov", "followers_url": "https://api.github.com/users/newpavlov/followers", "following_url": "https://api.github.com/users/newpavlov/following{/other_user}", "gists_url": "https://api.github.com/users/newpavlov/gists{/gist_id}", "starred_url": "https://api.github.com/users/newpavlov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/newpavlov/subscriptions", "organizations_url": "https://api.github.com/users/newpavlov/orgs", "repos_url": "https://api.github.com/users/newpavlov/repos", "events_url": "https://api.github.com/users/newpavlov/events{/privacy}", "received_events_url": "https://api.github.com/users/newpavlov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-29T02:48:13Z", "updated_at": "2018-08-03T22:34:33Z", "closed_at": "2018-08-03T22:34:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently `Duration` is defined as:\r\n```Rust\r\npub struct Duration {\r\n    secs: u64,\r\n    nanos: u32, // Always 0 <= nanos < NANOS_PER_SEC\r\n}\r\n```\r\nThis leads to a certain amount of shims which handle secs/nanos. We could change it's definition to:\r\n```Rust\r\npub struct Duration { nanos: u128 }\r\n```\r\nThis will simplify code, will improve performance a bit, and will allow `new` to be made `const fn` without allowing panics in CTFE, at the cost of 4 additional bytes and clear redundancy of the struct, as it will be able to measure durations up to 1e22 years. (age of the universe is \"just\" 1.38e10 years) Existing public API of course will stay the same as today.\r\n\r\nWhat do you think?", "closed_by": {"login": "newpavlov", "id": 329626, "node_id": "MDQ6VXNlcjMyOTYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/329626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/newpavlov", "html_url": "https://github.com/newpavlov", "followers_url": "https://api.github.com/users/newpavlov/followers", "following_url": "https://api.github.com/users/newpavlov/following{/other_user}", "gists_url": "https://api.github.com/users/newpavlov/gists{/gist_id}", "starred_url": "https://api.github.com/users/newpavlov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/newpavlov/subscriptions", "organizations_url": "https://api.github.com/users/newpavlov/orgs", "repos_url": "https://api.github.com/users/newpavlov/repos", "events_url": "https://api.github.com/users/newpavlov/events{/privacy}", "received_events_url": "https://api.github.com/users/newpavlov/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52818/timeline", "performed_via_github_app": null, "state_reason": "completed"}