{"url": "https://api.github.com/repos/rust-lang/rust/issues/64077", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/64077/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/64077/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/64077/events", "html_url": "https://github.com/rust-lang/rust/issues/64077", "id": 487931701, "node_id": "MDU6SXNzdWU0ODc5MzE3MDE=", "number": 64077, "title": "Types cannot refer to persistent data from generic elements", "user": {"login": "denisandroid", "id": 13841983, "node_id": "MDQ6VXNlcjEzODQxOTgz", "avatar_url": "https://avatars.githubusercontent.com/u/13841983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denisandroid", "html_url": "https://github.com/denisandroid", "followers_url": "https://api.github.com/users/denisandroid/followers", "following_url": "https://api.github.com/users/denisandroid/following{/other_user}", "gists_url": "https://api.github.com/users/denisandroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/denisandroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denisandroid/subscriptions", "organizations_url": "https://api.github.com/users/denisandroid/orgs", "repos_url": "https://api.github.com/users/denisandroid/repos", "events_url": "https://api.github.com/users/denisandroid/events{/privacy}", "received_events_url": "https://api.github.com/users/denisandroid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-01T21:15:19Z", "updated_at": "2019-09-01T21:18:57Z", "closed_at": "2019-09-01T21:18:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a pseudo-code of a part of my library, it has not been compiled, because types, for some reason not clear to me, cannot refer to persistent data from generalized elements.\r\n\r\n```\r\nrustc 1.39.0-nightly (4295eea90 2019-08-30)\r\n```\r\n\r\n```rust\r\n\r\ntrait CheckErr {\r\n\tconst U: usize = 0;\r\n\t\r\n\ttype T;\r\n}\r\n\r\nimpl<A, B> CheckErr for (A, B) where A: CheckErr, B: CheckErr {\r\n\tconst U: usize = A::U + B::U;\r\n\t\r\n\ttype T = [u8; <A as CheckErr>::U];\r\n}\r\n\r\n/*\r\nerror[E0599]: no associated item named `U` found for type `A` in the current scope\r\n  --> examples/test_err.rs:11:19\r\n   |\r\n11 |     type T = [u8; A::U];\r\n   |                      ^ associated item not found in `A`\r\n   |\r\n   = help: items from traits can only be used if the type parameter is bounded by the trait\r\nhelp: the following trait defines an item `U`, perhaps you need to restrict type parameter `A` with it:\r\n   |\r\n8  | impl<A: CheckErr, B> CheckErr for (A, B) where A: CheckErr, B: CheckErr {\r\n   |      ^^^^\r\n*/\r\n\r\n/*\r\nOr\r\n\r\nCompiling playground v0.0.1 (/playground)\r\nerror[E0277]: the trait bound `A: CheckErr` is not satisfied\r\n  --> src/main.rs:11:16\r\n   |\r\n11 |     type T = [u8; <A as CheckErr>::U];\r\n   |                   ^^^^^^^^^^^^^^^^^^ the trait `CheckErr` is not implemented for `A`\r\n   |\r\n   = help: consider adding a `where A: CheckErr` bound\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0277`.\r\nerror: Could not compile `playground`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n\r\n*/\r\n\r\nfn main() {\r\n\r\n}\r\n```\r\n\r\nPlay: https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=e53731a572040d54df9094a012130cb8", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/64077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/64077/timeline", "performed_via_github_app": null, "state_reason": "completed"}