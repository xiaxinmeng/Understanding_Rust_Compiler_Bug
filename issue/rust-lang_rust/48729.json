{"url": "https://api.github.com/repos/rust-lang/rust/issues/48729", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48729/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48729/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48729/events", "html_url": "https://github.com/rust-lang/rust/issues/48729", "id": 302078498, "node_id": "MDU6SXNzdWUzMDIwNzg0OTg=", "number": 48729, "title": "rustc_llvm build failure", "user": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-04T11:36:35Z", "updated_at": "2018-03-04T13:41:01Z", "closed_at": "2018-03-04T13:41:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I was trying to build the latest rustc from the git repo @ 4a316e7483f73ba20c0a0d2abd73d3b9da66bf2b  via ````./x.py build````.\r\n\r\n````\r\n   Compiling rustc_llvm v0.0.0 (file:///home/matthias/RUST/rust_build/src/librustc_llvm)\r\nerror: failed to run custom build command for `rustc_llvm v0.0.0 (file:///home/matthias/RUST/rust_build/src/librustc_llvm)`\r\nprocess didn't exit successfully: `/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/stage0-rustc/release/build/rustc_llvm-50548538c501b828/build-script-build` (exit code: 101)\r\n--- stdout\r\ncargo:rerun-if-changed=/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/llvm/build/bin/llvm-config\r\ncargo:rerun-if-env-changed=LLVM_CONFIG\r\ncargo:rustc-cfg=llvm_component=\"aarch64\"\r\ncargo:rustc-cfg=llvm_component=\"arm\"\r\ncargo:rustc-cfg=llvm_component=\"asmparser\"\r\ncargo:rustc-cfg=llvm_component=\"bitreader\"\r\ncargo:rustc-cfg=llvm_component=\"bitwriter\"\r\ncargo:rustc-cfg=llvm_component=\"hexagon\"\r\ncargo:rustc-cfg=llvm_component=\"instrumentation\"\r\ncargo:rustc-cfg=llvm_component=\"interpreter\"\r\ncargo:rustc-cfg=llvm_component=\"ipo\"\r\ncargo:rustc-cfg=llvm_component=\"linker\"\r\ncargo:rustc-cfg=llvm_component=\"lto\"\r\ncargo:rustc-cfg=llvm_component=\"mcjit\"\r\ncargo:rustc-cfg=llvm_component=\"mips\"\r\ncargo:rustc-cfg=llvm_component=\"msp430\"\r\ncargo:rustc-cfg=llvm_component=\"nvptx\"\r\ncargo:rustc-cfg=llvm_component=\"powerpc\"\r\ncargo:rustc-cfg=llvm_component=\"sparc\"\r\ncargo:rustc-cfg=llvm_component=\"systemz\"\r\ncargo:rustc-cfg=llvm_component=\"x86\"\r\ncargo:rerun-if-changed-env=LLVM_RUSTLLVM\r\ncargo:rerun-if-changed=../rustllvm/RustWrapper.cpp\r\ncargo:rerun-if-changed=../rustllvm/Linker.cpp\r\ncargo:rerun-if-changed=../rustllvm/rustllvm.h\r\ncargo:rerun-if-changed=../rustllvm/llvm-rebuild-trigger\r\ncargo:rerun-if-changed=../rustllvm/README\r\ncargo:rerun-if-changed=../rustllvm/PassWrapper.cpp\r\ncargo:rerun-if-changed=../rustllvm/ArchiveWrapper.cpp\r\ncargo:rerun-if-changed=../rustllvm/.editorconfig\r\nTARGET = Some(\"x86_64-unknown-linux-gnu\")\r\nOPT_LEVEL = Some(\"2\")\r\nTARGET = Some(\"x86_64-unknown-linux-gnu\")\r\nHOST = Some(\"x86_64-unknown-linux-gnu\")\r\nTARGET = Some(\"x86_64-unknown-linux-gnu\")\r\nTARGET = Some(\"x86_64-unknown-linux-gnu\")\r\nHOST = Some(\"x86_64-unknown-linux-gnu\")\r\nCXX_x86_64-unknown-linux-gnu = Some(\"c++\")\r\nTARGET = Some(\"x86_64-unknown-linux-gnu\")\r\nHOST = Some(\"x86_64-unknown-linux-gnu\")\r\nCXXFLAGS_x86_64-unknown-linux-gnu = Some(\"-ffunction-sections -fdata-sections -fPIC -m64\")\r\nDEBUG = Some(\"false\")\r\nrunning: \"c++\" \"-O2\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-m64\" \"-m64\" \"-I/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/llvm/build/include\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-m64\" \"-fPIC\" \"-fvisibility-inlines-hidden\" \"-Werror=date-time\" \"-std=c++11\" \"-Wall\" \"-W\" \"-Wno-unused-parameter\" \"-Wwrite-strings\" \"-Wcast-qual\" \"-Wno-missing-field-initializers\" \"-pedantic\" \"-Wno-long-long\" \"-Wno-maybe-uninitialized\" \"-Wdelete-non-virtual-dtor\" \"-Wno-comment\" \"-ffunction-sections\" \"-fdata-sections\" \"-O3\" \"-DNDEBUG\" \"-fno-exceptions\" \"-fno-rtti\" \"-D_GNU_SOURCE\" \"-D__STDC_CONSTANT_MACROS\" \"-D__STDC_FORMAT_MACROS\" \"-D__STDC_LIMIT_MACROS\" \"-DLLVM_COMPONENT_AARCH64\" \"-DLLVM_COMPONENT_ARM\" \"-DLLVM_COMPONENT_ASMPARSER\" \"-DLLVM_COMPONENT_BITREADER\" \"-DLLVM_COMPONENT_BITWRITER\" \"-DLLVM_COMPONENT_HEXAGON\" \"-DLLVM_COMPONENT_INSTRUMENTATION\" \"-DLLVM_COMPONENT_INTERPRETER\" \"-DLLVM_COMPONENT_IPO\" \"-DLLVM_COMPONENT_LINKER\" \"-DLLVM_COMPONENT_LTO\" \"-DLLVM_COMPONENT_MCJIT\" \"-DLLVM_COMPONENT_MIPS\" \"-DLLVM_COMPONENT_MSP430\" \"-DLLVM_COMPONENT_NVPTX\" \"-DLLVM_COMPONENT_POWERPC\" \"-DLLVM_COMPONENT_SPARC\" \"-DLLVM_COMPONENT_SYSTEMZ\" \"-DLLVM_COMPONENT_X86\" \"-DLLVM_RUSTLLVM\" \"-o\" \"/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/build/rustc_llvm-c55d82589df89e26/out/../rustllvm/PassWrapper.o\" \"-c\" \"../rustllvm/PassWrapper.cpp\"\r\ncargo:warning=../rustllvm/PassWrapper.cpp:29:10: fatal error: llvm/CodeGen/TargetSubtargetInfo.h: No such file or directory\r\ncargo:warning= #include \"llvm/CodeGen/TargetSubtargetInfo.h\"\r\ncargo:warning=          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\ncargo:warning=compilation terminated.\r\nexit code: 1\r\n\r\n--- stderr\r\nthread 'main' panicked at '\r\n\r\nInternal error occurred: Command \"c++\" \"-O2\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-m64\" \"-m64\" \"-I/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/llvm/build/include\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-m64\" \"-fPIC\" \"-fvisibility-inlines-hidden\" \"-Werror=date-time\" \"-std=c++11\" \"-Wall\" \"-W\" \"-Wno-unused-parameter\" \"-Wwrite-strings\" \"-Wcast-qual\" \"-Wno-missing-field-initializers\" \"-pedantic\" \"-Wno-long-long\" \"-Wno-maybe-uninitialized\" \"-Wdelete-non-virtual-dtor\" \"-Wno-comment\" \"-ffunction-sections\" \"-fdata-sections\" \"-O3\" \"-DNDEBUG\" \"-fno-exceptions\" \"-fno-rtti\" \"-D_GNU_SOURCE\" \"-D__STDC_CONSTANT_MACROS\" \"-D__STDC_FORMAT_MACROS\" \"-D__STDC_LIMIT_MACROS\" \"-DLLVM_COMPONENT_AARCH64\" \"-DLLVM_COMPONENT_ARM\" \"-DLLVM_COMPONENT_ASMPARSER\" \"-DLLVM_COMPONENT_BITREADER\" \"-DLLVM_COMPONENT_BITWRITER\" \"-DLLVM_COMPONENT_HEXAGON\" \"-DLLVM_COMPONENT_INSTRUMENTATION\" \"-DLLVM_COMPONENT_INTERPRETER\" \"-DLLVM_COMPONENT_IPO\" \"-DLLVM_COMPONENT_LINKER\" \"-DLLVM_COMPONENT_LTO\" \"-DLLVM_COMPONENT_MCJIT\" \"-DLLVM_COMPONENT_MIPS\" \"-DLLVM_COMPONENT_MSP430\" \"-DLLVM_COMPONENT_NVPTX\" \"-DLLVM_COMPONENT_POWERPC\" \"-DLLVM_COMPONENT_SPARC\" \"-DLLVM_COMPONENT_SYSTEMZ\" \"-DLLVM_COMPONENT_X86\" \"-DLLVM_RUSTLLVM\" \"-o\" \"/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/build/rustc_llvm-c55d82589df89e26/out/../rustllvm/PassWrapper.o\" \"-c\" \"../rustllvm/PassWrapper.cpp\" with args \"c++\" did not execute successfully (status code exit code: 1).\r\n\r\n', /home/matthias/.cargo/registry/src/github.com-1ecc6299db9ec823/cc-1.0.4/src/lib.rs:1984:5\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\nthread 'main' panicked at 'command did not execute successfully: \"/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\" \"build\" \"--target\" \"x86_64-unknown-linux-gnu\" \"-j\" \"4\" \"--release\" \"--manifest-path\" \"/home/matthias/RUST/rust_build/src/librustc_trans/Cargo.toml\" \"--features\" \" jemalloc\" \"--message-format\" \"json\"\r\nexpected success, got: exit code: 101', bootstrap/compile.rs:1092:9\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\nfailed to run: /home/matthias/RUST/rust_build/build/bootstrap/debug/bootstrap build\r\nBuild completed unsuccessfully in 0:00:04\r\n````", "closed_by": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48729/timeline", "performed_via_github_app": null, "state_reason": "completed"}