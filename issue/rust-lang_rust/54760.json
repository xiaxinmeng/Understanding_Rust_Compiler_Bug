{"url": "https://api.github.com/repos/rust-lang/rust/issues/54760", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/54760/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/54760/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/54760/events", "html_url": "https://github.com/rust-lang/rust/issues/54760", "id": 366041033, "node_id": "MDU6SXNzdWUzNjYwNDEwMzM=", "number": 54760, "title": "windows: when creating process with redirected stdio, make parent's std handles not inheritable", "user": {"login": "ikostia", "id": 966306, "node_id": "MDQ6VXNlcjk2NjMwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/966306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikostia", "html_url": "https://github.com/ikostia", "followers_url": "https://api.github.com/users/ikostia/followers", "following_url": "https://api.github.com/users/ikostia/following{/other_user}", "gists_url": "https://api.github.com/users/ikostia/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikostia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikostia/subscriptions", "organizations_url": "https://api.github.com/users/ikostia/orgs", "repos_url": "https://api.github.com/users/ikostia/repos", "events_url": "https://api.github.com/users/ikostia/events{/privacy}", "received_events_url": "https://api.github.com/users/ikostia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}, {"id": 3812066157, "node_id": "LA_kwDOAAsO6M7jN4Nt", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-process", "name": "A-process", "color": "f7e101", "default": false, "description": "Area: std::process and std::env"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-10-02T19:15:06Z", "updated_at": "2023-03-22T15:52:04Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Currently, if this happens:\r\n```\r\nuse std::process::Command;\r\n...\r\nCommand::new(\"child.exe\")\r\n        .stdin(Stdio::null())\r\n        .stdout(Stdio::null())\r\n        .stderr(Stdio::null())\r\n        .spawn()\r\n```\r\nthe `child.exe` accidentally inherits stdin, stdout and stderr handles of the parent process. This can be bad, because the objects these handles point to (say pipes), may be watched by some third process. \r\n\r\nSince at the point of creating a child process we know that it does not need our std handles (because it's explicitly being created with `Stdio::null()`), we can temporarily disable handle inheritance on these handles.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/54760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/54760/timeline", "performed_via_github_app": null, "state_reason": null}