{"url": "https://api.github.com/repos/rust-lang/rust/issues/6824", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/6824/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/6824/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/6824/events", "html_url": "https://github.com/rust-lang/rust/issues/6824", "id": 14924767, "node_id": "MDU6SXNzdWUxNDkyNDc2Nw==", "number": 6824, "title": "[documentation] rust.md#number-literals grammar does not match behaviour in scan_number()", "user": {"login": "caitp", "id": 2294695, "node_id": "MDQ6VXNlcjIyOTQ2OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2294695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caitp", "html_url": "https://github.com/caitp", "followers_url": "https://api.github.com/users/caitp/followers", "following_url": "https://api.github.com/users/caitp/following{/other_user}", "gists_url": "https://api.github.com/users/caitp/gists{/gist_id}", "starred_url": "https://api.github.com/users/caitp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caitp/subscriptions", "organizations_url": "https://api.github.com/users/caitp/orgs", "repos_url": "https://api.github.com/users/caitp/repos", "events_url": "https://api.github.com/users/caitp/events{/privacy}", "received_events_url": "https://api.github.com/users/caitp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-30T04:31:17Z", "updated_at": "2013-05-30T11:43:37Z", "closed_at": "2013-05-30T11:43:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "From: https://github.com/mozilla/rust/blob/cd2eb4701fc16e7acd6934759be043b1f7e5586d/doc/rust.md#number-literals\n\n```\nnum_lit : nonzero_dec [ dec_digit | '_' ] * num_suffix ?\n        | '0' [       [ dec_digit | '_' ] + num_suffix ?\n              | 'b'   [ '1' | '0' | '_' ] + int_suffix ?\n              | 'x'   [ hex_digit | '_' ] + int_suffix ? ] ;\n\nnum_suffix : int_suffix | float_suffix ;\n\nint_suffix : 'u' int_suffix_size ?\n           | 'i' int_suffix_size ;\nint_suffix_size : [ '8' | '1' '6' | '3' '2' | '6' '4' ] ;\n\nfloat_suffix : [ exponent | '.' dec_lit exponent ? ] float_suffix_ty ? ;\nfloat_suffix_ty : 'f' [ '3' '2' | '6' '4' ] ;\nexponent : ['E' | 'e'] ['-' | '+' ] ? dec_lit ;\ndec_lit : [ dec_digit | '_' ] + ;\n```\n\nThis description of the grammar has at least two errors:\n- It does not allow for '3f;' which is shown to be expected to be valid on https://github.com/mozilla/rust/blame/cd2eb4701fc16e7acd6934759be043b1f7e5586d/doc/rust.md#L379 -- either the `exponent` or `'.' dec_lit` must be present according to the diagram.\n- The signed `int_suffix` path does not permit `int_suffix_size` to be omitted, although the parser does allow this.\n\nI've gone over the lexer in libsyntax and I have not yet come across anything else that does not match the docs, but it would be good to get these in order for the benefit of those of us writing syntax highlighters for our editors, and the like. I'll have a patch up soon.\n", "closed_by": {"login": "caitp", "id": 2294695, "node_id": "MDQ6VXNlcjIyOTQ2OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2294695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caitp", "html_url": "https://github.com/caitp", "followers_url": "https://api.github.com/users/caitp/followers", "following_url": "https://api.github.com/users/caitp/following{/other_user}", "gists_url": "https://api.github.com/users/caitp/gists{/gist_id}", "starred_url": "https://api.github.com/users/caitp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caitp/subscriptions", "organizations_url": "https://api.github.com/users/caitp/orgs", "repos_url": "https://api.github.com/users/caitp/repos", "events_url": "https://api.github.com/users/caitp/events{/privacy}", "received_events_url": "https://api.github.com/users/caitp/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/6824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/6824/timeline", "performed_via_github_app": null, "state_reason": "completed"}