{"url": "https://api.github.com/repos/rust-lang/rust/issues/27189", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27189/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27189/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27189/events", "html_url": "https://github.com/rust-lang/rust/issues/27189", "id": 96351124, "node_id": "MDU6SXNzdWU5NjM1MTEyNA==", "number": 27189, "title": "Add `rustc --fatal` which stops at the first build error", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36956, "node_id": "MDU6TGFiZWwzNjk1Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-frontend", "name": "A-frontend", "color": "f7e101", "default": false, "description": "Area: frontend (errors, parsing and HIR)"}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}, {"id": 1659943986, "node_id": "MDU6TGFiZWwxNjU5OTQzOTg2", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-verbose", "name": "D-verbose", "color": "c9f7a3", "default": false, "description": "Too much output caused by a single piece of incorrect code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 39, "created_at": "2015-07-21T15:48:03Z", "updated_at": "2023-03-04T13:56:31Z", "closed_at": "2023-03-01T09:43:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "(Should this be an RFC?)\n## Motivation\n\nWhen refactoring, one may have dozens or hundreds of build errors which need to be fixed one by one. Sometimes, a build error is only a consequence of an earlier error rather than something that need to be fixed itself:\n\n``` rust\nlet foo = bar.method_that_was_renamed(); // First error\n// ...\nbar.other_method() // Second error because the type of `bar` is unknown\n```\n\nIn such cases, it is a better strategy to start by looking at and fixing earlier errors (in the compiler output) first. The second error might just go away when the first is fixed.\n\nIn a large enough crate, it\u2019s easy to get well over one screenful of compiler output. So the workflow is something like:\n- Build. See lots of output be generated too fast to read.\n- Scroll back to the beginning of the output for this build. Don\u2019t miss it! It looks a lot like the output of the previous build.\n- Find the first error.\n- Try to fix the first error.\n- Repeat.\n## Proposal\n\nAdd a command-line argument to rustc, called something like `--fatal`. When it is given and the compile finds a build error (the kind that would cause the compilation to fail eventually, so not warnings), exit immediately after printing diagnostics for this error. This is the opposite of the usual strategy of finding as many errors as possible at once.\n\nThe new workflow is:\n- Build.\n- The first error is right there at the bottom of the terminal. A single error likely fits entirely on the screen.\n- Try to fix it.\n- Repeat.\n\n(With some [inotify-based tricks](https://exyr.org/2011/inotify-run/), it\u2019s not even necessary to switch focus from the terminal.)\n", "closed_by": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27189/reactions", "total_count": 83, "+1": 68, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 12, "rocket": 2, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27189/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}