{"url": "https://api.github.com/repos/rust-lang/rust/issues/88935", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/88935/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/88935/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/88935/events", "html_url": "https://github.com/rust-lang/rust/issues/88935", "id": 996134196, "node_id": "I_kwDOAAsO6M47X800", "number": 88935, "title": "Rustup install failure w/ i686 & 1.55.0", "user": {"login": "satmandu", "id": 1096701, "node_id": "MDQ6VXNlcjEwOTY3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1096701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satmandu", "html_url": "https://github.com/satmandu", "followers_url": "https://api.github.com/users/satmandu/followers", "following_url": "https://api.github.com/users/satmandu/following{/other_user}", "gists_url": "https://api.github.com/users/satmandu/gists{/gist_id}", "starred_url": "https://api.github.com/users/satmandu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satmandu/subscriptions", "organizations_url": "https://api.github.com/users/satmandu/orgs", "repos_url": "https://api.github.com/users/satmandu/repos", "events_url": "https://api.github.com/users/satmandu/events{/privacy}", "received_events_url": "https://api.github.com/users/satmandu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}, {"id": 583436937, "node_id": "MDU6TGFiZWw1ODM0MzY5Mzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-waiting-on-author", "name": "S-waiting-on-author", "color": "d3dddd", "default": false, "description": "Status: This is awaiting some action (such as code changes or more information) from the author."}, {"id": 627350354, "node_id": "MDU6TGFiZWw2MjczNTAzNTQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-inactive", "name": "S-inactive", "color": "d3dddd", "default": false, "description": "Status: Inactive and waiting on the author. This is often applied to closed PRs."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-14T15:10:07Z", "updated_at": "2023-01-06T11:58:30Z", "closed_at": "2022-04-28T19:17:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a regression report! \ud83d\udc1b A regression is something that changed between versions of Rust but was not supposed to.\r\n\r\nPlease provide a short summary of the regression, along with any information you feel is relevant to replicate it.\r\n-->\r\n\r\n### Code\r\n\r\nI tried this code:\r\n\r\n```RUSTFLAGS='-Clto=thin' bash ./rustup.sh -y --no-modify-path --default-host i686-unknown-linux-gnu --default-toolchain stable --profile minimal```\r\n\r\nI expected to see this happen: Install succeeds\r\n\r\nInstead, this happened: install failed.\r\n\r\n\r\n\r\n### Version it worked on\r\n1.54.0\r\n\r\n<!--\r\nProvide the most recent version this worked on, for example:\r\n\r\nIt most recently worked on: Rust 1.47\r\n-->\r\n\r\nIt most recently worked on: <!-- version -->\r\n\r\n### Version with regression\r\n1.55.0\r\n\r\n<!--\r\nDid the compiler crash? If so, please provide a backtrace.\r\n-->\r\n\r\n### Backtrace\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary>Backtrace</summary>\r\n<p>\r\n\r\n```\r\ninfo: downloading installer\r\ninfo: profile set to 'minimal'\r\ninfo: setting default host triple to i686-unknown-linux-gnu\r\ninfo: syncing channel updates for 'stable-i686-unknown-linux-gnu'\r\nthread 'main' panicked at 'range start index 355 out of range for slice of length 32', /cargo/registry/src/github.com-1ecc6299db9ec823/getrandom-0.2.2/src/util_libc.rs:65:24\r\nstack backtrace:\r\n   0: 0x77365023 - std::backtrace_rs::backtrace::libunwind::trace::h7fd0e141e2d906ca\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/../../backtrace/src/backtrace/libunwind.rs:90:5\r\n   1: 0x77365023 - std::backtrace_rs::backtrace::trace_unsynchronized::h1eca8ded787c5b24\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2: 0x77365023 - std::sys_common::backtrace::_print_fmt::h4cb0f8f7cda4d345\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/sys_common/backtrace.rs:67:5\r\n   3: 0x77365023 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h2579a3d2b4303078\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/sys_common/backtrace.rs:46:22\r\n   4: 0x76f78164 - core::fmt::write::h02e8615e652766ba\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/core/src/fmt/mod.rs:1092:17\r\n   5: 0x773648de - std::io::Write::write_fmt::h92c644d2cf74e57f\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/io/mod.rs:1572:15\r\n   6: 0x77364300 - std::sys_common::backtrace::_print::h9b13230a85311925\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/sys_common/backtrace.rs:49:5\r\n   7: 0x77364300 - std::sys_common::backtrace::print::h5482833abe329a2b\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/sys_common/backtrace.rs:36:9\r\n   8: 0x77364300 - std::panicking::default_hook::{{closure}}::h68d5f6db0f5d7902\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/panicking.rs:208:50\r\n   9: 0x773638c6 - std::panicking::default_hook::h82ae8b9a767d7b31\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/panicking.rs:225:9\r\n  10: 0x76f15f08 - rustup::currentprocess::with::{{closure}}::{{closure}}::h30fa267c30e0f5f6\r\n  11: 0x773634ca - std::panicking::rust_panic_with_hook::hc3227ec8c33f6507\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/panicking.rs:595:17\r\n  12: 0x77382bb2 - std::panicking::begin_panic_handler::{{closure}}::h0408582b591d5da8\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/panicking.rs:497:13\r\n  13: 0x77382b1a - std::sys_common::backtrace::__rust_end_short_backtrace::h8bfb2d3fce40ba2b\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/sys_common/backtrace.rs:141:18\r\n  14: 0x77382aa1 - rust_begin_unwind\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/std/src/panicking.rs:493:5\r\n  15: 0x76effcf5 - core::panicking::panic_fmt::h50032c7c716249f8\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/core/src/panicking.rs:92:14\r\n  16: 0x76f0016f - core::slice::index::slice_start_index_len_fail::hf81767729ae36c6a\r\n                       at /rustc/9bc8c42bb2f19e745a63f3445f1ac248fb015e53/library/core/src/slice/index.rs:34:5\r\n  17: 0x7707c7b8 - <rand_core::os::OsRng as rand_core::RngCore>::try_fill_bytes::hbe5b92d8708ff51f\r\n  18: 0x7707c2b0 - std::thread::local::fast::Key<T>::try_initialize::h3f6f74dea40548cb\r\n  19: 0x77290a67 - rustup::utils::raw::random_string::h201d9ea95dbc64f4\r\n  20: 0x772902df - rustup::dist::temp::Cfg::new_file_with_ext::hc273008c953d79ae\r\n  21: 0x7727f8c2 - rustup::dist::download::DownloadCfg::download_and_check::h9bc00d4eee4a5de3\r\n  22: 0x7726c7e5 - rustup::dist::dist::dl_v2_manifest::h5b99ca00c2bca783\r\n  23: 0x772649c4 - rustup::dist::dist::try_update_from_dist_::hf3ecf4073184eaa0\r\n  24: 0x77262587 - rustup::install::InstallMethod::install::hc1e63ca148769e65\r\n  25: 0x77260a7f - rustup::toolchain::DistributableToolchain::install_from_dist::ha25600041b01b912\r\n  26: 0x7734f556 - rustup::cli::self_update::install::h47194fb43e6c8495\r\n  27: 0x76f1bf9e - rustup_init::main::h2d77027039d73808\r\n  28: 0x76f15102 - std::sys_common::backtrace::__rust_begin_short_backtrace::h7b25bcc8e42ab05d\r\n  29: 0x76f1d073 - main\r\n  30: 0x76c70699 - __libc_start_main\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n<!--\r\nIf you know when this regression occurred, please add a line like below, replacing `{channel}` with one of stable, beta, or nightly.\r\n\r\n@rustbot modify labels: +regression-from-stable-to-stable -regression-untriaged\r\n-->\r\n\r\nReported at https://github.com/skycocker/chromebrew/issues/6190\r\n", "closed_by": {"login": "satmandu", "id": 1096701, "node_id": "MDQ6VXNlcjEwOTY3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1096701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satmandu", "html_url": "https://github.com/satmandu", "followers_url": "https://api.github.com/users/satmandu/followers", "following_url": "https://api.github.com/users/satmandu/following{/other_user}", "gists_url": "https://api.github.com/users/satmandu/gists{/gist_id}", "starred_url": "https://api.github.com/users/satmandu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satmandu/subscriptions", "organizations_url": "https://api.github.com/users/satmandu/orgs", "repos_url": "https://api.github.com/users/satmandu/repos", "events_url": "https://api.github.com/users/satmandu/events{/privacy}", "received_events_url": "https://api.github.com/users/satmandu/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/88935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/88935/timeline", "performed_via_github_app": null, "state_reason": "completed"}