{"url": "https://api.github.com/repos/rust-lang/rust/issues/44618", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/44618/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/44618/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/44618/events", "html_url": "https://github.com/rust-lang/rust/issues/44618", "id": 258186014, "node_id": "MDU6SXNzdWUyNTgxODYwMTQ=", "number": 44618, "title": "Replicate clang's formatting for tabs in error message printing", "user": {"login": "est31", "id": 8872119, "node_id": "MDQ6VXNlcjg4NzIxMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/est31", "html_url": "https://github.com/est31", "followers_url": "https://api.github.com/users/est31/followers", "following_url": "https://api.github.com/users/est31/following{/other_user}", "gists_url": "https://api.github.com/users/est31/gists{/gist_id}", "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/est31/subscriptions", "organizations_url": "https://api.github.com/users/est31/orgs", "repos_url": "https://api.github.com/users/est31/repos", "events_url": "https://api.github.com/users/est31/events{/privacy}", "received_events_url": "https://api.github.com/users/est31/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 693665463, "node_id": "MDU6TGFiZWw2OTM2NjU0NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/WG-diagnostics", "name": "WG-diagnostics", "color": "c2e0c6", "default": false, "description": "Working group: diagnostics"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-15T23:09:34Z", "updated_at": "2018-10-19T20:25:37Z", "closed_at": "2018-10-19T18:52:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a follow-up of #38384 which was fixed by my PR #44386. The basic question: how to handle tabs in error messages? E.g. you want to underline something with `^` or you show markers like `__^`. The problem is that you don't know which tab width the viewer has (whether its a terminal or an online tool like travis or a text editor if you've stored the output into a file and now opened it), so you might end up producing misaligned output if you just copy the tabs.\r\n\r\nThe strategy chosen before my PR was trying to replicate tabs in the line below, but it still misaligned when the underlined stuff has tabs of its own, and it also didn't really work in other cases.\r\n\r\nNow my PR has fixed the misalignment by implementing GCC's (very simple) fix to the problem, replacing each tab with one space in the code printed. But the output is still not *beautiful*. A better strategy is the one clang uses, which emulates a tabstop algorithm by filling in spaces in place of tabs, with a tabstop existing at all 4 spaces.\r\n\r\nI've opened this issue to remember that adopting clang's strategy might be something worth pursuing for rustc.", "closed_by": {"login": "est31", "id": 8872119, "node_id": "MDQ6VXNlcjg4NzIxMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/est31", "html_url": "https://github.com/est31", "followers_url": "https://api.github.com/users/est31/followers", "following_url": "https://api.github.com/users/est31/following{/other_user}", "gists_url": "https://api.github.com/users/est31/gists{/gist_id}", "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/est31/subscriptions", "organizations_url": "https://api.github.com/users/est31/orgs", "repos_url": "https://api.github.com/users/est31/repos", "events_url": "https://api.github.com/users/est31/events{/privacy}", "received_events_url": "https://api.github.com/users/est31/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/44618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/44618/timeline", "performed_via_github_app": null, "state_reason": "completed"}