{"url": "https://api.github.com/repos/rust-lang/rust/issues/37874", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37874/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37874/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37874/events", "html_url": "https://github.com/rust-lang/rust/issues/37874", "id": 190492530, "node_id": "MDU6SXNzdWUxOTA0OTI1MzA=", "number": 37874, "title": "Simple \"Hello World!\" throws Segmentation fault on CentOS 6.8 x86", "user": {"login": "clytras", "id": 6103077, "node_id": "MDQ6VXNlcjYxMDMwNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6103077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clytras", "html_url": "https://github.com/clytras", "followers_url": "https://api.github.com/users/clytras/followers", "following_url": "https://api.github.com/users/clytras/following{/other_user}", "gists_url": "https://api.github.com/users/clytras/gists{/gist_id}", "starred_url": "https://api.github.com/users/clytras/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clytras/subscriptions", "organizations_url": "https://api.github.com/users/clytras/orgs", "repos_url": "https://api.github.com/users/clytras/repos", "events_url": "https://api.github.com/users/clytras/events{/privacy}", "received_events_url": "https://api.github.com/users/clytras/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123110, "node_id": "MDU6TGFiZWwxMjMxMTA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-linux", "name": "O-linux", "color": "6e6ec0", "default": false, "description": "Operating system: Linux"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2016-11-19T11:49:29Z", "updated_at": "2017-04-18T01:17:48Z", "closed_at": "2017-02-28T18:51:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "After installing rust, I tried the sample \"Hello World!\" program. It compiles just fine, but when I run it, it throws a segmentation fault after the \"Hello World!\" output.\r\n\r\nThis happens to a local server running **CentOS 6.8 x86**. This issue does not occur on a **CentOS 6.8 x86_64**. I am not sure if this is something that has to do with my OS installation or it's related to rust.\r\n\r\n```\r\n[root@deve tmp]# curl -sSf https://static.rust-lang.org/rustup.sh | sh\r\nrustup: gpg available. signatures will be verified\r\nrustup: downloading manifest for 'stable'\r\nrustup: downloading toolchain for 'stable'\r\n######################################################################## 100.0%\r\ngpg: Signature made Tue 08 Nov 2016 07:30:26 PM EET using RSA key ID 7B3B09DC\r\ngpg: Good signature from \"Rust Language (Tag and Release Signing Key) <rust-key@rust-lang.org>\"\r\ngpg: WARNING: This key is not certified with a trusted signature!\r\ngpg:          There is no indication that the signature belongs to the owner.\r\nPrimary key fingerprint: 108F 6620 5EAE B0AA A8DD  5E1C 85AB 96E6 FA1B E5FE\r\n     Subkey fingerprint: C134 66B7 E169 A085 1886  3216 5CB4 A934 7B3B 09DC\r\nrustup: installing toolchain for 'stable'\r\nrustup: extracting installer\r\ninstall: uninstalling component 'rustc'\r\ninstall: uninstalling component 'rust-std-i686-unknown-linux-gnu'\r\ninstall: uninstalling component 'rust-docs'\r\ninstall: uninstalling component 'cargo'\r\ninstall: creating uninstall script at /usr/local/lib/rustlib/uninstall.sh\r\ninstall: installing component 'rustc'\r\ninstall: installing component 'rust-std-i686-unknown-linux-gnu'\r\ninstall: installing component 'rust-docs'\r\ninstall: installing component 'cargo'\r\n\r\n    Rust is ready to roll.\r\n\r\n[root@deve tmp]# cd ../src/rust/\r\n[root@deve rust]# echo 'fn main() { println!(\"Hello World!\"); }' >> hello.rs\r\n[root@deve rust]# rustc hello.rs\r\n[root@deve rust]# ./hello\r\nHello World!\r\nSegmentation fault (core dumped)\r\n[root@deve rust]#\r\n\r\n[root@deve rust]# cat /etc/redhat-release\r\nCentOS release 6.8 (Final)\r\n\r\n[root@deve rust]# uname -a\r\nLinux deve.mashine.xxx 2.6.32-642.4.2.el6.i686 #1 SMP Tue Aug 23 19:20:20 UTC 2016 i686 i686 i386 GNU/Linux\r\n\r\n[root@deve rust]# rustc -g hello.rs\r\n[root@deve rust]# gdb hello\r\nGNU gdb (GDB) Red Hat Enterprise Linux (7.2-90.el6)\r\nCopyright (C) 2010 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"i686-redhat-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>...\r\nReading symbols from /root/src/rust/hello...done.\r\nwarning: Missing auto-load scripts referenced in section .debug_gdb_scripts\r\nof file /root/src/rust/hello\r\nUse `info auto-load python [REGEXP]' to list them.\r\n(gdb) r\r\nStarting program: /root/src/rust/hello\r\n[Thread debugging using libthread_db enabled]\r\nHello World!\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x78eeab28 in ?? ()\r\n(gdb) bt full\r\n#0  0x78eeab28 in ?? ()\r\nNo symbol table info available.\r\n#1  0xb7e25e9f in __run_exit_handlers (status=0) at exit.c:78\r\n        atfct = <value optimized out>\r\n        onfct = <value optimized out>\r\n        cxafct = <value optimized out>\r\n        f = <value optimized out>\r\n#2  exit (status=0) at exit.c:100\r\nNo locals.\r\n#3  0xb7e0ed2e in __libc_start_main (main=0x114030 <main>, argc=1, ubp_av=0xbffff714, init=0x156fc0 <__libc_csu_init>, fini=0x156fb0 <__libc_csu_fini>, rtld_fini=0xb7fef590 <_dl_fini>, stack_end=0xbffff70c) at libc-start.c:258\r\n        result = <value optimized out>\r\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {-1208434700, 0, 0, -1073744152, -548302623, -513497359}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x1, 0x113e20}, data = {prev = 0x0, cleanup = 0x0, canceltype = 1}}}\r\n        not_first_call = <value optimized out>\r\nwarning: (Internal error: pc 0x113e50 in read in psymtab, but not in symtab.)\r\n\r\nwarning: (Internal error: pc 0x113e50 in read in psymtab, but not in symtab.)\r\n\r\nwarning: (Internal error: pc 0x113e50 in read in psymtab, but not in symtab.)\r\n\r\n#4  0x00113e51 in _start (warning: (Internal error: pc 0x113e50 in read in psymtab, but not in symtab.)\r\n\r\n)\r\nwarning: (Internal error: pc 0x113e50 in read in psymtab, but not in symtab.)\r\n\r\nNo symbol table info available.\r\nwarning: (Internal error: pc 0x113e50 in read in psymtab, but not in symtab.)\r\n\r\n(gdb)\r\n```", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37874/timeline", "performed_via_github_app": null, "state_reason": "completed"}