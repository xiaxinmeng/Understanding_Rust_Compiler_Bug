{"url": "https://api.github.com/repos/rust-lang/rust/issues/73559", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73559/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73559/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73559/events", "html_url": "https://github.com/rust-lang/rust/issues/73559", "id": 642431721, "node_id": "MDU6SXNzdWU2NDI0MzE3MjE=", "number": 73559, "title": "Code that doesn't depend on type fails to build when type is changed", "user": {"login": "vadixidav", "id": 12789579, "node_id": "MDQ6VXNlcjEyNzg5NTc5", "avatar_url": "https://avatars.githubusercontent.com/u/12789579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadixidav", "html_url": "https://github.com/vadixidav", "followers_url": "https://api.github.com/users/vadixidav/followers", "following_url": "https://api.github.com/users/vadixidav/following{/other_user}", "gists_url": "https://api.github.com/users/vadixidav/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadixidav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadixidav/subscriptions", "organizations_url": "https://api.github.com/users/vadixidav/orgs", "repos_url": "https://api.github.com/users/vadixidav/repos", "events_url": "https://api.github.com/users/vadixidav/events{/privacy}", "received_events_url": "https://api.github.com/users/vadixidav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-20T19:23:18Z", "updated_at": "2023-03-30T19:08:08Z", "closed_at": "2023-03-30T19:08:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See [this comment](https://github.com/rust-lang/rust/issues/73559#issuecomment-647062643) below for an updated MCVE.\r\n\r\nTake a look at this playground link: https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=98c74d126cd808ad9512ac2011ec7bca\r\n\r\nFor some reason, when the minimal example is built, it succeeds. However, when the type alias changes, suddenly the code stops building and terminates with an error. Since the code does not depend on the type in any way, this seems to be a compiler bug.\r\n\r\nTo provoke the bug switch between these two pieces of code:\r\n\r\n```rust\r\n// type A = C;\r\ntype A = nalgebra::Vector4<f64>;\r\n```\r\n\r\n```rust\r\ntype A = C;\r\n// type A = nalgebra::Vector4<f64>;\r\n```\r\n\r\nFull code:\r\n\r\n```rust\r\nstruct C;\r\n\r\n// Change which one of the two lines below is commented to error or not error.\r\n// type A = C;\r\ntype A = nalgebra::Vector4<f64>;\r\n\r\ntrait Projective: From<A> {\r\n    fn homogeneous(self) -> A;\r\n}\r\n\r\ntrait Pose {\r\n    type InputPoint: Projective;\r\n    type OutputPoint: Projective;\r\n    \r\n    fn transform(self, input: Self::InputPoint) -> Self::OutputPoint;\r\n}\r\n\r\nfn pose_output<P: Pose>(pose: P, input: P::InputPoint) -> A {\r\n    pose.transform(input).homogeneous()\r\n}\r\n```\r\n", "closed_by": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73559/timeline", "performed_via_github_app": null, "state_reason": "completed"}