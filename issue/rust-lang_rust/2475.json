{"url": "https://api.github.com/repos/rust-lang/rust/issues/2475", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2475/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2475/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2475/events", "html_url": "https://github.com/rust-lang/rust/issues/2475", "id": 4850988, "node_id": "MDU6SXNzdWU0ODUwOTg4", "number": 2475, "title": "System-level cargo directory requires root permissions for all commands", "user": {"login": "z0w0", "id": 676417, "node_id": "MDQ6VXNlcjY3NjQxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/676417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/z0w0", "html_url": "https://github.com/z0w0", "followers_url": "https://api.github.com/users/z0w0/followers", "following_url": "https://api.github.com/users/z0w0/following{/other_user}", "gists_url": "https://api.github.com/users/z0w0/gists{/gist_id}", "starred_url": "https://api.github.com/users/z0w0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/z0w0/subscriptions", "organizations_url": "https://api.github.com/users/z0w0/orgs", "repos_url": "https://api.github.com/users/z0w0/repos", "events_url": "https://api.github.com/users/z0w0/events{/privacy}", "received_events_url": "https://api.github.com/users/z0w0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-06-01T04:59:59Z", "updated_at": "2012-06-03T03:54:58Z", "closed_at": "2012-06-03T03:54:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Note: These events might only occur on Linux and not Mac.\n\nThe current setup requires cargo to be inited in /usr/local/lib/cargo, which makes cargo require root permissions for every command, regardless of where you are installing the files. Using `sudo` or any other root granter, which normally works cleanly for any root install commands with other package managers, results in the home directory being in /root/ when you install to user-level. Installing to local-level still requires root and hence produces root-only libraries files. All cargo installs end up requiring you to have root permissions when compiling rust programs. As you can see, it turns out as a terrible mess.  \n\nIs there any reason for the default cargo directory to be at the system level? The only reason that I can think of is having the same sources across user accounts, but that is kinda pointless at the moment because there is really no reason to have alternative sources and there's no command to even add alternative sources other than the default listed ones. \n\nWhy was the cargo home changed, is there a good reason for it to be system level? Is there a way to change this so I don't need all these root permissions, just to compile a rust program (noting at the outputted executable also becomes sudo'd).  \n\nI am willing to commit the --mode, -g and -G command line options for the init and sync commands as well if there really is a reason to have system-level sources, so that by default I don't need to get root permissions just to write a rust program that uses cargo-central libraries.\n", "closed_by": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2475/timeline", "performed_via_github_app": null, "state_reason": "completed"}