{"url": "https://api.github.com/repos/rust-lang/rust/issues/97282", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/97282/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/97282/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/97282/events", "html_url": "https://github.com/rust-lang/rust/issues/97282", "id": 1244279972, "node_id": "I_kwDOAAsO6M5KKjSk", "number": 97282, "title": "Clarify that patterns may be used in trait implementations when explaining E0642", "user": {"login": "broomlytinum", "id": 39464333, "node_id": "MDQ6VXNlcjM5NDY0MzMz", "avatar_url": "https://avatars.githubusercontent.com/u/39464333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/broomlytinum", "html_url": "https://github.com/broomlytinum", "followers_url": "https://api.github.com/users/broomlytinum/followers", "following_url": "https://api.github.com/users/broomlytinum/following{/other_user}", "gists_url": "https://api.github.com/users/broomlytinum/gists{/gist_id}", "starred_url": "https://api.github.com/users/broomlytinum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/broomlytinum/subscriptions", "organizations_url": "https://api.github.com/users/broomlytinum/orgs", "repos_url": "https://api.github.com/users/broomlytinum/repos", "events_url": "https://api.github.com/users/broomlytinum/events{/privacy}", "received_events_url": "https://api.github.com/users/broomlytinum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-22T15:00:33Z", "updated_at": "2023-02-08T12:45:50Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I encountered E0642 which disallows patterns in functions without a body, particularly trait methods. It was not immediately clear to me that this meant one could still *implement* a trait method using patterns. Due to the fact that most trait implementations don't stray far from the provided argument names, it took me a moment to remember that the argument names in trait definitions are essentially filler.\r\n\r\nI would expect others may have similar confusion with how to handle the error, and it could be avoided if the error explanation reminded the user that this only applies to the *trait definition*, not its implementations.\r\n\r\nCurrently, ```rustc --explain E0642``` outputs:\r\n```rust\r\nTrait methods currently cannot take patterns as arguments.\r\n\r\nErroneous code example:\r\n\r\ntrait Foo {\r\n    fn foo((x, y): (i32, i32)); // error: patterns aren't allowed\r\n                                //        in trait methods\r\n}\r\n\r\nYou can instead use a single name for the argument:\r\n\r\ntrait Foo {\r\n    fn foo(x_and_y: (i32, i32)); // ok!\r\n}\r\n```\r\nI believe an addition like the following would aid clarity:\r\n```rust\r\nAnd you can use patterns in its implementations:\r\n\r\nimpl Foo for Bar {\r\n    fn foo((x, y): (i32, i32)) { /* ... */ } // ok!\r\n}\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/97282/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/97282/timeline", "performed_via_github_app": null, "state_reason": null}