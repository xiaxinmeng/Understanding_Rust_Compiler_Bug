{"url": "https://api.github.com/repos/rust-lang/rust/issues/18938", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18938/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18938/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18938/events", "html_url": "https://github.com/rust-lang/rust/issues/18938", "id": 48706356, "node_id": "MDU6SXNzdWU0ODcwNjM1Ng==", "number": 18938, "title": "[guide] A new guide that centers around Send and Sync should be written", "user": {"login": "Kimundi", "id": 2903206, "node_id": "MDQ6VXNlcjI5MDMyMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kimundi", "html_url": "https://github.com/Kimundi", "followers_url": "https://api.github.com/users/Kimundi/followers", "following_url": "https://api.github.com/users/Kimundi/following{/other_user}", "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions", "organizations_url": "https://api.github.com/users/Kimundi/orgs", "repos_url": "https://api.github.com/users/Kimundi/repos", "events_url": "https://api.github.com/users/Kimundi/events{/privacy}", "received_events_url": "https://api.github.com/users/Kimundi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-13T23:12:55Z", "updated_at": "2015-02-05T05:21:18Z", "closed_at": "2015-02-05T05:21:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, the only Rust guide that talks about concurrency is the task guide, which talks about `spawn`, channels, Futures and Arcs and how to use them.\n\nHowever, Rusts concurrency story is not based on those library types, its based on its ownership and borrowing semantic and the two build-in traits `Send` and `Sync`.\n\nA rewritten concurrency guide could start by talking around the two core problems with concurrent/parallel code:\n1) Making sure that objects created on one thread can be safely moved into another thread and then used there. (Examples: global allocator vs thread-local allocator, FFI bindings that need to stay on one thread)\n2) Making sure that objects can be safely accessed from different threads in parallel. (Examples: worker threads with shared memory, global variables)\n\nAnd then talk about how those two cases are, per definition, covered with the two build-in traits:\n1) `Send` expresses whether a type can be safely ownership-transferred across thread boundaries\n2) `Sync` expresses whether a  type can be safely accessed through shared references from different threads.\n\nAfter each of these those two traits got explained, the guide could go into details about language semantics and std library APIs that make use of them, eg task spawning works with `Send`, `Arc`s are `Send` and  require `Sync` on the inner type, while channels are sendable endpoints that can only transfer sendable types, `static` variables that contain `Sync` types are safe to access, etc.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/18938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18938/timeline", "performed_via_github_app": null, "state_reason": "completed"}