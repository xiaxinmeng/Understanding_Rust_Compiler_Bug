{"url": "https://api.github.com/repos/rust-lang/cargo/issues/8690", "repository_url": "https://api.github.com/repos/rust-lang/cargo", "labels_url": "https://api.github.com/repos/rust-lang/cargo/issues/8690/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/cargo/issues/8690/comments", "events_url": "https://api.github.com/repos/rust-lang/cargo/issues/8690/events", "html_url": "https://github.com/rust-lang/cargo/issues/8690", "id": 695457619, "node_id": "MDU6SXNzdWU2OTU0NTc2MTk=", "number": 8690, "title": "patch was not used message does not adequately describe reason", "user": {"login": "ryankurte", "id": 860620, "node_id": "MDQ6VXNlcjg2MDYyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/860620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryankurte", "html_url": "https://github.com/ryankurte", "followers_url": "https://api.github.com/users/ryankurte/followers", "following_url": "https://api.github.com/users/ryankurte/following{/other_user}", "gists_url": "https://api.github.com/users/ryankurte/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryankurte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryankurte/subscriptions", "organizations_url": "https://api.github.com/users/ryankurte/orgs", "repos_url": "https://api.github.com/users/ryankurte/repos", "events_url": "https://api.github.com/users/ryankurte/events{/privacy}", "received_events_url": "https://api.github.com/users/ryankurte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 166054475, "node_id": "MDU6TGFiZWwxNjYwNTQ0NzU=", "url": "https://api.github.com/repos/rust-lang/cargo/labels/A-errors", "name": "A-errors", "color": "fbca04", "default": false, "description": "Area: Error and warning messages generated by Cargo itself."}, {"id": 706699388, "node_id": "MDU6TGFiZWw3MDY2OTkzODg=", "url": "https://api.github.com/repos/rust-lang/cargo/labels/A-patch", "name": "A-patch", "color": "fbca04", "default": false, "description": "Area: [patch] table override"}, {"id": 1870414272, "node_id": "MDU6TGFiZWwxODcwNDE0Mjcy", "url": "https://api.github.com/repos/rust-lang/cargo/labels/E-medium", "name": "E-medium", "color": "02e10c", "default": false, "description": "Experience: Medium"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2020-09-07T23:51:18Z", "updated_at": "2021-11-29T17:13:15Z", "closed_at": "2021-11-29T17:13:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Heya, not _sure_ whether we consider usability issues bugs, but, it seemed the closest option.\r\n\r\nWhen configuring `[patch]`es there are a variety of reasons the patch may not be used, resulting in a message like the following:\r\n\r\n```\r\nwarning: Patch `SOMETHING` was not used in the crate graph.\r\nCheck that the patched package version and available features are compatible\r\nwith the dependency requirements. If the patch has a different version from\r\nwhat is locked in the Cargo.lock file, run `cargo update` to use the new\r\nversion. This may also occur with an optional dependency that is not enabled.\r\n```\r\n\r\nThis gives a list of reasons that can be particularly difficult to debug, as well as the recommendation that `cargo update` may help, which is particularly helpful when this message is printed by `cargo update`. As an alternative, it would be great to print the _specific_ reason the `[patch]` wasn't used, and a proposed resolution, which I believe is in-line with other compiler error improvements.\r\n\r\nSome possible examples:\r\n```\r\nwarning: Patch `SOMETHING` was not used in the crate graph.\r\nPatch version \"0.14.0\" from `../SOMETHING` does not meet package constraint \">0.15.0\",\r\nthis may be resolved by updating the `SOMETHING` package version\r\n\r\nwarning: Patch `SOMETHING` was not used in the crate graph.\r\nPatch version \"0.14.0\" does not match the package version in Cargo.lock,\r\nthis may be resolved by running `cargo update` to update the cargo lock file.\r\n```\r\n\r\nRelated to: https://github.com/rust-lang/cargo/issues/8400\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/cargo/issues/8690/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/cargo/issues/8690/timeline", "performed_via_github_app": null, "state_reason": "completed"}