{"url": "https://api.github.com/repos/rust-lang/rust/issues/11676", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/11676/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/11676/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/11676/events", "html_url": "https://github.com/rust-lang/rust/issues/11676", "id": 25892686, "node_id": "MDU6SXNzdWUyNTg5MjY4Ng==", "number": 11676, "title": "rustc error: internal compiler error: type_of with ty_param", "user": {"login": "carllerche", "id": 6180, "node_id": "MDQ6VXNlcjYxODA=", "avatar_url": "https://avatars.githubusercontent.com/u/6180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carllerche", "html_url": "https://github.com/carllerche", "followers_url": "https://api.github.com/users/carllerche/followers", "following_url": "https://api.github.com/users/carllerche/following{/other_user}", "gists_url": "https://api.github.com/users/carllerche/gists{/gist_id}", "starred_url": "https://api.github.com/users/carllerche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carllerche/subscriptions", "organizations_url": "https://api.github.com/users/carllerche/orgs", "repos_url": "https://api.github.com/users/carllerche/repos", "events_url": "https://api.github.com/users/carllerche/events{/privacy}", "received_events_url": "https://api.github.com/users/carllerche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-20T00:19:22Z", "updated_at": "2014-01-20T00:55:59Z", "closed_at": "2014-01-20T00:55:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "output:\n\n```\nrustc --staticlib -Z gen-crate-map -o libskylight.a src/rs/skylight/lib.rs\nwarning: ignoring specified output filename for library.\nsrc/rs/skylight/api.rs:75:75: 75:78 warning: unused variable: `obj`, #[warn(unused_variable)] on by default\nsrc/rs/skylight/api.rs:75 pub extern \"C\" fn sk_message_serialized_size_info<M: proto::Serializable>(obj: &M) -> *proto::SerializedSizeInfo {\n                                                                                                    ^~~\nsrc/rs/skylight/proto/api.rs:38:1: 43:2 warning: code is never used: `deserialize_from_bytes`, #[warn(dead_code)] on by default\nsrc/rs/skylight/proto/api.rs:38 pub fn deserialize_from_bytes<T: Deserializable>(bytes: &[u8]) -> Result<T, int> {\nsrc/rs/skylight/proto/api.rs:39   let mut reader = BufReader::new(bytes);\nsrc/rs/skylight/proto/api.rs:40   let mut stream = InputStream::new(&mut reader);\nsrc/rs/skylight/proto/api.rs:41\nsrc/rs/skylight/proto/api.rs:42   Deserializable::deserialize(&mut stream)\nsrc/rs/skylight/proto/api.rs:43 }\nerror: internal compiler error: type_of with ty_param\nThis message reflects a bug in the Rust compiler.\nWe would appreciate a bug report: http://static.rust-lang.org/doc/master/complement-bugreport.html\ntask 'rustc' failed at 'explicit failure', /Users/carllerche/Code/oss/rust/src/libsyntax/diagnostic.rs:75\ntask '<main>' failed at 'explicit failure', /Users/carllerche/Code/oss/rust/src/librustc/lib.rs:448\n```\n\nuname -a:\n\n```\nDarwin Carls-MacBook-Pro.local 12.5.0 Darwin Kernel Version 12.5.0: Sun Sep 29 13:33:47 PDT 2013; root:xnu-2050.48.12~1/RELEASE_X86_64 x86_64\n```\n\nrustc -v:\n\n```\nrustc 0.10-pre (f4498c7 2014-01-17 17:56:41 -0800)\nhost: x86_64-apple-darwin\n```\n\nbacktrace:\n\n```\n#0  0x00000001000aa490 in rust_fail ()\n#1  0x00000001000087d7 in rt::unwind::Unwinder::begin_unwind::h404ae94160912110NCaL::v0.9 ()\n#2  0x00000001009fc240 in rt::unwind::begin_unwind::h7661869d5c05f669aH::v0.10.pre ()\n#3  0x0000000100a0b49c in diagnostic::Handler::fatal::h43d803f113302b80qVam::v0.10.pre ()\n#4  0x0000000100a0bb79 in diagnostic::Handler::bug::h8095feb2c3679cf5qVaB::v0.10.pre ()\n#5  0x0000000100f9fd54 in driver::session::Session_::bug::hcd85f36ce5a8ae05iqak::v0.10.pre ()\n#6  0x0000000100fdee4c in middle::trans::type_of::type_of::h84f1da6e53fff97fak::v0.10.pre ()\n#7  0x0000000100fde58d in middle::trans::type_of::type_of::h84f1da6e53fff97fak::v0.10.pre ()\n#8  0x0000000100fde16f in middle::trans::type_of::type_of::h84f1da6e53fff97fak::v0.10.pre ()\n#9  0x0000000101049c72 in vec::ImmutableVector$$BP$$VEC$T::map::h520a9f201eefee5alaaS::v0.10.pre ()\n#10 0x00000001010e09d3 in middle::trans::foreign::foreign_signature::h9a66760111f3aafcaj::v0.10.pre ()\n#11 0x00000001010e0ca2 in middle::trans::foreign::foreign_types_for_fn_ty::h739a71597f0d8754ax::v0.10.pre ()\n#12 0x00000001010a6566 in middle::trans::foreign::register_rust_fn_with_foreign_abi::h25dbdc53f0369707ac::v0.10.pre ()\n#13 0x0000000100f9d75d in middle::trans::base::get_item_val::hc7fc1be88631c8f2a7::v0.10.pre ()\n#14 0x0000000100f9b1ba in middle::trans::base::trans_item::hcc7696c7806da52eaZ::v0.10.pre ()\n#15 0x00000001010a2ddf in middle::trans::base::trans_mod::h0cb3aa9e0f3df697aG::v0.10.pre ()\n#16 0x0000000100f9af27 in middle::trans::base::trans_item::hcc7696c7806da52eaZ::v0.10.pre ()\n#17 0x00000001010a2ddf in middle::trans::base::trans_mod::h0cb3aa9e0f3df697aG::v0.10.pre ()\n#18 0x00000001010abf55 in middle::trans::base::trans_crate::h3778a50aab1ab774aw::v0.10.pre ()\n#19 0x00000001015bacfc in driver::driver::phase_4_translate_to_llvm::heb67e681f938484aaQ::v0.10.pre ()\n#20 0x00000001015bdb90 in driver::driver::compile_input::hf02f7b912014724aaq::v0.10.pre ()\n#21 0x00000001015e3906 in run_compiler::h774565e05568b767aS::v0.10.pre ()\n#22 0x00000001015f1a26 in main_args::anon::expr_fn::as ()\n#23 0x00000001015efb94 in monitor::anon::expr_fn::aL ()\n#24 0x00000001015e8b9e in task::TaskBuilder::try::anon::expr_fn::sIaOao ()\n#25 0x00000001005c0428 in task::__extensions__::build_start_wrapper::anon::anon::expr_fn::a7 ()\n#26 0x00000001000a5f68 in rt::task::__extensions__::run::anon::expr_fn::ag ()\n#27 0x00000001000acebc in rust_try ()\n#28 0x00000001005bfebc in task::__extensions__::build_start_wrapper::anon::expr_fn::aR ()\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/11676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/11676/timeline", "performed_via_github_app": null, "state_reason": "completed"}