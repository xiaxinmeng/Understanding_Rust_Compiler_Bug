{"url": "https://api.github.com/repos/rust-lang/rust/issues/7221", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/7221/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/7221/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/7221/events", "html_url": "https://github.com/rust-lang/rust/issues/7221", "id": 15720506, "node_id": "MDU6SXNzdWUxNTcyMDUwNg==", "number": 7221, "title": "32bit mac non-opt build doesn't work", "user": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 123111, "node_id": "MDU6TGFiZWwxMjMxMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-macos", "name": "O-macos", "color": "6e6ec0", "default": false, "description": "Operating system: macOS"}, {"id": 234956, "node_id": "MDU6TGFiZWwyMzQ5NTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-codegen", "name": "A-codegen", "color": "f7e101", "default": false, "description": "Area: Code generation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-06-19T00:16:21Z", "updated_at": "2013-12-01T00:11:00Z", "closed_at": "2013-12-01T00:11:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It appears to have trouble linking.\n\n```\n\n...\ncp: i686-apple-darwin/stage1/lib/rustc/i686-apple-darwin/lib/librustllvm.dylib\ncompile_and_link: i686-apple-darwin/stage1/lib/rustc/i686-apple-darwin/lib/librustc.dylib\n...\nLLVM ERROR: Section too large, can't encode r_address (0x10006ad) into 24 bits of scattered relocation entry.\nmake: *** [i686-apple-darwin/stage1/lib/rustc/i686-apple-darwin/lib/librustc.dylib] Error 1\n```\n\nPossibly related: http://code.google.com/p/go/issues/detail?id=3253\n\nNo idea really. It does seem like mach-o has something called a \"scattered\" reloc, and that this has only a 24bit displacement:\n\nhttp://developer.apple.com/library/Mac/documentation/DeveloperTools/Conceptual/MachORuntime/Reference/reference.html#//apple_ref/c/tag/scattered_relocation_info\n\n```\nr_address\n\n...\n\n    Since this field is only 24 bits long, the offset in this field can never be larger than 0x00FFFFFF, thus limiting the size of the relocatable contents of this image to 16 megabytes.\n```\n\nPossibly we can fiddle linker and LLVM options to not generate these. Or we can get our codegen improved to the point where none of our libraries are 16+mb, which would be cool.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/7221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/7221/timeline", "performed_via_github_app": null, "state_reason": "completed"}