{"url": "https://api.github.com/repos/rust-lang/rust/issues/38292", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38292/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38292/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38292/events", "html_url": "https://github.com/rust-lang/rust/issues/38292", "id": 194804471, "node_id": "MDU6SXNzdWUxOTQ4MDQ0NzE=", "number": 38292, "title": "unexpected definition: PrimTy(TyChar)", "user": {"login": "tcourdy", "id": 1908206, "node_id": "MDQ6VXNlcjE5MDgyMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1908206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tcourdy", "html_url": "https://github.com/tcourdy", "followers_url": "https://api.github.com/users/tcourdy/followers", "following_url": "https://api.github.com/users/tcourdy/following{/other_user}", "gists_url": "https://api.github.com/users/tcourdy/gists{/gist_id}", "starred_url": "https://api.github.com/users/tcourdy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tcourdy/subscriptions", "organizations_url": "https://api.github.com/users/tcourdy/orgs", "repos_url": "https://api.github.com/users/tcourdy/repos", "events_url": "https://api.github.com/users/tcourdy/events{/privacy}", "received_events_url": "https://api.github.com/users/tcourdy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-11T00:56:28Z", "updated_at": "2016-12-14T23:18:55Z", "closed_at": "2016-12-14T23:18:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am new to rust so perhaps I am doing something wrong in the initialization of my struct.\r\n\r\nI am trying to initialize a winapi::tlhelp32::PROCESSENTRY32 struct the following way: \r\n\r\n`    let mut pe32 = tlhelp32::PROCESSENTRY32{\r\n        dwSize: mem::size_of::<tlhelp32::PROCESSENTRY32>() as u32, cntUsage: -1,\r\n        th32ProcessID: -1, th32DefaultHeapID: -1,\r\n        th32ModuleID: -1,  cntThreads: -1, th32ParentProcessID: -1,\r\n        pcPriClassBase: -1, dwFlags: -1, szExeFile: [char; 260]\r\n    };\r\n`\r\n\r\nHowever, I receive the following compilation error:\r\n\r\n`error: internal compiler error: ../src/librustc_typeck\\check/mod.rs:4396: unexpected definition: PrimTy(TyChar)\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: run with `RUST_BACKTRACE=1` for a backtrace\r\n\r\nthread 'rustc' panicked at 'Box<Any>', ../src/librustc_errors/lib.rs:423\r\nstack backtrace:\r\n   0:     0x7fffe44b02ea - std::panicking::Location::line::h9363ce800e842170\r\n   1:     0x7fffe44af774 - std::panicking::Location::line::h9363ce800e842170\r\n   2:     0x7fffe44b31cd - std::panicking::rust_panic_with_hook::hc790e47d4ecc86cd\r\n   3:     0x7fffe2992670 - <unknown>\r\n   4:     0x7fffe29ab09e - rustc_errors::Handler::bug::h620f7270292f0095\r\n   5:     0x7fffd7805e25 - rustc::session::bug_fmt::he2d2f00a4afa9d1e\r\n   6:     0x7fffd7805c5a - rustc::session::bug_fmt::he2d2f00a4afa9d1e\r\n   7:     0x7fffd78053cc - rustc::session::bug_fmt::he2d2f00a4afa9d1e\r\n   8:     0x7fffd8af9d1a - rustc_typeck::check::FnCtxt::instantiate_value_path::h4229ac945aebfa55\r\n   9:     0x7fffd8ae4356 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  10:     0x7fffd8ae2d81 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  11:     0x7fffd8ae3204 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  12:     0x7fffd8ae2d81 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  13:     0x7fffd8ae0485 - rustc_typeck::check::FnCtxt::impl_self_ty::h097381977b228682\r\n  14:     0x7fffd8ae5dd2 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  15:     0x7fffd8ae2d81 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  16:     0x7fffd8af7cef - rustc_typeck::check::FnCtxt::check_decl_initializer::h43ea4d26b2a62ae8\r\n  17:     0x7fffd8af7e3b - rustc_typeck::check::FnCtxt::check_decl_local::h15d42ee7f4d79e8d\r\n  18:     0x7fffd8af8187 - rustc_typeck::check::FnCtxt::check_stmt::h155d968e61fdfae6\r\n  19:     0x7fffd8af84be - rustc_typeck::check::FnCtxt::check_block_no_value::h3ac235dc3eaa76c3\r\n  20:     0x7fffd8ae326e - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  21:     0x7fffd8ae2d81 - rustc_typeck::check::FnCtxt::check_struct_path::h1ff2872963f8985c\r\n  22:     0x7fffd8ac2c1d - <rustc_typeck::coherence::orphan::OrphanChecker<'cx, 'tcx> as rustc::hir::itemlikevisit::ItemLikeVisitor<'v>>::visit_impl_item::habbc901b4cfa4531\r\n  23:     0x7fffd8ac0f57 - rustc_typeck::check::check_drop_impls::hb6e6926f4342f9e2\r\n  24:     0x7fffd8ac52e1 - rustc_typeck::check::check_item_body::h1e039ede2f960fb9\r\n  25:     0x7fffd8abdbbd - rustc_typeck::check::check_item_bodies::hd22adb7703cc56d7\r\n  26:     0x7fffd8b4a500 - rustc_typeck::check_crate::h92f6bdfe03b6afba\r\n  27:     0x7fffe4b1c98e - rustc_driver::driver::count_nodes::h84f03318ea2320a8\r\n  28:     0x7fffe4a75bcf - <unknown>\r\n  29:     0x7fffe4af8932 - rustc_driver::driver::compile_input::h8e119234b60571d5\r\n  30:     0x7fffe4b49f27 - rustc_driver::run_compiler::h57c4f233cd1a0c04\r\n  31:     0x7fffe4a2da1e - <unknown>\r\n  32:     0x7fffe44b5bf1 - _rust_maybe_catch_panic\r\n  33:     0x7fffe4a57794 - <unknown>\r\n  34:     0x7fffe44ad86e - std::sys::imp::thread::Thread::new::hd990f5dcc0d4bad9\r\n  35:     0x7ff819858363 - BaseThreadInitThunk`\r\n\r\nMy rust compiler version is:\r\n\r\n`rustc 1.15.0-nightly (daf8c1dfc 2016-12-05)\r\nbinary: rustc\r\ncommit-hash: daf8c1dfce3b448fc581cc319f64632ec22bd0e1\r\ncommit-date: 2016-12-05\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.15.0-nightly\r\nLLVM version: 3.9`\r\n\r\nThank you.", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38292/timeline", "performed_via_github_app": null, "state_reason": "completed"}