{"url": "https://api.github.com/repos/rust-lang/rust/issues/37446", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37446/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37446/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37446/events", "html_url": "https://github.com/rust-lang/rust/issues/37446", "id": 185851960, "node_id": "MDU6SXNzdWUxODU4NTE5NjA=", "number": 37446, "title": "Colored output garbled in Emacs eshell", "user": {"login": "sumproxy", "id": 562907, "node_id": "MDQ6VXNlcjU2MjkwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/562907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sumproxy", "html_url": "https://github.com/sumproxy", "followers_url": "https://api.github.com/users/sumproxy/followers", "following_url": "https://api.github.com/users/sumproxy/following{/other_user}", "gists_url": "https://api.github.com/users/sumproxy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sumproxy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sumproxy/subscriptions", "organizations_url": "https://api.github.com/users/sumproxy/orgs", "repos_url": "https://api.github.com/users/sumproxy/repos", "events_url": "https://api.github.com/users/sumproxy/events{/privacy}", "received_events_url": "https://api.github.com/users/sumproxy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-28T06:57:40Z", "updated_at": "2017-05-15T12:52:10Z", "closed_at": "2017-05-15T12:52:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "E.g. I try to run `rustc hello.rs`, where `hello.rs` is\n\n``` rust\nfn main() {\n    return;\n    println(\"Hello, World!\");\n}\n```\n\nI get:\n\n``` bash\nwarning^[\u001b(B: unreachable statement, #[warn(unreachable_code)] on by default\u001b^[(B\n ^[\u001b(B--> ^[\u001b(B<std macros>:2:1\u001b^[(B\n  \u001b^[(B|^[\u001b(B\n2\u001b^[(B ^[\u001b(B| ^[\u001b(B$ crate :: io :: _print ( format_args ! ( $ ( $ arg ) * ) )\u001b^[(B ) ;\u001b^[(B\n  \u001b^[(B| \u001b^[(B^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[\u001b(B\n<std macros>:1:23: 1:60 \u001b^[(Bnote\u001b^[(B: \u001b^[(Bin this expansion of print! (defined in <std macros>)\u001b^[(B\nhello.rs:3:5: 3:31 \u001b^[(Bnote^[\u001b(B: \u001b^[(Bin this expansion of println! (defined in <std macros>)\u001b^[(B\n```\n\nConfirmed the same behavior on OS X, Linux.\nIf I redirect the output of `rustc` to a file and then do `cat` on that file the output is displayed in a correct manner.\n\nI have the same problem with cargo and in rustup's `info` messages.\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37446/timeline", "performed_via_github_app": null, "state_reason": "completed"}