{"url": "https://api.github.com/repos/rust-lang/rust/issues/22446", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/22446/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/22446/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/22446/events", "html_url": "https://github.com/rust-lang/rust/issues/22446", "id": 57932335, "node_id": "MDU6SXNzdWU1NzkzMjMzNQ==", "number": 22446, "title": "Trait bound on associated type not induced recursively", "user": {"login": "milibopp", "id": 3098430, "node_id": "MDQ6VXNlcjMwOTg0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/3098430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/milibopp", "html_url": "https://github.com/milibopp", "followers_url": "https://api.github.com/users/milibopp/followers", "following_url": "https://api.github.com/users/milibopp/following{/other_user}", "gists_url": "https://api.github.com/users/milibopp/gists{/gist_id}", "starred_url": "https://api.github.com/users/milibopp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/milibopp/subscriptions", "organizations_url": "https://api.github.com/users/milibopp/orgs", "repos_url": "https://api.github.com/users/milibopp/repos", "events_url": "https://api.github.com/users/milibopp/events{/privacy}", "received_events_url": "https://api.github.com/users/milibopp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-17T14:46:17Z", "updated_at": "2015-10-25T10:48:29Z", "closed_at": "2015-10-25T10:48:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Consider the following code:\n\n``` rust\ntrait TraitA {\n    type AssocType;\n    fn other(&self) -> Self::AssocType;\n}\n\ntrait TraitB: TraitA\n    where Self::AssocType: TraitB\n{\n    fn stuff(&self) {\n        self.other().stuff()\n    }\n}\n```\n\nThis does not compile, because _the trait `TraitB` is not implemented for the type `<<Self as TraitA>::AssocType as TraitA>::AssocType` [E0277]_.\n\nHowever, my reasoning from the above trait definition would be: when a type `T` implements `TraitB` then `T::AssocType` also implements `TraitB`. By replacing `T` with `T::AssocType::...` (n times) in this theorem, we can conclude that `T::AssocType::...` (n+1 times) implements `TraitB`, if its predecessor does so. Thus, by induction all `T::AssocType::...` (n times) should implement `TraitB` for all n.\n\nNote, that this is not a problem for concrete implementations of `TraitB`. But abstract default methods cannot be implemented like that and users of `TraitB` also can't rely on the recursive trait bound.\n\nIs there any way to make the compiler realize this? Or am I wrong?\n", "closed_by": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/22446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/22446/timeline", "performed_via_github_app": null, "state_reason": "completed"}