{"url": "https://api.github.com/repos/rust-lang/rust/issues/107865", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/107865/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/107865/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/107865/events", "html_url": "https://github.com/rust-lang/rust/issues/107865", "id": 1578888563, "node_id": "I_kwDOAAsO6M5eG-1z", "number": 107865, "title": "ran into known ICE issue#84970", "user": {"login": "gardrek", "id": 1656630, "node_id": "MDQ6VXNlcjE2NTY2MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1656630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gardrek", "html_url": "https://github.com/gardrek", "followers_url": "https://api.github.com/users/gardrek/followers", "following_url": "https://api.github.com/users/gardrek/following{/other_user}", "gists_url": "https://api.github.com/users/gardrek/gists{/gist_id}", "starred_url": "https://api.github.com/users/gardrek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gardrek/subscriptions", "organizations_url": "https://api.github.com/users/gardrek/orgs", "repos_url": "https://api.github.com/users/gardrek/repos", "events_url": "https://api.github.com/users/gardrek/events{/privacy}", "received_events_url": "https://api.github.com/users/gardrek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-02-10T02:29:09Z", "updated_at": "2023-02-10T23:25:07Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n-->\r\n\r\nI got a [known internal compiler error](https://github.com/rust-lang/rust/issues/84970) and it asked me to make a bug report. I am not sure how to reduce the code, so i I'm going to link commits on a repository and upload zip files of the target directory with and without the change that caused the ICE. (I believe the target directories could be of help because it said this is an issue with incremental compilation)\r\n\r\nin this commit:\r\nhttps://github.com/gardrek/sayre-ws/commit/f970dc6d1325f5ce8ec0e7c402b1045d95655d7b\r\n\r\nit builds fine with the target dir in `before_ice.zip`\r\n\r\nbut then change vector.rs by removing lines 20 through 27 (functions `new_2d` and `new_3d`) and try to build and you end up with a compiler error (and get the target dir in `after_ice.zip`)\r\n\r\nthis commit has that change:\r\nhttps://github.com/gardrek/sayre-ws/commit/d29cb4e1bc55a6f638fc42826e63360d8255491d\r\n\r\ntarget directory with no ice:\r\n[after_ice.zip](https://github.com/rust-lang/rust/files/10703058/after_ice.zip)\r\n\r\ntarget directory after getting ice:\r\n[before_ice.zip](https://github.com/rust-lang/rust/files/10703060/before_ice.zip)\r\n\r\n### Code\r\n\r\nno ice:\r\nhttps://github.com/gardrek/sayre-ws/commit/f970dc6d1325f5ce8ec0e7c402b1045d95655d7b\r\n\r\nice:\r\nhttps://github.com/gardrek/sayre-ws/commit/d29cb4e1bc55a6f638fc42826e63360d8255491d\r\n\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.67.1 (d5a82bbd2 2023-02-07)\r\nbinary: rustc\r\ncommit-hash: d5a82bbd26e1ad8b7401f6a718a9c57c96905483\r\ncommit-date: 2023-02-07\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.67.1\r\nLLVM version: 15.0.6\r\n```\r\n\r\n### Error output\r\n\r\n[error_log.txt](https://github.com/rust-lang/rust/files/10703057/error_log.txt)\r\n\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n[error_log_with_backtrace.txt](https://github.com/rust-lang/rust/files/10703078/error_log_with_backtrace.txt)\r\n\r\n</p>\r\n</details>\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/107865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/107865/timeline", "performed_via_github_app": null, "state_reason": null}