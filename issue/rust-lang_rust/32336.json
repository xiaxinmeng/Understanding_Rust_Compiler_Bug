{"url": "https://api.github.com/repos/rust-lang/rust/issues/32336", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32336/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32336/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32336/events", "html_url": "https://github.com/rust-lang/rust/issues/32336", "id": 141886926, "node_id": "MDU6SXNzdWUxNDE4ODY5MjY=", "number": 32336, "title": "ICE: building gfx_device_gl 0.8.2 with nightly 03-18-2016 on OSX El Capitan", "user": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-18T14:46:51Z", "updated_at": "2016-03-18T16:14:01Z", "closed_at": "2016-03-18T16:14:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Like it says on the tin.\n\nOSX El Capitan. Latest rust installed from multirust:\n\n```\nbash-3.2$ rustc --version\nrustc 1.9.0-nightly (b12b4e4e3 2016-03-17)\n```\n\nTo repro:\n\n```\ncd ~/your/src/workspace\nmultirust default nightly-2016-03-18\ngit clone https://github.com/gfx-rs/gfx\ncd gfx/src/backend/gl\nRUST_BACKTRACE=1 cargo build --verbose\n```\n\nOutput:\n\n```\nbash-3.2$ RUST_BACKTRACE=1 cargo build --verbose\n   Compiling gfx_device_gl v0.8.2 (file:///Users/jeff/src/gfx/src/backend/gl)\n   Running `rustc src/lib.rs --crate-name gfx_device_gl --crate-type lib -g --out-dir /Users/jeff/src/gfx/src/backend/gl/target/debug --emit=dep-info,link -L dependency=/Users/jeff/src/gfx/src/backend/gl/target/debug -L dependency=/User\ns/jeff/src/gfx/src/backend/gl/target/debug/deps --extern gfx_core=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps/libgfx_core-92df53d9ae04f09f.rlib --extern log=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps/liblog-0ec442df0ecb\n416b.rlib --extern gfx_gl=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps/libgfx_gl-eed872f0f37bdbbe.rlib`\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', ../src/libcore/option.rs:330\nstack backtrace:\n   1:        0x104993998 - sys::backtrace::tracing::imp::write::h3153bab3099b48114Zu\n   2:        0x10499ceb9 - panicking::default_handler::_$u7b$$u7b$closure$u7d$$u7d$::closure.43920\n   3:        0x10499c9d7 - panicking::default_handler::h1183b2a11c8682560zz\n   4:        0x104963fc6 - sys_common::unwind::begin_unwind_inner::h1f97bc9e4cfe0396LZt\n   5:        0x104965bde - sys_common::unwind::begin_unwind_fmt::hda8646f04aa67d8aRYt\n   6:        0x104991267 - rust_begin_unwind\n   7:        0x1049d6100 - panicking::panic_fmt::h40f5ec0cdc3fc429FRL\n   8:        0x1049d6cfc - panicking::panic::hf105884501521a8dcQL\n   9:        0x1013bba2d - middle::traits::specialize::specialization_graph::Graph::parent::h713e7817b3824c97Dj0\n  10:        0x1013bbd5c - middle::traits::specialize::specialization_graph::Ancestors<'a, 'tcx>.Iterator::next::hef4c71337b607036yp0\n  11:        0x1013bbf92 - iter::FlatMap<I, U, F>.Iterator::next::h17071612212236951353\n  12:        0x101392f23 - middle::traits::project::assoc_ty_def::h54f9c8393ffeceb5QMV\n  13:        0x10138eca6 - middle::traits::project::opt_normalize_projection_type::hf8d1da3156c0f1a6ySU\n  14:        0x10137ad20 - middle::traits::project::normalize_projection_type::h874da303c815a568nRU\n  15:        0x1012b3600 - middle::traits::project::AssociatedTypeNormalizer<'a, 'b, 'tcx>.TypeFolder<'tcx>::fold_ty::h1eeeec880b5082734OU\n  16:        0x101364bf1 - middle::ty::fold::TypeFolder::fold_substs::h15562033972663033001\n  17:        0x101364768 - middle::ty::structural_impls::ty..Predicate<'tcx>.TypeFoldable<'tcx>::super_fold_with::h1253006924916156103\n  18:        0x1013b59ed - middle::traits::project::AssociatedTypeNormalizer<'a, 'b, 'tcx>::fold::h7150300406040149710\n  19:        0x1013b55fd - middle::traits::select::SelectionContext<'cx, 'tcx>::impl_or_trait_obligations::_$u7b$$u7b$closure$u7d$$u7d$::closure.94302\n  20:        0x1013b4c3b - iter::FlatMap<I, U, F>.Iterator::next::h8853686016495372949\n  21:        0x1013b42ea - vec::Vec<T>.FromIterator<T>::from_iter::h14657226624535963680\n  22:        0x1013af32d - middle::traits::select::SelectionContext<'cx, 'tcx>::impl_or_trait_obligations::hab16b4fea86ac6c95YZ\n  23:        0x1013afc40 - middle::traits::select::SelectionContext<'cx, 'tcx>::vtable_impl::he1c794762aa855d3QjZ\n  24:        0x1013af8d9 - middle::infer::InferCtxt<'a, 'tcx>::commit_if_ok::h7037753687171629328\n  25:        0x10139e63a - middle::traits::select::SelectionContext<'cx, 'tcx>::confirm_candidate::he1604437ab419381vRY\n  26:        0x1013a4028 - middle::traits::select::SelectionContext<'cx, 'tcx>::evaluate_candidate::_$u7b$$u7b$closure$u7d$$u7d$::closure.93879\n  27:        0x1013a3c7a - middle::traits::select::SelectionContext<'cx, 'tcx>::evaluate_stack::h435e79885805edaePcX\n  28:        0x1013a2dce - middle::traits::select::SelectionContext<'cx, 'tcx>::evaluate_predicate_recursively::h44cd0f87db087ae523W\n  29:        0x1012adf6d - middle::traits::type_known_to_meet_builtin_bound::hc61f7642f1e8ae84cg2\n  30:        0x1013e573c - middle::ty::util::ty..TyS<'tcx>::impls_bound::h93815121b1c2f2b9Tw8\n  31:        0x1012ae3b0 - middle::ty::util::ty..TyS<'tcx>::moves_by_default::h006110b40bcd7ebaaz8\n  32:        0x1011ffc78 - middle::infer::InferCtxt<'a, 'tcx>::type_moves_by_default::hbe4b0519d279e6a6r3D\n  33:        0x1013e2bdd - middle::ty::util::ParameterEnvironment<'a, 'tcx>::can_type_implement_copy::h148960d97ed2e457L57\n  34:        0x100f0b66e - coherence::CoherenceChecker<'a, 'tcx>::check_implementations_of_copy::_$u7b$$u7b$closure$u7d$$u7d$::closure.47275\n  35:        0x100e08c6b - coherence::check_coherence::h3c7554163b347120qeB\n  36:        0x100e01d7d - check_crate::h70a3f53b44b86a656KC\n  37:        0x10046c6d1 - driver::phase_3_run_analysis_passes::_$u7b$$u7b$closure$u7d$$u7d$::closure.30102\n  38:        0x10046ad09 - middle::ty::context::TyCtxt<'tcx>::create_and_enter::h1239698422812857229\n  39:        0x1004676cd - driver::phase_3_run_analysis_passes::h4265638487230740945\n  40:        0x10043a6de - driver::compile_input::hbe344176ee080f49Pca\n  41:        0x100427f96 - run_compiler::h513ed7ebfac4786dJPc\n  42:        0x100425542 - sys_common::unwind::try::try_fn::h18146670127766281356\n  43:        0x1049911fb - __rust_try\n  44:        0x104991183 - sys_common::unwind::inner_try::hdf6affff6fc30ecdNWt\n  45:        0x100425dd9 - boxed::F.FnBox<A>::call_box::h16832868406443570230\n  46:        0x10499bd2c - sys::thread::Thread::new::thread_start::he33a0e5f2597fcdejOy\n  47:     0x7fff95564c12 - _pthread_body\n  48:     0x7fff95564b8f - _pthread_start\n\nerror: Could not compile `gfx_device_gl`.\n\nCaused by:\n  Process didn't exit successfully: `rustc src/lib.rs --crate-name gfx_device_gl --crate-type lib -g --out-dir /Users/jeff/src/gfx/src/backend/gl/target/debug --emit=dep-info,link -L dependency=/Users/jeff/src/gfx/src/backend/gl/target/debug -L dependency=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps --extern gfx_core=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps/libgfx_core-92df53d9ae04f09f.rlib --extern log=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps/liblog-0ec442df0ecb416b.rlib --extern gfx_gl=/Users/jeff/src/gfx/src/backend/gl/target/debug/deps/libgfx_gl-eed872f0f37bdbbe.rlib` (exit code: 101)\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32336/timeline", "performed_via_github_app": null, "state_reason": "completed"}