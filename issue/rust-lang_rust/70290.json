{"url": "https://api.github.com/repos/rust-lang/rust/issues/70290", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/70290/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/70290/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/70290/events", "html_url": "https://github.com/rust-lang/rust/issues/70290", "id": 585848485, "node_id": "MDU6SXNzdWU1ODU4NDg0ODU=", "number": 70290, "title": "\"type annotations needed\" in signature with HRTB", "user": {"login": "comex", "id": 47517, "node_id": "MDQ6VXNlcjQ3NTE3", "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comex", "html_url": "https://github.com/comex", "followers_url": "https://api.github.com/users/comex/followers", "following_url": "https://api.github.com/users/comex/following{/other_user}", "gists_url": "https://api.github.com/users/comex/gists{/gist_id}", "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comex/subscriptions", "organizations_url": "https://api.github.com/users/comex/orgs", "repos_url": "https://api.github.com/users/comex/repos", "events_url": "https://api.github.com/users/comex/events{/privacy}", "received_events_url": "https://api.github.com/users/comex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-23T00:07:52Z", "updated_at": "2023-03-27T13:15:08Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[Playground link](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=da3e2bffa666c55c2d7f099587c57cd4)\r\n```rust\r\nfn foo<F>(f: F) where\r\n    F: for<'a> FnOnce(&'a i32) -> &'a i32,\r\n    F: FnOnce(&'static i32) -> &'static i32\r\n    {}\r\n```\r\n\r\nproduces:\r\n```\r\nerror[E0282]: type annotations needed\r\n --> src/main.rs:4:8\r\n  |\r\n4 |     F: FnOnce(&'static i32) -> &'static i32\r\n  |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot infer type\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nNote that this error occurs when defining the function, not calling it.  There is nowhere to add type annotations, so the error makes no sense.  This code should presumably be accepted, since both of the bounds are accepted individually.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/70290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/70290/timeline", "performed_via_github_app": null, "state_reason": null}