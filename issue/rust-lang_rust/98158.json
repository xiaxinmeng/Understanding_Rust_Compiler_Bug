{"url": "https://api.github.com/repos/rust-lang/rust/issues/98158", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/98158/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/98158/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/98158/events", "html_url": "https://github.com/rust-lang/rust/issues/98158", "id": 1273025833, "node_id": "I_kwDOAAsO6M5L4NUp", "number": 98158, "title": "`\"0_DISCRIMINANT\"` is not a valid identifier", "user": {"login": "JRAndreassen", "id": 8507596, "node_id": "MDQ6VXNlcjg1MDc1OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8507596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JRAndreassen", "html_url": "https://github.com/JRAndreassen", "followers_url": "https://api.github.com/users/JRAndreassen/followers", "following_url": "https://api.github.com/users/JRAndreassen/following{/other_user}", "gists_url": "https://api.github.com/users/JRAndreassen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JRAndreassen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JRAndreassen/subscriptions", "organizations_url": "https://api.github.com/users/JRAndreassen/orgs", "repos_url": "https://api.github.com/users/JRAndreassen/repos", "events_url": "https://api.github.com/users/JRAndreassen/events{/privacy}", "received_events_url": "https://api.github.com/users/JRAndreassen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-06-16T04:14:19Z", "updated_at": "2023-03-03T13:26:12Z", "closed_at": "2023-03-03T13:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\n\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n\r\n-->\r\n\r\n### Code\r\n\r\n```toml\r\n[package]\r\nname = \"enum_strum\"\r\nversion = \"0.1.0\"\r\nedition = \"2021\"\r\n\r\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\r\n\r\n[dependencies]\r\nstrum_macros = \"*\"\r\nstrum = \"*\"\r\nderive_more = \"*\"\r\n```\r\n```Rust\r\n#[allow(unused_imports)]\r\nuse strum_macros::{ EnumMessage, EnumIter, EnumString,  AsRefStr, IntoStaticStr, FromRepr};\r\n\r\n#[allow(unused_imports)]\r\nuse strum::{ EnumCount, EnumMessage, EnumProperty, IntoEnumIterator, VariantNames, };\r\n\r\n#[allow(unused_imports)]\r\nuse derive_more::{Add, Display as DisplayMore, TryInto, From, IsVariant, Deref, DerefMut, IntoIterator, AsRef};\r\n\r\n#[derive(Clone, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, DisplayMore)]\r\n#[derive(AsRefStr, IntoStaticStr, EnumString, EnumMessage, EnumIter, FromRepr)]\r\n#[strum(ascii_case_insensitive)]\r\n//#[serde_as]\r\n//#[derive(SerializeDisplay, DeserializeFromStr)]\r\n// #[derive(FromRepr)]\r\n#[repr(i32)]\r\npub enum Tinyint { /* X Enum1: */\r\n    #[strum(to_string = \"0\", serialize = \"_0\")]\r\n    _0 = 0,\r\n    #[strum(to_string = \"1\", serialize = \"_1\")]\r\n    _1 = 1,\r\n\r\n}\r\n\r\nfn main() {\r\n    println!(\"Hello, world!\");\r\n}\r\n\r\n```\r\n\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.61.0 (fe5b13d68 2022-05-18)\r\nbinary: rustc\r\ncommit-hash: fe5b13d681f25ee6474be29d748c65adcd91f69e\r\ncommit-date: 2022-05-18\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.61.0\r\nLLVM version: 14.0.0\r\n```\r\n\r\n### Error output\r\n\r\n```\r\nPS C:\\Development\\Rust\\test\\bug\\enum_strum> cargo build\r\n   Compiling enum_strum v0.1.0 (C:\\Development\\Rust\\test\\bug\\enum_strum)\r\nthread 'rustc' panicked at '`\"0_DISCRIMINANT\"` is not a valid identifier', compiler\\rustc_expand\\src\\proc_macro_server.rs:332:13\r\nstack backtrace:\r\n   0:     0x7ff9d32a988f - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h50aa8caf753a2b27\r\n   1:     0x7ff9d32d4c3a - core::fmt::write::h838fc71521d9a769\r\n   2:     0x7ff9d329c709 - <std::io::IoSliceMut as core::fmt::Debug>::fmt::h36f954dfa88567a7\r\n   3:     0x7ff9d32aceab - std::panicking::default_hook::h14f77031689d5a65\r\n   4:     0x7ff9d32aca9e - std::panicking::default_hook::h14f77031689d5a65\r\n   5:     0x7ff98abe2ee6 - rustc_driver[644f353906beda0e]::pretty::print_after_hir_lowering\r\n   6:     0x7ff9d32ad78a - std::panicking::rust_panic_with_hook::h093296cdc6b43259\r\n   7:     0x7ff9d32ad4dd - <std::panicking::begin_panic_handler::StrPanicPayload as core::panic::BoxMeUp>::get::h87de4eb99e2d660b\r\n   8:     0x7ff9d32aa197 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h50aa8caf753a2b27\r\n   9:     0x7ff9d32ad1b9 - rust_begin_unwind\r\n  10:     0x7ff9d3312d15 - core::panicking::panic_fmt::h9a20e90cefbba781\r\n  11:     0x7ff98eb31822 - <rustc_expand[c2b43a2c5b2d1cd5]::base::MacEager>::ty\r\n  12:     0x7ff98ec0fdce - <proc_macro[3b1c66ee1f3fecb9]::bridge::TokenTree<rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Group, rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Punct, rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Ident, rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Literal> as rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::ToInternal<rustc_ast[adca5a362ebeeebb]::tokenstream::TokenStream>>::to_internal\r\n  13:     0x7ff98ec61771 - <rustc_expand[c2b43a2c5b2d1cd5]::mbe::macro_parser::NamedMatch as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  14:     0x7ff98eb56321 - <rustc_expand[c2b43a2c5b2d1cd5]::mbe::metavar_expr::MetaVarExpr as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  15:     0x7ff9dd5ca87c - proc_macro::bridge::closure::Closure::call\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\closure.rs:27\r\n  16:     0x7ff9dd5ca87c - proc_macro::bridge::client::impl$159::new::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:244\r\n  17:     0x7ff9dd5ca87c - proc_macro::bridge::client::impl$9::with::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:335\r\n  18:     0x7ff9dd5ca87c - proc_macro::bridge::client::impl$8::with::closure$0::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:293\r\n  19:     0x7ff9dd5ca87c - proc_macro::bridge::scoped_cell::ScopedCell::replace\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\scoped_cell.rs:75\r\n  20:     0x7ff9dd5ca87c - proc_macro::bridge::client::impl$8::with::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:291\r\n  21:     0x7ff9dd5ca87c - std::thread::local::LocalKey::try_with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:442\r\n  22:     0x7ff9dd5ca87c - std::thread::local::LocalKey::with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:418\r\n  23:     0x7ff9dd5ca87c - proc_macro::bridge::client::BridgeState::with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:290\r\n  24:     0x7ff9dd5ca87c - proc_macro::bridge::Bridge::with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:328\r\n  25:     0x7ff9dd5ca87c - proc_macro::bridge::client::Ident::new\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:237\r\n  26:     0x7ff9dd5a2620 - enum$<proc_macro2::imp::Ident>::new\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\proc-macro2-1.0.39\\src\\wrapper.rs:690\r\n  27:     0x7ff9dd59abbc - proc_macro2::Ident::new\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\proc-macro2-1.0.39\\src\\lib.rs:952\r\n  28:     0x7ff9dd584d84 - quote::__private::mk_ident\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\quote-1.0.18\\src\\runtime.rs:404\r\n  29:     0x7ff9dd46847e - strum_macros::macros::from_repr::from_repr_inner\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\strum_macros-0.24.1\\src\\macros\\from_repr.rs:97\r\n  30:     0x7ff9dd47c5fe - strum_macros::from_repr\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\strum_macros-0.24.1\\src\\lib.rs:468\r\n  31:     0x7ff9dd4899ae - core::ops::function::FnOnce::call_once<proc_macro::TokenStream (*)(proc_macro::TokenStream),tuple$<proc_macro::TokenStream> >\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\core\\src\\ops\\function.rs:227\r\n  32:     0x7ff9dd4718f6 - proc_macro::bridge::client::impl$10::expand1::run::closure$0<proc_macro::TokenStream (*)(proc_macro::TokenStream)>\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:409\r\n  33:     0x7ff9dd470f42 - proc_macro::bridge::client::run_client::closure$0::closure$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<proc_macro::TokenStream (*)(proc_macro::TokenStre\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:376\r\n  34:     0x7ff9dd4bc158 - proc_macro::bridge::scoped_cell::impl$3::set::closure$0<enum$<proc_macro::bridge::client::BridgeStateL>,tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStre\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\scoped_cell.rs:80\r\n  35:     0x7ff9dd4bc31c - proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >::replace<enum$<proc_macro::bridge::client::BridgeStateL>,tuple$<>,proc_macro::bridge::scoped_cell::impl$3::set::closure_env$0<enum$<proc_macro::bridge::client::B\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\scoped_cell.rs:75\r\n  36:     0x7ff9dd4bc137 - proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >::set<enum$<proc_macro::bridge::client::BridgeStateL>,tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenS\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\scoped_cell.rs:80\r\n  37:     0x7ff9dd47177f - proc_macro::bridge::client::impl$9::enter::closure$1<tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::ru\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:324\r\n  38:     0x7ff9dd47dcf6 - std::thread::local::LocalKey<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> > >::try_with<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >,proc_macro::bridge::client\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:442\r\n  39:     0x7ff9dd47d883 - std::thread::local::LocalKey<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> > >::with<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >,proc_macro::bridge::client::im\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:418\r\n  40:     0x7ff9dd4a7e8e - proc_macro::bridge::Bridge::enter<tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<pr\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:324\r\n  41:     0x7ff9dd470db2 - proc_macro::bridge::client::run_client::closure$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<proc_macro::TokenStream (*)(proc_macro::TokenStream)> >\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:369\r\n  42:     0x7ff9dd4bccc1 - core::panic::unwind_safe::impl$23::call_once<tuple$<>,proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<pr\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\core\\src\\panic\\unwind_safe.rs:271\r\n  43:     0x7ff9dd48941b - std::panicking::try::do_call<core::panic::unwind_safe::AssertUnwindSafe<proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\panicking.rs:492\r\n  44:     0x7ff9dd48f873 - alloc::string::impl$11::extend::closure$0<core::str::iter::Chars>\r\n  45:     0x7ff9dd48935b - std::panicking::try<tuple$<>,core::panic::unwind_safe::AssertUnwindSafe<proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\panicking.rs:456\r\n  46:     0x7ff9dd489014 - std::panic::catch_unwind<core::panic::unwind_safe::AssertUnwindSafe<proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::cl\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\panic.rs:137\r\n  47:     0x7ff9dd470c93 - proc_macro::bridge::client::run_client<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<proc_macro::TokenStream (*)(proc_macro::TokenStream)> >\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:368\r\n  48:     0x7ff9dd4718ac - proc_macro::bridge::client::impl$10::expand1::run<proc_macro::TokenStream (*)(proc_macro::TokenStream)>\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:409\r\n  49:     0x7ff98ec5d7d7 - <rustc_expand[c2b43a2c5b2d1cd5]::mbe::macro_parser::NamedMatch as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  50:     0x7ff98eb498a6 - <rustc_expand[c2b43a2c5b2d1cd5]::proc_macro::ProcMacroDerive as rustc_expand[c2b43a2c5b2d1cd5]::base::MultiItemModifier>::expand\r\n  51:     0x7ff98eaf0414 - <rustc_expand[c2b43a2c5b2d1cd5]::expand::MacroExpander>::fully_expand_fragment\r\n  52:     0x7ff98eaeedaf - <rustc_expand[c2b43a2c5b2d1cd5]::expand::MacroExpander>::expand_crate\r\n  53:     0x7ff98accbc0b - <tracing_subscriber[7520e40ba33f8f7e]::util::TryInitError as core[14ebc1417b592300]::fmt::Display>::fmt\r\n  54:     0x7ff98ad50e05 - <rustc_interface[897cdb8f2c10f1bf]::passes::LintStoreExpandImpl as rustc_expand[c2b43a2c5b2d1cd5]::base::LintStoreExpand>::pre_expansion_lint\r\n  55:     0x7ff98acf2eb7 - <rustc_interface[897cdb8f2c10f1bf]::queries::Queries>::expansion\r\n  56:     0x7ff98ac0c4d2 - <rustc_driver[644f353906beda0e]::Compilation as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  57:     0x7ff98ab987b0 - <rustc_driver[644f353906beda0e]::args::Error as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  58:     0x7ff98ac2b390 - <rustc_driver[644f353906beda0e]::Compilation as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  59:     0x7ff98ab99ca7 - <rustc_driver[644f353906beda0e]::args::Error as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  60:     0x7ff98ac08396 - <rustc_driver[644f353906beda0e]::Compilation as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  61:     0x7ff98aba4c68 - <chalk_engine[d6f38e9d841939be]::TableIndex>::increment\r\n  62:     0x7ff9d32bcb4c - std::sys::windows::thread::Thread::new::h866e729703db88c5\r\n  63:     0x7ffaa46d7034 - BaseThreadInitThunk\r\n  64:     0x7ffaa5c42651 - RtlUserThreadStart\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.61.0 (fe5b13d68 2022-05-18) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: --crate-type bin -C embed-bitcode=no -C debuginfo=2 -C incremental\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\n```\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n```\r\ncargo build\r\n   Compiling enum_strum v0.1.0 (C:\\Development\\Rust\\test\\bug\\enum_strum)\r\nthread 'rustc' panicked at '`\"0_DISCRIMINANT\"` is not a valid identifier', compiler\\rustc_expand\\src\\proc_macro_server.rs:332:13\r\nstack backtrace:\r\n   0:     0x7ff9d32a988f - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h50aa8caf753a2b27\r\n   1:     0x7ff9d32d4c3a - core::fmt::write::h838fc71521d9a769\r\n   2:     0x7ff9d329c709 - <std::io::IoSliceMut as core::fmt::Debug>::fmt::h36f954dfa88567a7\r\n   3:     0x7ff9d32aceab - std::panicking::default_hook::h14f77031689d5a65\r\n   4:     0x7ff9d32aca9e - std::panicking::default_hook::h14f77031689d5a65\r\n   5:     0x7ff98d272ee6 - rustc_driver[644f353906beda0e]::pretty::print_after_hir_lowering\r\n   6:     0x7ff9d32ad78a - std::panicking::rust_panic_with_hook::h093296cdc6b43259\r\n   7:     0x7ff9d32ad4dd - <std::panicking::begin_panic_handler::StrPanicPayload as core::panic::BoxMeUp>::get::h87de4eb99e2d660b\r\n   8:     0x7ff9d32aa197 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h50aa8caf753a2b27\r\n   9:     0x7ff9d32ad1b9 - rust_begin_unwind\r\n  10:     0x7ff9d3312d15 - core::panicking::panic_fmt::h9a20e90cefbba781\r\n  11:     0x7ff9911c1822 - <rustc_expand[c2b43a2c5b2d1cd5]::base::MacEager>::ty\r\n  12:     0x7ff99129fdce - <proc_macro[3b1c66ee1f3fecb9]::bridge::TokenTree<rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Group, rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Punct, rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Ident, rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::Literal> as rustc_expand[c2b43a2c5b2d1cd5]::proc_macro_server::ToInternal<rustc_ast[adca5a362ebeeebb]::tokenstream::TokenStream>>::to_internal\r\n  13:     0x7ff9912f1771 - <rustc_expand[c2b43a2c5b2d1cd5]::mbe::macro_parser::NamedMatch as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  14:     0x7ff9911e6321 - <rustc_expand[c2b43a2c5b2d1cd5]::mbe::metavar_expr::MetaVarExpr as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  15:     0x7ff9dd38a87c - proc_macro::bridge::closure::Closure::call\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\closure.rs:27\r\n  16:     0x7ff9dd38a87c - proc_macro::bridge::client::impl$159::new::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:244\r\n  17:     0x7ff9dd38a87c - proc_macro::bridge::client::impl$9::with::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:335\r\n  18:     0x7ff9dd38a87c - proc_macro::bridge::client::impl$8::with::closure$0::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:293\r\n  19:     0x7ff9dd38a87c - proc_macro::bridge::scoped_cell::ScopedCell::replace\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\scoped_cell.rs:75\r\n  20:     0x7ff9dd38a87c - proc_macro::bridge::client::impl$8::with::closure$0\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:291\r\n  21:     0x7ff9dd38a87c - std::thread::local::LocalKey::try_with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:442\r\n  22:     0x7ff9dd38a87c - std::thread::local::LocalKey::with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:418\r\n  23:     0x7ff9dd38a87c - proc_macro::bridge::client::BridgeState::with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:290\r\n  24:     0x7ff9dd38a87c - proc_macro::bridge::Bridge::with\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:328\r\n  25:     0x7ff9dd38a87c - proc_macro::bridge::client::Ident::new\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\/library\\proc_macro\\src\\bridge\\client.rs:237\r\n  26:     0x7ff9dd362620 - enum$<proc_macro2::imp::Ident>::new\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\proc-macro2-1.0.39\\src\\wrapper.rs:690\r\n  27:     0x7ff9dd35abbc - proc_macro2::Ident::new\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\proc-macro2-1.0.39\\src\\lib.rs:952\r\n  28:     0x7ff9dd344d84 - quote::__private::mk_ident\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\quote-1.0.18\\src\\runtime.rs:404\r\n  29:     0x7ff9dd22847e - strum_macros::macros::from_repr::from_repr_inner\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\strum_macros-0.24.1\\src\\macros\\from_repr.rs:97\r\n  30:     0x7ff9dd23c5fe - strum_macros::from_repr\r\n                               at C:\\Users\\JR\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\strum_macros-0.24.1\\src\\lib.rs:468\r\n  31:     0x7ff9dd2499ae - core::ops::function::FnOnce::call_once<proc_macro::TokenStream (*)(proc_macro::TokenStream),tuple$<proc_macro::TokenStream> >\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\core\\src\\ops\\function.rs:227\r\n  32:     0x7ff9dd2318f6 - proc_macro::bridge::client::impl$10::expand1::run::closure$0<proc_macro::TokenStream (*)(proc_macro::TokenStream)>\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:409\r\n  33:     0x7ff9dd230f42 - proc_macro::bridge::client::run_client::closure$0::closure$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<proc_macro::TokenStream (*)(proc_macro::TokenStre\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:376\r\n  34:     0x7ff9dd27c158 - proc_macro::bridge::scoped_cell::impl$3::set::closure$0<enum$<proc_macro::bridge::client::BridgeStateL>,tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStre\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\scoped_cell.rs:80\r\n  35:     0x7ff9dd27c31c - proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >::replace<enum$<proc_macro::bridge::client::BridgeStateL>,tuple$<>,proc_macro::bridge::scoped_cell::impl$3::set::closure_env$0<enum$<proc_macro::bridge::client::B\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\scoped_cell.rs:75\r\n  36:     0x7ff9dd27c137 - proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >::set<enum$<proc_macro::bridge::client::BridgeStateL>,tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenS\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\scoped_cell.rs:80\r\n  37:     0x7ff9dd23177f - proc_macro::bridge::client::impl$9::enter::closure$1<tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::ru\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:324\r\n  38:     0x7ff9dd23dcf6 - std::thread::local::LocalKey<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> > >::try_with<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >,proc_macro::bridge::client\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:442\r\n  39:     0x7ff9dd23d883 - std::thread::local::LocalKey<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> > >::with<proc_macro::bridge::scoped_cell::ScopedCell<enum$<proc_macro::bridge::client::BridgeStateL> >,proc_macro::bridge::client::im\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\thread\\local.rs:418\r\n  40:     0x7ff9dd267e8e - proc_macro::bridge::Bridge::enter<tuple$<>,proc_macro::bridge::client::run_client::closure$0::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<pr\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:324\r\n  41:     0x7ff9dd230db2 - proc_macro::bridge::client::run_client::closure$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<proc_macro::TokenStream (*)(proc_macro::TokenStream)> >\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:369\r\n  42:     0x7ff9dd27ccc1 - core::panic::unwind_safe::impl$23::call_once<tuple$<>,proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<pr\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\core\\src\\panic\\unwind_safe.rs:271\r\n  43:     0x7ff9dd24941b - std::panicking::try::do_call<core::panic::unwind_safe::AssertUnwindSafe<proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\panicking.rs:492\r\n  44:     0x7ff9dd24f873 - alloc::string::impl$11::extend::closure$0<core::str::iter::Chars>\r\n  45:     0x7ff9dd24935b - std::panicking::try<tuple$<>,core::panic::unwind_safe::AssertUnwindSafe<proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\panicking.rs:456\r\n  46:     0x7ff9dd249014 - std::panic::catch_unwind<core::panic::unwind_safe::AssertUnwindSafe<proc_macro::bridge::client::run_client::closure_env$0<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::cl\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\std\\src\\panic.rs:137\r\n  47:     0x7ff9dd230c93 - proc_macro::bridge::client::run_client<proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::TokenStream,proc_macro::bridge::client::impl$10::expand1::run::closure_env$0<proc_macro::TokenStream (*)(proc_macro::TokenStream)> >\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:368\r\n  48:     0x7ff9dd2318ac - proc_macro::bridge::client::impl$10::expand1::run<proc_macro::TokenStream (*)(proc_macro::TokenStream)>\r\n                               at /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e\\library\\proc_macro\\src\\bridge\\client.rs:409\r\n  49:     0x7ff9912ed7d7 - <rustc_expand[c2b43a2c5b2d1cd5]::mbe::macro_parser::NamedMatch as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  50:     0x7ff9911d98a6 - <rustc_expand[c2b43a2c5b2d1cd5]::proc_macro::ProcMacroDerive as rustc_expand[c2b43a2c5b2d1cd5]::base::MultiItemModifier>::expand\r\n  51:     0x7ff991180414 - <rustc_expand[c2b43a2c5b2d1cd5]::expand::MacroExpander>::fully_expand_fragment\r\n  52:     0x7ff99117edaf - <rustc_expand[c2b43a2c5b2d1cd5]::expand::MacroExpander>::expand_crate\r\n  53:     0x7ff98d35bc0b - <tracing_subscriber[7520e40ba33f8f7e]::util::TryInitError as core[14ebc1417b592300]::fmt::Display>::fmt\r\n  54:     0x7ff98d3e0e05 - <rustc_interface[897cdb8f2c10f1bf]::passes::LintStoreExpandImpl as rustc_expand[c2b43a2c5b2d1cd5]::base::LintStoreExpand>::pre_expansion_lint\r\n  55:     0x7ff98d382eb7 - <rustc_interface[897cdb8f2c10f1bf]::queries::Queries>::expansion\r\n  56:     0x7ff98d29c4d2 - <rustc_driver[644f353906beda0e]::Compilation as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  57:     0x7ff98d2287b0 - <rustc_driver[644f353906beda0e]::args::Error as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  58:     0x7ff98d2bb390 - <rustc_driver[644f353906beda0e]::Compilation as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  59:     0x7ff98d229ca7 - <rustc_driver[644f353906beda0e]::args::Error as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  60:     0x7ff98d298396 - <rustc_driver[644f353906beda0e]::Compilation as core[14ebc1417b592300]::fmt::Debug>::fmt\r\n  61:     0x7ff98d234c68 - <chalk_engine[d6f38e9d841939be]::TableIndex>::increment\r\n  62:     0x7ff9d32bcb4c - std::sys::windows::thread::Thread::new::h866e729703db88c5\r\n  63:     0x7ffaa46d7034 - BaseThreadInitThunk\r\n  64:     0x7ffaa5c42651 - RtlUserThreadStart\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.61.0 (fe5b13d68 2022-05-18) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: --crate-type bin -C embed-bitcode=no -C debuginfo=2 -C incremental\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n", "closed_by": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/98158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/98158/timeline", "performed_via_github_app": null, "state_reason": "completed"}