{"url": "https://api.github.com/repos/rust-lang/rust/issues/11425", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/11425/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/11425/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/11425/events", "html_url": "https://github.com/rust-lang/rust/issues/11425", "id": 25351156, "node_id": "MDU6SXNzdWUyNTM1MTE1Ng==", "number": 11425, "title": "allow opting out of garbage collection overhead", "user": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113376, "node_id": "MDU6TGFiZWwxMTMzNzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-slow", "name": "I-slow", "color": "e10c02", "default": false, "description": "Problems and improvements with respect to performance of generated code."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-09T20:15:25Z", "updated_at": "2014-02-06T23:32:00Z", "closed_at": "2014-02-06T23:31:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Rust currently imposes overhead on all compiled code to accommodate managed pointers and will need to continue doing so _to some extent_ for a real garbage collector. Trait objects and closures are opaque, and may contain garbage collected boxes. Support for correctly rooting references may involve overhead even for unique pointers without managed data inside.\n- closures currently have a 4-word header which is unnecessary\n- procs currently have a 4-word header ~~including a `TyDesc`, which should just be a destructor pointer~~\n- ~~`&Trait` has a `TyDesc`, which is unnecessary~~\n- ~~`~Trait` has a `TyDesc`, which should just be a destructor pointer~~\n- ~~free glue is unnecessary, and should just be drop glue~~\n- ~~take glue is unnecessary~~\n- any future support for tracing (shadow stack, references inside unique pointers, etc.) should be entirely disabled\n", "closed_by": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/11425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/11425/timeline", "performed_via_github_app": null, "state_reason": "completed"}