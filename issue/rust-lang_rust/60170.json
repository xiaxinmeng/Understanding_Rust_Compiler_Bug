{"url": "https://api.github.com/repos/rust-lang/rust/issues/60170", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/60170/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/60170/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/60170/events", "html_url": "https://github.com/rust-lang/rust/issues/60170", "id": 435767895, "node_id": "MDU6SXNzdWU0MzU3Njc4OTU=", "number": 60170, "title": "Allow `vec[]!` macro to support combination of elements and repeat syntax", "user": {"login": "zakcutner", "id": 7256716, "node_id": "MDQ6VXNlcjcyNTY3MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7256716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zakcutner", "html_url": "https://github.com/zakcutner", "followers_url": "https://api.github.com/users/zakcutner/followers", "following_url": "https://api.github.com/users/zakcutner/following{/other_user}", "gists_url": "https://api.github.com/users/zakcutner/gists{/gist_id}", "starred_url": "https://api.github.com/users/zakcutner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zakcutner/subscriptions", "organizations_url": "https://api.github.com/users/zakcutner/orgs", "repos_url": "https://api.github.com/users/zakcutner/repos", "events_url": "https://api.github.com/users/zakcutner/events{/privacy}", "received_events_url": "https://api.github.com/users/zakcutner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}, {"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-22T15:25:30Z", "updated_at": "2019-05-02T08:57:05Z", "closed_at": "2019-05-02T08:57:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've come across some unexpected behaviour using the `vec![]` macro. It allows the use of both an elements and repeat syntax like so...\r\n\r\n```rust\r\nlet a = vec![1, 2, 3]; // [1, 2, 3]\r\nlet b = vec![1; 3]; // [1, 1, 1]\r\n```\r\n\r\nHowever, it doesn't appear to allow a combination of the two like this...\r\n\r\n```rust\r\nlet c = vec![1, 2; 3]; // [1, 2, 2, 2]\r\n```\r\n\r\n...or even this...\r\n\r\n```rust\r\nlet d = vec![1, 2; 3, 4]; // [1, 2, 2, 2, 4]\r\n```\r\n\r\nI'm unsure as to whether this is the intended behaviour of the macro and to whether this is a bug or feature request that I should create an RFC for?\r\n\r\nIt appears logical and useful to me that the macro should also support the latter cases. Apologies if this has already been brought up, I couldn't find anything about this.", "closed_by": {"login": "zakcutner", "id": 7256716, "node_id": "MDQ6VXNlcjcyNTY3MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7256716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zakcutner", "html_url": "https://github.com/zakcutner", "followers_url": "https://api.github.com/users/zakcutner/followers", "following_url": "https://api.github.com/users/zakcutner/following{/other_user}", "gists_url": "https://api.github.com/users/zakcutner/gists{/gist_id}", "starred_url": "https://api.github.com/users/zakcutner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zakcutner/subscriptions", "organizations_url": "https://api.github.com/users/zakcutner/orgs", "repos_url": "https://api.github.com/users/zakcutner/repos", "events_url": "https://api.github.com/users/zakcutner/events{/privacy}", "received_events_url": "https://api.github.com/users/zakcutner/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/60170/reactions", "total_count": 5, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 3, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/60170/timeline", "performed_via_github_app": null, "state_reason": "completed"}