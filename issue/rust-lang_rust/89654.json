{"url": "https://api.github.com/repos/rust-lang/rust/issues/89654", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/89654/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/89654/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/89654/events", "html_url": "https://github.com/rust-lang/rust/issues/89654", "id": 1020551232, "node_id": "I_kwDOAAsO6M481GBA", "number": 89654, "title": "LTO toolchain compatability docs could use an update in case anything has changed in the last year", "user": {"login": "vlovich", "id": 201287, "node_id": "MDQ6VXNlcjIwMTI4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/201287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vlovich", "html_url": "https://github.com/vlovich", "followers_url": "https://api.github.com/users/vlovich/followers", "following_url": "https://api.github.com/users/vlovich/following{/other_user}", "gists_url": "https://api.github.com/users/vlovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/vlovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vlovich/subscriptions", "organizations_url": "https://api.github.com/users/vlovich/orgs", "repos_url": "https://api.github.com/users/vlovich/repos", "events_url": "https://api.github.com/users/vlovich/events{/privacy}", "received_events_url": "https://api.github.com/users/vlovich/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}, {"id": 2459791492, "node_id": "MDU6TGFiZWwyNDU5NzkxNDky", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lto", "name": "A-lto", "color": "f7e101", "default": false, "description": "Area: Link Time Optimization"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-07T23:51:23Z", "updated_at": "2021-10-28T08:36:28Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "https://doc.rust-lang.org/rustc/linker-plugin-lto.html#toolchain-compatibility ends with Rust 1.46 which is about a year old at this point. 1.56 will be at LLVM 13, 1.54 is at LLVM 12, and 1.47 was at LLVM 11.\r\n\r\nI just tried doing cross-language LTO with a semi-complex code base in C++ (the Cloudflare Workers runtime) using clang 14 tip of tree with some simple Rust dependencies (top-level dependency is basically lol-html & addr2line-rs, & cxxbridge bindings) build with Rust 1.55 (i.e. LLVM12).\r\n\r\nOur test suite almost passed. The only failure I observed fails even without Rust LTO so at this time I think it's unrelated (likely LTO just made the test fast enough that it exposed some kind of underlying race condition as this test is known flaky).\r\n\r\nSo I'm curious if the version restrictions still remain or if they've been known to be lifted for a while now. Would be helpful for the docs to be updated. Additionally, would a version mismatch ever result in a weird runtime failure or is it always going to be a link failure?\r\n\r\nThanks!", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/89654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/89654/timeline", "performed_via_github_app": null, "state_reason": null}