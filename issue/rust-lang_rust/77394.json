{"url": "https://api.github.com/repos/rust-lang/rust/issues/77394", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/77394/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/77394/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/77394/events", "html_url": "https://github.com/rust-lang/rust/issues/77394", "id": 712736112, "node_id": "MDU6SXNzdWU3MTI3MzYxMTI=", "number": 77394, "title": "Undefined reference to _Unwind_Resume while building rust", "user": {"login": "kamleshbhalui", "id": 22392991, "node_id": "MDQ6VXNlcjIyMzkyOTkx", "avatar_url": "https://avatars.githubusercontent.com/u/22392991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamleshbhalui", "html_url": "https://github.com/kamleshbhalui", "followers_url": "https://api.github.com/users/kamleshbhalui/followers", "following_url": "https://api.github.com/users/kamleshbhalui/following{/other_user}", "gists_url": "https://api.github.com/users/kamleshbhalui/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamleshbhalui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamleshbhalui/subscriptions", "organizations_url": "https://api.github.com/users/kamleshbhalui/orgs", "repos_url": "https://api.github.com/users/kamleshbhalui/repos", "events_url": "https://api.github.com/users/kamleshbhalui/events{/privacy}", "received_events_url": "https://api.github.com/users/kamleshbhalui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123110, "node_id": "MDU6TGFiZWwxMjMxMTA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-linux", "name": "O-linux", "color": "6e6ec0", "default": false, "description": "Operating system: Linux"}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-10-01T11:03:20Z", "updated_at": "2023-02-03T06:26:43Z", "closed_at": "2023-02-03T06:26:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is my config.toml\r\nhttps://gist.github.com/kamleshbhalui/fcf70a8f4167565f7e73e90d13d468fa#file-config-toml\r\n\r\nwith latest rust clone(01-10-2020)\r\n\r\n```\r\nkk@bft:~/kkumar/tcrust/rust$ ./x.py build\r\nUpdating only changed submodules\r\nSubmodules updated in 0.02 seconds\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.09s\r\nwarning: there have been changes to x.py since you last updated.\r\nhelp: consider looking at the changes in `src/bootstrap/CHANGELOG.md`\r\nnote: to silence this warning, update `config.toml` to use `changelog-seen = 2` instead\r\nBuilding stage0 std artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\nwarning: clang: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]\r\nwarning: clang: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]\r\nwarning: clang: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.09s\r\nCopying stage0 std from stage0 (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu / x86_64-unknown-linux-gnu)\r\nWarning: Using a potentially stale build of LLVM; This may not behave well.\r\nBuilding stage0 compiler artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n   Compiling rustc-main v0.0.0 (/home/kk/kkumar/tcrust/rust/compiler/rustc)\r\nerror: linking with `cc` failed: exit code: 1\r\n  |\r\n  = note: \"cc\" \"-Wl,--as-needed\" \"-Wl,-z,noexecstack\" \"-m64\" \"-Wl,--eh-frame-hdr\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-sysroot/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.0.rcgu.o\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.1.rcgu.o\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.2.rcgu.o\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.3.rcgu.o\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.4.rcgu.o\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.5.rcgu.o\" \"-o\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7\" \"-Wl,--gc-sections\" \"-pie\" \"-Wl,-zrelro\" \"-Wl,-znow\" \"-nodefaultlibs\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/debug/deps\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/build/psm-4c0f9e3482013a15/out\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/build/rustc_llvm-b9795b1e6297eaa6/out\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/llvm/build/lib\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-sysroot/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps\" \"-lrustc_driver-0ae0081ba804a81b\" \"-Wl,--start-group\" \"-L\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-sysroot/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-lstd-a63d869bbe5faab4\" \"-Wl,--end-group\" \"-Wl,-Bstatic\" \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-sysroot/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-95f25047f5ee0888.rlib\" \"-Wl,-Bdynamic\" \"-lLLVM-11-rust-dev\" \"-lstdc++\" \"-lutil\" \"-ldl\" \"-lutil\" \"-lc\" \"-lm\" \"-lrt\" \"-lpthread\" \"-lutil\" \"-ldl\" \"-lutil\" \"-Wl,-rpath,$ORIGIN/../lib\" \"-fuse-ld=lld\"\r\n  = note: ld.lld: error: undefined symbol: _Unwind_Resume\r\n          >>> referenced by backtrace.rs:133 (/home/kk/kkumar/tcrust/rust/library/std/src/sys_common/backtrace.rs:133)\r\n          >>>               /home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.1.rcgu.o:(std::sys_common::backtrace::__rust_begin_short_backtrace::h5aff1a3e81510b04)\r\n          >>> referenced by function.rs:227 (/home/kk/kkumar/tcrust/rust/library/core/src/ops/function.rs:227)\r\n          >>>               /home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/debug/deps/rustc_main-94cb1cb8926e03c7.rustc_main.6tvyscmt-cgu.2.rcgu.o:(core::ops::function::FnOnce::call_once::he071d4a4bec6654b)\r\n          collect2: error: ld returned 1 exit status\r\n          \r\n\r\nerror: aborting due to previous error\r\n\r\nerror: could not compile `rustc-main`.\r\n\r\nTo learn more, run the command again with --verbose.\r\ncommand did not execute successfully: \"/home/kk/kkumar/tcrust/rust/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\" \"build\" \"--target\" \"x86_64-unknown-linux-gnu\" \"-Zbinary-dep-depinfo\" \"-j\" \"8\" \"--features\" \" llvm\" \"--manifest-path\" \"/home/kk/kkumar/tcrust/rust/compiler/rustc/Cargo.toml\" \"--message-format\" \"json-render-diagnostics\"\r\nexpected success, got: exit code: 101\r\nfailed to run: /home/kk/kkumar/tcrust/rust/build/bootstrap/debug/bootstrap build\r\nBuild completed unsuccessfully in 0:00:01\r\n```", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/77394/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/77394/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}