{"url": "https://api.github.com/repos/rust-lang/rust/issues/12938", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/12938/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/12938/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/12938/events", "html_url": "https://github.com/rust-lang/rust/issues/12938", "id": 29522192, "node_id": "MDU6SXNzdWUyOTUyMjE5Mg==", "number": 12938, "title": "Implement DST", "user": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37977651, "node_id": "MDU6TGFiZWwzNzk3NzY1MQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/metabug", "name": "metabug", "color": "5319e7", "default": false, "description": "Issues about issues themselves (\"bugs about bugs\")"}], "state": "closed", "locked": false, "assignee": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2014-03-16T18:05:55Z", "updated_at": "2015-01-20T22:36:40Z", "closed_at": "2015-01-20T22:36:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Tracking bug for implementing DST (I'll file issues for the intermediate steps).\n\n@nick29581 to implement, @nikomatsakis to write an RFC for the RFC repo.\n\nNominating 1.0 (I think its already been discussed and agree that this blocks 1.0, if someone could tag this, it would be great).\n# Sub-bugs:\n- [x] #12969: Add the unsized keyword \n- [x] #13120: Remove the `Sized` kind\n- [x] #13121: Allow the last field of a struct to be a DST \n- [x] #13367: Remove hack around requiring `Sized` bound in collect.rs\n- [x] #13376: Prevent storing and passing DST values\n- [x] #13554: Refactor ty_vec, avoiding vstore\n- [x] #13716: Implement coercion rules from `&[T, ..n]` to `&[T]`, etc.\n- [x] #13819: Refactor ty_str, avoiding vstore (follow up (#13834) - remove size field from ty_str)\n- [x] #12755: Coerce return values (needed for DST `&[T]` literals)\n- [x] #14869: Refactor ty_trait, avoiding tstore\n- [x] #15521 Implement syntax for unsized types. Currently `Sized?` looks like the favourite\n- [x] #16805 fat raw pointers\n- [x] #17178 unify [T] with U in type inference (needs refactoring a lot of the libs, and/or trait reform, see #16918) - turns out we _really_ need this. Doing anything non-trivial with DST requires it. I had hoped we could get away without for a while but that does not seem to be the case.\n- [x] #19187 DST: trait objects should automatically implement the trait\n# Tasks which don't yet have issues\n- [x] Add fat pointers to trans\n- [x] Indexing into fat pointer types in trans\n- [x] remove all the hackey support for old behaviour (where we treat `&[T]` differently from `&([T])`)\n- [x] structs\n- [ ] recursive coercions (pointers in structs) - needs some design work (#18598, part of #18469)\n- [x] strings (but can only be instantiated using transmute)\n- [x] traits\n- [x] use DST coercions for receiver when doing trait/method search (leaving this till post- NIko's cleanup of everything trait related, if we want to do it at all).\n- [ ] properly deal with type aliases which are traits (i.e., accept them everywhere a trait is accepted). I don't actually think there is anything legitimate to do here - type = Trait... works and can be used anywhere a trait type could be used. It would be wrong to use a type, even an alias to a trait type where a trait is expected\n", "closed_by": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/12938/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/12938/timeline", "performed_via_github_app": null, "state_reason": "completed"}