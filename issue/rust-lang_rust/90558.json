{"url": "https://api.github.com/repos/rust-lang/rust/issues/90558", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/90558/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/90558/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/90558/events", "html_url": "https://github.com/rust-lang/rust/issues/90558", "id": 1044503729, "node_id": "I_kwDOAAsO6M4-Qdyx", "number": 90558, "title": "Support `.insn` directive in `asm!`", "user": {"login": "piegamesde", "id": 14054505, "node_id": "MDQ6VXNlcjE0MDU0NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/14054505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piegamesde", "html_url": "https://github.com/piegamesde", "followers_url": "https://api.github.com/users/piegamesde/followers", "following_url": "https://api.github.com/users/piegamesde/following{/other_user}", "gists_url": "https://api.github.com/users/piegamesde/gists{/gist_id}", "starred_url": "https://api.github.com/users/piegamesde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piegamesde/subscriptions", "organizations_url": "https://api.github.com/users/piegamesde/orgs", "repos_url": "https://api.github.com/users/piegamesde/repos", "events_url": "https://api.github.com/users/piegamesde/events{/privacy}", "received_events_url": "https://api.github.com/users/piegamesde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 91598611, "node_id": "MDU6TGFiZWw5MTU5ODYxMQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-inline-assembly", "name": "A-inline-assembly", "color": "f7e101", "default": false, "description": "Area: inline asm!(..)"}, {"id": 2046313052, "node_id": "MDU6TGFiZWwyMDQ2MzEzMDUy", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-asm", "name": "F-asm", "color": "f9c0cc", "default": false, "description": "`#![feature(asm)]` (not `llvm_asm`)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-11-04T09:13:08Z", "updated_at": "2021-12-05T03:41:23Z", "closed_at": "2021-12-05T03:41:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Tracking issue: #72016.\r\n\r\nThe `.insn` assembler directive allows to treat data as instructions. This allows to generate CPU instructions that are otherwise not possible using assembler commands. It is platform specific and mostly relevant for RISC-V platforms, but I could also find uses for it on MIPS targets as well.\r\n\r\nMore generally speaking, any solution that allows me to produce custom machine code instructions without a performance overhead will be okay for me. The current best workaround is to write the assembler code externally and then link to it. However, this adds the overhead of a function call that cannot be inlined due to the FFI boundary, so this is not acceptable in the long term.\r\n\r\nSee also https://users.rust-lang.org/t/custom-cpu-instructions-with-asm/66637 for some more discussion of my problem.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/90558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/90558/timeline", "performed_via_github_app": null, "state_reason": "completed"}