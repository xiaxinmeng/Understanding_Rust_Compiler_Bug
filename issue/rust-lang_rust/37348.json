{"url": "https://api.github.com/repos/rust-lang/rust/issues/37348", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37348/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37348/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37348/events", "html_url": "https://github.com/rust-lang/rust/issues/37348", "id": 184629494, "node_id": "MDU6SXNzdWUxODQ2Mjk0OTQ=", "number": 37348, "title": "Into<Option<String/&str>> strange behaviour", "user": {"login": "vaartis", "id": 14316128, "node_id": "MDQ6VXNlcjE0MzE2MTI4", "avatar_url": "https://avatars.githubusercontent.com/u/14316128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaartis", "html_url": "https://github.com/vaartis", "followers_url": "https://api.github.com/users/vaartis/followers", "following_url": "https://api.github.com/users/vaartis/following{/other_user}", "gists_url": "https://api.github.com/users/vaartis/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaartis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaartis/subscriptions", "organizations_url": "https://api.github.com/users/vaartis/orgs", "repos_url": "https://api.github.com/users/vaartis/repos", "events_url": "https://api.github.com/users/vaartis/events{/privacy}", "received_events_url": "https://api.github.com/users/vaartis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-22T13:09:14Z", "updated_at": "2016-10-22T13:47:21Z", "closed_at": "2016-10-22T13:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When `Into<Option<String>>` is used more than once in function declaration it behaves strangely\n\nI tried this code:\n\n```\nfn add_image<T: Into<Option<String>>>(name: &str, tags: &[String], first_string: T, second_string: T) {\n...\n}\nfn main() {\n    add_image(\"test.jpg\", &vec![\"1\".to_string(), \"2\".to_string()], \"x\".to_string(), None);\n}\n```\n\nI expected to see this happen: it worked ok\n\nInstead, this happened: \n\n```\nadd_image(\"test.jpg\", &vec![\"1\".to_string(), \"2\".to_string()], \"x\".to_string(), None);\n                                                                                ^^^^ expected struct `std::string::String`, found enum `std::option::Option`\n```\n\nAlso, if T1 and T2 are used(`T1: Into<Option<String>>, T2: Into<Option<String>>`) it works fine\n## Meta\n\n`rustc --version --verbose`:\n\n```\nrustc 1.14.0-nightly (f09420685 2016-10-20)\nbinary: rustc\ncommit-hash: f094206851e72e70528790cc9c70a745184ff7b0\ncommit-date: 2016-10-20\nhost: x86_64-unknown-linux-gnu\nrelease: 1.14.0-nightly\nLLVM version: 3.9\n```\n", "closed_by": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37348/timeline", "performed_via_github_app": null, "state_reason": "completed"}