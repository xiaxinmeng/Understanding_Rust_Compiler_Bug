{"url": "https://api.github.com/repos/rust-lang/rust/issues/83274", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/83274/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/83274/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/83274/events", "html_url": "https://github.com/rust-lang/rust/issues/83274", "id": 835191652, "node_id": "MDU6SXNzdWU4MzUxOTE2NTI=", "number": 83274, "title": "Silencing \"`let` expressions in this position are experimental\" errors in case of misplaced parantheses in if let expression", "user": {"login": "atsuzaki", "id": 16256974, "node_id": "MDQ6VXNlcjE2MjU2OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/16256974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atsuzaki", "html_url": "https://github.com/atsuzaki", "followers_url": "https://api.github.com/users/atsuzaki/followers", "following_url": "https://api.github.com/users/atsuzaki/following{/other_user}", "gists_url": "https://api.github.com/users/atsuzaki/gists{/gist_id}", "starred_url": "https://api.github.com/users/atsuzaki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atsuzaki/subscriptions", "organizations_url": "https://api.github.com/users/atsuzaki/orgs", "repos_url": "https://api.github.com/users/atsuzaki/repos", "events_url": "https://api.github.com/users/atsuzaki/events{/privacy}", "received_events_url": "https://api.github.com/users/atsuzaki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1659943986, "node_id": "MDU6TGFiZWwxNjU5OTQzOTg2", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-verbose", "name": "D-verbose", "color": "c9f7a3", "default": false, "description": "Too much output caused by a single piece of incorrect code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-18T19:47:05Z", "updated_at": "2022-03-17T01:00:55Z", "closed_at": "2022-03-17T01:00:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Follow-up to #82827, cc: @estebank\r\n\r\nGiven the following code: https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=7810898a8a0c0b5d421b4efbd58a4ff8\r\n\r\n```rust\r\npub fn main() {\r\n  let x = Some(3);\r\n  if (let Some(y) = x) {\r\n    println!(\"{}\", y)\r\n  } else {\r\n    println!(\"None\")\r\n  }\r\n}\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nerror[E0658]: `let` expressions in this position are experimental\r\n --> src/main.rs:3:7\r\n  |\r\n3 |   if (let Some(y) = x) {\r\n  |       ^^^^^^^^^^^^^^^\r\n  |\r\n  = note: see issue #53667 <https://github.com/rust-lang/rust/issues/53667> for more information\r\n  = help: add `#![feature(let_chains)]` to the crate attributes to enable\r\n  = help: you can write `matches!(<expr>, <pattern>)` instead of `let <pattern> = <expr>`\r\n\r\nerror: invalid parentheses around `let` expression in `if let`\r\n --> src/main.rs:3:6\r\n  |\r\n3 |   if (let Some(y) = x) {\r\n  |      ^               ^\r\n  |\r\nhelp: `if let` needs to be written without parentheses\r\n  |\r\n3 |   if let Some(y) = x {\r\n  |     --             --\r\n\r\nerror: aborting due to 2 previous errors\r\n```\r\n\r\n<!-- The following is not always necessary. -->\r\nIdeally the output should look like:\r\n(Just the invalid parantheses error, and the `let expressions in this position is experimental` error is silenced)\r\n\r\n```\r\nerror: invalid parentheses around `let` expression in `if let`\r\n --> src/main.rs:3:6\r\n  |\r\n3 |   if (let Some(y) = x) {\r\n  |      ^               ^\r\n  |\r\nhelp: `if let` needs to be written without parentheses\r\n  |\r\n3 |   if let Some(y) = x {\r\n  |     --             --\r\n\r\nerror: aborting due to 2 previous errors\r\n```\r\n\r\n<!--\r\nIf the problem is not self-explanatory, please provide a rationale for the\r\nchange.\r\n-->\r\n\r\n<!--\r\nIf dramatically different output is caused by small changes, consider also\r\nadding them here.\r\n\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions. The output might also be\r\ndifferent depending on the Edition.\r\n-->\r\n\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":null}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/83274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/83274/timeline", "performed_via_github_app": null, "state_reason": "completed"}