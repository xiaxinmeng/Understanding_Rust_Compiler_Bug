{"url": "https://api.github.com/repos/rust-lang/rust/issues/38832", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38832/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38832/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38832/events", "html_url": "https://github.com/rust-lang/rust/issues/38832", "id": 198810302, "node_id": "MDU6SXNzdWUxOTg4MTAzMDI=", "number": 38832, "title": "Unexpected \"deprecated\" warning when derive attribute for enum and enum has deprecated items", "user": {"login": "Mingun", "id": 450131, "node_id": "MDQ6VXNlcjQ1MDEzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/450131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mingun", "html_url": "https://github.com/Mingun", "followers_url": "https://api.github.com/users/Mingun/followers", "following_url": "https://api.github.com/users/Mingun/following{/other_user}", "gists_url": "https://api.github.com/users/Mingun/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mingun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mingun/subscriptions", "organizations_url": "https://api.github.com/users/Mingun/orgs", "repos_url": "https://api.github.com/users/Mingun/repos", "events_url": "https://api.github.com/users/Mingun/events{/privacy}", "received_events_url": "https://api.github.com/users/Mingun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-04T21:03:41Z", "updated_at": "2019-10-11T21:20:07Z", "closed_at": "2019-10-11T21:20:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Let's consider the following situation: there is a enumeration in which have an deprecated element. This enumeration derives implementation of some traits. In such case rustc generates deprecation warning, but actually deprecated item never used.\r\n\r\nAs in this case there is no control over the generated code, I consider that the warning shouldn't be. It is impossible to suppress warning also because the element is marked deprecated for the reason that he shouldn't be used obviously. If to suppress him, then meaning to mark a enumaration element as deprecated is lost.\r\n\r\nExample of problem:\r\n```rust\r\n#![allow(dead_code)]\r\n#[derive(Debug)]\r\nenum Example {\r\n    Var1,\r\n    #[deprecated]\r\n    Var2,\r\n}\r\nfn main() {\r\n}\r\n```\r\nOutput:\r\n```\r\nrustc 1.14.0 (e8a012324 2016-12-16)\r\nwarning: use of deprecated item, #[warn(deprecated)] on by default\r\n --> <anon>:6:5\r\n  |\r\n6 |     Var2,\r\n  |     ^^^^\r\n```\r\n[play-pen](https://is.gd/Dt2WZn)", "closed_by": {"login": "Mingun", "id": 450131, "node_id": "MDQ6VXNlcjQ1MDEzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/450131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mingun", "html_url": "https://github.com/Mingun", "followers_url": "https://api.github.com/users/Mingun/followers", "following_url": "https://api.github.com/users/Mingun/following{/other_user}", "gists_url": "https://api.github.com/users/Mingun/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mingun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mingun/subscriptions", "organizations_url": "https://api.github.com/users/Mingun/orgs", "repos_url": "https://api.github.com/users/Mingun/repos", "events_url": "https://api.github.com/users/Mingun/events{/privacy}", "received_events_url": "https://api.github.com/users/Mingun/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38832/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38832/timeline", "performed_via_github_app": null, "state_reason": "completed"}