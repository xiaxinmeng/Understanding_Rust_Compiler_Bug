{"url": "https://api.github.com/repos/rust-lang/rust/issues/54365", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/54365/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/54365/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/54365/events", "html_url": "https://github.com/rust-lang/rust/issues/54365", "id": 361904666, "node_id": "MDU6SXNzdWUzNjE5MDQ2NjY=", "number": 54365, "title": "use-of-uninitialized-value with String usage", "user": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 630870359, "node_id": "MDU6TGFiZWw2MzA4NzAzNTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-sanitizers", "name": "A-sanitizers", "color": "f7e101", "default": false, "description": "Area: Sanitizers for correctness and code quality."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-09-19T19:59:24Z", "updated_at": "2020-12-08T11:58:28Z", "closed_at": "2020-12-08T11:58:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code:\r\n```rust\r\nfn main() {\r\n    let _string = \"foobar\".to_string();\r\n}\r\n```\r\ncauses the following error when compiled with `RUSTFLAG=\"-Z sanitizer=memory\"`:\r\n```\r\n==8391==WARNING: MemorySanitizer: use-of-uninitialized-value\r\n    #0 0x55fba33e0fb4 in _$LT$alloc..vec..Vec$LT$T$GT$$u20$as$u20$core..ops..deref..DerefMut$GT$::deref_mut::h3a0e58767aa3b236 /checkout/src/liballoc/vec.rs:1762:12\r\n    #1 0x55fba33e1122 in _$LT$alloc..vec..Vec$LT$T$GT$$u20$as$u20$core..ops..index..IndexMut$LT$I$GT$$GT$::index_mut::hb2387792320c3e0a /checkout/src/liballoc/vec.rs:1740:33\r\n    #2 0x55fba33e0ea8 in _$LT$alloc..vec..Vec$LT$T$GT$$u20$as$u20$core..ops..drop..Drop$GT$::drop::hc074c17d1983d45e /checkout/src/liballoc/vec.rs:2186:36\r\n    #3 0x55fba33e13cb in core::ptr::drop_in_place::hb4be232c9bbba2a8 /checkout/src/libcore/ptr.rs:59\r\n    #4 0x55fba33e14a9 in core::ptr::drop_in_place::hbc9ae6e2a77742fc /checkout/src/libcore/ptr.rs:59\r\n    #5 0x55fba33e0b53 in rust_test::main::hbdb4645a96927ff3 /path/to/rust-test/src/main.rs:3\r\n    #6 0x55fba33dfc25 in std::rt::lang_start::_$u7b$$u7b$closure$u7d$$u7d$::hdbb070f7f9cb20f3 /checkout/src/libstd/rt.rs:74:33\r\n    #7 0x55fba3444a72 in std::rt::lang_start_internal::_$u7b$$u7b$closure$u7d$$u7d$::hf9ed89fe31802c27 /checkout/src/libstd/rt.rs:59:12\r\n    #8 0x55fba3444a72 in _ZN3std9panicking3try7do_call17h34f710c6c7436ab4E.llvm.17120388486034956999 /checkout/src/libstd/panicking.rs:310\r\n    #9 0x55fba3452b59 in __rust_maybe_catch_panic /checkout/src/libpanic_unwind/lib.rs:102:7\r\n    #10 0x55fba343b2f5 in std::panicking::try::hde1f350b7d320158 /checkout/src/libstd/panicking.rs:289:12\r\n    #11 0x55fba343b2f5 in std::panic::catch_unwind::h36d4846b7bd01358 /checkout/src/libstd/panic.rs:392\r\n    #12 0x55fba343b2f5 in std::rt::lang_start_internal::hb067be5f5219a9c5 /checkout/src/libstd/rt.rs:58\r\n    #13 0x55fba33dfb4e in std::rt::lang_start::h0fc74e8614dd1c16 /checkout/src/libstd/rt.rs:74:4\r\n    #14 0x55fba33e0bc1 in main (/path/to/rust-test/target/debug/rust-test+0xabc1)\r\n    #15 0x7f12e6327222 in __libc_start_main (/usr/lib/libc.so.6+0x24222)\r\n    #16 0x55fba33df40d in _start (/path/to/rust-test/target/debug/rust-test+0x940d)\r\n```\r\nOther string usages like calling `push()` causes a similar error.\r\nThanks to fix the issue.", "closed_by": {"login": "Dylan-DPC-zz", "id": 12371125, "node_id": "MDQ6VXNlcjEyMzcxMTI1", "avatar_url": "https://avatars.githubusercontent.com/u/12371125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC-zz", "html_url": "https://github.com/Dylan-DPC-zz", "followers_url": "https://api.github.com/users/Dylan-DPC-zz/followers", "following_url": "https://api.github.com/users/Dylan-DPC-zz/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC-zz/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC-zz/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC-zz/repos", "events_url": "https://api.github.com/users/Dylan-DPC-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC-zz/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/54365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/54365/timeline", "performed_via_github_app": null, "state_reason": "completed"}