{"url": "https://api.github.com/repos/rust-lang/rust/issues/31478", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/31478/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/31478/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/31478/events", "html_url": "https://github.com/rust-lang/rust/issues/31478", "id": 132023235, "node_id": "MDU6SXNzdWUxMzIwMjMyMzU=", "number": 31478, "title": "internal compiler error: constant item not found", "user": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-07T23:00:01Z", "updated_at": "2017-01-26T16:44:45Z", "closed_at": "2017-01-26T16:44:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The following code spans an ICE:\n\n``` Rust\n#![feature(associated_consts)]\n\ntrait Foo {\n    const BAR : f64;\n}\n\nstruct MyStruct;\n\nfn get_bar_good() -> f64 {\n    <MyStruct as Foo>::BAR\n}\n\nfn main() {\n    get_bar_good();\n}\n```\n\n``` Shell\n> rustc --version\nrustc 1.8.0-nightly (3623797eb 2016-02-07)\n```\n\n``` Shell\ntest.rs:10:5: 10:27 error: internal compiler error: constant item not found\ntest.rs:10     <MyStruct as Foo>::BAR\n               ^~~~~~~~~~~~~~~~~~~~~~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'Box<Any>', ../src/libsyntax/errors/mod.rs:530\nstack backtrace:\n   1:     0x7fd06cec7850 - sys::backtrace::tracing::imp::write::he15d7b3364c6e91ettu\n   2:     0x7fd06cecf3bb - panicking::default_handler::_$u7b$$u7b$closure$u7d$$u7d$::closure.43190\n   3:     0x7fd06cecef13 - panicking::default_handler::hd4b9dd3c40d2e5f3fWy\n   4:     0x7fd06ce98dfc - sys_common::unwind::begin_unwind_inner::h63382e2c0ae54a7diit\n   5:     0x7fd06b35ce78 - sys_common::unwind::begin_unwind::h13072775430806201821\n   6:     0x7fd06b35ce1b - errors::Handler::span_bug::h17653096614983707176\n   7:     0x7fd06b38b916 - session::Session::span_bug::h3810712754884826988\n   8:     0x7fd06b432765 - trans::consts::get_const_expr::h2fb1c49d941ec294w4u\n   9:     0x7fd06b4327a7 - trans::consts::get_const_val::hd88ddba08f8dc338Y6u\n  10:     0x7fd06b433693 - trans::consts::get_const_expr_as_global::hc7108c7fb1ebf009b8u\n  11:     0x7fd06b3d5615 - trans::expr::trans_into::h170c321672691a3fvCD\n  12:     0x7fd06b3d2185 - trans::controlflow::trans_block::h6a26158ef7e3a6730ey\n  13:     0x7fd06b3cd44e - trans::base::trans_closure::hceb838922b4b1b0eQOj\n  14:     0x7fd06b3d2bcc - trans::base::trans_fn::h29bf2b137f0b7398YZj\n  15:     0x7fd06b3d7332 - trans::base::trans_item::h3cb1ce5821db17126nk\n  16:     0x7fd06b3f7e5d - trans::base::TransItemsWithinModVisitor<'a, 'tcx>.Visitor<'v>::visit_item::hbc45bf7adc63ea7eBol\n  17:     0x7fd06b3e2d9b - trans::base::trans_crate::h10049da7a9a2d15eV7k\n  18:     0x7fd06d3e8104 - driver::phase_4_translate_to_llvm::hb622ad368b18dfc360a\n  19:     0x7fd06d3e6971 - driver::compile_input::_$u7b$$u7b$closure$u7d$$u7d$::closure.28842\n  20:     0x7fd06d3e239f - driver::phase_3_run_analysis_passes::_$u7b$$u7b$closure$u7d$$u7d$::closure.27872\n  21:     0x7fd06d3db7ae - middle::ty::context::ctxt<'tcx>::create_and_enter::h11600905232178369135\n  22:     0x7fd06d3d7903 - driver::phase_3_run_analysis_passes::h18126472581767654397\n  23:     0x7fd06d3ab038 - driver::compile_input::hfa329d5d8fe427ccBca\n  24:     0x7fd06d39b3b8 - run_compiler::hdaf245d1b59a9fc0QGc\n  25:     0x7fd06d3988a1 - sys_common::unwind::try::try_fn::h5118579457423020331\n  26:     0x7fd06cec52db - __rust_try\n  27:     0x7fd06cebd81d - sys_common::unwind::inner_try::hc860e6d6d8228b31kft\n  28:     0x7fd06d3990f0 - boxed::F.FnBox<A>::call_box::h9365687296754034372\n  29:     0x7fd06cecd980 - sys::thread::Thread::new::thread_start::h40f537715d102aa8zTx\n  30:     0x7fd0656b4181 - start_thread\n  31:     0x7fd06cb3e47c - __clone\n  32:                0x0 - <unknown>\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/31478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/31478/timeline", "performed_via_github_app": null, "state_reason": "completed"}