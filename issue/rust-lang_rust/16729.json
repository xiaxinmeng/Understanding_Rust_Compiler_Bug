{"url": "https://api.github.com/repos/rust-lang/rust/issues/16729", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/16729/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/16729/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/16729/events", "html_url": "https://github.com/rust-lang/rust/issues/16729", "id": 41010302, "node_id": "MDU6SXNzdWU0MTAxMDMwMg==", "number": 16729, "title": "task 'rustc' failed at 'index out of bounds: the len is 12 but the index is 12'", "user": {"login": "tshepang", "id": 588486, "node_id": "MDQ6VXNlcjU4ODQ4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/588486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshepang", "html_url": "https://github.com/tshepang", "followers_url": "https://api.github.com/users/tshepang/followers", "following_url": "https://api.github.com/users/tshepang/following{/other_user}", "gists_url": "https://api.github.com/users/tshepang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshepang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshepang/subscriptions", "organizations_url": "https://api.github.com/users/tshepang/orgs", "repos_url": "https://api.github.com/users/tshepang/repos", "events_url": "https://api.github.com/users/tshepang/events{/privacy}", "received_events_url": "https://api.github.com/users/tshepang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-08-24T14:20:56Z", "updated_at": "2014-08-24T20:20:21Z", "closed_at": "2014-08-24T20:20:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I got this code, a simplified form of what I saw in the Guide (section Testing):\n\n``` rust\nfn three_times_four() -> int { 3 * 4 }\n\n#[test]\nfn test_1() {\n    assert_eq!(12, three_times_four());\n}\n\n#[cfg(test)]\nmod test {\n    use super::three_times_four;\n\n    #[test]\n    fn test_2() {\n        assert!(12, three_times_four())\n    }\n}\n```\n\nAnd running it:\n\n```\n$ rustc --version\nrustc 0.12.0-pre (471862f40 2014-08-24 09:30:56 +0000)\n$ uname --all\nLinux thome 3.15-trunk-amd64 #1 SMP Debian 3.15.1-1~exp1 (2014-06-20) x86_64 GNU/Linux\n$ RUST_BACKTRACE=1 rustc --test main.rs\n<std macros>:8:12: 14:19 error: mismatched types: expected `bool` but found `<generic integer #0>` (expected bool but found integral variable)\n<std macros>:8         if !$cond {\n<std macros>:9             fail!($($arg),+)\n<std macros>:10         }\n<std macros>:11     );\n<std macros>:12 )\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'index out of bounds: the len is 12 but the index is 12', /home/tshepang/projects/rust/src/libsyntax/lib.rs:1\n\nstack backtrace:\n   1:     0x7f0cb4473480 - rt::backtrace::imp::write::h235035dd269e20b4UYq\n   2:     0x7f0cb4476630 - failure::on_fail::hd1a7e992688ab3ceBkr\n   3:     0x7f0cb8a28e40 - unwind::begin_unwind_inner::hb4c6bf8d66435096pie\n   4:     0x7f0cb8a28b40 - unwind::begin_unwind_fmt::h86f5356db6ec628ePfe\n   5:     0x7f0cb8a28b00 - rust_begin_unwind\n   6:     0x7f0cb8a77800 - failure::begin_unwind::h7b5a533fc9421dfbnAk\n   7:     0x7f0cb8a7a7c0 - failure::fail_bounds_check::h2e800593d4e78a44zyk\n   8:     0x7f0cb758dee0 - codemap::FileMap::get_line::hddd51750c3eea6b5EyE\n   9:     0x7f0cb7597f50 - diagnostic::emit::h17d12cac27463098tVF\n  10:     0x7f0cb7594e70 - diagnostic::EmitterWriter.Emitter::emit::h072471d33cf09c1a0QF\n  11:     0x7f0cb75931f0 - diagnostic::Handler::emit::h5ef2540673a3b36epyF\n  12:     0x7f0cb758cae0 - diagnostic::SpanHandler::span_err::haa1d6440e60b94bbEmF\n  13:     0x7f0cb9593990 - middle::typeck::infer::InferCtxt<'a>::type_error_message_str_with_expected::hecddb89bcc2602a1Pdc\n  14:     0x7f0cb9632e50 - middle::typeck::infer::InferCtxt<'a>::type_error_message::h82a8041df2114fa6glc\n  15:     0x7f0cb9633060 - middle::typeck::infer::InferCtxt<'a>::report_mismatched_types::he1a60d697010400emmc\n  16:     0x7f0cb95e6580 - middle::typeck::check::demand::suptype::closure.122490\n  17:     0x7f0cb95e6490 - middle::typeck::check::demand::suptype_with_fn::h36e7cd05f630094aISO\n  18:     0x7f0cb9642be0 - middle::typeck::check::check_expr_has_type::closure.123466\n  19:     0x7f0cb9637df0 - middle::typeck::check::check_expr_with_unifier::h532c026a98936bd1cxU\n  20:     0x7f0cb9637df0 - middle::typeck::check::check_expr_with_unifier::h532c026a98936bd1cxU\n  21:     0x7f0cb9604850 - middle::typeck::check::check_block_with_expected::hcc1fb6e3f987aab0VFW\n  22:     0x7f0cb96009d0 - middle::typeck::check::check_fn::haf17c837a63ca21aYOR\n  23:     0x7f0cb96006f0 - middle::typeck::check::check_bare_fn::h1697162caded9650DDR\n  24:     0x7f0cb95f98d0 - middle::typeck::check::check_item::h3c5ed16ca47f89b7KbS\n  25:     0x7f0cb95fb5d0 - visit::walk_item::h13949830449449897568\n  26:     0x7f0cb96004f0 - middle::typeck::check::check_item_types::h86b08addca7a3d44UCR\n  27:     0x7f0cb907c880 - util::common::time::h7845477028010386476\n  28:     0x7f0cb97de3e0 - middle::typeck::check_crate::hca6bcc1827718082koi\n  29:     0x7f0cb98a0660 - driver::driver::phase_3_run_analysis_passes::ha18773997d369cedkSw\n  30:     0x7f0cb989b800 - driver::driver::compile_input::h83dff1ab89a68b6eqEw\n  31:     0x7f0cb992f8d0 - driver::run_compiler::hf037f9b7b9d7b27ejbA\n  32:     0x7f0cb992f7e0 - driver::main_args::closure.137206\n  33:     0x7f0cb99416b0 - task::TaskBuilder<S>::try_future::closure.138326\n  34:     0x7f0cb99414b0 - task::TaskBuilder<S>::spawn_internal::closure.138303\n  35:     0x7f0cb8d91640 - task::spawn_opts::closure.8268\n  36:     0x7f0cb8a89d20 - rust_try_inner\n  37:     0x7f0cb8a89d10 - rust_try\n  38:     0x7f0cb8a264b0 - unwind::try::h4632958e716dfba1F6d\n  39:     0x7f0cb8a26250 - task::Task::run::h717f2b1ef13686ffZcd\n  40:     0x7f0cb8d91400 - task::spawn_opts::closure.8214\n  41:     0x7f0cb8a28090 - thread::thread_start::h8bc121b89a283d9aLBd\n  42:     0x7f0cb37f2fe0 - start_thread\n  43:     0x7f0cb86f6f89 - __clone\n  44:                0x0 - <unknown>\n```\n\nFixing the typo (`assert` -> `assert_eq`) builds without an issue.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/16729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/16729/timeline", "performed_via_github_app": null, "state_reason": "completed"}