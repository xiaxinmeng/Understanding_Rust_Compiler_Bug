{"url": "https://api.github.com/repos/rust-lang/rust/issues/20772", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20772/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20772/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20772/events", "html_url": "https://github.com/rust-lang/rust/issues/20772", "id": 53803486, "node_id": "MDU6SXNzdWU1MzgwMzQ4Ng==", "number": 20772, "title": "ICE: Associated type referencing itself", "user": {"login": "tobbebex", "id": 250614, "node_id": "MDQ6VXNlcjI1MDYxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/250614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobbebex", "html_url": "https://github.com/tobbebex", "followers_url": "https://api.github.com/users/tobbebex/followers", "following_url": "https://api.github.com/users/tobbebex/following{/other_user}", "gists_url": "https://api.github.com/users/tobbebex/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobbebex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobbebex/subscriptions", "organizations_url": "https://api.github.com/users/tobbebex/orgs", "repos_url": "https://api.github.com/users/tobbebex/repos", "events_url": "https://api.github.com/users/tobbebex/events{/privacy}", "received_events_url": "https://api.github.com/users/tobbebex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-01-08T21:29:58Z", "updated_at": "2015-04-11T20:59:36Z", "closed_at": "2015-04-11T20:59:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\ntrait T : Iterator<Item=Self::Item>\n{}\n```\n\nCompiling the above (admittedly ill-typed) file will cause\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugr\neport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'assertion failed: did.krate != ast::LOCAL_CRATE', C:\n\\bot\\slave\\nightly-dist-rustc-win-64\\build\\src\\librustc\\middle\\ty.rs:5362\n\nstack backtrace:\n   1:         0x69bee9cd - sys::backtrace::write::hd40c6de25ef01e0bfjt\n   2:         0x69c01a32 - rt::unwind::register::hcb202fda23aef97aw7y\n   3:         0x69b834a7 - rt::unwind::begin_unwind_inner::h43ca250f1ae88b3e64y\n   4:           0x6a8bcc - middle::astencode::encode_inlined_item::h4b6b2c857184\n2bb1Jja\n   5:           0xa6541f - middle::ty::lookup_trait_def::ha89a0d2c5a879780Zv8\n   6:           0xa88c19 - middle::ty::predicates_for_trait_ref::he59b587e624291\n8d4w8\n   7:           0xa5b65b - middle::traits::util::Elaborator<'cx, 'tcx>.Iterator:\n:next::hcbe2c9744651548fo9T\n   8:           0xa62347 - middle::traits::util::Supertraits<'cx, 'tcx>.Iterator\n::next::h2e87d83ce16f061dZbU\n   9:         0x6d5f70bc - rscope::ShiftedRscope<'r>.RegionScope::anon_regions::\nh258921b49adee87bcYq\n  10:         0x6d5992f8 - astconv::ast_ty_to_ty::h09671105f6afe18cwes\n  11:         0x6d5ed3d8 - rscope::ShiftedRscope<'r>.RegionScope::anon_regions::\nh258921b49adee87bcYq\n  12:         0x6d5eb4c3 - rscope::ShiftedRscope<'r>.RegionScope::anon_regions::\nh258921b49adee87bcYq\n  13:         0x6d5ef7d1 - rscope::ShiftedRscope<'r>.RegionScope::anon_regions::\nh258921b49adee87bcYq\n  14:         0x6d5ee5a9 - rscope::ShiftedRscope<'r>.RegionScope::anon_regions::\nh258921b49adee87bcYq\n  15:         0x6d5ee071 - rscope::ShiftedRscope<'r>.RegionScope::anon_regions::\nh258921b49adee87bcYq\n  16:         0x6d62f749 - collect::CollectCtxt<'a, 'tcx>.AstConv<'tcx>::project\ned_ty::h5a3a931757c8bb85Gbt\n  17:         0x6d60b2a1 - collect::CollectCtxt<'a, 'tcx>.AstConv<'tcx>::get_ite\nm_type_scheme::hffebd1c9c5b2d6c3P8s\n  18:         0x6d606312 - collect::CollectTraitDefVisitor<'a, 'tcx>.visit..Visi\ntor<'v>::visit_item::h781513b01a393b7dP5s\n  19:         0x6d66274f - check_crate::h862e87e9f04b6e0cNrx\n  20:         0x6d6600b0 - check_crate::h862e87e9f04b6e0cNrx\n  21:         0x70b18b2f - driver::phase_3_run_analysis_passes::hf7b2b2080ba4334\n56va\n  22:         0x70b027ba - driver::compile_input::h45b30318e07c4cf6vba\n  23:         0x70bcaa1e - run::heefafb1ff7869308B4b\n  24:         0x70bc786a - run::heefafb1ff7869308B4b\n  25:         0x69c288fc - rust_try\n  26:         0x69c288d9 - rust_try\n  27:         0x70bc7fa9 - run::heefafb1ff7869308B4b\n  28:         0x69bf3457 - sys::tcp::TcpListener::bind::hfcf283b88d14d24bfTv\n  29:     0x7ffc65ad16ad - BaseThreadInitThunk\n```\n\nMy version is\n\n```\nrustc 1.0.0-nightly (ea6f65c5f 2015-01-06 19:47:08 +0000)\nbinary: rustc\ncommit-hash: ea6f65c5f1a3f84e010d2cef02a0160804e9567a\ncommit-date: 2015-01-06 19:47:08 +0000\nhost: x86_64-pc-windows-gnu\nrelease: 1.0.0-nightly\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20772/timeline", "performed_via_github_app": null, "state_reason": "completed"}