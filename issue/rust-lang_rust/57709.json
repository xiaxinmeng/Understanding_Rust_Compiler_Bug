{"url": "https://api.github.com/repos/rust-lang/rust/issues/57709", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57709/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57709/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57709/events", "html_url": "https://github.com/rust-lang/rust/issues/57709", "id": 400427628, "node_id": "MDU6SXNzdWU0MDA0Mjc2Mjg=", "number": 57709, "title": "unable to compile compiletest on 1.32.0 stable", "user": {"login": "semarie", "id": 8948701, "node_id": "MDQ6VXNlcjg5NDg3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/8948701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/semarie", "html_url": "https://github.com/semarie", "followers_url": "https://api.github.com/users/semarie/followers", "following_url": "https://api.github.com/users/semarie/following{/other_user}", "gists_url": "https://api.github.com/users/semarie/gists{/gist_id}", "starred_url": "https://api.github.com/users/semarie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/semarie/subscriptions", "organizations_url": "https://api.github.com/users/semarie/orgs", "repos_url": "https://api.github.com/users/semarie/repos", "events_url": "https://api.github.com/users/semarie/events{/privacy}", "received_events_url": "https://api.github.com/users/semarie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 808123953, "node_id": "MDU6TGFiZWw4MDgxMjM5NTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-release", "name": "T-release", "color": "bfd4f2", "default": false, "description": "Relevant to the release subteam, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-17T19:25:53Z", "updated_at": "2019-03-03T16:55:40Z", "closed_at": "2019-03-03T16:55:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "on OpenBSD, while preparing the port of rust-1.32.0 (stable 9fda7c2237db910e41d6a712e9a2139b352e558b), I have an compilation error on `compiletest` while running the `test` target:\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n   --> src/tools/compiletest/src/main.rs:514:22\r\n    |\r\n514 |         run_ignored: config.run_ignored,\r\n    |                      ^^^^^^^^^^^^^^^^^^ expected enum `test::RunIgnored`, found bool\r\n    |\r\n    = note: expected type `test::RunIgnored`\r\n               found type `bool`\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0308`.\r\nerror: Could not compile `compiletest`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/bootstrap/debug/rustc --crate-name compiletest src/tools/compiletest/src/main.rs --color never --error-format json --crate-type bin --emit=dep-info,link -C opt-level=2 -C metadata=102678fba0af31c6 -C extra-filename=-102678fba0af31c6 --out-dir /data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps --target x86_64-unknown-openbsd -L dependency=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps -L dependency=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/release/deps --extern diff=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libdiff-44e71cdbcf00c5db.rlib --extern env_logger=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libenv_logger-f3c41cf305387131.rlib --extern filetime=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libfiletime-7e3e4a8e80106ac4.rlib --extern getopts=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libgetopts-adbca7d872be9ba4.rlib --extern lazy_static=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/liblazy_static-5eacaf71a502774a.rlib --extern libc=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/liblibc-40441d551595c6ac.rlib --extern log=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/liblog-217a52ee3b636af3.rlib --extern regex=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libregex-bbf2db42f6722251.rlib --extern rustfix=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/librustfix-55cf71147694af0b.rlib --extern serde=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libserde-4d7a678ad431e87d.rlib --extern serde_derive=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/release/deps/libserde_derive-117ee5442516e8e1.so --extern serde_json=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/deps/libserde_json-345a38a92a03dc90.rlib -L native=/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/build-amd64/build/x86_64-unknown-openbsd/stage0-bootstrap-tools/x86_64-unknown-openbsd/release/build/backtrace-sys-0f6d0b9f5fc30b19/out` (exit code: 1)\r\ncommand did not execute successfully: \"/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/rustc-bootstrap-amd64-1.32.0-20190117/bin/cargo\" \"build\" \"--target\" \"x86_64-unknown-openbsd\" \"-j\" \"1\" \"-v\" \"--release\" \"--frozen\" \"--manifest-path\" \"/data/semarie/repos/openbsd/ports/pobj/rust-1.32.0/rustc-1.32.0-src/src/tools/compiletest/Cargo.toml\" \"--message-format\" \"json\"\r\nexpected success, got: exit code: 101\r\n```\r\n\r\nFull log: https://p.iotek.org/hfe\r\n\r\nMy source tree is slightly patched to accomodate OpenBSD specificities, but none in compiletest (except currently one to workaround this specific problem). If it matters, the list of patches for 1.32.0 is available on my wip tree https://bitbucket.org/semarie/rust-ports/src/tip/patches/?at=default .\r\n\r\nI am reproducing it on two differents hosts (amd64 and i686)", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57709/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57709/timeline", "performed_via_github_app": null, "state_reason": "completed"}