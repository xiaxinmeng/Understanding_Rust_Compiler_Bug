{"url": "https://api.github.com/repos/rust-lang/rust/issues/47371", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/47371/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/47371/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/47371/events", "html_url": "https://github.com/rust-lang/rust/issues/47371", "id": 287987765, "node_id": "MDU6SXNzdWUyODc5ODc3NjU=", "number": 47371, "title": "ICE compiling docs for three-rs", "user": {"login": "randomPoison", "id": 1900829, "node_id": "MDQ6VXNlcjE5MDA4Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1900829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randomPoison", "html_url": "https://github.com/randomPoison", "followers_url": "https://api.github.com/users/randomPoison/followers", "following_url": "https://api.github.com/users/randomPoison/following{/other_user}", "gists_url": "https://api.github.com/users/randomPoison/gists{/gist_id}", "starred_url": "https://api.github.com/users/randomPoison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randomPoison/subscriptions", "organizations_url": "https://api.github.com/users/randomPoison/orgs", "repos_url": "https://api.github.com/users/randomPoison/repos", "events_url": "https://api.github.com/users/randomPoison/events{/privacy}", "received_events_url": "https://api.github.com/users/randomPoison/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-12T02:17:26Z", "updated_at": "2018-02-03T14:45:20Z", "closed_at": "2018-02-03T14:45:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I get an ICE when running `cargo doc` for [three-rs](https://github.com/three-rs/three), on commit `24e1cd9`. The error I get with `RUST_BACKTRACE=1` is below:\r\n\r\n```\r\nC:\\Users\\David\\Documents\\GitHub\\three>cargo doc\r\n Documenting three v0.2.0 (file:///C:/Users/David/Documents/GitHub/three)\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.22.1 (05e2e1c41 2017-11-22) running on x86_64-pc-windows-msvc\r\n\r\nnote: run with `RUST_BACKTRACE=1` for a backtrace\r\n\r\nthread 'rustc' panicked at 'failed to generate documentation: Error { file: \"C:\\\\Users\\\\David\\\\Documents\\\\GitHub\\\\three\\\\target\\\\doc\\\\search-index.js\", error: Error { repr: Custom(Custom { kind: InvalidData, error: StringError(\"stream did not contain valid UTF-8\") }) } }', src\\libcore\\result.rs:906:4\r\nstack backtrace:\r\n   0: _rdl_grow_in_place\r\n   1: std::panicking::Location::column\r\n   2: std::panicking::Location::column\r\n   3: std::panicking::rust_panic_with_hook\r\n   4: std::panicking::begin_panic_fmt\r\n   5: std::panicking::begin_panic_fmt\r\n   6: rust_begin_unwind\r\n   7: core::panicking::panic_fmt\r\n   8: <unknown>\r\n   9: <unknown>\r\n  10: <unknown>\r\n  11: _rust_maybe_catch_panic\r\n  12: <unknown>\r\n  13: std::sys::imp::thread::Thread::new\r\n  14: BaseThreadInitThunk\r\n\r\nerror: Could not document `three`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustdoc --crate-name three src\\lib.rs -o C:\\Users\\David\\Documents\\GitHub\\three\\target\\doc --cfg feature=\"default\" --cfg feature=\"gfx_device_gl\" --cfg feature=\"gfx_window_glutin\" --cfg feature=\"glutin\" --cfg feature=\"opengl\" -L dependency=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps --extern genmesh=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libgenmesh-94c09a3b1727d1b5.rlib --extern vec_map=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libvec_map-cd4b53a6058c2daa.rlib --extern image=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libimage-b301f841ca1de281.rlib --extern bitflags=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libbitflags-98846b8f7a951989.rlib --extern froggy=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libfroggy-396e29fe19ee2269.rlib --extern phf=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libphf-bd16d3cd461e1993.rlib --extern gfx_device_gl=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libgfx_device_gl-d7655064129e0154.rlib --extern cgmath=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libcgmath-d2564a82eab24b17.rlib --extern derivative=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\derivative-5c0766d7cfb49754.dll --extern mint=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libmint-9f7429d1fa45091d.rlib --extern gfx_window_glutin=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libgfx_window_glutin-3b63406fa91fb422.rlib --extern rodio=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\librodio-1912a88a674cece4.rlib --extern quick_error=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libquick_error-0a5b9e5b4437c058.rlib --extern obj=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libobj-aeab5147e51a5530.rlib --extern gfx=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libgfx-e1aacd047123bfaf.rlib --extern gfx_glyph=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libgfx_glyph-fe08204b4c6b9745.rlib --extern itertools=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libitertools-ab0f67a413333f3b.rlib --extern includedir=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libincludedir-07076d81851f3fcc.rlib --extern glutin=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\libglutin-cd89199de4a646af.rlib --extern log=C:\\Users\\David\\Documents\\GitHub\\three\\target\\debug\\deps\\liblog-7b07266c45d22780.rlib` (exit code: 101)\r\n```\r\n\r\nRust toolchain and compiler version:\r\n\r\n```\r\nC:\\Users\\David\\Documents\\GitHub\\three>rustup show\r\nDefault host: x86_64-pc-windows-msvc\r\n\r\nstable-x86_64-pc-windows-msvc (default)\r\nrustc 1.22.1 (05e2e1c41 2017-11-22)\r\n```\r\n\r\nI'm running this on Windows 10 Professional 64 bit.\r\n\r\nLet me know if there's any more information I can provide.", "closed_by": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/47371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/47371/timeline", "performed_via_github_app": null, "state_reason": "completed"}