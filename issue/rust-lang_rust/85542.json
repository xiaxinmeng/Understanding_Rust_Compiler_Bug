{"url": "https://api.github.com/repos/rust-lang/rust/issues/85542", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/85542/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/85542/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/85542/events", "html_url": "https://github.com/rust-lang/rust/issues/85542", "id": 897918345, "node_id": "MDU6SXNzdWU4OTc5MTgzNDU=", "number": 85542, "title": "Documenting that Into implies TryFrom in a more visible manner.", "user": {"login": "diseraluca", "id": 39652885, "node_id": "MDQ6VXNlcjM5NjUyODg1", "avatar_url": "https://avatars.githubusercontent.com/u/39652885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diseraluca", "html_url": "https://github.com/diseraluca", "followers_url": "https://api.github.com/users/diseraluca/followers", "following_url": "https://api.github.com/users/diseraluca/following{/other_user}", "gists_url": "https://api.github.com/users/diseraluca/gists{/gist_id}", "starred_url": "https://api.github.com/users/diseraluca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diseraluca/subscriptions", "organizations_url": "https://api.github.com/users/diseraluca/orgs", "repos_url": "https://api.github.com/users/diseraluca/repos", "events_url": "https://api.github.com/users/diseraluca/events{/privacy}", "received_events_url": "https://api.github.com/users/diseraluca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-21T10:36:58Z", "updated_at": "2023-02-13T08:53:00Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "EDIT: The implementation seems to come from `Into` and not `From` as described below. See: https://github.com/rust-lang/rust/issues/85542#issuecomment-845877069.\r\n\r\nI was working on a project and moved a `TryFrom` implementation to a `From` implementation.\r\n\r\nThe code that called the `TryFrom` implementation for the type wasn't changed but the project compiled and worked effortlessly.\r\n\r\nIndeed, a [minimal reproduction](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=b7d9227d16e2ba95e7eb6871c2e0f623) of this seems to work, compiling correctly:\r\n\r\n```\r\nuse std::convert::TryFrom;\r\n\r\nstruct Foo{}\r\n\r\nimpl From<u32> for Foo {\r\n    fn from(_: u32) -> Self {\r\n        Foo{}\r\n    }\r\n}\r\n\r\nfn main() {\r\n    Foo::try_from(100u32).unwrap();\r\n}\r\n```\r\n\r\nIt makes sense to me that a `TryFrom` implementation `T -> Result<U, !>` could be automatically implemented from a `From` implementation `T -> U`, but I could not find this documented anywhere.\r\n\r\nThe documentation for [std::convert](https://doc.rust-lang.org/std/convert/trait.From.html), [std::convert::From](https://doc.rust-lang.org/std/convert/trait.From.html) and [std::convert::TryFrom](https://doc.rust-lang.org/std/convert/trait.TryFrom.html) seem to only mention that `From` implies `Into` and `TryFrom` implies `TryInto`.\r\n\r\nI'm not sure if this behavior is intended, if it has limitations, such as applying only to some types, or if some documentation for it actually exists and I've missed it.\r\n\r\nIf the above is not the case, I would consider it sensible to add a mention of this to the above documentation, as I feel one would not expect this to be case otherwise.\r\n\r\nI would be glad to do this myself if indeed needed.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/85542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/85542/timeline", "performed_via_github_app": null, "state_reason": null}