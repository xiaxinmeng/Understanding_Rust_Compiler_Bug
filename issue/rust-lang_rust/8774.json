{"url": "https://api.github.com/repos/rust-lang/rust/issues/8774", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/8774/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/8774/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/8774/events", "html_url": "https://github.com/rust-lang/rust/issues/8774", "id": 18578121, "node_id": "MDU6SXNzdWUxODU3ODEyMQ==", "number": 8774, "title": "Add a platform-dependent calling convention alias", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-08-26T22:48:32Z", "updated_at": "2013-11-09T21:31:07Z", "closed_at": "2013-11-09T21:31:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Some cross-platform libraries use different calling conventions on different platform. For example, OpenGL uses cdecl on *nix, and stdcall on Windows. Writing wrappers for these libraries is currently troublesome, as it requires special-casing the calling convention in Rust code.\n\nI propose adding an ABI alias called \"system\" which could be used in extern declarations, in place of \"stdcall\", \"cdecl\", etc. It would map to whichever calling convention is default on the specific platform.\n\nThus one could say, e.g.:\n\n``` rust\npub type GLDEBUGPROC = extern \"system\" fn(...);\n```\n\nRather than:\n\n``` rust\n    #[cfg(target_os = \"win32\")]\n    pub type GLDEBUGPROC = extern \"stdcall\" fn(...);\n\n    #[cfg(not(target_os = \"win32\"))]\n    pub type GLDEBUGPROC = extern \"cdecl\" fn(...);\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/8774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/8774/timeline", "performed_via_github_app": null, "state_reason": "completed"}