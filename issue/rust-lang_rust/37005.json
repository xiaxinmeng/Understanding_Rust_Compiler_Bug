{"url": "https://api.github.com/repos/rust-lang/rust/issues/37005", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37005/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37005/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37005/events", "html_url": "https://github.com/rust-lang/rust/issues/37005", "id": 181487211, "node_id": "MDU6SXNzdWUxODE0ODcyMTE=", "number": 37005, "title": "Android bots may fail to come online", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-10-06T18:13:09Z", "updated_at": "2016-12-30T06:05:38Z", "closed_at": "2016-12-30T06:05:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We've had tons of historical problems where our android builders fail to come online. I don't understand the precise reason but my best hunch is that the following sequence of events happens:\n1. Buildbot spins up a new EC2 instance\n2. Buildbot then decides to wait N seconds for this instance to connect to the buildmaster\n3. The EC2 instance boots\n4. The instance runs a startup script which runs a docker image\n5. The [docker image](https://hub.docker.com/r/alexcrichton/rust-slave-android/tags/), being 2GB, takes awhile to download\n6. Buildbot times out the instance, killing it\n\nAt that point we're in a state of limbo where the instance is then _later_ auto-shut down after an hour (presumably by some other buildbot system). Buildbot then refuses to bring another bot online, so we have to restart everything, killing LLVM caches and active instances.\n\nI don't understand though why this doesn't plague the linux-cross images [which are also 2GB](https://hub.docker.com/r/alexcrichton/rust-slave-linux-cross/tags/). Maybe one's a bigger 2GB than the other...\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37005/timeline", "performed_via_github_app": null, "state_reason": "completed"}