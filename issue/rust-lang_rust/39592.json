{"url": "https://api.github.com/repos/rust-lang/rust/issues/39592", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39592/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39592/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39592/events", "html_url": "https://github.com/rust-lang/rust/issues/39592", "id": 205681492, "node_id": "MDU6SXNzdWUyMDU2ODE0OTI=", "number": 39592, "title": "Cargo doctest output in nightly is incorrect", "user": {"login": "SergioBenitez", "id": 1480321, "node_id": "MDQ6VXNlcjE0ODAzMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1480321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SergioBenitez", "html_url": "https://github.com/SergioBenitez", "followers_url": "https://api.github.com/users/SergioBenitez/followers", "following_url": "https://api.github.com/users/SergioBenitez/following{/other_user}", "gists_url": "https://api.github.com/users/SergioBenitez/gists{/gist_id}", "starred_url": "https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SergioBenitez/subscriptions", "organizations_url": "https://api.github.com/users/SergioBenitez/orgs", "repos_url": "https://api.github.com/users/SergioBenitez/repos", "events_url": "https://api.github.com/users/SergioBenitez/events{/privacy}", "received_events_url": "https://api.github.com/users/SergioBenitez/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-06T19:20:33Z", "updated_at": "2017-02-08T20:49:32Z", "closed_at": "2017-02-08T20:49:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the latest nightly, the logged output for doctests has changed to what appears to be a terser version. Unfortunately, the output is incorrect. The output shows every doctest as occurring in the same file, regardless of where the doctest is. Furthermore, doctest logging no longer includes the module/item where the doctest was declared, which, in my opinion, is a rather large usability regression.\r\n\r\nHere is what the new, buggy output looks like:\r\n\r\n```\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 104 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 116 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 125 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 13 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 130 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 14 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 103 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 133 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 112 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 117 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 140 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 110 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 101 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 123 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 113 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 144 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 120 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 108 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 17 ... ignored\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 101 ... ok\r\ntest /home/travis/build/SergioBenitez/Rocket/lib/src/lib.rs - line 112 ... ok\r\n```\r\n\r\nYou can find the complete output in [the Travis logs for a recent build of Rocket](https://travis-ci.org/SergioBenitez/Rocket/builds/198938996#L676).", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39592/timeline", "performed_via_github_app": null, "state_reason": "completed"}