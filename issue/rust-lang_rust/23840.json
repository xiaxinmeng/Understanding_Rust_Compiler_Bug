{"url": "https://api.github.com/repos/rust-lang/rust/issues/23840", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/23840/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/23840/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/23840/events", "html_url": "https://github.com/rust-lang/rust/issues/23840", "id": 65095676, "node_id": "MDU6SXNzdWU2NTA5NTY3Ng==", "number": 23840, "title": "ICE on 'let x = [];'", "user": {"login": "rhencke", "id": 178348, "node_id": "MDQ6VXNlcjE3ODM0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/178348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhencke", "html_url": "https://github.com/rhencke", "followers_url": "https://api.github.com/users/rhencke/followers", "following_url": "https://api.github.com/users/rhencke/following{/other_user}", "gists_url": "https://api.github.com/users/rhencke/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhencke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhencke/subscriptions", "organizations_url": "https://api.github.com/users/rhencke/orgs", "repos_url": "https://api.github.com/users/rhencke/repos", "events_url": "https://api.github.com/users/rhencke/events{/privacy}", "received_events_url": "https://api.github.com/users/rhencke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-03-29T21:04:48Z", "updated_at": "2015-03-31T04:27:19Z", "closed_at": "2015-03-31T04:27:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When compiling:\n\n``` rust\nfn main() {\n    let x = [];\n}\n```\n\nrustc dies with:\n\n```\nthread 'rustc' panicked at 'Box<Any>', /Users/roberthencke/src/rust/src/libsyntax/diagnostic.rs:130\n\nstack backtrace:\n   1:        0x107814644 - sys::backtrace::write::hc9fdfba4d7b15a9dYAD\n   2:        0x10783f798 - panicking::on_panic::h8bb366db13a7bf028qJ\n   3:        0x10775c71e - rt::unwind::begin_unwind_inner::h1d0bef9a44801ec8i9I\n   4:        0x106f56ade - rt::unwind::begin_unwind::h12157501815572839086\n   5:        0x106f56a8b - diagnostic::SpanHandler::span_bug::hfafb793ceb7823c8taB\n   6:        0x10472bc9c - session::Session::span_bug::he70fb12f8935aafaPPn\n   7:        0x103eb31eb - check::regionck::visit_expr::h4c8800f0a1106c751Hd\n   8:        0x103eb3b51 - check::regionck::visit_local::h8f9bb4823989e3586Ed\n   9:        0x103eadff9 - check::regionck::Rcx<'a, 'tcx>::visit_fn_body::hc1a37803b1d3181eekd\n  10:        0x103f3ff96 - check::check_bare_fn::hb32b581dc74a9b093nn\n  11:        0x103f37fcb - check::check_item::hd9f7940ef6a90ee9OGn\n  12:        0x1040115b6 - check_crate::closure.35998\n  13:        0x10400c47a - check_crate::hcda5f3cefbfd5d5fOmC\n  14:        0x103d49787 - driver::phase_3_run_analysis_passes::h026e769b2b844eb5rGa\n  15:        0x103d2f7c7 - driver::compile_input::hb475e8fd7969563dRba\n  16:        0x103de9513 - run_compiler::h6333b890b54b4387s2b\n  17:        0x103de70a5 - thunk::F.Invoke<A, R>::invoke::h5287984335417981805\n  18:        0x103de6467 - rt::unwind::try::try_fn::h14175969919979542003\n  19:        0x1078c8648 - rust_try_inner\n  20:        0x1078c8635 - rust_try\n  21:        0x103de6805 - thunk::F.Invoke<A, R>::invoke::h18234926616775157777\n  22:        0x10782a72d - sys::thread::create::thread_start::h3ba002124437c3be86H\n  23:     0x7fff8ef22267 - _pthread_body\n  24:     0x7fff8ef221e4 - _pthread_start\n```\n\nrustc --version --verbose gives:\n\n```\nrustc 1.0.0-dev (1501f33e7 2015-03-26) (built 2015-03-26)\nbinary: rustc\ncommit-hash: 1501f33e76f6f9621aa08fb0cbbc5f85a5ac7f0f\ncommit-date: 2015-03-26\nbuild-date: 2015-03-26\nhost: x86_64-apple-darwin\nrelease: 1.0.0-dev\n```\n", "closed_by": {"login": "rhencke", "id": 178348, "node_id": "MDQ6VXNlcjE3ODM0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/178348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhencke", "html_url": "https://github.com/rhencke", "followers_url": "https://api.github.com/users/rhencke/followers", "following_url": "https://api.github.com/users/rhencke/following{/other_user}", "gists_url": "https://api.github.com/users/rhencke/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhencke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhencke/subscriptions", "organizations_url": "https://api.github.com/users/rhencke/orgs", "repos_url": "https://api.github.com/users/rhencke/repos", "events_url": "https://api.github.com/users/rhencke/events{/privacy}", "received_events_url": "https://api.github.com/users/rhencke/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/23840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/23840/timeline", "performed_via_github_app": null, "state_reason": "completed"}