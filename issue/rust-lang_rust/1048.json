{"url": "https://api.github.com/repos/rust-lang/rust/issues/1048", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1048/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1048/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1048/events", "html_url": "https://github.com/rust-lang/rust/issues/1048", "id": 1979621, "node_id": "MDU6SXNzdWUxOTc5NjIx", "number": 1048, "title": "Non-boxed recursive tag constructor fails to compile with \"Out of stack space\"", "user": {"login": "mbrubeck", "id": 5920, "node_id": "MDQ6VXNlcjU5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbrubeck", "html_url": "https://github.com/mbrubeck", "followers_url": "https://api.github.com/users/mbrubeck/followers", "following_url": "https://api.github.com/users/mbrubeck/following{/other_user}", "gists_url": "https://api.github.com/users/mbrubeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbrubeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbrubeck/subscriptions", "organizations_url": "https://api.github.com/users/mbrubeck/orgs", "repos_url": "https://api.github.com/users/mbrubeck/repos", "events_url": "https://api.github.com/users/mbrubeck/events{/privacy}", "received_events_url": "https://api.github.com/users/mbrubeck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-10-18T22:29:46Z", "updated_at": "2011-10-19T02:04:52Z", "closed_at": "2011-10-19T02:04:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you try to compile `tag list<T> { nil; cons(int, list<T>); }` (note \"list\" instead of \"@list\" in the recursive constructor), then the compiler crashes with `rt: e2b5:0x00000000:                  Out of stack space, sorry`.\n\nIt would be nice to detect this condition and provide a more useful error message instead.\n\nThe bottom of the stack is:\n\n<pre>\n#24545 0x080ff28e in middle::ty::type_structurally_contains::_5f3ac45ea1b71c45 ()\n#24546 0x080ff28e in middle::ty::type_structurally_contains::_5f3ac45ea1b71c45 ()\n#24547 0x080ff28e in middle::ty::type_structurally_contains::_5f3ac45ea1b71c45 ()\n#24548 0x080ff28e in middle::ty::type_structurally_contains::_5f3ac45ea1b71c45 ()\n#24549 0x080ff28e in middle::ty::type_structurally_contains::_5f3ac45ea1b71c45 ()\n#24550 0x080ff28e in middle::ty::type_structurally_contains::_5f3ac45ea1b71c45 ()\n#24551 0x08061feb in middle::trans::type_of_tag::_a125eb2fba6a34ee ()\n#24552 0x08061522 in middle::trans::type_of_inner::_f9908926438f2236 ()\n#24553 0x080603bb in middle::trans::type_of_fn::_d1c7c2dc9390d6d7 ()\n#24554 0x08060a5e in middle::trans::type_of_fn_from_ty::_e121377dba6b8bd0 ()\n#24555 0x080bc50c in middle::trans::register_fn_full::_3897f5c49d271367 ()\n#24556 0x080bc358 in middle::trans::register_fn::_2c73ab4a26be7a7a ()\n#24557 0x080c2fd1 in middle::trans::collect_tag_ctor::_5ff72ae6ae3153d1 ()\n#24558 0x082a833e in middle::trans::collect_tag_ctors::thunk1669 ()\n#24559 0x082c9589 in syntax::visit::default_visitor::thunk5653 ()\n#24560 0x080c354b in middle::trans::collect_tag_ctors::_ec22d712145eb498 ()\n#24561 0x080c9503 in middle::trans::trans_crate::_19245ca61421d176 ()\n#24562 0x082e809b in driver::rustc::compile_input::thunk8685 ()\n#24563 0x0827812d in driver::rustc::time::_8bcb4789e2c2f57e ()\n#24564 0x0827acff in driver::rustc::compile_input::_c6e994438f359ee8 ()\n#24565 0x08286208 in driver::rustc::main::_ed54e060591e3a31 ()\n#24566 0x08286e93 in _rust_main ()\n#24567 0x082eb12c in _rust_main_wrap ()\n#24568 0x01337321 in task_start_wrapper (a=0xb7fe0010) at ../src/rt/rust_task.cpp:150\n#24569 0xdeadbeef in ?? ()\n#24570 0xb7fe0010 in ?? ()\n#24571 0x00000010 in ?? ()\n</pre>\n", "closed_by": {"login": "mbrubeck", "id": 5920, "node_id": "MDQ6VXNlcjU5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbrubeck", "html_url": "https://github.com/mbrubeck", "followers_url": "https://api.github.com/users/mbrubeck/followers", "following_url": "https://api.github.com/users/mbrubeck/following{/other_user}", "gists_url": "https://api.github.com/users/mbrubeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbrubeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbrubeck/subscriptions", "organizations_url": "https://api.github.com/users/mbrubeck/orgs", "repos_url": "https://api.github.com/users/mbrubeck/repos", "events_url": "https://api.github.com/users/mbrubeck/events{/privacy}", "received_events_url": "https://api.github.com/users/mbrubeck/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/1048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1048/timeline", "performed_via_github_app": null, "state_reason": "completed"}