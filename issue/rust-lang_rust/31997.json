{"url": "https://api.github.com/repos/rust-lang/rust/issues/31997", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/31997/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/31997/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/31997/events", "html_url": "https://github.com/rust-lang/rust/issues/31997", "id": 137687625, "node_id": "MDU6SXNzdWUxMzc2ODc2MjU=", "number": 31997, "title": "Resolve failures cause too many typechecking failures", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-03-01T21:08:36Z", "updated_at": "2016-04-25T17:43:40Z", "closed_at": "2016-04-25T17:43:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I noticed that on https://github.com/rust-lang/rust/pull/31618 there was a [resolve failure](https://gist.github.com/alexcrichton/f8ac0ed0b8a7f5c55be5) from [this line](https://github.com/alexcrichton/rust/blob/58e96a897252ffb78f810722272106bb4bdefb1c/src/libstd/sys/unix/pipe.rs#L94), specifically:\n\n```\n../src/libstd/sys/unix/pipe.rs:94:13: 94:25 error: unresolved name `libc::select` [E0425]\n../src/libstd/sys/unix/pipe.rs:94             libc::select(max + 1, &mut read, 0 as *mut _, 0 as *mut _,\n                                              ^~~~~~~~~~~~\n../src/libstd/sys/unix/pipe.rs:90:9: 96:13 note: in this expansion of try! (defined in <core macros>)\n../src/libstd/sys/unix/pipe.rs:94:13: 94:25 help: run `rustc --explain E0425` to see a detailed explanation\n../src/libstd/sys/unix/pipe.rs:90:14: 90:19 error: the trait `core::num::One` is not implemented for the type `()` [E0277]\n../src/libstd/sys/unix/pipe.rs:90         try!(cvt_r(|| unsafe {\n                                               ^~~~~\n../src/libstd/sys/unix/pipe.rs:90:9: 96:13 note: in this expansion of try! (defined in <core macros>)\n../src/libstd/sys/unix/pipe.rs:90:14: 90:19 help: run `rustc --explain E0277` to see a detailed explanation\n../src/libstd/sys/unix/pipe.rs:90:14: 90:19 note: required by `sys::cvt_r`\n../src/libstd/sys/unix/pipe.rs:90:14: 90:19 error: the trait `core::ops::Neg` is not implemented for the type `()` [E0277]\n../src/libstd/sys/unix/pipe.rs:90         try!(cvt_r(|| unsafe {\n                                               ^~~~~\n../src/libstd/sys/unix/pipe.rs:90:9: 96:13 note: in this expansion of try! (defined in <core macros>)\n../src/libstd/sys/unix/pipe.rs:90:14: 90:19 help: run `rustc --explain E0277` to see a detailed explanation\n../src/libstd/sys/unix/pipe.rs:90:14: 90:19 note: required by `sys::cvt_r`\n../src/libstd/sys/unix/pipe.rs:94:46: 94:57 error: casting `usize` as `*mut _` is invalid\n../src/libstd/sys/unix/pipe.rs:94             libc::select(max + 1, &mut read, 0 as *mut _, 0 as *mut _,\n                                                                               ^~~~~~~~~~~\n../src/libstd/sys/unix/pipe.rs:90:9: 96:13 note: in this expansion of try! (defined in <core macros>)\n../src/libstd/sys/unix/pipe.rs:94:59: 94:70 error: casting `usize` as `*mut _` is invalid\n../src/libstd/sys/unix/pipe.rs:94             libc::select(max + 1, &mut read, 0 as *mut _, 0 as *mut _,\n                                                                                            ^~~~~~~~~~~\n../src/libstd/sys/unix/pipe.rs:90:9: 96:13 note: in this expansion of try! (defined in <core macros>)\n../src/libstd/sys/unix/pipe.rs:95:26: 95:37 error: casting `usize` as `*mut _` is invalid\n../src/libstd/sys/unix/pipe.rs:95                          0 as *mut _)\n                                                           ^~~~~~~~~~~\n../src/libstd/sys/unix/pipe.rs:90:9: 96:13 note: in this expansion of try! (defined in <core macros>)\n```\n\nThe only real error here is that `libc::select` doesn't exist. All other errors are spawned off of this. This unfortunately makes it pretty hard to hunt through errors and figure out which ones need to get fixed, and at this point I'm just training myself to _only_ look at the first error as all others are likely not too useful.\n\nI attempted to minimize this as well:\n\n``` rust\nmod foo {}\n\nfn bar<T: Clone>() {}\n\nfn main() {\n    bar(foo::bar());\n}\n```\n\nBut this yielded a different error message:\n\n```\nfoo.rs:6:9: 6:17 error: unresolved name `foo::bar` [E0425]\nfoo.rs:6     bar(foo::bar());\n                 ^~~~~~~~\nfoo.rs:6:9: 6:17 help: run `rustc --explain E0425` to see a detailed explanation\nfoo.rs:6:5: 6:20 error: this function takes 0 parameters but 1 parameter was supplied [E0061]\nfoo.rs:6     bar(foo::bar());\n             ^~~~~~~~~~~~~~~\nfoo.rs:6:5: 6:20 help: run `rustc --explain E0061` to see a detailed explanation\nerror: aborting due to previous error\n```\n\nNote that on stable this yields a message which is actionable and concise:\n\n```\nfoo.rs:6:9: 6:17 error: unresolved name `foo::bar` [E0425]\nfoo.rs:6     bar(foo::bar());\n                 ^~~~~~~~\nfoo.rs:6:9: 6:17 help: run `rustc --explain E0425` to see a detailed explanation\nerror: aborting due to previous error\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/31997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/31997/timeline", "performed_via_github_app": null, "state_reason": "completed"}