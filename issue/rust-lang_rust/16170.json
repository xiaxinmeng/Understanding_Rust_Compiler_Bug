{"url": "https://api.github.com/repos/rust-lang/rust/issues/16170", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/16170/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/16170/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/16170/events", "html_url": "https://github.com/rust-lang/rust/issues/16170", "id": 39285350, "node_id": "MDU6SXNzdWUzOTI4NTM1MA==", "number": 16170, "title": "Consider warning for struct/enum constructors without effect.", "user": {"login": "Kimundi", "id": 2903206, "node_id": "MDQ6VXNlcjI5MDMyMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kimundi", "html_url": "https://github.com/Kimundi", "followers_url": "https://api.github.com/users/Kimundi/followers", "following_url": "https://api.github.com/users/Kimundi/following{/other_user}", "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions", "organizations_url": "https://api.github.com/users/Kimundi/orgs", "repos_url": "https://api.github.com/users/Kimundi/repos", "events_url": "https://api.github.com/users/Kimundi/events{/privacy}", "received_events_url": "https://api.github.com/users/Kimundi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-08-01T12:33:06Z", "updated_at": "2015-10-29T11:44:56Z", "closed_at": "2015-10-29T11:44:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` Rust\nstruct Warns;\nstruct WarnsNot1 { a: uint }\nstruct WarnsNot2(uint);\n\nfn main() {\n    Warns;\n    WarnsNot1 { a: 0 };\n    WarnsNot2(0u);\n}\n```\n\nThis produces a `#[warn(path_statement)]` warning for the `Warns` statement, but not for the `WarnsNotX` statements.\n\nThis is somewhat understandable, as the later two can have side effects as part of evaluating their arguments, and also expected of functions in general.\n\nBut it might be useful to have a lint for struct and enum constructors whose result is discarded like this.\n", "closed_by": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/16170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/16170/timeline", "performed_via_github_app": null, "state_reason": "completed"}