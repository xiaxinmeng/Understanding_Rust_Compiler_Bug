{"url": "https://api.github.com/repos/rust-lang/rust/issues/103518", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/103518/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/103518/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/103518/events", "html_url": "https://github.com/rust-lang/rust/issues/103518", "id": 1422299642, "node_id": "I_kwDOAAsO6M5UxpH6", "number": 103518, "title": "Type parameter shadowing concrete type results in confusing error message", "user": {"login": "kornelski", "id": 72159, "node_id": "MDQ6VXNlcjcyMTU5", "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kornelski", "html_url": "https://github.com/kornelski", "followers_url": "https://api.github.com/users/kornelski/followers", "following_url": "https://api.github.com/users/kornelski/following{/other_user}", "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}", "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions", "organizations_url": "https://api.github.com/users/kornelski/orgs", "repos_url": "https://api.github.com/users/kornelski/repos", "events_url": "https://api.github.com/users/kornelski/events{/privacy}", "received_events_url": "https://api.github.com/users/kornelski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1596121013, "node_id": "MDU6TGFiZWwxNTk2MTIxMDEz", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-confusing", "name": "D-confusing", "color": "c9f7a3", "default": false, "description": "Confusing diagnostic error that should be reworked"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-25T11:19:23Z", "updated_at": "2022-10-25T14:23:44Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```rust\r\nstruct Nested<T> {\r\n    foo: T,\r\n}\r\n\r\nimpl Nested<String> {\r\n    fn string_method_definitely_exists(&self) {}\r\n}\r\n\r\nstruct Outer<T> {\r\n    bar: Nested<T>\r\n}\r\n\r\nimpl<String> Outer<String> {\r\n    fn surprise(&self) {\r\n        self.bar.string_method_definitely_exists();\r\n    }\r\n}\r\n```\r\n\r\n[playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2021&gist=244b48c38e37a668d01d5ddefeb56684)\r\n\r\n\r\nThe current output is:\r\n\r\n```\r\nerror[[E0599]](https://doc.rust-lang.org/stable/error-index.html#E0599): no method named `string_method_definitely_exists` found for struct `Nested<String>` in the current scope\r\n  --> src/lib.rs:15:18\r\n   |\r\n1  | struct Nested<T> {\r\n   | ---------------- method `string_method_definitely_exists` not found for this struct\r\n...\r\n15 |         self.bar.string_method_definitely_exists();\r\n   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `Nested<String>`\r\n   |\r\n   = note: the method was found for\r\n           - `Nested<String>`\r\n```\r\n\r\nThe confusing part about this is that `Nested<String>` exists when `String` is a type, but does not exist when `Nested<String>` has a type parameter due to `impl<String>` mistake. Textually, both cases are exactly identical, so the error message appears to be mistaken and stating the impossible.\r\n\r\nThe root cause of this error is completely elsewhere, not pointed out by the error message. Ideally the output should look like:\r\n\r\n```\r\nimpl<String> Outer<String>\r\n     ^^^^^^ type parameter shadows the `String` type\r\n```\r\n\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/103518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/103518/timeline", "performed_via_github_app": null, "state_reason": null}