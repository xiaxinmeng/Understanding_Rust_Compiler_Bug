{"url": "https://api.github.com/repos/rust-lang/rust/issues/33026", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33026/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33026/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33026/events", "html_url": "https://github.com/rust-lang/rust/issues/33026", "id": 148840795, "node_id": "MDU6SXNzdWUxNDg4NDA3OTU=", "number": 33026, "title": "Python build scripts: 2.x or 3.x?", "user": {"login": "sanmai-NL", "id": 3374183, "node_id": "MDQ6VXNlcjMzNzQxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/3374183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanmai-NL", "html_url": "https://github.com/sanmai-NL", "followers_url": "https://api.github.com/users/sanmai-NL/followers", "following_url": "https://api.github.com/users/sanmai-NL/following{/other_user}", "gists_url": "https://api.github.com/users/sanmai-NL/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanmai-NL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanmai-NL/subscriptions", "organizations_url": "https://api.github.com/users/sanmai-NL/orgs", "repos_url": "https://api.github.com/users/sanmai-NL/repos", "events_url": "https://api.github.com/users/sanmai-NL/events{/privacy}", "received_events_url": "https://api.github.com/users/sanmai-NL/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-04-16T10:43:15Z", "updated_at": "2016-04-16T21:51:13Z", "closed_at": "2016-04-16T21:51:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am about to contribute to [`src/bootstrap/bootstrap.py`](src/bootstrap/bootstrap.py), so I checked whether it is supposed to run under Python 2.x or 3.x. I concluded that it is Python 3.x, since there is [Python 3 code](https://github.com/rust-lang/rust/blob/e0f997d3477fe28c2c5d99229bd1cd0de81604b4/src/bootstrap/bootstrap.py#L21) in there. \u2602 Yet `README.md` says the dependency is on [Python 2.x](https://github.com/rust-lang/rust/blame/c233f2ee29e7be75411975473db232952f7489df/README.md#L20).\n1. I suppose `README.md` should be corrected?\n2. Additionally, in order to prevent confusion and compatibility problems, the shebang in all Python script files (i.e., a subset of [all Python files](https://github.com/rust-lang/rust/search?p=3&q=extension%3Apy&type=Code&utf8=%E2%9C%93)) should explicitly refer to the required major Python version like so: \n   .\n\n``` python3\n#!/usr/bin/env python3\n```\n\n.\n3. Finally, if no final decision has been made as to what version of Python and/or what version of the CPython implementation is required, I have the following order of preference:\nCPython >=3.3  >  CPython >=2.7  >  Combined code base of CPython >=3.3 & >=2.7\n\nConsider [this official note](https://wiki.python.org/moin/Python2orPython3) that basically explains why Python 3 is preferred. I have found that [`src/bootstrap/bootstrap.py`](src/bootstrap/bootstrap.py) can be refactored to simpler and shorter code, especially when the CPython >=3.3 standard library is available. (Not that I am happy about the CPython dependency for Rust building in general.)\n\n[This official release engineering page](https://docs.python.org/devguide/devcycle.html) states that CPython 3.2 and below are EOL.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33026/timeline", "performed_via_github_app": null, "state_reason": "completed"}