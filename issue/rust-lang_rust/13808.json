{"url": "https://api.github.com/repos/rust-lang/rust/issues/13808", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13808/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13808/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13808/events", "html_url": "https://github.com/rust-lang/rust/issues/13808", "id": 32319149, "node_id": "MDU6SXNzdWUzMjMxOTE0OQ==", "number": 13808, "title": "ICE related to lifetimes", "user": {"login": "jmmk", "id": 1122242, "node_id": "MDQ6VXNlcjExMjIyNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1122242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmmk", "html_url": "https://github.com/jmmk", "followers_url": "https://api.github.com/users/jmmk/followers", "following_url": "https://api.github.com/users/jmmk/following{/other_user}", "gists_url": "https://api.github.com/users/jmmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmmk/subscriptions", "organizations_url": "https://api.github.com/users/jmmk/orgs", "repos_url": "https://api.github.com/users/jmmk/repos", "events_url": "https://api.github.com/users/jmmk/events{/privacy}", "received_events_url": "https://api.github.com/users/jmmk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-04-27T19:54:19Z", "updated_at": "2014-12-30T10:42:46Z", "closed_at": "2014-12-30T10:42:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Updated code example\n\n``` rust\nstruct Foo {\n    listener: <'a> ||: 'a\n}\n\nimpl Foo {\n    fn new(listener: <'a> ||: 'a) -> Foo {\n        Foo {\n            listener: listener\n        }\n    }\n}\n\nfn main() {\n    let a = Foo::new();\n}\n```\n# Original description\n\nI added `pub listener: <'a> ||: 'a,` as a field on a struct and I am passing `listener: <'a> ||: 'a` into the constructor and setting `listener: listener`. My code is horribly broken at the moment, so the error might be hard to duplicate in a normal circumstance\n\n```\nsrc/slot.rs:16:23: 16:31 error: internal compiler error: cannot relate bound region: ReLateBound(368, BrNamed(syntax::ast::DefId{krate: 0u32, node: 370u32}, a)) <= ReLateBound(613, BrNamed(syntax::ast::DefId{krate: 0u32, node: 615u32}, a))\nsrc/slot.rs:16             listener: listener,\n                                     ^~~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://static.rust-lang.org/doc/master/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at '~Any', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/libsyntax/diagnostic.rs:99\nstack backtrace:\n   1:        0x108bcc774 - rt::backtrace::imp::write::hb8edc46a4e54f5bdyEa::v0.11.pre\n   2:        0x108b2e65e - rt::unwind::begin_unwind_inner::h4857e4963ab560a9Eea::v0.11.pre\n   3:        0x1082ae925 - rt::unwind::begin_unwind::h10981348780101087386::v0.11.pre\n   4:        0x1082ae8a9 - diagnostic::SpanHandler::span_bug::h7a0381da98a05456ITb::v0.11.pre\n   5:        0x105f673f1 - driver::session::Session::span_bug::hf3890a8c1798bcecGqh::v0.11.pre\n   6:        0x1062161c5 - middle::typeck::infer::region_inference::RegionVarBindings<'a>::make_subre\ngion::h2161fa77405c0b5eVii::v0.11.pre\n   7:        0x1061f8664 - middle::typeck::infer::sub::Sub<'f>.Combine::regions::h87816d6c29e2d1e2NIk\n::v0.11.pre\n   8:        0x1061f8969 - middle::typeck::infer::sub::Sub<'f>.Combine::contraregions::ha70e9e373bca1\n82aeIk::v0.11.pre\n   9:        0x10622dba8 - middle::typeck::infer::combine::Combine::closure_tys::h1515845370716737786\n6::v0.11.pre\n  10:        0x1061e11ee - middle::typeck::infer::sub::Sub<'f>.Combine::tys::h9e417bda90b44b91PQk::v0\n.11.pre\n  11:        0x1061ed578 - middle::typeck::infer::lattice::ty..t.LatticeValue::sub::h6788a62e8e532e66\n1kg::v0.11.pre\n  12:        0x1061ef19a - middle::typeck::infer::lattice::CombineFields<'f>.CombineFieldsLatticeMeth\nods::bnds::h11321451026438906780::v0.11.pre\n  13:        0x1061ee8de - middle::typeck::infer::lattice::CombineFields<'f>.CombineFieldsLatticeMeth\nods::set_var_to_merged_bounds::h18364305293880178940::v0.11.pre\n  14:        0x1061e021a - middle::typeck::infer::sub::Sub<'f>.Combine::tys::h9e417bda90b44b91PQk::v0\n.11.pre\n  15:        0x10623292b - middle::typeck::infer::coercion::Coerce<'f>::subtype::ha90a34c19d50317a3Ol\n::v0.11.pre\n  16:        0x10623127e - middle::typeck::infer::coercion::Coerce<'f>::coerce_borrowed_fn::h21eec21d\n591af7e2J9l::v0.11.pre\n  17:        0x106231081 - middle::typeck::infer::coercion::Coerce<'f>::tys::closure.68186\n  18:        0x10622f4b1 - middle::typeck::infer::coercion::Coerce<'f>::unpack_actual_value::h423d3c0\nbe57f69fbCPl::v0.11.pre\n  19:        0x10622edd2 - middle::typeck::infer::coercion::Coerce<'f>::tys::hfbee61e40c4d2177VHl::v0\n.11.pre\n  20:        0x10625630d - middle::typeck::infer::mk_coercety::closure.68856\n  21:        0x106255e5c - middle::typeck::infer::InferCtxt<'a>::commit::closure.68846\n  22:        0x1062550f9 - util::common::indent::h148640294178993037::v0.11.pre\n  23:        0x106255cee - middle::typeck::infer::mk_coercety::closure.68842\n  24:        0x1062550f9 - util::common::indent::h148640294178993037::v0.11.pre\n  25:        0x1061bbc1c - middle::typeck::infer::mk_coercety::h8c3f5e59b24b1d6a3Go::v0.11.pre\n  26:        0x10617f701 - middle::typeck::check::FnCtxt<'a>::mk_assignty::h73ec086633282126ZV8::v0.1\n1.pre\n  27:        0x10617f588 - middle::typeck::check::demand::coerce::h728f9dff6d7fdfc7SY4::v0.11.pre\n  28:        0x1061c606a - middle::typeck::check::check_expr_coercable_to_type::closure.66448\n  29:        0x1061bcd6e - middle::typeck::check::check_expr_with_unifier::h54f2db4c9a491156Dy9::v0.1\n1.pre\n  30:        0x1061d222b - middle::typeck::check::check_expr_with_unifier::check_struct_or_variant_fi\nelds::h3be96966110b5d79OAa::v0.11.pre\n  31:        0x1061c5940 - middle::typeck::check::check_expr_with_unifier::h54f2db4c9a491156Dy9::v0.1\n1.pre\n  32:        0x10619f26c - middle::typeck::check::check_block_with_expected::h03ef625794cf7320lUb::v0\n.11.pre\n  33:        0x10619ae49 - middle::typeck::check::check_fn::h9c2aca4017bc1637Sn7::v0.11.pre\n  34:        0x10619a67a - middle::typeck::check::check_bare_fn::hbbbe27defcff6637Jd7::v0.11.pre\n  35:        0x1061a38d2 - middle::typeck::check::check_method_body::h7e31fe0e72676ae4IU7::v0.11.pre\n  36:        0x106192d8e - middle::typeck::check::check_item::h810810778b4049b86J7::v0.11.pre\n  37:        0x1061944bd - visit::walk_item::h10033669871325854080::v0.11.pre\n  38:        0x10619a420 - middle::typeck::check::check_item_types::h9d072e264d49e9741c7::v0.11.pre\n  39:        0x1062cd9df - util::common::time::h14811596011449642652::v0.11.pre\n  40:        0x1062cc90d - middle::typeck::check_crate::hc7ccc9d6246f2066lIu::v0.11.pre\n  41:        0x1066e655d - driver::driver::phase_3_run_analysis_passes::hb484e7997e276ab1TCf::v0.11.p\nre\n  42:        0x1066ec5d2 - driver::driver::compile_input::h5786f561b203dba8G2f::v0.11.pre\n  43:        0x1067123b2 - run_compiler::he93bc641c5699ab0xzn::v0.11.pre\n  44:        0x10672622d - main_args::closure.91452\n  45:        0x1067245c2 - monitor::closure.91327\n  46:        0x10672010b - task::TaskBuilder::try::closure.91093\n  47:        0x105eca47c - task::spawn_opts::closure.7106\n  48:        0x108bc7878 - rt::task::Task::run::closure.40139\n  49:        0x108bd15ec - rust_try\n  50:        0x108bc76f7 - rt::task::Task::run::h149edfd1efd12195e57::v0.11.pre\n  51:        0x105eca2ff - task::spawn_opts::closure.7078\n  52:        0x108bcb146 - rt::thread::thread_start::he6c7e09250b70489rK8::v0.11.pre\n  53:     0x7fff8e7fc899 - _pthread_body\n  54:     0x7fff8e7fc72a - _pthread_struct_init\n\nmake: *** [compile] Error 101\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/13808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13808/timeline", "performed_via_github_app": null, "state_reason": "completed"}