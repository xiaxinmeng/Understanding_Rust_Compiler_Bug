{"url": "https://api.github.com/repos/rust-lang/rust/issues/95165", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/95165/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/95165/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/95165/events", "html_url": "https://github.com/rust-lang/rust/issues/95165", "id": 1175164472, "node_id": "I_kwDOAAsO6M5GC5Y4", "number": 95165, "title": "Compiler optimization suggestion - `Iter<String>.collect::<Vec<String>>().join(\"\")`", "user": {"login": "yoav-lavi", "id": 14347895, "node_id": "MDQ6VXNlcjE0MzQ3ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/14347895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoav-lavi", "html_url": "https://github.com/yoav-lavi", "followers_url": "https://api.github.com/users/yoav-lavi/followers", "following_url": "https://api.github.com/users/yoav-lavi/following{/other_user}", "gists_url": "https://api.github.com/users/yoav-lavi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoav-lavi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoav-lavi/subscriptions", "organizations_url": "https://api.github.com/users/yoav-lavi/orgs", "repos_url": "https://api.github.com/users/yoav-lavi/repos", "events_url": "https://api.github.com/users/yoav-lavi/events{/privacy}", "received_events_url": "https://api.github.com/users/yoav-lavi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 627350354, "node_id": "MDU6TGFiZWw2MjczNTAzNTQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-inactive", "name": "S-inactive", "color": "d3dddd", "default": false, "description": "Status: Inactive and waiting on the author. This is often applied to closed PRs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-21T10:16:08Z", "updated_at": "2023-01-16T13:26:41Z", "closed_at": "2023-01-16T13:26:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI've opened this issue for `clippy`: https://github.com/rust-lang/rust-clippy/issues/8570 wherein a `collect::<Vec<String>>().join(\"\")` operation on an `Iter<String>` can be expressed as `collect::<String>()` which is more performant.\r\n\r\nI wanted to put this here as well as I think this may be something that can also be optimized by the compiler (by replacing the former with the latter) since the output should always be equivalent and the latter option is more performant.\r\n\r\nSee cases of this happening in the wild [here (GitHub CS Beta)](https://cs.github.com/?scopeName=All+repos&scope=&q=.collect%3A%3A%3CVec%3CString%3E%3E%28%29.join%28%22%22%29%3B) or [here (Sourcegraph)](https://sourcegraph.com/search?q=context:global+.collect::%3CVec%3CString%3E%3E%28%29.join%28%22%22%29&patternType=literal)\r\n\r\nI'm learning Rust so please let me know if I'm missing something, thank you!", "closed_by": {"login": "yoav-lavi", "id": 14347895, "node_id": "MDQ6VXNlcjE0MzQ3ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/14347895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoav-lavi", "html_url": "https://github.com/yoav-lavi", "followers_url": "https://api.github.com/users/yoav-lavi/followers", "following_url": "https://api.github.com/users/yoav-lavi/following{/other_user}", "gists_url": "https://api.github.com/users/yoav-lavi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoav-lavi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoav-lavi/subscriptions", "organizations_url": "https://api.github.com/users/yoav-lavi/orgs", "repos_url": "https://api.github.com/users/yoav-lavi/repos", "events_url": "https://api.github.com/users/yoav-lavi/events{/privacy}", "received_events_url": "https://api.github.com/users/yoav-lavi/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/95165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/95165/timeline", "performed_via_github_app": null, "state_reason": "completed"}