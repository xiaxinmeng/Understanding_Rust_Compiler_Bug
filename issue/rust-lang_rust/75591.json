{"url": "https://api.github.com/repos/rust-lang/rust/issues/75591", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/75591/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/75591/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/75591/events", "html_url": "https://github.com/rust-lang/rust/issues/75591", "id": 679773090, "node_id": "MDU6SXNzdWU2Nzk3NzMwOTA=", "number": 75591, "title": "Cargo fails to install via rustup because of a detected conflict in a file that doesn't exist.", "user": {"login": "Lokathor", "id": 5456384, "node_id": "MDQ6VXNlcjU0NTYzODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5456384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lokathor", "html_url": "https://github.com/Lokathor", "followers_url": "https://api.github.com/users/Lokathor/followers", "following_url": "https://api.github.com/users/Lokathor/following{/other_user}", "gists_url": "https://api.github.com/users/Lokathor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lokathor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lokathor/subscriptions", "organizations_url": "https://api.github.com/users/Lokathor/orgs", "repos_url": "https://api.github.com/users/Lokathor/repos", "events_url": "https://api.github.com/users/Lokathor/events{/privacy}", "received_events_url": "https://api.github.com/users/Lokathor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-16T15:22:08Z", "updated_at": "2020-08-16T16:31:31Z", "closed_at": "2020-08-16T16:31:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello. I had a fresh install of the 64-bit raspberry pi OS a few days ago. I go to get `rustup` all set.\r\n* The Stable channel works as expected (`aarch64-unknown-linux-gnu`). It can build things, `cargo install` things, and so on.\r\n* The Nightly channel *said* that it it installed, but it does nothing at all.\r\n\r\n```\r\npi@rpi64:~ $ cargo +nightly\r\npi@rpi64:~ $ cargo +nightly --version\r\npi@rpi64:~ $ rustc +nightly --version\r\npi@rpi64:~ $ \r\n```\r\n\r\nVery odd, but Nightly is always dodgy so I gave it a day to see if maybe things would be fixed.\r\n\r\nThe next day, I try the classic `rustup update`, and it gives me a very strange error about some sort of file conflict.\r\n\r\n```\r\npi@rpi64:~ $ rustup update\r\ninfo: syncing channel updates for 'stable-aarch64-unknown-linux-gnu'\r\ninfo: syncing channel updates for 'nightly-aarch64-unknown-linux-gnu'\r\ninfo: latest update on 2020-08-14, rust version 1.47.0-nightly (81dc88f88 2020-08-13)\r\ninfo: downloading component 'cargo'\r\n  4.5 MiB /   4.5 MiB (100 %) 883.0 KiB/s in  5s ETA:  0s\r\ninfo: downloading component 'rust-std'\r\n 25.4 MiB /  25.4 MiB (100 %)   1.0 MiB/s in 31s ETA:  0s\r\ninfo: downloading component 'rustc'\r\n 59.7 MiB /  59.7 MiB (100 %) 931.2 KiB/s in  1m  7s ETA:  0s\r\ninfo: removing previous version of component 'cargo'\r\ninfo: removing previous version of component 'rust-std'\r\ninfo: removing previous version of component 'rustc'\r\ninfo: installing component 'cargo'\r\ninfo: Defaulting to 500.0 MiB unpack ram\r\ninfo: rolling back changes\r\nerror: failed to install component: 'cargo-aarch64-unknown-linux-gnu', detected conflict: '\"etc/bash_completion.d/cargo\"'\r\ninfo: checking for self-updates\r\n\r\n       stable-aarch64-unknown-linux-gnu unchanged - rustc 1.45.2 (d3fb005a3 2020-07-31)\r\n  nightly-aarch64-unknown-linux-gnu update failed -\r\n\r\ninfo: cleaning up downloads & tmp directories\r\n```\r\n\r\nWhat's very odd is that there's no `etc/bash_completion.d/cargo`, there's not even a `/etc/bash_completion.d/cargo`. In fact cargo never has had bash completion as far as I'm aware, it's one of the saddest parts about cargo tools.\r\n\r\nI posted it on the Zulip, but no one there had any idea after a day or two. Each day I've been trying `rustup update` with no success. Each day the location of the detected conflict changes. I forget what it was on the 15th, but with the `2020-08-16, rust version 1.47.0-nightly (9b88e0a86 2020-08-15)` nightly the conflict is supposedly in `'\"bin/cargo\"'`. Again, this location does not exist on disk, nor any obvious variation:\r\n```\r\npi@rpi64:~ $ ls bin/cargo\r\nls: cannot access 'bin/cargo': No such file or directory\r\npi@rpi64:~ $ ls ./bin/cargo\r\nls: cannot access './bin/cargo': No such file or directory\r\npi@rpi64:~ $ ls /bin/cargo\r\nls: cannot access '/bin/cargo': No such file or directory\r\n```", "closed_by": {"login": "Lokathor", "id": 5456384, "node_id": "MDQ6VXNlcjU0NTYzODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5456384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lokathor", "html_url": "https://github.com/Lokathor", "followers_url": "https://api.github.com/users/Lokathor/followers", "following_url": "https://api.github.com/users/Lokathor/following{/other_user}", "gists_url": "https://api.github.com/users/Lokathor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lokathor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lokathor/subscriptions", "organizations_url": "https://api.github.com/users/Lokathor/orgs", "repos_url": "https://api.github.com/users/Lokathor/repos", "events_url": "https://api.github.com/users/Lokathor/events{/privacy}", "received_events_url": "https://api.github.com/users/Lokathor/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/75591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/75591/timeline", "performed_via_github_app": null, "state_reason": "completed"}