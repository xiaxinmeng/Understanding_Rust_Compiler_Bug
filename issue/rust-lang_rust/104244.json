{"url": "https://api.github.com/repos/rust-lang/rust/issues/104244", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/104244/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/104244/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/104244/events", "html_url": "https://github.com/rust-lang/rust/issues/104244", "id": 1443984625, "node_id": "I_kwDOAAsO6M5WEXTx", "number": 104244, "title": "Poor error message for confusing comparison and start of generic arguments in some cases", "user": {"login": "Maximkaaa", "id": 6412426, "node_id": "MDQ6VXNlcjY0MTI0MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6412426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maximkaaa", "html_url": "https://github.com/Maximkaaa", "followers_url": "https://api.github.com/users/Maximkaaa/followers", "following_url": "https://api.github.com/users/Maximkaaa/following{/other_user}", "gists_url": "https://api.github.com/users/Maximkaaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maximkaaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maximkaaa/subscriptions", "organizations_url": "https://api.github.com/users/Maximkaaa/orgs", "repos_url": "https://api.github.com/users/Maximkaaa/repos", "events_url": "https://api.github.com/users/Maximkaaa/events{/privacy}", "received_events_url": "https://api.github.com/users/Maximkaaa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 27424086, "node_id": "MDU6TGFiZWwyNzQyNDA4Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-parser", "name": "A-parser", "color": "f7e101", "default": false, "description": "Area: The parsing of Rust source code to an AST."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1596122130, "node_id": "MDU6TGFiZWwxNTk2MTIyMTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-papercut", "name": "D-papercut", "color": "c9f7a3", "default": false, "description": "Diagnostic error that needs small tweaks"}], "state": "open", "locked": false, "assignee": {"login": "mucinoab", "id": 28630268, "node_id": "MDQ6VXNlcjI4NjMwMjY4", "avatar_url": "https://avatars.githubusercontent.com/u/28630268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mucinoab", "html_url": "https://github.com/mucinoab", "followers_url": "https://api.github.com/users/mucinoab/followers", "following_url": "https://api.github.com/users/mucinoab/following{/other_user}", "gists_url": "https://api.github.com/users/mucinoab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mucinoab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mucinoab/subscriptions", "organizations_url": "https://api.github.com/users/mucinoab/orgs", "repos_url": "https://api.github.com/users/mucinoab/repos", "events_url": "https://api.github.com/users/mucinoab/events{/privacy}", "received_events_url": "https://api.github.com/users/mucinoab/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mucinoab", "id": 28630268, "node_id": "MDQ6VXNlcjI4NjMwMjY4", "avatar_url": "https://avatars.githubusercontent.com/u/28630268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mucinoab", "html_url": "https://github.com/mucinoab", "followers_url": "https://api.github.com/users/mucinoab/followers", "following_url": "https://api.github.com/users/mucinoab/following{/other_user}", "gists_url": "https://api.github.com/users/mucinoab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mucinoab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mucinoab/subscriptions", "organizations_url": "https://api.github.com/users/mucinoab/orgs", "repos_url": "https://api.github.com/users/mucinoab/repos", "events_url": "https://api.github.com/users/mucinoab/events{/privacy}", "received_events_url": "https://api.github.com/users/mucinoab/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-11-10T14:16:53Z", "updated_at": "2022-11-18T19:12:08Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Given the following code:\n\n```rust\nfn main() {\n    let a = 0u128;\n\n    let C = 2.0f64;\n    let D = 1.0f64;\n    assert!(\n        a as f64 < (C + D) / C\n    );\n}\n```\n\nThe current output is:\n\n```\nerror: `<` is interpreted as a start of generic arguments for `f64`, not a comparison\n --> src/main.rs:8:18\n  |\n8 |         a as f64 < (C + D) / C\n  |                  ^ --------- interpreted as generic arguments\n  |                  |\n  |                  not interpreted as comparison\n  |\nhelp: try comparing the cast value\n  |\n8 |         (a as f64) < (C + D) / C\n  |         +        +\n```\n\nWhich is great and exactly why we love Rust so much. But replace `+` with `-` in the example:\n\n```rust\nfn main() {\n    let a = 0u128;\n\n    let C = 2.0f64;\n    let D = 1.0f64;\n    assert!(\n        a as f64 < (C - D) / C\n    );\n}\n```\n\nAnd the output of the compiler is:\n```\nerror: expected one of `!`, `(`, `)`, `+`, `,`, `::`, or `<`, found `-`\n --> src/main.rs:8:23\n  |\n8 |         a as f64 < (C - D) / C\n  |                       ^ expected one of 7 possible tokens\n```\n\nWhich makes some developers doubt their qualification for up to 30 minutes while they try to figure out what the problem is. It would be nice if the sign in the operation would not reduce the quality of the error message so dramatically.\n\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"mucinoab\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/104244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/104244/timeline", "performed_via_github_app": null, "state_reason": null}