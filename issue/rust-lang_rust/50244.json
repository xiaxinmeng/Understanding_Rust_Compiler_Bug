{"url": "https://api.github.com/repos/rust-lang/rust/issues/50244", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/50244/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/50244/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/50244/events", "html_url": "https://github.com/rust-lang/rust/issues/50244", "id": 317916668, "node_id": "MDU6SXNzdWUzMTc5MTY2Njg=", "number": 50244, "title": "dynamic_lib::tests::test_loading_cosine fails", "user": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-26T07:57:13Z", "updated_at": "2020-06-12T01:15:44Z", "closed_at": "2020-06-12T01:15:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "repo is at c18778704c691c172274b23ee80927714ac2acc4\r\nI was doing\r\n````\r\n./x.py build\r\n./x.py test\r\n````\r\nand I get a consistent test failure:\r\n````\r\nTesting rustc_metadata stage1 (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n    Finished release [optimized] target(s) in 0.0 secs\r\n     Running build/x86_64-unknown-linux-gnu/stage1-rustc/x86_64-unknown-linux-gnu/release/deps/rustc_metadata-4bcdddf48b0f4296\r\nrunning 2 tests\r\ntest dynamic_lib::tests::test_errors_do_not_crash ... ok\r\ntest dynamic_lib::tests::test_loading_cosine ... FAILED\r\nfailures:\r\n---- dynamic_lib::tests::test_loading_cosine stdout ----\r\n    thread 'dynamic_lib::tests::test_loading_cosine' panicked at 'Could not load function cos: /home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/stage1-rustc/x86_64-unknown-linux-gnu/release/deps/rustc_metadata-4bcdddf48b0f4296: undefined symbol: cos', librustc_metadata/dynamic_lib.rs:107:31\r\nstack backtrace:\r\n   0:     0x7f8e7e1438ee - std::sys::unix::backtrace::tracing::imp::unwind_backtrace::hd7711ba7924a8a1f\r\n   1:     0x7f8e7e111775 - std::sys_common::backtrace::print::h1acda4d6771eb331\r\n   2:     0x7f8e7e1167cd - std::panicking::default_hook::{{closure}}::hc5d8d048ebef8a31\r\n   3:     0x7f8e7e1164db - std::panicking::default_hook::h59c606fea2a9b915\r\n   4:     0x7f8e7e116dee - std::panicking::rust_panic_with_hook::h8665cc135b44ce6d\r\n   5:     0x7f8e7e116a4c - std::panicking::begin_panic_fmt::h5266c8cce5a7e556\r\n   6:     0x55b048b843d7 - rustc_metadata::dynamic_lib::tests::test_loading_cosine::h41ab293610807d24\r\n   7:     0x7f8e7e20035e - <F as alloc::boxed::FnBox<A>>::call_box::hc16852350f9d9bcd\r\n   8:     0x7f8e7e157799 - __rust_maybe_catch_panic\r\n   9:     0x7f8e7e2142cb - std::sys_common::backtrace::__rust_begin_short_backtrace::h16a8bb07addc2383\r\n  10:     0x7f8e7e22f5fb - std::panicking::try::do_call::h86c0922a00f52f41\r\n  11:     0x7f8e7e157799 - __rust_maybe_catch_panic\r\n  12:     0x7f8e7e215d09 - <F as alloc::boxed::FnBox<A>>::call_box::h5420963491683302\r\n  13:     0x7f8e7e14866c - std::sys_common::thread::start_thread::h8fef518996abb5c6\r\n  14:     0x7f8e7e117465 - std::sys::unix::thread::Thread::new::thread_start::hb5663925265d534f\r\n  15:     0x7f8e7dbc108b - start_thread\r\n  16:     0x7f8e7d6e1e7e - __GI___clone\r\n  17:                0x0 - <unknown>\r\nfailures:\r\n    dynamic_lib::tests::test_loading_cosine\r\ntest result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out\r\nerror: test failed, to rerun pass '--lib'\r\n\r\ncommand did not execute successfully: \"/home/matthias/RUST/rust_build/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\" \"test\" \"--target\" \"x86_64-unknown-linux-gnu\" \"-j\" \"4\" \"--release\" \"--features\" \" jemalloc\" \"--manifest-path\" \"/home/matthias/RUST/rust_build/src/rustc/Cargo.toml\" \"-p\" \"rustc_metadata\" \"--\"\r\nexpected success, got: exit code: 101\r\nfailed to run: /home/matthias/RUST/rust_build/build/bootstrap/debug/bootstrap test\r\nBuild completed unsuccessfully in 0:05:25\r\n````", "closed_by": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/50244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/50244/timeline", "performed_via_github_app": null, "state_reason": "completed"}