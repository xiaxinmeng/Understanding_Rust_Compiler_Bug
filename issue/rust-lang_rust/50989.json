{"url": "https://api.github.com/repos/rust-lang/rust/issues/50989", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/50989/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/50989/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/50989/events", "html_url": "https://github.com/rust-lang/rust/issues/50989", "id": 325549539, "node_id": "MDU6SXNzdWUzMjU1NDk1Mzk=", "number": 50989, "title": "1.26.0 - ppc64 little+big endian compile-fail/asm-* test failures", "user": {"login": "infinity0", "id": 78398, "node_id": "MDQ6VXNlcjc4Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinity0", "html_url": "https://github.com/infinity0", "followers_url": "https://api.github.com/users/infinity0/followers", "following_url": "https://api.github.com/users/infinity0/following{/other_user}", "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions", "organizations_url": "https://api.github.com/users/infinity0/orgs", "repos_url": "https://api.github.com/users/infinity0/repos", "events_url": "https://api.github.com/users/infinity0/events{/privacy}", "received_events_url": "https://api.github.com/users/infinity0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 515028847, "node_id": "MDU6TGFiZWw1MTUwMjg4NDc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-PowerPC", "name": "O-PowerPC", "color": "6e6ec0", "default": false, "description": "Target: PowerPC processors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-23T04:58:13Z", "updated_at": "2020-10-01T16:32:22Z", "closed_at": "2020-10-01T16:32:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Same failures on [Debian](https://buildd.debian.org/status/fetch.php?pkg=rustc&arch=ppc64el&ver=1.26.0%2Bdfsg1-1%7Eexp1&stamp=1527026474&raw=0) and [Fedora](https://kojipkgs.fedoraproject.org/packages/rust/1.26.0/1.fc29/data/logs/ppc64le/build.log)\r\n````\r\ntest [compile-fail] compile-fail/asm-bad-clobber.rs ... FAILED\r\ntest [compile-fail] compile-fail/asm-misplaced-option.rs ... FAILED\r\ntest [compile-fail] compile-fail/asm-out-read-uninit.rs ... FAILED\r\ntest [compile-fail] compile-fail/asm-in-bad-modifier.rs ... FAILED\r\ntest [compile-fail] compile-fail/asm-out-no-modifier.rs ... FAILED\r\ntest [compile-fail] compile-fail/borrowck/borrowck-asm.rs ... FAILED\r\n````\r\nExample details (click the links above and ctrl-F to see more):\r\nasm-bad-clobber:\r\n````\r\n---- [compile-fail] compile-fail/asm-bad-clobber.rs stdout ----\r\n\t\r\n\r\nexecuting \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/stage2/bin/rustc\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/src/test/compile-fail/asm-bad-clobber.rs\" \"-L\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail\" \"--target=powerpc64le-unknown-linux-gnu\" \"--error-format\" \"json\" \"-Zui-testing\" \"-C\" \"prefer-dynamic\" \"-o\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail/asm-bad-clobber.stage2-powerpc64le-unknown-linux-gnu\" \"-Crpath\" \"-O\" \"-Zmiri\" \"-Zunstable-options\" \"-Lnative=/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/native/rust-test-helpers\" \"-L\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail/asm-bad-clobber.stage2-powerpc64le-unknown-linux-gnu.aux\" \"-A\" \"unused\"\r\n------stdout------------------------------\r\n\r\n------stderr------------------------------\r\n{\"message\":\"`main` function not found in crate `asm_bad_clobber`\",\"code\":{\"code\":\"E0601\",\"explanation\":\"\\nNo `main` function was found in a binary crate. To fix this error, add a\\n`main` function. For example:\\n\\n```\\nfn main() {\\n    // Your program will start here.\\n    println!(\\\"Hello world!\\\");\\n}\\n```\\n\\nIf you don't know the basics of Rust, you can go look to the Rust Book to get\\nstarted: https://doc.rust-lang.org/book/\\n\"},\"level\":\"error\",\"spans\":[],\"children\":[{\"message\":\"consider adding a `main` function to `/<<BUILDDIR>>/rustc-1.26.0+dfsg1/src/test/compile-fail/asm-bad-clobber.rs`\",\"code\":null,\"level\":\"note\",\"spans\":[],\"children\":[],\"rendered\":null}],\"rendered\":\"error[E0601]: `main` function not found in crate `asm_bad_clobber`\\n   |\\n   = note: consider adding a `main` function to `/<<BUILDDIR>>/rustc-1.26.0+dfsg1/src/test/compile-fail/asm-bad-clobber.rs`\\n\\n\"}\r\n{\"message\":\"aborting due to previous error\",\"code\":null,\"level\":\"error\",\"spans\":[],\"children\":[],\"rendered\":\"error: aborting due to previous error\\n\\n\"}\r\n{\"message\":\"For more information about this error, try `rustc --explain E0601`.\",\"code\":null,\"level\":\"\",\"spans\":[],\"children\":[],\"rendered\":\"For more information about this error, try `rustc --explain E0601`.\\n\"}\r\n\r\n------------------------------------------\r\n\r\nerror: /<<BUILDDIR>>/rustc-1.26.0+dfsg1/src/test/compile-fail/asm-bad-clobber.rs:29: expected error not found: clobber should not be surrounded by braces\r\n\r\nerror: 0 unexpected errors found, 1 expected errors not found\r\nstatus: exit code: 101\r\ncommand: \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/stage2/bin/rustc\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/src/test/compile-fail/asm-bad-clobber.rs\" \"-L\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail\" \"--target=powerpc64le-unknown-linux-gnu\" \"--error-format\" \"json\" \"-Zui-testing\" \"-C\" \"prefer-dynamic\" \"-o\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail/asm-bad-clobber.stage2-powerpc64le-unknown-linux-gnu\" \"-Crpath\" \"-O\" \"-Zmiri\" \"-Zunstable-options\" \"-Lnative=/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/native/rust-test-helpers\" \"-L\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail/asm-bad-clobber.stage2-powerpc64le-unknown-linux-gnu.aux\" \"-A\" \"unused\"\r\nnot found errors (from test file): [\r\n    Error {\r\n        line_num: 29,\r\n        kind: Some(\r\n            Error\r\n        ),\r\n        msg: \"clobber should not be surrounded by braces\"\r\n    }\r\n]\r\n\r\nthread '[compile-fail] compile-fail/asm-bad-clobber.rs' panicked at 'explicit panic', tools/compiletest/src/runtest.rs:1253:13\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n````\r\nborrowck-asm:\r\n````\r\nexecuting \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/stage2/bin/rustc\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/src/test/compile-fail/borrowck/borrowck-asm.rs\" \"-L\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail\" \"--target=powerpc64le-unknown-linux-gnu\" \"--cfg\" \"ast\" \"--error-format\" \"json\" \"-Zui-testing\" \"-C\" \"prefer-dynamic\" \"-o\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail/borrowck/borrowck-asm.stage2-powerpc64le-unknown-linux-gnu\" \"-Crpath\" \"-O\" \"-Zmiri\" \"-Zunstable-options\" \"-Lnative=/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/native/rust-test-helpers\" \"-L\" \"/<<BUILDDIR>>/rustc-1.26.0+dfsg1/build/powerpc64le-unknown-linux-gnu/test/compile-fail/borrowck/borrowck-asm.stage2-powerpc64le-unknown-linux-gnu.aux\" \"-A\" \"unused\"\r\n------stdout------------------------------\r\n\r\n------stderr------------------------------\r\n\r\n------------------------------------------\r\n\r\nerror in revision `ast`: compile-fail test compiled successfully!\r\n````\r\ncc @cuviper ", "closed_by": {"login": "infinity0", "id": 78398, "node_id": "MDQ6VXNlcjc4Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinity0", "html_url": "https://github.com/infinity0", "followers_url": "https://api.github.com/users/infinity0/followers", "following_url": "https://api.github.com/users/infinity0/following{/other_user}", "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions", "organizations_url": "https://api.github.com/users/infinity0/orgs", "repos_url": "https://api.github.com/users/infinity0/repos", "events_url": "https://api.github.com/users/infinity0/events{/privacy}", "received_events_url": "https://api.github.com/users/infinity0/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/50989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/50989/timeline", "performed_via_github_app": null, "state_reason": "completed"}