{"url": "https://api.github.com/repos/rust-lang/rust/issues/75981", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/75981/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/75981/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/75981/events", "html_url": "https://github.com/rust-lang/rust/issues/75981", "id": 687212270, "node_id": "MDU6SXNzdWU2ODcyMTIyNzA=", "number": 75981, "title": "Next-generation syntax highlighting for rustdoc", "user": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 234876, "node_id": "MDU6TGFiZWwyMzQ4NzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-hard", "name": "E-hard", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Hard / a lot"}, {"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 2499041632, "node_id": "MDU6TGFiZWwyNDk5MDQxNjMy", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-markdown-parsing", "name": "A-markdown-parsing", "color": "f7e101", "default": false, "description": "Area: Markdown parsing for doc-comments"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-27T12:42:55Z", "updated_at": "2022-03-03T10:08:28Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "At the moment, rustdoc uses only the lexer to do syntax highlighting (#75775). This has the benefits of simplicity & performance, and gets us 80% of the way quality wise, but it is not perfect. For example, lexer-based highlighting can't properly detect contextual keywords, glued/split operators, etc. \r\n\r\nWe can and probably should make this better, though this requires a lot of fundamental work on IDE-ification of the compiler\r\n\r\n* the simple thing we can do is to use better heuristic to glue token (https://github.com/rust-lang/rust/pull/75775#discussion_r474794273)\r\n* the next step is to use parser & syntax tree for highlighting. This probably should be done after parser library-ification (https://github.com/rust-lang/compiler-team/issues/338)\r\n* the final step is to overlay semantic info, so that references are colored the same way as the things they refer to (which includes \"clicking on the name should open the name's definition\" as a subtask). This is already available in rust-analyzer, but will take some time to percolate to rustdoc", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/75981/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/75981/timeline", "performed_via_github_app": null, "state_reason": null}