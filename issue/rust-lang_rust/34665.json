{"url": "https://api.github.com/repos/rust-lang/rust/issues/34665", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34665/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34665/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34665/events", "html_url": "https://github.com/rust-lang/rust/issues/34665", "id": 163896858, "node_id": "MDU6SXNzdWUxNjM4OTY4NTg=", "number": 34665, "title": "Create a toplevel build driver that encapsulates building and testing", "user": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-05T16:52:09Z", "updated_at": "2016-11-12T18:07:43Z", "closed_at": "2016-11-12T18:07:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Servo uses mach for this (as a thin wrapper around cargo), but we can just use argparse and the rustbuild scripts.\n\nThe idea is that everything you do with the build system will be through one script. So, building would be `./rustbuild build`, or `./rustbuild build --stage 1`. Testing would be stuff like `./rustbuild test-all` or `./rustbuild test-rpass`. \n\nThe advantage here is that it's self-documenting. Right now we have make targets that aren't even greppable because they are assembled at runtime. This way, you never have to deal with make, and [you have help pages like this](https://gist.github.com/Manishearth/815349ffdd44b45cc74340caa51bb3ec) which let you find exactly what you're looking for.\n\ncc @jonathandturner \n", "closed_by": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34665/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34665/timeline", "performed_via_github_app": null, "state_reason": "completed"}