{"url": "https://api.github.com/repos/rust-lang/rust/issues/92211", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/92211/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/92211/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/92211/events", "html_url": "https://github.com/rust-lang/rust/issues/92211", "id": 1087206641, "node_id": "I_kwDOAAsO6M5AzXTx", "number": 92211, "title": "Compiletest's \"abbreviated\" output can be very misleading", "user": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 602425123, "node_id": "MDU6TGFiZWw2MDI0MjUxMjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-dev-tools", "name": "T-dev-tools", "color": "bfd4f2", "default": false, "description": "Relevant to the dev-tools subteam, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-22T21:37:51Z", "updated_at": "2021-12-22T21:38:15Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Under certain circumstances, `compiletest` will 'abbreviate' the output of tests:\r\n\r\nhttps://github.com/rust-lang/rust/blob/e100ec5bc7cd768ec17d75448b29c9ab4a39272b/src/tools/compiletest/src/read2.rs#L52\r\n\r\nHowever, the `<<<<<< SKIPPED {} BYTES >>>>>>` can easily be missed. I spent quite a while trying to figure out how the incremental compilation system was getting into a certain state without hitting any `debug!` statements, only to find out that a large chunk of the output was getting discarded.\r\n\r\nIdeally, we would remove this 'abbreviation' logic entirely, and just ensure that our tests don't produce too much output. If it's really necessary, then we should require tests to opt in to this behavior, and fail the test if abbreviation is required when the test hasn't explicitly opted in.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/92211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/92211/timeline", "performed_via_github_app": null, "state_reason": null}