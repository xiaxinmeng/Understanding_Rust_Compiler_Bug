{"url": "https://api.github.com/repos/rust-lang/rust/issues/3242", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/3242/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/3242/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/3242/events", "html_url": "https://github.com/rust-lang/rust/issues/3242", "id": 6362543, "node_id": "MDU6SXNzdWU2MzYyNTQz", "number": 3242, "title": "Include name in \"unresolved name\" error messages.", "user": {"login": "nejucomo", "id": 480497, "node_id": "MDQ6VXNlcjQ4MDQ5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/480497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nejucomo", "html_url": "https://github.com/nejucomo", "followers_url": "https://api.github.com/users/nejucomo/followers", "following_url": "https://api.github.com/users/nejucomo/following{/other_user}", "gists_url": "https://api.github.com/users/nejucomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nejucomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nejucomo/subscriptions", "organizations_url": "https://api.github.com/users/nejucomo/orgs", "repos_url": "https://api.github.com/users/nejucomo/repos", "events_url": "https://api.github.com/users/nejucomo/events{/privacy}", "received_events_url": "https://api.github.com/users/nejucomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 239393, "node_id": "MDU6TGFiZWwyMzkzOTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-resolve", "name": "A-resolve", "color": "f7e101", "default": false, "description": "Area: Path resolution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-08-21T21:01:21Z", "updated_at": "2013-05-15T17:37:42Z", "closed_at": "2013-05-15T17:37:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "As commented in #1127 here: https://github.com/mozilla/rust/issues/1127#issuecomment-7913335 there are two confusing error messages when compiling with --test without \"use std\":\n\n```\n$ cat ./test_compile_error_example.rs\nfn inc_int(x: int) -> int { x + 1 }\n\n\n#[test]\nfn test_inc_int() {\n  assert (inc_int(3) == 4);\n}\n\n$ rustc --test ./test_compile_error_example.rs\n./test_compile_error_example.rs:1:0: 1:0 error: unresolved name\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\n./test_compile_error_example.rs:1:0: 1:0 error: use of undeclared module `std::test`\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\n./test_compile_error_example.rs:1:0: 1:0 error: unresolved name: std::test::test_main\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\n./test_compile_error_example.rs:1:0: 1:0 error: unresolved name\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\n./test_compile_error_example.rs:1:0: 1:0 error: use of undeclared module `std::test`\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\n./test_compile_error_example.rs:1:0: 1:0 error: use of undeclared type name `std::test::test_desc`\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\nerror: aborting due to 6 previous errors\n```\n\nThe first and fourth error message are quite ambiguous.  Both say this:\n\n```\n./test_compile_error_example.rs:1:0: 1:0 error: unresolved name\n./test_compile_error_example.rs:1 fn inc_int(x: int) -> int { x + 1 }\n                                  ^\n```\n\nWhich name is unresolved?  All identifiers in the given text are either declared (\"inc_int\" and \"x\") or should be in scope (\"int\" and \"x\").\n\nThis issue would be fixed by including the name in the error message which is unresolvable.\n\nNote that even this fix may still yield confusing error messages due to other issues, such as #1448 or #1127, but this issue is distinct and should be separately addressed.\n", "closed_by": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/3242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/3242/timeline", "performed_via_github_app": null, "state_reason": "completed"}