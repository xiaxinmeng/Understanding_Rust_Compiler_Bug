{"url": "https://api.github.com/repos/rust-lang/rust/issues/79561", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/79561/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/79561/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/79561/events", "html_url": "https://github.com/rust-lang/rust/issues/79561", "id": 753504254, "node_id": "MDU6SXNzdWU3NTM1MDQyNTQ=", "number": 79561, "title": "Don't use RUST_BACKTRACE for std::backtrace", "user": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 1448485701, "node_id": "MDU6TGFiZWwxNDQ4NDg1NzAx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-error-handling", "name": "A-error-handling", "color": "f7e101", "default": false, "description": "Area: Error handling"}, {"id": 2359545530, "node_id": "MDU6TGFiZWwyMzU5NTQ1NTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/PG-error-handling", "name": "PG-error-handling", "color": "c2e0c6", "default": false, "description": "Project Group: Error handling (https://github.com/rust-lang/project-error-handling)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-30T14:02:35Z", "updated_at": "2021-07-23T15:48:18Z", "closed_at": "2021-07-23T15:48:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi.\r\nIt can be very useful in a production environment to know where a `panic` comes from, which you can know by enabling `RUST_BACKTRACE`.\r\nHowever, using the same [environment variable](https://github.com/rust-lang/rust/blob/43bfbb10bf52d1cf6bd90ae2e19bcd357d38be4d/library/std/src/backtrace.rs#L254) for error backtrace could lead to performance regression: your production service might require good performance and collecting a backtrace is very expansive.\r\nSince errors are more often recovered than panics, you might not want to pay the cost of collecting backtraces for errors, while still might want to know the path which lead to a panic.\r\nSo I suggest you don't use `RUST_BACKTRACE` for error backtraces, to have the possibility to only get backtraces on panics, not on normal errors.\r\nThanks.", "closed_by": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/79561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/79561/timeline", "performed_via_github_app": null, "state_reason": "completed"}