{"url": "https://api.github.com/repos/rust-lang/rust/issues/61466", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/61466/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/61466/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/61466/events", "html_url": "https://github.com/rust-lang/rust/issues/61466", "id": 451230019, "node_id": "MDU6SXNzdWU0NTEyMzAwMTk=", "number": 61466, "title": "ICE: index out of bounds", "user": {"login": "scampi", "id": 795879, "node_id": "MDQ6VXNlcjc5NTg3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/795879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scampi", "html_url": "https://github.com/scampi", "followers_url": "https://api.github.com/users/scampi/followers", "following_url": "https://api.github.com/users/scampi/following{/other_user}", "gists_url": "https://api.github.com/users/scampi/gists{/gist_id}", "starred_url": "https://api.github.com/users/scampi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scampi/subscriptions", "organizations_url": "https://api.github.com/users/scampi/orgs", "repos_url": "https://api.github.com/users/scampi/repos", "events_url": "https://api.github.com/users/scampi/events{/privacy}", "received_events_url": "https://api.github.com/users/scampi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234956, "node_id": "MDU6TGFiZWwyMzQ5NTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-codegen", "name": "A-codegen", "color": "f7e101", "default": false, "description": "Area: Code generation"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 307747675, "node_id": "MDU6TGFiZWwzMDc3NDc2NzU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-incr-comp", "name": "A-incr-comp", "color": "f7e101", "default": false, "description": "Area: Incremental compilation"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1359848690, "node_id": "MDU6TGFiZWwxMzU5ODQ4Njkw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-mcve", "name": "E-needs-mcve", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs a Minimal Complete and Verifiable Example"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-02T20:13:33Z", "updated_at": "2019-12-17T08:32:47Z", "closed_at": "2019-12-17T08:32:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I got an ICE when running tests on https://github.com/scampi/rustfmt/tree/xiongmao86-issue3456\r\n\r\n```\r\nrustc 1.36.0-nightly (d35181ad8 2019-05-20)\r\nbinary: rustc\r\ncommit-hash: d35181ad8785fa958e43580a29a982afe02c728f\r\ncommit-date: 2019-05-20\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.36.0-nightly\r\nLLVM version: 8.0\r\n```\r\n\r\n```\r\nthread 'rustc' panicked at 'index out of bounds: the len is 611 but the index is 611', /rustc/d35181ad8785fa958e43580a29a982afe02c728f/src/libcore/slice/mod.rs:2695:10\r\nstack backtrace:\r\n   0:     0x7f29ff3fe5a3 - std::sys::unix::backtrace::tracing::imp::unwind_backtrace::h4240c895ef074e6c\r\n                               at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:39\r\n   1:     0x7f29ff3f63fb - std::sys_common::backtrace::_print::h85732469f5e91569\r\n                               at src/libstd/sys_common/backtrace.rs:71\r\n   2:     0x7f29ff3fa7d6 - std::panicking::default_hook::{{closure}}::h7453219da447228b\r\n                               at src/libstd/sys_common/backtrace.rs:59\r\n                               at src/libstd/panicking.rs:197\r\n   3:     0x7f29ff3fa569 - std::panicking::default_hook::h5a5763a0f6f96470\r\n                               at src/libstd/panicking.rs:211\r\n   4:     0x7f29fd126eb0 - rustc::util::common::panic_hook::h40a6b0402ac96de0\r\n   5:     0x7f29ff3fafc8 - std::panicking::rust_panic_with_hook::h4be2dd51a1409e2e\r\n                               at src/libstd/panicking.rs:478\r\n   6:     0x7f29ff3faa61 - std::panicking::continue_panic_fmt::h61d6f2fc96e05179\r\n                               at src/libstd/panicking.rs:381\r\n   7:     0x7f29ff3fa945 - rust_begin_unwind\r\n                               at src/libstd/panicking.rs:308\r\n   8:     0x7f29ff423c5c - core::panicking::panic_fmt::h315e732055dee1aa\r\n                               at src/libcore/panicking.rs:85\r\n   9:     0x7f29ff423c14 - core::panicking::panic_bounds_check::h683d2ab324274178\r\n                               at src/libcore/panicking.rs:61\r\n  10:     0x7f29fce6c424 - <rustc::ty::query::on_disk_cache::CacheDecoder as serialize::serialize::SpecializedDecoder<syntax_pos::span_encoding::Span>>::specialized_decode::hef8e2452b1d86168\r\n  11:     0x7f29fcde8329 - serialize::serialize::Decoder::read_struct::h33b0239277e2b407\r\n  12:     0x7f29fcdf89ff - serialize::serialize::Decoder::read_seq::h6a0d55bd51d4703f\r\n  13:     0x7f29fcde8b20 - serialize::serialize::Decoder::read_struct::h41905a59c3403897\r\n  14:     0x7f29fcdf71ec - serialize::serialize::Decoder::read_seq::h4ddeb4158bd23a39\r\n  15:     0x7f29fce81ec3 - <rustc::mir::Mir as serialize::serialize::Decodable>::decode::{{closure}}::h5b989d05a5c4a907\r\n  16:     0x7f29fce67826 - rustc::ty::query::on_disk_cache::OnDiskCache::try_load_query_result::hc2eaab7ae64506b4\r\n  17:     0x7f29fcf15645 - rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query::h5f5c9fa8a7600879\r\n  18:     0x7f29fdaba906 - rustc_mir::monomorphize::collector::collect_items_rec::h8a6d22a02bc3cf3a\r\n  19:     0x7f29fdabb59d - rustc_mir::monomorphize::collector::collect_items_rec::h8a6d22a02bc3cf3a\r\n  20:     0x7f29fd9730fd - rustc_mir::monomorphize::collector::collect_crate_mono_items::{{closure}}::hd872a46be74f19c8\r\n  21:     0x7f29fd94c4b6 - rustc::util::common::time::hb3016e70e0c3ccaf\r\n  22:     0x7f29fdab9cf9 - rustc_mir::monomorphize::collector::collect_crate_mono_items::hbe38bada5c50b21e\r\n  23:     0x7f29fd94c34c - rustc::util::common::time::h4ba7591e66bc15cf\r\n  24:     0x7f29fdba6408 - rustc_mir::monomorphize::partitioning::collect_and_partition_mono_items::hdeec2021303965a2\r\n  25:     0x7f29f514bc29 - rustc::ty::query::__query_compute::collect_and_partition_mono_items::h1033fc055ac782a7\r\n  26:     0x7f29f5173348 - rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::collect_and_partition_mono_items>::compute::ha45925b0c18bf89a\r\n  27:     0x7f29f51605c6 - rustc::dep_graph::graph::DepGraph::with_task_impl::hfd8138d423881373\r\n  28:     0x7f29f51aa985 - rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query::hb2b52db37293e8bc\r\n  29:     0x7f29f51cb20c - rustc_codegen_ssa::base::codegen_crate::h19d81e2638f87714\r\n  30:     0x7f29f52231f9 - <rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_utils::codegen_backend::CodegenBackend>::codegen_crate::h70d7c3822e68cdef\r\n  31:     0x7f29fedfb8a6 - rustc::util::common::time::h36791dc77bd8a658\r\n  32:     0x7f29fedc0cea - rustc_interface::passes::start_codegen::h10be19aa5a7f0cba\r\n  33:     0x7f29feda3986 - rustc::ty::context::tls::enter_global::hd5f076e61138ae06\r\n  34:     0x7f29fedc14e0 - rustc_interface::passes::BoxedGlobalCtxt::access::{{closure}}::h96e9d914741bd5a2\r\n  35:     0x7f29fee624a4 - rustc_interface::passes::create_global_ctxt::{{closure}}::h3a0248d19580fca6\r\n  36:     0x7f29fedc0035 - rustc_interface::passes::BoxedGlobalCtxt::enter::h9ea5ae414b4f8994\r\n  37:     0x7f29feda7eff - rustc_interface::queries::Query<T>::compute::h50fa16ab35370818\r\n  38:     0x7f29feeb2293 - rustc_interface::queries::<impl rustc_interface::interface::Compiler>::ongoing_codegen::h4e75d8b561950cee\r\n  39:     0x7f29ff6e5eee - rustc_interface::interface::run_compiler_in_existing_thread_pool::h341a36ff89978958\r\n  40:     0x7f29ff764795 - std::thread::local::LocalKey<T>::with::h6d7fda5052d96fbc\r\n  41:     0x7f29ff707094 - scoped_tls::ScopedKey<T>::set::hfaf08c0381228ba8\r\n  42:     0x7f29ff753301 - syntax::with_globals::h31c144c3250114b0\r\n  43:     0x7f29ff6b44d4 - std::sys_common::backtrace::__rust_begin_short_backtrace::h489c725d3170fb96\r\n  44:     0x7f29ff40c069 - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:85\r\n  45:     0x7f29ff6dff08 - core::ops::function::FnOnce::call_once{{vtable.shim}}::he16f7f8014f4fba5\r\n  46:     0x7f29ff3dd2be - <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once::h8ef6d1bf34fb7980\r\n                               at /rustc/d35181ad8785fa958e43580a29a982afe02c728f/src/liballoc/boxed.rs:704\r\n  47:     0x7f29ff40acdf - std::sys::unix::thread::Thread::new::thread_start::h8ab744ad746ba41c\r\n                               at /rustc/d35181ad8785fa958e43580a29a982afe02c728f/src/liballoc/boxed.rs:704\r\n                               at src/libstd/sys_common/thread.rs:13\r\n                               at src/libstd/sys/unix/thread.rs:79\r\n  48:     0x7f29ff340a91 - start_thread\r\n  49:     0x7f29ff25fcd2 - __clone\r\n  50:                0x0 - <unknown>\r\nquery stack during panic:\r\n#0 [optimized_mir] processing `unit_tests::test_format_code_block::{{closure}}#0`\r\n#1 [collect_and_partition_mono_items] collect_and_partition_mono_items\r\nend of query stack\r\n```", "closed_by": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/61466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/61466/timeline", "performed_via_github_app": null, "state_reason": "completed"}