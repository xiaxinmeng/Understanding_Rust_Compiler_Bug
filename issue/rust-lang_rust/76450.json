{"url": "https://api.github.com/repos/rust-lang/rust/issues/76450", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/76450/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/76450/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/76450/events", "html_url": "https://github.com/rust-lang/rust/issues/76450", "id": 695203201, "node_id": "MDU6SXNzdWU2OTUyMDMyMDE=", "number": 76450, "title": "`missing_doc_code_examples` lint complains about foreign trait implementations", "user": {"login": "skreborn", "id": 1223086, "node_id": "MDQ6VXNlcjEyMjMwODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1223086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skreborn", "html_url": "https://github.com/skreborn", "followers_url": "https://api.github.com/users/skreborn/followers", "following_url": "https://api.github.com/users/skreborn/following{/other_user}", "gists_url": "https://api.github.com/users/skreborn/gists{/gist_id}", "starred_url": "https://api.github.com/users/skreborn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skreborn/subscriptions", "organizations_url": "https://api.github.com/users/skreborn/orgs", "repos_url": "https://api.github.com/users/skreborn/repos", "events_url": "https://api.github.com/users/skreborn/events{/privacy}", "received_events_url": "https://api.github.com/users/skreborn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1472563007, "node_id": "MDU6TGFiZWwxNDcyNTYzMDA3", "url": "https://api.github.com/repos/rust-lang/rust/labels/requires-nightly", "name": "requires-nightly", "color": "76dcde", "default": false, "description": "This issue requires a nightly compiler in some way."}, {"id": 2312141528, "node_id": "MDU6TGFiZWwyMzEyMTQxNTI4", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-doc-coverage", "name": "A-doc-coverage", "color": "f7e101", "default": false, "description": "Area: Calculating how much of a crate has documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-09-07T15:16:30Z", "updated_at": "2021-10-21T10:59:22Z", "closed_at": "2021-10-21T10:59:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `missing_doc_code_examples` lint seems to be erroneously complaining about missing documentation examples where local types implement foreign traits (both from 3rd party crates and the standard library).\r\n\r\nThe example below should pass all checks as far as I can tell:\r\n\r\n```rust\r\n/// Foo.\r\npub struct Foo {\r\n  /// Bar.\r\n  pub bar: i32,\r\n  /// Baz.\r\n  pub baz: i32,\r\n}\r\n\r\nimpl Neg for Foo {\r\n  type Output = Self;\r\n\r\n  #[inline]\r\n  fn neg(self) -> Self::Output {\r\n    Self::Output {\r\n      bar: -self.bar,\r\n      baz: -self.baz,\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHowever, running `cargo doc` results in the following warnings:\r\n\r\n```\r\nwarning: missing code example in this documentation\r\n   --> foo.rs:9:1\r\n    |\r\n    | / impl Neg for Foo {\r\n    | |   type Output = Self;\r\n    | |\r\n    | |   #[inline]\r\n...   |\r\n    | |   }\r\n    | | }\r\n    | |_^\r\n\r\nwarning: missing code example in this documentation\r\n   --> foo.rs:13:3\r\n    |\r\n    | /   fn neg(self) -> Self::Output {\r\n    | |     Self::Output {\r\n    | |       bar: -self.bar,\r\n    | |       baz: -self.baz,\r\n    | |     }\r\n    | |   }\r\n    | |___^\r\n```\r\n\r\n### Meta\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.48.0-nightly (73dc675b9 2020-09-06)\r\nbinary: rustc\r\ncommit-hash: 73dc675b9437c2a51a975a9f58cc66f05463c351\r\ncommit-date: 2020-09-06\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.48.0-nightly\r\nLLVM version: 11.0\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/76450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/76450/timeline", "performed_via_github_app": null, "state_reason": "completed"}