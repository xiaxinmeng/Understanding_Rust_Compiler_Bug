{"url": "https://api.github.com/repos/rust-lang/rust/issues/21752", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21752/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21752/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21752/events", "html_url": "https://github.com/rust-lang/rust/issues/21752", "id": 55910703, "node_id": "MDU6SXNzdWU1NTkxMDcwMw==", "number": 21752, "title": "Diagnostics should mention loop iteration", "user": {"login": "aochagavia", "id": 5196584, "node_id": "MDQ6VXNlcjUxOTY1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aochagavia", "html_url": "https://github.com/aochagavia", "followers_url": "https://api.github.com/users/aochagavia/followers", "following_url": "https://api.github.com/users/aochagavia/following{/other_user}", "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}", "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions", "organizations_url": "https://api.github.com/users/aochagavia/orgs", "repos_url": "https://api.github.com/users/aochagavia/repos", "events_url": "https://api.github.com/users/aochagavia/events{/privacy}", "received_events_url": "https://api.github.com/users/aochagavia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-29T15:11:22Z", "updated_at": "2016-06-30T10:15:30Z", "closed_at": "2016-06-30T10:15:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The code:\n\n```\nfn main() {\n    let v: Vec<i32> = Vec::new();\n    loop {\n        drop(v);\n    }\n}\n```\n\nThe error message:\n\n```\n<anon>:4:14: 4:15 error: use of moved value: `v`\n<anon>:4         drop(v);\n                      ^\n<anon>:4:14: 4:15 note: `v` moved here because it has type `collections::vec::Vec<i32>`, which is non-copyable\n<anon>:4         drop(v);\n                      ^\n```\n\nIn this simple example, it is pretty easy to notice that the error happens in the next iteration. However, usually the code is more complicated than this and the error is very confusing (see [this reddit thread](http://www.reddit.com/r/rust/comments/2u2koa/confusing_use_of_moved_value_error/)). Maybe we could add something like `move happens in the next iteration of the loop`.\n", "closed_by": {"login": "aochagavia", "id": 5196584, "node_id": "MDQ6VXNlcjUxOTY1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aochagavia", "html_url": "https://github.com/aochagavia", "followers_url": "https://api.github.com/users/aochagavia/followers", "following_url": "https://api.github.com/users/aochagavia/following{/other_user}", "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}", "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions", "organizations_url": "https://api.github.com/users/aochagavia/orgs", "repos_url": "https://api.github.com/users/aochagavia/repos", "events_url": "https://api.github.com/users/aochagavia/events{/privacy}", "received_events_url": "https://api.github.com/users/aochagavia/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21752/timeline", "performed_via_github_app": null, "state_reason": "completed"}