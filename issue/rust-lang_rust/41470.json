{"url": "https://api.github.com/repos/rust-lang/rust/issues/41470", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41470/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41470/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41470/events", "html_url": "https://github.com/rust-lang/rust/issues/41470", "id": 223586977, "node_id": "MDU6SXNzdWUyMjM1ODY5Nzc=", "number": 41470, "title": "rustdoc is slow on winapi crate", "user": {"login": "eminence", "id": 402454, "node_id": "MDQ6VXNlcjQwMjQ1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/402454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eminence", "html_url": "https://github.com/eminence", "followers_url": "https://api.github.com/users/eminence/followers", "following_url": "https://api.github.com/users/eminence/following{/other_user}", "gists_url": "https://api.github.com/users/eminence/gists{/gist_id}", "starred_url": "https://api.github.com/users/eminence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eminence/subscriptions", "organizations_url": "https://api.github.com/users/eminence/orgs", "repos_url": "https://api.github.com/users/eminence/repos", "events_url": "https://api.github.com/users/eminence/events{/privacy}", "received_events_url": "https://api.github.com/users/eminence/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-22T19:26:07Z", "updated_at": "2017-04-22T20:21:04Z", "closed_at": "2017-04-22T20:21:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With an empty lib crate with a single dependency on `winapi = \"0.2\"`, rustdoc takes 13 minutes.   I am certain it didn't take this long before, but I've not been able to find an older release that is faster (so could be something strange on my machine).   other crates are not this slow.   CC @retep998 \r\n\r\n```\r\nrustc 1.18.0-nightly (1785bca51 2017-04-21)\r\nbinary: rustc\r\ncommit-hash: 1785bca5137fad1f26e4d3c347cbb68408a28fa9\r\ncommit-date: 2017-04-21\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.18.0-nightly\r\nLLVM version: 3.9\r\n\r\n\r\n   Compiling winapi v0.2.8\r\n Documenting winapi v0.2.8\r\n     Running `rustc --crate-name winapi C:\\Users\\achin\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\winapi-0.2.8\\src\\lib.rs --crate-type lib --emit=dep-info,link -C debuginfo=2 -C metadata=9e8506a37ca459a2 -C extra-filename=-9e8506a37ca459a2 --out-dir z:\\temp\\testhing\\target\\debug\\deps -L dependency=z:\\temp\\testhing\\target\\debug\\deps --cap-lints allow`\r\n     Running `rustdoc --crate-name winapi C:\\Users\\achin\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\winapi-0.2.8\\src\\lib.rs -o z:\\temp\\testhing\\target\\doc -L dependency=z:\\temp\\testhing\\target\\debug\\deps`\r\n Documenting testhing v0.1.0 (file:///Z:/temp/testhing)\r\n     Running `rustdoc --crate-name testhing src\\lib.rs -o z:\\temp\\testhing\\target\\doc -L dependency=z:\\temp\\testhing\\target\\debug\\deps --extern winapi=z:\\temp\\testhing\\target\\debug\\deps\\libwinapi-9e8506a37ca459a2.rlib`\r\n    Finished dev [unoptimized + debuginfo] target(s) in 748.37 secs\r\n```\r\n\r\nBeta:\r\n\r\n```\r\nz:\\temp\\testhing>rustup run beta rustc --verbose --version\r\nrustc 1.17.0-beta.3 (ca3d11832 2017-04-05)\r\nbinary: rustc\r\ncommit-hash: ca3d11832caf6acac4516b976f715b4ed07f48dd\r\ncommit-date: 2017-04-05\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.17.0-beta.3\r\nLLVM version: 3.9\r\n\r\nz:\\temp\\testhing>rustup run beta cargo doc\r\n   Compiling winapi v0.2.8\r\n Documenting winapi v0.2.8\r\n Documenting testhing v0.1.0 (file:///Z:/temp/testhing)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 809.23 secs\r\n```\r\n\r\nStable:\r\n\r\n```\r\nz:\\temp\\testhing>rustup run stable rustc --verbose --version\r\nrustc 1.16.0 (30cf806ef 2017-03-10)\r\nbinary: rustc\r\ncommit-hash: 30cf806ef8881c41821fbd43e5cf3699c5290c16\r\ncommit-date: 2017-03-10\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.16.0\r\nLLVM version: 3.9\r\n\r\nz:\\temp\\testhing>rustup run stable cargo doc\r\n Documenting winapi v0.2.8\r\n   Compiling winapi v0.2.8\r\n Documenting testhing v0.1.0 (file:///Z:/temp/testhing)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 755.20 secs\r\n```\r\n", "closed_by": {"login": "eminence", "id": 402454, "node_id": "MDQ6VXNlcjQwMjQ1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/402454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eminence", "html_url": "https://github.com/eminence", "followers_url": "https://api.github.com/users/eminence/followers", "following_url": "https://api.github.com/users/eminence/following{/other_user}", "gists_url": "https://api.github.com/users/eminence/gists{/gist_id}", "starred_url": "https://api.github.com/users/eminence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eminence/subscriptions", "organizations_url": "https://api.github.com/users/eminence/orgs", "repos_url": "https://api.github.com/users/eminence/repos", "events_url": "https://api.github.com/users/eminence/events{/privacy}", "received_events_url": "https://api.github.com/users/eminence/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41470/timeline", "performed_via_github_app": null, "state_reason": "completed"}