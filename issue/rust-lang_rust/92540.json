{"url": "https://api.github.com/repos/rust-lang/rust/issues/92540", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/92540/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/92540/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/92540/events", "html_url": "https://github.com/rust-lang/rust/issues/92540", "id": 1092843109, "node_id": "I_kwDOAAsO6M5BI3Zl", "number": 92540, "title": "Error message improvement for a missing comma syntax error in `.fold()`", "user": {"login": "catleeball", "id": 43632885, "node_id": "MDQ6VXNlcjQzNjMyODg1", "avatar_url": "https://avatars.githubusercontent.com/u/43632885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catleeball", "html_url": "https://github.com/catleeball", "followers_url": "https://api.github.com/users/catleeball/followers", "following_url": "https://api.github.com/users/catleeball/following{/other_user}", "gists_url": "https://api.github.com/users/catleeball/gists{/gist_id}", "starred_url": "https://api.github.com/users/catleeball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catleeball/subscriptions", "organizations_url": "https://api.github.com/users/catleeball/orgs", "repos_url": "https://api.github.com/users/catleeball/repos", "events_url": "https://api.github.com/users/catleeball/events{/privacy}", "received_events_url": "https://api.github.com/users/catleeball/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-03T21:47:51Z", "updated_at": "2022-01-03T23:59:59Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Given the following code ([play.rust-lang.org link](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=eb1c2f0d199fae770683aa7a0d08a5ee)):\r\n\r\n```rust\r\nfn main() {\r\n    let numbers = vec![1, 2, 3];\r\n\r\n    // Note the missing comma ---------V\r\n    let sum: u8 = numbers.iter().fold(0 |acc, x| acc + x);\r\n\r\n    println!(\"Sum is: {}\", sum);\r\n}\r\n```\r\n\r\nThe current output is (in both stable and nightly):\r\n\r\n```\r\n   Compiling playground v0.0.1 (/playground)\r\nerror[E0425]: cannot find value `acc` in this scope\r\n --> src/main.rs:5:42\r\n  |\r\n5 |     let sum: u8 = numbers.iter().fold(0 |acc, x| acc + x);\r\n  |                                          ^^^ not found in this scope\r\n\r\nerror[E0425]: cannot find value `x` in this scope\r\n --> src/main.rs:5:47\r\n  |\r\n5 |     let sum: u8 = numbers.iter().fold(0 |acc, x| acc + x);\r\n  |                                               ^ not found in this scope\r\n\r\nerror[E0425]: cannot find value `acc` in this scope\r\n --> src/main.rs:5:50\r\n  |\r\n5 |     let sum: u8 = numbers.iter().fold(0 |acc, x| acc + x);\r\n  |                                                  ^^^ not found in this scope\r\n\r\nerror[E0425]: cannot find value `x` in this scope\r\n --> src/main.rs:5:56\r\n  |\r\n5 |     let sum: u8 = numbers.iter().fold(0 |acc, x| acc + x);\r\n  |                                                        ^ not found in this scope\r\n\r\nFor more information about this error, try `rustc --explain E0425`.\r\nerror: could not compile `playground` due to 4 previous errors\r\n```\r\n\r\nIdeally the output should look like:\r\n\r\n```\r\n   Compiling playground v0.0.1 (/playground)\r\nerror[E0425]: cannot find value `acc` in this scope\r\n --> src/main.rs:5:42\r\n  |\r\n5 |     let sum: u8 = numbers.iter().fold(0 |acc, x| acc + x);\r\n   |                                      ^ help: Consider adding a comma after `0`.\r\n```\r\n\r\nJust a small suggestion to help point out an easy syntax mistake that (hopefully) isn't too hard to detect!\r\n\r\nThis could also apply to other functions who take two arguments, (x, func), especially other methods of Iter such as `map()`, `filter()`, etc.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/92540/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/92540/timeline", "performed_via_github_app": null, "state_reason": null}