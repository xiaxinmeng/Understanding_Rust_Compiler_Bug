{"url": "https://api.github.com/repos/rust-lang/rust/issues/89410", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/89410/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/89410/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/89410/events", "html_url": "https://github.com/rust-lang/rust/issues/89410", "id": 1012578858, "node_id": "I_kwDOAAsO6M48Wroq", "number": 89410, "title": "Rust binaries contain path strings that expose system username when using any dependency", "user": {"login": "undersquire", "id": 55647897, "node_id": "MDQ6VXNlcjU1NjQ3ODk3", "avatar_url": "https://avatars.githubusercontent.com/u/55647897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/undersquire", "html_url": "https://github.com/undersquire", "followers_url": "https://api.github.com/users/undersquire/followers", "following_url": "https://api.github.com/users/undersquire/following{/other_user}", "gists_url": "https://api.github.com/users/undersquire/gists{/gist_id}", "starred_url": "https://api.github.com/users/undersquire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/undersquire/subscriptions", "organizations_url": "https://api.github.com/users/undersquire/orgs", "repos_url": "https://api.github.com/users/undersquire/repos", "events_url": "https://api.github.com/users/undersquire/events{/privacy}", "received_events_url": "https://api.github.com/users/undersquire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-09-30T20:11:14Z", "updated_at": "2021-10-01T15:31:29Z", "closed_at": "2021-10-01T15:31:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "On compiling for release, there should not be literal absolute paths exposing my system username (which on some of my devices is my real name) inside the binaries. I understand maybe its necessary in debug binaries (however I still see no reason to pack these absolute paths in) but they should 100% not be present in a release build.\r\n\r\nI have seen many issues reported about this, yet none of them seem to have came to any solution or fix. I have also seen the flag `--remap-path-prefix` but that doesn't fix the issue. The paths still remain even after using this flag.\r\n\r\nPlease let me know if there is any current solution for this, or if it is planned to be fixed in a future release.\r\n\r\nEDIT: Stripping the binary using `strip` or even `cargo strip` tools do not remove the strings either.\r\n\r\n**How to reproduce:**\r\n\r\n- Create rust project\r\n- Add any dependency to the project, like `rand` for example\r\n- Add code to `main.rs` that uses that crate in any way\r\n- Build for release using `cargo build --release`\r\n- Then to see how many times your system name appears in the binary, you can either manually search using a hex editor or if on Unix-like system you can probably use `strings target/release/BINARY_NAME| grep YOUR_SYSTEM_NAME | wc -l`\r\n\r\nFor me, it says my system name appears 20 times in a debug binary and 3 times in a release binary using the `rand` crate and nothing else.\r\n\r\nThis issue does not occur if you have no dependencies.\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.55.0 (c8dfcfe04 2021-09-06)\r\nbinary: rustc\r\ncommit-hash: c8dfcfe046a7680554bf4eb612bad840e7631c4b\r\ncommit-date: 2021-09-06\r\nhost: aarch64-apple-darwin\r\nrelease: 1.55.0\r\nLLVM version: 12.0.1\r\n```", "closed_by": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/89410/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/89410/timeline", "performed_via_github_app": null, "state_reason": "completed"}