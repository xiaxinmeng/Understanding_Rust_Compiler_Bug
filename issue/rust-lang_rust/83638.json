{"url": "https://api.github.com/repos/rust-lang/rust/issues/83638", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/83638/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/83638/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/83638/events", "html_url": "https://github.com/rust-lang/rust/issues/83638", "id": 843170173, "node_id": "MDU6SXNzdWU4NDMxNzAxNzM=", "number": 83638, "title": "Debug assertion failure when error snippet has tab character", "user": {"login": "osa1", "id": 448274, "node_id": "MDQ6VXNlcjQ0ODI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/448274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osa1", "html_url": "https://github.com/osa1", "followers_url": "https://api.github.com/users/osa1/followers", "following_url": "https://api.github.com/users/osa1/following{/other_user}", "gists_url": "https://api.github.com/users/osa1/gists{/gist_id}", "starred_url": "https://api.github.com/users/osa1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osa1/subscriptions", "organizations_url": "https://api.github.com/users/osa1/orgs", "repos_url": "https://api.github.com/users/osa1/repos", "events_url": "https://api.github.com/users/osa1/events{/privacy}", "received_events_url": "https://api.github.com/users/osa1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "osa1", "id": 448274, "node_id": "MDQ6VXNlcjQ0ODI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/448274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osa1", "html_url": "https://github.com/osa1", "followers_url": "https://api.github.com/users/osa1/followers", "following_url": "https://api.github.com/users/osa1/following{/other_user}", "gists_url": "https://api.github.com/users/osa1/gists{/gist_id}", "starred_url": "https://api.github.com/users/osa1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osa1/subscriptions", "organizations_url": "https://api.github.com/users/osa1/orgs", "repos_url": "https://api.github.com/users/osa1/repos", "events_url": "https://api.github.com/users/osa1/events{/privacy}", "received_events_url": "https://api.github.com/users/osa1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "osa1", "id": 448274, "node_id": "MDQ6VXNlcjQ0ODI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/448274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osa1", "html_url": "https://github.com/osa1", "followers_url": "https://api.github.com/users/osa1/followers", "following_url": "https://api.github.com/users/osa1/following{/other_user}", "gists_url": "https://api.github.com/users/osa1/gists{/gist_id}", "starred_url": "https://api.github.com/users/osa1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osa1/subscriptions", "organizations_url": "https://api.github.com/users/osa1/orgs", "repos_url": "https://api.github.com/users/osa1/repos", "events_url": "https://api.github.com/users/osa1/events{/privacy}", "received_events_url": "https://api.github.com/users/osa1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-03-29T09:23:48Z", "updated_at": "2021-03-30T19:34:27Z", "closed_at": "2021-03-30T19:34:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Generated by a simple fuzz tool I'm working on. Repro:\r\n\r\n```rust\r\nfn main() {\r\n    \"\"\"\t\"\r\n}\r\n\r\n```\r\n(note that the second string has a tab)\r\n\r\nError:\r\n\r\n```\r\nthread 'rustc' panicked at 'assertion failed: self.text.iter().all(|r| !r.contains(&\\'\\\\t\\'))', compiler/rustc_errors/src/styled_buffer.rs:19:9\r\n```\r\n\r\n<details>\r\n\r\n<summary>Backtrace:</summary>\r\n\r\n```\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /home/omer/rust/rust/library/std/src/panicking.rs:493:5\r\n   1: core::panicking::panic_fmt\r\n             at /home/omer/rust/rust/library/core/src/panicking.rs:92:14\r\n   2: core::panicking::panic\r\n             at /home/omer/rust/rust/library/core/src/panicking.rs:50:5\r\n   3: rustc_errors::styled_buffer::StyledBuffer::render\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/styled_buffer.rs:19:9\r\n   4: rustc_errors::emitter::EmitterWriter::emit_message_default\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/emitter.rs:1537:30\r\n   5: rustc_errors::emitter::EmitterWriter::emit_messages_default\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/emitter.rs:1715:15\r\n   6: <rustc_errors::emitter::EmitterWriter as rustc_errors::emitter::Emitter>::emit_diagnostic\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/emitter.rs:496:9\r\n   7: rustc_errors::HandlerInner::emit_diagnostic\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/lib.rs:828:13\r\n   8: rustc_errors::Handler::emit_diagnostic\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/lib.rs:756:9\r\n   9: rustc_errors::diagnostic_builder::DiagnosticBuilder::emit\r\n             at /home/omer/rust/rust/compiler/rustc_errors/src/diagnostic_builder.rs:103:9\r\n  10: rustc_parse::parser::stmt::<impl rustc_parse::parser::Parser>::parse_full_stmt\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/stmt.rs:481:25\r\n  11: rustc_parse::parser::stmt::<impl rustc_parse::parser::Parser>::parse_block_tail\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/stmt.rs:415:30\r\n  12: rustc_parse::parser::stmt::<impl rustc_parse::parser::Parser>::parse_block_common\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/stmt.rs:397:13\r\n  13: rustc_parse::parser::stmt::<impl rustc_parse::parser::Parser>::parse_inner_attrs_and_block\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/stmt.rs:378:9\r\n  14: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_fn_body\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:1600:13\r\n  15: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_fn\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:1581:20\r\n  16: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_item_kind\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:232:48\r\n  17: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_item_common_\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:145:20\r\n  18: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_item_common::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:126:28\r\n  19: rustc_parse::parser::attr_wrapper::<impl rustc_parse::parser::Parser>::collect_tokens_trailing_token\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/attr_wrapper.rs:69:23\r\n  20: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_item_common\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:125:13\r\n  21: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_item_\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:91:9\r\n  22: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_item\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:82:9\r\n  23: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_mod\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:59:32\r\n  24: rustc_parse::parser::item::<impl rustc_parse::parser::Parser>::parse_crate_mod\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/parser/item.rs:28:36\r\n  25: rustc_parse::parse_crate_from_file\r\n             at /home/omer/rust/rust/compiler/rustc_parse/src/lib.rs:58:5\r\n  26: rustc_interface::passes::parse::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/passes.rs:58:30\r\n  27: rustc_data_structures::profiling::VerboseTimingGuard::run\r\n             at /home/omer/rust/rust/compiler/rustc_data_structures/src/profiling.rs:573:9\r\n  28: rustc_session::utils::<impl rustc_session::session::Session>::time\r\n             at /home/omer/rust/rust/compiler/rustc_session/src/utils.rs:10:9\r\n  29: rustc_interface::passes::parse\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/passes.rs:57:17\r\n  30: rustc_interface::queries::Queries::parse::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/queries.rs:132:13\r\n  31: rustc_interface::queries::Query<T>::compute\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/queries.rs:40:28\r\n  32: rustc_interface::queries::Queries::parse\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/queries.rs:131:9\r\n  33: rustc_driver::run_compiler::{{closure}}::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_driver/src/lib.rs:336:13\r\n  34: rustc_interface::queries::<impl rustc_interface::interface::Compiler>::enter\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/queries.rs:422:19\r\n  35: rustc_driver::run_compiler::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_driver/src/lib.rs:334:22\r\n  36: rustc_interface::interface::create_compiler_and_run::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/interface.rs:208:13\r\n  37: rustc_span::with_source_map\r\n             at /home/omer/rust/rust/compiler/rustc_span/src/lib.rs:788:5\r\n  38: rustc_interface::interface::create_compiler_and_run\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/interface.rs:202:5\r\n  39: rustc_interface::interface::run_compiler::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/interface.rs:224:12\r\n  40: rustc_interface::util::setup_callbacks_and_run_in_thread_pool_with_globals::{{closure}}::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/util.rs:155:13\r\n  41: scoped_tls::ScopedKey<T>::set\r\n             at /home/omer/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-1.0.0/src/lib.rs:137:9\r\n  42: rustc_span::with_session_globals\r\n             at /home/omer/rust/rust/compiler/rustc_span/src/lib.rs:105:5\r\n  43: rustc_interface::util::setup_callbacks_and_run_in_thread_pool_with_globals::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/util.rs:153:9\r\n  44: rustc_interface::util::scoped_thread::{{closure}}\r\n             at /home/omer/rust/rust/compiler/rustc_interface/src/util.rs:128:24\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n```\r\n\r\n</details>\r\n\r\n@rustbot claim\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"osa1\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/83638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/83638/timeline", "performed_via_github_app": null, "state_reason": "completed"}