{"url": "https://api.github.com/repos/rust-lang/rust/issues/73933", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73933/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73933/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73933/events", "html_url": "https://github.com/rust-lang/rust/issues/73933", "id": 649144994, "node_id": "MDU6SXNzdWU2NDkxNDQ5OTQ=", "number": 73933, "title": "Remove `fn pretty_printing_compatibility_hack `", "user": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 108435, "node_id": "MDU6TGFiZWwxMDg0MzU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-pretty", "name": "A-pretty", "color": "f7e101", "default": false, "description": "Area: Pretty printing."}, {"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 2079070889, "node_id": "MDU6TGFiZWwyMDc5MDcwODg5", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-proc-macros", "name": "A-proc-macros", "color": "f7e101", "default": false, "description": "Area: Procedural macros"}, {"id": 2472368617, "node_id": "MDU6TGFiZWwyNDcyMzY4NjE3", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-proc-macro-back-compat", "name": "A-proc-macro-back-compat", "color": "f7e101", "default": false, "description": "Area: Backwards compatibility hacks for proc macros -s"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-01T17:19:33Z", "updated_at": "2022-09-05T14:31:36Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/rust-lang/rust/pull/73345 adds a hack to support some older versions of `proc-macro-hack` and `procedural-masquerade` which included incorrect asserts.\r\nThe hack detects some specific enums used by those crates literally by their names and names of their variants.\r\n\r\nUsing newer versions of those crates fixes the issues\r\n- `proc-macro-hack` requires a major version bump so it doesn't happen automatically\r\n- for `procedural-masquerade` only a bugfix version update is required, so `cargo update` should do the job, but the old version is fixed in hundreds of `Cargo.lock`s according to crater.\r\n\r\nThis hack needs to be removed eventually.\r\nNow it's July 1 2020, so on July 1 2021 or later we need to run crater once more to estimate the use of these old versions again.\r\nThen we could assume that crates not updating from outdated versions for so long are not maintained and we can break them and remove the hack.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73933/timeline", "performed_via_github_app": null, "state_reason": null}