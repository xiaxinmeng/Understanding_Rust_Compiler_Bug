{"url": "https://api.github.com/repos/rust-lang/rust/issues/32763", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32763/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32763/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32763/events", "html_url": "https://github.com/rust-lang/rust/issues/32763", "id": 146194928, "node_id": "MDU6SXNzdWUxNDYxOTQ5Mjg=", "number": 32763, "title": "[MIR] Call Rvalue for function calls that don't need an unwind block", "user": {"login": "Aatch", "id": 342416, "node_id": "MDQ6VXNlcjM0MjQxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aatch", "html_url": "https://github.com/Aatch", "followers_url": "https://api.github.com/users/Aatch/followers", "following_url": "https://api.github.com/users/Aatch/following{/other_user}", "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions", "organizations_url": "https://api.github.com/users/Aatch/orgs", "repos_url": "https://api.github.com/users/Aatch/repos", "events_url": "https://api.github.com/users/Aatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Aatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 256133398, "node_id": "MDU6TGFiZWwyNTYxMzMzOTg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-mir", "name": "A-mir", "color": "f7e101", "default": false, "description": "Area: Mid-level IR (MIR) - https://blog.rust-lang.org/2016/04/19/MIR.html"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-06T05:59:53Z", "updated_at": "2016-06-09T20:46:19Z", "closed_at": "2016-06-09T20:46:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Current a function call is represented by a terminator with one or two destinations for after the call. This is because LLVM's `invoke` instruction is a terminator. However, it isn't always the case that we need to use a `invoke`, either there's no cleanup to be done, so unwinding doesn't matter, or the function being called won't unwind. This result in having many blocks with unconditional jumps to the next block.\n\nWith this in mind, I wonder if having a Call rvalue would be useful. A good use case for it would be for intrinsic calls, as only a couple could possibly trigger unwinding. A MIR optimisation pass could also turn `Call` terminators into `Call` rvalues + a branch.\n\nIt's possible that it's not worth the extra complexity though.\n", "closed_by": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32763/timeline", "performed_via_github_app": null, "state_reason": "completed"}