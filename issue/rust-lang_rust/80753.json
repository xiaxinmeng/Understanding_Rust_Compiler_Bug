{"url": "https://api.github.com/repos/rust-lang/rust/issues/80753", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/80753/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/80753/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/80753/events", "html_url": "https://github.com/rust-lang/rust/issues/80753", "id": 780636521, "node_id": "MDU6SXNzdWU3ODA2MzY1MjE=", "number": 80753, "title": "Tracking issue for only producing .xz on CI", "user": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}, {"id": 650846969, "node_id": "MDU6TGFiZWw2NTA4NDY5Njk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-tracking-issue", "name": "C-tracking-issue", "color": "f5f1fd", "default": false, "description": "Category: A tracking issue for an RFC or an unstable feature."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-06T15:29:24Z", "updated_at": "2022-12-21T15:53:14Z", "closed_at": "2022-12-21T15:53:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This issue tracks the work needed to only produce .xz tarballs on CI, recompressing them into .gz only during the release process. The effort will greatly reduce the amount of artifacts we need to store.\r\n\r\n**Implementation work needed:**\r\n\r\n* [x] Change `rust-installer` to allow choosing which tarballs to produce https://github.com/rust-lang/rust-installer/pull/105\r\n* [x] Switch CI to only produce .xz tarballs #79788 #80435 \r\n* [x] Increase the specs of the VM running the release process to ensure recompression happens in a timely manner\r\n* [ ] Retroactively delete `.gz` tarballs from the artifacts bucket\r\n\r\n**Bugs caused by this:**\r\n\r\n* [x] Different contents of bare tarballs https://github.com/rust-lang/rust/pull/80397\r\n* [x] `./x.py install` crashed due to a different directory structure https://github.com/rust-lang/rust/issues/80494 https://github.com/rust-lang/rust/pull/80514", "closed_by": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/80753/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/80753/timeline", "performed_via_github_app": null, "state_reason": "completed"}