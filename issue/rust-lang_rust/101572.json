{"url": "https://api.github.com/repos/rust-lang/rust/issues/101572", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/101572/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/101572/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/101572/events", "html_url": "https://github.com/rust-lang/rust/issues/101572", "id": 1366281976, "node_id": "I_kwDOAAsO6M5Rb874", "number": 101572, "title": "`type_alias_impl_trait` fails to correctly resolve bounds.  ", "user": {"login": "MichaelMauderer", "id": 1428930, "node_id": "MDQ6VXNlcjE0Mjg5MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1428930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelMauderer", "html_url": "https://github.com/MichaelMauderer", "followers_url": "https://api.github.com/users/MichaelMauderer/followers", "following_url": "https://api.github.com/users/MichaelMauderer/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelMauderer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelMauderer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelMauderer/subscriptions", "organizations_url": "https://api.github.com/users/MichaelMauderer/orgs", "repos_url": "https://api.github.com/users/MichaelMauderer/repos", "events_url": "https://api.github.com/users/MichaelMauderer/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelMauderer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1472502130, "node_id": "MDU6TGFiZWwxNDcyNTAyMTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-type_alias_impl_trait", "name": "F-type_alias_impl_trait", "color": "f9c0cc", "default": false, "description": "`#[feature(type_alias_impl_trait)]`"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-08T13:01:24Z", "updated_at": "2022-09-08T14:19:26Z", "closed_at": "2022-09-08T14:16:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a regression report! \ud83d\udc1b A regression is something that changed between versions of Rust but was not supposed to.\r\n\r\nPlease provide a short summary of the regression, along with any information you feel is relevant to replicate it.\r\n-->\r\n\r\n### Code\r\n\r\nI tried this code:\r\n\r\n```rust\r\n#![feature(type_alias_impl_trait)]\r\n\r\npub type OnFrameClosure<OnFrame> = impl FnMut();\r\n\r\npub fn on_frame_closure<OnFrame>() -> OnFrameClosure<OnFrame>\r\nwhere\r\n    OnFrame: FnMut(),\r\n{\r\n    move || {\r\n        unimplemented!();\r\n    }\r\n}\r\n```\r\n\r\nThis produces the following error:\r\n\r\n```\r\nerror[E0277]: expected a `FnMut<()>` closure, found `OnFrame`\r\n  --> src/lib.rs:9:5\r\n   |\r\n9  | /     move || {\r\n10 | |         unimplemented!();\r\n11 | |     }\r\n   | |_____^ expected an `FnMut<()>` closure, found `OnFrame`\r\n   |\r\n   = note: wrap the `OnFrame` in a closure with no arguments: `|| { /* code */ }`\r\nnote: required by a bound in `on_frame_closure`\r\n  --> src/lib.rs:7:18\r\n   |\r\n5  | pub fn on_frame_closure<OnFrame>() -> OnFrameClosure<OnFrame>\r\n   |        ---------------- required by a bound in this\r\n6  |     where\r\n7  |         OnFrame: FnMut(),\r\n   |                  ^^^^^^^ required by this bound in `on_frame_closure`\r\nhelp: consider restricting type parameter `OnFrame`\r\n   |\r\n3  | pub type OnFrameClosure<OnFrame: std::ops::FnMut<()>> = impl FnMut();\r\n   |                                +++++++++++++++++++++\r\n\r\nFor more information about this error, try `rustc --explain E0277`.\r\nerror: could not compile `tyoe_alias_bug_test` due to previous error\r\n```\r\n\r\n\r\n### Version it worked on\r\n\r\nIt most recently worked on `nightly-2022-05-14`.\r\n\r\n### Version with regression\r\n\r\nThe first failing version is `nightly-2022-05-15`.\r\n\r\ncargo-bisect-rustc points to a7d6408b05912396618dfdcc9cc713d3ace2aa9a regressed commit. \r\n\r\n\r\n", "closed_by": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/101572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/101572/timeline", "performed_via_github_app": null, "state_reason": "completed"}