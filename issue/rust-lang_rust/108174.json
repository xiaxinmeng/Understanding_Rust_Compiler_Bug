{"url": "https://api.github.com/repos/rust-lang/rust/issues/108174", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/108174/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/108174/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/108174/events", "html_url": "https://github.com/rust-lang/rust/issues/108174", "id": 1589742759, "node_id": "I_kwDOAAsO6M5ewYyn", "number": 108174, "title": "`Copy` supertrait not holding error has empty note", "user": {"login": "BoxyUwU", "id": 21149742, "node_id": "MDQ6VXNlcjIxMTQ5NzQy", "avatar_url": "https://avatars.githubusercontent.com/u/21149742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BoxyUwU", "html_url": "https://github.com/BoxyUwU", "followers_url": "https://api.github.com/users/BoxyUwU/followers", "following_url": "https://api.github.com/users/BoxyUwU/following{/other_user}", "gists_url": "https://api.github.com/users/BoxyUwU/gists{/gist_id}", "starred_url": "https://api.github.com/users/BoxyUwU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BoxyUwU/subscriptions", "organizations_url": "https://api.github.com/users/BoxyUwU/orgs", "repos_url": "https://api.github.com/users/BoxyUwU/repos", "events_url": "https://api.github.com/users/BoxyUwU/events{/privacy}", "received_events_url": "https://api.github.com/users/BoxyUwU/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-17T17:48:50Z", "updated_at": "2023-04-13T09:15:17Z", "closed_at": "2023-04-13T09:15:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Code\n\n```Rust\nstruct Foo {\r\n    a: &'static str\r\n}\r\n\r\nimpl Copy for Foo {}\n```\n\n\n### Current output\n\n```Shell\nerror[E0277]: the trait bound `Foo: Clone` is not satisfied\r\n --> src/lib.rs:5:6\r\n  |\r\n5 | impl Copy for Foo {}\r\n  |      ^^^^ the trait `Clone` is not implemented for `Foo`\r\n  |\r\nnote: required by a bound in `Copy`\r\n --> /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/core/src/marker.rs:391:17\r\n  |\r\n  = note: required by this bound in `Copy`\r\nhelp: consider annotating `Foo` with `#[derive(Clone)]`\r\n  |\r\n1 | #[derive(Clone)]\r\n  |\n```\n\n\n### Desired output\n\n```Shell\nerror[E0277]: the trait bound `Foo: Clone` is not satisfied\r\n --> src/lib.rs:5:6\r\n  |\r\n5 | impl Copy for Foo {}\r\n  |      ^^^^ the trait `Clone` is not implemented for `Foo`\r\n  |\r\nnote: required by a bound in `Copy`\r\n --> /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/core/src/marker.rs:391:17\r\n  |\r\n  | trait Copy: Clone {\r\n  |             ^^^^^ required by this bound in `Copy`\r\n  |\r\nhelp: consider annotating `Foo` with `#[derive(Clone)]`\r\n  |\r\n1 | #[derive(Clone)]\r\n  | ++++++++++++++++ // to be honest I don't remember how exactly the `+++` suggestions are structured\r\n  | struct Foo {\n```\n\n\n### Rationale and extra context\n\nAn empty not is rather confusing and really has no reason to exist and just takes up space, it should actually point to the supertrait like every other error imo (or at the very least have the note removed..) It also seems a bit weird to me that the compiler suggests adding `#[derive(Clone)]` but doesnt make it an actual suggestion with the nice green `++++`\n\n### Other cases\n\n_No response_\n\n### Anything else?\n\n_No response_", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/108174/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/108174/timeline", "performed_via_github_app": null, "state_reason": "completed"}