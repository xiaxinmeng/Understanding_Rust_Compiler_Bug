{"url": "https://api.github.com/repos/rust-lang/rust/issues/25929", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25929/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25929/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25929/events", "html_url": "https://github.com/rust-lang/rust/issues/25929", "id": 83135234, "node_id": "MDU6SXNzdWU4MzEzNTIzNA==", "number": 25929, "title": "ICE when a macro with doc (markdown) escape characters is expanded", "user": {"login": "thelink2012", "id": 5925581, "node_id": "MDQ6VXNlcjU5MjU1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5925581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thelink2012", "html_url": "https://github.com/thelink2012", "followers_url": "https://api.github.com/users/thelink2012/followers", "following_url": "https://api.github.com/users/thelink2012/following{/other_user}", "gists_url": "https://api.github.com/users/thelink2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/thelink2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thelink2012/subscriptions", "organizations_url": "https://api.github.com/users/thelink2012/orgs", "repos_url": "https://api.github.com/users/thelink2012/repos", "events_url": "https://api.github.com/users/thelink2012/events{/privacy}", "received_events_url": "https://api.github.com/users/thelink2012/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-31T16:58:27Z", "updated_at": "2015-07-17T23:58:55Z", "closed_at": "2015-07-17T23:58:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Sample\n\n``` rust\nmacro_rules! buh {\n    (\n        $(#[$attr:meta])*\n        fn bad();\n    ) => {\n        $(#[$attr])*\n        fn bad() {\n        }\n    }\n}\n\nbuh! {\n    /// \\[Not a link\\] (details)\n    fn bad();\n}\n```\n\nWorks fine when not used as a attribute to be expanded by the macro system:\n\n``` rust\n`/// \\[Not a link\\] (details)\nfn fine() {\n}\n\n#[doc=\"\\\\[Not a link\\\\] (details)\"]\nfn fine_too() {\n}\n```\n### Meta\n\n```\nrustc 1.0.0 (a59de37e9 2015-05-13) (built 2015-05-14)\nbinary: rustc\ncommit-hash: a59de37e99060162a2674e3ff45409ac73595c0e\ncommit-date: 2015-05-13\nbuild-date: 2015-05-14\nhost: i686-pc-windows-gnu\nrelease: 1.0.0\n```\n\n**Backtrace:**\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'lexer should have rejected a bad character escape \\[Windows and GTK Only\\] (GTK 2.6)', C:/bo\nt/slave/stable-dist-rustc-win-32/build/src/libcore\\option.rs:330\n\nstack backtrace:\n   1: 0x63102988 - rt::unwind::register::ha3686cf8cb60783c3wv\n   2: 0x630c56fc - rt::unwind::begin_unwind_inner::h6a42beee3bbc278bduv\n   3: 0x630c611f - rt::unwind::begin_unwind_fmt::h2fc1fc2db73eb310Rsv\n   4: 0x63102640 - rust_begin_unwind\n   5: 0x6311cf28 - panicking::panic_fmt::h52b0d659b0d05042wwy\n   6: 0x6a1f6a42 - parse::char_lit::h76da3a3875da6b37cXT\n   7: 0x6a1f86d2 - parse::str_lit::h85149c8921a41c28h2T\n   8: 0x6a1f59b7 - parse::parser::Parser<'a>::lit_from_token::h68fc0ae22c986b30yQG\n   9: 0x6a1fa317 - parse::parser::Parser<'a>::parse_lit::h9f70e38391de0fa2yUG\n  10: 0x6a2482b4 - parse::attr::Parser<'a>.ParserAttr::parse_meta_item::h1c98783168c92ce14kT\n  11: 0x6a423862 - ext::tt::macro_parser::parse_nt::h25dc8b6a526655dfPZf\n  12: 0x6a13ad50 - ext::tt::macro_parser::parse::ha0f605ccc4fd9aa7GJf\n  13: 0x6a137b8f - ast::TokenTree::parse::h79e7e0468b7d782bdCl\n  14: 0x6a42563a - ext::tt::macro_rules::MacroRulesMacroExpander.TTMacroExpander::expand::h96b4da2fbcd98be3Xeg\n  15: 0x6a38044b - ext::expand::expand_item_mac::h6351873f0995efe7tib\n  16: 0x6a37030d - ext::expand::expand_item::hf68f0012c3b848a1scb\n  17: 0x6a36ccd8 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  18: 0x6a379e6f - ext::expand::expand_item::hf68f0012c3b848a1scb\n  19: 0x6a379ae6 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  20: 0x6a374757 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  21: 0x6a3cfc65 - ext::expand::PatIdentRenamer<'a>.Folder::fold_mac::h289ea2cd95f4c5b4CMb\n  22: 0x6a3cfacf - ext::expand::PatIdentRenamer<'a>.Folder::fold_mac::h289ea2cd95f4c5b4CMb\n  23: 0x6a37173b - ext::expand::expand_item::hf68f0012c3b848a1scb\n  24: 0x6a36ccd8 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  25: 0x6a379e6f - ext::expand::expand_item::hf68f0012c3b848a1scb\n  26: 0x6a379ae6 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  27: 0x6a374757 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  28: 0x6a3cfc65 - ext::expand::PatIdentRenamer<'a>.Folder::fold_mac::h289ea2cd95f4c5b4CMb\n  29: 0x6a3cfacf - ext::expand::PatIdentRenamer<'a>.Folder::fold_mac::h289ea2cd95f4c5b4CMb\n  30: 0x6a37173b - ext::expand::expand_item::hf68f0012c3b848a1scb\n  31: 0x6a36ccd8 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  32: 0x6a379e6f - ext::expand::expand_item::hf68f0012c3b848a1scb\n  33: 0x6a379ae6 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  34: 0x6a374757 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  35: 0x6a3cfc65 - ext::expand::PatIdentRenamer<'a>.Folder::fold_mac::h289ea2cd95f4c5b4CMb\n  36: 0x6a3cfacf - ext::expand::PatIdentRenamer<'a>.Folder::fold_mac::h289ea2cd95f4c5b4CMb\n  37: 0x6a37173b - ext::expand::expand_item::hf68f0012c3b848a1scb\n  38: 0x6a36ccd8 - ext::expand::expand_item::hf68f0012c3b848a1scb\n  39: 0x6a3d6f01 - ext::expand::expand_crate::ha0bcd83c140e9790Y9b\n  40: 0x6cd67820 - driver::collect_crate_metadata::h5feaa081cce22dd0E1a\n  41: 0x6cd13930 - driver::phase_2_configure_and_expand::he8982b2f8dc553f7Wsa\n  42: 0x6cd01827 - driver::compile_input::h9a92f42bfe7ee55eQba\n  43: 0x6cdd28dd - run_compiler::h698289cbc458c361z4b\n  44: 0x6cdd04d5 - run::h9be6406276759ec9f4b\n  45: 0x6cdcf9db - run::h9be6406276759ec9f4b\n  46: 0x63100e18 - sys::process2::Command::cwd::h292693c1b697cec3Yeu\n  47: 0x765b7c04 - BaseThreadInitThunk\n  48: 0x76fcad1f - RtlInitializeExceptionChain\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25929/timeline", "performed_via_github_app": null, "state_reason": "completed"}