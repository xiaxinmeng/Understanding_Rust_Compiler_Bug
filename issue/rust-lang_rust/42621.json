{"url": "https://api.github.com/repos/rust-lang/rust/issues/42621", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/42621/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/42621/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/42621/events", "html_url": "https://github.com/rust-lang/rust/issues/42621", "id": 235411214, "node_id": "MDU6SXNzdWUyMzU0MTEyMTQ=", "number": 42621, "title": "New windows_subsystem attribute does not warn or error when erroneous parameter passed in", "user": {"login": "johnthagen", "id": 10340167, "node_id": "MDQ6VXNlcjEwMzQwMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/10340167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnthagen", "html_url": "https://github.com/johnthagen", "followers_url": "https://api.github.com/users/johnthagen/followers", "following_url": "https://api.github.com/users/johnthagen/following{/other_user}", "gists_url": "https://api.github.com/users/johnthagen/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnthagen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnthagen/subscriptions", "organizations_url": "https://api.github.com/users/johnthagen/orgs", "repos_url": "https://api.github.com/users/johnthagen/repos", "events_url": "https://api.github.com/users/johnthagen/events{/privacy}", "received_events_url": "https://api.github.com/users/johnthagen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234948, "node_id": "MDU6TGFiZWwyMzQ5NDg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-attributes", "name": "A-attributes", "color": "f7e101", "default": false, "description": "Area: #[attributes(..)]"}, {"id": 235146, "node_id": "MDU6TGFiZWwyMzUxNDY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-syntaxext", "name": "A-syntaxext", "color": "f7e101", "default": false, "description": "Area: Syntax extensions"}, {"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-13T01:33:06Z", "updated_at": "2019-06-24T15:29:22Z", "closed_at": "2019-06-24T15:29:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See Rust [forum post](https://users.rust-lang.org/t/solved-console-window-still-opens-when-using-windows-subsystem-windows/11318) for more details.\r\n\r\n[Rust 1.18](https://blog.rust-lang.org/2017/06/08/Rust-1.18.html) landed the `windows_subsystem` attribute. The blog post lists the expected usage as:\r\n\r\n```\r\n#![windows_subsystem(windows)]\r\n```\r\n\r\nBut on this program it has no affect:\r\n\r\n```rust\r\n#![windows_subsystem(windows)]\r\n\r\nuse std::{thread, time};\r\n\r\nfn main() {\r\n    let ten_millis = time::Duration::from_secs(3);\r\n    thread::sleep(ten_millis);\r\n}\r\n```\r\n\r\nEven more strangely, arbitrary input is silently ignored with no warning or error:\r\n\r\n```rust\r\n#![windows_subsystem(batman)]\r\n\r\nuse std::{thread, time};\r\n\r\nfn main() {\r\n    let ten_millis = time::Duration::from_secs(3);\r\n    thread::sleep(ten_millis);\r\n}\r\n```\r\n\r\nI believe that there should be some kind of error or warning here to help users more quickly catch these sorts of errors, or perhaps the whole attribute has some other flaw that wasn't caught?\r\n\r\n### Configuration\r\n\r\n```\r\nactive toolchain\r\n----------------\r\n\r\nstable-x86_64-pc-windows-msvc (default)\r\nrustc 1.18.0 (03fc9d622 2017-06-06)\r\n```", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/42621/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 3, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/42621/timeline", "performed_via_github_app": null, "state_reason": "completed"}