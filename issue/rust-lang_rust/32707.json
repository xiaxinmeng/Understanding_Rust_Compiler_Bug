{"url": "https://api.github.com/repos/rust-lang/rust/issues/32707", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32707/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32707/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32707/events", "html_url": "https://github.com/rust-lang/rust/issues/32707", "id": 145524790, "node_id": "MDU6SXNzdWUxNDU1MjQ3OTA=", "number": 32707, "title": "ICE compiling lalrpop", "user": {"login": "Swatinem", "id": 580492, "node_id": "MDQ6VXNlcjU4MDQ5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/580492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Swatinem", "html_url": "https://github.com/Swatinem", "followers_url": "https://api.github.com/users/Swatinem/followers", "following_url": "https://api.github.com/users/Swatinem/following{/other_user}", "gists_url": "https://api.github.com/users/Swatinem/gists{/gist_id}", "starred_url": "https://api.github.com/users/Swatinem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Swatinem/subscriptions", "organizations_url": "https://api.github.com/users/Swatinem/orgs", "repos_url": "https://api.github.com/users/Swatinem/repos", "events_url": "https://api.github.com/users/Swatinem/events{/privacy}", "received_events_url": "https://api.github.com/users/Swatinem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-03T18:09:48Z", "updated_at": "2016-04-03T18:13:45Z", "closed_at": "2016-04-03T18:13:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "CC @nikomatsakis \n\nWith a recent nightly from AUR (rust-nightly-bin):\n`rustc 1.9.0-nightly (c8b8eb1fd 2016-04-01)` (also with an older nightly from 3-28, but I just updated to check a newer version)\n\nI get the following trying to compile lalrpop:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'assertion failed: declare::get_defined_value(ccx, &symbol).is_none()', ../src/librustc_trans/monomorphize.rs:94\nstack backtrace:\n   1:     0x7f5dca1422c0 - std::sys::backtrace::tracing::imp::write::hc787ac7b725fc252\n   2:     0x7f5dca14f98b - std::panicking::default_hook::_$u7b$$u7b$closure$u7d$$u7d$::hff309ab1d83ffd90\n   3:     0x7f5dca14f527 - std::panicking::default_hook::h08ad3bb09872855b\n   4:     0x7f5dca1132bf - std::sys_common::unwind::begin_unwind_inner::hfa66df7b3e69707e\n   5:     0x7f5dc8cc637f - std::sys_common::unwind::begin_unwind::h422885d31fe250dc\n   6:     0x7f5dc8d6dbc8 - rustc_trans::callee::get_fn::h80509230b00b2d45\n   7:     0x7f5dc8d18b80 - rustc_trans::callee::Callee::def::ha59f7b3a44ed318c\n   8:     0x7f5dc8ddd657 - rustc_trans::glue::trans_struct_drop::hdf610ff8cbc85372\n   9:     0x7f5dc8dda36f - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  10:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  11:     0x7f5dc8dde84a - rustc_trans::base::iter_structural_ty::hb996c6f6439d346e\n  12:     0x7f5dc8dda471 - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  13:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  14:     0x7f5dc8de05df - rustc_trans::base::iter_structural_ty::iter_variant::hcb339d0d96e6a30e\n  15:     0x7f5dc8ddf1f6 - rustc_trans::base::iter_structural_ty::hb996c6f6439d346e\n  16:     0x7f5dc8dda471 - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  17:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  18:     0x7f5dc8de05df - rustc_trans::base::iter_structural_ty::iter_variant::hcb339d0d96e6a30e\n  19:     0x7f5dc8ddf1f6 - rustc_trans::base::iter_structural_ty::hb996c6f6439d346e\n  20:     0x7f5dc8dda471 - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  21:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  22:     0x7f5dc8dde84a - rustc_trans::base::iter_structural_ty::hb996c6f6439d346e\n  23:     0x7f5dc8dda471 - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  24:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  25:     0x7f5dc8de05df - rustc_trans::base::iter_structural_ty::iter_variant::hcb339d0d96e6a30e\n  26:     0x7f5dc8ddf1f6 - rustc_trans::base::iter_structural_ty::hb996c6f6439d346e\n  27:     0x7f5dc8dda471 - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  28:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  29:     0x7f5dc8de05df - rustc_trans::base::iter_structural_ty::iter_variant::hcb339d0d96e6a30e\n  30:     0x7f5dc8ddf1f6 - rustc_trans::base::iter_structural_ty::hb996c6f6439d346e\n  31:     0x7f5dc8dda471 - rustc_trans::glue::get_drop_glue_core::he8ee956e8079a382\n  32:     0x7f5dc8d86b45 - rustc_trans::glue::drop_ty_core::hc06aa6b2c77ee88e\n  33:     0x7f5dc8d85410 - _<cleanup..DropValue<'tcx> as cleanup..Cleanup<'tcx>>::trans::hfe743496a676c6bd\n  34:     0x7f5dc8d849b7 - _<common..FunctionContext<'blk, 'tcx> as cleanup..CleanupHelperMethods<'blk, 'tcx>>::trans_cleanups_to_exit_scope::h70ffd6084bb51bb8\n  35:     0x7f5dc8d860bb - _<common..FunctionContext<'blk, 'tcx> as cleanup..CleanupHelperMethods<'blk, 'tcx>>::get_or_create_landing_pad::hab4f305faaf87d7c\n  36:     0x7f5dc8d22393 - _<common..FunctionContext<'blk, 'tcx> as cleanup..CleanupMethods<'blk, 'tcx>>::get_landing_pad::he3727711541cdf63\n  37:     0x7f5dc8d21f80 - rustc_trans::base::invoke::ha7baf7e086d93914\n  38:     0x7f5dc8d17daa - rustc_trans::callee::Callee::call::h40441c69ded50749\n  39:     0x7f5dc8dca3ae - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  40:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  41:     0x7f5dc8e26476 - rustc_trans::tvec::write_content::h83dc10dc59860634\n  42:     0x7f5dc8dc9b9a - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  43:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  44:     0x7f5dc8dfaaae - rustc_trans::_match::trans_match_inner::hbdd6056757522568\n  45:     0x7f5dc8dc8a65 - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  46:     0x7f5dc8dc80ad - rustc_trans::expr::trans_unadjusted::h1c3be1e5aa61621c\n  47:     0x7f5dc8d80599 - rustc_trans::expr::trans::h542fffcc984b03b8\n  48:     0x7f5dc8dd1740 - rustc_trans::expr::trans_addr_of::h14be6b3556c791ca\n  49:     0x7f5dc8dc83cf - rustc_trans::expr::trans_unadjusted::h1c3be1e5aa61621c\n  50:     0x7f5dc8d80599 - rustc_trans::expr::trans::h542fffcc984b03b8\n  51:     0x7f5dc8d7f2fe - rustc_trans::callee::trans_args::h37f20c0adfb653a6\n  52:     0x7f5dc8d17cf2 - rustc_trans::callee::Callee::call::h40441c69ded50749\n  53:     0x7f5dc8dca3ae - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  54:     0x7f5dc8dc80ad - rustc_trans::expr::trans_unadjusted::h1c3be1e5aa61621c\n  55:     0x7f5dc8d80599 - rustc_trans::expr::trans::h542fffcc984b03b8\n  56:     0x7f5dc8d7f2fe - rustc_trans::callee::trans_args::h37f20c0adfb653a6\n  57:     0x7f5dc8d17cf2 - rustc_trans::callee::Callee::call::h40441c69ded50749\n  58:     0x7f5dc8dca3ae - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  59:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  60:     0x7f5dc8d3fb43 - rustc_trans::expr::trans_adt::hf83582e033cb0e29\n  61:     0x7f5dc8dca034 - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  62:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  63:     0x7f5dc8d3fb43 - rustc_trans::expr::trans_adt::hf83582e033cb0e29\n  64:     0x7f5dc8d3f2f8 - rustc_trans::base::trans_named_tuple_constructor::h3a73ffa2a25f5ce2\n  65:     0x7f5dc8d178de - rustc_trans::callee::Callee::call::h40441c69ded50749\n  66:     0x7f5dc8dca3ae - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  67:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  68:     0x7f5dc8dcd307 - rustc_trans::expr::trans_rvalue_stmt_unadjusted::hc0f68c4825c463a3\n  69:     0x7f5dc8d4155f - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  70:     0x7f5dc8dfaaae - rustc_trans::_match::trans_match_inner::hbdd6056757522568\n  71:     0x7f5dc8dc8a65 - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  72:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  73:     0x7f5dc8e0435d - rustc_trans::_match::mk_binding_alloca::h48ba7e46da50b940\n  74:     0x7f5dc8d2358d - rustc_trans::base::init_local::h5b725441afc1979c\n  75:     0x7f5dc8d38ad4 - rustc_trans::controlflow::trans_block::h85160ce006cd8aa8\n  76:     0x7f5dc8dc9ad0 - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  77:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  78:     0x7f5dc8d38dfd - rustc_trans::controlflow::trans_block::h85160ce006cd8aa8\n  79:     0x7f5dc8d37177 - rustc_trans::base::trans_closure::h2b7da2bc6c23f7b2\n  80:     0x7f5dc8d88eb3 - rustc_trans::closure::trans_closure_expr::hfd53eb0252594d76\n  81:     0x7f5dc8dcb033 - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  82:     0x7f5dc8dc80ad - rustc_trans::expr::trans_unadjusted::h1c3be1e5aa61621c\n  83:     0x7f5dc8d80599 - rustc_trans::expr::trans::h542fffcc984b03b8\n  84:     0x7f5dc8d7f2fe - rustc_trans::callee::trans_args::h37f20c0adfb653a6\n  85:     0x7f5dc8d17cf2 - rustc_trans::callee::Callee::call::h40441c69ded50749\n  86:     0x7f5dc8dca3ae - rustc_trans::expr::trans_rvalue_dps_unadjusted::h2767d79242f1a8da\n  87:     0x7f5dc8d41584 - rustc_trans::expr::trans_into::hccfa250f984a4de0\n  88:     0x7f5dc8d38dfd - rustc_trans::controlflow::trans_block::h85160ce006cd8aa8\n  89:     0x7f5dc8d37177 - rustc_trans::base::trans_closure::h2b7da2bc6c23f7b2\n  90:     0x7f5dc8d396c0 - rustc_trans::base::trans_fn::h9d408db44d2e9f24\n  91:     0x7f5dc8d44389 - rustc_trans::base::trans_item::h6ce564dd6c26e0a3\n  92:     0x7f5dc8d5d58b - _<base..TransItemsWithinModVisitor<'a, 'tcx> as rustc_front..intravisit..Visitor<'v>>::visit_item::h17575fb313345f09\n  93:     0x7f5dc8d5b587 - rustc_front::intravisit::walk_item::h3f8f84eead983919\n  94:     0x7f5dc8d4af3f - rustc_trans::base::trans_crate::h1aff7a8470cdce2a\n  95:     0x7f5dca69a938 - rustc_driver::driver::phase_4_translate_to_llvm::h7b8775f4874fc83b\n  96:     0x7f5dca6991c5 - rustc_driver::driver::compile_input::_$u7b$$u7b$closure$u7d$$u7d$::h31c654547881d0b4\n  97:     0x7f5dca695da8 - rustc_driver::driver::phase_3_run_analysis_passes::_$u7b$$u7b$closure$u7d$$u7d$::h25b1c02cc580d282\n  98:     0x7f5dca68fd5b - rustc::ty::context::TyCtxt::create_and_enter::h567cfc6893966048\n  99:     0x7f5dca68c7d9 - rustc_driver::driver::phase_3_run_analysis_passes::h925d8f426a8a3ebf\n  100:     0x7f5dca65f1f7 - rustc_driver::driver::compile_input::h4de0250909a780b6\n ... <frames omitted>\n\nerror: Could not compile `lalrpop`.\n\nCaused by:\n  Process didn't exit successfully: `rustc /home/swatinem/.cargo/registry/src/github.com-88ac128001ac3a9a/lalrpop-0.11.0/src/lib.rs --crate-name lalrpop --crate-type lib -g -C metadata=d6baa27f98fc7538 -C extra-filename=-d6baa27f98fc7538 --out-dir /home/swatinem/Coding/aoc/target/debug/deps --emit=dep-info,link -L dependency=/home/swatinem/Coding/aoc/target/debug/deps -L dependency=/home/swatinem/Coding/aoc/target/debug/deps --extern lalrpop_util=/home/swatinem/Coding/aoc/target/debug/deps/liblalrpop_util-fc198bc338d83459.rlib --extern bitflags=/home/swatinem/Coding/aoc/target/debug/deps/libbitflags-b378ff20d60f43f8.rlib --extern time=/home/swatinem/Coding/aoc/target/debug/deps/libtime-71756e48b8b5b73b.rlib --extern unicode_xid=/home/swatinem/Coding/aoc/target/debug/deps/libunicode_xid-9c8b45f5e57093ce.rlib --extern diff=/home/swatinem/Coding/aoc/target/debug/deps/libdiff-d9bb0ab208d478fa.rlib --extern petgraph=/home/swatinem/Coding/aoc/target/debug/deps/libpetgraph-2d6284604570cec3.rlib --extern regex_syntax=/home/swatinem/Coding/aoc/target/debug/deps/libregex_syntax-a3eb2be3b16af627.rlib --extern bit_set=/home/swatinem/Coding/aoc/target/debug/deps/libbit_set-453e2d4234e0c726.rlib --extern itertools=/home/swatinem/Coding/aoc/target/debug/deps/libitertools-7b9bc1f2f9fa9b1f.rlib --extern regex=/home/swatinem/Coding/aoc/target/debug/deps/libregex-b6716f29e484adea.rlib --extern rustc_serialize=/home/swatinem/Coding/aoc/target/debug/deps/librustc_serialize-e1b49f9d5f55eb83.rlib --extern term=/home/swatinem/Coding/aoc/target/debug/deps/libterm-585dc449d37783e7.rlib --extern lalrpop_intern=/home/swatinem/Coding/aoc/target/debug/deps/liblalrpop_intern-5373a63480b79f96.rlib --extern docopt=/home/swatinem/Coding/aoc/target/debug/deps/libdocopt-bf1b771f6864695e.rlib --extern atty=/home/swatinem/Coding/aoc/target/debug/deps/libatty-1f5011c4825b8c16.rlib --cap-lints allow` (exit code: 101)\n```\n", "closed_by": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32707/timeline", "performed_via_github_app": null, "state_reason": "completed"}