{"url": "https://api.github.com/repos/rust-lang/rust/issues/51086", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/51086/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/51086/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/51086/events", "html_url": "https://github.com/rust-lang/rust/issues/51086", "id": 326744716, "node_id": "MDU6SXNzdWUzMjY3NDQ3MTY=", "number": 51086, "title": "Many attempted to read undefined bytes errors with miri", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-26T15:05:31Z", "updated_at": "2018-06-01T10:47:54Z", "closed_at": "2018-06-01T10:47:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nerror: attempted to read undefined bytes\r\n\r\nERROR 2018-05-26T14:44:50Z: rustc_mir::interpret::eval_context: \r\n\r\nAn error occurred in miri:\r\nbacktrace frames: 27\r\n0: backtrace::backtrace::trace::h85503c2e4e338460\r\n\tat <unknown_file>\r\n1: backtrace::capture::Backtrace::new_unresolved::h51246d60a53a8bdc\r\n\tat <unknown_file>\r\n2: _$LT$rustc..mir..interpret..error..EvalError$LT$$u27$tcx$GT$$u20$as$u20$core..convert..From$LT$rustc..mir..interpret..error..EvalErrorKind$LT$$u27$tcx$C$$u20$u64$GT$$GT$$GT$::from::h4d30d3209764fd49\r\n\tat <unknown_file>\r\n3: rustc::mir::interpret::value::Scalar::to_bits::h85909ebea5cc3804\r\n\tat <unknown_file>\r\n4: rustc_mir::interpret::terminator::_$LT$impl$u20$rustc_mir..interpret..eval_context..EvalContext$LT$$u27$a$C$$u20$$u27$mir$C$$u20$$u27$tcx$C$$u20$M$GT$$GT$::eval_terminator::h69abb3bb79aab288\r\n\tat /Users/travis/build/rust-lang/rust/src/librustc_mir/interpret/terminator/mod.rs:47\r\n5: rustc_mir::interpret::step::_$LT$impl$u20$rustc_mir..interpret..eval_context..EvalContext$LT$$u27$a$C$$u20$$u27$mir$C$$u20$$u27$tcx$C$$u20$M$GT$$GT$::terminator::hdd1ce4d831f07250\r\n\tat /Users/travis/build/rust-lang/rust/src/librustc_mir/interpret/step.rs:109\r\n6: rustc_mir::interpret::step::_$LT$impl$u20$rustc_mir..interpret..eval_context..EvalContext$LT$$u27$a$C$$u20$$u27$mir$C$$u20$$u27$tcx$C$$u20$M$GT$$GT$::step::h7b4b7c429541cd9b\r\n\tat /Users/travis/build/rust-lang/rust/src/librustc_mir/interpret/step.rs:43\r\n7: miri::eval_main::run_main::h9c72be881571a562\r\n\tat src/lib.rs:232\r\n8: miri::eval_main::h9d8ab3b0d25eb037\r\n\tat src/lib.rs:245\r\n9: miri::after_analysis::h1dc1a8379cb87900\r\n\tat src/bin/miri.rs:147\r\n10: _$LT$miri..MiriCompilerCalls$u20$as$u20$rustc_driver..CompilerCalls$LT$$u27$a$GT$$GT$::build_controller::_$u7b$$u7b$closure$u7d$$u7d$::hbed7da9498dc169f\r\n\tat src/bin/miri.rs:88\r\n11: rustc::ty::context::tls::with_context::h434a73bf87917666\r\n\tat <unknown_file>\r\n12: rustc_driver::driver::compile_input::_$u7b$$u7b$closure$u7d$$u7d$::h54692425a596d732\r\n\tat <unknown_file>\r\n13: rustc::ty::context::tls::enter_context::hdfa81ea4757b9ad4\r\n\tat <unknown_file>\r\n14: _$LT$std..thread..local..LocalKey$LT$T$GT$$GT$::with::hfbf5029193cab3f2\r\n\tat <unknown_file>\r\n15: rustc::ty::context::TyCtxt::create_and_enter::hfc13991376fb466d\r\n\tat <unknown_file>\r\n16: rustc_driver::driver::compile_input::he7ba295ba0b6472f\r\n\tat <unknown_file>\r\n17: rustc_driver::run_compiler_with_pool::h39dace11c41da12a\r\n\tat <unknown_file>\r\n18: syntax::with_globals::h39d73970aba4a7ab\r\n\tat <unknown_file>\r\n19: rustc_driver::run_compiler::hf76541365053c7e0\r\n\tat <unknown_file>\r\n20: miri::main::hd88a1c4b352e05a3\r\n\tat src/bin/miri.rs:237\r\n21: std::rt::lang_start::_$u7b$$u7b$closure$u7d$$u7d$::hf5b1442a7c729874\r\n\tat /Users/travis/build/rust-lang/rust/src/libstd/rt.rs:74\r\n22: std::panicking::try::do_call::hfd75cf9e05cc5943 (.llvm.9696875478146817961)\r\n\tat <unknown_file>\r\n23: __rust_maybe_catch_panic\r\n\tat <unknown_file>\r\n24: std::rt::lang_start_internal::h36f7afe722d0078f\r\n\tat <unknown_file>\r\n25: std::rt::lang_start::he4af6349eec3f416\r\n\tat /Users/travis/build/rust-lang/rust/src/libstd/rt.rs:74\r\n26: main\r\n\tat <unknown_file>\r\n\r\nerror[E0080]: constant evaluation error\r\n   --> /Users/bjorn/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/src/rust/src/libcore/result.rs:747:13\r\n    |\r\n747 |             Ok(t) => t,\r\n    |             ^^^^^ attempted to read undefined bytes\r\n    |\r\nnote: inside call to `<std::result::Result<T, E>><(), std::collections::CollectionAllocErr>::unwrap_or_else::<[closure@DefId(4/1:226 ~ alloc[e00a]::raw_vec[0]::{{impl}}[0]::allocate_in[0]::{{closure}}[1])]>`\r\n   --> /Users/bjorn/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/src/rust/src/liballoc/raw_vec.rs:92:13\r\n    |\r\n92  |             alloc_guard(alloc_size).unwrap_or_else(|_| capacity_overflow());\r\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nnote: inside call to `<alloc::raw_vec::RawVec<T, A>><(), std::heap::Global>::allocate_in`\r\n   --> /Users/bjorn/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/src/rust/src/liballoc/raw_vec.rs:146:9\r\n    |\r\n146 |         RawVec::allocate_in(cap, false, Global)\r\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nnote: inside call to `<alloc::raw_vec::RawVec<T>><()>::with_capacity`\r\n   --> /Users/bjorn/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/src/rust/src/liballoc/vec.rs:362:18\r\n    |\r\n362 |             buf: RawVec::with_capacity(capacity),\r\n    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nnote: inside call to `<std::vec::Vec<T>><()>::with_capacity`\r\n   --> /Users/bjorn/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/src/rust/src/liballoc/binary_heap.rs:342:28\r\n    |\r\n342 |         BinaryHeap { data: Vec::with_capacity(capacity) }\r\n    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nnote: inside call to `<std::collections::BinaryHeap<T>><()>::with_capacity`\r\n   --> tests/run-pass/zero-sized-binary-heap-push.rs:18:26\r\n    |\r\n18  |         let mut tester = BinaryHeap::with_capacity(len);\r\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```", "closed_by": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/51086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/51086/timeline", "performed_via_github_app": null, "state_reason": "completed"}