{"url": "https://api.github.com/repos/rust-lang/rust/issues/66193", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/66193/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/66193/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/66193/events", "html_url": "https://github.com/rust-lang/rust/issues/66193", "id": 519392647, "node_id": "MDU6SXNzdWU1MTkzOTI2NDc=", "number": 66193, "title": "[Installing rust] Small suggestion for possible improvement", "user": {"login": "rubyFeedback", "id": 46686565, "node_id": "MDQ6VXNlcjQ2Njg2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46686565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rubyFeedback", "html_url": "https://github.com/rubyFeedback", "followers_url": "https://api.github.com/users/rubyFeedback/followers", "following_url": "https://api.github.com/users/rubyFeedback/following{/other_user}", "gists_url": "https://api.github.com/users/rubyFeedback/gists{/gist_id}", "starred_url": "https://api.github.com/users/rubyFeedback/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rubyFeedback/subscriptions", "organizations_url": "https://api.github.com/users/rubyFeedback/orgs", "repos_url": "https://api.github.com/users/rubyFeedback/repos", "events_url": "https://api.github.com/users/rubyFeedback/events{/privacy}", "received_events_url": "https://api.github.com/users/rubyFeedback/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-07T16:58:38Z", "updated_at": "2019-11-08T17:20:22Z", "closed_at": "2019-11-08T17:17:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there,\r\n\r\nI am on linux but I managed to break my local openssl installation. I will fix this later,\r\nbut I was also trying to compile librsvg, and this needs rust, so I needed rust.\r\n\r\nI went this way:\r\n\r\n  curl https://sh.rustup.rs -sSf | sh\r\n\r\nBut this then failed via:\r\n\r\n\r\n-> \r\n\r\n\r\ninfo: profile set to 'default'\r\ninfo: syncing channel updates for 'stable-x86_64-unknown-linux-gnu'\r\ninfo: latest update on 2019-11-07, rust version 1.39.0 (4560ea788 2019-11-04)\r\ninfo: downloading component 'cargo'\r\n  4.7 MiB /   4.7 MiB (100 %)   4.7 MiB/s in  1s ETA:  0s\r\ninfo: downloading component 'clippy'\r\n  1.8 MiB /   1.8 MiB (100 %) 431.0 KiB/s in  1s ETA:  0s\r\ninfo: downloading component 'rust-docs'\r\n 11.8 MiB /  11.8 MiB (100 %) 783.4 KiB/s in 23s ETA:  0s\r\ninfo: downloading component 'rust-std'\r\n176.4 MiB / 176.4 MiB (100 %)   2.6 MiB/s in  4m  6s ETA:  0s     \r\ninfo: downloading component 'rustc'\r\n 43.1 MiB /  66.3 MiB ( 65 %) 938.0 KiB/s in  2m 37s ETA: 25serror: component download failed for rustc-x86_64-unknown-linux-gnu\r\nerror: caused by: could not download file from 'https://static.rust-lang.org/dist/2019-11-07/rustc-1.39.0-x86_64-unknown-linux-gnu.tar.xz' to '/root/.rustup/downloads/5b2a435a4c034615d70cfc383abe9924cbd1ffd4669caa55ce6539f22ed979ed.partial'\r\nerror: caused by: error reading from socket\r\nerror: caused by: timed out\r\n\r\nI think it failed due to requiring https.\r\n\r\nI then went to simply download rustup-init, and this one worked fine. So the only real\r\nissue here for me is one of convenience, the more \"manual\" work via rustup-init\r\nworked fine, but the https variant worked not so well.\r\n\r\nI have usability suggestions:\r\n1) Check whether https can actually work here or not prior to trying. This should\r\nbe quite simple, e. g. test whether the above error (time out) may happen, and\r\nif so respond on it.\r\n2) More importantly than 1, though, I would suggest also displaying the URL\r\ntowards rustup-init, and perhaps some notification such as \"your installation of\r\nopenssl does not appear to be working\" or something like that. The URL may\r\nbe useful for people similar to my position where the install fails.\r\n\r\nNormally the above works fine, but not right now with my broken openssl. :P\r\n\r\nWget has a --no-check certification option or so; I use this to still be able to\r\ndownload stuff, even with a broken openssl, and it works. I'd like for rust to\r\nalso have something like this available if possible, because as the example\r\nabove shows, the manual download via rustup-init actually works fine, so\r\nthe issue for my use case is simply one of convenience. If you want to go\r\nfancy, you could also add another menu that asks the users whether he\r\nwants to download rustup-init instead (but this may be more difficult\r\nto test for all platforms ... or more work ... so i am not sure if that one is\r\nworth to change since it may not affect lots of people - but indicating\r\nthe URL in case of failure may be not too much extra work, so it could\r\nhappen easily).\r\n\r\nThe URL I was then using was this one here btw:\r\n\r\nhttps://forge.rust-lang.org/infra/other-installation-methods.html\r\n\r\nAnd rustup-init from there worked fine. (Not sure why it may fail\r\nin the other case ... one could try to download again without https,\r\njust simple http, but no idea if the rust team wants to do so - \r\neveryone is so focused on security, even if security means that\r\nyou can not get anything installed automatically and instead\r\nhave to go through it manually ;) )\r\n", "closed_by": {"login": "csmoe", "id": 35686186, "node_id": "MDQ6VXNlcjM1Njg2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/35686186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csmoe", "html_url": "https://github.com/csmoe", "followers_url": "https://api.github.com/users/csmoe/followers", "following_url": "https://api.github.com/users/csmoe/following{/other_user}", "gists_url": "https://api.github.com/users/csmoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/csmoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csmoe/subscriptions", "organizations_url": "https://api.github.com/users/csmoe/orgs", "repos_url": "https://api.github.com/users/csmoe/repos", "events_url": "https://api.github.com/users/csmoe/events{/privacy}", "received_events_url": "https://api.github.com/users/csmoe/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/66193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/66193/timeline", "performed_via_github_app": null, "state_reason": "completed"}