{"url": "https://api.github.com/repos/rust-lang/rust/issues/36548", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/36548/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/36548/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/36548/events", "html_url": "https://github.com/rust-lang/rust/issues/36548", "id": 177535485, "node_id": "MDU6SXNzdWUxNzc1MzU0ODU=", "number": 36548, "title": "Bootstrap key logic is too strict", "user": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-09-16T22:47:06Z", "updated_at": "2016-10-19T09:53:36Z", "closed_at": "2016-10-19T09:53:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now the bootstrap key is a hash of `CFG_RELEASE` (and also `CFG_EXTRA_FILENAME` if that's set). `CFG_RELEASE` contains the channel label and the prerelease version. So today the master compiler will build with a compiler called `1.12.0-beta.1` and that's it.\n\nOne place where this is problematic is when trying to build master from a local copy of the stable release. To do this you need to bootstrap beta, then bootstrap master. _But_ today beta is `1.12.0-beta.3` - and it can't bootstrap master because they keycheck fails. Furthermore, if you were to build beta with `--release-channel=stable` you again create a mismatched bootstrap key.\n\nThis is frustrating. The logic is too strict for no particular reason. The scheme for deriving the bootstrap key is quite trivial now, and nobody is abusing it. We may just want to turn on the bootstrap whenever the env var is set at all and not worry about this any more.\n\ncc @alexcrichton this caused @glandium quite a bit of pain recently and I think we should solve it relatively soon.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/36548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/36548/timeline", "performed_via_github_app": null, "state_reason": "completed"}