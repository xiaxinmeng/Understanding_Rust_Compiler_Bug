{"url": "https://api.github.com/repos/rust-lang/rust/issues/49999", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/49999/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/49999/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/49999/events", "html_url": "https://github.com/rust-lang/rust/issues/49999", "id": 314671775, "node_id": "MDU6SXNzdWUzMTQ2NzE3NzU=", "number": 49999, "title": "Support placeholder syntax for length parameter in array types, when length can be inferred", "user": {"login": "peterjoel", "id": 150875, "node_id": "MDQ6VXNlcjE1MDg3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/150875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterjoel", "html_url": "https://github.com/peterjoel", "followers_url": "https://api.github.com/users/peterjoel/followers", "following_url": "https://api.github.com/users/peterjoel/following{/other_user}", "gists_url": "https://api.github.com/users/peterjoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterjoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterjoel/subscriptions", "organizations_url": "https://api.github.com/users/peterjoel/orgs", "repos_url": "https://api.github.com/users/peterjoel/repos", "events_url": "https://api.github.com/users/peterjoel/events{/privacy}", "received_events_url": "https://api.github.com/users/peterjoel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-16T14:19:16Z", "updated_at": "2018-04-16T22:07:38Z", "closed_at": "2018-04-16T22:07:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Consider code like this:\r\n\r\n```rust\r\nlet values: [i32; 3] = [1, 2, 3];\r\ndo_stuff(&values);\r\n```\r\n\r\nThis becomes annoying when you change the values on the right hand side, because you have to update the length on the left to match. In this case, it's often not necessary to be explicit about the type because it can be fully inferred. But there are cases where it's less convenient, such as with trait objects, where the inference can be too narrow without an annotation:\r\n\r\n```rust\r\nstruct MyStruct;\r\ntrait MyTrait {}\r\nimpl MyTrait for MyStruct {}\r\n\r\nfn main() {\r\n    let values = [&MyStruct, &MyStruct];\r\n    do_stuff(&values);\r\n}\r\n\r\nfn do_stuff(values: &[&MyTrait]) {}\r\n```\r\n\r\nThis is an error unless you give a hint to the compiler that the array is of the trait object and not the impl. You can do it like this:\r\n\r\n```rust\r\nlet values = [&MyStruct as &MyTrait, &MyStruct];\r\n```\r\n\r\nWhich works, but the following would be much clearer:\r\n\r\n```rust\r\nlet values: [&MyTrait; _] =  [&MyStruct, &MyStruct];\r\n```", "closed_by": {"login": "peterjoel", "id": 150875, "node_id": "MDQ6VXNlcjE1MDg3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/150875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterjoel", "html_url": "https://github.com/peterjoel", "followers_url": "https://api.github.com/users/peterjoel/followers", "following_url": "https://api.github.com/users/peterjoel/following{/other_user}", "gists_url": "https://api.github.com/users/peterjoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterjoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterjoel/subscriptions", "organizations_url": "https://api.github.com/users/peterjoel/orgs", "repos_url": "https://api.github.com/users/peterjoel/repos", "events_url": "https://api.github.com/users/peterjoel/events{/privacy}", "received_events_url": "https://api.github.com/users/peterjoel/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/49999/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/49999/timeline", "performed_via_github_app": null, "state_reason": "completed"}