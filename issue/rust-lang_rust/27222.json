{"url": "https://api.github.com/repos/rust-lang/rust/issues/27222", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27222/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27222/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27222/events", "html_url": "https://github.com/rust-lang/rust/issues/27222", "id": 96676296, "node_id": "MDU6SXNzdWU5NjY3NjI5Ng==", "number": 27222, "title": "Stable 1.1 ICE: assertion failed: bound_list_is_sorted(&bounds.projection_bounds)", "user": {"login": "frankmcsherry", "id": 5741500, "node_id": "MDQ6VXNlcjU3NDE1MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5741500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frankmcsherry", "html_url": "https://github.com/frankmcsherry", "followers_url": "https://api.github.com/users/frankmcsherry/followers", "following_url": "https://api.github.com/users/frankmcsherry/following{/other_user}", "gists_url": "https://api.github.com/users/frankmcsherry/gists{/gist_id}", "starred_url": "https://api.github.com/users/frankmcsherry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frankmcsherry/subscriptions", "organizations_url": "https://api.github.com/users/frankmcsherry/orgs", "repos_url": "https://api.github.com/users/frankmcsherry/repos", "events_url": "https://api.github.com/users/frankmcsherry/events{/privacy}", "received_events_url": "https://api.github.com/users/frankmcsherry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-07-22T22:06:56Z", "updated_at": "2015-09-14T06:51:25Z", "closed_at": "2015-09-14T06:51:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like if you go and grab this commit of timely-dataflow from github, you get a nicely reproducible ICE. TravisCI gets it too! In case anything changes in the meantime, the commit you want is \n\nhttps://github.com/frankmcsherry/timely-dataflow/commit/fcb32c5ad120039273fdba301c19b1de94cad15c\n\nRelated issues: #24063 #25467. The times I've seen this before I haven't be able to reproduce it, but since it seems to happen from a clean pull, I thought I would show you. \n\nTo repro, just follow the commands here. git clone, cargo build, cargo test. Boom!\n\n```\n% git clone https://github.com/frankmcsherry/timely-dataflow.git\nCloning into 'timely-dataflow'...\nremote: Counting objects: 1999, done.\nremote: Compressing objects: 100% (15/15), done.\nremote: Total 1999 (delta 1), reused 0 (delta 0), pack-reused 1984\nReceiving objects: 100% (1999/1999), 602.41 KiB | 715.00 KiB/s, done.\nResolving deltas: 100% (1430/1430), done.\nChecking connectivity... done.\n% cd timely-dataflow\n% cargo build\n    Updating registry `https://github.com/rust-lang/crates.io-index`\n   Compiling libc v0.1.8\n   Compiling byteorder v0.3.11\n   Compiling abomonation v0.2.0\n   Compiling log v0.3.1\n   Compiling getopts v0.2.11\n   Compiling timely v0.0.7 (file:///Users/mcsherry/Projects/timely-dataflow)\n% export RUST_BACKTRACE=1\n% cargo test\n   Compiling timely v0.0.7 (file:///Users/mcsherry/Projects/timely-dataflow)\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'assertion failed: bound_list_is_sorted(&bounds.projection_bounds)', /Users/rustbuild/src/rust-buildbot/slave/stable-dist-rustc-mac/build/src/librustc/middle/ty.rs:3237\n\nstack backtrace:\n   1:        0x10b5e0fff - sys::backtrace::write::h5a94548fe691961bc2r\n   2:        0x10b5e9a50 - panicking::on_panic::hc33f9bf1349f5e0bLgw\n   3:        0x10b5a4cc5 - rt::unwind::begin_unwind_inner::hb24e48e8f7bb8bb0uYv\n   4:        0x1089ed56f - rt::unwind::begin_unwind::h16372345962065799137\n   5:        0x108ade049 - middle::ty::mk_trait::h6533a56ee618f30dTa5\n   6:        0x108d693c1 - metadata::tydecode::parse_ty_::h17233465002289524658\n   7:        0x108d68538 - metadata::tydecode::parse_ty_::h17233465002289524658\n   8:        0x108d6a353 - metadata::tydecode::parse_substs_::h7886299839747005652\n   9:        0x108d68b47 - metadata::tydecode::parse_ty_::h17233465002289524658\n  10:        0x108d6a353 - metadata::tydecode::parse_substs_::h7886299839747005652\n  11:        0x108d68b47 - metadata::tydecode::parse_ty_::h17233465002289524658\n  12:        0x108d6a353 - metadata::tydecode::parse_substs_::h7886299839747005652\n  13:        0x108d68b47 - metadata::tydecode::parse_ty_::h17233465002289524658\n  14:        0x108d689fb - metadata::tydecode::parse_ty_::h17233465002289524658\n  15:        0x108d309fc - metadata::csearch::get_field_type::h2287f01378fea54d1Gm\n  16:        0x108cf0905 - middle::ty::lookup_field_type_unsubstituted::h2b1ef075de9a0a1d7B8\n  17:        0x108b3c547 - middle::ty::struct_fields::h264cc4fe3d890140kF8\n  18:        0x108ce2574 - middle::traits::select::SelectionContext<'cx, 'tcx>::builtin_bound::h250758517ef4e73caCS\n  19:        0x108cdd93c - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_builtin_bound_candidates::h4d99b58c75912a4bJyS\n  20:        0x108cdb6cb - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_candidates::h48ed99cc3014ff51PCR\n  21:        0x108cd12a7 - middle::traits::select::SelectionContext<'cx, 'tcx>::candidate_from_obligation::h942ec6226a4ce943FgR\n  22:        0x108ba24e7 - middle::traits::select::SelectionContext<'cx, 'tcx>::select::hfcdde7d6189f9fe2EUQ\n  23:        0x108cb252c - middle::traits::fulfill::FulfillmentContext<'tcx>::select::hbfd9add7588cde90vMO\n  24:        0x108cb1a98 - middle::traits::fulfill::FulfillmentContext<'tcx>::select_where_possible::h3009bf934d8bcc0aJLO\n  25:        0x108802ab3 - check::FnCtxt<'a, 'tcx>::select_obligations_where_possible::h195400fd72caaf3aBnp\n  26:        0x10878a681 - check::FnCtxt<'a, 'tcx>::resolve_type_vars_if_possible::hbafa97f6f84c0b527Bo\n  27:        0x10875720e - check::structurally_resolved_type::h0d57f96ee12a7090nft\n  28:        0x10880f5db - check::check_expr_with_unifier::check_method_call::h6fbc17f86cb4009c7qq\n  29:        0x10883d4d8 - check::check_expr_with_unifier::h16776623912766352283\n  30:        0x1087f9c38 - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  31:        0x1088269ee - check::check_expr_with_unifier::h9590468336052747275\n  32:        0x1087fa31b - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  33:        0x1087dd998 - check::check_fn::hccdd8c8447844807gFn\n  34:        0x1087dbe9d - check::closure::check_expr_closure::hf6e67e1d806efaf5Ngl\n  35:        0x108809ece - check::check_expr_with_unifier::h4656396524897881353\n  36:        0x1087e3b5c - check::check_argument_types::h70e22fb88692fa7aBRp\n  37:        0x1087e535a - check::check_method_argument_types::h95c2f0efed3f12130Op\n  38:        0x1088100d2 - check::check_expr_with_unifier::check_method_call::h6fbc17f86cb4009c7qq\n  39:        0x1088263ea - check::check_expr_with_unifier::h9590468336052747275\n  40:        0x10884ee7b - check::check_decl_local::h5ab825b4ae4c4049xYr\n  41:        0x1087f9be4 - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  42:        0x1088269ee - check::check_expr_with_unifier::h9590468336052747275\n  43:        0x1087fa31b - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  44:        0x1087dd998 - check::check_fn::hccdd8c8447844807gFn\n  45:        0x1087dbe9d - check::closure::check_expr_closure::hf6e67e1d806efaf5Ngl\n  46:        0x108809ece - check::check_expr_with_unifier::h4656396524897881353\n  47:        0x1087e3b5c - check::check_argument_types::h70e22fb88692fa7aBRp\n  48:        0x1087e14e4 - check::callee::confirm_builtin_call::h78c7c731ec5b3086JRl\n  49:        0x1087dfc2f - check::callee::check_call::h100059df8beba0e1rIl\n  50:        0x10883d453 - check::check_expr_with_unifier::h16776623912766352283\n  51:        0x1087f9c38 - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  52:        0x1087dd998 - check::check_fn::hccdd8c8447844807gFn\n  53:        0x1087f4a13 - check::check_bare_fn::hbfad11d5a9f87954Tun\n  54:        0x1087f2a89 - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::hf2b38fe3b992c9bcWrn\n  55:        0x1088b7aba - check_crate::closure.38929\n  56:        0x1088b154a - check_crate::hcd5b7e66feee2debsJC\n  57:        0x1081008af - driver::phase_3_run_analysis_passes::h3f61cd0eb3853b54tGa\n  58:        0x1080e52d3 - driver::compile_input::h3d15d32af3f4b6bdQba\n  59:        0x1081a0f33 - run_compiler::h32c0e6c36780775b75b\n  60:        0x10819e69a - boxed::F.FnBox<A>::call_box::h7208527504866586156\n  61:        0x10819dbf7 - rt::unwind::try::try_fn::h4574368377636742306\n  62:        0x10b6717a8 - rust_try_inner\n  63:        0x10b671795 - rust_try\n  64:        0x10819decd - boxed::F.FnBox<A>::call_box::h14823742600371436653\n  65:        0x10b5e863d - sys::thread::Thread::new::thread_start::hefa4f0e4c64c9336Yjv\n  66:     0x7fff98192267 - _pthread_body\n  67:     0x7fff981921e4 - _pthread_start\n\nBuild failed, waiting for other jobs to finish...\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'assertion failed: bound_list_is_sorted(&bounds.projection_bounds)', /Users/rustbuild/src/rust-buildbot/slave/stable-dist-rustc-mac/build/src/librustc/middle/ty.rs:3237\n\nstack backtrace:\n   1:        0x1129f2fff - sys::backtrace::write::h5a94548fe691961bc2r\n   2:        0x1129fba50 - panicking::on_panic::hc33f9bf1349f5e0bLgw\n   3:        0x1129b6cc5 - rt::unwind::begin_unwind_inner::hb24e48e8f7bb8bb0uYv\n   4:        0x10fe0856f - rt::unwind::begin_unwind::h16372345962065799137\n   5:        0x10fef9049 - middle::ty::mk_trait::h6533a56ee618f30dTa5\n   6:        0x1101843c1 - metadata::tydecode::parse_ty_::h17233465002289524658\n   7:        0x110183538 - metadata::tydecode::parse_ty_::h17233465002289524658\n   8:        0x110185353 - metadata::tydecode::parse_substs_::h7886299839747005652\n   9:        0x110183b47 - metadata::tydecode::parse_ty_::h17233465002289524658\n  10:        0x110185353 - metadata::tydecode::parse_substs_::h7886299839747005652\n  11:        0x110183b47 - metadata::tydecode::parse_ty_::h17233465002289524658\n  12:        0x110185353 - metadata::tydecode::parse_substs_::h7886299839747005652\n  13:        0x110183b47 - metadata::tydecode::parse_ty_::h17233465002289524658\n  14:        0x1101839fb - metadata::tydecode::parse_ty_::h17233465002289524658\n  15:        0x11014b9fc - metadata::csearch::get_field_type::h2287f01378fea54d1Gm\n  16:        0x11010b905 - middle::ty::lookup_field_type_unsubstituted::h2b1ef075de9a0a1d7B8\n  17:        0x10ff57547 - middle::ty::struct_fields::h264cc4fe3d890140kF8\n  18:        0x1100fd574 - middle::traits::select::SelectionContext<'cx, 'tcx>::builtin_bound::h250758517ef4e73caCS\n  19:        0x1100f893c - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_builtin_bound_candidates::h4d99b58c75912a4bJyS\n  20:        0x1100f66cb - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_candidates::h48ed99cc3014ff51PCR\n  21:        0x1100ec2a7 - middle::traits::select::SelectionContext<'cx, 'tcx>::candidate_from_obligation::h942ec6226a4ce943FgR\n  22:        0x10ffbd4e7 - middle::traits::select::SelectionContext<'cx, 'tcx>::select::hfcdde7d6189f9fe2EUQ\n  23:        0x1100cd52c - middle::traits::fulfill::FulfillmentContext<'tcx>::select::hbfd9add7588cde90vMO\n  24:        0x1100cca98 - middle::traits::fulfill::FulfillmentContext<'tcx>::select_where_possible::h3009bf934d8bcc0aJLO\n  25:        0x10fc1cab3 - check::FnCtxt<'a, 'tcx>::select_obligations_where_possible::h195400fd72caaf3aBnp\n  26:        0x10fba4681 - check::FnCtxt<'a, 'tcx>::resolve_type_vars_if_possible::hbafa97f6f84c0b527Bo\n  27:        0x10fb7120e - check::structurally_resolved_type::h0d57f96ee12a7090nft\n  28:        0x10fc295db - check::check_expr_with_unifier::check_method_call::h6fbc17f86cb4009c7qq\n  29:        0x10fc5d0f8 - check::check_expr_with_unifier::h16198709343475811244\n  30:        0x10fc295a6 - check::check_expr_with_unifier::check_method_call::h6fbc17f86cb4009c7qq\n  31:        0x10fc574d8 - check::check_expr_with_unifier::h16776623912766352283\n  32:        0x10fc13c38 - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  33:        0x10fc409ee - check::check_expr_with_unifier::h9590468336052747275\n  34:        0x10fc1431b - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  35:        0x10fbf7998 - check::check_fn::hccdd8c8447844807gFn\n  36:        0x10fbf5e9d - check::closure::check_expr_closure::hf6e67e1d806efaf5Ngl\n  37:        0x10fc23ece - check::check_expr_with_unifier::h4656396524897881353\n  38:        0x10fbfdb5c - check::check_argument_types::h70e22fb88692fa7aBRp\n  39:        0x10fbff35a - check::check_method_argument_types::h95c2f0efed3f12130Op\n  40:        0x10fc2a0d2 - check::check_expr_with_unifier::check_method_call::h6fbc17f86cb4009c7qq\n  41:        0x10fc574d8 - check::check_expr_with_unifier::h16776623912766352283\n  42:        0x10fc13c38 - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  43:        0x10fc409ee - check::check_expr_with_unifier::h9590468336052747275\n  44:        0x10fc1431b - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  45:        0x10fbf7998 - check::check_fn::hccdd8c8447844807gFn\n  46:        0x10fbf5e9d - check::closure::check_expr_closure::hf6e67e1d806efaf5Ngl\n  47:        0x10fc23ece - check::check_expr_with_unifier::h4656396524897881353\n  48:        0x10fbfdb5c - check::check_argument_types::h70e22fb88692fa7aBRp\n  49:        0x10fbfb4e4 - check::callee::confirm_builtin_call::h78c7c731ec5b3086JRl\n  50:        0x10fbf9c2f - check::callee::check_call::h100059df8beba0e1rIl\n  51:        0x10fc40367 - check::check_expr_with_unifier::h9590468336052747275\n  52:        0x10fc1431b - check::check_block_with_expected::hcf516cdce8fb2f3cD4r\n  53:        0x10fbf7998 - check::check_fn::hccdd8c8447844807gFn\n  54:        0x10fc0ea13 - check::check_bare_fn::hbfad11d5a9f87954Tun\n  55:        0x10fc0ca89 - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::hf2b38fe3b992c9bcWrn\n  56:        0x10fcd1aba - check_crate::closure.38929\n  57:        0x10fccb54a - check_crate::hcd5b7e66feee2debsJC\n  58:        0x10f50f8af - driver::phase_3_run_analysis_passes::h3f61cd0eb3853b54tGa\n  59:        0x10f4f42d3 - driver::compile_input::h3d15d32af3f4b6bdQba\n  60:        0x10f5aff33 - run_compiler::h32c0e6c36780775b75b\n  61:        0x10f5ad69a - boxed::F.FnBox<A>::call_box::h7208527504866586156\n  62:        0x10f5acbf7 - rt::unwind::try::try_fn::h4574368377636742306\n  63:        0x112a837a8 - rust_try_inner\n  64:        0x112a83795 - rust_try\n  65:        0x10f5acecd - boxed::F.FnBox<A>::call_box::h14823742600371436653\n  66:        0x1129fa63d - sys::thread::Thread::new::thread_start::hefa4f0e4c64c9336Yjv\n  67:     0x7fff98192267 - _pthread_body\n  68:     0x7fff981921e4 - _pthread_start\n\nCould not compile `timely`.\n\nTo learn more, run the command again with --verbose.\n% rustc --version\nrustc 1.1.0 (35ceea399 2015-06-19)\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27222/timeline", "performed_via_github_app": null, "state_reason": "completed"}