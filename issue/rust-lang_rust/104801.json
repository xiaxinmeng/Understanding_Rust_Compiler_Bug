{"url": "https://api.github.com/repos/rust-lang/rust/issues/104801", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/104801/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/104801/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/104801/events", "html_url": "https://github.com/rust-lang/rust/issues/104801", "id": 1462670190, "node_id": "I_kwDOAAsO6M5XLpNu", "number": 104801, "title": "Don't suggest associated function call for associated const", "user": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}, {"id": 1596299768, "node_id": "MDU6TGFiZWwxNTk2Mjk5NzY4", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-invalid-suggestion", "name": "D-invalid-suggestion", "color": "c9f7a3", "default": false, "description": "A structured suggestion resulting in incorrect code"}, {"id": 1624891239, "node_id": "MDU6TGFiZWwxNjI0ODkxMjM5", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-incorrect", "name": "D-incorrect", "color": "c9f7a3", "default": false, "description": "A diagnostic that is giving misleading or incorrect information"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-24T02:42:10Z", "updated_at": "2022-12-04T14:03:09Z", "closed_at": "2022-12-04T14:03:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Follow-up from this comment: https://github.com/rust-lang/rust/pull/104422#discussion_r1021977220\r\n\r\nGiven the following code: <!-- Please provide a link to play.rust-lang.org -->\r\n\r\n```rust\r\nfn main() {\r\n    1i32.MAX()\r\n}\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nerror[E0599]: no method named `MAX` found for type `i32` in the current scope\r\n --> src/main.rs:2:10\r\n  |\r\n2 |     1i32.MAX()\r\n  |     -----^^^--\r\n  |     |    |\r\n  |     |    this is an associated function, not a method\r\n  |     help: use associated function syntax instead: `i32::MAX()`\r\n  |\r\n  = note: found the following associated functions; to be used as methods, functions must have a `self` parameter\r\n  = note: the candidate is defined in an impl for the type `i32`\r\n\r\nFor more information about this error, try `rustc --explain E0599`.\r\n```\r\n\r\nIdeally the output should *not* mention `i32::MAX()`, since that is an associated *constant* and not an associated *function*. However, it seems like some parts of method probing don't consider the associate item's kind when collecting candidates for diagnostics.\r\n\r\nThis should be investigated and fixed. While investigating, similar code should also be inspected and fixed if this can be triggered in other ways, for example. ", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/104801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/104801/timeline", "performed_via_github_app": null, "state_reason": "completed"}