{"url": "https://api.github.com/repos/rust-lang/rust/issues/66912", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/66912/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/66912/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/66912/events", "html_url": "https://github.com/rust-lang/rust/issues/66912", "id": 530610482, "node_id": "MDU6SXNzdWU1MzA2MTA0ODI=", "number": 66912, "title": "misleading E0392 \"parameter `T` is never used\" for every containing struct", "user": {"login": "geogriff-signal", "id": 36971329, "node_id": "MDQ6VXNlcjM2OTcxMzI5", "avatar_url": "https://avatars.githubusercontent.com/u/36971329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geogriff-signal", "html_url": "https://github.com/geogriff-signal", "followers_url": "https://api.github.com/users/geogriff-signal/followers", "following_url": "https://api.github.com/users/geogriff-signal/following{/other_user}", "gists_url": "https://api.github.com/users/geogriff-signal/gists{/gist_id}", "starred_url": "https://api.github.com/users/geogriff-signal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geogriff-signal/subscriptions", "organizations_url": "https://api.github.com/users/geogriff-signal/orgs", "repos_url": "https://api.github.com/users/geogriff-signal/repos", "events_url": "https://api.github.com/users/geogriff-signal/events{/privacy}", "received_events_url": "https://api.github.com/users/geogriff-signal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-30T17:50:58Z", "updated_at": "2020-11-12T18:20:20Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Rustc emits an error for every struct _containing a struct_ with an unused type parameter. Unless there's some edge case I'm not thinking of, this seems pointless, as the user will eventually have to fix the \"leaf\" struct (that which is the root of the problem), which would then fix the entire tree of structs.\r\n\r\nI tried this code:\r\n```\r\nstruct Foo<T> {\r\n    bar: Bar<T>,\r\n}\r\nstruct Bar<T> {}\r\n```\r\n\r\nI expected to see this happen:\r\n```\r\nerror[E0392]: parameter `T` is never used\r\n --> src/main.rs:4:12\r\n  |\r\n5 | struct Bar<T> {}\r\n  |            ^ unused parameter\r\n  |\r\n  = help: consider removing `T`, referring to it in a field, or using a marker such as `std::marker::PhantomData`\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nInstead, this happened:\r\n```\r\nerror[E0392]: parameter `T` is never used\r\n --> src/main.rs:1:12\r\n  |\r\n1 | struct Foo<T> {\r\n  |            ^ unused parameter\r\n  |\r\n  = help: consider removing `T`, referring to it in a field, or using a marker such as `std::marker::PhantomData`\r\n\r\nerror[E0392]: parameter `T` is never used\r\n --> src/main.rs:4:12\r\n  |\r\n4 | struct Bar<T> {}\r\n  |            ^ unused parameter\r\n  |\r\n  = help: consider removing `T`, referring to it in a field, or using a marker such as `std::marker::PhantomData`\r\n\r\nerror: aborting due to 2 previous errors\r\n```\r\n\r\n## Meta\r\n\r\n`rustc --version --verbose`:\r\nrustc 1.41.0-nightly (25d8a9494 2019-11-29)\r\nbinary: rustc\r\ncommit-hash: 25d8a9494ca6d77361e47c1505ecf640b168819e\r\ncommit-date: 2019-11-29\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.41.0-nightly\r\nLLVM version: 9.0\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/66912/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/66912/timeline", "performed_via_github_app": null, "state_reason": null}