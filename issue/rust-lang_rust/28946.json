{"url": "https://api.github.com/repos/rust-lang/rust/issues/28946", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28946/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28946/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28946/events", "html_url": "https://github.com/rust-lang/rust/issues/28946", "id": 110803667, "node_id": "MDU6SXNzdWUxMTA4MDM2Njc=", "number": 28946, "title": "ICE \"thread 'rustc' has overflowed its stack\" on Windows (1.5 nightly x86_64 msvc toolchain)", "user": {"login": "randomPoison", "id": 1900829, "node_id": "MDQ6VXNlcjE5MDA4Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1900829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randomPoison", "html_url": "https://github.com/randomPoison", "followers_url": "https://api.github.com/users/randomPoison/followers", "following_url": "https://api.github.com/users/randomPoison/following{/other_user}", "gists_url": "https://api.github.com/users/randomPoison/gists{/gist_id}", "starred_url": "https://api.github.com/users/randomPoison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randomPoison/subscriptions", "organizations_url": "https://api.github.com/users/randomPoison/orgs", "repos_url": "https://api.github.com/users/randomPoison/repos", "events_url": "https://api.github.com/users/randomPoison/events{/privacy}", "received_events_url": "https://api.github.com/users/randomPoison/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-10-10T16:29:39Z", "updated_at": "2018-09-25T14:21:35Z", "closed_at": "2018-09-25T14:21:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've got the following trait and impl:\n\n``` rust\npub trait Dot<Other=Self> {\n    type Output;\n\n    fn dot(self, rhs: Other) -> Self::Output;\n}\n\nimpl<'a, T> Dot<&'a T> for T where T: Dot<T> + Copy {\n    type Output = T::Output;\n\n    fn dot(self, rhs: &T) -> Self::Output {\n        self.dot(*rhs)\n    }\n}\n```\n\nWhen I change the impl to:\n\n``` rust\nimpl<'a, T, U> Dot<&'a U> for T where T: Dot<U>, U: Copy {\n    type Output = T::Output;\n\n    fn dot(self, rhs: &U) -> Self::Output {\n        self.dot(*rhs)\n    }\n}\n```\n\nI get the error `thread 'rustc' has overflowed its stack`.\n\nThis is happening on the current nightly build (10/10/2015) with the x86_64 Windows MSVC toolchain. I tried to reproduce the error with just the above code but that didn't cause the error, but compiling the entire crate it's in did. The full crate (including commented out code that causes error) can be found [here](https://github.com/excaliburHisSheath/gunship-rs/tree/98501940c4865505894faae3da4acff1b85f5da2/lib/polygon_math), the code that causes the error is in [src/lib.rs](https://github.com/excaliburHisSheath/gunship-rs/blob/98501940c4865505894faae3da4acff1b85f5da2/lib/polygon_math/src/lib.rs#L57).\n## Misc. Notes\n- Using the 1.5 nightly build (10/10) of the x86_64 MSVC toolchain.\n- Running Windows 10.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/28946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28946/timeline", "performed_via_github_app": null, "state_reason": "completed"}