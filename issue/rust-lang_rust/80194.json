{"url": "https://api.github.com/repos/rust-lang/rust/issues/80194", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/80194/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/80194/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/80194/events", "html_url": "https://github.com/rust-lang/rust/issues/80194", "id": 771408435, "node_id": "MDU6SXNzdWU3NzE0MDg0MzU=", "number": 80194, "title": "Suggest an enum as a possible option when a trait object can\u2019t be created due to object safety", "user": {"login": "alilleybrinker", "id": 1223605, "node_id": "MDQ6VXNlcjEyMjM2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1223605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alilleybrinker", "html_url": "https://github.com/alilleybrinker", "followers_url": "https://api.github.com/users/alilleybrinker/followers", "following_url": "https://api.github.com/users/alilleybrinker/following{/other_user}", "gists_url": "https://api.github.com/users/alilleybrinker/gists{/gist_id}", "starred_url": "https://api.github.com/users/alilleybrinker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alilleybrinker/subscriptions", "organizations_url": "https://api.github.com/users/alilleybrinker/orgs", "repos_url": "https://api.github.com/users/alilleybrinker/repos", "events_url": "https://api.github.com/users/alilleybrinker/events{/privacy}", "received_events_url": "https://api.github.com/users/alilleybrinker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}, {"id": 1596122130, "node_id": "MDU6TGFiZWwxNTk2MTIyMTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-papercut", "name": "D-papercut", "color": "c9f7a3", "default": false, "description": "Diagnostic error that needs small tweaks"}, {"id": 1596122811, "node_id": "MDU6TGFiZWwxNTk2MTIyODEx", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-newcomer-roadblock", "name": "D-newcomer-roadblock", "color": "c9f7a3", "default": false, "description": "Confusing diagnostic error hard to understand for new users"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-19T16:15:06Z", "updated_at": "2021-01-12T19:53:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When you can't create a trait object due to a trait not being object safe, you have a few options:\n\n- if you control the trait, try to make it object safe (medium difficulty)\n- if you don't control the trait, try to get the upstream owner to make it object safe or find an alternative (hard)\n- if the set of types you're trying to trait-objectify is closed, use an enum (easy)\n\nUnfortunately, the error message for a trait not being object safe doesn't point you in the direction of the enum option, and unless you're pretty familiar with Rust you may not consider it.\n\nAdjusting the error message for failure to create a trait object due to object safety issues to mention an enum as a possibility could help people resolve these issues. I have no data, but in my experience the enum path is often workable because I'm working with a finite set of variants that I know in advance.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/80194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/80194/timeline", "performed_via_github_app": null, "state_reason": null}