{"url": "https://api.github.com/repos/rust-lang/rust/issues/13837", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13837/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13837/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13837/events", "html_url": "https://github.com/rust-lang/rust/issues/13837", "id": 32422189, "node_id": "MDU6SXNzdWUzMjQyMjE4OQ==", "number": 13837, "title": "rustc: static fixed-size array pointer, results in internal error.", "user": {"login": "nulldatamap", "id": 940364, "node_id": "MDQ6VXNlcjk0MDM2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/940364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nulldatamap", "html_url": "https://github.com/nulldatamap", "followers_url": "https://api.github.com/users/nulldatamap/followers", "following_url": "https://api.github.com/users/nulldatamap/following{/other_user}", "gists_url": "https://api.github.com/users/nulldatamap/gists{/gist_id}", "starred_url": "https://api.github.com/users/nulldatamap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nulldatamap/subscriptions", "organizations_url": "https://api.github.com/users/nulldatamap/orgs", "repos_url": "https://api.github.com/users/nulldatamap/repos", "events_url": "https://api.github.com/users/nulldatamap/events{/privacy}", "received_events_url": "https://api.github.com/users/nulldatamap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-29T06:44:38Z", "updated_at": "2014-10-18T15:07:23Z", "closed_at": "2014-10-18T15:07:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following code causes an internal error in rustc:\n`static TEST_VALUE  : *[int, ..2] = 0x1234 as *[int, ..2];`\n`TEST_VALUE` has to be immutable in order to reproduce it.\nThe mutability of the fixed-size array is irrelevant, so is the type and size of the array.\n\n```\n$ rustc -v\nrustc 0.11-pre (b2a8fae 2014-04-26 23:41:31 -0700)\nhost: x86_64-unknown-linux-gnu\n```\n\n`rustc` stack-trace:\n\n```\nerror: internal compiler error: node_id_to_type: no type for node `expr 2 (id=15)`\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://static.rust-lang.org/doc/master/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at '~Any', /home/nulldata/tmp/rust/src/libsyntax/diagnostic.rs:155\nstack backtrace:\n   1:     0x7f579f414e80 - rt::backtrace::imp::write::h2b6f969a24b1b09eowa::v0.11.pre\n   2:     0x7f579f3747d0 - rt::unwind::begin_unwind_inner::hdb76e09dc846d01bt69::v0.11.pre\n   3:     0x7f579ddad3c0 - rt::unwind::begin_unwind::h10397695711491808181::v0.11.pre\n   4:     0x7f579ddae420 - diagnostic::Handler::bug::h3fb33ca196e35b86AYb::v0.11.pre\n   5:     0x7f579fdd1e60 - driver::session::Session::bug::h70e242716dd3f2bf0qh::v0.11.pre\n   6:     0x7f579fe3a3e0 - middle::ty::node_id_to_type::ha9759be8e5e35875oCN::v0.11.pre\n   7:     0x7f57a01cda70 - middle::check_static::CheckStaticVisitor<'a>.Visitor<bool>::visit_expr::h189c60c9929d150e7tw::v0.11.pre\n   8:     0x7f57a01cd4a0 - visit::walk_ty::h3270741981541701909::v0.11.pre\n   9:     0x7f57a01cfff0 - visit::walk_expr::h7289780392057235172::v0.11.pre\n  10:     0x7f57a01cda70 - middle::check_static::CheckStaticVisitor<'a>.Visitor<bool>::visit_expr::h189c60c9929d150e7tw::v0.11.pre\n  11:     0x7f57a01cdfd0 - middle::check_static::CheckStaticVisitor<'a>.Visitor<bool>::visit_item::h9aff9d086f56d2e6wrw::v0.11.pre\n  12:     0x7f57a01cd030 - middle::check_static::check_crate::haadc53f88afae86epqw::v0.11.pre\n  13:     0x7f57a01aa0b0 - util::common::time::h12659127440207190207::v0.11.pre\n  14:     0x7f57a05e65c0 - driver::driver::phase_3_run_analysis_passes::h9aa6ff2a979a71d4TCf::v0.11.pre\n  15:     0x7f57a05ec4d0 - driver::driver::compile_input::hcb596bae171af93fG2f::v0.11.pre\n  16:     0x7f57a0611130 - run_compiler::h7eb65b0d03821ee1xzn::v0.11.pre\n  17:     0x7f57a0628fb0 - main_args::closure.91435\n  18:     0x7f57a06274b0 - monitor::closure.91310\n  19:     0x7f57a0622da0 - task::TaskBuilder::try::closure.91076\n  20:     0x7f57a23cb970 - task::spawn_opts::closure.7111\n  21:     0x7f579f40fec0 - rt::task::Task::run::closure.40113\n  22:     0x7f579f41adc0 - rust_try\n  23:     0x7f579f40fd00 - rt::task::Task::run::h219662be60998055wW7::v0.11.pre\n  24:     0x7f57a23cb740 - task::spawn_opts::closure.7084\n  25:     0x7f579f4139c0 - rt::thread::thread_start::h600ba7798d54a948JB8::v0.11.pre\n  26:     0x7f579ed300c0 - start_thread\n  27:     0x7f579f0412d9 - __clone\n  28:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/13837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13837/timeline", "performed_via_github_app": null, "state_reason": "completed"}