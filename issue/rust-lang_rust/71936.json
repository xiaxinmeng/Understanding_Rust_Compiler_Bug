{"url": "https://api.github.com/repos/rust-lang/rust/issues/71936", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/71936/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/71936/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/71936/events", "html_url": "https://github.com/rust-lang/rust/issues/71936", "id": 612989043, "node_id": "MDU6SXNzdWU2MTI5ODkwNDM=", "number": 71936, "title": "regression: rustc crashes during TLS access when compiling compiler_builtins v0.1.27 on windows-msvc", "user": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-06T01:14:46Z", "updated_at": "2021-02-28T15:51:49Z", "closed_at": "2020-05-06T11:15:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a regression from the last couple of days and it prevents rustc from bootstrapping on windows-msvc.\r\n\r\nThe commit tried: f8d394e5184fe3af761ea1e5ba73f993cfb36dfe.\r\nCommand: `./x.py test --bless --stage 1 src/test/run-make`.\r\n\r\nException:\r\n```\r\nUnhandled exception thrown: read access violation.\r\n***(_tls_end)** was 0xFFFFFFFFFFFFFF3F.\r\n```\r\n\r\nBacktrace:\r\n```\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::intrinsics::copy_nonoverlapping() Line 2058\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\intrinsics.rs(2058)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::ptr::swap_nonoverlapping_bytes() Line 468\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\ptr\\mod.rs(468)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::ptr::swap_nonoverlapping() Line 424\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\ptr\\mod.rs(424)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::ptr::swap_nonoverlapping_one() Line 436\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\ptr\\mod.rs(436)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::mem::swap() Line 680\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\mem\\mod.rs(680)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::mem::replace() Line 805\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\mem\\mod.rs(805)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::thread::local::lazy::LazyKeyInner::initialize() Line 304\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\local.rs(304)\r\nrustc_driver-22379f3767b935ec.dll!std::thread::local::fast::Key::try_initialize<core::cell::RefCell<std::collections::hash::map::HashMap<(usize, usize), rustc_data_structures::fingerprint::Fingerprint, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>>,fn() -> core::cell::RefCell<std::collections::hash::map::HashMap<(usize, usize), rustc_data_structures::fingerprint::Fingerprint, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>>>() Line 425\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\local.rs(425)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::thread::local::fast::Key::get() Line 410\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\local.rs(410)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ich::impls_ty::{{impl}}::hash_stable::CACHE::__getit() Line 175\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\local.rs(175)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::thread::local::LocalKey::try_with() Line 262\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\local.rs(262)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::thread::local::LocalKey::with() Line 239\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\local.rs(239)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ich::impls_ty::{{impl}}::hash_stable<rustc_middle::ty::subst::GenericArg>() Line 39\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ich\\impls_ty.rs(39)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ty::sty::_DERIVE_rustc_data_structures_stable_hasher_HashStable_rustc_middle_ich_StableHashingContext_ctx_FOR_TyKind::{{impl}}::hash_stable() Line 90\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\sty.rs(90)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::legacy::get_symbol_hash::{{closure}}::{{closure}}::{{closure}}() Line 106\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\legacy.rs(106)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ich::hcx::StableHashingContext::with_node_id_hashing_mode() Line 120\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ich\\hcx.rs(120)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::legacy::get_symbol_hash::{{closure}}::{{closure}}() Line 105\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\legacy.rs(105)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ich::hcx::StableHashingContext::while_hashing_spans() Line 108\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ich\\hcx.rs(108)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::legacy::get_symbol_hash::{{closure}}() Line 104\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\legacy.rs(104)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::util::common::record_time<(),closure-0>() Line 36\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\util\\common.rs(36)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::legacy::get_symbol_hash() Line 94\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\legacy.rs(94)\r\nrustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::legacy::mangle() Line 56\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\legacy.rs(56)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::compute_symbol_name() Line 263\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\lib.rs(263)\r\nrustc_driver-22379f3767b935ec.dll!rustc_symbol_mangling::symbol_name_provider() Line 137\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_symbol_mangling\\lib.rs(137)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ty::query::{{impl}}::compute() Line 361\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(361)\r\nrustc_driver-22379f3767b935ec.dll!rustc_query_system::dep_graph::graph::DepGraph::with_task_impl<rustc_middle::dep_graph::dep_node::DepKind,rustc_middle::ty::context::TyCtxt,rustc_middle::ty::instance::Instance,rustc_middle::ty::SymbolName,fn(mut rustc_middle::ich::hcx::StableHashingContext*, rustc_middle::ty::SymbolName*) -> core::option::Option<rustc_data_structures::fingerprint::Fingerprint>>() Line 303\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\dep_graph\\graph.rs(303)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::try_execute_query() Line 415\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(415)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query_impl::{{closure}}() Line 635\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(635)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::caches::{{impl}}::lookup() Line 111\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\caches.rs(111)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::try_get_cached() Line 369\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(369)\r\nrustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query_impl<rustc_middle::ty::context::TyCtxt,rustc_query_system::query::caches::DefaultCache<rustc_middle::ty::instance::Instance, rustc_middle::ty::SymbolName>>() Line 631\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(631)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query() Line 731\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(731)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::query::TyCtxtAt::symbol_name() Line 470\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(470)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::TyCtxt::symbol_name() Line 431\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(431)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_codegen_ssa::back::symbol_export::reachable_non_generics_provider::{{closure}}() Line 108\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_codegen_ssa\\back\\symbol_export.rs(108)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::adapters::map_fold::{{closure}}() Line 785\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\adapters\\mod.rs(785)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::adapters::filter_map_fold::{{closure}}() Line 1059\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\adapters\\mod.rs(1059)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::traits::iterator::Iterator::fold::ok::{{closure}}() Line 2002\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\traits\\iterator.rs(2002)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::traits::iterator::Iterator::try_fold() Line 1878\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\traits\\iterator.rs(1878)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::traits::iterator::Iterator::fold() Line 2005\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\traits\\iterator.rs(2005)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::adapters::{{impl}}::fold() Line 825\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\adapters\\mod.rs(825)\r\nrustc_driver-22379f3767b935ec.dll!core::iter::adapters::{{impl}}::fold<(rustc_span::def_id::DefId, rustc_middle::middle::exported_symbols::SymbolExportLevel),core::iter::adapters::FilterMap<std::collections::hash::set::Iter<rustc_hir::hir_id::HirId>, closure-0>,closure-1,(),closure-0>() Line 825\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\adapters\\mod.rs(825)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::traits::iterator::Iterator::for_each() Line 658\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\traits\\iterator.rs(658)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!hashbrown::map::{{impl}}::extend() Line 2578\r\n\tat C:\\Users\\we\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\hashbrown-0.6.2\\src\\map.rs(2578)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::collections::hash::map::{{impl}}::extend() Line 2417\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\collections\\hash\\map.rs(2417)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::collections::hash::map::{{impl}}::from_iter() Line 2402\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\collections\\hash\\map.rs(2402)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!core::iter::traits::iterator::Iterator::collect() Line 1660\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\iter\\traits\\iterator.rs(1660)\r\nrustc_driver-22379f3767b935ec.dll!rustc_codegen_ssa::back::symbol_export::reachable_non_generics_provider() Line 61\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_codegen_ssa\\back\\symbol_export.rs(61)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ty::query::{{impl}}::compute() Line 361\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(361)\r\nrustc_driver-22379f3767b935ec.dll!rustc_query_system::dep_graph::graph::DepGraph::with_task_impl<rustc_middle::dep_graph::dep_node::DepKind,rustc_middle::ty::context::TyCtxt,rustc_span::def_id::CrateNum,std::collections::hash::map::HashMap<rustc_span::def_id::DefId, rustc_middle::middle::exported_symbols::SymbolExportLevel, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>,fn(mut rustc_middle::ich::hcx::StableHashingContext*, std::collections::hash::map::HashMap<rustc_span::def_id::DefId, rustc_middle::middle::exported_symbols::SymbolExportLevel, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>*) -> core::option::Option<rustc_data_structures::fingerprint::Fingerprint>>() Line 303\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\dep_graph\\graph.rs(303)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::try_execute_query() Line 415\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(415)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query_impl::{{closure}}() Line 635\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(635)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::caches::{{impl}}::lookup() Line 114\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\caches.rs(114)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::try_get_cached() Line 369\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(369)\r\nrustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query_impl<rustc_middle::ty::context::TyCtxt,rustc_query_system::query::caches::ArenaCache<rustc_span::def_id::CrateNum, std::collections::hash::map::HashMap<rustc_span::def_id::DefId, rustc_middle::middle::exported_symbols::SymbolExportLevel, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>>>() Line 631\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(631)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query() Line 731\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(731)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::query::TyCtxtAt::reachable_non_generics() Line 470\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(470)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::TyCtxt::reachable_non_generics() Line 431\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(431)\r\nrustc_driver-22379f3767b935ec.dll!rustc_codegen_ssa::back::symbol_export::exported_symbols_provider_local() Line 171\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_codegen_ssa\\back\\symbol_export.rs(171)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ty::query::{{impl}}::compute() Line 361\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(361)\r\nrustc_driver-22379f3767b935ec.dll!rustc_query_system::dep_graph::graph::DepGraph::with_task_impl<rustc_middle::dep_graph::dep_node::DepKind,rustc_middle::ty::context::TyCtxt,rustc_span::def_id::CrateNum,slice<(rustc_span::def_id::CrateNum, rustc_middle::middle::cstore::LinkagePreference)>*,fn(mut rustc_middle::ich::hcx::StableHashingContext*, slice<(rustc_span::def_id::CrateNum, rustc_middle::middle::cstore::LinkagePreference)>**) -> core::option::Option<rustc_data_structures::fingerprint::Fingerprint>>() Line 303\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\dep_graph\\graph.rs(303)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::try_execute_query() Line 415\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(415)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query_impl::{{closure}}() Line 635\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(635)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::caches::{{impl}}::lookup() Line 111\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\caches.rs(111)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::try_get_cached() Line 369\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(369)\r\nrustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query_impl<rustc_middle::ty::context::TyCtxt,rustc_query_system::query::caches::DefaultCache<rustc_span::def_id::CrateNum, slice<rustc_middle::middle::cstore::ForeignModule>*>>() Line 631\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(631)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_query_system::query::plumbing::get_query() Line 731\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_query_system\\query\\plumbing.rs(731)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::query::TyCtxtAt::exported_symbols() Line 470\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(470)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::TyCtxt::exported_symbols() Line 431\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\query\\plumbing.rs(431)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_metadata::rmeta::encoder::EncodeContext::encode_crate_root() Line 510\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_metadata\\rmeta\\encoder.rs(510)\r\nrustc_driver-22379f3767b935ec.dll!rustc_metadata::rmeta::encoder::encode_metadata_impl() Line 1865\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_metadata\\rmeta\\encoder.rs(1865)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_metadata::rmeta::encoder::encode_metadata::{{closure}}() Line 1815\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_metadata\\rmeta\\encoder.rs(1815)\r\nrustc_driver-22379f3767b935ec.dll!rustc_data_structures::sync::join<closure-0,closure-1,rustc_middle::middle::cstore::EncodedMetadata,()>() Line 160\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_data_structures\\sync.rs(160)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_metadata::rmeta::encoder::encode_metadata() Line 1814\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_metadata\\rmeta\\encoder.rs(1814)\r\nrustc_driver-22379f3767b935ec.dll!rustc_metadata::rmeta::decoder::cstore_impl::{{impl}}::encode_metadata() Line 503\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_metadata\\rmeta\\decoder\\cstore_impl.rs(503)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::TyCtxt::encode_metadata() Line 1287\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\context.rs(1287)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::passes::encode_and_write_metadata() Line 957\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\passes.rs(957)\r\nrustc_driver-22379f3767b935ec.dll!rustc_interface::passes::start_codegen() Line 1004\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\passes.rs(1004)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::queries::{{impl}}::ongoing_codegen::{{closure}}::{{closure}}() Line 282\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\queries.rs(282)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::tls::enter_global::{{closure}}() Line 1683\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\context.rs(1683)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::tls::enter_context::{{closure}}() Line 1671\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\context.rs(1671)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::tls::set_tlv() Line 1655\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\context.rs(1655)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::tls::enter_context() Line 1671\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\context.rs(1671)\r\nrustc_driver-22379f3767b935ec.dll!rustc_middle::ty::context::tls::enter_global<closure-0,core::result::Result<alloc::boxed::Box<Any>, rustc_errors::ErrorReported>>() Line 1694\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_middle\\ty\\context.rs(1694)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::passes::QueryContext::enter() Line 742\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\passes.rs(742)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::queries::{{impl}}::ongoing_codegen::{{closure}}() Line 273\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\queries.rs(273)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::queries::Query::compute() Line 34\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\queries.rs(34)\r\nrustc_driver-22379f3767b935ec.dll!rustc_interface::queries::Queries::ongoing_codegen() Line 271\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\queries.rs(271)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_driver::run_compiler::{{closure}}::{{closure}}() Line 387\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_driver\\lib.rs(387)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::interface::Compiler::enter() Line 385\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\queries.rs(385)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_driver::run_compiler::{{closure}}() Line 258\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_driver\\lib.rs(258)\r\nrustc_driver-22379f3767b935ec.dll!rustc_interface::interface::run_compiler_in_existing_thread_pool<core::result::Result<(), rustc_errors::ErrorReported>,closure-4>() Line 199\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\interface.rs(199)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::interface::run_compiler::{{closure}}() Line 213\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\interface.rs(213)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::util::spawn_thread_pool::{{closure}}::{{closure}}::{{closure}}() Line 153\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\util.rs(153)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!scoped_tls::ScopedKey::set() Line 137\r\n\tat C:\\Users\\we\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\scoped-tls-1.0.0\\src\\lib.rs(137)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::util::spawn_thread_pool::{{closure}}::{{closure}}() Line 149\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\util.rs(149)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!scoped_tls::ScopedKey::set() Line 137\r\n\tat C:\\Users\\we\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\scoped-tls-1.0.0\\src\\lib.rs(137)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_ast::attr::with_globals::{{closure}}() Line 44\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_ast\\attr\\mod.rs(44)\r\nrustc_driver-22379f3767b935ec.dll!scoped_tls::ScopedKey::set<rustc_ast::attr::Globals,closure-0,core::result::Result<(), rustc_errors::ErrorReported>>() Line 137\r\n\tat C:\\Users\\we\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\scoped-tls-1.0.0\\src\\lib.rs(137)\r\nrustc_driver-22379f3767b935ec.dll!rustc_ast::attr::with_globals<core::result::Result<(), rustc_errors::ErrorReported>,closure-0>() Line 0\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_ast\\attr\\mod.rs(0)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!rustc_interface::util::scoped_thread::{{closure}}() Line 123\r\n\tat C:\\msys64\\home\\we\\rust\\src\\librustc_interface\\util.rs(123)\r\nrustc_driver-22379f3767b935ec.dll!std::sys_common::backtrace::__rust_begin_short_backtrace<closure-0,()>() Line 130\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\sys_common\\backtrace.rs(130)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::thread::{{impl}}::spawn_unchecked::{{closure}}::{{closure}}() Line 475\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\mod.rs(475)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::panic::{{impl}}::call_once() Line 318\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\panic.rs(318)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::panicking::try::do_call() Line 297\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\panicking.rs(297)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::panicking::try() Line 274\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\panicking.rs(274)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::panic::catch_unwind() Line 394\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\panic.rs(394)\r\n[Inline Frame] rustc_driver-22379f3767b935ec.dll!std::thread::{{impl}}::spawn_unchecked::{{closure}}() Line 474\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\thread\\mod.rs(474)\r\nrustc_driver-22379f3767b935ec.dll!core::ops::function::FnOnce::call_once<closure-0,()>() Line 232\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libcore\\ops\\function.rs(232)\r\n[Inline Frame] std-d61da64fa9946585.dll!alloc::boxed::{{impl}}::call_once() Line 1034\r\n\tat C:\\msys64\\home\\we\\rust\\src\\liballoc\\boxed.rs(1034)\r\n[Inline Frame] std-d61da64fa9946585.dll!alloc::boxed::{{impl}}::call_once() Line 1034\r\n\tat C:\\msys64\\home\\we\\rust\\src\\liballoc\\boxed.rs(1034)\r\nstd-d61da64fa9946585.dll!std::sys::windows::thread::{{impl}}::new::thread_start() Line 56\r\n\tat C:\\msys64\\home\\we\\rust\\src\\libstd\\sys\\windows\\thread.rs(56)\r\nkernel32.dll!BaseThreadInitThunk\u001e()\r\nntdll.dll!RtlUserThreadStart\u001e()\r\n```\r\n\r\ncc @alexcrichton probably", "closed_by": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/71936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/71936/timeline", "performed_via_github_app": null, "state_reason": "completed"}