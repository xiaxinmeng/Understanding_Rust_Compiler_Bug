{"url": "https://api.github.com/repos/rust-lang/rust/issues/111101", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/111101/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/111101/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/111101/events", "html_url": "https://github.com/rust-lang/rust/issues/111101", "id": 1692824509, "node_id": "I_kwDOAAsO6M5k5nO9", "number": 111101, "title": "rustdoc: synthetic impls don't include bounds that originate from the implementing type", "user": {"login": "fmease", "id": 14913065, "node_id": "MDQ6VXNlcjE0OTEzMDY1", "avatar_url": "https://avatars.githubusercontent.com/u/14913065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmease", "html_url": "https://github.com/fmease", "followers_url": "https://api.github.com/users/fmease/followers", "following_url": "https://api.github.com/users/fmease/following{/other_user}", "gists_url": "https://api.github.com/users/fmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmease/subscriptions", "organizations_url": "https://api.github.com/users/fmease/orgs", "repos_url": "https://api.github.com/users/fmease/repos", "events_url": "https://api.github.com/users/fmease/events{/privacy}", "received_events_url": "https://api.github.com/users/fmease/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1118598314, "node_id": "MDU6TGFiZWwxMTE4NTk4MzE0", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-synthetic-impls", "name": "A-synthetic-impls", "color": "f7e101", "default": false, "description": "Area: Synthetic impls, used by rustdoc to document auto traits and traits with blanket impls"}, {"id": 3771326768, "node_id": "LA_kwDOAAsO6M7gyeEw", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-auto-traits", "name": "A-auto-traits", "color": "f7e101", "default": false, "description": "Area: auto traits (`auto trait Send`)"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-02T17:38:14Z", "updated_at": "2023-05-08T16:20:11Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For example, given\r\n\r\n```rs\r\npub struct Ty<T: Clone>(T);\r\n```\r\n\r\nthe impl of the auto trait `Send` synthesized for the generic type `Ty` looks like\r\n\r\n```rs\r\nimpl<T> Send for Ty<T>\r\nwhere\r\n    T: Send\r\n```\r\n\r\nwhile ideally its where clause should be `where T: Clone + Send` since in its current form it isn't well-typed: *the trait bound `T: Clone` is not satisfied* (strictly speaking a manual `Send` impl would have to be additionally marked as `unsafe` to be well-formed but the omission is by design).\r\n\r\nAccording to the following paragraph from the PR description of the initial implementation of synthetic impls (#47833):\r\n\r\n> All of this means that a user should be able to copy-paste a [synthetic impl] into their code, without any observable changes in behavior (assuming the rest of the program remains unchanged).\r\n\r\nIf we want to conform to this rule then the current behavior is incorrect (although it goes all the way back to said PR) since a copy-paste will lead to a type error.\r\n\r\nMaybe all of this is intentional (less clutter, disk size reduction)? Opening for discussion (my bias: bug).\r\n\r\n@rustbot label C-bug T-rustdoc A-auto-traits A-synthetic-impls", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/111101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/111101/timeline", "performed_via_github_app": null, "state_reason": null}