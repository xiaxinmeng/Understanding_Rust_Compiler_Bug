{"url": "https://api.github.com/repos/rust-lang/rust/issues/33187", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33187/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33187/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33187/events", "html_url": "https://github.com/rust-lang/rust/issues/33187", "id": 150718828, "node_id": "MDU6SXNzdWUxNTA3MTg4Mjg=", "number": 33187, "title": "ICE in specialization_graph with bound on associated type", "user": {"login": "eefriedman", "id": 12769964, "node_id": "MDQ6VXNlcjEyNzY5OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eefriedman", "html_url": "https://github.com/eefriedman", "followers_url": "https://api.github.com/users/eefriedman/followers", "following_url": "https://api.github.com/users/eefriedman/following{/other_user}", "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions", "organizations_url": "https://api.github.com/users/eefriedman/orgs", "repos_url": "https://api.github.com/users/eefriedman/repos", "events_url": "https://api.github.com/users/eefriedman/events{/privacy}", "received_events_url": "https://api.github.com/users/eefriedman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 347795552, "node_id": "MDU6TGFiZWwzNDc3OTU1NTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-specialization", "name": "A-specialization", "color": "f7e101", "default": false, "description": "Area: Trait impl specialization"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-25T00:55:49Z", "updated_at": "2017-01-05T15:05:32Z", "closed_at": "2017-01-05T15:05:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\nstruct Foo<A>;\n\nimpl<A: Copy> Copy for Foo<A> where <A as Repr>::Data:Copy { }\n\ntrait Repr {\n    type Data;\n}\n\nimpl<A> Repr for A {\n    type Data = u32;\n}\n\nfn main() {\n}\n```\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', ../src/libcore/option.rs:325\nstack backtrace:\n   1:     0x7ff75f60f9f0 - std::sys::backtrace::tracing::imp::write::h9fb600083204ae7f\n   2:     0x7ff75f61d11b - std::panicking::default_hook::_$u7b$$u7b$closure$u7d$$u7d$::hca543c34f11229ac\n   3:     0x7ff75f61ccbc - std::panicking::default_hook::hc2c969e7453d080c\n   4:     0x7ff75f5e1caf - std::sys_common::unwind::begin_unwind_inner::h30e12d15ce2b2e25\n   5:     0x7ff75f5e3d98 - std::sys_common::unwind::begin_unwind_fmt::hb2de8a9968d38523\n   6:     0x7ff75f60d241 - rust_begin_unwind\n   7:     0x7ff75f666b3f - core::panicking::panic_fmt::h257ceb0aa351d801\n   8:     0x7ff75f667638 - core::panicking::panic::h4bb1497076d04ab9\n   9:     0x7ff75bff05fc - _<traits..specialize..specialization_graph..Ancestors<'a, 'tcx> as core..iter..Iterator>::next::h7147156404fb9e05\n  10:     0x7ff75bff0795 - _<core..iter..FlatMap<I, U, F> as core..iter..Iterator>::next::h828d8102cc21304e\n  11:     0x7ff75bfbfcfe - rustc::traits::project::assoc_ty_def::ha7b710e5cc8961da\n  12:     0x7ff75bfbc38e - rustc::traits::project::opt_normalize_projection_type::hd401bc5d8f51dd72\n  13:     0x7ff75bfa71a6 - rustc::traits::project::normalize_projection_type::h25faf43528a9cab3\n  14:     0x7ff75be5922c - _<traits..project..AssociatedTypeNormalizer<'a, 'b, 'tcx> as ty..fold..TypeFolder<'tcx>>::fold_ty::h68ee7bafadfb4356\n  15:     0x7ff75bf8d264 - rustc::ty::fold::TypeFolder::fold_substs::h3aaf2aa2e6bf8bc7\n  16:     0x7ff75bf8cfb2 - rustc::ty::fold::TypeFolder::fold_trait_ref::h40721108f270d5d5\n  17:     0x7ff75bf8cec5 - rustc::ty::structural_impls::_<impl ty..fold..TypeFoldable<'tcx> for ty..Predicate<'tcx>>::super_fold_with::h131e072307513cfa\n  18:     0x7ff75bf8cc70 - _<collections..vec..Vec<T> as core..iter..FromIterator<T>>::from_iter::h28505a0ca1d1fa32\n  19:     0x7ff75bf8c4dd - rustc::traits::project::normalize_with_depth::hc94c585f83408487\n  20:     0x7ff75bf8a440 - rustc::traits::normalize_param_env_or_error::he5dcfc543f46138d\n  21:     0x7ff75bfe66b5 - rustc::ty::_<impl ty..context..TyCtxt<'tcx>>::construct_parameter_environment::h39e7cc89dbbc65e8\n  22:     0x7ff75bf12779 - rustc::ty::ParameterEnvironment::for_item::h60bbcc27637ed544\n  23:     0x7ff75cd41e29 - rustc_typeck::coherence::CoherenceChecker::check_implementations_of_copy::_$u7b$$u7b$closure$u7d$$u7d$::h0b460e93c34c1f3b\n  24:     0x7ff75cc3f707 - rustc_typeck::coherence::check_coherence::hf9aadc549bfbd78c\n  25:     0x7ff75cc383b4 - rustc_typeck::check_crate::hb08ba31a6a5f65b5\n  26:     0x7ff75fb6b6b0 - rustc_driver::driver::phase_3_run_analysis_passes::_$u7b$$u7b$closure$u7d$$u7d$::h5a042a091cd7658c\n  27:     0x7ff75fb69798 - rustc::ty::context::TyCtxt::create_and_enter::h3f9051bcccbd93e4\n  28:     0x7ff75fb661ae - rustc_driver::driver::phase_3_run_analysis_passes::h9c723484c588a35b\n  29:     0x7ff75fb387af - rustc_driver::driver::compile_input::h0629572e6f316b31\n  30:     0x7ff75fb203e4 - rustc_driver::run_compiler::h8902aebf8b1849a8\n  31:     0x7ff75fb1d851 - std::sys_common::unwind::try::try_fn::h4c74456035d0fcc7\n  32:     0x7ff75f60d1cb - __rust_try\n  33:     0x7ff75f60d15d - std::sys_common::unwind::inner_try::h47a4d9cd4a369dcd\n  34:     0x7ff75fb1e09a - _<F as std..boxed..FnBox<A>>::call_box::h27f542a39f1d61ef\n  35:     0x7ff75f61b2b4 - std::sys::thread::Thread::new::thread_start::h6f266e069bf4ec2b\n  36:     0x7ff757437423 - start_thread\n  37:     0x7ff75f279cbc - clone\n  38:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33187/timeline", "performed_via_github_app": null, "state_reason": "completed"}