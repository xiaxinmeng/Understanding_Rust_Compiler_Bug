{"url": "https://api.github.com/repos/rust-lang/rust/issues/30742", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/30742/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30742/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/30742/events", "html_url": "https://github.com/rust-lang/rust/issues/30742", "id": 125223097, "node_id": "MDU6SXNzdWUxMjUyMjMwOTc=", "number": 30742, "title": "make: compiler-rt fails with \"Command not found\"", "user": {"login": "joerg-krause", "id": 6870896, "node_id": "MDQ6VXNlcjY4NzA4OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6870896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joerg-krause", "html_url": "https://github.com/joerg-krause", "followers_url": "https://api.github.com/users/joerg-krause/followers", "following_url": "https://api.github.com/users/joerg-krause/following{/other_user}", "gists_url": "https://api.github.com/users/joerg-krause/gists{/gist_id}", "starred_url": "https://api.github.com/users/joerg-krause/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joerg-krause/subscriptions", "organizations_url": "https://api.github.com/users/joerg-krause/orgs", "repos_url": "https://api.github.com/users/joerg-krause/repos", "events_url": "https://api.github.com/users/joerg-krause/events{/privacy}", "received_events_url": "https://api.github.com/users/joerg-krause/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-06T17:25:37Z", "updated_at": "2016-01-06T18:13:41Z", "closed_at": "2016-01-06T18:13:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am trying to bootstrap rust for an ARMv5 soft-float target with the musl C library. For this I created a custom target backend `arm-unknown-linux-musl`. I am using a musl cross-compiler build with Buildroot as input for `musl-root`.\n\nI can run configure and run make successfully:\n\n``` sh\n$ ../configure --target=arm-unknown-linux-musl --prefix=$HOME/rust-cross --disable-jemalloc --disable-docs --disable-optimize --musl-root=$HOME/arm-buildroot-linux-musleabi/sysroot\n$ make -j8\n```\n\nHowever, make install fails after stage2 when building compiler-rt with:\n\n``` sh\n$ make install\n[..]\nmake: compiler-rt\nmake[2]: Entering directory '/home/joerg/Development/git/rust/src/compiler-rt'\n  COMPILE:   triple/builtins/arm: /home/joerg/Development/git/rust/src/compiler-rt/lib/builtins/absvdi2.c\nmake[2]: I/home/joerg/Development/git/rust/src/compiler-rt/lib: Command not found\nMakefile:267: recipe for target '/home/joerg/Development/git/rust/build-cross/arm-unknown-linux-musl/rt/compiler-rt/triple/builtins/arm/SubDir.lib__builtins/absvdi2.o' failed\n```\n\nI know that ARMv5 and musl for ARM are currently not supported by Rust. However, I think this issue has something to do with the Makefile/CMakeLists.txt.\n\nUnfortunatly, it is very time consuming to experiment with the build system, so maybe someone has an idea were to look at or how to prevent rust from starting each build from scratch.\n", "closed_by": {"login": "joerg-krause", "id": 6870896, "node_id": "MDQ6VXNlcjY4NzA4OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6870896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joerg-krause", "html_url": "https://github.com/joerg-krause", "followers_url": "https://api.github.com/users/joerg-krause/followers", "following_url": "https://api.github.com/users/joerg-krause/following{/other_user}", "gists_url": "https://api.github.com/users/joerg-krause/gists{/gist_id}", "starred_url": "https://api.github.com/users/joerg-krause/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joerg-krause/subscriptions", "organizations_url": "https://api.github.com/users/joerg-krause/orgs", "repos_url": "https://api.github.com/users/joerg-krause/repos", "events_url": "https://api.github.com/users/joerg-krause/events{/privacy}", "received_events_url": "https://api.github.com/users/joerg-krause/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/30742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/30742/timeline", "performed_via_github_app": null, "state_reason": "completed"}