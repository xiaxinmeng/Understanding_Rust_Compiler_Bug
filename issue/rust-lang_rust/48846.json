{"url": "https://api.github.com/repos/rust-lang/rust/issues/48846", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48846/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48846/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48846/events", "html_url": "https://github.com/rust-lang/rust/issues/48846", "id": 303521493, "node_id": "MDU6SXNzdWUzMDM1MjE0OTM=", "number": 48846, "title": "50-110% compilation time regressions due to miri ", "user": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113376, "node_id": "MDU6TGFiZWwxMTMzNzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-slow", "name": "I-slow", "color": "e10c02", "default": false, "description": "Problems and improvements with respect to performance of generated code."}, {"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 234956, "node_id": "MDU6TGFiZWwyMzQ5NTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-codegen", "name": "A-codegen", "color": "f7e101", "default": false, "description": "Area: Code generation"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 849077850, "node_id": "MDU6TGFiZWw4NDkwNzc4NTA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/WG-compiler-performance", "name": "WG-compiler-performance", "color": "c2e0c6", "default": false, "description": "Working group: Compiler Performance"}, {"id": 900795185, "node_id": "MDU6TGFiZWw5MDA3OTUxODU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-const-eval", "name": "A-const-eval", "color": "f7e101", "default": false, "description": "Area: constant evaluation (mir interpretation)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-03-08T15:30:34Z", "updated_at": "2019-01-28T11:51:46Z", "closed_at": "2019-01-28T11:51:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It's not clear yet whether mir interpretation is the culprit or some changes that crept into the same PR.\r\n\r\nPerf data: http://perf.rust-lang.org/compare.html?start=cdcca786468a71375584bb48e3093790c91084f7&end=c90f68224b069f5bb2a80e30e2737e4bb17c1466&stat=instructions:u\r\n\r\ncc @nikomatsakis @michaelwoerister \r\n\r\n# Important regressions to investigate\r\n\r\n* [ ] tuple-stress | avg: 35.0% | min: 9.8% | max: 109.4%\r\n  - clean-incremental is a >100% hit! The rest are small.\r\n* [ ] tuple-stress-opt | avg: 45.9% | min: 23.1% | max: 109.1%\r\n  - same, clean-incremental is a >100% hit!\r\n* [ ] encoding-opt | avg: 48.9% | min: 7.0% | max: 97.6%\r\n  - clean incremental-opt\r\n  - patched incremental: println-opt\r\n* [ ] encoding | avg: 56.3% | min: 18.1% | max: 94.9%\r\n  - clean is ~ 20%, as is baseline incremental\r\n  - incremental cases are almost 100%\r\n* [ ] coercions-opt | avg: 46.9% | min: 31.8% | max: 74.6%\r\n  - pretty universally bad, though incremental hurts worse\r\n* [ ] coercions | avg: 37.0% | min: 24.3% | max: 66.6%\r\n  - pretty universally bad, though incremental hurts worse\r\n* [ ] html5ever-opt | avg: 18.3% | min: 5.6% | max: 41.3%\r\n  - incremental\r\n* [ ] inflate | avg: 29.4% | min: 1.3% | max: 40.4%\r\n  - universally bad, though incremental hurts worse\r\n* [ ] regex-opt | avg: -0.2% | min: -18.0% | max: 4.7%\r\n  - patched incremental: byte frequencies-opt\r\n* [ ] script-servo-opt | avg: 4.8% | min: 0.7% | max: 12.1%\r\n  - clean incremental-opt\r\n* [ ] script-servo | avg: 6.0% | min: 1.7% | max: 11.6%\r\n  - clean incremental\r\n* [ ] inflate-opt | avg: 7.7% | min: 1.2% | max: 11.6%\r\n  - incremental cases primarily\r\n\r\n\r\n", "closed_by": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48846/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48846/timeline", "performed_via_github_app": null, "state_reason": "completed"}