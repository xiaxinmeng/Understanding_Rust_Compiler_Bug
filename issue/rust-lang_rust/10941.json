{"url": "https://api.github.com/repos/rust-lang/rust/issues/10941", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/10941/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/10941/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/10941/events", "html_url": "https://github.com/rust-lang/rust/issues/10941", "id": 24204964, "node_id": "MDU6SXNzdWUyNDIwNDk2NA==", "number": 10941, "title": "can't build head on my os x 10.8 machine", "user": {"login": "cartazio", "id": 4290, "node_id": "MDQ6VXNlcjQyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cartazio", "html_url": "https://github.com/cartazio", "followers_url": "https://api.github.com/users/cartazio/followers", "following_url": "https://api.github.com/users/cartazio/following{/other_user}", "gists_url": "https://api.github.com/users/cartazio/gists{/gist_id}", "starred_url": "https://api.github.com/users/cartazio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cartazio/subscriptions", "organizations_url": "https://api.github.com/users/cartazio/orgs", "repos_url": "https://api.github.com/users/cartazio/repos", "events_url": "https://api.github.com/users/cartazio/events{/privacy}", "received_events_url": "https://api.github.com/users/cartazio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2013-12-12T20:11:51Z", "updated_at": "2013-12-13T23:29:24Z", "closed_at": "2013-12-13T23:28:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I recently installed rust head a few days ago, and today I did a clone into a directory so i could peruse rustc source. I just tried to build that clone today, at commit 1b12dca7f97a51c6cbb4f47ea6e095d841a97c1a and the install fails.\n\nheres the relevant build log\n\nnb: i have xcode 5 installed, but the gcc in my path is gcc 4.8.\n\n```\n\ncompile_and_link: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/libstd.dylib\nlink: x86_64-apple-darwin/rustllvm/librustllvm.a\ncp: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustllvm.a\ncp: x86_64-apple-darwin/stage1/lib/rustc/x86_64-apple-darwin/lib/librustllvm.a\ncp: x86_64-apple-darwin/stage2/lib/rustc/x86_64-apple-darwin/lib/librustllvm.a\n/Users/carter/Desktop/repoScratcher/rust/src/libstd/lib.rs:46:0: 46:23 warning: unknown crate attribute, #[warn(attribute_usage)] on by default\n/Users/carter/Desktop/repoScratcher/rust/src/libstd/lib.rs:46 #[pkgid=\"std#0.9-pre\"];\n                                                              ^~~~~~~~~~~~~~~~~~~~~~~\ncompile_and_link: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/libextra.dylib\ncompile_and_link: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustuv.dylib\n/Users/carter/Desktop/repoScratcher/rust/src/librustuv/lib.rs:37:0: 37:26 warning: unknown crate attribute, #[warn(attribute_usage)] on by default\n/Users/carter/Desktop/repoScratcher/rust/src/librustuv/lib.rs:37 #[pkgid=\"rustuv#0.9-pre\"];\n                                                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/Users/carter/Desktop/repoScratcher/rust/src/libextra/lib.rs:23:0: 23:25 warning: unknown crate attribute, #[warn(attribute_usage)] on by default\n/Users/carter/Desktop/repoScratcher/rust/src/libextra/lib.rs:23 #[pkgid=\"extra#0.9-pre\"];\n                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~\ncp: x86_64-apple-darwin/stage1/lib/libstd.dylib\ncp: x86_64-apple-darwin/stage1/lib/librustuv.dylib\ncompile_and_link: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/libsyntax.dylib\ncp: x86_64-apple-darwin/stage1/lib/libextra.dylib\n/Users/carter/Desktop/repoScratcher/rust/src/libsyntax/lib.rs:16:0: 16:26 warning: unknown crate attribute, #[warn(attribute_usage)] on by default\n/Users/carter/Desktop/repoScratcher/rust/src/libsyntax/lib.rs:16 #[pkgid=\"syntax#0.9-pre\"];\n                                                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~\ncompile_and_link: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc.dylib\ncp: x86_64-apple-darwin/stage1/lib/libsyntax.dylib\n/Users/carter/Desktop/repoScratcher/rust/src/librustc/lib.rs:11:0: 11:25 warning: unknown crate attribute, #[warn(attribute_usage)] on by default\n/Users/carter/Desktop/repoScratcher/rust/src/librustc/lib.rs:11 #[pkgid=\"rustc#0.9-pre\"];\n                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~\nerror: linking with `cc` failed: exit code: 1\nnote: cc arguments: '-m64' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-o' 'x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc-8581899a03b03e-0.9-pre.dylib' 'x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/rustc.o' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib' '-L/Users/carter/Desktop/repoScratcher/rust/.rust' '-L/Users/carter/Desktop/repoScratcher/rust' '-lrustllvm' '-lstdc++' '-lLLVMInstrumentation' '-lLLVMInterpreter' '-lLLVMMCJIT' '-lLLVMJIT' '-lLLVMRuntimeDyld' '-lLLVMExecutionEngine' '-lLLVMAsmParser' '-lLLVMLinker' '-lLLVMBitWriter' '-lLLVMBitReader' '-lLLVMipo' '-lLLVMVectorize' '-lLLVMMipsDisassembler' '-lLLVMMipsCodeGen' '-lLLVMMipsAsmParser' '-lLLVMMipsDesc' '-lLLVMMipsInfo' '-lLLVMMipsAsmPrinter' '-lLLVMARMDisassembler' '-lLLVMARMCodeGen' '-lLLVMARMAsmParser' '-lLLVMARMDesc' '-lLLVMARMInfo' '-lLLVMARMAsmPrinter' '-lLLVMX86Disassembler' '-lLLVMX86AsmParser' '-lLLVMX86CodeGen' '-lLLVMSelectionDAG' '-lLLVMAsmPrinter' '-lLLVMMCParser' '-lLLVMCodeGen' '-lLLVMObjCARCOpts' '-lLLVMScalarOpts' '-lLLVMInstCombine' '-lLLVMTransformUtils' '-lLLVMipa' '-lLLVMAnalysis' '-lLLVMX86Desc' '-lLLVMX86Info' '-lLLVMTarget' '-lLLVMX86AsmPrinter' '-lLLVMMC' '-lLLVMObject' '-lLLVMX86Utils' '-lLLVMCore' '-lLLVMSupport' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-lstd-6425b930ca146ae9-0.9-pre' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-lextra-aaa96aab146eb38e-0.9-pre' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-lsyntax-2bb2d559d93ae8f0-0.9-pre' '-lpthread' '-lstdc++' '-dynamiclib' '-Wl,-dylib' '-Wl,-install_name,@rpath/librustc-8581899a03b03e-0.9-pre.dylib' '-lmorestack' '-Wl,-rpath,@loader_path/.' '-Wl,-rpath,/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-Wl,-rpath,/usr/local/lib/rustc/x86_64-apple-darwin/lib'\nnote: ld: warning: directory not found for option '-L/Users/carter/Desktop/repoScratcher/rust/.rust'\nUndefined symbols for architecture x86_64:\n  \"std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*)\", referenced from:\n      (anonymous namespace)::MemsetRanges::addRange(long long, long long, llvm::Value*, unsigned int, llvm::Instruction*) in libLLVMScalarOpts.a(MemCpyOptimizer.o)\n      (anonymous namespace)::RegToMem::runOnFunction(llvm::Function&) in libLLVMScalarOpts.a(Reg2Mem.o)\n      (anonymous namespace)::MipsELFObjectWriter::sortRelocs(llvm::MCAssembler const&, std::vector<llvm::ELFRelocationEntry, std::allocator<llvm::ELFRelocationEntry> >&) in libLLVMMipsDesc.a(MipsELFObjectWriter.o)\n  \"std::__detail::_List_node_base::_M_unhook()\", referenced from:\n      (anonymous namespace)::MemsetRanges::addRange(long long, long long, llvm::Value*, unsigned int, llvm::Instruction*) in libLLVMScalarOpts.a(MemCpyOptimizer.o)\n      (anonymous namespace)::MipsELFObjectWriter::sortRelocs(llvm::MCAssembler const&, std::vector<llvm::ELFRelocationEntry, std::allocator<llvm::ELFRelocationEntry> >&) in libLLVMMipsDesc.a(MipsELFObjectWriter.o)\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\ntask 'rustc' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/libsyntax/diagnostic.rs:102\ntask '<main>' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/librustc/lib.rs:393\nmake: *** [x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc.dylib] Error 101\ncarter repoScratcher/rust \u2039master\u203a \u00bb make                                                                                                        2 \u21b5\ncfg: build triple x86_64-apple-darwin\ncfg: host triples x86_64-apple-darwin\ncfg: target triples x86_64-apple-darwin\ncfg: enabling more debugging (CFG_ENABLE_DEBUG)\ncfg: host for x86_64-apple-darwin is x86_64\ncfg: os for x86_64-apple-darwin is apple-darwin\ncfg: using gcc\ncfg: no llnextgen found, omitting grammar-verification\ncompile_and_link: x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc.dylib\n/Users/carter/Desktop/repoScratcher/rust/src/librustc/lib.rs:11:0: 11:25 warning: unknown crate attribute, #[warn(attribute_usage)] on by default\n/Users/carter/Desktop/repoScratcher/rust/src/librustc/lib.rs:11 #[pkgid=\"rustc#0.9-pre\"];\n                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~\nerror: linking with `cc` failed: exit code: 1\nnote: cc arguments: '-m64' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-o' 'x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc-8581899a03b03e-0.9-pre.dylib' 'x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/rustc.o' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib' '-L/Users/carter/Desktop/repoScratcher/rust/.rust' '-L/Users/carter/Desktop/repoScratcher/rust' '-lrustllvm' '-lstdc++' '-lLLVMInstrumentation' '-lLLVMInterpreter' '-lLLVMMCJIT' '-lLLVMJIT' '-lLLVMRuntimeDyld' '-lLLVMExecutionEngine' '-lLLVMAsmParser' '-lLLVMLinker' '-lLLVMBitWriter' '-lLLVMBitReader' '-lLLVMipo' '-lLLVMVectorize' '-lLLVMMipsDisassembler' '-lLLVMMipsCodeGen' '-lLLVMMipsAsmParser' '-lLLVMMipsDesc' '-lLLVMMipsInfo' '-lLLVMMipsAsmPrinter' '-lLLVMARMDisassembler' '-lLLVMARMCodeGen' '-lLLVMARMAsmParser' '-lLLVMARMDesc' '-lLLVMARMInfo' '-lLLVMARMAsmPrinter' '-lLLVMX86Disassembler' '-lLLVMX86AsmParser' '-lLLVMX86CodeGen' '-lLLVMSelectionDAG' '-lLLVMAsmPrinter' '-lLLVMMCParser' '-lLLVMCodeGen' '-lLLVMObjCARCOpts' '-lLLVMScalarOpts' '-lLLVMInstCombine' '-lLLVMTransformUtils' '-lLLVMipa' '-lLLVMAnalysis' '-lLLVMX86Desc' '-lLLVMX86Info' '-lLLVMTarget' '-lLLVMX86AsmPrinter' '-lLLVMMC' '-lLLVMObject' '-lLLVMX86Utils' '-lLLVMCore' '-lLLVMSupport' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-lstd-6425b930ca146ae9-0.9-pre' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-lextra-aaa96aab146eb38e-0.9-pre' '-L/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-lsyntax-2bb2d559d93ae8f0-0.9-pre' '-lpthread' '-lstdc++' '-dynamiclib' '-Wl,-dylib' '-Wl,-install_name,@rpath/librustc-8581899a03b03e-0.9-pre.dylib' '-lmorestack' '-Wl,-rpath,@loader_path/.' '-Wl,-rpath,/Users/carter/Desktop/repoScratcher/rust/x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib' '-Wl,-rpath,/usr/local/lib/rustc/x86_64-apple-darwin/lib'\nnote: ld: warning: directory not found for option '-L/Users/carter/Desktop/repoScratcher/rust/.rust'\nUndefined symbols for architecture x86_64:\n  \"std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*)\", referenced from:\n      (anonymous namespace)::MemsetRanges::addRange(long long, long long, llvm::Value*, unsigned int, llvm::Instruction*) in libLLVMScalarOpts.a(MemCpyOptimizer.o)\n      (anonymous namespace)::RegToMem::runOnFunction(llvm::Function&) in libLLVMScalarOpts.a(Reg2Mem.o)\n      (anonymous namespace)::MipsELFObjectWriter::sortRelocs(llvm::MCAssembler const&, std::vector<llvm::ELFRelocationEntry, std::allocator<llvm::ELFRelocationEntry> >&) in libLLVMMipsDesc.a(MipsELFObjectWriter.o)\n  \"std::__detail::_List_node_base::_M_unhook()\", referenced from:\n      (anonymous namespace)::MemsetRanges::addRange(long long, long long, llvm::Value*, unsigned int, llvm::Instruction*) in libLLVMScalarOpts.a(MemCpyOptimizer.o)\n      (anonymous namespace)::MipsELFObjectWriter::sortRelocs(llvm::MCAssembler const&, std::vector<llvm::ELFRelocationEntry, std::allocator<llvm::ELFRelocationEntry> >&) in libLLVMMipsDesc.a(MipsELFObjectWriter.o)\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\ntask 'rustc' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/libsyntax/diagnostic.rs:102\ntask '<main>' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/librustc/lib.rs:393\nmake: *** [x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc.dylib] Error 101\n\n\n```\n", "closed_by": {"login": "cartazio", "id": 4290, "node_id": "MDQ6VXNlcjQyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cartazio", "html_url": "https://github.com/cartazio", "followers_url": "https://api.github.com/users/cartazio/followers", "following_url": "https://api.github.com/users/cartazio/following{/other_user}", "gists_url": "https://api.github.com/users/cartazio/gists{/gist_id}", "starred_url": "https://api.github.com/users/cartazio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cartazio/subscriptions", "organizations_url": "https://api.github.com/users/cartazio/orgs", "repos_url": "https://api.github.com/users/cartazio/repos", "events_url": "https://api.github.com/users/cartazio/events{/privacy}", "received_events_url": "https://api.github.com/users/cartazio/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/10941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/10941/timeline", "performed_via_github_app": null, "state_reason": "completed"}