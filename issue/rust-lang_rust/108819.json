{"url": "https://api.github.com/repos/rust-lang/rust/issues/108819", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/108819/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/108819/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/108819/events", "html_url": "https://github.com/rust-lang/rust/issues/108819", "id": 1611668020, "node_id": "I_kwDOAAsO6M5gEBo0", "number": 108819, "title": "Adding targets for packaged rust installations is very hacky", "user": {"login": "yogo1212", "id": 5165324, "node_id": "MDQ6VXNlcjUxNjUzMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5165324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yogo1212", "html_url": "https://github.com/yogo1212", "followers_url": "https://api.github.com/users/yogo1212/followers", "following_url": "https://api.github.com/users/yogo1212/following{/other_user}", "gists_url": "https://api.github.com/users/yogo1212/gists{/gist_id}", "starred_url": "https://api.github.com/users/yogo1212/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yogo1212/subscriptions", "organizations_url": "https://api.github.com/users/yogo1212/orgs", "repos_url": "https://api.github.com/users/yogo1212/repos", "events_url": "https://api.github.com/users/yogo1212/events{/privacy}", "received_events_url": "https://api.github.com/users/yogo1212/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2352122097, "node_id": "MDU6TGFiZWwyMzUyMTIyMDk3", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-discussion", "name": "C-discussion", "color": "f5f1fd", "default": false, "description": "Category: Discussion or questions that doesn't represent real issues."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-03-06T15:29:12Z", "updated_at": "2023-04-08T17:55:23Z", "closed_at": "2023-04-08T17:54:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Having installed rust through the package manager on Endeavour OS, adding targets like `wasm32-unknown-unknown` is very painful.\r\n\r\nThe compiler suggests the installation through `rustup`:\r\n\r\n```\r\nerror[E0463]: can't find crate for `core`\r\n  |\r\n  = note: the `wasm32-unknown-unknown` target may not be installed\r\n  = help: consider downloading the target with `rustup target add wasm32-unknown-unknown`\r\n\r\nerror[E0463]: can't find crate for `compiler_builtins`\r\n```\r\n\r\nBut `rustup` is incompatible with the `rust` package.\r\nInstalling a target without rustup is apparently not documented publicly or at all intended.\r\nThe manual installation involves listing files on static.rust-lang.org, picking an appropriate version of rust-std, and extracting parts of the archive into the Rust installation dir.\r\nThe installation resides in /usr/include/rustlib/ so packaging is advised and then it really gets out of hand.\r\n\r\nI don't suppose Rust will become easily packagable any time soon but it would be nice to integrate targets with cargo so they can be used with system installations more nicely.", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/108819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/108819/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}