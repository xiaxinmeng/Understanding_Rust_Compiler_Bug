{"url": "https://api.github.com/repos/rust-lang/rust/issues/37207", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37207/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37207/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37207/events", "html_url": "https://github.com/rust-lang/rust/issues/37207", "id": 183249727, "node_id": "MDU6SXNzdWUxODMyNDk3Mjc=", "number": 37207, "title": "--emit=obj for Windows msvc producing .o instead of .obj", "user": {"login": "retep998", "id": 666308, "node_id": "MDQ6VXNlcjY2NjMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retep998", "html_url": "https://github.com/retep998", "followers_url": "https://api.github.com/users/retep998/followers", "following_url": "https://api.github.com/users/retep998/following{/other_user}", "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}", "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retep998/subscriptions", "organizations_url": "https://api.github.com/users/retep998/orgs", "repos_url": "https://api.github.com/users/retep998/repos", "events_url": "https://api.github.com/users/retep998/events{/privacy}", "received_events_url": "https://api.github.com/users/retep998/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}, {"id": 266005765, "node_id": "MDU6TGFiZWwyNjYwMDU3NjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows-msvc", "name": "O-windows-msvc", "color": "6e6ec0", "default": false, "description": "Toolchain: MSVC, Operating system: Windows"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-10-16T05:16:10Z", "updated_at": "2017-07-26T16:36:42Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nrustc 1.14.0-nightly (19ac57926 2016-10-08)\r\nbinary: rustc\r\ncommit-hash: 19ac57926abb749a93e2eb84502048d9c57f2d7b\r\ncommit-date: 2016-10-08\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.14.0-nightly\r\n```\r\n\r\nDoing `rustc --emit=obj foo.rs` results in `foo.o` instead of the expected `foo.obj`.\r\n\r\nTODO:\r\n\r\n* [ ] Investigate what automation or tools out there rely on `--emit=obj` using the `.o` extension **and** work with the `pc-windows-msvc` targets.\r\n* [ ] Investigate the feasibility of adjusting such automation or tools to support the `.obj` extension instead for `pc-windows-msvc`.\r\n* [ ] Add a `obj_suffix` to the target options and set it to `obj` only for `pc-windows-msvc` targets.\r\n* [ ] Adjust the aforementioned automation and tools and post something in the release notes.\r\n\r\n\r\nNote that because MSVC is such a *different* target than GNU targets, any sort of automation or tooling that specifically needs object files would already be quite conditional on MSVC being different to invoke the linker correctly and such. Therefore I am of the opinion that the fallout from this change should be minimal and very easy to fix. If anyone can find any examples that prove me wrong, please do so.\r\n\r\nPlaces to search for potential automation or tools: https://github.com/search?utf8=%E2%9C%93&q=--emit+obj&type=Code&ref=searchresults\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37207/timeline", "performed_via_github_app": null, "state_reason": null}