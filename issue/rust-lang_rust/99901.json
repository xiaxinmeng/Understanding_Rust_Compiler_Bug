{"url": "https://api.github.com/repos/rust-lang/rust/issues/99901", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/99901/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/99901/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/99901/events", "html_url": "https://github.com/rust-lang/rust/issues/99901", "id": 1322122300, "node_id": "I_kwDOAAsO6M5Ozfw8", "number": 99901, "title": "Add option to disable checking conditional compilation at compile time in `std`", "user": {"login": "tsoutsman", "id": 32662194, "node_id": "MDQ6VXNlcjMyNjYyMTk0", "avatar_url": "https://avatars.githubusercontent.com/u/32662194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsoutsman", "html_url": "https://github.com/tsoutsman", "followers_url": "https://api.github.com/users/tsoutsman/followers", "following_url": "https://api.github.com/users/tsoutsman/following{/other_user}", "gists_url": "https://api.github.com/users/tsoutsman/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsoutsman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsoutsman/subscriptions", "organizations_url": "https://api.github.com/users/tsoutsman/orgs", "repos_url": "https://api.github.com/users/tsoutsman/repos", "events_url": "https://api.github.com/users/tsoutsman/events{/privacy}", "received_events_url": "https://api.github.com/users/tsoutsman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-29T11:19:16Z", "updated_at": "2022-08-01T07:13:18Z", "closed_at": "2022-07-29T21:13:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I've forked the Rust compiler to add a new target operating system. However, I ran into issues with the work being done for #82450. \r\n\r\nMy builds were failing with the following error:\r\n```\r\nerror: unexpected `cfg` condition value\r\n  --> library/std/src/sys/mod.rs:40:21\r\n   |\r\n40 |     } else if #[cfg(target_os = \"theseus\")] {\r\n   |                     ^^^^^^^^^\r\n   |\r\n   = note: `-D unexpected-cfgs` implied by `-D warnings`\r\n   = note: expected values for `target_os` are: android, cuda, dragonfly, emscripten, espidf, freebsd, fuchsia, haiku, hermit, horizon, illumos, ios, l4re, linux, macos, netbsd, none, openbsd, psp, redox, solaris, solid_asp3, tvos, uefi, unknown, vxworks, wasi, watchos, windows, xous\r\n```\r\neven when using a custom target spec with `os: \"theseus\"`. To circumvent the issue [I removed the checks](https://github.com/theseus-os/rust/pull/2/commits/1e95d1023e7490e6c8145f0bbfbc97af697a9191), but this isn't an ideal fix. I'm not sure what the best solution is, but it should be mentioned on the [Adding a new target](https://rustc-dev-guide.rust-lang.org/building/new-target.html) page in the rustc dev guide.", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/99901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/99901/timeline", "performed_via_github_app": null, "state_reason": "completed"}