{"url": "https://api.github.com/repos/rust-lang/rust/issues/17251", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17251/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17251/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17251/events", "html_url": "https://github.com/rust-lang/rust/issues/17251", "id": 42716970, "node_id": "MDU6SXNzdWU0MjcxNjk3MA==", "number": 17251, "title": "Windows 32 bits nightlies fail to compile a simple hello world", "user": {"login": "tomaka", "id": 1412254, "node_id": "MDQ6VXNlcjE0MTIyNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1412254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaka", "html_url": "https://github.com/tomaka", "followers_url": "https://api.github.com/users/tomaka/followers", "following_url": "https://api.github.com/users/tomaka/following{/other_user}", "gists_url": "https://api.github.com/users/tomaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaka/subscriptions", "organizations_url": "https://api.github.com/users/tomaka/orgs", "repos_url": "https://api.github.com/users/tomaka/repos", "events_url": "https://api.github.com/users/tomaka/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-09-14T09:40:04Z", "updated_at": "2014-09-25T02:38:43Z", "closed_at": "2014-09-25T02:38:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is probably due to the fact that MinGW is now packaged in rustc. These are the first nightlies where this is the case.\nVersion: `rustc 0.12.0-pre-nightly (ccae356ac 2014-09-12 23:30:54 +0000)`\n\nNote: This is on the 32 bits nightlies. It may also happen in the 64 bits nightlies, but I couldn't test it because of https://github.com/rust-lang/rust/issues/13501#issuecomment-55520511\n\n```\ncargo new test --bin\ncd test\ncargo build\n```\n\nFails with:\n\n```\nerror: linking with `gcc` failed: exit code: 1\nnote: gcc '-m32' '-L' 'C:\\Compilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib' '-o'\n 'C:\\Users\\Tomaka17\\Projets\\test\\target\\test.exe' 'C:\\Users\\Tomaka17\\Projets\\tes\nt\\target\\test.o' '-Wl,--whole-archive' '-lmorestack' '-Wl,--no-whole-archive' '-\nfno-lto' '-fno-use-linker-plugin' '-Wl,--gc-sections' '-shared-libgcc' '-Wl,--en\nable-long-section-names' '-Wl,--nxcompat' '-Wl,--dynamicbase' '-Wl,--large-addre\nss-aware' 'C:\\Compilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\libnative-4e7c5e5\nc.rlib' 'C:\\Compilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\libstd-4e7c5e5c.rli\nb' 'C:\\Compilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\libsync-4e7c5e5c.rlib' '\nC:\\Compilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\librustrt-4e7c5e5c.rlib' 'C:\n\\Compilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\librand-4e7c5e5c.rlib' 'C:\\Com\npilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\libcollections-4e7c5e5c.rlib' 'C:\\\nCompilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\libunicode-4e7c5e5c.rlib' 'C:\\C\nompilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\liballoc-4e7c5e5c.rlib' 'C:\\Comp\nilation\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\liblibc-4e7c5e5c.rlib' 'C:\\Compilat\nion\\Rust\\bin\\rustlib\\i686-pc-mingw32\\lib\\libcore-4e7c5e5c.rlib' '-L' 'C:\\Users\\T\nomaka17\\Projets\\test\\target' '-L' 'C:\\Users\\Tomaka17\\Projets\\test\\target\\deps' '\n-L' 'C:\\Users\\Tomaka17\\Projets\\test\\.rust' '-L' 'C:\\Users\\Tomaka17\\Projets\\test'\n '-L' 'C:\\Users\\Tomaka17\\.rust' '-Wl,--whole-archive' '-Wl,-Bstatic' '-Wl,--no-w\nhole-archive' '-Wl,-Bdynamic' '-lws2_32' '-lgcc_s' '-lcompiler-rt'\nnote: c:/compilation/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/lib/\ncrt2.o: In function `_mingw_CRTStartup':\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/crt1.c:217: undefined reference to `__cpu_features_init'\nc:/compilation/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/lib/crt2.o\n: In function `mingw32_init_mainargs':\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/init.c:260: undefined reference to `_CRT_glob'\nc:/compilation/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/lib/crt2.o\n: In function `_mingw_setargv':\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/init.c:120: undefined reference to `_CRT_glob'\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/init.c:155: undefined reference to `_CRT_glob'\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/init.c:241: undefined reference to `__mingw_glob'\nc:/compilation/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/lib/crt2.o\n: In function `mingw32_init_fmode':\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/crt1.c:84: undefined reference to `_CRT_fmode'\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/crt1.c:101: undefined reference to `_CRT_fmode'\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/crt1.c:105: undefined reference to `_CRT_fmode'\nc:/compilation/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/lib/crt2.o\n: In function `_mingw_setargv':\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/init.c:214: undefined reference to `__mingw_glob'\ne:\\p\\giaw\\src\\pkg\\mingwrt-4.0.3-1-mingw32-src\\bld/../mingwrt-4.0.3-1-mingw32-src\n/src/libcrt/crt/init.c:186: undefined reference to `_CRT_glob'\ncollect2.exe: error: ld returned 1 exit status\n\nerror: aborting due to previous error\nCould not compile `test`.\n\nTo learn more, run the command again with --verbose.\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/17251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17251/timeline", "performed_via_github_app": null, "state_reason": "completed"}