{"url": "https://api.github.com/repos/rust-lang/rust/issues/97074", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/97074/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/97074/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/97074/events", "html_url": "https://github.com/rust-lang/rust/issues/97074", "id": 1236926386, "node_id": "I_kwDOAAsO6M5Juf-y", "number": 97074, "title": "Inhibit unused_mut variables if unused_variables is also triggered", "user": {"login": "djc", "id": 158471, "node_id": "MDQ6VXNlcjE1ODQ3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djc", "html_url": "https://github.com/djc", "followers_url": "https://api.github.com/users/djc/followers", "following_url": "https://api.github.com/users/djc/following{/other_user}", "gists_url": "https://api.github.com/users/djc/gists{/gist_id}", "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djc/subscriptions", "organizations_url": "https://api.github.com/users/djc/orgs", "repos_url": "https://api.github.com/users/djc/repos", "events_url": "https://api.github.com/users/djc/events{/privacy}", "received_events_url": "https://api.github.com/users/djc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-16T10:12:21Z", "updated_at": "2022-05-16T10:12:21Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given the following code: <!-- Please provide a link to play.rust-lang.org -->\r\n\r\n```rust\r\nfn main() {\r\n    let mut s = String::from(\"a\");\r\n}\r\n```\r\n\r\n([Playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=0f9622ef596ee0a54b44e64f7e1579b0).)\r\n\r\nThe current output is:\r\n\r\n```\r\nwarning: unused variable: `s`\r\n [--> src/main.rs:2:13\r\n](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2021#)  |\r\n2 |     let mut s = String::from(\"a\");\r\n  |             ^ help: if this is intentional, prefix it with an underscore: `_s`\r\n  |\r\n  = note: `#[warn(unused_variables)]` on by default\r\n\r\nwarning: variable does not need to be mutable\r\n [--> src/main.rs:2:9\r\n](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2021#)  |\r\n2 |     let mut s = String::from(\"a\");\r\n  |         ----^\r\n  |         |\r\n  |         help: remove this `mut`\r\n  |\r\n  = note: `#[warn(unused_mut)]` on by default\r\n\r\nwarning: `playground` (bin \"playground\") generated 2 warnings\r\n```\r\n\r\n```\r\nwarning: unused variable: `s`\r\n [--> src/main.rs:2:13\r\n](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2021#)  |\r\n2 |     let mut s = String::from(\"a\");\r\n  |             ^ help: if this is intentional, prefix it with an underscore: `_s`\r\n  |\r\n  = note: `#[warn(unused_variables)]` on by default\r\n\r\nwarning: variable does not need to be mutable\r\n```\r\n\r\nIt's obvious that an unused variable does not need to be declared mutable, and the extra warning puts more cognitive burden on the reader to figure out what's relevant.\r\n\r\nFound this on 1.60.0, but also still happens on nightly.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/97074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/97074/timeline", "performed_via_github_app": null, "state_reason": null}