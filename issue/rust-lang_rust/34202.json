{"url": "https://api.github.com/repos/rust-lang/rust/issues/34202", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34202/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34202/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34202/events", "html_url": "https://github.com/rust-lang/rust/issues/34202", "id": 159633368, "node_id": "MDU6SXNzdWUxNTk2MzMzNjg=", "number": 34202, "title": "OS Error 10014 (Bad address) when using \"localhost\" in UDP source address on Win7", "user": {"login": "joep27182", "id": 19857404, "node_id": "MDQ6VXNlcjE5ODU3NDA0", "avatar_url": "https://avatars.githubusercontent.com/u/19857404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joep27182", "html_url": "https://github.com/joep27182", "followers_url": "https://api.github.com/users/joep27182/followers", "following_url": "https://api.github.com/users/joep27182/following{/other_user}", "gists_url": "https://api.github.com/users/joep27182/gists{/gist_id}", "starred_url": "https://api.github.com/users/joep27182/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joep27182/subscriptions", "organizations_url": "https://api.github.com/users/joep27182/orgs", "repos_url": "https://api.github.com/users/joep27182/repos", "events_url": "https://api.github.com/users/joep27182/events{/privacy}", "received_events_url": "https://api.github.com/users/joep27182/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-10T13:19:30Z", "updated_at": "2016-11-09T23:13:44Z", "closed_at": "2016-11-09T23:13:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider this code:\n\n```\nuse std::net::UdpSocket;\n\nfn main() {\n    let local_addr = \"localhost:8900\";\n    let target_addr = \"example.com:8900\";\n\n    let socket = UdpSocket::bind(local_addr).unwrap();\n    let buf : [u8; 9] = [176,18,0,9,161,0,0,1,1];\n    socket.send_to(&buf[..],target_addr).unwrap();\n}\n```\n\nwhich fails like this:\n\n`thread '<main>' panicked at 'called`Result::unwrap()`on an`Err`value: Error { repr: Os { code: 10014, message: \"Bei dem Versuch das Zeigerargument eines Aufrufs zu\\r\\nverwenden, wurde eine ung\\u{fc}ltige Zeigeradresse gefunden.\" } }', ../src/libcore\\result.rs:746`\n\nThe error occurs on the last line by the way.\n\nIf you write `let local_addr=\"127.0.0.1:8900\";`, it works just fine (no panic).\n\nIf i remember correctly, this worked on Linux, so it should be an os specific issue. Of course you can just use an ip for the source address, but this kind of error shouldn't occur nevertheless right?\n## Meta\n\nOS: Windows 7 Professional 64bit\n\n`rustc --version --verbose`:\nrustc 1.9.0 (e4e8b6668 2016-05-18)\nbinary: rustc\ncommit-hash: e4e8b666850a763fdf1c3c2c142856ab51e32779\ncommit-date: 2016-05-18\nhost: x86_64-pc-windows-msvc\nrelease: 1.9.0\n\nBacktrace:\n\n```\nstack backtrace:\n   0:        0x13f82138b - std::rt::lang_start::h5b0863080165c75e\n   1:        0x13f82078b - std::rt::lang_start::h5b0863080165c75e\n   2:        0x13f81449f - std::sys_common::unwind::begin_unwind_inner::h39d40f52add53ef7\n   3:        0x13f814f8d - std::sys_common::unwind::begin_unwind_fmt::h64c0ff793199cc1b\n   4:        0x13f81c4ab - rust_begin_unwind\n   5:        0x13f824365 - core::panicking::panic_fmt::h73bf9d7e8e891a73\n   6:        0x13f8115e3 - unwrap_failed<std::io::error::Error>\n                        at [redacted]\\src\\libcore\\macros.rs:29\n   7:        0x13f812c34 - unwrap\n                        at [redacted]\\src\\libcore\\result.rs:687\n   8:        0x13f811197 - main\n                        at [redacted]\\src\\bin\\test_udp_problem.rs:12\n   9:        0x13f820158 - std::rt::lang_start::h5b0863080165c75e\n  10:        0x13f81c418 - std::sys_common::thread_local::StaticKey::lazy_init::h0dbf04c687960888\n  11:        0x13f81ff07 - std::rt::lang_start::h5b0863080165c75e\n  12:        0x13f813179 - main\n  13:        0x13f827c7a - __tmainCRTStartup\n                        at f:\\dd\\vctools\\crt\\crtw32\\dllstuff\\crtexe.c:626\n  14:         0x76cb59bc - BaseThreadInitThunk\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34202/timeline", "performed_via_github_app": null, "state_reason": "completed"}