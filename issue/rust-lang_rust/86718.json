{"url": "https://api.github.com/repos/rust-lang/rust/issues/86718", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/86718/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/86718/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/86718/events", "html_url": "https://github.com/rust-lang/rust/issues/86718", "id": 932912041, "node_id": "MDU6SXNzdWU5MzI5MTIwNDE=", "number": 86718, "title": "Use copy_file_range(2) only on Linux >= 5.3", "user": {"login": "kubo39", "id": 927749, "node_id": "MDQ6VXNlcjkyNzc0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/927749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kubo39", "html_url": "https://github.com/kubo39", "followers_url": "https://api.github.com/users/kubo39/followers", "following_url": "https://api.github.com/users/kubo39/following{/other_user}", "gists_url": "https://api.github.com/users/kubo39/gists{/gist_id}", "starred_url": "https://api.github.com/users/kubo39/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kubo39/subscriptions", "organizations_url": "https://api.github.com/users/kubo39/orgs", "repos_url": "https://api.github.com/users/kubo39/repos", "events_url": "https://api.github.com/users/kubo39/events{/privacy}", "received_events_url": "https://api.github.com/users/kubo39/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-06-29T16:49:36Z", "updated_at": "2021-06-30T02:26:34Z", "closed_at": "2021-06-30T02:26:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In case copy_file_rang(2), [Linux's man page][linux-man] says:\r\n\r\n> A major rework of the kernel implementation occurred in 5.3.\r\n       Areas of the API that weren't clearly defined were clarified and\r\n       the API bounds are much more strictly checked than on earlier\r\n       kernels.  Applications should target the behaviour and\r\n       requirements of 5.3 kernels.\r\n>       First support for cross-filesystem copies was introduced in Linux\r\n       5.3.  Older kernels will return -EXDEV when cross-filesystem\r\n       copies are attempted.\r\n\r\nAnd at least [Go's Issue shows][go-issue] that it's broken in CIFS.\r\nI think it should be fixed like [Go][go-patch] did.\r\n\r\n[linux-man]: https://man7.org/linux/man-pages/man2/copy_file_range.2.html\r\n[go-issue]: https://github.com/golang/go/issues/42400\r\n[go-patch]: https://github.com/golang/go/commit/1c7650aa93bd53b7df0bbb34693fc5a16d9f67af\r\n", "closed_by": {"login": "kubo39", "id": 927749, "node_id": "MDQ6VXNlcjkyNzc0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/927749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kubo39", "html_url": "https://github.com/kubo39", "followers_url": "https://api.github.com/users/kubo39/followers", "following_url": "https://api.github.com/users/kubo39/following{/other_user}", "gists_url": "https://api.github.com/users/kubo39/gists{/gist_id}", "starred_url": "https://api.github.com/users/kubo39/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kubo39/subscriptions", "organizations_url": "https://api.github.com/users/kubo39/orgs", "repos_url": "https://api.github.com/users/kubo39/repos", "events_url": "https://api.github.com/users/kubo39/events{/privacy}", "received_events_url": "https://api.github.com/users/kubo39/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/86718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/86718/timeline", "performed_via_github_app": null, "state_reason": "completed"}