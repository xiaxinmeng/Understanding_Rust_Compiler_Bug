{"url": "https://api.github.com/repos/rust-lang/rust/issues/53907", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/53907/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/53907/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/53907/events", "html_url": "https://github.com/rust-lang/rust/issues/53907", "id": 356302107, "node_id": "MDU6SXNzdWUzNTYzMDIxMDc=", "number": 53907, "title": "When using associated_type_defaults: Why do I need to reimplement method with default impl when overriding assoc type default?", "user": {"login": "Boscop", "id": 535593, "node_id": "MDQ6VXNlcjUzNTU5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/535593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Boscop", "html_url": "https://github.com/Boscop", "followers_url": "https://api.github.com/users/Boscop/followers", "following_url": "https://api.github.com/users/Boscop/following{/other_user}", "gists_url": "https://api.github.com/users/Boscop/gists{/gist_id}", "starred_url": "https://api.github.com/users/Boscop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Boscop/subscriptions", "organizations_url": "https://api.github.com/users/Boscop/orgs", "repos_url": "https://api.github.com/users/Boscop/repos", "events_url": "https://api.github.com/users/Boscop/events{/privacy}", "received_events_url": "https://api.github.com/users/Boscop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 347795552, "node_id": "MDU6TGFiZWwzNDc3OTU1NTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-specialization", "name": "A-specialization", "color": "f7e101", "default": false, "description": "Area: Trait impl specialization"}, {"id": 1472563007, "node_id": "MDU6TGFiZWwxNDcyNTYzMDA3", "url": "https://api.github.com/repos/rust-lang/rust/labels/requires-nightly", "name": "requires-nightly", "color": "76dcde", "default": false, "description": "This issue requires a nightly compiler in some way."}, {"id": 1525709585, "node_id": "MDU6TGFiZWwxNTI1NzA5NTg1", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-associated_type_defaults", "name": "F-associated_type_defaults", "color": "f9c0cc", "default": false, "description": "`#![feature(associated_type_defaults)]`"}], "state": "closed", "locked": false, "assignee": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-09-02T18:11:05Z", "updated_at": "2020-02-26T12:48:50Z", "closed_at": "2020-02-26T12:48:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "rustc 1.30.0-nightly (02cb8f2a4 2018-08-29)\r\n\r\nI'm using `#![feature(associated_type_defaults)]` and getting this error with the code below:\r\n\r\n```\r\nerror[E0399]: the following trait items need to be reimplemented as `Msg` was overridden: `process`\r\n   --> src\\devices\\bcr\\mod.rs:110:2\r\n    |\r\n110 |     type Msg = ();\r\n    |     ^^^^^^^^^^^^^^\r\n```\r\n```rust\r\npub trait DeviceSpecific {\r\n\ttype Dev: Device;\r\n}\r\npub trait DeviceApp<'a>: DeviceSpecific + Persistable {\r\n\ttype Event: 'static;\r\n\ttype BorrowedState;\r\n\tfn init_children_sync_viewers(&mut self, v: &Self::BorrowedState);\r\n\tfn handle_input(&mut self, e: <Self::Dev as Device>::InputEv, v: &mut Self::BorrowedState, now: u64) -> Option<Self::Event>;\r\n\tfn render(&self, device: &mut Self::Dev, v: &Self::BorrowedState);\r\n\tfn process<'b>(&'b mut self, device: &mut Self::Dev, events: Vec<<Self::Dev as Device>::InputEv>, v: &'b mut Self::BorrowedState, now: u64) -> Vec<Self::Event> where 'a: 'b {\r\n\t\tlet r = events.into_iter().filter_map(|e| self.handle_input(e, v, now)).collect();\r\n\t\tself.render(device, v);\r\n\t\tr\r\n\t}\r\n\ttype Msg: 'static = ();\r\n\tfn handle_msg(&mut self, e: Self::Msg);\r\n}\r\n\r\n/////\r\n\r\nimpl<'a> DeviceApp<'a> for BcrAppState {\r\n\ttype Event = ();\r\n\ttype BorrowedState = MyBorrowedState<'a>;\r\n\tfn init_children_sync_viewers(&mut self, v: &Self::BorrowedState) {\r\n\t\t// ...\r\n\t}\r\n\tfn handle_input(&mut self, e: <Self::Dev as Device>::InputEv, v: &mut Self::BorrowedState, now: u64) -> Option<Self::Event> {\r\n\t\t// ...\r\n\t}\r\n\tfn render(&self, device: &mut Self::Dev, v: &Self::BorrowedState) {\r\n\t\t// ...\r\n\t}\r\n\ttype Msg = ();\r\n\tfn handle_msg(&mut self, _e: Self::Msg) {}\r\n}\r\n```\r\n\r\nWhy do I need to reimplement the `process()` method (which has a default impl) when overriding the `Msg` assoc type's default? \r\nWhy can't I keep using the default impl?\r\nThe `process()` method isn't even using the `Msg` assoc type.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/53907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/53907/timeline", "performed_via_github_app": null, "state_reason": "completed"}