{"url": "https://api.github.com/repos/rust-lang/rust/issues/21253", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21253/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21253/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21253/events", "html_url": "https://github.com/rust-lang/rust/issues/21253", "id": 54621030, "node_id": "MDU6SXNzdWU1NDYyMTAzMA==", "number": 21253, "title": "error: internal compiler error: unexpected panic", "user": {"login": "kompass", "id": 6124892, "node_id": "MDQ6VXNlcjYxMjQ4OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/6124892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kompass", "html_url": "https://github.com/kompass", "followers_url": "https://api.github.com/users/kompass/followers", "following_url": "https://api.github.com/users/kompass/following{/other_user}", "gists_url": "https://api.github.com/users/kompass/gists{/gist_id}", "starred_url": "https://api.github.com/users/kompass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kompass/subscriptions", "organizations_url": "https://api.github.com/users/kompass/orgs", "repos_url": "https://api.github.com/users/kompass/repos", "events_url": "https://api.github.com/users/kompass/events{/privacy}", "received_events_url": "https://api.github.com/users/kompass/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-01-16T20:26:36Z", "updated_at": "2015-02-11T12:10:03Z", "closed_at": "2015-02-11T12:10:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I have a compiler error (possible that this is due to my code, but still a compiler bug) !\n\nYou can see here the error :\n\n```\nCompiling inb4command v0.0.1 (file:///home/nicolas/workspace/inb4command)\nsrc/readline.rs:38:15: 38:16 error: numeric character escape is too short\nsrc/readline.rs:38      write(2, \"\\x7\");\n                                    ^\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'index 2 and/or 4 in `\\x7` do not lie on character boundary', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/str/mod.rs:1244\n\n\nCould not compile `inb4command`.\n\nTo learn more, run the command again with --verbose.\n\n```\n\nYou can see the failing code here :\n\n```\n\nuse posix::termios::{termios, tcgetattr, tcsetattr, VMIN, VTIME, TCSAFLUSH, OPOST, CS8};\nuse posix::termios::{BRKINT, ICRNL, INPCK, ISTRIP, IXON, ECHO, ICANON, IEXTEN, ISIG};\nuse posix::unistd::{isatty, write};\nuse util::bitinv;\n\nstruct TermState {\n    rawmode: bool,\n    orig_state: termios,\n}\n\nimpl TermState {\n    fn new() -> Option<TermState> {\n        if isatty(0) == 1 {\n            let mut state = termios::new();\n            tcgetattr(0, &mut state);\n            Some(TermState {rawmode: false, orig_state: state})\n        }\n        else {\n            None\n        }\n    }\n\n    fn enable_rawmode(&self) {\n        if self.rawmode == false {\n            let mut raw = self.orig_state;\n            raw.c_iflag &= bitinv(BRKINT | ICRNL | INPCK | ISTRIP | IXON);\n            raw.c_oflag &= bitinv(OPOST);\n            raw.c_cflag |= (CS8);\n            raw.c_lflag &= bitinv(ECHO | ICANON | IEXTEN | ISIG);\n            raw.c_cc[VMIN] = 1;\n            raw.c_cc[VTIME] = 0;\n\n            tcsetattr(0, TCSAFLUSH, &raw);\n        }\n    }\n\n    fn beep(&self) {\n        write(2, \"\\x7\");\n    }\n}\n\n```\n\nGood luck for the resolution, I am at your disposal !\n", "closed_by": {"login": "jdm", "id": 27658, "node_id": "MDQ6VXNlcjI3NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdm", "html_url": "https://github.com/jdm", "followers_url": "https://api.github.com/users/jdm/followers", "following_url": "https://api.github.com/users/jdm/following{/other_user}", "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdm/subscriptions", "organizations_url": "https://api.github.com/users/jdm/orgs", "repos_url": "https://api.github.com/users/jdm/repos", "events_url": "https://api.github.com/users/jdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jdm/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21253/timeline", "performed_via_github_app": null, "state_reason": "completed"}