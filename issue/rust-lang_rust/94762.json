{"url": "https://api.github.com/repos/rust-lang/rust/issues/94762", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/94762/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/94762/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/94762/events", "html_url": "https://github.com/rust-lang/rust/issues/94762", "id": 1163522840, "node_id": "I_kwDOAAsO6M5FWfMY", "number": 94762, "title": "SIGFPE in rustc LTO", "user": {"login": "AlexApps99", "id": 30854646, "node_id": "MDQ6VXNlcjMwODU0NjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/30854646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexApps99", "html_url": "https://github.com/AlexApps99", "followers_url": "https://api.github.com/users/AlexApps99/followers", "following_url": "https://api.github.com/users/AlexApps99/following{/other_user}", "gists_url": "https://api.github.com/users/AlexApps99/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexApps99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexApps99/subscriptions", "organizations_url": "https://api.github.com/users/AlexApps99/orgs", "repos_url": "https://api.github.com/users/AlexApps99/repos", "events_url": "https://api.github.com/users/AlexApps99/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexApps99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1568663381, "node_id": "MDU6TGFiZWwxNTY4NjYzMzgx", "url": "https://api.github.com/repos/rust-lang/rust/labels/ICEBreaker-LLVM", "name": "ICEBreaker-LLVM", "color": "74cc28", "default": false, "description": "Bugs identified for the LLVM ICE-breaker group"}], "state": "closed", "locked": false, "assignee": {"login": "nikic", "id": 216080, "node_id": "MDQ6VXNlcjIxNjA4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/216080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikic", "html_url": "https://github.com/nikic", "followers_url": "https://api.github.com/users/nikic/followers", "following_url": "https://api.github.com/users/nikic/following{/other_user}", "gists_url": "https://api.github.com/users/nikic/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikic/subscriptions", "organizations_url": "https://api.github.com/users/nikic/orgs", "repos_url": "https://api.github.com/users/nikic/repos", "events_url": "https://api.github.com/users/nikic/events{/privacy}", "received_events_url": "https://api.github.com/users/nikic/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nikic", "id": 216080, "node_id": "MDQ6VXNlcjIxNjA4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/216080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikic", "html_url": "https://github.com/nikic", "followers_url": "https://api.github.com/users/nikic/followers", "following_url": "https://api.github.com/users/nikic/following{/other_user}", "gists_url": "https://api.github.com/users/nikic/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikic/subscriptions", "organizations_url": "https://api.github.com/users/nikic/orgs", "repos_url": "https://api.github.com/users/nikic/repos", "events_url": "https://api.github.com/users/nikic/events{/privacy}", "received_events_url": "https://api.github.com/users/nikic/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2022-03-09T05:57:39Z", "updated_at": "2022-04-18T23:34:21Z", "closed_at": "2022-04-18T23:34:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\n\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n\r\n-->\r\n\r\n### Code\r\n\r\nHaven't minimized it yet, so I won't upload for now\r\n\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.61.0-nightly (1eb72580d 2022-03-08)\r\nbinary: rustc\r\ncommit-hash: 1eb72580d076935a3e590deb6e5813a5aef3eca4\r\ncommit-date: 2022-03-08\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.61.0-nightly\r\nLLVM version: 14.0.0\r\n```\r\n\r\n### Error output\r\n\r\n```\r\n$ rustc --crate-name pipeline --edition=2021 pipeline/src/main.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type bin --emit=dep-info,link -C opt-level=3 -C lto -C codegen-units=1 --cfg 'feature=\"default\"' --cfg 'feature=\"encode\"' --cfg 'feature=\"meshopt\"' --cfg 'feature=\"naga\"' --cfg 'feature=\"tobj\"' --cfg 'feature=\"toml\"' --cfg 'feature=\"walkdir\"' --cfg 'feature=\"zip\"' -C metadata=8d080d47cc91e1a3 -C extra-filename=-8d080d47cc91e1a3 --out-dir /home/lxb/Desktop/gametechII/target/release/deps -C strip=symbols -L dependency=/home/lxb/Desktop/gametechII/target/release/deps --extern anyhow=/home/lxb/Desktop/gametechII/target/release/deps/libanyhow-0907132c244a7d16.rlib --extern bincode=/home/lxb/Desktop/gametechII/target/release/deps/libbincode-59d69b60a94cd0a8.rlib --extern meshopt=/home/lxb/Desktop/gametechII/target/release/deps/libmeshopt-ab233d7cb12a9ef5.rlib --extern naga=/home/lxb/Desktop/gametechII/target/release/deps/libnaga-17a213fab00b105b.rlib --extern pipeline=/home/lxb/Desktop/gametechII/target/release/deps/libpipeline-1ea559d5b50a99ba.rlib --extern rustc_hash=/home/lxb/Desktop/gametechII/target/release/deps/librustc_hash-06c943fd5e9aa852.rlib --extern serde=/home/lxb/Desktop/gametechII/target/release/deps/libserde-2d1fca6f1c6c7901.rlib --extern tobj=/home/lxb/Desktop/gametechII/target/release/deps/libtobj-2d9a0cfef41943a1.rlib --extern toml=/home/lxb/Desktop/gametechII/target/release/deps/libtoml-39b18f28d95bb95a.rlib --extern walkdir=/home/lxb/Desktop/gametechII/target/release/deps/libwalkdir-0a94a00271779b0e.rlib --extern zip=/home/lxb/Desktop/gametechII/target/release/deps/libzip-07fc1fd0f37015da.rlib -C target-cpu=native -L native=/home/lxb/Desktop/gametechII/target/release/build/meshopt-aff48a42427289c7/out\r\n{\"artifact\":\"/home/lxb/Desktop/gametechII/target/release/deps/pipeline-8d080d47cc91e1a3.d\",\"emit\":\"dep-info\"}\r\nzsh: floating point exception (core dumped)  rustc --crate-name pipeline --edition=2021 pipeline/src/main.rs   --crate-typ\r\n```\r\n\r\nCoredump info\r\n```\r\n           PID: 39711 (rustc)\r\n           UID: 1000 (lxb)\r\n           GID: 1000 (lxb)\r\n        Signal: 8 (FPE)\r\n     Timestamp: Wed 2022-03-09 18:41:42 NZDT (3min 4s ago)\r\n  Command Line: /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/rustc --crate-name pipeline --edition=2021 pipeline/src/main.rs --error-format=json --json=diagnostic-rendered-a>\r\n    Executable: /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/rustc\r\n Control Group: /user.slice/user-1000.slice/session-1.scope\r\n          Unit: session-1.scope\r\n         Slice: user-1000.slice\r\n       Session: 1\r\n     Owner UID: 1000 (lxb)\r\n       Boot ID: b36f276488334d8b9e64dc716732839c\r\n    Machine ID: 02f67d9f7a6f4981b48e4cb2d15a2082\r\n      Hostname: lxbpad\r\n       Storage: /var/lib/systemd/coredump/core.rustc.1000.b36f276488334d8b9e64dc716732839c.39711.1646804502000000.zst (present)\r\n     Disk Size: 49.1M\r\n       Message: Process 39711 (rustc) of user 1000 dumped core.\r\n\r\n                Module /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/rustc without build-id.\r\n                Module /home/lxb/Desktop/gametechII/target/release/deps/libthiserror_impl-2baecec3532f848a.so with build-id 5c99cbec1d0e5fcc4a355acdfcb76e6f768144a8\r\n                Module /home/lxb/Desktop/gametechII/target/release/deps/libfailure_derive-4e70176e4bd966fa.so with build-id a7a017a3b6c376fe58289b38946c67bb6b8cba2b\r\n                Module /home/lxb/Desktop/gametechII/target/release/deps/libserde_derive-aad463e82827f1c7.so with build-id 14b9f6c243574f502a6e078890bae2574e065ec9\r\n                Module linux-vdso.so.1 with build-id bf4ed7d70241039dd0fc7f51de8118e93bf3af20\r\n                Module libz.so.1 with build-id 0c1459c56513efd5d53eb3868290e9afee6a6a26\r\n                Module ld-linux-x86-64.so.2 with build-id c09c6f50f6bcec73c64a0b4be77eadb8f7202410\r\n                Module libm.so.6 with build-id 596b63a006a4386dcab30912d2b54a7a61827b07\r\n                Module libgcc_s.so.1 with build-id 5d817452a709ca3a213341555ddcf446ecee37fa\r\n                Module libc.so.6 with build-id 85766e9d8458b16e9c7ce6e07c712c02b8471dbc\r\n                Module librt.so.1 with build-id 4761858b348db8303e872e515aa8d56c046c921c\r\n                Module libpthread.so.0 with build-id 7fa8b52fae071a370ba4ca32bf9490a30aff31c4\r\n                Module libdl.so.2 with build-id bb9bd2657bfba9f60bd34d2050cc63a7eb024bc4\r\n                Stack trace of thread 39736:\r\n                #0  0x00007ff283c44916 n/a (n/a + 0x0)\r\n                ELF object binary architecture: AMD x86-64\r\n```\r\n[Coredump file](http://filedump.to/download/3ccd92f6512e4bea997b098870c7bc6f/core.rustc.1000.b36f276488334d8b9e64dc716732839c.39711.1646804502000000.zst)\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n```\r\n#0  0x00007ffff1c44916 in llvm::LoopVectorizationCostModel::selectInterleaveCount(llvm::ElementCount, unsigned int) ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#1  0x00007ffff1c2c0cf in llvm::LoopVectorizePass::processLoop(llvm::Loop*) ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#2  0x00007ffff1c2b36f in llvm::LoopVectorizePass::runImpl(llvm::Function&, llvm::ScalarEvolution&, llvm::LoopInfo&, llvm::TargetTransformInfo&, llvm::DominatorTree&, llvm::BlockFrequencyInfo&, llvm::TargetLibraryInfo*, llvm::DemandedBits&, llvm::AAResults&, llvm::AssumptionCache&, std::function<llvm::LoopAccessInfo const& (llvm::Loop&)>&, llvm::OptimizationRemarkEmitter&, llvm::ProfileSummaryInfo*) () from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#3  0x00007ffff1c2af12 in llvm::LoopVectorizePass::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#4  0x00007ffff1c2abed in llvm::detail::PassModel<llvm::Function, llvm::LoopVectorizePass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Function>>::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) () from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#5  0x00007ffff0e891b9 in llvm::detail::PassModel<llvm::Function, llvm::PassManager<llvm::Function, llvm::AnalysisManager<llvm::Function>>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Function>>::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) () from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#6  0x00007ffff1d767b9 in llvm::ModuleToFunctionPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#7  0x00007ffff1d7647d in llvm::detail::PassModel<llvm::Module, llvm::ModuleToFunctionPassAdaptor, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) () from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#8  0x00007ffff1bf2ad4 in llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/../lib/libLLVM-14-rust-1.61.0-nightly.so\r\n#9  0x00007ffff65e9841 in LLVMRustOptimizeWithNewPassManager () from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#10 0x00007ffff65d8d88 in rustc_codegen_llvm::back::write::optimize_with_new_llvm_pass_manager ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#11 0x00007ffff659cca8 in rustc_codegen_llvm::back::lto::run_pass_manager () from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#12 0x00007ffff47efebf in <rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_ssa::traits::write::WriteBackendMethods>::run_lto_pass_manager ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#13 0x00007ffff65c68a6 in <rustc_codegen_ssa::back::lto::LtoModuleCodegen<rustc_codegen_llvm::LlvmCodegenBackend>>::optimize ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#14 0x00007ffff65712c2 in rustc_codegen_ssa::back::write::execute_work_item::<rustc_codegen_llvm::LlvmCodegenBackend> ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#15 0x00007ffff6591732 in std::sys_common::backtrace::__rust_begin_short_backtrace::<<rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_ssa::traits::backend::ExtraBackendMethods>::spawn_named_thread<rustc_codegen_ssa::back::write::spawn_work<rustc_codegen_llvm::LlvmCodegenBackend>::{closure#0}, ()>::{closure#0}, ()> ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#16 0x00007ffff6580bc7 in <<std::thread::Builder>::spawn_unchecked_<<rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_ssa::traits::backend::ExtraBackendMethods>::spawn_named_thread<rustc_codegen_ssa::back::write::spawn_work<rustc_codegen_llvm::LlvmCodegenBackend>::{closure#0}, ()>::{closure#0}, ()>::{closure#1} as core::ops::function::FnOnce<()>>::call_once::{shim:vtable#0} ()\r\n   from /home/lxb/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/../lib/librustc_driver-74fd03a38d82f654.so\r\n#17 0x00007ffff3eab5b3 in alloc::boxed::{impl#44}::call_once<(), dyn core::ops::function::FnOnce<(), Output=()>, alloc::alloc::Global> ()\r\n    at /rustc/1eb72580d076935a3e590deb6e5813a5aef3eca4/library/alloc/src/boxed.rs:1854\r\n#18 alloc::boxed::{impl#44}::call_once<(), alloc::boxed::Box<dyn core::ops::function::FnOnce<(), Output=()>, alloc::alloc::Global>, alloc::alloc::Global> ()\r\n    at /rustc/1eb72580d076935a3e590deb6e5813a5aef3eca4/library/alloc/src/boxed.rs:1854\r\n#19 std::sys::unix::thread::{impl#2}::new::thread_start () at library/std/src/sys/unix/thread.rs:108\r\n#20 0x00007ffff3c835c2 in start_thread () from /usr/lib/libc.so.6\r\n#21 0x00007ffff3d08584 in clone () from /usr/lib/libc.so.6\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/94762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/94762/timeline", "performed_via_github_app": null, "state_reason": "completed"}