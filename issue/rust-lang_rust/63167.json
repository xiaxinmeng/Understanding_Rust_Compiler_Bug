{"url": "https://api.github.com/repos/rust-lang/rust/issues/63167", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/63167/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/63167/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/63167/events", "html_url": "https://github.com/rust-lang/rust/issues/63167", "id": 475251366, "node_id": "MDU6SXNzdWU0NzUyNTEzNjY=", "number": 63167, "title": "Confusing error message with type unification of impl Traits", "user": {"login": "adamlesinski", "id": 915136, "node_id": "MDQ6VXNlcjkxNTEzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/915136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamlesinski", "html_url": "https://github.com/adamlesinski", "followers_url": "https://api.github.com/users/adamlesinski/followers", "following_url": "https://api.github.com/users/adamlesinski/following{/other_user}", "gists_url": "https://api.github.com/users/adamlesinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamlesinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamlesinski/subscriptions", "organizations_url": "https://api.github.com/users/adamlesinski/orgs", "repos_url": "https://api.github.com/users/adamlesinski/repos", "events_url": "https://api.github.com/users/adamlesinski/events{/privacy}", "received_events_url": "https://api.github.com/users/adamlesinski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 631673608, "node_id": "MDU6TGFiZWw2MzE2NzM2MDg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-impl-trait", "name": "A-impl-trait", "color": "f7e101", "default": false, "description": "Area: impl Trait. Universally / existentially quantified anonymous types with static dispatch."}, {"id": 1049510487, "node_id": "MDU6TGFiZWwxMDQ5NTEwNDg3", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-async-await", "name": "A-async-await", "color": "f7e101", "default": false, "description": "Area: Async & Await"}, {"id": 1259721467, "node_id": "MDU6TGFiZWwxMjU5NzIxNDY3", "url": "https://api.github.com/repos/rust-lang/rust/labels/AsyncAwait-Triaged", "name": "AsyncAwait-Triaged", "color": "d4c5f9", "default": false, "description": "Async-await issues that have been triaged during a working group meeting."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-07-31T16:48:28Z", "updated_at": "2019-09-05T16:27:33Z", "closed_at": "2019-09-05T16:27:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "It took a colleague explaining to me that the return type of a function returning an impl Trait is unique across function definitions for me to understand the following error: https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=4ceda076c82b01ea279e8864518ab5d9\r\n\r\nThis becomes more important for async/await because of the automatic translation of `async fn foo() -> i64` to `fn foo() -> impl Future<Output = i64>`: https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=b109446a49d22a632e395aacaa2cb8ff\r\n\r\nIn the first case, can the error maybe call out that the opaque types are different due to how the compiler treats them? And for the second error, can this be called out in async-specific language. That error happens when you forget to call `.await`.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/63167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/63167/timeline", "performed_via_github_app": null, "state_reason": "completed"}