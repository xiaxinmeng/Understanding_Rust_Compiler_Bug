{"url": "https://api.github.com/repos/rust-lang/rust/issues/21642", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21642/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21642/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21642/events", "html_url": "https://github.com/rust-lang/rust/issues/21642", "id": 55446481, "node_id": "MDU6SXNzdWU1NTQ0NjQ4MQ==", "number": 21642, "title": "Confusing and incorrect lifetime diagnostic message", "user": {"login": "rtkrruvinskiy", "id": 3708124, "node_id": "MDQ6VXNlcjM3MDgxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3708124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rtkrruvinskiy", "html_url": "https://github.com/rtkrruvinskiy", "followers_url": "https://api.github.com/users/rtkrruvinskiy/followers", "following_url": "https://api.github.com/users/rtkrruvinskiy/following{/other_user}", "gists_url": "https://api.github.com/users/rtkrruvinskiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rtkrruvinskiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rtkrruvinskiy/subscriptions", "organizations_url": "https://api.github.com/users/rtkrruvinskiy/orgs", "repos_url": "https://api.github.com/users/rtkrruvinskiy/repos", "events_url": "https://api.github.com/users/rtkrruvinskiy/events{/privacy}", "received_events_url": "https://api.github.com/users/rtkrruvinskiy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 1775993, "node_id": "MDU6TGFiZWwxNzc1OTkz", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lifetimes", "name": "A-lifetimes", "color": "f7e101", "default": false, "description": "Area: lifetime related"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-26T04:46:13Z", "updated_at": "2017-01-30T19:36:42Z", "closed_at": "2017-01-30T19:36:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to compile the code at [this playpen](http://is.gd/GavCVJ) gives the following error:\n\n```\n<anon>:18:20: 18:26 error: cannot infer an appropriate lifetime due to conflicting requirements\n<anon>:18         match iter.next() {\n                             ^~~~~~\n<anon>:17:5: 25:6 help: consider using an explicit lifetime parameter as shown: fn lookup(&self, mut iter: Box<Iterator<Item = Key<'b>>>) -> bool\n```\n\nThere are a couple of issues here from my perspective:\n1. The function signature suggested by the compiler cannot actually compile since it uses an undefined lifetime.\n2. It's really unclear to me what the \"conflicting requirements\" are that the error message alludes to. Intuitively, I would have thought that the code should work as long as the lifetime of the iterator item is as long as the scope of the `lookup` method. In other words, my expectation would be that I can test whether a key is a member of the container without the lifetime of the instance of the key used for testing having to be as long as the lifetime of the container. However, that appears not to be the case, which seems counter-intuitive and limiting (since there doesn't appear to be an actual safety issue as far as I can see). It would be helpful to have scenarios like this discussed somewhere in the documentation. If such discussion already exists and I have overlooked it, my apologies.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21642/timeline", "performed_via_github_app": null, "state_reason": "completed"}