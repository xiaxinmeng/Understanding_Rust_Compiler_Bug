{"url": "https://api.github.com/repos/rust-lang/rust/issues/39942", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39942/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39942/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39942/events", "html_url": "https://github.com/rust-lang/rust/issues/39942", "id": 208678085, "node_id": "MDU6SXNzdWUyMDg2NzgwODU=", "number": 39942, "title": "Suggest derefence operator when mismatched types related to reference", "user": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-18T22:53:13Z", "updated_at": "2019-09-27T00:39:15Z", "closed_at": "2019-09-27T00:39:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[Playpen](https://is.gd/AlJIIF)\r\n\r\nCode:\r\n\r\n```rust\r\nfn main() {\r\n    let a = &1;\r\n    let b = 1;\r\n    if a == b {\r\n        println!(\"equal\");\r\n    } else {\r\n        println!(\"not equal\");\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n\r\n```\r\nerror[E0277]: the trait bound `&{integer}: std::cmp::PartialEq<{integer}>` is not satisfied\r\n --> <anon>:4:8\r\n  |\r\n4 |     if a == b {\r\n  |        ^^^^^^ the trait `std::cmp::PartialEq<{integer}>` is not implemented for `&{integer}`\r\n  |\r\n  = help: the following implementations were found:\r\n  = help:   <&'a A as std::cmp::PartialEq<&'b B>>\r\n  = help:   <&'a mut A as std::cmp::PartialEq<&'b mut B>>\r\n  = help:   <&'a A as std::cmp::PartialEq<&'b mut B>>\r\n  = help:   <&'a mut A as std::cmp::PartialEq<&'b B>>\r\n  = help: and 586 others\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nThis error message is somewhat intimidating. Assuming the user knows to add a `*` or `&`, which side do they add it to? It might be not too difficult with this example to deduce that, but when dealing with double nested references and other shenanigans, it'd be a lot easier if we just suggested where to put the `*` and `&`.", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39942/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39942/timeline", "performed_via_github_app": null, "state_reason": "completed"}