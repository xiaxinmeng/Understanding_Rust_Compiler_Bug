{"url": "https://api.github.com/repos/rust-lang/rust/issues/2329", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2329/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2329/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2329/events", "html_url": "https://github.com/rust-lang/rust/issues/2329", "id": 4391423, "node_id": "MDU6SXNzdWU0MzkxNDIz", "number": 2329, "title": "RFC: moving out of enums", "user": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/7", "html_url": "https://github.com/rust-lang/rust/milestone/7", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/7/labels", "id": 85273, "node_id": "MDk6TWlsZXN0b25lODUyNzM=", "number": 7, "title": "0.4", "description": "", "creator": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2012-02-16T22:09:25Z", "updated_at": "2013-03-20T22:05:40Z", "due_on": "2012-09-14T07:00:00Z", "closed_at": "2012-10-06T05:46:41Z"}, "comments": 19, "created_at": "2012-05-02T19:15:07Z", "updated_at": "2012-08-28T20:05:04Z", "closed_at": "2012-08-25T09:59:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The existence of `option::unwrap()` (and soon `reuslt::unwrap()`) points at a more general problem.  There is no way to move something out of an enum.  I think we should be able to solve this more generally.  My proposal is something like this:\n\n```\nalt move expr {\n    foo(a, b, c) { ... }\n}\n```\n\nIn here, `a`, `b`, and `c` are not pointers into `expr` but rather the values themselves.  They are moved out of expr, which must be something movable.  \n\nYou could then write `option::unwrap()` like so:\n\n```\nfn unwrap<T>(opt: option<T>) {\n    alt move opt { some(v) { v } none { /* ok */ } }\n}\n```\n\nThis fits best with adding `move` back as a unary operator (of which I am in favor).  Basically, `alt` over an expression that is an explicit move causes the bound variables not to be region pointers into the struct but rather the values themselves (i.e., the types will differ).  Depending how explicit we want to be, last use analysis is still needed in that last example to convert the use of `v` from a copy to a move.\n", "closed_by": {"login": "bblum", "id": 1820515, "node_id": "MDQ6VXNlcjE4MjA1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bblum", "html_url": "https://github.com/bblum", "followers_url": "https://api.github.com/users/bblum/followers", "following_url": "https://api.github.com/users/bblum/following{/other_user}", "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}", "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bblum/subscriptions", "organizations_url": "https://api.github.com/users/bblum/orgs", "repos_url": "https://api.github.com/users/bblum/repos", "events_url": "https://api.github.com/users/bblum/events{/privacy}", "received_events_url": "https://api.github.com/users/bblum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2329/timeline", "performed_via_github_app": null, "state_reason": "completed"}