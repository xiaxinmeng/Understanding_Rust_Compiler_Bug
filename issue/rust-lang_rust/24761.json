{"url": "https://api.github.com/repos/rust-lang/rust/issues/24761", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24761/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24761/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24761/events", "html_url": "https://github.com/rust-lang/rust/issues/24761", "id": 70592189, "node_id": "MDU6SXNzdWU3MDU5MjE4OQ==", "number": 24761, "title": "ICE in span_to_lines, 'capacity_overflow'", "user": {"login": "swgillespie", "id": 1871912, "node_id": "MDQ6VXNlcjE4NzE5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1871912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swgillespie", "html_url": "https://github.com/swgillespie", "followers_url": "https://api.github.com/users/swgillespie/followers", "following_url": "https://api.github.com/users/swgillespie/following{/other_user}", "gists_url": "https://api.github.com/users/swgillespie/gists{/gist_id}", "starred_url": "https://api.github.com/users/swgillespie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swgillespie/subscriptions", "organizations_url": "https://api.github.com/users/swgillespie/orgs", "repos_url": "https://api.github.com/users/swgillespie/repos", "events_url": "https://api.github.com/users/swgillespie/events{/privacy}", "received_events_url": "https://api.github.com/users/swgillespie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-24T05:32:18Z", "updated_at": "2017-01-03T17:13:40Z", "closed_at": "2017-01-03T17:13:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Building https://github.com/swgillespie/gccjit.rs/tree/rustc-ice causes this for me.\n\n```\n$ RUST_BACKTRACE=1 cargo build\n   Compiling gccjit v0.0.1 (file:///home/sean/Documents/workspace/rust/gccjit-rs/examples/factorial)\n/home/sean/Documents/workspace/rust/gccjit-rs/src/rvalue.rs:76:25: 66:79 error: mismatched types:\n expected `gccjit_sys::gcc_jit_binary_op`,\n    found `i32`\n(expected enum `gccjit_sys::gcc_jit_binary_op`,\n    found i32) [E0308]\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'capacity overflow', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/option.rs:330\n\nstack backtrace:\n   1:     0x7f81efa5af39 - sys::backtrace::write::h7638fca3b07af337rVs\n   2:     0x7f81efa62bb6 - panicking::on_panic::h64a1f0366c6b8a23mkx\n   3:     0x7f81efa1f912 - rt::unwind::begin_unwind_inner::hcaa5609c9e3078adwZw\n   4:     0x7f81efa1fb97 - rt::unwind::begin_unwind_fmt::h1d03ac96c877ea14CYw\n   5:     0x7f81efa62796 - rust_begin_unwind\n   6:     0x7f81efab4404 - panicking::panic_fmt::hc7c67cbed9e89d8ddTC\n   7:     0x7f81ecdb49af - codemap::CodeMap::span_to_lines::hf8f1a35dc982b5e4ahA\n   8:     0x7f81ecdf97d7 - diagnostic::emit::h7379a6cfef339f7a7TB\n   9:     0x7f81ecdf7624 - diagnostic::EmitterWriter.Emitter::emit::h7d3188d973919325PQB\n  10:     0x7f81ecdf5b7b - diagnostic::SpanHandler::span_err_with_code::h4b3154250eb71080pnB\n  11:     0x7f81ed89c995 - session::Session::span_err_with_code::h81e7cead23b6ffdb8sp\n  12:     0x7f81eda941b9 - middle::infer::error_reporting::InferCtxt<'a, 'tcx>.ErrorReporting<'tcx>::report_type_error::h90db3e78d8bb7e886nq\n  13:     0x7f81eda95a26 - middle::infer::error_reporting::InferCtxt<'a, 'tcx>.ErrorReporting<'tcx>::report_and_explain_type_error::h8ba32c89aedde88cUpq\n  14:     0x7f81edaee6f3 - middle::infer::InferCtxt<'a, 'tcx>::report_mismatched_types::h2fd9974dc99bf601BRy\n  15:     0x7f81ef1aaca6 - check::demand::coerce::h782cae65c398feeaf6f\n  16:     0x7f81ef21c17a - check::check_expr_with_unifier::h8593953848767686611\n  17:     0x7f81ef1f9518 - check::check_argument_types::hafac6b2d63ad7094Z5p\n  18:     0x7f81ef1f6aab - check::callee::confirm_builtin_call::he646cc87182b37cagrm\n  19:     0x7f81ef1f53b5 - check::callee::check_call::h4b66c292a82ccddaYhm\n  20:     0x7f81ef23fd2b - check::check_expr_with_unifier::h3006517761441790576\n  21:     0x7f81ef26568b - check::check_decl_local::hefbaa8208ecc67818bs\n  22:     0x7f81ef2103a1 - check::check_block_with_expected::h24feb1297ec9164beis\n  23:     0x7f81ef1f3116 - check::check_fn::h1f3e323a3375062bN4n\n  24:     0x7f81ef20bd87 - check::check_bare_fn::h3d6f361f6b701b01mUn\n  25:     0x7f81ef2148bc - check::check_method_body::h1fba553d1633acb4Rvo\n  26:     0x7f81ef209d48 - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::h65cdf079010f6a6apRn\n  27:     0x7f81ef20a0cf - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::h65cdf079010f6a6apRn\n  28:     0x7f81ef2cd0da - check_crate::closure.38363\n  29:     0x7f81ef2c8470 - check_crate::h6dcd7dd401f4f117pCC\n  30:     0x7f81effc1ae8 - driver::phase_3_run_analysis_passes::h3806bf444cc15f20tGa\n  31:     0x7f81effa2e70 - driver::compile_input::h4642f691e22278cbQba\n  32:     0x7f81f0063331 - run_compiler::he528ba831532b90aF4b\n  33:     0x7f81f0060f82 - boxed::F.FnBox<A>::call_box::h13568337174014462877\n  34:     0x7f81f00604b9 - rt::unwind::try::try_fn::h15381261312250239500\n  35:     0x7f81efada528 - rust_try_inner\n  36:     0x7f81efada515 - rust_try\n  37:     0x7f81f0060768 - boxed::F.FnBox<A>::call_box::h6713016946069099629\n  38:     0x7f81efa61ac1 - sys::thread::create::thread_start::hbe89fbdfc755452dxjw\n  39:     0x7f81e9b09f6d - start_thread\n  40:     0x7f81ef6959cc - clone\n  41:                0x0 - <unknown>\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24761/timeline", "performed_via_github_app": null, "state_reason": "completed"}