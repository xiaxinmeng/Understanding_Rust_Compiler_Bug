{"url": "https://api.github.com/repos/rust-lang/rust/issues/73970", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73970/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73970/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73970/events", "html_url": "https://github.com/rust-lang/rust/issues/73970", "id": 650086291, "node_id": "MDU6SXNzdWU2NTAwODYyOTE=", "number": 73970, "title": "Link failure (in alloc, readelf) in proc-macro crate, stable regression 1.44.0 -> 1.44.1", "user": {"login": "cristicbz", "id": 801328, "node_id": "MDQ6VXNlcjgwMTMyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/801328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cristicbz", "html_url": "https://github.com/cristicbz", "followers_url": "https://api.github.com/users/cristicbz/followers", "following_url": "https://api.github.com/users/cristicbz/following{/other_user}", "gists_url": "https://api.github.com/users/cristicbz/gists{/gist_id}", "starred_url": "https://api.github.com/users/cristicbz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cristicbz/subscriptions", "organizations_url": "https://api.github.com/users/cristicbz/orgs", "repos_url": "https://api.github.com/users/cristicbz/repos", "events_url": "https://api.github.com/users/cristicbz/events{/privacy}", "received_events_url": "https://api.github.com/users/cristicbz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-07-02T17:10:54Z", "updated_at": "2020-07-02T20:24:40Z", "closed_at": "2020-07-02T20:24:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nThis is fixed in 1.45.0-beta.3 and 1.46.0-nightly (f781babf8 2020-07-01), but since there's no workaround that I can see, I don't know if this warrants a point release. If not, feel free to close of course.\r\n\r\nI reduced one of my dependencies (`psl_codegen`) which broke in 1.44.1 to the following (available at https://github.com/cristicbz/rust-regression-441 as well):\r\n\r\nCargo.toml:\r\n```toml\r\n[package]\r\nname = \"regression-441\"\r\nversion = \"0.1.0\"\r\n\r\n[lib]\r\nproc-macro = true\r\n\r\n[dependencies]\r\nerror-chain = \"0.12.2\"\r\n```\r\n\r\nsrc/lib.rs:\r\n```rust\r\nextern crate error_chain;\r\nextern crate proc_macro;\r\n\r\n#[proc_macro_derive(Foo, attributes(foo))]\r\npub fn derive_foo(input: proc_macro::TokenStream) -> proc_macro::TokenStream {\r\n     input\r\n}\r\n```\r\nWith rust 1.44.1 I'm seeing:\r\n<details>\r\n<summary>Link failure</summary>\r\n\r\n```\r\n(env-rw) ca\u2022~/p/regression-441(master)\u00bb rustc --version\r\nrustc 1.44.1 (c7087fe00 2020-06-17)\r\n(env-rw) ca\u2022~/p/regression-441(master)\u00bb cargo build\r\n   Compiling regression-441 v0.1.0 (/home/ccc/p/regression-441)\r\nerror: linking with `cc` failed: exit code: 1\r\n  |\r\n  = note: \"cc\" \"-Wl,--as-needed\" \"-Wl,-z,noexecstack\" \"-m64\" \"-L\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.19vlslsl4nvz2nyu.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.1flqwsbfsd7ooldx.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.1i8m4tznh5762ur2.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.1jl0yhp4m5e4f893.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.1sl0i9nbqswm4bj7.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.1yc699hchbcg3irz.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.21j3omrt84pjkssb.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.227uioi392b4ewxc.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.25ks6dj59pgwfoki.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.28jri2xbccu00vwm.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.2o5u7qxg32bo6sxe.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.2tbf2qv6tyujo2pz.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.2udkubercaxr5uwz.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.32dq833cs3aueypx.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.33edgal75bib4bac.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.35vrj1stsffnh0o0.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.3d4hetg9d7e5sbsw.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.3nj3vxtm5xznqk12.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.3ufc80eyvk4usbt5.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.42kol4rpvk4yrwcr.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.4ti1f84gexxj1lbq.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.4uqnlql52iqm56t5.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.4yvzexy0awyal4nf.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.58xksz7rhj716jay.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.5e8bm9we5p7482r9.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.9ybtckfw5pz2r0d.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.k8vf19r1diybyau.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.mbln18r5lslop91.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.qx1k7qxy173hol.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.u5lgvpyan0lio70.rcgu.o\" \"-o\" \"/home/ccc/p/regression-441/target/debug/deps/libregression_441-5f4d861a543295bb.so\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.2638fnoxvowf0mdt.rcgu.o\" \"/home/ccc/p/regression-441/target/debug/deps/regression_441-5f4d861a543295bb.4k8m42t3piqx36xo.rcgu.o\" \"-Wl,--gc-sections\" \"-Wl,-zrelro\" \"-Wl,-znow\" \"-nodefaultlibs\" \"-L\" \"/home/ccc/p/regression-441/target/debug/deps\" \"-L\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-Wl,-Bstatic\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libproc_macro-2182d442523e19c8.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/liberror_chain-5807239afa7bfc6e.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libbacktrace-46766d8b7e4a07ab.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libminiz_oxide-b3dd034d72316d92.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libadler32-c864a7ffa7fb7c71.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/liblibc-5fc91ccf77c1716c.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libaddr2line-1e38689506db23b0.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libgimli-0907f659052c8f8d.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/libcfg_if-b132ac4d666ef9b8.rlib\" \"/home/ccc/p/regression-441/target/debug/deps/librustc_demangle-c73cb2363aa21251.rlib\" \"-Wl,--start-group\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-6640d3868fa846e8.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libpanic_unwind-48481e446108229f.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libhashbrown-bfdf9e1c331f914a.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_alloc-991e68a3d0300af6.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libbacktrace-74304cfed66bbabf.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libbacktrace_sys-5db30a83f5489d12.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_demangle-a106c3f62654e72c.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunwind-3d6b30695af38106.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcfg_if-d8f11f6bb46ba3ee.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-60c81ab95e289dd1.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-fd1a416f10d6c43d.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_core-4a2bd2b60cccd1fb.rlib\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-7ea8ebc630055039.rlib\" \"-Wl,--end-group\" \"/home/ccc/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-f7cd12d3ecd59a89.rlib\" \"-Wl,-Bdynamic\" \"-lc\" \"-lm\" \"-lrt\" \"-lpthread\" \"-lutil\" \"-ldl\" \"-lutil\" \"-ldl\" \"-lrt\" \"-lpthread\" \"-lgcc_s\" \"-lc\" \"-lm\" \"-lrt\" \"-lpthread\" \"-lutil\" \"-ldl\" \"-lutil\" \"-shared\"\r\n  = note: /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.1.rcgu.o): in function `alloc::slice::<impl [T]>::sort_by_key::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/liballoc/slice.rs:295: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::symbol_map::{{closure}}'\r\n          /usr/bin/ld: /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/liballoc/slice.rs:295: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::symbol_map::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.1.rcgu.o): in function `alloc::slice::<impl [T]>::sort_by_key::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/liballoc/slice.rs:295: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::symbol_map::{{closure}}'\r\n          /usr/bin/ld: /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/liballoc/slice.rs:295: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::symbol_map::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.4.rcgu.o): in function `core::iter::traits::iterator::Iterator::find::check::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/iter/traits/iterator.rs:2208: undefined reference to `object::read::elf::symbol::SymbolTable<Elf>::parse::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.4.rcgu.o): in function `core::iter::traits::iterator::Iterator::find::check::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/iter/traits/iterator.rs:2208: undefined reference to `object::read::elf::symbol::SymbolTable<Elf>::parse::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.4.rcgu.o): in function `core::iter::traits::iterator::Iterator::find::check::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/iter/traits/iterator.rs:2208: undefined reference to `object::read::elf::symbol::SymbolTable<Elf>::parse::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.4.rcgu.o): in function `core::iter::traits::iterator::Iterator::find::check::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/iter/traits/iterator.rs:2208: undefined reference to `object::read::elf::symbol::SymbolTable<Elf>::parse::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.4.rcgu.o): in function `core::iter::adapters::map_try_fold::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/iter/adapters/mod.rs:793: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::symbol_map::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.4.rcgu.o): in function `core::iter::adapters::map_try_fold::{{closure}}':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/iter/adapters/mod.rs:793: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::symbol_map::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::map':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:456: undefined reference to `object::read::elf::symbol::SymbolTable<Elf>::parse::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::map':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:456: undefined reference to `object::read::elf::file::ElfFile<Elf>::raw_section_by_name::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::map':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:456: undefined reference to `object::read::elf::symbol::SymbolTable<Elf>::parse::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::map':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:456: undefined reference to `<object::read::elf::symbol::ElfSymbolIterator<Elf> as core::iter::traits::iterator::Iterator>::next::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::map':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:456: undefined reference to `object::read::elf::file::ElfFile<Elf>::raw_section_by_name::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::map':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:456: undefined reference to `<object::read::elf::symbol::ElfSymbolIterator<Elf> as core::iter::traits::iterator::Iterator>::next::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::or_else':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:766: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::section_by_name::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::or_else':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:766: undefined reference to `<object::read::elf::file::ElfFile<Elf> as object::read::traits::Object>::section_by_name::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::and_then':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:670: undefined reference to `object::read::elf::symbol::parse_symbol::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libobject-8e621d62a2f9d6e1.rlib(object-8e621d62a2f9d6e1.object.9675m3cb-cgu.7.rcgu.o): in function `core::option::Option<T>::and_then':\r\n          /rustc/c7087fe00d2ba919df1d813c040a5d47e43b0fe7/src/libcore/option.rs:670: undefined reference to `object::read::elf::symbol::parse_symbol::{{closure}}'\r\n          /usr/bin/ld: /home/ccc/p/regression-441/target/debug/deps/libregression_441-5f4d861a543295bb.so: hidden symbol `_ZN6object4read3elf4file18ElfFile$LT$Elf$GT$19raw_section_by_name28_$u7b$$u7b$closure$u7d$$u7d$17h39264e8cc08853e8E' isn't defined\r\n          /usr/bin/ld: final link failed: bad value\r\n          collect2: error: ld returned 1 exit status\r\n\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: could not compile `regression-441`.\r\n```\r\n\r\n</details>\r\n\r\nWith rust 1.44.0 this compiles just fine:\r\n<details>\r\n<summary>Build success</summary>\r\n\r\n```\r\n(env-rw) ca\u2022~/p/regression-441(master)\u00bb rustup override set 1.44.0\r\ninfo: using existing install for '1.44.0-x86_64-unknown-linux-gnu'\r\ninfo: override toolchain for '/home/ccc/p/regression-441' set to '1.44.0-x86_64-unknown-linux-gnu'\r\n\r\n  1.44.0-x86_64-unknown-linux-gnu unchanged - rustc 1.44.0 (49cae5576 2020-06-01)\r\n\r\n(env-rw) ca\u2022~/p/regression-441(master)\u00bb cargo build\r\n   Compiling libc v0.2.71\r\n   Compiling version_check v0.9.2\r\n   Compiling gimli v0.21.0\r\n   Compiling adler32 v1.1.0\r\n   Compiling object v0.20.0\r\n   Compiling rustc-demangle v0.1.16\r\n   Compiling cfg-if v0.1.10\r\n   Compiling miniz_oxide v0.3.7\r\n   Compiling error-chain v0.12.2\r\n   Compiling addr2line v0.12.2\r\n   Compiling backtrace v0.3.49\r\n   Compiling regression-441 v0.1.0 (/home/ccc/p/regression-441)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.99s\r\n```\r\n\r\n</details>\r\n\r\nI'm on ubuntu 20.04, with the following gcc and ld versions:\r\n```\r\n(env-rw) ca\u2022~/p/regression-441(master)\u00bb ld --version\r\nGNU ld (GNU Binutils for Ubuntu) 2.34\r\nCopyright (C) 2020 Free Software Foundation, Inc.\r\nThis program is free software; you may redistribute it under the terms of\r\nthe GNU General Public Licence version 3 or (at your option) a later version.\r\nThis program has absolutely no warranty.\r\n\r\n(env-rw) ca\u2022~/p/regression-441(master)\u00bb cc --version\r\ncc (Ubuntu 9.3.0-10ubuntu2) 9.3.0\r\nCopyright (C) 2019 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n```\r\n", "closed_by": {"login": "cristicbz", "id": 801328, "node_id": "MDQ6VXNlcjgwMTMyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/801328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cristicbz", "html_url": "https://github.com/cristicbz", "followers_url": "https://api.github.com/users/cristicbz/followers", "following_url": "https://api.github.com/users/cristicbz/following{/other_user}", "gists_url": "https://api.github.com/users/cristicbz/gists{/gist_id}", "starred_url": "https://api.github.com/users/cristicbz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cristicbz/subscriptions", "organizations_url": "https://api.github.com/users/cristicbz/orgs", "repos_url": "https://api.github.com/users/cristicbz/repos", "events_url": "https://api.github.com/users/cristicbz/events{/privacy}", "received_events_url": "https://api.github.com/users/cristicbz/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73970/timeline", "performed_via_github_app": null, "state_reason": "completed"}