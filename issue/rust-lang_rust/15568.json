{"url": "https://api.github.com/repos/rust-lang/rust/issues/15568", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/15568/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/15568/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/15568/events", "html_url": "https://github.com/rust-lang/rust/issues/15568", "id": 37532546, "node_id": "MDU6SXNzdWUzNzUzMjU0Ng==", "number": 15568, "title": "Consider moving parts of libstd::io to libcore", "user": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-10T05:20:00Z", "updated_at": "2015-01-23T22:48:29Z", "closed_at": "2015-01-23T22:48:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A decent chunk of `libstd::io` looks like it could be moved over to `libcore`, which would be really handy for low level systems. While this would ultimately be convenient, there'd be some transitional pain making this move. The biggest source would be that'd we'd have to parameterize the `Reader`/`Writer` types on the error. We'd also have to convert a couple of the default methods over into generic functions to make this work.\n\n Here are the things that I believe could be moved over:\n- Without modification:\n  - `RefReader`, `Writer`, `RefWriter`, `Stream`, `Buffer`, `Seek`, `Listener`, `Acceptor`, `IncomingConnection`\n  - All of `std::io::extensions`\n  - `std::io::mem::BufWriter` and `std::io::mem::BufReader`\n  - `std::io::util::LimitReader`, `std::io::util::NullWriter`, `std::io::util::ZeroReader`, `std::io::util::NullReader`, `std::io::util::ChainedReader`, `std::io::util::TeeReader`, `std::io::util::IterReader`.\n\nWith some modification:\n- `Reader` and `Buffer` with these methods converted into generic functions:\n  - `Reader::push`, `Reader::push_at_least`, `Reader::read_exact`, `Reader::read_to_end`, and `Reader::read_to_string`, `Buffer::read_line`, `Buffer::read_until`\n- We could also move `FileMode`, `FileAccess`, `FileType`, `FileStat`, and `UnstableFileStat`, but it might be better to leave os-specific stuff in `libstd`.\n\nThere are a couple that we could probably rewrite to not use things like `Vec`, such as  `std::io::util::MultiWriter`.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/15568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/15568/timeline", "performed_via_github_app": null, "state_reason": "completed"}