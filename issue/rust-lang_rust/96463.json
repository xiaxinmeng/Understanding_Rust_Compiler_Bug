{"url": "https://api.github.com/repos/rust-lang/rust/issues/96463", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/96463/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/96463/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/96463/events", "html_url": "https://github.com/rust-lang/rust/issues/96463", "id": 1216684994, "node_id": "I_kwDOAAsO6M5IhSPC", "number": 96463, "title": "Compiling for wasm64 fails", "user": {"login": "jiby-aurum", "id": 98774951, "node_id": "U_kgDOBeMvpw", "avatar_url": "https://avatars.githubusercontent.com/u/98774951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiby-aurum", "html_url": "https://github.com/jiby-aurum", "followers_url": "https://api.github.com/users/jiby-aurum/followers", "following_url": "https://api.github.com/users/jiby-aurum/following{/other_user}", "gists_url": "https://api.github.com/users/jiby-aurum/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiby-aurum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiby-aurum/subscriptions", "organizations_url": "https://api.github.com/users/jiby-aurum/orgs", "repos_url": "https://api.github.com/users/jiby-aurum/repos", "events_url": "https://api.github.com/users/jiby-aurum/events{/privacy}", "received_events_url": "https://api.github.com/users/jiby-aurum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 474645165, "node_id": "MDU6TGFiZWw0NzQ2NDUxNjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-wasm", "name": "O-wasm", "color": "6e6ec0", "default": false, "description": "Target: WASM (WebAssembly), http://webassembly.org/"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-27T02:10:47Z", "updated_at": "2022-04-29T11:58:27Z", "closed_at": "2022-04-29T11:58:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "`cargo +nightly build --target wasm64-unknown-unknown -Zbuild-std` fails with the following error\r\n\r\n\r\n```\r\nerror: internal compiler error: compiler/rustc_codegen_llvm/src/context.rs:199:13: data-layout for target `wasm64-unknown-unknown`, `e-m:e-p:64:64-i64:64-n32:64-S128-ni:1:10:20`, differs from LLVM target's `wasm64-unknown-unknown` default layout, `e-m:e-p:64:64-p10:8:8-p20:8:8-i64:64-n32:64-S128-ni:1:10:20`\r\n\r\nthread 'rustc' panicked at 'Box<dyn Any>', /rustc/082e4ca49770ebc9cb0ee616f3726a67471be8cb/compiler/rustc_errors/src/lib.rs:1313:9\r\nstack backtrace:\r\n   0:        0x101737e00 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4b6cfcc8bff01899\r\n   1:        0x101789700 - core::fmt::write::hb07daa6d4b732434\r\n   2:        0x10172ae58 - std::io::Write::write_fmt::h84ddd778c0c2d08d\r\n   3:        0x10173ab00 - std::panicking::default_hook::{{closure}}::h5faac4ca80254748\r\n   4:        0x10173a7dc - std::panicking::default_hook::hcb52bdcc4b5b62af\r\n   Compiling libc v0.2.121\r\nthread 'rustc' panicked at 'Box<dyn Any>', /rustc/082e4ca49770ebc9cb0ee616f3726a67471be8cb/compiler/rustc_errors/src/lib.rs:1313:9\r\nstack backtrace:\r\n   0:        0x100b83e00 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4b6cfcc8bff01899\r\n   1:        0x100bd5700 - core::fmt::write::hb07daa6d4b732434\r\n   2:        0x100b76e58 - std::io::Write::write_fmt::h84ddd778c0c2d08d\r\n   3:        0x100b86b00 - std::panicking::default_hook::{{closure}}::h5faac4ca80254748\r\n   4:        0x100b867dc - std::panicking::default_hook::hcb52bdcc4b5b62af\r\n   5:        0x107e94978 - rustc_driver[c7232c156e8f1ca]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   6:        0x100b871dc - std::panicking::rust_panic_with_hook::h0c8ae3594fa0153f\r\n   7:        0x10b92b228 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}\r\n   8:        0x10b92a0cc - std[a9f1884e343caea3]::sys_common::backtrace::__rust_end_short_backtrace::<std[a9f1884e343caea3]::panicking::begin_panic<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}, !>\r\n   5:        0x108a48978 - rustc_driver[c7232c156e8f1ca]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   9:        0x10bd37108 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n   6:        0x10173b1dc - std::panicking::rust_panic_with_hook::h0c8ae3594fa0153f\r\n  10:        0x10b7b1a84 - std[a9f1884e343caea3]::panic::panic_any::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n   7:        0x10c4df228 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}\r\n  11:        0x10b7b1748 - <rustc_errors[2d373aa847274627]::HandlerInner>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n   8:        0x10c4de0cc - std[a9f1884e343caea3]::sys_common::backtrace::__rust_end_short_backtrace::<std[a9f1884e343caea3]::panicking::begin_panic<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}, !>\r\n  12:        0x10b7b0fa8 - <rustc_errors[2d373aa847274627]::Handler>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  13:        0x10b939cf0 - rustc_middle[5cf767f16c22a97b]::ty::context::tls::with_opt::<rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>::{closure#0}, ()>\r\n  14:        0x10b93b1ac - rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt::<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>\r\n  15:        0x10bd3bfb4 - rustc_middle[5cf767f16c22a97b]::util::bug::bug_fmt\r\n  16:        0x10804a13c - rustc_codegen_llvm[dd6674becbc428f]::context::create_module\r\n  17:        0x1080051c4 - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit::module_codegen\r\n   9:        0x10c8eb108 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n  10:        0x10c365a84 - std[a9f1884e343caea3]::panic::panic_any::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n  11:        0x10c365748 - <rustc_errors[2d373aa847274627]::HandlerInner>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  12:        0x10c364fa8 - <rustc_errors[2d373aa847274627]::Handler>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  18:        0x10802d754 - <rustc_query_system[f000905e87261d58]::dep_graph::graph::DepGraph<rustc_middle[5cf767f16c22a97b]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[5cf767f16c22a97b]::ty::context::TyCtxt, rustc_span[a98e6ad0049a95ce]::symbol::Symbol, rustc_codegen_ssa[153a3711b62870f6]::ModuleCodegen<rustc_codegen_llvm[dd6674becbc428f]::ModuleLlvm>>\r\n  19:        0x108004e3c - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit\r\n  13:        0x10c4edcf0 - rustc_middle[5cf767f16c22a97b]::ty::context::tls::with_opt::<rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>::{closure#0}, ()>\r\n  20:        0x1080308f0 - rustc_codegen_ssa[153a3711b62870f6]::base::codegen_crate::<rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend>\r\n  14:        0x10c4ef1ac - rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt::<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>\r\n  15:        0x10c8effb4 - rustc_middle[5cf767f16c22a97b]::util::bug::bug_fmt\r\n  16:        0x108bfe13c - rustc_codegen_llvm[dd6674becbc428f]::context::create_module\r\n  21:        0x107ff17d0 - <rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend as rustc_codegen_ssa[153a3711b62870f6]::traits::backend::CodegenBackend>::codegen_crate\r\n  22:        0x107f53b34 - <rustc_session[84f26b2988ec6891]::session::Session>::time::<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_interface[9a8095a1182bcac]::passes::start_codegen::{closure#0}>\r\n  23:        0x107f52b60 - <rustc_interface[9a8095a1182bcac]::passes::QueryContext>::enter::<<rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen::{closure#0}::{closure#0}, core[d37d367579b502e8]::result::Result<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  17:        0x108bb91c4 - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit::module_codegen\r\n  18:        0x108be1754 - <rustc_query_system[f000905e87261d58]::dep_graph::graph::DepGraph<rustc_middle[5cf767f16c22a97b]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[5cf767f16c22a97b]::ty::context::TyCtxt, rustc_span[a98e6ad0049a95ce]::symbol::Symbol, rustc_codegen_ssa[153a3711b62870f6]::ModuleCodegen<rustc_codegen_llvm[dd6674becbc428f]::ModuleLlvm>>\r\n  19:        0x108bb8e3c - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit\r\n  20:        0x108be48f0 - rustc_codegen_ssa[153a3711b62870f6]::base::codegen_crate::<rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend>\r\n  21:        0x108ba57d0 - <rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend as rustc_codegen_ssa[153a3711b62870f6]::traits::backend::CodegenBackend>::codegen_crate\r\n  24:        0x107fd30d4 - <rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen\r\n  22:        0x108b07b34 - <rustc_session[84f26b2988ec6891]::session::Session>::time::<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_interface[9a8095a1182bcac]::passes::start_codegen::{closure#0}>\r\n  25:        0x107e41424 - <rustc_interface[9a8095a1182bcac]::interface::Compiler>::enter::<rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}::{closure#2}, core[d37d367579b502e8]::result::Result<core[d37d367579b502e8]::option::Option<rustc_interface[9a8095a1182bcac]::queries::Linker>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  26:        0x107e99840 - rustc_span[a98e6ad0049a95ce]::with_source_map::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#1}>\r\n  23:        0x108b06b60 - <rustc_interface[9a8095a1182bcac]::passes::QueryContext>::enter::<<rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen::{closure#0}::{closure#0}, core[d37d367579b502e8]::result::Result<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  27:        0x107e419b4 - rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>\r\n  24:        0x108b870d4 - <rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen\r\n  25:        0x1089f5424 - <rustc_interface[9a8095a1182bcac]::interface::Compiler>::enter::<rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}::{closure#2}, core[d37d367579b502e8]::result::Result<core[d37d367579b502e8]::option::Option<rustc_interface[9a8095a1182bcac]::queries::Linker>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  28:        0x107e3ab94 - <scoped_tls[6504442c2c131a01]::ScopedKey<rustc_span[a98e6ad0049a95ce]::SessionGlobals>>::set::<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  29:        0x107e87c48 - std[a9f1884e343caea3]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  26:        0x108a4d840 - rustc_span[a98e6ad0049a95ce]::with_source_map::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#1}>\r\n  27:        0x1089f59b4 - rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>\r\n  30:        0x107e618fc - <<std[a9f1884e343caea3]::thread::Builder>::spawn_unchecked_<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#1} as core[d37d367579b502e8]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  31:        0x100b8faac - std::sys::unix::thread::Thread::new::thread_start::h944e84a760d0c477\r\n  28:        0x1089eeb94 - <scoped_tls[6504442c2c131a01]::ScopedKey<rustc_span[a98e6ad0049a95ce]::SessionGlobals>>::set::<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  29:        0x108a3bc48 - std[a9f1884e343caea3]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  30:        0x108a158fc - <<std[a9f1884e343caea3]::thread::Builder>::spawn_unchecked_<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#1} as core[d37d367579b502e8]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  31:        0x101743aac - std::sys::unix::thread::Thread::new::thread_start::h944e84a760d0c477\r\n  32:        0x18fdce26c - __pthread_deallocate\r\n\r\n  32:        0x18fdce26c - __pthread_deallocate\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\n\r\nnote: rustc 1.62.0-nightly (082e4ca49 2022-04-26) running on aarch64-apple-darwin\r\nnote: rustc 1.62.0-nightly (082e4ca49 2022-04-26) running on aarch64-apple-darwin\r\n\r\n\r\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -Z force-unstable-if-unmarked\r\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -Z force-unstable-if-unmarked\r\n\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\n\r\nquery stack during panic:\r\nquery stack during panic:\r\nend of query stack\r\nend of query stack\r\nerror: could not compile `rustc-std-workspace-core`\r\nwarning: build failed, waiting for other jobs to finish...\r\nthread 'rustc' panicked at 'Box<dyn Any>', /rustc/082e4ca49770ebc9cb0ee616f3726a67471be8cb/compiler/rustc_errors/src/lib.rs:1313:9\r\nstack backtrace:\r\n   0:        0x1037ffe00 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4b6cfcc8bff01899\r\n   1:        0x103851700 - core::fmt::write::hb07daa6d4b732434\r\n   2:        0x1037f2e58 - std::io::Write::write_fmt::h84ddd778c0c2d08d\r\n   3:        0x103802b00 - std::panicking::default_hook::{{closure}}::h5faac4ca80254748\r\n   4:        0x1038027dc - std::panicking::default_hook::hcb52bdcc4b5b62af\r\n   5:        0x10ab10978 - rustc_driver[c7232c156e8f1ca]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   6:        0x1038031dc - std::panicking::rust_panic_with_hook::h0c8ae3594fa0153f\r\n   7:        0x10e5a7228 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}\r\n   8:        0x10e5a60cc - std[a9f1884e343caea3]::sys_common::backtrace::__rust_end_short_backtrace::<std[a9f1884e343caea3]::panicking::begin_panic<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}, !>\r\n   9:        0x10e9b3108 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n  10:        0x10e42da84 - std[a9f1884e343caea3]::panic::panic_any::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n  11:        0x10e42d748 - <rustc_errors[2d373aa847274627]::HandlerInner>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  12:        0x10e42cfa8 - <rustc_errors[2d373aa847274627]::Handler>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  13:        0x10e5b5cf0 - rustc_middle[5cf767f16c22a97b]::ty::context::tls::with_opt::<rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>::{closure#0}, ()>\r\n  14:        0x10e5b71ac - rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt::<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>\r\n  15:        0x10e9b7fb4 - rustc_middle[5cf767f16c22a97b]::util::bug::bug_fmt\r\n  16:        0x10acc613c - rustc_codegen_llvm[dd6674becbc428f]::context::create_module\r\n  17:        0x10ac811c4 - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit::module_codegen\r\n  18:        0x10aca9754 - <rustc_query_system[f000905e87261d58]::dep_graph::graph::DepGraph<rustc_middle[5cf767f16c22a97b]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[5cf767f16c22a97b]::ty::context::TyCtxt, rustc_span[a98e6ad0049a95ce]::symbol::Symbol, rustc_codegen_ssa[153a3711b62870f6]::ModuleCodegen<rustc_codegen_llvm[dd6674becbc428f]::ModuleLlvm>>\r\n  19:        0x10ac80e3c - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit\r\n  20:        0x10acac8f0 - rustc_codegen_ssa[153a3711b62870f6]::base::codegen_crate::<rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend>\r\n  21:        0x10ac6d7d0 - <rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend as rustc_codegen_ssa[153a3711b62870f6]::traits::backend::CodegenBackend>::codegen_crate\r\n  22:        0x10abcfb34 - <rustc_session[84f26b2988ec6891]::session::Session>::time::<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_interface[9a8095a1182bcac]::passes::start_codegen::{closure#0}>\r\n  23:        0x10abceb60 - <rustc_interface[9a8095a1182bcac]::passes::QueryContext>::enter::<<rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen::{closure#0}::{closure#0}, core[d37d367579b502e8]::result::Result<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  24:        0x10ac4f0d4 - <rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen\r\n  25:        0x10aabd424 - <rustc_interface[9a8095a1182bcac]::interface::Compiler>::enter::<rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}::{closure#2}, core[d37d367579b502e8]::result::Result<core[d37d367579b502e8]::option::Option<rustc_interface[9a8095a1182bcac]::queries::Linker>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  26:        0x10ab15840 - rustc_span[a98e6ad0049a95ce]::with_source_map::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#1}>\r\n  27:        0x10aabd9b4 - rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>\r\n  28:        0x10aab6b94 - <scoped_tls[6504442c2c131a01]::ScopedKey<rustc_span[a98e6ad0049a95ce]::SessionGlobals>>::set::<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  29:        0x10ab03c48 - std[a9f1884e343caea3]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  30:        0x10aadd8fc - <<std[a9f1884e343caea3]::thread::Builder>::spawn_unchecked_<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#1} as core[d37d367579b502e8]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  31:        0x10380baac - std::sys::unix::thread::Thread::new::thread_start::h944e84a760d0c477\r\n  32:        0x18fdce26c - __pthread_deallocate\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.62.0-nightly (082e4ca49 2022-04-26) running on aarch64-apple-darwin\r\n\r\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -Z force-unstable-if-unmarked\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\nerror: could not compile `libc`\r\nerror: could not compile `core`\r\nthread 'rustc' panicked at 'Box<dyn Any>', /rustc/082e4ca49770ebc9cb0ee616f3726a67471be8cb/compiler/rustc_errors/src/lib.rs:1313:9\r\nstack backtrace:\r\n   0:        0x10337fe00 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4b6cfcc8bff01899\r\n   1:        0x1033d1700 - core::fmt::write::hb07daa6d4b732434\r\n   2:        0x103372e58 - std::io::Write::write_fmt::h84ddd778c0c2d08d\r\n   3:        0x103382b00 - std::panicking::default_hook::{{closure}}::h5faac4ca80254748\r\n   4:        0x1033827dc - std::panicking::default_hook::hcb52bdcc4b5b62af\r\n   5:        0x10a690978 - rustc_driver[c7232c156e8f1ca]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   6:        0x1033831dc - std::panicking::rust_panic_with_hook::h0c8ae3594fa0153f\r\n   7:        0x10e127228 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}\r\n   8:        0x10e1260cc - std[a9f1884e343caea3]::sys_common::backtrace::__rust_end_short_backtrace::<std[a9f1884e343caea3]::panicking::begin_panic<rustc_errors[2d373aa847274627]::ExplicitBug>::{closure#0}, !>\r\n   9:        0x10e533108 - std[a9f1884e343caea3]::panicking::begin_panic::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n  10:        0x10dfada84 - std[a9f1884e343caea3]::panic::panic_any::<rustc_errors[2d373aa847274627]::ExplicitBug>\r\n  11:        0x10dfad748 - <rustc_errors[2d373aa847274627]::HandlerInner>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  12:        0x10dfacfa8 - <rustc_errors[2d373aa847274627]::Handler>::bug::<&alloc[a78b52757dc16ac8]::string::String>\r\n  13:        0x10e135cf0 - rustc_middle[5cf767f16c22a97b]::ty::context::tls::with_opt::<rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>::{closure#0}, ()>\r\n  14:        0x10e1371ac - rustc_middle[5cf767f16c22a97b]::util::bug::opt_span_bug_fmt::<rustc_span[a98e6ad0049a95ce]::span_encoding::Span>\r\n  15:        0x10e537fb4 - rustc_middle[5cf767f16c22a97b]::util::bug::bug_fmt\r\n  16:        0x10a84613c - rustc_codegen_llvm[dd6674becbc428f]::context::create_module\r\n  17:        0x10a8011c4 - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit::module_codegen\r\n  18:        0x10a829754 - <rustc_query_system[f000905e87261d58]::dep_graph::graph::DepGraph<rustc_middle[5cf767f16c22a97b]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[5cf767f16c22a97b]::ty::context::TyCtxt, rustc_span[a98e6ad0049a95ce]::symbol::Symbol, rustc_codegen_ssa[153a3711b62870f6]::ModuleCodegen<rustc_codegen_llvm[dd6674becbc428f]::ModuleLlvm>>\r\n  19:        0x10a800e3c - rustc_codegen_llvm[dd6674becbc428f]::base::compile_codegen_unit\r\n  20:        0x10a82c8f0 - rustc_codegen_ssa[153a3711b62870f6]::base::codegen_crate::<rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend>\r\n  21:        0x10a7ed7d0 - <rustc_codegen_llvm[dd6674becbc428f]::LlvmCodegenBackend as rustc_codegen_ssa[153a3711b62870f6]::traits::backend::CodegenBackend>::codegen_crate\r\n  22:        0x10a74fb34 - <rustc_session[84f26b2988ec6891]::session::Session>::time::<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_interface[9a8095a1182bcac]::passes::start_codegen::{closure#0}>\r\n  23:        0x10a74eb60 - <rustc_interface[9a8095a1182bcac]::passes::QueryContext>::enter::<<rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen::{closure#0}::{closure#0}, core[d37d367579b502e8]::result::Result<alloc[a78b52757dc16ac8]::boxed::Box<dyn core[d37d367579b502e8]::any::Any>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  24:        0x10a7cf0d4 - <rustc_interface[9a8095a1182bcac]::queries::Queries>::ongoing_codegen\r\n  25:        0x10a63d424 - <rustc_interface[9a8095a1182bcac]::interface::Compiler>::enter::<rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}::{closure#2}, core[d37d367579b502e8]::result::Result<core[d37d367579b502e8]::option::Option<rustc_interface[9a8095a1182bcac]::queries::Linker>, rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  26:        0x10a695840 - rustc_span[a98e6ad0049a95ce]::with_source_map::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#1}>\r\n  27:        0x10a63d9b4 - rustc_interface[9a8095a1182bcac]::interface::create_compiler_and_run::<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>\r\n  28:        0x10a636b94 - <scoped_tls[6504442c2c131a01]::ScopedKey<rustc_span[a98e6ad0049a95ce]::SessionGlobals>>::set::<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  29:        0x10a683c48 - std[a9f1884e343caea3]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>\r\n  30:        0x10a65d8fc - <<std[a9f1884e343caea3]::thread::Builder>::spawn_unchecked_<rustc_interface[9a8095a1182bcac]::util::run_in_thread_pool_with_globals<rustc_interface[9a8095a1182bcac]::interface::run_compiler<core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>, rustc_driver[c7232c156e8f1ca]::run_compiler::{closure#1}>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#0}, core[d37d367579b502e8]::result::Result<(), rustc_errors[2d373aa847274627]::ErrorGuaranteed>>::{closure#1} as core[d37d367579b502e8]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  31:        0x10338baac - std::sys::unix::thread::Thread::new::thread_start::h944e84a760d0c477\r\n  32:        0x18fdce26c - __pthread_deallocate\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.62.0-nightly (082e4ca49 2022-04-26) running on aarch64-apple-darwin\r\n\r\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -Z force-unstable-if-unmarked\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\nerror: could not compile `compiler_builtins`\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/96463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/96463/timeline", "performed_via_github_app": null, "state_reason": "completed"}