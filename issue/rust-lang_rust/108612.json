{"url": "https://api.github.com/repos/rust-lang/rust/issues/108612", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/108612/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/108612/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/108612/events", "html_url": "https://github.com/rust-lang/rust/issues/108612", "id": 1605268868, "node_id": "I_kwDOAAsO6M5frnWE", "number": 108612, "title": "Omit commented-out options in `configure.py`", "user": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 419557634, "node_id": "MDU6TGFiZWw0MTk1NTc2MzQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-medium", "name": "E-medium", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Medium / intermediate"}], "state": "closed", "locked": false, "assignee": {"login": "Teapot4195", "id": 75273023, "node_id": "MDQ6VXNlcjc1MjczMDIz", "avatar_url": "https://avatars.githubusercontent.com/u/75273023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Teapot4195", "html_url": "https://github.com/Teapot4195", "followers_url": "https://api.github.com/users/Teapot4195/followers", "following_url": "https://api.github.com/users/Teapot4195/following{/other_user}", "gists_url": "https://api.github.com/users/Teapot4195/gists{/gist_id}", "starred_url": "https://api.github.com/users/Teapot4195/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Teapot4195/subscriptions", "organizations_url": "https://api.github.com/users/Teapot4195/orgs", "repos_url": "https://api.github.com/users/Teapot4195/repos", "events_url": "https://api.github.com/users/Teapot4195/events{/privacy}", "received_events_url": "https://api.github.com/users/Teapot4195/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Teapot4195", "id": 75273023, "node_id": "MDQ6VXNlcjc1MjczMDIz", "avatar_url": "https://avatars.githubusercontent.com/u/75273023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Teapot4195", "html_url": "https://github.com/Teapot4195", "followers_url": "https://api.github.com/users/Teapot4195/followers", "following_url": "https://api.github.com/users/Teapot4195/following{/other_user}", "gists_url": "https://api.github.com/users/Teapot4195/gists{/gist_id}", "starred_url": "https://api.github.com/users/Teapot4195/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Teapot4195/subscriptions", "organizations_url": "https://api.github.com/users/Teapot4195/orgs", "repos_url": "https://api.github.com/users/Teapot4195/repos", "events_url": "https://api.github.com/users/Teapot4195/events{/privacy}", "received_events_url": "https://api.github.com/users/Teapot4195/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-03-01T16:16:34Z", "updated_at": "2023-03-05T02:00:54Z", "closed_at": "2023-03-05T02:00:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Right now, `./configure --set rust.incremental` generates an 809 line file, making it very hard to tell what's actually modified. `configure-args` kind of helps with this, but doesn't show up until line 331, so it's not obvious to people who aren't experienced with bootstrap. We should change configure.py to only include options that are actually set, so it's easier to tell how it differs from the defaults. This also avoids issues where the comments in `config.toml` drift away from the comments in `config.toml.example` over time.\n\nUnfortunately config.toml.example is just a bunch of comments so it's annoying to actually do this and keep the relevant comments in `config.toml` ... maybe we can search back upwards to the nearest blank line?\n\nRelevant code: https://github.com/rust-lang/rust/blob/6379c727ace0cfc1eaab093f297b97e1ffb8bb30/src/bootstrap/configure.py#L383-L393\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"Teapot4195\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/108612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/108612/timeline", "performed_via_github_app": null, "state_reason": "completed"}