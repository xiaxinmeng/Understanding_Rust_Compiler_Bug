{"url": "https://api.github.com/repos/rust-lang/rust/issues/45342", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/45342/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/45342/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/45342/events", "html_url": "https://github.com/rust-lang/rust/issues/45342", "id": 266130543, "node_id": "MDU6SXNzdWUyNjYxMzA1NDM=", "number": 45342, "title": "Can't build stylo in FF 56.x", "user": {"login": "tpgxyz", "id": 13415195, "node_id": "MDQ6VXNlcjEzNDE1MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/13415195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tpgxyz", "html_url": "https://github.com/tpgxyz", "followers_url": "https://api.github.com/users/tpgxyz/followers", "following_url": "https://api.github.com/users/tpgxyz/following{/other_user}", "gists_url": "https://api.github.com/users/tpgxyz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tpgxyz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tpgxyz/subscriptions", "organizations_url": "https://api.github.com/users/tpgxyz/orgs", "repos_url": "https://api.github.com/users/tpgxyz/repos", "events_url": "https://api.github.com/users/tpgxyz/events{/privacy}", "received_events_url": "https://api.github.com/users/tpgxyz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-17T13:45:12Z", "updated_at": "2017-10-19T06:49:40Z", "closed_at": "2017-10-19T06:49:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to build FF 56.0.1 with rust-1.21.0.\r\n\r\nFull logs can be found here http://file-store.openmandriva.org/api/v1/file_stores/1e85cf22a732ff76c55f52625dfab10fbfcaac23.log?show=true\r\n\r\nerror: failed to run custom build command for `style v0.0.1 (file:///builddir/build/BUILD/firefox-56.0.1/servo/components/style)`\r\n```\r\n\r\n/builddir/build/BUILD/firefox-56.0.1/obj/dist/include/nsCSSFontFaceRule.h:137:38: warning: offset of on non-standard-layout type 'nsCSSFontFaceRule' [-Winvalid-offsetof], err: false\r\n/builddir/build/BUILD/firefox-56.0.1/obj/dist/include/nsCSSFontFaceRule.h:144:44: warning: offset of on non-standard-layout type 'nsCSSFontFaceRule' [-Winvalid-offsetof], err: false\r\n/builddir/build/BUILD/firefox-56.0.1/obj/dist/include/nsStyleContext.h:76:15: warning: inline function 'nsStyleContext::Release' is not defined [-Wundefined-inline], err: false\r\n--- stderr\r\nthread '<unnamed>' panicked at 'Non floating-type complex?', /builddir/build/BUILD/firefox-56.0.1/third_party/rust/bindgen/src/ir/context.rs:1409:25\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n             at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:71\r\n   2: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/sys_common/backtrace.rs:60\r\n             at src/libstd/panicking.rs:381\r\n   3: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:397\r\n   4: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:611\r\n   5: std::panicking::begin_panic\r\n   6: bindgen::ir::context::BindgenContext::builtin_or_resolved_ty\r\n   7: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::from_ty_or_ref_with_id\r\n   8: bindgen::ir::ty::Type::from_clang_ty\r\n   9: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::from_ty_with_id\r\n  10: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::parse\r\n  11: bindgen::clang::visit_children\r\n  12: <unknown>\r\n  13: <unknown>\r\n  14: <unknown>\r\n  15: <unknown>\r\n  16: clang_visitChildren\r\n  17: clang_sys::clang_visitChildren\r\n  18: bindgen::Bindings::generate\r\n  19: bindgen::Builder::generate\r\n  20: build_script_build::build_gecko::bindings::write_binding_file\r\n  21: build_script_build::build_gecko::bindings::generate_bindings\r\n  22: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:99\r\n  23: <F as alloc::boxed::FnBox<A>>::call_box\r\n  24: std::sys::imp::thread::Thread::new::thread_start\r\n             at /builddir/build/BUILD/rustc-1.21.0-src/src/liballoc/boxed.rs:692\r\n             at src/libstd/sys_common/thread.rs:21\r\n             at src/libstd/sys/unix/thread.rs:84\r\n  25: start_thread\r\n  26: __GI___clone\r\nthread '<unnamed>' panicked at 'Non floating-type complex?', /builddir/build/BUILD/firefox-56.0.1/third_party/rust/bindgen/src/ir/context.rs:1409:25\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n             at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:71\r\n   2: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/sys_common/backtrace.rs:60\r\n             at src/libstd/panicking.rs:381\r\n   3: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:397\r\n   4: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:611\r\n   5: std::panicking::begin_panic\r\n   6: bindgen::ir::context::BindgenContext::builtin_or_resolved_ty\r\n   7: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::from_ty_or_ref_with_id\r\n   8: bindgen::ir::ty::Type::from_clang_ty\r\n   9: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::from_ty_with_id\r\n  10: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::parse\r\n  11: bindgen::clang::visit_children\r\n  12: <unknown>\r\n  13: <unknown>\r\n  14: <unknown>\r\n  15: <unknown>\r\n  16: clang_visitChildren\r\n  17: clang_sys::clang_visitChildren\r\n  18: bindgen::clang::visit_children\r\n  19: <unknown>\r\n  20: <unknown>\r\n  21: <unknown>\r\n  22: <unknown>\r\n  23: clang_visitChildren\r\n  24: clang_sys::clang_visitChildren\r\n  25: bindgen::Bindings::generate\r\n  26: bindgen::Builder::generate\r\n  27: build_script_build::build_gecko::bindings::write_binding_file\r\n  28: build_script_build::build_gecko::bindings::generate_structs\r\n  29: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:99\r\n  30: <F as alloc::boxed::FnBox<A>>::call_box\r\n  31: std::sys::imp::thread::Thread::new::thread_start\r\n             at /builddir/build/BUILD/rustc-1.21.0-src/src/liballoc/boxed.rs:692\r\n             at src/libstd/sys_common/thread.rs:21\r\n             at src/libstd/sys/unix/thread.rs:84\r\n  32: start_thread\r\n  33: __GI___clone\r\nthread '<unnamed>' panicked at 'Non floating-type complex?', /builddir/build/BUILD/firefox-56.0.1/third_party/rust/bindgen/src/ir/context.rs:1409:25\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n             at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:71\r\n   2: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/sys_common/backtrace.rs:60\r\n             at src/libstd/panicking.rs:381\r\n   3: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:397\r\n   4: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:611\r\n   5: std::panicking::begin_panic\r\n   6: bindgen::ir::context::BindgenContext::builtin_or_resolved_ty\r\n   7: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::from_ty_or_ref_with_id\r\n   8: bindgen::ir::ty::Type::from_clang_ty\r\n   9: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::from_ty_with_id\r\n  10: <bindgen::ir::item::Item as bindgen::parse::ClangItemParser>::parse\r\n  11: bindgen::clang::visit_children\r\n  12: <unknown>\r\n  13: <unknown>\r\n  14: <unknown>\r\n  15: <unknown>\r\n  16: clang_visitChildren\r\n  17: clang_sys::clang_visitChildren\r\n  18: bindgen::clang::visit_children\r\n  19: <unknown>\r\n  20: <unknown>\r\n  21: <unknown>\r\n  22: <unknown>\r\n  23: clang_visitChildren\r\n  24: clang_sys::clang_visitChildren\r\n  25: bindgen::Bindings::generate\r\n  26: bindgen::Builder::generate\r\n  27: build_script_build::build_gecko::bindings::write_binding_file\r\n  28: build_script_build::build_gecko::bindings::generate_structs\r\n  29: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:99\r\n  30: <F as alloc::boxed::FnBox<A>>::call_box\r\n  31: std::sys::imp::thread::Thread::new::thread_start\r\n             at /builddir/build/BUILD/rustc-1.21.0-src/src/liballoc/boxed.rs:692\r\n             at src/libstd/sys_common/thread.rs:21\r\n             at src/libstd/sys/unix/thread.rs:84\r\n  32: start_thread\r\n  33: __GI___clone\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Any', src/libcore/result.rs:906:4\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n             at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:71\r\n   2: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/sys_common/backtrace.rs:60\r\n             at src/libstd/panicking.rs:381\r\n   3: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:397\r\n   4: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:611\r\n   5: std::panicking::begin_panic\r\n             at src/libstd/panicking.rs:572\r\n   6: std::panicking::begin_panic_fmt\r\n             at src/libstd/panicking.rs:522\r\n   7: rust_begin_unwind\r\n             at src/libstd/panicking.rs:498\r\n   8: core::panicking::panic_fmt\r\n             at src/libcore/panicking.rs:71\r\n   9: core::result::unwrap_failed\r\n  10: build_script_build::main\r\n  11: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:99\r\n  12: std::rt::lang_start\r\n             at src/libstd/panicking.rs:459\r\n             at src/libstd/panic.rs:361\r\n             at src/libstd/rt.rs:61\r\n  13: __libc_start_main\r\n  14: _start\r\n             at ../sysdeps/x86_64/start.S:120\r\n```", "closed_by": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/45342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/45342/timeline", "performed_via_github_app": null, "state_reason": "completed"}