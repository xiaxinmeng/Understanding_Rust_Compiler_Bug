{"url": "https://api.github.com/repos/rust-lang/rust/issues/63064", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/63064/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/63064/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/63064/events", "html_url": "https://github.com/rust-lang/rust/issues/63064", "id": 473711472, "node_id": "MDU6SXNzdWU0NzM3MTE0NzI=", "number": 63064, "title": "dead_code lint highlights too much on functions with multi-line signatures", "user": {"login": "alvinhochun", "id": 2397650, "node_id": "MDQ6VXNlcjIzOTc2NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/2397650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvinhochun", "html_url": "https://github.com/alvinhochun", "followers_url": "https://api.github.com/users/alvinhochun/followers", "following_url": "https://api.github.com/users/alvinhochun/following{/other_user}", "gists_url": "https://api.github.com/users/alvinhochun/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvinhochun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvinhochun/subscriptions", "organizations_url": "https://api.github.com/users/alvinhochun/orgs", "repos_url": "https://api.github.com/users/alvinhochun/repos", "events_url": "https://api.github.com/users/alvinhochun/events{/privacy}", "received_events_url": "https://api.github.com/users/alvinhochun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-28T06:35:16Z", "updated_at": "2019-08-06T17:43:34Z", "closed_at": "2019-08-06T17:43:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the following example code:\r\n\r\n```rust\r\nfn unused() {\r\n    println!(\"blah\");\r\n}\r\n\r\nfn unused2(var: i32) {\r\n    println!(\"foo {}\", var);\r\n}\r\n\r\nfn unused3(\r\n    var: i32,\r\n) {\r\n    println!(\"bar {}\", var);\r\n}\r\n\r\nfn main() {\r\n    println!(\"Hello world!\");\r\n}\r\n```\r\n\r\n([Playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=4324b40a5ff41a984e1e6dd7a04f1753))\r\n\r\nThe compiler produces these warnings:\r\n\r\n```\r\nwarning: function is never used: `unused`\r\n --> src/main.rs:1:1\r\n  |\r\n1 | fn unused() {\r\n  | ^^^^^^^^^^^\r\n  |\r\n  = note: `#[warn(dead_code)]` on by default\r\n\r\nwarning: function is never used: `unused2`\r\n --> src/main.rs:5:1\r\n  |\r\n5 | fn unused2(var: i32) {\r\n  | ^^^^^^^^^^^^^^^^^^^^\r\n\r\nwarning: function is never used: `unused3`\r\n  --> src/main.rs:9:1\r\n   |\r\n9  | / fn unused3(\r\n10 | |     var: i32,\r\n11 | | ) {\r\n12 | |     println!(\"bar {}\", var);\r\n13 | | }\r\n   | |_^\r\n```\r\n\r\nNotice that for `fn unused` and `fn unused2`, `dead_code` is reported on only the first line signature of the function, however for `fn unused3` `dead_code` is reported on the whole function from start to finish.\r\n\r\nThis is mostly annoying when writing new functions in an editor like vscode that rls will cause the whole function to be orange-wavy-underlined, making a huge distraction.", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/63064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/63064/timeline", "performed_via_github_app": null, "state_reason": "completed"}