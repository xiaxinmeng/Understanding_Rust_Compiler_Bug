{"url": "https://api.github.com/repos/rust-lang/rust/issues/75864", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/75864/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/75864/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/75864/events", "html_url": "https://github.com/rust-lang/rust/issues/75864", "id": 684306519, "node_id": "MDU6SXNzdWU2ODQzMDY1MTk=", "number": 75864, "title": "min_const_generics allows defining new types in const argument", "user": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1282665911, "node_id": "MDU6TGFiZWwxMjgyNjY1OTEx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-const-generics", "name": "A-const-generics", "color": "f7e101", "default": false, "description": "Area: const generics (parameters and arguments)"}, {"id": 2237029335, "node_id": "MDU6TGFiZWwyMjM3MDI5MzM1", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-min_const_generics", "name": "F-min_const_generics", "color": "f9c0cc", "default": false, "description": "Minimal const generics MVP"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-24T01:55:09Z", "updated_at": "2020-08-26T19:44:59Z", "closed_at": "2020-08-26T19:44:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I recently discovered that the following code compiles:\r\n\r\n```rust\r\n#![feature(min_const_generics)]\r\nstruct Bar<const C: bool>;\r\n\r\nstruct Foo {\r\n    outer: Bar<{\r\n        struct Inner {\r\n            field: bool\r\n        }\r\n        true\r\n    }>,\r\n}\r\n```\r\n\r\nIt looks like an `AnonConst` is allowed to contain arbitrary expressions (as long as no const or type parameters are used), which means that new types can be defined.\r\n\r\nI'm not certain whether this should be allowed or not. However, I haven't seen this discussed before, so I thought it was worth bringing up.\r\n\r\n", "closed_by": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/75864/reactions", "total_count": 4, "+1": 1, "-1": 0, "laugh": 3, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/75864/timeline", "performed_via_github_app": null, "state_reason": "completed"}