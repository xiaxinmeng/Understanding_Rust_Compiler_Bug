{"url": "https://api.github.com/repos/rust-lang/rust/issues/41675", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41675/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41675/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41675/events", "html_url": "https://github.com/rust-lang/rust/issues/41675", "id": 225453357, "node_id": "MDU6SXNzdWUyMjU0NTMzNTc=", "number": 41675, "title": "Borrow issue inside a for loop", "user": {"login": "krishnakumar4a4", "id": 13786546, "node_id": "MDQ6VXNlcjEzNzg2NTQ2", "avatar_url": "https://avatars.githubusercontent.com/u/13786546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krishnakumar4a4", "html_url": "https://github.com/krishnakumar4a4", "followers_url": "https://api.github.com/users/krishnakumar4a4/followers", "following_url": "https://api.github.com/users/krishnakumar4a4/following{/other_user}", "gists_url": "https://api.github.com/users/krishnakumar4a4/gists{/gist_id}", "starred_url": "https://api.github.com/users/krishnakumar4a4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krishnakumar4a4/subscriptions", "organizations_url": "https://api.github.com/users/krishnakumar4a4/orgs", "repos_url": "https://api.github.com/users/krishnakumar4a4/repos", "events_url": "https://api.github.com/users/krishnakumar4a4/events{/privacy}", "received_events_url": "https://api.github.com/users/krishnakumar4a4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-01T15:19:42Z", "updated_at": "2017-05-01T17:42:43Z", "closed_at": "2017-05-01T17:42:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to push a string into a vector. The string is obtained from splitting each entry of a vector.\r\nWhile compiling, shows the borrow is ouliving the scope of for loop.\r\n```rust\r\nfn to_flame_graph(callReturnVec: &mut Vec<String>,ReturnVec: Vec<String>){\r\n\t//let mut CallString;\r\n\tprintln!(\"printing to flamegraph\");\r\n\tlet mut flameStackVec = Vec::new();\r\n\tlet mut RefCounterVec = Vec::new();\r\n\tfor i in ReturnVec.iter(){\r\n\t\tflameStackVec.push(i);\r\n\t\tfor j in flameStackVec.iter(){\r\n\t\t\tprint!(\"{:?};\", j);\r\n\t\t}\r\n\t\tprint!(\"\\n\");\r\n\t}\r\n\tlet ReturnVeclength = flameStackVec.len();\r\n\tlet callReturnVeclength = callReturnVec.len();\r\n\tprintln!(\"callReturnVeclength: {:?}\", callReturnVeclength);\r\n\tfor i in 0..callReturnVeclength{\r\n\t\tlet mut CallReturnMapVectorTokens = callReturnVec[callReturnVeclength-1-i].split(';');\r\n\t\tprintln!(\"calltoken {:?}\", CallReturnMapVectorTokens.nth(0));\r\n\t\t//Getting the call tuple string\r\n\t\tlet CallMapVector: Vec<&str> = CallReturnMapVectorTokens.nth(0).unwrap().split(',').collect();\r\n\t\t//Getting the return tuple string\r\n\t\tlet ReturnMapVector: Vec<&str> = CallReturnMapVectorTokens.nth(1).unwrap().split(',').collect();\r\n\t\tlet StartTime = CallMapVector[1].parse::<u32>();\r\n\t\tlet EndTime = ReturnMapVector[1].parse::<u32>();\r\n\t\tlet TimeDiff;\r\n\t\t//Time difference between call and its return\r\n\t\tTimeDiff = EndTime.unwrap() - StartTime.unwrap();\r\n\t\tprintln!(\"call start {},returns {}\", CallMapVector[1],ReturnMapVector[1]);\r\n\t\tprintln!(\"Time difference {:?}\", TimeDiff);\r\n\r\n\r\n\t\tlet CallString;\r\n\t\tCallString = CallReturnMapVectorTokens.nth(0).unwrap().to_string().clone();\r\n\t\tprintln!(\"{:?}\", CallString);\r\n\t\tflameStackVec.push(&CallString);\r\n\r\n\r\n\t\tRefCounterVec.push(TimeDiff);\r\n\t\tfor i in flameStackVec.iter(){\r\n\t\t\tprint!(\"{:?}\", i);\r\n\t\t}\r\n\t\tprintln!(\"\");\r\n\t}\r\n}\r\n```\r\n\r\nHere is the error while compiling:\r\n```rust\r\nerror: `CallString` does not live long enough\r\n   --> src/main.rs:176:2\r\n    |\r\n167 |                 flameStackVec.push(&CallString);\r\n    |                                ---------- borrow occurs here\r\n...\r\n176 |         }\r\n    |    ^ `CallString` dropped here while still borrowed\r\n177 | }\r\n    | -       borrowed value needs to live until here\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nI am not able to workaround this problem, can someone help me? What am I missing?", "closed_by": {"login": "bluss", "id": 3209739, "node_id": "MDQ6VXNlcjMyMDk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluss", "html_url": "https://github.com/bluss", "followers_url": "https://api.github.com/users/bluss/followers", "following_url": "https://api.github.com/users/bluss/following{/other_user}", "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluss/subscriptions", "organizations_url": "https://api.github.com/users/bluss/orgs", "repos_url": "https://api.github.com/users/bluss/repos", "events_url": "https://api.github.com/users/bluss/events{/privacy}", "received_events_url": "https://api.github.com/users/bluss/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41675/timeline", "performed_via_github_app": null, "state_reason": "completed"}