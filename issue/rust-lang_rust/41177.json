{"url": "https://api.github.com/repos/rust-lang/rust/issues/41177", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41177/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41177/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41177/events", "html_url": "https://github.com/rust-lang/rust/issues/41177", "id": 220523403, "node_id": "MDU6SXNzdWUyMjA1MjM0MDM=", "number": 41177, "title": "Binary size violates the you-do-not-pay-for-what-you-do-not-use principle.", "user": {"login": "typeless", "id": 2606021, "node_id": "MDQ6VXNlcjI2MDYwMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2606021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typeless", "html_url": "https://github.com/typeless", "followers_url": "https://api.github.com/users/typeless/followers", "following_url": "https://api.github.com/users/typeless/following{/other_user}", "gists_url": "https://api.github.com/users/typeless/gists{/gist_id}", "starred_url": "https://api.github.com/users/typeless/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typeless/subscriptions", "organizations_url": "https://api.github.com/users/typeless/orgs", "repos_url": "https://api.github.com/users/typeless/repos", "events_url": "https://api.github.com/users/typeless/events{/privacy}", "received_events_url": "https://api.github.com/users/typeless/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-10T02:38:24Z", "updated_at": "2017-04-10T14:07:55Z", "closed_at": "2017-04-10T14:07:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am evaluating a use case of Rust on an embedded system after playing with it occasionally as hobby. We currently use Go for it and it works great. However, we have to adopt a 'busybox'-like approach to deal with the binary size problem as the number of our small CLI tools growing.\r\n\r\nI tried Rust but the outcome regarding binary size was disappointing. A hello-world program with a single dependency (clap) resulted in a 5.x MB executable, which has been already more monstrous than the aforementioned Go application we developed. And the Go executable doesn't even link to any shared library.\r\n\r\nI am aware of the 'tricks' found by someone and the blog posts that help with the problem, but it works only for the Nightly, which isn't a good sign for uses in production software. And most importantly, the small binary *should* be the default for release builds and users only pay for the binary size bloating if the \"additional\" features are actually utilized. \r\n\r\nNot sure If this is a realistic demand to Rust. Hopefully we don't have to stick to C forever when binary size matters.\r\n\r\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41177/timeline", "performed_via_github_app": null, "state_reason": "completed"}