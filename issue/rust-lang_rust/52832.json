{"url": "https://api.github.com/repos/rust-lang/rust/issues/52832", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52832/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52832/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52832/events", "html_url": "https://github.com/rust-lang/rust/issues/52832", "id": 345552515, "node_id": "MDU6SXNzdWUzNDU1NTI1MTU=", "number": 52832, "title": "#![warn(rust_2018_idioms)] proposes incorrect resolution to extern crate", "user": {"login": "johnthagen", "id": 10340167, "node_id": "MDQ6VXNlcjEwMzQwMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/10340167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnthagen", "html_url": "https://github.com/johnthagen", "followers_url": "https://api.github.com/users/johnthagen/followers", "following_url": "https://api.github.com/users/johnthagen/following{/other_user}", "gists_url": "https://api.github.com/users/johnthagen/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnthagen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnthagen/subscriptions", "organizations_url": "https://api.github.com/users/johnthagen/orgs", "repos_url": "https://api.github.com/users/johnthagen/repos", "events_url": "https://api.github.com/users/johnthagen/events{/privacy}", "received_events_url": "https://api.github.com/users/johnthagen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 980999956, "node_id": "MDU6TGFiZWw5ODA5OTk5NTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-edition-2018-lints", "name": "A-edition-2018-lints", "color": "f7e101", "default": false, "description": "Area: lints supporting the 2018 edition"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/56", "html_url": "https://github.com/rust-lang/rust/milestone/56", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/56/labels", "id": 3537666, "node_id": "MDk6TWlsZXN0b25lMzUzNzY2Ng==", "number": 56, "title": "Edition 2018 RC 2", "description": "", "creator": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2018-07-31T22:51:05Z", "updated_at": "2018-11-16T11:06:48Z", "due_on": "2018-10-25T07:00:00Z", "closed_at": "2018-11-16T11:06:48Z"}, "comments": 1, "created_at": "2018-07-29T18:36:29Z", "updated_at": "2018-08-24T18:21:56Z", "closed_at": "2018-08-24T18:21:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Reported from [discussion on internals forum](https://internals.rust-lang.org/t/help-test-out-the-2018-module-system-changes/8047/23?u=johnthagen) about transitioning to Rust 2018.\r\n\r\n```\r\n> rustup show\r\nDefault host: x86_64-pc-windows-msvc\r\n\r\n...\r\n\r\nactive toolchain\r\n----------------\r\n\r\nnightly-x86_64-pc-windows-msvc (default)\r\nrustc 1.29.0-nightly (6a1c0637c 2018-07-23)\r\n```\r\n\r\n`main.rs`:\r\n\r\n```rust\r\n//! Rust belt is a 2D video game inspired by Asteroids.\r\n//! It runs atop the Piston game engine for graphics and SDL2 for sound.\r\n#![feature(rust_2018_preview)]\r\n#![warn(rust_2018_idioms)]\r\n\r\nextern crate ai_behavior;\r\nextern crate music;\r\nextern crate opengl_graphics;\r\nextern crate piston_window;\r\nextern crate rand;\r\nextern crate sprite;\r\n\r\nuse piston_window::{OpenGL, PistonWindow, Size, WindowSettings};\r\nuse opengl_graphics::GlGraphics;\r\n\r\nmod game;\r\nmod menu;\r\nmod settings;\r\nmod story;\r\n\r\n/// Creates a new window and runs the game starts the main menu.\r\nfn main() {\r\n    let game_title = \"Rust Belt\";\r\n    let game_window_size = Size {\r\n        width: 1024,\r\n        height: 768,\r\n    };\r\n\r\n    let opengl = OpenGL::V3_2;\r\n\r\n    let mut window: PistonWindow = WindowSettings::new(\r\n        game_title,\r\n        [game_window_size.width, game_window_size.height],\r\n    ).opengl(opengl)\r\n        .samples(4)\r\n        .exit_on_esc(true)\r\n        .build()\r\n        .unwrap_or_else(|error| panic!(\"Failed to build PistonWindow: {}\", error));\r\n\r\n    let mut gl = GlGraphics::new(opengl);\r\n\r\n    menu::run(&mut window, &mut gl, game_window_size);\r\n}\r\n```\r\n\r\n`Cargo.toml`:\r\n```toml\r\ncargo-features = [\"edition\"]\r\n\r\n[package]\r\nname = \"rust-belt\"\r\nversion = \"1.2.0\"\r\nauthors = [\r\n    \"johnthagen <johnthagen@gmail.com>\",\r\n    \"theandrewdavis <theandrewdavis@gmail.com>\",\r\n    \"mcdenhoed <mcdenhoed@gmail.com>\",\r\n]\r\nedition = '2018'\r\n\r\n[dependencies]\r\npiston_window = \"0.80.0\"\r\npiston2d-opengl_graphics = \"0.53.0\"\r\npiston-music = \"0.24.0\"\r\npiston2d-sprite = \"0.45.0\"\r\npiston-ai_behavior = \"0.24.0\"\r\nrand = \"0.5.4\"\r\n```\r\n\r\n```\r\n>cargo +nightly fix --allow-dirty\r\n    Checking rust-belt v1.2.0 (file:///C:/Users/User/PycharmProjects/rust-belt)\r\n      Fixing src\\story.rs (3 fixes)\r\n      Fixing src\\game\\models\\vector.rs (8 fixes)\r\n      Fixing src\\game\\mod.rs (9 fixes)\r\n      Fixing src\\menu.rs (7 fixes)\r\n      Fixing src\\game\\models\\mod.rs (7 fixes)\r\n      Fixing src\\game\\models\\player.rs (14 fixes)\r\n      Fixing src\\game\\color.rs (9 fixes)\r\n      Fixing src\\settings.rs (3 fixes)\r\n      Fixing src\\game\\models\\bullet.rs (3 fixes)\r\n      Fixing src\\game\\models\\asteroid.rs (4 fixes)\r\nwarning: unused extern crate\r\n --> src\\main.rs:6:1\r\n  |\r\n6 | extern crate ai_behavior;\r\n  | ^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove it\r\n  |\r\nnote: lint level defined here\r\n --> src\\main.rs:4:9\r\n  |\r\n4 | #![warn(rust_2018_idioms)]\r\n  |         ^^^^^^^^^^^^^^^^\r\n  = note: #[warn(unused_extern_crates)] implied by #[warn(rust_2018_idioms)]\r\n\r\nwarning: `extern crate` is not idiomatic in the new edition\r\n --> src\\main.rs:7:1\r\n  |\r\n7 | extern crate music;\r\n  | ^^^^^^^^^^^^^^^^^^^ help: convert it to a `use`\r\n\r\nwarning: unused extern crate\r\n --> src\\main.rs:8:1\r\n  |\r\n8 | extern crate opengl_graphics;\r\n  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove it\r\n\r\nwarning: unused extern crate\r\n --> src\\main.rs:9:1\r\n  |\r\n9 | extern crate piston_window;\r\n  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove it\r\n\r\nwarning: `extern crate` is not idiomatic in the new edition\r\n  --> src\\main.rs:10:1\r\n   |\r\n10 | extern crate rand;\r\n   | ^^^^^^^^^^^^^^^^^^ help: convert it to a `use`\r\n\r\nwarning: unused extern crate\r\n  --> src\\main.rs:11:1\r\n   |\r\n11 | extern crate sprite;\r\n   | ^^^^^^^^^^^^^^^^^^^^ help: remove it\r\n\r\n    Finished dev [unoptimized + debuginfo] target(s) in 2.51s\r\n```\r\n\r\nThe lints that say `help: convert it to a 'use'` should all say `remove it`. If you change it to `use`, the next time you build, you get an \"unused use\" warning, at which point you have to remove it anyway to remove the warning.", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52832/timeline", "performed_via_github_app": null, "state_reason": "completed"}