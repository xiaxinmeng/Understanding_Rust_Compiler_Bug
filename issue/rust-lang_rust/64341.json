{"url": "https://api.github.com/repos/rust-lang/rust/issues/64341", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/64341/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/64341/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/64341/events", "html_url": "https://github.com/rust-lang/rust/issues/64341", "id": 491561413, "node_id": "MDU6SXNzdWU0OTE1NjE0MTM=", "number": 64341, "title": "toolstate: allow toolstate x->build_fail in rollup PRs", "user": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}, {"id": 602425123, "node_id": "MDU6TGFiZWw2MDI0MjUxMjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-dev-tools", "name": "T-dev-tools", "color": "bfd4f2", "default": false, "description": "Relevant to the dev-tools subteam, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-10T09:37:52Z", "updated_at": "2019-09-18T00:28:06Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "I was trying to implement this myself but was not sure about implementation details, so making a ticket...\r\n\r\nCurrently, a PR that modifies a tool and does not change it to \"test pass\" will fail.\r\nIf we allowed \"test pass\"  -> \"build fail\", \"build fail\" -> \"test fail\", and \"build fail -> build fail\" we would allow tool fix PRs to be rolled up more aggressively.\r\n\r\nCurrently, tools-change prs are rarely rolled up because if it does not fix the toolstate, or another change in the rollup breaks the tool again, the entire PR will fail and cannot merge.\r\n\r\nThus the idea to allow \"tool modified && X -> build fail\" toolstate changes ONLY in rollup prs came up.\r\n\r\nHowever I think we need to add some kind of exception for \"no tool breakages week\" where \"x -> test fail\" is denied.\r\n\r\ncc @Centril ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/64341/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/64341/timeline", "performed_via_github_app": null, "state_reason": null}