{"url": "https://api.github.com/repos/rust-lang/rust/issues/22053", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/22053/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/22053/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/22053/events", "html_url": "https://github.com/rust-lang/rust/issues/22053", "id": 56912752, "node_id": "MDU6SXNzdWU1NjkxMjc1Mg==", "number": 22053, "title": "llvm::CallGraphNode::~CallGraphNode(): Assertion `NumReferences == 0 && \"Node deleted while references remain\"' failed.", "user": {"login": "pczarn", "id": 3356767, "node_id": "MDQ6VXNlcjMzNTY3Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/3356767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pczarn", "html_url": "https://github.com/pczarn", "followers_url": "https://api.github.com/users/pczarn/followers", "following_url": "https://api.github.com/users/pczarn/following{/other_user}", "gists_url": "https://api.github.com/users/pczarn/gists{/gist_id}", "starred_url": "https://api.github.com/users/pczarn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pczarn/subscriptions", "organizations_url": "https://api.github.com/users/pczarn/orgs", "repos_url": "https://api.github.com/users/pczarn/repos", "events_url": "https://api.github.com/users/pczarn/events{/privacy}", "received_events_url": "https://api.github.com/users/pczarn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-07T14:22:39Z", "updated_at": "2015-04-22T02:42:03Z", "closed_at": "2015-04-22T02:42:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\nrustc src/libstd/lib.rs --test -C opt-level=3 -C lto\n```\n\n```\nrustc: /src/rust/src/llvm/include/llvm/Analysis/CallGraph.h:178: llvm::CallGraphNode::~CallGraphNode(): Assertion `NumReferences == 0 && \"Node deleted while references remain\"' failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffef7ff700 (LWP 12933)]\n0x00007ffff7049a97 in raise () from /usr/lib/libc.so.6\n(gdb) bt\n#0  0x00007ffff7049a97 in raise () from /usr/lib/libc.so.6\n#1  0x00007ffff704ae6a in abort () from /usr/lib/libc.so.6\n#2  0x00007ffff70428bd in __assert_fail_base () from /usr/lib/libc.so.6\n#3  0x00007ffff7042972 in __assert_fail () from /usr/lib/libc.so.6\n#4  0x00007ffff32b68f9 in llvm::CallGraph::removeFunctionFromModule(llvm::CallGraphNode*) ()\n   from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_llvm-4e7c5e5c.so\n#5  0x00007ffff26fa223 in llvm::Inliner::removeDeadFunctions(llvm::CallGraph&, bool) ()\n   from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_llvm-4e7c5e5c.so\n#6  0x00007ffff32bcf6d in (anonymous namespace)::CGPassManager::runOnModule(llvm::Module&) ()\n   from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_llvm-4e7c5e5c.so\n#7  0x00007ffff35ec278 in llvm::legacy::PassManagerImpl::run(llvm::Module&) () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_llvm-4e7c5e5c.so\n#8  0x00007ffff352a72e in LLVMRunPassManager () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_llvm-4e7c5e5c.so\n#9  0x00007ffff63767d3 in back::write::execute_work_item::h6223141d1c9bb9d4b3c () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_trans-4e7c5e5c.so\n#10 0x00007ffff636e862 in back::write::run_passes::h2452a1cfd887acdbiKc () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_trans-4e7c5e5c.so\n#11 0x00007ffff7aefda4 in driver::phase_5_run_llvm_passes::ha0d656b3686872cfSPa ()\n   from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_driver-4e7c5e5c.so\n#12 0x00007ffff7acb4f9 in driver::compile_input::h558636263da5590eCba () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_driver-4e7c5e5c.so\n#13 0x00007ffff7b9a244 in run_compiler::h0146e31ecbcd3b6d7ac () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_driver-4e7c5e5c.so\n#14 0x00007ffff7b976dd in thunk::F.Invoke$LT$A$C$$u20$R$GT$::invoke::h6194183685552048735 ()\n   from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_driver-4e7c5e5c.so\n#15 0x00007ffff7b9649f in rt::unwind::try::try_fn::h1172606590764728260 () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_driver-4e7c5e5c.so\n#16 0x00007ffff7585ce9 in rust_try_inner () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/libstd-4e7c5e5c.so\n#17 0x00007ffff7585cd6 in rust_try () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/libstd-4e7c5e5c.so\n#18 0x00007ffff7b96aec in thunk::F.Invoke$LT$A$C$$u20$R$GT$::invoke::h11142474840251891045 ()\n   from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/librustc_driver-4e7c5e5c.so\n#19 0x00007ffff74fd746 in sys::thread::thread_start::hb8c2f89482757a06JvB () from /src/rust/x86_64-unknown-linux-gnu/stage2/lib/libstd-4e7c5e5c.so\n#20 0x00007ffff18dc314 in start_thread () from /usr/lib/libpthread.so.0\n#21 0x00007ffff70fe24d in clone () from /usr/lib/libc.so.6\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/22053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/22053/timeline", "performed_via_github_app": null, "state_reason": "completed"}