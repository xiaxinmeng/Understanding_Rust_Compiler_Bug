{"url": "https://api.github.com/repos/rust-lang/rust/issues/79946", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/79946/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/79946/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/79946/events", "html_url": "https://github.com/rust-lang/rust/issues/79946", "id": 762904920, "node_id": "MDU6SXNzdWU3NjI5MDQ5MjA=", "number": 79946, "title": "Constantly receiving `Undefined symbols for architecture x86_64`", "user": {"login": "jkelleyrtp", "id": 10237910, "node_id": "MDQ6VXNlcjEwMjM3OTEw", "avatar_url": "https://avatars.githubusercontent.com/u/10237910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkelleyrtp", "html_url": "https://github.com/jkelleyrtp", "followers_url": "https://api.github.com/users/jkelleyrtp/followers", "following_url": "https://api.github.com/users/jkelleyrtp/following{/other_user}", "gists_url": "https://api.github.com/users/jkelleyrtp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkelleyrtp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkelleyrtp/subscriptions", "organizations_url": "https://api.github.com/users/jkelleyrtp/orgs", "repos_url": "https://api.github.com/users/jkelleyrtp/repos", "events_url": "https://api.github.com/users/jkelleyrtp/events{/privacy}", "received_events_url": "https://api.github.com/users/jkelleyrtp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 474645165, "node_id": "MDU6TGFiZWw0NzQ2NDUxNjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-wasm", "name": "O-wasm", "color": "6e6ec0", "default": false, "description": "Target: WASM (WebAssembly), http://webassembly.org/"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-12-11T21:06:55Z", "updated_at": "2021-05-06T16:56:30Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I'm constantly receiving `Undefined symbols for architecture x86_64` when running `cargo build/test/check/run`. It happens in projects with a variety of targets (wasm/arm/x86/musl). I can make it temporarily go away when switching my default from stable to nightly, but the issues will resume and I'll have to switch back.\r\n\r\nThe stack traces I'm receiving are especially nasty:\r\n\r\n```\r\n  = note: Undefined symbols for architecture x86_64:\r\n            \"syn::punctuated::Pair$LT$T$C$P$GT$::into_tuple::h7650409a1648a723\", referenced from:\r\n                syn::gen::visit::visit_angle_bracketed_generic_arguments::h17c66b0edf1406c7 in libwasm_bindgen_macro_support-62eb06893cdd5d5c.rlib(wasm_bindgen_macro_support-62eb06893cdd5d5c.wasm_bindgen_macro_support.6s2lo5z5-cgu.0.rcgu.o)\r\n            \"syn::punctuated::Pair$LT$T$C$P$GT$::into_tuple::h9e3a72cf01e3775d\", referenced from:\r\n                syn::gen::visit::visit_lifetime_def::h12b1c6ddc1818ba7 in libwasm_bindgen_macro_support-62eb06893cdd5d5c.rlib(wasm_bindgen_macro_support-62eb06893cdd5d5c.wasm_bindgen_macro_support.6s2lo5z5-cgu.0.rcgu.o)\r\n                syn::gen::visit::visit_predicate_lifetime::h90dd0a0408d5ad94 in libwasm_bindgen_macro_support-62eb06893cdd5d5c.rlib(wasm_bindgen_macro_support-62eb06893cdd5d5c.wasm_bindgen_macro_support.6s2lo5z5-cgu.0.rcgu.o)\r\n....\r\n....\r\n\"_$LT$alloc..raw_vec..RawVec$LT$T$C$A$GT$$u20$as$u20$core..ops..drop..Drop$GT$::drop::hdf6534d4c8747194\", referenced from:\r\n                core::ptr::drop_in_place::h3e5e73dbe7eaf673 in libwasm_bindgen_macro_support-62eb06893cdd5d5c.rlib(wasm_bindgen_macro_support-62eb06893cdd5d5c.wasm_bindgen_macro_support.6s2lo5z5-cgu.6.rcgu.o)\r\n          ld: symbol(s) not found for architecture x86_64\r\n          clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n         \r\n```\r\n\r\nUnfortunately, `cargo clean` doesn't help, nor does switching from debug to release.\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/79946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/79946/timeline", "performed_via_github_app": null, "state_reason": null}