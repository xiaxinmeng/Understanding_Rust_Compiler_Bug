{"url": "https://api.github.com/repos/rust-lang/rust/issues/16669", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/16669/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/16669/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/16669/events", "html_url": "https://github.com/rust-lang/rust/issues/16669", "id": 40883064, "node_id": "MDU6SXNzdWU0MDg4MzA2NA==", "number": 16669, "title": "ICE: Using fn when proc is expected", "user": {"login": "TyOverby", "id": 573215, "node_id": "MDQ6VXNlcjU3MzIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/573215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TyOverby", "html_url": "https://github.com/TyOverby", "followers_url": "https://api.github.com/users/TyOverby/followers", "following_url": "https://api.github.com/users/TyOverby/following{/other_user}", "gists_url": "https://api.github.com/users/TyOverby/gists{/gist_id}", "starred_url": "https://api.github.com/users/TyOverby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TyOverby/subscriptions", "organizations_url": "https://api.github.com/users/TyOverby/orgs", "repos_url": "https://api.github.com/users/TyOverby/repos", "events_url": "https://api.github.com/users/TyOverby/events{/privacy}", "received_events_url": "https://api.github.com/users/TyOverby/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-08-22T06:45:18Z", "updated_at": "2015-01-26T17:31:26Z", "closed_at": "2015-01-26T17:31:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using `rustc 0.12.0-pre-nightly (4dfdc697e 2014-08-21 00:51:00 +0000)` with `cargo-nightly 0.1.0-pre (3e5ba33 2014-07-29 00:14:32 +0000)`.\n\nWhen attempting to test [this project](https://github.com/TyOverby/assert_that/tree/2c04d742977e50979f92bf8778c1a892570bff2c) \n by running `cargo test` the compiler crashes with: \n\n```\n   Compiling assert_that v0.0.0-alpha (file:/home/ty/workspace/rust/assert_that)\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'assertion failed: `(left == right) && (right == left)` (left: `many`, right: `once`)', /home/rustbuild/src/rust-buil\ndbot/slave/nightly-linux/build/src/librustc/util/ppaux.rs:301\n\nstack backtrace:\n   1:     0x7f229e711ca0 - rt::backtrace::imp::write::hcfbe43e70bb1e32bpxr\n   2:     0x7f229e714d70 - failure::on_fail::h3a83fc31a26616e26Sr\n   3:     0x7f22a2d56cc0 - unwind::begin_unwind_inner::h5e11d7c7f0cfb20dpie\n   4:     0x7f22a2d569b0 - unwind::begin_unwind_fmt::h5cfb3c3393b45e1fPfe\n   5:     0x7f22a33bb440 - util::ppaux::ty_to_string::h793dcd4c5e43f8c0mtI\n   6:     0x7f22a33baf40 - back::link::mangle_internal_name_by_type_and_seq::h2b4f82d8f7fbfc69clb\n   7:     0x7f22a37b9720 - middle::trans::glue::declare_generic_glue::h621052a8516a9017m5Z\n   8:     0x7f22a37b8920 - middle::trans::glue::get_drop_glue::h74866def10d5fddawvZ\n   9:     0x7f22a37b8800 - middle::trans::glue::drop_ty::hb7c2867d4f693fbbatZ\n  10:     0x7f22a38dac60 - middle::trans::cleanup::DropValue.Cleanup::trans::h61040af50c3bee0driy\n  11:     0x7f22a38d8260 - middle::trans::cleanup::FunctionContext<'a>.CleanupHelperMethods<'a>::trans_cleanups_to_exit_scope::h08b80b8f63dd\n4794PNx\n  12:     0x7f22a38dc450 - middle::trans::cleanup::FunctionContext<'a>.CleanupHelperMethods<'a>::get_or_create_landing_pad::h24c2228799a9273\n3F4x\n  13:     0x7f22a384ae50 - middle::trans::cleanup::FunctionContext<'a>.CleanupMethods<'a>::get_landing_pad::h54f32dbd3b5d84ffAzx\n  14:     0x7f22a37bf820 - middle::trans::base::invoke::h209f860a0c738ae5Lkd\n  15:     0x7f22a37abc00 - middle::trans::callee::trans_call_inner::h059b07b43ceb0880nR1\n  16:     0x7f22a37d6040 - middle::trans::callee::trans_method_call::h245b5473d346fef3BM1\n  17:     0x7f22a37e3df0 - middle::trans::expr::trans_rvalue_dps_unadjusted::hc6db395c8ae555feuG3\n  18:     0x7f22a37e3000 - middle::trans::expr::trans_unadjusted::h8783e4940f88def2l92\n  19:     0x7f22a37a3b00 - middle::trans::expr::trans::ha89c9e4ea08f3635MP2\n  20:     0x7f22a37a2200 - middle::trans::expr::trans_to_lvalue::hd8de036436e7b9f4n82\n  21:     0x7f22a37ee890 - middle::trans::expr::trans_addr_of::hf52d57f69815379cly4\n  22:     0x7f22a37e3000 - middle::trans::expr::trans_unadjusted::h8783e4940f88def2l92\n  23:     0x7f22a37a3b00 - middle::trans::expr::trans::ha89c9e4ea08f3635MP2\n  24:     0x7f22a37db610 - middle::trans::callee::trans_args::h467443c32fd8eaa9qi2\n  25:     0x7f22a37abc00 - middle::trans::callee::trans_call_inner::h059b07b43ceb0880nR1\n  26:     0x7f22a37d5430 - middle::trans::callee::trans_call::ha54eafed13f71ea3sL1\n  27:     0x7f22a37e3df0 - middle::trans::expr::trans_rvalue_dps_unadjusted::hc6db395c8ae555feuG3\n  28:     0x7f22a37a2340 - middle::trans::expr::trans_into::h4cc7d5c86b574b12QL2\n  29:     0x7f22a37a17b0 - middle::trans::controlflow::trans_stmt_semi::hafd0c306b0e45dfeeMY\n  30:     0x7f22a37a0ee0 - middle::trans::controlflow::trans_stmt::h1a4d7b374816b79fXHY\n  31:     0x7f22a37a28d0 - middle::trans::controlflow::trans_block::hc815caf3f5bd13398MY\n  32:     0x7f22a3853ea0 - middle::trans::base::trans_closure::h1991c9bfd6853f43Zve\n  33:     0x7f22a37936e0 - middle::trans::base::trans_fn::h3a05e8d9cb39f052NIe\n  34:     0x7f22a378ec20 - middle::trans::base::trans_item::h7355b51ee1fa63f9O1e\n  35:     0x7f22a378ec20 - middle::trans::base::trans_item::h7355b51ee1fa63f9O1e\n  36:     0x7f22a378ec20 - middle::trans::base::trans_item::h7355b51ee1fa63f9O1e\n  37:     0x7f22a385ffc0 - middle::trans::base::trans_crate::ha7c47b047d4256a32Wf\n  38:     0x7f22a3c7ea40 - driver::driver::phase_4_translate_to_llvm::hc918e565e0c85a6az0z\n  39:     0x7f22a3c75cc0 - driver::driver::compile_input::hd5f78bd4a274d8f20Cz\n  40:     0x7f22a3d24200 - driver::run_compiler::h406aa3244f78df8cUaD\n  41:     0x7f22a3d24110 - driver::main_args::closure.137674\n  42:     0x7f22a3d36b40 - task::TaskBuilder<S>::try_future::closure.138835\n  43:     0x7f22a3d36940 - task::TaskBuilder<S>::spawn_internal::closure.138812\n  44:     0x7f22a30bab10 - task::spawn_opts::closure.8332\n  45:     0x7f22a2db0150 - rust_try_inner\n  46:     0x7f22a2db0140 - rust_try\n  47:     0x7f22a2d54320 - unwind::try::h712e7b6e53c5d278F6d\n  48:     0x7f22a2d540c0 - task::Task::run::h149056d48d246899Zcd\n  49:     0x7f22a30ba8d0 - task::spawn_opts::closure.8278\n  50:     0x7f22a2d55f00 - thread::thread_start::h996a50155a983571LBd\n  51:     0x7f229da830c0 - start_thread\n  52:     0x7f22a2a1f2d9 - __clone\n  53:                0x0 - <unknown>\n\nCould not compile `assert_that`.\n\nTo learn more, run the command again with --verbose.\n```\n", "closed_by": {"login": "TyOverby", "id": 573215, "node_id": "MDQ6VXNlcjU3MzIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/573215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TyOverby", "html_url": "https://github.com/TyOverby", "followers_url": "https://api.github.com/users/TyOverby/followers", "following_url": "https://api.github.com/users/TyOverby/following{/other_user}", "gists_url": "https://api.github.com/users/TyOverby/gists{/gist_id}", "starred_url": "https://api.github.com/users/TyOverby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TyOverby/subscriptions", "organizations_url": "https://api.github.com/users/TyOverby/orgs", "repos_url": "https://api.github.com/users/TyOverby/repos", "events_url": "https://api.github.com/users/TyOverby/events{/privacy}", "received_events_url": "https://api.github.com/users/TyOverby/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/16669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/16669/timeline", "performed_via_github_app": null, "state_reason": "completed"}