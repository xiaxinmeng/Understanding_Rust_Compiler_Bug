{"url": "https://api.github.com/repos/rust-lang/rust/issues/98469", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/98469/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/98469/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/98469/events", "html_url": "https://github.com/rust-lang/rust/issues/98469", "id": 1284204275, "node_id": "I_kwDOAAsO6M5Mi2bz", "number": 98469, "title": "compiletest: Panic in ProcOutput::extend", "user": {"login": "mystor", "id": 1261662, "node_id": "MDQ6VXNlcjEyNjE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1261662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mystor", "html_url": "https://github.com/mystor", "followers_url": "https://api.github.com/users/mystor/followers", "following_url": "https://api.github.com/users/mystor/following{/other_user}", "gists_url": "https://api.github.com/users/mystor/gists{/gist_id}", "starred_url": "https://api.github.com/users/mystor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mystor/subscriptions", "organizations_url": "https://api.github.com/users/mystor/orgs", "repos_url": "https://api.github.com/users/mystor/repos", "events_url": "https://api.github.com/users/mystor/events{/privacy}", "received_events_url": "https://api.github.com/users/mystor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-24T21:22:04Z", "updated_at": "2023-04-20T23:14:33Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "in #96551 the logic for deciding when to filter paths was changed in compiletest such that known paths are always considered to be 32 bytes long.\r\n\r\nUnfortunately this logic has an error in the case where the known path is shorter than 32 bytes, as the logic may decide to abbreviate the output due to it exceeding `HEAD_LEN + TAIL_LEN` bytes in length, however the output isn't long enough, so the following check underflows, leading to a panic in `split_off`:\r\n\r\nhttps://github.com/rust-lang/rust/blob/6609c6734de4df43e24d7672f8ae8786ecc8047e/src/tools/compiletest/src/read2.rs#L92", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/98469/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/98469/timeline", "performed_via_github_app": null, "state_reason": null}