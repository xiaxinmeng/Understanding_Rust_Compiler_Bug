{"url": "https://api.github.com/repos/rust-lang/rust/issues/112408", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/112408/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/112408/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/112408/events", "html_url": "https://github.com/rust-lang/rust/issues/112408", "id": 1746916232, "node_id": "I_kwDOAAsO6M5oH9OI", "number": 112408, "title": "ICE while running cargo check", "user": {"login": "hdevalence", "id": 44879, "node_id": "MDQ6VXNlcjQ0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/44879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hdevalence", "html_url": "https://github.com/hdevalence", "followers_url": "https://api.github.com/users/hdevalence/followers", "following_url": "https://api.github.com/users/hdevalence/following{/other_user}", "gists_url": "https://api.github.com/users/hdevalence/gists{/gist_id}", "starred_url": "https://api.github.com/users/hdevalence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hdevalence/subscriptions", "organizations_url": "https://api.github.com/users/hdevalence/orgs", "repos_url": "https://api.github.com/users/hdevalence/repos", "events_url": "https://api.github.com/users/hdevalence/events{/privacy}", "received_events_url": "https://api.github.com/users/hdevalence/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 307747675, "node_id": "MDU6TGFiZWwzMDc3NDc2NzU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-incr-comp", "name": "A-incr-comp", "color": "f7e101", "default": false, "description": "Area: Incremental compilation"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-06-08T01:13:49Z", "updated_at": "2023-06-10T08:16:39Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n-->\r\n\r\n### Code\r\n\r\nI don't have a minimized example, but hopefully the error output is useful anyways.\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.70.0 (90c541806 2023-05-31)\r\nbinary: rustc\r\ncommit-hash: 90c541806f23a127002de5b4038be731ba1458ca\r\ncommit-date: 2023-05-31\r\nhost: aarch64-apple-darwin\r\nrelease: 1.70.0\r\nLLVM version: 16.0.2\r\n```\r\n\r\n### Error output\r\n\r\n```\r\nwarning: unused import: `BorshSerialize`\r\n --> crates/storage/src/snapshot.rs:5:31\r\n  |\r\n5 | use borsh::{BorshDeserialize, BorshSerialize};\r\n  |                               ^^^^^^^^^^^^^^\r\n  |\r\n  = note: `#[warn(unused_imports)]` on by default\r\n\r\nwarning: `penumbra-storage` (lib) generated 1 warning (run `cargo fix --lib -p penumbra-storage` to apply 1 suggestion)\r\n   Compiling penumbra-proto v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/proto)\r\n   Compiling libgit2-sys v0.15.2+1.6.4\r\n   Compiling doc-comment v0.3.3\r\n   Compiling sysinfo v0.19.2\r\n   Compiling git2 v0.17.2\r\n   Compiling vergen v5.1.17\r\n   Compiling penumbra-view v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/view)\r\n   Compiling penumbra-custody v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/custody)\r\n   Compiling narsil v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/narsil/narsil)\r\n   Compiling pclientd v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/bin/pclientd)\r\n   Compiling pd v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/bin/pd)\r\n   Compiling penumbra-measure v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/misc/measure)\r\n   Compiling pcli v0.53.1 (/Users/hdevalence/code/penumbra/penumbra/crates/bin/pcli)\r\nerror: internal compiler error: encountered incremental compilation error with mir_built(f7163643bf0de50a-a0dadd6ab59e21c6)\r\n  |\r\n  = help: This is a known issue with the compiler. Run `cargo clean -p penumbra_proto` or `cargo clean` to allow your project to compile\r\n  = note: Please follow the instructions below to create a bug report with the provided information\r\n  = note: See <https://github.com/rust-lang/rust/issues/84970> for more information\r\n\r\nthread 'rustc' panicked at 'Found unstable fingerprints for mir_built(f7163643bf0de50a-a0dadd6ab59e21c6): Steal { value: RwLock(RefCell { value: Some(Body { basic_blocks: BasicBlocks { basic_blocks: [BasicBlockData { statements: [StorageLive(_3), StorageLive(_4), StorageLive(_5), _5 = move (_1.1: penumbra::core::dex::v1alpha1::Swap), _4 = action::Action::Swap(move _5)], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_5) -> [return: bb1, unwind: bb8] }), is_cleanup: false }, BasicBlockData { statements: [StorageDead(_5), _3 = std::option::Option::<action::Action>::Some(move _4)], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_4) -> [return: bb2, unwind: bb7] }), is_cleanup: false }, BasicBlockData { statements: [StorageDead(_4)], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#17167), scope: scope[0] }, kind: drop((*(_1.0: &mut std::option::Option<penumbra::core::transaction::v1alpha1::action::Action>))) -> [return: bb3, unwind: bb4] }), is_cleanup: false }, BasicBlockData { statements: [(*(_1.0: &mut std::option::Option<penumbra::core::transaction::v1alpha1::action::Action>)) = move _3, _0 = const ()], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_3) -> [return: bb5, unwind: bb9] }), is_cleanup: false }, BasicBlockData { statements: [(*(_1.0: &mut std::option::Option<penumbra::core::transaction::v1alpha1::action::Action>)) = move _3], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#17167), scope: scope[0] }, kind: goto -> bb7 }), is_cleanup: true }, BasicBlockData { statements: [StorageDead(_3)], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_1) -> [return: bb6, unwind: bb10] }), is_cleanup: false }, BasicBlockData { statements: [], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:46: 68:46 (#2235), scope: scope[0] }, kind: return }), is_cleanup: false }, BasicBlockData { statements: [], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_3) -> [return: bb9, unwind terminate] }), is_cleanup: true }, BasicBlockData { statements: [], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_4) -> [return: bb9, unwind terminate] }), is_cleanup: true }, BasicBlockData { statements: [], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:45: 68:46 (#2235), scope: scope[0] }, kind: drop(_1) -> [return: bb10, unwind terminate] }), is_cleanup: true }, BasicBlockData { statements: [], terminator: Some(Terminator { source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), scope: scope[0] }, kind: resume }), is_cleanup: true }], cache: Cache { predecessors: OnceCell(Uninit), switch_sources: OnceCell(Uninit), is_cyclic: OnceCell(Uninit), postorder: OnceCell(Uninit) } }, phase: Built, pass_count: 0, source: MirSource { instance: Item(WithOptConstParam { did: DefId(0:8603 ~ penumbra_proto[e35f]::penumbra::core::transaction::v1alpha1::action::{impl#3}::merge::{closure#2}), const_param_did: None }), promoted: None }, source_scopes: [SourceScopeData { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), parent_scope: None, inlined: None, inlined_parent_scope: None, local_data: Set(SourceScopeLocalData { lint_root: HirId(DefId(0:8599 ~ penumbra_proto[e35f]::penumbra::core::transaction::v1alpha1::action::{impl#3}::merge).273), safety: Safe }) }], generator: None, local_decls: [LocalDecl { mutability: Mut, local_info: Set(Boring), internal: false, ty: (), user_ty: None, source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:32 (#2235), scope: scope[0] } }, LocalDecl { mutability: Mut, local_info: Set(Boring), internal: false, ty: [closure@crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46], user_ty: None, source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), scope: scope[0] } }, LocalDecl { mutability: Mut, local_info: Set(Boring), internal: false, ty: (), user_ty: None, source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), scope: scope[0] } }, LocalDecl { mutability: Mut, local_info: Set(Boring), internal: false, ty: std::option::Option<penumbra::core::transaction::v1alpha1::action::Action>, user_ty: None, source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), scope: scope[0] } }, LocalDecl { mutability: Mut, local_info: Set(AggregateTemp), internal: false, ty: penumbra::core::transaction::v1alpha1::action::Action, user_ty: None, source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), scope: scope[0] } }, LocalDecl { mutability: Mut, local_info: Set(AggregateTemp), internal: false, ty: penumbra::core::dex::v1alpha1::Swap, user_ty: None, source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), scope: scope[0] } }], user_type_annotations: [], arg_count: 2, spread_arg: None, var_debug_info: [VarDebugInfo { name: \"field\", source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#15841), scope: scope[0] }, value: (*(_1.0: &mut std::option::Option<penumbra::core::transaction::v1alpha1::action::Action>)), argument_index: None }, VarDebugInfo { name: \"owned_value\", source_info: SourceInfo { span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#15841), scope: scope[0] }, value: (_1.1: penumbra::core::dex::v1alpha1::Swap), argument_index: None }], span: crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46 (#2235), required_consts: [], is_polymorphic: true, injection_phase: None, tainted_by_errors: None }) }) }', /rustc/90c541806f23a127002de5b4038be731ba1458ca/compiler/rustc_query_system/src/query/plumbing.rs:715:9\r\nstack backtrace:\r\n   0:        0x103241864 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h819e9cbdf1a9e730\r\n   1:        0x103294958 - core::fmt::write::ha5e9bf3131ecb7c0\r\n   2:        0x103237214 - std::io::Write::write_fmt::h414ce9994bf17404\r\n   3:        0x103241678 - std::sys_common::backtrace::print::h8072db0bbd5bcc3d\r\n   4:        0x10324408c - std::panicking::default_hook::{{closure}}::h2c85c5b0c2ede151\r\n   5:        0x103243e4c - std::panicking::default_hook::hcf2f70992d02f6fe\r\n   6:        0x10b73c058 - rustc_driver_impl[783dc85a9905d0e5]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   7:        0x10324474c - std::panicking::rust_panic_with_hook::h023af7f90b47eb8b\r\n   8:        0x103244544 - std::panicking::begin_panic_handler::{{closure}}::h14283519edc1d634\r\n   9:        0x103241c84 - std::sys_common::backtrace::__rust_end_short_backtrace::hc366c0b0cef5b747\r\n  10:        0x1032442d8 - _rust_begin_unwind\r\n  11:        0x1032c0400 - core::panicking::panic_fmt::h324f50b29db90195\r\n  12:        0x10faa6d68 - rustc_query_system[a624e6a9fe4584df]::query::plumbing::incremental_verify_ich_failed::<rustc_middle[51dfd5d9279e1028]::ty::context::TyCtxt>\r\n  13:        0x10ea13a48 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<rustc_query_system[a624e6a9fe4584df]::query::plumbing::execute_job_incr<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_built, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>::{closure#1}, core[b2c7346eda96f041]::option::Option<(rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>>::{closure#0}, core[b2c7346eda96f041]::option::Option<(rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>>\r\n  14:        0x10e91870c - rustc_query_system[a624e6a9fe4584df]::query::plumbing::try_execute_query::<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_built, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>\r\n  15:        0x10eb0acec - <rustc_query_impl[7b60fd99fe06ff81]::Queries as rustc_middle[51dfd5d9279e1028]::ty::query::QueryEngine>::mir_built\r\n  16:        0x10df20b9c - rustc_mir_transform[9e4a16c1f6c5c5f7]::mir_const\r\n  17:        0x10ea140e8 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<rustc_query_system[a624e6a9fe4584df]::query::plumbing::execute_job_incr<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_const, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>::{closure#1}, core[b2c7346eda96f041]::option::Option<(rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>>::{closure#0}, core[b2c7346eda96f041]::option::Option<(rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>>\r\n  18:        0x10e918de8 - rustc_query_system[a624e6a9fe4584df]::query::plumbing::try_execute_query::<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_const, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>\r\n  19:        0x10eb0aeac - <rustc_query_impl[7b60fd99fe06ff81]::Queries as rustc_middle[51dfd5d9279e1028]::ty::query::QueryEngine>::mir_const\r\n  20:        0x10df21250 - rustc_mir_transform[9e4a16c1f6c5c5f7]::mir_promoted\r\n  21:        0x10e980ab8 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<rustc_query_system[a624e6a9fe4584df]::query::plumbing::execute_job_incr<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_promoted, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>::{closure#1}, core[b2c7346eda96f041]::option::Option<(rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 16usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>>::{closure#0}, core[b2c7346eda96f041]::option::Option<(rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 16usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>>\r\n  22:        0x10e8a1320 - rustc_query_system[a624e6a9fe4584df]::query::plumbing::try_execute_query::<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_promoted, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>\r\n  23:        0x10eb0b940 - <rustc_query_impl[7b60fd99fe06ff81]::Queries as rustc_middle[51dfd5d9279e1028]::ty::query::QueryEngine>::mir_promoted\r\n  24:        0x10e444e78 - rustc_borrowck[3cbad71922bf7c4a]::mir_borrowck\r\n  25:        0x10e429388 - <rustc_borrowck[3cbad71922bf7c4a]::provide::{closure#0} as core[b2c7346eda96f041]::ops::function::FnOnce<(rustc_middle[51dfd5d9279e1028]::ty::context::TyCtxt, rustc_span[350718d478b9eefa]::def_id::LocalDefId)>>::call_once\r\n  26:        0x10e97ee68 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<rustc_query_system[a624e6a9fe4584df]::query::plumbing::execute_job_incr<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_borrowck, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>::{closure#2}, (rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>::{closure#0}, (rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>\r\n  27:        0x10e8a0698 - rustc_query_system[a624e6a9fe4584df]::query::plumbing::try_execute_query::<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_borrowck, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>\r\n  28:        0x10eb13018 - <rustc_query_impl[7b60fd99fe06ff81]::Queries as rustc_middle[51dfd5d9279e1028]::ty::query::QueryEngine>::mir_borrowck\r\n  29:        0x10e509934 - <rustc_borrowck[3cbad71922bf7c4a]::type_check::TypeChecker>::prove_closure_bounds\r\n  30:        0x10e50d810 - <rustc_borrowck[3cbad71922bf7c4a]::type_check::TypeChecker>::check_rvalue\r\n  31:        0x10e510e34 - <rustc_borrowck[3cbad71922bf7c4a]::type_check::TypeChecker>::typeck_mir\r\n  32:        0x10e5016c8 - rustc_borrowck[3cbad71922bf7c4a]::nll::compute_regions\r\n  33:        0x10e44db10 - rustc_borrowck[3cbad71922bf7c4a]::do_mir_borrowck\r\n  34:        0x10e444f90 - rustc_borrowck[3cbad71922bf7c4a]::mir_borrowck\r\n  35:        0x10e429388 - <rustc_borrowck[3cbad71922bf7c4a]::provide::{closure#0} as core[b2c7346eda96f041]::ops::function::FnOnce<(rustc_middle[51dfd5d9279e1028]::ty::context::TyCtxt, rustc_span[350718d478b9eefa]::def_id::LocalDefId)>>::call_once\r\n  36:        0x10e97ee68 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<rustc_query_system[a624e6a9fe4584df]::query::plumbing::execute_job_incr<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_borrowck, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>::{closure#2}, (rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>::{closure#0}, (rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 8usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>\r\n  37:        0x10e8a0698 - rustc_query_system[a624e6a9fe4584df]::query::plumbing::try_execute_query::<rustc_query_impl[7b60fd99fe06ff81]::queries::mir_borrowck, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>\r\n  38:        0x10eb13018 - <rustc_query_impl[7b60fd99fe06ff81]::Queries as rustc_middle[51dfd5d9279e1028]::ty::query::QueryEngine>::mir_borrowck\r\n  39:        0x10b7fbaa4 - <core[b2c7346eda96f041]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[b0ef732b28d74439]::sync::par_for_each_in<&[rustc_span[350718d478b9eefa]::def_id::LocalDefId], <rustc_middle[51dfd5d9279e1028]::hir::map::Map>::par_body_owners<rustc_interface[86097f894d44157]::passes::analysis::{closure#2}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}> as core[b2c7346eda96f041]::ops::function::FnOnce<()>>::call_once\r\n  40:        0x10b7db160 - rustc_data_structures[b0ef732b28d74439]::sync::par_for_each_in::<&[rustc_span[350718d478b9eefa]::def_id::LocalDefId], <rustc_middle[51dfd5d9279e1028]::hir::map::Map>::par_body_owners<rustc_interface[86097f894d44157]::passes::analysis::{closure#2}::{closure#0}>::{closure#0}>\r\n  41:        0x10b7e2e04 - <rustc_session[fcd7c20a0454c43b]::session::Session>::time::<(), rustc_interface[86097f894d44157]::passes::analysis::{closure#2}>\r\n  42:        0x10b85650c - rustc_interface[86097f894d44157]::passes::analysis\r\n  43:        0x10ea0d1c8 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<rustc_query_system[a624e6a9fe4584df]::query::plumbing::execute_job_incr<rustc_query_impl[7b60fd99fe06ff81]::queries::analysis, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>::{closure#2}, (rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 1usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>::{closure#0}, (rustc_middle[51dfd5d9279e1028]::query::erase::Erased<[u8; 1usize]>, rustc_query_system[a624e6a9fe4584df]::dep_graph::graph::DepNodeIndex)>\r\n  44:        0x10e913298 - rustc_query_system[a624e6a9fe4584df]::query::plumbing::try_execute_query::<rustc_query_impl[7b60fd99fe06ff81]::queries::analysis, rustc_query_impl[7b60fd99fe06ff81]::plumbing::QueryCtxt>\r\n  45:        0x10eb08998 - <rustc_query_impl[7b60fd99fe06ff81]::Queries as rustc_middle[51dfd5d9279e1028]::ty::query::QueryEngine>::analysis\r\n  46:        0x10b784c28 - <std[bf9110f564f42f12]::thread::local::LocalKey<core[b2c7346eda96f041]::cell::Cell<*const ()>>>::with::<rustc_middle[51dfd5d9279e1028]::ty::context::tls::enter_context<<rustc_middle[51dfd5d9279e1028]::ty::context::GlobalCtxt>::enter<rustc_driver_impl[783dc85a9905d0e5]::run_compiler::{closure#1}::{closure#2}::{closure#4}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>::{closure#0}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>::{closure#0}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>\r\n  47:        0x10b7505d4 - <rustc_interface[86097f894d44157]::queries::QueryResult<&rustc_middle[51dfd5d9279e1028]::ty::context::GlobalCtxt>>::enter::<core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>, rustc_driver_impl[783dc85a9905d0e5]::run_compiler::{closure#1}::{closure#2}::{closure#4}>\r\n  48:        0x10b78ca24 - <rustc_interface[86097f894d44157]::interface::Compiler>::enter::<rustc_driver_impl[783dc85a9905d0e5]::run_compiler::{closure#1}::{closure#2}, core[b2c7346eda96f041]::result::Result<core[b2c7346eda96f041]::option::Option<rustc_interface[86097f894d44157]::queries::Linker>, rustc_span[350718d478b9eefa]::ErrorGuaranteed>>\r\n  49:        0x10b7432cc - rustc_span[350718d478b9eefa]::set_source_map::<core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>, rustc_interface[86097f894d44157]::interface::run_compiler<core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>, rustc_driver_impl[783dc85a9905d0e5]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>\r\n  50:        0x10b7568a8 - std[bf9110f564f42f12]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[86097f894d44157]::util::run_in_thread_pool_with_globals<rustc_interface[86097f894d44157]::interface::run_compiler<core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>, rustc_driver_impl[783dc85a9905d0e5]::run_compiler::{closure#1}>::{closure#0}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>\r\n  51:        0x10b747a78 - <<std[bf9110f564f42f12]::thread::Builder>::spawn_unchecked_<rustc_interface[86097f894d44157]::util::run_in_thread_pool_with_globals<rustc_interface[86097f894d44157]::interface::run_compiler<core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>, rustc_driver_impl[783dc85a9905d0e5]::run_compiler::{closure#1}>::{closure#0}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b2c7346eda96f041]::result::Result<(), rustc_span[350718d478b9eefa]::ErrorGuaranteed>>::{closure#1} as core[b2c7346eda96f041]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  52:        0x10324cdf4 - std::sys::unix::thread::Thread::new::thread_start::h7f56b35fafcfec87\r\n  53:        0x19403826c - __pthread_deallocate\r\n\r\nerror: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.70.0 (90c541806 2023-05-31) running on aarch64-apple-darwin\r\n\r\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C split-debuginfo=unpacked -C debuginfo=2 -C incremental=[REDACTED]\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\n#0 [mir_built] building MIR for `penumbra::core::transaction::v1alpha1::action::<impl at crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46>::merge::{closure#2}`\r\n#1 [mir_const] preparing `penumbra::core::transaction::v1alpha1::action::<impl at crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46>::merge::{closure#2}` for borrow checking\r\n#2 [mir_promoted] processing MIR for `penumbra::core::transaction::v1alpha1::action::<impl at crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46>::merge::{closure#2}`\r\n#3 [mir_borrowck] borrow-checking `penumbra::core::transaction::v1alpha1::action::<impl at crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46>::merge::{closure#2}`\r\n#4 [mir_borrowck] borrow-checking `penumbra::core::transaction::v1alpha1::action::<impl at crates/proto/src/gen/penumbra.core.transaction.v1alpha1.rs:68:32: 68:46>::merge`\r\n#5 [analysis] running analysis passes on this crate\r\nend of query stack\r\nerror: internal compiler error: re-entrant incremental verify failure, suppressing message\r\n\r\nerror: could not compile `penumbra-proto` (lib) due to 2 previous errors\r\nwarning: build failed, waiting for other jobs to finish...\r\n```\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/112408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/112408/timeline", "performed_via_github_app": null, "state_reason": null}