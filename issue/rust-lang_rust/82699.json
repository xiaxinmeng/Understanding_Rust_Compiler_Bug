{"url": "https://api.github.com/repos/rust-lang/rust/issues/82699", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/82699/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/82699/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/82699/events", "html_url": "https://github.com/rust-lang/rust/issues/82699", "id": 819968775, "node_id": "MDU6SXNzdWU4MTk5Njg3NzU=", "number": 82699, "title": "Unoptimazed code for big enums (>127 values)", "user": {"login": "mjdr", "id": 10014514, "node_id": "MDQ6VXNlcjEwMDE0NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/10014514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjdr", "html_url": "https://github.com/mjdr", "followers_url": "https://api.github.com/users/mjdr/followers", "following_url": "https://api.github.com/users/mjdr/following{/other_user}", "gists_url": "https://api.github.com/users/mjdr/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjdr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjdr/subscriptions", "organizations_url": "https://api.github.com/users/mjdr/orgs", "repos_url": "https://api.github.com/users/mjdr/repos", "events_url": "https://api.github.com/users/mjdr/events{/privacy}", "received_events_url": "https://api.github.com/users/mjdr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-02T12:23:57Z", "updated_at": "2021-03-02T19:04:20Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I tring to write riscv linux emulator in rust.\r\nI have enum Instruction with 203 values.\r\n\r\nFor small enums (< 128 values) rustc generates optimized code.\r\n['Small' enum on compiler explorer](https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAVlICsupVs1qhiAVwDOBUpMztkBPHUqZa6AMKpW4gLa0QAdlJr0AGTy1MAOT0AjTMRAA2ZwE5SAB1STCy2lo6%2BkZePn50Fla2ug5Orh5yCkp0DATMxASBegbGiZiK/qnpBJE29o4u7rJpGVnBuTUllmUxFfEAlLKo4sTIHADkAKQADACCgwBMAMyD3ABCbKyoAO4QtHQA%2Biy68lvMchsEAJ6emJLtswAiI6Oe4nYA1Gp6DwCStNISBXQPg4ZzNweQIeAHoQa9AcCzABVV6/f6Q4HA4joEAPcRTCakRFIh54XS6NF4THYsZIv6XUmjJGjWEABQ08IBZNxQJRaIxWJxSPxhLxJJxFKpNMulzhf2Z1NZD3Z6IFLNZxEknA58qlrN5RLV5MMlJxDDMABVxQiFbjZZzhdKlSq5VyzTyCVr7er4XqzQbjdCmdzkai7VbFcrVS7pXinfzQ8ChTiABoAeQASibJWGLdrrcGA76gZrI4G3QWkymczL/ZbSzaQwXHXziVGgTGzaNrGKfQ6/dXK1mKx3cxH6wWm66DWYS32y12J1XsxPJAhmLoCFPXcOkQxE2P266kemG%2BaexnWfPF8vZ6vdQWN6NxzvO%2Be04f90iT0uVzr3a7RqLt2ny0eD1tXs7zZSQJnfaNL31aE5l/a1/2fZEnxrJDwIfSDP3XMwzDgxUEJQ0CgIA3cwIgxsoI9I1cPNfDuyIxDQLQ4CPyvI1vQlStaOnZDuyYgC12BBNE2o3cuJAmUeO4vj9wEoENxwjjpzEx96IIiTpKHCiR0TalFPEvc1JnZjMw0wUtKRJMRPvYyg1U3iyMLHEW0uKy2WUzM7KkhzZIeAAxbBrA0bAfXM4F/MC7ANhLUKgQ0DdEwAdVcyd0NshykWQSQnFSxyzTixNEwYZKDLo9LgUy7KbNy118sTRk9L/MrCKah4Ku8mKHlqhLb0anKkXEPMqoyrL2sw4FaoYHr4JagaIyG8qRpynzao0Ka8JmwbiIWyr%2BI67ANFGbCQrGoFsDmRNsFGABpY6C2hC7DVu/UHqes0AFkXo4jqEt86KToeBhwqCjYADU3t0019MkqHTLNHyzFghrpr6pDPPE1AqCoOQz0HMz/rMAAJYr3LSlGgQxrHMBx3b8aSpH1rJiS0bDCnsedTT8bmdjId6%2BbmsZ1mqfZvGC0J7nU2RvmmZawXqZkjqGERnmPJapVYfRzG2fzEX9SJ%2BnANV0iBc1oXtbhhW6eV0mpbVmWTbljmCwAKUO4m7cph2dbNF2zGE/XRMN5npVl4Xzf%2BuZsAARWK6HH3Vln7dDi9w%2BsYL/dRw34%2BDxOzeTgs5io9P%2BZto2pZD3OWJxOYAHE06tg3Gdt42PaTyuzQLw1xdKxvS628mc9xsP89rrvuKDoMs9ZcvB7zm4cTBV5nAAFic0VXktiWGZL8fcTzGe25HbD17dnud5fBc3yWhXN2PouUu3lrXzPKqfOvW/64D0/H4v5%2BaYLb9Lgb04oHTOo0rwwSAUpEBPdJ7VSwmYSB%2BkSYNxLrA1%2Bm5EG8z7tLGBYDnqjEwZLbBRliG93lrTUeSDoFlwHn/HEZgXJ3xKmPd2Wt94YSvIwj%2BGdcHNzYXQsY88QRvRxG9aECluFuWoaQtBHUxGExPg/XhL85HiIJgwShWCGI4NQXg96ajNFEO0SQ4xZDHY4jFCDRRpCz6oT0a6Sxhit42NAVff6F03rWNMbYxi9ikQeKcTRaRpjZH/TBLoZeojxGEOcd41xKj/qWJiUEr%2ByiBEONeCDaEyTP5KN0W4gsHicnWRcWk8hhTsBiOKVI1J%2BSEkFjBOMM0vsNjVPvqUqWzAACOaI7CoG0IZVgvT%2BmsHMR6DQrSvGGVjiZFq3ThkDMrEMh4fTFlDycm9eMDAEqjDpJMphyCSI%2BPUnMnpKyRmDIWaMr2X5NkAP2ZI9pcSylqXmectZ%2BllmrOues5smyhIPM3ikvJMjTlXMue8n5s8/nxmcoC4BtTQWMzed8iFqKbk0k2UmeFUDEUhLBZCtFFyMXAlGJst6rxrA4qoXi6ZsCkQouJdOL5TLoW3PjODWM1KtHTOOU3TpZz0XMvBSSoEZKOWUuhNyoxvL4nYMZR8tMLLFUcI2Ry0YsYpVtOYVDPlZjSwKqhUqkVvzXSNMic0xMGwuFAtyR0%2BVgrWXGsJaKgGEybUIpBfi5FjqVWKmVUa1VMLtm7OtVM7udSHUms%2BdGg%2BmLYWijDQc4JdKCVCpjS6018aAUetxV61NPrY3WgDWM9lcLc00vzfZQtmaM3prjaSrFVqK08ojUigVRb/WdrgY2iVVKW0yrbd6jttbnX1qDeyzlSbHk6pUnK7RhqiV%2Bp7WK8lkrp22pKc8yNC7fWBq7aOid8bOVSoHbE2VLyDV7qXfuldoIQS%2BWuGaXy4NE1FWTbS6tNs%2BT1JxC%2BjRcwNjvpnYcnhO7DI/vSUiXy1g3oAaA%2BGlhl7pyQfKX%2B2D9zgObpqVWryjdUOlug5hxDur50Qb8WFeDWHPX2uHcQgjrqX3iIQx%2B3DMNVYMazWFSxLGQMpq/fRijQJfIMEjomQ0vHsNPIvd%2BoTfkGDV2sE7STNHt3tqg5RxTTsqXUbzbRgtv7n0KaU1y3Tlb9MCbQ8%2BilOmSNzuQ2y6DU6zOtqQ%2BBxjGgQYSYSipvTanjGccc2FTz3mpUucHW5wTBS/1vRBhsLl2rQPFw08JqOvnzP%2BYMylvyRp0uudIw5htwmzCRXC%2BeodWWrOul8hoMwowGAMDyxFgrhnqshaA9K8rkWAtyZq15jrCVAl2sy5WQLRW/KxdafFuzKtovWfuWe4FFm8Oybm9VuDMEN2qZk%2Bpnra3oOwfg4t4bO26N7dawd19lwtt%2BdO5V8j%2B2woLZm9bXbD2LvAhBAAKhE5t47W67uWfe9lpjZgbsZcBytqLH3hM8f%2Bzh5b7H8O9dE%2BJ8H%2BX7OrZh/JrT6PmuY7e4x4z2m8ddZa4Trjwnidcvh9JirQPGM2dJ0tkbUOqtOY1czk79O2eEeC/1xrtPZ2zaxyD9r12yss8h/pMbR6wppaF0lnRFOgvFYk4r/jvPGMla5wDnnSPsc1bqw13XCPWeq78u1nzGvP0od61b09L2UHQ7F/167iXNcy/t271pQ29fdeB%2BzsKCCndHJaptIPVPtUzInuHuaIOGGh7A9giPfOqdC5jweelwJU%2BurBMvXyf72tg8l9zgPo3vcSZhE1snBPzuu4k41iRUnhevfr5Hy3AuNgwiT8l9vaf72XAtW1/rYObdsbTLL8i/0%2BtV8d6xxHk/euTZp735XHfZ/Wu72vkxgeB%2Bb%2Buz3hf5ul%2BPeE5N67sYd%2BZ58mCDQOIJkANeEvBgdJrDE2QBtePHeJm%2BUTwcz/U%2BQAqWWaKfO9CZEPAAwOYA7BUAuTX/SAkDGA7xZAtSOAs/TqbvRXVAuiHAicdA7HX/BgbA6Ar/MA5aIDRLPA3VagsMAg7LIgqg0gxmegn/IDEgoAsg%2BAjYaweMOkV6GqDYJ/NfPeBgjYH2ZKXPSnTAp/D3RmUQtgrcY/NSBQgfR/NeTgZwV/SQgcMQmENaKXUsVgtQoDG%2BD/LgjAiZN%2BcwlgqQi3R/VsAw0SWg6UYw11KwmCGwwg%2BLSyKAywjYXwpA7g5yLwsQgDJgmBFw6fAsdQwBUIkJKI8A8QnQ8gjqCZCOSOAALRjk4ESKRGnjELmFTmyKYWVDyOBAKLYNHCcP93EjcOkIQMuG0OUKMLsPGwgISmaL41sO/xML/06P4JaPwLaLl1iiwK6JbyV3qPsPEL9hnRvzSI2Fi2vwmESIoLOgumugEKRAmR9jmMmOCJ/CGJhjWMWJEyaMGPmOzyBGmPaMoImIZ2GN6PcI2BEwGJjmuPRBGOiIf3YIeK1yeNSMpC%2BxBDnl1DnkETGHxE8FYDeA%2BAIC%2BGSFoGojuEeCoGRMsCwAAA8IBJhnBEgqB2gHgABaQYKYYKKQPAAAL0wGSl0GYAIGQAQAeAJOSiRHeE%2BHEG%2BAMBAH0KZAeAADoBS3RfgphrhySHhhg1J2T4TET/AQAQBaRXgGR%2BShSRSyTxTgpOBpTgQOSESuSkSFThCJRBThSKRRTNSHhtEZTOTuSFTPQUxTT1SxSyTgopgdSgQ9S5SVAQAHTxYnTzSNTXSHgl4PS4TbTDSQAhJHS1TAyXSJTeBSwbT9S7SQBixVSzTdQLTgznAwyvSDT5TFTHCMznTLTjAkzdTZSCyfTqiSy4zLSAAOPMqs1M%2BSGMzMxheM4KDwCsz0lsyM6wk02MrMoMiUzgKU3s8MlMyMgBOskcrsh4TgbUyc/M1szwocjs7Msc60ysiMws0cOczsy0zgd0lc/s/cwuf4AM%2Bc480Ms8vcmstiQ8rcrUxMicZM70nkoSZ80crU3M%2B86c/czcH8hczgcs983cwCmsnSEC48psgCz8hUwI2CYco84MzgHsiCvsh8nkkIjc0s4MiYCcrCqcxCkAIGOuFCzc38q05cki1cyMiiqKWCwinc7CqCnkrqFiiU6YZsnChUiabi4KCYO8%2Bi88n0laISq0t88SD86szi%2BKbqKSiYf8sS/ikACadsgini8C2SyCsilaLS%2Bswi%2BCtSjihU/aQ6Zva8tCnizCvS9isijYy6G6fC4yiUqYYihy0i%2BShU%2B6bAR6Nym84MqYOi7yhioCgKqS7BOS1Mj6KKoK2yt008sysin6Iy4Kjy0S8K8SnkwGAKYGMGCGKi7St0mSsMWKyMhGaK1SnK9ShRRKl8h4KYXSiq/S3y3kjeGypqqYUyuq8y3krmaK%2BytqxyjqsWKSpeLy0any1spWEq9y4KJeMKmaiKmsvWK81CpqpeNi2agcrqramipeFK/qsiiQxqo67K1a3KhUvYya8q0atankjIya2q669Sooyi7qo61qx6m6kADuSavq96gamuL6w6hcpeEav6j6p8i6hc7gaamG0GkeKS7gFa5Gsi2QtG3ap6%2B0o%2BA66ihGk6kGsitswm0qh4bgK6zGjqt%2BCmxaqmh6tqvGxU0UBmzK4KbgN62mtcuYDmpKqm36lm/60cAWpq7gYG3mgcjBNG6GkW9S68cWmi5wJGhWgahBf0iGy05wDG9Wsi//TaomnW3G0Wm1b6hc5wEm6Wws%2BRKS5ePiga%2BRDahazmh4ZwZmiq1m52jRe2nm/Wjq52rW42nM4Wr2/6yxe2qWgO1Mxxe2%2BW8O9SjxKSwwNWxOgagJFOvW9Osi%2BRZWhcwwU29SpJFO62mOyMxxfOssmm8uwsopFOz2sMVmgJKu4Mwwf2nO8aq1VuiUwwMOpu0WiZHu4KQwaOzu1M8VENPZYeh4QwBOge9S8Ve5GehstOhega8VAFFe7O9erGu5VsQFC2xsoujeptQ%2B7W4Mhssu8emctdKlFemum%2Bws8VKdFexu6UVml%2B9dFeju3ejql%2BjVLVKShs/uj%2B/6lpc2i%2BiUhssev%2B1s91YB%2BesBxezZKejdI%2B4MtwNe5B0%2BhNa7SBkOiUtwHenBve%2BMHNKStwE%2Bsh8tSh6%2BuB2%2B%2BMbFAhymtwR%2Bhh5%2Bu%2B9BqB7s9%2B1kT%2B8lTnFhxmtwX%2B0h/%2Bu%2B%2BfI21h0B/h/6gBzVbhwh7s2B8R1Ml9YjeGy0twJBuR9S/9TbLDDBsc4YbBvRgamDDbQDIxnhxc4YEh8xsiyxzR6Rxm8c6hjq3yFx12wW8c%2BhtRxiqjKS8c9hgJws0HSTYxrU4YPh3EVmx9TJSJ2x8csRxxzx1HRvYJ4YWRuJ/6kTXHGx5Rux1RtJ9R4nWzLR9C4YXR3J/R6nJJoppcsx2pixpnQpympchxlppx5zYJzgDx9Rq3Bpjpk8x2pxh3YZtxzgUJ0pxilfc%2BxpngMZzxtLdpqZ1J7pzx3LNZt2pcnJyq8JnXHZ3xzgEpzZwZ43RrY5pqpcmpg5n0zfRrGe/p5p%2B5nkx533YJiYLpt5hUl9OLHzK/Sp7cgZuZ57YFrU3ihCzxqxpRjpkS5Z9Rw7P7L52J358ijDRNYR3ZlSxFxi8F1xnF/Zz7L7eJo7L5s59FiJ7F3xiYO59q9RuHYJzyvF8JjJuFtx0K1lh54nDl3ZmKhlwJrTftZl/x2ZtlrTVfCFxcqYGZ85uZylPl3xqYNFwV8JqdGlm5qYDZql9rQXZl4lsawZn3a5mik8yltVh5hXZl%2Blo1xi3LTVs1qa7l95nXR10C5al1v52rerfV6V6Z0F8JoZ9128sV%2BVoN/rQbJVm5peOV3Vn3Z5peVVu1iN9XT5/1peHVy111xNw1vatlxNi1lNh5w2nxmN21/NnlkN9CxGr18i4vSZ3Z9GutzfavU10C7gQNh5vV7ff17gMN%2BNxvbvYOjp6mltht6tsc7gZNyt954vKRsts17mlt%2BZyd18vN%2BJ8XXtwl3xyW8dn3I/Hdm57gCt%2BJi/abf11Wut2I5/V/d/S9n57NgS140tqJxc5wLtzi7vZ5q269l9n9uNp9jSrA4Jj2v9840DrN4tr97ZUDjd/6xg0Dot2d594g0D09hDngvg4J1Ov940o9s1wwR96D5986gj0CwuvDteZ5wwAdoDiAjK3xwwQDkj4Dp/TQiYt9sCmd1miA2EHDqDlD4DtsnD%2BD9SqwnSRjm50evD4s/1uev9gDYJ1ev978/1hs4joTiZZCrjhsz959vC8juCuj1jjw/m5TljrToQ9m5TnjzDp2ZTwT3jjYDIkooz9CkBv9z6tzxd0CmBxTo%2BZTjD8Tl9i44JrBv9hBTj5J4h8DqLy43z48qhyLsL/1twEzqzp2fYrjthv95YtLuzkL5yrYtLpz%2Bzw6bLmLsTga2I8L5D5z846LxpnRxT946Voi15%2Bj147ZJrymoizT5z4g3rxmoirEEE0sCkPGMEp9JpWbiEubyE0YfoToIZfobgfoUgAwfoYYDb1AEAfoRMKQAgFk7oXoWkyYUKjb5cbb5bzoAAaxACmCmAFJVbpbpeXioYmBPd4FW6Xg262529ID2/6A28kBAClOu5286DgFgCQDQF0E8DwHYDIAoAgHh8R%2BR5AFoDwGAAQAIFYCOFICoCR4IEcDB4gDsH28B7sEsHSCOH284A2/h52HoHjFoAJ6p426wHpNEHYE59IHwGIHyCUAADczh%2BfMAsT8hxBSeGeNvLBSfVvAfWA8A7BiA6etAsB%2BeET8Q5fOgaB6AmA2AOBpn%2BBBBhBRAQAJBpAhBVewfIBOhUBPAkSwf%2BhiTGQneCBiT2AxfWANSphQf5Bhf5SIBTA6gDBtTTBShohYhBBvBfAkTw%2B4%2BwgkTo/ygnBtS8huSihahtBshBAs%2BkSc%2Bmgoh0%2BC/Ggk/M/Gg0/WgM/OhJBTu%2BguAVv9v1vNv%2BfgfrfGSHhsfcf8ejgHgIBcBCASBfhphtTOpUAEekfHAx/QqiTDvpArvOf2h7vHvnvQqWqWr7HmOprKPfv/uO/9vQfwfSBIflvSAYfEAQBugCA7gZBUf0eZ%2BM%2BTB8AiAX%2BDfGAWA%2BfTflh1fPA9eQgVvofxu5A99uF3TgA8GWCEBmSXfZAD3xx548Cey/G7qv1IAPcnuL3J7tgJwE4CgB/QP7u31AHA8T%2BEPFfi336ATAQBgPEgWf3IGkAxeSoeUkvCAA%3D%3D)\r\n\r\nBut, the moment I add one more value it defaults to standard behavior with table of offsets\r\n['Big' enum on compiler explorer](https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAVlICsupVs1qhiAVwDOBUpMztkBPHUqZa6AMKpW4gLa0QAJk6k16ADJ5amAHJ6ARpmJcADC4DMpAA6pJhZbRaOvpGJj5%2BSnSW1na6js6cbp5yCpG0DATMxARBegbGsvKYigEZWQTRtg5Orh6ymdm5IQXS5ZWx8bXuAJSyqOLEyBwA5ACkLgCCo4buo9wAQmysqADuELR0APosuvLbzHKbBACeXpiS3XMAIuMTXuL2ANRqeo8AkrTSEiV0j6MA7PNbo8QY8APRgt7A0HmACqbz%2BgOhoNBxHQIEe4nchlIyJRjzwul0GLw2NxkxRAKu5ImKIm8IAChpEUCKfiQWiMVicXiUYTiQSyXiqTS6VcrgiAazaezHpzMUK2eziJJOFzFTL2fySRrKf9qXiGOYACqSpFK/Hy7mi2UqtUKnkWvlEnWOzWIg0Wo2m2Es3mo9EOm3K1Xqt2ygkuwXh0EivEADQA8gAlM3SiNW3W20NB/0g7XR4MeosptN5uWB63lu1hovOgWkmMguMWiY2CV%2Bp0B2vVnNVrv5qONost91G8xlgcVntTmu5qeSBDMXQEGfu0cohjJied90ozNNy19rPsxfL1fz9f6otbiaTvfdy8Z4%2BHlFnldrvWe90TcW7jOVieR72v2D4cpIhifrG16GrC8z/ragGvqiL51ihkFPtB36buY5gIcqSFoeBIFAfuEFQc2MFeia%2BGWoRvYkch4EYaBX43iavpStW9GzqhvYsUBG6gkmya0fuPFgXKfG8QJh5CSCW54Vxs4Sc%2BjFEVJskjlRY7JrSymSQeGlzqx2ZacKOkoimYmPqZIbqfxFHFnibZXDZHKqdmDkyU58mPAAYtgNgaNgfqWaCgXBdgmxluFIIaFuyYAOrudOmH2U5KLIJIzjpc5FoJcmyYMKlRkMZloLZbldn5e6hXJsyBkARVxEtY8VW%2BXFjz1Ul97NXlKLiAWNVZTlnXYaC9UMH1iFtUNUYjZVY15X59UaDNBFzcNpFLdVglddgGgTLhYUTSC2DzMm2ATAA0qdRawldxr3YaT0vRaACyb1cV1SX%2BbFZ2PAwkUhZsABqH36eahnSTD5kWn55jwU1s0DSh3mSagVBUHIF7DhZgPmAAEqVnkZWjIJYzjmB4/thMpSjm0U1JGMRlTuOutphPzJx0P9YtrXM%2BzNOcwTRbE7z6aowLLNtcLtNyV1DDI3zXltSq8OY9jHOFmLhok4zwHq%2BRQvayLusI0rDOq%2BTMsa3LZsK1zRYAFLHaTDvU07esWm75iiYb4nG6zsry6LluA/M2AAIqlbDz6a2zjvh1ekc2KFgfo8bieh8nFup0W8w0Zngt2ybMth/nbF4vMADiGc20bzP26bXsp9XFpF8akvlc35c7ZTef4xHhf1z3vEhyGOfspXw8F7ceIQm8ABsAAsLnim81tS0zZeT/iBZzx3Y64VvHt9/vb5Lh%2BK1K9uZ8l2le9te%2BF41X5t4P43QcXy/19v3TIsv4rjb24sHbO40bxwVASpcBfdp61RwuYGBhkyZNzLggj%2B24UH8wHrLeBkDXoTBwdLPBJkyH90VvTceqC4EVyHoAvE5g3KPzKhPT2Osj5YRvCw7%2BWcCGt04YwyYi8wQfTxB9WESk%2BEeToRQzBXVJHE3Ps/AR79FFSKJgwGhuCmL4IwYQz6midGkL0eQsxlDnZ4glGDFRFDL7oUMe6GxJjd72IgbfQGV0Pp2IsQ45iTiUTeNcXRORFiFGAwhLoNeEipEkLcX4jx6jAY2PiaE3%2BajhHOLeGDWEaSf6qIMZ4os3j8m2XcZkqhJTsCSLKbIjJRTklFghFMC0/tNh1KfhUmWzAACOGJ7CoG0MZVgAyhmsCsV6DQHTfHGXjmZNqfSxnDOrKMx4gyVkjxch9RMDAkoTAZDM1haCyL%2BM0os/p6zxkjOWRMn2P4dnAKOTIrpiTKkaSWVczZhk1kbLuVs1sOyRLPJ3ukwp8iLm3JuV8/589AWJlciCsBDSIXM0%2BX86FGL7l0h2SmJFsCUXhMhTCzF1zsWggmDsj6bwbD4toYSuZCCUTorJbOX5rK4UPMTJDeMdLdFzLOS3HplysVsqheSkElLuU0thHy0xAqkl4JZd8jM7KVXcO2dyiY8ZZWdLYTDQVljyzKthaq8VAL3QtJiW05MmxeGgoKd0pVIqOVmpJRKoG0z7XIvBUStFLr1XKjVaajV8K9kHLtbM3ujTnXmp%2BXG4%2BOKEXikjccsJjLiWivje6i1SbgXeoJb6jN/qE22mDZMrliKC30qLY5EtObs1ZsTRS3Ftrq38ujai4Vpag09sQS26VtL23ys7X67tDa3VNtDVynlqaXn6rUoqvRJrSWBv7ZKqlMq50OvKW8mNy6A0ht7RO6dSaeWyuHQkhV7zjWHtXUe9d4IwT%2BRuBafykMU0lTTQyutdsBRNLxO%2B7R8xNhfvnSc/h%2B7jL/qySifyNgPrAdA1G9hN7ZwwaqYBhDTywM7vqbWnyzcMMVrgzhlDBql3QcCRFJDuGfVOrHWQ4jHr31SOQ9%2BgjcN1bMdzRFGx7HwPpt/Ux6jIJ/IMGjsmY0Am8OvOvX%2B0TAUGC1xsC7GT9G91dtgzRlTLtaV0cLQx4tAG33KdU7ygzNajPCcw2%2B6l%2BnyOLrQ5yuDs7LMdtQ1BljGgwbSaSupwzmmzE8ZcxFHzfnZXuZHZ5kTxTAMfTBpsXleqIOl202JmOAWrNBeM%2BlgKJosseYo855tYnzDRSi1e0duXbPun8hocwEwGAMEK9F4rJm6vhdA3KqrMXguKfq757rSUQmOpy9WELpWAoJY6Ulxzas4t2aeZesF1nCMKcW3VxDcFt0afk1p/rm24MIaQytsb%2B3GOHY68dj9VxduBYuzVqjR2IrLfm7bA7z3rs0Z22d3dj2bNfby2CAAVKx8w93ssA/W7F77Yn%2BN/fw2trjRGBsSak5DorTmNtw6U7pzHbXsefZY2ZvTBPevteJ7xsTpPeWI7k9VwHLH7Pk9W%2BNmHtXXPatZ%2BdxnHOSNhaGy1%2BnC6Fs47y4N6Td3Kts%2Bh4ZSbp6IqZZF6l/RVPQtlal%2B99B6upv%2BXKzz/7fOUe4/q415rhukfs41wFLr/mVdCfQwNu3F7tenO487obd2UuO/l57qXHTRtG760DznEVkFu8g3g7aYead6vmVPNqMeBdlYdz%2BqcyeSci4T0eJloJM/U6fWvfygGusQ5l7zkPE3/ebDhK1inROrsS66y16RsnRcfab7H23Qva9B6t3LjMCvKKRLBFca1nWhsQ7T5xofNe68z%2BR3Pl7YmZt08j2l7vku7W1432rrvKee8B7hHv8xofD/vsS3d%2BMp%2Bc9%2BQhBoPE0zgFvFXgwBkNhSbIC2gtPL0z9cq7f4XxAEyzzTD6PrTIR7HIgH2IwF6JgGKb/5QHgZwECqoHlgIEr7dS16AHBzoFTiYG47/4MC4HAE/7gGrSgYpb4EGo0ERiEF/6bDibUF4HkGIGgakF7x0GygMHd7TI2CJgMjvR1SbAv576HyMF%2BypQF427P6bw%2B7MwSF8G14bSy7lhKGH5yESicDLzv7SFDiMFwiqGV6SS8GaGgb3xf5sFYHTKfxWHMxmEerP7tjGEBjcHsiOGF62FwT2FEFJbWTQHsEBEoHsGuS%2BGMHAYsHwLuEQGiHihREYIxGUEuz6EUFdTTJRzRwABaccnAMRKIs8jB8w6cORrCqo%2BRoIhRyh44rhA%2BGBMhU2SBVwehHGeCnhshteSULRgmDhDRiu8UTByC3R7equ7RjROBwxe29Rv%2ByhLsAc86d%2B6RmwCWt%2BhgSRSxF0V0t0whKI0yfs8xIxoRf4rR4S6xgMxBzRQhZReeIIYx/R2Beykx/O0xaR5xTBjxVxCxNxmIfRI%2BRYthlxcc3xdxfxIOYIC8%2BoC8IikwhIXgrA7wnwBA3waQtE9wTwVAtABI6gmAAAHhANMMvCkFQN0I8AALSjDuChRSB4AABemAqUugzABAyACAjwRJqUKIHwXw4gPwBgIARhLIjwAAdEKR6H8O4DcJSY8C4BpJyYiciQECACAPSG8EyIKSKWKRSZKaFCYOWHKdybyUqWIVKMKaKVSOKdqY8HovqUiTyWkEqd6GmKaZqRKRSaFJ4HqaCFybaYaSAI6ZLM6eaVqW6Y8KvLKV6fKXaYqSACJE6RqUGa6VKbwJ6SCN6QqSoCAKWOqWafqBaSGcvOGamZGb6a5HGTmSwomaFP8IWQiQafaX6afNmS6ZaQABw1lplRkZmKRlnNkhkACc7ZxZ9ZdhJp8ZuZwZUpiQg5dZ0ZwCTZCZlpnAupU4Np6ZfJwG8545lZjwnA1pEZM5XZJ0o55ZeZk5HpK5%2B5Ppw5xcgIgZW5i5YZKZtZV50Z3oAZY5FZi5yZF5RZB5fJIkm5n5IZOh05L5XZ24gFp5Op1ZT5HZvpt4kFE5OpbZsFQ50ZwR8EH5UFO5A5qFf5Rp7YiF25hgMpeFYFfJIMDcmFJ5SFVpy5kkq5nZFFQUoMPZC5IZhge5v55FSpPURFlpMwoFa5vFiUuGd5QFUphgj5P5z5wlIAa0/FHF35DFl5clPUbF95HFBZZFalolGlEloUhgMFMlcF9Za0%2Bl2FhgKFJlaFGZh0x0be4llluFNl%2BFIAmx10d0x5vZUp7gpFrlPFIAj02Az03l7Fvl9FEYjF8F30t5WFtFeC0V9ZX0IVilvl55Kl3Fclf0FlCV0lmVslTFDplF4MkMaV7pylUVqlRV/JKs1FPl7p2lAVclyiYVmlvlxlBVpl0ZyB9V4V7p1lXVtlfJSM75NF257gLlQ1blEs5VoZ/l01gVysc1q8kVVVhV8FBscV41lpq8XFG1w528TltFq8GV61B10ZUhbVBloZ%2BV513VGZ%2BxK1lV61D1fJmRK1TVi1clxRVFx125q8nV91w1SpXcK1g1wNbldcf18VANU1kNgVXcY1DVjw3AC1CNP1Y8c13Aa1VVb1Rp8h2N%2B1%2BNDZE4R1sNlp3AZ1r1INfp985NO1IZ3Ad1NNbln8DNKN3AL1eNtNwCHN/VqNX1GNNVkR2NQNrNS1uE/N7VoU3AENEtclik0tN13A8NCtItekyt2Fy86N6tvpyCyNAty8uNUVJNzCc1y8xNtNJBFt1NPNblSiFtLN9tgVSiW1fVMtjwy83NpttNbt2iFtQtetyVxiFt4tLtclNiFt8tEdNVLiFtatsdvp3ic1/wutSd9ZwSqdJtEYJNSiWttF/wVtblqSqddtvtJdOSeSqdztFdgVpSqdPtudtNwSBd25/wQdGdPVtqbdlp/w4dddit0yvdIZ/wMdg9NVUq4ahyI9Up/widE9JZjyKas9oULZ6di99ZUqwKq9jwLZOdsoJNUqiKu9LZxdgVUqeKp95dzdblUqLOp9tdt9F9VK3Op9Tdh9vNm6Nguqc1LZndm9s5r9OqIK/1rZA9z9LVbaf949kDItXqf9C9cDS9uy%2Byhy9qYD/ZG9yDW9y9d2GDFN/ZB97IR9QKeKBDjNUpfZ59clx97Y26mDVDN9n9d9raDDhDVDT9LDL9g67DlDoUfZH9JDX9Wq6%2B112FfZADODQDg6ru4jtFfZED3DtDwDcj21KNfZsDyjNV76ZG8j25fZSD2jvpQGO2YlHDOpbgQlOjJ2Zjc1iQxD%2BIJN8Gt2MmjDljNDOjej6jAtiQzDwjbl4mdj%2Bji5LgXDATgV4ObjFjO5LgQjTjtNL6OS0T/DsTUjxj9Z4mkm0m5jqTiQSjETcl4m%2BOuTKNiQWjhTOjpODmITwFLgRjlTJjtOKTZTU5OlOjLOpTvjS51jJjbm9ju5vTmTduLT3T/jCTgTLuozntS54TEzkTa%2BoDMTS58TSV0ZgU0c0zN1S56TjTmTBWXTMznABT8zRTBuhz2znAFTpzOjDWTWLWFz2FS5DTNzJjLeSzeTJFQz6z7zI29jBQ7TfTiW/mN%2BtTk5nF3zGZujKaFDZTglgLmT22IGsLvjUlkLFFtjyL/zqz1VJj2GML/zuzrzmTb2YLOpRl6LSpQTWLZLO5VlNZoOzjSifDcLLzazULCO9jfllLIAWTGOKLMz7gjj7LFFpOLLvjiVuLmT1T4rgr4zIrVLzTAr2z7gczCrvLLOyrTz7gOLWVHT3OWrtFnA7gRL6r2%2BwuXLJzZrXW0uXL1zZryuXLbLUr6zBWhr25nAq82DGTrr0U7rD5wrLrULdzFu/rwFe1PL2%2B9u9jp1kbUzYbk5q8arQbFFNrHzZTq8urF1wbXugeMbprKbVLvV7jO5gNkbeyMb9rhbvL5ttLnrzrerTTCbOpaNcbU%2BWzTzONbb0mdejzRr3AnjbzvejlyzVN3b3WJ%2BdbzN470%2B9jXNM7ajHt2z3ABbjbiLiWYjPjMz3AVr1b2%2Bd2I7eTct47B7ht27Db2bFFM21%2B9jOtPLWhr%2B7%2Bn%2Bdbxt97gxzbO5ltb7xbyzy88r1bSBu9Ohyba70ZkBH7OhWbJNFxt7q7l7vFVBt7u7oHGZxBQHy8VbKHfJAJt7F70HmwAhnxS7Tzadb7xpW72z/wgbWHCHV1FHJHg7ZlcREoQH/w/7NH8lKh9j/wIH8HnHL%2BOhwxJbxzUHtNkB8I3HcH%2BH3Z3HyHfHthekuVHrY9ZHLh3HeHYnoGPhdb69b7AFOn1H8nmwGFwnZ9qnEHLZ7HRnotOnvH%2BHfN9jLZonblexjnUnmnmRpR9HRrLZcn%2BHv1XnxHPnmH1njZOnGnLn77QnyzfZ3rezYHnR0XeTfZhn%2BH%2BuXRRHwn1D37gJdbfZVn%2BHcx9jfZdnmnKxeXzngV0yHl2xeX7nkXT1eXfnmnc5eXIXaXJBSXZThjb7Hxc1JFcXxLCXzBXXAtJFqXmnnXmXMTJFOIYJ5YVIBMEJr6rSq3UJa30JEwwwvQoyww3AwwpABgwwLgB3qAIAwwyYUgBAbJ/Qgw9J0wQrB3q4x323vQAA1iAO4O4EKaq%2BvX5Tuy4IYAO/PQWbt6vAd0dyd6QGd8MAd5ICADKc9yd70HALAEgGgLoF4HgOwGQBQBABj1jzjyALQHgMAAgAQKwMcKQFQNjwQE4PDxAPYOd1D/YFYFkMcOd5wAdxj7sPQImLQJT8zwd1gIyaIOwEL6QPgMQMUEoAAG7nAS%2B4nFDiB0%2Bc8HdWB0%2B7dQ%2BsB4D2DEDs9aBYAS9ImEhq%2B9A0D0BMBsAcCev8CCDCCiAgASDSBCC6/w%2BQC9CoBeBpDw/DCknMhe8ECknsDy%2BsBanuBw9FCGkQBmBNAGAmBmDtDVAJDeC%2BD%2BB0Bx%2BCDhDp%2B0BJ9xA1AmApAy%2BlANA5DaB5CCBF%2B8llDZB5%2BdCF%2Bl%2BZ8N9tBWBVD58JC9CSC3dDBcA7fnf7eHcS8w/O/MmPAk9k8U/HCPAQC4CEAkB/AzAmDdSoCY/Y9OAL9CskmXfSBPdC/dDvefffdCv/0mv1NrzGu%2Beg/nfg%2BD8vfQ/ndw8I%2BkBI/bekCo%2BIAgD9AED3AyB48E9r8p9MA%2BAIgCnwt6MAWA4vW3isH15eAzeQgfvhDyH7ncHunAR4CsEICskR%2ByAMfqT3J6U9d%2BL3ffqQA%2B5fcfuX3cgRQIoHwDhgN/SHqdwf6yAn%2BL/Igbt0MCIC7%2BMPAgcj16Dy8VQipVeEAA%3D)\r\n\r\nI expected to see this happen:\r\nCouple of math instructions\r\n\r\nInstead, this happened:\r\nGiant table\r\n\r\n### Meta\r\nif I understand correctly, that behavior tie to rust's internal enum type representation i8.  \r\n\r\n#### Tried on versions of rustc:\r\nbeta\r\nnightly\r\n1.50.0\r\n\r\n#### Flags:\r\n-C opt-level=3\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/82699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/82699/timeline", "performed_via_github_app": null, "state_reason": null}