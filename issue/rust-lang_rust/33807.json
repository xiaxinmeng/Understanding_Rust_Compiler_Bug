{"url": "https://api.github.com/repos/rust-lang/rust/issues/33807", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33807/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33807/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33807/events", "html_url": "https://github.com/rust-lang/rust/issues/33807", "id": 156224511, "node_id": "MDU6SXNzdWUxNTYyMjQ1MTE=", "number": 33807, "title": "Rustc asks for Reflect, which is unstable, when it could be asking for Any which is stable", "user": {"login": "tinco", "id": 22532, "node_id": "MDQ6VXNlcjIyNTMy", "avatar_url": "https://avatars.githubusercontent.com/u/22532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tinco", "html_url": "https://github.com/tinco", "followers_url": "https://api.github.com/users/tinco/followers", "following_url": "https://api.github.com/users/tinco/following{/other_user}", "gists_url": "https://api.github.com/users/tinco/gists{/gist_id}", "starred_url": "https://api.github.com/users/tinco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tinco/subscriptions", "organizations_url": "https://api.github.com/users/tinco/orgs", "repos_url": "https://api.github.com/users/tinco/repos", "events_url": "https://api.github.com/users/tinco/events{/privacy}", "received_events_url": "https://api.github.com/users/tinco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2016-05-23T08:23:27Z", "updated_at": "2016-09-13T16:16:38Z", "closed_at": "2016-09-13T16:16:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\n\nI had a latenight coding session and ran into this error:\n\n```\nsrc/components/mod.rs:35:69: 35:83 error: the trait `core::marker::Reflect` is not implemented for the type `T` [E0277]\nsrc/components/mod.rs:35    let component_list : &'static SharedMutex<T> = *component_list_any.downcast_ref().expect(\"Invalid type for components list\");\n                                                                                               ^~~~~~~~~~~~~~\n```\n\nSeems like an easy fix, add Reflect to the type constraint of the T, but that yields this exception:\n\n```\nsrc/components/mod.rs:12:5: 12:25 error: use of unstable library feature 'reflect_marker': requires RFC and more experience (see issue #27749)\nsrc/components/mod.rs:12 use std::marker::Reflect;\n                             ^~~~~~~~~~~~~~~~~~~~\n```\n\nThat #27749 looks like it won't soon be solved and probably #31844 will supersede it in some way. So this advice from the compiler of adding Reflect is not very nice.\n\nPerhaps we could have it recommend implementing Any instead? Or at least mention Any would do it as well? Most rookies won't know that Any is basically Reflect+'static.\n\n[Here](https://users.rust-lang.org/t/downcasting-box-any-to-t-or-working-around/5935)'s my forum question about this topic with the code that threw the error.\n", "closed_by": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33807/timeline", "performed_via_github_app": null, "state_reason": "completed"}