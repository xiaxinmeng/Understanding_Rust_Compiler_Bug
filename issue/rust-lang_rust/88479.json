{"url": "https://api.github.com/repos/rust-lang/rust/issues/88479", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/88479/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/88479/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/88479/events", "html_url": "https://github.com/rust-lang/rust/issues/88479", "id": 982497784, "node_id": "MDU6SXNzdWU5ODI0OTc3ODQ=", "number": 88479, "title": "Run tests with compilter_builtins", "user": {"login": "jethrogb", "id": 1132307, "node_id": "MDQ6VXNlcjExMzIzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jethrogb", "html_url": "https://github.com/jethrogb", "followers_url": "https://api.github.com/users/jethrogb/followers", "following_url": "https://api.github.com/users/jethrogb/following{/other_user}", "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions", "organizations_url": "https://api.github.com/users/jethrogb/orgs", "repos_url": "https://api.github.com/users/jethrogb/repos", "events_url": "https://api.github.com/users/jethrogb/events{/privacy}", "received_events_url": "https://api.github.com/users/jethrogb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-30T07:51:17Z", "updated_at": "2023-02-15T13:42:28Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Rust CI is currently not gated on running the std tests on any targets that rely on compiler_builtins/libm. See e.g. this test failure https://github.com/rust-lang/rust/pull/85925#discussion_r654904770. This makes some sense, since none of these targets are tier 1. However, these components are used in many tier 2/tier 3 targets. This issue is to somehow run the Rust test suite with compiler_builtins in CI.\r\n\r\nAdditional background: LLVM will insert calls to various functions as part of code generation. On e.g. Linux these functions are fulfilled by linking libc, libm, libgcc, etc. For platforms that don't have these functions natively (bare metal etc.), the Rust project has developed the compiler_builtins and libm crates.\r\n\r\nThis work has been sort of approved by the infra and libs-impl teams:\r\n* https://rust-lang.zulipchat.com/#narrow/stream/242791-t-infra/topic/meeting.202021-06-21/near/243413445\r\n* https://rust-lang.zulipchat.com/#narrow/stream/219381-t-libs/topic/compiler-builtins.20gating", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/88479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/88479/timeline", "performed_via_github_app": null, "state_reason": null}