{"url": "https://api.github.com/repos/rust-lang/rust/issues/92547", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/92547/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/92547/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/92547/events", "html_url": "https://github.com/rust-lang/rust/issues/92547", "id": 1093019433, "node_id": "I_kwDOAAsO6M5BJicp", "number": 92547, "title": "VecDeque missing operations for \"front\" handling.", "user": {"login": "Firstyear", "id": 271005, "node_id": "MDQ6VXNlcjI3MTAwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/271005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Firstyear", "html_url": "https://github.com/Firstyear", "followers_url": "https://api.github.com/users/Firstyear/followers", "following_url": "https://api.github.com/users/Firstyear/following{/other_user}", "gists_url": "https://api.github.com/users/Firstyear/gists{/gist_id}", "starred_url": "https://api.github.com/users/Firstyear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Firstyear/subscriptions", "organizations_url": "https://api.github.com/users/Firstyear/orgs", "repos_url": "https://api.github.com/users/Firstyear/repos", "events_url": "https://api.github.com/users/Firstyear/events{/privacy}", "received_events_url": "https://api.github.com/users/Firstyear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-01-04T05:17:54Z", "updated_at": "2023-02-19T12:12:43Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From the docs of VecDeque:\r\n\r\n\"\"\"\r\nA double-ended queue implemented with a growable ring buffer.\r\n\r\nThe \u201cdefault\u201d usage of this type as a queue is to use push_back to add to the queue, and pop_front to remove from the queue. extend and append push onto the back in this manner, and iterating over VecDeque goes front to back.\r\n\"\"\"\r\n\r\nFrom this, we can assume the default way to use VecDeque when visualised is:\r\n\r\n```\r\n front [ a, b, c, d, e ] back\r\n # push_back(f)\r\n front [ a, b, c, d, e, f ] back\r\n```\r\n\r\nVecDeque has a number of operations to reduce the size of the content in the VecDeque such as truncate or split_off, but these assume you want to truncate or split from the back.\r\n\r\n```\r\n front [ a, b, c, d, e, f ] back\r\n # truncate(4)\r\n front [ a, b, c, d ] back\r\n```\r\n\r\n```\r\n front [ a, b, c, d, e, f ] back\r\n # split_off(4)\r\n front [ a, b, c, d ] back  ->  front [ e, f ] back\r\n```\r\n\r\nHowever, what is missing is equivalents for operating on the *front* of the VecDeque\r\n\r\n```\r\n front [ a, b, c, d, e, f ] back\r\n # truncate_front(4)\r\n front [ c, d, e, f ] back\r\n```\r\n\r\nThis created confusion for me wanting to use VecDeque as an *ordered* ringbuffer since VecDeque will iterate front to back, and recommends you push_back, but trying to maintain a fixed capacity requires you to either manually pop_front to len, OR you need to actually store your VecDeque in reverse, and rely on iter().rev() allowing you to use truncate.\r\n\r\nSince VecDeque intends to be \"double ended\" it would be useful and convenient to have a number of the methods given front variants. My non-exhaustive list is:\r\n\r\n* truncate\r\n* split_off\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/92547/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/92547/timeline", "performed_via_github_app": null, "state_reason": null}