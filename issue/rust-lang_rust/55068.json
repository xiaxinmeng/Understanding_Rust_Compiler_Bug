{"url": "https://api.github.com/repos/rust-lang/rust/issues/55068", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/55068/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/55068/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/55068/events", "html_url": "https://github.com/rust-lang/rust/issues/55068", "id": 369900840, "node_id": "MDU6SXNzdWUzNjk5MDA4NDA=", "number": 55068, "title": "rustc segfaults when compiling on release", "user": {"login": "fulmicoton", "id": 1021506, "node_id": "MDQ6VXNlcjEwMjE1MDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1021506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fulmicoton", "html_url": "https://github.com/fulmicoton", "followers_url": "https://api.github.com/users/fulmicoton/followers", "following_url": "https://api.github.com/users/fulmicoton/following{/other_user}", "gists_url": "https://api.github.com/users/fulmicoton/gists{/gist_id}", "starred_url": "https://api.github.com/users/fulmicoton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fulmicoton/subscriptions", "organizations_url": "https://api.github.com/users/fulmicoton/orgs", "repos_url": "https://api.github.com/users/fulmicoton/repos", "events_url": "https://api.github.com/users/fulmicoton/events{/privacy}", "received_events_url": "https://api.github.com/users/fulmicoton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 267612997, "node_id": "MDU6TGFiZWwyNjc2MTI5OTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-unsound", "name": "I-unsound", "color": "e11d21", "default": false, "description": "Issue: A soundness hole (worst kind of bug), see: https://en.wikipedia.org/wiki/Soundness"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-10-14T13:10:06Z", "updated_at": "2018-12-09T12:21:33Z", "closed_at": "2018-12-09T12:21:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When compiling `tantivy-cli` (version 0.7) on a ARMv7 on linux and for the default target (stable-armv7-unknown-linux-gnueabihf) I get a segfault.\r\n\r\n```rust\r\n     Running `rustc --crate-name tantivy /home/fulmicoton/.cargo/registry/src/github.com-1ecc6299db9ec823/tantivy-0.7.0/src/lib.rs --crate-type lib --emit=dep-info,link -C opt-level=3 -C debuginfo=2 --cfg 'feature=\"atomicwrites\"' --cfg 'feature=\"default\"' --cfg 'feature=\"fail\"' --cfg 'feature=\"fst\"' --cfg 'feature=\"mmap\"' --cfg 'feature=\"no_fail\"' -C metadata=d25a6e98440c62af -C extra-filename=-d25a6e98440c62af --out-dir /home/fulmicoton/tantivy-cli/target/release/deps -L dependency=/home/fulmicoton/tantivy-cli/target/release/deps --extern atomicwrites=/home/fulmicoton/tantivy-cli/target/release/deps/libatomicwrites-fce46e63738aa183.rlib --extern base64=/home/fulmicoton/tantivy-cli/target/release/deps/libbase64-f98a201d1596be7a.rlib --extern bit_set=/home/fulmicoton/tantivy-cli/target/release/deps/libbit_set-2a4f07d0f5d0ce60.rlib --extern bitpacking=/home/fulmicoton/tantivy-cli/target/release/deps/libbitpacking-0a442b5a4ed94920.rlib --extern byteorder=/home/fulmicoton/tantivy-cli/target/release/deps/libbyteorder-20a705f1c3cf9d5b.rlib --extern census=/home/fulmicoton/tantivy-cli/target/release/deps/libcensus-51540c7c8476b422.rlib --extern combine=/home/fulmicoton/tantivy-cli/target/release/deps/libcombine-7984627c4cb85f3c.rlib --extern crossbeam=/home/fulmicoton/tantivy-cli/target/release/deps/libcrossbeam-cc5c25c3ec786bd3.rlib --extern crossbeam_channel=/home/fulmicoton/tantivy-cli/target/release/deps/libcrossbeam_channel-985f8323105e65b7.rlib --extern downcast=/home/fulmicoton/tantivy-cli/target/release/deps/libdowncast-01f2a97a7c46e30a.rlib --extern fail=/home/fulmicoton/tantivy-cli/target/release/deps/libfail-fbe792fd0fe1b495.rlib --extern failure=/home/fulmicoton/tantivy-cli/target/release/deps/libfailure-d57102ea71ef774e.rlib --extern fnv=/home/fulmicoton/tantivy-cli/target/release/deps/libfnv-9de9b309c71d9aa9.rlib --extern fst=/home/fulmicoton/tantivy-cli/target/release/deps/libfst-a67597a5b879eb0f.rlib --extern fst_regex=/home/fulmicoton/tantivy-cli/target/release/deps/libfst_regex-252b7a802eb733bd.rlib --extern futures_cpupool=/home/fulmicoton/tantivy-cli/target/release/deps/libfutures_cpupool-fb1ef65cc9ade2ac.rlib --extern futures=/home/fulmicoton/tantivy-cli/target/release/deps/libfutures-51a3f490184862d6.rlib --extern htmlescape=/home/fulmicoton/tantivy-cli/target/release/deps/libhtmlescape-5427adf1a1b456a1.rlib --extern itertools=/home/fulmicoton/tantivy-cli/target/release/deps/libitertools-6719e83ee1ae24ee.rlib --extern lazy_static=/home/fulmicoton/tantivy-cli/target/release/deps/liblazy_static-ab1d4bba080234a1.rlib --extern levenshtein_automata=/home/fulmicoton/tantivy-cli/target/release/deps/liblevenshtein_automata-3860633b8cb7d47c.rlib --extern log=/home/fulmicoton/tantivy-cli/target/release/deps/liblog-9b12357f1aa25994.rlib --extern matches=/home/fulmicoton/tantivy-cli/target/release/deps/libmatches-35ccf9e113cc4d5f.rlib --extern num_cpus=/home/fulmicoton/tantivy-cli/target/release/deps/libnum_cpus-d37020bfff920810.rlib --extern owned_read=/home/fulmicoton/tantivy-cli/target/release/deps/libowned_read-766ff4dc896229a6.rlib --extern owning_ref=/home/fulmicoton/tantivy-cli/target/release/deps/libowning_ref-53bd3be7552b7105.rlib --extern regex=/home/fulmicoton/tantivy-cli/target/release/deps/libregex-12aacd86feeb8e41.rlib --extern rust_stemmers=/home/fulmicoton/tantivy-cli/target/release/deps/librust_stemmers-0b9931c65fedda11.rlib --extern serde=/home/fulmicoton/tantivy-cli/target/release/deps/libserde-77233942176769c6.rlib --extern serde_derive=/home/fulmicoton/tantivy-cli/target/release/deps/libserde_derive-7716c330b6339791.so --extern serde_json=/home/fulmicoton/tantivy-cli/target/release/deps/libserde_json-186a8fb7f63e9fe4.rlib --extern snap=/home/fulmicoton/tantivy-cli/target/release/deps/libsnap-7a9787219f00dfa3.rlib --extern stable_deref_trait=/home/fulmicoton/tantivy-cli/target/release/deps/libstable_deref_trait-a89d3eee24b53f9b.rlib --extern tempdir=/home/fulmicoton/tantivy-cli/target/release/deps/libtempdir-848ea86628036f3c.rlib --extern tempfile=/home/fulmicoton/tantivy-cli/target/release/deps/libtempfile-0abedeed6134d4f9.rlib --extern uuid=/home/fulmicoton/tantivy-cli/target/release/deps/libuuid-21e48c51d05b9c29.rlib --cap-lints allow -C target-cpu=native -L native=/home/fulmicoton/tantivy-cli/target/release/build/backtrace-sys-52bf4ffcaa7390b0/out`\r\nerror: Could not compile `tantivy`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name tantivy /home/fulmicoton/.cargo/registry/src/github.com-1ecc6299db9ec823/tantivy-0.7.0/src/lib.rs --crate-type lib --emit=dep-info,link -C opt-level=3 -C debuginfo=2 --cfg 'feature=\"atomicwrites\"' --cfg 'feature=\"default\"' --cfg 'feature=\"fail\"' --cfg 'feature=\"fst\"' --cfg 'feature=\"mmap\"' --cfg 'feature=\"no_fail\"' -C metadata=d25a6e98440c62af -C extra-filename=-d25a6e98440c62af --out-dir /home/fulmicoton/tantivy-cli/target/release/deps -L dependency=/home/fulmicoton/tantivy-cli/target/release/deps --extern atomicwrites=/home/fulmicoton/tantivy-cli/target/release/deps/libatomicwrites-fce46e63738aa183.rlib --extern base64=/home/fulmicoton/tantivy-cli/target/release/deps/libbase64-f98a201d1596be7a.rlib --extern bit_set=/home/fulmicoton/tantivy-cli/target/release/deps/libbit_set-2a4f07d0f5d0ce60.rlib --extern bitpacking=/home/fulmicoton/tantivy-cli/target/release/deps/libbitpacking-0a442b5a4ed94920.rlib --extern byteorder=/home/fulmicoton/tantivy-cli/target/release/deps/libbyteorder-20a705f1c3cf9d5b.rlib --extern census=/home/fulmicoton/tantivy-cli/target/release/deps/libcensus-51540c7c8476b422.rlib --extern combine=/home/fulmicoton/tantivy-cli/target/release/deps/libcombine-7984627c4cb85f3c.rlib --extern crossbeam=/home/fulmicoton/tantivy-cli/target/release/deps/libcrossbeam-cc5c25c3ec786bd3.rlib --extern crossbeam_channel=/home/fulmicoton/tantivy-cli/target/release/deps/libcrossbeam_channel-985f8323105e65b7.rlib --extern downcast=/home/fulmicoton/tantivy-cli/target/release/deps/libdowncast-01f2a97a7c46e30a.rlib --extern fail=/home/fulmicoton/tantivy-cli/target/release/deps/libfail-fbe792fd0fe1b495.rlib --extern failure=/home/fulmicoton/tantivy-cli/target/release/deps/libfailure-d57102ea71ef774e.rlib --extern fnv=/home/fulmicoton/tantivy-cli/target/release/deps/libfnv-9de9b309c71d9aa9.rlib --extern fst=/home/fulmicoton/tantivy-cli/target/release/deps/libfst-a67597a5b879eb0f.rlib --extern fst_regex=/home/fulmicoton/tantivy-cli/target/release/deps/libfst_regex-252b7a802eb733bd.rlib --extern futures_cpupool=/home/fulmicoton/tantivy-cli/target/release/deps/libfutures_cpupool-fb1ef65cc9ade2ac.rlib --extern futures=/home/fulmicoton/tantivy-cli/target/release/deps/libfutures-51a3f490184862d6.rlib --extern htmlescape=/home/fulmicoton/tantivy-cli/target/release/deps/libhtmlescape-5427adf1a1b456a1.rlib --extern itertools=/home/fulmicoton/tantivy-cli/target/release/deps/libitertools-6719e83ee1ae24ee.rlib --extern lazy_static=/home/fulmicoton/tantivy-cli/target/release/deps/liblazy_static-ab1d4bba080234a1.rlib --extern levenshtein_automata=/home/fulmicoton/tantivy-cli/target/release/deps/liblevenshtein_automata-3860633b8cb7d47c.rlib --extern log=/home/fulmicoton/tantivy-cli/target/release/deps/liblog-9b12357f1aa25994.rlib --extern matches=/home/fulmicoton/tantivy-cli/target/release/deps/libmatches-35ccf9e113cc4d5f.rlib --extern num_cpus=/home/fulmicoton/tantivy-cli/target/release/deps/libnum_cpus-d37020bfff920810.rlib --extern owned_read=/home/fulmicoton/tantivy-cli/target/release/deps/libowned_read-766ff4dc896229a6.rlib --extern owning_ref=/home/fulmicoton/tantivy-cli/target/release/deps/libowning_ref-53bd3be7552b7105.rlib --extern regex=/home/fulmicoton/tantivy-cli/target/release/deps/libregex-12aacd86feeb8e41.rlib --extern rust_stemmers=/home/fulmicoton/tantivy-cli/target/release/deps/librust_stemmers-0b9931c65fedda11.rlib --extern serde=/home/fulmicoton/tantivy-cli/target/release/deps/libserde-77233942176769c6.rlib --extern serde_derive=/home/fulmicoton/tantivy-cli/target/release/deps/libserde_derive-7716c330b6339791.so --extern serde_json=/home/fulmicoton/tantivy-cli/target/release/deps/libserde_json-186a8fb7f63e9fe4.rlib --extern snap=/home/fulmicoton/tantivy-cli/target/release/deps/libsnap-7a9787219f00dfa3.rlib --extern stable_deref_trait=/home/fulmicoton/tantivy-cli/target/release/deps/libstable_deref_trait-a89d3eee24b53f9b.rlib --extern tempdir=/home/fulmicoton/tantivy-cli/target/release/deps/libtempdir-848ea86628036f3c.rlib --extern tempfile=/home/fulmicoton/tantivy-cli/target/release/deps/libtempfile-0abedeed6134d4f9.rlib --extern uuid=/home/fulmicoton/tantivy-cli/target/release/deps/libuuid-21e48c51d05b9c29.rlib --cap-lints allow -C target-cpu=native -L native=/home/fulmicoton/tantivy-cli/target/release/build/backtrace-sys-52bf4ffcaa7390b0/out` (signal: 11, SIGSEGV: invalid memory reference)\r\n```\r\n\r\nWithout `--release` compilation finishes  ok.\r\n\r\n\r\nrustc 1.29.2 (17a9dc751 2018-10-05)\r\n\r\n\r\n", "closed_by": {"login": "nikic", "id": 216080, "node_id": "MDQ6VXNlcjIxNjA4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/216080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikic", "html_url": "https://github.com/nikic", "followers_url": "https://api.github.com/users/nikic/followers", "following_url": "https://api.github.com/users/nikic/following{/other_user}", "gists_url": "https://api.github.com/users/nikic/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikic/subscriptions", "organizations_url": "https://api.github.com/users/nikic/orgs", "repos_url": "https://api.github.com/users/nikic/repos", "events_url": "https://api.github.com/users/nikic/events{/privacy}", "received_events_url": "https://api.github.com/users/nikic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/55068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/55068/timeline", "performed_via_github_app": null, "state_reason": "completed"}