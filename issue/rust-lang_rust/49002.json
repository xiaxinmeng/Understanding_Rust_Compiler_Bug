{"url": "https://api.github.com/repos/rust-lang/rust/issues/49002", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/49002/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/49002/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/49002/events", "html_url": "https://github.com/rust-lang/rust/issues/49002", "id": 304989589, "node_id": "MDU6SXNzdWUzMDQ5ODk1ODk=", "number": 49002, "title": "Cannot build documentation for pretty_env_logger crate: \"multiple rlib candidates for `ansi_term` found\"", "user": {"login": "zomerfaun", "id": 37002469, "node_id": "MDQ6VXNlcjM3MDAyNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/37002469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zomerfaun", "html_url": "https://github.com/zomerfaun", "followers_url": "https://api.github.com/users/zomerfaun/followers", "following_url": "https://api.github.com/users/zomerfaun/following{/other_user}", "gists_url": "https://api.github.com/users/zomerfaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/zomerfaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zomerfaun/subscriptions", "organizations_url": "https://api.github.com/users/zomerfaun/orgs", "repos_url": "https://api.github.com/users/zomerfaun/repos", "events_url": "https://api.github.com/users/zomerfaun/events{/privacy}", "received_events_url": "https://api.github.com/users/zomerfaun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-14T01:13:59Z", "updated_at": "2018-08-23T19:54:01Z", "closed_at": "2018-08-23T19:52:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have included the `pretty_env_logger` crate into my project and now my documentation won't build anymore:\r\n```\r\nzomerfaun@falafel ~/C/grot> cargo +nightly doc\r\n Documenting failure v0.1.1\r\n Documenting pretty_env_logger v0.2.2\r\nerror[E0465]: multiple rlib candidates for `ansi_term` found\r\n  --> /home/zomerfaun/.cargo/registry/src/github.com-1ecc6299db9ec823/pretty_env_logger-0.2.2/src/lib.rs:24:1\r\n   |\r\n24 | extern crate ansi_term;\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^\r\n   |\r\nnote: candidate #1: /home/zomerfaun/Code/grot/target/debug/deps/libansi_term-e2b3ca16da03f7b2.rlib\r\n  --> /home/zomerfaun/.cargo/registry/src/github.com-1ecc6299db9ec823/pretty_env_logger-0.2.2/src/lib.rs:24:1\r\n   |\r\n24 | extern crate ansi_term;\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^\r\nnote: candidate #2: /home/zomerfaun/Code/grot/target/debug/deps/libansi_term-aa8dbd83a74bc2d7.rlib\r\n  --> /home/zomerfaun/.cargo/registry/src/github.com-1ecc6299db9ec823/pretty_env_logger-0.2.2/src/lib.rs:24:1\r\n   |\r\n24 | extern crate ansi_term;\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror[E0463]: can't find crate for `ansi_term`\r\n  --> /home/zomerfaun/.cargo/registry/src/github.com-1ecc6299db9ec823/pretty_env_logger-0.2.2/src/lib.rs:24:1\r\n   |\r\n24 | extern crate ansi_term;\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^ can't find crate\r\n\r\nerror: aborting due to 2 previous errors\r\n\r\nYou've got a few errors: E0463, E0465\r\nIf you want more information on an error, try using \"rustc --explain E0463\"\r\nerror: Could not document `pretty_env_logger`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustdoc --crate-name pretty_env_logger /home/zomerfaun/.cargo/registry/src/github.com-1ecc6299db9ec823/pretty_env_logger-0.2.2/src/lib.rs -o /home/zomerfaun/Code/grot/target/doc -L dependency=/home/zomerfaun/Code/grot/target/debug/deps --extern ansi_term=/home/zomerfaun/Code/grot/target/debug/deps/libansi_term-e2b3ca16da03f7b2.rlib --extern ansi_term=/home/zomerfaun/Code/grot/target/debug/deps/libansi_term-aa8dbd83a74bc2d7.rlib --extern env_logger=/home/zomerfaun/Code/grot/target/debug/deps/libenv_logger-53e195ae747b91ed.rlib --extern log=/home/zomerfaun/Code/grot/target/debug/deps/liblog-be8fd45b81578a9c.rlib` (exit code: 101)\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: build failed\r\nzomerfaun@falafel ~/C/grot> rustc +nightly --explain E0465\r\nerror: no extended information for E0465\r\n```\r\nAbove I tried this using nightly, but using stable gives the same result.  There is a relevant issue at https://github.com/seanmonstar/pretty-env-logger/issues/14.\r\n\r\nThe crate itself (and its inclusion into my project) builds and runs fine, only the documentation fails to build, so that is why I assume this is a rustdoc bug.  At least I assume it should resolve dependencies in the same way that rustc does.  If not then it would be very helpful if rustdoc would continue after the error and finish documenting the other crates, so I can view the documentation for my own crate at least :sweat_smile:\r\n\r\nIf my assumptions are totally wrong and this is not a bug in rustdoc at all, then I am very sorry.  This is my first bug report so I hope I did everything right.  Thank you for making Rust :smile: \r\n\r\n## Meta\r\n```\r\nzomerfaun@falafel ~/C/grot> rustc --version --verbose\r\nrustc 1.24.1 (d3ae9a9e0 2018-02-27)\r\nbinary: rustc\r\ncommit-hash: d3ae9a9e08edf12de0ed82af57ba2a56c26496ea\r\ncommit-date: 2018-02-27\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.24.1\r\nLLVM version: 4.0\r\nzomerfaun@falafel ~/C/grot> rustc +nightly --version --verbose \r\nrustc 1.26.0-nightly (2789b067d 2018-03-06)\r\nbinary: rustc\r\ncommit-hash: 2789b067da2ac921b86199bde21dd231ace1da39\r\ncommit-date: 2018-03-06\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.26.0-nightly\r\nLLVM version: 6.0\r\n```", "closed_by": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/49002/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/49002/timeline", "performed_via_github_app": null, "state_reason": "completed"}