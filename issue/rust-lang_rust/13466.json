{"url": "https://api.github.com/repos/rust-lang/rust/issues/13466", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13466/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13466/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13466/events", "html_url": "https://github.com/rust-lang/rust/issues/13466", "id": 31361179, "node_id": "MDU6SXNzdWUzMTM2MTE3OQ==", "number": 13466, "title": "error: mismatched type -> internal compiler error: unexpected failure", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-11T20:49:55Z", "updated_at": "2014-04-14T19:16:54Z", "closed_at": "2014-04-14T19:16:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "rustc 0.11-pre-nightly\nhost: i686-pc-mingw32\n\n(04/11/2014)\n\nnote: only caused by wrong code, using url::from_str instead of url::Url::from_str trying to match Result\n\n``` rust\nextern crate url;\n\nuse url::Url;\n\nstatic URL_STR : &'static str = \"rtmp://rtmp.jim.stream.vmmacdn.be/vmma-jim-rtmplive-live/jim\";\n\npub fn main() {\n  let url : Url = match from_str(URL_STR) {\n    Ok(u) => { u },\n    Err(e) => { fail!(e) }\n  };\n}\n```\n\n---\n\n```\nC:\\Workspace\\Rust\\rtmp>rustc rtmp.rs\nrtmp.rs:14:3: 14:8 error: mismatched types: expected `std::option::Option<<gener\nic #9>>` but found `std::result::Result<<generic #10>,<generic #11>>` (expected\nenum std::option::Option but found enum std::result::Result)\nrtmp.rs:14              Ok(u) => { u },\n                        ^~~~~\nrtmp.rs:15:3: 15:9 error: mismatched types: expected `std::option::Option<<gener\nic #9>>` but found `std::result::Result<<generic #12>,<generic #13>>` (expected\nenum std::option::Option but found enum std::result::Result)\nrtmp.rs:15              Err(e) => { fail!(e) }\n                        ^~~~~~\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://static.rust-lang.org/doc/master/c\nomplement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'index out of bounds: the len is 0 but the index is 1', C\n:\\bot\\slave\\nightly-win\\build\\src\\librustc\\lib.rs:1\n```\n\n---\n\n```\n(gdb) backtrace\n#0  0x01a5eda0 in rust_fail ()\n#1  0x01a5ed86 in rt::unwind::Unwinder::begin_unwind::hb99b9930de05a957o89::v0.11.pre ()\n#2  0x019cd67c in rt::unwind::begin_unwind_inner::hb85dcf0cebc737adBja::v0.11.pre ()\n#3  0x019cc81b in rt::unwind::begin_unwind::h188e758c53cd36c0bja::v0.11.pre ()\n#4  0x01a5ef5d in rt::unwind::begin_unwind_raw::h360336aeed85ca76Kga::v0.11.pre ()\n#5  0x019cbae8 in rt::unwind::fail_::h18214f1fb3961c4aoea::v0.11.pre ()\n#6  0x01a5ef9e in rt::unwind::fail_bounds_check::closure.40110 ()\n#7  0x019cdb48 in rt::unwind::fail_bounds_check::h9caa8f8cd6799ebfLea::v0.11.pre ()\n#8  0x0065e9bd in middle::typeck::check::vtable::lookup_vtables_for_param::closure.65591 ()\n#9  0x005a5b5e in middle::ty::each_bound_trait_and_supertraits::hce56f0e9060079a2p9P::v0.11.pre ()\n#10 0x0065daa2 in middle::typeck::check::vtable::lookup_vtables_for_param::h9615e1ef447a395aIW0::v0.11.pre ()\n#11 0x0065c85a in middle::typeck::check::vtable::lookup_vtables::hf61f6da2c2cbb5564L0::v0.11.pre ()\n#12 0x00668878 in middle::typeck::check::vtable::early_resolve_expr::closure.65740 ()\n#13 0x006682a8 in middle::typeck::check::FnCtxt$LT$$x27a$GT$::opt_node_ty_substs::h74ecc5ed8975d730gR8::v0.11.pre ()\n#14 0x006668a2 in middle::typeck::check::vtable::early_resolve_expr::h1f5d125d2b0415daJC1::v0.11.pre ()\n#15 0x006e9776 in middle::typeck::check::check_expr_with_unifier::check_argument_types::hd08d5daaac11b9a1uz9::v0.11.pre ()\n#16 0x006e4376 in middle::typeck::check::check_expr_with_unifier::h7b2b775cbc9c3690sv9::v0.11.pre ()\n#17 0x006c25ae in middle::typeck::check::check_block_with_expected::hb65c5825c311effdxQb::v0.11.pre ()\n#18 0x006e0ef6 in middle::typeck::check::check_expr_with_unifier::h7b2b775cbc9c3690sv9::v0.11.pre ()\n#19 0x0064f1bc in middle::typeck::check::_match::check_match::hfe66e5f41fa7611aFHZ::v0.11.pre ()\n#20 0x006e0d6f in middle::typeck::check::check_expr_with_unifier::h7b2b775cbc9c3690sv9::v0.11.pre ()\n#21 0x006fad26 in middle::typeck::check::check_decl_local::h264e53a44c6d8128EKb::v0.11.pre ()\n#22 0x006fafe4 in middle::typeck::check::check_stmt::h1d228fe011010403AMb::v0.11.pre ()\n#23 0x006c2387 in middle::typeck::check::check_block_with_expected::hb65c5825c311effdxQb::v0.11.pre ()\n#24 0x006be4fd in middle::typeck::check::check_fn::hbcd7f63560b4275d3y7::v0.11.pre ()\n#25 0x006bdd52 in middle::typeck::check::check_bare_fn::h8e63a3f4b4b63bfeVo7::v0.11.pre ()\n#26 0x006b9a11 in middle::typeck::check::check_item::h3a16ad723ea326d53G7::v0.11.pre ()\n#27 0x006bdbcd in middle::typeck::check::check_item_types::h5e90e02b5a637cdavo7::v0.11.pre ()\n#28 0x007ea1f4 in middle::typeck::check_crate::closure.70991 ()\n#29 0x007e9c3d in util::common::time::h4eece2a91c4048898Pg::v0.11.pre ()\n#30 0x007e8aff in middle::typeck::check_crate::hf238aaa1a94571ef0bu::v0.11.pre\n    ()\n#31 0x00bb8f45 in driver::driver::phase_3_run_analysis_passes::h83472ccecfdcc978GCe::v0.11.pre ()\n#32 0x00bbfc12 in driver::driver::compile_input::hda7d83b4f81d42b9D1e::v0.11.pre ()\n#33 0x00be34c4 in run_compiler::hcafaeca05b1b783eIxm::v0.11.pre ()\n#34 0x00bf5267 in main_args::closure.92185 ()\n#35 0x00bf3c69 in monitor::closure.92070 ()\n#36 0x00befefe in task::TaskBuilder::try::closure.91842 ()\n#37 0x004274b3 in task::spawn_opts::closure.7691 ()\n#38 0x01a5acac in rt::task::Task::run::closure.40013 ()\n#39 0x01a5ed05 in rt::unwind::Unwinder::try::try_fn::he27cd916ec604645k79::v0.11.pre ()\n#40 0x01a66016 in rust_try ()\n#41 0x01a5ab84 in rt::task::Task::run::hd417a7b2504dfe98eA8::v0.11.pre ()\n#42 0x00427360 in task::spawn_opts::closure.7664 ()\n#43 0x01a5e0ed in rt::thread::thread_start::h63560cc2549b235dWe9::v0.11.pre ()\n#44 0x77601793 in KERNEL32!BaseThreadInitThunk ()\n   from C:\\Windows\\system32\\kernel32.dll\n#45 0x77dfc206 in ?? ()\n#46 0x77dfc1df in ?? ()\n#47 0x00000000 in ?? ()\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/13466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13466/timeline", "performed_via_github_app": null, "state_reason": "completed"}