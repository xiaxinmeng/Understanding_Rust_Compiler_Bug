{"url": "https://api.github.com/repos/rust-lang/rust/issues/32587", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32587/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32587/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32587/events", "html_url": "https://github.com/rust-lang/rust/issues/32587", "id": 144355055, "node_id": "MDU6SXNzdWUxNDQzNTUwNTU=", "number": 32587, "title": "Build failure with rustc nightly", "user": {"login": "zacharyhamm", "id": 1928978, "node_id": "MDQ6VXNlcjE5Mjg5Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1928978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacharyhamm", "html_url": "https://github.com/zacharyhamm", "followers_url": "https://api.github.com/users/zacharyhamm/followers", "following_url": "https://api.github.com/users/zacharyhamm/following{/other_user}", "gists_url": "https://api.github.com/users/zacharyhamm/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacharyhamm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacharyhamm/subscriptions", "organizations_url": "https://api.github.com/users/zacharyhamm/orgs", "repos_url": "https://api.github.com/users/zacharyhamm/repos", "events_url": "https://api.github.com/users/zacharyhamm/events{/privacy}", "received_events_url": "https://api.github.com/users/zacharyhamm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-03-29T18:55:31Z", "updated_at": "2016-03-29T18:56:50Z", "closed_at": "2016-03-29T18:56:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Building redox failed for me with the nightly rust. The error is as follows: \n\n```\nzsh@nucky:~/Hacking/redox$ make qemu\nmkdir -p build/i386-unknown-redox/debug\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/libcore.rlib rust/src/libcore/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/libio.rlib crates/io/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/liballoc_system.rlib liballoc_system/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/liballoc.rlib rust/src/liballoc/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/librustc_unicode.rlib rust/src/librustc_unicode/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/libcollections.rlib rust/src/libcollections/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/librand.rlib rust/src/librand/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/libsystem.rlib crates/system/lib.rs\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -o build/i386-unknown-redox/debug/libstd.rlib libstd/src/lib.rs -L native=libc/lib/\nlibstd/src/num/f32.rs:1024:13: 1024:25 error: floating point constants cannot be used in patterns\nlibstd/src/num/f32.rs:1024             NEG_INFINITY => NEG_INFINITY,\n                                       ^~~~~~~~~~~~\nlibstd/src/num/f32.rs:1024:13: 1024:25 warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\nlibstd/src/num/f32.rs:1024:13: 1024:25 note: for more information, see RFC 1445 <https://github.com/rust-lang/rfcs/pull/1445>\nlibstd/src/lib.rs:48:9: 48:17 note: lint level defined here\nlibstd/src/lib.rs:48 #![deny(warnings)]\n                             ^~~~~~~~\nlibstd/src/num/f64.rs:956:13: 956:25 error: floating point constants cannot be used in patterns\nlibstd/src/num/f64.rs:956             NEG_INFINITY => NEG_INFINITY,\n                                      ^~~~~~~~~~~~\nlibstd/src/num/f64.rs:956:13: 956:25 warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\nlibstd/src/num/f64.rs:956:13: 956:25 note: for more information, see RFC 1445 <https://github.com/rust-lang/rfcs/pull/1445>\nlibstd/src/lib.rs:48:9: 48:17 note: lint level defined here\nlibstd/src/lib.rs:48 #![deny(warnings)]\n                             ^~~~~~~~\nerror: aborting due to 2 previous errors\nMakefile:465: recipe for target 'build/i386-unknown-redox/debug/libstd.rlib' failed\nmake: *** [build/i386-unknown-redox/debug/libstd.rlib] Error 101\n```\n\nThis appears to be related to https://github.com/rust-lang/rfcs/pull/1445\n\nI'm pretty new to Rust, so I didn't try any workaround (like turning off `deny(warnings)`) but I assume that will get it to build.\n\nMy `rustc` version is: `rustc 1.9.0-nightly (d5a91e695 2016-03-26)`\n\nI got this by following the multirust instructions in the book and running `multirust override nightly`\n", "closed_by": {"login": "zacharyhamm", "id": 1928978, "node_id": "MDQ6VXNlcjE5Mjg5Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1928978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacharyhamm", "html_url": "https://github.com/zacharyhamm", "followers_url": "https://api.github.com/users/zacharyhamm/followers", "following_url": "https://api.github.com/users/zacharyhamm/following{/other_user}", "gists_url": "https://api.github.com/users/zacharyhamm/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacharyhamm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacharyhamm/subscriptions", "organizations_url": "https://api.github.com/users/zacharyhamm/orgs", "repos_url": "https://api.github.com/users/zacharyhamm/repos", "events_url": "https://api.github.com/users/zacharyhamm/events{/privacy}", "received_events_url": "https://api.github.com/users/zacharyhamm/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32587/timeline", "performed_via_github_app": null, "state_reason": "completed"}