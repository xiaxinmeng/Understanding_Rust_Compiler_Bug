{"url": "https://api.github.com/repos/rust-lang/rust/issues/23148", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/23148/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/23148/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/23148/events", "html_url": "https://github.com/rust-lang/rust/issues/23148", "id": 60210865, "node_id": "MDU6SXNzdWU2MDIxMDg2NQ==", "number": 23148, "title": "Misspelled \"macro_use\" unknown attribute errors are hidden by undefined macro errors.", "user": {"login": "jakerr", "id": 322861, "node_id": "MDQ6VXNlcjMyMjg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/322861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakerr", "html_url": "https://github.com/jakerr", "followers_url": "https://api.github.com/users/jakerr/followers", "following_url": "https://api.github.com/users/jakerr/following{/other_user}", "gists_url": "https://api.github.com/users/jakerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakerr/subscriptions", "organizations_url": "https://api.github.com/users/jakerr/orgs", "repos_url": "https://api.github.com/users/jakerr/repos", "events_url": "https://api.github.com/users/jakerr/events{/privacy}", "received_events_url": "https://api.github.com/users/jakerr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-07T15:33:02Z", "updated_at": "2018-12-30T12:27:26Z", "closed_at": "2018-12-30T12:27:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Simply misspelling an attribute gives a pretty good error message that would put the user on the right track:\n\n```\n<anon>:1:1: 1:14 error: The attribute `marcro_use` is currently unknown to the the compiler and may have meaning added to it in the future\n<anon>:1 #[marcro_use]\n         ^~~~~~~~~~~~~\n<anon>:1:14: 1:14 help: add #![feature(custom_attribute)] to the crate attributes to enable\n```\n\nHowever, in the case of `#[macro_use]` misspelling it **and also** attempting to use macros from the import cause the \"undefined macro\" error to show up, but the \"unknown attribute\" error to no longer appear so it can be hard to find why the macro appears missing.\n\nFor example:\n\n``` rust\n#[marcro_use]\nmod mymac {\n    #[macro_export]\n    macro_rules! pl {\n        () => {\n            println!(\"Macro!\")\n        }\n    }\n}\n\nfn main(){\n    pl!();\n}\n```\n\nProduces only this error:\n\n```\n<anon>:12:5: 12:7 error: macro undefined: 'pl!'\n<anon>:12     pl!();\n              ^~\nerror: aborting due to previous error\nplaypen: application terminated with error code 101\n```\n\nI'm embarrassed to say it took me about 30 minutes of debugging to find out why I couldn't import macros from a crate I was depending on but could from my own modules. It turned out I'd just made the typo above. \n", "closed_by": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/23148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/23148/timeline", "performed_via_github_app": null, "state_reason": "completed"}