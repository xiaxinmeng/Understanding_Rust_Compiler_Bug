{"url": "https://api.github.com/repos/rust-lang/rust/issues/111256", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/111256/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/111256/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/111256/events", "html_url": "https://github.com/rust-lang/rust/issues/111256", "id": 1697885095, "node_id": "I_kwDOAAsO6M5lM6un", "number": 111256, "title": "tests\\ui\\native-library-link-flags\\msvc-non-utf8-output.rs fails with lld-link as the linker", "user": {"login": "danakj", "id": 342377, "node_id": "MDQ6VXNlcjM0MjM3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/342377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danakj", "html_url": "https://github.com/danakj", "followers_url": "https://api.github.com/users/danakj/followers", "following_url": "https://api.github.com/users/danakj/following{/other_user}", "gists_url": "https://api.github.com/users/danakj/gists{/gist_id}", "starred_url": "https://api.github.com/users/danakj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danakj/subscriptions", "organizations_url": "https://api.github.com/users/danakj/orgs", "repos_url": "https://api.github.com/users/danakj/repos", "events_url": "https://api.github.com/users/danakj/events{/privacy}", "received_events_url": "https://api.github.com/users/danakj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-05-05T16:30:23Z", "updated_at": "2023-05-08T10:27:36Z", "closed_at": "2023-05-08T10:27:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This test is either new or changed recently, it now fails when using -Clinker=lld-link\r\n\r\nExample build failure on Chromium CI: https://logs.chromium.org/logs/chromium/buildbucket/cr-buildbucket/8781936910784713969/+/u/package_rust/stdout\r\n\r\n```\r\n  diff of stderr:\r\n  \r\n  -\terror: linking with `link.exe` failed: exit code: 1181\r\n  +\terror: linking with `C:\\b\\s\\w\\ir\\cache\\builder\\src\\third_party\\rust-toolchain-intermediate\\llvm-host-install\\bin/lld-link` failed: exit code: 1\r\n  2\t   |\r\n  -\t   = note: LINK : fatal error LNK1181: cannot open input file 'm\u00e4rchenhaft.obj'\r\n  +\t   = note: lld-link: error: could not open 'm\u00e4rchenhaft': no such file or directory\r\n  4\t           \r\n  5\t\r\n  6\terror: aborting due to previous error\r\n```\r\n\r\nThe test has link.exe error messages hardcoded into it, which are wrong when not using link.exe.\r\n\r\nWe can disable this test when not using link.exe but it would be much better to make the error checking more flexible or explicitly define an output for ldd-link.\r\n\r\nHow would one go about the latter?", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/111256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/111256/timeline", "performed_via_github_app": null, "state_reason": "completed"}