{"url": "https://api.github.com/repos/rust-lang/rust/issues/20506", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20506/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20506/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20506/events", "html_url": "https://github.com/rust-lang/rust/issues/20506", "id": 53325338, "node_id": "MDU6SXNzdWU1MzMyNTMzOA==", "number": 20506, "title": "ICE type of value must be know in this context", "user": {"login": "pentlander", "id": 4499912, "node_id": "MDQ6VXNlcjQ0OTk5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4499912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pentlander", "html_url": "https://github.com/pentlander", "followers_url": "https://api.github.com/users/pentlander/followers", "following_url": "https://api.github.com/users/pentlander/following{/other_user}", "gists_url": "https://api.github.com/users/pentlander/gists{/gist_id}", "starred_url": "https://api.github.com/users/pentlander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pentlander/subscriptions", "organizations_url": "https://api.github.com/users/pentlander/orgs", "repos_url": "https://api.github.com/users/pentlander/repos", "events_url": "https://api.github.com/users/pentlander/events{/privacy}", "received_events_url": "https://api.github.com/users/pentlander/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-04T04:57:41Z", "updated_at": "2015-01-12T04:40:23Z", "closed_at": "2015-01-12T04:40:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Arch linux\n\n```\nrustc 0.13.0-nightly (c89417130 2015-01-02 21:56:13 +0000)\nbinary: rustc\ncommit-hash: c89417130f042c58adc60012e7cddc4ef70b70b9\ncommit-date: 2015-01-02 21:56:13 +0000\nhost: x86_64-unknown-linux-gnu\nrelease: 0.13.0-nightly\n```\n\n``` rust\nuse std::io;\n\n struct Dice {\n     num: uint,\n     size: uint,\n }   \n\n fn parse_input(input: &str) -> Dice {\n     let results = input.split('d').map(|num| num.parse::<uint>()).collect();\n     println!(\"{}\", results);                  \n     Dice {num: results[0], size: results[1]}  \n }                                             \n\n fn main() {\n     let input = io::stdin.read_line().ok();   \n     let a = parse_input(input);\n     println!(\"{}\", a.num);\n }\n```\n\n```\nmain.rs:11:16: 11:26 error: the type of this value must be known in this context\nmain.rs:11     Dice {num: results[0], size: results[1]}\n                          ^~~~~~~~~~\nerror: internal compiler error: no type for node 48: expr 1 (id=48) in fcx 0x7f3de57ec4b8\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libsyntax/diagnostic.rs:182\n\nstack backtrace:\n   1:     0x7f3ded0423e0 - sys::backtrace::write::h07654db4c803799asit\n   2:     0x7f3ded067c10 - failure::on_fail::hcaec3177bc42e928Tuz\n   3:     0x7f3decfcd2d0 - rt::unwind::begin_unwind_inner::hb226e8b72f3e677ey9y\n   4:     0x7f3de8152e30 - rt::unwind::begin_unwind::h4014735294015536206\n   5:     0x7f3de81536e0 - diagnostic::Handler::bug::h05b38468732b1c1dzLF\n   6:     0x7f3deb1fbb30 - session::Session::bug::h6e1b76961f7f6c6eh8p\n   7:     0x7f3dec610a40 - check::FnCtxt<'a, 'tcx>::node_ty::h148c45f33d9b05bbhul\n   8:     0x7f3dec625f10 - check::writeback::WritebackCx<'cx, 'tcx>::visit_node_id::haedae18a10f6507bGDb\n   9:     0x7f3dec6221a0 - check::writeback::WritebackCx<'cx, 'tcx>.Visitor<'v>::visit_expr::h91e8e5224f7dbfd6Gtb\n  10:     0x7f3dec6221a0 - check::writeback::WritebackCx<'cx, 'tcx>.Visitor<'v>::visit_expr::h91e8e5224f7dbfd6Gtb\n  11:     0x7f3dec6ebb20 - check::check_bare_fn::h8ccefd5610a5a146goj\n  12:     0x7f3dec6e30c0 - check::check_item::h39fb2bbe81c824a9SGj\n  13:     0x7f3dec8839d0 - check_crate::unboxed_closure.39848\n  14:     0x7f3dec87e620 - check_crate::hb52a41bcb9b55409Vlx\n  15:     0x7f3ded592620 - driver::phase_3_run_analysis_passes::h33329f43054c2979Tva\n  16:     0x7f3ded580ac0 - driver::compile_input::h88016b50923aff2bwba\n  17:     0x7f3ded64be00 - thunk::F.Invoke<A, R>::invoke::h18199457566815101468\n  18:     0x7f3ded64abb0 - rt::unwind::try::try_fn::h5958693639131164017\n  19:     0x7f3ded0ce510 - rust_try_inner\n  20:     0x7f3ded0ce500 - rust_try\n  21:     0x7f3ded64af00 - thunk::F.Invoke<A, R>::invoke::h2060855259774067648\n  22:     0x7f3ded053f50 - sys::thread::thread_start::hb5d2265d5cf58673y8v\n  23:     0x7f3de7977250 - start_thread\n  24:     0x7f3decc83219 - clone\n  25:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20506/timeline", "performed_via_github_app": null, "state_reason": "completed"}