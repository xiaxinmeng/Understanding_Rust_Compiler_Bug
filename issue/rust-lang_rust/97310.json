{"url": "https://api.github.com/repos/rust-lang/rust/issues/97310", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/97310/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/97310/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/97310/events", "html_url": "https://github.com/rust-lang/rust/issues/97310", "id": 1244932160, "node_id": "I_kwDOAAsO6M5KNChA", "number": 97310, "title": "rustdoc: link from a private item to a private item in a different module", "user": {"login": "ppentchev", "id": 453114, "node_id": "MDQ6VXNlcjQ1MzExNA==", "avatar_url": "https://avatars.githubusercontent.com/u/453114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppentchev", "html_url": "https://github.com/ppentchev", "followers_url": "https://api.github.com/users/ppentchev/followers", "following_url": "https://api.github.com/users/ppentchev/following{/other_user}", "gists_url": "https://api.github.com/users/ppentchev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppentchev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppentchev/subscriptions", "organizations_url": "https://api.github.com/users/ppentchev/orgs", "repos_url": "https://api.github.com/users/ppentchev/repos", "events_url": "https://api.github.com/users/ppentchev/events{/privacy}", "received_events_url": "https://api.github.com/users/ppentchev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 1118567289, "node_id": "MDU6TGFiZWwxMTE4NTY3Mjg5", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-intra-doc-links", "name": "A-intra-doc-links", "color": "f7e101", "default": false, "description": "Area: Intra-doc links, the ability to link to items in docs by name"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-23T10:17:12Z", "updated_at": "2022-06-20T04:42:49Z", "closed_at": "2022-06-20T04:42:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst of all, thanks a lot for working on Rust and the related projects!\r\n\r\nIf I'm reading https://rust-lang.github.io/rfcs/1946-intra-rustdoc-links.html#links-to-private-items correctly, then the documentation of a private item should be able to link to the documentation of another private item. This works if both items are in the same module, but for the (somewhat convoluted) code that I've put up [in a GitLab repository](https://gitlab.com/ppentchev/rust-bug-doc-link-private) it seems to fail: rustdoc cannot generate a link to [the process::State structure](https://gitlab.com/ppentchev/rust-bug-doc-link-private/-/blob/main/src/process.rs#L35) when documenting [the defs::do_clean() function](https://gitlab.com/ppentchev/rust-bug-doc-link-private/-/blob/main/src/defs.rs#L36).\r\n\r\nThe current output is:\r\n\r\n```\r\n Documenting bug-doc-link-private v0.1.0 (/home/roam/lang/rust/misc/bug-doc-link-private)\r\nwarning: unresolved link to `self::process::State`\r\n  --> src/defs.rs:40:11\r\n   |\r\n40 | /// the [`crate::process::State`] structure's `value` field to never be incremented.\r\n   |           ^^^^^^^^^^^^^^^^^^^^^ no item named `State` in module `process`\r\n   |\r\n   = note: `#[warn(rustdoc::broken_intra_doc_links)]` on by default\r\n```\r\n\r\nFWIW, this happens with Rust 1.61.0:\r\n```\r\nrustc 1.61.0 (fe5b13d68 2022-05-18)\r\nbinary: rustc\r\ncommit-hash: fe5b13d681f25ee6474be29d748c65adcd91f69e\r\ncommit-date: 2022-05-18\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.61.0\r\nLLVM version: 14.0.0\r\n```\r\n\r\n\r\nThanks again, and keep up the great work!\r\n", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/97310/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/97310/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}