{"url": "https://api.github.com/repos/rust-lang/rust/issues/32335", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32335/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32335/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32335/events", "html_url": "https://github.com/rust-lang/rust/issues/32335", "id": 141864883, "node_id": "MDU6SXNzdWUxNDE4NjQ4ODM=", "number": 32335, "title": "Compiler panic", "user": {"login": "aseyboldt", "id": 1882397, "node_id": "MDQ6VXNlcjE4ODIzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aseyboldt", "html_url": "https://github.com/aseyboldt", "followers_url": "https://api.github.com/users/aseyboldt/followers", "following_url": "https://api.github.com/users/aseyboldt/following{/other_user}", "gists_url": "https://api.github.com/users/aseyboldt/gists{/gist_id}", "starred_url": "https://api.github.com/users/aseyboldt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aseyboldt/subscriptions", "organizations_url": "https://api.github.com/users/aseyboldt/orgs", "repos_url": "https://api.github.com/users/aseyboldt/repos", "events_url": "https://api.github.com/users/aseyboldt/events{/privacy}", "received_events_url": "https://api.github.com/users/aseyboldt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-18T13:24:57Z", "updated_at": "2017-05-02T12:19:22Z", "closed_at": "2017-05-02T12:19:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "rustc 1.7.0 panics on this code using https://github.com/netvl/xml-rs:\n\n``` rust\nextern crate xml;\n\nuse xml::reader::XmlEvent;\n\nstruct Foo {\n    tmp: XmlEvent::StartDocument\n}\n```\n\nI'm using the arch linux package of cargo and rust:\n\n```\n$ rustc --version --verbose\nrustc 1.7.0\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nhost: x86_64-unknown-linux-gnu\nrelease: 1.7.0\n```\n\nbacktrace:\n\n```\nRUST_BACKTRACE=1 cargo build                                                                                                                                  :(\n   Compiling mzml v0.1.0 (file:///home/adr/git/QBiC/mzml-rs)\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', src/libcore/option.rs:330\nstack backtrace:\n   1:     0x7f53c9831ac0 - sys::backtrace::tracing::imp::write::h19a75f57079ca7d6Eju\n   2:     0x7f53c9838965 - panicking::default_handler::_<closure>::closure.42502\n   3:     0x7f53c98383ce - panicking::default_handler::heecbc8b8a021fa9bGwy\n   4:     0x7f53c9801186 - sys_common::unwind::begin_unwind_inner::hd4253a1812044857bct\n   5:     0x7f53c9801b88 - sys_common::unwind::begin_unwind_fmt::h281339998baa4cbdhbt\n   6:     0x7f53c982f8f1 - rust_begin_unwind\n   7:     0x7f53c98782bf - panicking::panic_fmt::h0d7335d3d6686f32zYL\n   8:     0x7f53c9878db8 - panicking::panic::h64c7ea62c5c222316WL\n   9:     0x7f53c8c348c4 - astconv::finish_resolving_def_to_ty::h222b4e72d7249e64gdw\n  10:     0x7f53c8bdc640 - astconv::ast_ty_to_ty::h5ae146dd47eb55e0Kew\n  11:     0x7f53c8cb6d2c - collect::convert_field::h0fad19dff0dc9a419Ox\n  12:     0x7f53c8ca4788 - collect::convert_item::hca74eee61cc53108hUx\n  13:     0x7f53c8ca290d - collect::CollectItemTypesVisitor<'a, 'tcx>.intravisit..Visitor<'v>::visit_item::h94fc315c258fbbe1Pjx\n  14:     0x7f53c8ba57fd - collect::collect_item_types::h8760836d5303318edcx\n  15:     0x7f53c8ba19e9 - check_crate::he83b63c674cfb338rNC\n  16:     0x7f53c9d52257 - driver::phase_3_run_analysis_passes::_<closure>::closure.26763\n  17:     0x7f53c9d38f4d - middle::ty::context::ctxt<'tcx>::create_and_enter::h9886975242668009234\n  18:     0x7f53c9d34842 - driver::phase_3_run_analysis_passes::h4778203650522424616\n  19:     0x7f53c9d053bb - driver::compile_input::hbc7144eff304cc7enca\n  20:     0x7f53c9cf691b - run_compiler::h9947f6ff221ed46f7wc\n  21:     0x7f53c9cf3751 - sys_common::unwind::try::try_fn::h15363083919275164358\n  22:     0x7f53c982f888 - __rust_try\n  23:     0x7f53c982709b - sys_common::unwind::try::inner_try::ha2ff38ef4cd20984J8s\n  24:     0x7f53c9cf3ab0 - boxed::F.FnBox<A>::call_box::h16963941508860420611\n  25:     0x7f53c9836b33 - sys::thread::Thread::new::thread_start::h75fdeb8aaf6deb4eCtx\n  26:     0x7f53c3004423 - start_thread\n  27:     0x7f53c94b6cbc - clone\n  28:                0x0 - <unknown>\n```\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32335/timeline", "performed_via_github_app": null, "state_reason": "completed"}