{"url": "https://api.github.com/repos/rust-lang/rust/issues/39954", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39954/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39954/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39954/events", "html_url": "https://github.com/rust-lang/rust/issues/39954", "id": 208707318, "node_id": "MDU6SXNzdWUyMDg3MDczMTg=", "number": 39954, "title": "Tracking issue for 1.0.0 tracking issues", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37977651, "node_id": "MDU6TGFiZWwzNzk3NzY1MQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/metabug", "name": "metabug", "color": "5319e7", "default": false, "description": "Issues about issues themselves (\"bugs about bugs\")"}, {"id": 650846969, "node_id": "MDU6TGFiZWw2NTA4NDY5Njk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-tracking-issue", "name": "C-tracking-issue", "color": "f5f1fd", "default": false, "description": "Category: A tracking issue for an RFC or an unstable feature."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-02-19T10:01:57Z", "updated_at": "2022-03-18T14:34:10Z", "closed_at": "2022-03-18T14:34:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the months before Rust 1.0, the [stability](https://blog.rust-lang.org/2014/10/30/Stability.html) mechanism was introduced. At first all of the standard library was marked as unstable, then features were stabilized one by one.\r\n\r\nI was curious what remains from that time that is still unstable today. I got some data by running:\r\n\r\n```sh\r\ngrep 'active.*1\\.0\\.0\", Some' src/libsyntax/feature_gate.rs\r\n```\r\n\r\nTo get them out of the way, I expect these feature gates to be made obsolete (deprecated and eventually removed) by procedural macros 2.0 (#38356):\r\n\r\n* [ ] `log_syntax` #29598\r\n* [ ] `trace_macros` #29598\r\n* [x] `macro_reexport` #29638\r\n* [ ] `plugin` #29597\r\n* [ ] `plugin_registrar` #29597\r\n* [x] `custom_attribute` #29642\r\n* [x] `custom_derive` #29644\r\n* [x] `rustc_attrs` #29642\r\n* [x] `quote` #29601\r\n\r\nThese have also been proposed for deprecation:\r\n\r\n* [x] `main` #29634\r\n* [x] `placement_in_syntax` #27779 (feature removed)\r\n* [ ] `box_syntax` ~~#27779~~ #49733\r\n* [ ] `box_patterns` #29641\r\n\r\nThese are \"permanently unstable\":\r\n\r\n* `link_llvm_intrinsics` #29602\r\n* `fundamental` #29635\r\n\r\nWhich leaves feature flags dating from 1.0.0, that are still unstable ~today~ as of 2017-02-19, and that have some likelihood of being stabilized in the future:\r\n\r\n* [ ] `start` #29633\r\n* [x] `link_args` #29596\r\n* [ ] `linkage` #29603\r\n* [x] `asm` #29722\r\n* [ ] `simd` #27731\r\n* [ ] `simd_ffi` #27731\r\n* [x] `allocator` #27389\r\n* [ ] `thread_local` #29594\r\n* [ ] `unboxed_closures` #29625\r\n* [ ] `concat_idents` #29599\r\n* [x] `non_ascii_idents` ~~#28979~~ https://github.com/rust-lang/rust/issues/55467\r\n* [ ] `optin_builtin_traits` #13231\r\n* [x] `on_unimplemented` #29628\r\n* [x] `associated_consts` #29646\r\n* [x] `slice_patterns` #23121\r\n* [x] `advanced_slice_patterns` #23121\r\n\r\n(Individual features should be discussed in their respective tracking issues.)\r\n\r\n**Edit**: I realized that `feature_gate.rs` does not include library features, so I got more data:\r\n\r\n```sh\r\n./x.py test src/tools/tidy | grep unstable | grep None | cut -d' ' -f2 | sort > /tmp/now\r\n```\r\n\r\nAnd in a checkout of the `1.0.0` git tag:\r\n\r\n```sh\r\nrg '#\\[unstable' | grep -o 'feature *= *\"[^\"]*\"' | cut -d\\\" -f2 | sort -u > /tmp/1.0.0\r\n```\r\n\r\nGot the intersection (`com -12 /tmp/now /tmp/1.0.0`), and looked manually to remove deprecated features and implementation details, and add tracking issue numbers. This leaves these feature flags:\r\n\r\n* [x] `alloc` #27783\r\n* [x] `collections` ~~#27783 (reexported stable in `std`, but could still be useful with `#![no_std]`)~~ Merged into `alloc`.\r\n* [x] `unicode` #27783 (*mostly* reexported stable in `std`)\r\n* [x] `io` #27802\r\n* [x] `lookup_host` #27705\r\n* [x] ~~`set_stdio` (No tracking issue! Despite being useful for example to external test harnesses)~~ (gone)\r\n* [x] `step_by` #27741\r\n* [ ] `step_trait` ~#27741~ https://github.com/rust-lang/rust/issues/42168\r\n* [x] `nonzero` #27730", "closed_by": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39954/reactions", "total_count": 9, "+1": 0, "-1": 0, "laugh": 2, "hooray": 0, "confused": 0, "heart": 7, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39954/timeline", "performed_via_github_app": null, "state_reason": "completed"}