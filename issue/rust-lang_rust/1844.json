{"url": "https://api.github.com/repos/rust-lang/rust/issues/1844", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1844/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1844/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1844/events", "html_url": "https://github.com/rust-lang/rust/issues/1844", "id": 3227020, "node_id": "MDU6SXNzdWUzMjI3MDIw", "number": 1844, "title": "RFC: Destructuring vectors syntax", "user": {"login": "ashgti", "id": 22535, "node_id": "MDQ6VXNlcjIyNTM1", "avatar_url": "https://avatars.githubusercontent.com/u/22535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashgti", "html_url": "https://github.com/ashgti", "followers_url": "https://api.github.com/users/ashgti/followers", "following_url": "https://api.github.com/users/ashgti/following{/other_user}", "gists_url": "https://api.github.com/users/ashgti/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashgti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashgti/subscriptions", "organizations_url": "https://api.github.com/users/ashgti/orgs", "repos_url": "https://api.github.com/users/ashgti/repos", "events_url": "https://api.github.com/users/ashgti/events{/privacy}", "received_events_url": "https://api.github.com/users/ashgti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36956, "node_id": "MDU6TGFiZWwzNjk1Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-frontend", "name": "A-frontend", "color": "f7e101", "default": false, "description": "Area: frontend (errors, parsing and HIR)"}, {"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/4", "html_url": "https://github.com/rust-lang/rust/milestone/4", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/4/labels", "id": 14773, "node_id": "MDk6TWlsZXN0b25lMTQ3NzM=", "number": 4, "title": "old 1.0 milestone", "description": "this milestone used to be tracking \"1.0\" bugs in aggregate; we've now broken them down into various maturity milestones so it's no longer relevant.", "creator": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 297, "state": "closed", "created_at": "2011-06-08T18:20:12Z", "updated_at": "2013-07-18T01:03:49Z", "due_on": null, "closed_at": "2013-07-18T01:03:49Z"}, "comments": 9, "created_at": "2012-02-14T22:14:31Z", "updated_at": "2013-02-07T23:01:36Z", "closed_at": "2013-02-07T23:01:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently its possible to destructure tuples, records, and enums in let's and alt patterns. It could be useful to also destructure vectors as well, plus it would feel more consistent.\n\nThe obvious goal would be to do something like this:\n\n```\nfn foldr<A, B>(func: fn(A, B) -> B,\n               initValue: B,\n               vals: [A]) -> B {\n  alt vals { \n    [] { ret initValue; }\n    [head, tail...]  { ret foldr(func, func(initValue, head), tail); }\n  }\n}\n```\n\nI am not sure of the syntax exactly but it would be useful to be able to destructure vectors at least in some way. \n\nAnother example of why this might be useful:\n\n```\nfn ever_other_element<A>(vals: [A]) -> [A] {\n  alt vals {\n    [head, _, rest...] { ret [head] + ever_other_element(rest); }\n    [head, _] {  ret [head]; }\n    _ { ret []; }\n  }\n}\n```\n\nCould be expressed as:\n\n```\nfn ever_other_element<A>(vals: [A]) -> [A] {\n  if vec::len(vals) > 2 {\n    let head = vals[0],\n        rest = vec::tail(vec::tail(vals));\n    ret [head] + ever_other_element(rest);\n  }\n  else if vect::len(vals) == 2 {\n    let head = vals[0];\n    ret [head];\n  }\n  else {\n    ret [];\n  }\n}\n```\n\nIn my samples I am assuming that in this expression: `[head, tail...]`; `head` matches 1 element and `tail` matches 0+ elements. \n\nBut, the difference is just that using pattern matching makes this a lot more readable. If this should apply to lists instead of vectors, let me know, but list's are in the core:: they are in std:: so, my assumption is that it makes more sense for vec to work this way.\n", "closed_by": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/1844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1844/timeline", "performed_via_github_app": null, "state_reason": "completed"}