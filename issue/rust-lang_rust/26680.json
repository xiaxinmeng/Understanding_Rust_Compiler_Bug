{"url": "https://api.github.com/repos/rust-lang/rust/issues/26680", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26680/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26680/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26680/events", "html_url": "https://github.com/rust-lang/rust/issues/26680", "id": 92095571, "node_id": "MDU6SXNzdWU5MjA5NTU3MQ==", "number": 26680, "title": "Default associated types defined in terms of other associated types don't work.", "user": {"login": "michaelsproul", "id": 4452260, "node_id": "MDQ6VXNlcjQ0NTIyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelsproul", "html_url": "https://github.com/michaelsproul", "followers_url": "https://api.github.com/users/michaelsproul/followers", "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}", "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions", "organizations_url": "https://api.github.com/users/michaelsproul/orgs", "repos_url": "https://api.github.com/users/michaelsproul/repos", "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelsproul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-06-30T13:31:48Z", "updated_at": "2015-07-04T06:54:00Z", "closed_at": "2015-07-04T06:54:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was trying to do something like this:\n\n``` rust\npub trait Thing {\n    type Key;\n    type Value;\n    type KV = (Self::Key, Self::Value);\n\n    fn get_key(kv: Self::KV) -> Self::Key {\n        kv.0\n    }\n}\n\nstruct U32Thing;\nimpl Thing for U32Thing {\n    type Key = u32;\n    type Value = u32;\n}\n\nfn main() {\n    println!(\"{}\", U32Thing::get_key((45, 0)));\n}\n```\n\nIt fails on nightly with the following message:\n\n```\n$ rustc -V\nrustc 1.3.0-nightly (faa04a8b9 2015-06-30)\n$ rustc test.rs\ntest.rs:7:9: 7:13 error: attempted tuple index `0` on type `<Self as Thing>::KV`, but the type was not a tuple or tuple struct\ntest.rs:7         kv.0\n                  ^~~~\nerror: aborting due to previous error\n```\n\nMy intention was for the `Self::KV` type to act as a local type alias (typically not override by implementers). From the [RFC](https://github.com/rust-lang/rfcs/blob/master/text/0195-associated-items.md#defaults) I got the impression that this should be supported:\n\n> We deal with this in a very simple way:\n> - If a trait implementor overrides any default associated types, they must also override all default functions and methods.\n> - Otherwise, a trait implementor can selectively override individual default methods/functions, as they can today.\n", "closed_by": {"login": "michaelsproul", "id": 4452260, "node_id": "MDQ6VXNlcjQ0NTIyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelsproul", "html_url": "https://github.com/michaelsproul", "followers_url": "https://api.github.com/users/michaelsproul/followers", "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}", "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions", "organizations_url": "https://api.github.com/users/michaelsproul/orgs", "repos_url": "https://api.github.com/users/michaelsproul/repos", "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelsproul/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/26680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26680/timeline", "performed_via_github_app": null, "state_reason": "completed"}