{"url": "https://api.github.com/repos/rust-lang/rust/issues/110462", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/110462/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/110462/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/110462/events", "html_url": "https://github.com/rust-lang/rust/issues/110462", "id": 1671676085, "node_id": "I_kwDOAAsO6M5jo8C1", "number": 110462, "title": "`rustc --help` should define `SPEC`", "user": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-17T17:45:01Z", "updated_at": "2023-04-26T10:30:03Z", "closed_at": "2023-04-26T10:30:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`--cfg SPEC` in rustc's help message isn't particularly helpful. Especially as `SPEC` isn't actually that complicated but does have [very weird syntax](https://doc.rust-lang.org/rustc/command-line-arguments.html#--cfg-configure-the-compilation-environment) that could use at least a brief description.\r\n\r\n```text\r\n> rustc --help\r\nUsage: rustc [OPTIONS] INPUT\r\n\r\nOptions:\r\n    -h, --help          Display this message\r\n        --cfg SPEC      Configure the compilation environment\r\n    -L [KIND=]PATH      Add a directory to the library search path. The\r\n                        optional KIND can be one of dependency, crate, native,\r\n                        framework, or all (the default).\r\n    -l [KIND[:MODIFIERS]=]NAME[:RENAME]\r\n                        Link the generated crate(s) to the specified native\r\n                        library NAME. The optional KIND can be one of\r\n                        static, framework, or dylib (the default).\r\n                        Optional comma separated MODIFIERS\r\n                        (bundle|verbatim|whole-archive|as-needed)\r\n                        may be specified each with a prefix of either '+' to\r\n                        enable or '-' to disable.\r\n        --crate-type [bin|lib|rlib|dylib|cdylib|staticlib|proc-macro]\r\n                        Comma separated list of types of crates\r\n                        for the compiler to emit\r\n        --crate-name NAME\r\n                        Specify the name of the crate being built\r\n        --edition 2015|2018|2021|2024\r\n                        Specify which edition of the compiler to use when\r\n                        compiling code. The default is 2015 and the latest\r\n                        stable edition is 2021.\r\n        --emit [asm|llvm-bc|llvm-ir|obj|metadata|link|dep-info|mir]\r\n                        Comma separated list of types of output for the\r\n                        compiler to emit\r\n        --print [crate-name|file-names|sysroot|target-libdir|cfg|calling-conventions|target-list|target-cpus|target-features|relocation-models|code-models|tls-models|target-spec-json|native-static-libs|stack-protector-strategies|link-args]\r\n                        Compiler information to print on stdout\r\n    -g                  Equivalent to -C debuginfo=2\r\n    -O                  Equivalent to -C opt-level=2\r\n    -o FILENAME         Write output to <filename>\r\n        --out-dir DIR   Write output to compiler-chosen filename in <dir>\r\n        --explain OPT   Provide a detailed explanation of an error message\r\n        --test          Build a test harness\r\n        --target TARGET Target triple for which the code is compiled\r\n    -A, --allow LINT    Set lint allowed\r\n    -W, --warn LINT     Set lint warnings\r\n        --force-warn LINT\r\n                        Set lint force-warn\r\n    -D, --deny LINT     Set lint denied\r\n    -F, --forbid LINT   Set lint forbidden\r\n        --cap-lints LEVEL\r\n                        Set the most restrictive lint level. More restrictive\r\n                        lints are capped at this level\r\n    -C, --codegen OPT[=VALUE]\r\n                        Set a codegen option\r\n    -V, --version       Print version info and exit\r\n    -v, --verbose       Use verbose output\r\n\r\nAdditional help:\r\n    -C help             Print codegen options\r\n    -W help             Print 'lint' options and default settings\r\n    --help -v           Print the full set of options rustc accepts\r\n```\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/110462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/110462/timeline", "performed_via_github_app": null, "state_reason": "completed"}