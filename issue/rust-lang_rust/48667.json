{"url": "https://api.github.com/repos/rust-lang/rust/issues/48667", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48667/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48667/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48667/events", "html_url": "https://github.com/rust-lang/rust/issues/48667", "id": 301786288, "node_id": "MDU6SXNzdWUzMDE3ODYyODg=", "number": 48667, "title": "bootstrap panicked", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-02T14:36:20Z", "updated_at": "2019-08-19T23:13:42Z", "closed_at": "2019-08-19T23:13:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n$ git rev-parse HEAD\r\n9cb18a92ad87852c4c5d6726b8fbe8c38deda4ba\r\n\r\n$ ./x.py build -j 8 -i\r\n# while running and after compiling libstd edit a file of libstd\r\n# while compiling stage 1 librustc press ctrl-C\r\n```\r\n\r\n<details>\r\n<summary>$ ./x.py test -j 8 -i --keep-stage 1 --stage 1 src/test/run-make</summary>\r\n\r\n```\r\n$ ./x.py test -j 8 -i --keep-stage 1 --stage 1 src/test/run-make\r\n    Finished dev [unoptimized] target(s) in 0.11 secs\r\nCopying stage0 std from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nCopying stage0 test from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nCopying stage0 rustc from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nAssembling stage1 compiler (x86_64-apple-darwin)\r\nBuilding stage1 std artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n    Finished release [optimized] target(s) in 0.1 secs\r\nCopying stage1 std from stage1 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nBuilding stage1 test artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n    Finished release [optimized] target(s) in 0.0 secs\r\nCopying stage1 test from stage1 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nBuilding stage1 compiler artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n   Compiling rustc v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc)\r\n   Compiling rustc_incremental v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_incremental)\r\n   Compiling rustc_metadata v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_metadata)\r\n   Compiling rustc_allocator v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_allocator)\r\n   Compiling rustc_const_eval v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_const_eval)\r\n   Compiling rustc_resolve v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_resolve)\r\n   Compiling rustc_typeck v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_typeck)\r\n   Compiling rustc_mir v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_mir)\r\n   Compiling rustc_passes v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_passes)\r\n   Compiling rustc_lint v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_lint)\r\n   Compiling rustc_plugin v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_plugin)\r\n   Compiling rustc_save_analysis v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_save_analysis)\r\n   Compiling rustc_privacy v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_privacy)\r\n   Compiling rustc_trans_utils v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_trans_utils)\r\n   Compiling rustc_borrowck v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_borrowck)\r\n   Compiling rustc_driver v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_driver)\r\n   Compiling rustc-main v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/rustc)\r\n    Finished release [optimized] target(s) in 449.56 secs\r\nCopying stage1 rustc from stage1 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nBuilding test helpers\r\nrunning: \"cc\" \"-O0\" \"-ffunction-sections\" \"-fdata-sections\" \"-fPIC\" \"-m64\" \"-o\" \"/Users/bjorn/Documents/rust-fork/build/x86_64-apple-darwin/native/rust-test-helpers/rust_test_helpers.o\" \"-c\" \"/Users/bjorn/Documents/rust-fork/src/test/auxiliary/rust_test_helpers.c\"\r\nexit code: 0\r\nrunning: \"ar\" \"crs\" \"/Users/bjorn/Documents/rust-fork/build/x86_64-apple-darwin/native/rust-test-helpers/librust_test_helpers.a\" \"/Users/bjorn/Documents/rust-fork/build/x86_64-apple-darwin/native/rust-test-helpers/rust_test_helpers.o\"\r\nexit code: 0\r\nCheck compiletest suite=run-make mode=run-make (x86_64-apple-darwin -> x86_64-apple-darwin)\r\nBuilding stage0 std artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n   Compiling std v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libstd)\r\n    Finished release [optimized] target(s) in 13.16 secs\r\nBuilding stage0 test artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n   Compiling getopts v0.2.15\r\n   Compiling term v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libterm)\r\n   Compiling test v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libtest)\r\n    Finished release [optimized] target(s) in 9.1 secs\r\nBuilding stage0 tool compiletest (x86_64-apple-darwin)\r\n   Compiling utf8-ranges v1.0.0\r\n   Compiling rustc-serialize v0.3.24\r\n   Compiling diff v0.1.11\r\n   Compiling getopts v0.2.15\r\n   Compiling libc v0.2.36\r\n   Compiling lazy_static v1.0.0\r\n   Compiling cfg-if v0.1.2\r\n   Compiling regex-syntax v0.4.2\r\n   Compiling void v1.0.2\r\n   Compiling log v0.4.1\r\n   Compiling unreachable v1.0.0\r\n   Compiling thread_local v0.3.5\r\n   Compiling memchr v2.0.1\r\n   Compiling filetime v0.1.15\r\n   Compiling log v0.3.9\r\n   Compiling aho-corasick v0.6.4\r\n   Compiling env_logger v0.4.3\r\n   Compiling regex v0.2.5\r\n   Compiling compiletest v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/tools/compiletest)\r\n    Finished release [optimized] target(s) in 24.55 secs\r\nBuilding stage0 compiler artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n   Compiling cfg-if v0.1.2\r\n   Compiling fmt_macros v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libfmt_macros)\r\n   Compiling syntax v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libsyntax)\r\n   Compiling lazy_static v0.2.11\r\n   Compiling rustc_metadata v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_metadata)\r\n   Compiling rustc v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc)\r\n   Compiling rustc_driver v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_driver)\r\n   Compiling libc v0.2.36\r\n   Compiling rustc_incremental v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_incremental)\r\n   Compiling rustc_back v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_back)\r\n   Compiling stable_deref_trait v1.0.0\r\n   Compiling cc v1.0.4\r\n   Compiling arena v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libarena)\r\n   Compiling lazy_static v1.0.0\r\n   Compiling rustc-serialize v0.3.24\r\n   Compiling unicode-width v0.1.4\r\n   Compiling graphviz v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libgraphviz)\r\n   Compiling bitflags v1.0.1\r\n   Compiling serialize v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libserialize)\r\n   Compiling rustc_platform_intrinsics v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_platform_intrinsics)\r\n   Compiling rustc-demangle v0.1.5\r\n   Compiling ar v0.3.1\r\n   Compiling byteorder v1.2.1\r\n   Compiling smallvec v0.6.0\r\n   Compiling log v0.4.1\r\n   Compiling log_settings v0.1.1\r\n   Compiling owning_ref v0.3.3\r\n   Compiling rand v0.3.20\r\n   Compiling jobserver v0.1.9\r\n   Compiling rustc_cratesio_shim v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_cratesio_shim)\r\n   Compiling backtrace v0.3.5\r\n   Compiling log v0.3.9\r\n   Compiling rustc_apfloat v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_apfloat)\r\n   Compiling miniz-sys v0.1.10\r\n   Compiling env_logger v0.4.3\r\n   Compiling ena v0.9.1\r\n   Compiling parking_lot_core v0.2.9\r\n   Compiling rls-span v0.4.0\r\n   Compiling rls-data v0.15.0\r\n   Compiling parking_lot v0.5.3\r\n   Compiling flate2 v1.0.1\r\n   Compiling rustc_data_structures v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_data_structures)\r\n   Compiling syntax_pos v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/libsyntax_pos)\r\n   Compiling rustc_errors v0.0.0 (file:///Users/bjorn/Documents/rust-fork/src/librustc_errors)\r\n^C\r\nBuild completed unsuccessfully in 0:09:44\r\n```\r\n\r\n</details>\r\n<br>\r\n\r\n```\r\n$ ./x.py test -j 8 -i --keep-stage 1 --stage 1 src/test/run-make\r\n    Finished dev [unoptimized] target(s) in 0.8 secs\r\nCopying stage0 std from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nCopying stage0 test from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nCopying stage0 rustc from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\nthread 'main' panicked at 'File::open(stamp) failed with No such file or directory (os error 2)', bootstrap/util.rs:71:8\r\nstack backtrace:\r\n   0: std::sys::unix::backtrace::tracing::imp::unwind_backtrace\r\n             at libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1: std::sys_common::backtrace::_print\r\n             at libstd/sys_common/backtrace.rs:71\r\n   2: std::panicking::default_hook::{{closure}}\r\n             at libstd/sys_common/backtrace.rs:59\r\n             at libstd/panicking.rs:380\r\n   3: std::panicking::default_hook\r\n             at libstd/panicking.rs:396\r\n   4: std::panicking::begin_panic\r\n             at libstd/panicking.rs:576\r\n   5: std::panicking::begin_panic\r\n             at libstd/panicking.rs:537\r\n   6: std::panicking::try::do_call\r\n             at libstd/panicking.rs:521\r\n   7: <str as std_unicode::u_str::UnicodeStr>::split_whitespace\r\n             at bootstrap/util.rs:71\r\n   8: bootstrap::compile::add_to_sysroot\r\n             at bootstrap/compile.rs:937\r\n   9: bootstrap::compile::rustc_cargo_env\r\n             at bootstrap/compile.rs:572\r\n  10: bootstrap::builder::Builder::ensure\r\n             at bootstrap/builder.rs:829\r\n  11: bootstrap::compile::compiler_file\r\n             at bootstrap/compile.rs:882\r\n  12: bootstrap::builder::Builder::ensure\r\n             at bootstrap/builder.rs:829\r\n  13: bootstrap::builder::Builder::compiler\r\n             at bootstrap/builder.rs:423\r\n  14: <bootstrap::test::RunFailFullDepsPretty as core::clone::Clone>::clone\r\n             at bootstrap/test.rs:591\r\n  15: bootstrap::builder::StepDescription::maybe_run\r\n             at bootstrap/builder.rs:185\r\n  16: bootstrap::builder::StepDescription::run\r\n             at bootstrap/builder.rs:215\r\n  17: bootstrap::builder::Builder::run\r\n             at bootstrap/builder.rs:410\r\n  18: bootstrap::Crate::local_path\r\n             at bootstrap/lib.rs:392\r\n  19: bootstrap::main\r\n             at bootstrap/bin/main.rs:29\r\n  20: std::rt::lang_start::{{closure}}\r\n             at /Users/travis/build/rust-lang/rust/src/libstd/rt.rs:74\r\n  21: std::panicking::try::do_call\r\n             at libstd/rt.rs:59\r\n             at libstd/panicking.rs:479\r\n  22: panic_unwind::dwarf::eh::read_encoded_pointer\r\n             at libpanic_unwind/lib.rs:102\r\n  23: rust_panic\r\n             at libstd/panicking.rs:458\r\n             at libstd/panic.rs:358\r\n             at libstd/rt.rs:58\r\n  24: std::rt::lang_start\r\n             at /Users/travis/build/rust-lang/rust/src/libstd/rt.rs:74\r\n  25: bootstrap::main\r\nfailed to run: /Users/bjorn/Documents/rust-fork/build/bootstrap/debug/bootstrap test -j 8 -i --keep-stage 1 --stage 1 src/test/run-make\r\nBuild completed unsuccessfully in 0:00:02\r\n```", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48667/timeline", "performed_via_github_app": null, "state_reason": "completed"}