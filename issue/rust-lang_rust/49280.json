{"url": "https://api.github.com/repos/rust-lang/rust/issues/49280", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/49280/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/49280/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/49280/events", "html_url": "https://github.com/rust-lang/rust/issues/49280", "id": 307729884, "node_id": "MDU6SXNzdWUzMDc3Mjk4ODQ=", "number": 49280, "title": "Armv6 builds of rust appear to be armv7 contaminated.", "user": {"login": "plugwash", "id": 3199425, "node_id": "MDQ6VXNlcjMxOTk0MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/3199425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plugwash", "html_url": "https://github.com/plugwash", "followers_url": "https://api.github.com/users/plugwash/followers", "following_url": "https://api.github.com/users/plugwash/following{/other_user}", "gists_url": "https://api.github.com/users/plugwash/gists{/gist_id}", "starred_url": "https://api.github.com/users/plugwash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plugwash/subscriptions", "organizations_url": "https://api.github.com/users/plugwash/orgs", "repos_url": "https://api.github.com/users/plugwash/repos", "events_url": "https://api.github.com/users/plugwash/events{/privacy}", "received_events_url": "https://api.github.com/users/plugwash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 234956, "node_id": "MDU6TGFiZWwyMzQ5NTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-codegen", "name": "A-codegen", "color": "f7e101", "default": false, "description": "Area: Code generation"}, {"id": 55301954, "node_id": "MDU6TGFiZWw1NTMwMTk1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-Arm", "name": "O-Arm", "color": "6e6ec0", "default": false, "description": "Target: 32-bit Arm processors (armv6, armv7, thumb...), including 64-bit Arm in AArch32 state"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-22T16:55:10Z", "updated_at": "2021-06-10T04:29:40Z", "closed_at": "2021-06-10T04:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I maintain Raspbian, a project to re-build Debian armhf for armv6. I have been trying to upgrade the rustc package in Raspbian buster from 1.23 to 1.24.\r\n\r\nWe scan all built packages with readelf to look for armv7 code that has slipped through the net and while buliding rust 1.24 I ran into a couple of files where readelf shows armv7 tags.\r\n\r\n/usr/lib/arm-linux-gnueabihf/librustc_trans-7f6686b7daae4f4c.so\r\n/usr/lib/rustlib/arm-unknown-linux-gnueabihf/lib/librustc_binaryen-70d23131694c64c7.rlib\r\n\r\nIt is possible that this is a false positive, for example the armv7 code could be hidden behind runtime checks. Unfortunately I have been unable to determine where exactly the armv7 tags are coming from (I am not an expert on rust of it's build system by any means). It is also possible that this represents a real bug that will lead to crashes on armv6.\r\n\r\nHelp determining which one it is would be much appreciated.", "closed_by": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/49280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/49280/timeline", "performed_via_github_app": null, "state_reason": "completed"}