{"url": "https://api.github.com/repos/rust-lang/rust/issues/20984", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20984/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20984/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20984/events", "html_url": "https://github.com/rust-lang/rust/issues/20984", "id": 54028437, "node_id": "MDU6SXNzdWU1NDAyODQzNw==", "number": 20984, "title": "Rust Reference still talks about #[deriving(...)], instead of #[derive(...)]", "user": {"login": "jimblandy", "id": 751272, "node_id": "MDQ6VXNlcjc1MTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/751272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimblandy", "html_url": "https://github.com/jimblandy", "followers_url": "https://api.github.com/users/jimblandy/followers", "following_url": "https://api.github.com/users/jimblandy/following{/other_user}", "gists_url": "https://api.github.com/users/jimblandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimblandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimblandy/subscriptions", "organizations_url": "https://api.github.com/users/jimblandy/orgs", "repos_url": "https://api.github.com/users/jimblandy/repos", "events_url": "https://api.github.com/users/jimblandy/events{/privacy}", "received_events_url": "https://api.github.com/users/jimblandy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-12T08:02:48Z", "updated_at": "2015-01-21T01:53:46Z", "closed_at": "2015-01-21T01:53:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It seems that `#[deriving(Show)]` has stopped defining the `Show` trait for structs.\n\nIn the code below, if I remove the `#[cfg(skip)]` before the explicit Show derivation, the program runs correctly.\n\n```\n$ cargo --version\ncargo 0.0.1-pre-nightly (8c01b6b 2015-01-08 20:52:43 +0000)\n$ rustc --version\nrustc 1.0.0-nightly (44a287e6e 2015-01-08 17:03:40 -0800)\n$ cat src/main.rs\nuse std::fmt::{Error, Formatter, Show};\n\n#[deriving(Show)]\nstruct Stuff;\n\n#[cfg(skip)]\nimpl Show for Stuff {\n    fn fmt(&self, f: &mut Formatter) -> Result<(), Error> {\n        f.write_str(\"Stuff()\")\n    }\n}\n\nfn main() {\n    let x = Stuff;\n    assert_eq!(format!(\"{:?}\", x), \"Stuff()\");\n}\n$ cargo run --verbose\n   Compiling bug v0.0.1 (file:///home/jimb/rust/bug)\n     Running `rustc /home/jimb/rust/bug/src/main.rs --crate-name bug --crate-type bin -g --out-dir /home/jimb/rust/bug/target --emit=dep-info,link -L dependency=/home/jimb/rust/bug/target -L dependency=/home/jimb/rust/bug/target/deps`\n/home/jimb/rust/bug/src/main.rs:15:32: 15:33 error: the trait `core::fmt::Show` is not implemented for the type `Stuff`\n/home/jimb/rust/bug/src/main.rs:15     assert_eq!(format!(\"{:?}\", x), \"Stuff()\");\n                                                                  ^\nnote: in expansion of format_args!\n<std macros>:2:28: 2:61 note: expansion site\n<std macros>:1:1: 2:63 note: in expansion of format!\n/home/jimb/rust/bug/src/main.rs:15:16: 15:35 note: expansion site\n<std macros>:1:1: 9:39 note: in expansion of assert_eq!\n/home/jimb/rust/bug/src/main.rs:15:5: 15:47 note: expansion site\nerror: aborting due to previous error\nCould not compile `bug`.\n\nCaused by:\n  Process didn't exit successfully: `rustc /home/jimb/rust/bug/src/main.rs --crate-name bug --crate-type bin -g --out-dir /home/jimb/rust/bug/target --emit=dep-info,link -L dependency=/home/jimb/rust/bug/target -L dependency=/home/jimb/rust/bug/target/deps` (status=101)\n$\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20984/timeline", "performed_via_github_app": null, "state_reason": "completed"}