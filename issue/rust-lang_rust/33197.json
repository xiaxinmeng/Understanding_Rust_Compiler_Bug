{"url": "https://api.github.com/repos/rust-lang/rust/issues/33197", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33197/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33197/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33197/events", "html_url": "https://github.com/rust-lang/rust/issues/33197", "id": 150843584, "node_id": "MDU6SXNzdWUxNTA4NDM1ODQ=", "number": 33197, "title": "Segfault on Nightly in BTreeSet and BTreeMap", "user": {"login": "potocpav", "id": 4094619, "node_id": "MDQ6VXNlcjQwOTQ2MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4094619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/potocpav", "html_url": "https://github.com/potocpav", "followers_url": "https://api.github.com/users/potocpav/followers", "following_url": "https://api.github.com/users/potocpav/following{/other_user}", "gists_url": "https://api.github.com/users/potocpav/gists{/gist_id}", "starred_url": "https://api.github.com/users/potocpav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/potocpav/subscriptions", "organizations_url": "https://api.github.com/users/potocpav/orgs", "repos_url": "https://api.github.com/users/potocpav/repos", "events_url": "https://api.github.com/users/potocpav/events{/privacy}", "received_events_url": "https://api.github.com/users/potocpav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 166999014, "node_id": "MDU6TGFiZWwxNjY5OTkwMTQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-collections", "name": "A-collections", "color": "f7e101", "default": false, "description": "Area: std::collections."}, {"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-04-25T12:35:58Z", "updated_at": "2017-02-19T04:59:45Z", "closed_at": "2017-02-19T04:59:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "An iterator created by `BTreeMap::range`, `BTreeMap::range_mut` and `BTreeSet::range` can wander off of the underlying data and segfault. It is caused by supplying an upper bound that is lower than the lower bound and there is an element between them.\n\nCode to reproduce: http://is.gd/HoNWLH\n\ntested also locally on `rustc 1.10.0-nightly (b5ba5923f 2016-04-21)`.\n\nThe iterator ends when the iterated element equals to the upper bound: https://doc.rust-lang.org/src/collections/up/src/libcollections/btree/map.rs.html#898-908. If the upper bound is lower than the lower bound, this condition is never met. This is not checked for while creating the iterator in https://doc.rust-lang.org/src/collections/up/src/libcollections/btree/map.rs.html#464-588.\n", "closed_by": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33197/timeline", "performed_via_github_app": null, "state_reason": "completed"}