{"url": "https://api.github.com/repos/rust-lang/rust/issues/44271", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/44271/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/44271/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/44271/events", "html_url": "https://github.com/rust-lang/rust/issues/44271", "id": 254820326, "node_id": "MDU6SXNzdWUyNTQ4MjAzMjY=", "number": 44271, "title": "`HashMap` should not take ownership of its keys", "user": {"login": "Binero", "id": 6867251, "node_id": "MDQ6VXNlcjY4NjcyNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6867251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Binero", "html_url": "https://github.com/Binero", "followers_url": "https://api.github.com/users/Binero/followers", "following_url": "https://api.github.com/users/Binero/following{/other_user}", "gists_url": "https://api.github.com/users/Binero/gists{/gist_id}", "starred_url": "https://api.github.com/users/Binero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Binero/subscriptions", "organizations_url": "https://api.github.com/users/Binero/orgs", "repos_url": "https://api.github.com/users/Binero/repos", "events_url": "https://api.github.com/users/Binero/events{/privacy}", "received_events_url": "https://api.github.com/users/Binero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-02T16:06:42Z", "updated_at": "2017-09-02T17:40:52Z", "closed_at": "2017-09-02T16:41:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now, to insert a new value into a `std::collections::HashMap`, one _must_ transfer ownership of the key to the map. The map however does not seem to require ownership of the key. \r\n\r\nThe `HashMap` does not keep around a copy of the key however. It only stores its hash. This means that there is no way to get the key out of the `HashMap` again. \r\n\r\nFor example, take the signature of the insert method:\r\n\r\n```rust\r\nfn insert(&mut self, k: K, v: V) -> Option<V>\r\n```\r\n\r\nIf the value is updated, it returns the old value, thus giving the user ownership of said value again. The key however, is lost forever. There is no way to get it back.", "closed_by": {"login": "Binero", "id": 6867251, "node_id": "MDQ6VXNlcjY4NjcyNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6867251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Binero", "html_url": "https://github.com/Binero", "followers_url": "https://api.github.com/users/Binero/followers", "following_url": "https://api.github.com/users/Binero/following{/other_user}", "gists_url": "https://api.github.com/users/Binero/gists{/gist_id}", "starred_url": "https://api.github.com/users/Binero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Binero/subscriptions", "organizations_url": "https://api.github.com/users/Binero/orgs", "repos_url": "https://api.github.com/users/Binero/repos", "events_url": "https://api.github.com/users/Binero/events{/privacy}", "received_events_url": "https://api.github.com/users/Binero/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/44271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/44271/timeline", "performed_via_github_app": null, "state_reason": "completed"}