{"url": "https://api.github.com/repos/rust-lang/rust/issues/42099", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/42099/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/42099/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/42099/events", "html_url": "https://github.com/rust-lang/rust/issues/42099", "id": 229900769, "node_id": "MDU6SXNzdWUyMjk5MDA3Njk=", "number": 42099, "title": "./x.py build --verbose and config.toml build.verbose=2 don't trigger cargo --verbose", "user": {"login": "devurandom", "id": 63082, "node_id": "MDQ6VXNlcjYzMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/63082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devurandom", "html_url": "https://github.com/devurandom", "followers_url": "https://api.github.com/users/devurandom/followers", "following_url": "https://api.github.com/users/devurandom/following{/other_user}", "gists_url": "https://api.github.com/users/devurandom/gists{/gist_id}", "starred_url": "https://api.github.com/users/devurandom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devurandom/subscriptions", "organizations_url": "https://api.github.com/users/devurandom/orgs", "repos_url": "https://api.github.com/users/devurandom/repos", "events_url": "https://api.github.com/users/devurandom/events{/privacy}", "received_events_url": "https://api.github.com/users/devurandom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-05-19T08:07:37Z", "updated_at": "2017-05-25T04:38:47Z", "closed_at": "2017-05-25T04:38:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Passing `--verbose` to `./x.py build` and setting `build.verbose` in `config.toml` does not cause `--verbose` to be passed to `cargo`, which results in a non-verbose build.\r\n\r\nI am trying to build rust-1.17.0 as follows:\r\n```sh\r\n   cat <<- EOF > \"${S}\"/config.toml\r\n        [llvm]\r\n        optimize = $(toml_usex !debug)\r\n        release-debuginfo = $(toml_usex debug)\r\n        assertions = $(toml_usex debug)\r\n        [build]\r\n        build = \"${CTARGET}\"\r\n        host = \"${CTARGET}\"\r\n        target = \"${CTARGET}\"\r\n        cargo = \"${WORKDIR}/${cargo_stage0}/cargo/bin/cargo\"\r\n        rustc = \"${WORKDIR}/${rustc_stage0}/rustc/bin/rustc\"\r\n        docs = $(toml_usex doc)\r\n        submodules = false\r\n        python = \"${EPYTHON}\"\r\n        locked-deps = true\r\n        vendor = true\r\n        verbose = 2\r\n        [install]\r\n        prefix = \"${EPREFIX}/usr\"\r\n        libdir = \"$(get_libdir)/${P}\"\r\n        docdir = \"share/doc/${P}\"\r\n        mandir = \"share/${P}/man\"\r\n        [rust]\r\n        optimize = $(toml_usex !debug)\r\n        debuginfo = $(toml_usex debug)\r\n        debug-assertions = $(toml_usex debug)\r\n        use-jemalloc = $(toml_usex jemalloc)\r\n        default-linker = \"${linker}\"\r\n        default-ar = \"${archiver}\"\r\n        rpath = false\r\n        [target.x86_64-unknown-linux-gnu]\r\n        cc = \"${c_compiler}\"\r\n        cxx = \"${cxx_compiler}\"\r\n        llvm-config = \"${llvm_config}\"\r\n    EOF\r\n\r\n   ./x.py build --verbose --config=\"${S}\"/config.toml\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/42099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/42099/timeline", "performed_via_github_app": null, "state_reason": "completed"}