{"url": "https://api.github.com/repos/rust-lang/rust/issues/41589", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41589/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41589/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41589/events", "html_url": "https://github.com/rust-lang/rust/issues/41589", "id": 224909353, "node_id": "MDU6SXNzdWUyMjQ5MDkzNTM=", "number": 41589, "title": "can't build ole32-sys with nightly-gnu", "user": {"login": "Eh2406", "id": 3709504, "node_id": "MDQ6VXNlcjM3MDk1MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3709504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eh2406", "html_url": "https://github.com/Eh2406", "followers_url": "https://api.github.com/users/Eh2406/followers", "following_url": "https://api.github.com/users/Eh2406/following{/other_user}", "gists_url": "https://api.github.com/users/Eh2406/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eh2406/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eh2406/subscriptions", "organizations_url": "https://api.github.com/users/Eh2406/orgs", "repos_url": "https://api.github.com/users/Eh2406/repos", "events_url": "https://api.github.com/users/Eh2406/events{/privacy}", "received_events_url": "https://api.github.com/users/Eh2406/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 266005714, "node_id": "MDU6TGFiZWwyNjYwMDU3MTQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows-gnu", "name": "O-windows-gnu", "color": "6e6ec0", "default": false, "description": "Toolchain: GNU, Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-27T20:51:12Z", "updated_at": "2017-04-29T17:10:38Z", "closed_at": "2017-04-29T17:10:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "HI,\r\n\r\nSetup:\r\n`Cargo.toml`\r\n```toml\r\n[package]\r\nname = \"test\"\r\nversion = \"0.1.0\"\r\nauthors = [\"Eh2406 <YeomanYaacov@gmail.com>\"]\r\n\r\n[dependencies]\r\nole32-sys = \"0.2.0\"\r\n```\r\n`src/main.rs`\r\n```rust\r\nextern crate ole32;\r\nfn main() {\r\n    println!(\"\");\r\n}\r\n```\r\n\r\nExpected output:\r\nNo errors, as there are no errors when I run `cargo +nightly-msvc build`\r\n\r\nActual output:\r\n```cmd\r\nC:\\test>cargo +nightly-gnu build\r\n   Compiling winapi v0.2.8\r\n   Compiling winapi-build v0.1.1\r\n   Compiling ole32-sys v0.2.0\r\nerror: linking with `gcc` failed: exit code: 3221225781\r\n  |\r\n  = note: \"gcc\" \"-Wl,--enable-long-section-names\" \"-fno-use-linker-plugin\" \"-Wl,--nxcompat\" \"-nostdlib\" \"-m64\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\crt2.o\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\rsbegin.o\" \"-L\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\" \"C:\\\\test\\\\target\\\\debug\\\\build\\\\ole32-sys-6a9f3e9c54364a93\\\\build_script_build-6a9f3e9c54364a93.0.o\" \"-o\" \"C:\\\\test\\\\target\\\\debug\\\\build\\\\ole32-sys-6a9f3e9c54364a93\\\\build_script_build-6a9f3e9c54364a93.exe\" \"-Wl,--gc-sections\" \"-nodefaultlibs\" \"-L\" \"C:\\\\test\\\\target\\\\debug\\\\deps\" \"-L\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\" \"-Wl,-Bstatic\" \"C:\\\\test\\\\target\\\\debug\\\\deps\\\\libbuild-24835e0f0d5a822a.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libstd-e2451a256f66ac19.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\librand-c279a51d66700350.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libcollections-d7bf31a4ca1ea637.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libstd_unicode-d367c3ba0db49600.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libpanic_unwind-2d4bf02140c11dcb.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libunwind-add7a84d7e82d084.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\liblibc-84688accbc86d6b7.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\liballoc-fe2e68b21f0bdd7a.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\liballoc_system-7fc0381594c93f56.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libcore-ea9d77e7c23fe65c.rlib\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\libcompiler_builtins-91b619d34dd1f5aa.rlib\" \"-Wl,-Bdynamic\" \"-l\" \"advapi32\" \"-l\" \"ws2_32\" \"-l\" \"userenv\" \"-l\" \"shell32\" \"-Wl,-Bstatic\" \"-l\" \"gcc_eh\" \"-l\" \"pthread\" \"-Wl,-Bdynamic\" \"-lmingwex\" \"-lmingw32\" \"-lgcc\" \"-lmsvcrt\" \"-luser32\" \"-lkernel32\" \"C:\\\\Users\\\\finkelman.SEMCOGDOM\\\\.rustup\\\\toolchains\\\\nightly-x86_64-pc-windows-gnu\\\\lib\\\\rustlib\\\\x86_64-pc-windows-gnu\\\\lib\\\\rsend.o\"\r\n  = note:\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: Could not compile `ole32-sys`.\r\nBuild failed, waiting for other jobs to finish...\r\nerror: build failed\r\n```\r\n\r\n1.18.0-nightly (036983201 2017-04-26), on windows.\r\n\r\nNote: that it works with:\r\n- `cargo +nightly-2017-04-20 build`\r\n- `cargo +nightly-2017-04-24 build`\r\n- `cargo +nightly-2017-04-25 build`\r\n\r\ndoes not work with:\r\n- `cargo +nightly-2017-04-26 build`", "closed_by": {"login": "Eh2406", "id": 3709504, "node_id": "MDQ6VXNlcjM3MDk1MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3709504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eh2406", "html_url": "https://github.com/Eh2406", "followers_url": "https://api.github.com/users/Eh2406/followers", "following_url": "https://api.github.com/users/Eh2406/following{/other_user}", "gists_url": "https://api.github.com/users/Eh2406/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eh2406/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eh2406/subscriptions", "organizations_url": "https://api.github.com/users/Eh2406/orgs", "repos_url": "https://api.github.com/users/Eh2406/repos", "events_url": "https://api.github.com/users/Eh2406/events{/privacy}", "received_events_url": "https://api.github.com/users/Eh2406/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41589/timeline", "performed_via_github_app": null, "state_reason": "completed"}