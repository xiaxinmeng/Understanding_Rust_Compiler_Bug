{"url": "https://api.github.com/repos/rust-lang/rust/issues/41695", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41695/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41695/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41695/events", "html_url": "https://github.com/rust-lang/rust/issues/41695", "id": 225606465, "node_id": "MDU6SXNzdWUyMjU2MDY0NjU=", "number": 41695, "title": "Be consistent about whether the span label duplicates info in an error message", "user": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 178802147, "node_id": "MDU6TGFiZWwxNzg4MDIxNDc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-needs-decision", "name": "I-needs-decision", "color": "e11d21", "default": false, "description": "Issues in need of decision."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-05-02T07:01:20Z", "updated_at": "2019-05-03T01:37:02Z", "closed_at": "2019-05-03T01:36:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Often an error message has two parts - the heading and a label on a span. E.g.,\r\n\r\n```\r\nerror[E0425]: cannot find value `labe` in this scope\r\n   --> src/actions/compiler_message_parsing.rs:116:30\r\n    |\r\n116 |             message.push_str(labe);\r\n    |                              ^^^^ did you mean `label`?\r\n```\r\n\r\nHere the heading is `cannot find value `labe` in this scope` and the label on the span is `did you mean `label`?` In this case the two contain different information.\r\n\r\nHowever, in some cases, the info is duplicated, e.g.,\r\n\r\n```\r\nerror[E0061]: this function takes 1 parameter but 0 parameters were supplied\r\n   --> src/actions/compiler_message_parsing.rs:116:21\r\n    |\r\n116 |             message.push_str();\r\n    |                     ^^^^^^^^ expected 1 parameter\r\n```\r\n\r\nThis is a problem for IDEs because all errors are on spans and we must choose to either show both pieces of text (which looks weird and redundant in the second example) or just the heading (which elides information in the first example).\r\n\r\nAlternatively, we could add some flag to the JSON error structure to indicate whether a label is redundant or not.\r\n\r\ncc @jonathandturner ", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41695/timeline", "performed_via_github_app": null, "state_reason": "completed"}