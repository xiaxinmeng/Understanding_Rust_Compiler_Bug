{"url": "https://api.github.com/repos/rust-lang/rust/issues/98293", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/98293/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/98293/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/98293/events", "html_url": "https://github.com/rust-lang/rust/issues/98293", "id": 1276900011, "node_id": "I_kwDOAAsO6M5MG_Kr", "number": 98293, "title": "Latest master gives error when building std for unsupported", "user": {"login": "Ayush1325", "id": 22546812, "node_id": "MDQ6VXNlcjIyNTQ2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/22546812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ayush1325", "html_url": "https://github.com/Ayush1325", "followers_url": "https://api.github.com/users/Ayush1325/followers", "following_url": "https://api.github.com/users/Ayush1325/following{/other_user}", "gists_url": "https://api.github.com/users/Ayush1325/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ayush1325/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ayush1325/subscriptions", "organizations_url": "https://api.github.com/users/Ayush1325/orgs", "repos_url": "https://api.github.com/users/Ayush1325/repos", "events_url": "https://api.github.com/users/Ayush1325/events{/privacy}", "received_events_url": "https://api.github.com/users/Ayush1325/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-20T13:06:00Z", "updated_at": "2022-09-25T06:53:24Z", "closed_at": "2022-09-25T06:53:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The latest master: 4104596251818f4f588051c7a8172ca9f5a195bf gives error when trying to build std for `x86_64-unknown-uefi`\r\n\r\nThe error I get is the following:\r\n```shell\r\nerror: `sys_common::condvar::Condvar::new` is not yet stable as a const fn\r\n   --> /var/home/ayush/Documents/Programming/Rust/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustlib/src/rust/library/std/src/sync/condvar.rs:129:26\r\n    |\r\n129 |         Condvar { inner: sys::Condvar::new() }\r\n    |                          ^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: const-stable functions can only call other const-stable functions\r\n\r\nerror: `sys_common::mutex::MovableMutex::new` is not yet stable as a const fn\r\n   --> /var/home/ayush/Documents/Programming/Rust/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustlib/src/rust/library/std/src/sync/mutex.rs:220:20\r\n    |\r\n220 |             inner: sys::MovableMutex::new(),\r\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: const-stable functions can only call other const-stable functions\r\n\r\nerror: `sys_common::rwlock::MovableRwLock::new` is not yet stable as a const fn\r\n   --> /var/home/ayush/Documents/Programming/Rust/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustlib/src/rust/library/std/src/sync/rwlock.rs:153:20\r\n    |\r\n153 |             inner: sys::MovableRwLock::new(),\r\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: const-stable functions can only call other const-stable functions\r\n\r\nerror: could not compile `std` due to 3 previous errors\r\n```\r\n\r\nI am currently working on porting Rust std to UEFI. Previously was using a week-old master and decided to rebase today. However, not sure how to fix this error which showed up after rebase.\r\n\r\nAfter looking at previous commits, the culprit seems to be edae4958556a6150841b9964b322d1e96e7a4586", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/98293/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/98293/timeline", "performed_via_github_app": null, "state_reason": "completed"}