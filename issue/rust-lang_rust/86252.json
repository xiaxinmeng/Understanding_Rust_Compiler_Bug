{"url": "https://api.github.com/repos/rust-lang/chalk/issues/758", "repository_url": "https://api.github.com/repos/rust-lang/chalk", "labels_url": "https://api.github.com/repos/rust-lang/chalk/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/chalk/issues/758/comments", "events_url": "https://api.github.com/repos/rust-lang/chalk/issues/758/events", "html_url": "https://github.com/rust-lang/chalk/issues/758", "id": 1175932464, "node_id": "MDU6SXNzdWUxMTc1OTMyNDY0", "number": 758, "title": "Fix/upgrade Chalk in wake of librarifying Copy/Clone on arrays and reinstate test", "user": {"login": "bstrie", "id": 865233, "node_id": "MDQ6VXNlcjg2NTIzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bstrie", "html_url": "https://github.com/bstrie", "followers_url": "https://api.github.com/users/bstrie/followers", "following_url": "https://api.github.com/users/bstrie/following{/other_user}", "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}", "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions", "organizations_url": "https://api.github.com/users/bstrie/orgs", "repos_url": "https://api.github.com/users/bstrie/repos", "events_url": "https://api.github.com/users/bstrie/events{/privacy}", "received_events_url": "https://api.github.com/users/bstrie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2576490193, "node_id": "MDU6TGFiZWwyNTc2NDkwMTkz", "url": "https://api.github.com/repos/rust-lang/chalk/labels/C-chalk-solve", "name": "C-chalk-solve", "color": "c5def5", "default": false, "description": "Issues related to the chalk-solve crate"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-12T20:10:20Z", "updated_at": "2022-03-21T20:58:39Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Prior to https://github.com/rust-lang/rust/pull/86041 , Copy and Clone are implemented on arrays by way of compiler magic. Now that const generics exist, these magical impls can be converted to proper library impls. Changes to trait selection were necessary to make this happen. However, rustc's test suite also contains some tests for rustc's next-gen trait selection engine, Chalk, one of which no longer passes in the presence of the new library impls. Because Chalk [lives out of tree](https://github.com/rust-lang/rust/blob/da7ada584a3e5c3467b8b9f344b4a0f2a81ce32a/compiler/rustc_traits/Cargo.toml#L18), rust-lang/rust#86041 has no way to fix this other than performing a complete Chalk upgrade, which would be a broad undertaking that is out of scope for the PR. Instead, after asking in the #wg-traits channel ( https://rust-lang.zulipchat.com/#narrow/stream/144729-wg-traits/topic/chalk.20ICE.20in.20rustc.20tests ), the decision was made to comment out the offending line until such time as Chalk is properly fixed and rustc has upgraded its dependency.\r\n\r\n(Note: as of this writing rust-lang/rust#86041 is still open, but I've filed this now in order to have an issue number to put in the FIXME comment.)", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/chalk/issues/758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/chalk/issues/758/timeline", "performed_via_github_app": null, "state_reason": null}