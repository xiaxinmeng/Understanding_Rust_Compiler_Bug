{"url": "https://api.github.com/repos/rust-lang/rust/issues/20965", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20965/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20965/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20965/events", "html_url": "https://github.com/rust-lang/rust/issues/20965", "id": 54004231, "node_id": "MDU6SXNzdWU1NDAwNDIzMQ==", "number": 20965, "title": "Poor error message when a subtype is not Sync as required", "user": {"login": "jdm", "id": 27658, "node_id": "MDQ6VXNlcjI3NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdm", "html_url": "https://github.com/jdm", "followers_url": "https://api.github.com/users/jdm/followers", "following_url": "https://api.github.com/users/jdm/following{/other_user}", "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdm/subscriptions", "organizations_url": "https://api.github.com/users/jdm/orgs", "repos_url": "https://api.github.com/users/jdm/repos", "events_url": "https://api.github.com/users/jdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jdm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-01-11T20:45:44Z", "updated_at": "2015-01-13T15:23:43Z", "closed_at": "2015-01-12T22:34:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you change https://github.com/servo/servo/blob/81f47344d6e121d86de368a25107415406de3c0f/components/layout/fragment.rs#L227 to read `Option<Sender<CanvasMsg>>`, trying to build Servo produces a ton of confusing error messages:\n\n```\n   Compiling layout v0.0.1 (file:///Users/jdm/src/servo/components/servo)\nblock.rs:1485:1: 1903:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\nblock.rs:1485 impl Flow for BlockFlow {\nblock.rs:1486     fn class(&self) -> FlowClass {\nblock.rs:1487         FlowClass::Block\nblock.rs:1488     }\nblock.rs:1489\nblock.rs:1490     fn as_block<'a>(&'a mut self) -> &'a mut BlockFlow {\n              ...\nblock.rs:1485:1: 1903:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\nblock.rs:1485 impl Flow for BlockFlow {\nblock.rs:1486     fn class(&self) -> FlowClass {\nblock.rs:1487         FlowClass::Block\nblock.rs:1488     }\nblock.rs:1489\nblock.rs:1490     fn as_block<'a>(&'a mut self) -> &'a mut BlockFlow {\n              ...\ninline.rs:944:1: 1253:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ninline.rs:944 impl Flow for InlineFlow {\ninline.rs:945     fn class(&self) -> FlowClass {\ninline.rs:946         FlowClass::Inline\ninline.rs:947     }\ninline.rs:948\ninline.rs:949     fn as_immutable_inline<'a>(&'a self) -> &'a InlineFlow {\n              ...\ninline.rs:944:1: 1253:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ninline.rs:944 impl Flow for InlineFlow {\ninline.rs:945     fn class(&self) -> FlowClass {\ninline.rs:946         FlowClass::Inline\ninline.rs:947     }\ninline.rs:948\ninline.rs:949     fn as_immutable_inline<'a>(&'a self) -> &'a InlineFlow {\n              ...\nlist_item.rs:48:1: 124:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\nlist_item.rs:48 impl Flow for ListItemFlow {\nlist_item.rs:49     fn class(&self) -> FlowClass {\nlist_item.rs:50         FlowClass::ListItem\nlist_item.rs:51     }\nlist_item.rs:52\nlist_item.rs:53     fn as_block<'a>(&'a mut self) -> &'a mut BlockFlow {\n                ...\nlist_item.rs:48:1: 124:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\nlist_item.rs:48 impl Flow for ListItemFlow {\nlist_item.rs:49     fn class(&self) -> FlowClass {\nlist_item.rs:50         FlowClass::ListItem\nlist_item.rs:51     }\nlist_item.rs:52\nlist_item.rs:53     fn as_block<'a>(&'a mut self) -> &'a mut BlockFlow {\n                ...\ntable_wrapper.rs:215:1: 371:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable_wrapper.rs:215 impl Flow for TableWrapperFlow {\ntable_wrapper.rs:216     fn class(&self) -> FlowClass {\ntable_wrapper.rs:217         FlowClass::TableWrapper\ntable_wrapper.rs:218     }\ntable_wrapper.rs:219\ntable_wrapper.rs:220     fn as_table_wrapper<'a>(&'a mut self) -> &'a mut TableWrapperFlow {\n                     ...\ntable_wrapper.rs:215:1: 371:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable_wrapper.rs:215 impl Flow for TableWrapperFlow {\ntable_wrapper.rs:216     fn class(&self) -> FlowClass {\ntable_wrapper.rs:217         FlowClass::TableWrapper\ntable_wrapper.rs:218     }\ntable_wrapper.rs:219\ntable_wrapper.rs:220     fn as_table_wrapper<'a>(&'a mut self) -> &'a mut TableWrapperFlow {\n                     ...\ntable.rs:205:1: 397:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable.rs:205 impl Flow for TableFlow {\ntable.rs:206     fn class(&self) -> FlowClass {\ntable.rs:207         FlowClass::Table\ntable.rs:208     }\ntable.rs:209\ntable.rs:210     fn as_table<'a>(&'a mut self) -> &'a mut TableFlow {\n             ...\ntable.rs:205:1: 397:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable.rs:205 impl Flow for TableFlow {\ntable.rs:206     fn class(&self) -> FlowClass {\ntable.rs:207         FlowClass::Table\ntable.rs:208     }\ntable.rs:209\ntable.rs:210     fn as_table<'a>(&'a mut self) -> &'a mut TableFlow {\n             ...\ntable_caption.rs:37:1: 94:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable_caption.rs:37 impl Flow for TableCaptionFlow {\ntable_caption.rs:38     fn class(&self) -> FlowClass {\ntable_caption.rs:39         FlowClass::TableCaption\ntable_caption.rs:40     }\ntable_caption.rs:41\ntable_caption.rs:42     fn as_table_caption<'a>(&'a mut self) -> &'a mut TableCaptionFlow {\n                    ...\ntable_caption.rs:37:1: 94:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable_caption.rs:37 impl Flow for TableCaptionFlow {\ntable_caption.rs:38     fn class(&self) -> FlowClass {\ntable_caption.rs:39         FlowClass::TableCaption\ntable_caption.rs:40     }\ntable_caption.rs:41\ntable_caption.rs:42     fn as_table_caption<'a>(&'a mut self) -> &'a mut TableCaptionFlow {\n                    ...\ntable_colgroup.rs:56:1: 107:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable_colgroup.rs:56 impl Flow for TableColGroupFlow {\ntable_colgroup.rs:57     fn class(&self) -> FlowClass {\ntable_colgroup.rs:58         FlowClass::TableColGroup\ntable_colgroup.rs:59     }\ntable_colgroup.rs:60\ntable_colgroup.rs:61     fn as_table_colgroup<'a>(&'a mut self) -> &'a mut TableColGroupFlow {\n                     ...\ntable_colgroup.rs:56:1: 107:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable_colgroup.rs:56 impl Flow for TableColGroupFlow {\ntable_colgroup.rs:57     fn class(&self) -> FlowClass {\ntable_colgroup.rs:58         FlowClass::TableColGroup\ntable_colgroup.rs:59     }\ntable_colgroup.rs:60\ntable_colgroup.rs:61     fn as_table_colgroup<'a>(&'a mut self) -> &'a mut TableColGroupFlow {\n                     ...\ntable_rowgroup.rs:70:1: 163:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable_rowgroup.rs:70 impl Flow for TableRowGroupFlow {\ntable_rowgroup.rs:71     fn class(&self) -> FlowClass {\ntable_rowgroup.rs:72         FlowClass::TableRowGroup\ntable_rowgroup.rs:73     }\ntable_rowgroup.rs:74\ntable_rowgroup.rs:75     fn as_table_rowgroup<'a>(&'a mut self) -> &'a mut TableRowGroupFlow {\n                     ...\ntable_rowgroup.rs:70:1: 163:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable_rowgroup.rs:70 impl Flow for TableRowGroupFlow {\ntable_rowgroup.rs:71     fn class(&self) -> FlowClass {\ntable_rowgroup.rs:72         FlowClass::TableRowGroup\ntable_rowgroup.rs:73     }\ntable_rowgroup.rs:74\ntable_rowgroup.rs:75     fn as_table_rowgroup<'a>(&'a mut self) -> &'a mut TableRowGroupFlow {\n                     ...\ntable_row.rs:151:1: 328:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable_row.rs:151 impl Flow for TableRowFlow {\ntable_row.rs:152     fn class(&self) -> FlowClass {\ntable_row.rs:153         FlowClass::TableRow\ntable_row.rs:154     }\ntable_row.rs:155\ntable_row.rs:156     fn as_table_row<'a>(&'a mut self) -> &'a mut TableRowFlow {\n                 ...\ntable_row.rs:151:1: 328:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable_row.rs:151 impl Flow for TableRowFlow {\ntable_row.rs:152     fn class(&self) -> FlowClass {\ntable_row.rs:153         FlowClass::TableRow\ntable_row.rs:154     }\ntable_row.rs:155\ntable_row.rs:156     fn as_table_row<'a>(&'a mut self) -> &'a mut TableRowFlow {\n                 ...\ntable_cell.rs:69:1: 175:2 error: the trait `core::kinds::Sync` is not implemented for the type `core::kinds::marker::NoSync`\ntable_cell.rs:69 impl Flow for TableCellFlow {\ntable_cell.rs:70     fn class(&self) -> FlowClass {\ntable_cell.rs:71         FlowClass::TableCell\ntable_cell.rs:72     }\ntable_cell.rs:73\ntable_cell.rs:74     fn as_table_cell<'a>(&'a mut self) -> &'a mut TableCellFlow {\n                 ...\ntable_cell.rs:69:1: 175:2 note: the trait `core::kinds::Sync` must be implemented because it is required by `flow::Flow`\ntable_cell.rs:69 impl Flow for TableCellFlow {\ntable_cell.rs:70     fn class(&self) -> FlowClass {\ntable_cell.rs:71         FlowClass::TableCell\ntable_cell.rs:72     }\ntable_cell.rs:73\ntable_cell.rs:74     fn as_table_cell<'a>(&'a mut self) -> &'a mut TableCellFlow {\n                 ...\nerror: aborting due to 10 previous errors\nCould not compile `layout`.\n```\n", "closed_by": {"login": "jdm", "id": 27658, "node_id": "MDQ6VXNlcjI3NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdm", "html_url": "https://github.com/jdm", "followers_url": "https://api.github.com/users/jdm/followers", "following_url": "https://api.github.com/users/jdm/following{/other_user}", "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdm/subscriptions", "organizations_url": "https://api.github.com/users/jdm/orgs", "repos_url": "https://api.github.com/users/jdm/repos", "events_url": "https://api.github.com/users/jdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jdm/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20965/timeline", "performed_via_github_app": null, "state_reason": "completed"}