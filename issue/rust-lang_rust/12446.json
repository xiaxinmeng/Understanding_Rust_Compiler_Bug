{"url": "https://api.github.com/repos/rust-lang/rust/issues/12446", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/12446/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/12446/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/12446/events", "html_url": "https://github.com/rust-lang/rust/issues/12446", "id": 28043142, "node_id": "MDU6SXNzdWUyODA0MzE0Mg==", "number": 12446, "title": "Linker argument order sometimes wrong.", "user": {"login": "HildarTheDorf", "id": 2847674, "node_id": "MDQ6VXNlcjI4NDc2NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2847674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HildarTheDorf", "html_url": "https://github.com/HildarTheDorf", "followers_url": "https://api.github.com/users/HildarTheDorf/followers", "following_url": "https://api.github.com/users/HildarTheDorf/following{/other_user}", "gists_url": "https://api.github.com/users/HildarTheDorf/gists{/gist_id}", "starred_url": "https://api.github.com/users/HildarTheDorf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HildarTheDorf/subscriptions", "organizations_url": "https://api.github.com/users/HildarTheDorf/orgs", "repos_url": "https://api.github.com/users/HildarTheDorf/repos", "events_url": "https://api.github.com/users/HildarTheDorf/events{/privacy}", "received_events_url": "https://api.github.com/users/HildarTheDorf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-02-21T13:57:54Z", "updated_at": "2014-02-28T08:16:53Z", "closed_at": "2014-02-28T08:16:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "extern crates appear in the link arguments after #[link(name=\"foo\")] attributes in the current crate. This can cause undefined symbol issues when an rlib contains an incomplete version of the static library foo (foo.a) because it is later in the linker command line. Forcing it to be last in the commandline with -C link-args=\"-lfoo\" works as a workaround.\n`\nTo be fair, I'm not sure if there is ever a \"perfect\" ordering for linker arguments that works in every single case (other than doing it manually), but making it extern crates, then #links in the current crate seems to make more sense. Something like #[link_first()] and/or #[link_last()] would work too (forcing it to link before or after external crates respectively).\n\nThis was all on Ubuntu 13.10 x86_64, and all the libs in question were static (.rlib or .a).\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/12446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/12446/timeline", "performed_via_github_app": null, "state_reason": "completed"}