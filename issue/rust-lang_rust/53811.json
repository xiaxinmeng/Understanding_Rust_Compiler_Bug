{"url": "https://api.github.com/repos/rust-lang/rust/issues/53811", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/53811/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/53811/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/53811/events", "html_url": "https://github.com/rust-lang/rust/issues/53811", "id": 355392369, "node_id": "MDU6SXNzdWUzNTUzOTIzNjk=", "number": 53811, "title": "Macro import does not bring dependent macros in scope in 2018 edition", "user": {"login": "starkat99", "id": 8295111, "node_id": "MDQ6VXNlcjgyOTUxMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/8295111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/starkat99", "html_url": "https://github.com/starkat99", "followers_url": "https://api.github.com/users/starkat99/followers", "following_url": "https://api.github.com/users/starkat99/following{/other_user}", "gists_url": "https://api.github.com/users/starkat99/gists{/gist_id}", "starred_url": "https://api.github.com/users/starkat99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/starkat99/subscriptions", "organizations_url": "https://api.github.com/users/starkat99/orgs", "repos_url": "https://api.github.com/users/starkat99/repos", "events_url": "https://api.github.com/users/starkat99/events{/privacy}", "received_events_url": "https://api.github.com/users/starkat99/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-30T01:44:35Z", "updated_at": "2019-04-21T22:54:22Z", "closed_at": "2019-04-21T22:54:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Importing a macro from a crate in 2018 edition that invokes other macros does not bring those macros in scope. It's easy enough to make work by importing the other macros of course, but surprising behavior anyway, especially when it involves importing macros that won't actually be referenced anywhere in the file itself, only through invocations.\r\n\r\nExample (using clap 2.32):\r\n```rust\r\nuse clap::app_from_crate;\r\nfn main() {\r\n    let _args = app_from_crate!().get_matches();\r\n}\r\n```\r\nwill produce the following error\r\n```\r\nerror: cannot find macro `crate_name!` in this scope\r\n --> src\\main.rs:5:17\r\n  |\r\n5 |     let _args = app_from_crate!().get_matches();\r\n  |                 ^^^^^^^^^^^^^^^^^\r\n  |\r\n  = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\r\n```", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/53811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/53811/timeline", "performed_via_github_app": null, "state_reason": "completed"}