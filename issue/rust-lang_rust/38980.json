{"url": "https://api.github.com/repos/rust-lang/rust/issues/38980", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38980/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38980/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38980/events", "html_url": "https://github.com/rust-lang/rust/issues/38980", "id": 199981886, "node_id": "MDU6SXNzdWUxOTk5ODE4ODY=", "number": 38980, "title": "Provide \"peek\" APIs to `std::net` sockets", "user": {"login": "APTy", "id": 9010671, "node_id": "MDQ6VXNlcjkwMTA2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9010671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/APTy", "html_url": "https://github.com/APTy", "followers_url": "https://api.github.com/users/APTy/followers", "following_url": "https://api.github.com/users/APTy/following{/other_user}", "gists_url": "https://api.github.com/users/APTy/gists{/gist_id}", "starred_url": "https://api.github.com/users/APTy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/APTy/subscriptions", "organizations_url": "https://api.github.com/users/APTy/orgs", "repos_url": "https://api.github.com/users/APTy/repos", "events_url": "https://api.github.com/users/APTy/events{/privacy}", "received_events_url": "https://api.github.com/users/APTy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 219670472, "node_id": "MDU6TGFiZWwyMTk2NzA0NzI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/final-comment-period", "name": "final-comment-period", "color": "1e76d9", "default": false, "description": "In the final comment period and will be merged soon unless new substantive objections are raised."}, {"id": 246778137, "node_id": "MDU6TGFiZWwyNDY3NzgxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/B-unstable", "name": "B-unstable", "color": "d304cb", "default": false, "description": "Implemented in the nightly compiler and unstable."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-01-11T01:39:26Z", "updated_at": "2017-05-22T00:51:25Z", "closed_at": "2017-05-22T00:51:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "# Summary\r\nProvide \"peek\" APIs to `std::net` sockets, for example:\r\n- `UdpSocket.peek()`\r\n- `UdpSocket.peek_from()`\r\n- `TcpStream.peek()`\r\n\r\nThese methods enable socket reads without side-effects. That is, repeated calls to `peek()` return identical data. This can be accomplished by providing the POSIX flag `MSG_PEEK` to the underlying socket read operations.\r\n\r\n# Motivation\r\nThis is valuable in cases where a user wishes to validate *if* new data exists in the socket, without consuming that data completely. For example, a user may wish to use `peek()` as a method of polling the socket to find out if new messages are available (or to determine the amount of data available), before deferring to another function to do the actual work of reading and parsing the socket's data.\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38980/timeline", "performed_via_github_app": null, "state_reason": "completed"}