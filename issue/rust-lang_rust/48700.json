{"url": "https://api.github.com/repos/rust-lang/rust/issues/48700", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48700/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48700/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48700/events", "html_url": "https://github.com/rust-lang/rust/issues/48700", "id": 302006878, "node_id": "MDU6SXNzdWUzMDIwMDY4Nzg=", "number": 48700, "title": "Compiler unexpectedly panics occasionally on Windows", "user": {"login": "igmanthony", "id": 17777713, "node_id": "MDQ6VXNlcjE3Nzc3NzEz", "avatar_url": "https://avatars.githubusercontent.com/u/17777713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igmanthony", "html_url": "https://github.com/igmanthony", "followers_url": "https://api.github.com/users/igmanthony/followers", "following_url": "https://api.github.com/users/igmanthony/following{/other_user}", "gists_url": "https://api.github.com/users/igmanthony/gists{/gist_id}", "starred_url": "https://api.github.com/users/igmanthony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igmanthony/subscriptions", "organizations_url": "https://api.github.com/users/igmanthony/orgs", "repos_url": "https://api.github.com/users/igmanthony/repos", "events_url": "https://api.github.com/users/igmanthony/events{/privacy}", "received_events_url": "https://api.github.com/users/igmanthony/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 307747675, "node_id": "MDU6TGFiZWwzMDc3NDc2NzU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-incr-comp", "name": "A-incr-comp", "color": "f7e101", "default": false, "description": "Area: Incremental compilation"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-03-03T15:30:01Z", "updated_at": "2020-06-07T16:56:14Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Within all of my projects, when I run \"cargo run\" while in the directory of the project, the compiler occasionally panics and outputs: \r\n\r\n```\r\nwarning: error copying object file `C:\\Users\\Ian_Anthony\\svd2\\target\\debug\\deps\\svd2-6e54b28804aea753.3s4d4kekc4aqhd.rcgu.o` to incremental directory as `\\\\?\\C:\\Users\\Ian_Anthony\\svd2\\target\\debug\\incremental\\svd2-3ho7dmdfxg9p9\\s-eytrqlmgkk-1skg6ha-working\\3s4d4kekc4aqhd.o`: Access is denied. (os error 5)\r\n\r\nwarning: file-system error deleting outdated file `\\\\?\\C:\\Users\\Ian_Anthony\\svd2\\target\\debug\\incremental\\svd2-3ho7dmdfxg9p9\\s-eytrqlmgkk-1skg6ha-working\\3s4d4kekc4aqhd.o`: The system cannot find the file specified. (os error 2)\r\n\r\nerror: failed to remove C:\\Users\\Ian_Anthony\\svd2\\target\\debug\\deps\\svd2-6e54b28804aea753.49lx1q7cxvpykyv0.rcgu.o: The process cannot access the file because it is being used by another process. (os error 32)\r\n\r\nwarning: Error finalizing incremental compilation session directory `\\\\?\\C:\\Users\\Ian_Anthony\\svd2\\target\\debug\\incremental\\svd2-3ho7dmdfxg9p9\\s-eytrqlmgkk-1skg6ha-working`: The system cannot find the file specified. (os error 2)\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.24.0 (4d90ac38c 2018-02-12) running on x86_64-pc-windows-msvc\r\n\r\nthread 'rustc' panicked at 'src\\librustc\\session\\mod.rs:650: Trying to invalidate IncrCompSession `InvalidBecauseOfErrors { session_directory: \"\\\\\\\\?\\\\C:\\\\Users\\\\Ian_Anthony\\\\svd2\\\\target\\\\debug\\\\incremental\\\\svd2-3ho7dmdfxg9p9\\\\s-eytrqlmgkk-1skg6ha-working\" }`', src\\librustc\\session\\mod.rs:1141:26\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\nerror: Could not compile `svd2`.\r\n```\r\n\r\nPrevious to 1.24 I did not experience this. Generally if I re-run the code without changing anything (i.e., I see the error/panic, retype \"cargo run\" and hit enter in the console) it compiles properly (so the compilation error / panic is annoying, but not critical in my case). I use Windows at work and Linux (Xubuntu 17.10) at home. If I work on the same code at home (on my linux box) the compiler error doesn't ever occur. My thoughts are that it might be something due to incremental compilation on Windows, but I'm new to Rust (and compiled code in general) so I'm not sure.\r\n\r\n```\r\n`rustc --version --verbose`:\r\n\r\nrustc 1.24.0 (4d90ac38c 2018-02-12)\r\nbinary: rustc\r\ncommit-hash: 4d90ac38c0b61bb69470b61ea2cccea0df48d9e5\r\ncommit-date: 2018-02-12\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.24.0\r\nLLVM version: 4.0\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48700/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48700/timeline", "performed_via_github_app": null, "state_reason": null}