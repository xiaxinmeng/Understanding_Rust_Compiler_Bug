{"url": "https://api.github.com/repos/rust-lang/rust/issues/71281", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/71281/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/71281/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/71281/events", "html_url": "https://github.com/rust-lang/rust/issues/71281", "id": 602449868, "node_id": "MDU6SXNzdWU2MDI0NDk4Njg=", "number": 71281, "title": "Unexpected panic after opening cargo project with the IntelliJ Rust plugin", "user": {"login": "tato", "id": 14120644, "node_id": "MDQ6VXNlcjE0MTIwNjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/14120644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tato", "html_url": "https://github.com/tato", "followers_url": "https://api.github.com/users/tato/followers", "following_url": "https://api.github.com/users/tato/following{/other_user}", "gists_url": "https://api.github.com/users/tato/gists{/gist_id}", "starred_url": "https://api.github.com/users/tato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tato/subscriptions", "organizations_url": "https://api.github.com/users/tato/orgs", "repos_url": "https://api.github.com/users/tato/repos", "events_url": "https://api.github.com/users/tato/events{/privacy}", "received_events_url": "https://api.github.com/users/tato/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-18T12:31:24Z", "updated_at": "2020-04-18T12:36:34Z", "closed_at": "2020-04-18T12:36:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "`cargo run` with `RUST_BACKTRACE=1` \r\n\r\n```\r\n   Compiling uu v1.0.0 (S:\\uu)\r\nthread 'rustc' panicked at 'failed to lookup `SourceFile` in new context', src\\librustc_middle\\ty\\query\\on_disk_cache.rs:456:17\r\nstack backtrace:\r\n   0: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt\r\n   1: core::fmt::write\r\n   2: <std::io::IoSliceMut as core::fmt::Debug>::fmt\r\n   3: std::panicking::take_hook\r\n   4: std::panicking::take_hook\r\n   5: rustc_driver::report_ice\r\n   6: std::panicking::rust_panic_with_hook\r\n   7: rust_begin_unwind\r\n   8: core::panicking::panic_fmt\r\n   9: core::option::expect_failed\r\n  10: <rustc_middle::ty::query::on_disk_cache::CacheDecoder as serialize::serialize::SpecializedDecoder<rustc_span::span_encoding::Span>>::specialized_decode\r\n  11: ZN12rustc_middle2ty5print6pretty66_DERIVE_rustc_middle_ty_Lift_lifted_FOR_TraitRefPrintOnlyTraitPath121_$LT$impl$u20$rustc_middle..ty..context..Lift$u20$for$u20$rustc_middle..ty..print..pretty..TraitRefPrintOnlyTraitPath$GT$11lift_to_tcx17h7c265f21e6d9688\r\n  12: <rustc_middle::ty::query::on_disk_cache::CacheDecoder as serialize::serialize::SpecializedDecoder<rustc_span::span_encoding::Span>>::specialized_decode\r\n  13: <rustc_builtin_macros::deriving::generic::find_type_parameters::Visitor as rustc_ast::visit::Visitor>::visit_mac\r\n  14: <rustc_typeck::variance::terms::InferredIndex as core::fmt::Debug>::fmt\r\n  15: <rustc_builtin_macros::deriving::generic::find_type_parameters::Visitor as rustc_ast::visit::Visitor>::visit_mac\r\n  16: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  17: <rustc_typeck::variance::terms::VarianceTerm as core::fmt::Debug>::fmt\r\n  18: <rustc_typeck::variance::terms::VarianceTerm as core::fmt::Debug>::fmt\r\n  19: <rustc_typeck::outlives::explicit::ExplicitPredicatesMap as core::fmt::Debug>::fmt\r\n  20: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  21: <rustc_typeck::astconv::Bounds as core::fmt::Debug>::fmt\r\n  22: <rustc_typeck::check::check_opaque_for_inheriting_lifetimes::ProhibitOpaqueVisitor as core::fmt::Debug>::fmt\r\n  23: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  24: <rustc_typeck::outlives::explicit::ExplicitPredicatesMap as core::fmt::Debug>::fmt\r\n  25: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  26: <rustc_typeck::astconv::Bounds as core::fmt::Debug>::fmt\r\n  27: <rustc_typeck::check::check_opaque_for_inheriting_lifetimes::ProhibitOpaqueVisitor as core::fmt::Debug>::fmt\r\n  28: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  29: <rustc_typeck::check::wfcheck::check_where_clauses::{{closure}}::CountParams as rustc_middle::ty::fold::TypeVisitor>::visit_const\r\n  30: <rustc_builtin_macros::deriving::generic::find_type_parameters::Visitor as rustc_ast::visit::Visitor>::visit_mac\r\n  31: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  32: <rustc_typeck::astconv::Bounds as core::fmt::Debug>::fmt\r\n  33: <rustc_typeck::check::check_opaque_for_inheriting_lifetimes::ProhibitOpaqueVisitor as core::fmt::Debug>::fmt\r\n  34: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  35: <rustc_typeck::check::upvar::InferBorrowKind as rustc_typeck::expr_use_visitor::Delegate>::mutate\r\n  36: <rustc_typeck::outlives::explicit::ExplicitPredicatesMap as core::fmt::Debug>::fmt\r\n  37: <rustc_builtin_macros::deriving::generic::find_type_parameters::Visitor as rustc_ast::visit::Visitor>::visit_mac\r\n  38: <rustc_typeck::check::op::Op as core::fmt::Debug>::fmt\r\n  39: rustc_typeck::check_crate\r\n  40: rustc_interface::passes::QueryContext::print_stats\r\n  41: rustc_errors::snippet::MultilineAnnotation::increase_depth\r\n  42: rustc_driver::pretty::print_after_hir_lowering\r\n  43: rustc_driver::pretty::print_after_hir_lowering\r\n  44: rustc_errors::snippet::MultilineAnnotation::increase_depth\r\n  45: rustc_driver::pretty::print_after_hir_lowering\r\n  46: rustc_driver::pretty::print_after_hir_lowering\r\n  47: <rustc_middle::ty::subst::GenericArg as rustc_middle::ty::query::keys::Key>::query_crate\r\n  48: <rustc_middle::ty::subst::GenericArg as rustc_middle::ty::query::keys::Key>::query_crate\r\n  49: rustc_errors::snippet::MultilineAnnotation::increase_depth\r\n  50: rustc_driver::pretty::print_after_hir_lowering\r\n  51: ZN244_$LT$std..error..$LT$impl$u20$core..convert..From$LT$alloc..string..String$GT$$u20$for$u20$alloc..boxed..Box$LT$dyn$u20$std..error..Error$u2b$core..marker..Sync$u2b$core..marker..Send$GT$$GT$..from..StringError$u20$as$u20$core..fmt..Display$GT$3fmt17\r\n  52: std::sys::windows::thread::Thread::new\r\n  53: BaseThreadInitThunk\r\n  54: RtlUserThreadStart\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.44.0-nightly (7f3df5772 2020-04-16) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: -C debuginfo=2 -C incremental --crate-type bin\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\n#0 [generics_of] processing `<editor::Mode as std::cmp::PartialEq>::eq`\r\n#1 [crate_variances] computing the variances for items in this crate\r\n#2 [variances_of] processing `buffer::PieceList`\r\n#3 [check_item_well_formed] processing `buffer::PieceList`\r\n#4 [analysis] running analysis passes on this crate\r\nend of query stack\r\nerror: could not compile `uu`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n```\r\n\r\nHappened after I opened the folder in IntelliJ for the first time. Deleting the target folder fixed the problem and the panic hasn't come up again. Sorry I don't know more.", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/71281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/71281/timeline", "performed_via_github_app": null, "state_reason": "completed"}