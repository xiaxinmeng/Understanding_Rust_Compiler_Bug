{"url": "https://api.github.com/repos/rust-lang/rust/issues/37999", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37999/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37999/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37999/events", "html_url": "https://github.com/rust-lang/rust/issues/37999", "id": 191724701, "node_id": "MDU6SXNzdWUxOTE3MjQ3MDE=", "number": 37999, "title": "Compiler panics on build", "user": {"login": "vitiral", "id": 5587659, "node_id": "MDQ6VXNlcjU1ODc2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/5587659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitiral", "html_url": "https://github.com/vitiral", "followers_url": "https://api.github.com/users/vitiral/followers", "following_url": "https://api.github.com/users/vitiral/following{/other_user}", "gists_url": "https://api.github.com/users/vitiral/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitiral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitiral/subscriptions", "organizations_url": "https://api.github.com/users/vitiral/orgs", "repos_url": "https://api.github.com/users/vitiral/repos", "events_url": "https://api.github.com/users/vitiral/events{/privacy}", "received_events_url": "https://api.github.com/users/vitiral/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-25T15:29:40Z", "updated_at": "2016-11-25T15:49:31Z", "closed_at": "2016-11-25T15:49:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nThe compiler is panicking on commit [8361e35](https://github.com/vitiral/rst/commit/8361e354c5a59ef7b307c26d388e35938ce96b99) of my project when I call `cargo build`:\r\n\r\n\r\n```\r\n# cargo build\r\n   Compiling rst_app v0.2.1 (file:///home/garrett/projects/rst)\r\nerror: internal compiler error: unexpected panic                                                                                                                                                            [0/807]\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: run with `RUST_BACKTRACE=1` for a backtrace\r\n\r\nthread 'rustc' panicked at 'index out of bounds: the len is 360124 but the index is 360124', ../src/libserialize/leb128.rs:46\r\nstack backtrace:\r\n   1:     0x7f949587585f - std::sys::backtrace::tracing::imp::write::h6f1d53a70916b90d\r\n   2:     0x7f9495884dbd - std::panicking::default_hook::{{closure}}::h137e876f7d3b5850\r\n   3:     0x7f949588222e - std::panicking::default_hook::h0ac3811ec7cee78c\r\n   4:     0x7f9495882918 - std::panicking::rust_panic_with_hook::hc303199e04562edf\r\n   5:     0x7f94958827b2 - std::panicking::begin_panic::h6ed03353807cf54d\r\n   6:     0x7f94958826f0 - std::panicking::begin_panic_fmt::hc321cece241bb2f5\r\n   7:     0x7f9495882671 - rust_begin_unwind\r\n   8:     0x7f94958cffff - core::panicking::panic_fmt::h27224b181f9f037f\r\n   9:     0x7f94958cffa3 - core::panicking::panic_bounds_check::h19e9bbc59320a57e\r\n  10:     0x7f948ec302ef - <serialize::opaque::Decoder<'a> as serialize::serialize::Decoder>::read_usize::hdb6b9929c2878103\r\n  11:     0x7f9493509798 - rustc_metadata::decoder::<impl rustc_metadata::cstore::MetadataBlob>::get_root::ha0bece0640a71bb4\r\n  12:     0x7f94935323bf - rustc_metadata::loader::Context::extract_one::h893f537a80fcaa7b\r\n  13:     0x7f949352f729 - rustc_metadata::loader::Context::find_library_crate::h0ae9ebab39601e07\r\n  14:     0x7f949351e0b9 - rustc_metadata::creader::CrateReader::load::hbbb9048f37b5929d\r\n  15:     0x7f949351d4d8 - rustc_metadata::creader::CrateReader::resolve_crate::h0ea8ce3f005d5018\r\n  16:     0x7f949353b59a - rustc_metadata::creader::CrateReader::resolve_crate_deps::{{closure}}::hba6352ef73c55dfc\r\n  17:     0x7f94934afc16 - <std::collections::hash::map::HashMap<K, V, S> as core::iter::traits::FromIterator<(K, V)>>::from_iter::hfdd794029d934f9e\r\n  18:     0x7f949351b84f - rustc_metadata::creader::CrateReader::register_crate::h5c79c40329468538\r\n  19:     0x7f94935228bb - rustc_metadata::creader::CrateReader::read_macros::hbcdddd25556965a6\r\n  20:     0x7f94935355db - rustc_metadata::macro_import::load_macros::hf8ed055f967f056a\r\n  21:     0x7f9493527d0b - <rustc_metadata::creader::CrateLoader<'a> as rustc::middle::cstore::CrateLoader>::load_macros::h1c3dc5592ec08b80\r\n  22:     0x7f9494e7c104 - <rustc_resolve::macros::ExpansionVisitor<'a, 'b> as syntax::visit::Visitor>::visit_item::he806776e3c2c5c85\r\n  23:     0x7f9494e732ef - syntax::visit::walk_item::h9ee859a018283218\r\n  24:     0x7f9494e7ceaa - <rustc_resolve::macros::ExpansionVisitor<'a, 'b> as syntax::visit::Visitor>::visit_item::he806776e3c2c5c85\r\n  25:     0x7f9494e79b9a - rustc_resolve::macros::<impl syntax::ext::base::Resolver for rustc_resolve::Resolver<'a>>::visit_expansion::h095f31c8c14629f1\r\n  26:     0x7f948f4790e6 - syntax::ext::expand::MacroExpander::collect_invocations::h3001d1fc85715c10\r\n  27:     0x7f948f475432 - syntax::ext::expand::MacroExpander::expand::hba1d6fcc6652f3dc\r\n  28:     0x7f948f474c92 - syntax::ext::expand::MacroExpander::expand_crate::hee7239fe3665f838\r\n  29:     0x7f948f480eed - syntax::ext::expand::expand_crate::h9213ee787f1c5e5d\r\n  30:     0x7f9495c40b5d - rustc_driver::driver::phase_2_configure_and_expand::{{closure}}::hb36e77d125a4fd93\r\n  31:     0x7f9495bf548f - rustc_driver::driver::phase_2_configure_and_expand::h2f62e5b496da5c2b\r\n  32:     0x7f9495beeefb - rustc_driver::driver::compile_input::hef221f9f618e92f5\r\n  33:     0x7f9495c1b206 - rustc_driver::run_compiler::h7dddd4089f8330b4\r\n  34:     0x7f9495b572c3 - std::panicking::try::do_call::h1e3ece12e3f812df\r\n  35:     0x7f949588ccb6 - __rust_maybe_catch_panic\r\n  36:     0x7f9495b754f9 - <F as alloc::boxed::FnBox<A>>::call_box::h05b222e46803eb30\r\n  37:     0x7f9495880c80 - std::sys::thread::Thread::new::thread_start::h759e10bc4abc7e72\r\n  38:     0x7f948e7f5453 - start_thread\r\n  39:     0x7f94955517de - __GI___clone\r\n  40:                0x0 - <unknown>\r\n\r\nerror: Could not compile `rst_app`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n```\r\n\r\nWhen I run with `nightly-x86_64-unknown-linux-gnu unchanged - rustc 1.15.0-nightly (7b3eeea22 2016-11-21)` it seems to work.", "closed_by": {"login": "vitiral", "id": 5587659, "node_id": "MDQ6VXNlcjU1ODc2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/5587659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitiral", "html_url": "https://github.com/vitiral", "followers_url": "https://api.github.com/users/vitiral/followers", "following_url": "https://api.github.com/users/vitiral/following{/other_user}", "gists_url": "https://api.github.com/users/vitiral/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitiral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitiral/subscriptions", "organizations_url": "https://api.github.com/users/vitiral/orgs", "repos_url": "https://api.github.com/users/vitiral/repos", "events_url": "https://api.github.com/users/vitiral/events{/privacy}", "received_events_url": "https://api.github.com/users/vitiral/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37999/timeline", "performed_via_github_app": null, "state_reason": "completed"}