{"url": "https://api.github.com/repos/rust-lang/rust/issues/43692", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/43692/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/43692/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/43692/events", "html_url": "https://github.com/rust-lang/rust/issues/43692", "id": 248214798, "node_id": "MDU6SXNzdWUyNDgyMTQ3OTg=", "number": 43692, "title": "Allow underscores in unicode escapes", "user": {"login": "behnam", "id": 37169, "node_id": "MDQ6VXNlcjM3MTY5", "avatar_url": "https://avatars.githubusercontent.com/u/37169?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behnam", "html_url": "https://github.com/behnam", "followers_url": "https://api.github.com/users/behnam/followers", "following_url": "https://api.github.com/users/behnam/following{/other_user}", "gists_url": "https://api.github.com/users/behnam/gists{/gist_id}", "starred_url": "https://api.github.com/users/behnam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behnam/subscriptions", "organizations_url": "https://api.github.com/users/behnam/orgs", "repos_url": "https://api.github.com/users/behnam/repos", "events_url": "https://api.github.com/users/behnam/events{/privacy}", "received_events_url": "https://api.github.com/users/behnam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46311113, "node_id": "MDU6TGFiZWw0NjMxMTExMw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-unicode", "name": "A-unicode", "color": "f7e101", "default": false, "description": "Area: unicode related"}, {"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-05T23:12:42Z", "updated_at": "2017-09-12T04:14:08Z", "closed_at": "2017-09-12T04:14:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Underscores are supported in all numeric types in Rust, and a recent clippy update actually warns on not using underscores for long numbers.\r\n\r\nHowever, underscores are not supported for Unicode Escape literals. Therefore, it is not possible to write the first character of the 16th plane as `\\u{10_0000}`, while `\\u{100000}` is not easy to read and can be misread as `\\u{10000}`.\r\n\r\nAt the moment, underscore results in an error like this:\r\n```rust\r\nerror: invalid character in unicode escape: _\r\n  --> unic/tests/basics_test.rs:31:23\r\n   |\r\n31 |         Age::of('\\u{10_FFFF}'),\r\n   |                       ^\r\n```\r\nmeaning that there's no backward-compatibility issue and supporting underscores would be a compatible enhancement.\r\n\r\nUnicode already has clear definition of Planes, numbered 0 to 16, which hint to write literals as `\\u{<plane>_<4-hex-digits>}` sequences.\r\n\r\nOptionally, we can opt-in to only allow underscore in a specific position, like the aforementioned format. But I think that would just make it too complicate for no apparent reason. Such a check could be a clippy rule, of course.\r\n\r\nWhat do you think?", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/43692/reactions", "total_count": 14, "+1": 14, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/43692/timeline", "performed_via_github_app": null, "state_reason": "completed"}