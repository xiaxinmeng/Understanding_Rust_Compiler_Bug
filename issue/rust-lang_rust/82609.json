{"url": "https://api.github.com/repos/rust-lang/rust/issues/82609", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/82609/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/82609/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/82609/events", "html_url": "https://github.com/rust-lang/rust/issues/82609", "id": 818012575, "node_id": "MDU6SXNzdWU4MTgwMTI1NzU=", "number": 82609, "title": "Self {..Default::default()} in Default trait implementation causes stack overflow", "user": {"login": "Ginkooo", "id": 11911709, "node_id": "MDQ6VXNlcjExOTExNzA5", "avatar_url": "https://avatars.githubusercontent.com/u/11911709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ginkooo", "html_url": "https://github.com/Ginkooo", "followers_url": "https://api.github.com/users/Ginkooo/followers", "following_url": "https://api.github.com/users/Ginkooo/following{/other_user}", "gists_url": "https://api.github.com/users/Ginkooo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ginkooo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ginkooo/subscriptions", "organizations_url": "https://api.github.com/users/Ginkooo/orgs", "repos_url": "https://api.github.com/users/Ginkooo/repos", "events_url": "https://api.github.com/users/Ginkooo/events{/privacy}", "received_events_url": "https://api.github.com/users/Ginkooo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-27T20:32:23Z", "updated_at": "2021-02-27T20:48:38Z", "closed_at": "2021-02-27T20:48:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, I'm not sure if it's a bug, or if this should be done differently but when i do this:\r\n```rust\r\nstruct Foo {\r\n    points: Vec<(u16, u16)>\r\n}\r\n\r\nimpl Default for Foo {\r\n    fn default() -> Self {\r\n        return Self{..Default::default()}\r\n    }\r\n}\r\n\r\nfn main() {\r\n    let foo = Foo::default();                                                                                                       \r\n}\r\n```\r\n\r\nIt causes stackoverflow:\r\n\r\n```\r\nthread 'main' has overflowed its stack\r\nfatal runtime error: stack overflow\r\n[1]    27139 abort (core dumped)  ./example\r\n```\r\n\r\nI think it enters infinite recursion after this.\r\n                 \r\nAnyway, it would be nice to have that feature, so if we have some custom fields defined in struct Foo, we could provide defaults in a trait implementation and do `..Default::default()` for all others. What do you think?", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/82609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/82609/timeline", "performed_via_github_app": null, "state_reason": "completed"}