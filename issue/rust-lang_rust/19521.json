{"url": "https://api.github.com/repos/rust-lang/rust/issues/19521", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19521/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19521/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19521/events", "html_url": "https://github.com/rust-lang/rust/issues/19521", "id": 50972760, "node_id": "MDU6SXNzdWU1MDk3Mjc2MA==", "number": 19521, "title": "ICE with 'index out of bounds: the len is 0 but the index is 0' in librustc/middle/typeck/check/mod.rs:2678", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-04T13:03:02Z", "updated_at": "2014-12-10T12:31:17Z", "closed_at": "2014-12-10T12:31:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to compile code I was working on, which by my mistake tried to call a return value of non-existing function and I got ICE.\n\nSource:\n\n``` rust\nfn main() { [].does_not_exist()(); }\n```\n\nResult:\n\n```\npanic.rs:1:16: 1:32 error: type `[_, ..0]` does not implement any method in scope named `does_not_exist`\npanic.rs:1 fn main() { [].does_not_exist()(); }\n                          ^~~~~~~~~~~~~~~~\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' panicked at 'index out of bounds: the len is 0 but the index is 0', /var/tmp/portage/dev-lang/rust-9999-r3/work/rust-9999/src/librustc/middle/typeck/check/mod.rs:2678\n\nstack backtrace:\n   1:     0x7f180c132d80 - rt::backtrace::imp::write::h15f1e1185148ff93edy\n   2:     0x7f180c136710 - <unknown>\n   3:     0x7f180bd8b030 - unwind::begin_unwind_inner::hc3ee95128eea69a66Qc\n   4:     0x7f180bd8ac60 - unwind::begin_unwind_fmt::hb6fad94cf11ea4ddhOc\n   5:     0x7f180bd8ac20 - rust_begin_unwind\n   6:     0x7f180bdcf3b0 - panicking::panic_fmt::ha146387686ab12ffVXl\n   7:     0x7f180bdd4860 - panicking::panic_bounds_check::hcac6d3b2fdf550f7tWl\n   8:     0x7f180ae45f30 - <unknown>\n   9:     0x7f180ae3d1d0 - <unknown>\n  10:     0x7f180ae3a810 - <unknown>\n  11:     0x7f180ae47620 - <unknown>\n  12:     0x7f180ae7d8b0 - middle::typeck::check::check_stmt::hf7f81a4c86de5c59F2q\n  13:     0x7f180ae00400 - <unknown>\n  14:     0x7f180addae50 - <unknown>\n  15:     0x7f180adfe050 - <unknown>\n  16:     0x7f180adfa3c0 - middle::typeck::check::check_item::h5b28fa70b2217219WGl\n  17:     0x7f180adfdd10 - middle::typeck::check::check_item_types::h5528955bf9d6bfd1Vll\n  18:     0x7f180b164cb0 - <unknown>\n  19:     0x7f180b163f10 - middle::typeck::check_crate::h09babae4dc71701dc6O\n  20:     0x7f180c71bf70 - driver::driver::phase_3_run_analysis_passes::h23f258b8bc6b16397nS\n  21:     0x7f180c7115c0 - driver::driver::compile_input::h3389418cf360d9f174R\n  22:     0x7f180c799890 - <unknown>\n  23:     0x7f180c799780 - <unknown>\n  24:     0x7f180c5c3e90 - <unknown>\n  25:     0x7f180c103200 - <unknown>\n  26:     0x7f180bd88de0 - <unknown>\n  27:     0x7f180bde2080 - <unknown>\n  28:     0x7f180bde2070 - rust_try\n  29:     0x7f180bd88ec0 - unwind::try::h0b27bbf3de71e33fpFc\n  30:     0x7f180bd88c50 - task::Task::run::h3e1f1ea7d681f88efOb\n  31:     0x7f180bd88840 - <unknown>\n  32:     0x7f180bd8a2d0 - <unknown>\n  33:     0x7f1807534250 - <unknown>\n  34:     0x7f180ba68409 - __clone\n  35:                0x0 - <unknown>\n```\n\nMy rust version:\nrustc 0.13.0-dev (3c89031e1 2014-12-04 04:52:37 +0000)\nbinary: rustc\ncommit-hash: 3c89031e1f213030f0514c8dcb9e6fa19ddbd323\ncommit-date: 2014-12-04 04:52:37 +0000\nhost: x86_64-unknown-linux-gnu\nrelease: 0.13.0-dev\n\nBacktrace from gdb:\n\n```\n(gdb) break rust_panic\nFunction \"rust_panic\" not defined.\nMake breakpoint pending on future shared library load? (y or [n]) y\nBreakpoint 1 (rust_panic) pending.\n(gdb) run panic.rs\nStarting program: /usr/bin/rustc panic.rs\nwarning: Could not load shared library symbols for linux-vdso.so.1.\nDo you need \"set solib-search-path\" or \"set sysroot\"?\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\n[New Thread 0x7ffff03ff480 (LWP 30664)]\npanic.rs:1:16: 1:32 error: type `[_, ..0]` does not implement any method in scope named `does_not_exist`\npanic.rs:1 fn main() { [].does_not_exist()(); }\n                          ^~~~~~~~~~~~~~~~\n[Switching to Thread 0x7ffff03ff480 (LWP 30664)]\n\nBreakpoint 1, 0x00007ffff70bba80 in rust_panic () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n(gdb) bt\n#0  0x00007ffff70bba80 in rust_panic () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#1  0x00007ffff70bc194 in unwind::begin_unwind_inner::hc3ee95128eea69a66Qc () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#2  0x00007ffff70bbf0d in unwind::begin_unwind_fmt::hb6fad94cf11ea4ddhOc () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#3  0x00007ffff70bbc60 in rust_begin_unwind () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#4  0x00007ffff71003e9 in panicking::panic_fmt::ha146387686ab12ffVXl () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#5  0x00007ffff71058fc in panicking::panic_bounds_check::hcac6d3b2fdf550f7tWl () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#6  0x00007ffff6177ed0 in middle::typeck::check::check_argument_types::hca7f8145d403d642Myo () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#7  0x00007ffff616e292 in middle::typeck::check::check_method_argument_types::h64c1e1e9ccd7993eVwo () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#8  0x00007ffff616bd30 in middle::typeck::check::try_overloaded_call::hbc7d47c610f9542fj5n () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#9  0x00007ffff6178cf7 in middle::typeck::check::check_expr_with_unifier::ha2ce889b7659beabh7o () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#10 0x00007ffff61aeaa7 in middle::typeck::check::check_stmt::hf7f81a4c86de5c59F2q () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#11 0x00007ffff6131523 in middle::typeck::check::check_block_with_expected::ha736faeb540ea329U6q () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#12 0x00007ffff610cf30 in middle::typeck::check::check_fn::hb2691541cbe76f81Hxl () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#13 0x00007ffff612f186 in middle::typeck::check::check_bare_fn::h3413c0267a7f62a5Lml () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#14 0x00007ffff612b501 in middle::typeck::check::check_item::h5b28fa70b2217219WGl () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#15 0x00007ffff612eee1 in middle::typeck::check::check_item_types::h5528955bf9d6bfd1Vll () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#16 0x00007ffff6495d26 in util::common::time::h13439858745680149165 () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#17 0x00007ffff649512f in middle::typeck::check_crate::h09babae4dc71701dc6O () from /usr/lib/rust-9999/librustc-gentoo-git.so\n#18 0x00007ffff7a4f58b in driver::driver::phase_3_run_analysis_passes::h23f258b8bc6b16397nS () from /usr/lib/rust-9999/librustc_trans-gentoo-git.so\n#19 0x00007ffff7a44440 in driver::driver::compile_input::h3389418cf360d9f174R () from /usr/lib/rust-9999/librustc_trans-gentoo-git.so\n#20 0x00007ffff7acc3f6 in driver::run_compiler::h59934d7af0b42919n3T () from /usr/lib/rust-9999/librustc_trans-gentoo-git.so\n#21 0x00007ffff7aca7bc in driver::run::closure.59905 () from /usr/lib/rust-9999/librustc_trans-gentoo-git.so\n#22 0x00007ffff78f4edb in task::TaskBuilder::try_future::closure.39678 () from /usr/lib/rust-9999/librustc_trans-gentoo-git.so\n#23 0x00007ffff7434360 in task::TaskBuilder::spawn_internal::closure.30963 () from /usr/lib/rust-9999/libstd-gentoo-git.so\n#24 0x00007ffff70b9e52 in task::Task::spawn::closure.5759 () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#25 0x00007ffff711308c in rust_try_inner () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#26 0x00007ffff7113076 in rust_try () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#27 0x00007ffff70b9f03 in unwind::try::h0b27bbf3de71e33fpFc () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#28 0x00007ffff70b9ccc in task::Task::run::h3e1f1ea7d681f88efOb () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#29 0x00007ffff70b9918 in task::Task::spawn::closure.5735 () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#30 0x00007ffff70bb355 in thread::thread_start::h9e312a11c305a77ai6b () from /usr/lib/rust-9999/librustrt-gentoo-git.so\n#31 0x00007ffff2865314 in start_thread (arg=0x7ffff03ff480) at pthread_create.c:310\n#32 0x00007ffff6d9943d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/19521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19521/timeline", "performed_via_github_app": null, "state_reason": "completed"}