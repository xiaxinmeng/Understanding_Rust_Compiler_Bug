{"url": "https://api.github.com/repos/rust-lang/rust/issues/68152", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/68152/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/68152/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/68152/events", "html_url": "https://github.com/rust-lang/rust/issues/68152", "id": 548567065, "node_id": "MDU6SXNzdWU1NDg1NjcwNjU=", "number": 68152, "title": "[ARM] machine reboots when cargo build or cargo update", "user": {"login": "blakehawkins", "id": 6664134, "node_id": "MDQ6VXNlcjY2NjQxMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6664134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blakehawkins", "html_url": "https://github.com/blakehawkins", "followers_url": "https://api.github.com/users/blakehawkins/followers", "following_url": "https://api.github.com/users/blakehawkins/following{/other_user}", "gists_url": "https://api.github.com/users/blakehawkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/blakehawkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blakehawkins/subscriptions", "organizations_url": "https://api.github.com/users/blakehawkins/orgs", "repos_url": "https://api.github.com/users/blakehawkins/repos", "events_url": "https://api.github.com/users/blakehawkins/events{/privacy}", "received_events_url": "https://api.github.com/users/blakehawkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-12T12:56:46Z", "updated_at": "2020-01-14T23:08:39Z", "closed_at": "2020-01-12T13:07:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```bash\r\n$ rustup show\r\nDefault host: armv7-unknown-linux-gnueabihf\r\nrustup home:  /home/pi/.rustup\r\n\r\ninstalled toolchains\r\n--------------------\r\n\r\nstable-armv7-unknown-linux-gnueabihf (default)\r\nnightly-armv7-unknown-linux-gnueabihf\r\n\r\ninstalled targets for active toolchain\r\n--------------------------------------\r\n\r\narmv7-unknown-linux-gnueabihf\r\narmv7-unknown-linux-musleabihf\r\n\r\nactive toolchain\r\n----------------\r\n\r\nstable-armv7-unknown-linux-gnueabihf (default)\r\nrustc 1.40.0 (73528e339 2019-12-16)\r\n```\r\n\r\nContext:\r\n\r\n- this is a low-power device (Raspberry Pi B, ARM)\r\n- I compile rust on this machine from time to time, and have long-running services\r\n- I performed a `rustup update` (now on stable rustc 1.40.0); the issue may be a regression as I never had this problem before, but I don't know how to check what version of rustc I was using previously\r\n- Random hypothesis this is a power supply fault or filesystem corruption\r\n\r\nBehavior:\r\n\r\n```bash\r\n$ ionice nice cargo update\r\n    Updating crates.io index\r\nConnection reset by 192.168.1.10 port 22                             ]  35.08%\r\n```\r\n\r\n```bash\r\n$ ionice nice cargo build\r\n  Downloaded percent-encoding v1.0.1\r\n  Downloaded uuid v0.7.4\r\n  Downloaded error-chain v0.12.1\r\n  Downloaded futures v0.1.29\r\n  Downloaded failure_derive v0.1.6\r\n  Downloaded urlencoding v1.0.0\r\n  Downloaded serde v1.0.104\r\n  Downloaded serde_yaml v0.8.11\r\n  Downloaded serde_json v1.0.44\r\n  Downloaded failure v0.1.6\r\n  Downloaded hyper-openssl v0.7.1\r\n  Downloaded http v0.1.21\r\n  Downloaded hyper v0.12.35\r\n  Downloaded serde_derive v1.0.104\r\n  Downloaded backtrace v0.3.40\r\n  Downloaded itoa v0.4.4\r\n  Downloaded tokio-core v0.1.17\r\n  Downloaded dtoa v0.4.4\r\n  Downloaded bytes v0.4.12\r\n  Downloaded ryu v1.0.2\r\n  Downloaded openssl-sys v0.9.53\r\n  Downloaded openssl v0.10.26\r\n  Downloaded syn v1.0.13\r\n  Downloaded lazy_static v1.4.0\r\n  Downloaded synstructure v0.12.3\r\n  Downloaded quote v1.0.2\r\n  Downloaded tokio-openssl v0.3.0\r\n  Downloaded tokio-io v0.1.12\r\n  Downloaded rand v0.6.5\r\n  Downloaded linked_hash_set v0.1.3\r\n  Downloaded linked-hash-map v0.5.2\r\n  Downloaded yaml-rust v0.4.3\r\n  Downloaded version_check v0.1.5\r\n  Downloaded proc-macro2 v1.0.7\r\n  Downloaded antidote v1.0.0\r\n  Downloaded cfg-if v0.1.10\r\n  Downloaded either v1.5.3\r\n  Downloaded rustc-demangle v0.1.16\r\n  Downloaded tokio-reactor v0.1.11\r\n  Downloaded rand_pcg v0.1.2\r\n  Downloaded rand_hc v0.1.0\r\n  Downloaded http-body v0.1.0\r\n  Downloaded time v0.1.42\r\n  Downloaded httparse v1.3.4\r\n  Downloaded rand_core v0.4.2\r\n  Downloaded scoped-tls v0.1.2\r\n  Downloaded futures-cpupool v0.1.8\r\n  Downloaded tokio-timer v0.2.12\r\n  Downloaded bitflags v1.2.1\r\n  Downloaded rustc_version v0.2.3\r\n  Downloaded h2 v0.1.26\r\n  Downloaded tokio-buf v0.1.1\r\n  Downloaded rand_jitter v0.1.4\r\n  Downloaded byteorder v1.3.2\r\n  Downloaded rand_isaac v0.1.1\r\n  Downloaded iovec v0.1.4\r\n  Downloaded libc v0.2.66\r\n  Downloaded tokio v0.1.22\r\n  Downloaded tokio-executor v0.1.9\r\n  Downloaded tokio-threadpool v0.1.17\r\n  Downloaded unicode-xid v0.2.0\r\n  Downloaded log v0.4.8\r\n  Downloaded rand_xorshift v0.1.1\r\n  Downloaded want v0.2.0\r\n  Downloaded pkg-config v0.3.17\r\n  Downloaded autocfg v0.1.7\r\n  Downloaded net2 v0.2.33\r\n  Downloaded rand_chacha v0.1.1\r\n  Downloaded cc v1.0.50\r\n  Downloaded rand_os v0.1.3\r\n  Downloaded mio v0.6.21\r\n  Downloaded tokio-tcp v0.1.3\r\n  Downloaded fnv v1.0.6\r\n  Downloaded backtrace-sys v0.1.32\r\n  Downloaded foreign-types v0.3.2\r\n  Downloaded num_cpus v1.11.1\r\n  Downloaded slab v0.4.2\r\n  Downloaded string v0.2.1\r\n  Downloaded tokio-uds v0.2.5\r\n  Downloaded parking_lot v0.9.0\r\n  Downloaded semver v0.9.0\r\n  Downloaded rand_core v0.3.1\r\n  Downloaded try-lock v0.2.2\r\n  Downloaded tokio-current-thread v0.1.6\r\n  Downloaded indexmap v1.3.0\r\n  Downloaded crossbeam-queue v0.1.2\r\n  Downloaded crossbeam-deque v0.7.2\r\n  Downloaded tokio-fs v0.1.6\r\n  Downloaded tokio-udp v0.1.5\r\n  Downloaded tokio-sync v0.1.7\r\n  Downloaded crossbeam-utils v0.6.6\r\n  Downloaded lock_api v0.3.3\r\n  Downloaded parking_lot_core v0.6.2\r\n  Downloaded mio-uds v0.6.7\r\n  Downloaded crossbeam-utils v0.7.0\r\n  Downloaded semver-parser v0.7.0\r\n  Downloaded foreign-types-shared v0.1.1\r\n  Downloaded crossbeam-epoch v0.8.0\r\n  Downloaded smallvec v0.6.13\r\n  Downloaded tokio-codec v0.1.1\r\n  Downloaded memoffset v0.5.3\r\n  Downloaded scopeguard v1.0.0\r\n  Downloaded maybe-uninit v2.0.0\r\n   Compiling libc v0.2.66\r\n   Compiling autocfg v0.1.7\r\n   Compiling cfg-if v0.1.10\r\n   Compiling semver-parser v0.7.0\r\n   Compiling futures v0.1.29\r\npacket_write_wait: Connection to 192.168.1.10 port 22: Broken pipe     ] 1/158: libc(build.rs), futures, semver-parser, autocfg\r\n```\r\n\r\n```bash\r\n$ ionice nice cargo build\r\n   Compiling cc v1.0.18\r\n   Compiling futures v0.1.23\r\n   Compiling version_check v0.1.4\r\n   Compiling byteorder v1.2.3\r\n   Compiling lazy_static v1.0.2\r\n   Compiling winapi-build v0.1.1\r\n   Compiling unicode-xid v0.1.0\r\n   Compiling void v1.0.2\r\n   Compiling scopeguard v0.3.3\r\n   Compiling encoding_index_tests v0.1.4\r\n   Compiling slab v0.4.0\r\n   Compiling nodrop v0.1.12\r\n   Compiling lazycell v0.6.0\r\n   Compiling memoffset v0.2.1\r\n   Compiling rustc-demangle v0.1.9\r\n   Compiling serde v1.0.70\r\n   Compiling matches v0.1.7\r\n   Compiling siphasher v0.2.2\r\n   Compiling winapi v0.2.8\r\n   Compiling backtrace v0.2.3\r\n   Compiling stable_deref_trait v1.1.0\r\n   Compiling unicode-normalization v0.1.7\r\n   Compiling unicode-xid v0.0.4\r\n   Compiling quote v0.3.15\r\n   Compiling percent-encoding v1.0.1\r\n    Building [======>                                                 ] 23/180: backtrace(build.rs), quote, unicode-normalization, percent-encoding\r\n```\r\n\r\n(All three cases above result in system crash)\r\n\r\nQuestions:\r\n\r\n1. Is there a known regression in the ARM toolchain\r\n2. Is there a way to check what version was previously installed?\r\n3. Is there a cache I should clear and try again?\r\n4. Any other diags needed?", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/68152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/68152/timeline", "performed_via_github_app": null, "state_reason": "completed"}