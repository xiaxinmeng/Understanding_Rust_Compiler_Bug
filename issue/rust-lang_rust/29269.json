{"url": "https://api.github.com/repos/rust-lang/rust/issues/29269", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/29269/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/29269/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/29269/events", "html_url": "https://github.com/rust-lang/rust/issues/29269", "id": 113135527, "node_id": "MDU6SXNzdWUxMTMxMzU1Mjc=", "number": 29269, "title": "build from source failed to find shared object", "user": {"login": "HuStmpHrrr", "id": 6101711, "node_id": "MDQ6VXNlcjYxMDE3MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6101711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HuStmpHrrr", "html_url": "https://github.com/HuStmpHrrr", "followers_url": "https://api.github.com/users/HuStmpHrrr/followers", "following_url": "https://api.github.com/users/HuStmpHrrr/following{/other_user}", "gists_url": "https://api.github.com/users/HuStmpHrrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/HuStmpHrrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HuStmpHrrr/subscriptions", "organizations_url": "https://api.github.com/users/HuStmpHrrr/orgs", "repos_url": "https://api.github.com/users/HuStmpHrrr/repos", "events_url": "https://api.github.com/users/HuStmpHrrr/events{/privacy}", "received_events_url": "https://api.github.com/users/HuStmpHrrr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-24T04:37:03Z", "updated_at": "2015-10-24T18:55:05Z", "closed_at": "2015-10-24T18:55:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Debian Jessie, clone to local and build.  then:\n\n``` bash\n./configure --prefix=$some_path\nmake && make install\n```\n\nsince rust is in fast iteration, I try to avoid to have the files copied to system folders.\n\nhowever, \n\n```\n$ bin/rustc\n./rustc: error while loading shared libraries: librustc_driver-bb943c5a.so: cannot open shared object file: No such file or directory\n$ find . -type f -name '*.so' | grep librustc_driver-bb943c5a.so\n50:./lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_driver-bb943c5a.so\n54:./lib/librustc_driver-bb943c5a.so\n```\n\ntherefore I doubt it's the linking problem.\n\n```\n$ \u00a0export LD_LIBRARY_PATH=$PWD/lib\n$ bin/rustc # working this time\n```\n\nif `LD_LIBRARY_PATH` is not set and `ldconfig` is not setup, \n\n```\n$ ldd rustc\n        linux-vdso.so.1 (0x00007ffc8a7f7000)\n        librustc_driver-bb943c5a.so => not found\n        libstd-bb943c5a.so => not found\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f4df1b93000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f4df213d000)\n```\n\nso I am wondering if it's intended? I think shared object linking can be setup while compiling, can't it?\n\nI installed several software in the same way, and rustc is the first one I have dynamic linking issue.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/29269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/29269/timeline", "performed_via_github_app": null, "state_reason": "completed"}