{"url": "https://api.github.com/repos/rust-lang/rust/issues/44774", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/44774/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/44774/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/44774/events", "html_url": "https://github.com/rust-lang/rust/issues/44774", "id": 259857070, "node_id": "MDU6SXNzdWUyNTk4NTcwNzA=", "number": 44774, "title": "Misleading error message when using associated const in where clause for fixed size array", "user": {"login": "JDemler", "id": 12686782, "node_id": "MDQ6VXNlcjEyNjg2Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/12686782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JDemler", "html_url": "https://github.com/JDemler", "followers_url": "https://api.github.com/users/JDemler/followers", "following_url": "https://api.github.com/users/JDemler/following{/other_user}", "gists_url": "https://api.github.com/users/JDemler/gists{/gist_id}", "starred_url": "https://api.github.com/users/JDemler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JDemler/subscriptions", "organizations_url": "https://api.github.com/users/JDemler/orgs", "repos_url": "https://api.github.com/users/JDemler/repos", "events_url": "https://api.github.com/users/JDemler/events{/privacy}", "received_events_url": "https://api.github.com/users/JDemler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-22T15:44:30Z", "updated_at": "2018-06-09T16:23:18Z", "closed_at": "2018-06-09T16:23:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using an associated const in a where clause to describe a fixed size array, the error message does not state that fixed size arrays cannot be described by associated consts.\r\n\r\nAlas, it says, that the trait bound is not satisfied and suggests adding the trait bound.\r\n\r\nExample rust code: [Playground](https://play.rust-lang.org/?gist=95ffa2f49c39c26a415d370fb538a90f&version=stable)\r\n```rust\r\nstruct Seq([u8; 8]);\r\n\r\nimpl From<[u8; 8]> for Seq {\r\n    fn from(data: [u8; 8]) -> Seq {\r\n        Seq(data)\r\n    }\r\n}\r\n\r\ntrait Sequence {\r\n    const LEN: usize;\r\n}\r\n\r\nimpl Sequence for Seq {\r\n    const LEN: usize = 8;\r\n}\r\n\r\ntrait ByteSequence {\r\n    fn check();\r\n}\r\n\r\nimpl<S> ByteSequence for S\r\nwhere\r\n    S: Sequence + From<[u8; <S as Sequence>::LEN]>,\r\n{\r\n    fn check() {}\r\n}\r\n```\r\n\r\nResulting Error message:\r\n```\r\nerror[E0277]: the trait bound `S: Sequence` is not satisfied\r\n  --> src/main.rs:23:29\r\n   |\r\n23 |     S: Sequence + From<[u8; <S as Sequence>::LEN]>,\r\n   |                             ^^^^^^^^^^^^^^^^^^^^ the trait `Sequence` is not implemented for `S`\r\n   |\r\n   = help: consider adding a `where S: Sequence` bound\r\n   = note: required by `Sequence::LEN`\r\n```", "closed_by": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/44774/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/44774/timeline", "performed_via_github_app": null, "state_reason": "completed"}