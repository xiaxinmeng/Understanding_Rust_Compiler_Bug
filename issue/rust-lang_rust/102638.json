{"url": "https://api.github.com/repos/rust-lang/rust/issues/102638", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/102638/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/102638/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/102638/events", "html_url": "https://github.com/rust-lang/rust/issues/102638", "id": 1395356600, "node_id": "I_kwDOAAsO6M5TK3O4", "number": 102638, "title": "target mipsel-unknown-linux-gnu standard libraries problem", "user": {"login": "sceedy", "id": 62379999, "node_id": "MDQ6VXNlcjYyMzc5OTk5", "avatar_url": "https://avatars.githubusercontent.com/u/62379999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sceedy", "html_url": "https://github.com/sceedy", "followers_url": "https://api.github.com/users/sceedy/followers", "following_url": "https://api.github.com/users/sceedy/following{/other_user}", "gists_url": "https://api.github.com/users/sceedy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sceedy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sceedy/subscriptions", "organizations_url": "https://api.github.com/users/sceedy/orgs", "repos_url": "https://api.github.com/users/sceedy/repos", "events_url": "https://api.github.com/users/sceedy/events{/privacy}", "received_events_url": "https://api.github.com/users/sceedy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 106552066, "node_id": "MDU6TGFiZWwxMDY1NTIwNjY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-MIPS", "name": "O-MIPS", "color": "6e6ec0", "default": false, "description": "Target: MIPS processors"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-03T19:05:03Z", "updated_at": "2022-10-06T23:45:41Z", "closed_at": "2022-10-06T23:45:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nI have sucessfully compiled a static librsvg for 10 targets (1 native and 9 crosses) but my last target is giving me problems.\r\n\r\n\"export RUSTFLAGS='-C target-cpu=mips32'\" sorts out the code in the tarball but I still have unimplemented opcodes in the compiler libraries for target mipsel-unknown-linux-gnu (see \"unimplemented opcodes.txt\") i.e. opcodes for mips32r2 (i.e. mips32 version 2 as per gcc compiler default, not version 1 as per my target).\r\nI then installed Xargo to try and produce a set of standard libraries that can be run by every processor in the supported cpu list for the target. It fails on the last step with an internal compiler error (see \"rust error.txt\", the ... represents every step with no error, as re-iterated in the error message).\r\nAs Xargo is based on the nightly build, if I just have to wait for the internal bug to be fixed so I can generate my own standard libraries that is  fine.\r\n[rust error.txt](https://github.com/rust-lang/cargo/files/9700082/rust.error.txt)\r\n[unimplemented opcodes.txt](https://github.com/rust-lang/cargo/files/9700083/unimplemented.opcodes.txt)\r\n\r\nPlease note that my prefered solution is that the standard libraries for rust can be executed by every cpu on the supported list for the target.\r\n\n\n### Steps\n\n_No response_\n\n### Possible Solution(s)\n\n_No response_\n\n### Notes\n\n_No response_\n\n### Version\n\n```text\ndebian@debian:~$ cargo version --verbose\r\n\r\ncargo 1.66.0-nightly (f5fed93ba 2022-09-27)\r\n\r\nrelease: 1.66.0-nightly\r\n\r\ncommit-hash: f5fed93ba24607980647962c59863bbabb03ce14\r\n\r\ncommit-date: 2022-09-27\r\n\r\nhost: x86_64-unknown-linux-gnu\r\n\r\nlibgit2: 1.5.0 (sys:0.15.0 vendored)\r\n\r\nlibcurl: 7.83.1-DEV (sys:0.4.55+curl-7.83.1 vendored ssl:OpenSSL/1.1.1q)\r\n\r\nos: Debian 11 (bullseye) [64-bit]\r\n\r\ndebian@debian:~$ xargo version --verbose\r\n\r\n+ \"cargo\" \"version\" \"--verbose\"\r\n\r\ncargo 1.66.0-nightly (f5fed93ba 2022-09-27)\r\n\r\nrelease: 1.66.0-nightly\r\n\r\ncommit-hash: f5fed93ba24607980647962c59863bbabb03ce14\r\n\r\ncommit-date: 2022-09-27\r\n\r\nhost: x86_64-unknown-linux-gnu\r\n\r\nlibgit2: 1.5.0 (sys:0.15.0 vendored)\r\n\r\nlibcurl: 7.83.1-DEV (sys:0.4.55+curl-7.83.1 vendored ssl:OpenSSL/1.1.1q)\r\n\r\nos: Debian 11 (bullseye) [64-bit]\r\n\r\ndebian@debian:~$\n```\n", "closed_by": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/102638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/102638/timeline", "performed_via_github_app": null, "state_reason": "completed"}