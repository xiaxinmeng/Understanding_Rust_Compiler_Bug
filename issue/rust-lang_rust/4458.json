{"url": "https://api.github.com/repos/rust-lang/rust/issues/4458", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/4458/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/4458/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/4458/events", "html_url": "https://github.com/rust-lang/rust/issues/4458", "id": 9916207, "node_id": "MDU6SXNzdWU5OTE2MjA3", "number": 4458, "title": "sha1::Sha1.result_str() can yield incorrect results", "user": {"login": "pkgw", "id": 59598, "node_id": "MDQ6VXNlcjU5NTk4", "avatar_url": "https://avatars.githubusercontent.com/u/59598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkgw", "html_url": "https://github.com/pkgw", "followers_url": "https://api.github.com/users/pkgw/followers", "following_url": "https://api.github.com/users/pkgw/following{/other_user}", "gists_url": "https://api.github.com/users/pkgw/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkgw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkgw/subscriptions", "organizations_url": "https://api.github.com/users/pkgw/orgs", "repos_url": "https://api.github.com/users/pkgw/repos", "events_url": "https://api.github.com/users/pkgw/events{/privacy}", "received_events_url": "https://api.github.com/users/pkgw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/10", "html_url": "https://github.com/rust-lang/rust/milestone/10", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/10/labels", "id": 234060, "node_id": "MDk6TWlsZXN0b25lMjM0MDYw", "number": 10, "title": "0.7", "description": "", "creator": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2012-12-22T22:31:59Z", "updated_at": "2013-07-04T01:21:16Z", "due_on": "2013-06-30T07:00:00Z", "closed_at": "2013-07-04T01:21:16Z"}, "comments": 1, "created_at": "2013-01-12T23:13:43Z", "updated_at": "2013-04-30T23:45:01Z", "closed_at": "2013-04-30T23:45:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The problem is that each byte in the SHA1 digest is hexified individually in a way that doesn't include leading zeros: a byte of 0x0a just gets turned into 'a'. So if your digest should be \"ab0e\" the result is \"abe\". You can see in this program where the printed strings vary in length:\n\n```\nextern mod std;\nuse std::sha1;\n\nfn main () { \n    let s = sha1::sha1 ();\n    let mut i = 0u8;\n\n    while i < 100 {\n        s.input (~[i]);\n        io::print (s.result_str () + \"\\n\");\n        s.reset ();\n        i += 1;\n    }\n}\n```\n\nDo the Rust standard libraries have a byte-array-to-hex converter somewhere? It seems like that'd be a useful thing to tuck in somewhere. Besides being incorrect for the time being, the SHA1 hex converter also looks like it's probably slower than it needs to be.\n", "closed_by": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/4458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/4458/timeline", "performed_via_github_app": null, "state_reason": "completed"}