{"url": "https://api.github.com/repos/rust-lang/rust/issues/38026", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38026/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38026/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38026/events", "html_url": "https://github.com/rust-lang/rust/issues/38026", "id": 191861700, "node_id": "MDU6SXNzdWUxOTE4NjE3MDA=", "number": 38026, "title": "bootstrap rustNightly from rustBeta never works with the 'correct' channels", "user": {"login": "qknight", "id": 137406, "node_id": "MDQ6VXNlcjEzNzQwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/137406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qknight", "html_url": "https://github.com/qknight", "followers_url": "https://api.github.com/users/qknight/followers", "following_url": "https://api.github.com/users/qknight/following{/other_user}", "gists_url": "https://api.github.com/users/qknight/gists{/gist_id}", "starred_url": "https://api.github.com/users/qknight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qknight/subscriptions", "organizations_url": "https://api.github.com/users/qknight/orgs", "repos_url": "https://api.github.com/users/qknight/repos", "events_url": "https://api.github.com/users/qknight/events{/privacy}", "received_events_url": "https://api.github.com/users/qknight/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-11-27T13:34:18Z", "updated_at": "2016-11-28T22:44:44Z", "closed_at": "2016-11-28T22:38:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "# what we want\r\nhey,\r\non NixOS we want to have `stable`, `beta` and `nightly` built as according to the docs of rust but we tried many different versions and it always fails with errors like this:\r\n\r\nhttps://gist.github.com/qknight/15550e3b24b8a503897ac92fffe88804\r\n\r\nor in short:\r\n```\r\nerror[E0554]: #[feature] may not be used on the beta release channel\r\n  --> src/libcore/lib.rs:93:1\r\n   |\r\n93 | #![feature(never_type)]\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror[E0554]: #[feature] may not be used on the beta release channel\r\n  --> src/libcore/lib.rs:94:1\r\n   |\r\n94 | #![feature(prelude_import)]\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror: aborting due to 25 previous errors\r\n\r\n```\r\n\r\nthat said have a look at these files:\r\nhttps://github.com/nixcloud/nixpkgs/blob/experimentalUpdate/pkgs/development/compilers/rust/default.nix\r\nhttps://github.com/nixcloud/nixpkgs/blob/experimentalUpdate/pkgs/development/compilers/rust/beta.nix\r\nhttps://github.com/nixcloud/nixpkgs/blob/experimentalUpdate/pkgs/development/compilers/rust/nightly.nix\r\n\r\nwe use these channels:\r\n\r\n* \"--release-channel=stable\" to build `stable`\r\n* \"--release-channel=beta\" to build `beta` from `stable`\r\n* \"--release-channel=nightly\" to build `nightly` from `beta`\r\n\r\nand then it fails.\r\n\r\nif we do this:\r\n* \"--release-channel=nightly\" for building `stable`, `beta` and `nightly` we don't see the `channel` errors listed above.\r\n\r\nwhat is going wrong here?", "closed_by": {"login": "qknight", "id": 137406, "node_id": "MDQ6VXNlcjEzNzQwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/137406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qknight", "html_url": "https://github.com/qknight", "followers_url": "https://api.github.com/users/qknight/followers", "following_url": "https://api.github.com/users/qknight/following{/other_user}", "gists_url": "https://api.github.com/users/qknight/gists{/gist_id}", "starred_url": "https://api.github.com/users/qknight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qknight/subscriptions", "organizations_url": "https://api.github.com/users/qknight/orgs", "repos_url": "https://api.github.com/users/qknight/repos", "events_url": "https://api.github.com/users/qknight/events{/privacy}", "received_events_url": "https://api.github.com/users/qknight/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38026/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38026/timeline", "performed_via_github_app": null, "state_reason": "completed"}