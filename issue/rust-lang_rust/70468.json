{"url": "https://api.github.com/repos/rust-lang/rust/issues/70468", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/70468/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/70468/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/70468/events", "html_url": "https://github.com/rust-lang/rust/issues/70468", "id": 589094088, "node_id": "MDU6SXNzdWU1ODkwOTQwODg=", "number": 70468, "title": "LLVM build output spew doubles the size CI logs.", "user": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-27T12:17:22Z", "updated_at": "2022-02-15T09:31:59Z", "closed_at": "2022-02-15T09:31:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Out of the 12622 log lines in a recent `dist-x86_64-linux` build:\r\n* 4843 of them are from the LLVM build itself\r\n  * half of those are printing the file being compiled\r\n  * the other half is this warning for every compiler invocation:\r\n    ```\r\n    clang-9: warning: argument unused during compilation: '-static-libstdc++' [-Wunused-command-line-argument]\r\n    ```\r\n* 1693 are from installing the LLVM build\r\n\r\nSo that's 6536 lines, over half of the log, that's noise from a successful LLVM build.\r\n\r\nThe result is slowed down log navigation, which can be frustrating when looking for an failure.\r\n\r\nI'm not sure what the best way to quiet each of these things is, but I should mention that with `ninja` (and no `-static-libstdc++`), the only thing I see locally is the 1693 \"Installing: ...\" lines:\r\n* the build itself is contained within one status line, assuming there are no warnings, but I'm not sure how `ninja` would behave on CI (on Windows CI it certainly still outputs one line per file)\r\n* would be nice to get rid of those \"Installing: ...\" lines locally too\r\n\r\ncc @Mark-Simulacrum", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/70468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/70468/timeline", "performed_via_github_app": null, "state_reason": "completed"}