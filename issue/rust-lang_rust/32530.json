{"url": "https://api.github.com/repos/rust-lang/rust/issues/32530", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32530/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32530/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32530/events", "html_url": "https://github.com/rust-lang/rust/issues/32530", "id": 143825701, "node_id": "MDU6SXNzdWUxNDM4MjU3MDE=", "number": 32530, "title": "`unexpected panic` when compiling the `lalrpop` crate", "user": {"login": "saghm", "id": 5875560, "node_id": "MDQ6VXNlcjU4NzU1NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5875560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saghm", "html_url": "https://github.com/saghm", "followers_url": "https://api.github.com/users/saghm/followers", "following_url": "https://api.github.com/users/saghm/following{/other_user}", "gists_url": "https://api.github.com/users/saghm/gists{/gist_id}", "starred_url": "https://api.github.com/users/saghm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saghm/subscriptions", "organizations_url": "https://api.github.com/users/saghm/orgs", "repos_url": "https://api.github.com/users/saghm/repos", "events_url": "https://api.github.com/users/saghm/events{/privacy}", "received_events_url": "https://api.github.com/users/saghm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2016-03-27T16:38:48Z", "updated_at": "2016-04-03T21:18:56Z", "closed_at": "2016-04-03T21:18:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When compiling the `lalrpop` crate as a dependency for my project, I got an error message saying that the compiler panicked. As per the error message, I'm submitting a bug report.\n\nI'm not sure exactly what code caused the compiler to panic unfortunately, as the error occurred when cargo was compiling a dependency.\n\nThe crate is version `0.11.0` of `lalrpop`, and the compiler version is the latest nightly (rustc 1.9.0-nightly (d5a91e695 2016-03-26).\n\nThe exact error message (including a backtrace) is the following:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'assertion failed: declare::get_defined_value(ccx, &symbol).is_none()', ../src/librustc_trans/monomorphize.rs:94\nstack backtrace:\n   1:     0x7f7e5633d300 - std::sys::backtrace::tracing::imp::write::h63529ecac330b5bc\n   2:     0x7f7e5634a9db - std::panicking::default_hook::_$u7b$$u7b$closure$u7d$$u7d$::h0e99487804ecdaa3\n   3:     0x7f7e5634a577 - std::panicking::default_hook::h1f0a2403a716c4a6\n   4:     0x7f7e5630e2ff - std::sys_common::unwind::begin_unwind_inner::heae36551373e36bd\n   5:     0x7f7e5557afef - std::sys_common::unwind::begin_unwind::h422885d31fe250dc\n   6:     0x7f7e55622b8d - rustc_trans::callee::get_fn::h16d5e12c52696e18\n   7:     0x7f7e555cd920 - rustc_trans::callee::Callee::def::h6bfa8c0d18edb04c\n   8:     0x7f7e55693597 - rustc_trans::glue::trans_struct_drop::h342318524db364ab\n   9:     0x7f7e55690357 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  10:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  11:     0x7f7e5569478a - rustc_trans::base::iter_structural_ty::hcad56d80bbb4b302\n  12:     0x7f7e55690457 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  13:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  14:     0x7f7e5569651f - rustc_trans::base::iter_structural_ty::iter_variant::he70ba81279b20c92\n  15:     0x7f7e55695136 - rustc_trans::base::iter_structural_ty::hcad56d80bbb4b302\n  16:     0x7f7e55690457 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  17:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  18:     0x7f7e5569651f - rustc_trans::base::iter_structural_ty::iter_variant::he70ba81279b20c92\n  19:     0x7f7e55695136 - rustc_trans::base::iter_structural_ty::hcad56d80bbb4b302\n  20:     0x7f7e55690457 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  21:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  22:     0x7f7e5569478a - rustc_trans::base::iter_structural_ty::hcad56d80bbb4b302\n  23:     0x7f7e55690457 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  24:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  25:     0x7f7e5569651f - rustc_trans::base::iter_structural_ty::iter_variant::he70ba81279b20c92\n  26:     0x7f7e55695136 - rustc_trans::base::iter_structural_ty::hcad56d80bbb4b302\n  27:     0x7f7e55690457 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  28:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  29:     0x7f7e5569651f - rustc_trans::base::iter_structural_ty::iter_variant::he70ba81279b20c92\n  30:     0x7f7e55695136 - rustc_trans::base::iter_structural_ty::hcad56d80bbb4b302\n  31:     0x7f7e55690457 - rustc_trans::glue::get_drop_glue_core::ha9c0e47754271034\n  32:     0x7f7e5563bbe5 - rustc_trans::glue::drop_ty_core::hf833c0eb521a39ed\n  33:     0x7f7e5563a4b0 - _<cleanup..DropValue<'tcx> as cleanup..Cleanup<'tcx>>::trans::h012c5d4dc25d481b\n  34:     0x7f7e55639a57 - _<common..FunctionContext<'blk, 'tcx> as cleanup..CleanupHelperMethods<'blk, 'tcx>>::trans_cleanups_to_exit_scope::h25235d0ebda5e4a3\n  35:     0x7f7e5563b15b - _<common..FunctionContext<'blk, 'tcx> as cleanup..CleanupHelperMethods<'blk, 'tcx>>::get_or_create_landing_pad::h1b3312c7060bb49f\n  36:     0x7f7e555d7133 - _<common..FunctionContext<'blk, 'tcx> as cleanup..CleanupMethods<'blk, 'tcx>>::get_landing_pad::h70c61d90463d8794\n  37:     0x7f7e555d6d20 - rustc_trans::base::invoke::h4b34892eb6150166\n  38:     0x7f7e555ccb4a - rustc_trans::callee::Callee::call::h721e5fc65601b1ff\n  39:     0x7f7e556803ee - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  40:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  41:     0x7f7e556dc3d6 - rustc_trans::tvec::write_content::h5db778045dadacd0\n  42:     0x7f7e5567fbda - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  43:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  44:     0x7f7e556b09ee - rustc_trans::_match::trans_match_inner::h69c7777311b7e300\n  45:     0x7f7e5567eaa5 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  46:     0x7f7e5567e0ed - rustc_trans::expr::trans_unadjusted::h3a5a0d9e57f899c4\n  47:     0x7f7e55635639 - rustc_trans::expr::trans::h5e1eb158681cf248\n  48:     0x7f7e55687780 - rustc_trans::expr::trans_addr_of::h97d12027141a36bf\n  49:     0x7f7e5567e40f - rustc_trans::expr::trans_unadjusted::h3a5a0d9e57f899c4\n  50:     0x7f7e55635639 - rustc_trans::expr::trans::h5e1eb158681cf248\n  51:     0x7f7e5563439e - rustc_trans::callee::trans_args::had4ad3ae9fae9584\n  52:     0x7f7e555cca92 - rustc_trans::callee::Callee::call::h721e5fc65601b1ff\n  53:     0x7f7e556803ee - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  54:     0x7f7e5567e0ed - rustc_trans::expr::trans_unadjusted::h3a5a0d9e57f899c4\n  55:     0x7f7e55635639 - rustc_trans::expr::trans::h5e1eb158681cf248\n  56:     0x7f7e5563439e - rustc_trans::callee::trans_args::had4ad3ae9fae9584\n  57:     0x7f7e555cca92 - rustc_trans::callee::Callee::call::h721e5fc65601b1ff\n  58:     0x7f7e556803ee - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  59:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  60:     0x7f7e555f4803 - rustc_trans::expr::trans_adt::h7f5fb4ac92e70dd2\n  61:     0x7f7e55680074 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  62:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  63:     0x7f7e555f4803 - rustc_trans::expr::trans_adt::h7f5fb4ac92e70dd2\n  64:     0x7f7e555f3fb8 - rustc_trans::base::trans_named_tuple_constructor::h666ee39620d22e93\n  65:     0x7f7e555cc67e - rustc_trans::callee::Callee::call::h721e5fc65601b1ff\n  66:     0x7f7e556803ee - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  67:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  68:     0x7f7e55683347 - rustc_trans::expr::trans_rvalue_stmt_unadjusted::h60678948dec10463\n  69:     0x7f7e555f620f - rustc_trans::expr::trans_into::h0886054c82efd10c\n  70:     0x7f7e556b09ee - rustc_trans::_match::trans_match_inner::h69c7777311b7e300\n  71:     0x7f7e5567eaa5 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  72:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  73:     0x7f7e556ba29d - rustc_trans::_match::mk_binding_alloca::hd19203cafc37a598\n  74:     0x7f7e555d832d - rustc_trans::base::init_local::h617967a698cd0329\n  75:     0x7f7e555ed794 - rustc_trans::controlflow::trans_block::h78eebe402333d4c3\n  76:     0x7f7e5567fb10 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  77:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  78:     0x7f7e555edabd - rustc_trans::controlflow::trans_block::h78eebe402333d4c3\n  79:     0x7f7e555ebe37 - rustc_trans::base::trans_closure::hce4cad2baba38a75\n  80:     0x7f7e5563df53 - rustc_trans::closure::trans_closure_expr::h9e5d0907b8a1d92b\n  81:     0x7f7e55681073 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  82:     0x7f7e5567e0ed - rustc_trans::expr::trans_unadjusted::h3a5a0d9e57f899c4\n  83:     0x7f7e55635639 - rustc_trans::expr::trans::h5e1eb158681cf248\n  84:     0x7f7e5563439e - rustc_trans::callee::trans_args::had4ad3ae9fae9584\n  85:     0x7f7e555cca92 - rustc_trans::callee::Callee::call::h721e5fc65601b1ff\n  86:     0x7f7e556803ee - rustc_trans::expr::trans_rvalue_dps_unadjusted::hd53c161e5ecd9e4f\n  87:     0x7f7e555f6234 - rustc_trans::expr::trans_into::h0886054c82efd10c\n  88:     0x7f7e555edabd - rustc_trans::controlflow::trans_block::h78eebe402333d4c3\n  89:     0x7f7e555ebe37 - rustc_trans::base::trans_closure::hce4cad2baba38a75\n  90:     0x7f7e555ee380 - rustc_trans::base::trans_fn::he5c9f3096cef336c\n  91:     0x7f7e555f9019 - rustc_trans::base::trans_item::h2e00a2a37f0adf00\n  92:     0x7f7e556123fb - _<base..TransItemsWithinModVisitor<'a, 'tcx> as rustc_front..intravisit..Visitor<'v>>::visit_item::h42989a4ea480287a\n  93:     0x7f7e556103f7 - rustc_front::intravisit::walk_item::h7a37cbc827b77b8a\n  94:     0x7f7e555ffc0f - rustc_trans::base::trans_crate::h5d7d0ab38cd208e7\n  95:     0x7f7e56895078 - rustc_driver::driver::phase_4_translate_to_llvm::hc60a4fd01d59eaae\n  96:     0x7f7e56893905 - rustc_driver::driver::compile_input::_$u7b$$u7b$closure$u7d$$u7d$::h96aedfca5f48d7d6\n  97:     0x7f7e568904e8 - rustc_driver::driver::phase_3_run_analysis_passes::_$u7b$$u7b$closure$u7d$$u7d$::h1d5b5af335ae8126\n  98:     0x7f7e5688a49b - rustc::ty::context::TyCtxt::create_and_enter::h2656c85b5a638887\n  99:     0x7f7e56886f19 - rustc_driver::driver::phase_3_run_analysis_passes::h432eb92c0e12df32\n  100:     0x7f7e56859807 - rustc_driver::driver::compile_input::hb8958b270f32a505\n ... <frames omitted>\n\nerror: Could not compile `lalrpop`.\n\nTo learn more, run the command again with --verbose.\n```\n\nIn the event that this isn't actually a compiler bug, sorry about the hassle. If it is, let me know if there's anything else I can do to help!\n", "closed_by": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32530/timeline", "performed_via_github_app": null, "state_reason": "completed"}