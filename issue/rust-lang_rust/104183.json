{"url": "https://api.github.com/repos/rust-lang/rust/issues/104183", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/104183/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/104183/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/104183/events", "html_url": "https://github.com/rust-lang/rust/issues/104183", "id": 1441634893, "node_id": "I_kwDOAAsO6M5V7ZpN", "number": 104183, "title": "Compiler panicks when impl for async trait has a mismatch", "user": {"login": "WhyNotHugo", "id": 730811, "node_id": "MDQ6VXNlcjczMDgxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/730811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WhyNotHugo", "html_url": "https://github.com/WhyNotHugo", "followers_url": "https://api.github.com/users/WhyNotHugo/followers", "following_url": "https://api.github.com/users/WhyNotHugo/following{/other_user}", "gists_url": "https://api.github.com/users/WhyNotHugo/gists{/gist_id}", "starred_url": "https://api.github.com/users/WhyNotHugo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WhyNotHugo/subscriptions", "organizations_url": "https://api.github.com/users/WhyNotHugo/orgs", "repos_url": "https://api.github.com/users/WhyNotHugo/repos", "events_url": "https://api.github.com/users/WhyNotHugo/events{/privacy}", "received_events_url": "https://api.github.com/users/WhyNotHugo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-11-09T08:22:05Z", "updated_at": "2022-11-12T11:03:31Z", "closed_at": "2022-11-12T11:03:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Essentially, if my trait has `async fn do(s: &String)` and my impl has `async fn do(s: String)` the compiler panics.\n\nNote that the code **is** invalid and compilation **should** fail.\n\n### Meta\n<!--\nIf you're using the stable version of the compiler, you should also check if the\nbug also exists in the beta or nightly versions.\n-->\n\n`rustc --version --verbose`:\n```\nx rustc --version --verbose\nrustc 1.67.0-nightly (1286ee23e 2022-11-05)\nbinary: rustc\ncommit-hash: 1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82\ncommit-date: 2022-11-05\nhost: x86_64-unknown-linux-gnu\nrelease: 1.67.0-nightly\nLLVM version: 15.0.4\n\n```\n\n### Error output\n```Rust\n> cargo build\n   Compiling vstorage v0.1.0 (/home/hugo/clones/codeberg.org/WhyNotHugo/vdirsyncer.rs/vstorage)\nwarning: the feature `async_fn_in_trait` is incomplete and may not be safe to use and/or cause compiler crashes\n --> vstorage/src/lib.rs:4:12\n  |\n4 | #![feature(async_fn_in_trait)]\n  |            ^^^^^^^^^^^^^^^^^\n  |\n  = note: see issue #91611 <https://github.com/rust-lang/rust/issues/91611> for more information\n  = note: `#[warn(incomplete_features)]` on by default\n\nwarning: field `read_only` is never read\n  --> vstorage/src/filesystem.rs:25:5\n   |\n23 | pub struct FilesystemStorage {\n   |            ----------------- field in this struct\n24 |     path: PathBuf,\n25 |     read_only: bool,\n   |     ^^^^^^^^^\n   |\n   = note: `#[warn(dead_code)]` on by default\n\nerror: internal compiler error: no errors encountered even though `delay_span_bug` issued\n\nerror: internal compiler error: could not unify `fn(&FilesystemCollection, &String) -> _` and `fn(&FilesystemCollection, String) -> impl Future<Output = Result<(Item, String), std::io::Error>>`: ArgumentSorts(ExpectedFound { expected: &std::string::String, found: std::string::String }, 1)\n   --> vstorage/src/filesystem.rs:132:42\n    |\n132 |     async fn get(&self, href: String) -> Result<(Item, Etag)> {\n    |                                          ^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: delayed at compiler/rustc_hir_analysis/src/check/compare_method.rs:529:33\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_trait_selection/src/traits/project.rs:2295:41\n\nerror: internal compiler error[E0053]: method `get` has an incompatible type for trait\n   --> vstorage/src/filesystem.rs:132:31\n    |\n132 |     async fn get(&self, href: String) -> Result<(Item, Etag)> {\n    |                               ^^^^^^ help: change the parameter type to match the trait: `&String`\n    |\nnote: while checking the return type of the `async fn`\n   --> vstorage/src/filesystem.rs:132:42\n    |\n132 |     async fn get(&self, href: String) -> Result<(Item, Etag)> {\n    |                                          ^^^^^^^^^^^^^^^^^^^^ checked the `Output` of this `async fn`, found opaque type\n\nerror: internal compiler error: could not unify `fn(&FilesystemCollection, &Vec<String>) -> _` and `fn(&FilesystemCollection, Vec<String>) -> impl Future<Output = Result<Vec<(Item, String)>, std::io::Error>>`: ArgumentSorts(ExpectedFound { expected: &std::vec::Vec<std::string::String>, found: std::vec::Vec<std::string::String> }, 1)\n   --> vstorage/src/filesystem.rs:144:53\n    |\n144 |     async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: delayed at compiler/rustc_hir_analysis/src/check/compare_method.rs:529:33\n\nerror: internal compiler error[E0053]: method `get_many` has an incompatible type for trait\n   --> vstorage/src/filesystem.rs:144:37\n    |\n144 |     async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |                                     ^^^^^^^^^^^ help: change the parameter type to match the trait: `&Vec<String>`\n    |\nnote: while checking the return type of the `async fn`\n   --> vstorage/src/filesystem.rs:144:53\n    |\n144 |     async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^ checked the `Output` of this `async fn`, found opaque type\n\nerror: internal compiler error: could not unify `fn(&mut FilesystemCollection, &String, &String, &Item) -> _` and `fn(&mut FilesystemCollection, String, String, &Item) -> impl Future<Output = Result<String, std::io::Error>>`: ArgumentSorts(ExpectedFound { expected: &std::string::String, found: std::string::String }, 1)\n   --> vstorage/src/filesystem.rs:198:76\n    |\n198 |     async fn update(&mut self, href: String, etag: String, item: &Item) -> Result<Etag> {\n    |                                                                            ^^^^^^^^^^^^\n    |\n    = note: delayed at compiler/rustc_hir_analysis/src/check/compare_method.rs:529:33\n\nerror: internal compiler error[E0053]: method `update` has an incompatible type for trait\n   --> vstorage/src/filesystem.rs:198:38\n    |\n198 |     async fn update(&mut self, href: String, etag: String, item: &Item) -> Result<Etag> {\n    |                                      ^^^^^^ help: change the parameter type to match the trait: `&String`\n    |\nnote: while checking the return type of the `async fn`\n   --> vstorage/src/filesystem.rs:198:76\n    |\n198 |     async fn update(&mut self, href: String, etag: String, item: &Item) -> Result<Etag> {\n    |                                                                            ^^^^^^^^^^^^ checked the `Output` of this `async fn`, found opaque type\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_hir_typeck/src/fn_ctxt/_impl.rs:730:23\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_hir_typeck/src/coercion.rs:176:49\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_hir_typeck/src/fn_ctxt/checks.rs:118:29\n\nerror: internal compiler error: `InferCtxt` incorrectly tainted by errors\n  |\n  = note: delayed at compiler/rustc_infer/src/infer/mod.rs:1256:27\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_hir_typeck/src/coercion.rs:1028:53\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_hir_typeck/src/fallback.rs:109:58\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/compiler/rustc_middle/src/ty/relate.rs:419:59\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_trait_selection/src/traits/project.rs:1242:30\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_infer/src/infer/sub.rs:121:31\n\nerror: internal compiler error: expected fullfillment errors\n  |\n  = note: delayed at compiler/rustc_trait_selection/src/traits/error_reporting/mod.rs:459:23\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_mir_build/src/build/mod.rs:621:18\n\nerror: internal compiler error: broken MIR in DefId(0:183 ~ vstorage[9b4b]::filesystem::{impl#2}::get_many) (\"return type\"): bad type [type error]\n   --> vstorage/src/filesystem.rs:144:5\n    |\n144 |     async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: delayed at compiler/rustc_borrowck/src/type_check/mod.rs:520:13\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_borrowck/src/type_check/mod.rs:797:20\n\nerror: internal compiler error: broken MIR in DefId(0:183 ~ vstorage[9b4b]::filesystem::{impl#2}::get_many) (LocalDecl { mutability: Mut, local_info: None, internal: false, is_block_tail: None, ty: [type error], user_ty: None, source_info: SourceInfo { span: vstorage/src/filesystem.rs:144:5: 144:78 (#0), scope: scope[0] } }): bad type [type error]\n   --> vstorage/src/filesystem.rs:144:5\n    |\n144 |     async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: delayed at compiler/rustc_borrowck/src/type_check/mod.rs:520:13\n\nerror: internal compiler error: TyKind::Error constructed but no error reported\n  |\n  = note: delayed at compiler/rustc_hir_analysis/src/collect/type_of.rs:824:17\n\nerror: internal compiler error: broken MIR in DefId(0:185 ~ vstorage[9b4b]::filesystem::{impl#2}::get_many::{closure#0}) (\"return type\"): bad type [type error]\n   --> vstorage/src/filesystem.rs:144:79\n    |\n144 |       async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |  _______________________________________________________________________________^\n145 | |         // No specialisation for this type; it's fast enough for now.\n146 | |         let mut items = Vec::with_capacity(hrefs.len());\n147 | |         for href in hrefs {\n...   |\n150 | |         Ok(items)\n151 | |     }\n    | |_____^\n    |\n    = note: delayed at compiler/rustc_borrowck/src/type_check/mod.rs:520:13\n\nerror: internal compiler error: broken MIR in DefId(0:185 ~ vstorage[9b4b]::filesystem::{impl#2}::get_many::{closure#0}) (LocalDecl { mutability: Mut, local_info: None, internal: false, is_block_tail: None, ty: [type error], user_ty: None, source_info: SourceInfo { span: vstorage/src/filesystem.rs:144:79: 151:6 (#0), scope: scope[0] } }): bad type [type error]\n   --> vstorage/src/filesystem.rs:144:79\n    |\n144 |       async fn get_many(&self, hrefs: Vec<String>) -> Result<Vec<(Item, Etag)>> {\n    |  _______________________________________________________________________________^\n145 | |         // No specialisation for this type; it's fast enough for now.\n146 | |         let mut items = Vec::with_capacity(hrefs.len());\n147 | |         for href in hrefs {\n...   |\n150 | |         Ok(items)\n151 | |     }\n    | |_____^\n    |\n    = note: delayed at compiler/rustc_borrowck/src/type_check/mod.rs:520:13\n\nthread 'rustc' panicked at 'Box<dyn Any>', compiler/rustc_errors/src/lib.rs:1585:13\nstack backtrace:\n   0:     0x7f8e36468f90 - std::backtrace_rs::backtrace::libunwind::trace::he1ec9308d56754ef\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\n   1:     0x7f8e36468f90 - std::backtrace_rs::backtrace::trace_unsynchronized::h5c2c7548e45673aa\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\n   2:     0x7f8e36468f90 - std::sys_common::backtrace::_print_fmt::h8a3c0940409c1027\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/sys_common/backtrace.rs:65:5\n   3:     0x7f8e36468f90 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h61aef9b82866f95a\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/sys_common/backtrace.rs:44:22\n   4:     0x7f8e325c8bae - core::fmt::write::h7d5b70072d28dbfa\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/core/src/fmt/mod.rs:1209:17\n   5:     0x7f8e3645d075 - std::io::Write::write_fmt::h3d31360947679d21\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/io/mod.rs:1682:15\n   6:     0x7f8e36468d55 - std::sys_common::backtrace::_print::h6759e5b850bdca22\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/sys_common/backtrace.rs:47:5\n   7:     0x7f8e36468d55 - std::sys_common::backtrace::print::h1ad0f6b710bf019e\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/sys_common/backtrace.rs:34:9\n   8:     0x7f8e3646b06f - std::panicking::default_hook::{{closure}}::hd26f3c852c581cdf\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/panicking.rs:267:22\n   9:     0x7f8e3646adaa - std::panicking::default_hook::h92c20606c36e74d2\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/panicking.rs:286:9\n  10:     0x7f8e356ef154 - rustc_driver[f3db849b868bf2ae]::DEFAULT_HOOK::{closure#0}::{closure#0}\n  11:     0x7f8e3646b85d - <alloc::boxed::Box<F,A> as core::ops::function::Fn<Args>>::call::h33523ae862b9476b\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/alloc/src/boxed.rs:2001:9\n  12:     0x7f8e3646b85d - std::panicking::rust_panic_with_hook::hc9f74d355270b517\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/panicking.rs:692:13\n  13:     0x7f8e35756511 - std[3f3511bd14de1a0b]::panicking::begin_panic::<rustc_errors[35630e0ab5d06bf2]::ExplicitBug>::{closure#0}\n  14:     0x7f8e35754ca6 - std[3f3511bd14de1a0b]::sys_common::backtrace::__rust_end_short_backtrace::<std[3f3511bd14de1a0b]::panicking::begin_panic<rustc_errors[35630e0ab5d06bf2]::ExplicitBug>::{closure#0}, !>\n  15:     0x7f8e35754c76 - std[3f3511bd14de1a0b]::panicking::begin_panic::<rustc_errors[35630e0ab5d06bf2]::ExplicitBug>\n  16:     0x7f8e357510c6 - std[3f3511bd14de1a0b]::panic::panic_any::<rustc_errors[35630e0ab5d06bf2]::ExplicitBug>\n  17:     0x7f8e34cac288 - <rustc_errors[35630e0ab5d06bf2]::HandlerInner>::flush_delayed::<alloc[8a94a0f38e11af27]::vec::Vec<rustc_errors[35630e0ab5d06bf2]::diagnostic::Diagnostic>, &str>\n  18:     0x7f8e34aa5dbe - <rustc_interface[524480e3db7d7602]::passes::QueryContext>::enter::<<rustc_interface[524480e3db7d7602]::queries::Queries>::ongoing_codegen::{closure#0}::{closure#0}, core[449086d7d8ac0eaf]::result::Result<alloc[8a94a0f38e11af27]::boxed::Box<dyn core[449086d7d8ac0eaf]::any::Any>, rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>\n  19:     0x7f8e34a660b3 - <rustc_interface[524480e3db7d7602]::queries::Queries>::ongoing_codegen\n  20:     0x7f8e34a651c2 - <rustc_interface[524480e3db7d7602]::interface::Compiler>::enter::<rustc_driver[f3db849b868bf2ae]::run_compiler::{closure#1}::{closure#2}, core[449086d7d8ac0eaf]::result::Result<core[449086d7d8ac0eaf]::option::Option<rustc_interface[524480e3db7d7602]::queries::Linker>, rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>\n  21:     0x7f8e34a60202 - rustc_span[a814485cde60f581]::with_source_map::<core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>, rustc_interface[524480e3db7d7602]::interface::run_compiler<core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>, rustc_driver[f3db849b868bf2ae]::run_compiler::{closure#1}>::{closure#0}::{closure#1}>\n  22:     0x7f8e34a5fcf9 - <scoped_tls[d7bcc67860d72135]::ScopedKey<rustc_span[a814485cde60f581]::SessionGlobals>>::set::<rustc_interface[524480e3db7d7602]::interface::run_compiler<core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>, rustc_driver[f3db849b868bf2ae]::run_compiler::{closure#1}>::{closure#0}, core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>\n  23:     0x7f8e34a5f308 - std[3f3511bd14de1a0b]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[524480e3db7d7602]::util::run_in_thread_pool_with_globals<rustc_interface[524480e3db7d7602]::interface::run_compiler<core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>, rustc_driver[f3db849b868bf2ae]::run_compiler::{closure#1}>::{closure#0}, core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>\n  24:     0x7f8e34a5f02c - <<std[3f3511bd14de1a0b]::thread::Builder>::spawn_unchecked_<rustc_interface[524480e3db7d7602]::util::run_in_thread_pool_with_globals<rustc_interface[524480e3db7d7602]::interface::run_compiler<core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>, rustc_driver[f3db849b868bf2ae]::run_compiler::{closure#1}>::{closure#0}, core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[449086d7d8ac0eaf]::result::Result<(), rustc_errors[35630e0ab5d06bf2]::ErrorGuaranteed>>::{closure#1} as core[449086d7d8ac0eaf]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\n  25:     0x7f8e36472793 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h9dd8eb50b3cb442b\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/alloc/src/boxed.rs:1987:9\n  26:     0x7f8e36472793 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::hb9b1fdf3a82a5af1\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/alloc/src/boxed.rs:1987:9\n  27:     0x7f8e36472793 - std::sys::unix::thread::Thread::new::thread_start::h768bb18f08276a43\n                               at /rustc/1286ee23e4e2dec8c1696d3d76c6b26d97bbcf82/library/std/src/sys/unix/thread.rs:108:17\n  28:     0x7f8e323198fd - <unknown>\n  29:     0x7f8e3239ba60 - <unknown>\n  30:                0x0 - <unknown>\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\n\nnote: rustc 1.67.0-nightly (1286ee23e 2022-11-05) running on x86_64-unknown-linux-gnu\n\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -C incremental=[REDACTED]\n\nnote: some of the compiler flags provided by cargo are hidden\n\nquery stack during panic:\nend of query stack\nFor more information about this error, try `rustc --explain E0053`.\nwarning: `vstorage` (lib) generated 2 warnings\nerror: could not compile `vstorage`; 2 warnings emitted\n\n```\n\nNote that I'm using `#![feature(async_fn_in_trait)]` which is experimental. \n\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"Nilstrieb\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/104183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/104183/timeline", "performed_via_github_app": null, "state_reason": "completed"}