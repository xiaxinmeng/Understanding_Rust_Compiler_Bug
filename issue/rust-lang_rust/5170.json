{"url": "https://api.github.com/repos/rust-lang/rust/issues/5170", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/5170/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/5170/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/5170/events", "html_url": "https://github.com/rust-lang/rust/issues/5170", "id": 11503950, "node_id": "MDU6SXNzdWUxMTUwMzk1MA==", "number": 5170, "title": "Internal compiler error:  trait A: { fn f(&r/self) { }}", "user": {"login": "nielsle", "id": 292118, "node_id": "MDQ6VXNlcjI5MjExOA==", "avatar_url": "https://avatars.githubusercontent.com/u/292118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nielsle", "html_url": "https://github.com/nielsle", "followers_url": "https://api.github.com/users/nielsle/followers", "following_url": "https://api.github.com/users/nielsle/following{/other_user}", "gists_url": "https://api.github.com/users/nielsle/gists{/gist_id}", "starred_url": "https://api.github.com/users/nielsle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nielsle/subscriptions", "organizations_url": "https://api.github.com/users/nielsle/orgs", "repos_url": "https://api.github.com/users/nielsle/repos", "events_url": "https://api.github.com/users/nielsle/events{/privacy}", "received_events_url": "https://api.github.com/users/nielsle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-02-28T15:04:22Z", "updated_at": "2013-02-28T22:09:19Z", "closed_at": "2013-02-28T22:09:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following program causes a compiler error\n\n```\n#[crate_type = \"lib\"];\ntrait A: { fn f(&r/self) { }}\n```\n\nniels@ellegaard:~/slettes $ rustc --version\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/rustc 0.5 (8554d5e 2012-12-19 21:52:03 -0700)\nhost: x86_64-unknown-linux-gnu\nniels@ellegaard:~/slettes $ cat tests.rs \n# [crate_type = \"lib\"];\n\ntrait A: { fn f(&r/self) { }}\n\nniels@ellegaard:~/slettes $ rustc tests.rs \nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug\nnote: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues\n\nniels@ellegaard:~/slettes $ export RUST_LOG=rustc=1,::rt::backtrace\nniels@ellegaard:~/slettes $ rustc tests.rs \nrust: task failed at 'index out of bounds: the len is 0 but the index is 0', /home/rustbuild/src/rustbot/workspace-snap-stage3-x86_64-unknown-linux-gnu/src/src/librustc/middle/liveness.rs:1867\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4f)[0x7f28e512683f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(+0x2bb11)[0x7f28e5139b11]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(upcall_fail+0x1d3)[0x7f28e5129d93]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xa1f3b)[0x7f28e68d5f3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x3724e)[0x7f28e686b24e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(_ZN2rt20rt_fail_bounds_check17_6e1eda81bf4aba343_05E+0x19b)[0x7f28e6872bab]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle8liveness14__extensions__10meth_6341211should_warn16_24a83c96d5deae13_05E+0xc7)[0x7f28e591b7b7]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle8liveness14__extensions__10meth_6328617warn_about_unused15_2acc7738e5250f3_05E+0xb1)[0x7f28e5917cd1]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x5b2871)[0x7f28e591b871]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x5d7f6f)[0x7f28e5940f6f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libsyntax-84efebcb12c867a2-0.5.so(_ZN8ast_util8walk_pat17_67db41e557becd313_05E+0x43)[0x7f28e5faa083]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x599967)[0x7f28e5902967]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x1cc311)[0x7f28e5535311]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x1cd8b4)[0x7f28e55368b4]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x3b989f)[0x7f28e572289f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f28e5aec4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x3b8b94)[0x7f28e5721b94]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle8liveness11check_crate16_91cbd12ce821b753_05E+0x425)[0x7f28e58fa045]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x74b3c6)[0x7f28e5ab43c6]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6driver6driver12compile_upto16_2b485a272c743d53_05E+0x1cbf)[0x7f28e5ab2a4f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f28e5aec4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6driver6driver13compile_input17_14b7675443fceb433_05E+0xbb)[0x7f28e5ab57eb]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN12run_compiler16_2977651ce4ea1243_05E+0x2459)[0x7f28e5ae5269]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f28e5aec4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x782203)[0x7f28e5aeb203]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x78126c)[0x7f28e5aea26c]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x7b360)[0x7f28e68af360]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f28e68e6650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f28e5127864]\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug\nnote: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues\nrust: task failed at 'explicit failure', /home/rustbuild/src/rustbot/workspace-snap-stage3-x86_64-unknown-linux-gnu/src/src/librustc/rustc.rc:425\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4f)[0x7f28e512683f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(+0x2bb11)[0x7f28e5139b11]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(upcall_fail+0x1d3)[0x7f28e5129d93]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xa1f3b)[0x7f28e68d5f3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x3724e)[0x7f28e686b24e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f28e68e6650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN7monitor17_b0fffbf1e4d4325c3_05E+0x29de)[0x7f28e5ae922e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f28e5aec4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN4main16_2fb85b4a659c4103_05E+0x86)[0x7f28e5aec0f6]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f28e5127864]\nrust: domain main @0xc381f0 root task failed\nrust: task failed at 'killed', /home/rustbuild/src/rustbot/workspace-snap-stage3-x86_64-unknown-linux-gnu/src/src/libcore/task/mod.rs:570\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4f)[0x7f28e512683f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(+0x2bb11)[0x7f28e5139b11]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(upcall_fail+0x1d3)[0x7f28e5129d93]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xa1f3b)[0x7f28e68d5f3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x3724e)[0x7f28e686b24e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(_ZN4task5yield17_56812fae66173efd3_05E+0xbd)[0x7f28e6897f5d]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x90d06)[0x7f28e68c4d06]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f28e68e6650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(_ZN7private11weaken_task16_d215ceff51755b63_05E+0xd9)[0x7f28e68c4b49]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x90a3b)[0x7f28e68c4a3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x8b61e)[0x7f28e68bf61e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x7b360)[0x7f28e68af360]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f28e68e6650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f28e5127864]\nniels@ellegaard:~/slettes $ \n", "closed_by": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/5170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/5170/timeline", "performed_via_github_app": null, "state_reason": "completed"}