{"url": "https://api.github.com/repos/rust-lang/rust/issues/73333", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73333/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73333/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73333/events", "html_url": "https://github.com/rust-lang/rust/issues/73333", "id": 638249829, "node_id": "MDU6SXNzdWU2MzgyNDk4Mjk=", "number": 73333, "title": "Tracking Issue for forbidding cast of C-like enum implementing Drop", "user": {"login": "oddg", "id": 2709441, "node_id": "MDQ6VXNlcjI3MDk0NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2709441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oddg", "html_url": "https://github.com/oddg", "followers_url": "https://api.github.com/users/oddg/followers", "following_url": "https://api.github.com/users/oddg/following{/other_user}", "gists_url": "https://api.github.com/users/oddg/gists{/gist_id}", "starred_url": "https://api.github.com/users/oddg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oddg/subscriptions", "organizations_url": "https://api.github.com/users/oddg/orgs", "repos_url": "https://api.github.com/users/oddg/repos", "events_url": "https://api.github.com/users/oddg/events{/privacy}", "received_events_url": "https://api.github.com/users/oddg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 43009118, "node_id": "MDU6TGFiZWw0MzAwOTExOA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-destructors", "name": "A-destructors", "color": "f7e101", "default": false, "description": "Area: destructors (Drop, ..)"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 630636017, "node_id": "MDU6TGFiZWw2MzA2MzYwMTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-future-compatibility", "name": "C-future-compatibility", "color": "f5f1fd", "default": false, "description": "Category: future compatibility lints"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-13T23:08:41Z", "updated_at": "2022-06-02T12:34:53Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is the **summary issue** for the `CENUM_IMPL_DROP_CAST` future-compatibility warning and other related errors. The goal of this page is describe why this change was made and how you can fix code that is affected by it. It also provides a place to ask questions or register a complaint if you feel the change should not be made. For more information on the policy around future-compatibility warnings, see our [breaking change policy guidelines][guidelines].\r\n\r\n[guidelines]: https://github.com/rust-lang/rfcs/blob/master/text/1122-language-semver.md\r\n\r\n#### What is the warning for?\r\n\r\nThe warning is issue when a C-like enum implementing the `Drop` trait is cast. For example:\r\n\r\n```rust\r\nenum E {\r\n    A = 0,\r\n}\r\n\r\nimpl Drop for E {\r\n    fn drop(&mut self) {\r\n        println!(\"Drop\");\r\n    }\r\n}\r\n\r\nfn main() {\r\n    let e = E::A;\r\n    let i = e as u32;\r\n            ^^^^^^^^ here is the cast\r\n}\r\n```\r\n\r\nThis cast will be rejected to enforce uniformity between all moving operations. See https://github.com/rust-lang/rust/issues/35941 for more details.\r\n\r\n#### When will this warning become a hard error?\r\n\r\nAt the beginning of each 6-week release cycle, the Rust compiler team will review the set of outstanding future compatibility warnings and nominate some of them for **Final Comment Period**. Toward the end of the cycle, we will review any comments and make a final determination whether to convert the warning into a hard error or remove it entirely.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73333/timeline", "performed_via_github_app": null, "state_reason": null}