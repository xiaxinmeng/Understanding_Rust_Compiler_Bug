{"url": "https://api.github.com/repos/rust-lang/rust/issues/30730", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/30730/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30730/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/30730/events", "html_url": "https://github.com/rust-lang/rust/issues/30730", "id": 125098558, "node_id": "MDU6SXNzdWUxMjUwOTg1NTg=", "number": 30730, "title": "#[deny(warnings)] does not change the lint source, produces confusing error", "user": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-06T02:39:30Z", "updated_at": "2016-03-23T10:02:45Z", "closed_at": "2016-03-23T10:02:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Normally, an unused import:\n\n``` rust\nuse std::thread;\nfn main() { }\n```\n\nProduces this compiler output:\n\n```\nlinttest.rs:4:5: 4:16 warning: unused import, #[warn(unused_imports)] on by default\nlinttest.rs:4 use std::thread;\n```\n\nSaying the 'unused_imports' lint is 'on by default'.\n\nIf you explicitly set _that lint_ to deny:\n\n``` rust\n#![deny(unused_imports)]\nuse std::thread;\nfn main() { }\n```\n\nThen the error indicates where the lint was set to 'deny':\n\n```\nlinttest.rs:4:5: 4:16 error: unused import\nlinttest.rs:4 use std::thread;\n                  ^~~~~~~~~~~\nlinttest.rs:1:9: 1:23 note: lint level defined here\nlinttest.rs:1 #![deny(unused_imports)]\n                      ^~~~~~~~~~~~~~\nerror: aborting due to previous error\n```\n\nIf you instead change warnings to errors:\n\n``` rust\n#![deny(warnings)]\nuse std::thread;\nfn main() { }\n```\n\nThen you get this error:\n\n```\nlinttest.rs:4:5: 4:16 error: unused import, #[deny(unused_imports)] on by default\nlinttest.rs:4 use std::thread;\n                  ^~~~~~~~~~~\nerror: aborting due to previous error\n```\n\nWhich says 'deny(unused_imports)' is 'on by default'. That is not true. unused_imports is warn by default. This case should point to `#[deny(warnings)]` as the source of the error.\n\nDiscovered while interpreting all the lint regressions in [a recent crater report](https://internals.rust-lang.org/t/regression-report-stable-2015-12-10-vs-nightly-2015-12-21/3026).\n\ncc @nikomatsakis \n", "closed_by": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/30730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/30730/timeline", "performed_via_github_app": null, "state_reason": "completed"}