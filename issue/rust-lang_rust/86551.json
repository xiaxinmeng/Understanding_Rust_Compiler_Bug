{"url": "https://api.github.com/repos/rust-lang/rust/issues/86551", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/86551/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/86551/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/86551/events", "html_url": "https://github.com/rust-lang/rust/issues/86551", "id": 927441369, "node_id": "MDU6SXNzdWU5Mjc0NDEzNjk=", "number": 86551, "title": "cargo check failed but cargo run always work", "user": {"login": "pickfire", "id": 4687791, "node_id": "MDQ6VXNlcjQ2ODc3OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4687791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pickfire", "html_url": "https://github.com/pickfire", "followers_url": "https://api.github.com/users/pickfire/followers", "following_url": "https://api.github.com/users/pickfire/following{/other_user}", "gists_url": "https://api.github.com/users/pickfire/gists{/gist_id}", "starred_url": "https://api.github.com/users/pickfire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pickfire/subscriptions", "organizations_url": "https://api.github.com/users/pickfire/orgs", "repos_url": "https://api.github.com/users/pickfire/repos", "events_url": "https://api.github.com/users/pickfire/events{/privacy}", "received_events_url": "https://api.github.com/users/pickfire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1359848690, "node_id": "MDU6TGFiZWwxMzU5ODQ4Njkw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-mcve", "name": "E-needs-mcve", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs a Minimal Complete and Verifiable Example"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-06-22T16:47:04Z", "updated_at": "2021-12-14T15:49:50Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nI can't reproduce this but it happens every day, 3 days in a row for me. When developing helix, after I checked out other commits using `git rebase` or `git revert`, quite a few time I do `cargo check`, `cargo check` will always fail even though `cargo run` works.\r\n\r\nNote that this happens in the past for me, but that was after switching features and not as often as getting it daily, but last time it was very rare for me, maybe once a few months like after upgrades or after version updates. But this happen daily just because I checked out different commits.\r\n\r\nSo the solution is to do `cargo clean` every time this happen, at least daily for me when working on helix project, note that I don't code so frequently but it happens very frequently whenever I switch commits. Maybe due to workspace? Or maybe due to git conflicts like `<<<`? https://github.com/helix-editor/helix\r\n\r\nI expected to see this happen: if `cargo run` works, `cargo check` should work\r\n\r\nInstead, this happened: `cargo check` failed always, then I tried `cargo run`, it still failed, even after I fixed the errors, `cargo check` failed but `cargo run` can work\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.53.0 (53cb7b09b 2021-06-17)\r\nbinary: rustc\r\ncommit-hash: 53cb7b09b00cbea8754ffb78e7e3cb521cb8af4b\r\ncommit-date: 2021-06-17\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.53.0\r\nLLVM version: 12.0.1\r\n```\r\n\r\nI haven't tried this on nightly. Not quite sure how to get a minimum reproducible bug but it happen quite often. If anything I can do please suggest any methods to help out.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/86551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/86551/timeline", "performed_via_github_app": null, "state_reason": null}