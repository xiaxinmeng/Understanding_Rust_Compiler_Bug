{"url": "https://api.github.com/repos/rust-lang/rust/issues/34722", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34722/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34722/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34722/events", "html_url": "https://github.com/rust-lang/rust/issues/34722", "id": 164510527, "node_id": "MDU6SXNzdWUxNjQ1MTA1Mjc=", "number": 34722, "title": "1.10.0 fails to build with bootstrap compiler", "user": {"login": "the-kenny", "id": 31167, "node_id": "MDQ6VXNlcjMxMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/31167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the-kenny", "html_url": "https://github.com/the-kenny", "followers_url": "https://api.github.com/users/the-kenny/followers", "following_url": "https://api.github.com/users/the-kenny/following{/other_user}", "gists_url": "https://api.github.com/users/the-kenny/gists{/gist_id}", "starred_url": "https://api.github.com/users/the-kenny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the-kenny/subscriptions", "organizations_url": "https://api.github.com/users/the-kenny/orgs", "repos_url": "https://api.github.com/users/the-kenny/repos", "events_url": "https://api.github.com/users/the-kenny/events{/privacy}", "received_events_url": "https://api.github.com/users/the-kenny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 31, "created_at": "2016-07-08T11:19:42Z", "updated_at": "2016-07-13T17:37:57Z", "closed_at": "2016-07-12T23:05:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While trying to package `rust-1.10.0` for NixOS, I ran into the following issue:\n\nWe're using a bootstrap compiler from `https://static.rust-lang.org/dist/rust-1.10.0-$platforn.tar.gz` to build `rustc` with the following configure flags (among others):\n\n```\n--enable-local-rust\n--local-rust-root=...\n```\n\nWhile the build used to work just fine for `1.9.0`, we get errors building `libcore` for `1.10.0`:\n\n```\nsrc/libcore/lib.rs:63:1: 63:37 error: #[feature] may not be used on the stable release channel\nsrc/libcore/lib.rs:63 #![feature(allow_internal_unstable)]\n                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nsrc/libcore/lib.rs:64:1: 64:17 error: #[feature] may not be used on the stable release channel\nsrc/libcore/lib.rs:64 #![feature(asm)]\n                      ^~~~~~~~~~~~~~~~\nsrc/libcore/lib.rs:65:1: 65:38 error: #[feature] may not be used on the stable release channel\nsrc/libcore/lib.rs:65 #![feature(associated_type_defaults)]\n                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nsrc/libcore/lib.rs:66:1: 66:32 error: #[feature] may not be used on the stable release channel\nsrc/libcore/lib.rs:66 #![feature(cfg_target_feature)]\n                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nsrc/libcore/lib.rs:67:1: 67:27 error: #[feature] may not be used on the stable release channel\nsrc/libcore/lib.rs:67 #![feature(concat_idents)]\n...\n```\n\nFull output (don't worry about the strange-looking absolute paths, they're normal on NixOS):\n\nhttps://gist.github.com/the-kenny/1424cd6a03467326dc1b6ad2e6480272\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34722/timeline", "performed_via_github_app": null, "state_reason": "completed"}