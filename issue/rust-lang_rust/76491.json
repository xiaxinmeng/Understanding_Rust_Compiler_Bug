{"url": "https://api.github.com/repos/rust-lang/rust/issues/76491", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/76491/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/76491/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/76491/events", "html_url": "https://github.com/rust-lang/rust/issues/76491", "id": 696116279, "node_id": "MDU6SXNzdWU2OTYxMTYyNzk=", "number": 76491, "title": "rust-lld breaks on i686-pc-windows-gnu", "user": {"login": "Keithcat1", "id": 47483928, "node_id": "MDQ6VXNlcjQ3NDgzOTI4", "avatar_url": "https://avatars.githubusercontent.com/u/47483928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keithcat1", "html_url": "https://github.com/Keithcat1", "followers_url": "https://api.github.com/users/Keithcat1/followers", "following_url": "https://api.github.com/users/Keithcat1/following{/other_user}", "gists_url": "https://api.github.com/users/Keithcat1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keithcat1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keithcat1/subscriptions", "organizations_url": "https://api.github.com/users/Keithcat1/orgs", "repos_url": "https://api.github.com/users/Keithcat1/repos", "events_url": "https://api.github.com/users/Keithcat1/events{/privacy}", "received_events_url": "https://api.github.com/users/Keithcat1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-08T19:19:23Z", "updated_at": "2020-09-09T18:45:25Z", "closed_at": "2020-09-09T18:45:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "C:\\py\\j\\hello_rust>rustc -Vv\r\nrustc 1.46.0 (04488afe3 2020-08-24)\r\nbinary: rustc\r\ncommit-hash: 04488afe34512aa4c33566eb16d8c912a3ae04f9\r\ncommit-date: 2020-08-24\r\nhost: i686-pc-windows-gnu\r\nrelease: 1.46.0\r\nLLVM version: 10.0\r\n\r\nI ran this command in order to use the included rust-lld linker:\r\nC:\\py\\j\\hello_rust>set CARGO_TARGET_I686_PC_WINDOWS_GNU_LINKER=rust-lld\r\n\r\n\r\nThen, I tried to build my Cargo hello world project and here are the results:\r\nC:\\py\\j\\hello_rust>cargo build\r\n   Compiling hello_rust v0.1.0 (C:\\py\\j\\hello_rust)\r\nerror: linking with `rust-lld` failed: exit code: 1\r\n  |\r\n  = note: \"rust-lld\" \"-flavor\" \"gnu\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-\r\npc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\self-contained\\\\crt2.o\"\r\n\"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc\r\n-windows-gnu\\\\lib\\\\rsbegin.o\" \"-L\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc\r\n-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\" \"-L\" \"C:\\\\rust\\\\rustup\\\\to\r\nolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\se\r\nlf-contained\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debug\\\\deps\\\\hello_rust-279abe0508\r\n1936aa.2zw63tsskilccwc6.rcgu.o\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debug\\\\deps\\\\hel\r\nlo_rust-279abe05081936aa.4dhg8t1cjkw8md0h.rcgu.o\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\r\n\\\\debug\\\\deps\\\\hello_rust-279abe05081936aa.58gt8py3qm1dgrz1.rcgu.o\" \"C:\\\\py\\\\j\\\\\r\nhello_rust\\\\target\\\\debug\\\\deps\\\\hello_rust-279abe05081936aa.bginw74pvbx0dl9.rcg\r\nu.o\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debug\\\\deps\\\\hello_rust-279abe05081936aa.g7\r\nscjmtccrgkrgh.rcgu.o\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debug\\\\deps\\\\hello_rust-27\r\n9abe05081936aa.pc9r2fex9ayk3br.rcgu.o\" \"-o\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debu\r\ng\\\\deps\\\\hello_rust-279abe05081936aa.exe\" \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debug\\\r\n\\deps\\\\hello_rust-279abe05081936aa.4dlwa79zjyk7oop1.rcgu.o\" \"--gc-sections\" \"-L\"\r\n \"C:\\\\py\\\\j\\\\hello_rust\\\\target\\\\debug\\\\deps\" \"-L\" \"C:\\\\rust\\\\rustup\\\\toolchains\r\n\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\" \"--start-g\r\nroup\" \"-Bstatic\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\r\n\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libstd-e4e40256d0c086c9.rlib\" \"C:\\\\rust\\\\rus\r\ntup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\\r\nlib\\\\libpanic_unwind-8e02fc67161a7d8f.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stabl\r\ne-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libhashbrown-3380\r\n4d6248981d68.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\li\r\nb\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_std_workspace_alloc-057cb2a83ed8d\r\n602.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustli\r\nb\\\\i686-pc-windows-gnu\\\\lib\\\\libbacktrace-951976a2e108e12f.rlib\" \"C:\\\\rust\\\\rust\r\nup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\l\r\nib\\\\libbacktrace_sys-91e9eefa1109c155.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stabl\r\ne-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_demangle\r\n-bf0cbd257613d152.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gn\r\nu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libunwind-c34988a92fa8dc0e.rlib\" \"C:\\\r\n\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-win\r\ndows-gnu\\\\lib\\\\libcfg_if-17273c5475206f25.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\s\r\ntable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\liblibc-fb8ee\r\ncdcaa771961.rlib\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\r\n\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\liballoc-5cf9e879ba55ea4b.rlib\" \"C:\\\\rust\\\\\r\nrustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gn\r\nu\\\\lib\\\\librustc_std_workspace_core-e16b6d2c85c40d6b.rlib\" \"C:\\\\rust\\\\rustup\\\\to\r\nolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\li\r\nbcore-b978dcbc96dc6d47.rlib\" \"--end-group\" \"C:\\\\rust\\\\rustup\\\\toolchains\\\\stable\r\n-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libcompiler_builti\r\nns-c6570c2846c80c80.rlib\" \"-Bdynamic\" \"-ladvapi32\" \"-lws2_32\" \"-luserenv\" \"C:\\\\r\r\nust\\\\rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windo\r\nws-gnu\\\\lib\\\\rsend.o\"\r\n  = note: rust-lld: error: C:\\rust\\rustup\\toolchains\\stable-i686-pc-windows-gnu\\\r\nlib\\rustlib\\i686-pc-windows-gnu\\lib\\self-contained\\crt2.o: unknown file type\r\n          rust-lld: error: C:\\rust\\rustup\\toolchains\\stable-i686-pc-windows-gnu\\\r\nlib\\rustlib\\i686-pc-windows-gnu\\lib\\rsbegin.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.2zw63tsskilccwc6.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.4dhg8t1cjkw8md0h.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.58gt8py3qm1dgrz1.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.bginw74pvbx0dl9.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.g7scjmtccrgkrgh.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.pc9r2fex9ayk3br.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\py\\j\\hello_rust\\target\\debug\\deps\\hello_rust-279ab\r\ne05081936aa.4dlwa79zjyk7oop1.rcgu.o: unknown file type\r\n          rust-lld: error: C:\\rust\\rustup\\toolchains\\stable-i686-pc-windows-gnu\\\r\nlib\\rustlib\\i686-pc-windows-gnu\\lib\\rsend.o: unknown file type\r\n\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: could not compile `hello_rust`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n\r\nI think that this probjem would go away if I used Clang.exe as the linker, but installing clang would be problematic on my end", "closed_by": {"login": "Keithcat1", "id": 47483928, "node_id": "MDQ6VXNlcjQ3NDgzOTI4", "avatar_url": "https://avatars.githubusercontent.com/u/47483928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keithcat1", "html_url": "https://github.com/Keithcat1", "followers_url": "https://api.github.com/users/Keithcat1/followers", "following_url": "https://api.github.com/users/Keithcat1/following{/other_user}", "gists_url": "https://api.github.com/users/Keithcat1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keithcat1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keithcat1/subscriptions", "organizations_url": "https://api.github.com/users/Keithcat1/orgs", "repos_url": "https://api.github.com/users/Keithcat1/repos", "events_url": "https://api.github.com/users/Keithcat1/events{/privacy}", "received_events_url": "https://api.github.com/users/Keithcat1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/76491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/76491/timeline", "performed_via_github_app": null, "state_reason": "completed"}