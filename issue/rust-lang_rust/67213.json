{"url": "https://api.github.com/repos/rust-lang/rust/issues/67213", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/67213/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/67213/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/67213/events", "html_url": "https://github.com/rust-lang/rust/issues/67213", "id": 536105036, "node_id": "MDU6SXNzdWU1MzYxMDUwMzY=", "number": 67213, "title": "codegen-units=1 builds e.g. style and webrender faster", "user": {"login": "glandium", "id": 1038527, "node_id": "MDQ6VXNlcjEwMzg1Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1038527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glandium", "html_url": "https://github.com/glandium", "followers_url": "https://api.github.com/users/glandium/followers", "following_url": "https://api.github.com/users/glandium/following{/other_user}", "gists_url": "https://api.github.com/users/glandium/gists{/gist_id}", "starred_url": "https://api.github.com/users/glandium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glandium/subscriptions", "organizations_url": "https://api.github.com/users/glandium/orgs", "repos_url": "https://api.github.com/users/glandium/repos", "events_url": "https://api.github.com/users/glandium/events{/privacy}", "received_events_url": "https://api.github.com/users/glandium/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64037154, "node_id": "MDU6TGFiZWw2NDAzNzE1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-compiletime", "name": "I-compiletime", "color": "e11d21", "default": false, "description": "Problems and improvements with respect to compile times."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-11T02:34:48Z", "updated_at": "2019-12-11T10:16:47Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is the cargo-timing output for gkrust when running `CARGOFLAGS=\"-Z timings\" MOZ_RUST_TIER=1 ./mach build pre-export export rust` on mozilla-central with a patch to remove a dependency that cranelift has on packed-struct: https://glandium.org/files/gkrust-cargo-timing-no-packed-struct-one-codegen-real-clobber.html (the command allows to build rust without C/C++ happening in parallel to interfere)\r\nmozilla-central is setup such that the release profile uses codegen-units=1 (in its top-level Cargo.toml).\r\n\r\nLifting that restriction makes the build time for gkrust surprisingly identical. And the reason is that while plenty of crates build faster, some others, like style (60 vs. 74) and webrender (18 vs. 26), don't. https://glandium.org/files/gkrust-cargo-timing-no-packed-struct-multi-codegens-real-clobber.html", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/67213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/67213/timeline", "performed_via_github_app": null, "state_reason": null}