{"url": "https://api.github.com/repos/rust-lang/rust/issues/31458", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/31458/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/31458/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/31458/events", "html_url": "https://github.com/rust-lang/rust/issues/31458", "id": 131926245, "node_id": "MDU6SXNzdWUxMzE5MjYyNDU=", "number": 31458, "title": "Segfault with mipsel target", "user": {"login": "GaveUp", "id": 1442135, "node_id": "MDQ6VXNlcjE0NDIxMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1442135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GaveUp", "html_url": "https://github.com/GaveUp", "followers_url": "https://api.github.com/users/GaveUp/followers", "following_url": "https://api.github.com/users/GaveUp/following{/other_user}", "gists_url": "https://api.github.com/users/GaveUp/gists{/gist_id}", "starred_url": "https://api.github.com/users/GaveUp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GaveUp/subscriptions", "organizations_url": "https://api.github.com/users/GaveUp/orgs", "repos_url": "https://api.github.com/users/GaveUp/repos", "events_url": "https://api.github.com/users/GaveUp/events{/privacy}", "received_events_url": "https://api.github.com/users/GaveUp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 106552066, "node_id": "MDU6TGFiZWwxMDY1NTIwNjY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-MIPS", "name": "O-MIPS", "color": "6e6ec0", "default": false, "description": "Target: MIPS processors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-07T02:43:23Z", "updated_at": "2017-04-29T15:34:23Z", "closed_at": "2017-04-29T15:34:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Cross-compiling the default hello world and running it on a mipsel machine with debian squeeze results in a segfault.\n## Rust Code\n\n``` rust\nfn main() {\n    println!(\"Hello, world!\");\n}\n```\n## Rust Version\n\n`rustc 1.8.0-dev (915fa2a37 2016-02-06)\n`\n## Strace Output\n\n```\nexecve(\"./test\", [\"./test\"], [/* 15 vars */]) = 0\nbrk(0)                                  = 0x77141000\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x770eb000\nuname({sys=\"Linux\", node=\"debian\", ...}) = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\naccess(\"/etc/ld.so.preload\", R_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/etc/ld.so.cache\", O_RDONLY)      = 3\nfstat64(3, {st_mode=S_IFREG|0644, st_size=7869, ...}) = 0\nold_mmap(NULL, 7869, PROT_READ, MAP_PRIVATE, 3, 0) = 0x770e8000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/libdl.so.2\", O_RDONLY)       = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\10\\0\\1\\0\\0\\0p\\v\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 704, SEEK_SET)                 = 704\nread(3, \"\\4\\0\\0\\0\\20\\0\\0\\0\\1\\0\\0\\0GNU\\0\\0\\0\\0\\0\\2\\0\\0\\0\\6\\0\\0\\0\\22\\0\\0\\0\", 32) = 32\nfstat64(3, {st_mode=S_IFREG|0644, st_size=14780, ...}) = 0\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x770e7000\nold_mmap(NULL, 78048, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x770a6000\nmprotect(0x770a9000, 61440, PROT_NONE)  = 0\nold_mmap(0x770b8000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) = 0x770b8000\nmprotect(0x7f85a000, 4096, PROT_READ|PROT_WRITE|PROT_EXEC|PROT_GROWSDOWN) = 0\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/libpthread.so.0\", O_RDONLY)  = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\10\\0\\1\\0\\0\\0\\200I\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 744, SEEK_SET)                 = 744\nread(3, \"\\4\\0\\0\\0\\20\\0\\0\\0\\1\\0\\0\\0GNU\\0\\0\\0\\0\\0\\2\\0\\0\\0\\6\\0\\0\\0\\22\\0\\0\\0\", 32) = 32\nfstat64(3, {st_mode=S_IFREG|0755, st_size=135361, ...}) = 0\nold_mmap(NULL, 172992, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7707a000\nmprotect(0x77091000, 65536, PROT_NONE)  = 0\nold_mmap(0x770a1000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x17000) = 0x770a1000\nold_mmap(0x770a3000, 5056, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x770a3000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/libgcc_s.so.1\", O_RDONLY)    = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\10\\0\\1\\0\\0\\0\\300\\307\\0\\0004\\0\\0\\0\"..., 512) = 512\nfstat64(3, {st_mode=S_IFREG|0644, st_size=234684, ...}) = 0\nold_mmap(NULL, 257168, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7703a000\nmprotect(0x77068000, 65536, PROT_NONE)  = 0\nold_mmap(0x77078000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) = 0x77078000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/libc.so.6\", O_RDONLY)        = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\10\\0\\1\\0\\0\\0Ds\\1\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 760, SEEK_SET)                 = 760\nread(3, \"\\4\\0\\0\\0\\20\\0\\0\\0\\1\\0\\0\\0GNU\\0\\0\\0\\0\\0\\2\\0\\0\\0\\6\\0\\0\\0\\22\\0\\0\\0\", 32) = 32\nfstat64(3, {st_mode=S_IFREG|0755, st_size=1602860, ...}) = 0\nold_mmap(NULL, 1584752, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x76eb6000\nmprotect(0x7701c000, 61440, PROT_NONE)  = 0\nold_mmap(0x7702b000, 45056, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x165000) = 0x7702b000\nold_mmap(0x77036000, 11888, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x77036000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/libm.so.6\", O_RDONLY)        = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\10\\0\\1\\0\\0\\0p1\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 680, SEEK_SET)                 = 680\nread(3, \"\\4\\0\\0\\0\\20\\0\\0\\0\\1\\0\\0\\0GNU\\0\\0\\0\\0\\0\\2\\0\\0\\0\\6\\0\\0\\0\\22\\0\\0\\0\", 32) = 32\nfstat64(3, {st_mode=S_IFREG|0644, st_size=549812, ...}) = 0\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x770ea000\nold_mmap(NULL, 603008, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x76e22000\nmprotect(0x76ea5000, 61440, PROT_NONE)  = 0\nold_mmap(0x76eb4000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x82000) = 0x76eb4000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/librt.so.1\", O_RDONLY)       = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\10\\0\\1\\0\\0\\0\\0\\30\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 744, SEEK_SET)                 = 744\nread(3, \"\\4\\0\\0\\0\\20\\0\\0\\0\\1\\0\\0\\0GNU\\0\\0\\0\\0\\0\\2\\0\\0\\0\\6\\0\\0\\0\\22\\0\\0\\0\", 32) = 32\nfstat64(3, {st_mode=S_IFREG|0644, st_size=37312, ...}) = 0\nold_mmap(NULL, 98976, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x76e08000\nmprotect(0x76e10000, 61440, PROT_NONE)  = 0\nold_mmap(0x76e1f000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x76e1f000\nclose(3)                                = 0\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x76e21000\nset_thread_area(0x76e286a0)             = 0\nmprotect(0x76e1f000, 4096, PROT_READ)   = 0\nmprotect(0x76eb4000, 4096, PROT_READ)   = 0\nmprotect(0x7702b000, 36864, PROT_READ)  = 0\nmprotect(0x770a1000, 4096, PROT_READ)   = 0\nmprotect(0x770b8000, 4096, PROT_READ)   = 0\nmprotect(0x770ee000, 258048, PROT_READ|PROT_WRITE) = 0\n--- SIGSEGV (Segmentation fault) @ 0 (0) ---\n+++ killed by SIGSEGV +++\n```\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/31458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/31458/timeline", "performed_via_github_app": null, "state_reason": "completed"}