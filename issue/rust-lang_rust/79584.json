{"url": "https://api.github.com/repos/rust-lang/rust/issues/79584", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/79584/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/79584/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/79584/events", "html_url": "https://github.com/rust-lang/rust/issues/79584", "id": 753938950, "node_id": "MDU6SXNzdWU3NTM5Mzg5NTA=", "number": 79584, "title": "Help for missing lifetimes in inherent impl block header could be better", "user": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 1775993, "node_id": "MDU6TGFiZWwxNzc1OTkz", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lifetimes", "name": "A-lifetimes", "color": "f7e101", "default": false, "description": "Area: lifetime related"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}, {"id": 1596122130, "node_id": "MDU6TGFiZWwxNTk2MTIyMTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-papercut", "name": "D-papercut", "color": "c9f7a3", "default": false, "description": "Diagnostic error that needs small tweaks"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-01T01:59:23Z", "updated_at": "2020-12-01T04:16:42Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nI tried this code:\r\n\r\n```rust\r\nstruct Repository;\r\nstruct EntityPool;\r\npub struct EntityImporter<'a, 'b> {\r\n    repositories: &'a Vec<Repository>,\r\n    entity_pool: &'b EntityPool,\r\n}\r\nimpl EntityImporter {\r\n    pub fn new(repos: &Vec<Repository>, pool: &EntityPool) -> EntityImporter {\r\n        EntityImporter {\r\n            repositories: repos,\r\n            entity_pool: pool,\r\n        }\r\n    }\r\n}\r\n```\r\nhttps://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=bfd658bcb864cea21a5fa342a464b4b1\r\n\r\nThat errors (correctly), but suggests putting anonymous lifetimes in the inherent impl block:\r\n```\r\nerror[E0726]: implicit elided lifetime not allowed here\r\n --> src/lib.rs:7:6\r\n  |\r\n7 | impl EntityImporter {\r\n  |      ^^^^^^^^^^^^^^- help: indicate the anonymous lifetimes: `<'_, '_>`\r\n```\r\n\r\nThat's a great suggestion for a trait impl block (like if I was doing `impl Debug for EntityImporter`), but for an _inherent_ impl block I'm not sure it's the best we can do.\r\n\r\nIt might be better for it to suggest using named lifetimes here, since it's likely that at least one method in the block will need them.\r\n\r\nSee https://users.rust-lang.org/t/understanding-static-lifetimes/52139?u=scottmcm for an example where someone followed the `<'_, '_>` suggestion and ended up in the generally-unwanted situation of\r\n```rust\r\nimpl<'x, 'y> EntityImporter<'_, '_> {\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/79584/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/79584/timeline", "performed_via_github_app": null, "state_reason": null}