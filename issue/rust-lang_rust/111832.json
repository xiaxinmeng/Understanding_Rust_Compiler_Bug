{"url": "https://api.github.com/repos/rust-lang/rust/issues/111832", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/111832/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/111832/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/111832/events", "html_url": "https://github.com/rust-lang/rust/issues/111832", "id": 1718719071, "node_id": "I_kwDOAAsO6M5mcZJf", "number": 111832, "title": "What is the behavior of `std::env::split_paths` when given an empty string?", "user": {"login": "lopopolo", "id": 860434, "node_id": "MDQ6VXNlcjg2MDQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/860434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lopopolo", "html_url": "https://github.com/lopopolo", "followers_url": "https://api.github.com/users/lopopolo/followers", "following_url": "https://api.github.com/users/lopopolo/following{/other_user}", "gists_url": "https://api.github.com/users/lopopolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/lopopolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lopopolo/subscriptions", "organizations_url": "https://api.github.com/users/lopopolo/orgs", "repos_url": "https://api.github.com/users/lopopolo/repos", "events_url": "https://api.github.com/users/lopopolo/events{/privacy}", "received_events_url": "https://api.github.com/users/lopopolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-05-22T01:17:48Z", "updated_at": "2023-06-05T08:54:44Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Location\n\nhttps://doc.rust-lang.org/nightly/std/env/fn.split_paths.html\n\n### Summary\n\nThe iterator returned by `std::env::split_paths` yields a single empty empty string when given a `\"\"` or `OsStr::new(\"\")` argument. Is this by design or a bug?\r\n\r\nI found it unexpected that an empty path string yielded any paths at all and was curious if this is a quirk of the implementation using `slice::Split` on the internals.\r\n\r\nhttps://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=a57d0e83edebdcbe70e5e2a54424ee9f\r\n\r\n```rust\r\nuse std::env::split_paths;\r\n\r\nfn main() {\r\n    println!(\"{:?}\", split_paths(\"\").collect::<Vec<_>>());\r\n    println!(\"{:?}\", split_paths(\":\").collect::<Vec<_>>());\r\n    println!(\"{:?}\", split_paths(\"::\").collect::<Vec<_>>());\r\n}\r\n```\r\n\r\noutputs:\r\n\r\n```\r\n[\"\"]\r\n[\"\", \"\"]\r\n[\"\", \"\", \"\"]\r\n```\r\n\r\nThe second and third output make sense to me. In the absence of documented behavior, I'm not sure about the first one.\r\n\r\nIf this is the expected behavior, can it be added to the documentation?", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/111832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/111832/timeline", "performed_via_github_app": null, "state_reason": null}