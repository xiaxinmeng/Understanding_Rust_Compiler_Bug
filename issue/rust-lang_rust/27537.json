{"url": "https://api.github.com/repos/rust-lang/rust/issues/27537", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27537/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27537/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27537/events", "html_url": "https://github.com/rust-lang/rust/issues/27537", "id": 99251909, "node_id": "MDU6SXNzdWU5OTI1MTkwOQ==", "number": 27537, "title": "Document interaction of std APIs with OS syscalls", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-05T17:05:24Z", "updated_at": "2015-08-05T17:44:18Z", "closed_at": "2015-08-05T17:44:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@aturon and I have long had the desire to audit all of our various `std::{io, process, env, fs, os}` APIs with what they're actually doing on all platforms. This is very helpful for getting more information about the precise semantics of the API in various corner cases as well as explaining what's going on under the hood.\n\nThis is a pretty big bug and probably shouldn't be tackled all at once, but what we've been thinking is something along the lines of:\n- All of these APIs will have a \"Platform Behavior\" section of the documentation.\n- Each API will document what syscall it invokes, as well as perhaps how the various arguments translate. For example `OpenOptions::open` is documented on unix as calling the `open` syscall followed by a `ioctl` to set the file descriptor to CLOEXEC. The documentation would also state that we may one day use newer versions of `open` which allow setting CLOEXEC atomically.\n- We want to be relatively relaxed in the documentation to allow ourselves room to tweak various aspects here and there in the future.\n\nIdeally this is will happen exhaustively to **all** I/O APIs, but that's probably a long ways out. Either way seems like a good bug to track!\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27537/timeline", "performed_via_github_app": null, "state_reason": "completed"}