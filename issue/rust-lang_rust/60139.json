{"url": "https://api.github.com/repos/rust-lang/rust/issues/60139", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/60139/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/60139/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/60139/events", "html_url": "https://github.com/rust-lang/rust/issues/60139", "id": 435418441, "node_id": "MDU6SXNzdWU0MzU0MTg0NDE=", "number": 60139, "title": "redox: convert to target_family unix", "user": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 632506179, "node_id": "MDU6TGFiZWw2MzI1MDYxNzk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-redox", "name": "O-redox", "color": "6e6ec0", "default": false, "description": "Operating system: Redox, https://www.redox-os.org/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2019-04-20T16:53:10Z", "updated_at": "2019-08-07T21:39:49Z", "closed_at": "2019-08-07T21:39:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Major changes have been happening in Redox since the design of the [libstd/sys/redox](https://github.com/rust-lang/rust/tree/master/src/libstd/sys/redox) module. The creation of [relibc](https://gitlab.redox-os.org/redox-os/relibc) has led to the development of a POSIX, C API for Redox that supports the vast majority of required functions in the [libstd/sys/unix](https://github.com/rust-lang/rust/tree/master/src/libstd/sys/unix) module. This has allowed the use of a separate target family for Redox to be reconsidered, perhaps allowing it to fall under the `unix` target family and gain support from a large number of crates without requiring any explicit changes.\r\n\r\nAfter such a unification, the one remaining issue is #52331. Solving this requires the potentially breaking change indicated in [these four lines](https://gitlab.redox-os.org/redox-os/rust/compare/master...redox-2019-04-06#726d557404bd7e8c4882155861872014c50807e9_185_186). This change adds a `path::Prefix::Scheme` variant, but only on Redox. Although this would be a breaking change for Redox, all of the supported packages on Redox have already been compiled successfully with this new variant.\r\n\r\nI believe that this change will significantly reduce the work required to move Redox OS to Tier 3, with full support for cargo, rustc, and the other rust tools.\r\n\r\nThe downside is that crates that have both `cfg(unix)` and `cfg(target_os = \"redox\")` defined will not compile correctly on Redox. This would likely break Redox support for some of the crates that have already added specific support for Redox, while enabling Redox support for many crates that only have support for the `unix` target family.\r\n\r\nI would appreciate any feedback on this potential change.", "closed_by": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/60139/reactions", "total_count": 85, "+1": 51, "-1": 0, "laugh": 0, "hooray": 18, "confused": 0, "heart": 0, "rocket": 16, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/60139/timeline", "performed_via_github_app": null, "state_reason": "completed"}