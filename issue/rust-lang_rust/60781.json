{"url": "https://api.github.com/repos/rust-lang/rust/issues/60781", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/60781/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/60781/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/60781/events", "html_url": "https://github.com/rust-lang/rust/issues/60781", "id": 443340991, "node_id": "MDU6SXNzdWU0NDMzNDA5OTE=", "number": 60781, "title": "gnu/MinGW: cannot find -l<shared-library> found by pkg-config", "user": {"login": "spl", "id": 54900, "node_id": "MDQ6VXNlcjU0OTAw", "avatar_url": "https://avatars.githubusercontent.com/u/54900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spl", "html_url": "https://github.com/spl", "followers_url": "https://api.github.com/users/spl/followers", "following_url": "https://api.github.com/users/spl/following{/other_user}", "gists_url": "https://api.github.com/users/spl/gists{/gist_id}", "starred_url": "https://api.github.com/users/spl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spl/subscriptions", "organizations_url": "https://api.github.com/users/spl/orgs", "repos_url": "https://api.github.com/users/spl/repos", "events_url": "https://api.github.com/users/spl/events{/privacy}", "received_events_url": "https://api.github.com/users/spl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 266005714, "node_id": "MDU6TGFiZWwyNjYwMDU3MTQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows-gnu", "name": "O-windows-gnu", "color": "6e6ec0", "default": false, "description": "Toolchain: GNU, Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-13T11:13:50Z", "updated_at": "2020-08-13T15:34:20Z", "closed_at": "2020-08-13T15:34:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to build a `-sys` crate that can work on MinGW with a shared library (`graphite2`) installed by `pacman`. The basic setup for this issue is simple and available at <https://github.com/spl/rust-gnu-linker-test>. The latest AppVeyor build is at <https://ci.appveyor.com/project/spl/rust-gnu-linker-test/builds/24532085>.\r\n\r\nThe key component is the `build.rs`:\r\n\r\n```rust\r\nextern crate pkg_config;\r\nfn main() {\r\n    pkg_config::probe_library(\"graphite2\").unwrap();\r\n}\r\n```\r\n\r\nI have an `.appveyor.yml` that installs `graphite2` (where `%ARCH%` is either `i686` or `x86_64`):\r\n\r\n```yaml\r\n- C:\\msys64\\usr\\bin\\pacman -Su --needed --noconfirm \"mingw-w64-%ARCH%-graphite2\"\r\n```\r\n\r\nI set the path to use the appropriate MinGW toolchain (and check that `where pkg-config` shows the expected path):\r\n\r\n```yaml\r\n- if %ARCH%==i686   set PATH=C:\\msys64\\mingw32\\bin;%PATH%\r\n- if %ARCH%==x86_64 set PATH=C:\\msys64\\mingw64\\bin;%PATH%\r\n```\r\n\r\nWithout further configuration, the build:\r\n\r\n```yaml\r\n- cargo build -vv\r\n```\r\n\r\nfails with:\r\n\r\n```\r\n     Running `C:\\projects\\rust-gnu-linker-test\\target\\debug\\build\\rust-gnu-linker-test-f3230c314e90db45\\build-script-build`\r\n[rust-gnu-linker-test 0.1.0] cargo:rustc-link-search=native=/mingw32/lib\r\n[rust-gnu-linker-test 0.1.0] cargo:rustc-link-lib=graphite2\r\n     Running `set CARGO_PKG_VERSION=0.1.0&& set CARGO_PKG_VERSION_MINOR=1&& set CARGO_PKG_VERSION_PATCH=0&& set CARGO_PKG_REPOSITORY=&& set CARGO_PRIMARY_PACKAGE=1&& set PATH=\"C:\\projects\\rust-gnu-linker-test\\target\\debug\\deps;C:\\Users\\appveyor\\.rustup\\toolchains\\stable-i686-pc-windows-gnu\\bin;C:\\Users\\appveyor\\.cargo\\bin;C:\\Users\\appveyor\\.rustup\\toolchains\\stable-i686-pc-windows-gnu\\bin;C:\\msys64\\mingw32\\bin;C:\\Users\\appveyor\\.cargo\\bin;C:\\Program Files (x86)\\Microsoft SDKs\\Azure\\CLI2\\wbin;C:\\Perl\\site\\bin;C:\\Perl\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\7-Zip;C:\\Program Files\\Microsoft\\Web Platform Installer\\;C:\\Tools\\GitVersion;C:\\Tools\\PsTools;C:\\Program Files\\Git LFS;C:\\Program Files (x86)\\Subversion\\bin;C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\110\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\120\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\120\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\120\\Tools\\Binn\\ManagementStudio\\;C:\\Tools\\WebDriver;C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.4\\;C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\IDE\\PrivateAssemblies\\;C:\\Program Files (x86)\\Microsoft SDKs\\Azure\\CLI\\wbin;C:\\Ruby193\\bin;C:\\Tools\\NUnit\\bin;C:\\Tools\\xUnit;C:\\Tools\\MSpec;C:\\Tools\\Coverity\\bin;C:\\Program Files (x86)\\CMake\\bin;C:\\go\\bin;C:\\Program Files\\Java\\jdk1.8.0\\bin;C:\\Python27;C:\\Program Files\\nodejs;C:\\Program Files (x86)\\iojs;C:\\Program Files\\iojs;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\MSBuild\\14.0\\Bin;C:\\Tools\\NuGet;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files\\Microsoft DNX\\Dnvm;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\130\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\120\\DTS\\Binn\\;C:\\Program Files (x86)\\Apache\\Maven\\bin;C:\\Python27\\Scripts;C:\\Tools\\NUnit3;C:\\Program Files\\Mercurial\\;C:\\Program Files\\dotnet\\;C:\\Tools\\curl\\bin;C:\\Program Files\\Amazon\\AWSCLI\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\Extensions\\Microsoft\\SQLDB\\DAC\\140;C:\\Tools\\vcpkg;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\erl9.2\\bin;C:\\Program Files (x86)\\NSIS;C:\\Tools\\Octopus;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Microsoft Service Fabric\\bin\\Fabric\\Fabric.Code;C:\\Program Files\\Microsoft SDKs\\Service Fabric\\Tools\\ServiceFabricLocalClusterManager;C:\\Program Files\\LLVM\\bin;C:\\Program Files (x86)\\Yarn\\bin\\;C:\\Users\\appveyor\\AppData\\Roaming\\npm;C:\\Program Files\\PowerShell\\6\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files (x86)\\nodejs\\;C:\\Users\\appveyor\\.dotnet\\tools;C:\\Users\\appveyor\\AppData\\Local\\Yarn\\bin;C:\\Users\\appveyor\\AppData\\Roaming\\npm;C:\\Program Files\\AppVeyor\\BuildAgent\\\\\"&& set CARGO_PKG_VERSION_MAJOR=0&& set CARGO_PKG_VERSION_PRE=&& set CARGO_MANIFEST_DIR=C:\\projects\\rust-gnu-linker-test&& set OUT_DIR=C:\\projects\\rust-gnu-linker-test\\target\\debug\\build\\rust-gnu-linker-test-50a7e295c07e2416\\out&& set CARGO_PKG_AUTHORS=Unknown&& set CARGO=\\\\?\\C:\\Users\\appveyor\\.rustup\\toolchains\\stable-i686-pc-windows-gnu\\bin\\cargo.exe&& set CARGO_PKG_NAME=rust-gnu-linker-test&& set CARGO_PKG_DESCRIPTION=&& set CARGO_PKG_HOMEPAGE=&& rustc --edition=2018 --crate-name rust_gnu_linker_test src\\main.rs --color never --crate-type bin --emit=dep-info,link -C debuginfo=2 -C metadata=95b6af48a2a16207 -C extra-filename=-95b6af48a2a16207 --out-dir C:\\projects\\rust-gnu-linker-test\\target\\debug\\deps -C incremental=C:\\projects\\rust-gnu-linker-test\\target\\debug\\incremental -L dependency=C:\\projects\\rust-gnu-linker-test\\target\\debug\\deps -L native=/mingw32/lib -l graphite2`\r\nerror: linking with `gcc` failed: exit code: 1\r\n  |\r\n  = note: \"gcc\" \"-Wl,--enable-long-section-names\" \"-fno-use-linker-plugin\" \"-Wl,--nxcompat\" \"-nostdlib\" \"-Wl,--large-address-aware\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\crt2.o\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\rsbegin.o\" \"-L\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.29a33s57lqnz2eiv.rcgu.o\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.3qg8lue528u94prk.rcgu.o\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.3ubrmg2xztllpd32.rcgu.o\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.3uqvpdcj93bzxgsn.rcgu.o\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.prqz5yqx435uwki.rcgu.o\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.vhc74737lnhlimb.rcgu.o\" \"-o\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.exe\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\\\\rust_gnu_linker_test-95b6af48a2a16207.5aba11pl18oxkwlc.rcgu.o\" \"-Wl,--gc-sections\" \"-nodefaultlibs\" \"-L\" \"C:\\\\projects\\\\rust-gnu-linker-test\\\\target\\\\debug\\\\deps\" \"-L\" \"/mingw32/lib\" \"-L\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\" \"-lgraphite2\" \"-Wl,--start-group\" \"-Wl,-Bstatic\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libstd-352224e4f0f52495.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libpanic_unwind-1df48bb698babe0f.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libbacktrace_sys-e33d2aecefe6e52a.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libunwind-6cd6f50b682d440b.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_demangle-f70dc1fec692eefd.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\liblibc-659fb6a5c340607f.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\liballoc-9d1d98d6712272cf.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_std_workspace_core-899502000089d7f2.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libcore-dcb03e66209691e3.rlib\" \"-Wl,--end-group\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libcompiler_builtins-d3bba173fb7c9a29.rlib\" \"-Wl,-Bdynamic\" \"-ladvapi32\" \"-lws2_32\" \"-luserenv\" \"-Wl,-Bstatic\" \"-lgcc_eh\" \"-lpthread\" \"-Wl,-Bdynamic\" \"-lmingwex\" \"-lmingw32\" \"-lgcc\" \"-lmsvcrt\" \"-lmsvcrt\" \"-luser32\" \"-lkernel32\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\stable-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\rsend.o\"\r\n  = note: ld: cannot find -lgraphite2\r\n```\r\n\r\nThis happens with both `stable` (1.34.1) and `nightly` (1.36.0-nightly) and both `i686` and `x86_64`.\r\n\r\nIf I configure the linker in the `.appveyor.yml` as the MinGW `gcc` (e.g. for `i686`):\r\n\r\n```yaml\r\nCARGO_TARGET_I686_PC_WINDOWS_GNU_LINKER: C:/msys64/mingw32/bin/gcc\r\n```\r\n\r\nthen the build succeeds.\r\n\r\n(Aside: I confirmed that the only difference between the two `rustc` calls was the addition of `-C linker=C:/msys64/mingw32/bin/gcc` in the passing case.)\r\n\r\nTo verify that it's not just a matter of changing the linker that fixes it, I tried using the Rust toolchain linker:\r\n\r\n```yaml\r\nCARGO_TARGET_I686_PC_WINDOWS_GNU_LINKER: C:/Users/appveyor/.rustup/toolchains/nightly-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/bin/gcc\r\n```\r\n\r\nThis also fails as above.\r\n\r\nWhen I use [Process Monitor](https://docs.microsoft.com/en-us/sysinternals/downloads/procmon) to look at the `ld.exe` process file accesses for the failing cases, I never see it look in the correct directory. For example, it tries `C:\\mingw32\\lib\\libgraphite2.dll.a`, but the `C:\\mingw32` directory does not exist.\r\n\r\nWhen I look at the `ld.exe` for the passing case, it does look in `C:\\mingw32`, but it also looks in `C:\\msys32\\mingw32` (which does exist) and eventually finds the library at `C:\\msys32\\mingw32\\lib\\libgraphite2.dll.a`.\r\n\r\nOne last possibly useful point is that, when I try to run the `gcc` command (in an msys2 terminal) as printed for the initial failing case:\r\n\r\n```\r\n$ export PATH=\"/c/projects/rust-gnu-linker-test/target/debug/deps:$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/bin:$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/bin:$USERPROFILE/.cargo/bin:/c/msys32/mingw32/bin:/usr/bin\"\r\n$ $USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/bin/gcc \\\r\n-Wl,--enable-long-section-names \\\r\n-fno-use-linker-plugin \\\r\n-Wl,--nxcompat \\\r\n-nostdlib \\\r\n-Wl,--large-address-aware \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/crt2.o \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/rsbegin.o \\\r\n-L $USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.29a33s57lqnz2eiv.rcgu.o \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.3qg8lue528u94prk.rcgu.o \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.3ubrmg2xztllpd32.rcgu.o \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.3uqvpdcj93bzxgsn.rcgu.o \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.prqz5yqx435uwki.rcgu.o \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.vhc74737lnhlimb.rcgu.o \\\r\n-o $HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.exe \\\r\n$HOME/rust-gnu-linker-test/target/debug/deps/rust_gnu_linker_test-95b6af48a2a16207.5aba11pl18oxkwlc.rcgu.o \\\r\n-Wl,--gc-sections \\\r\n-nodefaultlibs \\\r\n-L $HOME/rust-gnu-linker-test/target/debug/deps \\\r\n-L /mingw32/lib \\\r\n-L $USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib \\\r\n-lgraphite2 \\\r\n-Wl,--start-group \\\r\n-Wl,-Bstatic \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/libstd-352224e4f0f52495.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/libpanic_unwind-1df48bb698babe0f.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/libbacktrace_sys-e33d2aecefe6e52a.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/libunwind-6cd6f50b682d440b.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/librustc_demangle-f70dc1fec692eefd.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/liblibc-659fb6a5c340607f.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/liballoc-9d1d98d6712272cf.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/librustc_std_workspace_core-899502000089d7f2.rlib \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/libcore-dcb03e66209691e3.rlib \\\r\n-Wl,--end-group \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/libcompiler_builtins-d3bba173fb7c9a29.rlib \\\r\n-Wl,-Bdynamic \\\r\n-ladvapi32 \\\r\n-lws2_32 \\\r\n-luserenv \\\r\n-Wl,-Bstatic \\\r\n-lgcc_eh \\\r\n-lpthread \\\r\n-Wl,-Bdynamic \\\r\n-lmingwex \\\r\n-lmingw32 \\\r\n-lgcc \\\r\n-lmsvcrt \\\r\n-lmsvcrt \\\r\n-luser32 \\\r\n-lkernel32 \\\r\n$USERPROFILE/.rustup/toolchains/stable-i686-pc-windows-gnu/lib/rustlib/i686-pc-windows-gnu/lib/rsend.o\r\n```\r\n\r\nit is successful (exit code: 0). In Process Monitor, I can see that it finds `C:\\msys32\\mingw32\\lib\\libgraphite2.dll.a` and does not search `C:\\mingw32`.", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/60781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/60781/timeline", "performed_via_github_app": null, "state_reason": "completed"}