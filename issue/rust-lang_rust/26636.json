{"url": "https://api.github.com/repos/rust-lang/rust/issues/26636", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26636/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26636/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26636/events", "html_url": "https://github.com/rust-lang/rust/issues/26636", "id": 91601754, "node_id": "MDU6SXNzdWU5MTYwMTc1NA==", "number": 26636, "title": "ICE using external Trait Impl with associated default type", "user": {"login": "mitaa", "id": 6785936, "node_id": "MDQ6VXNlcjY3ODU5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/6785936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitaa", "html_url": "https://github.com/mitaa", "followers_url": "https://api.github.com/users/mitaa/followers", "following_url": "https://api.github.com/users/mitaa/following{/other_user}", "gists_url": "https://api.github.com/users/mitaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitaa/subscriptions", "organizations_url": "https://api.github.com/users/mitaa/orgs", "repos_url": "https://api.github.com/users/mitaa/repos", "events_url": "https://api.github.com/users/mitaa/events{/privacy}", "received_events_url": "https://api.github.com/users/mitaa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-06-28T13:53:13Z", "updated_at": "2015-06-30T23:47:04Z", "closed_at": "2015-06-30T23:47:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\n// main.rs\nextern crate foo;\nuse foo::Foo;\n\nfn main() {\n    ().bar(5);\n}\n```\n\n``` rust\n// foo.rs\npub trait Foo {\n    type Input=usize;\n    fn bar(&self, _: Self::Input) {}\n}\n\nimpl Foo for () {}\n```\n\nThis causes a ICE:\n\n```\n$ rustc foo.rs --crate-type lib && rustc main.rs --extern foo=libfoo.rlib\nmain.rs:5:5: 5:14 error: internal compiler error: cat_expr Errd\nmain.rs:5     ().bar(5);\n              ^~~~~~~~~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'Box<Any>', src/libsyntax\\diagnostic.rs:176\n```\n\nIf the trait is defined in the same crate it compiles without error.\n## Meta\n\n```\n$ rustc --version --verbose\nrustc 1.3.0-dev (c1b8bd2d6 2015-06-28)\nbinary: rustc\ncommit-hash: c1b8bd2d6fd4a00522635112d3f7b28501552a65\ncommit-date: 2015-06-28\nhost: x86_64-pc-windows-gnu\nrelease: 1.3.0-dev\n```\n\nBacktrace:\n\n```\n   1:         0x6f47a235 - sys::backtrace::write::h211dbb4bd6be973b5Cs\n   2:         0x6f48385c - rt::unwind::register::h4693906be8813b77JAw\n   3:         0x6f44570f - rt::unwind::begin_unwind_inner::h814f62215c9372bfSxw\n   4:         0x703710fb - diagnostic::SpanHandler::span_bug::h6cdd59c3e6e257dfO4A\n   5:         0x703710b3 - diagnostic::SpanHandler::span_bug::h6cdd59c3e6e257dfO4A\n   6:          0x23c579a - session::Session::abort_if_errors::h725710f82abb4c311Fs\n   7:         0x6d31fb65 - check::check_item_types::h5ff15bd0334d8c5ePGn\n   8:         0x6d3d9bf2 - check_crate::hef15b03eccc64e04w0C\n   9:         0x616a8b49 - driver::assign_node_ids_and_map::hb8bf19530013da614Da\n  10:         0x616a6f94 - driver::assign_node_ids_and_map::hb8bf19530013da614Da\n  11:         0x616a1489 - driver::assign_node_ids_and_map::hb8bf19530013da614Da\n  12:         0x61682a66 - driver::compile_input::h99144611d4621d8bTba\n  13:         0x6176484d - run_compiler::haae1b27de58cc46ew7b\n  14:         0x617624d5 - run::h9b75af55a20c8851c7b\n  15:         0x61761e19 - run::h9b75af55a20c8851c7b\n  16:         0x6f4be5bc - rust_try\n  17:         0x6f4be599 - rust_try\n  18:         0x6f46d475 - rt::unwind::try::inner_try::ha4237d2b9396aba5Ltw\n  19:         0x61761fd7 - run::h9b75af55a20c8851c7b\n  20:         0x6f48150e - sys::process::Command::cwd::h505045109e6a418daiv\n  21:         0x778259cd - BaseThreadInitThunk\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/26636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26636/timeline", "performed_via_github_app": null, "state_reason": "completed"}