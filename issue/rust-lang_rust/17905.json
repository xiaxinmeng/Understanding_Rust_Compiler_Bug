{"url": "https://api.github.com/repos/rust-lang/rust/issues/17905", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17905/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17905/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17905/events", "html_url": "https://github.com/rust-lang/rust/issues/17905", "id": 45439317, "node_id": "MDU6SXNzdWU0NTQzOTMxNw==", "number": 17905, "title": "ICE: cannot relate bound region: ReLateBound(103, BrAnon(1)) <= ReStatic", "user": {"login": "shanemhansen", "id": 366801, "node_id": "MDQ6VXNlcjM2NjgwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/366801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanemhansen", "html_url": "https://github.com/shanemhansen", "followers_url": "https://api.github.com/users/shanemhansen/followers", "following_url": "https://api.github.com/users/shanemhansen/following{/other_user}", "gists_url": "https://api.github.com/users/shanemhansen/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanemhansen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanemhansen/subscriptions", "organizations_url": "https://api.github.com/users/shanemhansen/orgs", "repos_url": "https://api.github.com/users/shanemhansen/repos", "events_url": "https://api.github.com/users/shanemhansen/events{/privacy}", "received_events_url": "https://api.github.com/users/shanemhansen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-10T02:12:32Z", "updated_at": "2014-12-18T14:32:15Z", "closed_at": "2014-12-18T14:32:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Internal compiler error when compiling the code below. When I change &str to String \nand \"shane\" to \"shane\".to_string() it compiles.\n\n```\n#[deriving(Show)]\nstruct Pair<T,V>(T,V);\nimpl Pair<&str, int> {\n    fn say(self: &Pair<&str, int>) {\n        println!(\"{}\", self);\n    }\n}\nfn main() {\n    let result = &Pair(\"shane\", 1i);\n    result.say();\n}\n```\n\nError message:\n\n```\nshane@tuva ~/hello_world $ RUST_BACKTRACE=1 rustc ./src/main.rs \nsrc/main.rs:3:11: 3:15 error: missing lifetime specifier [E0106]\nsrc/main.rs:3 impl Pair<&str, int> {\n                        ^~~~\nsrc/main.rs:4:12: 4:37 error: internal compiler error: cannot relate bound region: ReLateBound(103, BrAnon(1)) <= ReStatic\nsrc/main.rs:4     fn say(self: &Pair<&str, int>) {\n                         ^~~~~~~~~~~~~~~~~~~~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/diagnostic.rs:113\n\nstack backtrace:\n   1:     0x7f958b037f50 - rt::backtrace::imp::write::hb1f1803d8941cd7dEAq\n   2:     0x7f958b03b0e0 - failure::on_fail::h9fbd63160481d8b76Vq\n   3:     0x7f958f76a8c0 - unwind::begin_unwind_inner::h7014ce12ee89c8aeIxd\n   4:     0x7f958e0e3d40 - unwind::begin_unwind::h3159935999110321135\n   5:     0x7f958e0e3cc0 - diagnostic::SpanHandler::span_bug::ha33c2c4484455dbeGMF\n   6:     0x7f958ff7be70 - driver::session::Session::span_bug::h3cd2ce290cf89fe6wtx\n   7:     0x7f95903fa0b0 - middle::typeck::infer::region_inference::RegionVarBindings<'a, 'tcx>::make_subregion::h51eb89a0d2c3a361s47\n   8:     0x7f95903b7e20 - middle::typeck::infer::region_inference::RegionVarBindings<'a, 'tcx>::make_eqregion::hf308420b28e474f1R37\n   9:     0x7f95903b7aa0 - middle::typeck::infer::equate::Equate<'f, 'tcx>.Combine<'tcx>::regions::hf373312c5711a8earX3\n  10:     0x7f95903b1a00 - middle::typeck::infer::equate::Equate<'f, 'tcx>.Combine<'tcx>::tys::ha8209bdf143531b5E43\n  11:     0x7f95903bb350 - middle::typeck::infer::combine::Combine::substs::h2013094428453956443\n  12:     0x7f95903b1a00 - middle::typeck::infer::equate::Equate<'f, 'tcx>.Combine<'tcx>::tys::ha8209bdf143531b5E43\n  13:     0x7f959013b300 - middle::typeck::infer::InferCtxt<'a, 'tcx>::eq_types::hf8e3ea7365746f51Bqd\n  14:     0x7f95904156b0 - middle::typeck::infer::mk_eqty::closure.136122\n  15:     0x7f9590414e40 - middle::typeck::infer::InferCtxt<'a, 'tcx>::commit_if_ok::closure.136065\n  16:     0x7f959072f0c0 - middle::typeck::infer::InferCtxt<'a, 'tcx>::commit_if_ok::closure.136086\n  17:     0x7f95903acad0 - middle::typeck::infer::InferCtxt<'a, 'tcx>::try::h56945167629248360\n  18:     0x7f95904150f0 - middle::typeck::infer::InferCtxt<'a, 'tcx>::commit_if_ok::h14894066604232688873\n  19:     0x7f95902fa800 - middle::typeck::infer::mk_eqty::hfb5b58a0e241c71aFVc\n  20:     0x7f95902c13c0 - middle::typeck::require_same_types::h3a3aae4338560a2eT1j\n  21:     0x7f95904bf760 - middle::typeck::collect::check_method_self_type::h17716824198498991828\n  22:     0x7f959041f820 - middle::typeck::collect::convert::h19400805faaf8aa3zwf\n  23:     0x7f95904193d0 - middle::typeck::collect::collect_item_types::hb509bd5bd824bdd1qxe\n  24:     0x7f958fdc7fc0 - util::common::time::h4598558106411716556\n  25:     0x7f95905dcad0 - middle::typeck::check_crate::h6a2949805af7a059Edk\n  26:     0x7f95906470d0 - driver::driver::phase_3_run_analysis_passes::h9e1666443d557039EKw\n  27:     0x7f95906428e0 - driver::driver::compile_input::h27eaa5feb1d31b23qrw\n  28:     0x7f95906c4ca0 - driver::run_compiler::hc7f0df9c8d364f42HhA\n  29:     0x7f95906c4b80 - driver::run::closure.146507\n  30:     0x7f958fde0f10 - task::TaskBuilder<S>::try_future::closure.101318\n  31:     0x7f958fde0d00 - task::TaskBuilder<S>::spawn_internal::closure.101289\n  32:     0x7f958fab0e10 - task::spawn_opts::closure.8455\n  33:     0x7f958f7bf980 - rust_try_inner\n  34:     0x7f958f7bf970 - rust_try\n  35:     0x7f958f768380 - unwind::try::h562b1387da651c61qmd\n  36:     0x7f958f768210 - task::Task::run::h50cf282b32182c7f4Bc\n  37:     0x7f958fab0b80 - task::spawn_opts::closure.8395\n  38:     0x7f958f769960 - thread::thread_start::hbc67389ff8ce258afWc\n  39:     0x7f958a3e50c0 - start_thread\n  40:     0x7f958f431f89 - __clone\n  41:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/17905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17905/timeline", "performed_via_github_app": null, "state_reason": "completed"}