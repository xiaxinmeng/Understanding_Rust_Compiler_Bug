{"url": "https://api.github.com/repos/rust-lang/rust/issues/70792", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/70792/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/70792/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/70792/events", "html_url": "https://github.com/rust-lang/rust/issues/70792", "id": 594160392, "node_id": "MDU6SXNzdWU1OTQxNjAzOTI=", "number": 70792, "title": "An unused generic parameter should be a warning, not an error", "user": {"login": "mqudsi", "id": 606923, "node_id": "MDQ6VXNlcjYwNjkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mqudsi", "html_url": "https://github.com/mqudsi", "followers_url": "https://api.github.com/users/mqudsi/followers", "following_url": "https://api.github.com/users/mqudsi/following{/other_user}", "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions", "organizations_url": "https://api.github.com/users/mqudsi/orgs", "repos_url": "https://api.github.com/users/mqudsi/repos", "events_url": "https://api.github.com/users/mqudsi/events{/privacy}", "received_events_url": "https://api.github.com/users/mqudsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-04T23:29:32Z", "updated_at": "2020-04-04T23:36:43Z", "closed_at": "2020-04-04T23:34:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "IIRC this has been rust behavior from the very start, so perhaps it is sacrilegious to suggest it but I don't believe that unused generic parameters on enums, structs, and traits should be a hard error, and I do not see any reason why they need to be instead of a warning.\r\n\r\nI often find myself omitting a member from a struct that was the only instance of a generic parameter or lifetime being used to try something out. Yes, it's possible to use a phantom marker but that isn't the most ergonomic approach.\r\n\r\nIs there a reason besides ideological purity why an unused generic parameter *if implemented correctly in all references to the object* must be an error?\r\n\r\ne.g. I do not think there is actual technical reason (i.e. unsoundness or ambiguity) why the following code should **fail** to compile:\r\n\r\n```rust\r\nstruct Foo<T> {\r\n    bar: String,\r\n    // baz: Vec<T>,\r\n}\r\n\r\nimpl<T> Foo<T> {\r\n    fn new() -> Self {\r\n        Self {\r\n            bar: String::new(),\r\n            // baz: Vec::new(),\r\n        }\r\n    }\r\n}\r\n\r\nfn main() {\r\n    let foo: Foo<()> = Foo::new();\r\n}\r\n\r\n```\r\n\r\nWhile `<T>` is not used in the definition of `Foo`, all references to `Foo` (such as `impl Foo` and the instantiation site in `main`) handle it and the compiler could theoretically accept this (with lots of grimacing and complaining), no?\r\n\r\nFor reference, the following error is currently returned:\r\n\r\n```rust\r\nerror[E0392]: parameter `T` is never used\r\n --> ./test.rs:1:12\r\n  |\r\n1 | struct Foo<T> {\r\n  |            ^ unused parameter\r\n  |\r\n  = help: consider removing `T`, referring to it in a field, or using a marker such as `std::marker::PhantomData`\r\n\r\nerror: aborting due to previous error\r\n```", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/70792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/70792/timeline", "performed_via_github_app": null, "state_reason": "completed"}