{"url": "https://api.github.com/repos/rust-lang/rust/issues/50976", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/50976/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/50976/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/50976/events", "html_url": "https://github.com/rust-lang/rust/issues/50976", "id": 325437186, "node_id": "MDU6SXNzdWUzMjU0MzcxODY=", "number": 50976, "title": "Making a value for uninhabited type is compiled to SIGILL on Nightly but only in Release mode", "user": {"login": "vitalyd", "id": 549403, "node_id": "MDQ6VXNlcjU0OTQwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/549403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitalyd", "html_url": "https://github.com/vitalyd", "followers_url": "https://api.github.com/users/vitalyd/followers", "following_url": "https://api.github.com/users/vitalyd/following{/other_user}", "gists_url": "https://api.github.com/users/vitalyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitalyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitalyd/subscriptions", "organizations_url": "https://api.github.com/users/vitalyd/orgs", "repos_url": "https://api.github.com/users/vitalyd/repos", "events_url": "https://api.github.com/users/vitalyd/events{/privacy}", "received_events_url": "https://api.github.com/users/vitalyd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-05-22T19:46:21Z", "updated_at": "2018-05-24T06:05:30Z", "closed_at": "2018-05-24T06:05:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://users.rust-lang.org/t/help-to-find-root-cause-of-illegal-hardware-instruction/17600/7 gets right to the thick of things.  Basically, [this](http://play.rust-lang.org/?gist=4bfc629fde22cdf37aa4fe736e5be8d7&version=nightly&mode=release) playground demonstrates the SIGILL due to compiler emitting a `ud2` instruction as a result of the UB hit when trying to make a value for `libc::timezone` (an empty enum).  However, this only happens on nightly and release (optimized) mode.\r\n\r\nMy concern is this type of thing will likely bite users, who may have (unintentionally) done something silly like the example above (why does libc define `timezone` as an empty enum? I'm not sure).  But my questions are mostly:\r\n\r\n1. Is this an expected change in nightly?\r\n1. Is it expected that only optimized (release) builds hit this? Why isn't a debug building compiling to the same thing?", "closed_by": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/50976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/50976/timeline", "performed_via_github_app": null, "state_reason": "completed"}