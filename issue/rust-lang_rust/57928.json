{"url": "https://api.github.com/repos/rust-lang/rust/issues/57928", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57928/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57928/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57928/events", "html_url": "https://github.com/rust-lang/rust/issues/57928", "id": 403489935, "node_id": "MDU6SXNzdWU0MDM0ODk5MzU=", "number": 57928, "title": "Suggestions for additional floating-point types", "user": {"login": "aaronfranke", "id": 1646875, "node_id": "MDQ6VXNlcjE2NDY4NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1646875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronfranke", "html_url": "https://github.com/aaronfranke", "followers_url": "https://api.github.com/users/aaronfranke/followers", "following_url": "https://api.github.com/users/aaronfranke/following{/other_user}", "gists_url": "https://api.github.com/users/aaronfranke/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronfranke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronfranke/subscriptions", "organizations_url": "https://api.github.com/users/aaronfranke/orgs", "repos_url": "https://api.github.com/users/aaronfranke/repos", "events_url": "https://api.github.com/users/aaronfranke/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronfranke/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-26T22:18:16Z", "updated_at": "2019-01-26T22:59:52Z", "closed_at": "2019-01-26T22:59:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that, like other languages, the only floating-point types built-in are `f32` and `f64`. However, I often have limitations with just these. I propose the following: `fsize`, `freal`, and `f128`\r\n\r\n`fsize` would be like `isize` but for floats. Basically, use the version that's most efficient for your processor. On modern 64-bit processors with wide FPUs and/or 256-bit SIMD this would become `f64`.\r\n\r\nSometimes I want to be able to have a variable for real numbers, but I don't know what precision I want yet. In C++ I can do the following to have an abstract precision that I control via compiler flags:\r\n\r\n```\r\n#ifdef REAL_T_IS_DOUBLE\r\ntypedef double real_t;\r\n#else\r\ntypedef float real_t;\r\n#endif\r\n```\r\n\r\nI propose something similar in Rust, where you can just write `freal` or something and be able to change the precision later with compiler flags. The default would probably be `f32`.\r\n\r\nFinally, it would be nice to have 128-bit floats (`f128`) in the language. These are not normally needed, but there are use cases for them, and it'd be nice to have it as a language built-in type. Some newer processors have 512-bit SIMD chipsets that can process these efficiently, though most don't.\r\n\r\nIf you only implement some of these proposals, that's fine too.", "closed_by": {"login": "aaronfranke", "id": 1646875, "node_id": "MDQ6VXNlcjE2NDY4NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1646875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronfranke", "html_url": "https://github.com/aaronfranke", "followers_url": "https://api.github.com/users/aaronfranke/followers", "following_url": "https://api.github.com/users/aaronfranke/following{/other_user}", "gists_url": "https://api.github.com/users/aaronfranke/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronfranke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronfranke/subscriptions", "organizations_url": "https://api.github.com/users/aaronfranke/orgs", "repos_url": "https://api.github.com/users/aaronfranke/repos", "events_url": "https://api.github.com/users/aaronfranke/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronfranke/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57928/timeline", "performed_via_github_app": null, "state_reason": "completed"}