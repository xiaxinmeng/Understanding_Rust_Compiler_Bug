{"url": "https://api.github.com/repos/rust-lang/rust/issues/89040", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/89040/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/89040/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/89040/events", "html_url": "https://github.com/rust-lang/rust/issues/89040", "id": 999275055, "node_id": "I_kwDOAAsO6M47j7ov", "number": 89040, "title": "Unclear documentation around HashMap iteration order", "user": {"login": "e00E", "id": 1462179, "node_id": "MDQ6VXNlcjE0NjIxNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1462179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e00E", "html_url": "https://github.com/e00E", "followers_url": "https://api.github.com/users/e00E/followers", "following_url": "https://api.github.com/users/e00E/following{/other_user}", "gists_url": "https://api.github.com/users/e00E/gists{/gist_id}", "starred_url": "https://api.github.com/users/e00E/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e00E/subscriptions", "organizations_url": "https://api.github.com/users/e00E/orgs", "repos_url": "https://api.github.com/users/e00E/repos", "events_url": "https://api.github.com/users/e00E/events{/privacy}", "received_events_url": "https://api.github.com/users/e00E/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 289259951, "node_id": "MDU6TGFiZWwyODkyNTk5NTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-help-wanted", "name": "E-help-wanted", "color": "02E10C", "default": false, "description": "Call for participation: Help is requested to fix this issue."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}, {"id": 2011781731, "node_id": "MDU6TGFiZWwyMDExNzgxNzMx", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs", "name": "T-libs", "color": "bfd4f2", "default": false, "description": "Relevant to the library team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-09-17T12:01:13Z", "updated_at": "2023-04-25T15:20:18Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The documentation for HashMap on the methods `keys`, `values`, `iter`, etc is phrased\r\n> An iterator visiting all \\<type\\> in arbitrary order.\r\n\r\nThe `std::collections` module documentation states\r\n> For unordered collections like HashMap, the items will be yielded in whatever order the internal representation made most convenient.\r\n\r\nTo me this makes it clear that I cannot expect any specific iteration order. What is not clear is whether the iteration order is persistent across multiple calls to the same HashMap without modification in between.\r\nAre these two loops guaranteed to iterate in the same order?\r\n\r\n```rust\r\nfor _ in hashmap.iter() {}\r\nfor _ in hashmap.iter() {}\r\n```\r\n\r\nOr these?\r\n\r\n```rust\r\nlet iter = hashmap.iter();\r\nfor _ in iter.clone() {}\r\nfor _ in iter.clone() {}\r\n```\r\n\r\nErring on the side of caution I would say that no the iteration order is not guaranteed to be the same.\r\n\r\nThe documentation should clarify this. I don't know whether the iteration order should be guaranteed in this case but either way it should be clarified.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/89040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/89040/timeline", "performed_via_github_app": null, "state_reason": null}