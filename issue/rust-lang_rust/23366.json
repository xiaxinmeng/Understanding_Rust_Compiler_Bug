{"url": "https://api.github.com/repos/rust-lang/rust/issues/23366", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/23366/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/23366/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/23366/events", "html_url": "https://github.com/rust-lang/rust/issues/23366", "id": 61654715, "node_id": "MDU6SXNzdWU2MTY1NDcxNQ==", "number": 23366, "title": "Move metadata out of dylibs", "user": {"login": "vadimcn", "id": 3203809, "node_id": "MDQ6VXNlcjMyMDM4MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimcn", "html_url": "https://github.com/vadimcn", "followers_url": "https://api.github.com/users/vadimcn/followers", "following_url": "https://api.github.com/users/vadimcn/following{/other_user}", "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions", "organizations_url": "https://api.github.com/users/vadimcn/orgs", "repos_url": "https://api.github.com/users/vadimcn/repos", "events_url": "https://api.github.com/users/vadimcn/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 13242248, "node_id": "MDU6TGFiZWwxMzI0MjI0OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-metadata", "name": "A-metadata", "color": "f7e101", "default": false, "description": "Area: crate metadata"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-03-14T17:21:05Z", "updated_at": "2022-05-15T13:13:49Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Crate metadata constitute [a significant proportion](https://github.com/rust-lang/rust/issues/21482) of Rust dylibs.   It's only needed for compilation; otherwise it just bloats up the size of Rust programs, and, unlike debug info, can't even be easily stripped.\nIn the case of dylibs, we could move metadata out into a companion file (say, `<library>.rsmd`), which developers may choose to not distribute if linking to the library is not expected (for example, Rust's own stage0 binaries).\nI think this approach would be very congruent with Rust's philosophy of zero cost abstractions.  The only downside I can see, is that distribution of dylibs as _libraries_ would become slightly less convenient as there would be two files instead of one.\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/23366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/23366/timeline", "performed_via_github_app": null, "state_reason": null}