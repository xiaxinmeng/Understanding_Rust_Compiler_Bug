{"url": "https://api.github.com/repos/rust-lang/rust/issues/52663", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52663/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52663/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52663/events", "html_url": "https://github.com/rust-lang/rust/issues/52663", "id": 344052093, "node_id": "MDU6SXNzdWUzNDQwNTIwOTM=", "number": 52663, "title": "NLL: need a (new) round of review of deltas between .stderr and .nll.stderr output", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 604489711, "node_id": "MDU6TGFiZWw2MDQ0ODk3MTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-NLL", "name": "A-NLL", "color": "f7e101", "default": false, "description": "Area: Non Lexical Lifetimes (NLL)"}, {"id": 867465998, "node_id": "MDU6TGFiZWw4Njc0NjU5OTg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/NLL-diagnostics", "name": "NLL-diagnostics", "color": "f799ea", "default": false, "description": "Working torwads the \"diagnostic parity\" goal"}], "state": "closed", "locked": false, "assignee": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/55", "html_url": "https://github.com/rust-lang/rust/milestone/55", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/55/labels", "id": 3463307, "node_id": "MDk6TWlsZXN0b25lMzQ2MzMwNw==", "number": 55, "title": "Rust 2018 Release", "description": "See https://internals.rust-lang.org/t/rust-2018-the-home-stretch/7810", "creator": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 66, "state": "closed", "created_at": "2018-06-29T18:51:49Z", "updated_at": "2018-12-08T10:44:16Z", "due_on": "2018-12-06T08:00:00Z", "closed_at": "2018-12-08T10:44:16Z"}, "comments": 40, "created_at": "2018-07-24T14:03:26Z", "updated_at": "2018-10-24T10:43:18Z", "closed_at": "2018-10-24T10:43:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have made a lot of progress on NLL diagnostics\r\n\r\nSo much so that it behooves us to take a step back and reevaluate where we stand with respect to overall diagnostic quality.\r\n\r\nAs part of that, we should do another round of review of the differences between AST borrowck diagnostic output and NLL borrowck diagnostic output.\r\n\r\n * see #49862 for the previous round of review here\r\n\r\n----\r\n\r\n**Update:** I finished the review, and have put the cases where NLL is not up to par into \"buckets.\" Each bucket has a linked comment on this issue (and, in some cases, a separate issue that is linked from that comment and from the description here).\r\n\r\nHere are all the buckets (with links to each specific comment):\r\n  * When a bucket is no longer relevant (either because the issue has been fixed or we've decided its not actually an issue), it will be struckout (~~like so~~).\r\n\r\nBucket | Rust Issue | Pull Request | Interested Hackers\r\n-------|------------|--------------|----------\r\n[On Par, Assuming Faith In RFC 2005](https://github.com/rust-lang/rust/issues/52663#issuecomment-409021915) |\r\n~~[Sort By Span](https://github.com/rust-lang/rust/issues/52663#issuecomment-409022520)~~ | #51167 | #52904 | @pnkfelix \r\n  [Better Diagnostic for Trait Object Capture](https://github.com/rust-lang/rust/issues/52663#issuecomment-409022898) | | #54848 | @davidtwco\r\n   ~~[Better Diagnostic When \"Later\" means \"A Future Loop Iteration\"](https://github.com/rust-lang/rust/issues/52663#issuecomment-409023250)~~ |  | #52948 | @davidtwco\r\n [Missing move suggestion](https://github.com/rust-lang/rust/issues/52663#issuecomment-409024094)  |  #51169 | #55069 | @matthewjasper \r\n ~~[NLL Spans Show Hypothetical Code](https://github.com/rust-lang/rust/issues/52663#issuecomment-409024384)~~ |  #52877 | #52907 | @pnkfelix \r\n [NLL diagnostic for += is too desugared](https://github.com/rust-lang/rust/issues/52663#issuecomment-409024801) | \r\n~~[NLL diagnostic is globally bad ... but locally justifiable?](https://github.com/rust-lang/rust/issues/52663#issuecomment-409025115)~~ | #51191 | #54720 | @davidtwco \r\n ~~[The \"Later used here\" diagnostic is not ideal for return values](https://github.com/rust-lang/rust/issues/52663#issuecomment-409026765)~~ | | #53177 | @matthewjasper\r\n~~[Provide span for declaration of captured variables](https://github.com/rust-lang/rust/issues/52663#issuecomment-409027282)~~ | | #53164 | @davidtwco\r\n[Test Weakness (might mean NLL is not being tested enough)](https://github.com/rust-lang/rust/issues/52663#issuecomment-409028095) | | | @pnkfelix \r\n~~[NLL is missing struct field suggestion](https://github.com/rust-lang/rust/issues/52663#issuecomment-409028498)~~ | | #54831 | @davidtwco\r\n[NLL Diagnostic Redundancy](https://github.com/rust-lang/rust/issues/52663#issuecomment-409029889) | \r\n ~~[missing lifetime in suggestion](https://github.com/rust-lang/rust/issues/52663#issuecomment-409030856)~~ | #52880 | #52883 | @estebank\r\n [NLL chooses not great span in its \"lifetime required\" message](https://github.com/rust-lang/rust/issues/52663#issuecomment-409031422) | \r\n~~[NLL fails to suggest + <lifetime> bound on trait object](https://github.com/rust-lang/rust/issues~~/52663#issuecomment-409031734)~~ | | #53900 + #54853 | @davidtwco\r\n [NLL fails to report lifetime mismatch error](https://github.com/rust-lang/rust/issues/52663#issuecomment-409032086) | \r\n ~~[\"does not live long enough\" when talking about a (thread-local) static](https://github.com/rust-lang/rust/issues/52663#issuecomment-409032446)~~ | | #53131 | @davidtwco\r\n ~~[NLL missing suggestion to extend lifetimes via let bindings](https://github.com/rust-lang/rust/issues/52663#issuecomment-409033461)~~ | #49821 | #54088 | @matthewjasper \r\n [\"borrowed content\" instead of \"dereference of raw pointer\"](https://github.com/rust-lang/rust/issues/52663#issuecomment-409034061) | | #54825 | @davidtwco \r\n [NLL lacks various special case handling of closures](https://github.com/rust-lang/rust/issues/52663#issuecomment-409034771) | | #53088 + #54976 | @matthewjasper + @davidtwco\r\n ~~[NLL didn't fix interaction of local dying with temps in dropck](https://github.com/rust-lang/rust/issues/52663#issuecomment-409035086)~~ | #21114, #22323 | | @pnkfelix \r\n ~~[NLL mentions lifetimes that are not included in printed span(s).](https://github.com/rust-lang/rust/issues/52663#issuecomment-409036656)~~ | | #52973 | @davidtwco\r\n [NLL rejects `FnMut` closure where AST-borrowck accepted it](https://github.com/rust-lang/rust/issues/52663#issuecomment-410382451) | #53040 | #54802 | @davidtwco\r\n [Note and teach elision rules](https://github.com/rust-lang/rust/issues/52663#issuecomment-410784098) |\r\n [Need Further Review](https://github.com/rust-lang/rust/issues/52663#issuecomment-409037241) | \r\n", "closed_by": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52663/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52663/timeline", "performed_via_github_app": null, "state_reason": "completed"}