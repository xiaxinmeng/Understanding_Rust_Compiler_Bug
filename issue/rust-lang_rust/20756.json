{"url": "https://api.github.com/repos/rust-lang/rust/issues/20756", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20756/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20756/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20756/events", "html_url": "https://github.com/rust-lang/rust/issues/20756", "id": 53765379, "node_id": "MDU6SXNzdWU1Mzc2NTM3OQ==", "number": 20756, "title": "Compiler panic - coherence failed to report ambiguity", "user": {"login": "gchp", "id": 1315394, "node_id": "MDQ6VXNlcjEzMTUzOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1315394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchp", "html_url": "https://github.com/gchp", "followers_url": "https://api.github.com/users/gchp/followers", "following_url": "https://api.github.com/users/gchp/following{/other_user}", "gists_url": "https://api.github.com/users/gchp/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchp/subscriptions", "organizations_url": "https://api.github.com/users/gchp/orgs", "repos_url": "https://api.github.com/users/gchp/repos", "events_url": "https://api.github.com/users/gchp/events{/privacy}", "received_events_url": "https://api.github.com/users/gchp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-08T15:53:53Z", "updated_at": "2015-01-11T08:02:09Z", "closed_at": "2015-01-11T08:02:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Compiler panic when attempting to build https://github.com/reem/rust-error\n\n```\n       Fresh typeable v0.0.5\n   Compiling error v0.0.3 (file:///home/gchp/github.com/reem/rust-error)\n     Running `rustc /home/gchp/github.com/reem/rust-error/src/lib.rs --crate-name error --crate-type lib -g -C metadata=45f77992efd3bf02 -C extra-filename=-45f77992efd3bf02 --out-dir /home/gchp/github.com/reem/rust-error/target --emit=dep-info,link -L dependency=/home/gchp/github.com/reem/rust-error/target -L dependency=/home/gchp/github.com/reem/rust-error/target/deps --extern typeable=/home/gchp/github.com/reem/rust-error/target/deps/libtypeable-99b257d6c5d5d947.rlib`\n/home/gchp/github.com/reem/rust-error/src/lib.rs:9:16: 9:19 warning: deprecated syntax; use the `self` keyword now\n/home/gchp/github.com/reem/rust-error/src/lib.rs:9 use std::fmt::{mod, Show, Formatter};\n                                                                  ^~~\n/home/gchp/github.com/reem/rust-error/src/lib.rs:3:12: 3:23 warning: feature has been added to Rust, directive not necessary\n/home/gchp/github.com/reem/rust-error/src/lib.rs:3 #![feature(macro_rules)]\n                                                              ^~~~~~~~~~~\n/home/gchp/github.com/reem/rust-error/src/lib.rs:3:12: 3:23 warning: feature has been added to Rust, directive not necessary\n/home/gchp/github.com/reem/rust-error/src/lib.rs:3 #![feature(macro_rules)]\n                                                              ^~~~~~~~~~~\n/home/gchp/github.com/reem/rust-error/src/lib.rs:83:1: 85:2 error: internal compiler error: coherence failed to report ambiguity: cannot locate the impl of the trait `core::fmt::Show` for the type `Error + 'static`\n/home/gchp/github.com/reem/rust-error/src/lib.rs:83 impl Show for Error {\n/home/gchp/github.com/reem/rust-error/src/lib.rs:84     fn fmt(&self, f: &mut Formatter) -> fmt::Result { (*self).fmt(f) }\n/home/gchp/github.com/reem/rust-error/src/lib.rs:85 }\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libsyntax/diagnostic.rs:123\n\nstack backtrace:\n   1:     0x7fecf8f88410 - sys::backtrace::write::hb159f9850e834894l1s\n   2:     0x7fecf8fad150 - failure::on_fail::hd4fb51e7b66e269fxgz\n   3:     0x7fecf8f12f20 - rt::unwind::begin_unwind_inner::he95e3015bc1198c6tVy\n   4:     0x7fecf3c69dd0 - rt::unwind::begin_unwind::h1691522525006698826\n   5:     0x7fecf3c69d60 - diagnostic::SpanHandler::span_bug::h419846186c6e05bbkEF\n   6:     0x7fecf739a360 - middle::traits::error_reporting::report_fulfillment_error::h23831a3c82b7aea8LKO\n   7:     0x7fecf72752f0 - middle::traits::error_reporting::report_fulfillment_errors::h85e3379b4029c0b8gKO\n   8:     0x7fecf8666950 - check::vtable::select_all_fcx_obligations_or_error::h019e719f5fe0b73dqkb\n   9:     0x7fecf86e3f00 - check::wf::CheckTypeWellFormedVisitor<'ccx, 'tcx>::with_fcx::h13038663566178139740\n  10:     0x7fecf86e70d0 - check::wf::CheckTypeWellFormedVisitor<'ccx, 'tcx>.Visitor<'v>::visit_item::hb054f0eb679dabcaMqi\n  11:     0x7fecf87f3ae0 - check_crate::unboxed_closure.40379\n  12:     0x7fecf87ee720 - check_crate::h3f64d3a4a846d0b2Nrx\n  13:     0x7fecf94c8cd0 - driver::phase_3_run_analysis_passes::had0a81b4c9f8a9cd6va\n  14:     0x7fecf94b6b50 - driver::compile_input::h4f21f66f6761bb22vba\n  15:     0x7fecf957f640 - thunk::F.Invoke<A, R>::invoke::h1208443586143045988\n  16:     0x7fecf957e3f0 - rt::unwind::try::try_fn::h4735177180287591181\n  17:     0x7fecf9011810 - rust_try_inner\n  18:     0x7fecf9011800 - rust_try\n  19:     0x7fecf957e740 - thunk::F.Invoke<A, R>::invoke::h6623100047367797814\n  20:     0x7fecf8f993d0 - sys::thread::thread_start::h89f54a8cba556c09RSv\n  21:     0x7fecf348a0c0 - start_thread\n  22:     0x7fecf8bbaec9 - __clone\n  23:                0x0 - <unknown>\n\nCould not compile `error`.\n\nCaused by:\n  Process didn't exit successfully: `rustc /home/gchp/github.com/reem/rust-error/src/lib.rs --crate-name error --crate-type lib -g -C metadata=45f77992efd3bf02 -C extra-filename=-45f77992efd3bf02 --out-dir /home/gchp/github.com/reem/rust-error/target --emit=dep-info,link -L dependency=/home/gchp/github.com/reem/rust-error/target -L dependency=/home/gchp/github.com/reem/rust-error/target/deps --extern typeable=/home/gchp/github.com/reem/rust-error/target/deps/libtypeable-99b257d6c5d5d947.rlib` (status=101)\n```\n\nI'm on Ubunut 14.04 with `rustc 1.0.0-nightly (ea6f65c5f 2015-01-06 19:47:08 +0000)`\n", "closed_by": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20756/timeline", "performed_via_github_app": null, "state_reason": "completed"}