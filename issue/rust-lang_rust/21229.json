{"url": "https://api.github.com/repos/rust-lang/rust/issues/21229", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21229/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21229/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21229/events", "html_url": "https://github.com/rust-lang/rust/issues/21229", "id": 54562199, "node_id": "MDU6SXNzdWU1NDU2MjE5OQ==", "number": 21229, "title": "Difficult to use format_args! with libcore (generates code in std::fmt)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235146, "node_id": "MDU6TGFiZWwyMzUxNDY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-syntaxext", "name": "A-syntaxext", "color": "f7e101", "default": false, "description": "Area: Syntax extensions"}], "state": "closed", "locked": false, "assignee": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-01-16T10:46:32Z", "updated_at": "2015-01-26T21:16:48Z", "closed_at": "2015-01-26T21:16:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `format_args!` built-in macro currently generates structures located in `std::fmt`, which makes it difficult to use with libcore, even though libcore has the correct traits to read the generated structure.\nIMO it would be more logical to use core::fmt instead if possible.\n\nIt gives the following errors:\n\n``` rust\nrust/main.rs:53:52: 53:55 error: failed to resolve. Maybe a missing `extern crate std`?\nrust/main.rs:53     core::fmt::write(&mut uart, format_args!(\"{}\", 42u64));\n                                                                   ^~~\nnote: in expansion of format_args!\nrust/main.rs:53:33: 53:59 note: expansion site\nrust/main.rs:53:52: 53:57 error: unresolved name `std::fmt::String::fmt`\nrust/main.rs:53     core::fmt::write(&mut uart, format_args!(\"{}\", 42u64));\n                                                                   ^~~~~\nnote: in expansion of format_args!\nrust/main.rs:53:33: 53:59 note: expansion site\nrust/main.rs:53:52: 53:55 error: failed to resolve. Maybe a missing `extern crate std`?\nrust/main.rs:53     core::fmt::write(&mut uart, format_args!(\"{}\", 42u64));\n                                                                   ^~~\nnote: in expansion of format_args!\nrust/main.rs:53:33: 53:59 note: expansion site\nrust/main.rs:53:52: 53:57 error: unresolved name `std::fmt::argument`\nrust/main.rs:53     core::fmt::write(&mut uart, format_args!(\"{}\", 42u64));\n                                                                   ^~~~~\nnote: in expansion of format_args!\nrust/main.rs:53:33: 53:59 note: expansion site\nrust/main.rs:53:46: 53:49 error: failed to resolve. Maybe a missing `extern crate std`?\nrust/main.rs:53     core::fmt::write(&mut uart, format_args!(\"{}\", 42u64));\n                                                             ^~~\nnote: in expansion of format_args!\nrust/main.rs:53:33: 53:59 note: expansion site\nrust/main.rs:53:46: 53:50 error: unresolved name `std::fmt::Arguments::new`\nrust/main.rs:53     core::fmt::write(&mut uart, format_args!(\"{}\", 42u64));\n                                                             ^~~~\nnote: in expansion of format_args!\nrust/main.rs:53:33: 53:59 note: expansion site\n```\n\nI currently have a workaround for this by putting a `extern crate \"core\" as std;` but it is really ugly ...\n", "closed_by": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21229/timeline", "performed_via_github_app": null, "state_reason": "completed"}