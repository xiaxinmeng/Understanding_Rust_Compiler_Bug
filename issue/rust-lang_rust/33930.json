{"url": "https://api.github.com/repos/rust-lang/rust/issues/33930", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33930/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33930/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33930/events", "html_url": "https://github.com/rust-lang/rust/issues/33930", "id": 157343820, "node_id": "MDU6SXNzdWUxNTczNDM4MjA=", "number": 33930, "title": "Can't find crate for `core` when building from master", "user": {"login": "dvc94ch", "id": 741807, "node_id": "MDQ6VXNlcjc0MTgwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/741807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvc94ch", "html_url": "https://github.com/dvc94ch", "followers_url": "https://api.github.com/users/dvc94ch/followers", "following_url": "https://api.github.com/users/dvc94ch/following{/other_user}", "gists_url": "https://api.github.com/users/dvc94ch/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvc94ch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvc94ch/subscriptions", "organizations_url": "https://api.github.com/users/dvc94ch/orgs", "repos_url": "https://api.github.com/users/dvc94ch/repos", "events_url": "https://api.github.com/users/dvc94ch/events{/privacy}", "received_events_url": "https://api.github.com/users/dvc94ch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-28T15:30:48Z", "updated_at": "2016-05-28T16:06:53Z", "closed_at": "2016-05-28T16:06:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm running into an issue when trying to build from master on nixos. I'm using this compiler to build http://static.rust-lang.org/dist/2016-04-13/rust-beta-x86_64-linux.tar.gz\n\n``` sh\nCOMPILE:   triple/builtins/x86_64: /tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/src/compiler-rt/lib/builtins/umodti3.c\n  MKDIR:     /tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/rt/compiler-rt/triple/builtins/x86_64\n  ARCHIVE:   triple/builtins/x86_64: /tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/rt/compiler-rt/triple/builtins/x86_64/libcompiler_rt.a\n  MKDIR:     /tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/rt/compiler-rt/triple/builtins\n  FINAL-ARCHIVE: triple/builtins: /tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/rt/compiler-rt/triple/builtins/libcompiler_rt.a\nmake[1]: Leaving directory '/tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/src/compiler-rt'\ncp x86_64-unknown-linux-gnu/rt/compiler-rt/triple/builtins/libcompiler_rt.a x86_64-unknown-linux-gnu/rt/libcompiler-rt.a\nmkdir -p x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/\ncp x86_64-unknown-linux-gnu/rt/libcompiler-rt.a x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler-rt.a\nMATCHES=\"\"; if [ -n \"$MATCHES\" ] ; then echo \"warning: removing previous\" \\'libcore-*.so\\' \"libraries:\" $MATCHES; rm $MATCHES ; fi\nMATCHES=\"\"; if [ -n \"$MATCHES\" ] ; then echo \"warning: removing previous\" \\'libcore-*.rlib\\' \"libraries:\" $MATCHES; rm $MATCHES ; fi\nCFG_LLVM_LINKAGE_FILE=/tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/rt/llvmdeps.rs LD_LIBRARY_PATH=/tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/stage0/lib:/nix/store/hxapz1vvz5g1b9nh7psz63wgk7pg65vv-llvm-3.7.1/lib:$LD_LIBRARY_PATH   x86_64-unknown-linux-gnu/stage0/bin/rustc --cfg stage0  -O --cfg rtopt -C rpath -C prefer-dynamic -C no-stack-check --target=x86_64-unknown-linux-gnu   -L \"x86_64-unknown-linux-gnu/rt\" -L native=\"/nix/store/hxapz1vvz5g1b9nh7psz63wgk7pg65vv-llvm-3.7.1/lib\"     --out-dir x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib -C extra-filename=-fe3cdf61 -C metadata=fe3cdf61 src/libcore/lib.rs\nsrc/libcore/lib.rs:69:12: 69:33 warning: unused or unknown feature, #[warn(unused_features)] on by default\nsrc/libcore/lib.rs:69 #![feature(cfg_target_has_atomic)]\n                                 ^~~~~~~~~~~~~~~~~~~~~\ninfo: now are following matches for libcore-*.so libraries:\ninfo: now are following matches for libcore-*.rlib libraries:\nx86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-fe3cdf61.rlib\nMATCHES=\"\"; if [ -n \"$MATCHES\" ] ; then echo \"warning: removing previous\" \\'liblibc-*.so\\' \"libraries:\" $MATCHES; rm $MATCHES ; fi\nMATCHES=\"\"; if [ -n \"$MATCHES\" ] ; then echo \"warning: removing previous\" \\'liblibc-*.rlib\\' \"libraries:\" $MATCHES; rm $MATCHES ; fi\nCFG_LLVM_LINKAGE_FILE=/tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/rt/llvmdeps.rs LD_LIBRARY_PATH=/tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/x86_64-unknown-linux-gnu/stage0/lib:/nix/store/hxapz1vvz5g1b9nh7psz63wgk7pg65vv-llvm-3.7.1/lib:$LD_LIBRARY_PATH   x86_64-unknown-linux-gnu/stage0/bin/rustc --cfg stage0  -O --cfg rtopt -C rpath -C prefer-dynamic -C no-stack-check --target=x86_64-unknown-linux-gnu   -L \"x86_64-unknown-linux-gnu/rt\" -L native=\"/nix/store/hxapz1vvz5g1b9nh7psz63wgk7pg65vv-llvm-3.7.1/lib\"  --cfg stdbuild   --out-dir x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib -C extra-filename=-fe3cdf61 -C metadata=fe3cdf61 src/liblibc/src/lib.rs\nerror: can't find crate for `core` [E0463]\nerror: aborting due to previous error\n/tmp/nix-build-rustc-2016-05-27-g7d68b3d.drv-0/rust-7d68b3d/mk/target.mk:201: recipe for target 'x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/stamp.libc' failed\nmake: *** [x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/stamp.libc] Error 101\nbuilder for \u2018/nix/store/5b47ig748rf6ldfgiqj8h5ajihj5mj9n-rustc-2016-05-27-g7d68b3d.drv\u2019 failed with exit code 2\nerror: build of \u2018/nix/store/5b47ig748rf6ldfgiqj8h5ajihj5mj9n-rustc-2016-05-27-g7d68b3d.drv\u2019 failed\n```\n", "closed_by": {"login": "dvc94ch", "id": 741807, "node_id": "MDQ6VXNlcjc0MTgwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/741807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvc94ch", "html_url": "https://github.com/dvc94ch", "followers_url": "https://api.github.com/users/dvc94ch/followers", "following_url": "https://api.github.com/users/dvc94ch/following{/other_user}", "gists_url": "https://api.github.com/users/dvc94ch/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvc94ch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvc94ch/subscriptions", "organizations_url": "https://api.github.com/users/dvc94ch/orgs", "repos_url": "https://api.github.com/users/dvc94ch/repos", "events_url": "https://api.github.com/users/dvc94ch/events{/privacy}", "received_events_url": "https://api.github.com/users/dvc94ch/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33930/timeline", "performed_via_github_app": null, "state_reason": "completed"}