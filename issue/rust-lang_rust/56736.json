{"url": "https://api.github.com/repos/rust-lang/rust/issues/56736", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/56736/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/56736/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/56736/events", "html_url": "https://github.com/rust-lang/rust/issues/56736", "id": 390049801, "node_id": "MDU6SXNzdWUzOTAwNDk4MDE=", "number": 56736, "title": "stable rustc --version hangs forever", "user": {"login": "fuchsnj", "id": 6706944, "node_id": "MDQ6VXNlcjY3MDY5NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6706944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fuchsnj", "html_url": "https://github.com/fuchsnj", "followers_url": "https://api.github.com/users/fuchsnj/followers", "following_url": "https://api.github.com/users/fuchsnj/following{/other_user}", "gists_url": "https://api.github.com/users/fuchsnj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fuchsnj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fuchsnj/subscriptions", "organizations_url": "https://api.github.com/users/fuchsnj/orgs", "repos_url": "https://api.github.com/users/fuchsnj/repos", "events_url": "https://api.github.com/users/fuchsnj/events{/privacy}", "received_events_url": "https://api.github.com/users/fuchsnj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2018-12-12T03:27:19Z", "updated_at": "2019-04-04T03:07:44Z", "closed_at": "2019-04-04T03:07:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "starting with `nightly-2018-11-04` and anything later, just checking the version or doing anything with rustc causes the process to hang forever. It seems like it is waiting on a lock (no CPU usage)\r\n\r\nStable rust works fine, and well as any nightly version before this one.\r\n\r\nOS is `Ubuntu 18.04.1 LTS`\r\nRust stable/nightly versions were installed with rustup\r\n\r\n```\r\nnathan@nathan-Precision-7510:~$ rustc +nightly-2018-11-04 --version\r\n^C\r\nnathan@nathan-Precision-7510:~$ rustc +nightly-2018-11-03 --version\r\nrustc 1.32.0-nightly (8b096314a 2018-11-02)\r\n```\r\n\r\nThe last few lines from `strace rustc +nightly-2018-11-04 --version` are\r\n```\r\n...\r\nrt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0\r\nprlimit64(0, RLIMIT_STACK, NULL, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0\r\nreadlink(\"/etc/malloc.conf\", 0x7ffd8dd4a900, 4096) = -1 ENOENT (No such file or directory)\r\nopen(\"/proc/sys/vm/overcommit_memory\", O_RDONLY) = 3\r\nfutex(0x7fbdfd2510c8, FUTEX_WAKE_PRIVATE, 2147483647) = 0\r\nfutex(0x7fbdfe014228, FUTEX_WAIT_PRIVATE, 2, NULL\r\n```\r\nIt hangs on the `FUTEX_WAIT` call forever", "closed_by": {"login": "fuchsnj", "id": 6706944, "node_id": "MDQ6VXNlcjY3MDY5NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6706944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fuchsnj", "html_url": "https://github.com/fuchsnj", "followers_url": "https://api.github.com/users/fuchsnj/followers", "following_url": "https://api.github.com/users/fuchsnj/following{/other_user}", "gists_url": "https://api.github.com/users/fuchsnj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fuchsnj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fuchsnj/subscriptions", "organizations_url": "https://api.github.com/users/fuchsnj/orgs", "repos_url": "https://api.github.com/users/fuchsnj/repos", "events_url": "https://api.github.com/users/fuchsnj/events{/privacy}", "received_events_url": "https://api.github.com/users/fuchsnj/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/56736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/56736/timeline", "performed_via_github_app": null, "state_reason": "completed"}