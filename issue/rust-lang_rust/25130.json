{"url": "https://api.github.com/repos/rust-lang/rust/issues/25130", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25130/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25130/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25130/events", "html_url": "https://github.com/rust-lang/rust/issues/25130", "id": 73430212, "node_id": "MDU6SXNzdWU3MzQzMDIxMg==", "number": 25130, "title": "`brew doctor` is confused about files in /usr/local/lib after installing via rustup", "user": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-05-05T20:59:06Z", "updated_at": "2015-05-07T09:02:09Z", "closed_at": "2015-05-07T09:02:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I know rust technically doesn't interact with homebrew, but `brew doctor` returns warnings about unknown files (which are used by Rust) existing in `/usr/local/lib`. Removing these unknown files causes Rust to stop working. _Ideally_, something could be done to prevent those files from showing up via `brew doctor` to prevent new users from deleting them.\n\nSteps to reproduce\n\n```\n~ $ sudo sh /usr/local/lib/rustlib/uninstall.sh\ninstall: uninstalling component 'rustc'\ninstall: uninstalling component 'cargo'\ninstall: uninstalling component 'rust-docs'\n\n    Rust is uninstalled.\n```\n\n```\n~ $ brew doctor\nYour system is ready to brew.\n```\n\n```\n~ $ curl -s https://static.rust-lang.org/rustup.sh | sh -s\n\nWelcome to Rust.\n\nThis script will download the Rust compiler and its package manager, Cargo, and\ninstall them to /usr/local. You may install elsewhere by running this script\nwith the --prefix=<path> option.\n\nThe installer will run under 'sudo' and may ask you for your password. If you do\nnot want the script to run 'sudo' then pass it the --disable-sudo flag.\n\nYou may uninstall later by running /usr/local/lib/rustlib/uninstall.sh,\nor by running this script again with the --uninstall flag.\n\nContinue? (y/N) y\n\nrustup: gpg available. signatures will be verified\nrustup: downloading manifest for 'beta'\nrustup: downloading toolchain for 'beta'\n######################################################################## 100.0%\ngpg: assuming signed data in '/Users/coreyf/.rustup/dl/5b96c9bf1ab9ef140fa0/rust-1.0.0-beta.4-x86_64-apple-darwin.tar.gz'\ngpg: Signature made Fri May  1 03:58:08 2015 EDT using RSA key ID 7B3B09DC\ngpg: Good signature from \"Rust Language (Tag and Release Signing Key) <rust-key@rust-lang.org>\" [unknown]\ngpg: WARNING: This key is not certified with a trusted signature!\ngpg:          There is no indication that the signature belongs to the owner.\nPrimary key fingerprint: 108F 6620 5EAE B0AA A8DD  5E1C 85AB 96E6 FA1B E5FE\n     Subkey fingerprint: C134 66B7 E169 A085 1886  3216 5CB4 A934 7B3B 09DC\nrustup: extracting installer\nrustup: installing toolchain for 'beta'\ninstall: creating uninstall script at /usr/local/lib/rustlib/uninstall.sh\ninstall: installing component 'rustc'\ninstall: installing component 'cargo'\ninstall: installing component 'rust-docs'\n\n    Rust is ready to roll.\n```\n\n```\n~ $ brew doctor\nPlease note that these warnings are just used to help the Homebrew maintainers\nwith debugging if you file an issue. If everything you use Homebrew for is\nworking fine: please don't worry and just ignore them. Thanks!\n\nWarning: Unbrewed dylibs were found in /usr/local/lib.\nIf you didn't put them there on purpose they could cause problems when\nbuilding Homebrew formulae, and may need to be deleted.\n\nUnexpected dylibs:\n    /usr/local/lib/libarena-4e7c5e5c.dylib\n    /usr/local/lib/libflate-4e7c5e5c.dylib\n    /usr/local/lib/libfmt_macros-4e7c5e5c.dylib\n    /usr/local/lib/libgetopts-4e7c5e5c.dylib\n    /usr/local/lib/libgraphviz-4e7c5e5c.dylib\n    /usr/local/lib/liblog-4e7c5e5c.dylib\n    /usr/local/lib/librbml-4e7c5e5c.dylib\n    /usr/local/lib/librustc-4e7c5e5c.dylib\n    /usr/local/lib/librustc_back-4e7c5e5c.dylib\n    /usr/local/lib/librustc_borrowck-4e7c5e5c.dylib\n    /usr/local/lib/librustc_driver-4e7c5e5c.dylib\n    /usr/local/lib/librustc_lint-4e7c5e5c.dylib\n    /usr/local/lib/librustc_llvm-4e7c5e5c.dylib\n    /usr/local/lib/librustc_privacy-4e7c5e5c.dylib\n    /usr/local/lib/librustc_resolve-4e7c5e5c.dylib\n    /usr/local/lib/librustc_trans-4e7c5e5c.dylib\n    /usr/local/lib/librustc_typeck-4e7c5e5c.dylib\n    /usr/local/lib/librustdoc-4e7c5e5c.dylib\n    /usr/local/lib/libserialize-4e7c5e5c.dylib\n    /usr/local/lib/libstd-4e7c5e5c.dylib\n    /usr/local/lib/libsyntax-4e7c5e5c.dylib\n    /usr/local/lib/libterm-4e7c5e5c.dylib\n    /usr/local/lib/libtest-4e7c5e5c.dylib\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25130/timeline", "performed_via_github_app": null, "state_reason": "completed"}