{"url": "https://api.github.com/repos/rust-lang/rust/issues/2384", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2384/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2384/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2384/events", "html_url": "https://github.com/rust-lang/rust/issues/2384", "id": 4576270, "node_id": "MDU6SXNzdWU0NTc2Mjcw", "number": 2384, "title": "combine last use, init'dness, and move out checking", "user": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-05-15T02:02:52Z", "updated_at": "2012-06-05T22:58:35Z", "closed_at": "2012-06-05T22:58:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "During some discussions today we realize that all of these checks can be combined into one \"liveness\" analysis.  The basic idea is that we would compute the liveness of each variable in the standard way (liveness of variable X at point P defined as: is there a use of X reachable from P with no intervening assignments to X?).  \n\nWe can then use the results to check:\n- initedness: if a variable is live on entry to the function, that's a possibly uninitialized use\n- move: if a variable is not dead after a move, that's an error\n- last_use optimization: detect uses where the variable is dead and make them implicit moves\n\nThe typestate pass would still be needed to check predicates, but it could be made simpler (and hopefully faster) as a result.\n", "closed_by": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2384/timeline", "performed_via_github_app": null, "state_reason": "completed"}