{"url": "https://api.github.com/repos/rust-lang/rust/issues/87525", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/87525/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/87525/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/87525/events", "html_url": "https://github.com/rust-lang/rust/issues/87525", "id": 954261445, "node_id": "MDU6SXNzdWU5NTQyNjE0NDU=", "number": 87525, "title": "Add lint against ptr-to-int transmutes in consts", "user": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 900795185, "node_id": "MDU6TGFiZWw5MDA3OTUxODU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-const-eval", "name": "A-const-eval", "color": "f7e101", "default": false, "description": "Area: constant evaluation (mir interpretation)"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-07-27T20:58:13Z", "updated_at": "2023-03-30T20:40:26Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "We do not allow ptr-to-int casts in `const` context, so people might be tempted to do a transmute instead. This will not work, and if they ever actually test their code during CTFE they will get an error, but it might still be good to add an extra layer of defense here (since this is a rather odd corner of the language) and have a lint for this.\r\n\r\n@jhpratt started working on this, [here's a link](https://github.com/rust-lang/rust/commit/6351c670f654ead12ec64534fcc64cb32dc380c8).", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/87525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/87525/timeline", "performed_via_github_app": null, "state_reason": null}