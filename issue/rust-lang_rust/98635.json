{"url": "https://api.github.com/repos/rust-lang/cargo/issues/10796", "repository_url": "https://api.github.com/repos/rust-lang/cargo", "labels_url": "https://api.github.com/repos/rust-lang/cargo/issues/10796/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/cargo/issues/10796/comments", "events_url": "https://api.github.com/repos/rust-lang/cargo/issues/10796/events", "html_url": "https://github.com/rust-lang/cargo/issues/10796", "id": 1287707187, "node_id": "I_kwDOAQnScc5MwNoz", "number": 10796, "title": "attempting to run wasm32 on windows without a runner gives useless error \"%1 is not a valid Win32 application\"", "user": {"login": "ash2x3zb9cy", "id": 5300855, "node_id": "MDQ6VXNlcjUzMDA4NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5300855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ash2x3zb9cy", "html_url": "https://github.com/ash2x3zb9cy", "followers_url": "https://api.github.com/users/ash2x3zb9cy/followers", "following_url": "https://api.github.com/users/ash2x3zb9cy/following{/other_user}", "gists_url": "https://api.github.com/users/ash2x3zb9cy/gists{/gist_id}", "starred_url": "https://api.github.com/users/ash2x3zb9cy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ash2x3zb9cy/subscriptions", "organizations_url": "https://api.github.com/users/ash2x3zb9cy/orgs", "repos_url": "https://api.github.com/users/ash2x3zb9cy/repos", "events_url": "https://api.github.com/users/ash2x3zb9cy/events{/privacy}", "received_events_url": "https://api.github.com/users/ash2x3zb9cy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 166054475, "node_id": "MDU6TGFiZWwxNjYwNTQ0NzU=", "url": "https://api.github.com/repos/rust-lang/cargo/labels/A-errors", "name": "A-errors", "color": "fbca04", "default": false, "description": "Area: Error and warning messages generated by Cargo itself."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-28T17:13:50Z", "updated_at": "2022-06-28T18:09:47Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n\r\nIf you cannot produce a minimal reproduction case (something that would work in\r\nisolation), please provide the steps or even link to a repository that causes\r\nthe problematic output to occur.\r\n-->\r\n\r\nGiven a completely fresh binary project structure (e.g. `cargo new`), the following command:\r\n\r\n```bash\r\ncargo run --target wasm32-unknown-unknown\r\n```\r\n\r\nThe current output is:\r\n\r\n```bash\r\n$ cargo run --target wasm32-unknown-unknown\r\n   Compiling blank-bin v0.1.0 (<snip>\\blank-bin)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 3.01s\r\n     Running `target\\wasm32-unknown-unknown\\debug\\blank-bin.wasm`\r\nerror: could not execute process `target\\wasm32-unknown-unknown\\debug\\blank-bin.wasm` (never executed)\r\n\r\nCaused by:\r\n  %1 is not a valid Win32 application. (os error 193)\r\n```\r\n\r\n<!-- The following is not always necessary. -->\r\nIdeally the output could look like:\r\n\r\n```bash\r\n$ cargo run --target wasm32-unknown-unknown\r\n   Compiling blank-bin v0.1.0 (<snip>\\blank-bin)\r\n    Finished dev [unoptimized + debuginfo] target(s) in 3.01s\r\n     Running `target\\wasm32-unknown-unknown\\debug\\blank-bin.wasm`\r\nerror: could not execute process `target\\wasm32-unknown-unknown\\debug\\blank-bin.wasm` (never executed)\r\n\r\nCaused by:\r\n  %1 is not a valid Win32 application. (os error 193)\r\n\r\nnote: to run on the `wasm32-unknown-unknown target`, the `runner` configuration key must be set.\r\nsee https://doc.rust-lang.org/cargo/reference/config.html\r\n```\r\n\r\nThis message is also displayed if, for example, there's a typo in the cargo config key:\r\n```toml\r\n[target.wam32-unknown-unknown]\r\nrunner = \"wasm-server-runner\"\r\n```\r\n\r\n<!--\r\nIf the problem is not self-explanatory, please provide a rationale for the\r\nchange.\r\n-->\r\n\r\n**Rationale**: The existing error message does not identify the issue and also is simply broken. It also occurs in even the simplest cases, such as in a fresh project, or with a typo in an otherwise correctly-written config.\r\n\r\n<!--\r\nIf dramatically different output is caused by small changes, consider also\r\nadding them here.\r\n\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions. The output might also be\r\ndifferent depending on the Edition.\r\n-->\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/cargo/issues/10796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/cargo/issues/10796/timeline", "performed_via_github_app": null, "state_reason": null}