{"url": "https://api.github.com/repos/rust-lang/rust/issues/59597", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/59597/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/59597/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/59597/events", "html_url": "https://github.com/rust-lang/rust/issues/59597", "id": 427477165, "node_id": "MDU6SXNzdWU0Mjc0NzcxNjU=", "number": 59597, "title": "Tracking Issue: Add rustc-guide to toolstate", "user": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 289259951, "node_id": "MDU6TGFiZWwyODkyNTk5NTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-help-wanted", "name": "E-help-wanted", "color": "02E10C", "default": false, "description": "Call for participation: Help is requested to fix this issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-04-01T01:48:35Z", "updated_at": "2019-07-06T21:47:54Z", "closed_at": "2019-07-06T21:47:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "(According to the plan in https://github.com/rust-lang-nursery/rust-toolstate/issues/5)\r\n\r\ncc @nikomatsakis @kennytm @Michael-F-Bryan\r\n\r\n@kennytm Could you tag this with Help-Wanted?\r\n\r\n# Instructions\r\n\r\n**Background**: We have a cool tool called `toolstate` which posts a message on PRs that break dependent crates (e.g. `clippy`). For example, it might generate a post [like this](https://github.com/rust-lang/rust/pull/59298#issuecomment-474733101). There is also a web portal: https://rust-lang-nursery.github.io/rust-toolstate/\r\n\r\n**Objective**: Currently the [rustc-guide](https://github.com/rust-lang/rustc-guide) is not tracked by toolstate, but we want it to be. This will help us detect when the compiler changes and the guide needs to be updated. However, some infrastructure work is needed for this to work.\r\n\r\n**Steps**\r\n- [ ] Add `mdbook` and `mdbook-linkcheck` as dependencies for the rust-lang/rust build. These are used to build and check links in the `rustc-guide` repo.\r\n    - TBH, I don't know how best to do this. We already use `mdbook` to build The Book and other things, but it's not clear to me how we make sure they are installed... (Perhaps @kennytm has ideas?)\r\n- [ ] Add an `./x.py test src/doc/rustc-guide` command\r\n      1. Create a new `struct RustcGuide` in `src/bootstrap/test.rs`.\r\n      2. `impl Step for RustcGuide` to run `mdbook build` in `src/doc/rustc-guide`\r\n           - Make sure that this test is not part of the standard build process or it will block PRs on the rust-lang/rust repo. IIUC, this can be done in the implementation of `should_run` and `make_run` in `Step` (see the documentation in `src/bootstrap/builder.rs`\r\n      3. Update `Builder::get_step_descriptions`\r\n      4. You may or may not need to do other stuff to wire things together... not sure. In the end, you should be able to do `./x.py test src/doc/rustc-guide` to run the book build and linkchecker on the guide. \r\n- [ ] Update the toolstate config to add `rustc-guide`, as done here: https://github.com/rust-lang/rust/pull/59038/files\r\n    - Add me (@mark-i-m) under the `MAINTAINERS` section. (@nikomatsakis do you want to be added too?) \r\n\r\nFeel free to ping me on this thread if you need help :)", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/59597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/59597/timeline", "performed_via_github_app": null, "state_reason": "completed"}