{"url": "https://api.github.com/repos/rust-lang/rust/issues/27249", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27249/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27249/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27249/events", "html_url": "https://github.com/rust-lang/rust/issues/27249", "id": 96909319, "node_id": "MDU6SXNzdWU5NjkwOTMxOQ==", "number": 27249, "title": "ICE when using associated constants", "user": {"login": "istankovic", "id": 1312091, "node_id": "MDQ6VXNlcjEzMTIwOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1312091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/istankovic", "html_url": "https://github.com/istankovic", "followers_url": "https://api.github.com/users/istankovic/followers", "following_url": "https://api.github.com/users/istankovic/following{/other_user}", "gists_url": "https://api.github.com/users/istankovic/gists{/gist_id}", "starred_url": "https://api.github.com/users/istankovic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/istankovic/subscriptions", "organizations_url": "https://api.github.com/users/istankovic/orgs", "repos_url": "https://api.github.com/users/istankovic/repos", "events_url": "https://api.github.com/users/istankovic/events{/privacy}", "received_events_url": "https://api.github.com/users/istankovic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-07-23T21:28:09Z", "updated_at": "2016-08-08T18:29:40Z", "closed_at": "2016-08-08T18:29:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code results in a compiler panic:\n\n```\n#![feature(associated_consts)]\n\nstruct Foo;\n\nimpl Foo {\n    pub const FOO: u32 = 3;\n}\n\nfn main() {\n    Foo::FOO;\n}\n```\n\nBacktrace:\n\n```\n$ RUST_BACKTRACE=1 rustc a.rs\na.rs:11:5: 11:14 warning: path statement with no effect, #[warn(path_statements)] on by default\na.rs:11     Foo::FOO;\n            ^~~~~~~~~\nerror: internal compiler error: unimplemented unsupported def type in trans_local_var: DefAssociatedConst(DefId { krate: 0, node: 8 }Foo::FOO, FromImpl(DefId { krate: 0, node: 7 }Foo))\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'Box<Any>', ../src/libsyntax/diagnostic.rs:253\n\nstack backtrace:\n   1:     0x7fc0f3cdd48e - sys::backtrace::write::he30188f6ff1a3730Zws\n   2:     0x7fc0f3ce57b5 - panicking::on_panic::h8c19c2151488a3e02lx\n   3:     0x7fc0f3ca69ce - rt::unwind::begin_unwind_inner::h906f5dda0b9cb210F1w\n   4:     0x7fc0f10ff7ac - rt::unwind::begin_unwind::h17351444284051756501\n   5:     0x7fc0f110112b - diagnostic::Handler::bug::hec7f5d0eda19cfe2GfB\n   6:     0x7fc0f11011f4 - diagnostic::Handler::unimpl::hcc62fb5d263b6ea4jgB\n   7:     0x7fc0f1f64828 - session::Session::unimpl::h10fa5bb20285cdcdV9s\n   8:     0x7fc0f2b41429 - trans::expr::trans_local_var::h7fe5e56fcd0ca544TkC\n   9:     0x7fc0f2b972bf - trans::expr::trans_def::h0279a013eb707adfVTB\n  10:     0x7fc0f2b8ec5c - trans::expr::trans_unadjusted::h00ea76411cccd23euwB\n  11:     0x7fc0f2b68480 - trans::expr::trans_into::hf6a23a4a270aa1abQSA\n  12:     0x7fc0f2b67e66 - trans::controlflow::trans_stmt_semi::h02750060a9151ab03Hv\n  13:     0x7fc0f2af8e6a - trans::controlflow::trans_block::h46396bcaf59ccb9dZIv\n  14:     0x7fc0f2af7f00 - trans::base::trans_closure::h704961d2a61157bfjxi\n  15:     0x7fc0f2af97d8 - trans::base::trans_fn::ha77c10d30b3c98f66Gi\n  16:     0x7fc0f2afc898 - trans::base::trans_item::h36e5a8cde2d0f72bh6i\n  17:     0x7fc0f2b0980c - trans::base::trans_crate::h6ad67f6175cd0ca0eUj\n  18:     0x7fc0f4251d14 - driver::phase_4_translate_to_llvm::hc1bdc8e7ff6c7c145Oa\n  19:     0x7fc0f424c355 - driver::phase_3_run_analysis_passes::closure.16405\n  20:     0x7fc0f42465ab - middle::ty::ctxt<'tcx>::create_and_enter::h8352421393399420656\n  21:     0x7fc0f4241581 - driver::phase_3_run_analysis_passes::h10686122484823704679\n  22:     0x7fc0f4225760 - driver::compile_input::h6526e31cf4171f0aTba\n  23:     0x7fc0f4309673 - run_compiler::hc96ca56d6cc7d3a9A7b\n  24:     0x7fc0f43070ee - boxed::F.FnBox<A>::call_box::h9423186817318254201\n  25:     0x7fc0f4306a19 - rt::unwind::try::try_fn::h13811593359414256150\n  26:     0x7fc0f3ce527f - __rust_try_inner\n  27:     0x7fc0f3ce52ba - __rust_try\n  28:     0x7fc0f3cd0907 - rt::unwind::try::inner_try::h6341c86a1012d543yXw\n  29:     0x7fc0f4306c38 - boxed::F.FnBox<A>::call_box::h18302996666967064961\n  30:     0x7fc0f3ce4381 - sys::thread::Thread::new::thread_start::h7602653539d5ded2D6v\n  31:     0x7fc0ed919353 - start_thread\n  32:     0x7fc0f3943bfc - __clone\n  33:                0x0 - <unknown>\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27249/timeline", "performed_via_github_app": null, "state_reason": "completed"}