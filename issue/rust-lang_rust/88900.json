{"url": "https://api.github.com/repos/rust-lang/rust/issues/88900", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/88900/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/88900/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/88900/events", "html_url": "https://github.com/rust-lang/rust/issues/88900", "id": 994297830, "node_id": "MDU6SXNzdWU5OTQyOTc4MzA=", "number": 88900, "title": "Unactionable \"field is never read\" warning for printed structs with the Debug derive", "user": {"login": "cart", "id": 2694663, "node_id": "MDQ6VXNlcjI2OTQ2NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2694663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cart", "html_url": "https://github.com/cart", "followers_url": "https://api.github.com/users/cart/followers", "following_url": "https://api.github.com/users/cart/following{/other_user}", "gists_url": "https://api.github.com/users/cart/gists{/gist_id}", "starred_url": "https://api.github.com/users/cart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cart/subscriptions", "organizations_url": "https://api.github.com/users/cart/orgs", "repos_url": "https://api.github.com/users/cart/repos", "events_url": "https://api.github.com/users/cart/events{/privacy}", "received_events_url": "https://api.github.com/users/cart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2021-09-12T22:17:33Z", "updated_at": "2022-11-30T21:05:18Z", "closed_at": "2021-10-12T17:48:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest nightly (rustc 1.57.0-nightly (8c2b6ea37 2021-09-11)) introduces a new warning that I consider to be invalid.\r\n\r\nGiven the following code:  https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=14d790d2f286f58543c42d915f60e182\r\n\r\n```rust\r\n#[derive(Debug)]\r\nstruct Foo {\r\n    a: String,\r\n}\r\n\r\nfn main() {\r\n  let foo = Foo {\r\n      a: \"hello\".to_string(),\r\n  };\r\n  \r\n  println!(\"{:?}\", foo);\r\n}\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nwarning: field is never read: `a`\r\n --> src/main.rs:3:5\r\n  |\r\n3 |     a: String,\r\n  |     ^^^^^^^^^\r\n  |\r\n  = note: `#[warn(dead_code)]` on by default\r\n\r\nwarning: `playground` (bin \"playground\") generated 1 warning\r\n    Finished dev [unoptimized + debuginfo] target(s) in 1.56s\r\n```\r\n\r\nThis feels very wrong to me. It means any struct created with the intent to be printed is \"invalid\" according to the compiler. This warning is not actionable. My only option is to suppress it, live with it, or insert some sort of \"dummy read\". This has broken our CI builds for Bevy (because we treat warnings as errors).", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/88900/reactions", "total_count": 20, "+1": 17, "-1": 2, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/88900/timeline", "performed_via_github_app": null, "state_reason": "completed"}