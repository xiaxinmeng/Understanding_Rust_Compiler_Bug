{"url": "https://api.github.com/repos/rust-lang/rust/issues/19053", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19053/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19053/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19053/events", "html_url": "https://github.com/rust-lang/rust/issues/19053", "id": 49163611, "node_id": "MDU6SXNzdWU0OTE2MzYxMQ==", "number": 19053, "title": "internal compiler error on assert_eq(Float::round(1.2), 1.0f64)", "user": {"login": "cep21", "id": 20358, "node_id": "MDQ6VXNlcjIwMzU4", "avatar_url": "https://avatars.githubusercontent.com/u/20358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cep21", "html_url": "https://github.com/cep21", "followers_url": "https://api.github.com/users/cep21/followers", "following_url": "https://api.github.com/users/cep21/following{/other_user}", "gists_url": "https://api.github.com/users/cep21/gists{/gist_id}", "starred_url": "https://api.github.com/users/cep21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cep21/subscriptions", "organizations_url": "https://api.github.com/users/cep21/orgs", "repos_url": "https://api.github.com/users/cep21/repos", "events_url": "https://api.github.com/users/cep21/events{/privacy}", "received_events_url": "https://api.github.com/users/cep21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-18T00:13:56Z", "updated_at": "2014-11-18T03:26:38Z", "closed_at": "2014-11-18T03:26:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "My code:\n\n``` rust\nfn main() {\n  assert_eq!(Float::round(1.2), 1.0f64);\n}\n```\n\nResult of compile:\n\n```\n< RUST_BACKTRACE=1 rustc floattest.rs \nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'assertion failed: `(left == right) && (right == left)` (left: `3`, right: `0`)', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/librustc/middle/trans/callee.rs:528\n\nstack backtrace:\n   1:        0x1127f62b9 - rt::backtrace::imp::write::hc20c8b662b79f261mlq\n   2:        0x1127f9597 - failure::on_fail::h0f4aa5224054de1eVBq\n   3:        0x112a53b95 - unwind::begin_unwind_inner::hd9ce6437cbb377f3Dud\n   4:        0x112a5385c - unwind::begin_unwind_fmt::h8c4112a5db2d838e5rd\n   5:        0x10f88f985 - middle::trans::callee::trans_fn_ref_with_substs::h5fa3125707e24544GC3\n   6:        0x10f88cd31 - middle::trans::callee::trans_fn_ref::h8e66d4bfea2f7a5bwq3\n   7:        0x10f89576b - middle::trans::callee::trans_call::closure.122321\n   8:        0x10f86eb94 - middle::trans::callee::trans_call_inner::h206dfabdb980fe31qY3\n   9:        0x10f894e57 - middle::trans::callee::trans_call::h2e2da3a36c7f6d70KS3\n  10:        0x10f8a4961 - middle::trans::expr::trans_rvalue_dps_unadjusted::h6edbc2f4062a7455365\n  11:        0x10f866fc9 - middle::trans::expr::trans_into::h800babadd2916cf8BI4\n  12:        0x10f8a47ca - middle::trans::expr::trans_rvalue_dps_unadjusted::h6edbc2f4062a7455365\n  13:        0x10f8a2b71 - middle::trans::expr::trans_unadjusted::hb5e553552a70bc6bzt5\n  14:        0x10f868462 - middle::trans::expr::trans::hd2ecccd9d4dbcf76vM4\n  15:        0x10f8ade38 - middle::trans::expr::trans_addr_of::h8aa19d03439e01b1LU6\n  16:        0x10f8a336f - middle::trans::expr::trans_unadjusted::hb5e553552a70bc6bzt5\n  17:        0x10f866fe9 - middle::trans::expr::trans_into::h800babadd2916cf8BI4\n  18:        0x10f8b7111 - middle::trans::expr::trans_adt::h1f4afc86e2f512865E6\n  19:        0x10f8a48d8 - middle::trans::expr::trans_rvalue_dps_unadjusted::h6edbc2f4062a7455365\n  20:        0x10f8a2b71 - middle::trans::expr::trans_unadjusted::hb5e553552a70bc6bzt5\n  21:        0x10f868462 - middle::trans::expr::trans::hd2ecccd9d4dbcf76vM4\n  22:        0x10f8b511b - middle::trans::_match::trans_match::h0790d42013b114392kk\n  23:        0x10f8a4297 - middle::trans::expr::trans_rvalue_dps_unadjusted::h6edbc2f4062a7455365\n  24:        0x10f866fc9 - middle::trans::expr::trans_into::h800babadd2916cf8BI4\n  25:        0x10f86731e - middle::trans::controlflow::trans_block::hdb9e6cfa8ed79b04RY0\n  26:        0x10f8a430d - middle::trans::expr::trans_rvalue_dps_unadjusted::h6edbc2f4062a7455365\n  27:        0x10f866fc9 - middle::trans::expr::trans_into::h800babadd2916cf8BI4\n  28:        0x10f86631c - middle::trans::controlflow::trans_stmt_semi::ha3c75f7e338f3c27YX0\n  29:        0x10f865990 - middle::trans::controlflow::trans_stmt::haa86607083f0c0d7LT0\n  30:        0x10f867218 - middle::trans::controlflow::trans_block::hdb9e6cfa8ed79b04RY0\n  31:        0x10f90ea0e - middle::trans::base::trans_closure::hbf24e53eb0f91f8bV4g\n  32:        0x10f859ffa - middle::trans::base::trans_fn::he0a8e25dddab811ejgh\n  33:        0x10f857735 - middle::trans::base::trans_item::hf9c25d8ab2cdec7cCzh\n  34:        0x10f9181e8 - middle::trans::base::trans_crate::hcfbe572cf418dc39txi\n  35:        0x10fd56675 - driver::driver::phase_4_translate_to_llvm::haeacbd5353911b326yA\n  36:        0x10fd4f306 - driver::driver::compile_input::h2d1f0cee49b4f9f205z\n  37:        0x10fdd388f - driver::run_compiler::h8f50a9893a7ffa1dESD\n  38:        0x10fdd1a16 - driver::run::closure.144868\n  39:        0x10f4f9f4b - task::TaskBuilder<S>::try_future::closure.103268\n  40:        0x10f4f9e33 - task::TaskBuilder<S>::spawn_internal::closure.103239\n  41:        0x10f47a7fd - task::NativeSpawner.Spawner::spawn::closure.8527\n  42:        0x112aba15c - rust_try_inner\n  43:        0x112aba146 - rust_try\n  44:        0x112a51207 - unwind::try::hb8ed7832701a9c1dljd\n  45:        0x112a5108c - task::Task::run::h4d685888909ea78awzc\n  46:        0x10f47a622 - task::NativeSpawner.Spawner::spawn::closure.8466\n  47:        0x112a52a4a - thread::thread_start::hc6a3a800f0b1689fHTc\n  48:     0x7fff88f032fc - _pthread_body\n  49:     0x7fff88f03279 - _pthread_body\n```\n\nRust version:\n\n```\n> rustc --version=verbose\nrustc 0.13.0-nightly (3d2cf6063 2014-10-22 00:22:04 +0000)\nbinary: rustc\ncommit-hash: 3d2cf60631502567007ea652f8ef299d907ee2c3\ncommit-date: 2014-10-22 00:22:04 +0000\nhost: x86_64-apple-darwin\nrelease: 0.13.0-nightly\n```\n", "closed_by": {"login": "cep21", "id": 20358, "node_id": "MDQ6VXNlcjIwMzU4", "avatar_url": "https://avatars.githubusercontent.com/u/20358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cep21", "html_url": "https://github.com/cep21", "followers_url": "https://api.github.com/users/cep21/followers", "following_url": "https://api.github.com/users/cep21/following{/other_user}", "gists_url": "https://api.github.com/users/cep21/gists{/gist_id}", "starred_url": "https://api.github.com/users/cep21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cep21/subscriptions", "organizations_url": "https://api.github.com/users/cep21/orgs", "repos_url": "https://api.github.com/users/cep21/repos", "events_url": "https://api.github.com/users/cep21/events{/privacy}", "received_events_url": "https://api.github.com/users/cep21/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/19053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19053/timeline", "performed_via_github_app": null, "state_reason": "completed"}