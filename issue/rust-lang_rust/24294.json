{"url": "https://api.github.com/repos/rust-lang/rust/issues/24294", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24294/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24294/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24294/events", "html_url": "https://github.com/rust-lang/rust/issues/24294", "id": 67657549, "node_id": "MDU6SXNzdWU2NzY1NzU0OQ==", "number": 24294, "title": "ICE: `Unimplemented` selecting `Binder(...)`", "user": {"login": "ptal", "id": 3127628, "node_id": "MDQ6VXNlcjMxMjc2Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/3127628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptal", "html_url": "https://github.com/ptal", "followers_url": "https://api.github.com/users/ptal/followers", "following_url": "https://api.github.com/users/ptal/following{/other_user}", "gists_url": "https://api.github.com/users/ptal/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptal/subscriptions", "organizations_url": "https://api.github.com/users/ptal/orgs", "repos_url": "https://api.github.com/users/ptal/repos", "events_url": "https://api.github.com/users/ptal/events{/privacy}", "received_events_url": "https://api.github.com/users/ptal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-10T18:43:59Z", "updated_at": "2016-06-06T21:57:37Z", "closed_at": "2016-06-06T21:57:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since it's an ICE I think it must be reported even if the message `Unimplemented` is pretty clear. However I don't know what is the problem, the failing code is [here](https://github.com/ptal/Rust.mcp/commit/07191277811bb076842d4badf4e10c4bb4c31640) when compiling with `cargo test`.\n\nI guess the problem is related to what I try to achieve (more on [rust.users](http://users.rust-lang.org/t/generic-programming-with-traits/908/1)) because it was working before I extract `deep_clone` into another trait (see propagator.rs).\n\nThe output is:\n\n```\n\u279c  Rust.mcp git:(master) \u2717 RUST_BACKTRACE=1 ct\n   Compiling rustc-serialize v0.3.12\n   Compiling libc v0.1.6\n   Compiling log v0.3.1\n   Compiling rand v0.3.7\n   Compiling num v0.1.22\n   Compiling intervallum v0.2.0\n   Compiling mcp v0.1.0 (file:///home/ptalbot/repositories/Rust.mcp)\nsrc/libmcp/lib.rs:1:1: 1:1 error: internal compiler error: Encountered error `Unimplemented` selecting `Binder(solver::propagator::Propagator<<solver::fd::var::FDVar<interval::interval::Interval<i32>> as solver::variable::Variable>::Event>)` during trans\nsrc/libmcp/lib.rs:1 // Copyright 2015 Pierre Talbot (IRCAM)\n                    ^\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /home/ptalbot/repositories/installed/rust/src/libsyntax/diagnostic.rs:131\n\nstack backtrace:\n   1:     0x7f84e4805aa9 - sys::backtrace::write::h94b87a491cd42a0dVQC\n   2:     0x7f84e482a377 - panicking::on_panic::h3c97f761284d87b6ThJ\n   3:     0x7f84e4773eb2 - rt::unwind::begin_unwind_inner::h50475333015d4c8e1WI\n   4:     0x7f84e1d3279d - rt::unwind::begin_unwind::h13395023725706001170\n   5:     0x7f84e1d32732 - diagnostic::SpanHandler::span_bug::h667822574712ce9ddqB\n   6:     0x7f84e25d04d3 - session::Session::span_bug::hac32b6dd59313c6c4kr\n   7:     0x7f84e3f2cd53 - trans::common::fulfill_obligation::h46adc7065de8f484gql\n   8:     0x7f84e3fa5c22 - trans::meth::get_vtable::closure.47139\n   9:     0x7f84e3fa711d - iter::FlatMap<I, U, F>.Iterator::next::h1778182984942007577\n  10:     0x7f84e3fa6c33 - vec::Vec<T>.FromIterator<T>::from_iter::h6096893015971501869\n  11:     0x7f84e3ef5014 - trans::meth::get_vtable::h8a559355328a84f42gz\n  12:     0x7f84e3ef199f - trans::expr::unsized_info::h5694840028648445667\n  13:     0x7f84e3efba08 - trans::expr::apply_adjustments::apply_autoref::ha5b014354888e0cbxGh\n  14:     0x7f84e3eac460 - trans::expr::trans::hd8d26ce886b0564aanh\n  15:     0x7f84e3eaa7be - trans::expr::trans_into::hf4e81c9478133f9ePgh\n  16:     0x7f84e3eab858 - trans::controlflow::trans_block::h0730db252adca761g8d\n  17:     0x7f84e3f66171 - trans::base::trans_closure::h86ff45a647f9a57aovt\n  18:     0x7f84e3e9ab6a - trans::base::trans_fn::hc2ddacf6da17d53a7Ft\n  19:     0x7f84e3e9b873 - trans::monomorphize::monomorphic_fn::h56d1ae720d85e49byvd\n  20:     0x7f84e3ed240b - trans::callee::trans_fn_ref_with_substs::h01c687e4ee2c152aydg\n  21:     0x7f84e3faa405 - trans::meth::emit_vtable_methods::closure.47200\n  22:     0x7f84e3fa6104 - trans::meth::get_vtable::closure.47139\n  23:     0x7f84e3fa711d - iter::FlatMap<I, U, F>.Iterator::next::h1778182984942007577\n  24:     0x7f84e3fa6c91 - vec::Vec<T>.FromIterator<T>::from_iter::h6096893015971501869\n  25:     0x7f84e3ef5014 - trans::meth::get_vtable::h8a559355328a84f42gz\n  26:     0x7f84e3ef199f - trans::expr::unsized_info::h5694840028648445667\n  27:     0x7f84e3efba08 - trans::expr::apply_adjustments::apply_autoref::ha5b014354888e0cbxGh\n  28:     0x7f84e3eac460 - trans::expr::trans::hd8d26ce886b0564aanh\n  29:     0x7f84e3eddb70 - trans::callee::trans_args::h251f356823655b63ITg\n  30:     0x7f84e3ee4267 - trans::callee::trans_call_inner::h6725593984957005344\n  31:     0x7f84e3eeaf26 - trans::expr::trans_rvalue_dps_unadjusted::h1c946d6402e88142Vui\n  32:     0x7f84e3eaaa17 - trans::expr::trans_into::hf4e81c9478133f9ePgh\n  33:     0x7f84e3eaa08f - trans::controlflow::trans_stmt_semi::hfe89ef1ae15dd80bk7d\n  34:     0x7f84e3eab512 - trans::controlflow::trans_block::h0730db252adca761g8d\n  35:     0x7f84e3f66171 - trans::base::trans_closure::h86ff45a647f9a57aovt\n  36:     0x7f84e3e9ab6a - trans::base::trans_fn::hc2ddacf6da17d53a7Ft\n  37:     0x7f84e3e96b16 - trans::base::trans_item::hfddb1fbf67b05a3fn4t\n  38:     0x7f84e3e97258 - trans::base::trans_item::hfddb1fbf67b05a3fn4t\n  39:     0x7f84e3e97258 - trans::base::trans_item::hfddb1fbf67b05a3fn4t\n  40:     0x7f84e3e97258 - trans::base::trans_item::hfddb1fbf67b05a3fn4t\n  41:     0x7f84e3f6ce18 - trans::base::trans_crate::h5c8bb29a766697e7T0u\n  42:     0x7f84e4e85d2a - driver::phase_4_translate_to_llvm::h41e17ac30c52776ejOa\n  43:     0x7f84e4e5db6a - driver::compile_input::h5f55fe906b0b0908Qba\n  44:     0x7f84e4f1c391 - run_compiler::h9ad6d857f076047f14b\n  45:     0x7f84e4f19fe2 - boxed::F.FnBox<A>::call_box::h10211653195867772721\n  46:     0x7f84e4f19519 - rt::unwind::try::try_fn::h77990541018311353\n  47:     0x7f84e48a8db8 - rust_try_inner\n  48:     0x7f84e48a8da5 - rust_try\n  49:     0x7f84e4f197c8 - boxed::F.FnBox<A>::call_box::h10407204623776454161\n  50:     0x7f84e4817cf1 - sys::thread::create::thread_start::haa4289bda09d9217bSH\n  51:     0x7f84df1c5373 - start_thread\n  52:     0x7f84e43ed27c - __clone\n  53:                0x0 - <unknown>\n\nCould not compile `mcp`.\n\nTo learn more, run the command again with --verbose.\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24294/timeline", "performed_via_github_app": null, "state_reason": "completed"}