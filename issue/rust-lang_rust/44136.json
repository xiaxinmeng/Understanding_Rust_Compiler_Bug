{"url": "https://api.github.com/repos/rust-lang/rust/issues/44136", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/44136/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/44136/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/44136/events", "html_url": "https://github.com/rust-lang/rust/issues/44136", "id": 253451774, "node_id": "MDU6SXNzdWUyNTM0NTE3NzQ=", "number": 44136, "title": "Tracking issue for rustdoc deprecations/cleanup", "user": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 602425123, "node_id": "MDU6TGFiZWw2MDI0MjUxMjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-dev-tools", "name": "T-dev-tools", "color": "bfd4f2", "default": false, "description": "Relevant to the dev-tools subteam, which will review and decide on the PR/issue."}, {"id": 650846969, "node_id": "MDU6TGFiZWw2NTA4NDY5Njk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-tracking-issue", "name": "C-tracking-issue", "color": "f5f1fd", "default": false, "description": "Category: A tracking issue for an RFC or an unstable feature."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-08-28T20:48:38Z", "updated_at": "2021-12-09T16:38:52Z", "closed_at": "2017-10-18T21:02:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In a recent @rust-lang/dev-tools meeting, we chatted about some compatibility issues with `rustdoc`. A lot of `rustdoc` was never really strongly thought-through, or there were grand plans that never really materialized.\r\n\r\nAs such, we want to deprecate and then remove some things that we don't believe anyone is using, and provide better support for some things people are doing, but in a hacky way.\r\n\r\nSummary of plans, to be checked off as they're done:\r\n\r\n- [ ] `--input-format`/`--output-format`\r\n- [ ] `--plugin-path`/`--plugins`\r\n- [ ] `--no-defaults`/`--passes`\r\n\r\nMore details below.\r\n\r\nIn addition, when it's closer to ship the new rustdoc, the various HTML and CSS flags will probably be replaced by a real templating system, and so we'll need to introduce some messaging there. That's not part of this ticket, however.\r\n\r\n## `--input-format`/`--output-format`\r\n\r\nThese flags are completely ignored today. Originally there were big plans, but not anymore.\r\n\r\nThese should be deprecated and hidden from the docs.\r\n\r\n**NOTE**: As of September 2020 this is no longer true, see https://github.com/rust-lang/rust/issues/76578 for `--output-format json`.\r\n\r\n##  `--plugin-path`/`--plugins`\r\n\r\nRustdoc supports plugins, who knew? The approach here is plagued with problems; dynamic library loading, exposing internal rustdoc types, no real guarantees. We're not aware of anyone even using this functionality.\r\n\r\nThese should be deprecated, and eventually, the functionality should be removed.\r\n\r\n## `--no-defaults`/`--passes`\r\n\r\nThese flags have one known use today: to document private items by removing all passes, and then sending in the passes that don't strip private items.\r\n\r\nWe should deprecate these flags, and eventually remove the functionality, *however*, this should not be done without adding a new flag, to be named, to just actually generate private docs. ", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/44136/reactions", "total_count": 5, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/44136/timeline", "performed_via_github_app": null, "state_reason": "completed"}