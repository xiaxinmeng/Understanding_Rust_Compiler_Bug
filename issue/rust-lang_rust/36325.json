{"url": "https://api.github.com/repos/rust-lang/rust/issues/36325", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/36325/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/36325/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/36325/events", "html_url": "https://github.com/rust-lang/rust/issues/36325", "id": 175593042, "node_id": "MDU6SXNzdWUxNzU1OTMwNDI=", "number": 36325, "title": "ICE, possibly related to associated types of associated types?", "user": {"login": "elidupree", "id": 1292783, "node_id": "MDQ6VXNlcjEyOTI3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1292783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elidupree", "html_url": "https://github.com/elidupree", "followers_url": "https://api.github.com/users/elidupree/followers", "following_url": "https://api.github.com/users/elidupree/following{/other_user}", "gists_url": "https://api.github.com/users/elidupree/gists{/gist_id}", "starred_url": "https://api.github.com/users/elidupree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elidupree/subscriptions", "organizations_url": "https://api.github.com/users/elidupree/orgs", "repos_url": "https://api.github.com/users/elidupree/repos", "events_url": "https://api.github.com/users/elidupree/events{/privacy}", "received_events_url": "https://api.github.com/users/elidupree/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}], "state": "closed", "locked": false, "assignee": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2016-09-07T20:06:58Z", "updated_at": "2016-11-03T16:07:02Z", "closed_at": "2016-11-03T16:07:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "(edit from @pnkfelix: if you're looking at this bug, make sure to skip ahead to the comments to see where people have posted links to self-contained reductions to reproduce the bug.)\n\n---\n\nTo reproduce: on the latest nightly, clone https://github.com/elidupree/time-steward (commit ac2db9f6765eeb18692d8588162bc076c9f198c1) and run `cargo test`, but replace tests/paces.rs:85-88 with:\n\n```\n  paces:: <flat_to_inefficient_full::Steward <Basics, \n    flat_to_inefficient_full::Steward <Basics, memoized_flat::Steward <Basics>>\n```\n\nWhen I did this, I got:\n\n```\nerror: internal compiler error: ../src/librustc/infer/mod.rs:686: Encountered errors `[FulfillmentError(Obligation(predicate=Binder(ProjectionPredicate(ProjectionTy { trait_ref: <&'a steward::stewards::memoized_flat::Snapshot<Basics> as std::iter::IntoIterator>, item_name: Item(116) }, (steward::FieldId, (&'a std::sync::Arc<std::any::Any + 'static>, &'a steward::GenericExtendedTime<steward::DeterministicRandomId>)))),depth=1),MismatchedProjectionTypes(RegionsInsufficientlyPolymorphic(BrNamed(11:DefIndex(3742), 'a(112), WontChange), '_#0r)))]` resolving bounds after type-checking\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\n\nnote: run with `RUST_BACKTRACE=1` for a backtrace\n\nthread 'rustc' panicked at 'Box<Any>', ../src/librustc_errors/lib.rs:590\nstack backtrace:\n   1:     0x7f7b93670a63 - std::sys::backtrace::tracing::imp::write::h46f28e67d38b4637\n   2:     0x7f7b936816ad - std::panicking::default_hook::{{closure}}::h1d3243f546573ff4\n   3:     0x7f7b9367fc4e - std::panicking::default_hook::h96c288d728df3ebf\n   4:     0x7f7b93680338 - std::panicking::rust_panic_with_hook::hb1322e5f2588b4db\n   5:     0x7f7b906f87a8 - std::panicking::begin_panic::hb7c71bbc491f561c\n   6:     0x7f7b909a4035 - rustc::session::opt_span_bug_fmt::{{closure}}::h0a2486f2fff54208\n   7:     0x7f7b908fb095 - rustc::session::opt_span_bug_fmt::hfa9cff626b4f2b49\n   8:     0x7f7b908faf24 - rustc::session::span_bug_fmt::heb3fdb6acac8d0c7\n   9:     0x7f7b9084e537 - rustc::infer::InferCtxt::drain_fulfillment_cx_or_panic::h1cc701f94300c6bb\n  10:     0x7f7b909466fc - rustc::ty::layout::normalize_associated_type::hcfa61530a7886901\n  11:     0x7f7b909469d9 - rustc::ty::layout::Layout::compute_uncached::hdd47920a35587b50\n  12:     0x7f7b9096339f - rustc::ty::util::<impl rustc::ty::TyS<'tcx>>::layout::h4668b349f32d3f11\n  13:     0x7f7b909476ff - rustc::ty::layout::Layout::compute_uncached::hdd47920a35587b50\n  14:     0x7f7b9096339f - rustc::ty::util::<impl rustc::ty::TyS<'tcx>>::layout::h4668b349f32d3f11\n  15:     0x7f7b909476ff - rustc::ty::layout::Layout::compute_uncached::hdd47920a35587b50\n  16:     0x7f7b9096339f - rustc::ty::util::<impl rustc::ty::TyS<'tcx>>::layout::h4668b349f32d3f11\n  17:     0x7f7b909476ff - rustc::ty::layout::Layout::compute_uncached::hdd47920a35587b50\n  18:     0x7f7b9096339f - rustc::ty::util::<impl rustc::ty::TyS<'tcx>>::layout::h4668b349f32d3f11\n  19:     0x7f7b909476ff - rustc::ty::layout::Layout::compute_uncached::hdd47920a35587b50\n  20:     0x7f7b9096339f - rustc::ty::util::<impl rustc::ty::TyS<'tcx>>::layout::h4668b349f32d3f11\n  21:     0x7f7b909476ff - rustc::ty::layout::Layout::compute_uncached::hdd47920a35587b50\n  22:     0x7f7b9213ecec - rustc::ty::util::<impl rustc::ty::TyS<'tcx>>::layout::h4668b349f32d3f11\n  23:     0x7f7b921c163f - rustc_trans::context::CrateContext::layout_of::hbaaecdd9b8a912d1\n  24:     0x7f7b9221dd39 - rustc_trans::type_of::sizing_type_of::h1b47e24af719fcdb\n  25:     0x7f7b921811de - rustc_trans::abi::FnType::unadjusted::h425ddefde7ae39b2\n  26:     0x7f7b921d9969 - rustc_trans::declare::declare_fn::h8c909c61873076f4\n  27:     0x7f7b92216688 - rustc_trans::trans_item::TransItem::predefine::h6a4ae615d063f73e\n  28:     0x7f7b92195c91 - rustc_trans::base::trans_crate::hf067cf9d0a8bcbf2\n  29:     0x7f7b93a3ec9d - rustc_driver::driver::phase_4_translate_to_llvm::he9d5d0022988d46e\n  30:     0x7f7b93a7b28c - rustc_driver::driver::compile_input::{{closure}}::h13e3af2358852a64\n  31:     0x7f7b93a66525 - rustc_driver::driver::phase_3_run_analysis_passes::{{closure}}::h2b062b0c671cd504\n  32:     0x7f7b93a371b5 - rustc_driver::driver::phase_3_run_analysis_passes::h2f1bd27ff2e4d8a0\n  33:     0x7f7b93a27fd3 - rustc_driver::driver::compile_input::h7dacd98cd2fd7d2b\n  34:     0x7f7b93a54766 - rustc_driver::run_compiler::h37c4294ab73436f7\n  35:     0x7f7b93991ce3 - std::panicking::try::do_call::h4d040997e2efdaf3\n  36:     0x7f7b9368f8c6 - __rust_maybe_catch_panic\n  37:     0x7f7b939af879 - <F as alloc::boxed::FnBox<A>>::call_box::hefd1c85fab3e6c31\n  38:     0x7f7b9367e180 - std::sys::thread::Thread::new::thread_start::h5b631f48cd23f128\n  39:     0x7f7b8b763463 - start_thread\n  40:     0x7f7b932c930c - clone\n  41:                0x0 - <unknown>\n\nerror: Could not compile `time_steward`.\n```\n## Meta\n\n`rustc --version --verbose`:\nrustc 1.13.0-nightly (923bac459 2016-09-06)\nbinary: rustc\ncommit-hash: 923bac45964940c56ab1075fb7980896de1eb620\ncommit-date: 2016-09-06\nhost: x86_64-unknown-linux-gnu\nrelease: 1.13.0-nightly\n", "closed_by": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/36325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/36325/timeline", "performed_via_github_app": null, "state_reason": "completed"}