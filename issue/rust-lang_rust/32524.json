{"url": "https://api.github.com/repos/rust-lang/rust/issues/32524", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32524/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32524/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32524/events", "html_url": "https://github.com/rust-lang/rust/issues/32524", "id": 143800079, "node_id": "MDU6SXNzdWUxNDM4MDAwNzk=", "number": 32524, "title": "How to treat imports with empty import list `use foo::{};`?", "user": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-27T11:29:19Z", "updated_at": "2017-02-19T20:13:31Z", "closed_at": "2017-02-19T20:13:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "First of all, these imports are not something practically valuable, so the choice should probably be made based on the amount of code it will allow to remove from rustc.\n\n1) Desugar `use prefix::{a, b, ....};` into `use prefix::a; use prefix::b; ....`. Therefore `use prefix::{};` is desugared into nothing. The `prefix` is not even resolved and can contain arbitrary non-existent or private or unstable paths - anything used in this prefix is harmless because it effectively doesn't exist.\nThe desugaring should probably be done when AST is lowered to HIR.\n\n2) Prohibit such imports. They are totally useless in manually written code, but can be generated as edge cases by macros. However macro uses generating empty import are probably useless too.\n\n3) Resolve the `prefix` and check it for name resolution errors, privacy, etc. There's some buggy piece of code in `rustc_resolve` doing this - https://github.com/rust-lang/rust/blob/master/src/librustc_resolve/lib.rs#L1722 and some other extra code in other visitors, and I'd like to get rid of it (that's why I created this issue).\n\ncc @jseyfried @nikomatsakis \n", "closed_by": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32524/timeline", "performed_via_github_app": null, "state_reason": "completed"}