{"url": "https://api.github.com/repos/rust-lang/rust/issues/70360", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/70360/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/70360/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/70360/events", "html_url": "https://github.com/rust-lang/rust/issues/70360", "id": 587059634, "node_id": "MDU6SXNzdWU1ODcwNTk2MzQ=", "number": 70360, "title": "Documentation for io::Read::read's return value", "user": {"login": "bedax", "id": 35183444, "node_id": "MDQ6VXNlcjM1MTgzNDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/35183444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bedax", "html_url": "https://github.com/bedax", "followers_url": "https://api.github.com/users/bedax/followers", "following_url": "https://api.github.com/users/bedax/following{/other_user}", "gists_url": "https://api.github.com/users/bedax/gists{/gist_id}", "starred_url": "https://api.github.com/users/bedax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bedax/subscriptions", "organizations_url": "https://api.github.com/users/bedax/orgs", "repos_url": "https://api.github.com/users/bedax/repos", "events_url": "https://api.github.com/users/bedax/events{/privacy}", "received_events_url": "https://api.github.com/users/bedax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-24T15:44:33Z", "updated_at": "2020-05-10T12:57:02Z", "closed_at": "2020-05-10T12:57:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "As far as I know `File` uses `libc::read` on unix for its `Read` implementation. The `read` method returns the amount of bytes that were read to the given buffer. [`libc::read`'s man page](http://man7.org/linux/man-pages/man2/read.2.html) says the following:\r\n\r\n`It is not an error if this number is smaller than the number of bytes requested; this may happen for example because fewer bytes are actually available right now (maybe because we were close to end-of-file, or because we are reading from a pipe, or from a terminal), or because read() was interrupted by a signal.`\r\n\r\nI think the documentation for `io::Read` doesn't currently make it clear that the returned value can be less than the buffer size, even when the reader is not at the end of the stream. While this behaviour may seem obvious to anyone familiar with libc, it should still be documented, as it's not obvious for those coming from other languages, and it can be important in some cases.", "closed_by": {"login": "Dylan-DPC-zz", "id": 12371125, "node_id": "MDQ6VXNlcjEyMzcxMTI1", "avatar_url": "https://avatars.githubusercontent.com/u/12371125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC-zz", "html_url": "https://github.com/Dylan-DPC-zz", "followers_url": "https://api.github.com/users/Dylan-DPC-zz/followers", "following_url": "https://api.github.com/users/Dylan-DPC-zz/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC-zz/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC-zz/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC-zz/repos", "events_url": "https://api.github.com/users/Dylan-DPC-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC-zz/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/70360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/70360/timeline", "performed_via_github_app": null, "state_reason": "completed"}