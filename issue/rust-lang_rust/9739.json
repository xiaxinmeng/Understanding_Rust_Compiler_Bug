{"url": "https://api.github.com/repos/rust-lang/rust/issues/9739", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/9739/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/9739/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/9739/events", "html_url": "https://github.com/rust-lang/rust/issues/9739", "id": 20574779, "node_id": "MDU6SXNzdWUyMDU3NDc3OQ==", "number": 9739, "title": "Starting Rust runtime twice (sequentially) fails", "user": {"login": "drrb", "id": 2309891, "node_id": "MDQ6VXNlcjIzMDk4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2309891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drrb", "html_url": "https://github.com/drrb", "followers_url": "https://api.github.com/users/drrb/followers", "following_url": "https://api.github.com/users/drrb/following{/other_user}", "gists_url": "https://api.github.com/users/drrb/gists{/gist_id}", "starred_url": "https://api.github.com/users/drrb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drrb/subscriptions", "organizations_url": "https://api.github.com/users/drrb/orgs", "repos_url": "https://api.github.com/users/drrb/repos", "events_url": "https://api.github.com/users/drrb/events{/privacy}", "received_events_url": "https://api.github.com/users/drrb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-10-06T04:03:17Z", "updated_at": "2013-10-09T22:26:28Z", "closed_at": "2013-10-09T22:26:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Rust Version**: 0.8\n**Platform**: OSX\n\nStarting the Rust runtime more than once (sequentially) fails with the following error.\n\n```\ntask <unnamed> failed at 'assert_once_ever happened twice: last task exiting', /private/tmp/rust-ZPXh/src/libstd/rt/mod.rs:305\nlibc++abi.dylib: terminate called throwing an exception\n```\n\nThis is a simple example that reproduces the problem.\n\n``` rust\n#[start]\nfn start(argc: int, argv: **u8) -> int {\n    do std::rt::start(argc, argv) {\n        println(\"First invocation\");\n    };\n\n    do std::rt::start(argc, argv) {\n        println(\"Second invocation\");\n    };\n\n    0\n}\n```\n\nThe actual use-case is to call Rust code from Java (through JNI) multiple times. Calling Rust code this way requires starting the runtime for each call, which works for the first invocation, but not for subsequent ones \n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/9739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/9739/timeline", "performed_via_github_app": null, "state_reason": "completed"}