{"url": "https://api.github.com/repos/rust-lang/rust/issues/46810", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/46810/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/46810/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/46810/events", "html_url": "https://github.com/rust-lang/rust/issues/46810", "id": 282889987, "node_id": "MDU6SXNzdWUyODI4ODk5ODc=", "number": 46810, "title": "Consider replacing the SVH with time-stamp/UUID", "user": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-12-18T14:06:24Z", "updated_at": "2018-01-09T15:39:00Z", "closed_at": "2018-01-09T15:39:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At the moment we are putting quite a bit of computational effort into calculating the SVH, which is a hash of HIR and is a supposed to be a reflection of a crates source code. If two crates have exactly the same SVH then they are the exact same version. At some point the SVH was supposed to signify binary compatibility but that never really worked. \r\n\r\nI think we should replace the SVH with a more simple concept, like a `BUILD_ID`. This could be a value that is truly unique for each build (e.g. just a UUID) or it could be a hash of `(commandline-args, source-file-time-stamps, upstream-crate-build-ids)`. The latter would be pretty much equivalent to the current SVH in terms of when it changes, but would be a bit harder to implement than the former.\r\n\r\nAny objections to doing this?\r\n\r\ncc @rust-lang/compiler @rust-lang/cargo ", "closed_by": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/46810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/46810/timeline", "performed_via_github_app": null, "state_reason": "completed"}