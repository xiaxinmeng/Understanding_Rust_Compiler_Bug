{"url": "https://api.github.com/repos/rust-lang/rust/issues/24830", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24830/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24830/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24830/events", "html_url": "https://github.com/rust-lang/rust/issues/24830", "id": 70985638, "node_id": "MDU6SXNzdWU3MDk4NTYzOA==", "number": 24830, "title": "Macro to run a macro over each tuple type", "user": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-04-26T00:21:10Z", "updated_at": "2015-11-12T19:30:36Z", "closed_at": "2015-11-12T19:30:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the course of implementing the Bounded trait for tuples (https://github.com/rust-lang/num/pull/89), I implemented a generic macro that runs the macro passed as its argument over every tuple type up to 20:\n\n```\nmacro_rules! for_each_tuple_ {\n ( $m:ident !! ) => (\n $m! { }\n );\n ( $m:ident !! $h:ident, $($t:ident,)* ) => (\n $m! { $h $($t)* }\n for_each_tuple_! { $m !! $($t,)* }\n );\n}\nmacro_rules! for_each_tuple {\n ( $m:ident ) => (\n for_each_tuple_! { $m !! A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, }\n );\n}\n```\n\nThere are other instances of this pattern in Rust libraries; for instance, see https://github.com/rust-lang/rust/blob/8f5b5f94dcdb9884737dfbc8efd893d1d70f0b14/src/libcore/hash/mod.rs#L239 and https://github.com/rust-lang/rust/blob/8f5b5f94dcdb9884737dfbc8efd893d1d70f0b14/src/libcore/hash/mod.rs#L259 .  The latter could be replaced with `for_each_tuple!(impl_hash_tuple);`\n\nWould it make sense to put something like this somewhere in the Rust standard libraries, marked as unstable since it depends on defining macros?  This would be useful for anyone implementing traits on tuples.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24830/timeline", "performed_via_github_app": null, "state_reason": "completed"}