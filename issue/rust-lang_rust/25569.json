{"url": "https://api.github.com/repos/rust-lang/rust/issues/25569", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25569/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25569/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25569/events", "html_url": "https://github.com/rust-lang/rust/issues/25569", "id": 77656208, "node_id": "MDU6SXNzdWU3NzY1NjIwOA==", "number": 25569, "title": "rustc panic on \"let a = [];\" -- `cat_expr Errd` then core dump", "user": {"login": "andybalaam", "id": 76812, "node_id": "MDQ6VXNlcjc2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/76812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andybalaam", "html_url": "https://github.com/andybalaam", "followers_url": "https://api.github.com/users/andybalaam/followers", "following_url": "https://api.github.com/users/andybalaam/following{/other_user}", "gists_url": "https://api.github.com/users/andybalaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/andybalaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andybalaam/subscriptions", "organizations_url": "https://api.github.com/users/andybalaam/orgs", "repos_url": "https://api.github.com/users/andybalaam/repos", "events_url": "https://api.github.com/users/andybalaam/events{/privacy}", "received_events_url": "https://api.github.com/users/andybalaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-18T13:26:45Z", "updated_at": "2015-05-19T10:50:18Z", "closed_at": "2015-05-19T10:50:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got a crash with a very small program.  When I tried to use RUST_BACKTRACE=1 rustc dumped core, but github will not allow me to upload the core file, even 7zipped.\n\n$ cat tmp.rs \nfn main()\n{\n    let a = [];\n}\n\n$ rustc tmp.rs \ntmp.rs:4:13: 4:15 error: internal compiler error: cat_expr Errd\ntmp.rs:4     let a = [];\n                     ^~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /build/buildd/rust-1.0.0-beta-201504071629~b41f2df~vivid/src/libsyntax/diagnostic.rs:131\n\n$ RUST_BACKTRACE=1 rustc tmp.rs \ntmp.rs:4:13: 4:15 error: internal compiler error: cat_expr Errd\ntmp.rs:4     let a = [];\n                     ^~\nIllegal instruction (core dumped)\n\n$ gdb /usr/bin/rustc core\n<snip>\nReading symbols from /usr/bin/rustc...(no debugging symbols found)...done.\n[New LWP 2214]\n[New LWP 2213]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nCore was generated by `rustc tmp.rs'.\nProgram terminated with signal SIGILL, Illegal instruction.\n#0  0x00007f65adc50d32 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n\n(gdb) where\n#0  0x00007f65adc50d32 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#1  <signal handler called>\n#2  0x00007f65a5bea630 in ?? ()\n#3  0x00007f65adce0907 in backtrace_pcinfo () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#4  0x00007f65adc3b55c in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#5  0x00007f65a79305b9 in _Unwind_Backtrace () from /lib/x86_64-linux-gnu/libgcc_s.so.1\n#6  0x00007f65adc3ae39 in sys::backtrace::write::h3ac5855d9fa0b426kHC () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#7  0x00007f65adc66358 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#8  0x00007f65adb9dea4 in rt::unwind::begin_unwind_inner::h341bf419a797aa0eCzI () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#9  0x00007f65aaf24fae in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libsyntax-4e7c5e5c.so\n#10 0x00007f65aaf24f54 in diagnostic::SpanHandler::span_bug::hc13b41cf2fb19457ImB () from /usr/lib/rust/rust-1.0.0-beta/lib/libsyntax-4e7c5e5c.so\n#11 0x00007f65ab7de9d4 in session::Session::span_bug::h387971b3ca6d9dafqQq () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc-4e7c5e5c.so\n#12 0x00007f65ac89e71e in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#13 0x00007f65ac89f24b in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#14 0x00007f65ac899716 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#15 0x00007f65ac9344a2 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#16 0x00007f65ac92df85 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#17 0x00007f65aca079e7 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#18 0x00007f65aca01f34 in check_crate::h88daf35079354687asC () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_typeck-4e7c5e5c.so\n#19 0x00007f65ae2bb1ee in driver::phase_3_run_analysis_passes::hd95dbb6da23a4f8fgGa () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_driver-4e7c5e5c.so\n#20 0x00007f65ae29f046 in driver::compile_input::h646544737bce2e91Qba () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_driver-4e7c5e5c.so\n#21 0x00007f65ae3565f6 in run_compiler::h372ae4e1f28ce38fS4b () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_driver-4e7c5e5c.so\n#22 0x00007f65ae353f0e in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_driver-4e7c5e5c.so\n#23 0x00007f65ae35344a in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_driver-4e7c5e5c.so\n#24 0x00007f65adce29e9 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#25 0x00007f65adce29d6 in rust_try () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#26 0x00007f65ae35371c in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/librustc_driver-4e7c5e5c.so\n#27 0x00007f65adc51342 in ?? () from /usr/lib/rust/rust-1.0.0-beta/lib/libstd-4e7c5e5c.so\n#28 0x00007f65a7b3d6aa in start_thread (arg=0x7f65a5bff700) at pthread_create.c:333\n#29 0x00007f65ad805eed in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n\n$ rustc --version --verbose\nrustc 1.0.0-dev (built 2015-04-07)\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nbuild-date: 2015-04-07\nhost: x86_64-unknown-linux-gnu\nrelease: 1.0.0-dev\n", "closed_by": {"login": "andybalaam", "id": 76812, "node_id": "MDQ6VXNlcjc2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/76812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andybalaam", "html_url": "https://github.com/andybalaam", "followers_url": "https://api.github.com/users/andybalaam/followers", "following_url": "https://api.github.com/users/andybalaam/following{/other_user}", "gists_url": "https://api.github.com/users/andybalaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/andybalaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andybalaam/subscriptions", "organizations_url": "https://api.github.com/users/andybalaam/orgs", "repos_url": "https://api.github.com/users/andybalaam/repos", "events_url": "https://api.github.com/users/andybalaam/events{/privacy}", "received_events_url": "https://api.github.com/users/andybalaam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25569/timeline", "performed_via_github_app": null, "state_reason": "completed"}