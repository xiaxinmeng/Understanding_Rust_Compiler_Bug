{"url": "https://api.github.com/repos/rust-lang/rust/issues/63436", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/63436/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/63436/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/63436/events", "html_url": "https://github.com/rust-lang/rust/issues/63436", "id": 479264942, "node_id": "MDU6SXNzdWU0NzkyNjQ5NDI=", "number": 63436, "title": "debuginfo/empty-string.rs test failed on Linux", "user": {"login": "tesuji", "id": 15225902, "node_id": "MDQ6VXNlcjE1MjI1OTAy", "avatar_url": "https://avatars.githubusercontent.com/u/15225902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesuji", "html_url": "https://github.com/tesuji", "followers_url": "https://api.github.com/users/tesuji/followers", "following_url": "https://api.github.com/users/tesuji/following{/other_user}", "gists_url": "https://api.github.com/users/tesuji/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesuji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesuji/subscriptions", "organizations_url": "https://api.github.com/users/tesuji/orgs", "repos_url": "https://api.github.com/users/tesuji/repos", "events_url": "https://api.github.com/users/tesuji/events{/privacy}", "received_events_url": "https://api.github.com/users/tesuji/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 123110, "node_id": "MDU6TGFiZWwxMjMxMTA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-linux", "name": "O-linux", "color": "6e6ec0", "default": false, "description": "Operating system: Linux"}, {"id": 203130, "node_id": "MDU6TGFiZWwyMDMxMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-debuginfo", "name": "A-debuginfo", "color": "f7e101", "default": false, "description": "Area: Debugging information in compiled programs (DWARF, PDB, etc.)"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-10T12:59:24Z", "updated_at": "2022-11-21T15:36:18Z", "closed_at": "2022-11-21T15:36:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I run `x.py test` on Linux, `debuginfo/empty-string.rs` test failed with\r\nthe following error:\r\n\r\n```rust\r\nCheck compiletest suite=debuginfo mode=debuginfo-gdb+lldb (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n\r\nrunning 122 tests\r\n.iiiii..ii.....i..i...i..i.iFi..i.ii..iii....ii.ii....i..........iiii..........i.i.ii..ii.......ii.i 100/122\r\n.iii.....iiiiii.....ii\r\nfailures:\r\n\r\n---- [debuginfo-gdb+lldb] debuginfo/empty-string.rs stdout ----\r\nNOTE: compiletest thinks it is using GDB with native rust support\r\nNOTE: compiletest thinks it is using GDB version 7012000\r\n\r\nerror: line not found in debugger output: $2 = \"\"\r\nstatus: exit code: 0\r\ncommand: \"/usr/bin/gdb\" \"-quiet\" \"-batch\" \"-nx\" \"-command=/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/test/debuginfo/empty-string/empty-string.debugger.script\"\r\nstdout:\r\n------------------------------------------\r\nGNU gdb (Debian 7.12-6) 7.12.0.20161007-git\r\nCopyright (C) 2016 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\".\r\nBreakpoint 1 at 0x267f: file /home/lzutao/forked/rust/compiler-rust/src/test/debuginfo/empty-string.rs, line 32.\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n\r\nBreakpoint 1, empty_string::main::h4739d54fd70936a5 () at /home/lzutao/forked/rust/compiler-rust/src/test/debuginfo/empty-string.rs:32\r\n32          zzz(); // #break\r\n$1 = \"\"\r\n$2 = &str {data_ptr: 0x555555554a4e \"attempt to create unaligned or null slicesrc/libcore/slice/mod.rsattempt to create slice covering half the address space\\000\", length: 0}\r\nA debugging session is active.\r\n\r\n        Inferior 1 [process 6653] will be killed.\r\n\r\nQuit anyway? (y or n) [answered Y; input not from terminal]\r\n\r\n------------------------------------------\r\nstderr:\r\n------------------------------------------\r\n\r\n------------------------------------------\r\n\r\n\r\n\r\nfailures:\r\n    [debuginfo-gdb+lldb] debuginfo/empty-string.rs\r\n\r\ntest result: FAILED. 73 passed; 1 failed; 48 ignored; 0 measured; 0 filtered out\r\n\r\nthread 'main' panicked at 'Some tests failed', src/tools/compiletest/src/main.rs:536:22\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\r\n\r\ncommand did not execute successfully: \"/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/stage0-tools-bin/compiletest\" \"--compile-lib-path\" \"/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/stage2/lib\" \"--run-lib-path\" \"/home/lzuta\r\no/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"--rustc-path\" \"/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/stage2/bin/rustc\" \"--src-base\" \"/home/lzutao/forked/rust/compiler-rust/src/tes\r\nt/debuginfo\" \"--build-base\" \"/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/test/debuginfo\" \"--stage-id\" \"stage2-x86_64-unknown-linux-gnu\" \"--mode\" \"debuginfo-gdb+lldb\" \"--target\" \"x86_64-unknown-linux-gnu\" \"--host\" \"x86_64-unknown-linux-gnu\" \"--llv\r\nm-filecheck\" \"/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/llvm/build/bin/FileCheck\" \"--nodejs\" \"/home/lzutao/.local/bin/node\" \"--host-rustcflags\" \"-Crpath -O -Cdebuginfo=0 -Zunstable-options  -Lnative=/home/lzutao/forked/rust/compiler-rust/build/\r\nx86_64-unknown-linux-gnu/native/rust-test-helpers\" \"--target-rustcflags\" \"-Crpath -O -Cdebuginfo=0 -Zunstable-options  -Lnative=/home/lzutao/forked/rust/compiler-rust/build/x86_64-unknown-linux-gnu/native/rust-test-helpers\" \"--docck-python\" \"/usr/bin/python2.7\" \"--lldb-py\r\nthon\" \"/usr/bin/python2.7\" \"--gdb\" \"/usr/bin/gdb\" \"--quiet\" \"--llvm-version\" \"9.0.0-rust-1.38.0-dev-48818e9f5\\n\" \"--cc\" \"\" \"--cxx\" \"\" \"--cflags\" \"\" \"--llvm-components\" \"\" \"--llvm-cxxflags\" \"\" \"--adb-path\" \"adb\" \"--adb-test-dir\" \"/data/tmp/work\" \"--android-cross-path\" \"\"\r\nexpected success, got: exit code: 101\r\n```\r\n\r\n### Metadata\r\n\r\n#### Git commits: d19a359444", "closed_by": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/63436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/63436/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}