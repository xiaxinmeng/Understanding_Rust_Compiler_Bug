{"url": "https://api.github.com/repos/rust-lang/rust/issues/27667", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27667/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27667/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27667/events", "html_url": "https://github.com/rust-lang/rust/issues/27667", "id": 100373109, "node_id": "MDU6SXNzdWUxMDAzNzMxMDk=", "number": 27667, "title": "Feedback on Rust Vec<T> documentation from a beginner", "user": {"login": "edunham", "id": 812892, "node_id": "MDQ6VXNlcjgxMjg5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/812892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edunham", "html_url": "https://github.com/edunham", "followers_url": "https://api.github.com/users/edunham/followers", "following_url": "https://api.github.com/users/edunham/following{/other_user}", "gists_url": "https://api.github.com/users/edunham/gists{/gist_id}", "starred_url": "https://api.github.com/users/edunham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edunham/subscriptions", "organizations_url": "https://api.github.com/users/edunham/orgs", "repos_url": "https://api.github.com/users/edunham/repos", "events_url": "https://api.github.com/users/edunham/events{/privacy}", "received_events_url": "https://api.github.com/users/edunham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-11T18:13:54Z", "updated_at": "2015-08-18T20:34:29Z", "closed_at": "2015-08-18T18:00:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Was: https://github.com/rust-lang/rust-www/issues/89, from @gnzlbg, submitted January 19th 2015.\n\n---\n\nHi, \n\nI just tried rust for the first time. From the description of the language, I decided to try a dynamic array first, since in my head this is the most important data structure in a low level language (e.g., for cache performance). So I decided to write a small program using a `Vec<T>` (is this the right data-structure in rust for an array of dynamic size?). My first step was to create a vector of `size` elements initialized to a default value of `0`. So:\n- I went to the [Arrays, Vectors, and Slices](http://doc.rust-lang.org/book/arrays-vectors-and-slices.html) part of the book, where:\n  - I see how I can use the `vec!` macro, \n  - I see how I can use `push`. \n  - I see a link to the `Vec<T>` documentation, so...\n- I went to the [`Vec<T>` documentation](http://doc.rust-lang.org/std/vec/):\n  - this looks... empty,\n  - I see how I can use `new` to create an empty vector,\n  - I guess `new(size)` and `new(size, default_value)` might work (I have a C++ background), but the compiler is helpful here and tells me that there is only `new()`. Ok, keep looking!\n  - I search in the docs for `Vec` and arrive at:\n- [`std::vec::Vec`](http://doc.rust-lang.org/std/vec/struct.Vec.html). I wonder why I didn't land here in the first place. Here:\n  - I see more examples using: `len`, `iter`, this page looks good, I feel I'm getting close :)\n  - There is a section about initializing a vector with a capacity using `Vec::with_capacity` and why this should be preferred, this is almost what I want!\n  - I guess `Vec::with_size` without success, it seems I'm not there yet, so...\n  - I read the rest of the doc there, but it seems I'm out of luck.\n  - I go back to `Vec::resize(new_len, value)`, it seems that `value` is not documented, but I guess that it would be the default value, so...\n  - I try: \n    \n    ``` rust\n        let mut v : Vec<f64> = Vec::with_capacity(size);\n        v.resize(size, 0.0);\n    ```\n\nwhich gives a warning but works as expected. \n\nI'm left with a very weird feeling. I'll try to explain it. What in my head should be the most used data structure in a low level language, and thus the most used data structure in rust, turned out to be barely and poorly documented. The best part of the documentation is, without doubt, the \"Capacity and reallocation\" where `with_capacity` is explained. Most of the other functions there are missing documentation. Almost none of the functions have the algorithmic/memory complexity documented. Even in those functions that are documented, some arguments aren't. I think that for vector even the growth factor (which is an implementation detail) should be included in the documentation since it can be interesting to know it in some applications (or while debugging/profiling performance). Besides improving the documentation of all these functions, the documentation of vector could be improved significantly by including different \"sub sections\" like \"Capacity and reallocation\". Those I would have found useful are: \"Initialization\" (how to initialize a vector: with a capacity/size, with/without default constructed elements, from slice, from pointer and length, from raw array, using the vec! macro...), \"Insertion\" (push, insert, resize.. and how are the elements initialized when they are created), \"Deletion\" (pop, selectively delete some elements based on predicate: `erase_remove_if` in C++, resize.. and what happens if I resize below the current size), \"Memory layout\" (capacity, extend capacity, shrink to fit, ...), \"Iteration\" (how to iterate over a vector), \"Common patterns\" (sort + remove duplicates, stack, queue, `flat_set`).\n- I decide to fill an issue in the rust documentation and to give rust another try in a couple of months:\n  - nowhere in the book could I find where to fill issues,\n  - went to the rust language on github where I read somewhere that the documentation belongs to the website\n  - supposed that rust-www host the website and also the documentation...\n\nAnother _small_ issue I had at the beginning was that nowhere in the introduction did I find a link or a table with the primitive data types. Most of the introduction uses `i32`. I guessed `double` and failed, but then guessed `f64` and it worked. I then googled `rust primitive types` and got a link to the reference where all primitive types where shown. A table explaining `iX` for integers, `fX` for doubles, `str` for chars where `X` is the width of the data type would have saved me jumping around through tabs and googling.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27667/timeline", "performed_via_github_app": null, "state_reason": "completed"}