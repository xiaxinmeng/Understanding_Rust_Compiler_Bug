{"url": "https://api.github.com/repos/rust-lang/rust/issues/63765", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/63765/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/63765/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/63765/events", "html_url": "https://github.com/rust-lang/rust/issues/63765", "id": 483142142, "node_id": "MDU6SXNzdWU0ODMxNDIxNDI=", "number": 63765, "title": "Panic while running rustdoc on polonius-engine", "user": {"login": "Nashenas88", "id": 1673130, "node_id": "MDQ6VXNlcjE2NzMxMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1673130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nashenas88", "html_url": "https://github.com/Nashenas88", "followers_url": "https://api.github.com/users/Nashenas88/followers", "following_url": "https://api.github.com/users/Nashenas88/following{/other_user}", "gists_url": "https://api.github.com/users/Nashenas88/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nashenas88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nashenas88/subscriptions", "organizations_url": "https://api.github.com/users/Nashenas88/orgs", "repos_url": "https://api.github.com/users/Nashenas88/repos", "events_url": "https://api.github.com/users/Nashenas88/events{/privacy}", "received_events_url": "https://api.github.com/users/Nashenas88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-21T00:29:07Z", "updated_at": "2019-08-25T22:31:09Z", "closed_at": "2019-08-25T22:31:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I get a panic ~in beta~ at least as far back as 1.31 while attempting to compile the documentation in [rust-lang/polonius](https://github.com/rust-lang/polonius) (seems to stem from polonius-engine)\r\n\r\n```\r\n$ RUST_BACKTRACE=full cargo doc --open\r\n Documenting polonius-engine v0.9.0 (/home/pfaria/projects/polonius/polonius-engine)\r\nthread 'rustc' panicked at 'assertion failed: output.is_none()', src/librustdoc/clean/simplify.rs:100:21\r\nstack backtrace:\r\n   0:     0x7f8b6ad6367b - backtrace::backtrace::libunwind::trace::h23ae608c8b906c69\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.34/src/backtrace/libunwind.rs:88\r\n   1:     0x7f8b6ad6367b - backtrace::backtrace::trace_unsynchronized::h65b3ea295a85fd48\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.34/src/backtrace/mod.rs:66\r\n   2:     0x7f8b6ad6367b - std::sys_common::backtrace::_print::h24f527b44b6cfc06\r\n                               at src/libstd/sys_common/backtrace.rs:47\r\n   3:     0x7f8b6ad6367b - std::sys_common::backtrace::print::h712608e4347fd64a\r\n                               at src/libstd/sys_common/backtrace.rs:36\r\n   4:     0x7f8b6ad6367b - std::panicking::default_hook::{{closure}}::h6c3d570c2b500048\r\n                               at src/libstd/panicking.rs:200\r\n   5:     0x7f8b6ad63356 - std::panicking::default_hook::hb29963fb4747e0dd\r\n                               at src/libstd/panicking.rs:214\r\n   6:     0x7f8b6ad63ded - std::panicking::rust_panic_with_hook::hd1236c3083de823a\r\n                               at src/libstd/panicking.rs:477\r\n   7:     0x555c7a33b4a5 - std::panicking::begin_panic::heed8af319fcd6c2a\r\n   8:     0x555c7a4d5757 - core::iter::traits::iterator::Iterator::try_for_each::{{closure}}::h42882a57d6bf8766\r\n   9:     0x555c7a4d7851 - alloc::vec::Vec<T>::retain::h6e52bbc7ffae7b67\r\n  10:     0x555c7a3563e4 - rustdoc::clean::simplify::where_clauses::hf153712a597c92b9\r\n  11:     0x555c7a2d4f46 - <(&rustc::ty::Generics, &&rustc::ty::GenericPredicates) as rustdoc::clean::Clean<rustdoc::clean::Generics>>::clean::h1be883588480622d\r\n  12:     0x555c7a3a6a6d - rustdoc::clean::inline::build_impl::hd21e5948bd391407\r\n  13:     0x555c7a563281 - rustdoc::passes::collect_trait_impls::collect_trait_impls::h15ae7974c39a35b1\r\n  14:     0x555c7a3740d2 - rustc_interface::passes::BoxedGlobalCtxt::access::{{closure}}::h7cc9e6b09c3a0441\r\n  15:     0x7f8b6b611f6a - rustc_interface::passes::create_global_ctxt::{{closure}}::h90d4aa14bb25536b\r\n  16:     0x555c7a37580c - rustc_interface::interface::run_compiler_in_existing_thread_pool::h2f8fb4b935eb9b1e\r\n  17:     0x555c7a46a6dd - rustdoc::core::run_core::h9ab6224a05c1e696\r\n  18:     0x555c7a3fef00 - <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once::h8455614fc1319e90\r\n  19:     0x555c7a33b54b - std::panicking::try::do_call::h64a711640202dd20\r\n  20:     0x7f8b6ad747ca - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:80\r\n  21:     0x555c7a3ffe13 - rustc_driver::report_ices_to_stderr_if_any::h84f5ff2d8d681158\r\n  22:     0x555c7a2f38ab - rustdoc::main_options::h9e5497ce4a610df0\r\n  23:     0x555c7a36c6d5 - std::thread::local::LocalKey<T>::with::h1073a33ac58fb4f7\r\n  24:     0x555c7a37110e - scoped_tls::ScopedKey<T>::set::ha4d788bb2db4bca7\r\n  25:     0x555c7a34f7e2 - syntax::with_globals::ha81ddbe58a4509bc\r\n  26:     0x555c7a4007e3 - std::sys_common::backtrace::__rust_begin_short_backtrace::h49ade963400fb398\r\n  27:     0x7f8b6ad747ca - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:80\r\n  28:     0x555c7a530a19 - core::ops::function::FnOnce::call_once{{vtable.shim}}::h8f2eec79e922f5a6\r\n  29:     0x7f8b6ad4733f - <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once::hb5396a93648ae250\r\n                               at /rustc/e450539c2a8d7f791268d699cbe45ab3e57d43a1/src/liballoc/boxed.rs:787\r\n  30:     0x7f8b6ad73450 - <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once::h92593001847bb63e\r\n                               at /rustc/e450539c2a8d7f791268d699cbe45ab3e57d43a1/src/liballoc/boxed.rs:787\r\n  31:     0x7f8b6ad73450 - std::sys_common::thread::start_thread::h569f3ccc0d5dcd83\r\n                               at src/libstd/sys_common/thread.rs:13\r\n  32:     0x7f8b6ad73450 - std::sys::unix::thread::Thread::new::thread_start::hd9ff46fad032d886\r\n                               at src/libstd/sys/unix/thread.rs:79\r\n  33:     0x7f8b6acc9182 - start_thread\r\n  34:     0x7f8b6abd6b1f - __clone\r\n  35:                0x0 - <unknown>\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.38.0-beta.1 (e450539c2 2019-08-13) running on x86_64-unknown-linux-gnu\r\n\r\nerror: Could not document `polonius-engine`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustdoc --crate-name polonius_engine polonius-engine/src/lib.rs -o /home/pfaria/projects/polonius/target/doc --color always -L dependency=/home/pfaria/projects/polonius/target/debug/deps --extern datafrog=/home/pfaria/projects/polonius/target/debug/deps/libdatafrog-875e92c848fe69da.rmeta --extern log=/home/pfaria/projects/polonius/target/debug/deps/liblog-4bbcdf3931b319c3.rmeta --extern rustc_hash=/home/pfaria/projects/polonius/target/debug/deps/librustc_hash-15dc0f86c5246892.rmeta` (exit code: 1)\r\n```", "closed_by": {"login": "Nashenas88", "id": 1673130, "node_id": "MDQ6VXNlcjE2NzMxMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1673130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nashenas88", "html_url": "https://github.com/Nashenas88", "followers_url": "https://api.github.com/users/Nashenas88/followers", "following_url": "https://api.github.com/users/Nashenas88/following{/other_user}", "gists_url": "https://api.github.com/users/Nashenas88/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nashenas88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nashenas88/subscriptions", "organizations_url": "https://api.github.com/users/Nashenas88/orgs", "repos_url": "https://api.github.com/users/Nashenas88/repos", "events_url": "https://api.github.com/users/Nashenas88/events{/privacy}", "received_events_url": "https://api.github.com/users/Nashenas88/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/63765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/63765/timeline", "performed_via_github_app": null, "state_reason": "completed"}