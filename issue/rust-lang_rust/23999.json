{"url": "https://api.github.com/repos/rust-lang/rust/issues/23999", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/23999/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/23999/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/23999/events", "html_url": "https://github.com/rust-lang/rust/issues/23999", "id": 66105501, "node_id": "MDU6SXNzdWU2NjEwNTUwMQ==", "number": 23999, "title": "Not sure on how to pass a trait method to an operator.", "user": {"login": "norcalli", "id": 296363, "node_id": "MDQ6VXNlcjI5NjM2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/296363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/norcalli", "html_url": "https://github.com/norcalli", "followers_url": "https://api.github.com/users/norcalli/followers", "following_url": "https://api.github.com/users/norcalli/following{/other_user}", "gists_url": "https://api.github.com/users/norcalli/gists{/gist_id}", "starred_url": "https://api.github.com/users/norcalli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/norcalli/subscriptions", "organizations_url": "https://api.github.com/users/norcalli/orgs", "repos_url": "https://api.github.com/users/norcalli/repos", "events_url": "https://api.github.com/users/norcalli/events{/privacy}", "received_events_url": "https://api.github.com/users/norcalli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-04-03T08:19:43Z", "updated_at": "2016-06-27T21:49:37Z", "closed_at": "2016-06-27T21:49:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not even sure how to title this. As you can see in [this playpen](http://is.gd/xvf7R3), I was playing around with the idea to implement a pipe operator [from this stackoverflow](http://stackoverflow.com/questions/17054978/composition-operator-and-pipe-forward-operator-in-rust). But I'm getting what feels like inconsistent behaviour. Is there a way to do this without having to define a new function? And why does the method call not work?\n\n``` rust\n// #![feature(unboxed_closures)]\nuse std::ops::{Shr, FnOnce};\n\nstruct Wrapped<T>(T);\n\nimpl<A, B, F: FnOnce(A) -> B> Shr<F> for Wrapped<A> {\n    type Output = Wrapped<B>;\n\n    fn shr(self, f: F) -> Wrapped<B> {\n        Wrapped(f(self.0))\n    }\n}\n\nfn tos<T: ToString>(t: T) -> String { t.to_string() }\n\nfn main () {\n    // error: the type of this value must be known in this context\n    //let s = Wrapped(1i32) >> (|x| x + 1) >> (|x| 2*x) >> (|x| x.to_string());\n\n    // error: ...the trait `core::ops::FnOnce<(i32,)>` is required (expected i32, found &-ptr)\n    //let s = Wrapped(1i32) >> (|x| x + 1) >> (|x| 2*x) >> ToString::to_string;\n\n\n    // Works:\n    //let s = Wrapped(1i32) >> (|x| x + 1) >> (|x| 2*x) >> (|x| format!(\"{}\", x));\n\n    // This works:\n    //let s = Wrapped(1i32) >> (|x| x + 1) >> (|x| 2*x) >> (|x| tos(x));\n\n    // Which is basically this, which also works:\n    let s = Wrapped(1i32) >> (|x| x + 1) >> (|x| 2*x) >> tos;\n    println!(\"{}\", s.0)\n}\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/23999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/23999/timeline", "performed_via_github_app": null, "state_reason": "completed"}