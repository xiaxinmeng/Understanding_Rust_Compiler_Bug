{"url": "https://api.github.com/repos/rust-lang/rust/issues/103030", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/103030/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/103030/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/103030/events", "html_url": "https://github.com/rust-lang/rust/issues/103030", "id": 1408556505, "node_id": "I_kwDOAAsO6M5T9N3Z", "number": 103030, "title": "E0603 trims comment off caller line", "user": {"login": "kubycsolutions", "id": 60112771, "node_id": "MDQ6VXNlcjYwMTEyNzcx", "avatar_url": "https://avatars.githubusercontent.com/u/60112771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kubycsolutions", "html_url": "https://github.com/kubycsolutions", "followers_url": "https://api.github.com/users/kubycsolutions/followers", "following_url": "https://api.github.com/users/kubycsolutions/following{/other_user}", "gists_url": "https://api.github.com/users/kubycsolutions/gists{/gist_id}", "starred_url": "https://api.github.com/users/kubycsolutions/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kubycsolutions/subscriptions", "organizations_url": "https://api.github.com/users/kubycsolutions/orgs", "repos_url": "https://api.github.com/users/kubycsolutions/repos", "events_url": "https://api.github.com/users/kubycsolutions/events{/privacy}", "received_events_url": "https://api.github.com/users/kubycsolutions/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-14T00:01:00Z", "updated_at": "2022-10-19T17:19:24Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Compiling one of the module examples from the book, I got the expected \"private function\" error... but what I didn't expect is that when displaying the caller, the error message shows only the call itself. \r\n\r\nI had put comments on the relevant lines:\r\n`    mod inside {\t\t// private`\r\nand\r\n`    outermost::inside::secret_function(); // should err`\r\nand the error output was\r\n```\r\nerror[E0603]: module `inside` is private\r\n  --> src\\lib.rs:21:16\r\n   |\r\n21 |     outermost::inside::secret_function();\r\n   |                ^^^^^^ private module\r\n   |\r\nnote: the module `inside` is defined here\r\n  --> src\\lib.rs:6:5\r\n   |\r\n6  |     mod inside {        // private\r\n```\r\nI can see why that might be the most natural way to implement the message, depending on exactly how your compiler is written.  Showing the call with comments could also get messy if the call is split across multiple lines. \r\n\r\nBut the coder might want to use comments to quickly distinguish which of several similar lines was being complained about. Some of us old timers still work from command-line as well as IDE, and manually navigating by line number is just slightly annoying even when your editor has a jump-to-numbered-line function.\r\n\r\nSo -- very low priority, and only if it can be done easily -- it'd be nice to have the comment on the call displayed, as well as the comment on the definition.\r\n\r\n\r\nI presume a similar issue exists in other error messages, and this is likely to be an all-or-none fix. ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/103030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/103030/timeline", "performed_via_github_app": null, "state_reason": null}