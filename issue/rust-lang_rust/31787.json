{"url": "https://api.github.com/repos/rust-lang/rust/issues/31787", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/31787/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/31787/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/31787/events", "html_url": "https://github.com/rust-lang/rust/issues/31787", "id": 135080465, "node_id": "MDU6SXNzdWUxMzUwODA0NjU=", "number": 31787, "title": "Built binaries crash with illegal hardware instruction on BCM2708 cpu (raspberry pi)", "user": {"login": "lilydjwg", "id": 440661, "node_id": "MDQ6VXNlcjQ0MDY2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/440661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilydjwg", "html_url": "https://github.com/lilydjwg", "followers_url": "https://api.github.com/users/lilydjwg/followers", "following_url": "https://api.github.com/users/lilydjwg/following{/other_user}", "gists_url": "https://api.github.com/users/lilydjwg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilydjwg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilydjwg/subscriptions", "organizations_url": "https://api.github.com/users/lilydjwg/orgs", "repos_url": "https://api.github.com/users/lilydjwg/repos", "events_url": "https://api.github.com/users/lilydjwg/events{/privacy}", "received_events_url": "https://api.github.com/users/lilydjwg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 55301954, "node_id": "MDU6TGFiZWw1NTMwMTk1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-Arm", "name": "O-Arm", "color": "6e6ec0", "default": false, "description": "Target: 32-bit Arm processors (armv6, armv7, thumb...), including 64-bit Arm in AArch32 state"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2016-02-20T14:25:31Z", "updated_at": "2017-12-07T08:02:25Z", "closed_at": "2016-02-25T20:37:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Cross build a \"Hello World\" program generated by cargo, and it fails to run.\n\nI use the rustc and rust-std-nightly-arm-unknown-linux-gnueabihf.tar.gz from https://static.rust-lang.org/dist/\n\n```\n>>> rustc --version\nrustc 1.8.0-nightly (57c357d89 2016-02-16)\n```\n\nThe crash in gdb:\n\n```\nProgram received signal SIGILL, Illegal instruction.\n0x7f559c5c in jemalloc_constructor ()\n(gdb) bt\n#0  0x7f559c5c in jemalloc_constructor ()\n#1  0x7f5879f0 in __libc_csu_init ()\n#2  0xb6e3ab74 in __libc_start_main () from /usr/lib/libc.so.6\n#3  0x7f559d94 in _start ()\nBacktrace stopped: previous frame identical to this frame (corrupt stack?)\n\nDump of assembler code for function jemalloc_constructor:\n   0x7f559c50 <+0>:     ldr     r3, [pc, #212]  ; (0x7f559d28 <jemalloc_constructor+216>)\n   0x7f559c52 <+2>:     push    {r4, lr}\n   0x7f559c54 <+4>:     add     r3, pc\n   0x7f559c56 <+6>:     ldr     r4, [pc, #212]  ; (0x7f559d2c <jemalloc_constructor+220>)\n   0x7f559c58 <+8>:     ldrb    r0, [r3, #0]\n   0x7f559c5a <+10>:    add     r4, pc\n=> 0x7f559c5c <+12>:    cbz     r0, 0x7f559c68 <jemalloc_constructor+24>\n   0x7f559c5e <+14>:    ldr     r1, [pc, #208]  ; (0x7f559d30 <jemalloc_constructor+224>)\n   0x7f559c60 <+16>:    add     r1, pc\n   0x7f559c62 <+18>:    ldr     r2, [r1, #0]\n```\n\n`/proc/cpuinfo`:\n\n```\nprocessor       : 0\nmodel name      : ARMv6-compatible processor rev 7 (v6l)\nBogoMIPS        : 2.00\nFeatures        : half thumb fastmult vfp edsp java tls \nCPU implementer : 0x41\nCPU architecture: 7\nCPU variant     : 0x0\nCPU part        : 0xb76\nCPU revision    : 7\n\nHardware        : BCM2708\nRevision        : 000d\nSerial          : 000000000d4fede5\n```\n\nThe gcc toolchain used to link the program can build runnable C program on this pi.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/31787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/31787/timeline", "performed_via_github_app": null, "state_reason": "completed"}