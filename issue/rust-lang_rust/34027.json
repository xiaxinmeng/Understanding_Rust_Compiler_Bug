{"url": "https://api.github.com/repos/rust-lang/rust/issues/34027", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34027/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34027/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34027/events", "html_url": "https://github.com/rust-lang/rust/issues/34027", "id": 158051477, "node_id": "MDU6SXNzdWUxNTgwNTE0Nzc=", "number": 34027, "title": "ICE in stable 1.9 - ERROR:rbml::reader: failed to find block with tag 32 | [Avoided by removing type decl from closure scope?]", "user": {"login": "mitchmindtree", "id": 4587373, "node_id": "MDQ6VXNlcjQ1ODczNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4587373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitchmindtree", "html_url": "https://github.com/mitchmindtree", "followers_url": "https://api.github.com/users/mitchmindtree/followers", "following_url": "https://api.github.com/users/mitchmindtree/following{/other_user}", "gists_url": "https://api.github.com/users/mitchmindtree/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitchmindtree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitchmindtree/subscriptions", "organizations_url": "https://api.github.com/users/mitchmindtree/orgs", "repos_url": "https://api.github.com/users/mitchmindtree/repos", "events_url": "https://api.github.com/users/mitchmindtree/events{/privacy}", "received_events_url": "https://api.github.com/users/mitchmindtree/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 13242248, "node_id": "MDU6TGFiZWwxMzI0MjI0OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-metadata", "name": "A-metadata", "color": "f7e101", "default": false, "description": "Area: crate metadata"}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}], "state": "closed", "locked": false, "assignee": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2016-06-02T03:17:50Z", "updated_at": "2016-08-02T09:18:45Z", "closed_at": "2016-07-07T20:25:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Version: `rustc 1.9.0 (e4e8b6668 2016-05-18)`. _Edit: According to travis this also occurs on the current nightly._\n\nSpecifically, the ICE occurs while compiling [this conrod example in this commit](https://github.com/mitchmindtree/conrod/blob/582a3845d872fc054d1a03f55fa3c38b098d4d20/examples/all_widgets.rs).\n\nCuriously, the ICE goes away when I remove the call to `.set` on the `TextBox` widget [here](https://github.com/mitchmindtree/conrod/blob/582a3845d872fc054d1a03f55fa3c38b098d4d20/examples/all_widgets.rs#L430). I've not yet been able to reduce this case, but will post again if I do.\n\nThis same code compiles without issues on 1.8 - the ICE only appeared after updating to 1.9.\n\nHere is the backtrace:\n\n```\nCompiling conrod v0.35.0 (file:///Users/Mitch/Programming/Rust/conrod)\nERROR:rbml::reader: failed to find block with tag 32\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'explicit panic', ../src/librbml/lib.rs:436\nstack backtrace:\n   1:        0x1138723a8 - std::sys::backtrace::tracing::imp::write::h4c73fcd3363076f5\n   2:        0x11387e7f5 - std::panicking::default_hook::_$u7b$$u7b$closure$u7d$$u7d$::h0422dbb3077e6747\n   3:        0x11387e32f - std::panicking::default_hook::haac48fa641db8fa2\n   4:        0x113842f86 - std::sys_common::unwind::begin_unwind_inner::h39d40f52add53ef7\n   5:        0x1136949a4 - std::sys_common::unwind::begin_unwind::hd78480d5ec5c51b2\n   6:        0x113692474 - rbml::reader::get_doc::hdb38d8b870a9741e\n   7:        0x10f99299d - rustc_metadata::decoder::item_name::h3555f424e252b80a\n   8:        0x10f9de58f - rustc_metadata::csearch::_<impl rustc..middle..cstore..CrateStore<'tcx> for cstore..CStore>::item_name::h5a2f704e44fa63dd\n   9:        0x11248552b - rustc::ty::item_path::_<impl ty..context..TyCtxt<'tcx>>::push_item_path::h2f534fe42b7ac460\n  10:        0x112485c67 - rustc::ty::item_path::_<impl ty..context..TyCtxt<'tcx>>::push_item_path::h2f534fe42b7ac460\n  11:        0x1122408d6 - rustc::ty::item_path::_<impl ty..context..TyCtxt<'tcx>>::item_path_str::hdfe5253566d88e9d\n  12:        0x10fe3febd - rustc_trans::type_of::llvm_type_name::hc7d62319533c1664\n  13:        0x10fd199ea - rustc_trans::type_of::in_memory_type_of::h3452b62d9f897a08\n  14:        0x10fd1db53 - rustc_trans::base::alloc_ty_init::h8fcff585abc6d109\n  15:        0x10fe18bad - rustc_trans::_match::mk_binding_alloca::hb33a12c04b932154\n  16:        0x10fd315c8 - rustc_trans::base::init_local::hc7657c54dfb70dae\n  17:        0x10fd47f3a - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  18:        0x10fdd9bf0 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  19:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  20:        0x10fd4821e - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  21:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  22:        0x10fd99287 - rustc_trans::closure::trans_closure_expr::ha3ce342c7e1142af\n  23:        0x10fddb1ca - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  24:        0x10fdd7f83 - rustc_trans::expr::trans_unadjusted::h0d70d7046e42f3dd\n  25:        0x10fd90708 - rustc_trans::expr::trans::h70c640c22e74aeac\n  26:        0x10fd8f38e - rustc_trans::callee::trans_args::h612d1760ca9c25c5\n  27:        0x10fd24a0d - rustc_trans::callee::Callee::call::h96992640d29984f5\n  28:        0x10fdd9b3f - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  29:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  30:        0x10fd4821e - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  31:        0x10fdd9bf0 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  32:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  33:        0x10fd4821e - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  34:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  35:        0x10fd99287 - rustc_trans::closure::trans_closure_expr::ha3ce342c7e1142af\n  36:        0x10fddb1ca - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  37:        0x10fdd7f83 - rustc_trans::expr::trans_unadjusted::h0d70d7046e42f3dd\n  38:        0x10fd90708 - rustc_trans::expr::trans::h70c640c22e74aeac\n  39:        0x10fd8f38e - rustc_trans::callee::trans_args::h612d1760ca9c25c5\n  40:        0x10fd24a0d - rustc_trans::callee::Callee::call::h96992640d29984f5\n  41:        0x10fdd9b3f - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  42:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  43:        0x10fd4821e - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  44:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  45:        0x10fd99287 - rustc_trans::closure::trans_closure_expr::ha3ce342c7e1142af\n  46:        0x10fddb1ca - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  47:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  48:        0x10fe18c54 - rustc_trans::_match::mk_binding_alloca::hb33a12c04b932154\n  49:        0x10fd315c8 - rustc_trans::base::init_local::hc7657c54dfb70dae\n  50:        0x10fd47f3a - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  51:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  52:        0x10fd48911 - rustc_trans::base::trans_fn::he1c838fa1dbfdc03\n  53:        0x10fd7b52e - rustc_trans::callee::get_fn::haaf760d478d95498\n  54:        0x10fd261b1 - rustc_trans::callee::Callee::def::he88e0427a7068fef\n  55:        0x10fd76ad0 - rustc_trans::callee::Callee::method_call::h48772eaa2f745a02\n  56:        0x10fdd9aa7 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  57:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  58:        0x10fdb5f62 - rustc_trans::controlflow::trans_stmt_semi::hcba83f2a6075f097\n  59:        0x10fd47f16 - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  60:        0x10fdd9bf0 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  61:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  62:        0x10fe18c54 - rustc_trans::_match::mk_binding_alloca::hb33a12c04b932154\n  63:        0x10fd315c8 - rustc_trans::base::init_local::hc7657c54dfb70dae\n  64:        0x10fd47f3a - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  65:        0x10fdd9bf0 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  66:        0x10fdd7f83 - rustc_trans::expr::trans_unadjusted::h0d70d7046e42f3dd\n  67:        0x10fd90708 - rustc_trans::expr::trans::h70c640c22e74aeac\n  68:        0x10fd31687 - rustc_trans::base::init_local::hc7657c54dfb70dae\n  69:        0x10fd47f3a - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  70:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  71:        0x10fd48911 - rustc_trans::base::trans_fn::he1c838fa1dbfdc03\n  72:        0x10fd7b52e - rustc_trans::callee::get_fn::haaf760d478d95498\n  73:        0x10fd25b27 - rustc_trans::callee::Callee::def::he88e0427a7068fef\n  74:        0x10fddb474 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  75:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  76:        0x10fdb5f62 - rustc_trans::controlflow::trans_stmt_semi::hcba83f2a6075f097\n  77:        0x10fd47f16 - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  78:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  79:        0x10fd48911 - rustc_trans::base::trans_fn::he1c838fa1dbfdc03\n  80:        0x10fd7b52e - rustc_trans::callee::get_fn::haaf760d478d95498\n  81:        0x10fd261b1 - rustc_trans::callee::Callee::def::he88e0427a7068fef\n  82:        0x10fd76ad0 - rustc_trans::callee::Callee::method_call::h48772eaa2f745a02\n  83:        0x10fdd9aa7 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  84:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  85:        0x10fdb5f62 - rustc_trans::controlflow::trans_stmt_semi::hcba83f2a6075f097\n  86:        0x10fd47f16 - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  87:        0x10fd46780 - rustc_trans::base::trans_closure::h3bda42021fe9c927\n  88:        0x10fd48911 - rustc_trans::base::trans_fn::he1c838fa1dbfdc03\n  89:        0x10fd7b52e - rustc_trans::callee::get_fn::haaf760d478d95498\n  90:        0x10fd261b1 - rustc_trans::callee::Callee::def::he88e0427a7068fef\n  91:        0x10fd76ad0 - rustc_trans::callee::Callee::method_call::h48772eaa2f745a02\n  92:        0x10fdd9aa7 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  93:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  94:        0x10fdb5f62 - rustc_trans::controlflow::trans_stmt_semi::hcba83f2a6075f097\n  95:        0x10fd47f16 - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n  96:        0x10fdd9bf0 - rustc_trans::expr::trans_rvalue_dps_unadjusted::hfc708f6d884d180a\n  97:        0x10fd50b35 - rustc_trans::expr::trans_into::h42fcfc33be1fd4c2\n  98:        0x10fe18c54 - rustc_trans::_match::mk_binding_alloca::hb33a12c04b932154\n  99:        0x10fd315c8 - rustc_trans::base::init_local::hc7657c54dfb70dae\n  100:        0x10fd47f3a - rustc_trans::controlflow::trans_block::hbf71b2a467189fc4\n ... <frames omitted>\n```\n\n_This could be related to #32696._\n", "closed_by": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34027/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34027/timeline", "performed_via_github_app": null, "state_reason": "completed"}