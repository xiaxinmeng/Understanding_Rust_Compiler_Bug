{"url": "https://api.github.com/repos/rust-lang/rust/issues/33904", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33904/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33904/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33904/events", "html_url": "https://github.com/rust-lang/rust/issues/33904", "id": 157186272, "node_id": "MDU6SXNzdWUxNTcxODYyNzI=", "number": 33904, "title": "Type Checker getting confused with constraints + ICE", "user": {"login": "CryZe", "id": 1451630, "node_id": "MDQ6VXNlcjE0NTE2MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1451630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CryZe", "html_url": "https://github.com/CryZe", "followers_url": "https://api.github.com/users/CryZe/followers", "following_url": "https://api.github.com/users/CryZe/following{/other_user}", "gists_url": "https://api.github.com/users/CryZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/CryZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CryZe/subscriptions", "organizations_url": "https://api.github.com/users/CryZe/orgs", "repos_url": "https://api.github.com/users/CryZe/repos", "events_url": "https://api.github.com/users/CryZe/events{/privacy}", "received_events_url": "https://api.github.com/users/CryZe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-05-27T11:26:01Z", "updated_at": "2016-05-29T19:00:20Z", "closed_at": "2016-05-29T15:51:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've written the same code in 2 different crates. One compiles perfectly fine, the other doesn't. Apparently the constraints on the function merge(!!) with the constraints of the other function and the type checker is getting really confused and errors out. If you look at the code, the constrained type Q does not come in contact with convex_hull::create in any way, yet it influences it. Removing Q from the function lets convex_hull::create compile just fine.\n\nAlso the compiler is complaining about a type called convex_hull::Vector3, which doesn't exist, it's called Vec3. Vec3 is actually a reexport of Vector3 as Vec3, which then got reexported again (and I think again). So maybe somewhere the type checker got confused by that and now thinks it needs to look for a type called Vector3. Not sure if that's related to the problem at all though, just seems like maybe another small bug.\n\n![http://i.imgur.com/DdOIt9t.png](http://i.imgur.com/DdOIt9t.png)\n", "closed_by": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33904/timeline", "performed_via_github_app": null, "state_reason": "completed"}