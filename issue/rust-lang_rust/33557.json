{"url": "https://api.github.com/repos/rust-lang/rust/issues/33557", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33557/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33557/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33557/events", "html_url": "https://github.com/rust-lang/rust/issues/33557", "id": 154274585, "node_id": "MDU6SXNzdWUxNTQyNzQ1ODU=", "number": 33557, "title": "CPU and RAM hog when compiling infinitely-sized enums", "user": {"login": "nabijaczleweli", "id": 6709544, "node_id": "MDQ6VXNlcjY3MDk1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6709544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nabijaczleweli", "html_url": "https://github.com/nabijaczleweli", "followers_url": "https://api.github.com/users/nabijaczleweli/followers", "following_url": "https://api.github.com/users/nabijaczleweli/following{/other_user}", "gists_url": "https://api.github.com/users/nabijaczleweli/gists{/gist_id}", "starred_url": "https://api.github.com/users/nabijaczleweli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nabijaczleweli/subscriptions", "organizations_url": "https://api.github.com/users/nabijaczleweli/orgs", "repos_url": "https://api.github.com/users/nabijaczleweli/repos", "events_url": "https://api.github.com/users/nabijaczleweli/events{/privacy}", "received_events_url": "https://api.github.com/users/nabijaczleweli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-05-11T15:37:06Z", "updated_at": "2016-05-11T18:00:21Z", "closed_at": "2016-05-11T18:00:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "rustc seems to hog memory and CPU at an alarming rate when faced with an infinitely-sized `enum`\n\nI tried this code:\n\n``` rust\nenum Expression {\n    Sum { augend: Expression, addend: Expression },\n    Difference { minuend: Expression, subtrahend: Expression },\n    Product { multiplier: Expression, multiplicand: Expression },\n    Quotient { numerator: Expression, denomenator: Expression },\n    Power { base: Expression, exponent: Expression }\n}\n\nfn main() {}\n```\n\nI expected to see this happen: compiler dies and spits out a nice error message.\n\nInstead, this happened:\nAfter only a couple of seconds I saw this: ![procexp SS](http://i.imgur.com/QGIb3bL.png) (CPU usage is per-hyperthread, so that's actually 100% of one). The compiler responds to Ctrl+C.\n## Meta\n\n`rustc --version --verbose`:\n\n```\nrustc 1.8.0 (db2939409 2016-04-11)\nbinary: rustc\ncommit-hash: db2939409db26ab4904372c82492cd3488e4c44e\ncommit-date: 2016-04-11\nhost: x86_64-pc-windows-gnu\nrelease: 1.8.0\n```\n\nOS: Win10\n\nBacktrace: N/A\n", "closed_by": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33557/timeline", "performed_via_github_app": null, "state_reason": "completed"}