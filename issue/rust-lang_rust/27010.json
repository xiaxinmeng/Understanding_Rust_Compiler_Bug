{"url": "https://api.github.com/repos/rust-lang/rust/issues/27010", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27010/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27010/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27010/events", "html_url": "https://github.com/rust-lang/rust/issues/27010", "id": 94698823, "node_id": "MDU6SXNzdWU5NDY5ODgyMw==", "number": 27010, "title": "Buildbot Request: Add one `--enable-debug --enable-optimize` bot that at least bootstraps (no tests)", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2015-07-13T11:25:01Z", "updated_at": "2015-10-21T11:13:46Z", "closed_at": "2015-10-20T22:55:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Spawned off of #26484\n\nJust as it is important to developers that we try to avoid injecting test regressions (and thus we have bors check that the regression test suite passes before every commit to master), it is also important to developers that the debug-enabled build of `rustc` actually be able to bootstrap.\n\nUnfortunately, none of the current bots build with `--enable-debug`.  This is justifiable as a default setting, since it is more important to ensure that Rust work in its \"release\" configuration, and for that, the default of `--disable-debug --enable-optimize` for the bots makes sense.  However, it also means that none of the bots are ensuring that `rustc` can bootstrap under a `--enable-debug` configuration.\n\n---\n\nFallback Idea: if it is determined that `--enable-debug` is too slow for a bot, even if it just doing a bootstrap (and not running the test suite), then as a fallback we could instead just do the build with `RUST_FLAGS=-g`; this would also address the problem that was exposed by #26484, I think.  I have not checked that latter claim formally, but based on the investigation, it seems like it is a problem solely with mixing `-g` and LLVM assertions, which are enabled on the nightly channel IIRC, and not e.g. with the assertions and consistency checks injected by a `--enable-debug` build.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27010/timeline", "performed_via_github_app": null, "state_reason": "completed"}