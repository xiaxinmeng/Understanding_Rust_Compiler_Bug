{"url": "https://api.github.com/repos/rust-lang/rust/issues/88753", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/88753/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/88753/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/88753/events", "html_url": "https://github.com/rust-lang/rust/issues/88753", "id": 991386950, "node_id": "MDU6SXNzdWU5OTEzODY5NTA=", "number": 88753, "title": "RUSTC no output on WSL1", "user": {"login": "bbulkow", "id": 21944, "node_id": "MDQ6VXNlcjIxOTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/21944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bbulkow", "html_url": "https://github.com/bbulkow", "followers_url": "https://api.github.com/users/bbulkow/followers", "following_url": "https://api.github.com/users/bbulkow/following{/other_user}", "gists_url": "https://api.github.com/users/bbulkow/gists{/gist_id}", "starred_url": "https://api.github.com/users/bbulkow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bbulkow/subscriptions", "organizations_url": "https://api.github.com/users/bbulkow/orgs", "repos_url": "https://api.github.com/users/bbulkow/repos", "events_url": "https://api.github.com/users/bbulkow/events{/privacy}", "received_events_url": "https://api.github.com/users/bbulkow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-09-08T17:53:23Z", "updated_at": "2021-10-13T23:13:44Z", "closed_at": "2021-09-10T05:28:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nThis is not a report of the widely discussed RUSTUP issues last year on WSL1.\r\n\r\nI am recently new to rust, and a big user of WSL. Rust installs according to the standard means just fine on WSL1 and WSL2, Ubuntu 20 LTS. \r\n\r\nHowever, simply running 'rustc' with no arguments (not trying to compile, not trying to update, nothing) results in perfect actions in my WSL2 environment, and no output at all in my WSL1 environment. `rustc --version` outputs... nothing.\r\n\r\nrustc is 1.54.0 stable, Windows is Win 11 beta as of 9/8/21 (can dredge up exact latest KB applied). WSL is Ubuntu 20 from the app store, but run in WSL1 mode. uname is: Linux SUPERFLY 4.4.0-22000-Microsoft #1-Microsoft Fri Jun 04 16:28:00 PST 2021 x86_64 x86_64 x86_64 GNU/Linux Hardware is a Dell XPS 17. \r\n\r\nAll my usual tests of the WSL1 install work fine (my embedded toolchain, python), the same exact install path in WSL2 of rust works fine.\r\n\r\nThis happened in two different installs, one fresh, one not fresh (long story). The fresh install is fairly minimal (required compilers but not all the cruft I've accumulated in prior installs.... you know how it goes :-)....)\r\n\r\nPlease let me know what further information I can provide. \r\n\r\nThere are no backtraces or panic, just no output, which rather limits most standard bug reports. Even 'rustc --version' emits silence. Doesn't hang - the command returns promptly - but outputs literally nothing.\r\n\r\nBackground:\r\n\r\nYou might ask why I'm using WSL1. In other testing (ESP-IDF compiles for ESP32), I found that WSL1 was nearly 10x faster for compiling embedded projects. This is because NTFS is faster, much faster, because WSL1 isn't running through Linux's NTFS system. I want/need to use NTFS files because the point is I need my editing tools to work. And, WSL1 gives access to the serial port, drop dead necessary for embedded programming as well. But, WSL2 now has graphics, and I would like to test its compile speed, so I have both installed. I might end up using WSL2 more if I can sort the serial issue, and WSL2 does work with Rust, but I think WSL1 is unfairly maligned because it has a lower number - this causes me to like to help make WSL1 work :-)\r\n\r\nSoapbox - WSL1 is closer to the true promise of WSL - it's a command shell for windows and doesn't bring along its own requirements for file systems or anything else - which does expose \"edges\" like dd not working and no real path to graphics working. WSL2 is much closer to a docker container, works best on its own local files, but it doesn't have the manageability or ecosystem or cross-platform nature of Docker. WSL keeps improving, I see WSL1 and WSL2 are now exporting their local file systems into the main Windows area, so some of these reasons are vanishing, but I find WSL1 fills a critical desire in my development environment at the moment.\r\n\r\nPowershell 7 works great with rust on this same machine, and is super fast. I'm using that more substantially now, regardless of the lousy '.exe' required all over the place. \r\n\r\n", "closed_by": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/88753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/88753/timeline", "performed_via_github_app": null, "state_reason": "completed"}