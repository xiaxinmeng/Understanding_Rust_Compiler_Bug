{"url": "https://api.github.com/repos/rust-lang/rust/issues/25732", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25732/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25732/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25732/events", "html_url": "https://github.com/rust-lang/rust/issues/25732", "id": 79828568, "node_id": "MDU6SXNzdWU3OTgyODU2OA==", "number": 25732, "title": "rustc crashes while compiling my experimental kernel (index out of bounds panic)", "user": {"login": "ababo", "id": 503292, "node_id": "MDQ6VXNlcjUwMzI5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/503292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ababo", "html_url": "https://github.com/ababo", "followers_url": "https://api.github.com/users/ababo/followers", "following_url": "https://api.github.com/users/ababo/following{/other_user}", "gists_url": "https://api.github.com/users/ababo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ababo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ababo/subscriptions", "organizations_url": "https://api.github.com/users/ababo/orgs", "repos_url": "https://api.github.com/users/ababo/repos", "events_url": "https://api.github.com/users/ababo/events{/privacy}", "received_events_url": "https://api.github.com/users/ababo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-23T12:09:47Z", "updated_at": "2015-05-26T18:57:57Z", "closed_at": "2015-05-26T17:06:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "The bug appeared since built 2015-05-02 (carefully checked). Here is the output for this build:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'index out of bounds: the len is 70 but the index is 70', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcollections/vec.rs:1349\n\nstack backtrace:\n   1:     0x2b070bd67ee9 - sys::backtrace::write::h9d474f8e9af32ff4eas\n   2:     0x2b070bd6fa29 - panicking::on_panic::h780bc016e25d560eHOw\n   3:     0x2b070bd30a52 - rt::unwind::begin_unwind_inner::he10b5af763481bfaRtw\n   4:     0x2b070bd31817 - rt::unwind::begin_unwind_fmt::h9bb9f2d65e37b92bXsw\n   5:     0x2b070bd6f606 - rust_begin_unwind\n   6:     0x2b070bdbbdd4 - panicking::panic_fmt::h11c0222b0ca0e381hJy\n   7:     0x2b070bdc60bc - panicking::panic_bounds_check::he71f2efcc0ad7c8bnIy\n   8:     0x2b070dbe05e9 - middle::lang_items::LanguageItemCollector<'a>::collect_item::hffbd84ccf0676757NTB\n   9:     0x2b070dbe3d0d - middle::lang_items::collect_language_items::hbb4d88a5751ae1c2zXB\n  10:     0x2b070b998dd6 - driver::phase_3_run_analysis_passes::h876ca40ef22f652btGa\n  11:     0x2b070b97bfec - driver::compile_input::h19dbb81f9d079a10Qba\n  12:     0x2b070ba34dc1 - run_compiler::h6fdcc5ae4819da2c65b\n  13:     0x2b070ba32612 - boxed::F.FnBox<A>::call_box::h15867338134671801927\n  14:     0x2b070ba31bd9 - rt::unwind::try::try_fn::h10571205104630549427\n  15:     0x2b070bde32f8 - rust_try_inner\n  16:     0x2b070bde32e5 - rust_try\n  17:     0x2b070ba31e74 - boxed::F.FnBox<A>::call_box::h11752498478748955554\n  18:     0x2b070bd6e7c1 - sys::thread::Thread::new::thread_start::h9f92b31902592327dAv\n  19:     0x2b0711ef0181 - start_thread\n  20:     0x2b070c37847c - __clone\n  21:                0x0 - <unknown>\n```\n\nWith current nightly version I get the different output:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'assertion failed: `(left == right)` (left: `60789`, right: `60794`)', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/librbml/lib.rs:462\n\nstack backtrace:\n   1:     0x2b4b4f916169 - sys::backtrace::write::h4052d6a51ba10f8105r\n   2:     0x2b4b4f91e0b9 - panicking::on_panic::h90cadee2464dd3b41Kw\n   3:     0x2b4b4f8df192 - rt::unwind::begin_unwind_inner::ha0307b6be50a7723bqw\n   4:     0x2b4b4f8dff27 - rt::unwind::begin_unwind_fmt::hb83f1cf97f4362d4hpw\n   5:     0x2b4b565fbb24 - reader::doc_as_u64::h909934356f9014c5HNa\n   6:     0x2b4b518b6507 - metadata::decoder::translated_def_id::h27b3403b26a49f9edxj\n   7:     0x2b4b50664b7e - build_reduced_graph::GraphBuilder<'a, 'b, 'tcx>::build_reduced_graph_for_item::hfad93f34f73d6f31hSa\n   8:     0x2b4b5065f56f - build_reduced_graph::BuildReducedGraphVisitor<'a, 'b, 'tcx>.Visitor<'v>::visit_item::h5827d119cd5f21d5MNb\n   9:     0x2b4b506b4c6a - resolve_crate::h9b28f68538793170iai\n  10:     0x2b4b4f5449c2 - driver::phase_3_run_analysis_passes::h83b5112ae07f494ftGa\n  11:     0x2b4b4f52a0cc - driver::compile_input::h0a7842b43c159d70Qba\n  12:     0x2b4b4f5e0011 - run_compiler::hb2dfa1770188c5e175b\n  13:     0x2b4b4f5dd862 - boxed::F.FnBox<A>::call_box::h10739628233630710986\n  14:     0x2b4b4f5dce29 - rt::unwind::try::try_fn::h12004866116241301408\n  15:     0x2b4b4f9967c8 - rust_try_inner\n  16:     0x2b4b4f9967b5 - rust_try\n  17:     0x2b4b4f5dd0c4 - boxed::F.FnBox<A>::call_box::h9242018289459349633\n  18:     0x2b4b4f91ce51 - sys::thread::Thread::new::thread_start::he4baa243e39f5dd6ixv\n  19:     0x2b4b55ab5181 - start_thread\n  20:     0x2b4b4ff2c47c - __clone\n  21:                0x0 - <unknown>\n```\n\nReproduced in Ubuntu 14.04 with code from [here](https://github.com/ababo/toy/tree/f97794b3a4fe1d1a6626102895e9aea15d449866).\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25732/timeline", "performed_via_github_app": null, "state_reason": "completed"}