{"url": "https://api.github.com/repos/rust-lang/rust/issues/57120", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57120/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57120/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57120/events", "html_url": "https://github.com/rust-lang/rust/issues/57120", "id": 394004009, "node_id": "MDU6SXNzdWUzOTQwMDQwMDk=", "number": 57120, "title": "Nightly broken with pear_codegen ( & rocket ? )", "user": {"login": "Asone", "id": 441960, "node_id": "MDQ6VXNlcjQ0MTk2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/441960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Asone", "html_url": "https://github.com/Asone", "followers_url": "https://api.github.com/users/Asone/followers", "following_url": "https://api.github.com/users/Asone/following{/other_user}", "gists_url": "https://api.github.com/users/Asone/gists{/gist_id}", "starred_url": "https://api.github.com/users/Asone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Asone/subscriptions", "organizations_url": "https://api.github.com/users/Asone/orgs", "repos_url": "https://api.github.com/users/Asone/repos", "events_url": "https://api.github.com/users/Asone/events{/privacy}", "received_events_url": "https://api.github.com/users/Asone/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-25T10:38:29Z", "updated_at": "2018-12-27T20:43:06Z", "closed_at": "2018-12-27T20:43:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\n## version information \r\n```\r\nrustup 1.16.0 (beab5ac2b 2018-12-06)\r\ncargo 1.33.0-nightly (2cf1f5dda 2018-12-11)\r\nrustc 1.33.0-nightly (ddab10a69 2018-12-23)\r\n```\r\n\r\n## description of bug\r\n\r\nLately in a rust project it seems our pipe has broken with last versions of rust nightly, Rocket and Pear_codegen. \r\n\r\nAfter a few research it seems we have a problem kind of similar with the [following issue](https://github.com/SergioBenitez/Rocket/issues/507) which attributed the break to rust nightly so i open up the issue here. If i'm wrong feel free to close the issue. \r\n\r\nI've tried to build up a docker container with the same parameters used in the pipe and get the same problem. \r\n\r\nHere's the stacktrace : \r\n\r\n```\r\nerror[E0599]: no variant named `concat` found for type `syntax::tokenstream::TokenStream` in the current scope\r\n   --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/pear_codegen-0.0.20/src/lib.rs:330:54\r\n    |\r\n330 |                 mac.node.tts = ThinTokenStream::from(TokenStream::concat(streams));\r\n    |                                                      ^^^^^^^^^^^^^^^^^^^ variant not found in `syntax::tokenstream::TokenStream`\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0599`.\r\nerror: Could not compile `pear_codegen`.\r\n```\r\n\r\nyou can check the pipe and errors more in details [here](https://framagit.org/tricoteuses/tricoteuses-api-assemblee/-/jobs/293879) for a specific build and [here](https://framagit.org/tricoteuses/tricoteuses-api-assemblee/pipelines) for the history of builds. \r\n\r\nI've been checking [this file]() as it seemed referenced in the stacktrace :\r\n```\r\n/usr/local/cargo/registry/src/github.com-1ecc6299db9ec823/pear_codegen-0.0.20/src/lib.rs:330:54\r\n```\r\n\r\nHowever the file doesn't seem to be the right one as there is no line n\u00b0330.  \r\n\r\nUnfortunately my knowledge of rust is not extended enough to provide with deeper knowledge of the bug. If there's any additional information that you need me to provide, please feel free to notify me. \r\n\r\nAlso, any explanation to understand how this happens/how to fix that kind of issues is welcome in order to give help if i can. \r\n\r\nThank you. \r\n\r\nP.S : i'll open a similar issue on pear repo in order to notify of the bug and get it fixed if it comes from there. \r\n\r\n", "closed_by": {"login": "Asone", "id": 441960, "node_id": "MDQ6VXNlcjQ0MTk2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/441960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Asone", "html_url": "https://github.com/Asone", "followers_url": "https://api.github.com/users/Asone/followers", "following_url": "https://api.github.com/users/Asone/following{/other_user}", "gists_url": "https://api.github.com/users/Asone/gists{/gist_id}", "starred_url": "https://api.github.com/users/Asone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Asone/subscriptions", "organizations_url": "https://api.github.com/users/Asone/orgs", "repos_url": "https://api.github.com/users/Asone/repos", "events_url": "https://api.github.com/users/Asone/events{/privacy}", "received_events_url": "https://api.github.com/users/Asone/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57120/timeline", "performed_via_github_app": null, "state_reason": "completed"}