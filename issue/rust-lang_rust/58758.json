{"url": "https://api.github.com/repos/rust-lang/rust/issues/58758", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/58758/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/58758/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/58758/events", "html_url": "https://github.com/rust-lang/rust/issues/58758", "id": 414717545, "node_id": "MDU6SXNzdWU0MTQ3MTc1NDU=", "number": 58758, "title": "same rust version could work on linux but could not work on mac", "user": {"login": "yunfengsay", "id": 15527378, "node_id": "MDQ6VXNlcjE1NTI3Mzc4", "avatar_url": "https://avatars.githubusercontent.com/u/15527378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunfengsay", "html_url": "https://github.com/yunfengsay", "followers_url": "https://api.github.com/users/yunfengsay/followers", "following_url": "https://api.github.com/users/yunfengsay/following{/other_user}", "gists_url": "https://api.github.com/users/yunfengsay/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunfengsay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunfengsay/subscriptions", "organizations_url": "https://api.github.com/users/yunfengsay/orgs", "repos_url": "https://api.github.com/users/yunfengsay/repos", "events_url": "https://api.github.com/users/yunfengsay/events{/privacy}", "received_events_url": "https://api.github.com/users/yunfengsay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-26T17:00:51Z", "updated_at": "2019-02-27T05:10:27Z", "closed_at": "2019-02-27T05:10:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "use the same code and dependencies  I can run it on centos but can not run on mac , so may be it is rust self problem \r\nboth Cargo.toml is\r\n\r\n```[package]\r\nname = \"rocket_ping\"\r\nversion = \"0.1.0\"\r\nauthors = [\"xxx\"]\r\nedition = \"2018\"\r\n\r\n[dependencies]\r\nrocket = { git = \"https://github.com/SergioBenitez/Rocket.git\"  }\r\nrocket_codegen = { git = \"https://github.com/SergioBenitez/Rocket.git\"  }\r\nrocket_contrib = { git = \"https://github.com/SergioBenitez/Rocket.git\", default-features = false, features = [\"tera_templates\"]  }\r\n```\r\n\r\nand both code is \r\n\r\n```#[cfg(test)] mod tests;\r\n\r\n#[get(\"/api/v1\")]\r\nfn ping() -> &'static str {\r\n        \"pong\"\r\n\r\n}\r\n\r\nfn main() {\r\n        rocket::ignite().mount(\"/\", routes![ping]).launch();\r\n\r\n}\r\n```\r\n### centos\r\n\r\n![image](https://user-images.githubusercontent.com/15527378/53431070-c6365e00-3a2a-11e9-92f4-771f366aaa79.png)\r\n\r\n\r\n\r\n### But not work on mac who can help me\r\n```$ rustc --version                                        \r\nrustc 1.34.0-nightly (00aae71f5 2019-02-25)\r\n------------------------------------------------------------\r\n$ cargo clean                    \r\n------------------------------------------------------------\r\n$ cargo run                                              \r\nwarning: custom registry support via the `registry.index` configuration is being removed, this functionality will not work in the future\r\n   Compiling proc-macro2 v0.4.27 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unicode-xid v0.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling byteorder v1.3.1 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling smallvec v0.6.9 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling cfg-if v0.1.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling yansi v0.4.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling cc v1.0.29 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling libc v0.2.49 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling matches v0.1.8 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling version_check v0.1.5 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling httparse v1.3.3 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling safemem v0.3.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling bitflags v1.0.4 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling percent-encoding v1.0.1 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling ucd-trie v0.1.1 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling untrusted v0.6.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling autocfg v0.1.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling memchr v2.2.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling num-traits v0.2.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling maplit v1.0.1 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unic-char-range v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unic-common v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling language-tags v0.2.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling serde v1.0.88 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling traitobject v0.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling num-integer v0.1.39 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling ryu v0.2.7 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling typeable v0.1.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling yansi v0.5.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling indexmap v1.0.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling state v0.4.1 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling lazy_static v1.2.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling rustc-demangle v0.1.13 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling ucd-util v0.1.3 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling regex v1.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling bitflags v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling itoa v0.4.3 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling utf8-ranges v1.0.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling deunicode v0.4.3 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling same-file v1.0.4 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling glob v0.2.11 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling humansize v1.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling log v0.4.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unicode-bidi v0.3.4 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unicase v1.4.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unicode-normalization v0.1.8 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling pear_codegen v0.1.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unic-char-property v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unic-ucd-version v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling pest v2.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling backtrace v0.3.14 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling ring v0.13.5 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling thread_local v0.3.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling rocket_codegen v0.4.0 (https://github.com/SergioBenitez/Rocket.git#c86f4312)\r\n   Compiling rocket v0.4.0 (https://github.com/SergioBenitez/Rocket.git#c86f4312)\r\n   Compiling walkdir v2.2.7 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling regex-syntax v0.6.5 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling slug v0.1.4 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling log v0.3.9 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unic-ucd-segment v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling mime v0.2.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling num_cpus v1.10.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling time v0.1.42 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling fsevent-sys v0.1.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling filetime v0.2.4 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling isatty v0.1.9 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling base64 v0.9.3 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling base64 v0.10.1 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling quote v0.6.11 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling pest_meta v2.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling unic-segment v0.7.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling aho-corasick v0.6.10 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling fsevent v0.2.17 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling syn v0.15.26 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling error-chain v0.12.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling notify v4.0.9 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling chrono v0.4.6 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling idna v0.1.5 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling url v1.7.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling cookie v0.11.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling hyper v0.10.15 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling serde_json v1.0.38 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling toml v0.4.10 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling devise_core v0.2.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling pest_generator v2.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling devise_codegen v0.2.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling pest_derive v2.1.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling pear v0.1.2 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling tera v0.11.20 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling rocket_http v0.4.0 (https://github.com/SergioBenitez/Rocket.git#c86f4312)\r\n   Compiling devise v0.2.0 (registry `https://mirrors.ustc.edu.cn/crates.io-index/`)\r\n   Compiling rocket_contrib v0.4.0 (https://github.com/SergioBenitez/Rocket.git#c86f4312)\r\n   Compiling rocket_ping v0.1.0 (/Users/zhangyunfeng/code/rust/rocket_ping)\r\nerror[E0658]: The attribute `get` is currently unknown to the compiler and may have meaning added to it in the future (see issue #29642)\r\n --> src/main.rs:3:3\r\n  |\r\n3 | #[get(\"/api/v1\")]\r\n  |   ^^^\r\n  |\r\n  = help: add #![feature(custom_attribute)] to the crate attributes to enable\r\n\r\nerror: cannot find macro `routes!` in this scope\r\n  --> src/main.rs:10:37\r\n   |\r\n10 |         rocket::ignite().mount(\"/\", routes![ping]).launch();\r\n   |                                     ^^^^^^\r\n\r\nerror: aborting due to 2 previous errors\r\n\r\nFor more information about this error, try `rustc --explain E0658`.\r\nerror: Could not compile `rocket_ping`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n------------------------------------\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/15527378/53431131-e108d280-3a2a-11e9-8664-67632958ca62.png)\r\n", "closed_by": {"login": "yunfengsay", "id": 15527378, "node_id": "MDQ6VXNlcjE1NTI3Mzc4", "avatar_url": "https://avatars.githubusercontent.com/u/15527378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunfengsay", "html_url": "https://github.com/yunfengsay", "followers_url": "https://api.github.com/users/yunfengsay/followers", "following_url": "https://api.github.com/users/yunfengsay/following{/other_user}", "gists_url": "https://api.github.com/users/yunfengsay/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunfengsay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunfengsay/subscriptions", "organizations_url": "https://api.github.com/users/yunfengsay/orgs", "repos_url": "https://api.github.com/users/yunfengsay/repos", "events_url": "https://api.github.com/users/yunfengsay/events{/privacy}", "received_events_url": "https://api.github.com/users/yunfengsay/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/58758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/58758/timeline", "performed_via_github_app": null, "state_reason": "completed"}