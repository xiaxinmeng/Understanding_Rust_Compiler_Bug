{"url": "https://api.github.com/repos/rust-lang/rust/issues/66397", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/66397/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/66397/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/66397/events", "html_url": "https://github.com/rust-lang/rust/issues/66397", "id": 522564496, "node_id": "MDU6SXNzdWU1MjI1NjQ0OTY=", "number": 66397, "title": "Large locals can cause OOMs during the `ConstProp` pass", "user": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 256133398, "node_id": "MDU6TGFiZWwyNTYxMzMzOTg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-mir", "name": "A-mir", "color": "f7e101", "default": false, "description": "Area: Mid-level IR (MIR) - https://blog.rust-lang.org/2016/04/19/MIR.html"}, {"id": 262252628, "node_id": "MDU6TGFiZWwyNjIyNTI2Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-beta", "name": "regression-from-stable-to-beta", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to beta."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-14T01:14:56Z", "updated_at": "2019-11-17T02:06:58Z", "closed_at": "2019-11-17T02:06:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The following ICEs on beta and nightly:\r\n\r\n```rust\r\nfn main() {\r\n    [0; 4 * 1024 * 1024 * 1024 * 1024];\r\n}\r\n```\r\n\r\n([playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=949311d922ea1cb02feb2a917149511b))\r\n\r\n<details> <summary> gdb backtrace </summary>\r\n\r\n```\r\n#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\r\n#1  0x00007ffff3de055d in __GI_abort () at abort.c:79\r\n#2  0x00007ffff403f9e7 in std::sys::unix::abort_internal () at src/libstd/sys/unix/mod.rs:155\r\n#3  0x00007ffff402612d in rust_oom (layout=...) at src/libstd/alloc.rs:217\r\n#4  0x00007ffff405de67 in alloc::alloc::handle_alloc_error (layout=...) at src/liballoc/alloc.rs:247\r\n#5  0x00007ffff58a9f56 in alloc::raw_vec::RawVec<T,A>::allocate_in (capacity=17592186044416, zeroed=255, a=...) at /home/wesley/code/rust/rust/src/liballoc/raw_vec.rs:102\r\n#6  alloc::raw_vec::RawVec<T>::with_capacity_zeroed (capacity=17592186044416) at /home/wesley/code/rust/rust/src/liballoc/raw_vec.rs:173\r\n#7  <u8 as alloc::vec::SpecFromElem>::from_elem (elem=0, n=17592186044416) at /home/wesley/code/rust/rust/src/liballoc/vec.rs:1715\r\n#8  alloc::vec::from_elem (elem=0, n=17592186044416) at /home/wesley/code/rust/rust/src/liballoc/vec.rs:1694\r\n#9  rustc::mir::interpret::allocation::Allocation<Tag>::undef (size=..., align=...) at <::alloc::macros::vec macros>:1\r\n#10 0x00007ffff5247c50 in rustc_mir::interpret::memory::Memory<M>::allocate (self=0x7ffff3b55068, size=..., align=..., kind=rustc_mir::interpret::memory::MemoryKind::Stack)\r\n    at src/librustc_mir/interpret/memory.rs:172\r\n#11 0x00007ffff528be1e in rustc_mir::interpret::place::<impl rustc_mir::interpret::eval_context::InterpCx<M>>::force_allocation_maybe_sized (self=<optimized out>, place=..., meta=...)\r\n    at src/librustc_mir/interpret/place.rs:994\r\n#12 0x00007ffff52af57f in rustc_mir::interpret::place::<impl rustc_mir::interpret::eval_context::InterpCx<M>>::force_allocation (self=0x7ffff3b55040, place=...) at src/librustc_mir/interpret/place.rs:1023\r\n#13 rustc_mir::interpret::step::<impl rustc_mir::interpret::eval_context::InterpCx<M>>::eval_rvalue_into_place (self=0x7ffff3b55040, rvalue=<optimized out>, place=<optimized out>)\r\n    at src/librustc_mir/interpret/step.rs:210\r\n#14 0x00007ffff54ab6f4 in rustc_mir::transform::const_prop::ConstPropagator::const_prop::{{closure}} (this=0x7ffff3b55040) at src/librustc_mir/transform/const_prop.rs:578\r\n#15 rustc_mir::transform::const_prop::ConstPropagator::use_ecx (self=0x7ffff3b55040, source_info=..., f=...) at src/librustc_mir/transform/const_prop.rs:394\r\n--Type <RET> for more, q to quit, c to continue without paging--c\r\n#16 0x00007ffff52ede17 in rustc_mir::transform::const_prop::ConstPropagator::const_prop (self=0x7ffff3b55040, rvalue=<optimized out>, place_layout=..., source_info=..., place=<optimized out>) at src/librustc_mir/transform/const_prop.rs:576\r\n#17 <rustc_mir::transform::const_prop::ConstPropagator as rustc::mir::visit::MutVisitor>::visit_statement (self=0x7ffff3b55040, statement=<optimized out>, location=...) at src/librustc_mir/transform/const_prop.rs:746\r\n#18 0x00007ffff54a7493 in rustc::mir::visit::MutVisitor::super_basic_block_data (self=0x7ffff3b55040, block=..., data=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/mir/visit.rs:297\r\n#19 rustc::mir::visit::MutVisitor::visit_basic_block_data (self=0x7ffff3b55040, block=..., data=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/mir/visit.rs:81\r\n#20 rustc::mir::visit::MutVisitor::super_body (self=<optimized out>, body=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/mir/visit.rs:255\r\n#21 rustc::mir::visit::MutVisitor::visit_body (self=0x7ffff3b55040, body=0x7ffff3b55b68) at /home/wesley/code/rust/rust/src/librustc/mir/visit.rs:75\r\n#22 0x00007ffff52ebca3 in <rustc_mir::transform::const_prop::ConstProp as rustc_mir::transform::MirPass>::run_pass (self=<optimized out>, tcx=..., source=..., body=<optimized out>) at src/librustc_mir/transform/const_prop.rs:108\r\n#23 0x00007ffff53289de in rustc_mir::transform::run_passes::{{closure}} (pass=...) at src/librustc_mir/transform/mod.rs:175\r\n#24 rustc_mir::transform::run_passes (tcx=..., body=0x7ffff3b55b68, instance=..., promoted=..., mir_phase=rustc::mir::MirPhase::Optimized, passes=...) at src/librustc_mir/transform/mod.rs:182\r\n#25 0x00007ffff5329a6b in rustc_mir::transform::run_optimization_passes (tcx=..., body=0x7ffff3b55b68, def_id=..., promoted=...) at src/librustc_mir/transform/mod.rs:231\r\n#26 0x00007ffff5329e4b in rustc_mir::transform::optimized_mir (tcx=..., def_id=...) at src/librustc_mir/transform/mod.rs:301\r\n#27 0x00007ffff6bad49b in rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::optimized_mir>::compute (tcx=..., key=...) at src/librustc/ty/query/plumbing.rs:944\r\n#28 0x00007ffff6773a18 in rustc::dep_graph::graph::DepGraph::with_task_impl (self=<optimized out>, key=..., cx=..., arg=..., no_tcx=false, task=0x7ffff6bad480 <rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::optimized_mir>::compute>, create_task=0x7ffff6743c20 <core::ops::function::FnOnce::call_once>, finish_task_and_alloc_depnode=0x7ffff6743cf0 <core::ops::function::FnOnce::call_once>, hash_result=<optimized out>) at src/librustc/dep_graph/graph.rs:322\r\n#29 0x00007ffff6a11d26 in rustc::dep_graph::graph::DepGraph::with_task (self=0x2, cx=..., arg=..., task=0x7ffff3b53c10, key=..., hash_result=<optimized out>) at src/librustc/dep_graph/graph.rs:198\r\n#30 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::force_query_with_job::{{closure}}::{{closure}} (tcx=...) at src/librustc/ty/query/plumbing.rs:526\r\n#31 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::start_query::{{closure}}::{{closure}} () at src/librustc/ty/query/plumbing.rs:258\r\n#32 rustc::ty::context::tls::enter_context::{{closure}} () at src/librustc/ty/context.rs:1861\r\n#33 rustc::ty::context::tls::set_tlv (value=<optimized out>, f=...) at src/librustc/ty/context.rs:1794\r\n#34 rustc::ty::context::tls::enter_context (context=<optimized out>, f=...) at src/librustc/ty/context.rs:1860\r\n#35 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::start_query::{{closure}} (current_icx=<optimized out>) at src/librustc/ty/query/plumbing.rs:257\r\n#36 rustc::ty::context::tls::with_related_context::{{closure}} (context=<optimized out>) at src/librustc/ty/context.rs:1967\r\n#37 rustc::ty::context::tls::with_context::{{closure}} (opt_context=...) at src/librustc/ty/context.rs:1950\r\n#38 rustc::ty::context::tls::with_context_opt (f=...) at src/librustc/ty/context.rs:1939\r\n#39 rustc::ty::context::tls::with_context (f=...) at src/librustc/ty/context.rs:1950\r\n#40 rustc::ty::context::tls::with_related_context (f=..., tcx=...) at src/librustc/ty/context.rs:1963\r\n#41 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::start_query (job=..., diagnostics=..., compute=..., self=...) at src/librustc/ty/query/plumbing.rs:246\r\n#42 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::force_query_with_job::{{closure}} (diagnostics=...) at src/librustc/ty/query/plumbing.rs:518\r\n#43 rustc::ty::query::plumbing::with_diagnostics (f=...) at src/librustc/ty/query/plumbing.rs:191\r\n#44 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::force_query_with_job (self=..., key=..., job=..., dep_node=...) at src/librustc/ty/query/plumbing.rs:517\r\n#45 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query (self=..., span=..., key=...) at src/librustc/ty/query/plumbing.rs:354\r\n#46 0x00007ffff51e2373 in rustc_mir::monomorphize::collector::collect_neighbours (tcx=..., instance=..., output=0x7ffff3b56838) at src/librustc_mir/monomorphize/collector.rs:1254\r\n#47 rustc_mir::monomorphize::collector::collect_items_rec (tcx=..., starting_point=..., visited=0x7ffff3b56b10, recursion_depths=0x7ffff3b568b8, inlining_map=0x7ffff3b56a50) at src/librustc_mir/monomorphize/collector.rs:403\r\n#48 0x00007ffff5265bfb in rustc_mir::monomorphize::collector::collect_crate_mono_items::{{closure}}::{{closure}} (root=...) at src/librustc_mir/monomorphize/collector.rs:311\r\n#49 core::iter::traits::iterator::Iterator::for_each::call::{{closure}} (item=...) at /home/wesley/code/rust/rust/src/libcore/iter/traits/iterator.rs:628\r\n#50 core::iter::traits::iterator::Iterator::fold::ok::{{closure}} (acc=<optimized out>, x=...) at /home/wesley/code/rust/rust/src/libcore/iter/traits/iterator.rs:1828\r\n#51 core::iter::traits::iterator::Iterator::try_fold (self=0x7ffff3b56898, f=..., init=<optimized out>) at /home/wesley/code/rust/rust/src/libcore/iter/traits/iterator.rs:1709\r\n#52 core::iter::traits::iterator::Iterator::fold (self=..., f=..., init=<optimized out>) at /home/wesley/code/rust/rust/src/libcore/iter/traits/iterator.rs:1831\r\n#53 core::iter::traits::iterator::Iterator::for_each (self=..., f=...) at /home/wesley/code/rust/rust/src/libcore/iter/traits/iterator.rs:631\r\n#54 rustc_mir::monomorphize::collector::collect_crate_mono_items::{{closure}} () at src/librustc_mir/monomorphize/collector.rs:309\r\n#55 0x00007ffff5265697 in rustc::util::common::time_ext (do_it=<optimized out>, what=..., f=...) at /home/wesley/code/rust/rust/src/librustc/util/common.rs:55\r\n#56 rustc::util::common::time (sess=<optimized out>, what=..., f=...) at /home/wesley/code/rust/rust/src/librustc/util/common.rs:49\r\n#57 0x00007ffff51e14e9 in rustc_mir::monomorphize::collector::collect_crate_mono_items (tcx=..., mode=<optimized out>) at src/librustc_mir/monomorphize/collector.rs:308\r\n#58 0x00007ffff52657f6 in rustc_mir::monomorphize::partitioning::collect_and_partition_mono_items::{{closure}} () at src/librustc_mir/monomorphize/partitioning.rs:889\r\n#59 rustc::util::common::time_ext (do_it=false, what=..., f=...) at /home/wesley/code/rust/rust/src/librustc/util/common.rs:55\r\n#60 rustc::util::common::time (sess=<optimized out>, what=..., f=...) at /home/wesley/code/rust/rust/src/librustc/util/common.rs:49\r\n#61 0x00007ffff58d52d0 in rustc_mir::monomorphize::partitioning::collect_and_partition_mono_items (tcx=..., cnum=...) at src/librustc_mir/monomorphize/partitioning.rs:888\r\n#62 0x00007fffe85e9de0 in rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::collect_and_partition_mono_items>::compute::{{closure}} () at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:952\r\n#63 rustc::ty::query::__query_compute::collect_and_partition_mono_items (f=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:903\r\n#64 0x00007fffe86a2919 in rustc::dep_graph::graph::DepGraph::with_task_impl (self=<optimized out>, key=<error reading variable: Cannot access memory at address 0x0>, cx=..., arg=..., no_tcx=false, task=0x7fffe86df730 <rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::collect_and_partition_mono_items>::compute>, create_task=0x7fffe869c890 <core::ops::function::FnOnce::call_once>, finish_task_and_alloc_depnode=0x7fffe869c8a0 <core::ops::function::FnOnce::call_once>, hash_result=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/dep_graph/graph.rs:322\r\n#65 0x00007fffe871672e in rustc::dep_graph::graph::DepGraph::with_eval_always_task (self=0x7ffff3b53c10, cx=..., arg=..., task=0x7ffff3b53c10, key=..., hash_result=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/dep_graph/graph.rs:374\r\n#66 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::force_query_with_job::{{closure}}::{{closure}} (tcx=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:520\r\n#67 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::start_query::{{closure}}::{{closure}} () at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:258\r\n#68 rustc::ty::context::tls::enter_context::{{closure}} () at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1861\r\n#69 rustc::ty::context::tls::set_tlv (value=<optimized out>, f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1794\r\n#70 rustc::ty::context::tls::enter_context (context=<optimized out>, f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1860\r\n#71 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::start_query::{{closure}} (current_icx=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:257\r\n#72 rustc::ty::context::tls::with_related_context::{{closure}} (context=<optimized out>) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1967\r\n#73 rustc::ty::context::tls::with_context::{{closure}} (opt_context=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1950\r\n#74 rustc::ty::context::tls::with_context_opt (f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1939\r\n#75 rustc::ty::context::tls::with_context (f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1950\r\n#76 rustc::ty::context::tls::with_related_context (f=..., tcx=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1963\r\n#77 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::start_query (job=..., diagnostics=..., compute=..., self=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:246\r\n#78 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::force_query_with_job::{{closure}} (diagnostics=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:518\r\n#79 rustc::ty::query::plumbing::with_diagnostics (f=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:191\r\n#80 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::force_query_with_job (self=..., key=..., job=..., dep_node=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:517\r\n#81 rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query (self=..., span=..., key=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:354\r\n#82 0x00007fffe882ec21 in rustc::ty::query::TyCtxtAt::collect_and_partition_mono_items (self=..., key=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:1029\r\n#83 rustc::ty::query::<impl rustc::ty::context::TyCtxt>::collect_and_partition_mono_items (self=..., key=...) at /home/wesley/code/rust/rust/src/librustc/ty/query/plumbing.rs:1021\r\n#84 rustc_codegen_ssa::base::codegen_crate (backend=..., tcx=..., metadata=..., need_metadata_module=false) at /home/wesley/code/rust/rust/src/librustc_codegen_ssa/base.rs:519\r\n#85 0x00007fffe869ad5e in <rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_utils::codegen_backend::CodegenBackend>::codegen_crate (self=<optimized out>, tcx=..., metadata=..., need_metadata_module=false) at src/librustc_codegen_llvm/lib.rs:281\r\n#86 0x00007ffff454805e in rustc_interface::passes::start_codegen::{{closure}} () at src/librustc_interface/passes.rs:1038\r\n#87 0x00007ffff4542cbe in rustc::util::common::time_ext (do_it=<optimized out>, what=..., f=...) at /home/wesley/code/rust/rust/src/librustc/util/common.rs:55\r\n#88 rustc::util::common::time (sess=<optimized out>, what=..., f=...) at /home/wesley/code/rust/rust/src/librustc/util/common.rs:49\r\n#89 0x00007ffff46b9015 in rustc_interface::passes::start_codegen (codegen_backend=..., tcx=..., outputs=0x7ffff3b5f7c8) at src/librustc_interface/passes.rs:1036\r\n#90 0x00007ffff4552ca0 in rustc_interface::queries::<impl rustc_interface::interface::Compiler>::ongoing_codegen::{{closure}}::{{closure}} (tcx=...) at src/librustc_interface/queries.rs:254\r\n#91 rustc_interface::passes::BoxedGlobalCtxt::enter::{{closure}}::{{closure}} (tcx=...) at src/librustc_interface/passes.rs:773\r\n#92 rustc::ty::context::tls::enter_global::{{closure}} () at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1893\r\n#93 rustc::ty::context::tls::enter_context::{{closure}} () at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1861\r\n#94 rustc::ty::context::tls::set_tlv (value=140737282147056, f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1794\r\n#95 rustc::ty::context::tls::enter_context (context=0x7ffff3b582f0, f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1860\r\n#96 rustc::ty::context::tls::enter_global (gcx=0x7fffec21dca8, f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1892\r\n#97 0x00007ffff4657736 in rustc_interface::passes::BoxedGlobalCtxt::enter::{{closure}} (gcx=0x0) at src/librustc_interface/passes.rs:773\r\n#98 rustc_interface::passes::BoxedGlobalCtxt::access::{{closure}} (args=...) at <::rustc_data_structures::box_region::declare_box_region_type macros>:21\r\n#99 0x00007ffff45c852b in rustc_interface::passes::create_global_ctxt::{{closure}} () at src/librustc_interface/passes.rs:836\r\n#100 0x00007ffff46568ea in alloc::boxed::<impl core::ops::generator::Generator for core::pin::Pin<alloc::boxed::Box<G>>>::resume (self=...) at /home/wesley/code/rust/rust/src/liballoc/boxed.rs:1093\r\n#101 rustc_data_structures::box_region::PinnedGenerator<I,A,R>::access (self=<optimized out>, closure=...) at /home/wesley/code/rust/rust/src/librustc_data_structures/box_region.rs:52\r\n#102 rustc_interface::passes::BoxedGlobalCtxt::access (self=<optimized out>, f=...) at <::rustc_data_structures::box_region::declare_box_region_type macros>:24\r\n#103 rustc_interface::passes::BoxedGlobalCtxt::enter (self=0x7ffff3b5f850, f=...) at src/librustc_interface/passes.rs:773\r\n#104 0x00007ffff46501a2 in rustc_interface::queries::<impl rustc_interface::interface::Compiler>::ongoing_codegen::{{closure}} () at src/librustc_interface/queries.rs:248\r\n#105 rustc_interface::queries::Query<T>::compute (self=0x7ffff3b5f860, f=...) at src/librustc_interface/queries.rs:32\r\n#106 0x00007ffff45cb9b4 in rustc_interface::queries::<impl rustc_interface::interface::Compiler>::ongoing_codegen (self=<optimized out>) at src/librustc_interface/queries.rs:246\r\n#107 0x00007ffff44fbebe in rustc_driver::run_compiler::{{closure}} (compiler=0x2) at src/librustc_driver/lib.rs:390\r\n#108 rustc_interface::interface::run_compiler_in_existing_thread_pool (config=..., f=...) at /home/wesley/code/rust/rust/src/librustc_interface/interface.rs:166\r\n#109 0x00007ffff44f12c0 in rustc_interface::interface::run_compiler::{{closure}} () at /home/wesley/code/rust/rust/src/librustc_interface/interface.rs:179\r\n#110 rustc_interface::util::spawn_thread_pool::{{closure}}::{{closure}}::{{closure}}::{{closure}} () at /home/wesley/code/rust/rust/src/librustc_interface/util.rs:189\r\n#111 rustc::ty::context::tls::with_thread_locals::{{closure}}::{{closure}} (current=0x7ffff3b666a8) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1849\r\n#112 std::thread::local::LocalKey<T>::try_with (f=..., self=<optimized out>) at /home/wesley/code/rust/rust/src/libstd/thread/local.rs:262\r\n#113 std::thread::local::LocalKey<T>::with (self=<optimized out>, f=...) at /home/wesley/code/rust/rust/src/libstd/thread/local.rs:239\r\n#114 rustc::ty::context::tls::with_thread_locals::{{closure}} (span_dbg=0x7ffff3b666d0) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1841\r\n#115 std::thread::local::LocalKey<T>::try_with (self=<optimized out>, f=...) at /home/wesley/code/rust/rust/src/libstd/thread/local.rs:262\r\n#116 std::thread::local::LocalKey<T>::with (self=<optimized out>, f=...) at /home/wesley/code/rust/rust/src/libstd/thread/local.rs:239\r\n#117 0x00007ffff4499f05 in rustc::ty::context::tls::with_thread_locals (f=...) at /home/wesley/code/rust/rust/src/librustc/ty/context.rs:1833\r\n#118 rustc_interface::util::spawn_thread_pool::{{closure}}::{{closure}}::{{closure}} () at /home/wesley/code/rust/rust/src/librustc_interface/util.rs:189\r\n#119 scoped_tls::ScopedKey<T>::set (self=0x7ffff7f755b8 <rustc::ty::context::tls::GCX_PTR>, t=0x7ffff3b61d60, f=...) at /home/wesley/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-1.0.0/src/lib.rs:137\r\n#120 rustc_interface::util::spawn_thread_pool::{{closure}}::{{closure}} () at /home/wesley/code/rust/rust/src/librustc_interface/util.rs:185\r\n#121 scoped_tls::ScopedKey<T>::set (self=<optimized out>, t=<optimized out>, f=...) at /home/wesley/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-1.0.0/src/lib.rs:137\r\n#122 syntax::with_globals::{{closure}} () at /home/wesley/code/rust/rust/src/libsyntax/lib.rs:62\r\n#123 scoped_tls::ScopedKey<T>::set (self=<optimized out>, t=<optimized out>, f=...) at /home/wesley/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-1.0.0/src/lib.rs:137\r\n#124 0x00007ffff44c1fe2 in syntax::with_globals (edition=<optimized out>, f=...) at /home/wesley/code/rust/rust/src/libsyntax/lib.rs:61\r\n#125 0x00007ffff4466586 in rustc_interface::util::spawn_thread_pool::{{closure}} () at /home/wesley/code/rust/rust/src/librustc_interface/util.rs:184\r\n#126 rustc_interface::util::scoped_thread::{{closure}} () at /home/wesley/code/rust/rust/src/librustc_interface/util.rs:161\r\n#127 std::sys_common::backtrace::__rust_begin_short_backtrace (f=...) at /home/wesley/code/rust/rust/src/libstd/sys_common/backtrace.rs:129\r\n#128 0x00007ffff4456e99 in std::thread::Builder::spawn_unchecked::{{closure}}::{{closure}} () at /home/wesley/code/rust/rust/src/libstd/thread/mod.rs:469\r\n#129 <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once (self=..., _args=<optimized out>) at /home/wesley/code/rust/rust/src/libstd/panic.rs:317\r\n#130 std::panicking::try::do_call (data=<optimized out>) at /home/wesley/code/rust/rust/src/libstd/panicking.rs:287\r\n#131 0x00007ffff404bee4 in __rust_maybe_catch_panic (f=0x0, data=0x2 <error: Cannot access memory at address 0x2>, data_ptr=0x7ffff3b65960, vtable_ptr=0x7ffff3b65968) at src/libpanic_unwind/lib.rs:79\r\n#132 0x00007ffff4456aea in std::panicking::try (f=...) at /home/wesley/code/rust/rust/src/libstd/panicking.rs:265\r\n#133 0x00007ffff445360e in std::panic::catch_unwind (f=<error reading variable: access outside bounds of object referenced via synthetic pointer>) at /home/wesley/code/rust/rust/src/libstd/panic.rs:396\r\n#134 std::thread::Builder::spawn_unchecked::{{closure}} () at /home/wesley/code/rust/rust/src/libstd/thread/mod.rs:468\r\n#135 core::ops::function::FnOnce::call_once{{vtable-shim}} () at /home/wesley/code/rust/rust/src/libcore/ops/function.rs:227\r\n#136 0x00007ffff40433ef in <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once (self=..., args=<optimized out>) at /home/wesley/code/rust/rust/src/liballoc/boxed.rs:942\r\n#137 0x00007ffff3fffa70 in <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once (self=0x555555559d10, args=<optimized out>) at /home/wesley/code/rust/rust/src/liballoc/boxed.rs:942\r\n#138 std::sys_common::thread::start_thread (main=0x555555559d10 \"\\020\\306UUUU\") at src/libstd/sys_common/thread.rs:13\r\n#139 0x00007ffff4005336 in std::sys::unix::thread::Thread::new::thread_start (main=0x2) at src/libstd/sys/unix/thread.rs:79\r\n#140 0x00007ffff3cd0f2a in start_thread (arg=<optimized out>) at pthread_create.c:479\r\n#141 0x00007ffff3eba4af in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n```\r\n\r\n</details>\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/66397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/66397/timeline", "performed_via_github_app": null, "state_reason": "completed"}