{"url": "https://api.github.com/repos/rust-lang/rust/issues/32128", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32128/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32128/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32128/events", "html_url": "https://github.com/rust-lang/rust/issues/32128", "id": 139365216, "node_id": "MDU6SXNzdWUxMzkzNjUyMTY=", "number": 32128, "title": "Misleading note for accessing closures within structs.", "user": {"login": "ix", "id": 1900521, "node_id": "MDQ6VXNlcjE5MDA1MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1900521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ix", "html_url": "https://github.com/ix", "followers_url": "https://api.github.com/users/ix/followers", "following_url": "https://api.github.com/users/ix/following{/other_user}", "gists_url": "https://api.github.com/users/ix/gists{/gist_id}", "starred_url": "https://api.github.com/users/ix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ix/subscriptions", "organizations_url": "https://api.github.com/users/ix/orgs", "repos_url": "https://api.github.com/users/ix/repos", "events_url": "https://api.github.com/users/ix/events{/privacy}", "received_events_url": "https://api.github.com/users/ix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-03-08T19:07:45Z", "updated_at": "2016-04-05T21:50:29Z", "closed_at": "2016-04-05T21:50:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I encountered an issue the other day wherein I was attempting to call a closure stored within a struct. \n\nThe compiler gives a misleading error which doesn't give the user an idea on how to fix the problem.\nI've prepared an example which reproduces the misleading text:\n\n```\nstruct Example {\n    example: Box<Fn(i32) -> i32>\n}\n\nfn main() {\n    let demo = Example {\n        example: Box::new(|x| {\n            x + 1\n        })\n    };\n\n    demo.example(1);\n    // (demo.example)(1);\n}\n```\n\nThe error this yields from the compiler is as follows:\n\n```\nstructs.rs:12:10: 12:20 error: no method named `example` found for type `Example` in the current scope\nstructs.rs:12     demo.example(1);\n                       ^~~~~~~~~~\nstructs.rs:12:10: 12:20 note: did you mean to write `demo.example`?\nstructs.rs:12     demo.example(1);\n                       ^~~~~~~~~~\nerror: aborting due to previous error\n```\n\nNote that in the source code I've provided, underneath the line which yields this error, I have provided a comment demonstrating the correct way to access and call the example member of the structure, however the compiler's example is identical to the erroneous code and thus doesn't help the user in working out how to properly call the member.\n\nWould it be at all possible to improve this error message?\n\nI've confirmed this is reproducible on `rustc 1.7.0 (a5d1e7a59 2016-02-29)`.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32128/timeline", "performed_via_github_app": null, "state_reason": "completed"}