{"url": "https://api.github.com/repos/rust-lang/rust/issues/102404", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/102404/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/102404/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/102404/events", "html_url": "https://github.com/rust-lang/rust/issues/102404", "id": 1389296001, "node_id": "I_kwDOAAsO6M5SzvmB", "number": 102404, "title": "Rustdoc line number desynchronization on iPhone Safari", "user": {"login": "pali6", "id": 358431, "node_id": "MDQ6VXNlcjM1ODQzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/358431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pali6", "html_url": "https://github.com/pali6", "followers_url": "https://api.github.com/users/pali6/followers", "following_url": "https://api.github.com/users/pali6/following{/other_user}", "gists_url": "https://api.github.com/users/pali6/gists{/gist_id}", "starred_url": "https://api.github.com/users/pali6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pali6/subscriptions", "organizations_url": "https://api.github.com/users/pali6/orgs", "repos_url": "https://api.github.com/users/pali6/repos", "events_url": "https://api.github.com/users/pali6/events{/privacy}", "received_events_url": "https://api.github.com/users/pali6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 2406929537, "node_id": "MDU6TGFiZWwyNDA2OTI5NTM3", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-rustdoc-ui", "name": "A-rustdoc-ui", "color": "f7e101", "default": false, "description": "Area: rustdoc UI (generated HTML)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-09-28T12:44:58Z", "updated_at": "2022-09-29T15:26:58Z", "closed_at": "2022-09-29T08:22:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "On iPhone Safari 15.1 (~~and possibly other mobile browsers, I am unable to check~~ EDIT: Android browsers do not have this issue) in the source view code lines get line wrapped which causes the line numbers to desynchronize from their lines. In some cases multi-digit line numbers also get line wrapped which causes further desynchronization, though from my checking this currently happens for docs hosted on docs.rs but not on doc.rust-lang.org/std. This issue also means that clicking on source links in documentation leads to completely unrelated code as the links are to the line numbers and not the lines themselves.\r\n\r\nThis issue does not happen on Windows browsers I tested when I manually shrink the window to be approximately as narrow as the mobile browser. I have not tested the issue with computer version of Safari.\r\n\r\nhttps://doc.rust-lang.org/src/std/lib.rs.html#1-633 viewed on iPhone Safari 15.1 (note how one code line covers multiple line numbers when it wraps):\r\n![image](https://user-images.githubusercontent.com/358431/192779986-80a7a1f1-9c9c-4d5f-86b9-84688e0d7a42.png)\r\n\r\nhttps://doc.rust-lang.org/src/std/lib.rs.html#1-633 viewed on Windows Firefox 105.0.1 with similar window size (no issue here):\r\n![image](https://user-images.githubusercontent.com/358431/192780254-de6b4109-016e-4f6d-9fd9-cb166586cf3a.png)\r\n\r\nhttps://docs.rs/smallvec/latest/src/smallvec/lib.rs.html#1485 viewed on iPhone Safari 15.1 (no source code is visible because the multi-line line numbers scroll way beyond source code):\r\n![image](https://user-images.githubusercontent.com/358431/192780827-d2364388-83f8-4014-9547-227588a3551a.png)\r\n\r\nhttps://docs.rs/smallvec/latest/src/smallvec/lib.rs.html#1485 viewed on iPhone Safari 15.1 and manually scrolled to the correct line (note the incorrect line numbers that cover multiple actual code lines):\r\n![image](https://user-images.githubusercontent.com/358431/192780967-f893c7d9-8b4b-4fad-8ab6-5371ff0cc53c.png)\r\n\r\nhttps://docs.rs/smallvec/latest/src/smallvec/lib.rs.html#1485 viewed on Windows Firefox 105.0.1 with similar window size (no issue here):\r\n![image](https://user-images.githubusercontent.com/358431/192780499-9bc121d4-c1a5-4fa2-bad5-65478c8e9e6b.png)\r\n", "closed_by": {"login": "pali6", "id": 358431, "node_id": "MDQ6VXNlcjM1ODQzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/358431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pali6", "html_url": "https://github.com/pali6", "followers_url": "https://api.github.com/users/pali6/followers", "following_url": "https://api.github.com/users/pali6/following{/other_user}", "gists_url": "https://api.github.com/users/pali6/gists{/gist_id}", "starred_url": "https://api.github.com/users/pali6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pali6/subscriptions", "organizations_url": "https://api.github.com/users/pali6/orgs", "repos_url": "https://api.github.com/users/pali6/repos", "events_url": "https://api.github.com/users/pali6/events{/privacy}", "received_events_url": "https://api.github.com/users/pali6/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/102404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/102404/timeline", "performed_via_github_app": null, "state_reason": "completed"}