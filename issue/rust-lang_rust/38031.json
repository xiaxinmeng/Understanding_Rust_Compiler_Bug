{"url": "https://api.github.com/repos/rust-lang/rust/issues/38031", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38031/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38031/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38031/events", "html_url": "https://github.com/rust-lang/rust/issues/38031", "id": 191871623, "node_id": "MDU6SXNzdWUxOTE4NzE2MjM=", "number": 38031, "title": "Undefined reference to method implemented on a type alias", "user": {"login": "Riateche", "id": 1740713, "node_id": "MDQ6VXNlcjE3NDA3MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1740713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Riateche", "html_url": "https://github.com/Riateche", "followers_url": "https://api.github.com/users/Riateche/followers", "following_url": "https://api.github.com/users/Riateche/following{/other_user}", "gists_url": "https://api.github.com/users/Riateche/gists{/gist_id}", "starred_url": "https://api.github.com/users/Riateche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Riateche/subscriptions", "organizations_url": "https://api.github.com/users/Riateche/orgs", "repos_url": "https://api.github.com/users/Riateche/repos", "events_url": "https://api.github.com/users/Riateche/events{/privacy}", "received_events_url": "https://api.github.com/users/Riateche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-27T16:54:38Z", "updated_at": "2020-11-27T19:12:45Z", "closed_at": "2020-11-27T19:12:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "lib.rs:\r\n```\r\npub struct A;\r\npub mod m1 {\r\n  type A = ::A;\r\n  impl A {\r\n    pub fn f1(&self) {}\r\n  }\r\n}\r\n```\r\ntest1.rs:\r\n```\r\nextern crate crate_name;\r\n#[test]\r\nfn test1() {\r\n  crate_name::A.f1();\r\n}\r\n```\r\n\"cargo test\" output:\r\n```\r\nwarning: method is never used: `f1`, #[warn(dead_code)] on by default\r\n --> src/lib.rs:5:5\r\n  |\r\n5 |     pub fn f1(&self) {}\r\n  |     ^^^^^^^^^^^^^^^^^^^\r\n\r\nerror: linking with `cc` failed: exit code: 1\r\n  |\r\n<linker command>\r\n  = note: .../target/debug/deps/test1-8a1b07ca81971304.0.o: In function `test1::test1':\r\n.../tests/test1.rs:5: undefined reference to `crate_name::m1::_$LT$impl$u20$crate_name..A$GT$::f1::h6e77858629cdd51c'\r\ncollect2: error: ld returned 1 exit status\r\n```\r\nLooks like some part of Rust thinks that `f1()` should not be available and removes its implementation, and some part thinks that the method is available and tries to use it. If the method should not really be available, rustc should output a sensible error about the missing method when building the test.\r\n", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38031/timeline", "performed_via_github_app": null, "state_reason": "completed"}