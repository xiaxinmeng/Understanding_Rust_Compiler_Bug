{"url": "https://api.github.com/repos/rust-lang/rust/issues/24092", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24092/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24092/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24092/events", "html_url": "https://github.com/rust-lang/rust/issues/24092", "id": 66452301, "node_id": "MDU6SXNzdWU2NjQ1MjMwMQ==", "number": 24092, "title": "Can't relate two associated types \u2013 unsupported cyclic reference between types/traits", "user": {"login": "stevenblenkinsop", "id": 3118803, "node_id": "MDQ6VXNlcjMxMTg4MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3118803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenblenkinsop", "html_url": "https://github.com/stevenblenkinsop", "followers_url": "https://api.github.com/users/stevenblenkinsop/followers", "following_url": "https://api.github.com/users/stevenblenkinsop/following{/other_user}", "gists_url": "https://api.github.com/users/stevenblenkinsop/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenblenkinsop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenblenkinsop/subscriptions", "organizations_url": "https://api.github.com/users/stevenblenkinsop/orgs", "repos_url": "https://api.github.com/users/stevenblenkinsop/repos", "events_url": "https://api.github.com/users/stevenblenkinsop/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenblenkinsop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-04-05T15:57:16Z", "updated_at": "2017-05-10T01:59:15Z", "closed_at": "2017-05-10T01:59:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to compile code with this kind of structure leads to an unsupported cyclic reference error:\n\n```\ntrait Trait {\n    type A;\n    type B;\n    fn id(self) -> Self { self }\n}\n\nstruct S;\nstruct SA;\nstruct SB;\nstruct SAA;\n\nimpl Trait for S {\n    type A = SA;\n    type B = SB;\n}\n\nimpl Trait for SA {\n    type A = SAA;\n    type B = SB;\n}\n\nfn test<T: Trait>() where T::A : Trait<B=T::B> {}\n\nfn main() {}\n```\n\n```\n<anon>:22:42: 22:46 error: unsupported cyclic reference between types/traits detected\n<anon>:22 fn test<T: Trait>() where T::A : Trait<B=T::B> {}\n                                                   ^~~~\nnote: the cycle begins when computing the bounds for type parameter `T`...\nnote: ...which then again requires computing the bounds for type parameter `T`, completing the cycle.\nerror: aborting due to previous error\n```\n\nThis seems somewhat surprising, since, `T` is merely acting as the scope for `T::A` and `T::B`, which are distinct types. Also, it seems quite reasonable to want to assert a relationship between two associated types. Is there actually something inherently cyclic about this that I'm not seeing, or is it an artefact of how the implementation detects cycles? Also, is this kind of constraint likely to eventually be supported?\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24092/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24092/timeline", "performed_via_github_app": null, "state_reason": "completed"}