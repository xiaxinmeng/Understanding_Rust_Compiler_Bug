{"url": "https://api.github.com/repos/rust-lang/rust/issues/51831", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/51831/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/51831/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/51831/events", "html_url": "https://github.com/rust-lang/rust/issues/51831", "id": 336052178, "node_id": "MDU6SXNzdWUzMzYwNTIxNzg=", "number": 51831, "title": "All rust related binaries (rustc, cargo, rustup) freeze if uv4l is installed and launched not under root.", "user": {"login": "Nalorokk", "id": 1678815, "node_id": "MDQ6VXNlcjE2Nzg4MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1678815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nalorokk", "html_url": "https://github.com/Nalorokk", "followers_url": "https://api.github.com/users/Nalorokk/followers", "following_url": "https://api.github.com/users/Nalorokk/following{/other_user}", "gists_url": "https://api.github.com/users/Nalorokk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nalorokk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nalorokk/subscriptions", "organizations_url": "https://api.github.com/users/Nalorokk/orgs", "repos_url": "https://api.github.com/users/Nalorokk/repos", "events_url": "https://api.github.com/users/Nalorokk/events{/privacy}", "received_events_url": "https://api.github.com/users/Nalorokk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-27T02:09:22Z", "updated_at": "2018-06-27T13:07:40Z", "closed_at": "2018-06-27T13:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "This programs affected:\r\n\r\nrustc\r\ncargo\r\nrustup\r\nrust-gdb\r\nrustdoc\r\n\r\nAll of them will freeze early with last lines in strace like that:\r\n\r\n`rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0\r\nugetrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM_INFINITY}) = 0\r\nreadlink(\"/etc/malloc.conf\", 0x7ee554f4, 4096) = -1 ENOENT (No such file or directory)\r\nfutex(0x76f060ac, FUTEX_WAKE_PRIVATE, 2147483647) = 0\r\nfutex(0x973ba4, FUTEX_WAIT_PRIVATE, 2, NULL`\r\n\r\nProblem happens only with uv4l services installed if rust launched under not root user. Before uv4l installation everything works fine.\r\n\r\nProblem happens on raspbian, don't know if another machines affected.\r\n\r\nSteps to reproduce:\r\n\r\n1) Install latest raspbian linux (happens on lite and desktop editions)\r\n2) [Install uv4l](https://www.linux-projects.org/uv4l/installation/)\r\n3) Now all rust binaries (both from rustup.rs and from package manager) will not work under not root.", "closed_by": {"login": "Nalorokk", "id": 1678815, "node_id": "MDQ6VXNlcjE2Nzg4MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1678815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nalorokk", "html_url": "https://github.com/Nalorokk", "followers_url": "https://api.github.com/users/Nalorokk/followers", "following_url": "https://api.github.com/users/Nalorokk/following{/other_user}", "gists_url": "https://api.github.com/users/Nalorokk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nalorokk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nalorokk/subscriptions", "organizations_url": "https://api.github.com/users/Nalorokk/orgs", "repos_url": "https://api.github.com/users/Nalorokk/repos", "events_url": "https://api.github.com/users/Nalorokk/events{/privacy}", "received_events_url": "https://api.github.com/users/Nalorokk/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/51831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/51831/timeline", "performed_via_github_app": null, "state_reason": "completed"}