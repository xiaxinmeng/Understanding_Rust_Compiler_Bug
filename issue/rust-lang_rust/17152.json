{"url": "https://api.github.com/repos/rust-lang/rust/issues/17152", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17152/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17152/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17152/events", "html_url": "https://github.com/rust-lang/rust/issues/17152", "id": 42457447, "node_id": "MDU6SXNzdWU0MjQ1NzQ0Nw==", "number": 17152, "title": "Find a way to detect API breakage.", "user": {"login": "mahkoh", "id": 1882250, "node_id": "MDQ6VXNlcjE4ODIyNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mahkoh", "html_url": "https://github.com/mahkoh", "followers_url": "https://api.github.com/users/mahkoh/followers", "following_url": "https://api.github.com/users/mahkoh/following{/other_user}", "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions", "organizations_url": "https://api.github.com/users/mahkoh/orgs", "repos_url": "https://api.github.com/users/mahkoh/repos", "events_url": "https://api.github.com/users/mahkoh/events{/privacy}", "received_events_url": "https://api.github.com/users/mahkoh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-09-10T20:36:05Z", "updated_at": "2015-01-29T10:44:02Z", "closed_at": "2015-01-29T04:01:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given that the current rust ecosystem tries very hard to force everyone to use semver, and given that rust code breaks the API easily, this is very important.\n\nSome easy but surprising ways to break the API:\n- Adding a field to a struct.\n- Changing a struct from Copy to NoCopy (same with Send, Sync, etc.)\n- Adding a variant to an enum.\n- **Adding a public method to a type** (consider extension traits)\n- Adding a method to a trait (consider #17151)\n\nTherefore rustc needs to have something like this:\n\n```\nrustc --record-api out.json lib_old.rs\n```\n\nstores api information in out.json\n\n```\nrustc --compare-api out.json lib_new.rs\n```\n\nChecks if the new api is compatible with the old one.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/17152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17152/timeline", "performed_via_github_app": null, "state_reason": "completed"}