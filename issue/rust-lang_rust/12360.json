{"url": "https://api.github.com/repos/rust-lang/rust/issues/12360", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/12360/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/12360/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/12360/events", "html_url": "https://github.com/rust-lang/rust/issues/12360", "id": 27768924, "node_id": "MDU6SXNzdWUyNzc2ODkyNA==", "number": 12360, "title": "Crash (null ptr) in recv_opt", "user": {"login": "gavinb", "id": 158326, "node_id": "MDQ6VXNlcjE1ODMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/158326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gavinb", "html_url": "https://github.com/gavinb", "followers_url": "https://api.github.com/users/gavinb/followers", "following_url": "https://api.github.com/users/gavinb/following{/other_user}", "gists_url": "https://api.github.com/users/gavinb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gavinb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gavinb/subscriptions", "organizations_url": "https://api.github.com/users/gavinb/orgs", "repos_url": "https://api.github.com/users/gavinb/repos", "events_url": "https://api.github.com/users/gavinb/events{/privacy}", "received_events_url": "https://api.github.com/users/gavinb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-02-18T04:34:31Z", "updated_at": "2014-02-18T06:21:10Z", "closed_at": "2014-02-18T06:21:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A simple I/O test sending messages across channels between tasks causes a crash.\n\nTested on OS X 10.9 with rev c84890 (a very recent build from master).\n\nSource here: https://gist.github.com/gavinb/9064658\n\nThe output is:\n\n```\nSending...\nSending...\nJoe 0\nAnn 0\nReceiving...\nReceiving...\n```\n\nBut it then crashes with:\n\n```\nProgram received signal EXC_BAD_ACCESS, Could not access memory.\nReason: KERN_INVALID_ADDRESS at address: 0x0000000000000000\n[Switching to process 3210 thread 0x1003]\n0x0000000100001841 in sync::atomics::atomic_load::h0eb835f964245badDqa::v0.0 ()\n(gdb) bt\n#0  0x0000000100001841 in sync::atomics::atomic_load::h0eb835f964245badDqa::v0.0 ()\n#1  0x00000001000a5b50 in io::stdio::println_args::closure ()\n#2  0x00000001000017d4 in sync::atomics::AtomicUint::load::h630f72316818459ejqa::v0.0 ()\n#3  0x0000000100014004 in sync::arc::UnsafeArc$LT$T$GT$::get::hcae23af7d89013bbIsc::v0.0 ()\n#4  0x0000000100026de0 in comm::Port$LT$T$GT$::recv_opt::hdfac7690a2025dc4J3d::v0.0 ()\n#5  0x0000000100026cc6 in comm::Port$LT$T$GT$::recv::h93835721c191a171gSe::v0.0 () at boring09.rs:55\n#6  0x00000001000267e7 in fn4474 () at boring09.rs:55\n#7  0x000000010011dcec in task::bootstrap_green_task::closure ()\n#8  0x00000001000faa78 in rt::task::Task::run::closure ()\n#9  0x000000010010479c in rust_try ()\n#10 0x000000010011dba5 in task::bootstrap_green_task::h763de3b86e4a2837Sbc::v0.10.pre ()\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/12360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/12360/timeline", "performed_via_github_app": null, "state_reason": "completed"}