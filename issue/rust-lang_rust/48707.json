{"url": "https://api.github.com/repos/rust-lang/rust/issues/48707", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48707/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48707/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48707/events", "html_url": "https://github.com/rust-lang/rust/issues/48707", "id": 302036236, "node_id": "MDU6SXNzdWUzMDIwMzYyMzY=", "number": 48707, "title": "The Rust compiler bootstrap is vulnerable to trusting-trust attacks", "user": {"login": "devrandom", "id": 107096, "node_id": "MDQ6VXNlcjEwNzA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/107096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devrandom", "html_url": "https://github.com/devrandom", "followers_url": "https://api.github.com/users/devrandom/followers", "following_url": "https://api.github.com/users/devrandom/following{/other_user}", "gists_url": "https://api.github.com/users/devrandom/gists{/gist_id}", "starred_url": "https://api.github.com/users/devrandom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devrandom/subscriptions", "organizations_url": "https://api.github.com/users/devrandom/orgs", "repos_url": "https://api.github.com/users/devrandom/repos", "events_url": "https://api.github.com/users/devrandom/events{/privacy}", "received_events_url": "https://api.github.com/users/devrandom/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-03-03T22:03:49Z", "updated_at": "2022-04-02T15:12:35Z", "closed_at": "2018-03-04T04:32:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Summary**: the Rust compiler requires the previous Rust compiler binary, making it vulnerable to persistent malware\r\n\r\nCompiling a compiler with itself is convenient.  However, this flow results in the possibility that persistent malware is present and is injected into each version's compiler by the previous version.  This attack vector has been known since Ken Thompson's 1984 paper [Reflections on Trusting Trust](https://www.ece.cmu.edu/~ganger/712.fall02/papers/p761-thompson.pdf).  In fact, the attack has been seen [in the wild](https://www.wired.com/2009/08/induc/).\r\n\r\nA method of counteracting this issue, [diverse double compilation](https://www.dwheeler.com/trusting-trust/) is available.  Unfortunately, it cannot be easily applied in this case. For one, the Rust compiler is not deterministic.  Also, the only other available compiler, [mrustc](https://github.com/thepowersgang/mrustc) is maintained by a single person and usually lags behind the latest Rust version.\r\n\r\nTo mitigate this issue, it would be best if the rust compiler could be completely bootstrapped from `gcc` and other mainstream build tools.\r\n", "closed_by": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48707/timeline", "performed_via_github_app": null, "state_reason": "completed"}