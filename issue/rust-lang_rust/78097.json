{"url": "https://api.github.com/repos/rust-lang/mdBook/issues/1358", "repository_url": "https://api.github.com/repos/rust-lang/mdBook", "labels_url": "https://api.github.com/repos/rust-lang/mdBook/issues/1358/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/mdBook/issues/1358/comments", "events_url": "https://api.github.com/repos/rust-lang/mdBook/issues/1358/events", "html_url": "https://github.com/rust-lang/mdBook/issues/1358", "id": 724880047, "node_id": "MDU6SXNzdWU3MjQ4ODAwNDc=", "number": 1358, "title": "Markdown code blocks use the same style for text and code blocks", "user": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1365933956, "node_id": "MDU6TGFiZWwxMzY1OTMzOTU2", "url": "https://api.github.com/repos/rust-lang/mdBook/labels/A-Highlighting", "name": "A-Highlighting", "color": "fbca04", "default": false, "description": "Area: Code colored syntax highlighting"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-10-19T04:46:34Z", "updated_at": "2020-10-19T18:35:19Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "From [this page](https://doc.rust-lang.org/nightly/rustdoc/documentation-tests.html):\r\n\r\n![image](https://user-images.githubusercontent.com/37223377/96402471-d31d3d80-118a-11eb-8639-cfa73b78b9d7.png)\r\n\r\nYet some code samples *are* syntax-highlighted:\r\n\r\n![image](https://user-images.githubusercontent.com/37223377/96402575-23949b00-118b-11eb-9785-f5fd2d2b1b36.png)\r\n\r\nI checked the source for this page, and it looks fine:\r\n\r\n~~~markdown\r\n# Documentation tests\r\n\r\n`rustdoc` supports executing your documentation examples as tests. This makes sure\r\nthat examples within your documentation are up to date and working.\r\n\r\nThe basic idea is this:\r\n\r\n```ignore\r\n/// # Examples\r\n///\r\n/// ```\r\n/// let x = 5;\r\n/// ```\r\n```\r\n\r\nThe triple backticks start and end code blocks. If this were in a file named `foo.rs`,\r\nrunning `rustdoc --test foo.rs` will extract this example, and then run it as a test.\r\n\r\nPlease note that by default, if no language is set for the block code, `rustdoc`\r\nassumes it is `Rust` code. So the following:\r\n\r\n``````markdown\r\n```rust\r\nlet x = 5;\r\n```\r\n``````\r\n\r\nis strictly equivalent to:\r\n\r\n``````markdown\r\n```\r\nlet x = 5;\r\n```\r\n``````\r\n\r\nThere's some subtlety though! Read on for more details.\r\n\r\n## Passing or failing a doctest\r\n\r\nLike regular unit tests, regular doctests are considered to \"pass\"\r\nif they compile and run without panicking.\r\nSo if you want to demonstrate that some computation gives a certain result,\r\nthe `assert!` family of macros works the same as other Rust code:\r\n\r\n```rust\r\nlet foo = \"foo\";\r\n\r\nassert_eq!(foo, \"foo\");\r\n```\r\n\r\nThis way, if the computation ever returns something different,\r\nthe code panics and the doctest fails.\r\n~~~\r\n\r\nI'm wondering if this might be a bug in mdbook, but I figured I would post here first since this is the only place I've seen it.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/mdBook/issues/1358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/mdBook/issues/1358/timeline", "performed_via_github_app": null, "state_reason": null}