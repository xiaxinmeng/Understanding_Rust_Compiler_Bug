{"url": "https://api.github.com/repos/rust-lang/rust/issues/94170", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/94170/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/94170/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/94170/events", "html_url": "https://github.com/rust-lang/rust/issues/94170", "id": 1144860576, "node_id": "I_kwDOAAsO6M5EPS-g", "number": 94170, "title": "Missing trait bounds error without justification", "user": {"login": "jlogan03", "id": 1596770, "node_id": "MDQ6VXNlcjE1OTY3NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1596770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlogan03", "html_url": "https://github.com/jlogan03", "followers_url": "https://api.github.com/users/jlogan03/followers", "following_url": "https://api.github.com/users/jlogan03/following{/other_user}", "gists_url": "https://api.github.com/users/jlogan03/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlogan03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlogan03/subscriptions", "organizations_url": "https://api.github.com/users/jlogan03/orgs", "repos_url": "https://api.github.com/users/jlogan03/repos", "events_url": "https://api.github.com/users/jlogan03/events{/privacy}", "received_events_url": "https://api.github.com/users/jlogan03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-19T22:21:31Z", "updated_at": "2022-02-26T23:02:16Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Taking Rust's const generic expressions for a drive and ran into a situation where the compiler identifies a missing trait bound, but not which bound is missing.\r\n\r\nCode: https://github.com/jlogan03/catnip/blob/0ea28658e2d76874258569a89f42ad0091e6e26f/catnip/src/udp.rs#L66\r\n\r\nI expected to see this happen: \r\n* Evaluate without error\r\n\r\nInstead, this happened: \r\n* Trait bounds error, but with no indication of which bound is missing\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.59.0-nightly (cfa3fe5af 2021-12-31)\r\nbinary: rustc\r\ncommit-hash: cfa3fe5af339e724209b25715282adae0c61628f\r\ncommit-date: 2021-12-31\r\nhost: x86_64-apple-darwin\r\nrelease: 1.59.0-nightly\r\nLLVM version: 13.0.0\r\n```\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary>Backtrace</summary>\r\n<p>\r\n\r\n```\r\nJamess-MacBook-Pro:catnip jlogan$ cargo check\r\n    Checking catnip v0.1.0 (/Users/jlogan/git/catnip/catnip)\r\nwarning: the feature `generic_const_exprs` is incomplete and may not be safe to use and/or cause compiler crashes\r\n --> src/lib.rs:6:12\r\n  |\r\n6 | #![feature(generic_const_exprs)]\r\n  |            ^^^^^^^^^^^^^^^^^^^\r\n  |\r\n  = note: `#[warn(incomplete_features)]` on by default\r\n  = note: see issue #76560 <https://github.com/rust-lang/rust/issues/76560> for more information\r\n\r\nerror[E0599]: no method named `total_length` found for struct `IPV4Header<'a, M>` in the current scope\r\n  --> src/udp.rs:66:41\r\n   |\r\n66 |           self.ip_header = self.ip_header.total_length(ip_length);\r\n   |                                           ^^^^^^^^^^^^ method cannot be called on `IPV4Header<'a, M>` due to unsatisfied trait bounds\r\n   |\r\n  ::: src/ip.rs:40:1\r\n   |\r\n40 | / pub struct IPV4Header<'a, const N: usize>\r\n41 | | where\r\n42 | |     [u8; 4 * N + 20]:,\r\n43 | | {\r\n44 | |     /// The actual content of the header as bytes\r\n45 | |     pub value: [u8; 4 * N + 20],\r\n46 | | }\r\n   | |_- method `total_length` not found for this\r\n\r\nFor more information about this error, try `rustc --explain E0599`.\r\nwarning: `catnip` (lib) generated 1 warning\r\nerror: could not compile `catnip` due to previous error; 1 warning emitted\r\n```\r\n\r\n</p>\r\n</details>\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/94170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/94170/timeline", "performed_via_github_app": null, "state_reason": null}