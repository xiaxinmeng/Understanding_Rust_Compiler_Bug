{"url": "https://api.github.com/repos/rust-lang/rust/issues/83194", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/83194/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/83194/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/83194/events", "html_url": "https://github.com/rust-lang/rust/issues/83194", "id": 832786689, "node_id": "MDU6SXNzdWU4MzI3ODY2ODk=", "number": 83194, "title": "Bad diagnose text for using associated const in trait method definition.", "user": {"login": "Evian-Zhang", "id": 40831854, "node_id": "MDQ6VXNlcjQwODMxODU0", "avatar_url": "https://avatars.githubusercontent.com/u/40831854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Evian-Zhang", "html_url": "https://github.com/Evian-Zhang", "followers_url": "https://api.github.com/users/Evian-Zhang/followers", "following_url": "https://api.github.com/users/Evian-Zhang/following{/other_user}", "gists_url": "https://api.github.com/users/Evian-Zhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Evian-Zhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Evian-Zhang/subscriptions", "organizations_url": "https://api.github.com/users/Evian-Zhang/orgs", "repos_url": "https://api.github.com/users/Evian-Zhang/repos", "events_url": "https://api.github.com/users/Evian-Zhang/events{/privacy}", "received_events_url": "https://api.github.com/users/Evian-Zhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}, {"id": 1624891239, "node_id": "MDU6TGFiZWwxNjI0ODkxMjM5", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-incorrect", "name": "D-incorrect", "color": "c9f7a3", "default": false, "description": "A diagnostic that is giving misleading or incorrect information"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-16T13:14:03Z", "updated_at": "2021-03-17T21:49:19Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nI tried this code:\r\n\r\n```rust\r\ntrait Foo {\r\n    const FOO: usize;\r\n    fn foo() -> [u8; Self::FOO];\r\n}\r\n```\r\n\r\nIt seems that this is not allowed in current stable Rust, but using this could make world easier,.\r\n\r\nHowever, this code does not pass the compilation, and the diagnose text is very very confusing:\r\n\r\n```plaintext\r\nerror[E0599]: no associated item named `FOO` found for type parameter `Self` in the current scope\r\n --> src/lib.rs:3:28\r\n  |\r\n3 |     fn foo() -> [u8; Self::FOO];\r\n  |                            ^^^ associated item not found in `Self`\r\n  |\r\n  = help: items from traits can only be used if the type parameter is bounded by the trait\r\nhelp: the following trait defines an item `FOO`, perhaps you need to add a supertrait for it:\r\n  |\r\n1 | trait Foo: Foo {\r\n  |          ^^^^^\r\n```\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.50.0 (cb75ad5db 2021-02-10)\r\nbinary: rustc\r\ncommit-hash: cb75ad5db02783e8b0222fee363c5f63f7e2cf5b\r\ncommit-date: 2021-02-10\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.50.0\r\n```\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/83194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/83194/timeline", "performed_via_github_app": null, "state_reason": null}