{"url": "https://api.github.com/repos/rust-lang/rust/issues/24600", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24600/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24600/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24600/events", "html_url": "https://github.com/rust-lang/rust/issues/24600", "id": 69421661, "node_id": "MDU6SXNzdWU2OTQyMTY2MQ==", "number": 24600, "title": "rustc takes too much time to evaluate a struct type with recursion using Rc", "user": {"login": "bombless", "id": 1296393, "node_id": "MDQ6VXNlcjEyOTYzOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1296393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bombless", "html_url": "https://github.com/bombless", "followers_url": "https://api.github.com/users/bombless/followers", "following_url": "https://api.github.com/users/bombless/following{/other_user}", "gists_url": "https://api.github.com/users/bombless/gists{/gist_id}", "starred_url": "https://api.github.com/users/bombless/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bombless/subscriptions", "organizations_url": "https://api.github.com/users/bombless/orgs", "repos_url": "https://api.github.com/users/bombless/repos", "events_url": "https://api.github.com/users/bombless/events{/privacy}", "received_events_url": "https://api.github.com/users/bombless/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113376, "node_id": "MDU6TGFiZWwxMTMzNzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-slow", "name": "I-slow", "color": "e10c02", "default": false, "description": "Problems and improvements with respect to performance of generated code."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-04-19T12:48:56Z", "updated_at": "2016-06-27T21:53:03Z", "closed_at": "2016-06-27T21:53:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Check my code here to reproduce:\nhttps://github.com/bombless/bfvm-rs/commit/ff03a10d7b09b1a9d3365886f6accc20df68cfa7\n(see that `sexp` crate)\n\n```\n$ rustc -Vv\nrustc 1.0.0-dev (bd6c30e02 2015-04-18) (built 2015-04-18)\nbinary: rustc\ncommit-hash: bd6c30e0235f1903c12321be173d1c26e4e6e3ed\ncommit-date: 2015-04-18\nbuild-date: 2015-04-18\nhost: x86_64-pc-windows-gnu\nrelease: 1.0.0-dev\n```\n\nhere's \"-Z time-passes\" output:\n\n```\ntime: 0.003     parsing\ntime: 0.000     recursion limit\ntime: 0.000     configuration 1\ntime: 0.000     gated macro checking\ntime: 0.000     crate injection\ntime: 0.026     macro loading\ntime: 0.000     plugin loading\ntime: 0.000     plugin registration\ntime: 0.022     expansion\ntime: 0.000     complete gated feature checking 1\ntime: 0.001     configuration 2\ntime: 0.001     maybe building test harness\ntime: 0.000     prelude injection\ntime: 0.000     checking that all macro invocations are gone\ntime: 0.000     complete gated feature checking 2\ntime: 0.000     assigning node ids and indexing ast\ntime: 0.000     external crate/lib resolution\ntime: 0.000     language item collection\ntime: 0.014     resolution\ntime: 0.000     lifetime resolution\ntime: 0.000     looking for entry point\ntime: 0.000     looking for plugin registrar\ntime: 0.000     region resolution\ntime: 0.000     loop checking\ntime: 0.000     static item recursion checking\ntime: 0.000     type collecting\ntime: 0.000     variance inference\ntime: 0.750     coherence checking\ntime: 0.472     type checking\ntime: 0.080     const checking\ntime: 0.000     privacy checking\ntime: 0.000     stability index\ntime: 0.000     intrinsic checking\ntime: 0.000     effect checking\ntime: 0.012     match checking\ntime: 0.000     liveness checking\ntime: 0.049     borrow checking\ntime: 0.040     rvalue checking\ntime: 0.000     reachability checking\ntime: 0.000     death checking\ntime: 0.043     stability checking\ntime: 0.000     unused lib feature checking\nsexp/lib.rs:121:1: 123:2 warning: function is never used: `main`, #[warn(dead_code)] on by default\nsexp/lib.rs:121 fn main() {\nsexp/lib.rs:122     parse_sexp(&mut b\"()\".iter().cloned().peekable()).unwrap();\nsexp/lib.rs:123 }\ntime: 0.048     lint checking\ntime: 0.000     resolving dependency formats\n```\n\nFWIW, 2 weeks ago rustc reported \"overflow evaluating the requirement `_ : core::marker::Sized`\" in a minute instead of hanging for this code.\n\n@tomaka may have other ways to reproduce this.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24600/timeline", "performed_via_github_app": null, "state_reason": "completed"}