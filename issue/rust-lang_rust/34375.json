{"url": "https://api.github.com/repos/rust-lang/rust/issues/34375", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34375/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34375/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34375/events", "html_url": "https://github.com/rust-lang/rust/issues/34375", "id": 161124661, "node_id": "MDU6SXNzdWUxNjExMjQ2NjE=", "number": 34375, "title": "Full system freeze on missing semicolon", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-20T06:23:48Z", "updated_at": "2017-01-10T17:59:06Z", "closed_at": "2017-01-10T17:59:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been experiencing a complete system freeze when I compile the following code:\n\n```\n    macro_rules! test_macro {\n        () => {{\n            use std::env;\n            let e = env::var(\"_\")\n        }}\n    }\n\n    #[cfg(test)]\n    mod tests {\n        #[test]\n        fn it_works() {\n            test_macro!();\n        }\n    }\n```\n\nNote the missing semicolon at the end of the assignment statement. I have been reliably able to reproduce this issue on Ubuntu 14.04.x and 16.04. The issue doesn't seem to be caused by OOM conditions as the freeze is instantaneous and no heavy swapping occurs (swap is enabled), but I may be mistaken.\n\nRust version: 1.9\nArch: x86_64\n", "closed_by": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34375/timeline", "performed_via_github_app": null, "state_reason": "completed"}