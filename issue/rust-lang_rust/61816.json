{"url": "https://api.github.com/repos/rust-lang/rust/issues/61816", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/61816/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/61816/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/61816/events", "html_url": "https://github.com/rust-lang/rust/issues/61816", "id": 455988558, "node_id": "MDU6SXNzdWU0NTU5ODg1NTg=", "number": 61816, "title": "`x.py bench --stage 0 src/libcore` fails with deprecation errors", "user": {"login": "AaronKutch", "id": 32419308, "node_id": "MDQ6VXNlcjMyNDE5MzA4", "avatar_url": "https://avatars.githubusercontent.com/u/32419308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AaronKutch", "html_url": "https://github.com/AaronKutch", "followers_url": "https://api.github.com/users/AaronKutch/followers", "following_url": "https://api.github.com/users/AaronKutch/following{/other_user}", "gists_url": "https://api.github.com/users/AaronKutch/gists{/gist_id}", "starred_url": "https://api.github.com/users/AaronKutch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AaronKutch/subscriptions", "organizations_url": "https://api.github.com/users/AaronKutch/orgs", "repos_url": "https://api.github.com/users/AaronKutch/repos", "events_url": "https://api.github.com/users/AaronKutch/events{/privacy}", "received_events_url": "https://api.github.com/users/AaronKutch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-13T22:59:36Z", "updated_at": "2019-06-15T21:16:13Z", "closed_at": "2019-06-15T21:16:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I would like to benchmark a specific subset of all the benchmarks, but adding `src/libcore` onto the command makes it fail:\r\n```\r\n$ ./x.py bench --stage 0 src/libcore\r\nUpdating only changed submodules\r\nSubmodules updated in 0.59 seconds\r\n    Finished dev [unoptimized] target(s) in 0.37s\r\nBuilding stage0 std artifacts (x86_64-pc-windows-gnu -> x86_64-pc-windows-gnu)\r\n    Finished release [optimized] target(s) in 4.00s\r\nCopying stage0 std from stage0 (x86_64-pc-windows-gnu -> x86_64-pc-windows-gnu / x86_64-pc-windows-gnu)\r\nBuilding stage0 test artifacts (x86_64-pc-windows-gnu -> x86_64-pc-windows-gnu)\r\n    Finished release [optimized] target(s) in 0.56s\r\nCopying stage0 test from stage0 (x86_64-pc-windows-gnu -> x86_64-pc-windows-gnu / x86_64-pc-windows-gnu)\r\nBenchmarking core stage0 (x86_64-pc-windows-gnu -> x86_64-pc-windows-gnu)\r\n   Compiling core v0.0.0 (C:\\Users\\Allen\\Documents\\GitHub\\rust\\src\\libcore)\r\nerror: `...` range patterns are deprecated\r\n   --> src\\libcore\\../libcore/benches\\ascii.rs:194:21\r\n    |\r\n194 |                 b'a'...b'z' => true,\r\n    |                     ^^^ help: use `..=` for an inclusive range\r\n    |\r\n    = note: `-D ellipsis-inclusive-range-patterns` implied by `-D rust-2018-idioms`\r\n\r\nerror: `...` range patterns are deprecated\r\n   --> src\\libcore\\../libcore/benches\\ascii.rs:206:21\r\n    |\r\n206 |                 b'a'...b'z' => true,\r\n    |                     ^^^ help: use `..=` for an inclusive range\r\n\r\nerror: `...` range patterns are deprecated\r\n   --> src\\libcore\\../libcore/benches\\ascii.rs:218:21\r\n    |\r\n218 |                 b'a'...b'z' => true,\r\n    |                     ^^^ help: use `..=` for an inclusive range\r\n\r\nerror: `...` range patterns are deprecated\r\n   --> src\\libcore\\../libcore/benches\\ascii.rs:230:21\r\n    |\r\n230 |                 b'a'...b'z' => true,\r\n    |                     ^^^ help: use `..=` for an inclusive range\r\n\r\nerror: `...` range patterns are deprecated\r\n   --> src\\libcore\\../libcore/benches\\ascii.rs:194:21\r\n    |\r\n194 |                 b'a'...b'z' => true,\r\n    |                     ^^^ help: use `..=` for an inclusive range\r\n\r\nerror: aborting due to 5 previous errors\r\n\r\nerror: Could not compile `core`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n\r\n\r\ncommand did not execute successfully: \"C:\\\\Users\\\\Allen\\\\Documents\\\\GitHub\\\\rust\\\\build\\\\x86_64-pc-windows-gnu\\\\stage0\\\\bin\\\\cargo.exe\" \"bench\" \"--target\" \"x86_64-pc-windows-gnu\" \"-j\" \"4\" \"--features\" \"panic-unwind backtrace compiler-builtins-c\" \"--manifest-path\" \"C:\\\\Users\\\\Allen\\\\Documents\\\\GitHub\\\\rust\\\\src/libstd/Cargo.toml\" \"-p\" \"core\" \"--\" \"--quiet\"\r\nexpected success, got: exit code: 101\r\n\r\n\r\n        finished in 8.642\r\n\r\n1 command(s) did not execute successfully:\r\n\r\n  - \"C:\\\\Users\\\\Allen\\\\Documents\\\\GitHub\\\\rust\\\\build\\\\x86_64-pc-windows-gnu\\\\stage0\\\\bin\\\\cargo.exe\" \"bench\" \"--target\" \"x86_64-pc-windows-gnu\" \"-j\" \"4\" \"--features\" \"panic-unwind backtrace compiler-builtins-c\" \"--manifest-path\" \"C:\\\\Users\\\\Allen\\\\Documents\\\\GitHub\\\\rust\\\\src/libstd/Cargo.toml\" \"-p\" \"core\" \"--\" \"--quiet\"\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/61816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/61816/timeline", "performed_via_github_app": null, "state_reason": "completed"}