{"url": "https://api.github.com/repos/rust-lang/rust/issues/39054", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39054/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39054/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39054/events", "html_url": "https://github.com/rust-lang/rust/issues/39054", "id": 200766316, "node_id": "MDU6SXNzdWUyMDA3NjYzMTY=", "number": 39054, "title": "Disabling jemalloc fails when doing a local rebuild", "user": {"login": "aidanhs", "id": 1050652, "node_id": "MDQ6VXNlcjEwNTA2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1050652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidanhs", "html_url": "https://github.com/aidanhs", "followers_url": "https://api.github.com/users/aidanhs/followers", "following_url": "https://api.github.com/users/aidanhs/following{/other_user}", "gists_url": "https://api.github.com/users/aidanhs/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidanhs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidanhs/subscriptions", "organizations_url": "https://api.github.com/users/aidanhs/orgs", "repos_url": "https://api.github.com/users/aidanhs/repos", "events_url": "https://api.github.com/users/aidanhs/events{/privacy}", "received_events_url": "https://api.github.com/users/aidanhs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-14T00:46:31Z", "updated_at": "2017-01-21T05:43:43Z", "closed_at": "2017-01-21T05:43:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Edit: see https://github.com/rust-lang/rust/issues/39054#issuecomment-272722595\r\n\r\n----\r\n\r\n```\r\n~/Desktop/rust/rust-tmp $ rustc --version\r\nrustc 1.16.0-nightly (1a2ed98d3 2017-01-13)\r\n~/Desktop/rust/rust-tmp $ git show | head -n4\r\ncommit b0c52c587fe9ba287053359fff5ed886b7edb27c\r\nMerge: 927c55d 3a79f2e\r\nAuthor: bors <bors@rust-lang.org>\r\nDate:   Fri Jan 13 07:24:53 2017 +0000\r\n~/Desktop/rust/rust-tmp $ ./configure --enable-local-rust --disable-jemalloc --llvm-root=/usr/lib/llvm-3.8 --disable-codegen-tests\r\n[...]\r\n~/Desktop/rust/rust-tmp $ ./x.py build --stage 0 -j3 -v\r\n[...]\r\n     Running `/home/aidanhs/Desktop/rust/rust-tmp/build/bootstrap/debug/rustc --crate-name std src/libstd/lib.rs --crate-type dylib --crate-type rlib --emit=dep-info,li\r\nnk -C prefer-dynamic -C opt-level=2 --cfg 'feature=\"backtrace\"' --cfg 'feature=\"panic-unwind\"' --cfg 'feature=\"panic_unwind\"' -C metadata=d6c751cd700544ff -C extra-file\r\nname=-d6c751cd700544ff --out-dir /home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps --target x86_64-unk\r\nnown-linux-gnu -L dependency=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps -L dependency=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gnu/stage0-std/release/deps --extern panic_unwind=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-g\r\nnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libpanic_unwind-8c67638596b8d567.rlib --extern libc=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-g\r\nnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/liblibc-3eca0ce6ddae7cf0.rlib --extern rand=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gnu/stage\r\n0-std/x86_64-unknown-linux-gnu/release/deps/librand-3a9e8dccb0763fd8.rlib --extern alloc_system=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gnu/stage\r\n0-std/x86_64-unknown-linux-gnu/release/deps/liballoc_system-92088ad3ca26d86d.rlib --extern std_unicode=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gn\r\nu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libstd_unicode-a77984d556d80178.rlib --extern panic_abort=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-li\r\nnux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libpanic_abort-2a59489bf9653084.rlib --extern collections=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unkn\r\nown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libcollections-4ee10d7be4610b32.rlib --extern compiler_builtins=/home/aidanhs/Desktop/rust/rust-tmp/build\r\n/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libcompiler_builtins-47800f01f94aef26.rlib --extern alloc=/home/aidanhs/Desktop/rust/rust-tmp\r\n/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/liballoc-3b92c602cb553647.rlib --extern core=/home/aidanhs/Desktop/rust/rust-tmp/build/\r\nx86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libcore-d0d04b66da2d3e03.rlib --extern unwind=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64\r\n-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps/libunwind-c2bfc8772a2653f6.rlib -L native=/home/aidanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-l\r\ninux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/build/std-89e6156878b3b964/out/.libs --cfg cargobuild -l static=backtrace -l dl -l rt -l pthread -L native=/home/ai\r\ndanhs/Desktop/rust/rust-tmp/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/build/compiler_builtins-6ba51432c6685f3f/out`\r\nerror[E0463]: can't find crate for `alloc_jemalloc`\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: Could not compile `std`.\r\n```\r\n\r\nSeems to get past there fine if I remove `--enable-local-rust`.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39054/timeline", "performed_via_github_app": null, "state_reason": "completed"}