{"url": "https://api.github.com/repos/rust-lang/rust/issues/101024", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/101024/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/101024/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/101024/events", "html_url": "https://github.com/rust-lang/rust/issues/101024", "id": 1351784066, "node_id": "I_kwDOAAsO6M5QkpaC", "number": 101024, "title": "Issue: Bring in Other packages/crates into scope", "user": {"login": "Roushlfy", "id": 96933670, "node_id": "U_kgDOBccXJg", "avatar_url": "https://avatars.githubusercontent.com/u/96933670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Roushlfy", "html_url": "https://github.com/Roushlfy", "followers_url": "https://api.github.com/users/Roushlfy/followers", "following_url": "https://api.github.com/users/Roushlfy/following{/other_user}", "gists_url": "https://api.github.com/users/Roushlfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Roushlfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Roushlfy/subscriptions", "organizations_url": "https://api.github.com/users/Roushlfy/orgs", "repos_url": "https://api.github.com/users/Roushlfy/repos", "events_url": "https://api.github.com/users/Roushlfy/events{/privacy}", "received_events_url": "https://api.github.com/users/Roushlfy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-26T05:50:13Z", "updated_at": "2022-08-26T06:14:15Z", "closed_at": "2022-08-26T06:14:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Issue0826.md](https://github.com/rust-lang/rust/files/9430170/Issue0826.md)\r\n\r\n# Issue: Bring in Other packages/crates into scope\r\n\r\n## Synopsis\r\n\r\nI have encountered some problems when I tried to bring in other packages.\r\n\r\nIn a nutshell, I'm wondering how to use another binary crate in the current binary crate.\r\n\r\n## Description\r\n\r\nThe structure of my project `wordle` is like this:\r\n\r\n`.` is the current directory `wordle`.\r\n\r\n``` shell\r\n.\r\n\u251c\u2500\u2500 Cargo.lock\r\n\u251c\u2500\u2500 Cargo.toml\r\n\u251c\u2500\u2500 Developer's Handbook.md\r\n\u251c\u2500\u2500 Doc.md\r\n\u251c\u2500\u2500 HONOR-CODE.md\r\n\u251c\u2500\u2500 README.md\r\n\u251c\u2500\u2500 f_package\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Cargo.toml\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 src\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 lib.rs\r\n\u251c\u2500\u2500 solver\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Cargo.toml\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 src\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 main.rs\r\n\u251c\u2500\u2500 src\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 builtin_words\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 mod.rs\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 file_operation.rs\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 lib.rs\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.rs\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 parse.rs\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tests.rs\r\n\u2514\u2500\u2500 target\r\n```\r\n\r\nFile:` ./src/f_package/src/lib.rs`\r\n\r\n``` rust\r\nfn f_func1() {}\r\n\r\npub mod f_mod1 {\r\n  pub struct FStruct1 {}\r\n}\r\n\r\npub struct FStruct2 {}\r\n```\r\n\r\nIn `./src/solver/src/main.rs`\r\n\r\n``` rust\r\nfn main() {\r\n  // snip\r\n}\r\n\r\npub mod solver_mod1 {\r\n  pub mod solver_mod2 {\r\n    pub struct SolverStruct1 {}\r\n  }\r\n}\r\n```\r\n\r\nFile: `./Cargo.toml`\r\n\r\nI have added the two packages (or crates?) into the dependencies:\r\n\r\n```\r\n[dependencies]\r\nf_package = { path = \"./f_package\" }\r\nsolver = { path = \"./solver\" }\r\n```\r\n\r\nFile: `./src/lib.rs`\r\n\r\n## Problems\r\n\r\n### Problem No.1\r\n\r\nFirst, I want use the `f_package` in my project `worlde`. I managed to do this by adding `use\u00a0f_package` in the file `./src/main.rs` or in the file `./src/lib.rs`\r\n\r\nFile : `./src/main.rs`\r\n\r\nHere , I want to use `./f_package`, I have to add `use::f_package;` , then I can call all the modules and structs and functions in `f_package`\r\n\r\n``` rust\r\nuse f_package::{self,f_mod1};\r\n// mod f_package\r\nfn main() {\r\n  // snip\r\n  f_mod1::FStruct1{};\r\n  f_package::Struct2{};\r\n  f_package::f_func1();\r\n}\r\n```\r\n\r\nWhy I cannot use `mod\u00a0f_package` / `mod f_package::f_mod1` to bring the `f_package`/`f_mod1` mod into the crate in my project `wordle`?\r\n\r\n\r\n\r\n### Problem No.2\r\n\r\nFile: `./src/main.rs`\r\n\r\n``` rust\r\n// snip\r\nuse solver; // this line generates an error\r\n\r\nfn main() {\r\n  // snip\r\n  solver::solver_mod1{};// the compiler cannot file the module\r\n}\r\n```\r\n\r\n\r\n\r\nWhy can't I bring in the package `solver` like `f_package` ?\r\n\r\n\r\n\r\n### Problem No.3\r\n\r\nNow, I declared a struct `Game` and a mod `miniwordle` in `./src/lib.rs`\r\n\r\nFile: `./src/lib.rs`\r\n\r\n``` rust\r\n// snip\r\npub struct Game {\r\n  // snip\r\n}\r\n\r\npub mod miniwordle {\r\n  // snip\r\n}\r\n```\r\n\r\n\r\n\r\nWhy do I have to use `use wordle::Game` to refer to the struct `Game` in the library crate ?\r\n\r\nActually, there are two crates in my project `wordle` : one generated by `lib.rs`, the other generated by `main.rs`. If I want to use an item in another crate, I have to use `wordle::` to tell the compiler to find a crate tree in my project and look for the item I want ? Does the compiler know which crate I am referring to if there are two crates in one project ?\r\n\r\nThen, how can I use another mod in `lib.rs` ? Why can't I use `mod` statement to bring that crate in `lib.rs` into the crate generated by `main.rs` ?", "closed_by": {"login": "Roushlfy", "id": 96933670, "node_id": "U_kgDOBccXJg", "avatar_url": "https://avatars.githubusercontent.com/u/96933670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Roushlfy", "html_url": "https://github.com/Roushlfy", "followers_url": "https://api.github.com/users/Roushlfy/followers", "following_url": "https://api.github.com/users/Roushlfy/following{/other_user}", "gists_url": "https://api.github.com/users/Roushlfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Roushlfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Roushlfy/subscriptions", "organizations_url": "https://api.github.com/users/Roushlfy/orgs", "repos_url": "https://api.github.com/users/Roushlfy/repos", "events_url": "https://api.github.com/users/Roushlfy/events{/privacy}", "received_events_url": "https://api.github.com/users/Roushlfy/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/101024/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/101024/timeline", "performed_via_github_app": null, "state_reason": "completed"}