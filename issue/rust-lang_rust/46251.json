{"url": "https://api.github.com/repos/rust-lang/rust/issues/46251", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/46251/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/46251/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/46251/events", "html_url": "https://github.com/rust-lang/rust/issues/46251", "id": 276738478, "node_id": "MDU6SXNzdWUyNzY3Mzg0Nzg=", "number": 46251, "title": "Llvm not building on mac os High Sierra", "user": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123111, "node_id": "MDU6TGFiZWwxMjMxMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-macos", "name": "O-macos", "color": "6e6ec0", "default": false, "description": "Operating system: macOS"}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-25T09:33:09Z", "updated_at": "2017-12-17T11:26:53Z", "closed_at": "2017-12-17T11:26:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```sh\r\n$ ./x.py clean && ./x.py build\r\n[...]\r\n[  9%] Building CXX object lib/MC/CMakeFiles/LLVMMC.dir/MCObjectWriter.cpp.o\r\n[  9%] Building CXX object lib/DebugInfo/PDB/CMakeFiles/LLVMDebugInfoPDB.dir/PDBSymbolFuncDebugStart.cpp.o\r\n[  9%] Building CXX object utils/TableGen/CMakeFiles/obj.llvm-tblgen.dir/DisassemblerEmitter.cpp.o\r\n[  9%] Linking CXX static library ../../libLLVMDebugInfoDWARF.a\r\n[  9%] Built target LLVMDebugInfoDWARF\r\n[ 10%] Building CXX object lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/TypeRecord.cpp.o\r\n[ 10%] Building CXX object lib/MC/CMakeFiles/LLVMMC.dir/MCRegisterInfo.cpp.o\r\n[ 10%] Building CXX object lib/DebugInfo/PDB/CMakeFiles/LLVMDebugInfoPDB.dir/PDBSymbolLabel.cpp.o\r\n[ 10%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/FormatVariadic.cpp.o\r\n[ 10%] Linking CXX executable ../../bin/llvm-config\r\nld: library not found for -lLLVM\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [bin/llvm-config] Error 1\r\nmake[1]: *** [tools/llvm-config/CMakeFiles/llvm-config.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\n[ 10%] Building CXX object lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/TypeRecordMapping.cpp.o\r\n[ 10%] Building CXX object lib/MC/CMakeFiles/LLVMMC.dir/MCSchedule.cpp.o\r\n[ 10%] Building CXX object lib/DebugInfo/PDB/CMakeFiles/LLVMDebugInfoPDB.dir/PDBSymbolPublicSymbol.cpp.o\r\n[ 10%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/GlobPattern.cpp.o\r\n[ 10%] Building CXX object lib/MC/CMakeFiles/LLVMMC.dir/MCSection.cpp.o\r\n[...]\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/Program.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/RWMutex.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/SearchForAddressOfSpecialSymbol.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/Signals.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/TargetRegistry.cpp.o\r\n[ 19%] Built target LLVMDebugInfoPDB\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/ThreadLocal.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/Threading.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/Valgrind.cpp.o\r\n[ 19%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/Watchdog.cpp.o\r\n[ 19%] Linking CXX static library ../libLLVMSupport.a\r\n[ 19%] Built target LLVMSupport\r\nmake: *** [all] Error 2\r\nthread 'main' panicked at '\r\ncommand did not execute successfully, got: exit code: 2\r\n\r\nbuild script failed, must exit now', /Users/bjorn/.cargo/registry/src/github.com-1ecc6299db9ec823/cmake-0.1.26/src/lib.rs:599:4\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n   1: std::sys_common::backtrace::_print\r\n   2: std::panicking::default_hook::{{closure}}\r\n   3: std::panicking::default_hook\r\n   4: std::panicking::rust_panic_with_hook\r\n   5: std::panicking::begin_panic\r\n   6: std::panicking::begin_panic_fmt\r\n   7: cmake::fail\r\n   8: cmake::run\r\n   9: cmake::Config::build\r\n  10: <bootstrap::native::Llvm as bootstrap::builder::Step>::run\r\n  11: bootstrap::builder::Builder::ensure\r\n  12: <bootstrap::compile::Rustc as bootstrap::builder::Step>::run\r\n  13: bootstrap::builder::Builder::ensure\r\n  14: <bootstrap::compile::Assemble as bootstrap::builder::Step>::run\r\n  15: bootstrap::builder::Builder::ensure\r\n  16: bootstrap::builder::Builder::compiler\r\n  17: <bootstrap::compile::Assemble as bootstrap::builder::Step>::run\r\n  18: bootstrap::builder::Builder::ensure\r\n  19: bootstrap::builder::Builder::compiler\r\n  20: <bootstrap::compile::Std as bootstrap::builder::Step>::make_run\r\n  21: bootstrap::builder::StepDescription::maybe_run\r\n  22: bootstrap::builder::StepDescription::run\r\n  23: bootstrap::builder::Builder::run\r\n  24: bootstrap::Build::build\r\n  25: bootstrap::main\r\n  26: __rust_maybe_catch_panic\r\n  27: std::rt::lang_start\r\n  28: main\r\n\tfinished in 128.370\r\nfailed to run: /Users/bjorn/Documents/rust_fork/build/bootstrap/debug/bootstrap build\r\nBuild completed unsuccessfully in 0:06:42\r\n```\r\n\r\n<details>\r\n<summary>With `-v`</summary>\r\n\r\n```sh\r\n$ ./x.py build -v\r\nUpdating submodules\r\nrunning: git submodule -q sync\r\nrunning: git submodule update --init --recursive src/llvm src/rt/hoedown src/jemalloc src/tools/rust-installer src/liblibc src/doc/nomicon src/tools/cargo src/doc/reference src/doc/book src/tools/rls src/libcompiler_builtins src/tools/clippy src/tools/rustfmt src/tools/miri src/dlmalloc src/binaryen\r\nrunning: git submodule -q foreach git reset -q --hard\r\nrunning: git submodule -q foreach git clean -qdfx\r\nrunning: /Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/stage0/bin/cargo build --manifest-path /Users/bjorn/Documents/rust_fork/src/bootstrap/Cargo.toml --verbose\r\n       Fresh unicode-xid v0.0.4\r\n       Fresh cc v1.0.3\r\n       Fresh itoa v0.3.4\r\n       Fresh getopts v0.2.15\r\n       Fresh serde v1.0.19\r\n       Fresh num-traits v0.1.40\r\n       Fresh libc v0.2.33\r\n       Fresh dtoa v0.4.2\r\n       Fresh quote v0.3.15\r\n       Fresh lazy_static v0.2.9\r\n       Fresh cfg-if v0.1.2\r\n       Fresh synom v0.11.3\r\n       Fresh cmake v0.1.26\r\n       Fresh toml v0.4.5\r\n       Fresh num_cpus v1.7.0\r\n       Fresh serde_json v1.0.6\r\n       Fresh filetime v0.1.14\r\n       Fresh syn v0.11.11\r\n       Fresh build_helper v0.1.0 (file:///Users/bjorn/Documents/rust_fork/src/build_helper)\r\n       Fresh serde_derive_internals v0.17.0\r\n       Fresh serde_derive v1.0.19\r\n       Fresh bootstrap v0.0.0 (file:///Users/bjorn/Documents/rust_fork/src/bootstrap)\r\n    Finished dev [unoptimized] target(s) in 0.2 secs\r\nrunning: /Users/bjorn/Documents/rust_fork/build/bootstrap/debug/bootstrap build -v\r\nfinding compilers\r\nCC_x86_64-apple-darwin = \"cc\"\r\nAR_x86_64-apple-darwin = \"ar\"\r\nCXX_x86_64-apple-darwin = \"c++\"\r\nrunning sanity check\r\nlearning about cargo\r\n> Assemble { target_compiler: Compiler { stage: 2, host: \"x86_64-apple-darwin\" } }\r\n  > Assemble { target_compiler: Compiler { stage: 1, host: \"x86_64-apple-darwin\" } }\r\n    > Assemble { target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n    < Assemble { target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n    > Rustc { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n      > Test { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n        > Std { target: \"x86_64-apple-darwin\", compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n          > StartupObjects { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n          < StartupObjects { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\nBuilding stage0 std artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n          > Sysroot { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n          < Sysroot { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\nrunning: \"/Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/stage0/bin/cargo\" \"build\" \"--target\" \"x86_64-apple-darwin\" \"-j\" \"8\" \"--release\" \"--features\" \"panic-unwind jemalloc backtrace\" \"--manifest-path\" \"/Users/bjorn/Documents/rust_fork/src/libstd/Cargo.toml\" \"--message-format\" \"json\"\r\n    Finished release [optimized] target(s) in 0.25 secs\r\nnot updating \"/Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/stage0-std/x86_64-apple-darwin/release/.libstd.stamp\"; contents equal and 1511601778.000000000s <= 1511601778.000000000s\r\n          c Assemble { target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n          > StdLink { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\nCopying stage0 std from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\n            > Libdir { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n              c Sysroot { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n            < Libdir { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n            > CleanTools { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\", mode: Libstd }\r\n            < CleanTools { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\", mode: Libstd }\r\n          < StdLink { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n        < Std { target: \"x86_64-apple-darwin\", compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\nBuilding stage0 test artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n        c Sysroot { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\nrunning: \"/Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/stage0/bin/cargo\" \"build\" \"--target\" \"x86_64-apple-darwin\" \"-j\" \"8\" \"--release\" \"--manifest-path\" \"/Users/bjorn/Documents/rust_fork/src/libtest/Cargo.toml\" \"--message-format\" \"json\"\r\n    Finished release [optimized] target(s) in 0.1 secs\r\nnot updating \"/Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/stage0-test/x86_64-apple-darwin/release/.libtest.stamp\"; contents equal and 1511601783.000000000s <= 1511601784.000000000s\r\n        c Assemble { target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" } }\r\n        > TestLink { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\nCopying stage0 test from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)\r\n          c Libdir { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n          > CleanTools { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\", mode: Libtest }\r\n          < CleanTools { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\", mode: Libtest }\r\n        < TestLink { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target_compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n      < Test { compiler: Compiler { stage: 0, host: \"x86_64-apple-darwin\" }, target: \"x86_64-apple-darwin\" }\r\n      > Llvm { target: \"x86_64-apple-darwin\" }\r\nBuilding LLVM for x86_64-apple-darwin\r\nrunning: \"cmake\" \"/Users/bjorn/Documents/rust_fork/src/llvm\" \"-DLLVM_ENABLE_ASSERTIONS=OFF\" \"-DLLVM_TARGETS_TO_BUILD=X86;ARM;AArch64;Mips;PowerPC;SystemZ;JSBackend;MSP430;Sparc;NVPTX;Hexagon\" \"-DLLVM_EXPERIMENTAL_TARGETS_TO_BUILD=\" \"-DLLVM_INCLUDE_EXAMPLES=OFF\" \"-DLLVM_INCLUDE_TESTS=OFF\" \"-DLLVM_INCLUDE_DOCS=OFF\" \"-DLLVM_ENABLE_ZLIB=OFF\" \"-DWITH_POLLY=OFF\" \"-DLLVM_ENABLE_TERMINFO=OFF\" \"-DLLVM_ENABLE_LIBEDIT=OFF\" \"-DLLVM_PARALLEL_COMPILE_JOBS=8\" \"-DLLVM_TARGET_ARCH=x86_64\" \"-DLLVM_DEFAULT_TARGET_TRIPLE=x86_64-apple-darwin\" \"-DLLVM_LINK_LLVM_DYLIB=ON\" \"-DCMAKE_C_COMPILER=cc\" \"-DCMAKE_CXX_COMPILER=c++\" \"-DCMAKE_C_FLAGS=-ffunction-sections -fdata-sections -fPIC -m64 -stdlib=libc++\" \"-DCMAKE_CXX_FLAGS=-ffunction-sections -fdata-sections -fPIC -m64 -stdlib=libc++\" \"-DCMAKE_INSTALL_PREFIX=/Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/llvm\" \"-DCMAKE_BUILD_TYPE=Release\"\r\nCMake Warning at /usr/local/Cellar/cmake/3.9.6/share/cmake/Modules/Platform/Darwin-Initialize.cmake:121 (message):\r\n  Ignoring CMAKE_OSX_SYSROOT value:\r\n\r\n   /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk\r\n\r\n  because the directory does not exist.\r\nCall Stack (most recent call first):\r\n  /usr/local/Cellar/cmake/3.9.6/share/cmake/Modules/CMakeSystemSpecificInitialize.cmake:8 (include)\r\n  CMakeLists.txt:47 (project)\r\n\r\n\r\n-- The ASM compiler identification is unknown\r\n-- Found assembler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc\r\n-- Warning: Did not find file Compiler/-ASM\r\n-- Found libtool - /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool\r\nCMake Warning at CMakeLists.txt:140 (message):\r\n  Job pooling is only available with Ninja generators.\r\n\r\n\r\n-- Native target architecture is X86\r\n-- Threads enabled.\r\n-- Doxygen disabled.\r\n-- Sphinx disabled.\r\n-- Go bindings disabled.\r\n-- Found ld64 - /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ld\r\n-- Could NOT find OCaml (missing: OCAMLFIND OCAML_VERSION OCAML_STDLIB_PATH) \r\n-- Could NOT find OCaml (missing: OCAMLFIND OCAML_VERSION OCAML_STDLIB_PATH) \r\n-- OCaml bindings disabled.\r\n-- LLVM host triple: x86_64-apple-darwin16.6.0\r\n-- LLVM default target triple: x86_64-apple-darwin\r\n-- Building with -fPIC\r\n-- Constructing LLVMBuild project information\r\n-- Targeting X86\r\n-- Targeting ARM\r\n-- Targeting AArch64\r\n-- Targeting Mips\r\n-- Targeting PowerPC\r\n-- Targeting SystemZ\r\n-- Targeting JSBackend\r\n-- Targeting MSP430\r\n-- Targeting Sparc\r\n-- Targeting NVPTX\r\n-- Targeting Hexagon\r\n-- Configuring done\r\nCMake Warning (dev):\r\n  Policy CMP0068 is not set: RPATH settings on macOS do not affect\r\n  install_name.  Run \"cmake --help-policy CMP0068\" for policy details.  Use\r\n  the cmake_policy command to set the policy and suppress this warning.\r\n\r\n  For compatibility with older versions of CMake, the install_name fields for\r\n  the following targets are still affected by RPATH settings:\r\n\r\n   LTO\r\n\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Generating done\r\n-- Build files have been written to: /Users/bjorn/Documents/rust_fork/build/x86_64-apple-darwin/llvm/build\r\nrunning: \"cmake\" \"--build\" \".\" \"--target\" \"install\" \"--config\" \"Release\" \"--\" \"-j\" \"8\"\r\n[  0%] Built target LLVMDemangle\r\n[  1%] Built target LLVMTableGen\r\n[  2%] Built target LLVMMCParser\r\n[  2%] Built target LLVMMCDisassembler\r\n[  5%] Built target LLVMMC\r\n[  5%] Built target LLVMHello_exports\r\n[  7%] Built target obj.llvm-tblgen\r\n[ 12%] Built target LLVMSupport\r\n[ 13%] Built target LLVMObjectYAML\r\n[ 13%] Built target LLVMOption\r\n[ 13%] Built target LLVMDebugInfoMSF\r\n[ 14%] Built target LLVMDebugInfoDWARF\r\n[ 15%] Built target LLVMDebugInfoCodeView\r\n[ 19%] Built target LLVMDebugInfoPDB\r\n[ 19%] Built target LLVMSymbolize\r\nScanning dependencies of target LLVMXRay\r\nScanning dependencies of target FileCheck\r\n[ 19%] Built target LLVMLineEditor\r\nScanning dependencies of target not\r\n[ 19%] Built target llvm-PerfectShuffle\r\nScanning dependencies of target yaml-bench\r\n[ 19%] Built target LTO_exports\r\n[ 19%] Built target count\r\n[ 19%] Building CXX object utils/not/CMakeFiles/not.dir/not.cpp.o\r\n[ 19%] Linking CXX executable ../../bin/llvm-config\r\n[ 19%] Building CXX object lib/XRay/CMakeFiles/LLVMXRay.dir/Trace.cpp.o\r\n[ 19%] Building CXX object utils/yaml-bench/CMakeFiles/yaml-bench.dir/YAMLBench.cpp.o\r\n[ 19%] Building CXX object utils/FileCheck/CMakeFiles/FileCheck.dir/FileCheck.cpp.o\r\nScanning dependencies of target llvm-c-test\r\n[ 19%] Creating export file for BugpointPasses\r\nScanning dependencies of target llvm-cat\r\n[ 19%] Built target BugpointPasses_exports\r\nld: library not found for -lLLVM\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [bin/llvm-config] Error 1\r\nmake[1]: *** [tools/llvm-config/CMakeFiles/llvm-config.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\nScanning dependencies of target llvm-cov\r\n[ 19%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/attributes.c.o\r\n[ 19%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/calc.c.o\r\n[ 19%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/diagnostic.c.o\r\n[ 19%] Building CXX object tools/llvm-cat/CMakeFiles/llvm-cat.dir/llvm-cat.cpp.o\r\n[ 19%] Linking CXX executable ../../bin/not\r\n[ 20%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/disassemble.c.o\r\n[ 20%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/llvm-cov.cpp.o\r\n[ 20%] Building CXX object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/echo.cpp.o\r\n[ 20%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/gcov.cpp.o\r\n[ 20%] Linking CXX executable ../../bin/yaml-bench\r\n[ 20%] Built target not\r\nIn file included from /Users/bjorn/Documents/rust_fork/src/llvm/tools/llvm-cat/llvm-cat.cpp:16:\r\nIn file included from /Users/bjorn/Documents/rust_fork/src/llvm/include/llvm/Bitcode/BitcodeReader.h:19:\r\nIn file included from /Users/bjorn/Documents/rust_fork/src/llvm/include/llvm/IR/ModuleSummaryIndex.h:25:\r\nIn file included from /Users/bjorn/Documents/rust_fork/src/llvm/include/llvm/IR/Module.h:21:\r\nIn file included from /Users/bjorn/Documents/rust_fork/src/llvm/include/llvm/IR/Function.h:24:\r\nIn file included from /Users/bjorn/Documents/rust_fork/src/llvm/include/llvm/IR/Argument.h:19:\r\n/Users/bjorn/Documents/rust_fork/src/llvm/include/llvm/IR/Attributes.h:71:14: fatal error: 'llvm/IR/Attributes.gen' file not found\r\n    #include \"llvm/IR/Attributes.gen\"\r\n             ^~~~~~~~~~~~~~~~~~~~~~~~\r\n[ 20%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/helpers.c.o\r\n[ 20%] Linking CXX static library ../libLLVMXRay.a\r\n1 error generated.\r\nmake[2]: *** [tools/llvm-cat/CMakeFiles/llvm-cat.dir/llvm-cat.cpp.o] Error 1\r\nmake[1]: *** [tools/llvm-cat/CMakeFiles/llvm-cat.dir/all] Error 2\r\n[ 20%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/CodeCoverage.cpp.o\r\n[ 20%] Built target yaml-bench\r\n[ 20%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/include-all.c.o\r\n[ 20%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/CoverageExporterJson.cpp.o\r\n[ 20%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/CoverageFilters.cpp.o\r\n[ 20%] Built target LLVMXRay\r\n[ 20%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/main.c.o\r\n[ 21%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/CoverageReport.cpp.o\r\n[ 21%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/CoverageSummaryInfo.cpp.o\r\n[ 21%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/module.c.o\r\n[ 21%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/metadata.c.o\r\n[ 21%] Linking CXX executable ../../bin/FileCheck\r\n[ 21%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/object.c.o\r\n[ 21%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/SourceCoverageView.cpp.o\r\n[ 21%] Building C object tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/targets.c.o\r\n[ 21%] Built target FileCheck\r\n[ 21%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/SourceCoverageViewHTML.cpp.o\r\n[ 21%] Linking CXX executable ../../bin/llvm-c-test\r\n[ 21%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/SourceCoverageViewText.cpp.o\r\nld: library not found for -lLLVM\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [bin/llvm-c-test] Error 1\r\nmake[1]: *** [tools/llvm-c-test/CMakeFiles/llvm-c-test.dir/all] Error 2\r\n[ 21%] Building CXX object tools/llvm-cov/CMakeFiles/llvm-cov.dir/TestingSupport.cpp.o\r\n[ 21%] Linking CXX executable ../../bin/llvm-cov\r\nld: library not found for -lLLVM\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [bin/llvm-cov] Error 1\r\nmake[1]: *** [tools/llvm-cov/CMakeFiles/llvm-cov.dir/all] Error 2\r\nmake: *** [all] Error 2\r\nthread 'main' panicked at '\r\ncommand did not execute successfully, got: exit code: 2\r\n\r\nbuild script failed, must exit now', /Users/bjorn/.cargo/registry/src/github.com-1ecc6299db9ec823/cmake-0.1.26/src/lib.rs:599:4\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n   1: std::sys_common::backtrace::_print\r\n   2: std::panicking::default_hook::{{closure}}\r\n   3: std::panicking::default_hook\r\n   4: std::panicking::rust_panic_with_hook\r\n   5: std::panicking::begin_panic\r\n   6: std::panicking::begin_panic_fmt\r\n   7: cmake::fail\r\n   8: cmake::run\r\n   9: cmake::Config::build\r\n  10: <bootstrap::native::Llvm as bootstrap::builder::Step>::run\r\n  11: bootstrap::builder::Builder::ensure\r\n  12: <bootstrap::compile::Rustc as bootstrap::builder::Step>::run\r\n  13: bootstrap::builder::Builder::ensure\r\n  14: <bootstrap::compile::Assemble as bootstrap::builder::Step>::run\r\n  15: bootstrap::builder::Builder::ensure\r\n  16: bootstrap::builder::Builder::compiler\r\n  17: <bootstrap::compile::Assemble as bootstrap::builder::Step>::run\r\n  18: bootstrap::builder::Builder::ensure\r\n  19: bootstrap::builder::Builder::compiler\r\n  20: <bootstrap::compile::Std as bootstrap::builder::Step>::make_run\r\n  21: bootstrap::builder::StepDescription::maybe_run\r\n  22: bootstrap::builder::StepDescription::run\r\n  23: bootstrap::builder::Builder::run\r\n  24: bootstrap::Build::build\r\n  25: bootstrap::main\r\n  26: __rust_maybe_catch_panic\r\n  27: std::rt::lang_start\r\n  28: main\r\n\tfinished in 25.887\r\nTraceback (most recent call last):\r\n  File \"./x.py\", line 20, in <module>\r\n    bootstrap.main()\r\n  File \"/Users/bjorn/Documents/rust_fork/src/bootstrap/bootstrap.py\", line 758, in main\r\n    bootstrap()\r\n  File \"/Users/bjorn/Documents/rust_fork/src/bootstrap/bootstrap.py\", line 749, in bootstrap\r\n    run(args, env=env, verbose=build.verbose)\r\n  File \"/Users/bjorn/Documents/rust_fork/src/bootstrap/bootstrap.py\", line 148, in run\r\n    raise RuntimeError(err)\r\nRuntimeError: failed to run: /Users/bjorn/Documents/rust_fork/build/bootstrap/debug/bootstrap build -v\r\n```\r\n\r\n</details>", "closed_by": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/46251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/46251/timeline", "performed_via_github_app": null, "state_reason": "completed"}