{"url": "https://api.github.com/repos/rust-lang/rust/issues/25801", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25801/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25801/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25801/events", "html_url": "https://github.com/rust-lang/rust/issues/25801", "id": 81080789, "node_id": "MDU6SXNzdWU4MTA4MDc4OQ==", "number": 25801, "title": "Compiler panic when building a Piston example", "user": {"login": "yzsolt", "id": 1765019, "node_id": "MDQ6VXNlcjE3NjUwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1765019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzsolt", "html_url": "https://github.com/yzsolt", "followers_url": "https://api.github.com/users/yzsolt/followers", "following_url": "https://api.github.com/users/yzsolt/following{/other_user}", "gists_url": "https://api.github.com/users/yzsolt/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzsolt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzsolt/subscriptions", "organizations_url": "https://api.github.com/users/yzsolt/orgs", "repos_url": "https://api.github.com/users/yzsolt/repos", "events_url": "https://api.github.com/users/yzsolt/events{/privacy}", "received_events_url": "https://api.github.com/users/yzsolt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-26T18:30:42Z", "updated_at": "2016-05-28T17:24:10Z", "closed_at": "2016-05-28T17:24:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to compile [the \"paint\" Piston example](https://github.com/pistondevelopers/piston-examples) and it caused a compiler panic.\n\nHere's the output of `cargo build` (with backtrace):\n\n```\nCompiling piston-example-paint v0.0.1 (file:///home/yzsolt/piston-examples/paint)\nsrc/main.rs:25:43: 25:49 error: mismatched types:\n expected `&image::buffer::ImageBuffer<image::color::Rgba<u8>, collections::vec::Vec<u8>>`,\n    found `&image::buffer::ImageBuffer<_, collections::vec::Vec<_>>`\n(expected struct `image::buffer::ImageBuffer`,\n    found a different struct `image::buffer::ImageBuffer`) [E0308]\nsrc/main.rs:25     let mut texture = Texture::from_image(&image);\n                                                         ^~~~~~\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'index out of bounds: the len is 37 but the index is 37', /build/rust/src/rustc-1.0.0/src/libcollections/vec.rs:1322\n\nstack backtrace:\n   1:     0x7f23d8dec189 - sys::backtrace::write::h85e36588f6ec519ed4r\n   2:     0x7f23d8df3e96 - panicking::on_panic::h6e154bbd20295560jrw\n   3:     0x7f23d8db71a2 - rt::unwind::begin_unwind_inner::h58d8677c31c147e6t6v\n   4:     0x7f23d8db7e4c - rt::unwind::begin_unwind_fmt::h924efd716b4278c074v\n   5:     0x7f23d8df3a76 - rust_begin_unwind\n   6:     0x7f23d8e37274 - panicking::panic_fmt::he302f86ae5ca12d0wwy\n   7:     0x7f23d8e412ac - panicking::panic_bounds_check::h0006437796ea41ccCvy\n   8:     0x7f23d6e8f61e - middle::infer::freshen::TypeFreshener<'a, 'tcx>.TypeFolder<'tcx>::fold_ty::hd03be5b5df7cb4cd3kx\n   9:     0x7f23d6e90a09 - middle::ty_fold::TypeFolder::fold_substs::h13506550789086939651\n  10:     0x7f23d6f0abfc - middle::traits::select::SelectionContext<'cx, 'tcx>::select::ha27324e58b941879vhR\n  11:     0x7f23d6f08601 - middle::traits::fulfill::FulfillmentContext<'tcx>::select::h24418ff3661cf949G9O\n  12:     0x7f23d6f07bfb - middle::traits::fulfill::FulfillmentContext<'tcx>::select_where_possible::h1b1b20a693127c22U8O\n  13:     0x7f23d7bd68a8 - check::vtable::select_fcx_obligations_where_possible::h6ed02761439d9a31r5b\n  14:     0x7f23d7bf491a - check::FnCtxt<'a, 'tcx>::resolve_type_vars_if_possible::h2b039f2e722e94c1Vwo\n  15:     0x7f23d7bfb60e - check::demand::coerce::h5b1ebb0eeb6f28407Hf\n  16:     0x7f23d7c9313b - check::check_expr_with_unifier::h13999909920734200217\n  17:     0x7f23d7cb8dcb - check::check_decl_local::hcf2fbd7dd5722f7chOr\n  18:     0x7f23d7c63821 - check::check_block_with_expected::h9c0ca1993108b874nUr\n  19:     0x7f23d7c46376 - check::check_fn::ha75f672cf1690b53UGn\n  20:     0x7f23d7c5f244 - check::check_bare_fn::h16e5c54944c58ce3twn\n  21:     0x7f23d7c5d3a2 - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::h960d90c3a6588469wtn\n  22:     0x7f23d7d2134a - check_crate::closure.38028\n  23:     0x7f23d7d1c6e0 - check_crate::h16da0c29bfd97789XcC\n  24:     0x7f23d9326a08 - driver::phase_3_run_analysis_passes::h7268293564f4d974nGa\n  25:     0x7f23d9307b05 - driver::compile_input::hf89ed7761a9a5930Qba\n  26:     0x7f23d93c8fd1 - run_compiler::h61cd16b138828888z4b\n  27:     0x7f23d93c6c22 - boxed::F.FnBox<A>::call_box::h3676213088059194772\n  28:     0x7f23d93c6159 - rt::unwind::try::try_fn::h2238843044414567073\n  29:     0x7f23d8e5db28 - rust_try_inner\n  30:     0x7f23d8e5db15 - rust_try\n  31:     0x7f23d93c6408 - boxed::F.FnBox<A>::call_box::h6492341214887270608\n  32:     0x7f23d8df2d81 - sys::thread::create::thread_start::ha66925ca4f47d19baqv\n  33:     0x7f23d387e353 - start_thread\n  34:     0x7f23d8a4cbfc - __clone\n  35:                0x0 - <unknown>\n\nCould not compile `piston-example-paint`.\n```\n\nOutput of `rustc --version --verbose`:\n\n```\nrustc 1.0.0-dev (built 2015-05-17)\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nbuild-date: 2015-05-17\nhost: x86_64-unknown-linux-gnu\nrelease: 1.0.0-dev\n```\n\n(This is the official rust package for Arch Linux)\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25801/timeline", "performed_via_github_app": null, "state_reason": "completed"}