{"url": "https://api.github.com/repos/rust-lang/rust/issues/60127", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/60127/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/60127/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/60127/events", "html_url": "https://github.com/rust-lang/rust/issues/60127", "id": 435328421, "node_id": "MDU6SXNzdWU0MzUzMjg0MjE=", "number": 60127, "title": "error: internal compiler error: unexpected region in query response: `ReScope(Destruction(219))`", "user": {"login": "RyanBluth", "id": 5282031, "node_id": "MDQ6VXNlcjUyODIwMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5282031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanBluth", "html_url": "https://github.com/RyanBluth", "followers_url": "https://api.github.com/users/RyanBluth/followers", "following_url": "https://api.github.com/users/RyanBluth/following{/other_user}", "gists_url": "https://api.github.com/users/RyanBluth/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanBluth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanBluth/subscriptions", "organizations_url": "https://api.github.com/users/RyanBluth/orgs", "repos_url": "https://api.github.com/users/RyanBluth/repos", "events_url": "https://api.github.com/users/RyanBluth/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanBluth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-04-19T23:12:43Z", "updated_at": "2019-05-04T10:22:29Z", "closed_at": "2019-05-04T10:22:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I went through the process of updating one of my projects from actix-web 0.7 to 1.0 and ran into a compiler bug. I'm not sure what is causing the issue because I had to change a lot of code to get to this point. Cargo check passes but cargo run produces the provided backtrace.\r\n\r\nHere is a link to the project that produces the issue:\r\n[Source Code](https://drive.google.com/file/d/1sBL-0vEzo6jlA_-gHuLXfbZ4orQSiVAz/view?usp=sharing)\r\n\r\n## Meta\r\n\r\nrustc 1.34.0 (91856ed52 2019-04-10)\r\nbinary: rustc\r\ncommit-hash: 91856ed52c58aa5ba66a015354d1cc69e9779bdf\r\ncommit-date: 2019-04-10\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.34.0\r\nLLVM version: 8.0\r\n\r\nBacktrace: \r\n```\r\nerror: internal compiler error: unexpected region in query response: `ReScope(Destruction(219))`\r\n\r\nthread 'rustc' panicked at 'no errors encountered even though `delay_span_bug` issued', src/librustc_errors/lib.rs:354:17\r\nstack backtrace:\r\n   0:     0x7f23cd2fde53 - std::sys::unix::backtrace::tracing::imp::unwind_backtrace::hd71462e61ec5c76e\r\n                               at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:39\r\n   1:     0x7f23cd2f655b - std::sys_common::backtrace::_print::hae2106692f421f30\r\n                               at src/libstd/sys_common/backtrace.rs:70\r\n   2:     0x7f23cd2fa0b6 - std::panicking::default_hook::{{closure}}::h4e372307f318ae92\r\n                               at src/libstd/sys_common/backtrace.rs:58\r\n                               at src/libstd/panicking.rs:200\r\n   3:     0x7f23cd2f9e34 - std::panicking::default_hook::hb6f777c87029e950\r\n                               at src/libstd/panicking.rs:215\r\n   4:     0x7f23c948206f - rustc::util::common::panic_hook::h75e82952bcc200c3\r\n   5:     0x7f23cd2fa8a8 - std::panicking::rust_panic_with_hook::h49d43efebcb63d45\r\n                               at src/libstd/panicking.rs:482\r\n   6:     0x7f23c8218184 - std::panicking::begin_panic::h6ebe56746cc56638\r\n   7:     0x7f23c82345f4 - <rustc_errors::Handler as core::ops::drop::Drop>::drop::hef827629e4ce9ecc\r\n   8:     0x7f23cd6c2651 - core::ptr::real_drop_in_place::hcc2b600d1fae643c\r\n   9:     0x7f23cd6c4230 - core::ptr::real_drop_in_place::hf3f5d5902e82ca0d\r\n  10:     0x7f23cd6c4b53 - core::ptr::real_drop_in_place::hfc487cb4d89cbd7e\r\n  11:     0x7f23cd6c9c44 - syntax::with_globals::hb84a324ec1ebdbc3\r\n  12:     0x7f23cd30bb19 - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:87\r\n  13:     0x7f23cd708f70 - <F as alloc::boxed::FnBox<A>>::call_box::h91432f0e06b88aa0\r\n  14:     0x7f23cd30a85d - std::sys::unix::thread::Thread::new::thread_start::hb4e0e015a1494c74\r\n                               at /rustc/91856ed52c58aa5ba66a015354d1cc69e9779bdf/src/liballoc/boxed.rs:759\r\n                               at src/libstd/sys_common/thread.rs:14\r\n                               at src/libstd/sys/unix/thread.rs:81\r\n  15:     0x7f23cd257163 - start_thread\r\n  16:     0x7f23cd16ddee - __clone\r\n  17:                0x0 - <unknown>\r\nquery stack during panic:\r\nend of query stack\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.34.0 (91856ed52 2019-04-10) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: -C debuginfo=2 -C incremental --crate-type bin\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nerror: Could not compile `icebreaker_server`.\r\n\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/60127/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/60127/timeline", "performed_via_github_app": null, "state_reason": "completed"}