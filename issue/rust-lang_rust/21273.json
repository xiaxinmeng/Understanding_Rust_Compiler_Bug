{"url": "https://api.github.com/repos/rust-lang/rust/issues/21273", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21273/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21273/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21273/events", "html_url": "https://github.com/rust-lang/rust/issues/21273", "id": 54644070, "node_id": "MDU6SXNzdWU1NDY0NDA3MA==", "number": 21273, "title": "error: internal compiler error: this path should not cause illegal move", "user": {"login": "andrewrk", "id": 106511, "node_id": "MDQ6VXNlcjEwNjUxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewrk", "html_url": "https://github.com/andrewrk", "followers_url": "https://api.github.com/users/andrewrk/followers", "following_url": "https://api.github.com/users/andrewrk/following{/other_user}", "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions", "organizations_url": "https://api.github.com/users/andrewrk/orgs", "repos_url": "https://api.github.com/users/andrewrk/repos", "events_url": "https://api.github.com/users/andrewrk/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewrk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-17T00:58:38Z", "updated_at": "2015-01-17T19:54:17Z", "closed_at": "2015-01-17T19:54:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is the code that generates the issue:\nhttps://github.com/andrewrk/rust-groove/tree/rust-bug-1\n\nHere is the output:\n\n```\nandy@andy-bx:~/dev/rust-groove$ uname -a\nLinux andy-bx 3.16.0-25-generic #33-Ubuntu SMP Tue Nov 4 12:06:54 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\nandy@andy-bx:~/dev/rust-groove$ rustc --version --verbose\nrustc 1.0.0-nightly (8903c21d6 2015-01-15 22:42:58 +0000)\nbinary: rustc\ncommit-hash: 8903c21d618fd25dca61d9bb668c5299d21feac9\ncommit-date: 2015-01-15 22:42:58 +0000\nhost: x86_64-unknown-linux-gnu\nrelease: 1.0.0-nightly\nandy@andy-bx:~/dev/rust-groove$ RUST_BACKTRACE=1 cargo test --verbose\n   Compiling groove v0.0.1 (file:///home/andy/dev/rust-groove)\n     Running `rustc src/lib.rs --crate-name groove --crate-type lib -g -C metadata=26cd79f71fc2edaa -C extra-filename=-26cd79f71fc2edaa --out-dir /home/andy/dev/rust-groove/target --emit=dep-info,link -L dependency=/home/andy/dev/rust-groove/target -L dependency=/home/andy/dev/rust-groove/target/deps`\n     Running `rustc src/lib.rs --crate-name groove --crate-type lib -g --test -C metadata=3f428b811436bb9b -C extra-filename=-3f428b811436bb9b --out-dir /home/andy/dev/rust-groove/target --emit=dep-info,link -L dependency=/home/andy/dev/rust-groove/target -L dependency=/home/andy/dev/rust-groove/target/deps`\nsrc/lib.rs:26:31: 26:48 error: internal compiler error: this path should not cause illegal move\nsrc/lib.rs:26             let groove_file = *self.groove_file;\n                                            ^~~~~~~~~~~~~~~~~\nsrc/lib.rs:26:31: 26:48 error: internal compiler error: this path should not cause illegal move\nsrc/lib.rs:26             let groove_file = *self.groove_file;\n                                            ^~~~~~~~~~~~~~~~~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libsyntax/diagnostic.rs:123\n\nstack backtrace:\n   1:     0x7f41d1366000 - sys::backtrace::write::h7e8ba1fc274cc36epRt\n   2:     0x7f41d13879e0 - failure::on_fail::h823798930ebe140a64z\n   3:     0x7f41d12f67b0 - rt::unwind::begin_unwind_inner::ha4a8df6010104da6ZJz\n   4:     0x7f41cbf61330 - rt::unwind::begin_unwind::h2017061421562134061\n   5:     0x7f41cbf612c0 - diagnostic::SpanHandler::span_bug::h26a451e055cae458CYF\n   6:     0x7f41cf44c810 - session::Session::span_bug::h64d8052083ced862Ebr\n   7:     0x7f41d00216c0 - borrowck::build_borrowck_dataflow_data::h8c638256049ffbefKRe\n   8:     0x7f41d001e400 - borrowck::borrowck_fn::hdc6b07f7f72f47a26Oe\n   9:     0x7f41d0021570 - visit::walk_method_helper::h16178071186034281973\n  10:     0x7f41d001f310 - borrowck::borrowck_item::h22dfd39207f6713d3Ne\n  11:     0x7f41d001f880 - borrowck::check_crate::hd2a6930915fc4577UIe\n  12:     0x7f41d18b82e0 - driver::phase_3_run_analysis_passes::h77110bff138a8fd0EEa\n  13:     0x7f41d18a5d70 - driver::compile_input::h8ec974b2bd4afe59Aba\n  14:     0x7f41d19674d0 - run_compiler::h0e495a7c10e57aaae5b\n  15:     0x7f41d1965c40 - thunk::F.Invoke<A, R>::invoke::h12226774702741163622\n  16:     0x7f41d1964ba0 - rt::unwind::try::try_fn::h67848939709837360\n  17:     0x7f41d13eeb90 - rust_try_inner\n  18:     0x7f41d13eeb80 - rust_try\n  19:     0x7f41d1964e50 - thunk::F.Invoke<A, R>::invoke::h15720675569063176780\n  20:     0x7f41d1375680 - sys::thread::thread_start::h2ac456e96ea03cedcJw\n  21:     0x7f41cb77afe0 - start_thread\n  22:     0x7f41d0f97859 - __clone\n  23:                0x0 - <unknown>\n\nBuild failed, waiting for other jobs to finish...\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libsyntax/diagnostic.rs:123\n\nstack backtrace:\n   1:     0x7f34d7a2f000 - sys::backtrace::write::h7e8ba1fc274cc36epRt\n   2:     0x7f34d7a509e0 - failure::on_fail::h823798930ebe140a64z\n   3:     0x7f34d79bf7b0 - rt::unwind::begin_unwind_inner::ha4a8df6010104da6ZJz\n   4:     0x7f34d262a330 - rt::unwind::begin_unwind::h2017061421562134061\n   5:     0x7f34d262a2c0 - diagnostic::SpanHandler::span_bug::h26a451e055cae458CYF\n   6:     0x7f34d5b15810 - session::Session::span_bug::h64d8052083ced862Ebr\n   7:     0x7f34d66ea6c0 - borrowck::build_borrowck_dataflow_data::h8c638256049ffbefKRe\n   8:     0x7f34d66e7400 - borrowck::borrowck_fn::hdc6b07f7f72f47a26Oe\n   9:     0x7f34d66ea570 - visit::walk_method_helper::h16178071186034281973\n  10:     0x7f34d66e8310 - borrowck::borrowck_item::h22dfd39207f6713d3Ne\n  11:     0x7f34d66e8880 - borrowck::check_crate::hd2a6930915fc4577UIe\n  12:     0x7f34d7f812e0 - driver::phase_3_run_analysis_passes::h77110bff138a8fd0EEa\n  13:     0x7f34d7f6ed70 - driver::compile_input::h8ec974b2bd4afe59Aba\n  14:     0x7f34d80304d0 - run_compiler::h0e495a7c10e57aaae5b\n  15:     0x7f34d802ec40 - thunk::F.Invoke<A, R>::invoke::h12226774702741163622\n  16:     0x7f34d802dba0 - rt::unwind::try::try_fn::h67848939709837360\n  17:     0x7f34d7ab7b90 - rust_try_inner\n  18:     0x7f34d7ab7b80 - rust_try\n  19:     0x7f34d802de50 - thunk::F.Invoke<A, R>::invoke::h15720675569063176780\n  20:     0x7f34d7a3e680 - sys::thread::thread_start::h2ac456e96ea03cedcJw\n  21:     0x7f34d1e43fe0 - start_thread\n  22:     0x7f34d7660859 - __clone\n  23:                0x0 - <unknown>\n\nCould not compile `groove`.\n\nCaused by:\n  Process didn't exit successfully: `rustc src/lib.rs --crate-name groove --crate-type lib -g -C metadata=26cd79f71fc2edaa -C extra-filename=-26cd79f71fc2edaa --out-dir /home/andy/dev/rust-groove/target --emit=dep-info,link -L dependency=/home/andy/dev/rust-groove/target -L dependency=/home/andy/dev/rust-groove/target/deps` (status=101)\n```\n", "closed_by": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21273/timeline", "performed_via_github_app": null, "state_reason": "completed"}