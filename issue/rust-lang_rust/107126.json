{"url": "https://api.github.com/repos/rust-lang/rust/issues/107126", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/107126/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/107126/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/107126/events", "html_url": "https://github.com/rust-lang/rust/issues/107126", "id": 1551231470, "node_id": "I_kwDOAAsO6M5cdenu", "number": 107126, "title": "Master build from source fails at stage 1", "user": {"login": "JakubSilar3D", "id": 79645568, "node_id": "MDQ6VXNlcjc5NjQ1NTY4", "avatar_url": "https://avatars.githubusercontent.com/u/79645568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakubSilar3D", "html_url": "https://github.com/JakubSilar3D", "followers_url": "https://api.github.com/users/JakubSilar3D/followers", "following_url": "https://api.github.com/users/JakubSilar3D/following{/other_user}", "gists_url": "https://api.github.com/users/JakubSilar3D/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakubSilar3D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakubSilar3D/subscriptions", "organizations_url": "https://api.github.com/users/JakubSilar3D/orgs", "repos_url": "https://api.github.com/users/JakubSilar3D/repos", "events_url": "https://api.github.com/users/JakubSilar3D/events{/privacy}", "received_events_url": "https://api.github.com/users/JakubSilar3D/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-20T17:43:28Z", "updated_at": "2023-01-21T17:36:13Z", "closed_at": "2023-01-21T17:14:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Absolutely does not hurt me, happy to provide more info.\r\nsource o on master, all submodules up to date,\r\nmaster on 04a41f889f563b2384c63c990b5423d201d62ebd.. \r\nPriority for me is: you asked me to report :)\r\n\r\n```\r\nBuilding stage1 compiler artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n.\r\n.\r\n.\r\n\r\n\r\n   Compiling fluent-syntax v0.11.0\r\nthread 'rustc' panicked at 'index out of bounds: the len is 36915 but the index is 36915', compiler/rustc_metadata/src/rmeta/decoder.rs:668:1\r\nthread 'rustc' panicked at 'index out of bounds: the len is 36915 but the index is 36915', compiler/rustc_metadata/src/rmeta/decoder.rs:668:1\r\nstack backtrace:\r\nstack backtrace:\r\n   0:     0x7f656d1e3fb9 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h6f4a713c17bbc504\r\n   0:     0x7fd1589d8fb9 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h6f4a713c17bbc504\r\n   1:     0x7f656d2548ee - core::fmt::write::hb0604da2144e5448\r\n   1:     0x7fd158a498ee - core::fmt::write::hb0604da2144e5448\r\n   2:     0x7f656d1a8d05 - std::io::Write::write_fmt::hfeb77003950f234a\r\n   2:     0x7fd15899dd05 - std::io::Write::write_fmt::hfeb77003950f234a\r\n   3:     0x7f656d1e3d75 - std::sys_common::backtrace::print::h28c5bb42f7d0a086\r\n   3:     0x7fd1589d8d75 - std::sys_common::backtrace::print::h28c5bb42f7d0a086\r\n   4:     0x7f656d1b878f - std::panicking::default_hook::{{closure}}::h2c272d69c2dc2d74\r\n   4:     0x7fd1589ad78f - std::panicking::default_hook::{{closure}}::h2c272d69c2dc2d74\r\n   5:     0x7f656d1b844a - std::panicking::default_hook::h7853f9ddcc3ff849\r\n   5:     0x7fd1589ad44a - std::panicking::default_hook::h7853f9ddcc3ff849\r\n   6:     0x7f656dedbc25 - rustc_driver[a8ab4d63811fa71]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   6:     0x7fd1596d0c25 - rustc_driver[a8ab4d63811fa71]::DEFAULT_HOOK::{closure#0}::{closure#0}\r\n   7:     0x7f656d1b8f80 - std::panicking::rust_panic_with_hook::h1aeaa4f0cfa367bf\r\n   7:     0x7fd1589adf80 - std::panicking::rust_panic_with_hook::h1aeaa4f0cfa367bf\r\n   8:     0x7fd1589da269 - std::panicking::begin_panic_handler::{{closure}}::h0d0677a4a648fcf1\r\n   8:     0x7f656d1e5269 - std::panicking::begin_panic_handler::{{closure}}::h0d0677a4a648fcf1\r\n   9:     0x7fd1589d910c - std::sys_common::backtrace::__rust_end_short_backtrace::hba400e2fb7990386\r\n   9:     0x7f656d1e410c - std::sys_common::backtrace::__rust_end_short_backtrace::hba400e2fb7990386\r\n  10:     0x7f656d1b8ae2 - rust_begin_unwind\r\n  11:     0x7f656d186cc3 - core::panicking::panic_fmt::hafdeea24cc142aec\r\n  10:     0x7fd1589adae2 - rust_begin_unwind\r\n  12:     0x7f656d186e32 - core::panicking::panic_bounds_check::h56ad238c1acd9b82\r\n  11:     0x7fd15897bcc3 - core::panicking::panic_fmt::hafdeea24cc142aec\r\n  13:     0x7f6572eb5a4c - <rustc_metadata[a03e1ae00c37b23f]::rmeta::CrateRoot as rustc_serialize[9be324ea5edbf312]::serialize::Decodable<rustc_metadata[a03e1ae00c37b23f]::rmeta::decoder::DecodeContext>>::decode\r\n  12:     0x7fd15897be32 - core::panicking::panic_bounds_check::h56ad238c1acd9b82\r\n  13:     0x7fd15e6aaa4c - <rustc_metadata[a03e1ae00c37b23f]::rmeta::CrateRoot as rustc_serialize[9be324ea5edbf312]::serialize::Decodable<rustc_metadata[a03e1ae00c37b23f]::rmeta::decoder::DecodeContext>>::decode\r\n  14:     0x7f6572e13613 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::extract_one\r\n  15:     0x7f6572e12522 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::extract_lib\r\n  14:     0x7fd15e608613 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::extract_one\r\n  16:     0x7f6572e11077 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::find_library_crate\r\n  15:     0x7fd15e607522 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::extract_lib\r\n  16:     0x7fd15e606077 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::find_library_crate\r\n  17:     0x7f6572e0f440 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::maybe_load_library_crate\r\n  18:     0x7f6572ede6ad - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::load\r\n  17:     0x7fd15e604440 - <rustc_metadata[a03e1ae00c37b23f]::locator::CrateLocator>::maybe_load_library_crate\r\n  19:     0x7f6572edb42e - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::maybe_resolve_crate\r\n  20:     0x7f6572edd3c7 - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::maybe_resolve_crate\r\n  18:     0x7fd15e6d36ad - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::load\r\n  19:     0x7fd15e6d042e - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::maybe_resolve_crate\r\n  21:     0x7f6572ee128d - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::maybe_process_path_extern\r\n  20:     0x7fd15e6d23c7 - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::maybe_resolve_crate\r\n  22:     0x7f6571d0b181 - <rustc_resolve[79d3dd1a5cc2e18]::Resolver>::extern_prelude_get\r\n  23:     0x7f6571d0e98b - <rustc_resolve[79d3dd1a5cc2e18]::Resolver>::early_resolve_ident_in_lexical_scope\r\n  21:     0x7fd15e6d628d - <rustc_metadata[a03e1ae00c37b23f]::creader::CrateLoader>::maybe_process_path_extern\r\n  24:     0x7f6571cf1acd - <rustc_resolve[79d3dd1a5cc2e18]::Resolver>::resolve_path_with_ribs\r\n  22:     0x7fd15d500181 - <rustc_resolve[79d3dd1a5cc2e18]::Resolver>::extern_prelude_get\r\n  25:     0x7f6571d4081e - <rustc_resolve[79d3dd1a5cc2e18]::imports::ImportResolver>::resolve_imports\r\n  23:     0x7fd15d50398b - <rustc_resolve[79d3dd1a5cc2e18]::Resolver>::early_resolve_ident_in_lexical_scope\r\n  26:     0x7f6571cf6e2d - <rustc_resolve[79d3dd1a5cc2e18]::Resolver as rustc_expand[64c190404128a399]::base::ResolverExpand>::resolve_imports\r\n  24:     0x7fd15d4e6acd - <rustc_resolve[79d3dd1a5cc2e18]::Resolver>::resolve_path_with_ribs\r\n  27:     0x7f6573076db7 - <rustc_expand[64c190404128a399]::expand::MacroExpander>::fully_expand_fragment\r\n  28:     0x7f6573076a06 - <rustc_expand[64c190404128a399]::expand::MacroExpander>::expand_crate\r\n  25:     0x7fd15d53581e - <rustc_resolve[79d3dd1a5cc2e18]::imports::ImportResolver>::resolve_imports\r\n  26:     0x7fd15d4ebe2d - <rustc_resolve[79d3dd1a5cc2e18]::Resolver as rustc_expand[64c190404128a399]::base::ResolverExpand>::resolve_imports\r\n  27:     0x7fd15e86bdb7 - <rustc_expand[64c190404128a399]::expand::MacroExpander>::fully_expand_fragment\r\n  29:     0x7f656e043df4 - <rustc_session[41bd6fdbe096cb13]::session::Session>::time::<core[3d15cbc1632fd665]::result::Result<rustc_ast[7ee88c495c439f9e]::ast::Crate, rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_interface[eaeda0d86261ec45]::passes::configure_and_expand::{closure#1}>\r\n  28:     0x7fd15e86ba06 - <rustc_expand[64c190404128a399]::expand::MacroExpander>::expand_crate\r\n  30:     0x7f656e019aa0 - rustc_interface[eaeda0d86261ec45]::passes::configure_and_expand\r\n  31:     0x7f656e040911 - <rustc_interface[eaeda0d86261ec45]::queries::Queries>::expansion\r\n  32:     0x7f656e040e81 - <rustc_interface[eaeda0d86261ec45]::queries::Queries>::global_ctxt\r\n  29:     0x7fd159838df4 - <rustc_session[41bd6fdbe096cb13]::session::Session>::time::<core[3d15cbc1632fd665]::result::Result<rustc_ast[7ee88c495c439f9e]::ast::Crate, rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_interface[eaeda0d86261ec45]::passes::configure_and_expand::{closure#1}>\r\n  30:     0x7fd15980eaa0 - rustc_interface[eaeda0d86261ec45]::passes::configure_and_expand\r\n  31:     0x7fd159835911 - <rustc_interface[eaeda0d86261ec45]::queries::Queries>::expansion\r\n  33:     0x7f656df462cc - <rustc_interface[eaeda0d86261ec45]::interface::Compiler>::enter::<rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}::{closure#2}, core[3d15cbc1632fd665]::result::Result<core[3d15cbc1632fd665]::option::Option<rustc_interface[eaeda0d86261ec45]::queries::Linker>, rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>\r\n  32:     0x7fd159835e81 - <rustc_interface[eaeda0d86261ec45]::queries::Queries>::global_ctxt\r\n  34:     0x7f656df6a0ea - rustc_span[a4ece7ac6c4fc5a8]::with_source_map::<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>\r\n  33:     0x7fd15973b2cc - <rustc_interface[eaeda0d86261ec45]::interface::Compiler>::enter::<rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}::{closure#2}, core[3d15cbc1632fd665]::result::Result<core[3d15cbc1632fd665]::option::Option<rustc_interface[eaeda0d86261ec45]::queries::Linker>, rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>\r\n  35:     0x7f656df3ce05 - <scoped_tls[535ca24a62cbd8c4]::ScopedKey<rustc_span[a4ece7ac6c4fc5a8]::SessionGlobals>>::set::<rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>\r\n  34:     0x7fd15975f0ea - rustc_span[a4ece7ac6c4fc5a8]::with_source_map::<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>\r\n  36:     0x7f656df04680 - std[55a387802d09a1ee]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[eaeda0d86261ec45]::util::run_in_thread_pool_with_globals<rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>\r\n  35:     0x7fd159731e05 - <scoped_tls[535ca24a62cbd8c4]::ScopedKey<rustc_span[a4ece7ac6c4fc5a8]::SessionGlobals>>::set::<rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>\r\n  37:     0x7f656dee578d - <<std[55a387802d09a1ee]::thread::Builder>::spawn_unchecked_<rustc_interface[eaeda0d86261ec45]::util::run_in_thread_pool_with_globals<rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>::{closure#1} as core[3d15cbc1632fd665]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  38:     0x7f656d194343 - std::sys::unix::thread::Thread::new::thread_start::h4430dc500a776c4a\r\n  36:     0x7fd1596f9680 - std[55a387802d09a1ee]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[eaeda0d86261ec45]::util::run_in_thread_pool_with_globals<rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>\r\n  37:     0x7fd1596da78d - <<std[55a387802d09a1ee]::thread::Builder>::spawn_unchecked_<rustc_interface[eaeda0d86261ec45]::util::run_in_thread_pool_with_globals<rustc_interface[eaeda0d86261ec45]::interface::run_compiler<core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>, rustc_driver[a8ab4d63811fa71]::run_compiler::{closure#1}>::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[3d15cbc1632fd665]::result::Result<(), rustc_errors[b9b5f32d7981f87a]::ErrorGuaranteed>>::{closure#1} as core[3d15cbc1632fd665]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\r\n  38:     0x7fd158989343 - std::sys::unix::thread::Thread::new::thread_start::h4430dc500a776c4a\r\n  39:     0x7f656cf68b43 - start_thread\r\n                               at ./nptl/./nptl/pthread_create.c:442:8\r\n  40:     0x7f656cffaa00 - clone3\r\n                               at ./misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81\r\n  41:                0x0 - <unknown>\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.68.0-dev running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: --crate-type lib -C opt-level=3 -C embed-bitcode=no -C debuginfo=0 -Z unstable-options -C symbol-mangling-version=v0 -Z unstable-options -Z macro-backtrace -C link-args=-Wl,-z,origin -C link-args=-Wl,-rpath,$ORIGIN/../lib -C split-debuginfo=off -Z unstable-options -C prefer-dynamic -Z binary-dep-depinfo -Z tls-model=initial-exec -Z force-unstable-if-unmarked\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\n  39:     0x7fd15875db43 - start_thread\r\n                               at ./nptl/./nptl/pthread_create.c:442:8\r\n  40:     0x7fd1587efa00 - clone3\r\n                               at ./misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81\r\n  41:                0x0 - <unknown>\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.68.0-dev running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=0 -C debug-assertions=off -Z unstable-options -Z binary-dep-depinfo -Z unstable-options -Z force-unstable-if-unmarked\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n``\r\n", "closed_by": {"login": "JakubSilar3D", "id": 79645568, "node_id": "MDQ6VXNlcjc5NjQ1NTY4", "avatar_url": "https://avatars.githubusercontent.com/u/79645568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakubSilar3D", "html_url": "https://github.com/JakubSilar3D", "followers_url": "https://api.github.com/users/JakubSilar3D/followers", "following_url": "https://api.github.com/users/JakubSilar3D/following{/other_user}", "gists_url": "https://api.github.com/users/JakubSilar3D/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakubSilar3D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakubSilar3D/subscriptions", "organizations_url": "https://api.github.com/users/JakubSilar3D/orgs", "repos_url": "https://api.github.com/users/JakubSilar3D/repos", "events_url": "https://api.github.com/users/JakubSilar3D/events{/privacy}", "received_events_url": "https://api.github.com/users/JakubSilar3D/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/107126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/107126/timeline", "performed_via_github_app": null, "state_reason": "completed"}