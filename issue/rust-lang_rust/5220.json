{"url": "https://api.github.com/repos/rust-lang/rust/issues/5220", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/5220/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/5220/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/5220/events", "html_url": "https://github.com/rust-lang/rust/issues/5220", "id": 11614598, "node_id": "MDU6SXNzdWUxMTYxNDU5OA==", "number": 5220, "title": "stage0 segfaults on Win7 64bit", "user": {"login": "mrhandle", "id": 2664485, "node_id": "MDQ6VXNlcjI2NjQ0ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2664485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrhandle", "html_url": "https://github.com/mrhandle", "followers_url": "https://api.github.com/users/mrhandle/followers", "following_url": "https://api.github.com/users/mrhandle/following{/other_user}", "gists_url": "https://api.github.com/users/mrhandle/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrhandle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrhandle/subscriptions", "organizations_url": "https://api.github.com/users/mrhandle/orgs", "repos_url": "https://api.github.com/users/mrhandle/repos", "events_url": "https://api.github.com/users/mrhandle/events{/privacy}", "received_events_url": "https://api.github.com/users/mrhandle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-03-04T11:17:21Z", "updated_at": "2013-09-17T07:07:45Z", "closed_at": "2013-07-02T20:26:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "The rustc.exe provided in the following package segfaults on Win7 32bit\n\n> rust-stage0-2013-02-27-a6d9689-winnt-i386-1ba692a33072597ae124736c9e4040197bc5c1cb.tar\n\n```\n$ gdb rustc.exe\nGNU gdb (GDB) 7.5\nCopyright (C) 2012 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"i686-pc-mingw32\".\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>...\nReading symbols from c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustc.exe...(n\no debugging symbols found)...done.\n(gdb) r\nStarting program: c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustc.exe\n[New Thread 153636.0x25ae0]\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x6fc5b93f in libstdc++-6!_ZN9__gnu_cxx18__exchange_and_addEPVii ()\n   from C:\\dev\\MinGW\\bin\\libstdc++-6.dll\n(gdb) bt\n#0  0x6fc5b93f in libstdc++-6!_ZN9__gnu_cxx18__exchange_and_addEPVii ()\n   from C:\\dev\\MinGW\\bin\\libstdc++-6.dll\n#1  0x6fc60eb6 in libstdc++-6!_ZN9__gnu_cxx9free_list8_M_clearEv ()\n   from C:\\dev\\MinGW\\bin\\libstdc++-6.dll\n#2  0x6fc89d16 in libstdc++-6!_ZNSs4_Rep10_M_disposeERKSaIcE ()\n   from C:\\dev\\MinGW\\bin\\libstdc++-6.dll\n#3  0x6fc8ab18 in libstdc++-6!_ZNSs6assignERKSs ()\n   from C:\\dev\\MinGW\\bin\\libstdc++-6.dll\n#4  0x0109177e in _fu1575___ZNSs4_Rep20_S_empty_rep_storageE ()\n   from c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustllvm.dll\n#5  0x0165104c in (anonymous namespace)::InfoOutputFilename ()\n   from c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustllvm.dll\n#6  0x01851b80 in ?? ()\n#7  0x00751167 in DllMainCRTStartup@12 ()\n   from c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustllvm.dll\n#8  0x77269950 in ntdll!RtlpNtMakeTemporaryKey ()\n   from C:\\Windows\\system32\\ntdll.dll\n#9  0x00750000 in ?? ()\n#10 0x7726d8c9 in ntdll!RtlEmptyAtomTable ()\n   from C:\\Windows\\system32\\ntdll.dll\n#11 0x007510c0 in __dll_exit ()\n   from c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustllvm.dll\n#12 0x7727681c in ntdll!RtlStatMemoryStream ()\n   from C:\\Windows\\system32\\ntdll.dll\n#13 0x0028fd24 in ?? ()\n#14 0x772752d6 in ntdll!TpCaptureCaller () from C:\\Windows\\system32\\ntdll.dll\n#15 0x0028fd24 in ?? ()\n#16 0x77269e79 in ntdll!RtlpNtSetValueKey ()\n   from C:\\Windows\\system32\\ntdll.dll\n#17 0x0028fd24 in ?? ()\n#18 0x00000000 in ?? ()\n(gdb) info locals\nNo symbol table info available.\n(gdb) f 4\n#4  0x0109177e in _fu1575___ZNSs4_Rep20_S_empty_rep_storageE ()\n   from c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\\rustllvm.dll\n(gdb) info locals\nNo symbol table info available.\n(gdb) info\nDisplay all 54 possibilities? (y or n)\naddress                    program\nall-registers              record\nargs                       registers\nauto-load                  scope\nauxv                       selectors\nbookmarks                  set\nbreakpoints                sharedlibrary\nclasses                    signals\ncommon                     skip\ncopying                    source\ndcache                     sources\ndisplay                    stack\nextensions                 static-tracepoint-markers\nfiles                      symbol\nfloat                      target\nframe                      tasks\nfunctions                  terminal\nhandle                     threads\ninferiors                  tracepoints\nline                       tvariables\nlocals                     types\nmacro                      variables\nmacros                     vector\nmem                        vtbl\nos                         w32\nprobes                     warranty\nproc                       watchpoints\n(gdb) info  sharedlibrary\nFrom        To          Syms Read   Shared Object Library\n0x77231000  0x77395d1c  Yes (*)     C:\\Windows\\system32\\ntdll.dll\n0x764f1000  0x765ebd58  Yes (*)     C:\\Windows\\syswow64\\kernel32.dll\n0x767c1000  0x76806a18  Yes (*)     C:\\Windows\\syswow64\\KernelBase.dll\n0x761d1000  0x7627b2c4  Yes (*)     C:\\Windows\\syswow64\\msvcrt.dll\n0x61901000  0x6195d734  Yes         c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\n\\rustrt.dll\n0x74b11000  0x74b44784  Yes (*)     C:\\Windows\\syswow64\\ws2_32.dll\n0x76291000  0x76365e04  Yes (*)     C:\\Windows\\syswow64\\rpcrt4.dll\n0x74911000  0x749521f0  Yes (*)     C:\\Windows\\syswow64\\sspicli.dll\n0x74901000  0x7490b474  Yes (*)     C:\\Windows\\syswow64\\cryptbase.dll\n0x74971000  0x74988ed8  Yes (*)     C:\\Windows\\SysWOW64\\sechost.dll\n0x75f81000  0x75f85058  Yes (*)     C:\\Windows\\syswow64\\nsi.dll\n0x75961000  0x759ff04c  Yes (*)     C:\\Windows\\syswow64\\advapi32.dll\n0x718a1000  0x718bb944  Yes (*)     C:\\Windows\\SysWOW64\\IPHLPAPI.DLL\n0x71751000  0x7175621c  Yes (*)     C:\\Windows\\SysWOW64\\winnsi.dll\n0x75f41000  0x75f44050  Yes (*)     C:\\Windows\\syswow64\\psapi.dll\n0x6e941000  0x6e963724  Yes (*)     C:\\dev\\MinGW\\bin\\libgcc_s_dw2-1.dll\n0x6fc41000  0x6fd40014  Yes (*)     C:\\dev\\MinGW\\bin\\libstdc++-6.dll\n0x67641000  0x680d6d50  Yes (*)     c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\n\\rustc-c84825241471686d-0.6.dll\n0x00751000  0x016c98a4  Yes         c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\n\\rustllvm.dll\n0x75f51000  0x75f79278  Yes (*)     C:\\Windows\\syswow64\\imagehlp.dll\n0x74ce1000  0x75929898  Yes (*)     C:\\Windows\\syswow64\\shell32.dll\n0x75a01000  0x75a56b60  Yes (*)     C:\\Windows\\syswow64\\shlwapi.dll\n0x75d31000  0x75da292c  Yes (*)     C:\\Windows\\syswow64\\gdi32.dll\n0x75fb1000  0x76094198  Yes (*)     C:\\Windows\\syswow64\\user32.dll\n0x76281000  0x762892f8  Yes (*)     C:\\Windows\\syswow64\\lpk.dll\n0x74a71000  0x74b0c9fc  Yes (*)     C:\\Windows\\syswow64\\usp10.dll\n0x6fe01000  0x701d8998  Yes (*)     c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\n\\syntax-84efebcb12c867a2-0.6.dll\n0x6ab01000  0x6ada8b6c  Yes (*)     c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\n\\std-4782a756585a81-0.6.dll\n0x66301000  0x6659899c  Yes (*)     c:\\dev\\rust-build\\i686-pc-mingw32\\stage0\\bin\n\\core-c3ca5d77d81b46c1-0.6.dll\n0x76491000  0x764d1ce0  Yes (*)     C:\\Windows\\SysWOW64\\imm32.dll\n0x76811000  0x768dbebc  Yes (*)     C:\\Windows\\syswow64\\msctf.dll\n0x74531000  0x74564daa  Yes (*)     C:\\Windows\\SysWOW64\\nvinit.dll\n0x0f001000  0x0f005030  Yes (*)     C:\\Program Files (x86)\\NVIDIA Corporation\\Co\nProcManager\\detoured.dll\n0x69af1000  0x69b3851c  Yes (*)     C:\\Program Files (x86)\\NVIDIA Corporation\\Co\nProcManager\\Nvd3d9wrap.dll\n0x75a61000  0x75bfcacc  Yes (*)     C:\\Windows\\syswow64\\setupapi.dll\n0x75931000  0x759561e4  Yes (*)     C:\\Windows\\syswow64\\cfgmgr32.dll\n0x749e1000  0x74a6e644  Yes (*)     C:\\Windows\\syswow64\\oleaut32.dll\n0x74b51000  0x74cab0cc  Yes (*)     C:\\Windows\\syswow64\\ole32.dll\n0x75f91000  0x75fa1ac0  Yes (*)     C:\\Windows\\syswow64\\devobj.dll\n0x69ab1000  0x69ae8c05  Yes (*)     C:\\Program Files (x86)\\NVIDIA Corporation\\Co\nProcManager\\nvdxgiwrap.dll\n(*): Shared library is missing debugging information.\n(gdb)\n```\n\nChanging the compatibility setting for rustc.exe does nothing.\nRunning rustc.exe as admin does nothing.\n\nPlease let me know if you need any additional information. Also, if there is a debug build of stage0 I'd like to try it on my system.\n", "closed_by": {"login": "bstrie", "id": 865233, "node_id": "MDQ6VXNlcjg2NTIzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bstrie", "html_url": "https://github.com/bstrie", "followers_url": "https://api.github.com/users/bstrie/followers", "following_url": "https://api.github.com/users/bstrie/following{/other_user}", "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}", "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions", "organizations_url": "https://api.github.com/users/bstrie/orgs", "repos_url": "https://api.github.com/users/bstrie/repos", "events_url": "https://api.github.com/users/bstrie/events{/privacy}", "received_events_url": "https://api.github.com/users/bstrie/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/5220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/5220/timeline", "performed_via_github_app": null, "state_reason": "completed"}