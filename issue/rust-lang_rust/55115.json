{"url": "https://api.github.com/repos/rust-lang/rust/issues/55115", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/55115/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/55115/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/55115/events", "html_url": "https://github.com/rust-lang/rust/issues/55115", "id": 370538868, "node_id": "MDU6SXNzdWUzNzA1Mzg4Njg=", "number": 55115, "title": "Documentation of std::mem::size_of confusingly only details the `#[repr(C)]` case", "user": {"login": "vincentdephily", "id": 115401, "node_id": "MDQ6VXNlcjExNTQwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/115401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentdephily", "html_url": "https://github.com/vincentdephily", "followers_url": "https://api.github.com/users/vincentdephily/followers", "following_url": "https://api.github.com/users/vincentdephily/following{/other_user}", "gists_url": "https://api.github.com/users/vincentdephily/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentdephily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentdephily/subscriptions", "organizations_url": "https://api.github.com/users/vincentdephily/orgs", "repos_url": "https://api.github.com/users/vincentdephily/repos", "events_url": "https://api.github.com/users/vincentdephily/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentdephily/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-10-16T10:14:55Z", "updated_at": "2022-03-14T13:53:41Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [Size of Structs][1] paragraph bases its explanation of struct sizes on the idea that field are \"ordered by declaration order\", which is no longer the case since #37429 got merged. This might prompt a user to pointlessly manually order fields to optimize for size.\r\n\r\nInstead, the documentation should mention the issue of field alignments, and explain that the compiler will reorder fields to minimize padding. The exact algorithm might be a bit too complex and/or subject to change, so I don't think that it needs to be described completely. It's probably enough to say something like \"the compiler reorders fields for optimisation, don't expect a particular order unless using one of the `repr` specifier\".\r\n\r\n[1]:https://doc.rust-lang.org/core/mem/fn.size_of.html#size-of-structs", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/55115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/55115/timeline", "performed_via_github_app": null, "state_reason": null}