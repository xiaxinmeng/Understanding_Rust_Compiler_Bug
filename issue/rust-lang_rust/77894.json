{"url": "https://api.github.com/repos/rust-lang/rust/issues/77894", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/77894/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/77894/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/77894/events", "html_url": "https://github.com/rust-lang/rust/issues/77894", "id": 720125513, "node_id": "MDU6SXNzdWU3MjAxMjU1MTM=", "number": 77894, "title": "\"Resource temporarily unavailable\" panic in rustc_interface::util::spawn_thread_pool", "user": {"login": "icy-ux", "id": 63157298, "node_id": "MDQ6VXNlcjYzMTU3Mjk4", "avatar_url": "https://avatars.githubusercontent.com/u/63157298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icy-ux", "html_url": "https://github.com/icy-ux", "followers_url": "https://api.github.com/users/icy-ux/followers", "following_url": "https://api.github.com/users/icy-ux/following{/other_user}", "gists_url": "https://api.github.com/users/icy-ux/gists{/gist_id}", "starred_url": "https://api.github.com/users/icy-ux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icy-ux/subscriptions", "organizations_url": "https://api.github.com/users/icy-ux/orgs", "repos_url": "https://api.github.com/users/icy-ux/repos", "events_url": "https://api.github.com/users/icy-ux/events{/privacy}", "received_events_url": "https://api.github.com/users/icy-ux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-13T11:05:10Z", "updated_at": "2021-03-18T16:59:49Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### Code\r\n\r\nIt's unknown which part of the code triggered this bug, it seems to happen quite early while compiling. The bug seems to be related to system load, the code compiled fine after some other processes running on the system were killed.\r\n\r\n\r\n### Meta\r\n\r\n`rustc --version --verbose`:\r\n```\r\n$ rustc --version --verbose\r\nrustc 1.42.0 (b8cedc004 2020-03-09)\r\nbinary: rustc\r\ncommit-hash: b8cedc00407a4c56a3bda1ed605c6fc166655447\r\ncommit-date: 2020-03-09\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.42.0\r\nLLVM version: 9.0\r\n```\r\n\r\n### Error output\r\n\r\n```\r\n<output>\r\n```\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n```\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Os { code: 11, kind: WouldBlock, message: \"Resource temporarily unavailable\" }', /rustc/b8\r\ncedc00407a4c56a3bda1ed605c6fc166655447/src/librustc_interface/util.rs:127:11\r\nstack backtrace:\r\n   0: backtrace::backtrace::libunwind::trace\r\n             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/libunwind.rs:88\r\n   1: backtrace::backtrace::trace_unsynchronized\r\n             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/mod.rs:66\r\n   2: std::sys_common::backtrace::_print_fmt\r\n             at src/libstd/sys_common/backtrace.rs:77\r\n   3: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt\r\n             at src/libstd/sys_common/backtrace.rs:59\r\n   4: core::fmt::write\r\n             at src/libcore/fmt/mod.rs:1052\r\n   5: std::io::Write::write_fmt\r\n             at src/libstd/io/mod.rs:1426\r\n   6: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:62\r\n   7: std::sys_common::backtrace::print\r\n             at src/libstd/sys_common/backtrace.rs:49\r\n   8: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/panicking.rs:204\r\n   9: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:224\r\n  10: rustc_driver::report_ice\r\n  11: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:476\r\n  12: rust_begin_unwind\r\n             at src/libstd/panicking.rs:380\r\n  13: core::panicking::panic_fmt\r\n             at src/libcore/panicking.rs:85\r\n  14: core::option::expect_none_failed\r\n             at src/libcore/option.rs:1199\r\n  15: rustc_interface::util::spawn_thread_pool\r\n  16: rustc_driver::run_compiler\r\n  17: std::panicking::try::do_call\r\n  18: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:86\r\n  19: rustc_driver::catch_fatal_errors\r\n  20: rustc_driver::main\r\n  21: std::rt::lang_start::{{closure}}\r\n  22: std::rt::lang_start_internal::{{closure}}\r\n             at src/libstd/rt.rs:52\r\n  23: std::panicking::try::do_call\r\n             at src/libstd/panicking.rs:305\r\n  24: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:86\r\n  25: std::panicking::try\r\n             at src/libstd/panicking.rs:281\r\n  26: std::panic::catch_unwind\r\n             at src/libstd/panic.rs:394\r\n  27: std::rt::lang_start_internal\r\n             at src/libstd/rt.rs:51\r\n  28: main\r\n  29: __libc_start_main\r\n  30: <unknown>\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.42.0 (b8cedc004 2020-03-09) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: -C debuginfo=2 -C incremental --crate-type lib\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nquery stack during panic:\r\nend of query stack\r\n\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/77894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/77894/timeline", "performed_via_github_app": null, "state_reason": null}