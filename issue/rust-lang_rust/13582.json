{"url": "https://api.github.com/repos/rust-lang/rust/issues/13582", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13582/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13582/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13582/events", "html_url": "https://github.com/rust-lang/rust/issues/13582", "id": 31752622, "node_id": "MDU6SXNzdWUzMTc1MjYyMg==", "number": 13582, "title": "Consider --version output more carefully", "user": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60329014, "node_id": "MDU6TGFiZWw2MDMyOTAxNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-low", "name": "P-low", "color": "eb6420", "default": false, "description": "Low priority"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2014-04-17T18:55:57Z", "updated_at": "2014-06-25T04:19:50Z", "closed_at": "2014-06-25T04:19:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The output of --version is often grepped, so it needs to be parsable and stable, and our current output has not been thought through quite enough.\n\nHere are two examples of its current output:\n\n```\nbrian@brian-X1:~$ rustc --version\nrustc 0.11-pre-nightly (e332287 2014-04-16 00:56:30 -0700)\nhost: x86_64-unknown-linux-gnu\nbrian@brian-X1:~$ /usr/local/bin/rustc --version\n/usr/local/bin/rustc 0.11-pre-nightly (e332287 2014-04-16 00:56:30 -0700)\nhost: x86_64-unknown-linux-gnu\n```\n\nThe name `rustc` is actually arg[0], so it changes depending on how rustc is invoked. This makes it very hard to parse rustc's version. Note also that the info in parens is only present in git builds, so it can't be relied on.\n\nThe one obvious fix is to hardcode `rustc` as the program name. As long as we leave the first line using a consistent format forever we should be mostly ok.\n\nThe `host: ...` line in our output is non-conventional and might properly be put under another flag or remove it; alternately, we may want to include _more_ info here - why is 'host' special?\n\nFor comparison, here are some other `--version` outputs on my system:\n\n```\nbrian@brian-X1:~$ gcc --version\ngcc (Ubuntu/Linaro 4.7.3-1ubuntu1) 4.7.3\nCopyright (C) 2012 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nbrian@brian-X1:~$ perl --version\n\nThis is perl 5, version 14, subversion 2 (v5.14.2) built for x86_64-linux-gnu-thread-multi\n(with 80 registered patches, see perl -V for more detail)\n\nCopyright 1987-2011, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n\nbrian@brian-X1:~$ python --version\nPython 2.7.4\n```\n\nAlso, make rustdoc consistent with whatever format is preferred.\n\nNominating.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/13582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13582/timeline", "performed_via_github_app": null, "state_reason": "completed"}