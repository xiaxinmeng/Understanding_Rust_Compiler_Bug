{"url": "https://api.github.com/repos/rust-lang/rust/issues/45742", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/45742/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/45742/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/45742/events", "html_url": "https://github.com/rust-lang/rust/issues/45742", "id": 271038651, "node_id": "MDU6SXNzdWUyNzEwMzg2NTE=", "number": 45742, "title": "Blanket impl of AsRef for Deref", "user": {"login": "cramertj", "id": 5963049, "node_id": "MDQ6VXNlcjU5NjMwNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5963049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cramertj", "html_url": "https://github.com/cramertj", "followers_url": "https://api.github.com/users/cramertj/followers", "following_url": "https://api.github.com/users/cramertj/following{/other_user}", "gists_url": "https://api.github.com/users/cramertj/gists{/gist_id}", "starred_url": "https://api.github.com/users/cramertj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cramertj/subscriptions", "organizations_url": "https://api.github.com/users/cramertj/orgs", "repos_url": "https://api.github.com/users/cramertj/repos", "events_url": "https://api.github.com/users/cramertj/events{/privacy}", "received_events_url": "https://api.github.com/users/cramertj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 347795552, "node_id": "MDU6TGFiZWwzNDc3OTU1NTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-specialization", "name": "A-specialization", "color": "f7e101", "default": false, "description": "Area: Trait impl specialization"}, {"id": 762300676, "node_id": "MDU6TGFiZWw3NjIzMDA2NzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/S-blocked", "name": "S-blocked", "color": "d3dddd", "default": false, "description": "Status: marked as blocked \u274c on something else such as an RFC or other implementation work."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-03T16:28:12Z", "updated_at": "2022-09-15T17:04:28Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "There are currently FIXMEs [here](https://github.com/rust-lang/rust/blob/294f0eef736aa13cadf28ce7160a18a94ca7b87c/library/core/src/convert/mod.rs#L511-L517) and [here](https://github.com/rust-lang/rust/blob/294f0eef736aa13cadf28ce7160a18a94ca7b87c/library/core/src/convert/mod.rs#L532-L538) in the core `AsRef` and `AsMut` impls to change the implementations for `&` and `&mut` to a blanket impl over `Deref` and `DerefMut`. However, this blanket impl results in a number of conflicts (even with `deref`). Because of this, I opened https://github.com/rust-lang/rust/pull/45378 to remove the FIXMEs, but @withoutboats pointed out that we could potentially use intersection specialization to resolve the issue.\r\n\r\nI'm not sure exactly what this impl (or set of impls) would look like, so I've closed the PR and opened this issue to track the resolution of the FIXMEs.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/45742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/45742/timeline", "performed_via_github_app": null, "state_reason": null}