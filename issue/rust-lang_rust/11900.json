{"url": "https://api.github.com/repos/rust-lang/rust/issues/11900", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/11900/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/11900/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/11900/events", "html_url": "https://github.com/rust-lang/rust/issues/11900", "id": 26497530, "node_id": "MDU6SXNzdWUyNjQ5NzUzMA==", "number": 11900, "title": "LLVM assertion on SIMD bit shift, ICE on SIMD division", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-01-29T04:17:38Z", "updated_at": "2014-01-30T11:31:31Z", "closed_at": "2014-01-30T11:31:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n#[crate_type=\"lib\"];\nuse std::unstable::simd::{u32x4};\npub fn foo(x: u32x4, y: u32x4) -> u32x4 {\n    x / y\n}\n```\n\n```\nerror: internal compiler error: fail-if-zero on unexpected type: std::unstable::simd::u32x4\n```\n\n```\n#[crate_type=\"lib\"];\nuse std::unstable::simd::{u32x4};\npub fn foo(x: u32x4, y: u32x4) -> u32x4 {\n    x >> y\n}\n```\n\n```\njurily@jurily ~/projects/crash $ gdb --args rustc lib.rs\nGNU gdb (GDB) 7.6.2\n<snip>\nrustc: /home/jurily/projects/extern/rust/src/llvm/include/llvm/Support/Casting.h:239: typename llvm::cast_retty<X, Y*>::ret_type llvm::cast(Y*) [with X = llvm::IntegerType; Y = llvm::Type; typename llvm::cast_retty<X, Y*>::ret_type = llvm::IntegerType*]: Assertion `isa<X>(Val) && \"cast<Ty>() argument of incompatible type!\"' failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7ffff7f8f700 (LWP 14378)]\n0x00007ffff3ba1369 in raise () from /usr/lib/libc.so.6\n(gdb) bt\n#0  0x00007ffff3ba1369 in raise () from /usr/lib/libc.so.6\n#1  0x00007ffff3ba2768 in abort () from /usr/lib/libc.so.6\n#2  0x00007ffff3b9a456 in __assert_fail_base () from /usr/lib/libc.so.6\n#3  0x00007ffff3b9a502 in __assert_fail () from /usr/lib/libc.so.6\n#4  0x00007ffff53d9473 in LLVMGetIntTypeWidth () from /home/jurily/sys/bin/../lib/librustc-0d83f02f-0.10-pre.so\n#5  0x00007ffff4348909 in middle::trans::base::cast_shift_rhs::h8e2268d3103b1034ai::v0.10.pre () from /home/jurily/sys/bin/../l\n#6  0x00007ffff4309b91 in middle::trans::expr::trans_eager_binop::hc85dd31154928760ag::v0.10.pre () from /home/jurily/sys/bin/.\n#7  0x00007ffff42f9375 in middle::trans::expr::trans_datum_unadjusted::h059ee0f6b8d31f1ca2::v0.10.pre () from /home/jurily/sys/\n#8  0x00007ffff42ef8ee in middle::trans::expr::trans_unadjusted::hc6596417520e200faU::v0.10.pre () from /home/jurily/sys/bin/..\n#9  0x00007ffff42b65bf in middle::trans::expr::trans_into::h90e53e3a33f54ef0aG::v0.10.pre () from /home/jurily/sys/bin/../lib/l\n#10 0x00007ffff42b72dc in middle::trans::controlflow::trans_block::h968c759fdf40c23eaK::v0.10.pre () from /home/jurily/sys/bin/\n#11 0x00007ffff43852e2 in middle::trans::base::trans_closure::h080d195113336ac9av::v0.10.pre () from /home/jurily/sys/bin/../li\n#12 0x00007ffff428ac6c in middle::trans::base::trans_fn::h563d836a36f2dde1aY::v0.10.pre () from /home/jurily/sys/bin/../lib/lib\n#13 0x00007ffff42831a8 in middle::trans::base::trans_item::hbdab6fa6b701980aal::v0.10.pre () from /home/jurily/sys/bin/../lib/l\n#14 0x00007ffff43897cf in middle::trans::base::trans_mod::h053e003a2cca62daaS::v0.10.pre () from /home/jurily/sys/bin/../lib/li\n#15 0x00007ffff4392862 in middle::trans::base::trans_crate::h39b1a93436b53a3eax::v0.10.pre () from /home/jurily/sys/bin/../lib/\n#16 0x00007ffff48a0a4c in driver::driver::phase_4_translate_to_llvm::h7e683ee4c582246ea4::v0.10.pre () from /home/jurily/sys/bi\n#17 0x00007ffff48a3e85 in driver::driver::compile_input::hb1d7a237e08a846aaE::v0.10.pre () from /home/jurily/sys/bin/../lib/lib\n#18 0x00007ffff48c958b in run_compiler::h7e58f75100e0f1b0ax::v0.10.pre () from /home/jurily/sys/bin/../lib/librustc-0d83f02f-0.\n#19 0x00007ffff48d7936 in main_args::anon::expr_fn::ae () from /home/jurily/sys/bin/../lib/librustc-0d83f02f-0.10-pre.so\n#20 0x00007ffff48d4ce2 in monitor::anon::expr_fn::ai () from /home/jurily/sys/bin/../lib/librustc-0d83f02f-0.10-pre.so\n#21 0x00007ffff48ce34e in task::TaskBuilder::try::anon::expr_fn::_4NaiaQ () from /home/jurily/sys/bin/../lib/librustc-0d83f02f-\n#22 0x00007ffff74395f8 in task::__extensions__::build_start_wrapper::anon::anon::expr_fn::ap () from /home/jurily/sys/bin/../li\n#23 0x00007ffff77813a8 in rt::task::__extensions__::run::anon::expr_fn::a6 () from /home/jurily/sys/bin/../lib/libstd-966edb7e-\n#24 0x00007ffff7787c6c in rust_try () from /home/jurily/sys/bin/../lib/libstd-966edb7e-0.10-pre.so\n#25 0x00007ffff7781311 in rt::task::Task::run::hd424e8fd002a422eFUa3::v0.10.pre () from /home/jurily/sys/bin/../lib/libstd-966e\n#26 0x00007ffff743908c in task::__extensions__::build_start_wrapper::anon::expr_fn::a9 () from /home/jurily/sys/bin/../lib/libg\n#27 0x0000000000000000 in ?? ()\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/11900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/11900/timeline", "performed_via_github_app": null, "state_reason": "completed"}