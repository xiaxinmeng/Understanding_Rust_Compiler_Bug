{"url": "https://api.github.com/repos/rust-lang/rust/issues/48128", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48128/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48128/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48128/events", "html_url": "https://github.com/rust-lang/rust/issues/48128", "id": 296135224, "node_id": "MDU6SXNzdWUyOTYxMzUyMjQ=", "number": 48128, "title": "LLVM assertion in run-make/issue-26092", "user": {"login": "pftbest", "id": 1573340, "node_id": "MDQ6VXNlcjE1NzMzNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1573340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pftbest", "html_url": "https://github.com/pftbest", "followers_url": "https://api.github.com/users/pftbest/followers", "following_url": "https://api.github.com/users/pftbest/following{/other_user}", "gists_url": "https://api.github.com/users/pftbest/gists{/gist_id}", "starred_url": "https://api.github.com/users/pftbest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pftbest/subscriptions", "organizations_url": "https://api.github.com/users/pftbest/orgs", "repos_url": "https://api.github.com/users/pftbest/repos", "events_url": "https://api.github.com/users/pftbest/events{/privacy}", "received_events_url": "https://api.github.com/users/pftbest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-10T21:24:06Z", "updated_at": "2023-04-19T02:12:13Z", "closed_at": "2023-04-19T02:12:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Just did a `make check` on the [latest master](https://github.com/rust-lang/rust/commit/39abcc04139a0fd24422f422271849dc91e39a88) with llvm assertions enabled:\r\n\r\n```\r\nfailures:\r\n\r\n---- [run-make] run-make/issue-26092 stdout ----\r\n\t\r\nerror: make failed\r\nstatus: exit code: 2\r\ncommand: \"make\"\r\nstdout:\r\n------------------------------------------\r\nDYLD_LIBRARY_PATH=\"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/test/run-make/issue-26092.stage2-x86_64-apple-darwin:/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage2/lib:\" '/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage2/bin/rustc' --out-dir /Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/test/run-make/issue-26092.stage2-x86_64-apple-darwin -L /Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/test/run-make/issue-26092.stage2-x86_64-apple-darwin  -o \"\" blank.rs 2>&1 | \"/Users/vadzim/Documents/rust-lang/src/etc/cat-and-grep.sh\" -i 'No such file or directory'\r\n[[[ begin stdout ]]]\r\nwarning: ignoring --out-dir flag due to -o flag\r\n\r\nAssertion failed: (FD >= 0 && \"File not yet open!\"), function preferred_buffer_size, file /Users/vadzim/Documents/rust-lang/src/llvm/lib/Support/raw_ostream.cpp, line 666.\r\n\r\n[[[ end stdout ]]]\r\nError: cannot match: No such file or directory\r\n\r\n------------------------------------------\r\nstderr:\r\n------------------------------------------\r\nmake[1]: *** [all] Error 1\r\n\r\n------------------------------------------\r\n\r\nthread '[run-make] run-make/issue-26092' panicked at 'explicit panic', tools/compiletest/src/runtest.rs:2883:9\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\n\r\nfailures:\r\n    [run-make] run-make/issue-26092\r\n\r\ntest result: FAILED. 174 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out\r\n\r\nthread 'main' panicked at 'Some tests failed', tools/compiletest/src/main.rs:476:22\r\n\r\n\r\ncommand did not execute successfully: \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage0-tools-bin/compiletest\" \"--compile-lib-path\" \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage2/lib\" \"--run-lib-path\" \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage2/lib/rustlib/x86_64-apple-darwin/lib\" \"--rustc-path\" \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage2/bin/rustc\" \"--rustdoc-path\" \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/stage2/bin/rustdoc\" \"--src-base\" \"/Users/vadzim/Documents/rust-lang/src/test/run-make\" \"--build-base\" \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/test/run-make\" \"--stage-id\" \"stage2-x86_64-apple-darwin\" \"--mode\" \"run-make\" \"--target\" \"x86_64-apple-darwin\" \"--host\" \"x86_64-apple-darwin\" \"--llvm-filecheck\" \"/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/llvm/build/bin/FileCheck\" \"--nodejs\" \"/usr/local/bin/node\" \"--host-rustcflags\" \"-Crpath -O -Zmiri -Zunstable-options \" \"--target-rustcflags\" \"-Crpath -O -Zmiri -Zunstable-options  -Lnative=/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/native/rust-test-helpers\" \"--docck-python\" \"/usr/local/opt/python/bin/python2.7\" \"--lldb-python\" \"/usr/bin/python\" \"--lldb-version\" \"lldb-900.0.64\" \"--lldb-python-dir\" \"/Applications/Xcode.app/Contents/SharedFrameworks/LLDB.framework/Resources/Python\" \"--llvm-version\" \"6.0.0\\n\" \"--cc\" \"cc\" \"--cxx\" \"c++\" \"--cflags\" \"-ffunction-sections -fdata-sections -fPIC -m64 -stdlib=libc++\" \"--llvm-components\" \"aarch64 aarch64asmparser aarch64asmprinter aarch64codegen aarch64desc aarch64disassembler aarch64info aarch64utils all all-targets analysis arm armasmparser armasmprinter armcodegen armdesc armdisassembler arminfo armutils asmparser asmprinter binaryformat bitreader bitwriter codegen core coroutines coverage debuginfocodeview debuginfodwarf debuginfomsf debuginfopdb demangle dlltooldriver engine executionengine fuzzmutate globalisel hexagon hexagonasmparser hexagoncodegen hexagondesc hexagondisassembler hexagoninfo instcombine instrumentation interpreter ipo irreader libdriver lineeditor linker lto mc mcdisassembler mcjit mcparser mips mipsasmparser mipsasmprinter mipscodegen mipsdesc mipsdisassembler mipsinfo mirparser msp430 msp430asmprinter msp430codegen msp430desc msp430info native nativecodegen nvptx nvptxasmprinter nvptxcodegen nvptxdesc nvptxinfo objcarcopts object objectyaml option orcjit passes powerpc powerpcasmparser powerpcasmprinter powerpccodegen powerpcdesc powerpcdisassembler powerpcinfo profiledata runtimedyld scalaropts selectiondag sparc sparcasmparser sparcasmprinter sparccodegen sparcdesc sparcdisassembler sparcinfo support symbolize systemz systemzasmparser systemzasmprinter systemzcodegen systemzdesc systemzdisassembler systemzinfo tablegen target transformutils vectorize webassembly webassemblyasmprinter webassemblycodegen webassemblydesc webassemblydisassembler webassemblyinfo windowsmanifest x86 x86asmparser x86asmprinter x86codegen x86desc x86disassembler x86info x86utils\" \"--llvm-cxxflags\" \"-I/Users/vadzim/Documents/rust-lang/build/x86_64-apple-darwin/llvm/include -ffunction-sections -fdata-sections -fPIC -m64 -stdlib=libc++ -fPIC -fvisibility-inlines-hidden -Werror=date-time -Werror=unguarded-availability-new -std=c++11 -Wall -W -Wno-unused-parameter -Wwrite-strings -Wcast-qual -Wmissing-field-initializers -pedantic -Wno-long-long -Wcovered-switch-default -Wnon-virtual-dtor -Wdelete-non-virtual-dtor -Wstring-conversion -O3   -fno-exceptions -fno-rtti -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS\" \"--ar\" \"ar\" \"--adb-path\" \"adb\" \"--adb-test-dir\" \"/data/tmp/work\" \"--android-cross-path\" \"\"\r\nexpected success, got: exit code: 101\r\n\r\n\r\nfailed to run: /Users/vadzim/Documents/rust-lang/build/bootstrap/debug/bootstrap test\r\nBuild completed unsuccessfully in 0:22:46\r\n```", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48128/timeline", "performed_via_github_app": null, "state_reason": "completed"}