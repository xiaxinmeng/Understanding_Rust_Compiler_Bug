{"url": "https://api.github.com/repos/rust-lang/rust/issues/52938", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52938/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52938/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52938/events", "html_url": "https://github.com/rust-lang/rust/issues/52938", "id": 346510888, "node_id": "MDU6SXNzdWUzNDY1MTA4ODg=", "number": 52938, "title": "Properly document and explain opt-levels s and z", "user": {"login": "LukasKalbertodt", "id": 7419664, "node_id": "MDQ6VXNlcjc0MTk2NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7419664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukasKalbertodt", "html_url": "https://github.com/LukasKalbertodt", "followers_url": "https://api.github.com/users/LukasKalbertodt/followers", "following_url": "https://api.github.com/users/LukasKalbertodt/following{/other_user}", "gists_url": "https://api.github.com/users/LukasKalbertodt/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukasKalbertodt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukasKalbertodt/subscriptions", "organizations_url": "https://api.github.com/users/LukasKalbertodt/orgs", "repos_url": "https://api.github.com/users/LukasKalbertodt/repos", "events_url": "https://api.github.com/users/LukasKalbertodt/events{/privacy}", "received_events_url": "https://api.github.com/users/LukasKalbertodt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-01T09:03:49Z", "updated_at": "2023-01-26T13:52:19Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "These opt-levels have been stabilized in #50265. If I'm not mistaken, `rustc -C help` still outputs this:\r\n\r\n```\r\n    -C            opt-level=val -- optimize with possible levels 0-3, s, or z\r\n```\r\n\r\nSo not very helpful at all. I think there should be a better explanation for `rustc -C help` (also for levels 0 -- 3). [The rustc guide](https://github.com/rust-lang/rust/blob/master/src/doc/rustc/src/codegen-options/index.md#opt-level) has some information, but it's rather hidden.\r\n\r\nI'd also suggest to change the current one-line-per-option layout of `-Z help` and `-C help`. Currently it discourages people to add more useful information if they have to crank it into one line. Why not something like:\r\n\r\n```\r\n-C debuginfo=val \r\n    Debug info emission level, 0 = no debug info, 1 = line tables only, 2 = full debug  \r\n    info with variable and type information. And more information here. Lorem ipsum \r\n    dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt \r\n    ut labore et dolore magna aliquyam erat, sed diam voluatua. At vero eos et accusam \r\n    et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata \r\n    sanctus est Lorem ipsum dolor sit amet.\r\n    \r\n-C opt-level=val \r\n    Optimize with possible levels 0-3, s, or z. And more information here. Lorem ipsum \r\n    dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt \r\n    ut labore et dolore magna aliquyam erat, sed diam voluatua. At vero eos et accusam \r\n    et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata \r\n    sanctus est Lorem ipsum dolor sit amet.\r\n```\r\n\r\nOr something like that. ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52938/timeline", "performed_via_github_app": null, "state_reason": null}