{"url": "https://api.github.com/repos/rust-lang/rust/issues/39810", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39810/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39810/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39810/events", "html_url": "https://github.com/rust-lang/rust/issues/39810", "id": 207457052, "node_id": "MDU6SXNzdWUyMDc0NTcwNTI=", "number": 39810, "title": "should we make clear `std::process::ChildStdout` is non-blocking or not?", "user": {"login": "hicqu", "id": 8407317, "node_id": "MDQ6VXNlcjg0MDczMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8407317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hicqu", "html_url": "https://github.com/hicqu", "followers_url": "https://api.github.com/users/hicqu/followers", "following_url": "https://api.github.com/users/hicqu/following{/other_user}", "gists_url": "https://api.github.com/users/hicqu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hicqu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hicqu/subscriptions", "organizations_url": "https://api.github.com/users/hicqu/orgs", "repos_url": "https://api.github.com/users/hicqu/repos", "events_url": "https://api.github.com/users/hicqu/events{/privacy}", "received_events_url": "https://api.github.com/users/hicqu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-14T09:12:32Z", "updated_at": "2017-02-15T10:13:36Z", "closed_at": "2017-02-15T10:13:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm working with `std::process::Child::try_wait` and `std::process::ChildStdout`. Here is an example,\r\n```rust\r\nlet mut child = cmd.spawn().unwrap();\r\nloop {\r\n    let mut buf = [0 as u8; 4096];\r\n    if let Some(ref stream) = child.stdout {\r\n        stream.read(&mut buf).unwrap();           // Will it block?\r\n    }\r\n    match child.try_wait() {\r\n        // something here ...\r\n    }\r\n}\r\n```\r\nI could not find ` stream.read(&mut buf)` would block or not in API document. I test that simple code on Linux and it didn't blocking. So,\r\n\r\n1) On other platforms, will it block or not?\r\n2) Should we make clear that for every platform?\r\n3) Or it's just an undefined behavor, we should set that stream blocking or nonblocking explicitly?\r\n\r\nPlease help me. Thanks very much!", "closed_by": {"login": "hicqu", "id": 8407317, "node_id": "MDQ6VXNlcjg0MDczMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8407317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hicqu", "html_url": "https://github.com/hicqu", "followers_url": "https://api.github.com/users/hicqu/followers", "following_url": "https://api.github.com/users/hicqu/following{/other_user}", "gists_url": "https://api.github.com/users/hicqu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hicqu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hicqu/subscriptions", "organizations_url": "https://api.github.com/users/hicqu/orgs", "repos_url": "https://api.github.com/users/hicqu/repos", "events_url": "https://api.github.com/users/hicqu/events{/privacy}", "received_events_url": "https://api.github.com/users/hicqu/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39810/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39810/timeline", "performed_via_github_app": null, "state_reason": "completed"}