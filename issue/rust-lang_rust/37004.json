{"url": "https://api.github.com/repos/rust-lang/rust/issues/37004", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37004/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37004/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37004/events", "html_url": "https://github.com/rust-lang/rust/issues/37004", "id": 181481700, "node_id": "MDU6SXNzdWUxODE0ODE3MDA=", "number": 37004, "title": "asm.js/wasm targets not usable on nightlies", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-06T17:48:49Z", "updated_at": "2016-10-08T05:51:12Z", "closed_at": "2016-10-08T05:51:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While we produced asm.js/wasm targets on nightlies last night, the targets aren't actually usable on the standard suite of compilers. For example:\n\n```\n$ rustup target add asmjs-unknown-emscripten --toolchain nightly\n$ cargo +nightly build --target asmjs-unknown-emscripten -v\nerror: failed to run `rustc` to learn about target-specific information\n\nCaused by:\n  process didn't exit successfully: `rustc - --crate-name _ --print=file-names --crate-type bin --crate-type rlib --target asmjs-unknown-emscripten` (exit code: 101)\n--- stderr\nerror: Could not create LLVM TargetMachine for triple: asmjs-unknown-emscripten: No available targets are compatible with this triple. \n```\n\n@tomaka pointed out to me that this is perhaps related to the fact that asmjs only works on rustbuild, not on the makefiles. The compiler I'm using was produced by the makefiles, so presumably it wasn't compiled with support for the asmjs target.\n\n@brson this may necessitate an update to the makefiles :\\\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37004/timeline", "performed_via_github_app": null, "state_reason": "completed"}