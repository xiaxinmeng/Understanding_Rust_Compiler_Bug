{"url": "https://api.github.com/repos/rust-lang/rust/issues/14411", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14411/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14411/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14411/events", "html_url": "https://github.com/rust-lang/rust/issues/14411", "id": 34252714, "node_id": "MDU6SXNzdWUzNDI1MjcxNA==", "number": 14411, "title": "rustc: \"error: internal compiler error: debuginfo::set_members_of_composite_type() - Already completed forward declaration re-encountered.\"", "user": {"login": "a-p-", "id": 4145331, "node_id": "MDQ6VXNlcjQxNDUzMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4145331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a-p-", "html_url": "https://github.com/a-p-", "followers_url": "https://api.github.com/users/a-p-/followers", "following_url": "https://api.github.com/users/a-p-/following{/other_user}", "gists_url": "https://api.github.com/users/a-p-/gists{/gist_id}", "starred_url": "https://api.github.com/users/a-p-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a-p-/subscriptions", "organizations_url": "https://api.github.com/users/a-p-/orgs", "repos_url": "https://api.github.com/users/a-p-/repos", "events_url": "https://api.github.com/users/a-p-/events{/privacy}", "received_events_url": "https://api.github.com/users/a-p-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203130, "node_id": "MDU6TGFiZWwyMDMxMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-debuginfo", "name": "A-debuginfo", "color": "f7e101", "default": false, "description": "Area: Debugging information in compiled programs (DWARF, PDB, etc.)"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2014-05-25T02:52:12Z", "updated_at": "2014-07-02T11:56:11Z", "closed_at": "2014-07-02T11:56:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Versions:\n\n```\n$ rustc --version\nrustc 0.11.0-pre (11aa731 2014-05-23 14:56:24 -0700)\nhost: x86_64-unknown-linux-gnu\n$ uname -a\nLinux test 3.13-1-amd64 #1 SMP Debian 3.13.10-1 (2014-04-15) x86_64 GNU/Linux\n```\n\nCode to reproduce the ICE:\n\n```\nfn test(a: &Vec<u8>) {\n  print!(\"{}\", a.len());\n}\n\npub fn main() {\n  let data = vec!();\n  test(&data);\n}\n```\n\nCompilation output (assuming code is in test.rs):\n\n```\n$ RUST_BACKTRACE=1 rustc -g test.rs \ntest.rs:1:1: 1:1 error: internal compiler error: debuginfo::set_members_of_composite_type() - Already completed forward declaration re-encountered.\ntest.rs:1 fn test(a: &Vec<u8>) {\n          ^\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /tmp/rust/src/libsyntax/diagnostic.rs:106\nstack backtrace:\n   1:     0x7f6088d547b0 - rt::backtrace::imp::write::h91511e92fbebf61dJSy::v0.11.0.pre\n   2:     0x7f6088cd4900 - rt::unwind::begin_unwind_inner::hc6a3eade6662bd0cRsy::v0.11.0.pre\n   3:     0x7f60876d4cb0 - rt::unwind::begin_unwind::h14424584252031250192::v0.11.0.pre\n   4:     0x7f60876d4be0 - diagnostic::SpanHandler::span_bug::hbb40ab336641d6bcoUb::v0.11.0.pre\n   5:     0x7f6089823d00 - driver::session::Session::span_bug::hbc579a9c1652b4dcWQk::v0.11.0.pre\n   6:     0x7f608992a540 - middle::trans::debuginfo::set_members_of_composite_type::ha39f45d6f9c0cb39stB::v0.11.0.pre\n   7:     0x7f6089928e50 - middle::trans::debuginfo::RecursiveTypeDescription::finalize::h0fe21aef99d3e1c0I8A::v0.11.0.pre\n   8:     0x7f608991d440 - middle::trans::debuginfo::type_metadata::h98963d42bb116c2fCVB::v0.11.0.pre\n   9:     0x7f608991d440 - middle::trans::debuginfo::type_metadata::h98963d42bb116c2fCVB::v0.11.0.pre\n  10:     0x7f6089932ee0 - middle::trans::debuginfo::vec_slice_metadata::h5b5525bc44b17f0dCKB::v0.11.0.pre\n  11:     0x7f608991d440 - middle::trans::debuginfo::type_metadata::h98963d42bb116c2fCVB::v0.11.0.pre\n  12:     0x7f6089921730 - middle::trans::debuginfo::declare_local::h3f3d7f3d971eec2bBLA::v0.11.0.pre\n  13:     0x7f6089920a10 - middle::trans::debuginfo::create_local_var_metadata::closure.63979\n  14:     0x7f6089d15cc0 - middle::pat_util::pat_bindings::closure.76254\n  15:     0x7f608771bcd0 - ast_util::walk_pat::h73d09c5bbd81fc4aBNv::v0.11.0.pre\n  16:     0x7f60897fbbd0 - middle::trans::controlflow::trans_stmt::hebe30cb187b2a930B2a::v0.11.0.pre\n  17:     0x7f60897fdcb0 - middle::trans::controlflow::trans_block::hc64c9e56aa358790I7a::v0.11.0.pre\n  18:     0x7f608983e730 - middle::trans::expr::trans_rvalue_dps_unadjusted::h9c3393158ea8f3e88hf::v0.11.0.pre\n  19:     0x7f60897fd5a0 - middle::trans::expr::trans_into::h6b67f346e56d2aaagse::v0.11.0.pre\n  20:     0x7f60898ee990 - middle::trans::_match::trans_match_inner::he680468c7e8edd8bk7s::v0.11.0.pre\n  21:     0x7f608983e730 - middle::trans::expr::trans_rvalue_dps_unadjusted::h9c3393158ea8f3e88hf::v0.11.0.pre\n  22:     0x7f60897fd5a0 - middle::trans::expr::trans_into::h6b67f346e56d2aaagse::v0.11.0.pre\n  23:     0x7f60897fc780 - middle::trans::controlflow::trans_stmt_semi::h95ab3162fcdb8669P6a::v0.11.0.pre\n  24:     0x7f60897fbbd0 - middle::trans::controlflow::trans_stmt::hebe30cb187b2a930B2a::v0.11.0.pre\n  25:     0x7f60897fdcb0 - middle::trans::controlflow::trans_block::hc64c9e56aa358790I7a::v0.11.0.pre\n  26:     0x7f60898bb6c0 - middle::trans::base::trans_closure::hd893efe09250c8a3Php::v0.11.0.pre\n  27:     0x7f60897c6df0 - middle::trans::base::trans_fn::h02396ab03da5196a5pp::v0.11.0.pre\n  28:     0x7f60897c1110 - middle::trans::base::trans_item::h4715e8b19ebc5b3eCBp::v0.11.0.pre\n  29:     0x7f60898ca380 - middle::trans::base::trans_crate::h97a887f98edb0d3dpoq::v0.11.0.pre\n  30:     0x7f608a0a1430 - driver::driver::phase_4_translate_to_llvm::h29f793bbb3691a0c01j::v0.11.0.pre\n  31:     0x7f608a096b40 - driver::driver::compile_input::hf7a007097756b7ceBJj::v0.11.0.pre\n  32:     0x7f608a160180 - driver::run_compiler::h6c18401fac048ee4umm::v0.11.0.pre\n  33:     0x7f608a1600a0 - driver::main_args::closure.93487\n  34:     0x7f608a174b50 - driver::monitor::closure.94559\n  35:     0x7f608a170070 - task::TaskBuilder::try::closure.94322\n  36:     0x7f608926c970 - task::spawn_opts::closure.7801\n  37:     0x7f6088d4e6e0 - rt::task::Task::run::closure.25256\n  38:     0x7f6088dadab0 - rust_try\n  39:     0x7f6088d4e630 - rt::task::Task::run::h9a36fd2f34280279uhw::v0.11.0.pre\n  40:     0x7f608926c720 - task::spawn_opts::closure.7774\n  41:     0x7f6088d52b60 - rt::thread::thread_start::h057270a612f2c73020w::v0.11.0.pre\n  42:     0x7f60867fdfa0 - start_thread\n  43:     0x7f608899cbe9 - __clone\n  44:                0x0 - <unknown>\n\n$ \n```\n\nThis might be related to issue #14385.\n", "closed_by": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/14411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14411/timeline", "performed_via_github_app": null, "state_reason": "completed"}