{"url": "https://api.github.com/repos/rust-lang/rust/issues/67728", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/67728/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/67728/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/67728/events", "html_url": "https://github.com/rust-lang/rust/issues/67728", "id": 543861358, "node_id": "MDU6SXNzdWU1NDM4NjEzNTg=", "number": 67728, "title": "Better diagnostic message when hitting 32 element limit on array trait impl", "user": {"login": "squeaky-pl", "id": 754356, "node_id": "MDQ6VXNlcjc1NDM1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/754356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/squeaky-pl", "html_url": "https://github.com/squeaky-pl", "followers_url": "https://api.github.com/users/squeaky-pl/followers", "following_url": "https://api.github.com/users/squeaky-pl/following{/other_user}", "gists_url": "https://api.github.com/users/squeaky-pl/gists{/gist_id}", "starred_url": "https://api.github.com/users/squeaky-pl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/squeaky-pl/subscriptions", "organizations_url": "https://api.github.com/users/squeaky-pl/orgs", "repos_url": "https://api.github.com/users/squeaky-pl/repos", "events_url": "https://api.github.com/users/squeaky-pl/events{/privacy}", "received_events_url": "https://api.github.com/users/squeaky-pl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1596122811, "node_id": "MDU6TGFiZWwxNTk2MTIyODEx", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-newcomer-roadblock", "name": "D-newcomer-roadblock", "color": "c9f7a3", "default": false, "description": "Confusing diagnostic error hard to understand for new users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-30T12:20:51Z", "updated_at": "2020-08-18T16:33:58Z", "closed_at": "2020-08-18T16:33:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "So in #rustlang trait implementations on arrays are only implemented to maximum hardcoded 32 elements. I was bitten by this today, and I couldn't figure this out for a while. This would compile if you remove 5 since it would fit in 32 elems but the real solution is to call .iter() and not rely on IntoIter. This of course was reduced to simple case and my original problem appeared in a more complex expression with a lot extra clutter.\r\n\r\n![Screenshot_588](https://user-images.githubusercontent.com/754356/71581629-6014de80-2b06-11ea-96c5-01e7bccbed59.png)\r\n\r\nhttps://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=2a5cc5675e9ddc92d45d5978edd658d1\r\n\r\nI realize this is probably gonna be solved  with advent of const generics but I'm not sure how far or close they are. This is also mentioned in array docs., but in the meantime maybe #rustlang rustc compiler could give better diagnostic message for this particular case. I was banging my head really hard on this one.\r\n\r\nMaybe it could detect hard coded 32 and point to the passage in array docs that mentions these limitations and offer some hints like calling .iter() in this case. Not sure what could be detected and done here exactly.\r\n\r\n", "closed_by": {"login": "squeaky-pl", "id": 754356, "node_id": "MDQ6VXNlcjc1NDM1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/754356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/squeaky-pl", "html_url": "https://github.com/squeaky-pl", "followers_url": "https://api.github.com/users/squeaky-pl/followers", "following_url": "https://api.github.com/users/squeaky-pl/following{/other_user}", "gists_url": "https://api.github.com/users/squeaky-pl/gists{/gist_id}", "starred_url": "https://api.github.com/users/squeaky-pl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/squeaky-pl/subscriptions", "organizations_url": "https://api.github.com/users/squeaky-pl/orgs", "repos_url": "https://api.github.com/users/squeaky-pl/repos", "events_url": "https://api.github.com/users/squeaky-pl/events{/privacy}", "received_events_url": "https://api.github.com/users/squeaky-pl/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/67728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/67728/timeline", "performed_via_github_app": null, "state_reason": "completed"}