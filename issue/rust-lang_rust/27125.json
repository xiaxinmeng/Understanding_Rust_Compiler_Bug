{"url": "https://api.github.com/repos/rust-lang/rust/issues/27125", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27125/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27125/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27125/events", "html_url": "https://github.com/rust-lang/rust/issues/27125", "id": 95915297, "node_id": "MDU6SXNzdWU5NTkxNTI5Nw==", "number": 27125, "title": "random ICE in util::interner::StrInterner::get / print::pprust::token_to_string", "user": {"login": "farcaller", "id": 693, "node_id": "MDQ6VXNlcjY5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farcaller", "html_url": "https://github.com/farcaller", "followers_url": "https://api.github.com/users/farcaller/followers", "following_url": "https://api.github.com/users/farcaller/following{/other_user}", "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}", "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions", "organizations_url": "https://api.github.com/users/farcaller/orgs", "repos_url": "https://api.github.com/users/farcaller/repos", "events_url": "https://api.github.com/users/farcaller/events{/privacy}", "received_events_url": "https://api.github.com/users/farcaller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-19T13:20:23Z", "updated_at": "2016-05-24T21:29:26Z", "closed_at": "2016-05-24T21:29:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A followup issue from https://github.com/hackndev/zinc/issues/332. rustc crashes inside plugin invocation as reported by @enginespot. I myself have tried the exact same OS version and rustc build and it all works fine for me, while being reproducible for @enginespot.\n\nThis doesn't look like a bug in `hackndev/zinc` code so far so I'm escalating here.\n\nThe backtraces:\n\n```\nstack backtrace:\n   1:        0x104cb9785 - sys::backtrace::write::ha27d712b848aedc4Eos\n   2:        0x104cc2623 - panicking::on_panic::h9f9b299259faeda5FMw\n   3:        0x104c7d7d2 - rt::unwind::begin_unwind_inner::h34588507fea4f430Ruw\n   4:        0x104c7e529 - rt::unwind::begin_unwind_fmt::haf01b18ac46172faXtw\n   5:        0x104cc21ac - rust_begin_unwind\n   6:        0x104d180c5 - panicking::panic_fmt::hc126a8e23373fbe7neC\n   7:        0x104d12885 - panicking::panic_bounds_check::hb60c81cc5e896646tdC\n   8:        0x109eb89b7 - util::interner::StrInterner::get::h0d156d7255eec8e6Fpa\n   9:        0x105399874 - parse::token::get_name::hf3a8b6aa848c01f6YhT\n  10:        0x1053997a8 - parse::token::get_ident::h64f49d6a7635d4a6fiT\n  11:        0x105399647 - Pass.LintPass::check_expr::h0bd92942e09e09991aa\n  12:        0x101e882e4 - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  13:        0x101e885fb - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  14:        0x101e885fb - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  15:        0x101e885fb - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  16:        0x101e885fb - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  17:        0x101e885fb - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  18:        0x101e8c3c3 - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_arm::h99d850818547dc0092u\n  19:        0x101e88758 - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_expr::hf7f8aca8e25f497cKOu\n  20:        0x101e88c0e - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_fn::hd556c5b80c885a6fQQu\n  21:        0x101e93df8 - visit::walk_impl_item::h294280462252581110\n  22:        0x101e93689 - lint::context::Context<'a, 'tcx>::with_lint_attrs::h2160803342945724918\n  23:        0x101e840ad - lint::context::Context<'a, 'tcx>::with_lint_attrs::h3132791760906412596\n  24:        0x101e88e9d - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_mod::h3ca23211f356a12bSZu\n  25:        0x101e83ea5 - lint::context::Context<'a, 'tcx>::with_lint_attrs::h3132791760906412596\n  26:        0x101e88e9d - lint::context::Context<'a, 'tcx>.Visitor<'v>::visit_mod::h3ca23211f356a12bSZu\n  27:        0x101e9668f - lint::context::check_crate::hc0e4f890e229305cRjv\n  28:        0x1011b9003 - driver::phase_3_run_analysis_passes::closure.15896\n  29:        0x1011b3882 - middle::ty::ctxt<'tcx>::create_and_enter::h13599737314050492207\n  30:        0x1011aea1d - driver::phase_3_run_analysis_passes::h13797044866949165922\n  31:        0x10118e1c7 - driver::compile_input::h407a10a539c7270cTba\n  32:        0x101273d9f - run_compiler::hed8febc643a5bd02A7b\n  33:        0x101271653 - boxed::F.FnBox<A>::call_box::h5082374284048568258\n  34:        0x101270e17 - rt::unwind::try::try_fn::h4270298375276078235\n  35:        0x104d50318 - rust_try_inner\n  36:        0x104d50305 - rust_try\n  37:        0x104cabcf5 - rt::unwind::try::inner_try::h9dc445b523024767Kqw\n  38:        0x101271048 - boxed::F.FnBox<A>::call_box::h14263195620542072551\n  39:        0x104cc10ad - sys::thread::Thread::new::thread_start::h235524d294e76343UOv\n  40:     0x7fff97c20267 - _pthread_body\n  41:     0x7fff97c201e4 - _pthread_start\n```\n\nexpected to be caused by `syntaxext_lint` extension\n\n```\nstack backtrace:\n   1:        0x1083a8785 - sys::backtrace::write::ha27d712b848aedc4Eos\n   2:        0x1083b1623 - panicking::on_panic::h9f9b299259faeda5FMw\n   3:        0x10836c7d2 - rt::unwind::begin_unwind_inner::h34588507fea4f430Ruw\n   4:        0x10836d529 - rt::unwind::begin_unwind_fmt::haf01b18ac46172faXtw\n   5:        0x1083b11ac - rust_begin_unwind\n   6:        0x1084070c5 - panicking::panic_fmt::hc126a8e23373fbe7neC\n   7:        0x108401885 - panicking::panic_bounds_check::hb60c81cc5e896646tdC\n   8:        0x10cf5e345 - parse::token::get_name::hf3a8b6aa848c01f6YhT\n   9:        0x10d02539a - print::pprust::token_to_string::h1618f3bdd12114e1djY\n  10:        0x1088c144c - parser::Parser<'a>::expect_ident::h355b8d03c51ae2b3i4a\n  11:        0x1088c0cf5 - parser::Parser<'a>::parse_ioregs::h76c8053e516ff94cVxa\n  12:        0x108938d87 - macro_ioregs::he1314fc7be01e50bOBf\n  13:        0x10c9f6fee - ext::base::F.TTMacroExpander::expand::h5495955271595923710\n  14:        0x105e64846 - ext::expand::expand_item_mac::h39a0b8bc4c712b30XDb\n  15:        0x105e521f7 - ext::expand::expand_annotatable::hc164da9b36b4e074o8b\n  16:        0x105e4e531 - ext::expand::expand_item::hd02b92485bd153d2VAb\n  17:        0x105e5b49a - iter::FlatMap<I, U, F>.Iterator::next::h6967991940060654415\n  18:        0x105e5a457 - vec::Vec<T>.FromIterator<T>::from_iter::h2766201999764937737\n  19:        0x105e59b6f - fold::noop_fold_mod::h8301720223478985846\n  20:        0x105e55ab0 - ext::expand::expand_item_underscore::h034d11d80e881f2awBb\n  21:        0x105eb8864 - fold::Folder::fold_item_simple::h3863022252268693635\n  22:        0x105eb8433 - ptr::P<T>::map::h9484354732436644953\n  23:        0x105e5326d - ext::expand::expand_annotatable::hc164da9b36b4e074o8b\n  24:        0x105e4e531 - ext::expand::expand_item::hd02b92485bd153d2VAb\n  25:        0x105e5b49a - iter::FlatMap<I, U, F>.Iterator::next::h6967991940060654415\n  26:        0x105e5a0e5 - vec::Vec<T>.FromIterator<T>::from_iter::h2766201999764937737\n  27:        0x105e59b6f - fold::noop_fold_mod::h8301720223478985846\n  28:        0x105e55ab0 - ext::expand::expand_item_underscore::h034d11d80e881f2awBb\n  29:        0x105eb8864 - fold::Folder::fold_item_simple::h3863022252268693635\n  30:        0x105eb8433 - ptr::P<T>::map::h9484354732436644953\n  31:        0x105e5326d - ext::expand::expand_annotatable::hc164da9b36b4e074o8b\n  32:        0x105e4e531 - ext::expand::expand_item::hd02b92485bd153d2VAb\n  33:        0x105e5b49a - iter::FlatMap<I, U, F>.Iterator::next::h6967991940060654415\n  34:        0x105e5a0e5 - vec::Vec<T>.FromIterator<T>::from_iter::h2766201999764937737\n  35:        0x105e59b6f - fold::noop_fold_mod::h8301720223478985846\n  36:        0x105e55ab0 - ext::expand::expand_item_underscore::h034d11d80e881f2awBb\n  37:        0x105eb8864 - fold::Folder::fold_item_simple::h3863022252268693635\n  38:        0x105eb8433 - ptr::P<T>::map::h9484354732436644953\n  39:        0x105e5326d - ext::expand::expand_annotatable::hc164da9b36b4e074o8b\n  40:        0x105e4e531 - ext::expand::expand_item::hd02b92485bd153d2VAb\n  41:        0x105e5b49a - iter::FlatMap<I, U, F>.Iterator::next::h6967991940060654415\n  42:        0x105e5a457 - vec::Vec<T>.FromIterator<T>::from_iter::h2766201999764937737\n  43:        0x105e59b6f - fold::noop_fold_mod::h8301720223478985846\n  44:        0x105e55ab0 - ext::expand::expand_item_underscore::h034d11d80e881f2awBb\n  45:        0x105eb8864 - fold::Folder::fold_item_simple::h3863022252268693635\n  46:        0x105eb8433 - ptr::P<T>::map::h9484354732436644953\n  47:        0x105e5326d - ext::expand::expand_annotatable::hc164da9b36b4e074o8b\n  48:        0x105e4e531 - ext::expand::expand_item::hd02b92485bd153d2VAb\n  49:        0x105ec1aef - ext::expand::expand_crate::he3d8f1be207b73d2Wzc\n  50:        0x1048d2292 - driver::phase_2_configure_and_expand::closure.21536\n  51:        0x1048827b2 - driver::phase_2_configure_and_expand::h1f4f33e76ff4a764ita\n  52:        0x10487116d - driver::compile_input::h407a10a539c7270cTba\n  53:        0x104957d9f - run_compiler::hed8febc643a5bd02A7b\n  54:        0x104955653 - boxed::F.FnBox<A>::call_box::h5082374284048568258\n  55:        0x104954e17 - rt::unwind::try::try_fn::h4270298375276078235\n  56:        0x10843f318 - rust_try_inner\n  57:        0x10843f305 - rust_try\n  58:        0x10839acf5 - rt::unwind::try::inner_try::h9dc445b523024767Kqw\n  59:        0x104955048 - boxed::F.FnBox<A>::call_box::h14263195620542072551\n  60:        0x1083b00ad - sys::thread::Thread::new::thread_start::h235524d294e76343UOv\n  61:     0x7fff8fb98267 - _pthread_body\n  62:     0x7fff8fb981e4 - _pthread_start\n```\n\nexpected to be caused by zinc `ioregs` macro.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27125/timeline", "performed_via_github_app": null, "state_reason": "completed"}