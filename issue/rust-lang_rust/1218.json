{"url": "https://api.github.com/repos/rust-lang/rust/issues/1218", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1218/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1218/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1218/events", "html_url": "https://github.com/rust-lang/rust/issues/1218", "id": 2337583, "node_id": "MDU6SXNzdWUyMzM3NTgz", "number": 1218, "title": "Cannot build on Fedora: wrong CPUTYPE?", "user": {"login": "Dubhead", "id": 253716, "node_id": "MDQ6VXNlcjI1MzcxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/253716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dubhead", "html_url": "https://github.com/Dubhead", "followers_url": "https://api.github.com/users/Dubhead/followers", "following_url": "https://api.github.com/users/Dubhead/following{/other_user}", "gists_url": "https://api.github.com/users/Dubhead/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dubhead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dubhead/subscriptions", "organizations_url": "https://api.github.com/users/Dubhead/orgs", "repos_url": "https://api.github.com/users/Dubhead/repos", "events_url": "https://api.github.com/users/Dubhead/events{/privacy}", "received_events_url": "https://api.github.com/users/Dubhead/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-11-24T05:31:39Z", "updated_at": "2011-11-24T07:03:49Z", "closed_at": "2011-11-24T07:03:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "make fails like this:\n\n```\ncompile: rt/i686-unknown-linux-gnu/sync/timer.o\nIn file included from /usr/include/features.h:387:0,\n                 from /usr/include/stdlib.h:25,\n                 from ../src/rt/sync/../globals.h:11,\n                 from ../src/rt/sync/timer.cpp:1:\n/usr/include/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory\ncompilation terminated.\nmake: *** [rt/i686-unknown-linux-gnu/sync/timer.o] Error 1\n```\n\nThe host is Fedora 16 x86_64; there is /usr/include/gnu/stubs-64.h but not stubs-32.h.\nThe last part of configure's output is:\n\n```\nconfigure: writing configuration\nconfigure: \nconfigure: CFG_SRC_DIR          := ../\nconfigure: CFG_BUILD_DIR        := /home/miura/Rust/build\nconfigure: CFG_OSTYPE           := unknown-linux-gnu\nconfigure: CFG_CPUTYPE          := i686\nconfigure: CFG_CONFIGURE_ARGS   := \nconfigure: CFG_HOST_TRIPLE      := i686-unknown-linux-gnu\nconfigure: CFG_TARGET_TRIPLES   := i686-unknown-linux-gnu\nconfigure: CFG_C_COMPILER       := gcc\nconfigure: CFG_PREFIX           := /usr/local\nconfigure: CFG_LLVM_ROOT        := \nconfigure: CFG_LLVM_SRC_DIR     := ../src/llvm\nconfigure: CFG_LLVM_BUILD_DIR_i686_unknown_linux_gnu := /home/miura/Rust/build/llvm/i686-un ...\nconfigure: CFG_LLVM_INST_DIR_i686_unknown_linux_gnu := /home/miura/Rust/build/llvm/i686-un ...\nconfigure: \nconfigure: cp ../Makefile.in ./Makefile\nconfigure: \nconfigure: complete\nconfigure: \n```\n\nSo it looks like configure wrongly detects the CPUTYPE as i686.\n\n```\n% cat /etc/fedora-release\nFedora release 16 (Verne)\n% uname -a\nLinux miura-pc2 3.1.1-2.fc16.x86_64 #1 SMP Mon Nov 14 15:46:10 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\n```\n", "closed_by": {"login": "Dubhead", "id": 253716, "node_id": "MDQ6VXNlcjI1MzcxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/253716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dubhead", "html_url": "https://github.com/Dubhead", "followers_url": "https://api.github.com/users/Dubhead/followers", "following_url": "https://api.github.com/users/Dubhead/following{/other_user}", "gists_url": "https://api.github.com/users/Dubhead/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dubhead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dubhead/subscriptions", "organizations_url": "https://api.github.com/users/Dubhead/orgs", "repos_url": "https://api.github.com/users/Dubhead/repos", "events_url": "https://api.github.com/users/Dubhead/events{/privacy}", "received_events_url": "https://api.github.com/users/Dubhead/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/1218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1218/timeline", "performed_via_github_app": null, "state_reason": "completed"}