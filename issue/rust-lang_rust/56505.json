{"url": "https://api.github.com/repos/rust-lang/rust/issues/56505", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/56505/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/56505/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/56505/events", "html_url": "https://github.com/rust-lang/rust/issues/56505", "id": 387299051, "node_id": "MDU6SXNzdWUzODcyOTkwNTE=", "number": 56505, "title": "Rust 1.31.0 fails to build using rust 1.30.1 compiled with system llvm (7.0)", "user": {"login": "Keruspe", "id": 222942, "node_id": "MDQ6VXNlcjIyMjk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keruspe", "html_url": "https://github.com/Keruspe", "followers_url": "https://api.github.com/users/Keruspe/followers", "following_url": "https://api.github.com/users/Keruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Keruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keruspe/subscriptions", "organizations_url": "https://api.github.com/users/Keruspe/orgs", "repos_url": "https://api.github.com/users/Keruspe/repos", "events_url": "https://api.github.com/users/Keruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Keruspe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-12-04T13:58:56Z", "updated_at": "2019-01-06T08:44:44Z", "closed_at": "2019-01-06T08:44:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "System llvm, and official rust releases not following llvm releases (rust being ahead of them) seems to be a trendy topic lately.\r\nI have llvm 7.0.0 and rust 1.30.1 compiled with system llvm.\r\nIt can rebuilt itself just fine.\r\nIt cannot build rust 1.31.0 (configured to build with system llvm too, if that matters).\r\n\r\nHere is the relevant part of the log, duting linking of stage0 rustc:\r\n\r\n```\r\nrustc-stable: /var/tmp/paludis/build/dev-lang-llvm-7.0.0/work/llvm-7.0.0.src/lib/Target/X86/X86AvoidStoreForwardingBlocks.cpp:493: void {anonymous}::X86AvoidSFBPass::buildCopies(int, llvm::MachineInstr*, int64_t, llvm::MachineInstr*, int64_t, int64_t, int64_t): Assertion `Size == 0 && \"Wrong size division\"' failed.\r\n```\r\n\r\nCompilation using official bootstrap rustc (the one downloaded by x.py) is ongoing and seems to work fine as of now.", "closed_by": {"login": "Keruspe", "id": 222942, "node_id": "MDQ6VXNlcjIyMjk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keruspe", "html_url": "https://github.com/Keruspe", "followers_url": "https://api.github.com/users/Keruspe/followers", "following_url": "https://api.github.com/users/Keruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Keruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keruspe/subscriptions", "organizations_url": "https://api.github.com/users/Keruspe/orgs", "repos_url": "https://api.github.com/users/Keruspe/repos", "events_url": "https://api.github.com/users/Keruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Keruspe/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/56505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/56505/timeline", "performed_via_github_app": null, "state_reason": "completed"}