{"url": "https://api.github.com/repos/rust-lang/rust/issues/27242", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27242/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27242/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27242/events", "html_url": "https://github.com/rust-lang/rust/issues/27242", "id": 96880215, "node_id": "MDU6SXNzdWU5Njg4MDIxNQ==", "number": 27242, "title": "Move HashMap to liballoc", "user": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 166999014, "node_id": "MDU6TGFiZWwxNjY5OTkwMTQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-collections", "name": "A-collections", "color": "f7e101", "default": false, "description": "Area: std::collections."}, {"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": {"login": "KisaragiEffective", "id": 48310258, "node_id": "MDQ6VXNlcjQ4MzEwMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/48310258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KisaragiEffective", "html_url": "https://github.com/KisaragiEffective", "followers_url": "https://api.github.com/users/KisaragiEffective/followers", "following_url": "https://api.github.com/users/KisaragiEffective/following{/other_user}", "gists_url": "https://api.github.com/users/KisaragiEffective/gists{/gist_id}", "starred_url": "https://api.github.com/users/KisaragiEffective/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KisaragiEffective/subscriptions", "organizations_url": "https://api.github.com/users/KisaragiEffective/orgs", "repos_url": "https://api.github.com/users/KisaragiEffective/repos", "events_url": "https://api.github.com/users/KisaragiEffective/events{/privacy}", "received_events_url": "https://api.github.com/users/KisaragiEffective/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KisaragiEffective", "id": 48310258, "node_id": "MDQ6VXNlcjQ4MzEwMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/48310258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KisaragiEffective", "html_url": "https://github.com/KisaragiEffective", "followers_url": "https://api.github.com/users/KisaragiEffective/followers", "following_url": "https://api.github.com/users/KisaragiEffective/following{/other_user}", "gists_url": "https://api.github.com/users/KisaragiEffective/gists{/gist_id}", "starred_url": "https://api.github.com/users/KisaragiEffective/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KisaragiEffective/subscriptions", "organizations_url": "https://api.github.com/users/KisaragiEffective/orgs", "repos_url": "https://api.github.com/users/KisaragiEffective/repos", "events_url": "https://api.github.com/users/KisaragiEffective/events{/privacy}", "received_events_url": "https://api.github.com/users/KisaragiEffective/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 27, "created_at": "2015-07-23T18:44:16Z", "updated_at": "2023-05-16T15:52:39Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is blocked on https://github.com/rust-lang/rust/pull/26870\n- [ ] Move FnvHasher from src/librustc/util/nodemap.rs to libcollections\n- [ ] Expose FnvHasher as DeterministicState\n- [ ] Move HashMap's implementation into libcollections defaulting to DeterministicState\n- [ ] Unhardcode HashMap's constructors/methods from using RandomState (instead relying on default fallback)\n- [ ] Re-export HashMap in std::collections as `pub type HashMap<K, V, S = RandomState> = core_collections::HashMap<K, V, S>`\n- [ ] Do the same for HashSet\n- [ ] Re-export DeterministicState in std as well (so we have a better answer to \"HashMap is slow\")\n- [ ] Document the performance-stability/security tradeoff between DeterministicState and RandomState, and that users of the std facade will get a different default from direct users of libcollections (because RandomState requires OS rng to seed its state)\n\nI am willing to mentor this if someone else wants to do it. \n\nNote that re-exporting HashMap may be the trickiest one; it's not clear to me that it's trivial, and may involve manually re-exporting everything in std::collections::hash_map to get the right behaviour (annoying and potentially fragile).\n\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"KisaragiEffective\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27242/reactions", "total_count": 12, "+1": 12, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27242/timeline", "performed_via_github_app": null, "state_reason": null}