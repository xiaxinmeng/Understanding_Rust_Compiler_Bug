{"url": "https://api.github.com/repos/rust-lang/rust/issues/2352", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2352/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2352/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2352/events", "html_url": "https://github.com/rust-lang/rust/issues/2352", "id": 4418188, "node_id": "MDU6SXNzdWU0NDE4MTg4", "number": 2352, "title": "Named service support", "user": {"login": "astavonin", "id": 889885, "node_id": "MDQ6VXNlcjg4OTg4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/889885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astavonin", "html_url": "https://github.com/astavonin", "followers_url": "https://api.github.com/users/astavonin/followers", "following_url": "https://api.github.com/users/astavonin/following{/other_user}", "gists_url": "https://api.github.com/users/astavonin/gists{/gist_id}", "starred_url": "https://api.github.com/users/astavonin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astavonin/subscriptions", "organizations_url": "https://api.github.com/users/astavonin/orgs", "repos_url": "https://api.github.com/users/astavonin/repos", "events_url": "https://api.github.com/users/astavonin/events{/privacy}", "received_events_url": "https://api.github.com/users/astavonin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-05-04T04:14:41Z", "updated_at": "2013-05-21T23:12:34Z", "closed_at": "2013-05-21T23:12:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We can come up with a public API to create global, singleton tasks, possibly with the following signatures:\n\n```\n   unsafe fn register_named_service<T>(n: str, f: fn~(port<T>))\n   unsafe fn get_named_service<T>(n: str) -> chan<T>\n```\n\nThis would, if the named service doesn't exist, create a new task and execute the specified function. You would use this in each test to create or retrieve a global service to manage your state. The big reservation I have about this is that we can not currently make this interface type safe - we can't even check the types at runtime.\n\n**Description was copied from mail-list.**\n", "closed_by": {"login": "Aatch", "id": 342416, "node_id": "MDQ6VXNlcjM0MjQxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aatch", "html_url": "https://github.com/Aatch", "followers_url": "https://api.github.com/users/Aatch/followers", "following_url": "https://api.github.com/users/Aatch/following{/other_user}", "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions", "organizations_url": "https://api.github.com/users/Aatch/orgs", "repos_url": "https://api.github.com/users/Aatch/repos", "events_url": "https://api.github.com/users/Aatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Aatch/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2352/timeline", "performed_via_github_app": null, "state_reason": "completed"}