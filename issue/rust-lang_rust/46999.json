{"url": "https://api.github.com/repos/rust-lang/rust/issues/46999", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/46999/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/46999/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/46999/events", "html_url": "https://github.com/rust-lang/rust/issues/46999", "id": 284460764, "node_id": "MDU6SXNzdWUyODQ0NjA3NjQ=", "number": 46999, "title": "emscripten linking with many dependencies broken on Windows", "user": {"login": "Moxinilian", "id": 30992420, "node_id": "MDQ6VXNlcjMwOTkyNDIw", "avatar_url": "https://avatars.githubusercontent.com/u/30992420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Moxinilian", "html_url": "https://github.com/Moxinilian", "followers_url": "https://api.github.com/users/Moxinilian/followers", "following_url": "https://api.github.com/users/Moxinilian/following{/other_user}", "gists_url": "https://api.github.com/users/Moxinilian/gists{/gist_id}", "starred_url": "https://api.github.com/users/Moxinilian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Moxinilian/subscriptions", "organizations_url": "https://api.github.com/users/Moxinilian/orgs", "repos_url": "https://api.github.com/users/Moxinilian/repos", "events_url": "https://api.github.com/users/Moxinilian/events{/privacy}", "received_events_url": "https://api.github.com/users/Moxinilian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}, {"id": 474645165, "node_id": "MDU6TGFiZWw0NzQ2NDUxNjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-wasm", "name": "O-wasm", "color": "6e6ec0", "default": false, "description": "Target: WASM (WebAssembly), http://webassembly.org/"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-12-25T17:19:09Z", "updated_at": "2018-01-22T23:32:29Z", "closed_at": "2018-01-22T23:32:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello.\r\n\r\nI have been trying to compile a rather big project for wasm32-unknown-emscripten using cargo on Windows.\r\nUnfortunately, the linking process fails when trying to run emcc.bat because the command line invoked is too long for Windows' limitations (about 8k characters).\r\n```error: linking with `emcc.bat` failed: exit code: 1```\r\n```note: The command line is too long.```\r\n\r\nAfter manually counting, the command indeed is too big with in my case about 11k characters, as it includes the absolute path of every single .o and .rlib files. My project, while including piston as a dependency, does not have an incredibly large amount of them, which makes me believe this could be an important issue in the long run (this does not apply to Linux however as the maximum character limit usually is much higher).\r\nAfter a little bit of digging, emscripten seems to provide a workaround for this problem by accepting parameters from files. However it has to be handled by the user.\r\n\r\nThanks in advance for your help.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/46999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/46999/timeline", "performed_via_github_app": null, "state_reason": "completed"}