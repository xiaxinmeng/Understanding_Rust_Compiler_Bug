{"url": "https://api.github.com/repos/rust-lang/rust/issues/13059", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13059/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13059/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13059/events", "html_url": "https://github.com/rust-lang/rust/issues/13059", "id": 29915762, "node_id": "MDU6SXNzdWUyOTkxNTc2Mg==", "number": 13059, "title": "improve error msg on inner attr after extern crate et al.", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-21T16:48:20Z", "updated_at": "2015-11-20T05:14:07Z", "closed_at": "2015-11-20T05:14:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I never remember that inner attributes have to come up above everything else, even extern crate declarations.  The error messages one gets when forgetting this could be improved, e.g. to suggest to the user that if they meant to write an inner attribute, that it needs to appear before other declarations/items.\n\nConsider this code:\n\n``` rust\n// #[allow(deprecated_owned_vector)]; // <- This one will work\n\nextern crate collections;\n\n// this one yields semi-obcure error msg\n#[allow(deprecated_owned_vector)];\n\npub fn main() { }\n```\n\nHere's the error message I get:\n\n```\n% rustc /tmp/demo.rs\n/tmp/demo.rs:6:34: 6:35 error: expected item but found `;`\n/tmp/demo.rs:6 #[allow(deprecated_owned_vector)];\n                                                ^\n%\n```\n", "closed_by": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/13059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13059/timeline", "performed_via_github_app": null, "state_reason": "completed"}