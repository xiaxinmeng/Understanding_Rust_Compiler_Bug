{"url": "https://api.github.com/repos/rust-lang/rust/issues/18345", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18345/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18345/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18345/events", "html_url": "https://github.com/rust-lang/rust/issues/18345", "id": 46845623, "node_id": "MDU6SXNzdWU0Njg0NTYyMw==", "number": 18345, "title": "ICE: index out of bounds: the len is 1 but the index is 1", "user": {"login": "ruuda", "id": 506953, "node_id": "MDQ6VXNlcjUwNjk1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/506953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruuda", "html_url": "https://github.com/ruuda", "followers_url": "https://api.github.com/users/ruuda/followers", "following_url": "https://api.github.com/users/ruuda/following{/other_user}", "gists_url": "https://api.github.com/users/ruuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruuda/subscriptions", "organizations_url": "https://api.github.com/users/ruuda/orgs", "repos_url": "https://api.github.com/users/ruuda/repos", "events_url": "https://api.github.com/users/ruuda/events{/privacy}", "received_events_url": "https://api.github.com/users/ruuda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-10-26T15:25:16Z", "updated_at": "2014-12-18T14:32:15Z", "closed_at": "2014-12-18T14:32:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Minimal example to reproduce (compile as lib):\n\n``` rust\ntype Step<'s, R, T> = |R, T|: 's -> R;\ntype Transducer<'t, R, T, U> = |Step<'t, R, U>|: 't -> Step<'t, R, T>;\n\nfn mapping<'f, R, T, U>(f: |T|: 'f -> U) -> &'f Transducer<'f, R, T, U> {\n    |step| |r, x| step(r, f(x))\n}\n```\n\nWhen `&'f` is removed, this does not ICE.\n\nBacktrace:\n\n```\nsrc\\lib.rs:5:19: 5:23 error: the type of this value must be known in this context\nsrc\\lib.rs:5     |step| |r, x| step(r, f(x))\n                               ^~~~\nsrc\\lib.rs:5:19: 5:32 error: the type of this value must be known in this context\nsrc\\lib.rs:5     |step| |r, x| step(r, f(x))\n                               ^~~~~~~~~~~~~\nsrc\\lib.rs:5:19: 5:32 error: cannot use call notation; the first type parameter for the function trait is neither a tuple nor unit [E0059]\nsrc\\lib.rs:5     |step| |r, x| step(r, f(x))\n                               ^~~~~~~~~~~~~\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'index out of bounds: the len is 1 but the index is 1', C:\\bot\\slave\\nightly-win-64\\build\\src\\librustc\\lib.rs:1\n\nstack backtrace:\n   1:         0x66be4310 - ZN2rt9backtrace3imp5write20h934065ecf3007278mJqE\n   2:         0x66be7dec - ZN2rt4init20h4292e4f337cb4f72SWqE\n   3:         0x668465bd - ZN6unwind18begin_unwind_inner20hf882ab956f0fa8d10odE\n   4:         0x668462df - ZN6unwind16begin_unwind_fmt20hf3a962d8a6ecff9bsmdE\n   5:         0x66846054 - rust_begin_unwind\n   6:         0x6689f383 - ZN7failure8fail_fmt20hfd6527033c0675afJ6jE\n   7:         0x6689f2bd - ZN7failure17fail_bounds_check20h203b816dba18350ei5jE\n   8:           0xb7825c - ZN6middle6typeck5check33LvaluePreference...std..fmt..Show3fmt20h80b014a110e9c593EpXE\n   9:           0xb76775 - ZN6middle6typeck5check33LvaluePreference...std..fmt..Show3fmt20h80b014a110e9c593EpXE\n  10:           0xb75e79 - ZN6middle6typeck5check33LvaluePreference...std..fmt..Show3fmt20h80b014a110e9c593EpXE\n  11:           0xb79de8 - ZN6middle6typeck5infer36InferCtxt$LT$$x27a$C$$x20$x27tcx$GT$17next_float_var_id20h648ccc13102fcd036QgE\n  12:           0xb42ed5 - ZN6middle6typeck5check67GatherLocalsVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h0435a11cd4e677cfkbVE\n  13:           0xb3eb21 - ZN6middle6typeck5check16check_item_types20haa06e749d835c720YZUE\n  14:           0xb84a3a - ZN6middle6typeck5check9may_break20h7fb024cf507262edEI1E\n  15:           0xb7ae80 - ZN6middle6typeck5infer36InferCtxt$LT$$x27a$C$$x20$x27tcx$GT$17next_float_var_id20h648ccc13102fcd036QgE\n  16:           0xb42ed5 - ZN6middle6typeck5check67GatherLocalsVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h0435a11cd4e677cfkbVE\n  17:           0xb3eb21 - ZN6middle6typeck5check16check_item_types20haa06e749d835c720YZUE\n  18:           0xb84a3a - ZN6middle6typeck5check9may_break20h7fb024cf507262edEI1E\n  19:           0xb7ae80 - ZN6middle6typeck5infer36InferCtxt$LT$$x27a$C$$x20$x27tcx$GT$17next_float_var_id20h648ccc13102fcd036QgE\n  20:           0xb42ed5 - ZN6middle6typeck5check67GatherLocalsVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h0435a11cd4e677cfkbVE\n  21:           0xb3eb21 - ZN6middle6typeck5check16check_item_types20haa06e749d835c720YZUE\n  22:           0xb3e036 - ZN6middle6typeck5check16check_item_types20haa06e749d835c720YZUE\n  23:           0xb399be - ZN6middle6typeck5check10check_item20h6c957f569297abcfPkVE\n  24:           0xb3dec1 - ZN6middle6typeck5check16check_item_types20haa06e749d835c720YZUE\n  25:           0x6239e6 - ZN8metadata6cstore6CStore21get_used_crate_source20h6f5bb0bd0dc9f8edvHxE\n  26:           0xe1607c - ZN6middle6typeck11check_crate20h2e65239b4c9f3bd8QHnE\n  27:           0xe808e0 - ZN6driver6driver27phase_3_run_analysis_passes20haaecab27067904a27kAE\n  28:           0xe7b403 - ZN6driver6driver13compile_input20h1c7fd93bac6d1b6cS1zE\n  29:           0xf00555 - ZN6driver7monitor20h8e01e22495d9d147EDEE\n  30:           0xefe880 - ZN6driver7monitor20h8e01e22495d9d147EDEE\n  31:           0x63d565 - ZN6driver6driver35OutputFilenames...std..clone..Clone5clone20h544ba2b215219c40mRAE\n  32:           0x63d497 - ZN6driver6driver35OutputFilenames...std..clone..Clone5clone20h544ba2b215219c40mRAE\n  33:         0x7072b36c - ZN4task15Ops.rt..Runtime4wrap20h09aff520fc9440e4eyeE\n  34:         0x668aae4f - rust_try\n  35:         0x668aae29 - rust_try\n  36:         0x6684456e - ZN6unwind3try20hf68ddd0d42564cdb4bdE\n  37:         0x668443a9 - ZN4task4Task3run20h97bab04403f5fe37eFcE\n  38:         0x7072b170 - ZN4task15Ops.rt..Runtime4wrap20h09aff520fc9440e4eyeE\n  39:         0x66845b5d - ZN6thread7cleanup20h49ddb49977ad2dc04YcE\n  40:         0x772959ed - BaseThreadInitThunk\n```\n\nVersion:\n\n```\nrustc 0.13.0-nightly (172b59abe 2014-10-25 00:32:07 +0000)\nbinary: rustc\ncommit-hash: 172b59abe510dde5826fec24377f208a19418c04\ncommit-date: 2014-10-25 00:32:07 +0000\nhost: x86_64-w64-mingw32\nrelease: 0.13.0-nightly\n```\n\nOS: Windows 7 x64\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/18345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18345/timeline", "performed_via_github_app": null, "state_reason": "completed"}