{"url": "https://api.github.com/repos/rust-lang/rust/issues/10011", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/10011/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/10011/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/10011/events", "html_url": "https://github.com/rust-lang/rust/issues/10011", "id": 21357440, "node_id": "MDU6SXNzdWUyMTM1NzQ0MA==", "number": 10011, "title": "idea: postfix pointer-dereference operator", "user": {"login": "1fish2", "id": 1043120, "node_id": "MDQ6VXNlcjEwNDMxMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1043120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1fish2", "html_url": "https://github.com/1fish2", "followers_url": "https://api.github.com/users/1fish2/followers", "following_url": "https://api.github.com/users/1fish2/following{/other_user}", "gists_url": "https://api.github.com/users/1fish2/gists{/gist_id}", "starred_url": "https://api.github.com/users/1fish2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1fish2/subscriptions", "organizations_url": "https://api.github.com/users/1fish2/orgs", "repos_url": "https://api.github.com/users/1fish2/repos", "events_url": "https://api.github.com/users/1fish2/events{/privacy}", "received_events_url": "https://api.github.com/users/1fish2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-10-22T02:24:28Z", "updated_at": "2014-04-29T03:13:59Z", "closed_at": "2013-11-05T05:22:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is something of a wild idea: Use a postfix operator to dereference a pointer (as in Pascal) for fewer mistakes:\n\n`(*rect).area()` becomes `rect~.area()`\n\nThat reads left-to-right with nary a precedence mistake.\n\nAlthough Rust\u2019s auto-dereference feature and type checker will sometimes catch the mistaken `*rect.area()`, it's good to just fix the failure mode. (All security holes in the field got past the type checker and the unit tests.)\n\nThe disadvantages are (1) the changeover work, and (2) being different than C/C++. C defined it that way to reuse the expression parser to help fit the compiler on a 16-bit CPU.\n\nDavid Piepgrass points out that if pointer dereference were a suffix operator, it would have to be changed from \\* to (e.g.) ~. Why? Because if `foo*` means \"dereference foo\" then it becomes ambiguous whether `foo * - bar` means `(foo*)-bar` \"dereference foo and subtract bar\" or `foo*(-bar)` \"multiply foo by negated bar\". Due to this ambiguity, it is difficult for a language to simultaneously have\n1. Operators that can be prefix or infix, and\n2. Operators that can be infix or suffix.\n\nTo avoid the ambiguity, one can introduce an operator like ~ that is prefix or suffix but never infix.\n", "closed_by": {"login": "Aatch", "id": 342416, "node_id": "MDQ6VXNlcjM0MjQxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aatch", "html_url": "https://github.com/Aatch", "followers_url": "https://api.github.com/users/Aatch/followers", "following_url": "https://api.github.com/users/Aatch/following{/other_user}", "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions", "organizations_url": "https://api.github.com/users/Aatch/orgs", "repos_url": "https://api.github.com/users/Aatch/repos", "events_url": "https://api.github.com/users/Aatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Aatch/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/10011/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/10011/timeline", "performed_via_github_app": null, "state_reason": "completed"}