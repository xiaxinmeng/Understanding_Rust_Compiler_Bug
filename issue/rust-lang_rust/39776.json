{"url": "https://api.github.com/repos/rust-lang/rust/issues/39776", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39776/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39776/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39776/events", "html_url": "https://github.com/rust-lang/rust/issues/39776", "id": 207104079, "node_id": "MDU6SXNzdWUyMDcxMDQwNzk=", "number": 39776, "title": "u8 doesn't map to known type in MSVC-build debug info", "user": {"login": "AndrewGaspar", "id": 2292643, "node_id": "MDQ6VXNlcjIyOTI2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2292643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewGaspar", "html_url": "https://github.com/AndrewGaspar", "followers_url": "https://api.github.com/users/AndrewGaspar/followers", "following_url": "https://api.github.com/users/AndrewGaspar/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewGaspar/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewGaspar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewGaspar/subscriptions", "organizations_url": "https://api.github.com/users/AndrewGaspar/orgs", "repos_url": "https://api.github.com/users/AndrewGaspar/repos", "events_url": "https://api.github.com/users/AndrewGaspar/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewGaspar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-13T01:43:22Z", "updated_at": "2017-02-13T01:47:36Z", "closed_at": "2017-02-13T01:47:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've built a rust program with this source code, compiling with the stable-x86_64-pc-windows-msvc toolchain:\r\n```rs\r\nfn main() {\r\n    let some_8_bit_values = [0u8,1,2,3];\r\n    let some_16_bit_values = [0u16,1,2,3];\r\n    let some_32_bit_values = [0u32,1,2,3];\r\n    let some_64_bit_values = [0u64,1,2,3];\r\n\r\n    println!(\"Hello, world!\");\r\n}\r\n```\r\n\r\nI debugged the program with windbg. After all four arrays are initialized, I ran dv:\r\n```\r\n0:000> dv\r\nType information missing error for some_8_bit_values\r\nsome_16_bit_values = unsigned short [4]\r\nsome_32_bit_values = unsigned int [4]\r\nsome_64_bit_values = unsigned int64 [4]\r\n```\r\n\r\nThe u16, u32, and u64 values all map to well known C-types of the same width, and windbg is able to display useful information about them, as if they were typical C-arrays:\r\n```\r\n0:000> dx some_16_bit_values\r\nsome_16_bit_values                 [Type: unsigned short [4]]\r\n    [0]              : 0x0 [Type: unsigned short]\r\n    [1]              : 0x1 [Type: unsigned short]\r\n    [2]              : 0x2 [Type: unsigned short]\r\n    [3]              : 0x3 [Type: unsigned short]\r\n```\r\n\r\nHowever, it appears that windbg can't do anything useful with the u8 array:\r\n```\r\n0:000> dx some_8_bit_values\r\nType information missing error for some_8_bit_values\r\nError: Unable to bind name 'some_8_bit_values'\r\n```\r\n\r\nI'm trying to write some NatVis visualizations for Rust debugging in windbg/the VS debugger, and this is making it difficult to write visualizations for std::string::String, for example.\r\n\r\nI'd be happy to submit a patch myself, I'm just not familiar enough with the code to know where to start.", "closed_by": {"login": "AndrewGaspar", "id": 2292643, "node_id": "MDQ6VXNlcjIyOTI2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2292643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewGaspar", "html_url": "https://github.com/AndrewGaspar", "followers_url": "https://api.github.com/users/AndrewGaspar/followers", "following_url": "https://api.github.com/users/AndrewGaspar/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewGaspar/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewGaspar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewGaspar/subscriptions", "organizations_url": "https://api.github.com/users/AndrewGaspar/orgs", "repos_url": "https://api.github.com/users/AndrewGaspar/repos", "events_url": "https://api.github.com/users/AndrewGaspar/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewGaspar/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39776/timeline", "performed_via_github_app": null, "state_reason": "completed"}