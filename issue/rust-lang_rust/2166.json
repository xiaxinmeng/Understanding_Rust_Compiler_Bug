{"url": "https://api.github.com/repos/rust-lang/rust/issues/2166", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2166/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2166/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2166/events", "html_url": "https://github.com/rust-lang/rust/issues/2166", "id": 4023901, "node_id": "MDU6SXNzdWU0MDIzOTAx", "number": 2166, "title": "symbols versions are not mangled correctly", "user": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 60329014, "node_id": "MDU6TGFiZWw2MDMyOTAxNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-low", "name": "P-low", "color": "eb6420", "default": false, "description": "Low priority"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2012-04-08T22:35:16Z", "updated_at": "2015-06-21T20:14:11Z", "closed_at": "2015-06-21T20:14:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As part of #2137 and #456 we have added the crate version to every exported symbol, but not quite in the correct way.\n\nRight now the final part of the path used for the symbol ends with `\"V\" + vers`, which gets passed through the mangler. The original design called for `@vers` but the `@` isn't a valid symbol on all platforms (I think?) so gets mangled to `_sbox_`, which is a bizarre way to indicate the version.\n\nMangling also makes any dots in the version go away so a version \"0.2\" symbol will end with \"V02\".\n\nThere is some additional discussion [here](https://mail.mozilla.org/pipermail/rust-dev/2010-December/000164.html) about how this is supposed to work that I haven't read.\n", "closed_by": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2166/timeline", "performed_via_github_app": null, "state_reason": "completed"}