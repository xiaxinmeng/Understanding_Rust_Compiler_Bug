{"url": "https://api.github.com/repos/rust-lang/rust/issues/111957", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/111957/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/111957/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/111957/events", "html_url": "https://github.com/rust-lang/rust/issues/111957", "id": 1726425946, "node_id": "I_kwDOAAsO6M5m5yta", "number": 111957, "title": "aarch64 cross compile link error!", "user": {"login": "skydig", "id": 27293515, "node_id": "MDQ6VXNlcjI3MjkzNTE1", "avatar_url": "https://avatars.githubusercontent.com/u/27293515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skydig", "html_url": "https://github.com/skydig", "followers_url": "https://api.github.com/users/skydig/followers", "following_url": "https://api.github.com/users/skydig/following{/other_user}", "gists_url": "https://api.github.com/users/skydig/gists{/gist_id}", "starred_url": "https://api.github.com/users/skydig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skydig/subscriptions", "organizations_url": "https://api.github.com/users/skydig/orgs", "repos_url": "https://api.github.com/users/skydig/repos", "events_url": "https://api.github.com/users/skydig/events{/privacy}", "received_events_url": "https://api.github.com/users/skydig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 167285428, "node_id": "MDU6TGFiZWwxNjcyODU0Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-cross", "name": "A-cross", "color": "f7e101", "default": false, "description": "Area: Cross compilation"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-05-25T20:09:40Z", "updated_at": "2023-05-26T06:34:38Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "compile egui file_dialog application under ubuntu 20.04.01, and aarch64 gcc version is 9.4, link errors are as following:\r\n\r\n\r\n\"/home/abc/.rustup/toolchains/1.65.0-x86_64-unknown-linux-gnu/lib/rustlib/aarch64-unknown-linux-gnu/lib/libcompiler_builtins-d39f7c1f0b7c4e1c.rlib\" \"-Wl,-Bdynamic\" \"-lgtk-3\" \"-lgdk-3\" \"-lpangocairo-1.0\" \"-lpango-1.0\" \"-lharfbuzz\" \"-latk-1.0\" \"-lcairo-gobject\" \"-lcairo\" \"-lgdk_pixbuf-2.0\" \"-lgio-2.0\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-latk-1.0\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-lgdk-3\" \"-lpangocairo-1.0\" \"-lpango-1.0\" \"-lharfbuzz\" \"-lgdk_pixbuf-2.0\" \"-lcairo-gobject\" \"-lcairo\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-lpango-1.0\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-lharfbuzz\" \"-lgdk_pixbuf-2.0\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-lgio-2.0\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-lcairo\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-lgobject-2.0\" \"-lglib-2.0\" \"-ldl\" \"-lgcc_s\" \"-lutil\" \"-lrt\" \"-lpthread\" \"-lm\" \"-ldl\" \"-lc\" \"-Wl,--eh-frame-hdr\" \"-Wl,-znoexecstack\" \"-L\" \"/home/abc/.rustup/toolchains/1.65.0-x86_64-unknown-linux-gnu/lib/rustlib/aarch64-unknown-linux-gnu/lib\" \"-o\" \"/home/abc/egui/target/aarch64-unknown-linux-gnu/release/deps/file_dialog-8b00381c21689cea\" \"-Wl,--gc-sections\" \"-pie\" \"-Wl,-zrelro,-znow\" \"-Wl,-O1\" \"-nodefaultlibs\" \"--sysroot=/opt/root/\"\r\n  = note: /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /home/abc/egui/target/aarch64-unknown-linux-gnu/release/deps/libglutin-ea80461c656cd383.rlib(glutin-ea80461c656cd383.glutin.11256db3-cgu.11.rcgu.o): in function `libloading::safe::Library::new':\r\n          glutin.11256db3-cgu.11:(.text._ZN10libloading4safe7Library3new17hfe0eaac1a0daa94bE+0x54): warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libdl.a(dlopen.o): in function `dlopen':\r\n          (.text+0x14): undefined reference to `__dlopen'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libdl.a(dlclose.o): in function `dlclose':\r\n          (.text+0x0): undefined reference to `__dlclose'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libdl.a(dlsym.o): in function `dlsym':\r\n          (.text+0x14): undefined reference to `__dlsym'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libdl.a(dlerror.o): in function `dlerror':\r\n          (.text+0x0): undefined reference to `__dlerror'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(nptl-init.o): in function `__pthread_initialize_minimal_internal':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:335: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:335: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:344: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:360: undefined reference to `_dl_init_static_tls'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:362: undefined reference to `_dl_wait_lookup_done'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:360: undefined reference to `_dl_init_static_tls'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:362: undefined reference to `_dl_wait_lookup_done'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(nptl-init.o): in function `__pthread_get_minstack':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:393: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/nptl-init.c:393: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_create.o): in function `allocate_stack':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/allocatestack.c:525: undefined reference to `_dl_stack_flags'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/allocatestack.c:525: undefined reference to `_dl_stack_flags'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/allocatestack.c:647: undefined reference to `_dl_stack_flags'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/allocatestack.c:647: undefined reference to `_dl_stack_flags'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_getattr_np.o): in function `pthread_getattr_np':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_getattr_np.c:99: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_getattr_np.c:99: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_getattr_np.c:137: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_getattr_np.c:137: undefined reference to `_dl_pagesize'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_mutex_unlock.o): in function `__pthread_mutex_unlock_full':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_mutex_unlock.c:286: undefined reference to `__aarch64_cas4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_mutex_unlock.c:331: undefined reference to `__aarch64_cas4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_wait.o): in function `__condvar_release_lock':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:291: undefined reference to `__aarch64_ldclr4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_wait.o): in function `__condvar_dec_grefs':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_wait.c:159: undefined reference to `__aarch64_ldclr4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_wait.o): in function `__condvar_fetch_add_wseq_acquire':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:37: undefined reference to `__aarch64_ldadd8_acq'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:37: undefined reference to `__aarch64_ldadd8_acq'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:37: undefined reference to `__aarch64_ldadd8_acq'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_signal.o): in function `__condvar_release_lock':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:291: undefined reference to `__aarch64_ldclr4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:291: undefined reference to `__aarch64_ldclr4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_signal.o): in function `__condvar_quiesce_and_switch_g1':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:381: undefined reference to `__aarch64_ldset4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:396: undefined reference to `__aarch64_ldset4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:413: undefined reference to `__aarch64_ldset4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_signal.o): in function `__condvar_fetch_xor_wseq_release':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:43: undefined reference to `__aarch64_ldeor8_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_signal.o): in function `__condvar_set_orig_size':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:316: undefined reference to `__aarch64_swp4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_broadcast.o): in function `__condvar_release_lock':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:291: undefined reference to `__aarch64_ldclr4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_broadcast.o): in function `__condvar_quiesce_and_switch_g1':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:381: undefined reference to `__aarch64_ldset4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:396: undefined reference to `__aarch64_ldset4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:413: undefined reference to `__aarch64_ldset4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_broadcast.o): in function `__condvar_fetch_xor_wseq_release':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:43: undefined reference to `__aarch64_ldeor8_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_broadcast.o): in function `__condvar_set_orig_size':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:316: undefined reference to `__aarch64_swp4_relax'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(pthread_cond_broadcast.o): in function `__condvar_release_lock':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/pthread_cond_common.c:291: undefined reference to `__aarch64_ldclr4_rel'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /opt/root/usr/lib/aarch64-linux-gnu/libpthread.a(unwind.o): in function `_jmpbuf_sp':\r\n          /build/glibc-RIFKjK/glibc-2.31/nptl/../sysdeps/aarch64/jmpbuf-offsets.h:52: undefined reference to `__pointer_chk_guard_local'\r\n          /usr/lib/gcc-cross/aarch64-linux-gnu/9/../../../../aarch64-linux-gnu/bin/ld: /build/glibc-RIFKjK/glibc-2.31/nptl/../sysdeps/aarch64/jmpbuf-offsets.h:52: undefined reference to `__pointer_chk_guard_local'\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/111957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/111957/timeline", "performed_via_github_app": null, "state_reason": null}