{"url": "https://api.github.com/repos/rust-lang/rust/issues/73158", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73158/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73158/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73158/events", "html_url": "https://github.com/rust-lang/rust/issues/73158", "id": 635085681, "node_id": "MDU6SXNzdWU2MzUwODU2ODE=", "number": 73158, "title": "TTL should be regarded as octal number (8-bit unsigned integer)", "user": {"login": "safwanrahman", "id": 7114151, "node_id": "MDQ6VXNlcjcxMTQxNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7114151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/safwanrahman", "html_url": "https://github.com/safwanrahman", "followers_url": "https://api.github.com/users/safwanrahman/followers", "following_url": "https://api.github.com/users/safwanrahman/following{/other_user}", "gists_url": "https://api.github.com/users/safwanrahman/gists{/gist_id}", "starred_url": "https://api.github.com/users/safwanrahman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/safwanrahman/subscriptions", "organizations_url": "https://api.github.com/users/safwanrahman/orgs", "repos_url": "https://api.github.com/users/safwanrahman/repos", "events_url": "https://api.github.com/users/safwanrahman/events{/privacy}", "received_events_url": "https://api.github.com/users/safwanrahman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-06-09T03:38:40Z", "updated_at": "2020-06-12T00:46:30Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nI tried this code:\r\n\r\n```rust\r\nuse std::net::UdpSocket;\r\nfn main(){\r\n    let mut socket = UdpSocket::bind(\"0.0.0.0:1234\").unwrap();\r\n    socket.set_ttl(300);\r\n}\r\n```\r\n\r\nI expected to see this happen: I expected that it would raise compilation error because the `ttl` is octal and [maximum value is 255](https://en.wikipedia.org/wiki/Time_to_live). But I could set 300 as ttl. \r\n\r\nInstead, this happened: It does not raise any error and I could send packet with ttl more than 255. It was causing trouble as my software was setting ttl greater than 255 and was providing wrong data.\r\nUpon looking more into the source code and documentation, it seems like `set_ttl` method is taking 32-bit unsigned integer type `u32` as ttl, where is should take 8-bit unsigned integer type `u8` as ttl.\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.43.1 (8d69840ab 2020-05-04)\r\nbinary: rustc\r\ncommit-hash: 8d69840ab92ea7f4d323420088dd8c9775f180cd\r\ncommit-date: 2020-05-04\r\nhost: x86_64-apple-darwin\r\nrelease: 1.43.1\r\nLLVM version: 9.0\r\n```\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary>Backtrace</summary>\r\n<p>\r\n\r\n```\r\n<backtrace>\r\n```\r\n\r\n</p>\r\n</details>\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73158/timeline", "performed_via_github_app": null, "state_reason": null}