{"url": "https://api.github.com/repos/rust-lang/rust/issues/57923", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57923/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57923/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57923/events", "html_url": "https://github.com/rust-lang/rust/issues/57923", "id": 403480943, "node_id": "MDU6SXNzdWU0MDM0ODA5NDM=", "number": 57923, "title": "Implementing a trait for an associated type causes 'overflow evaluating the requirement' error", "user": {"login": "nomad010", "id": 4639131, "node_id": "MDQ6VXNlcjQ2MzkxMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4639131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nomad010", "html_url": "https://github.com/nomad010", "followers_url": "https://api.github.com/users/nomad010/followers", "following_url": "https://api.github.com/users/nomad010/following{/other_user}", "gists_url": "https://api.github.com/users/nomad010/gists{/gist_id}", "starred_url": "https://api.github.com/users/nomad010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nomad010/subscriptions", "organizations_url": "https://api.github.com/users/nomad010/orgs", "repos_url": "https://api.github.com/users/nomad010/repos", "events_url": "https://api.github.com/users/nomad010/events{/privacy}", "received_events_url": "https://api.github.com/users/nomad010/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}, {"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-26T20:38:19Z", "updated_at": "2021-12-29T03:32:15Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Implementing a trait for an associated type of something that implements the same trait causes the compiler to emit an overflow evaluating the requirement  error. I read the error explanation and it makes reference to trait bounds causing an endless list of things to check, it's not clear to me why this case would produce that. \r\n\r\n```\r\ntrait Convertable {\r\n    type ResultType;\r\n}\r\n\r\ntrait SomethingElse {}\r\n\r\nstruct A {}\r\n\r\nstruct B {}\r\n\r\nstruct C {}\r\n\r\nimpl Convertable for A {\r\n    type ResultType = B;\r\n}\r\n\r\n// The addition of the following causes a compiler error[E0275]: overflow evaluating the requirement `<A as Convertable>::ResultType`:\r\nimpl Convertable for <A as Convertable>::ResultType {\r\n    type ResultType = C;\r\n}\r\n\r\n// Implementing any other trait for the associated type works fine with no errors.\r\nimpl SomethingElse for <A as Convertable>::ResultType {}\r\n```\r\n\r\nI  expected to see this happen:\r\nNo compiler errors and the `Convertable` trait implemented for B as the following:\r\n```\r\n// What I wanted to happen.\r\nimpl Convertable for B {\r\n    type ResultType = C;\r\n}\r\n```\r\nInstead, this happened:\r\n```\r\nerror[E0275]: overflow evaluating the requirement `<A as Convertable>::ResultType`\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\n## Meta\r\n```\r\nrustc --version --verbose\r\nrustc 1.32.0 (9fda7c223 2019-01-16)\r\nbinary: rustc\r\ncommit-hash: 9fda7c2237db910e41d6a712e9a2139b352e558b\r\ncommit-date: 2019-01-16\r\nhost: x86_64-apple-darwin\r\nrelease: 1.32.0\r\nLLVM version: 8.0\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57923/timeline", "performed_via_github_app": null, "state_reason": null}