{"url": "https://api.github.com/repos/rust-lang/rust/issues/14441", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14441/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14441/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14441/events", "html_url": "https://github.com/rust-lang/rust/issues/14441", "id": 34296454, "node_id": "MDU6SXNzdWUzNDI5NjQ1NA==", "number": 14441, "title": "rustc crashing over illegal instruction", "user": {"login": "ebtaleb", "id": 5064073, "node_id": "MDQ6VXNlcjUwNjQwNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/5064073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebtaleb", "html_url": "https://github.com/ebtaleb", "followers_url": "https://api.github.com/users/ebtaleb/followers", "following_url": "https://api.github.com/users/ebtaleb/following{/other_user}", "gists_url": "https://api.github.com/users/ebtaleb/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebtaleb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebtaleb/subscriptions", "organizations_url": "https://api.github.com/users/ebtaleb/orgs", "repos_url": "https://api.github.com/users/ebtaleb/repos", "events_url": "https://api.github.com/users/ebtaleb/events{/privacy}", "received_events_url": "https://api.github.com/users/ebtaleb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2014-05-26T10:02:16Z", "updated_at": "2016-05-27T16:56:36Z", "closed_at": "2016-05-24T21:34:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "rustc killed by SIGILL. It is caused by a mfence instruction that belongs to the SSE2 instruction set. Sadly, my 10-year-old CPU does not support SSE2.\n\n``` no-highlight\n\n\u21d2  ./rustc -v \nrustc 0.11.0-pre-nightly (6b1426b 2014-05-25 01:11:19 -0700)\nhost: i686-unknown-linux-gnu\n\n\u21d2  cat /proc/cpuinfo\nprocessor   : 0\nvendor_id   : AuthenticAMD\ncpu family  : 6\nmodel       : 10\nmodel name  : AMD Sempron(tm)  3000+\nstepping    : 0\ncpu MHz     : 1991.380\ncache size  : 512 KB\nfdiv_bug    : no\nf00f_bug    : no\ncoma_bug    : no\nfpu     : yes\nfpu_exception   : yes\ncpuid level : 1\nwp      : yes\nflags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 mmx fxsr sse syscall mp mmxext 3dnowext 3dnow\nbogomips    : 3982.76\nclflush size    : 32\ncache_alignment : 32\naddress sizes   : 34 bits physical, 32 bits virtual\npower management: ts\n\n\u21d2  cat hw.rs \nfn main() {\n    println!(\"hello world!\");\n}\n\n\u21d2  ./rustc hw.rs \n[1]    7033 illegal hardware instruction  ./rustc hw.rs\n\n(gdb) run ~/hw.rs \nStarting program: /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/rustc ~/hw.rs\nwarning: Could not load shared library symbols for linux-gate.so.1.\nDo you need \"set solib-search-path\" or \"set sysroot\"?\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/i386-linux-gnu/i686/cmov/libthread_db.so.1\".\n[New Thread 0xb3bff8c0 (LWP 3767)]\n\nProgram received signal SIGILL, Illegal instruction.\n[Switching to Thread 0xb3bff8c0 (LWP 3767)]\n0xb7028bc0 in llvm::sys::MemoryFence() () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n(gdb) bt\n#0  0xb7028bc0 in llvm::sys::MemoryFence() () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#1  0xb706011a in llvm::llvm_start_multithreaded() () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#2  0xb6ef6534 in LLVMStartMultithreaded () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#3  0xb58871fe in middle::trans::base::trans_crate::closure.62375 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#4  0xb4870316 in one::Once::doit::h9fe40ba418d51284ZIb::v0.11.0.pre () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/./libsync-305341d2-0.11.0-pre.so\n#5  0xb588453c in middle::trans::base::trans_crate::hbc3d1a77adf07aac5gq::v0.11.0.pre ()\n   from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#6  0xb60110e9 in driver::driver::phase_4_translate_to_llvm::h2915b3b27d3b85f7Zdk::v0.11.0.pre ()\n   from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#7  0xb60080e8 in driver::driver::compile_input::hf0649dd005bd9326AVj::v0.11.0.pre () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#8  0xb60c937a in driver::run_compiler::h06f4471c3444d27fvym::v0.11.0.pre () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#9  0xb60c679c in driver::main_args::closure.93521 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#10 0xb60d9dfb in driver::monitor::closure.94592 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#11 0xb60d5706 in task::TaskBuilder::try::closure.94355 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/librustc-d252d482-0.11.0-pre.so\n#12 0xb7faae28 in task::spawn_opts::closure.7802 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libnative-1fb5e2c0-0.11.0-pre.so\n#13 0xb527eb19 in rt::task::Task::run::closure.25254 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libstd-59beb4f7-0.11.0-pre.so\n#14 0xb5283e04 in rt::unwind::Unwinder::try::try_fn::hf1a154dc31c8998b5gy::v0.11.0.pre ()\n   from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libstd-59beb4f7-0.11.0-pre.so\n#15 0xb52e4603 in rust_try () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libstd-59beb4f7-0.11.0-pre.so\n#16 0xb527ea7c in rt::task::Task::run::h01f4e25c4b3762751dw::v0.11.0.pre () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libstd-59beb4f7-0.11.0-pre.so\n#17 0xb7faac89 in task::spawn_opts::closure.7774 () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libnative-1fb5e2c0-0.11.0-pre.so\n#18 0xb528295c in rt::thread::thread_start::h9551b7fdc6124171zXw::v0.11.0.pre () from /home/jmbto/Desktop/rust-nightly-i686-unknown-linux-gnu/bin/../lib/libstd-59beb4f7-0.11.0-pre.so\n#19 0xb4fdbed9 in start_thread (arg=0xb3bff8c0) at pthread_create.c:312\n#20 0xb50dc2be in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:129\n\n(gdb) x/i $eip\n=> 0xb7028bc0 <_ZN4llvm3sys11MemoryFenceEv>:    mfence \n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/14441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14441/timeline", "performed_via_github_app": null, "state_reason": "completed"}