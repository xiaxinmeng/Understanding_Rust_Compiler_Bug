{"url": "https://api.github.com/repos/rust-lang/rust/issues/42658", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/42658/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/42658/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/42658/events", "html_url": "https://github.com/rust-lang/rust/issues/42658", "id": 235959453, "node_id": "MDU6SXNzdWUyMzU5NTk0NTM=", "number": 42658, "title": "rustdoc sometimes generates invalid script tags", "user": {"login": "Darksonn", "id": 928074, "node_id": "MDQ6VXNlcjkyODA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/928074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darksonn", "html_url": "https://github.com/Darksonn", "followers_url": "https://api.github.com/users/Darksonn/followers", "following_url": "https://api.github.com/users/Darksonn/following{/other_user}", "gists_url": "https://api.github.com/users/Darksonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darksonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darksonn/subscriptions", "organizations_url": "https://api.github.com/users/Darksonn/orgs", "repos_url": "https://api.github.com/users/Darksonn/repos", "events_url": "https://api.github.com/users/Darksonn/events{/privacy}", "received_events_url": "https://api.github.com/users/Darksonn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-14T17:50:58Z", "updated_at": "2022-03-14T14:09:07Z", "closed_at": "2022-03-14T14:09:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To see examples of these in the wild, you can look at the source of the following web pages:\r\n\r\n    https://docs.serde.rs/serde/de/trait.VariantAccess.html line 145\r\n    https://docs.rs/serde/1.0.8/serde/trait.Serializer.html line 1113\r\n    https://docs.rs/hyper/0.10.10/hyper/net/trait.SslServer.html line 438\r\n\r\nThis is the tag from the last example:\r\n\r\n    <script type=\"text/javascript\" async\r\n                             src=\"../../implementors/hyper/net/trait.SslServer.js\">\r\n                     </script>\r\n\r\nI found them while checking my crate's documentation for broken links. In order to find these tags, you can do the following:\r\n\r\n 1. Create a new crate (or pick any existing crate) that depends on the crates you wish to check for these invalid scripts. There are definitely examples in serde v1.0.8 and hyper v0.10.10.\r\n 2. Generate the documentation with `cargo doc`.\r\n 3. Copy the `target/doc` folder to any web server.\r\n 4. Run the command `wget --spider -r -nd -nv  -l 100 -e robots=off -o run1.log http://server/path/to/doc/index.html`\r\n 5. Now inspect the log of the web server or the `run1.log` file for 404s of .js files. If you use the log of the web server, the Referrer should be the page with the broken tag (this is not printed in the wget log), but in all the cases I've found, the script has the same name as the web page it was found on.\r\n\r\nIn all cases I've seen, the script tag is right after a `</ul>` tag and has a line break after `async` and before the `</script>`.", "closed_by": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/42658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/42658/timeline", "performed_via_github_app": null, "state_reason": "completed"}