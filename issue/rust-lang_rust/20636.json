{"url": "https://api.github.com/repos/rust-lang/rust/issues/20636", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20636/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20636/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20636/events", "html_url": "https://github.com/rust-lang/rust/issues/20636", "id": 53530257, "node_id": "MDU6SXNzdWU1MzUzMDI1Nw==", "number": 20636, "title": "Decide on story about `box` for 1.0 alpha (and 1.0 final)", "user": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/21", "html_url": "https://github.com/rust-lang/rust/milestone/21", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/21/labels", "id": 923804, "node_id": "MDk6TWlsZXN0b25lOTIzODA0", "number": 21, "title": "1.0 alpha", "description": "", "creator": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2015-01-06T14:12:27Z", "updated_at": "2015-01-10T13:17:37Z", "due_on": "2015-01-09T08:00:00Z", "closed_at": "2015-01-10T13:17:37Z"}, "comments": 3, "created_at": "2015-01-06T16:09:03Z", "updated_at": "2015-01-08T07:59:59Z", "closed_at": "2015-01-08T07:59:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We've let the matter of `box` slip too long. Nobody is happy with its current state, I think, but the final direction is perhaps not quite clear.\n\nSome problems are:\n1. The syntax `box(place) expr` is ambiguous. `in(place) expr` has been proposed as an alternative.\n2. Having `box expr` be tied to `Box<T>` is not great. Using inference has been proposed as an alternative.\n3. The protocol should be extensible. @pnkfelix has a proposal but there has been some pushback that the protocol might be cleaner given hypothetical future language features.\n\nOptions I see:\n1. Feature-gate box completely for now, adding a `Box::new` function.\n2. Implement the protocol @pnkfelix designed, but declare it unstable. The idea is to prevent people from implementing the protocol themselves or using it directly. This is similar to what we are doing for the `Fn` traits.\n3. Implement the protocol @pnkfelix designed and commit to it.\n\nThe actual path we want to take can be a combination of the above options. i.e., we might feature-gate for now, but do option 2 during beta period.\n\nI think that whatever we do, we should ensure that we do not ship with `box(foo) expr` permitted in stable code.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20636/timeline", "performed_via_github_app": null, "state_reason": "completed"}