{"url": "https://api.github.com/repos/rust-lang/rust/issues/38251", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38251/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38251/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38251/events", "html_url": "https://github.com/rust-lang/rust/issues/38251", "id": 194467216, "node_id": "MDU6SXNzdWUxOTQ0NjcyMTY=", "number": 38251, "title": "configure message re: rustbuild assumes curr dir is source dir", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-08T22:57:51Z", "updated_at": "2016-12-11T15:25:57Z", "closed_at": "2016-12-11T15:25:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you build rust out of tree, the configure script currently prints a message:\r\n\r\n```\r\nonfigure: NOTE you have now configured rust to use a rewritten build system\r\nconfigure:      called rustbuild, and as a result this may have bugs that \r\nconfigure:      you did not see before. If you experience any issues you can\r\nconfigure:      go back to the old build system with --disable-rustbuild and\r\nconfigure:      please feel free to report any bugs!\r\nconfigure: \r\nconfigure: run `python x.py --help`\r\n```\r\n\r\nThe problem is that if I am running `configure` in a directory other than the root of the source directory, then the instruction to run `python x.py --help` will not work.\r\n\r\nFurthermore, as a user who has often encountered software not supporting out-of-tree builds, when I encounter a message like that, my first instinct is to assume that *this* software does not support out of tree builds.\r\n\r\nI recommend that the configure script detect whether the current directory is not the root of the Rust source directory, and if so, use `${CFG_SRC_DIR}/x.py` as the path to the python script instead of just `x.py`.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38251/timeline", "performed_via_github_app": null, "state_reason": "completed"}