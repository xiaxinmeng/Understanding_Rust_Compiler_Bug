{"url": "https://api.github.com/repos/rust-lang/rust/issues/83120", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/83120/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/83120/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/83120/events", "html_url": "https://github.com/rust-lang/rust/issues/83120", "id": 831211510, "node_id": "MDU6SXNzdWU4MzEyMTE1MTA=", "number": 83120, "title": "ICE: 'index out of bounds: the len is 0 but the index is 1', /cargo/registry/src/github.com-1ecc6299db9ec823/ena-0.14.0/src/snapshot_vec.rs", "user": {"login": "chengniansun", "id": 4554271, "node_id": "MDQ6VXNlcjQ1NTQyNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4554271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chengniansun", "html_url": "https://github.com/chengniansun", "followers_url": "https://api.github.com/users/chengniansun/followers", "following_url": "https://api.github.com/users/chengniansun/following{/other_user}", "gists_url": "https://api.github.com/users/chengniansun/gists{/gist_id}", "starred_url": "https://api.github.com/users/chengniansun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chengniansun/subscriptions", "organizations_url": "https://api.github.com/users/chengniansun/orgs", "repos_url": "https://api.github.com/users/chengniansun/repos", "events_url": "https://api.github.com/users/chengniansun/events{/privacy}", "received_events_url": "https://api.github.com/users/chengniansun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1282665911, "node_id": "MDU6TGFiZWwxMjgyNjY1OTEx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-const-generics", "name": "A-const-generics", "color": "f7e101", "default": false, "description": "Area: const generics (parameters and arguments)"}, {"id": 1615551553, "node_id": "MDU6TGFiZWwxNjE1NTUxNTUz", "url": "https://api.github.com/repos/rust-lang/rust/labels/glacier", "name": "glacier", "color": "a5e2ff", "default": false, "description": "ICE tracked in rust-lang/glacier"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-14T17:27:13Z", "updated_at": "2021-07-06T00:00:28Z", "closed_at": "2021-07-06T00:00:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\n\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n\r\n-->\r\n\r\n### Code\r\n\r\n```Rust\r\ntrait ConstChunksExactTrait<T> {\r\n    fn const_chunks_exact<const N: usize>(&self) -> ConstChunksExact<T, N>;\r\n}\r\nimpl<T> ConstChunksExactTrait<T> for [T] {\r\n    fn const_chunks_exact<const N: usize>(&self) -> ConstChunksExact<T, N> {\r\n        let len;\r\n        let (fst, _) = self.split_at(len);\r\n        ConstChunksExact { v: fst }\r\n    }\r\n}\r\nstruct ConstChunksExact<'a, T, const N: usize> {\r\n    v: &'a [T],\r\n}\r\nimpl<'a, T, const N: usize> Iterator for ConstChunksExact<'a, T, N> {\r\n    type Item = T;\r\n    fn next(&mut self) -> Option<Self::Item> {\r\n        let (fst, snd) = self.v.split_at(N);\r\n        let ptr = fst.const_chunks_exact() as *const _;\r\n        unsafe { *ptr }\r\n    }\r\n}\r\n```\r\n\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nrustc 1.52.0-nightly (acca81892 2021-03-13)\r\nbinary: rustc\r\ncommit-hash: acca818928654807ed3bc1ce0e97df118f8716c8\r\ncommit-date: 2021-03-13\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.52.0-nightly\r\nLLVM version: 12.0.0\r\n```\r\n\r\n### Error output\r\n\r\n```\r\nthread 'rustc' panicked at 'index out of bounds: the len is 0 but the index is 1', /cargo/registry/src/github.com-1ecc6299db9ec823/ena-0.14.0/src/snapshot_vec.rs:199:10\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.52.0-nightly (acca81892 2021-03-13) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: --crate-type staticlib\r\n\r\nquery stack during panic:\r\n#0 [type_implements_trait] evaluating `type_implements_trait` `(DefId(2:2727 ~ core[3998]::convert::From), *const std::option::Option<T>, [ConstChunksExact<T, {_: usize}>], ParamEnv { caller_bounds: [Binder(TraitPredicate(<T as std::marker::Sized>))], reveal: UserFacing })`\r\n#1 [typeck] type-checking `<impl at perses_node_priority_with_dfs_delta_reduced_mutant.rs:14:1: 21:2>::next`\r\nend of query stack\r\nerror: internal compiler error: trimmed_def_paths constructed\r\n  |\r\n  = note: delayed at    0: rustc_errors::Handler::delay_good_path_bug\r\n             1: rustc_middle::ty::print::pretty::trimmed_def_paths\r\n             2: rustc_query_impl::<impl rustc_query_system::query::config::QueryAccessors<rustc_query_impl::plumbing::QueryCtxt> for rustc_query_impl::queries::trimmed_def_paths>::compute\r\n             3: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n             4: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task\r\n             5: rustc_data_structures::stack::ensure_sufficient_stack\r\n             6: rustc_query_system::query::plumbing::force_query_with_job\r\n             7: rustc_query_system::query::plumbing::get_query_impl\r\n             8: rustc_query_system::query::plumbing::get_query\r\n             9: <rustc_middle::ty::print::pretty::FmtPrinter<F> as rustc_middle::ty::print::Printer>::print_def_path\r\n            10: rustc_middle::ty::print::Printer::default_print_def_path\r\n            11: <rustc_middle::ty::print::pretty::FmtPrinter<F> as rustc_middle::ty::print::Printer>::print_def_path\r\n            12: rustc_middle::ty::print::pretty::PrettyPrinter::pretty_print_type\r\n            13: rustc_middle::ty::print::pretty::PrettyPrinter::pretty_print_type\r\n            14: rustc_middle::ty::print::pretty::<impl core::fmt::Display for &rustc_middle::ty::TyS>::fmt\r\n            15: core::fmt::write\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/core/src/fmt/mod.rs:1092:17\r\n            16: core::fmt::Write::write_fmt\r\n            17: rustc_infer::infer::InferCtxt::ty_to_string\r\n            18: rustc_typeck::check::cast::CastCheck::check\r\n            19: rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_casts\r\n            20: rustc_infer::infer::InferCtxtBuilder::enter\r\n            21: rustc_typeck::check::typeck\r\n            22: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n            23: rustc_query_system::query::plumbing::force_query_with_job\r\n            24: rustc_query_system::query::plumbing::get_query_impl\r\n            25: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::typeck\r\n            26: rustc_middle::ty::<impl rustc_middle::ty::context::TyCtxt>::par_body_owners\r\n            27: rustc_typeck::check::typeck_item_bodies\r\n            28: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n            29: rustc_data_structures::stack::ensure_sufficient_stack\r\n            30: rustc_query_system::query::plumbing::force_query_with_job\r\n            31: rustc_query_system::query::plumbing::get_query_impl\r\n            32: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::typeck_item_bodies\r\n            33: rustc_session::utils::<impl rustc_session::session::Session>::time\r\n            34: rustc_typeck::check_crate\r\n            35: rustc_interface::passes::analysis\r\n            36: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n            37: rustc_data_structures::stack::ensure_sufficient_stack\r\n            38: rustc_query_system::query::plumbing::force_query_with_job\r\n            39: rustc_query_system::query::plumbing::get_query_impl\r\n            40: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::analysis\r\n            41: rustc_interface::passes::QueryContext::enter\r\n            42: rustc_interface::queries::<impl rustc_interface::interface::Compiler>::enter\r\n            43: rustc_span::with_source_map\r\n            44: scoped_tls::ScopedKey<T>::set\r\n            45: std::sys_common::backtrace::__rust_begin_short_backtrace\r\n            46: core::ops::function::FnOnce::call_once{{vtable.shim}}\r\n            47: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n                <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n                std::sys::unix::thread::Thread::new::thread_start\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys/unix/thread.rs:71:17\r\n            48: start_thread\r\n            49: clone\r\n\r\n\r\nthread 'rustc' panicked at 'no warnings or errors encountered even though `delayed_good_path_bugs` issued', compiler/rustc_errors/src/lib.rs:1012:13\r\nstack backtrace:\r\n   0:     0x7f2b727bb930 - std::backtrace_rs::backtrace::libunwind::trace::hfe3b1cace85e87d8\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/../../backtrace/src/backtrace/libunwind.rs:90:5\r\n   1:     0x7f2b727bb930 - std::backtrace_rs::backtrace::trace_unsynchronized::h542330af06479043\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x7f2b727bb930 - std::sys_common::backtrace::_print_fmt::h6b88726367858985\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:67:5\r\n   3:     0x7f2b727bb930 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hcd76ce6b485adbea\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:46:22\r\n   4:     0x7f2b72829abf - core::fmt::write::h127419eb46f2ecc9\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/core/src/fmt/mod.rs:1092:17\r\n   5:     0x7f2b727afa42 - std::io::Write::write_fmt::h0facb64ef2e7f5d8\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/io/mod.rs:1567:15\r\n   6:     0x7f2b727bf675 - std::sys_common::backtrace::_print::h7bf1633ea5421f7b\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:49:5\r\n   7:     0x7f2b727bf675 - std::sys_common::backtrace::print::h5cc4d09049928ba5\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:36:9\r\n   8:     0x7f2b727bf675 - std::panicking::default_hook::{{closure}}::h9e84dc005bfc9fc7\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:208:50\r\n   9:     0x7f2b727bf1d3 - std::panicking::default_hook::h123278a03b1f796b\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:225:9\r\n  10:     0x7f2b72f913fb - rustc_driver::report_ice::h036d06dbb7c2c24c\r\n  11:     0x7f2b727bfde0 - std::panicking::rust_panic_with_hook::h4040631aa6c7bc27\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:595:17\r\n  12:     0x7f2b727bf957 - std::panicking::begin_panic_handler::{{closure}}::h02a17b22ac092d08\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:497:13\r\n  13:     0x7f2b727bbdec - std::sys_common::backtrace::__rust_end_short_backtrace::h6063b024443b5852\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:141:18\r\n  14:     0x7f2b727bf8b9 - rust_begin_unwind\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:493:5\r\n  15:     0x7f2b7278403b - std::panicking::begin_panic_fmt::h10b51f96d6207ff1\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:435:5\r\n  16:     0x7f2b756a086e - rustc_errors::HandlerInner::flush_delayed::hfd981d840ce2a87f\r\n  17:     0x7f2b7569f1e0 - <rustc_errors::HandlerInner as core::ops::drop::Drop>::drop::hcc27ba916259eda8\r\n  18:     0x7f2b74cca396 - core::ptr::drop_in_place<rustc_session::parse::ParseSess>::hfd8ad55a7830aec9\r\n  19:     0x7f2b74ccca10 - <alloc::rc::Rc<T> as core::ops::drop::Drop>::drop::h60fefb93b4088059\r\n  20:     0x7f2b74cc956d - core::ptr::drop_in_place<rustc_interface::interface::Compiler>::h18cfca8587e69926\r\n  21:     0x7f2b74cc90e8 - rustc_span::with_source_map::h512fd197bcd2b7c3\r\n  22:     0x7f2b74ccdee3 - scoped_tls::ScopedKey<T>::set::hd407f010a973eb63\r\n  23:     0x7f2b74ccf3a4 - std::sys_common::backtrace::__rust_begin_short_backtrace::h3c42279179caa5db\r\n  24:     0x7f2b74cea765 - core::ops::function::FnOnce::call_once{{vtable.shim}}::hd56f564efc764ea1\r\n  25:     0x7f2b727cf258 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::hd8ea7ada17dfa868\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n  26:     0x7f2b727cf258 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h91ce3a636c58b978\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n  27:     0x7f2b727cf258 - std::sys::unix::thread::Thread::new::thread_start::h2e193c2e23720fdf\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys/unix/thread.rs:71:17\r\n  28:     0x7f2b726fa609 - start_thread\r\n  29:     0x7f2b7260e293 - clone\r\n  30:                0x0 - <unknown>\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.52.0-nightly (acca81892 2021-03-13) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: --crate-type staticlib\r\n\r\nquery stack during panic:\r\nend of query stack\r\nthread panicked while panicking. aborting.\r\nIllegal instruction (core dumped)\r\n```\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n```\r\nthread 'rustc' panicked at 'index out of bounds: the len is 0 but the index is 1', /cargo/registry/src/github.com-1ecc6299db9ec823/ena-0.14.0/src/snapshot_vec.rs:199:10\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:493:5\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/core/src/panicking.rs:92:14\r\n   2: core::panicking::panic_bounds_check\r\n             at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/core/src/panicking.rs:69:5\r\n   3: ena::unify::UnificationTable<S>::probe_value\r\n   4: <rustc_infer::infer::canonical::canonicalizer::Canonicalizer as rustc_middle::ty::fold::TypeFolder>::fold_const\r\n   5: <smallvec::SmallVec<A> as core::iter::traits::collect::Extend<<A as smallvec::Array>::Item>>::extend\r\n   6: rustc_middle::ty::fold::TypeFoldable::fold_with\r\n   7: rustc_middle::ty::structural_impls::<impl rustc_middle::ty::fold::TypeFoldable for &rustc_middle::ty::TyS>::super_fold_with\r\n   8: rustc_middle::ty::fold::TypeFoldable::fold_with\r\n   9: rustc_middle::ty::fold::TypeFoldable::fold_with\r\n  10: rustc_infer::infer::canonical::canonicalizer::Canonicalizer::canonicalize\r\n  11: <rustc_infer::infer::InferCtxt as rustc_trait_selection::traits::query::evaluate_obligation::InferCtxtExt>::evaluate_obligation\r\n  12: <rustc_infer::infer::InferCtxt as rustc_trait_selection::traits::query::evaluate_obligation::InferCtxtExt>::evaluate_obligation_no_overflow\r\n  13: rustc_infer::infer::InferCtxtBuilder::enter\r\n  14: rustc_trait_selection::traits::type_implements_trait\r\n  15: rustc_query_impl::<impl rustc_query_system::query::config::QueryAccessors<rustc_query_impl::plumbing::QueryCtxt> for rustc_query_impl::queries::type_implements_trait>::compute\r\n  16: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n  17: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task\r\n  18: rustc_data_structures::stack::ensure_sufficient_stack\r\n  19: rustc_query_system::query::plumbing::force_query_with_job\r\n  20: rustc_query_system::query::plumbing::get_query_impl\r\n  21: rustc_query_system::query::plumbing::get_query\r\n  22: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::type_implements_trait\r\n  23: rustc_typeck::check::cast::CastCheck::check\r\n  24: rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_casts\r\n  25: rustc_infer::infer::InferCtxtBuilder::enter\r\n  26: rustc_typeck::check::typeck\r\n  27: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n  28: rustc_query_system::query::plumbing::force_query_with_job\r\n  29: rustc_query_system::query::plumbing::get_query_impl\r\n  30: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::typeck\r\n  31: rustc_middle::ty::<impl rustc_middle::ty::context::TyCtxt>::par_body_owners\r\n  32: rustc_typeck::check::typeck_item_bodies\r\n  33: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n  34: rustc_data_structures::stack::ensure_sufficient_stack\r\n  35: rustc_query_system::query::plumbing::force_query_with_job\r\n  36: rustc_query_system::query::plumbing::get_query_impl\r\n  37: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::typeck_item_bodies\r\n  38: rustc_session::utils::<impl rustc_session::session::Session>::time\r\n  39: rustc_typeck::check_crate\r\n  40: rustc_interface::passes::analysis\r\n  41: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n  42: rustc_data_structures::stack::ensure_sufficient_stack\r\n  43: rustc_query_system::query::plumbing::force_query_with_job\r\n  44: rustc_query_system::query::plumbing::get_query_impl\r\n  45: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::analysis\r\n  46: rustc_interface::passes::QueryContext::enter\r\n  47: rustc_interface::queries::<impl rustc_interface::interface::Compiler>::enter\r\n  48: rustc_span::with_source_map\r\n  49: scoped_tls::ScopedKey<T>::set\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.52.0-nightly (acca81892 2021-03-13) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: --crate-type staticlib\r\n\r\nquery stack during panic:\r\n#0 [type_implements_trait] evaluating `type_implements_trait` `(DefId(2:2727 ~ core[3998]::convert::From), *const std::option::Option<T>, [ConstChunksExact<T, {_: usize}>], ParamEnv { caller_bounds: [Binder(TraitPredicate(<T as std::marker::Sized>))], reveal: UserFacing })`\r\n#1 [typeck] type-checking `<impl at perses_node_priority_with_dfs_delta_reduced_mutant.rs:14:1: 21:2>::next`\r\n#2 [typeck_item_bodies] type-checking all item bodies\r\n#3 [analysis] running analysis passes on this crate\r\nend of query stack\r\nerror: internal compiler error: trimmed_def_paths constructed\r\n  |\r\n  = note: delayed at    0: rustc_errors::Handler::delay_good_path_bug\r\n             1: rustc_middle::ty::print::pretty::trimmed_def_paths\r\n             2: rustc_query_impl::<impl rustc_query_system::query::config::QueryAccessors<rustc_query_impl::plumbing::QueryCtxt> for rustc_query_impl::queries::trimmed_def_paths>::compute\r\n             3: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n             4: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task\r\n             5: rustc_data_structures::stack::ensure_sufficient_stack\r\n             6: rustc_query_system::query::plumbing::force_query_with_job\r\n             7: rustc_query_system::query::plumbing::get_query_impl\r\n             8: rustc_query_system::query::plumbing::get_query\r\n             9: <rustc_middle::ty::print::pretty::FmtPrinter<F> as rustc_middle::ty::print::Printer>::print_def_path\r\n            10: rustc_middle::ty::print::Printer::default_print_def_path\r\n            11: <rustc_middle::ty::print::pretty::FmtPrinter<F> as rustc_middle::ty::print::Printer>::print_def_path\r\n            12: rustc_middle::ty::print::pretty::PrettyPrinter::pretty_print_type\r\n            13: rustc_middle::ty::print::pretty::PrettyPrinter::pretty_print_type\r\n            14: rustc_middle::ty::print::pretty::<impl core::fmt::Display for &rustc_middle::ty::TyS>::fmt\r\n            15: core::fmt::write\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/core/src/fmt/mod.rs:1092:17\r\n            16: core::fmt::Write::write_fmt\r\n            17: rustc_infer::infer::InferCtxt::ty_to_string\r\n            18: rustc_typeck::check::cast::CastCheck::check\r\n            19: rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_casts\r\n            20: rustc_infer::infer::InferCtxtBuilder::enter\r\n            21: rustc_typeck::check::typeck\r\n            22: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n            23: rustc_query_system::query::plumbing::force_query_with_job\r\n            24: rustc_query_system::query::plumbing::get_query_impl\r\n            25: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::typeck\r\n            26: rustc_middle::ty::<impl rustc_middle::ty::context::TyCtxt>::par_body_owners\r\n            27: rustc_typeck::check::typeck_item_bodies\r\n            28: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n            29: rustc_data_structures::stack::ensure_sufficient_stack\r\n            30: rustc_query_system::query::plumbing::force_query_with_job\r\n            31: rustc_query_system::query::plumbing::get_query_impl\r\n            32: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::typeck_item_bodies\r\n            33: rustc_session::utils::<impl rustc_session::session::Session>::time\r\n            34: rustc_typeck::check_crate\r\n            35: rustc_interface::passes::analysis\r\n            36: rustc_query_system::dep_graph::graph::DepGraph<K>::with_task_impl\r\n            37: rustc_data_structures::stack::ensure_sufficient_stack\r\n            38: rustc_query_system::query::plumbing::force_query_with_job\r\n            39: rustc_query_system::query::plumbing::get_query_impl\r\n            40: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::analysis\r\n            41: rustc_interface::passes::QueryContext::enter\r\n            42: rustc_interface::queries::<impl rustc_interface::interface::Compiler>::enter\r\n            43: rustc_span::with_source_map\r\n            44: scoped_tls::ScopedKey<T>::set\r\n            45: std::sys_common::backtrace::__rust_begin_short_backtrace\r\n            46: core::ops::function::FnOnce::call_once{{vtable.shim}}\r\n            47: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n                <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n                std::sys::unix::thread::Thread::new::thread_start\r\n                       at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys/unix/thread.rs:71:17\r\n            48: start_thread\r\n            49: clone\r\n\r\n\r\nthread 'rustc' panicked at 'no warnings or errors encountered even though `delayed_good_path_bugs` issued', compiler/rustc_errors/src/lib.rs:1012:13\r\nstack backtrace:\r\n   0:     0x7f055cafe930 - std::backtrace_rs::backtrace::libunwind::trace::hfe3b1cace85e87d8\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/../../backtrace/src/backtrace/libunwind.rs:90:5\r\n   1:     0x7f055cafe930 - std::backtrace_rs::backtrace::trace_unsynchronized::h542330af06479043\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x7f055cafe930 - std::sys_common::backtrace::_print_fmt::h6b88726367858985\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:67:5\r\n   3:     0x7f055cafe930 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hcd76ce6b485adbea\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:46:22\r\n   4:     0x7f055cb6cabf - core::fmt::write::h127419eb46f2ecc9\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/core/src/fmt/mod.rs:1092:17\r\n   5:     0x7f055caf2a42 - std::io::Write::write_fmt::h0facb64ef2e7f5d8\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/io/mod.rs:1567:15\r\n   6:     0x7f055cb02675 - std::sys_common::backtrace::_print::h7bf1633ea5421f7b\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:49:5\r\n   7:     0x7f055cb02675 - std::sys_common::backtrace::print::h5cc4d09049928ba5\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:36:9\r\n   8:     0x7f055cb02675 - std::panicking::default_hook::{{closure}}::h9e84dc005bfc9fc7\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:208:50\r\n   9:     0x7f055cb021d3 - std::panicking::default_hook::h123278a03b1f796b\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:225:9\r\n  10:     0x7f055d2d43fb - rustc_driver::report_ice::h036d06dbb7c2c24c\r\n  11:     0x7f055cb02de0 - std::panicking::rust_panic_with_hook::h4040631aa6c7bc27\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:595:17\r\n  12:     0x7f055cb02957 - std::panicking::begin_panic_handler::{{closure}}::h02a17b22ac092d08\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:497:13\r\n  13:     0x7f055cafedec - std::sys_common::backtrace::__rust_end_short_backtrace::h6063b024443b5852\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys_common/backtrace.rs:141:18\r\n  14:     0x7f055cb028b9 - rust_begin_unwind\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:493:5\r\n  15:     0x7f055cac703b - std::panicking::begin_panic_fmt::h10b51f96d6207ff1\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/panicking.rs:435:5\r\n  16:     0x7f055f9e386e - rustc_errors::HandlerInner::flush_delayed::hfd981d840ce2a87f\r\n  17:     0x7f055f9e21e0 - <rustc_errors::HandlerInner as core::ops::drop::Drop>::drop::hcc27ba916259eda8\r\n  18:     0x7f055f00d396 - core::ptr::drop_in_place<rustc_session::parse::ParseSess>::hfd8ad55a7830aec9\r\n  19:     0x7f055f00fa10 - <alloc::rc::Rc<T> as core::ops::drop::Drop>::drop::h60fefb93b4088059\r\n  20:     0x7f055f00c56d - core::ptr::drop_in_place<rustc_interface::interface::Compiler>::h18cfca8587e69926\r\n  21:     0x7f055f00c0e8 - rustc_span::with_source_map::h512fd197bcd2b7c3\r\n  22:     0x7f055f010ee3 - scoped_tls::ScopedKey<T>::set::hd407f010a973eb63\r\n  23:     0x7f055f0123a4 - std::sys_common::backtrace::__rust_begin_short_backtrace::h3c42279179caa5db\r\n  24:     0x7f055f02d765 - core::ops::function::FnOnce::call_once{{vtable.shim}}::hd56f564efc764ea1\r\n  25:     0x7f055cb12258 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::hd8ea7ada17dfa868\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n  26:     0x7f055cb12258 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h91ce3a636c58b978\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/alloc/src/boxed.rs:1546:9\r\n  27:     0x7f055cb12258 - std::sys::unix::thread::Thread::new::thread_start::h2e193c2e23720fdf\r\n                               at /rustc/acca818928654807ed3bc1ce0e97df118f8716c8/library/std/src/sys/unix/thread.rs:71:17\r\n  28:     0x7f055ca3d609 - start_thread\r\n  29:     0x7f055c951293 - clone\r\n  30:                0x0 - <unknown>\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.52.0-nightly (acca81892 2021-03-13) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: --crate-type staticlib\r\n\r\nquery stack during panic:\r\nend of query stack\r\nthread panicked while panicking. aborting.\r\nIllegal instruction (core dumped)\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n", "closed_by": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/83120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/83120/timeline", "performed_via_github_app": null, "state_reason": "completed"}