{"url": "https://api.github.com/repos/rust-lang/rust/issues/53919", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/53919/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/53919/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/53919/events", "html_url": "https://github.com/rust-lang/rust/issues/53919", "id": 356406246, "node_id": "MDU6SXNzdWUzNTY0MDYyNDY=", "number": 53919, "title": "doc: Errors during syntax highlighting appear to be fatal", "user": {"login": "chrysn", "id": 442326, "node_id": "MDQ6VXNlcjQ0MjMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysn", "html_url": "https://github.com/chrysn", "followers_url": "https://api.github.com/users/chrysn/followers", "following_url": "https://api.github.com/users/chrysn/following{/other_user}", "gists_url": "https://api.github.com/users/chrysn/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysn/subscriptions", "organizations_url": "https://api.github.com/users/chrysn/orgs", "repos_url": "https://api.github.com/users/chrysn/repos", "events_url": "https://api.github.com/users/chrysn/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-03T08:31:40Z", "updated_at": "2019-01-20T21:49:39Z", "closed_at": "2019-01-20T21:49:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When building documentation on bindgen-produced Rust files, a possible sight looks like this:\r\n\r\n<pre><font color=\"#EF2929\"><b>error</b></font><font color=\"#FFFFFF\"><b>: unknown start of token: \\</b></font>\r\n <font color=\"#739FCF\"><b>--&gt; </b></font>&lt;stdin&gt;:8:1\r\n  <font color=\"#739FCF\"><b>|</b></font>\r\n<font color=\"#739FCF\"><b>8</b></font> <font color=\"#739FCF\"><b>| </b></font>\\__________pkt-&gt;size___________/          \\_result-&gt;size_/ \\__pkt-&gt;size__/                                                \r\n  <font color=\"#739FCF\"><b>| </b></font><font color=\"#EF2929\"><b>^</b></font>\r\n\r\n<font color=\"#FCE94F\"><b>warning</b></font><font color=\"#FFFFFF\"><b>: Backing out of syntax highlighting</b></font>\r\n  <font color=\"#739FCF\"><b>|</b></font>\r\n  <font color=\"#739FCF\"><b>= </b></font><font color=\"#FFFFFF\"><b>note</b></font>: You probably did not intend to render this as a rust code-block</pre>\r\n\r\n(Apparently github swallows the output color codes, but envision error in alerting red and warning in yellow).\r\n\r\nTo the moderately experienced developer, this screams \"The build did not succeed\", and they might even go as far as to look at how to make rust-bindgen produce more readable comments -- where actually, everything is fine and this is just a warning.\r\n\r\nIt appears to me that the error output of the highlighter is passed on to stderr. I suggest that the error be visually styled in a way that it can not be mistaken for a fatal error in the build process itself, eg. by replacing the red \"error\" text with a yellow \"syntax highlighter error (caught)\", and/or by indenting the output of the syntax highlighter.\r\n\r\nI'd be happy to contribute code but failed to find the component that issues the \"Backing out of syntax highlighting\" messages; pointers would be appreciated.\r\n\r\n## Meta\r\n* cargo 1.29.0-nightly (0ec7281b9 2018-08-20)", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/53919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/53919/timeline", "performed_via_github_app": null, "state_reason": "completed"}