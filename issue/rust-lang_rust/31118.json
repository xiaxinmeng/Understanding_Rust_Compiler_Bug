{"url": "https://api.github.com/repos/rust-lang/rust/issues/31118", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/31118/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/31118/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/31118/events", "html_url": "https://github.com/rust-lang/rust/issues/31118", "id": 128205717, "node_id": "MDU6SXNzdWUxMjgyMDU3MTc=", "number": 31118, "title": "Compilation error in Rust 1.6 stable", "user": {"login": "navidR", "id": 3811601, "node_id": "MDQ6VXNlcjM4MTE2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3811601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/navidR", "html_url": "https://github.com/navidR", "followers_url": "https://api.github.com/users/navidR/followers", "following_url": "https://api.github.com/users/navidR/following{/other_user}", "gists_url": "https://api.github.com/users/navidR/gists{/gist_id}", "starred_url": "https://api.github.com/users/navidR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/navidR/subscriptions", "organizations_url": "https://api.github.com/users/navidR/orgs", "repos_url": "https://api.github.com/users/navidR/repos", "events_url": "https://api.github.com/users/navidR/events{/privacy}", "received_events_url": "https://api.github.com/users/navidR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-01-22T17:36:56Z", "updated_at": "2016-01-24T17:36:35Z", "closed_at": "2016-01-24T17:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I didn't encounter this in 1.6 when it was beta. This happens only in 1.6 stable.\n\n``` \u250c\u2500[21:01:09]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> Temporary $ >> cd rust/\n\u250c\u2500[21:01:11]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> rust $ >> cargo new test --bin\n\u250c\u2500[21:01:16]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> rust $ >> cd test/\n\u250c\u2500[21:01:17]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> test $ >> ls\nCargo.toml  src\n\u250c\u2500[21:01:18]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> test $ >> cargo build\n   Compiling test v0.1.0 (file:///home/navid/Temporary/rust/test)\nerror: linking with `cc` failed: exit code: 1\nnote: \"cc\" \"-Wl,--as-needed\" \"-m64\" \"-L\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"/home/navid/Temporary/rust/test/target/debug/test.0.o\" \"-o\" \"/home/navid/Temporary/rust/test/target/debug/test\" \"-Wl,--gc-sections\" \"-pie\" \"-nodefaultlibs\" \"-L\" \"/home/navid/Temporary/rust/test/target/debug\" \"-L\" \"/home/navid/Temporary/rust/test/target/debug/deps\" \"-L\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-Wl,-Bstatic\" \"-Wl,-Bdynamic\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcollections-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_unicode-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/librand-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc_jemalloc-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-ca9f0d77.rlib\" \"-l\" \"dl\" \"-l\" \"pthread\" \"-l\" \"gcc_s\" \"-l\" \"pthread\" \"-l\" \"c\" \"-l\" \"m\" \"-l\" \"rt\" \"-l\" \"compiler-rt\"\nnote: /usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ca9f0d77.rlib(std-ca9f0d77.0.o): In function `dynamic_lib::_$LT$impl$GT$::open::hda73d3129880e7b9P1d':\nstd.0.rs:(.text._ZN11dynamic_lib13_$LT$impl$GT$4open20hda73d3129880e7b9P1dE+0xcf): warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n/usr/bin/ld: /usr/lib/gcc/x86_64-redhat-linux/5.3.1/../../../../lib64/libpthread.a(libpthread.o): relocation R_X86_64_32 against `.rodata.str1.8' can not be used when making a shared object; recompile with -fPIC\n/usr/lib/gcc/x86_64-redhat-linux/5.3.1/../../../../lib64/libpthread.a: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\n\nerror: aborting due to previous error\nCould not compile `test`.\n\nTo learn more, run the command again with --verbose.\n\u250c\u2500[\u2717]\u2500[21:04:52]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> tmp $ >> rustc --version --verbose\nrustc 1.6.0 (c30b771ad 2016-01-19)\nbinary: rustc\ncommit-hash: c30b771ad9d44ab84f8c88b80c25fcfde2433126\ncommit-date: 2016-01-19\nhost: x86_64-unknown-linux-gnu\nrelease: 1.6.0\n\u250c\u2500[21:05:09]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> tmp $ >> cat /etc/fedora-release \nFedora release 23 (Twenty Three)\n\u250c\u2500[\u2717]\u2500[21:06:02]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> test $ >> sudo dnf list installed | grep -i glibc\nglibc.i686                             2.22-7.fc23              @System         \nglibc.x86_64                           2.22-7.fc23              @System         \nglibc-benchtests.x86_64                2.22-7.fc23              @System         \nglibc-common.x86_64                    2.22-7.fc23              @System         \nglibc-devel.i686                       2.22-7.fc23              @System         \nglibc-headers.i686                     2.22-7.fc23              @System         \nglibc-static.i686                      2.22-7.fc23              @System         \nglibc-static.x86_64                    2.22-7.fc23              @System         \nglibc-utils.x86_64                     2.22-7.fc23              @System        \n\n// lets try simple hello world\n\n\u250c\u2500[\u2717]\u2500[21:12:39]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> tmp $ >> cat main.rs \nfn main() {\n    println!(\"Hello, world!\");\n}\n\u250c\u2500[21:12:40]\u2500[navid@WORKSTATION]\n\u2514\u2500\u2500> tmp $ >> RUST_BACKTRACE=1 rustc --verbose main.rs \nerror: linking with `cc` failed: exit code: 1\nnote: \"cc\" \"-Wl,--as-needed\" \"-m64\" \"-L\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"main.0.o\" \"-o\" \"main\" \"-Wl,--gc-sections\" \"-pie\" \"-nodefaultlibs\" \"-L\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"-Wl,-Bstatic\" \"-Wl,-Bdynamic\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcollections-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_unicode-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/librand-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc_jemalloc-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-ca9f0d77.rlib\" \"/usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-ca9f0d77.rlib\" \"-l\" \"dl\" \"-l\" \"pthread\" \"-l\" \"gcc_s\" \"-l\" \"pthread\" \"-l\" \"c\" \"-l\" \"m\" \"-l\" \"rt\" \"-l\" \"compiler-rt\"\nnote: /usr/local/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ca9f0d77.rlib(std-ca9f0d77.0.o): In function `dynamic_lib::_$LT$impl$GT$::open::hda73d3129880e7b9P1d':\nstd.0.rs:(.text._ZN11dynamic_lib13_$LT$impl$GT$4open20hda73d3129880e7b9P1dE+0xcf): warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n/usr/bin/ld: /usr/lib/gcc/x86_64-redhat-linux/5.3.1/../../../../lib64/libpthread.a(libpthread.o): relocation R_X86_64_32 against `.rodata.str1.8' can not be used when making a shared object; recompile with -fPIC\n/usr/lib/gcc/x86_64-redhat-linux/5.3.1/../../../../lib64/libpthread.a: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\n\nerror: aborting due to previous error\n```\n\nUpdate : 1.7 beta is same, didn't work. The only rust did work : 1.5 stable and 1.6 when it was beta channel.\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/31118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/31118/timeline", "performed_via_github_app": null, "state_reason": "completed"}