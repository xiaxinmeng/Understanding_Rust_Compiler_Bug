{"url": "https://api.github.com/repos/rust-lang/rust/issues/20769", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20769/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20769/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20769/events", "html_url": "https://github.com/rust-lang/rust/issues/20769", "id": 53800231, "node_id": "MDU6SXNzdWU1MzgwMDIzMQ==", "number": 20769, "title": "Plugins without #[no_link] produce shared library error when running", "user": {"login": "daboross", "id": 1152146, "node_id": "MDQ6VXNlcjExNTIxNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1152146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daboross", "html_url": "https://github.com/daboross", "followers_url": "https://api.github.com/users/daboross/followers", "following_url": "https://api.github.com/users/daboross/following{/other_user}", "gists_url": "https://api.github.com/users/daboross/gists{/gist_id}", "starred_url": "https://api.github.com/users/daboross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daboross/subscriptions", "organizations_url": "https://api.github.com/users/daboross/orgs", "repos_url": "https://api.github.com/users/daboross/repos", "events_url": "https://api.github.com/users/daboross/events{/privacy}", "received_events_url": "https://api.github.com/users/daboross/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 111868330, "node_id": "MDU6TGFiZWwxMTE4NjgzMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-plugin", "name": "A-plugin", "color": "f7e101", "default": false, "description": "Area: compiler plugins, doc.rust-lang.org/nightly/unstable-book/language-features/plugin.html"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-01-08T20:58:51Z", "updated_at": "2015-02-10T13:23:33Z", "closed_at": "2015-02-10T13:23:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When building a project using regex_macros, the binary runs successfully on my development system, but fails on production (where rust isn't installed).\n\nHere's the smallest program I could think of that will cause this:\n\n``` rust\n#![feature(plugin)]\nextern crate regex;\n#[plugin]\n// works correctly if #[no_link] is used here\nextern crate regex_macros;\n\nfn main() {\n}\n```\n\nAn even more concise example causing the same effect:\n\n``` rust\nextern crate regex_macros;\nfn main() {}\n```\n\nThat program compiles and runs successfully on a system with rust installed, but fails on one which isn't with the following error message:\n\n```\n$ ./test-project \n./test-project: error while loading shared libraries: libstd-4e7c5e5c.so: cannot open shared object file: No such file or directory\n```\n\nNote that this works correctly if `#[no_link]` is added before `extern crate regex_macros;`. This also works correctly when regex_macros isn't used.\n\nI wasn't sure if this is an issue in rust or the regex library, so I've submitted the issue here. Feel free to close it and direct me to the correct place to submit this.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20769/timeline", "performed_via_github_app": null, "state_reason": "completed"}