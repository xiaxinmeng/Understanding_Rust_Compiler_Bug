{"url": "https://api.github.com/repos/rust-lang/rust/issues/30995", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/30995/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30995/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/30995/events", "html_url": "https://github.com/rust-lang/rust/issues/30995", "id": 127189635, "node_id": "MDU6SXNzdWUxMjcxODk2MzU=", "number": 30995, "title": "ICE: unexpected panic at Option::unwrap()", "user": {"login": "ljedrz", "id": 3750347, "node_id": "MDQ6VXNlcjM3NTAzNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3750347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljedrz", "html_url": "https://github.com/ljedrz", "followers_url": "https://api.github.com/users/ljedrz/followers", "following_url": "https://api.github.com/users/ljedrz/following{/other_user}", "gists_url": "https://api.github.com/users/ljedrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljedrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljedrz/subscriptions", "organizations_url": "https://api.github.com/users/ljedrz/orgs", "repos_url": "https://api.github.com/users/ljedrz/repos", "events_url": "https://api.github.com/users/ljedrz/events{/privacy}", "received_events_url": "https://api.github.com/users/ljedrz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-18T09:48:23Z", "updated_at": "2016-01-19T15:52:05Z", "closed_at": "2016-01-19T15:52:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\n\nI tried to run the following code (reduced case, still causes the ICE):\n\n``` rust\nextern crate xml;\n\nuse xml::reader::{EventReader, XmlEvent};\nuse xml::namespace::Namespace;\n\nfn main() {\n\n}\n\nfn inerpret_xpath(xpath: &str) -> Vec<(XmlEvent::StartElement)> {\n    let steps: Vec<&str> = xpath.split('/').collect();\n    let elems: Vec<(XmlEvent::StartElement)> = Vec::new();\n\n    for step in steps {\n        let elem = XmlEvent::StartElement {\n            name: \"derp\".from_str(),\n            attributes: Vec::new(),\n            namespace: Namespace::empty()\n        };\n        elems.push(elem);\n    }\n}\n```\n\nBut received the following error (cargo run --verbose):\n\n```\n   Fresh bitflags v0.4.0 (file:///C:/Local/poligon/rust/bitflags)\n   Fresh xml-rs v0.3.0 (file:///C:/Local/poligon/rust/xml-rs)\n```\n\n   Compiling xml_extractor v0.1.0 (file:///C:/Local/poligon/rust/xml_extractor)\n     Running `rustc src\\main.rs --crate-name xml_extractor --crate-type bin -g --out-dir C:\\Local\\poligon\\rust\\xml_extractor\\target\\debug --emit=dep-info,link -L dependency=C:\\Local\\poligon\\rust\\xml_extractor\\target\\debug -L dependency=C:\\Local\\poligon\\rust\\xml_extractor\\target\\debug\\deps --extern xml=C:\\Local\\poligon\\rust\\xml_extractor\\target\\debug\\deps\\libxml-25aaede7b8a84d1e.rlib`\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', ../src/libcore\\option.rs:366\n\nThe backtrace:\n\n   Compiling xml_extractor v0.1.0 (file:///C:/Local/poligon/rust/xml_extractor)\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', ../src/libcore\\option.rs:366\nstack backtrace:\n   0:         0x6ff00e07 - strncmp\n   1:         0x6ff08538 - strncmp\n   2:         0x6fec537c - strncmp\n   3:         0x6fec5aeb - strncmp\n   4:         0x6fefe022 - strncmp\n   5:         0x6ff23c68 - strncmp\n   6:         0x6ff1e0c0 - strncmp\n   7:         0x6dd0b7ef - strncmp\n   8:         0x6dcd4df3 - strncmp\n   9:         0x6dcd490b - strncmp\n  10:         0x6dd16838 - strncmp\n  11:         0x6dd1648b - strncmp\n  12:         0x6dd13ef9 - strncmp\n  13:         0x6dcd2fd9 - strncmp\n  14:         0x6dd1de8c - strncmp\n  15:         0x6dd09f66 - strncmp\n  16:         0x6dcd4df3 - strncmp\n  17:         0x6dd1a55e - strncmp\n  18:         0x6dd23055 - strncmp\n  19:         0x6dd45f14 - strncmp\n  20:         0x6dd3e0a5 - strncmp\n  21:         0x6dd28cc2 - strncmp\n  22:         0x6dd25836 - strncmp\n  23:         0x6dd6ee3a - strncmp\n  24:         0x6e506ff4 - strncmp\n  25:         0x6e4ea4de - strncmp\n  26:         0x6e4e5f38 - strncmp\n  27:         0x6e4c317c - strncmp\n  28:         0x6e62efb7 - strncmp\n  29:         0x6e62becc - strncmp\n  30:         0x6fef1401 - strncmp\n  31:         0x6e62c3a1 - strncmp\n  32:         0x6ff06dbd - strncmp\n  33:         0x777a59dc - strncmp\n## Meta\n\n`rustc --version --verbose`:\n\nrustc 1.5.0 (3d7cd77e4 2015-12-04)\nbinary: rustc\ncommit-hash: 3d7cd77e442ce34eaac8a176ae8be17669498ebc\ncommit-date: 2015-12-04\nhost: x86_64-pc-windows-gnu (Windows 7 to be exact)\nrelease: 1.5.0\n", "closed_by": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/30995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/30995/timeline", "performed_via_github_app": null, "state_reason": "completed"}