{"url": "https://api.github.com/repos/rust-lang/rust/issues/18360", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18360/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18360/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18360/events", "html_url": "https://github.com/rust-lang/rust/issues/18360", "id": 46869900, "node_id": "MDU6SXNzdWU0Njg2OTkwMA==", "number": 18360, "title": " Unexpected failure, when interfacing with C code", "user": {"login": "nickik", "id": 196534, "node_id": "MDQ6VXNlcjE5NjUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/196534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickik", "html_url": "https://github.com/nickik", "followers_url": "https://api.github.com/users/nickik/followers", "following_url": "https://api.github.com/users/nickik/following{/other_user}", "gists_url": "https://api.github.com/users/nickik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickik/subscriptions", "organizations_url": "https://api.github.com/users/nickik/orgs", "repos_url": "https://api.github.com/users/nickik/repos", "events_url": "https://api.github.com/users/nickik/events{/privacy}", "received_events_url": "https://api.github.com/users/nickik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-27T05:02:02Z", "updated_at": "2015-04-22T00:35:21Z", "closed_at": "2015-04-22T00:35:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to write a interace to some C Code, the interface code was generated by bindgen-rust.\n\n``` rust\npub static MPS_KEY_ARGS_END: mps_key_t = &_mps_key_ARGS_END; //code I added\n\npub enum Struct_mps_key_s { }\npub type mps_key_t = *const Struct_mps_key_s;\n\nextern \"C\" {\n        pub static _mps_key_ARGS_END: Struct_mps_key_s;\n}   \n```\n\nSystem: Arch Linux x86\n\nRust version: \naur/rust-nightly-bin 0.13.0_2014.10.27-1 (16)\n    A safe, concurrent, practical language from Mozilla.\n\n```\nCompiling rust-mps-bindings v0.0.1 (file:///home/nick/alltech/clojit/rust-mps-bindings)\n     Running `rustc /home/nick/alltech/clojit/rust-mps-bindings/src/main.rs --crate-name rust-mps-bindings --crate-type bin -g --out-dir /home/nick/alltech/clojit/rust-mps-bindings/target --dep-info /home/nick/alltech/clojit/rust-mps-bindings/target/.fingerprint/rust-mps-bindings-03f1405e8d318ae0/dep-bin-rust-mps-bindings -L /home/nick/alltech/clojit/rust-mps-bindings/target -L /home/nick/alltech/clojit/rust-mps-bindings/target/deps --extern rust-mps-bindings=/home/nick/alltech/clojit/rust-mps-bindings/target/librust-mps-bindings-03f1405e8d318ae0.rlib`\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'expected item, found foreign item _mps_key_ARGS_END::_mps_key_ARGS_END (id=1107)', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/ast_map/mod.rs:327\n\nCould not compile `rust-mps-bindings`.\n\nCaused by:\n  Process didn't exit successfully: `rustc /home/nick/alltech/clojit/rust-mps-bindings/src/main.rs --crate-name rust-mps-bindings --crate-type bin -g --out-dir /home/nick/alltech/clojit/rust-mps-bindings/target --dep-info /home/nick/alltech/clojit/rust-mps-bindings/target/.fingerprint/rust-mps-bindings-03f1405e8d318ae0/dep-bin-rust-mps-bindings -L /home/nick/alltech/clojit/rust-mps-bindings/target -L /home/nick/alltech/clojit/rust-mps-bindings/target/deps --extern rust-mps-bindings=/home/nick/alltech/clojit/rust-mps-bindings/target/librust-mps-bindings-03f1405e8d318ae0.rlib` (status=101)\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/18360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18360/timeline", "performed_via_github_app": null, "state_reason": "completed"}