{"url": "https://api.github.com/repos/rust-lang/rust/issues/39688", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39688/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39688/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39688/events", "html_url": "https://github.com/rust-lang/rust/issues/39688", "id": 206516640, "node_id": "MDU6SXNzdWUyMDY1MTY2NDA=", "number": 39688, "title": "Help people find String::as_bytes() for UTF-8", "user": {"login": "Philipp91", "id": 2501211, "node_id": "MDQ6VXNlcjI1MDEyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2501211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Philipp91", "html_url": "https://github.com/Philipp91", "followers_url": "https://api.github.com/users/Philipp91/followers", "following_url": "https://api.github.com/users/Philipp91/following{/other_user}", "gists_url": "https://api.github.com/users/Philipp91/gists{/gist_id}", "starred_url": "https://api.github.com/users/Philipp91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Philipp91/subscriptions", "organizations_url": "https://api.github.com/users/Philipp91/orgs", "repos_url": "https://api.github.com/users/Philipp91/repos", "events_url": "https://api.github.com/users/Philipp91/events{/privacy}", "received_events_url": "https://api.github.com/users/Philipp91/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431251592, "node_id": "MDU6TGFiZWw0MzEyNTE1OTI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-docs", "name": "A-docs", "color": "f7e101", "default": false, "description": "Area: documentation for any part of the project, including the compiler, standard library, and tools"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-09T14:17:06Z", "updated_at": "2017-03-15T21:31:49Z", "closed_at": "2017-03-15T21:31:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Previous discussion:\r\nhttps://github.com/rust-lang/rust/issues/14131\r\nhttps://github.com/rust-lang/rust/pull/17438\r\nStill a minor thing, so probably not worth an RFC.\r\n\r\n`as_bytes()` is a fine name, but the function is not easy to discover. I have video evidence of Rust beginners who know and use `from_utf8()`, but can't find the inverse, which is `as_bytes()`. The documentation provides no links between the two.\r\n\r\nPossible mitigations (could even apply multiple of these):\r\n\r\n- Offer `.as_utf8()` or `.to_utf8()`, and `.into_utf8()` and mention in the documentation that it's simply an alias.\r\n- Put \"UTF-8\" or \"utf8\" in the documentation of `.as_bytes()` and friends, so it can at least be found through search engines. Currently, queries for \"rust string to utf8\" or \"rust utf8 bytes from string\" only take you to the `from_utf8()` function, which works the wrong way round.\r\n- Reference `.as_bytes()` and `.from_utf8()` from each other and mention that they are (roughly) inverses (modulo error handling, modulo ownership stuff).\r\n\r\nCurrently, http://stackoverflow.com/questions/27195506/convert-an-ascii-string-literal-to-u8-in-rust#comment42877192_27195762 might be the hint that helps most people discover `as_bytes()`.", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39688/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39688/timeline", "performed_via_github_app": null, "state_reason": "completed"}