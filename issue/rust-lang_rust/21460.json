{"url": "https://api.github.com/repos/rust-lang/rust/issues/21460", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21460/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21460/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21460/events", "html_url": "https://github.com/rust-lang/rust/issues/21460", "id": 54987093, "node_id": "MDU6SXNzdWU1NDk4NzA5Mw==", "number": 21460, "title": "\"reached the recursion limit during monomorphization\" error occured", "user": {"login": "hebiyan", "id": 7089450, "node_id": "MDQ6VXNlcjcwODk0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7089450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hebiyan", "html_url": "https://github.com/hebiyan", "followers_url": "https://api.github.com/users/hebiyan/followers", "following_url": "https://api.github.com/users/hebiyan/following{/other_user}", "gists_url": "https://api.github.com/users/hebiyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/hebiyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hebiyan/subscriptions", "organizations_url": "https://api.github.com/users/hebiyan/orgs", "repos_url": "https://api.github.com/users/hebiyan/repos", "events_url": "https://api.github.com/users/hebiyan/events{/privacy}", "received_events_url": "https://api.github.com/users/hebiyan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-21T07:37:33Z", "updated_at": "2015-01-21T08:13:24Z", "closed_at": "2015-01-21T07:52:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried writing tarai function with Rust, version info is:\n\n```\n$ rustc --version\nrustc 1.0.0-dev (3d5fbae33 2015-01-13 01:08:03 +0000)\n```\n\nwritten code is:\n\n``` rust\n#![feature(unboxed_closures)]\n\nfn tarai<F:Fn() -> i32>(x:i32, y:i32, z:F) -> i32 {\n    if x <= y {\n        y\n    }\n    else {\n        let fz = z();\n        let nx = tarai(x - 1, y, z);\n        let ny = tarai(y - 1, fz, |&:| { x });\n        let nz = |&:|  { tarai(fz - 1, x, |&:| { y }) };\n\n        tarai(nx, ny, nz)\n    }\n}\n\nfn main() {\n    println!(\"{}\", tarai(12, 6, |&:| { 0 }));\n}\n\n```\n\nbut compiling this code, occurs an error like this:\n\n```\n$ rustc ./21-161505.rs\n21-161505.rs:3:1: 15:2 error: reached the recursion limit during monomorphization\n21-161505.rs:3 fn tarai<F:Fn() -> i32>(x:i32, y:i32, z:F) -> i32 {\n21-161505.rs:4     if x <= y {\n21-161505.rs:5         y\n21-161505.rs:6     }\n21-161505.rs:7     else {\n21-161505.rs:8         let fz = z();\n               ...\n```\n\nWhy my code is wrong? And what should I do for pass compiling without errors?\nPlease show me these. Sorry for poor my english. Thank you.\n", "closed_by": {"login": "Aatch", "id": 342416, "node_id": "MDQ6VXNlcjM0MjQxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aatch", "html_url": "https://github.com/Aatch", "followers_url": "https://api.github.com/users/Aatch/followers", "following_url": "https://api.github.com/users/Aatch/following{/other_user}", "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions", "organizations_url": "https://api.github.com/users/Aatch/orgs", "repos_url": "https://api.github.com/users/Aatch/repos", "events_url": "https://api.github.com/users/Aatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Aatch/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21460/timeline", "performed_via_github_app": null, "state_reason": "completed"}