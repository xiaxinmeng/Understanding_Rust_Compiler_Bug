{"url": "https://api.github.com/repos/rust-lang/rust/issues/62167", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/62167/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/62167/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/62167/events", "html_url": "https://github.com/rust-lang/rust/issues/62167", "id": 461345151, "node_id": "MDU6SXNzdWU0NjEzNDUxNTE=", "number": 62167, "title": "Nightly Rust hangs forever with a simple 2-line dotenv_codegen and println!", "user": {"login": "brainstorm", "id": 175587, "node_id": "MDQ6VXNlcjE3NTU4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/175587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brainstorm", "html_url": "https://github.com/brainstorm", "followers_url": "https://api.github.com/users/brainstorm/followers", "following_url": "https://api.github.com/users/brainstorm/following{/other_user}", "gists_url": "https://api.github.com/users/brainstorm/gists{/gist_id}", "starred_url": "https://api.github.com/users/brainstorm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brainstorm/subscriptions", "organizations_url": "https://api.github.com/users/brainstorm/orgs", "repos_url": "https://api.github.com/users/brainstorm/repos", "events_url": "https://api.github.com/users/brainstorm/events{/privacy}", "received_events_url": "https://api.github.com/users/brainstorm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}, {"id": 1168029555, "node_id": "MDU6TGFiZWwxMTY4MDI5NTU1", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-hang", "name": "I-hang", "color": "e10c02", "default": false, "description": "Issue: The compiler never terminates, due to infinite loops, deadlock, livelock, etc."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-27T06:40:55Z", "updated_at": "2019-07-03T02:34:22Z", "closed_at": "2019-07-03T02:34:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "The offending code is just a dotenv macro inside a `println!` macro:\r\n\r\n```rust\r\nfn main() {\r\n    println!(\"{}\", dotenv!(\"AWS_ATHENA_DB\").to_string());\r\n    println!(dotenv!(\"AWS_ATHENA_DB\").to_string());\r\n}\r\n```\r\n\r\nJust clone the following repository and run `cargo build`:\r\n\r\nhttps://github.com/brainstorm/dotenv-codegen-rustc-hang\r\n\r\nStays on `Building` forever:\r\n\r\n```bash\r\n$ cargo build --verbose\r\n       Fresh unicode-xid v0.1.0\r\n       Fresh cc v1.0.37\r\n       Fresh rustc-demangle v0.1.15\r\n       Fresh lazy_static v1.3.0\r\n       Fresh ucd-util v0.1.3\r\n       Fresh cfg-if v0.1.9\r\n       Fresh utf8-ranges v1.0.3\r\n       Fresh proc-macro2 v0.4.30\r\n       Fresh thread_local v0.3.6\r\n       Fresh regex-syntax v0.6.7\r\n       Fresh quote v0.6.12\r\n       Fresh libc v0.2.58\r\n       Fresh memchr v2.2.0\r\n       Fresh syn v0.15.38\r\n       Fresh backtrace-sys v0.1.29\r\n       Fresh aho-corasick v0.7.3\r\n       Fresh synstructure v0.10.2\r\n       Fresh backtrace v0.3.32\r\n       Fresh regex v1.1.7\r\n       Fresh proc-macro-hack v0.5.7\r\n       Fresh failure_derive v0.1.5\r\n       Fresh failure v0.1.5\r\n       Fresh dotenv v0.14.1\r\n       Fresh dotenv_codegen_implementation v0.14.1\r\n       Fresh dotenv_codegen v0.14.1\r\n   Compiling dotenv-codegen-rustc-hang v0.1.0 (/home/limsadmin/.rvalls/dotenv-codegen-rustc-hang)\r\n     Running `rustc --edition=2018 --crate-name dotenv_codegen_rustc_hang src/main.rs --color always --crate-type bin --emit=dep-info,link -C debuginfo=2 -C metadata=8547a0ee33801234 -C extra-filename=-8547a0ee33801234 --out-dir /home/limsadmin/.rvalls/dotenv-codegen-rustc-hang/target/debug/deps -C incremental=/home/limsadmin/.rvalls/dotenv-codegen-rustc-hang/target/debug/incremental -L dependency=/home/limsadmin/.rvalls/dotenv-codegen-rustc-hang/target/debug/deps --extern dotenv_codegen=/home/limsadmin/.rvalls/dotenv-codegen-rustc-hang/target/debug/deps/libdotenv_codegen-f886d4c0e76d6020.rlib`\r\n    Building [======================================================>  ] 39/40: dotenv-codegen-rustc-hang(bin)\r\n```\r\n\r\n## Meta\r\n\r\n```bash\r\nrustc 1.37.0-nightly (d3e2cec29 2019-06-26)\r\nbinary: rustc\r\ncommit-hash: d3e2cec29225a46298ec4ebf082f34ebd7cfeecf\r\ncommit-date: 2019-06-26\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.37.0-nightly\r\nLLVM version: 8.0\r\n```", "closed_by": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/62167/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/62167/timeline", "performed_via_github_app": null, "state_reason": "completed"}