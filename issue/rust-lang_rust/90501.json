{"url": "https://api.github.com/repos/rust-lang/rust/issues/90501", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/90501/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/90501/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/90501/events", "html_url": "https://github.com/rust-lang/rust/issues/90501", "id": 1042416788, "node_id": "I_kwDOAAsO6M4-IgSU", "number": 90501, "title": "Deadlocks in error messages with defaults and const parameters in the same parameter list", "user": {"login": "ETKNeil", "id": 89385146, "node_id": "MDQ6VXNlcjg5Mzg1MTQ2", "avatar_url": "https://avatars.githubusercontent.com/u/89385146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ETKNeil", "html_url": "https://github.com/ETKNeil", "followers_url": "https://api.github.com/users/ETKNeil/followers", "following_url": "https://api.github.com/users/ETKNeil/following{/other_user}", "gists_url": "https://api.github.com/users/ETKNeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/ETKNeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ETKNeil/subscriptions", "organizations_url": "https://api.github.com/users/ETKNeil/orgs", "repos_url": "https://api.github.com/users/ETKNeil/repos", "events_url": "https://api.github.com/users/ETKNeil/events{/privacy}", "received_events_url": "https://api.github.com/users/ETKNeil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-02T14:07:45Z", "updated_at": "2023-05-02T18:59:25Z", "closed_at": "2023-05-02T18:59:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nI tried this code:\r\n\r\n```rust\r\npub(crate) trait Safe1<const CHAR_1: char,Input = Self>{}\r\n\r\npub(crate) trait Safe2<Input = Self, const CHAR_1: char>{}\r\n```\r\n\r\nThis happened:  \r\n```rust\r\nerror: type parameters must be declared prior to const parameters\r\n --> src/lib.rs:1:43\r\n  |\r\n1 | pub(crate) trait Safe1<const CHAR_1: char,Input = Self>{}\r\n  |                       --------------------^^^^^-------- help: reorder the parameters: lifetimes, then types, then consts: `<Input = Self, const CHAR_1: char>`\r\n\r\nerror: generic parameters with a default must be trailing\r\n --> src/lib.rs:3:24\r\n  |\r\n3 | pub(crate) trait Safe2<Input = Self, const CHAR_1: char>{}\r\n  |                        ^^^^^\r\n  |\r\n  = note: using type defaults and const parameters in the same parameter list is currently not permitted\r\n```\r\n\r\nThis pattern is seemlingly an error deadlock since you first follow the advice from the rust compiler but then it tells you that it should be trailing so technically you should go back to the first one. However I do note that that the `note` says that const and default are not possible. I just want to point out the irony of the error type in this case as they are a deadlock by themselves.\r\n\r\n### Meta\r\nThis works on stable and nightly link to the playground : https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=db0564d9016ca18558c2855c6110c29e", "closed_by": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/90501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/90501/timeline", "performed_via_github_app": null, "state_reason": "completed"}