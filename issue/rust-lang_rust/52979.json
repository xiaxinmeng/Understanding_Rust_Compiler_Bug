{"url": "https://api.github.com/repos/rust-lang/rust/issues/52979", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52979/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52979/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52979/events", "html_url": "https://github.com/rust-lang/rust/issues/52979", "id": 347014749, "node_id": "MDU6SXNzdWUzNDcwMTQ3NDk=", "number": 52979, "title": "Need `compare-mode=2018` (or similar) to run test suite under multiple editions", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}, {"id": 858360099, "node_id": "MDU6TGFiZWw4NTgzNjAwOTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/WG-epoch", "name": "WG-epoch", "color": "c2e0c6", "default": false, "description": "Working group: Epoch (2018) management"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-02T13:35:15Z", "updated_at": "2019-09-02T13:46:41Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "To resolve #48879 we added `--compare-mode=nll`. It allows us to keep track of whether the diagnostics deviate, and in what fashion, for the whole `ui/` test suite.\r\n\r\nWe should have something similar for the 2018 edition. That would force us to be honest about how much things are going to change for people who try to upgrade their edition.\r\n\r\n(Also, I believe such a mode would have caught #52967)\r\n\r\n----\r\n\r\nThe new `compare-mode=2018` could either be added as a new thing on its own, or we could replace the existing `compare-mode=nll` with `compare-mode=2018`.\r\n * The main motivation I can imagine for replacing rather than a pure addition would be to minimize the impact on the time our autobuilds spend in the `ui/` test suite. I would like feedback from @rust-lang/infra about which route is best here.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52979/timeline", "performed_via_github_app": null, "state_reason": null}