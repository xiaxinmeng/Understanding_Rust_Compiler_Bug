{"url": "https://api.github.com/repos/rust-lang/rust/issues/84211", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/84211/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/84211/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/84211/events", "html_url": "https://github.com/rust-lang/rust/issues/84211", "id": 858527933, "node_id": "MDU6SXNzdWU4NTg1Mjc5MzM=", "number": 84211, "title": "Support trailing commas in macros by default", "user": {"login": "dannykomo", "id": 35462030, "node_id": "MDQ6VXNlcjM1NDYyMDMw", "avatar_url": "https://avatars.githubusercontent.com/u/35462030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dannykomo", "html_url": "https://github.com/dannykomo", "followers_url": "https://api.github.com/users/dannykomo/followers", "following_url": "https://api.github.com/users/dannykomo/following{/other_user}", "gists_url": "https://api.github.com/users/dannykomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/dannykomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dannykomo/subscriptions", "organizations_url": "https://api.github.com/users/dannykomo/orgs", "repos_url": "https://api.github.com/users/dannykomo/repos", "events_url": "https://api.github.com/users/dannykomo/events{/privacy}", "received_events_url": "https://api.github.com/users/dannykomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-15T06:13:26Z", "updated_at": "2023-02-13T15:16:21Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "When declaring a makro, I often do this mistake of typing a comma after the last argument, since this is my style of coding that is OK for any programming language I know. In regular rust code it is fine as well:\r\n```rust\r\nfn foo(\r\n    first_parameter: FirstParameterType,\r\n    second_parameter: SecondParameterType,\r\n    third_parameter: ThirdParameterType,\r\n) -> &[usize] {\r\n   // DO SOMETHING\r\n}\r\n```\r\nHowever in makros, it does not work:\r\n\r\n```rust\r\nmacro_rules! foo {\r\n    (\r\n        $first_parameter: expr,\r\n        $second_parameter: expr,\r\n        $third_parameter: expr,\r\n    ) => {\r\n         // DO SOMETHING\r\n    }\r\n}\r\n```\r\nThis decralaration is incorrect due to the comma after `$third_parameter: expr`.\r\n\r\nI think that the best solution is to allow this comma, however at least the comment should be fixed since it points at the place the makro is used instead at the declaration and says: `missing tokens in macro arguments` which is missleading\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/84211/reactions", "total_count": 1, "+1": 0, "-1": 1, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/84211/timeline", "performed_via_github_app": null, "state_reason": null}