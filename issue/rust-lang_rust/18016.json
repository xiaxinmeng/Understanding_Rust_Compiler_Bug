{"url": "https://api.github.com/repos/rust-lang/rust/issues/18016", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18016/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18016/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18016/events", "html_url": "https://github.com/rust-lang/rust/issues/18016", "id": 45691546, "node_id": "MDU6SXNzdWU0NTY5MTU0Ng==", "number": 18016, "title": "bare `impl`s on same-crate different-mod imported types were useful and there is no alternative", "user": {"login": "o11c", "id": 964689, "node_id": "MDQ6VXNlcjk2NDY4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/964689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/o11c", "html_url": "https://github.com/o11c", "followers_url": "https://api.github.com/users/o11c/followers", "following_url": "https://api.github.com/users/o11c/following{/other_user}", "gists_url": "https://api.github.com/users/o11c/gists{/gist_id}", "starred_url": "https://api.github.com/users/o11c/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/o11c/subscriptions", "organizations_url": "https://api.github.com/users/o11c/orgs", "repos_url": "https://api.github.com/users/o11c/repos", "events_url": "https://api.github.com/users/o11c/events{/privacy}", "received_events_url": "https://api.github.com/users/o11c/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-13T22:09:15Z", "updated_at": "2015-01-27T18:01:48Z", "closed_at": "2015-01-27T18:01:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following code used to work, but there is no longer any way to do this sort of thing.\n\nMoving the `impl` into the `mod` can't be done because low-level modules need to remain similar to the C API they are wrapping, for example if they are generated; and unlike C it is not possible to reopen a module after it is closed.\n\nAdding a meaningless trait does not work because trait methods cannot be called unless you import the trait.\n\nPlease bring back some way to do this (whispers of every crate being able to silently inject a prelude does not sound like a good idea at _all_).\n\n``` rust\npub mod really_a_crate\n{\n    pub use self::c::Foo;\n\n    pub mod c\n    {\n        #[allow(non_camel_case_types)]\n        #[repr(C)]\n        pub enum Foo\n        {\n            FOO_A,\n            FOO_B,\n            FOO_C,\n        }\n    }\n\n    impl c::Foo\n    {\n        pub fn frob(self)\n        {\n            println!(\"Hello, World!\");\n        }\n    }\n}\n\nfn main()\n{\n    let foo: really_a_crate::Foo = really_a_crate::c::FOO_A;\n    foo.frob();\n}\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/18016/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18016/timeline", "performed_via_github_app": null, "state_reason": "completed"}