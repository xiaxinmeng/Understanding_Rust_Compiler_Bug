{"url": "https://api.github.com/repos/rust-lang/rust/issues/40593", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/40593/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/40593/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/40593/events", "html_url": "https://github.com/rust-lang/rust/issues/40593", "id": 214888428, "node_id": "MDU6SXNzdWUyMTQ4ODg0Mjg=", "number": 40593, "title": "RefCell complains two mutable borrows present when only one exist on armv7-unknown-linux-gnueabihf", "user": {"login": "MJDSys", "id": 2875429, "node_id": "MDQ6VXNlcjI4NzU0Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/2875429?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MJDSys", "html_url": "https://github.com/MJDSys", "followers_url": "https://api.github.com/users/MJDSys/followers", "following_url": "https://api.github.com/users/MJDSys/following{/other_user}", "gists_url": "https://api.github.com/users/MJDSys/gists{/gist_id}", "starred_url": "https://api.github.com/users/MJDSys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MJDSys/subscriptions", "organizations_url": "https://api.github.com/users/MJDSys/orgs", "repos_url": "https://api.github.com/users/MJDSys/repos", "events_url": "https://api.github.com/users/MJDSys/events{/privacy}", "received_events_url": "https://api.github.com/users/MJDSys/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252628, "node_id": "MDU6TGFiZWwyNjIyNTI2Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-beta", "name": "regression-from-stable-to-beta", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to beta."}], "state": "closed", "locked": false, "assignee": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2017-03-17T02:05:17Z", "updated_at": "2017-03-24T23:46:55Z", "closed_at": "2017-03-24T23:46:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running the program at: https://is.gd/XHVVMt on my Chromebook (an Asus C201p) with the latest nightly compiler, I get the following error (RUST_BACKTRACE=1):\r\n```\r\nthread 'main' panicked at 'already borrowed: BorrowMutError', /checkout/src/libcore/result.rs:860\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nstack backtrace:\r\n   0: <core::result::Result<T, E>>::expect\r\n             at /checkout/src/libcore/result.rs:761\r\n   1: <core::cell::RefCell<T>>::borrow_mut\r\n             at /checkout/src/libcore/cell.rs:740\r\n   2: cell_test::main\r\n             at ./src/main.rs:9\r\n```\r\n\r\nThis doesn't occur on the latest stable compiler, and started sometime around March 12.  This doesn't happen on my AMD 64bit desktop, nor on playground.  Both debug and release builds are affected.\r\n\r\nCode:\r\n```rust\r\nuse std::cell::RefCell;\r\n\r\nfn main() {\r\n    let m = RefCell::new(5);\r\n    {\r\n        m.borrow_mut();\r\n    }\r\n    {\r\n        m.borrow_mut();\r\n    }\r\n}\r\n```\r\n(note the extra scopes don't affect the behaviour.)", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/40593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/40593/timeline", "performed_via_github_app": null, "state_reason": "completed"}