{"url": "https://api.github.com/repos/rust-lang/rust/issues/103698", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/103698/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/103698/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/103698/events", "html_url": "https://github.com/rust-lang/rust/issues/103698", "id": 1427562617, "node_id": "I_kwDOAAsO6M5VFuB5", "number": 103698, "title": "`#![allow(unknown_lints)]` should permit unstable lints", "user": {"login": "lopopolo", "id": 860434, "node_id": "MDQ6VXNlcjg2MDQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/860434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lopopolo", "html_url": "https://github.com/lopopolo", "followers_url": "https://api.github.com/users/lopopolo/followers", "following_url": "https://api.github.com/users/lopopolo/following{/other_user}", "gists_url": "https://api.github.com/users/lopopolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/lopopolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lopopolo/subscriptions", "organizations_url": "https://api.github.com/users/lopopolo/orgs", "repos_url": "https://api.github.com/users/lopopolo/repos", "events_url": "https://api.github.com/users/lopopolo/events{/privacy}", "received_events_url": "https://api.github.com/users/lopopolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-10-28T17:32:19Z", "updated_at": "2022-10-29T12:46:57Z", "closed_at": "2022-10-29T06:36:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I maintain a crate called `iana-time-zone` which has an MSRV of 1.38 and an explicit goal of supporting all versions from that MSRV up to stable on all tier 1 platforms (and especially Debian stable).\n\nI previously added two crate level attributes:\n\n```rust\n#![allow(unknown_lints)]\n#![warn(unsafe_op_in_unsafe_fn)]\n```\n\nThis set of attributes compiles on Rust 1.38.0 where the unsafe op in unsafe fn lint does not exist, but fails to compile on 1.48.0 where the lint is unstable.\n\nI believe I can work around this by moving the warn config to `RUSTFLAGS` in CI, but then contributors lose out on the lint in their inner development loop.\n\nI think I'd like allow unknown lints to suppress enabling unstable lints and treat them as if they are unknown (maybe only on non-nightly toolchains?).\n\n(Apologies for the blank issue and not searching the tracker, I'm on mobile.)", "closed_by": {"login": "lopopolo", "id": 860434, "node_id": "MDQ6VXNlcjg2MDQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/860434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lopopolo", "html_url": "https://github.com/lopopolo", "followers_url": "https://api.github.com/users/lopopolo/followers", "following_url": "https://api.github.com/users/lopopolo/following{/other_user}", "gists_url": "https://api.github.com/users/lopopolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/lopopolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lopopolo/subscriptions", "organizations_url": "https://api.github.com/users/lopopolo/orgs", "repos_url": "https://api.github.com/users/lopopolo/repos", "events_url": "https://api.github.com/users/lopopolo/events{/privacy}", "received_events_url": "https://api.github.com/users/lopopolo/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/103698/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/103698/timeline", "performed_via_github_app": null, "state_reason": "completed"}