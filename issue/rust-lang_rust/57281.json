{"url": "https://api.github.com/repos/rust-lang/rust/issues/57281", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57281/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57281/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57281/events", "html_url": "https://github.com/rust-lang/rust/issues/57281", "id": 395359771, "node_id": "MDU6SXNzdWUzOTUzNTk3NzE=", "number": 57281, "title": "Large rustdoc pages take a long time to render in a browser", "user": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-02T19:51:19Z", "updated_at": "2019-01-11T12:21:43Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Rustdoc generates pages that can be large enough that they take a long time to render in a browser. Probably the worst offender is https://doc.rust-lang.org/std/iter/trait.Iterator.html.\r\n\r\nMy expectation is the prime offender here is the list of implementations. There are a *lot* on this page. With all the implementations collapsed, it's 51148px tall (in my browser). With them expanded, it's 650058px tall, or about 12x the height. And it takes a long time after expanding them before I can scroll to the end of the page.\r\n\r\nI don't know how to test the speed of rendering the page if all the implementations start off collapsed, but I'm guessing it will be significantly faster.\r\n\r\nI can think of two approaches to take here:\r\n\r\n1. If there's more than a small number of implementations, start them collapsed by default. I don't know where the cutoff should be. It may also depend on the number of trait members as well (the fewer the trait members, the less \"heavy\" each new implementation is).\r\n2. Add a rustdoc setting to just collapse trait implementations by default, and enable this setting by default.\r\n\r\nOption (2) might actually be nice in general, because when I'm looking at trait implementations I'm usually trying to find a specific one, and having them all expanded makes that harder.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57281/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57281/timeline", "performed_via_github_app": null, "state_reason": null}