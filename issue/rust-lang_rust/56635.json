{"url": "https://api.github.com/repos/rust-lang/rust/issues/56635", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/56635/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/56635/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/56635/events", "html_url": "https://github.com/rust-lang/rust/issues/56635", "id": 388940217, "node_id": "MDU6SXNzdWUzODg5NDAyMTc=", "number": 56635, "title": "\"non-exhaustive patterns: `_` not covered\" message could be more helpful for bitwise matching", "user": {"login": "indygreg", "id": 342993, "node_id": "MDQ6VXNlcjM0Mjk5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/342993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indygreg", "html_url": "https://github.com/indygreg", "followers_url": "https://api.github.com/users/indygreg/followers", "following_url": "https://api.github.com/users/indygreg/following{/other_user}", "gists_url": "https://api.github.com/users/indygreg/gists{/gist_id}", "starred_url": "https://api.github.com/users/indygreg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indygreg/subscriptions", "organizations_url": "https://api.github.com/users/indygreg/orgs", "repos_url": "https://api.github.com/users/indygreg/repos", "events_url": "https://api.github.com/users/indygreg/events{/privacy}", "received_events_url": "https://api.github.com/users/indygreg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-12-08T17:11:55Z", "updated_at": "2019-03-18T03:47:40Z", "closed_at": "2019-03-18T03:47:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have code resembling the following:\r\n\r\n```\r\npub fn parse_initial_byte(initial: u8) -> Result<InitialByte, &'static str> {\r\n    match initial {\r\n        0b000_00000...0b000_10111 => Ok(InitialByte::UIntInline(initial)),\r\n        0b000_11000 => Ok(InitialByte::UInt8),\r\n        0b000_11001 => Ok(InitialByte::UInt16),\r\n        0b000_11010 => Ok(InitialByte::UInt32),\r\n        0b000_11011 => Ok(InitialByte::UInt64),\r\n        0b000_11100...0b000_11111 => Err(\"reserved major type 0 value\"),\r\n        0b001_00000...0b001_10111 => Ok(InitialByte::NegIntInline(-1 - (initial - 0x20) as i8)),\r\n        0b001_11000 => Ok(InitialByte::NegInt8),\r\n        0b001_11001 => Ok(InitialByte::NegInt16),\r\n        0b001_11010 => Ok(InitialByte::NegInt32),\r\n        0b001_11011 => Ok(InitialByte::NegInt64),\r\n        0b001_11100...0b001_11111 => Err(\"reserved major type 1 value\"),\r\n        ...\r\n    }\r\n```\r\n\r\nWhen compiling with Rust 1.31.0, I get the following output:\r\n\r\n```\r\nerror[E0004]: non-exhaustive patterns: `_` not covered\r\n  --> src/cbor.rs:70:11\r\n   |\r\n70 |     match initial {\r\n   |           ^^^^^^^ pattern `_` not covered\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0004`.\r\n```\r\n\r\nMy bitwise matching patterns are apparently non-exhaustive :/\r\n\r\nThe error message is useful in that it is telling me where the error is. But it isn't telling me exactly which value(s) aren't covered by the match. It would be extremely useful if the compiler could do that for me. As it stands, I'll likely have to add a match for `_` and write a test that identifies which value(s) are hitting it. The amount of work is relatively small. But it would be ideal if the compiler gave me enough info to avoid this overhead.", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/56635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/56635/timeline", "performed_via_github_app": null, "state_reason": "completed"}