{"url": "https://api.github.com/repos/rust-lang/rust/issues/28058", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28058/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28058/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28058/events", "html_url": "https://github.com/rust-lang/rust/issues/28058", "id": 103664476, "node_id": "MDU6SXNzdWUxMDM2NjQ0NzY=", "number": 28058, "title": "Better document that process::exit does not result in a clean shutdown", "user": {"login": "crumblingstatue", "id": 1521976, "node_id": "MDQ6VXNlcjE1MjE5NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1521976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crumblingstatue", "html_url": "https://github.com/crumblingstatue", "followers_url": "https://api.github.com/users/crumblingstatue/followers", "following_url": "https://api.github.com/users/crumblingstatue/following{/other_user}", "gists_url": "https://api.github.com/users/crumblingstatue/gists{/gist_id}", "starred_url": "https://api.github.com/users/crumblingstatue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crumblingstatue/subscriptions", "organizations_url": "https://api.github.com/users/crumblingstatue/orgs", "repos_url": "https://api.github.com/users/crumblingstatue/repos", "events_url": "https://api.github.com/users/crumblingstatue/events{/privacy}", "received_events_url": "https://api.github.com/users/crumblingstatue/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-28T07:42:31Z", "updated_at": "2015-09-04T20:31:03Z", "closed_at": "2015-09-04T20:31:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The documentation states `If a clean shutdown is needed it is recommended to only call this function at a known point where there are no more destructors left to run.`, however simply running it when no more destructors are left to run does not guarantee a clean exit. For example, output buffers are not flushed, as opposed to normal program termination. There might be other things that `process::exit` does not do that normal program termination does that I'm not aware of. These too should be documented. Or at the least, the documentation should not imply that if you run `process::exit` when there are no more destructors left to run, you get a clean exit.\n\nFurthermore, `process::exit` should not be recommended as a mechanism for simply setting the exit code. `env::set_exit_status` was deprecated with the message `Deprecated since 1.2.0: use process::exit instead`, then removed. `process::exit` is simply not a good alternative. There are valid reasons for setting the exit code without abormal program termination.\n\nExamples:\n- Incorrect command line argument: Print help, set exit status to non-zero. Clean exit.\n- File stated in command line argument does not exist. State this to the user, set exit status to non-zero. Clean exit.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/28058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28058/timeline", "performed_via_github_app": null, "state_reason": "completed"}