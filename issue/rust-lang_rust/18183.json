{"url": "https://api.github.com/repos/rust-lang/rust/issues/18183", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18183/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18183/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18183/events", "html_url": "https://github.com/rust-lang/rust/issues/18183", "id": 46266356, "node_id": "MDU6SXNzdWU0NjI2NjM1Ng==", "number": 18183, "title": "ICE creating structs with default type parameters with identical names and types", "user": {"login": "pythonesque", "id": 923144, "node_id": "MDQ6VXNlcjkyMzE0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pythonesque", "html_url": "https://github.com/pythonesque", "followers_url": "https://api.github.com/users/pythonesque/followers", "following_url": "https://api.github.com/users/pythonesque/following{/other_user}", "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}", "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions", "organizations_url": "https://api.github.com/users/pythonesque/orgs", "repos_url": "https://api.github.com/users/pythonesque/repos", "events_url": "https://api.github.com/users/pythonesque/events{/privacy}", "received_events_url": "https://api.github.com/users/pythonesque/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-20T12:33:19Z", "updated_at": "2015-06-30T03:18:52Z", "closed_at": "2015-06-30T03:18:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\n#![feature(default_type_params)]\n\npub struct Foo<Bar = Bar>;\n\npub struct Baz(Foo);\n\nfn main() {}\n```\n\n---\n\n``` ShellSession\n$ RUST_BACKTRACE=1 rustc foo.rs\nfoo.rs:5:16: 5:19 error: internal compiler error: Type parameter `Bar` (Bar/TypeSpace/0) out of range when substituting (root type=Bar)\nfoo.rs:5 pub struct Baz(Foo);\n                        ^~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/libsyntax/diagnostic.rs:113\n\nstack backtrace:\n   1:        0x10c01dda9 - rt::backtrace::imp::write::h189e19957ab9c695OLq\n   2:        0x10c021077 - failure::on_fail::h03dc2437e5a88345n2q\n   3:        0x10c28e395 - unwind::begin_unwind_inner::hf0bc25e3a9312068Jud\n   4:        0x10b782267 - unwind::begin_unwind::h13550917712925122129\n   5:        0x10b782200 - unwind::begin_unwind::h13550917712925122129\n   6:        0x108ef3651 - middle::subst::SubstFolder<'a, 'tcx>.TypeFolder<'tcx>::fold_ty::h51d3eabd2d589326k7U\n   7:        0x1092dd867 - middle::typeck::astconv::ast_path_substs::h17230674362159792950\n   8:        0x1092f274a - middle::typeck::astconv::ast_path_to_ty::h9293039141781755470\n   9:        0x1092da6ad - middle::typeck::astconv::ast_ty_to_ty::h10119988251165278301\n  10:        0x10932b4c5 - middle::typeck::collect::convert_field::h2da86f9ee62891ddJBf\n  11:        0x1092f574a - middle::typeck::collect::convert_struct::h2b7ee55df10ef64egtg\n  12:        0x1092d0f9d - middle::typeck::collect::convert::h31420af36e1b2433Pgg\n  13:        0x1092cae53 - middle::typeck::collect::collect_item_types::h500e21302badea5eGhf\n  14:        0x108c47b96 - util::common::time::h17347838844167099674\n  15:        0x109486e18 - middle::typeck::check_crate::h4a8150eb203da20bLVk\n  16:        0x1094f1d6f - driver::driver::phase_3_run_analysis_passes::hb45292d67f60c7dbEvx\n  17:        0x1094ebfb3 - driver::driver::compile_input::hcfe10250ad7929a4qcx\n  18:        0x109572834 - driver::run_compiler::h3e10e2d15988f082J0A\n  19:        0x109570966 - driver::run::closure.147488\n  20:        0x108c612eb - task::TaskBuilder<S>::try_future::closure.101597\n  21:        0x108c611d3 - task::TaskBuilder<S>::spawn_internal::closure.101568\n  22:        0x108be379d - task::spawn_opts::closure.8528\n  23:        0x10c2f595c - rust_try_inner\n  24:        0x10c2f5946 - rust_try\n  25:        0x10c28ba07 - unwind::try::h538ab1bff32c8080rjd\n  26:        0x10c28b88c - task::Task::run::h756ab4c75afdd7bdCzc\n  27:        0x108be35c2 - task::spawn_opts::closure.8467\n  28:        0x10c28d24a - thread::thread_start::hf25b5002f28406f0NTc\n  29:     0x7fff9469c899 - _pthread_body\n  30:     0x7fff9469c72a - _pthread_struct_init\n```\n", "closed_by": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/18183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18183/timeline", "performed_via_github_app": null, "state_reason": "completed"}