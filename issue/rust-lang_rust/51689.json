{"url": "https://api.github.com/repos/rust-lang/rust/issues/51689", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/51689/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/51689/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/51689/events", "html_url": "https://github.com/rust-lang/rust/issues/51689", "id": 334611520, "node_id": "MDU6SXNzdWUzMzQ2MTE1MjA=", "number": 51689, "title": "Regression in that some imports are considered unused, but only when building docs", "user": {"login": "retep998", "id": 666308, "node_id": "MDQ6VXNlcjY2NjMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retep998", "html_url": "https://github.com/retep998", "followers_url": "https://api.github.com/users/retep998/followers", "following_url": "https://api.github.com/users/retep998/following{/other_user}", "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}", "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retep998/subscriptions", "organizations_url": "https://api.github.com/users/retep998/orgs", "repos_url": "https://api.github.com/users/retep998/repos", "events_url": "https://api.github.com/users/retep998/events{/privacy}", "received_events_url": "https://api.github.com/users/retep998/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-21T18:42:11Z", "updated_at": "2018-06-21T19:20:41Z", "closed_at": "2018-06-21T19:20:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nrustc 1.28.0-nightly (f28c7aef7 2018-06-19)\r\nbinary: rustc\r\ncommit-hash: f28c7aef7fbff1909c2d0257186cd7a5f0c6aa4b\r\ncommit-date: 2018-06-19\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.28.0-nightly\r\nLLVM version: 6.0\r\n```\r\n\r\n<details>\r\n<summary>Output of cargo doc</summary>\r\n\r\n```\r\n> cargo doc --all-features\r\n   Compiling winapi v0.3.5 (file:///C:/Users/Peter/Code/winapi-rs)\r\n Documenting winapi v0.3.5 (file:///C:/Users/Peter/Code/winapi-rs)\r\nerror: unused import: `IsEqualGUID`\r\n --> src\\shared\\devpropdef.rs:8:29\r\n  |\r\n8 | use shared::guiddef::{GUID, IsEqualGUID};\r\n  |                             ^^^^^^^^^^^\r\n  |\r\nnote: lint level defined here\r\n --> src\\lib.rs:8:9\r\n  |\r\n8 | #![deny(unused, unused_qualifications)]\r\n  |         ^^^^^^\r\n  = note: #[deny(unused_imports)] implied by #[deny(unused)]\r\n\r\nerror: unused import: `USB_ENDPOINT_DIRECTION_MASK`\r\n  --> src\\shared\\usb.rs:10:59\r\n   |\r\n10 |     PUSB_CONFIGURATION_DESCRIPTOR, USB_DEVICE_DESCRIPTOR, USB_ENDPOINT_DIRECTION_MASK,\r\n   |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror: unused imports: `FILE_ANY_ACCESS`, `METHOD_BUFFERED`, `METHOD_NEITHER`\r\n  --> src\\shared\\usbiodef.rs:13:20\r\n   |\r\n13 | use um::winioctl::{FILE_ANY_ACCESS, FILE_DEVICE_UNKNOWN, METHOD_BUFFERED, METHOD_NEITHER};\r\n   |                    ^^^^^^^^^^^^^^^                       ^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^\r\n\r\nerror: unused import: `c_short`\r\n --> src\\shared\\windowsx.rs:8:21\r\n  |\r\n8 | use ctypes::{c_int, c_short};\r\n  |                     ^^^^^^^\r\n\r\nerror: unused imports: `DWORD`, `HIWORD`, `LOWORD`\r\n --> src\\shared\\windowsx.rs:9:25\r\n  |\r\n9 | use shared::minwindef::{DWORD, HIWORD, LOWORD, LPARAM};\r\n  |                         ^^^^^  ^^^^^^  ^^^^^^\r\n\r\nerror: unused import: `um::winbase::LocalFree`\r\n --> src\\um\\accctrl.rs:9:5\r\n  |\r\n9 | use um::winbase::LocalFree;\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror: unused import: `IMAGE_BITMAP`\r\n  --> src\\um\\commctrl.rs:22:22\r\n   |\r\n22 |     CB_DELETESTRING, IMAGE_BITMAP, LPSCROLLINFO, LPTRACKMOUSEEVENT, NMHDR,\r\n   |                      ^^^^^^^^^^^^\r\n\r\nerror: unused import: `shared::winerror::SEVERITY_ERROR`\r\n  --> src\\um\\dwrite.rs:13:5\r\n   |\r\n13 | use shared::winerror::SEVERITY_ERROR;\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror: unused imports: `FLOAT`, `HIWORD`, `LOWORD`\r\n  --> src\\um\\dxva2api.rs:12:38\r\n   |\r\n12 | use shared::minwindef::{BOOL, DWORD, FLOAT, HIWORD, LOWORD, UCHAR, UINT, USHORT};\r\n   |                                      ^^^^^  ^^^^^^  ^^^^^^\r\n\r\nerror: unused import: `PUCHAR`\r\n  --> src\\um\\evntcons.rs:11:25\r\n   |\r\n11 | use shared::minwindef::{PUCHAR, PULONG, PUSHORT, UCHAR, ULONG, USHORT};\r\n   |                         ^^^^^^\r\n\r\nerror: unused import: `IsEqualIID`\r\n --> src\\um\\propkeydef.rs:7:23\r\n  |\r\n7 | use shared::guiddef::{IsEqualIID};\r\n  |                       ^^^^^^^^^^\r\n\r\nerror: unused import: `SEVERITY_ERROR`\r\n  --> src\\um\\wincodec.rs:21:5\r\n   |\r\n21 |     SEVERITY_ERROR\r\n   |     ^^^^^^^^^^^^^^\r\n\r\nerror: unused import: `LOBYTE`\r\n  --> src\\um\\wingdi.rs:11:71\r\n   |\r\n11 |     BOOL, BYTE, DWORD, FLOAT, HGLOBAL, HMETAFILE, HMODULE, HRGN, INT, LOBYTE, LPARAM, LPBYTE,\r\n   |                                                                       ^^^^^^\r\n\r\nerror: unused imports: `FALSE`, `TRUE`\r\n  --> src\\um\\wininet.rs:11:18\r\n   |\r\n11 |     BOOL, DWORD, FALSE, FILETIME, INT, LPBYTE,\r\n   |                  ^^^^^\r\n12 |     LPCVOID, LPDWORD, LPVOID, PBYTE, PDWORD, TRUE, WORD,\r\n   |                                              ^^^^\r\n\r\nerror: unused imports: `HIWORD`, `LOWORD`, `MAKELONG`\r\n  --> src\\um\\winsock2.rs:16:27\r\n   |\r\n16 |     BOOL, DWORD, FARPROC, HIWORD, INT, LOWORD, LPDWORD, LPHANDLE, LPINT, LPVOID, MAKELONG, UINT,\r\n   |                           ^^^^^^       ^^^^^^                                    ^^^^^^^^\r\n\r\nerror: unused imports: `HIWORD`, `LOWORD`\r\n  --> src\\um\\winuser.rs:16:41\r\n   |\r\n16 |     ATOM, BOOL, BYTE, DWORD, HINSTANCE, HIWORD, HKL, HMODULE, HRGN, HWINSTA, INT, LOWORD, LPARAM,\r\n   |                                         ^^^^^^                                    ^^^^^^\r\n\r\nerror: Compilation failed, aborting rustdoc\r\n\r\nerror: Could not document `winapi`.\r\n```\r\n</details>\r\n\r\nThere is nothing in `winapi` which is conditional on whether the crate is being built as documentation, and these unused imports do not occur when building `winapi` normally, nor have they ever occurred when building documentation before. This is a very recent regression.", "closed_by": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/51689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/51689/timeline", "performed_via_github_app": null, "state_reason": "completed"}