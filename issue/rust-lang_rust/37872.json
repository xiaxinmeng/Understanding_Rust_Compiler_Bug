{"url": "https://api.github.com/repos/rust-lang/rust/issues/37872", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37872/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37872/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37872/events", "html_url": "https://github.com/rust-lang/rust/issues/37872", "id": 190481479, "node_id": "MDU6SXNzdWUxOTA0ODE0Nzk=", "number": 37872, "title": "`legacy_directory_ownership` future-compatibility warnings", "user": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 246778137, "node_id": "MDU6TGFiZWwyNDY3NzgxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/B-unstable", "name": "B-unstable", "color": "d304cb", "default": false, "description": "Implemented in the nightly compiler and unstable."}, {"id": 630636017, "node_id": "MDU6TGFiZWw2MzA2MzYwMTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-future-compatibility", "name": "C-future-compatibility", "color": "f5f1fd", "default": false, "description": "Category: future compatibility lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-19T07:04:59Z", "updated_at": "2019-11-08T19:10:00Z", "closed_at": "2019-11-08T19:10:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is the summary issue for the `legacy_directory_ownership` future-compatibility warning and other related errors. The goal of this page is describe why this change was made and how you can fix code that is affected by it. It also provides a place to ask questions or register a complaint if you feel the change should not be made.\r\n\r\n#### What is the warning for?\r\n\r\nThe `legacy_directory_ownership` warning is issued when\r\n - there is a non-inline module with a `#[path]` attribute (e.g. `#[path = \"foo.rs\"] mod bar;`),\r\n - the module's file (\"foo.rs\" in the above example) is not named \"mod.rs\", and\r\n - the module's file contains a non-inline child module without a `#[path]` attribute.\r\n\r\nThe warning can be fixed by renaming the parent module to \"mod.rs\" and moving it into its own directory if appropriate.\r\n\r\nWe are making this a warning so that the directory ownership rules apply more consistently to modules with `#[path]` attributes. This is described in more detail in #37602.\r\n\r\n#### When will this warning become a hard error?\r\n\r\nAt the beginning of each 6-week release cycle, the Rust compiler team will review the set of outstanding future compatibility warnings and nominate some of them for Final Comment Period. Toward the end of the cycle, we will review any comments and make a final determination whether to convert the warning into a hard error or remove it entirely.\r\n\r\n#### Current status\r\n- [x] https://github.com/rust-lang/rust/pull/37602 introduces the `legacy_directory_ownership` lint as warn-by-default\r\n- [x] https://github.com/rust-lang/rust/pull/42894 makes the `legacy_directory_ownership` lint deny-by-default\r\n- [ ] PR ? makes the `legacy_directory_ownership` lint a hard error", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37872/timeline", "performed_via_github_app": null, "state_reason": "completed"}