{"url": "https://api.github.com/repos/rust-lang/rust/issues/30496", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/30496/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30496/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/30496/events", "html_url": "https://github.com/rust-lang/rust/issues/30496", "id": 123158088, "node_id": "MDU6SXNzdWUxMjMxNTgwODg=", "number": 30496, "title": "auto-win-gnu-32-opt bot is failing llvm build on MIPS header file", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-20T12:49:21Z", "updated_at": "2015-12-20T16:39:48Z", "closed_at": "2015-12-20T16:39:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "bors blocked because auto-win-gnu-32-opt bot is failing llvm build on MIPS header file\n\nPull Requests that have failed due to this:\n#30352\n#30468\n#30469\n#30482\n#30486\n#30413\n#30461\n#30473\n\nSample Error Message:\n\n```\nmake[4]: Entering directory '/c/bot/slave/auto-win-gnu-32-opt/build/obj/i686-pc-windows-gnu/llvm/lib/Target/Mips'\nllvm[4]: Compiling Mips16FrameLowering.cpp for Release build\nIn file included from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MCTargetDesc/MipsMCTargetDesc.h:74:0,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips.h:18,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsFrameLowering.h:17,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.h:17,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:14:\nC:/bot/slave/auto-win-gnu-32-opt/build/obj/i686-pc-windows-gnu/llvm/lib/Target/Mips/MipsGenInstrInfo.inc:2032:0: error: unterminated #ifdef\n #ifdef GET_INSTRINFO_MC_DESC\n ^\nIn file included from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:29:0,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:18,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:16:\nC:/bot/slave/auto-win-gnu-32-opt/build/obj/i686-pc-windows-gnu/llvm/lib/Target/Mips/MipsGenInstrInfo.inc:2032:0: error: unterminated #ifdef\n #ifdef GET_INSTRINFO_MC_DESC\n ^\nIn file included from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:18:0,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:16:\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:33:47: error: expected class-name before '{' token\n class MipsInstrInfo : public MipsGenInstrInfo {\n                                               ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:54:8: error: 'bool llvm::MipsInstrInfo::AnalyzeBranch(llvm::MachineBasicBlock&, llvm::MachineBasicBlock*&, llvm::MachineBasicBlock*&, llvm::SmallVectorImpl<llvm::MachineOperand>&, bool) const' marked override, but does not override\n   bool AnalyzeBranch(MachineBasicBlock &MBB, MachineBasicBlock *&TBB,\n        ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:59:12: error: 'unsigned int llvm::MipsInstrInfo::RemoveBranch(llvm::MachineBasicBlock&) const' marked override, but does not override\n   unsigned RemoveBranch(MachineBasicBlock &MBB) const override;\n            ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:61:12: error: 'unsigned int llvm::MipsInstrInfo::InsertBranch(llvm::MachineBasicBlock&, llvm::MachineBasicBlock*, llvm::MachineBasicBlock*, llvm::ArrayRef<llvm::MachineOperand>, llvm::DebugLoc) const' marked override, but does not override\n   unsigned InsertBranch(MachineBasicBlock &MBB, MachineBasicBlock *TBB,\n            ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:66:3: error: 'bool llvm::MipsInstrInfo::ReverseBranchCondition(llvm::SmallVectorImpl<llvm::MachineOperand>&) const' marked override, but does not override\n   ReverseBranchCondition(SmallVectorImpl<MachineOperand> &Cond) const override;\n   ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:75:8: error: 'void llvm::MipsInstrInfo::insertNoop(llvm::MachineBasicBlock&, llvm::MachineBasicBlock::iterator) const' marked override, but does not override\n   void insertNoop(MachineBasicBlock &MBB,\n        ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:89:8: error: 'void llvm::MipsInstrInfo::storeRegToStackSlot(llvm::MachineBasicBlock&, llvm::MachineBasicBlock::iterator, unsigned int, bool, int, const llvm::TargetRegisterClass*, const llvm::TargetRegisterInfo*) const' marked override, but does not override\n   void storeRegToStackSlot(MachineBasicBlock &MBB,\n        ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsInstrInfo.h:97:8: error: 'void llvm::MipsInstrInfo::loadRegFromStackSlot(llvm::MachineBasicBlock&, llvm::MachineBasicBlock::iterator, unsigned int, int, const llvm::TargetRegisterClass*, const llvm::TargetRegisterInfo*) const' marked override, but does not override\n   void loadRegFromStackSlot(MachineBasicBlock &MBB,\n        ^\nIn file included from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:16:0:\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:35:12: error: 'unsigned int llvm::Mips16InstrInfo::isLoadFromStackSlot(const llvm::MachineInstr*, int&) const' marked override, but does not override\n   unsigned isLoadFromStackSlot(const MachineInstr *MI,\n            ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:43:12: error: 'unsigned int llvm::Mips16InstrInfo::isStoreToStackSlot(const llvm::MachineInstr*, int&) const' marked override, but does not override\n   unsigned isStoreToStackSlot(const MachineInstr *MI,\n            ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:46:8: error: 'void llvm::Mips16InstrInfo::copyPhysReg(llvm::MachineBasicBlock&, llvm::MachineBasicBlock::iterator, llvm::DebugLoc, unsigned int, unsigned int, bool) const' marked override, but does not override\n   void copyPhysReg(MachineBasicBlock &MBB,\n        ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:65:8: error: 'bool llvm::Mips16InstrInfo::expandPostRAPseudo(llvm::MachineBasicBlock::iterator) const' marked override, but does not override\n   bool expandPostRAPseudo(MachineBasicBlock::iterator MI) const override;\n        ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16InstrInfo.h:106:12: error: 'unsigned int llvm::Mips16InstrInfo::getInlineAsmLength(const char*, const llvm::MCAsmInfo&) const' marked override, but does not override\n   unsigned getInlineAsmLength(const char *Str,\n            ^\nIn file included from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:19:0:\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsSubtarget.h:281:24: error: invalid covariant return type for 'virtual const llvm::MipsInstrInfo* llvm::MipsSubtarget::getInstrInfo() const'\n   const MipsInstrInfo *getInstrInfo() const override { return InstrInfo.get(); }\n                        ^\nIn file included from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/MipsSubtarget.h:25:0,\n                 from C:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:19:\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/include/llvm/Target/TargetSubtargetInfo.h:76:34: error:   overriding 'virtual const llvm::TargetInstrInfo* llvm::TargetSubtargetInfo::getInstrInfo() const'\n   virtual const TargetInstrInfo *getInstrInfo() const { return nullptr; }\n                                  ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp: In member function 'virtual void llvm::Mips16FrameLowering::emitPrologue(llvm::MachineFunction&, llvm::MachineBasicBlock&) const':\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:58:30: error: 'const class llvm::Mips16InstrInfo' has no member named 'get'\n   BuildMI(MBB, MBBI, dl, TII.get(TargetOpcode::CFI_INSTRUCTION))\n                              ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:73:34: error: 'const class llvm::Mips16InstrInfo' has no member named 'get'\n       BuildMI(MBB, MBBI, dl, TII.get(TargetOpcode::CFI_INSTRUCTION))\n                                  ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:78:32: error: 'const class llvm::Mips16InstrInfo' has no member named 'get'\n     BuildMI(MBB, MBBI, dl, TII.get(Mips::MoveR3216), Mips::S0)\n                                ^\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp: In member function 'virtual void llvm::Mips16FrameLowering::emitEpilogue(llvm::MachineFunction&, llvm::MachineBasicBlock&) const':\nC:/bot/slave/auto-win-gnu-32-opt/build/src/llvm/lib/Target/Mips/Mips16FrameLowering.cpp:96:32: error: 'const class llvm::Mips16InstrInfo' has no member named 'get'\n     BuildMI(MBB, MBBI, dl, TII.get(Mips::Move32R16), Mips::SP)\n                                ^\n/c/bot/slave/auto-win-gnu-32-opt/build/src/llvm/Makefile.rules:1521: recipe for target '/c/bot/slave/auto-win-gnu-32-opt/build/obj/i686-pc-windows-gnu/llvm/lib/Target/Mips/Release/Mips16FrameLowering.o' failed\nmake[4]: Leaving directory '/c/bot/slave/auto-win-gnu-32-opt/build/obj/i686-pc-windows-gnu/llvm/lib/Target/Mips'\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/30496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/30496/timeline", "performed_via_github_app": null, "state_reason": "completed"}