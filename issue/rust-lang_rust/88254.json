{"url": "https://api.github.com/repos/rust-lang/rust/issues/88254", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/88254/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/88254/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/88254/events", "html_url": "https://github.com/rust-lang/rust/issues/88254", "id": 976770188, "node_id": "MDU6SXNzdWU5NzY3NzAxODg=", "number": 88254, "title": "Track stderr color in UI tests", "user": {"login": "scrabsha", "id": 25402018, "node_id": "MDQ6VXNlcjI1NDAyMDE4", "avatar_url": "https://avatars.githubusercontent.com/u/25402018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scrabsha", "html_url": "https://github.com/scrabsha", "followers_url": "https://api.github.com/users/scrabsha/followers", "following_url": "https://api.github.com/users/scrabsha/following{/other_user}", "gists_url": "https://api.github.com/users/scrabsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/scrabsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scrabsha/subscriptions", "organizations_url": "https://api.github.com/users/scrabsha/orgs", "repos_url": "https://api.github.com/users/scrabsha/repos", "events_url": "https://api.github.com/users/scrabsha/events{/privacy}", "received_events_url": "https://api.github.com/users/scrabsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-23T08:28:47Z", "updated_at": "2023-02-12T10:12:59Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Disclaimer**: the whole idea comes from @estebank on twitter ([link][estebank-original-tweet]). I'm just summarizing it here.\r\n\r\nNow that we can emit super-fancy colored suggestions (PR #86532), it would be a good idea to track the color of the messages we emit for some special cases in the ui tests.\r\n\r\nA good way to track the color of each character would be to generate an HTML file per test. This would be both human-friendly (reviewers can open the resulting HTML file on their browser) and testing framework-friendly (as every character color is tracked, we can spot regressions).\r\n\r\nAs suggested in the original tweet, explicit coloring can be triggered with a `// generate-html` header command. We can also add a `-Z` flag so that users can use it outside of rustc tests.\r\n\r\nAs a new rust-lang/rust contributor, I'd love to work on that, but I need some ideas of how to track colors from experienced rustc developers first.\r\n\r\nEdits:\r\n  - 2021-08-25: after some discussions with @ estabank on twitter, it seems that we don't want to track the colors of every ui test, but rather the ones for some special cases.\r\n\r\n[estebank-original-tweet]: https://twitter.com/ekuber/status/1428645095138598914", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/88254/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/88254/timeline", "performed_via_github_app": null, "state_reason": null}