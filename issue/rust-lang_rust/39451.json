{"url": "https://api.github.com/repos/rust-lang/rust/issues/39451", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39451/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39451/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39451/events", "html_url": "https://github.com/rust-lang/rust/issues/39451", "id": 204679021, "node_id": "MDU6SXNzdWUyMDQ2NzkwMjE=", "number": 39451, "title": "unexpected panic when compiling imap", "user": {"login": "busarovalex", "id": 4946513, "node_id": "MDQ6VXNlcjQ5NDY1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4946513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busarovalex", "html_url": "https://github.com/busarovalex", "followers_url": "https://api.github.com/users/busarovalex/followers", "following_url": "https://api.github.com/users/busarovalex/following{/other_user}", "gists_url": "https://api.github.com/users/busarovalex/gists{/gist_id}", "starred_url": "https://api.github.com/users/busarovalex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busarovalex/subscriptions", "organizations_url": "https://api.github.com/users/busarovalex/orgs", "repos_url": "https://api.github.com/users/busarovalex/repos", "events_url": "https://api.github.com/users/busarovalex/events{/privacy}", "received_events_url": "https://api.github.com/users/busarovalex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-01T19:22:24Z", "updated_at": "2018-09-24T18:36:42Z", "closed_at": "2018-09-24T18:36:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to compile an example from the imap crate:\r\n[example](https://github.com/mattnenterprise/rust-imap/blob/master/examples/basic.rs)\r\nwhen the error occured:  `error: internal compiler error: unexpected panic`\r\n\r\nI tried this code:\r\n```\r\nextern crate imap;\r\nextern crate openssl;\r\n\r\nuse openssl::ssl::{SslContext, SslMethod};\r\nuse imap::client::Client;\r\n\r\nfn main() {\r\n    let mut imap_socket = Client::secure_connect(\r\n        (\"imap.gmail.com\", 993), \r\n        SslContext::new(SslMethod::Sslv23).unwrap()\r\n        )\r\n    .unwrap();\r\n\r\n}\r\n```\r\n\r\n## Meta\r\n`rustc --version --verbose`:\r\nrustc 1.16.0-nightly (df8debf6d 2017-01-25)\r\nbinary: rustc\r\ncommit-hash: df8debf6d9afc431adbbd8311dcaf2b70eb9762e\r\ncommit-date: 2017-01-25\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.16.0-nightly\r\nLLVM version: 3.9\r\n\r\nBacktrace:\r\n```\r\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/option.rs:323\r\nstack backtrace:\r\n   1:     0x7fefee63b96c - std::sys::imp::backtrace::tracing::imp::write::h9c41d2f69e5caabf\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:42\r\n   2:     0x7fefee649e6e - std::panicking::default_hook::{{closure}}::hcc803c8663cda123\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/panicking.rs:351\r\n   3:     0x7fefee649a13 - std::panicking::default_hook::hd5bda4e453dfb4be\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/panicking.rs:361\r\n   4:     0x7fefee64a30b - std::panicking::rust_panic_with_hook::hffbc74969c7b5d87\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/panicking.rs:555\r\n   5:     0x7fefee64a1a4 - std::panicking::begin_panic::hc4c5d184a1e3fb7c\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/panicking.rs:517\r\n   6:     0x7fefee64a0c9 - std::panicking::begin_panic_fmt::h34f5b320b0f94559\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/panicking.rs:501\r\n   7:     0x7fefee64a057 - rust_begin_unwind\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/panicking.rs:477\r\n   8:     0x7fefee68739d - core::panicking::panic_fmt::h1016b85b51d1931f\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/panicking.rs:69\r\n   9:     0x7fefee6872d4 - core::panicking::panic::h22ba9383231afe8b\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/panicking.rs:49\r\n  10:     0x7fefec30a526 - rustc_metadata::creader::CrateLoader::resolve_crate::he89f9a9423254baa\r\n  11:     0x7fefec31163f - <rustc_metadata::creader::CrateLoader<'a> as rustc::middle::cstore::CrateLoader>::process_item::h3bcaeb0147f0373b\r\n  12:     0x7fefebb32660 - rustc_resolve::build_reduced_graph::<impl rustc_resolve::Resolver<'a>>::build_reduced_graph_for_item::hdde3d314cfc12862\r\n  13:     0x7fefebb3942f - <rustc_resolve::build_reduced_graph::BuildReducedGraphVisitor<'a, 'b> as syntax::visit::Visitor<'a>>::visit_item::h220e5c529f36a7a1\r\n  14:     0x7fefebb3992f - <rustc_resolve::build_reduced_graph::BuildReducedGraphVisitor<'a, 'b> as syntax::visit::Visitor<'a>>::visit_item::h220e5c529f36a7a1\r\n  15:     0x7fefebb2d36f - rustc_resolve::macros::<impl syntax::ext::base::Resolver for rustc_resolve::Resolver<'a>>::visit_expansion::hf2f69d86db69f9ff\r\n  16:     0x7fefe72cd992 - syntax::ext::expand::MacroExpander::collect_invocations::hb7286b5215f6cabe\r\n  17:     0x7fefe72cb5d7 - syntax::ext::expand::MacroExpander::expand::he64090ad698e4ac4\r\n  18:     0x7fefe72cb095 - syntax::ext::expand::MacroExpander::expand_crate::h9effb4e2a488a85d\r\n  19:     0x7fefee9db1ec - rustc_driver::driver::phase_2_configure_and_expand::{{closure}}::h3ddcf02b571a1c51\r\n  20:     0x7fefee9d2905 - rustc_driver::driver::phase_2_configure_and_expand::hd0c4535cf8df7dea\r\n  21:     0x7fefee9c8dee - rustc_driver::driver::compile_input::h44853ffed84a12cb\r\n  22:     0x7fefeea12554 - rustc_driver::run_compiler::hdc4bb0fcf7d0917a\r\n  23:     0x7fefee91ec2b - std::panicking::try::do_call::h84a15e0d2b943318\r\n  24:     0x7fefee65314a - __rust_maybe_catch_panic\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libpanic_unwind/lib.rs:98\r\n  25:     0x7fefee946e62 - <F as alloc::boxed::FnBox<A>>::call_box::h61c78220cad685ea\r\n  26:     0x7fefee648cc4 - std::sys::imp::thread::Thread::new::thread_start::h76badbf9b0ecaf58\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/liballoc/boxed.rs:615\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/sys_common/thread.rs:21\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/sys/unix/thread.rs:84\r\n  27:     0x7fefe6404183 - start_thread\r\n  28:     0x7fefee2f637c - clone\r\n  29:                0x0 - <unknown>\r\n\r\n```", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39451/timeline", "performed_via_github_app": null, "state_reason": "completed"}