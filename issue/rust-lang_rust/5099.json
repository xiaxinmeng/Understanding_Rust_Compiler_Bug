{"url": "https://api.github.com/repos/rust-lang/rust/issues/5099", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/5099/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/5099/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/5099/events", "html_url": "https://github.com/rust-lang/rust/issues/5099", "id": 11337792, "node_id": "MDU6SXNzdWUxMTMzNzc5Mg==", "number": 5099, "title": "Internal compiler error: trait B < A > { fn a() -> A { self.a} }", "user": {"login": "nielsle", "id": 292118, "node_id": "MDQ6VXNlcjI5MjExOA==", "avatar_url": "https://avatars.githubusercontent.com/u/292118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nielsle", "html_url": "https://github.com/nielsle", "followers_url": "https://api.github.com/users/nielsle/followers", "following_url": "https://api.github.com/users/nielsle/following{/other_user}", "gists_url": "https://api.github.com/users/nielsle/gists{/gist_id}", "starred_url": "https://api.github.com/users/nielsle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nielsle/subscriptions", "organizations_url": "https://api.github.com/users/nielsle/orgs", "repos_url": "https://api.github.com/users/nielsle/repos", "events_url": "https://api.github.com/users/nielsle/events{/privacy}", "received_events_url": "https://api.github.com/users/nielsle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/9", "html_url": "https://github.com/rust-lang/rust/milestone/9", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/9/labels", "id": 194126, "node_id": "MDk6TWlsZXN0b25lMTk0MTI2", "number": 9, "title": "0.6", "description": "", "creator": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 203, "state": "closed", "created_at": "2012-10-11T18:15:24Z", "updated_at": "2015-01-21T01:43:22Z", "due_on": "2013-03-25T07:00:00Z", "closed_at": "2013-04-02T18:27:52Z"}, "comments": 2, "created_at": "2013-02-24T18:23:23Z", "updated_at": "2014-06-16T21:56:32Z", "closed_at": "2013-03-20T21:06:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following program causes a compiler error\n\n```\ntrait B < A > { fn a() -> A { self.a} }\n```\n\nniels@ellegaard:~/slettes $ rustc --version\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/rustc 0.5\n(8554d5e 2012-12-19 21:52:03 -0700)\nhost: x86_64-unknown-linux-gnu\n\nniels@ellegaard:~/slettes $ cat tests.rs \ntrait B < A > { fn a() -> A { self.a} }\n\nniels@ellegaard:~/slettes $ rustc tests.rs \nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug\nnote: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues\n\nniels@ellegaard:~/slettes $ export RUST_LOG=rustc=1,::rt::backtrace\nniels@ellegaard:~/slettes $ rustc tests.rs \nrust: task failed at 'index out of bounds: the len is 0 but the index is 0', /home/rustbuild/src/rustbot/workspace-snap-stage3-x86_64-unknown-linux-gnu/src/src/librustc/middle/ty.rs:1582\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4f)[0x7f1fa8d5583f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(+0x2bb11)[0x7f1fa8d68b11]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(upcall_fail+0x1d3)[0x7f1fa8d58d93]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xa1f3b)[0x7f1faa504f3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x3724e)[0x7f1faa49a24e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(_ZN2rt20rt_fail_bounds_check17_6e1eda81bf4aba343_05E+0x19b)[0x7f1faa4a1bab]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x2e721b)[0x7f1fa927f21b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle2ty19fold_regions_and_ty16_f54a62363da4ac23_05E+0x695)[0x7f1fa927ce05]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x2e7204)[0x7f1fa927f204]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle2ty5subst17_4427afe6803fad763_05E+0x2fb)[0x7f1fa914dc8b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check14__extensions__10meth_4779315write_ty_substs15_620eddf78c942c3_05E+0x7c)[0x7f1fa937dcec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check6method14__extensions__10meth_4774817confirm_candidate16_bbe5853d7f2b55e3_05E+0x62e)[0x7f1fa937c9ce]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check6method14__extensions__10meth_4765419consider_candidates14_c9c86cccf1c843_05E+0x6bf)[0x7f1fa937b2ef]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check6method14__extensions__10meth_4759117search_for_method16_42b4bf4d3be0b423_05E+0x339)[0x7f1fa9379099]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check6method14__extensions__10meth_4732328search_for_autoderefd_method17_1b1643c6e428ad6f3_05E+0x74)[0x7f1fa9370604]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check6method14__extensions__10meth_472739do_lookup16_42b4bf4d3be0b423_05E+0x745)[0x7f1fa936ed25]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f1fa971b4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check6method6lookup17_e4249ed78bca28f23_05E+0x179)[0x7f1fa936dc49]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x43a704)[0x7f1fa93d2704]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x426fe4)[0x7f1fa93befe4]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f1fa971b4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x38e4dd)[0x7f1fa93264dd]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x3edcb9)[0x7f1fa9385cb9]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x3ec237)[0x7f1fa9384237]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x3f2234)[0x7f1fa938a234]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x3ea9dc)[0x7f1fa93829dc]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libsyntax-84efebcb12c867a2-0.5.so(+0xb7da5)[0x7f1fa9bf8da5]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libsyntax-84efebcb12c867a2-0.5.so(+0xb7a04)[0x7f1fa9bf8a04]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck5check16check_item_types16_ef87a212ee1c1893_05E+0x447)[0x7f1fa9381447]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6middle6typeck11check_crate16_233d7ed98ff43893_05E+0x1b9)[0x7f1fa948c509]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f1fa971b4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6driver6driver12compile_upto16_2b485a272c743d53_05E+0x1726)[0x7f1fa96e14b6]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f1fa971b4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN6driver6driver13compile_input17_14b7675443fceb433_05E+0xbb)[0x7f1fa96e47eb]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN12run_compiler16_2977651ce4ea1243_05E+0x2459)[0x7f1fa9714269]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f1fa971b4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x782203)[0x7f1fa971a203]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x78126c)[0x7f1fa971926c]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x7b360)[0x7f1faa4de360]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f1faa515650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f1fa8d56864]\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug\nnote: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues\nrust: task failed at 'explicit failure', /home/rustbuild/src/rustbot/workspace-snap-stage3-x86_64-unknown-linux-gnu/src/src/librustc/rustc.rc:425\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4f)[0x7f1fa8d5583f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(+0x2bb11)[0x7f1fa8d68b11]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(upcall_fail+0x1d3)[0x7f1fa8d58d93]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xa1f3b)[0x7f1faa504f3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x3724e)[0x7f1faa49a24e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f1faa515650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN7monitor17_b0fffbf1e4d4325c3_05E+0x29de)[0x7f1fa971822e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(+0x7834ec)[0x7f1fa971b4ec]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustc-c84825241471686d-0.5.so(_ZN4main16_2fb85b4a659c4103_05E+0x86)[0x7f1fa971b0f6]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f1fa8d56864]\nrust: domain main @0x6541f0 root task failed\nrust: task failed at 'killed', /home/rustbuild/src/rustbot/workspace-snap-stage3-x86_64-unknown-linux-gnu/src/src/libcore/task/mod.rs:570\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4f)[0x7f1fa8d5583f]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(+0x2bb11)[0x7f1fa8d68b11]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(upcall_fail+0x1d3)[0x7f1fa8d58d93]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xa1f3b)[0x7f1faa504f3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x3724e)[0x7f1faa49a24e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(_ZN4task5yield17_56812fae66173efd3_05E+0xbd)[0x7f1faa4c6f5d]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x90d06)[0x7f1faa4f3d06]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f1faa515650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(_ZN7private11weaken_task16_d215ceff51755b63_05E+0xd9)[0x7f1faa4f3b49]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x90a3b)[0x7f1faa4f3a3b]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x8b61e)[0x7f1faa4ee61e]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0x7b360)[0x7f1faa4de360]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/libcore-c3ca5d77d81b46c1-0.5.so(+0xb2650)[0x7f1faa515650]\n/home/niels/local/src/rust/build/x86_64-unknown-linux-gnu/stage0/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f1fa8d56864]\n", "closed_by": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/5099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/5099/timeline", "performed_via_github_app": null, "state_reason": "completed"}