{"url": "https://api.github.com/repos/rust-lang/rust/issues/25446", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25446/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25446/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25446/events", "html_url": "https://github.com/rust-lang/rust/issues/25446", "id": 76805550, "node_id": "MDU6SXNzdWU3NjgwNTU1MA==", "number": 25446, "title": "rust 1.0 fails to link successfully on FreeBSD 10.1", "user": {"login": "worr", "id": 183837, "node_id": "MDQ6VXNlcjE4MzgzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/183837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/worr", "html_url": "https://github.com/worr", "followers_url": "https://api.github.com/users/worr/followers", "following_url": "https://api.github.com/users/worr/following{/other_user}", "gists_url": "https://api.github.com/users/worr/gists{/gist_id}", "starred_url": "https://api.github.com/users/worr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/worr/subscriptions", "organizations_url": "https://api.github.com/users/worr/orgs", "repos_url": "https://api.github.com/users/worr/repos", "events_url": "https://api.github.com/users/worr/events{/privacy}", "received_events_url": "https://api.github.com/users/worr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-15T18:05:50Z", "updated_at": "2015-07-28T22:05:44Z", "closed_at": "2015-07-28T22:05:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a regression from 1.0-beta4, which built successfully on FreeBSD with clang 3.4.1. Tested with clang 3.4.1 as well as 3.6.0. Error is the same.\n\n```\nerror: linking with `cc` failed: exit code: 1\nnote: \"cc\" \"-L/usr/local/lib\" \"-L/usr/local/lib/gcc46\" \"-L/usr/local/lib/gcc44\" \"-m64\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-o\" \"x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc\" \"x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc.o\" \"-Wl,--whole-archive\" \"-lmorestack\" \"-Wl,--no-whole-archive\" \"-Wl,--gc-sections\" \"-nodefaultlibs\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_driver-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_typeck-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_resolve-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_lint-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_trans-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_privacy-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_borrowck-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lgetopts-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lgraphviz-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_llvm-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lflate-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrbml-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lrustc_back-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lsyntax-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lfmt_macros-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lserialize-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-larena-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lterm-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-llog-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-lstd-4e7c5e5c\" \"-L\" \"/usr/home/worr/rustc-1.0.0/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib\" \"-L\" \"/usr/home/worr/rustc-1.0.0/.rust/lib/x86_64-unknown-freebsd\" \"-L\" \"/usr/home/worr/rustc-1.0.0/lib/x86_64-unknown-freebsd\" \"-Wl,--whole-archive\" \"-Wl,-Bstatic\" \"-Wl,--no-whole-archive\" \"-Wl,-Bdynamic\" \"-lpthread\" \"-ledit\" \"-lm\" \"-lc++\" \"-lexecinfo\" \"-lpthread\" \"-lrt\" \"-lgcc_s\" \"-lpthread\" \"-lc\" \"-lm\" \"-lcompiler-rt\"\nnote: x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc.o: In function `main::ha415815a2dd502c0faa':\ndriver.0.rs:(.text._ZN4main20ha415815a2dd502c0faaE+0x1): undefined reference to `main::h18efbf2a66bb063atcd'\nx86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc.o: In function `main':\ndriver.0.rs:(.text.main+0x14): undefined reference to `rt::lang_start::hb040dfd0f0b3ecf8h7v'\ncc: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\n/home/worr/rustc-1.0.0/mk/target.mk:175: recipe for target 'x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc' failed\ngmake: *** [x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc] Error 101\n```\n", "closed_by": {"login": "dhuseby", "id": 5017470, "node_id": "MDQ6VXNlcjUwMTc0NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5017470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhuseby", "html_url": "https://github.com/dhuseby", "followers_url": "https://api.github.com/users/dhuseby/followers", "following_url": "https://api.github.com/users/dhuseby/following{/other_user}", "gists_url": "https://api.github.com/users/dhuseby/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhuseby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhuseby/subscriptions", "organizations_url": "https://api.github.com/users/dhuseby/orgs", "repos_url": "https://api.github.com/users/dhuseby/repos", "events_url": "https://api.github.com/users/dhuseby/events{/privacy}", "received_events_url": "https://api.github.com/users/dhuseby/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25446/timeline", "performed_via_github_app": null, "state_reason": "completed"}