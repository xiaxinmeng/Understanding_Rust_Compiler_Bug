{"url": "https://api.github.com/repos/rust-lang/rust/issues/19451", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19451/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19451/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19451/events", "html_url": "https://github.com/rust-lang/rust/issues/19451", "id": 50608332, "node_id": "MDU6SXNzdWU1MDYwODMzMg==", "number": 19451, "title": "ICE destructuring unsized trait", "user": {"login": "jdm", "id": 27658, "node_id": "MDQ6VXNlcjI3NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdm", "html_url": "https://github.com/jdm", "followers_url": "https://api.github.com/users/jdm/followers", "following_url": "https://api.github.com/users/jdm/following{/other_user}", "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdm/subscriptions", "organizations_url": "https://api.github.com/users/jdm/orgs", "repos_url": "https://api.github.com/users/jdm/repos", "events_url": "https://api.github.com/users/jdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jdm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 125141240, "node_id": "MDU6TGFiZWwxMjUxNDEyNDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-dst", "name": "A-dst", "color": "f7e101", "default": false, "description": "Area: Dynamically Sized Types"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-02T03:23:49Z", "updated_at": "2014-12-15T02:23:00Z", "closed_at": "2014-12-15T02:23:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\ntrait Foo {\n    fn send(&self);\n}\n\nimpl Foo for Box<Foo+Send> {\n    fn send(&self) {\n        let foo: &Foo+Send = self;\n        foo.send()\n    }\n}\n\nfn main() {\n}\n```\n\n```\ngodot2:tmp jdm$ rustc trace.rs\nerror: internal compiler error: trying to take the sizing type of Foo+Send, an unsized type\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' panicked at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/libsyntax/diagnostic.rs:175\n```\n\n```\nstack backtrace:\n   1:        0x10d37b01f - rt::backtrace::imp::write::h8b16685522a2f37e6mt\n   2:        0x10d37e1a7 - failure::on_fail::hda0872f4f7b4d652VDt\n   3:        0x10d605375 - unwind::begin_unwind_inner::hc18b427b17a69549j1c\n   4:        0x10cab0447 - unwind::begin_unwind::h16775218699497008092\n   5:        0x10cab0c83 - diagnostic::Handler::bug::he58e2d0573e8d5d4L5F\n   6:        0x10a3a1124 - middle::trans::type_of::sizing_type_of::hee62b0bc8796e7a7kic\n   7:        0x10a3cd876 - middle::trans::meth::get_vtable::ha051d60ffab0f8ac4rn\n   8:        0x10a3ccd80 - middle::trans::expr::apply_adjustments::unsized_info::hbe2033da4ea81f18Sx5\n   9:        0x10a3cf0ee - middle::trans::expr::apply_adjustments::unsize_expr::closure.124053\n  10:        0x10a3cf33f - middle::trans::expr::apply_adjustments::into_fat_ptr::heb413f79fd24594dcF5\n  11:        0x10a3cc356 - middle::trans::expr::apply_adjustments::apply_autoref::hbd93c446aa47d112Pk5\n  12:        0x10a3cbc13 - middle::trans::expr::apply_adjustments::apply_autoref::hbd93c446aa47d112Pk5\n  13:        0x10a390cbb - middle::trans::expr::trans::h4434d528fe04df5eT84\n  14:        0x10a38ec88 - middle::trans::expr::trans_into::h1af41bae8ee0dffbZ44\n  15:        0x10a457f1e - middle::trans::_match::store_local::closure.127694\n  16:        0x10a457c5f - middle::trans::_match::mk_binding_alloca::h4744195066849425184\n  17:        0x10a4285bf - middle::trans::_match::store_local::h0bb5c8564f1380cfN0k\n  18:        0x10a38e474 - middle::trans::base::init_local::h05a9a3792652d0c7bCg\n  19:        0x10a38d8e1 - middle::trans::controlflow::trans_stmt::h6fdddbb12673cd46yg1\n  20:        0x10a38f0e8 - middle::trans::controlflow::trans_block::h6a4e65c7668581e0El1\n  21:        0x10a430cf2 - middle::trans::base::trans_closure::hc2af7384d279c318Gwh\n  22:        0x10a382b3c - middle::trans::base::trans_fn::hb749e580083af661tIh\n  23:        0x10a432b1b - middle::trans::meth::trans_impl::h35da4da3ba6b6e7dhRm\n  24:        0x10a3806dd - middle::trans::base::trans_item::h43f06cde27601092H1h\n  25:        0x10a4399b9 - middle::trans::base::trans_crate::h3cf75d0bc692f6c9IZi\n  26:        0x10a8a82b5 - driver::driver::phase_4_translate_to_llvm::hc964ebcd6d51be4bcoC\n  27:        0x10a8a1c92 - driver::driver::compile_input::hbe7ec99668ca396f6UB\n  28:        0x10a91e44d - driver::run_compiler::h28311042d2d2d716nLF\n  29:        0x10a91c98e - driver::run::closure.146343\n  30:        0x10a055feb - task::TaskBuilder<S>::try_future::closure.104775\n  31:        0x10a055ee3 - task::TaskBuilder<S>::spawn_internal::closure.104746\n  32:        0x10a00f7bd - task::NativeSpawner.Spawner::spawn::closure.2553\n  33:        0x10d6639cc - rust_try_inner\n  34:        0x10d6639b6 - rust_try\n  35:        0x10d602b47 - unwind::try::he8226cb3f62b8c951Pc\n  36:        0x10d6029dc - task::Task::run::h4878cb7b665069bf61b\n  37:        0x10a00f5e3 - task::NativeSpawner.Spawner::spawn::closure.2477\n  38:        0x10d604207 - thread::thread_start::h8e83ad43ae75daab3mc\n  39:     0x7fff9a0b1899 - _pthread_body\n  40:     0x7fff9a0b172a - _pthread_struct_init\n```\n", "closed_by": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/19451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19451/timeline", "performed_via_github_app": null, "state_reason": "completed"}