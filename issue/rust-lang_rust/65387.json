{"url": "https://api.github.com/repos/rust-lang/rust/issues/65387", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/65387/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/65387/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/65387/events", "html_url": "https://github.com/rust-lang/rust/issues/65387", "id": 506352891, "node_id": "MDU6SXNzdWU1MDYzNTI4OTE=", "number": 65387, "title": "On Windows, winapi no longer builds with latest pc-windows-gnu nightlies", "user": {"login": "Osspial", "id": 16296823, "node_id": "MDQ6VXNlcjE2Mjk2ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/16296823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Osspial", "html_url": "https://github.com/Osspial", "followers_url": "https://api.github.com/users/Osspial/followers", "following_url": "https://api.github.com/users/Osspial/following{/other_user}", "gists_url": "https://api.github.com/users/Osspial/gists{/gist_id}", "starred_url": "https://api.github.com/users/Osspial/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Osspial/subscriptions", "organizations_url": "https://api.github.com/users/Osspial/orgs", "repos_url": "https://api.github.com/users/Osspial/repos", "events_url": "https://api.github.com/users/Osspial/events{/privacy}", "received_events_url": "https://api.github.com/users/Osspial/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-13T17:16:59Z", "updated_at": "2019-10-13T17:20:19Z", "closed_at": "2019-10-13T17:20:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "This error seems to have been introduced by `rust version 1.40.0-nightly (6767d9b90 2019-10-11)`. To reproduce, clone https://github.com/retep998/winapi-rs.git on a Windows system and build with `nightly-2019-10-11-x86_64-pc-windows-gnu`. Building with `nightly-2019-10-10-x86_64-pc-windows-gnu` seems to work fine, though.\r\n\r\nThis was discovered with Winit's Appveyor builds started failing on the latest nightlies. [This is the latest working build log](https://ci.appveyor.com/project/Osspial/winit/builds/28056303/job/hpa177vwi8cyhkp1), and [this is the first failing build log](https://ci.appveyor.com/project/Osspial/winit/builds/28064160/job/4psg9kurxb7dfajr)\r\n\r\nFor reference, here is the relevant error:\r\n\r\n```\r\n   Compiling winapi v0.3.8\r\n 0651e182d9.exe\" \"C:\\\\projects\\\\winit\\\\target\\\\debug\\\\build\\\\winapi-i686-pc-windows-gnu-c863180651e182d9\\\\build_script_build-c863180651e182d9.1dauco0fgj24pype.rcgu.o\" \"-Wl,--gc-sections\" \"-nodefaultlibs\" \"-L\" \"C:\\\\projects\\\\winit\\\\target\\\\debug\\\\deps\" \"-L\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\" \"-Wl,--start-group\" \"-Wl,-Bstatic\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libstd-d0bf6b84273155d7.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libpanic_unwind-68cebc1f5a91b0ea.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libhashbrown-941b71b3cac1cf75.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_std_workspace_alloc-384899e40f06e6e6.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libbacktrace-854375a285306767.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libbacktrace_sys-c1755aeb8fa11602.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_demangle-579144285cb80d57.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libunwind-c2806ccb478b3a20.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libcfg_if-65fc01038edbe751.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\liblibc-92e015ddde9d0a69.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\liballoc-3465a9beb3406152.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\librustc_std_workspace_core-687f6def4492b905.rlib\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libcore-0e0f8b6dff870c49.rlib\" \"-Wl,--end-group\" \"C:\\\\Users\\\\appveyor\\\\.rustup\\\\toolchains\\\\nightly-i686-pc-windows-gnu\\\\lib\\\\rustlib\\\\i686-pc-windows-gnu\\\\lib\\\\libcompiler_builtins-f883bba0a403afe6.rlib\" \"-Wl,-Bdynamic\" \"-ladvapi32\" \"-lws2_32\" \"-luserenv\" \"-Wl,-Bstatic\" \"-lgcc_eh\" \"-lpthread\" \"-Wl,-Bdynamic\" \"-lmingwex\" \"-lmingw32\" \"-lgcc\" \"-lmsvcrt\" \"-lmsvcrt\" \"-luser32\" \"-lkernel32\" \"rsend.o\"\r\n  = note: gcc.exe: error: crt2.o: No such file or directory\r\n          gcc.exe: error: rsbegin.o: No such file or directory\r\n          gcc.exe: error: rsend.o: No such file or directory\r\n```", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/65387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/65387/timeline", "performed_via_github_app": null, "state_reason": "completed"}