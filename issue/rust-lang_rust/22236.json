{"url": "https://api.github.com/repos/rust-lang/rust/issues/22236", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/22236/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/22236/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/22236/events", "html_url": "https://github.com/rust-lang/rust/issues/22236", "id": 57510075, "node_id": "MDU6SXNzdWU1NzUxMDA3NQ==", "number": 22236, "title": "Tuple Struct format error expects the Struct format field", "user": {"login": "ltfschoen", "id": 6226175, "node_id": "MDQ6VXNlcjYyMjYxNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6226175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltfschoen", "html_url": "https://github.com/ltfschoen", "followers_url": "https://api.github.com/users/ltfschoen/followers", "following_url": "https://api.github.com/users/ltfschoen/following{/other_user}", "gists_url": "https://api.github.com/users/ltfschoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltfschoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltfschoen/subscriptions", "organizations_url": "https://api.github.com/users/ltfschoen/orgs", "repos_url": "https://api.github.com/users/ltfschoen/repos", "events_url": "https://api.github.com/users/ltfschoen/events{/privacy}", "received_events_url": "https://api.github.com/users/ltfschoen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-12T19:49:15Z", "updated_at": "2015-02-16T23:10:06Z", "closed_at": "2015-02-13T02:38:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am learning Rust by applying code from the Rust Docs (Nightly) Book.\nIn [Chapter 2.8 Compound Data Types](http://doc.rust-lang.org/book/compound-data-types.html) they give sample code for Tuple Structs. The code snippet below is how I have applied Tuple Structs for learning purposes in a file called main.rs:\n\n```\nfn main() {\n    try_tuple_structs();\n}\n\n/*\n  Rust Tuple Structs are a hybrid data type similar to Tuple and Struct.\n  Elements in Tuple Structs DO NOT have a Name, they only have a Type.\n  Structs are preferred over Tuple Structs since they have actual Names for Elements.\n*/\n\n// Declare a Tuple Struct.\nstruct Color { i32, i32, i32 };\nstruct PointInWater { i32, i32, i32 };\n\nfn try_tuple_structs() {\n  let black = Color(0, 0, 0);\n  let origin = Point(0, 0, 0);\n}\n```\n\nWhen I compile with Cargo, I get the following error, which indicates that it is expecting a Struct format whereby elements of the struct have a name. I suspect I have come across this error either because of a syntax error in the official Rust Docs (Nightly) Book, or perhaps Tuple Structs are not fully supported yet?:\n\n```\n$ cargo build --verbose\n   Compiling hello_world v0.0.1 (file:///Users/lukeschoen/code/rust_test)\n     Running `rustc src/main.rs --crate-name hello_world --crate-type bin -g --out-dir /Users/lukeschoen/code/rust_test/target --emit=dep-info,link -L dependency=/Users/lukeschoen/code/rust_test/target -L dependency=/Users/lukeschoen/code/rust_test/target/deps`\nsrc/main.rs:14:19: 14:20 error: expected `:`, found `,`\nsrc/main.rs:14 struct Color { i32, i32, i32 };\n                                 ^\nCould not compile `hello_world`.\n\nCaused by:\n  Process didn't exit successfully: `rustc src/main.rs --crate-name hello_world --crate-type bin -g --out-dir /Users/lukeschoen/code/rust_test/target --emit=dep-info,link -L dependency=/Users/lukeschoen/code/rust_test/target -L dependency=/Users/lukeschoen/code/rust_test/target/deps` (status=101)\n```\n\nIf I convert the above code snippet to use Structs instead of Tuple Structs (where elements of the struct actually have a name), the code compiles successfully:\n\n```\nfn main() {\n    try_tuple_structs();\n}\n\nstruct Color { \n  red: i32, \n  blue: i32, \n  green: i32\n}\n\nstruct PointInWater { \n  x: i32, \n  y: i32, \n  z: i32\n}\n\nfn try_tuple_structs() {\n  let black = Color { red :0, blue: 0, green: 0 };\n  let origin = PointInWater { x: 0, y: 0, z: 0 };\n}\n```\n\nNote: I did not include a comma after the last element in the above Structs, as I do not believe doing so is syntactically correct (even though the sample code of the Rust Docs (Nightly) Book [Chapter 2.8 Compound Data Types](http://doc.rust-lang.org/book/compound-data-types.html) does include a comma after the last element). \nShould the Rust compiler return an error or even just a warning when a comma is used after the last element in a Struct? At the moment the compiler doesn't seem to care whether it's included or not...\n\nIf you want to test the code snippets above, my code is shared in my [git commit here](https://github.com/ltfschoen/RustTest/commit/591449f7ebf6441f0d78c5609d0cb0bc5f0b17af)\n\nMy Rust Compiler and Cargo Versions setup are as follows:\n- `$ rustc --version\n  rustc 1.0.0-nightly (134e00be7 2015-02-09 19:01:37 +0000)`\n- `$ cargo --version\n  cargo 0.0.1-pre-nightly (9404539 2015-02-09 20:54:26 +0000)`\n", "closed_by": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/22236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/22236/timeline", "performed_via_github_app": null, "state_reason": "completed"}