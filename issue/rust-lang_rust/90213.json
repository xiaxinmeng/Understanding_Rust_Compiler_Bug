{"url": "https://api.github.com/repos/rust-lang/rust/issues/90213", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/90213/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/90213/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/90213/events", "html_url": "https://github.com/rust-lang/rust/issues/90213", "id": 1034241201, "node_id": "I_kwDOAAsO6M49pUSx", "number": 90213, "title": "ICE on nightly: `panicked at attempted .def_id() on invalid res`", "user": {"login": "nipzu", "id": 28843181, "node_id": "MDQ6VXNlcjI4ODQzMTgx", "avatar_url": "https://avatars.githubusercontent.com/u/28843181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nipzu", "html_url": "https://github.com/nipzu", "followers_url": "https://api.github.com/users/nipzu/followers", "following_url": "https://api.github.com/users/nipzu/following{/other_user}", "gists_url": "https://api.github.com/users/nipzu/gists{/gist_id}", "starred_url": "https://api.github.com/users/nipzu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nipzu/subscriptions", "organizations_url": "https://api.github.com/users/nipzu/orgs", "repos_url": "https://api.github.com/users/nipzu/repos", "events_url": "https://api.github.com/users/nipzu/events{/privacy}", "received_events_url": "https://api.github.com/users/nipzu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252628, "node_id": "MDU6TGFiZWwyNjIyNTI2Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-beta", "name": "regression-from-stable-to-beta", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to beta."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "JakobDegen", "id": 51179609, "node_id": "MDQ6VXNlcjUxMTc5NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/51179609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakobDegen", "html_url": "https://github.com/JakobDegen", "followers_url": "https://api.github.com/users/JakobDegen/followers", "following_url": "https://api.github.com/users/JakobDegen/following{/other_user}", "gists_url": "https://api.github.com/users/JakobDegen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakobDegen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakobDegen/subscriptions", "organizations_url": "https://api.github.com/users/JakobDegen/orgs", "repos_url": "https://api.github.com/users/JakobDegen/repos", "events_url": "https://api.github.com/users/JakobDegen/events{/privacy}", "received_events_url": "https://api.github.com/users/JakobDegen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JakobDegen", "id": 51179609, "node_id": "MDQ6VXNlcjUxMTc5NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/51179609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakobDegen", "html_url": "https://github.com/JakobDegen", "followers_url": "https://api.github.com/users/JakobDegen/followers", "following_url": "https://api.github.com/users/JakobDegen/following{/other_user}", "gists_url": "https://api.github.com/users/JakobDegen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakobDegen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakobDegen/subscriptions", "organizations_url": "https://api.github.com/users/JakobDegen/orgs", "repos_url": "https://api.github.com/users/JakobDegen/repos", "events_url": "https://api.github.com/users/JakobDegen/events{/privacy}", "received_events_url": "https://api.github.com/users/JakobDegen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-10-23T19:45:19Z", "updated_at": "2021-10-24T19:38:29Z", "closed_at": "2021-10-24T17:07:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for finding an Internal Compiler Error! \ud83e\uddca  If possible, try to provide\r\na minimal verifiable example. You can read \"Rust Bug Minimization Patterns\" for\r\nhow to create smaller examples.\r\n\r\nhttp://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/\r\n\r\n-->\r\n\r\n### Code\r\n\r\n[playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2021&gist=f0ba9250c100fde411fb1846642bdab8)\r\n\r\n```Rust\r\nstruct S;\r\n\r\nimpl S {\r\n    fn foo(_: Box<Option<S>>) {}\r\n    fn bar() {\r\n        Self::foo(None)\r\n    }\r\n}\r\n```\r\n\r\nOn stable the code produces the following error as expected:\r\n<details><summary><strong>Expected result</strong></summary>\r\n<p>\r\n\r\n```\r\n> cargo +stable c\r\nChecking rustc-ice v0.1.0 (E:\\Projects\\rust_ice)\r\nerror[E0308]: mismatched types\r\n --> src\\lib.rs:6:19\r\n  |\r\n6 |         Self::foo(None)\r\n  |                   ^^^^ expected struct `Box`, found enum `Option`\r\n  |\r\n  = note: expected struct `Box<Option<S>>`\r\n               found enum `Option<_>`\r\n  = note: for more on the distinction between the stack and the heap, read https://doc.rust-lang.org/book/ch15-01-box.html, https://doc.rust-lang.org/rust-by-example/std/box.html, and https://doc.rust-lang.org/std/boxed/index.html\r\nhelp: store this in the heap by calling `Box::new`\r\n  |\r\n6 |         Self::foo(Box::new(None))\r\n  |                   +++++++++    +\r\n\r\nFor more information about this error, try `rustc --explain E0308`.\r\nerror: could not compile `rustc-ice` due to previous error\r\n```\r\n</p>\r\n</details>\r\n\r\n### Meta\r\n<!--\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions.\r\n-->\r\n\r\n`rustc --version --verbose`:\r\n```\r\nbinary: rustc\r\ncommit-hash: 514b3877956dc594823106b66c164f8cdbc8b3da\r\ncommit-date: 2021-10-22\r\nhost: x86_64-pc-windows-msvc\r\nrelease: 1.58.0-nightly\r\nLLVM version: 13.0.0\r\n```\r\n\r\n### Error output\r\n\r\n```\r\n> rustc .\\src\\lib.rs --crate-type lib --edition 2021\r\nthread 'rustc' panicked at 'attempted .def_id() on invalid res: SelfTy(None, Some((DefId(0:5 ~ lib[fb89]::{impl#0}), false)))', /rustc/514b3877956dc594823106b66c164f8cdbc8b3da\\compiler\\rustc_hir\\src\\def.rs:538:32\r\n```\r\n\r\n<!--\r\nInclude a backtrace in the code block by setting `RUST_BACKTRACE=1` in your\r\nenvironment. E.g. `RUST_BACKTRACE=1 cargo build`.\r\n-->\r\n<details><summary><strong>Backtrace</strong></summary>\r\n<p>\r\n\r\n```\r\nstack backtrace:\r\n   0:     0x7ffd38008c0f - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4287336b592e4e30\r\n   1:     0x7ffd380328ca - core::fmt::write::h8a2c40ddb66ccc71\r\n   2:     0x7ffd37ffb5b8 - <std::io::IoSliceMut as core::fmt::Debug>::fmt::hd15f09e3fd3eac54\r\n   3:     0x7ffd3800c366 - std::panicking::take_hook::hf14c76592f73c762\r\n   4:     0x7ffd3800be4c - std::panicking::take_hook::hf14c76592f73c762\r\n   5:     0x7ffd385b47fe - rustc_target::abi::call::Reg::i32::h725bc73aaf6d2b9e\r\n   6:     0x7ffd3800cc79 - std::panicking::rust_panic_with_hook::hbc0e9c80ca88eac0\r\n   7:     0x7ffd3800c71b - rust_begin_unwind\r\n   8:     0x7ffd38009547 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4287336b592e4e30\r\n   9:     0x7ffd3800c679 - rust_begin_unwind\r\n  10:     0x7ffd38068de0 - core::panicking::panic_fmt::hc1b1ca620e7a2c9f\r\n  11:     0x7ffd3b0b7358 - rustc_typeck::expr_use_visitor::ExprUseVisitor::consume_body::hd16e0986a59097ad\r\n  12:     0x7ffd3aec4735 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::emit_coerce_suggestions::h52f710f2abb42311\r\n  13:     0x7ffd3aec7d73 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::demand_coerce_diag::h18560e5b118c4876\r\n  14:     0x7ffd3aee30a9 - rustc_typeck::check::fn_ctxt::_impl::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::structurally_resolved_type::h135aa7bd3ccaa1dc      \r\n  15:     0x7ffd3aebdc7b - rustc_typeck::check::callee::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_call::he819edd5620c5bb6\r\n  16:     0x7ffd3aebaef3 - rustc_typeck::check::callee::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_call::he819edd5620c5bb6\r\n  17:     0x7ffd3af1c0c9 - rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation::hce68c582f5dbfdba\r\n  18:     0x7ffd3aed3109 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast::had54e29c97b08ddf\r\n  19:     0x7ffd3aee7bbf - rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_block_no_value::h8b3cbf26ca4028ed\r\n  20:     0x7ffd3aed3109 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast::had54e29c97b08ddf\r\n  21:     0x7ffd3aed4078 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast::had54e29c97b08ddf\r\n  22:     0x7ffd3b0d17a1 - <rustc_typeck::variance::terms::TermsContext as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_foreign_item::h121e02c865985cfa\r\n  23:     0x7ffd3aff1ce8 - <rustc_typeck::constrained_generic_params::Parameter as core::fmt::Debug>::fmt::h3b34db69e1363b95\r\n  24:     0x7ffd3af6380c - rustc_typeck::check::provide::h247ea963b90ea55e\r\n  25:     0x7ffd3bbcf1f1 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  26:     0x7ffd3bc82aef - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  27:     0x7ffd3b00a7ee - <rustc_typeck::constrained_generic_params::Parameter as core::fmt::Debug>::fmt::h3b34db69e1363b95\r\n  28:     0x7ffd3af689c3 - <rustc_typeck::check::CheckItemTypesVisitor as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_item::h12e9a56710d7d8ed\r\n  29:     0x7ffd3badfa55 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  30:     0x7ffd3bc7aa6c - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  31:     0x7ffd3afcc83d - <rustc_typeck::outlives::explicit::ExplicitPredicatesMap as core::fmt::Debug>::fmt::h16bc6042ecec2d45\r\n  32:     0x7ffd3af8d785 - rustc_typeck::check_crate::h69fc07eebd326dcf\r\n  33:     0x7ffd38717eef - rustc_interface::passes::analysis::hdb6e2398d1c67959\r\n  34:     0x7ffd3bac8f41 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  35:     0x7ffd3bc70ef9 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  36:     0x7ffd3861d01a - <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt::h1c205b30aad4a3e6\r\n  37:     0x7ffd3861da6b - <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt::h1c205b30aad4a3e6\r\n  38:     0x7ffd385d2786 - rustc_driver::pretty::print_after_hir_lowering::hb7dd632ff4fb38d2\r\n  39:     0x7ffd3861eeb6 - <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt::h1c205b30aad4a3e6\r\n  40:     0x7ffd385d9c23 - <tracing_subscriber::util::TryInitError as core::fmt::Display>::fmt::h7aa873eeea16c083\r\n  41:     0x7ffd38648d48 - <rustc_driver::args::Error as core::fmt::Debug>::fmt::heb70c7870704ee76\r\n  42:     0x7ffd3801933c - std::sys::windows::thread::Thread::new::he49a5cdb1d3d1cfc\r\n  43:     0x7ffdce8a7034 - BaseThreadInitThunk\r\n  44:     0x7ffdcfc02651 - RtlUserThreadStart\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.58.0-nightly (514b38779 2021-10-22) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: --crate-type lib\r\n\r\nquery stack during panic:\r\n#0 [typeck] type-checking `<impl at .\\src\\lib.rs:3:1: 8:2>::bar`\r\n#1 [typeck_item_bodies] type-checking all item bodies\r\n#2 [analysis] running analysis passes on this crate\r\nend of query stack\r\nerror: internal compiler error: trimmed_def_paths constructed\r\n  |\r\n  = note: delayed at    0: std::backtrace::Backtrace::disabled\r\n             1: std::backtrace::Backtrace::force_capture\r\n             2: rustc_errors::Handler::delay_good_path_bug\r\n             3: <rustc_middle::ty::print::pretty::TraitRefPrintOnlyTraitName as core::fmt::Debug>::fmt\r\n             4: <rustc_span::def_id::LocalDefId as rustc_query_impl::profiling_support::SpecIntoSelfProfilingString>::spec_to_self_profile_string\r\n             5: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n             6: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n             7: rustc_middle::ty::print::pretty::RegionHighlightMode::highlighting_bound_region\r\n             8: rustc_middle::ty::print::pretty::<impl rustc_middle::ty::context::TyCtxt>::def_path_str\r\n             9: rustc_infer::infer::error_reporting::<impl rustc_infer::infer::InferCtxt>::report_region_errors\r\n            10: rustc_infer::infer::error_reporting::<impl rustc_infer::infer::InferCtxt>::report_and_explain_type_error\r\n            11: rustc_infer::infer::error_reporting::<impl rustc_infer::infer::InferCtxt>::note_type_err\r\n            12: rustc_infer::infer::error_reporting::<impl rustc_infer::infer::InferCtxt>::report_and_explain_type_error\r\n            13: rustc_infer::infer::InferCtxt::report_mismatched_types\r\n            14: rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::demand_coerce_diag\r\n            15: rustc_typeck::check::fn_ctxt::_impl::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::structurally_resolved_type\r\n            16: rustc_typeck::check::callee::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_call\r\n            17: rustc_typeck::check::callee::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_call\r\n            18: rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation\r\n            19: rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast\r\n            20: rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_block_no_value\r\n            21: rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast\r\n            22: rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast\r\n            23: <rustc_typeck::variance::terms::TermsContext as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_foreign_item\r\n            24: <rustc_typeck::constrained_generic_params::Parameter as core::fmt::Debug>::fmt\r\n            25: rustc_typeck::check::provide\r\n            26: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n            27: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n            28: <rustc_typeck::constrained_generic_params::Parameter as core::fmt::Debug>::fmt\r\n            29: <rustc_typeck::check::CheckItemTypesVisitor as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_item\r\n            30: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n            31: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n            32: <rustc_typeck::outlives::explicit::ExplicitPredicatesMap as core::fmt::Debug>::fmt\r\n            33: rustc_typeck::check_crate\r\n            34: rustc_interface::passes::analysis\r\n            35: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n            36: <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt\r\n            37: <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt\r\n            38: <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt\r\n            39: rustc_driver::pretty::print_after_hir_lowering\r\n            40: <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt\r\n            41: <tracing_subscriber::util::TryInitError as core::fmt::Display>::fmt\r\n            42: <rustc_driver::args::Error as core::fmt::Debug>::fmt\r\n            43: std::sys::windows::thread::Thread::new\r\n            44: BaseThreadInitThunk\r\n            45: RtlUserThreadStart\r\n\r\n\r\nthread 'rustc' panicked at 'no warnings or errors encountered even though `delayed_good_path_bugs` issued', compiler\\rustc_errors\\src\\lib.rs:1166:13\r\nstack backtrace:\r\n   0:     0x7ffd38008c0f - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4287336b592e4e30\r\n   1:     0x7ffd380328ca - core::fmt::write::h8a2c40ddb66ccc71\r\n   2:     0x7ffd37ffb5b8 - <std::io::IoSliceMut as core::fmt::Debug>::fmt::hd15f09e3fd3eac54\r\n   3:     0x7ffd3800c366 - std::panicking::take_hook::hf14c76592f73c762\r\n   4:     0x7ffd3800be4c - std::panicking::take_hook::hf14c76592f73c762\r\n   5:     0x7ffd385b47fe - rustc_target::abi::call::Reg::i32::h725bc73aaf6d2b9e\r\n   6:     0x7ffd3800cc79 - std::panicking::rust_panic_with_hook::hbc0e9c80ca88eac0\r\n   7:     0x7ffd3800c71b - rust_begin_unwind\r\n   8:     0x7ffd38009547 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4287336b592e4e30\r\n   9:     0x7ffd3800c679 - rust_begin_unwind\r\n  10:     0x7ffd38068de0 - core::panicking::panic_fmt::hc1b1ca620e7a2c9f\r\n  11:     0x7ffd3cdc4817 - <rustc_errors::registry::InvalidErrorCode as core::fmt::Debug>::fmt::habc00740dca1d786\r\n  12:     0x7ffd3cdc9768 - rustc_errors::HandlerInner::delay_as_bug::hc436ffe89340a533\r\n  13:     0x7ffd3cdc545e - <rustc_errors::HandlerInner as core::ops::drop::Drop>::drop::h9bea109db35ed3b5\r\n  14:     0x7ffd38651ec4 - <rustc_driver::args::Error as core::fmt::Debug>::fmt::heb70c7870704ee76\r\n  15:     0x7ffd38659f77 - <rustc_driver::args::Error as core::fmt::Debug>::fmt::heb70c7870704ee76\r\n  16:     0x7ffd385d600d - <tracing_subscriber::util::TryInitError as core::fmt::Display>::fmt::h7aa873eeea16c083\r\n  17:     0x7ffd385d309e - rustc_driver::pretty::print_after_hir_lowering::hb7dd632ff4fb38d2\r\n  18:     0x7ffd3cf79540 - _rust_alloc_zeroed\r\n  19:     0x7ffd3cf7898e - _rust_alloc_zeroed\r\n  20:     0x7ffd3cf74564 - _rust_alloc_zeroed\r\n  21:     0x7ffd3cf77cf5 - _rust_alloc_zeroed\r\n  22:     0x7ffd3cf74e7d - _rust_alloc_zeroed\r\n  23:     0x7ffdcfc5214f - _chkstk\r\n  24:     0x7ffdcfbe0939 - RtlUnwindEx\r\n  25:     0x7ffd3cf74a2e - _rust_alloc_zeroed\r\n  26:     0x7ffd3cf769a1 - _rust_alloc_zeroed\r\n  27:     0x7ffd3cf76db7 - _rust_alloc_zeroed\r\n  28:     0x7ffd3cf77df1 - _rust_alloc_zeroed\r\n  29:     0x7ffd3cf74e7d - _rust_alloc_zeroed\r\n  30:     0x7ffdcfc520cf - _chkstk\r\n  31:     0x7ffdcfc01454 - RtlRaiseException\r\n  32:     0x7ffdcfc011a5 - RtlRaiseException\r\n  33:     0x7ffdcd304f99 - RaiseException\r\n  34:     0x7ffd38059e08 - _udivmodti4\r\n  35:     0x7ffd3801da2e - _rust_start_panic\r\n  36:     0x7ffd3800cf1b - rust_panic\r\n  37:     0x7ffd3800cceb - std::panicking::rust_panic_with_hook::hbc0e9c80ca88eac0\r\n  38:     0x7ffd3800c71b - rust_begin_unwind\r\n  39:     0x7ffd38009547 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h4287336b592e4e30\r\n  40:     0x7ffd3800c679 - rust_begin_unwind\r\n  41:     0x7ffd38068de0 - core::panicking::panic_fmt::hc1b1ca620e7a2c9f\r\n  42:     0x7ffd3b0b7358 - rustc_typeck::expr_use_visitor::ExprUseVisitor::consume_body::hd16e0986a59097ad\r\n  43:     0x7ffd3aec4735 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::emit_coerce_suggestions::h52f710f2abb42311\r\n  44:     0x7ffd3aec7d73 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::demand_coerce_diag::h18560e5b118c4876\r\n  45:     0x7ffd3aee30a9 - rustc_typeck::check::fn_ctxt::_impl::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::structurally_resolved_type::h135aa7bd3ccaa1dc      \r\n  46:     0x7ffd3aebdc7b - rustc_typeck::check::callee::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_call::he819edd5620c5bb6\r\n  47:     0x7ffd3aebaef3 - rustc_typeck::check::callee::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_call::he819edd5620c5bb6\r\n  48:     0x7ffd3af1c0c9 - rustc_typeck::check::expr::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_expr_with_expectation::hce68c582f5dbfdba\r\n  49:     0x7ffd3aed3109 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast::had54e29c97b08ddf\r\n  50:     0x7ffd3aee7bbf - rustc_typeck::check::fn_ctxt::checks::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_block_no_value::h8b3cbf26ca4028ed\r\n  51:     0x7ffd3aed3109 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast::had54e29c97b08ddf\r\n  52:     0x7ffd3aed4078 - rustc_typeck::check::demand::<impl rustc_typeck::check::fn_ctxt::FnCtxt>::check_for_cast::had54e29c97b08ddf\r\n  53:     0x7ffd3b0d17a1 - <rustc_typeck::variance::terms::TermsContext as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_foreign_item::h121e02c865985cfa    \r\n  54:     0x7ffd3aff1ce8 - <rustc_typeck::constrained_generic_params::Parameter as core::fmt::Debug>::fmt::h3b34db69e1363b95\r\n  55:     0x7ffd3af6380c - rustc_typeck::check::provide::h247ea963b90ea55e\r\n  56:     0x7ffd3bbcf1f1 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  57:     0x7ffd3bc82aef - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  58:     0x7ffd3b00a7ee - <rustc_typeck::constrained_generic_params::Parameter as core::fmt::Debug>::fmt::h3b34db69e1363b95\r\n  59:     0x7ffd3af689c3 - <rustc_typeck::check::CheckItemTypesVisitor as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_item::h12e9a56710d7d8ed\r\n  60:     0x7ffd3badfa55 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  61:     0x7ffd3bc7aa6c - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  62:     0x7ffd3afcc83d - <rustc_typeck::outlives::explicit::ExplicitPredicatesMap as core::fmt::Debug>::fmt::h16bc6042ecec2d45\r\n  63:     0x7ffd3af8d785 - rustc_typeck::check_crate::h69fc07eebd326dcf\r\n  64:     0x7ffd38717eef - rustc_interface::passes::analysis::hdb6e2398d1c67959\r\n  65:     0x7ffd3bac8f41 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  66:     0x7ffd3bc70ef9 - <rustc_mir_dataflow::framework::cursor::CursorPosition as core::fmt::Debug>::fmt::he5db3fb64b64748a\r\n  67:     0x7ffd3861d01a - <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt::h1c205b30aad4a3e6\r\n  68:     0x7ffd3861da6b - <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt::h1c205b30aad4a3e6\r\n  69:     0x7ffd385d2786 - rustc_driver::pretty::print_after_hir_lowering::hb7dd632ff4fb38d2\r\n  70:     0x7ffd3861eeb6 - <rustc_middle::ty::SymbolName as core::fmt::Debug>::fmt::h1c205b30aad4a3e6\r\n  71:     0x7ffd385d9c23 - <tracing_subscriber::util::TryInitError as core::fmt::Display>::fmt::h7aa873eeea16c083\r\n  72:     0x7ffd38648d48 - <rustc_driver::args::Error as core::fmt::Debug>::fmt::heb70c7870704ee76\r\n  73:     0x7ffd3801933c - std::sys::windows::thread::Thread::new::he49a5cdb1d3d1cfc\r\n  74:     0x7ffdce8a7034 - BaseThreadInitThunk\r\n  75:     0x7ffdcfc02651 - RtlUserThreadStart\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.58.0-nightly (514b38779 2021-10-22) running on x86_64-pc-windows-msvc\r\n\r\nnote: compiler flags: --crate-type lib\r\n\r\nquery stack during panic:\r\nend of query stack\r\nthread panicked while panicking. aborting.\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n### cargo-bisect\r\n\r\nsearched nightlies: from nightly-2021-10-04 to nightly-2021-10-23\r\nregressed nightly: nightly-2021-10-16\r\nsearched commit range: https://github.com/rust-lang/rust/compare/e1e9319d93aea755c444c8f8ff863b0936d7a4b6...c1026539bd22e9d070988deaa47b1360cbc76436\r\nregressed commit: https://github.com/rust-lang/rust/commit/72d66064e77281536588189a916af28a1819b313\r\n\r\n<details>\r\n<summary>bisected with <a href='https://github.com/rust-lang/cargo-bisect-rustc'>cargo-bisect-rustc</a> v0.6.1</summary>\r\n\r\n\r\nHost triple: x86_64-pc-windows-msvc\r\nReproduce with:\r\n```bash\r\ncargo bisect-rustc --start 2021-10-04 --regress ice\r\n```\r\n</details>\r\n\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"JakobDegen\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/90213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/90213/timeline", "performed_via_github_app": null, "state_reason": "completed"}