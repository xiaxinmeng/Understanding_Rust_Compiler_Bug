{"url": "https://api.github.com/repos/rust-lang/rust/issues/49567", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/49567/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/49567/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/49567/events", "html_url": "https://github.com/rust-lang/rust/issues/49567", "id": 310349638, "node_id": "MDU6SXNzdWUzMTAzNDk2Mzg=", "number": 49567, "title": "Clarify internal programming style", "user": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-01T20:01:40Z", "updated_at": "2018-10-30T20:34:36Z", "closed_at": "2018-10-30T20:34:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Every so often someone will submit a pull request that is the result of running `rustfmt` on a particular file, or set of files (examples: https://github.com/rust-lang/rust/pull/49360, https://github.com/rust-lang/rust/pull/38567, https://github.com/rust-lang/rust/pull/30684).\r\n\r\nPresumably we want to encourage fixing mistakes in the code style, though at the moment `rustfmt` can produce undesirable changes (e.g. see the comments in https://github.com/rust-lang/rust/pull/37349). Without guidelines, these can either be merged directly, or it left up to the individual reviewer to decide which changes are preferred.\r\n\r\nIt seems to me it would be better to do one of two things:\r\n- Add `rustfmt` to `tidy` and ensure code always adheres to one style.\r\n- Explicate style guidelines, and then only allow PRs fixing mistakes that haven't been spotted from earlier changes (for example, if `rustfmt` is too strict or not good enough). I.e. not changing style choices that were the original intention of the author if they're not specified by the style guide.\r\n\r\nAt the moment, I think style changes are being made, through blind use of `rustfmt`, that leave the code in a worse state than before. I think it'd be preferable if we could avoid this; does anyone else have thoughts?", "closed_by": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/49567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/49567/timeline", "performed_via_github_app": null, "state_reason": "completed"}