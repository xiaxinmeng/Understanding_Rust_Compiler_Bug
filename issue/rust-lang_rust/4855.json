{"url": "https://api.github.com/repos/rust-lang/rust/issues/4855", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/4855/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/4855/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/4855/events", "html_url": "https://github.com/rust-lang/rust/issues/4855", "id": 10804064, "node_id": "MDU6SXNzdWUxMDgwNDA2NA==", "number": 4855, "title": "ICE trying to borrow invalid borrowed-pointer subscript", "user": {"login": "ben0x539", "id": 24142, "node_id": "MDQ6VXNlcjI0MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben0x539", "html_url": "https://github.com/ben0x539", "followers_url": "https://api.github.com/users/ben0x539/followers", "following_url": "https://api.github.com/users/ben0x539/following{/other_user}", "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions", "organizations_url": "https://api.github.com/users/ben0x539/orgs", "repos_url": "https://api.github.com/users/ben0x539/repos", "events_url": "https://api.github.com/users/ben0x539/events{/privacy}", "received_events_url": "https://api.github.com/users/ben0x539/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1775993, "node_id": "MDU6TGFiZWwxNzc1OTkz", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lifetimes", "name": "A-lifetimes", "color": "f7e101", "default": false, "description": "Area: lifetime related"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/9", "html_url": "https://github.com/rust-lang/rust/milestone/9", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/9/labels", "id": 194126, "node_id": "MDk6TWlsZXN0b25lMTk0MTI2", "number": 9, "title": "0.6", "description": "", "creator": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 203, "state": "closed", "created_at": "2012-10-11T18:15:24Z", "updated_at": "2015-01-21T01:43:22Z", "due_on": "2013-03-25T07:00:00Z", "closed_at": "2013-04-02T18:27:52Z"}, "comments": 2, "created_at": "2013-02-09T01:42:09Z", "updated_at": "2013-03-22T21:43:29Z", "closed_at": "2013-03-22T21:43:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This ICEs with 'ty_region() invoked on in appropriate ty: ty_bot' from librustc/middle/ty.rs:2860\n\n```\nfn f() {\n    &(&())[0];\n}\n```\n\nFull output from `RUST_LOG=rustc=1,::rt::backtrace rustc foo.rs`:\n\n```\nfoo.rs:2:5: 2:12 error: cannot index a value of type `()`\nfoo.rs:2     &(&())[0];\n              ^~~~~~~\nrust: task failed at 'ty_region() invoked on in appropriate ty: ty_bot', <core-macros>:15\n/home/ben/local/lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4b)[0x7f27e98df45b]\n/home/ben/local/lib/librustrt.so(+0x2a319)[0x7f27e98f0319]\n/home/ben/local/lib/librustrt.so(upcall_fail+0x180)[0x7f27e98e1260]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0xede2b)[0x7f27eb2e9e2b]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0xeddd2)[0x7f27eb2e9dd2]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(_ZN3sys12begin_unwind17_7cd364c41f10422f3_06E+0x71)[0x7f27eb23f7c1]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle2ty9ty_region16_ec2ac5e61988ff53_06E+0x3a3)[0x7f27e9e800f3]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x447da7)[0x7f27e9f65da7]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check8regionck9guarantor11for_addr_of16_865e35391e563703_06E+0x1b8)[0x7f27e9f63bf8]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check8regionck10visit_expr15_ffa67acb0e7eb83_06E+0x3c2)[0x7f27e9f61ea2]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x2008fd)[0x7f27e9d1e8fd]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x1f36da)[0x7f27e9d116da]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check8regionck11regionck_fn17_c357d3bfb73ebbe63_06E+0x84)[0x7f27e9f5e264]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check8check_fn17_fa3ed2169ed2cb4e3_06E+0x27fb)[0x7f27e9f85f6b]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check13check_bare_fn17_f976929db7b153b03_06E+0x109)[0x7f27e9f83659]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check10check_item17_3d814abd76fd2c443_06E+0x302)[0x7f27e9f81f12]\n/home/ben/local/lib/libsyntax-84efebcb12c867a2-0.6.so(+0xc4295)[0x7f27ea88d295]\n/home/ben/local/lib/libsyntax-84efebcb12c867a2-0.6.so(+0xc3ef4)[0x7f27ea88cef4]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck5check16check_item_types17_d9a38036e15a3aa13_06E+0x437)[0x7f27e9f81997]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6middle6typeck11check_crate17_9af8cefe15f38e113_06E+0x15d)[0x7f27ea0b9d9d]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x83f634)[0x7f27ea35d634]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6driver6driver12compile_upto17_9cca91efebe42f243_06E+0x14a9)[0x7f27ea31c449]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x83f634)[0x7f27ea35d634]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN6driver6driver13compile_input16_bc3c374899a11ac3_06E+0xb9)[0x7f27ea320f09]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN12run_compiler17_269863f0a1b14e743_06E+0x2308)[0x7f27ea34c118]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x83c6e6)[0x7f27ea35a6e6]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x83909c)[0x7f27ea35709c]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x83f634)[0x7f27ea35d634]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0xbf5b4)[0x7f27eb2bb5b4]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0x11c390)[0x7f27eb318390]\n/home/ben/local/lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f27e98dfcc4]\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug\nnote: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues\nrust: task failed at 'explicit failure', <core-macros>:15\n/home/ben/local/lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4b)[0x7f27e98df45b]\n/home/ben/local/lib/librustrt.so(+0x2a319)[0x7f27e98f0319]\n/home/ben/local/lib/librustrt.so(upcall_fail+0x180)[0x7f27e98e1260]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0xede2b)[0x7f27eb2e9e2b]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0xeddd2)[0x7f27eb2e9dd2]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(_ZN3sys12begin_unwind17_7cd364c41f10422f3_06E+0x71)[0x7f27eb23f7c1]\n/home/ben/local/lib/libcore-c3ca5d77d81b46c1-0.6.so(+0x11c390)[0x7f27eb318390]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN7monitor17_7f512e86f4d8c0183_06E+0x288b)[0x7f27ea34f29b]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(+0x83f634)[0x7f27ea35d634]\n/home/ben/local/lib/librustc-c84825241471686d-0.6.so(_ZN4main16_706f4ee7413ae583_06E+0x7e)[0x7f27ea35d21e]\n/home/ben/local/lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f27e98dfcc4]\nrust: domain main @0xf733b0 root task failed\n```\n\nSorry for making the poor compiler throw up with my bad code. :(\n", "closed_by": {"login": "ben0x539", "id": 24142, "node_id": "MDQ6VXNlcjI0MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben0x539", "html_url": "https://github.com/ben0x539", "followers_url": "https://api.github.com/users/ben0x539/followers", "following_url": "https://api.github.com/users/ben0x539/following{/other_user}", "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions", "organizations_url": "https://api.github.com/users/ben0x539/orgs", "repos_url": "https://api.github.com/users/ben0x539/repos", "events_url": "https://api.github.com/users/ben0x539/events{/privacy}", "received_events_url": "https://api.github.com/users/ben0x539/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/4855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/4855/timeline", "performed_via_github_app": null, "state_reason": "completed"}