{"url": "https://api.github.com/repos/rust-lang/rust/issues/20575", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20575/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20575/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20575/events", "html_url": "https://github.com/rust-lang/rust/issues/20575", "id": 53401527, "node_id": "MDU6SXNzdWU1MzQwMTUyNw==", "number": 20575, "title": "LLVM assertion: assertion failed: index < LLVMCountParams(llfn)", "user": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 122406831, "node_id": "MDU6TGFiZWwxMjI0MDY4MzE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-closures", "name": "A-closures", "color": "f7e101", "default": false, "description": "Area: closures (`|args| { .. }`)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-01-05T14:34:41Z", "updated_at": "2015-01-16T06:03:09Z", "closed_at": "2015-01-16T06:03:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### STR\n\n``` rust\n// reduced version of `test_collect` in src/coretest/{option,result}.rs\n\nfn main() {\n    let functions: [Box<Fn() -> Option<()>>; 1] = [box || None];\n\n    let _: Option<Vec<()>> = functions.iter().map(|f| (*f)()).collect();\n}\n```\n### Backtrace\n\n``` rust\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'assertion failed: index < LLVMCountParams(llfn)', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/librustc_llvm/lib.rs:2180\n\nstack backtrace:\n   1:     0x7fc7bb7bd920 - sys::backtrace::write::h36422e877a8b3158yQs\n   2:     0x7fc7bb7e3650 - failure::on_fail::hde5005d61795902da3y\n   3:     0x7fc7bb7494a0 - rt::unwind::begin_unwind_inner::ha0668a3a9d73b9a7RHy\n   4:     0x7fc7b74729d0 - rt::unwind::begin_unwind::h14477328803464112959\n   5:     0x7fc7b74738c0 - get_param::hc2a602389748493aHZc\n   6:     0x7fc7ba71e3e0 - trans::meth::trans_object_shim::h5f4a45036c920561jBz\n   7:     0x7fc7ba624420 - trans::meth::trans_method_callee::h5b6017c8ff0cdabeq6y\n   8:     0x7fc7ba68de30 - trans::callee::trans_call_inner::h9570217261815687510\n   9:     0x7fc7ba6547f0 - trans::expr::trans_rvalue_dps_unadjusted::he4bc827113312f77JWi\n  10:     0x7fc7ba60d640 - trans::expr::trans_into::hc0349db49beb27737xh\n  11:     0x7fc7ba60ddd0 - trans::controlflow::trans_block::h174785cd924262f8S1d\n  12:     0x7fc7ba6d90a0 - trans::base::trans_closure::hfe41dcc40403de39MSt\n  13:     0x7fc7ba6547f0 - trans::expr::trans_rvalue_dps_unadjusted::he4bc827113312f77JWi\n  14:     0x7fc7ba653630 - trans::expr::trans_unadjusted::h92a64e3d533ab991qki\n  15:     0x7fc7ba60e940 - trans::expr::trans::h6c51adc6031aa4b0BBh\n  16:     0x7fc7ba61d0f0 - trans::callee::trans_args::h1c22cd35a1fbcd555bh\n  17:     0x7fc7ba650d40 - trans::callee::trans_call_inner::h526206399124275916\n  18:     0x7fc7ba6547f0 - trans::expr::trans_rvalue_dps_unadjusted::he4bc827113312f77JWi\n  19:     0x7fc7ba653630 - trans::expr::trans_unadjusted::h92a64e3d533ab991qki\n  20:     0x7fc7ba60e940 - trans::expr::trans::h6c51adc6031aa4b0BBh\n  21:     0x7fc7ba61d0f0 - trans::callee::trans_args::h1c22cd35a1fbcd555bh\n  22:     0x7fc7ba650d40 - trans::callee::trans_call_inner::h526206399124275916\n  23:     0x7fc7ba6547f0 - trans::expr::trans_rvalue_dps_unadjusted::he4bc827113312f77JWi\n  24:     0x7fc7ba653630 - trans::expr::trans_unadjusted::h92a64e3d533ab991qki\n  25:     0x7fc7ba60e940 - trans::expr::trans::h6c51adc6031aa4b0BBh\n  26:     0x7fc7ba60cc40 - trans::base::init_local::h47b20c6d8c11ad44V1s\n  27:     0x7fc7ba60ddd0 - trans::controlflow::trans_block::h174785cd924262f8S1d\n  28:     0x7fc7ba6d90a0 - trans::base::trans_closure::hfe41dcc40403de39MSt\n  29:     0x7fc7ba5f9040 - trans::base::trans_fn::h6d916c16d129710bj3t\n  30:     0x7fc7ba5f4240 - trans::base::trans_item::h2031a94ddea1dc4daqu\n  31:     0x7fc7ba6e1b50 - trans::base::trans_crate::ha120df8a851d469bvlv\n  32:     0x7fc7bbd0d210 - driver::phase_4_translate_to_llvm::ha02a86bcc78503d8uFa\n  33:     0x7fc7bbcecaa0 - driver::compile_input::h8d0abf631800220evba\n  34:     0x7fc7bbdb8070 - thunk::F.Invoke<A, R>::invoke::h13263903969514368718\n  35:     0x7fc7bbdb6e20 - rt::unwind::try::try_fn::h2272437873322108176\n  36:     0x7fc7bb8478b0 - rust_try_inner\n  37:     0x7fc7bb8478a0 - rust_try\n  38:     0x7fc7bbdb7170 - thunk::F.Invoke<A, R>::invoke::h17236552692728063371\n  39:     0x7fc7bb7cf490 - sys::thread::thread_start::hd19c7749b7af23e8EGv\n  40:     0x7fc7b5e47250 - start_thread\n  41:     0x7fc7bb404219 - clone\n  42:                0x0 - <unknown>\n```\n### Version\n\n```\nrustc 0.13.0-nightly (ad9e75938 2015-01-05 00:26:28 +0000)\n```\n\ncc @nikomatsakis \n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20575/timeline", "performed_via_github_app": null, "state_reason": "completed"}