{"url": "https://api.github.com/repos/rust-lang/rust/issues/24539", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24539/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24539/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24539/events", "html_url": "https://github.com/rust-lang/rust/issues/24539", "id": 69220316, "node_id": "MDU6SXNzdWU2OTIyMDMxNg==", "number": 24539, "title": "Panic on list items containing inline code blocks", "user": {"login": "jorisgio", "id": 1108145, "node_id": "MDQ6VXNlcjExMDgxNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1108145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorisgio", "html_url": "https://github.com/jorisgio", "followers_url": "https://api.github.com/users/jorisgio/followers", "following_url": "https://api.github.com/users/jorisgio/following{/other_user}", "gists_url": "https://api.github.com/users/jorisgio/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorisgio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorisgio/subscriptions", "organizations_url": "https://api.github.com/users/jorisgio/orgs", "repos_url": "https://api.github.com/users/jorisgio/repos", "events_url": "https://api.github.com/users/jorisgio/events{/privacy}", "received_events_url": "https://api.github.com/users/jorisgio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-17T21:25:13Z", "updated_at": "2016-03-08T15:55:25Z", "closed_at": "2016-03-08T15:55:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "rustdoc panic in certain combinations of inline code blocks, list items and headlines : \n\nthis works : \n\n```\n//!     - `test`\n```\n\nthis works too : \n\n```\n//! # Overview \n//!     - `test`\n```\n\nBut this fails :  \n\n```\n//! # Overview\n//!\n//!    - ` test`\n```\n\nwith the following error : \n\n```\n<stdin>:1:3: 1:4 error: unknown start of token: `\n<stdin>:1 - `test`\n            ^\nthread '<unnamed>' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libsyntax/parse/lexer/mod.rs:184\nthread '<main>' panicked at 'called `Result::unwrap()` on an \n```\n\nbacktrace :\n\n```\nstack backtrace:\n   1:     0x7f6c23a25939 - sys::backtrace::write::h479a8ad00fbfddd90Us\n   2:     0x7f6c23a2d918 - panicking::on_panic::h5028078e4ae51e97fix\n   3:     0x7f6c239eb682 - rt::unwind::begin_unwind_inner::hd4dec672e7375653pXw\n   4:     0x7f6c213625ed - rt::unwind::begin_unwind::h389727515196150120\n   5:     0x7f6c2141c445 - parse::lexer::StringReader<'a>::fatal_span::h6f198e45ef7825caMIN\n   6:     0x7f6c2141eefd - parse::lexer::StringReader<'a>::fatal_span_char::h50230fe90eafded9oKN\n   7:     0x7f6c21419493 - parse::lexer::StringReader<'a>::advance_token::hb4cd73d83e85192bmNN\n   8:     0x7f6c21417d7e - parse::lexer::StringReader<'a>.Reader::next_token::hce70e69372b967c1cCN\n   9:     0x7f6c2401c802 - html::highlight::highlight::h4de69d3743a51126aVj\n  10:     0x7f6c24032b66 - html::markdown::render::block::h82612f4123cd4429Bmm\n  11:     0x7f6c2416db3d - parse_block\n                        at /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/rt/hoedown/src/document.c:1745\n                        at /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/rt/hoedown/src/document.c:2400\n                        at /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/rt/hoedown/src/document.c:2354\n  12:     0x7f6c2416fe56 - hoedown_document_render\n                        at /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/rt/hoedown/src/document.c\n:2802\n  13:     0x7f6c24031a5d - html::markdown::render::h54451570ba64cddalmm\n  14:     0x7f6c2403a030 - html::markdown::Markdown<'a>.fmt..Display::fmt::h14a6a1448f1ca5719Pm\n  15:     0x7f6c23a922b0 - fmt::write::h725b13cc543cb1131FN\n  16:     0x7f6c23a8c851 - fmt::Formatter<'a>::write_fmt::h89b7141692180be4tWN\n  17:     0x7f6c24076478 - html::render::document::hb92e21fb1283eb402cp\n  18:     0x7f6c24071594 - html::render::Item<'a>.fmt..Display::fmt::h624519293bd64316jVo\n  19:     0x7f6c23a92211 - fmt::write::h725b13cc543cb1131FN\n  20:     0x7f6c2405ed96 - io::Write::write_fmt::h2029946465966684158\n  21:     0x7f6c2406dc61 - html::render::Context::item::render::h3c786309288297a9qwo\n  22:     0x7f6c24068ae1 - html::render::Context::recurse::h7309834789769284986\n  23:     0x7f6c24045a23 - html::render::run::h1fc72b998f61687bvan\n  24:     0x7f6c240c9035 - main_args::h7ab54dee6157b3a5fPt\n  25:     0x7f6c240c49f0 - boxed::F.FnBox<A>::call_box::h6206483487655731891\n  26:     0x7f6c240c39f9 - rt::unwind::try::try_fn::h14506545780071665698\n  27:     0x7f6c23aa4e78 - rust_try_inner\n  28:     0x7f6c23aa4e65 - rust_try\n  29:     0x7f6c240c3cc5 - boxed::F.FnBox<A>::call_box::h1066950650817129193\n  30:     0x7f6c23a2c4e1 - sys::thread::create::thread_start::h09b6c8d6cadbe2b5wgw\n  31:     0x7f6c1de71373 - start_thread\n  32:     0x7f6c2367427c - clone\n  33:                0x0 - <unknown>\nthread '<main>' panicked at 'called `Result::unwrap()` on an `Err` value: Any', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/result.rs:750\nstack backtrace:\n   1:     0x7f6c23a25939 - sys::backtrace::write::h479a8ad00fbfddd90Us\n   2:     0x7f6c23a2d918 - panicking::on_panic::h5028078e4ae51e97fix\n   3:     0x7f6c239eb682 - rt::unwind::begin_unwind_inner::hd4dec672e7375653pXw\n   4:     0x7f6c239eb94c - rt::unwind::begin_unwind_fmt::he10562f3655cff5f3Vw\n   5:     0x7f6c23a2d1d6 - rust_begin_unwind\n   6:     0x7f6c23a7ed94 - panicking::panic_fmt::h0077c224f0419f55USC\n   7:     0x7f6c240c3605 - main::hfe0e2a1069fe72452Kt\n   8:     0x7f6c23aa4e78 - rust_try_inner\n   9:     0x7f6c23aa4e65 - rust_try\n  10:     0x7f6c23a2f13b - rt::lang_start::h67a4b8e9e9c38485Kcx\n  11:     0x7f6c235ac7ff - __libc_start_main\n  12:     0x7f6c24746738 - <unknown>\n```\n\non `rustdoc 1.0.0-nightly (a52182ffd 2015-04-17) (built 2015-04-17)`, running on linux\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24539/timeline", "performed_via_github_app": null, "state_reason": "completed"}