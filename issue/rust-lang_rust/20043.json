{"url": "https://api.github.com/repos/rust-lang/rust/issues/20043", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20043/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20043/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20043/events", "html_url": "https://github.com/rust-lang/rust/issues/20043", "id": 52525812, "node_id": "MDU6SXNzdWU1MjUyNTgxMg==", "number": 20043, "title": "[ICE] \"ty_size: unhandled type\" when using a SIMD type in FFI", "user": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 45472092, "node_id": "MDU6TGFiZWw0NTQ3MjA5Mg==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-ffi", "name": "A-ffi", "color": "f7e101", "default": false, "description": "Area: Foreign Function Interface (FFI)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-19T20:36:10Z", "updated_at": "2015-01-17T13:01:52Z", "closed_at": "2015-01-17T13:01:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Example code\n\n``` rust\n#![allow(dead_code)]\nuse std::simd::u64x2;\nextern {\n    fn foo(a: u64x2);\n}\nfn main() {}\n```\n\nThis fails with:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' panicked at 'ty_size: unhandled type', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/librustc_trans/trans/cabi_x86_64.rs:146\n\nstack backtrace:\n   1:        0x104bd5130 - rt::backtrace::imp::write::h6bfacabc152a107af1x\n   2:        0x104bd8721 - failure::on_fail::h004240af5c8bff3bWny\n   3:        0x104e3ff55 - unwind::begin_unwind_inner::h2bc1d2ba239d03629Ec\n   4:        0x101b6b22c - unwind::begin_unwind::h13950834142134723930\n   5:        0x101cbcd0b - trans::cabi_x86_64::classify_ty::ty_size::hbc87c34bce054a64VNA\n   6:        0x101cbc8f5 - trans::cabi_x86_64::classify_ty::h08570c25d40b0525vLA\n   7:        0x101cba72f - trans::cabi::compute_abi_info::h195a5df35ad95172bwA\n   8:        0x101cbe329 - trans::foreign::foreign_types_for_fn_ty::hd2c1e54723b16f79lMC\n   9:        0x101c5901f - trans::foreign::register_foreign_item_fn::hb781bfb3ebdf946fsDB\n  10:        0x101ba73c5 - trans::base::trans_item::heb324ea32fa423578Eu\n  11:        0x101c6abb8 - trans::base::trans_crate::hba3b16755eb22180jBv\n  12:        0x101406eae - driver::phase_4_translate_to_llvm::h9c2fab499036a1b9XCa\n  13:        0x1013e0c58 - driver::compile_input::h8cefb00def448166rba\n  14:        0x1015652c5 - run_compiler::hdf31023103b0c737AYb\n  15:        0x10155b0dd - thunk::F.Invoke<A, R>::invoke::h6761157341938668982\n  16:        0x104bade59 - thunk::F.Invoke<A, R>::invoke::h16129900982312133975\n  17:        0x104e3e5c9 - task::Task::spawn_thunk::closure.5620\n  18:        0x104ea72fc - rust_try_inner\n  19:        0x104ea72e6 - rust_try\n  20:        0x104e3e6b7 - unwind::try::h956380dd3aadd40dquc\n  21:        0x104e3e45c - task::Task::run::h0dabcd2eaf1030d1oLb\n  22:        0x104e3ddf4 - thunk::F.Invoke<A, R>::invoke::h356599560990785622\n  23:        0x104e3f514 - thread::thread_start::h1abd83bbbd15cd00I2b\n  24:     0x7fff87a8f2fc - _pthread_body\n  25:     0x7fff87a8f279 - _pthread_body\n```\n\n``` bash\n$ rustc -v\nrustc 0.13.0-nightly (42deaa5e4 2014-12-16 17:51:23 +0000)\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20043/timeline", "performed_via_github_app": null, "state_reason": "completed"}