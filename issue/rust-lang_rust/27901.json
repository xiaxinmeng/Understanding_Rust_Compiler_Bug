{"url": "https://api.github.com/repos/rust-lang/rust/issues/27901", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27901/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27901/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27901/events", "html_url": "https://github.com/rust-lang/rust/issues/27901", "id": 101953095, "node_id": "MDU6SXNzdWUxMDE5NTMwOTU=", "number": 27901, "title": "assertion failed: !projection_ty.has_escaping_regions() from astconv", "user": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}], "state": "closed", "locked": false, "assignee": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2015-08-19T17:32:52Z", "updated_at": "2017-03-04T05:13:39Z", "closed_at": "2017-03-04T05:13:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## STR\n\n``` Rust\ntrait Stream { type Item; }\nimpl<'a> Stream for &'a str { type Item = char; }\nfn f<'s>(_: &'s str) -> (&'s str, <&'s str as Stream>::Item) { loop {}}\nfn main() {\n    f as for<'t> fn(&'t str) -> (&'t str, <&'t str as Stream>::Item);\n}\n```\n## ICE\n\n```\nthread 'rustc' panicked at 'assertion failed: !projection_ty.has_escaping_regions()', ../src/librustc/middle/traits/fulfill.rs:142\n\nstack backtrace:\n   1:     0x7fb374005821 - sys::backtrace::write::h1f94a55df3f5c060tAs\n                        at ../src/libstd/sys/unix/backtrace.rs:157\n   2:     0x7fb374036dc2 - panicking::on_panic::h7395b54848e3e9ccyEx\n                        at ../src/libstd/panicking.rs:45\n   3:     0x7fb373f65456 - rt::unwind::begin_unwind_inner::hcaa18d84671dc6f1P5w\n                        at ../src/libstd/rt/unwind/mod.rs:283\n   4:     0x7fb370893b6c - rt::unwind::begin_unwind::h6172101820686538617\n                        at ../src/libstd/rt/unwind/mod.rs:236\n   5:     0x7fb3710fe472 - middle::traits::fulfill::FulfillmentContext<'tcx>::normalize_projection_type::hcf70e505dec3d2592IR\n                        at /home/ariel/Rust/source.arielb1/build/<std macros>:3\n   6:     0x7fb37350c4d0 - check::FnCtxt<'a, 'tcx>::normalize_associated_type::h1b069930cbf0a459JOo\n                        at ../src/librustc_typeck/check/mod.rs:1370\n   7:     0x7fb3734b4be9 - check::FnCtxt<'a, 'tcx>.AstConv<'tcx>::projected_ty::h36429f32ac9a3fffjuo\n                        at ../src/librustc_typeck/check/mod.rs:1186\n   8:     0x7fb373624429 - astconv::qpath_to_ty::h71e2ea7f4506a5a6DCv\n                        at ../src/librustc_typeck/astconv.rs:1337\n   9:     0x7fb373625635 - astconv::base_def_to_ty::h2f321ee71a45c0e11Hv\n                        at ../src/librustc_typeck/astconv.rs:1441\n  10:     0x7fb3735c9a3e - astconv::finish_resolving_def_to_ty::h34ff71956713a7572Nv\n                        at ../src/librustc_typeck/astconv.rs:1494\n  11:     0x7fb37351caaa - astconv::ast_ty_to_ty::h59f5403e5b7d66bdQPv\n                        at ../src/librustc_typeck/astconv.rs:1603\n  12:     0x7fb3736262cc - astconv::ast_ty_to_ty::closure.39826\n                        at ../src/librustc_typeck/astconv.rs:1572\n  13:     0x7fb3736261f4 - iter::Map<I, F>.Iterator::next::closure.39823\n                        at ../src/libcore/iter.rs:1722\n  14:     0x7fb373626167 - option::Option<T>::map::h14013055041868616625\n                        at ../src/libcore/option.rs:423\n  15:     0x7fb373626105 - iter::Map<I, F>.Iterator::next::h5773863637391150978\n                        at ../src/libcore/iter.rs:1722\n  16:     0x7fb373626396 - vec::Vec<T>::extend_desugared::h11629801303543280143\n                        at ../src/libcollections/vec.rs:1470\n  17:     0x7fb373625fb2 - vec::Vec<T>.FromIterator<T>::from_iter::h13404738094255389204\n                        at ../src/libcollections/vec.rs:1394\n  18:     0x7fb373625d1e - iter::Iterator::collect::h6317935585935112489\n                        at ../src/libcore/iter.rs:565\n  19:     0x7fb37351b565 - astconv::ast_ty_to_ty::h59f5403e5b7d66bdQPv\n                        at ../src/librustc_typeck/astconv.rs:1571\n  20:     0x7fb37360c760 - astconv::convert_ty_with_lifetime_elision::h6f460f7dd8faf27aFNu\n                        at ../src/librustc_typeck/astconv.rs:570\n  21:     0x7fb37362b512 - astconv::ty_of_method_or_bare_fn::hce05a437eae5328ff5v\n                        at ../src/librustc_typeck/astconv.rs:1803\n  22:     0x7fb37362664d - astconv::ty_of_bare_fn::h607ee3ec664c27fdH4v\n                        at ../src/librustc_typeck/astconv.rs:1711\n  23:     0x7fb37351b7f0 - astconv::ast_ty_to_ty::h59f5403e5b7d66bdQPv\n                        at ../src/librustc_typeck/astconv.rs:1579\n  24:     0x7fb37333a1d3 - check::FnCtxt<'a, 'tcx>::to_ty::h73fafe684209fa0dDVo\n                        at ../src/librustc_typeck/check/mod.rs:1509\n  25:     0x7fb3735a5de0 - check::check_expr_with_unifier::h6057465928997568522\n                        at ../src/librustc_typeck/check/mod.rs:3497\n  26:     0x7fb37331b230 - check::check_expr::h67cfff21408ddc9dxjq\n                        at ../src/librustc_typeck/check/mod.rs:2636\n  27:     0x7fb3735ce9b3 - check::check_stmt::haa8f485ee8788d35v0r\n                        at ../src/librustc_typeck/check/mod.rs:4060\n  28:     0x7fb3734f202f - check::check_block_with_expected::h92e2dfdb42860c63z4r\n                        at ../src/librustc_typeck/check/mod.rs:4102\n  29:     0x7fb3734b591e - check::check_fn::hfab5918ab6495513Szn\n                        at ../src/librustc_typeck/check/mod.rs:625\n  30:     0x7fb3734e3b42 - check::check_bare_fn::h69149d526417eee8xpn\n                        at ../src/librustc_typeck/check/mod.rs:443\n  31:     0x7fb3734dbb7d - check::check_item_body::hde42a3e9eb7fca98xPn\n                        at ../src/librustc_typeck/check/mod.rs:718\n  32:     0x7fb3734db584 - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::h19b7e1a3ef4d47d8Amn\n                        at ../src/librustc_typeck/check/mod.rs:380\n  33:     0x7fb3734e1914 - visit::walk_mod::h4457057824098729211\n                        at ../src/libsyntax/visit.rs:165\n  34:     0x7fb3734e1861 - visit::Visitor::visit_mod::h5000110883616035837\n                        at ../src/libsyntax/visit.rs:64\n  35:     0x7fb3734e2fdb - visit::walk_crate::h7371658545850931832\n                        at ../src/libsyntax/visit.rs:157\n  36:     0x7fb3734e2ab2 - check::check_item_types::hf8f1cb484009402b4mn\n                        at ../src/librustc_typeck/check/mod.rs:400\n  37:     0x7fb373756a00 - check_crate::closure.42607\n                        at ../src/librustc_typeck/lib.rs:349\n  38:     0x7fb3737563df - util::common::time::h5154388386627276761\n                        at ../src/librustc/util/common.rs:39\n  39:     0x7fb373752ec8 - check_crate::h1096b8cc64f43ddds5C\n                        at ../src/librustc_typeck/lib.rs:348\n  40:     0x7fb374718044 - driver::phase_3_run_analysis_passes::closure.16867\n                        at ../src/librustc_driver/driver.rs:663\n  41:     0x7fb374717de3 - middle::ty::tls::enter::closure.16858\n                        at ../src/librustc/middle/ty.rs:1151\n  42:     0x7fb374717b34 - thread::scoped_tls::ScopedKey<T>::set::h5740698089117313085\n                        at ../src/libstd/thread/scoped_tls.rs:180\n  43:     0x7fb374717594 - middle::ty::tls::enter::closure.16818\n                        at ../src/librustc/middle/ty.rs:1151\n  44:     0x7fb374717068 - thread::local::LocalKey<T>::with::h1047998320376595356\n                        at ../src/libstd/thread/local.rs:217\n  45:     0x7fb374716c83 - middle::ty::tls::enter::closure.16811\n                        at ../src/librustc/middle/ty.rs:1145\n  46:     0x7fb374716818 - thread::local::LocalKey<T>::with::h8975214402943655292\n                        at ../src/libstd/thread/local.rs:217\n  47:     0x7fb3747164a8 - middle::ty::tls::enter::h15244471624338917019\n                        at ../src/librustc/middle/ty.rs:1144\n  48:     0x7fb374713730 - middle::ty::ctxt<'tcx>::create_and_enter::h5448069206079026180\n                        at ../src/librustc/middle/ty.rs:3746\n  49:     0x7fb3746fa720 - driver::phase_3_run_analysis_passes::h17171246126576738064\n                        at ../src/librustc_driver/driver.rs:651\n  50:     0x7fb3746b28eb - driver::compile_input::h7936237b5328f2c1Tba\n                        at ../src/librustc_driver/driver.rs:122\n  51:     0x7fb3749b5ea3 - run_compiler::he5596ff537c688ddC7b\n                        at ../src/librustc_driver/lib.rs:156\n  52:     0x7fb3749b2688 - run::closure.29243\n                        at ../src/librustc_driver/lib.rs:99\n  53:     0x7fb3749b175d - monitor::closure.29214\n                        at ../src/librustc_driver/lib.rs:809\n  54:     0x7fb3749b1611 - boxed::F.FnBox<A>::call_box::h13102866563604429246\n                        at ../src/liballoc/boxed.rs:515\n  55:     0x7fb3749b11e0 - boxed::Box<FnBox<A, Output $u3d$$u20$R$GT$$u2b$$u20$Send$u20$$u2b$$u20$$u27$a$GT$.FnOnce$LT$A$GT$::call_once::h15928366404761575081\n                        at ../src/liballoc/boxed.rs:531\n  56:     0x7fb3749b0c92 - thread::Builder::spawn_inner::closure.29187\n                        at ../src/libstd/thread/mod.rs:322\n  57:     0x7fb3749b0c0e - rt::unwind::try::try_fn::h2096641183789202929\n                        at ../src/libstd/rt/unwind/mod.rs:168\n  58:     0x7fb374035f57 - __rust_try_inner\n  59:     0x7fb374035fad - __rust_try\n  60:     0x7fb373fdacef - rt::unwind::try::inner_try::h8401f0adc136f5f2I1w\n                        at ../src/libstd/rt/unwind/mod.rs:157\n  61:     0x7fb3749b0b58 - rt::unwind::try::h2869518614589579972\n                        at ../src/libstd/rt/unwind/mod.rs:140\n  62:     0x7fb3749b09be - thread::Builder::spawn_inner::closure.29139\n                        at ../src/libstd/thread/mod.rs:322\n  63:     0x7fb3749b144d - boxed::F.FnBox<A>::call_box::h5650395233266235292\n                        at ../src/liballoc/boxed.rs:515\n  64:     0x7fb373ffc360 - boxed::Box<FnBox<A, Output $u3d$$u20$R$GT$$u2b$$u20$$u27$a$GT$.FnOnce$LT$A$GT$::call_once::h17370688546240473290\n                        at ../src/liballoc/boxed.rs:523\n  65:     0x7fb373ffc25c - sys_common::thread::start_thread::hcfc7a4e253eecb1deCr\n                        at ../src/libstd/sys/common/thread.rs:30\n  66:     0x7fb374031514 - sys::thread::Thread::new::thread_start::__rust_abi\n                        at ../src/libstd/sys/unix/thread.rs:77\n  67:     0x7fb374031494 - sys::thread::Thread::new::thread_start::hfb441bc8d197c3d5gbw\n  68:     0x7fb36c1c10a3 - start_thread\n  69:     0x7fb373bcb07c - clone\n  70:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27901/timeline", "performed_via_github_app": null, "state_reason": "completed"}