{"url": "https://api.github.com/repos/rust-lang/rust/issues/34953", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34953/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34953/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34953/events", "html_url": "https://github.com/rust-lang/rust/issues/34953", "id": 166807409, "node_id": "MDU6SXNzdWUxNjY4MDc0MDk=", "number": 34953, "title": "Book: Provide more information on why lifetimes are needed", "user": {"login": "jimmycuadra", "id": 122457, "node_id": "MDQ6VXNlcjEyMjQ1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/122457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimmycuadra", "html_url": "https://github.com/jimmycuadra", "followers_url": "https://api.github.com/users/jimmycuadra/followers", "following_url": "https://api.github.com/users/jimmycuadra/following{/other_user}", "gists_url": "https://api.github.com/users/jimmycuadra/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimmycuadra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimmycuadra/subscriptions", "organizations_url": "https://api.github.com/users/jimmycuadra/orgs", "repos_url": "https://api.github.com/users/jimmycuadra/repos", "events_url": "https://api.github.com/users/jimmycuadra/events{/privacy}", "received_events_url": "https://api.github.com/users/jimmycuadra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-21T12:31:03Z", "updated_at": "2016-07-21T16:07:32Z", "closed_at": "2016-07-21T16:07:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The book has a good \"meta\" section that gives some context about lifetimes before starting to explain how they work. I think this section could be improved by better explaining exactly _why_ lifetimes (especially ones the compiler doesn't automatically infer) are needed. It's suggested that the reason is to provide memory safety as a zero-cost abstraction, but it doesn't really explain the exact nature of the relationship between the two. As it is, you could interpret the text as saying, \"memory safety without runtime overhead is not possible without lifetimes,\" but I'm not sure that's true, and I think lifetimes are also used in Rust as a way to make sure the developer's intent is clear, similar to the reason type annotations are required in function signatures.\n\nIn my own experience talking to people about Rust, I find that I'm better able to explain how lifetimes work than I am at explaining why they're necessary. A question that is related (or possibly the same question just phrased differently) is: If the compiler has enough information to give you errors related to lifetimes, why can't it just do the right thing for you? That question is taken from Jake Goulding's excellent answer to [this Stack Overflow question](https://stackoverflow.com/questions/31609137/why-are-explicit-lifetimes-needed-in-rust). Perhaps the information in his answer could be used to augment the lifetimes section of the book.\n\nI'm not sure there's precedence in the book for how Rust's approach to certain things contrasts with other languages, but it might also be useful to give some examples of other languages with memory safety, how they achieve it without lifetimes, and what the trade-offs for doing it in those other ways are.\n\n/cc @steveklabnik\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34953/timeline", "performed_via_github_app": null, "state_reason": "completed"}