{"url": "https://api.github.com/repos/rust-lang/rust/issues/38378", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38378/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38378/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38378/events", "html_url": "https://github.com/rust-lang/rust/issues/38378", "id": 195685754, "node_id": "MDU6SXNzdWUxOTU2ODU3NTQ=", "number": 38378, "title": "compiletest is broken on x86_64-unknown-linux-gnu", "user": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-12-15T00:37:56Z", "updated_at": "2016-12-16T21:39:12Z", "closed_at": "2016-12-16T21:39:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running tests on master is broken:\r\n\r\n```\r\npython x.py test src/test/run-pass --stage 1 --target=x86_64-unknown-linux-gnu\r\n    Finished debug [unoptimized] target(s) in 0.0 secs\r\nSynchronizing submodule url for 'src/compiler-rt'\r\nSynchronizing submodule url for 'src/jemalloc'\r\nSynchronizing submodule url for 'src/liblibc'\r\nSynchronizing submodule url for 'src/llvm'\r\nSynchronizing submodule url for 'src/rt/hoedown'\r\nSynchronizing submodule url for 'src/rust-installer'\r\nHEAD is now at a8fc4c1 Merge pull request #28 from xen0n/preprocessor-firefighting\r\nHEAD is now at e058ca6 Change how the default zone is found\r\nHEAD is now at 0ac39c5 Auto merge of #462 - semarie:openbsd-i686-correct, r=alexcrichton\r\nHEAD is now at d7342a9 Merge pull request #59 from pftbest/msp430_backport\r\nHEAD is now at a3736a0 Merge pull request #6 from intelfx/patch-1\r\nHEAD is now at 4f99485 Merge pull request #54 from brson/docdir\r\nBuilding stage0 std artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n    Finished release [optimized] target(s) in 0.0 secs\r\nBuilding stage0 test artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n    Finished release [optimized] target(s) in 0.0 secs\r\nBuilding stage0 compiler artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\nwarning: ../rustllvm/RustWrapper.cpp:153:5: warning: default label in switch which covers all enumeration values [-Wcovered-switch-default]\r\nwarning:     default:\r\nwarning:     ^\r\nwarning: ../rustllvm/RustWrapper.cpp:1431:9: warning: default label in switch which covers all enumeration values [-Wcovered-switch-default]\r\nwarning:         default:\r\nwarning:         ^\r\nwarning: ../rustllvm/RustWrapper.cpp:1463:9: warning: default label in switch which covers all enumeration values [-Wcovered-switch-default]\r\nwarning:         default:\r\nwarning:         ^\r\nwarning: ../rustllvm/RustWrapper.cpp:1477:9: warning: default label in switch which covers all enumeration values [-Wcovered-switch-default]\r\nwarning:         default:\r\nwarning:         ^\r\nwarning: 4 warnings generated.\r\n   Compiling syntax v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libsyntax)\r\n   Compiling rustc_back v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_back)\r\n   Compiling proc_macro_tokens v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libproc_macro_tokens)\r\n   Compiling proc_macro v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libproc_macro)\r\n   Compiling rustc_const_math v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_const_math)\r\n   Compiling syntax_ext v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libsyntax_ext)\r\n   Compiling rustc v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc)\r\n   Compiling rustc_metadata v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_metadata)\r\n   Compiling rustc_resolve v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_resolve)\r\n   Compiling rustc_const_eval v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_const_eval)\r\n   Compiling rustc_incremental v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_incremental)\r\n   Compiling rustc_save_analysis v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_save_analysis)\r\n   Compiling rustc_privacy v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_privacy)\r\n   Compiling rustc_lint v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_lint)\r\n   Compiling rustc_typeck v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_typeck)\r\n   Compiling rustc_passes v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_passes)\r\n   Compiling rustc_mir v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_mir)\r\n   Compiling rustc_trans v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_trans)\r\n   Compiling rustc_borrowck v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_borrowck)\r\n   Compiling rustc_plugin v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_plugin)\r\n   Compiling proc_macro_plugin v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libproc_macro_plugin)\r\n   Compiling rustc_driver v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustc_driver)\r\n   Compiling rustdoc v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librustdoc)\r\n   Compiling rustc-main v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/rustc)\r\n    Finished release [optimized] target(s) in 480.33 secs\r\nBuilding stage1 std artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n   Compiling core v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libcore)\r\n   Compiling unwind v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libunwind)\r\n   Compiling libc v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/rustc/libc_shim)\r\n   Compiling compiler_builtins v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libcompiler_builtins)\r\n   Compiling alloc_jemalloc v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/liballoc_jemalloc)\r\n   Compiling std v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libstd)\r\n   Compiling alloc v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/liballoc)\r\n   Compiling std_unicode v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libstd_unicode)\r\n   Compiling rand v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/librand)\r\n   Compiling collections v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libcollections)\r\n   Compiling alloc_system v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/liballoc_system)\r\n   Compiling panic_abort v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libpanic_abort)\r\n   Compiling panic_unwind v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libpanic_unwind)\r\n   Compiling std_shim v0.1.0 (file:///home/nagisa/Documents/rust/rust/src/rustc/std_shim)\r\n    Finished release [optimized] target(s) in 28.5 secs\r\nBuilding stage1 test artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n   Compiling getopts v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libgetopts)\r\n   Compiling term v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libterm)\r\n   Compiling test v0.0.0 (file:///home/nagisa/Documents/rust/rust/src/libtest)\r\n   Compiling test_shim v0.1.0 (file:///home/nagisa/Documents/rust/rust/src/rustc/test_shim)\r\n    Finished release [optimized] target(s) in 11.0 secs\r\nBuilding stage1 tool compiletest (x86_64-unknown-linux-gnu)\r\n    Finished release [optimized] target(s) in 0.0 secs\r\nCheck compiletest suite=run-pass mode=run-pass (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\nwarning: invalid logging spec '', ignoring it (too many '/'s)\r\nfatal runtime error: out of memory\r\n\r\n\r\ncommand did not execute successfully: \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/stage1-tools/x86_64-unknown-linux-gnu/release/compiletest\" \"--compile-lib-path\" \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/stage1/lib\" \"--run-lib-path\" \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib\" \"--rustc-path\" \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/stage1/bin/rustc\" \"--rustdoc-path\" \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/stage1/bin/rustdoc\" \"--src-base\" \"/home/nagisa/Documents/rust/rust/src/test/run-pass\" \"--build-base\" \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/test/run-pass\" \"--stage-id\" \"stage1-x86_64-unknown-linux-gnu\" \"--mode\" \"run-pass\" \"--target\" \"x86_64-unknown-linux-gnu\" \"--host\" \"x86_64-unknown-linux-gnu\" \"--llvm-filecheck\" \"/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/llvm/build/bin/FileCheck\" \"--host-rustcflags\" \"-Crpath -O\" \"--target-rustcflags\" \"-Crpath -O -Lnative=/home/nagisa/Documents/rust/rust/build/x86_64-unknown-linux-gnu/rust-test-helpers\" \"--docck-python\" \"/usr/bin/python2.7\" \"--lldb-python\" \"/usr/bin/python2.7\" \"--gdb\" \"/usr/bin/gdb\" \"--lldb-version\" \"lldb version 3.9.0 ( revision )\" \"--lldb-python-dir\" \"/usr/lib/python2.7/site-packages\" \"--llvm-version\" \"3.9.1\\n\" \"--cc\" \"\" \"--cxx\" \"\" \"--cflags\" \"\" \"--llvm-components\" \"\" \"--llvm-cxxflags\" \"\" \"--adb-path\" \"adb\" \"--adb-test-dir\" \"/data/tmp\" \"--android-cross-path\" \"\"\r\nexpected success, got: signal: 4\r\n```\r\n\r\nHappened in this range (didn\u2019t bisect or investigate further as I\u2019m working on my own stuff):\r\n\r\n```\r\n* a274617 - (HEAD, real/master) Auto merge of #38278 - jseyfried:improve_proc_macro_def_ids, r=michaelwoerister (27 hours ago) <bors>\r\n* 2ac7121 - Auto merge of #38353 - alexcrichton:fix-nightiles, r=alexcrichton (30 hours ago) <bors>\r\n* 7f78b42 - Auto merge of #38317 - shepmaster:llvm-4.0-debuginfo-alignment, r=eddyb (33 hours ago) <bors>\r\n* 0d1b9f4 - Auto merge of #38309 - sfackler:rfc-1725, r=alexcrichton (2 days ago) <bors>\r\n* ace092f - Auto merge of #38286 - pftbest:msp430_at_symbol, r=michaelwoerister (2 days ago) <bors>\r\n* b1a2ab8 - Auto merge of #38179 - michael-zapata:rf/harmonise_rustdoc_errors, r=GuillaumeGomez (2 days ago) <bors>\r\n* 5a2b50b - Auto merge of #38325 - frewsxcv:rollup, r=frewsxcv (2 days ago) <bors>\r\n* 1336742 - Auto merge of #38324 - alexcrichton:fix-nightlies, r=alexcrichton (2 days ago) <bors>\r\n* 6483bdd - Auto merge of #38243 - michaelwoerister:fix-debuginfo-namespace-edge, r=nikomatsakis (2 days ago) <bors>\r\n* b4b1e5e - Auto merge of #38049 - frewsxcv:libunicode, r=alexcrichton (2 days ago) <bors>\r\n```", "closed_by": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38378/timeline", "performed_via_github_app": null, "state_reason": "completed"}