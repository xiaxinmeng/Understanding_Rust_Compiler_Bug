{"url": "https://api.github.com/repos/rust-lang/rust/issues/8057", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/8057/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/8057/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/8057/events", "html_url": "https://github.com/rust-lang/rust/issues/8057", "id": 17253626, "node_id": "MDU6SXNzdWUxNzI1MzYyNg==", "number": 8057, "title": "make: rustc invocations need to depend on the rustc libraries", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-26T08:44:15Z", "updated_at": "2014-06-16T21:56:31Z", "closed_at": "2013-07-26T22:55:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "(creating issue to match PR #7820, since I worry about that growing stale, and there are some things like labels that you can use with filed Issues that you cannot use with pull requests.)\n\nAs written in Makefile.in, $(STAGE$(1)_T_$(2)_H_$(3)) is the way one\nwrites an invocation of rustc where $(1) is the stage number $(2) is\nthe target triple $(3) is the host triple.  (Other uses of the macro\nmay plug in actual values or different parameters in for those three\nformal parameters.)\n\nWhen you have invocations of $(STAGE...), you need to make sure that\nits dependences are satisfied; otherwise, if someone is using `make\n-jN` for certain (large-ish) `N`, one can encounter situations where\nGNU make attempts to invoke `rustc` before it has actually copied some\nof its libraries into place, such as libmorestack.a, which causes a\nlink failure when the rustc invocation attempts to link in those\nlibraries.\n\nIn this case, the main prerequisite to add is TSREQ$(1)_T_$(2)_H_$(3),\nwhich is described in Makefile.in as \"Prerequisites for using the\nstageN compiler to build target artifacts\"\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/8057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/8057/timeline", "performed_via_github_app": null, "state_reason": "completed"}