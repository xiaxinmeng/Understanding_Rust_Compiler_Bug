{"url": "https://api.github.com/repos/rust-lang/rust/issues/65008", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/65008/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/65008/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/65008/events", "html_url": "https://github.com/rust-lang/rust/issues/65008", "id": 501586663, "node_id": "MDU6SXNzdWU1MDE1ODY2NjM=", "number": 65008, "title": "Entire program seems to be optimized away", "user": {"login": "Daniel-B-Smith", "id": 3280224, "node_id": "MDQ6VXNlcjMyODAyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3280224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel-B-Smith", "html_url": "https://github.com/Daniel-B-Smith", "followers_url": "https://api.github.com/users/Daniel-B-Smith/followers", "following_url": "https://api.github.com/users/Daniel-B-Smith/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel-B-Smith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel-B-Smith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel-B-Smith/subscriptions", "organizations_url": "https://api.github.com/users/Daniel-B-Smith/orgs", "repos_url": "https://api.github.com/users/Daniel-B-Smith/repos", "events_url": "https://api.github.com/users/Daniel-B-Smith/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel-B-Smith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}, {"id": 1359848690, "node_id": "MDU6TGFiZWwxMzU5ODQ4Njkw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-mcve", "name": "E-needs-mcve", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs a Minimal Complete and Verifiable Example"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-02T16:09:08Z", "updated_at": "2019-10-03T15:10:39Z", "closed_at": "2019-10-03T15:10:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've come across a situation where the presence or absence of a comment changes the program behavior. With the comment present, the program does exactly what I expect (prints a bunch of stuff). Without the comment, the program does nothing and terminates with exit code 0.\r\n\r\nI have an example (including Dockerfile) where I've stripped out everything proprietary and some extraneous code here: https://github.com/Daniel-B-Smith/compiler_example As currently committed, the program works fine. Deleting the comment at the bottom of the `main()` function causes the program to misbehave. Apologies that the example is still pretty large.\r\n\r\nThe example fails on 1.38.0 both with and without `--release`. The code the example is based on has failed with 1.37, 1.38 and the beta (as of yesterday). The program seems to work fine for 1.38.0 on Mac OS X 10.13.16.\r\n\r\nPlease let me know if there is any additional information that would be valuable.", "closed_by": {"login": "Daniel-B-Smith", "id": 3280224, "node_id": "MDQ6VXNlcjMyODAyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3280224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel-B-Smith", "html_url": "https://github.com/Daniel-B-Smith", "followers_url": "https://api.github.com/users/Daniel-B-Smith/followers", "following_url": "https://api.github.com/users/Daniel-B-Smith/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel-B-Smith/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel-B-Smith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel-B-Smith/subscriptions", "organizations_url": "https://api.github.com/users/Daniel-B-Smith/orgs", "repos_url": "https://api.github.com/users/Daniel-B-Smith/repos", "events_url": "https://api.github.com/users/Daniel-B-Smith/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel-B-Smith/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/65008/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/65008/timeline", "performed_via_github_app": null, "state_reason": "completed"}