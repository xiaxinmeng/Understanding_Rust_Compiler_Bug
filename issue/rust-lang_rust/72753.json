{"url": "https://api.github.com/repos/rust-lang/rust/issues/72753", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/72753/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/72753/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/72753/events", "html_url": "https://github.com/rust-lang/rust/issues/72753", "id": 627478303, "node_id": "MDU6SXNzdWU2Mjc0NzgzMDM=", "number": 72753, "title": "read_exact infinite loops if buffer passed in is bigger than contents of the file", "user": {"login": "rizhang2", "id": 24534419, "node_id": "MDQ6VXNlcjI0NTM0NDE5", "avatar_url": "https://avatars.githubusercontent.com/u/24534419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rizhang2", "html_url": "https://github.com/rizhang2", "followers_url": "https://api.github.com/users/rizhang2/followers", "following_url": "https://api.github.com/users/rizhang2/following{/other_user}", "gists_url": "https://api.github.com/users/rizhang2/gists{/gist_id}", "starred_url": "https://api.github.com/users/rizhang2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rizhang2/subscriptions", "organizations_url": "https://api.github.com/users/rizhang2/orgs", "repos_url": "https://api.github.com/users/rizhang2/repos", "events_url": "https://api.github.com/users/rizhang2/events{/privacy}", "received_events_url": "https://api.github.com/users/rizhang2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 2011781731, "node_id": "MDU6TGFiZWwyMDExNzgxNzMx", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs", "name": "T-libs", "color": "bfd4f2", "default": false, "description": "Relevant to the library team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-29T19:09:34Z", "updated_at": "2020-05-29T22:02:33Z", "closed_at": "2020-05-29T22:02:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "For example:\r\n```\r\nlet mut file = get_some_file(); //implements Read trait\r\nwrite_to_file(&mut file); // writes less than 1024 bytes worth of data\r\nlet mut buf: [u8; 1024] = [0; 1024];\r\nreader.read_exact(&mut buf) // It will infinite loop\r\n```\r\nhttps://github.com/rust-lang/rust/blob/945d110e059ed9d77d04e03829e41c641625e478/src/libstd/io/mod.rs#L785\r\n\r\nIs this intended to happen? I can see that it's possible for self.read to return 0 even though there is more to read so this is not trivial to fix. Maybe we can add some kind of timeout?\r\n\r\nAt the very least the documentation should be updated to reflect this.", "closed_by": {"login": "rizhang2", "id": 24534419, "node_id": "MDQ6VXNlcjI0NTM0NDE5", "avatar_url": "https://avatars.githubusercontent.com/u/24534419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rizhang2", "html_url": "https://github.com/rizhang2", "followers_url": "https://api.github.com/users/rizhang2/followers", "following_url": "https://api.github.com/users/rizhang2/following{/other_user}", "gists_url": "https://api.github.com/users/rizhang2/gists{/gist_id}", "starred_url": "https://api.github.com/users/rizhang2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rizhang2/subscriptions", "organizations_url": "https://api.github.com/users/rizhang2/orgs", "repos_url": "https://api.github.com/users/rizhang2/repos", "events_url": "https://api.github.com/users/rizhang2/events{/privacy}", "received_events_url": "https://api.github.com/users/rizhang2/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/72753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/72753/timeline", "performed_via_github_app": null, "state_reason": "completed"}