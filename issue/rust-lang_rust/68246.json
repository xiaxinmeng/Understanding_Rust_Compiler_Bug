{"url": "https://api.github.com/repos/rust-lang/rust/issues/68246", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/68246/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/68246/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/68246/events", "html_url": "https://github.com/rust-lang/rust/issues/68246", "id": 550157533, "node_id": "MDU6SXNzdWU1NTAxNTc1MzM=", "number": 68246, "title": "Mutable references for mutable and immutable ", "user": {"login": "xky0007", "id": 30423949, "node_id": "MDQ6VXNlcjMwNDIzOTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/30423949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xky0007", "html_url": "https://github.com/xky0007", "followers_url": "https://api.github.com/users/xky0007/followers", "following_url": "https://api.github.com/users/xky0007/following{/other_user}", "gists_url": "https://api.github.com/users/xky0007/gists{/gist_id}", "starred_url": "https://api.github.com/users/xky0007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xky0007/subscriptions", "organizations_url": "https://api.github.com/users/xky0007/orgs", "repos_url": "https://api.github.com/users/xky0007/repos", "events_url": "https://api.github.com/users/xky0007/events{/privacy}", "received_events_url": "https://api.github.com/users/xky0007/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-15T12:29:48Z", "updated_at": "2020-01-15T13:56:07Z", "closed_at": "2020-01-15T13:56:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to the [Mutable References](https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html#mutable-references). The lifetime for immutable references is between its introduction and its first use.\r\n\r\n**_Note that a reference\u2019s scope starts from where it is introduced and continues through the last time that reference is used._**\r\n\r\nAnd it gave the example:\r\n\r\n```\r\nlet mut s = String::from(\"hello\");\r\n\r\nlet r1 = &s; // no problem\r\nlet r2 = &s; // no problem\r\nprintln!(\"{} and {}\", r1, r2);\r\n// r1 and r2 are no longer used after this point\r\n\r\nlet r3 = &mut s; // no problem\r\nprintln!(\"{}\", r3);\r\n```\r\n\r\nBecause both r1 and r2 are used before declaring the r3, so it won't cause error. However, if I change the code to:\r\n\r\n```\r\nlet mut s = String::from(\"hello\");\r\n\r\nlet r1 = &s; // no problem\r\nlet r2 = &s; // no problem\r\nprintln!(\"{}\", r1);\r\n// r1 is no longer used, but r2 is pending\r\n\r\nlet r3 = &mut s; // no problem\r\nprintln!(\"{}\", r3);\r\n```\r\nI can still run the code, did I make any misunderstanding about this part?\r\n", "closed_by": {"login": "xky0007", "id": 30423949, "node_id": "MDQ6VXNlcjMwNDIzOTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/30423949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xky0007", "html_url": "https://github.com/xky0007", "followers_url": "https://api.github.com/users/xky0007/followers", "following_url": "https://api.github.com/users/xky0007/following{/other_user}", "gists_url": "https://api.github.com/users/xky0007/gists{/gist_id}", "starred_url": "https://api.github.com/users/xky0007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xky0007/subscriptions", "organizations_url": "https://api.github.com/users/xky0007/orgs", "repos_url": "https://api.github.com/users/xky0007/repos", "events_url": "https://api.github.com/users/xky0007/events{/privacy}", "received_events_url": "https://api.github.com/users/xky0007/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/68246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/68246/timeline", "performed_via_github_app": null, "state_reason": "completed"}