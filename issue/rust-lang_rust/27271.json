{"url": "https://api.github.com/repos/rust-lang/rust/issues/27271", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27271/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27271/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27271/events", "html_url": "https://github.com/rust-lang/rust/issues/27271", "id": 97168287, "node_id": "MDU6SXNzdWU5NzE2ODI4Nw==", "number": 27271, "title": "Roman numeral plugin example fails to run", "user": {"login": "dtwood", "id": 1207240, "node_id": "MDQ6VXNlcjEyMDcyNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1207240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtwood", "html_url": "https://github.com/dtwood", "followers_url": "https://api.github.com/users/dtwood/followers", "following_url": "https://api.github.com/users/dtwood/following{/other_user}", "gists_url": "https://api.github.com/users/dtwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtwood/subscriptions", "organizations_url": "https://api.github.com/users/dtwood/orgs", "repos_url": "https://api.github.com/users/dtwood/repos", "events_url": "https://api.github.com/users/dtwood/events{/privacy}", "received_events_url": "https://api.github.com/users/dtwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123111, "node_id": "MDU6TGFiZWwxMjMxMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-macos", "name": "O-macos", "color": "6e6ec0", "default": false, "description": "Operating system: macOS"}, {"id": 235146, "node_id": "MDU6TGFiZWwyMzUxNDY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-syntaxext", "name": "A-syntaxext", "color": "f7e101", "default": false, "description": "Area: Syntax extensions"}, {"id": 111868330, "node_id": "MDU6TGFiZWwxMTE4NjgzMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-plugin", "name": "A-plugin", "color": "f7e101", "default": false, "description": "Area: compiler plugins, doc.rust-lang.org/nightly/unstable-book/language-features/plugin.html"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-07-24T23:28:30Z", "updated_at": "2016-09-06T21:07:43Z", "closed_at": "2016-09-06T21:07:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "The roman numeral demo plugin compiles successfully, but fails with an ICE when run (the same as #26488).\n\n```\nrustc --version\nrustc 1.3.0-nightly (69ca01256 2015-07-23)\n```\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nCould not compile `hello_world`.\n\nCaused by:\n  Process didn't exit successfully: `rustc src/main.rs --crate-name hello_world --crate-type bin -g --out-dir /Users/david/Devel/rust/target/debug --emit=dep-info,link -L dependency=/Users/david/Devel/rust/target/debug -L dependency=/Users/david/Devel/rust/target/debug/deps --extern factorial=/Users/david/Devel/rust/target/debug/deps/libfactorial-9882d961a0581a0c.dylib --extern chrono=/Users/david/Devel/rust/target/debug/deps/libchrono-56e1e2f8a2c2ce0f.rlib` (exit code: 101)\nst/target/debug/deps/libchrono-56e1e2f8a2c2ce0f.rlib`\n       Fresh chrono v0.2.15\nthread 'rustc' panicked at 'index out of bounds: the len is 60 but the index is 66', ../src/libcollections/vec.rs:1246\n\nstack backtrace:\n   1:        0x105349485 - sys::backtrace::write::hbce7e265eb321480bus\n   2:        0x1053524ee - panicking::on_panic::hd723a4eed80dc3f1NUw\n   3:        0x10530bf82 - rt::unwind::begin_unwind_inner::hba49c6e78082e98fYCw\n   4:        0x10530ce2c - rt::unwind::begin_unwind_fmt::h9873384d3a1a818e4Bw\n   5:        0x10535206c - rust_begin_unwind\n   6:        0x1053a81a5 - panicking::panic_fmt::h4ce2c934001461b3PgC\n   7:        0x1053a28e5 - panicking::panic_bounds_check::h5bd94edbff5d1337VfC\n   8:        0x10a346a45 - parse::token::get_name::hc25bfcba291047ab0jT\n   9:        0x10a34c8f8 - ast::Name.fmt..Display::fmt::h9df3ebcee2b7357bsSb\n  10:        0x10cc4c3f2 - fmt::write::hf3476932417648edbfO\n  11:        0x10cb7ddbb - rt::unwind::begin_unwind_fmt::h9873384d3a1a818e4Bw\n  12:        0x101c3cc80 - expand_rn::h25af918a6623e675saa\n  13:        0x109d8265e - ext::base::F.TTMacroExpander::expand::h8387169028212889737\n  14:        0x102d54863 - ext::expand::expand_expr::closure.65736\n  15:        0x102d4fce0 - ext::expand::expand_expr::h99e8da60288015c7Qeb\n  16:        0x102d5878a - fold::noop_fold_expr::h12274104263851486159\n  17:        0x102d4fece - ext::expand::expand_expr::closure.65736\n  18:        0x102d4fce0 - ext::expand::expand_expr::h99e8da60288015c7Qeb\n  19:        0x102d59ee2 - fold::noop_fold_expr::h12274104263851486159\n  20:        0x102d4fece - ext::expand::expand_expr::closure.65736\n  21:        0x102d4fce0 - ext::expand::expand_expr::h99e8da60288015c7Qeb\n  22:        0x102d58dab - fold::noop_fold_expr::h12274104263851486159\n  23:        0x102d4fece - ext::expand::expand_expr::closure.65736\n  24:        0x102d4fce0 - ext::expand::expand_expr::h99e8da60288015c7Qeb\n  25:        0x102d59323 - fold::noop_fold_expr::h12274104263851486159\n  26:        0x102d4fece - ext::expand::expand_expr::closure.65736\n  27:        0x102d4fce0 - ext::expand::expand_expr::h99e8da60288015c7Qeb\n  28:        0x102d9d000 - ext::expand::expand_block_elts::closure.66444\n  29:        0x102d62369 - ext::expand::expand_block_elts::hdd4860a523c2af11x0b\n  30:        0x102d9cb42 - ext::expand::expand_block::h6f55c6087a5fa9a0SZb\n  31:        0x102d598b1 - fold::noop_fold_expr::h12274104263851486159\n  32:        0x102d4fece - ext::expand::expand_expr::closure.65736\n  33:        0x102d4fce0 - ext::expand::expand_expr::h99e8da60288015c7Qeb\n  34:        0x102d96ed1 - fold::noop_fold_stmt::h10788056147892267108\n  35:        0x102d77b90 - ext::expand::expand_stmt::h08fa462260688915BPb\n  36:        0x102d7aaec - iter::FlatMap<I, U, F>.Iterator::next::h2819660546420465906\n  37:        0x102d7a4a7 - util::small_vector::SmallVector<T>.FromIterator<T>::from_iter::h13187313789686060428\n  38:        0x102d79167 - ext::expand::expand_stmt::h08fa462260688915BPb\n  39:        0x102d9df33 - ext::expand::expand_block_elts::closure.66450\n  40:        0x102d9dc65 - iter::FlatMap<I, U, F>.Iterator::next::h7643140614824393032\n  41:        0x102d9d324 - vec::Vec<T>.FromIterator<T>::from_iter::h732420624926570779\n  42:        0x102d9cf17 - ext::expand::expand_block_elts::closure.66444\n  43:        0x102d62369 - ext::expand::expand_block_elts::hdd4860a523c2af11x0b\n  44:        0x102d9cb42 - ext::expand::expand_block::h6f55c6087a5fa9a0SZb\n  45:        0x102d61e93 - ext::expand::expand_and_rename_fn_decl_and_block::h48826170e337e771Wtc\n  46:        0x102d68dd6 - ext::expand::expand_item_underscore::h35b61265f1e6e32a1Db\n  47:        0x102dbe7a7 - fold::noop_fold_item_simple::h15338532747737711936\n  48:        0x102dbe306 - fold::noop_fold_item::h4339851499862307845\n  49:        0x102d66bb7 - ext::expand::expand_annotatable::ha45359526cbf62faTac\n  50:        0x102d624f9 - ext::expand::expand_item::h7d12f4c897ccb936qDb\n  51:        0x102d6e8e5 - iter::FlatMap<I, U, F>.Iterator::next::h9898030771278316288\n  52:        0x102d6e3bc - vec::Vec<T>.FromIterator<T>::from_iter::h13205230158317958734\n  53:        0x102d6e0b7 - fold::noop_fold_mod::h15770947105538165412\n  54:        0x102d69650 - ext::expand::expand_item_underscore::h35b61265f1e6e32a1Db\n  55:        0x102dbe7a7 - fold::noop_fold_item_simple::h15338532747737711936\n  56:        0x102dbe306 - fold::noop_fold_item::h4339851499862307845\n  57:        0x102d677ed - ext::expand::expand_annotatable::ha45359526cbf62faTac\n  58:        0x102d624f9 - ext::expand::expand_item::h7d12f4c897ccb936qDb\n  59:        0x102dc63fc - ext::expand::expand_crate::he66664571162d53arCc\n  60:        0x10180c960 - driver::phase_2_configure_and_expand::closure.22185\n  61:        0x1017c15c0 - driver::phase_2_configure_and_expand::h9663d9fc8460a0b7ita\n  62:        0x1017b1b08 - driver::compile_input::h88e989740af3db2aTba\n  63:        0x1018948ab - run_compiler::he6382510493c3ff3A7b\n  64:        0x101892120 - boxed::F.FnBox<A>::call_box::h16554067582215296081\n  65:        0x101891997 - rt::unwind::try::try_fn::h9037081342499356393\n  66:        0x105351f9f - __rust_try_inner\n  67:        0x105351fda - __rust_try\n  68:        0x10533ba65 - rt::unwind::try::inner_try::h1e2d97fb62ce1595Ryw\n  69:        0x101891bd9 - boxed::F.FnBox<A>::call_box::h15046611992369909973\n  70:        0x105350efd - sys::thread::Thread::new::thread_start::h2b5c9a2728ae8fd5RWv\n  71:     0x7fff8df83267 - _pthread_body\n  72:     0x7fff8df831e4 - _pthread_start\n```\n", "closed_by": {"login": "dtwood", "id": 1207240, "node_id": "MDQ6VXNlcjEyMDcyNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1207240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtwood", "html_url": "https://github.com/dtwood", "followers_url": "https://api.github.com/users/dtwood/followers", "following_url": "https://api.github.com/users/dtwood/following{/other_user}", "gists_url": "https://api.github.com/users/dtwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtwood/subscriptions", "organizations_url": "https://api.github.com/users/dtwood/orgs", "repos_url": "https://api.github.com/users/dtwood/repos", "events_url": "https://api.github.com/users/dtwood/events{/privacy}", "received_events_url": "https://api.github.com/users/dtwood/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27271/timeline", "performed_via_github_app": null, "state_reason": "completed"}