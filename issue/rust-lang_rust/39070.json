{"url": "https://api.github.com/repos/rust-lang/rust/issues/39070", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39070/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39070/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39070/events", "html_url": "https://github.com/rust-lang/rust/issues/39070", "id": 200833788, "node_id": "MDU6SXNzdWUyMDA4MzM3ODg=", "number": 39070, "title": "error E0382 use of moved value could be improved", "user": {"login": "binarycrusader", "id": 541114, "node_id": "MDQ6VXNlcjU0MTExNA==", "avatar_url": "https://avatars.githubusercontent.com/u/541114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/binarycrusader", "html_url": "https://github.com/binarycrusader", "followers_url": "https://api.github.com/users/binarycrusader/followers", "following_url": "https://api.github.com/users/binarycrusader/following{/other_user}", "gists_url": "https://api.github.com/users/binarycrusader/gists{/gist_id}", "starred_url": "https://api.github.com/users/binarycrusader/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/binarycrusader/subscriptions", "organizations_url": "https://api.github.com/users/binarycrusader/orgs", "repos_url": "https://api.github.com/users/binarycrusader/repos", "events_url": "https://api.github.com/users/binarycrusader/events{/privacy}", "received_events_url": "https://api.github.com/users/binarycrusader/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-14T22:27:34Z", "updated_at": "2017-05-19T16:25:37Z", "closed_at": "2017-05-19T16:25:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was writing unit tests today and spent a while looking at this error:\r\n\r\n```\r\nerror[E0382]: use of moved value: `a`\r\n   --> /builds/srwalker/rsdev/pkg7rust/tests/action.rs:201:16\r\n    |\r\n199 |     let ma = a.must_accept();\r\n    |              - value moved here\r\n200 |     assert_eq!(ma, false);\r\n201 |     assert_eq!(a.must_display(), false);\r\n    |                ^ value used here after move\r\n    |\r\n    = note: move occurs because `a` has type `pkg7::actions::license::LicenseAction<'_>`, which does not implement the `Copy` trait\r\n```\r\nThis message, while probably technically correct, attempts to help in a way that requires a significant amount of reasoning, especially for those relatively new to rust .  That is, the real reason a move occurred here is because I declared `must_accept` like this:\r\n\r\n```\r\npub fn must_accept(self) -> bool\r\n```\r\n...instead of this:\r\n\r\n```\r\npub fn must_accept(&self) -> bool\r\n```\r\n\r\n...causing self to be consumed. For those relatively new to rust, it's easy to forget, and while the error was attempting to tell me this, plainer messaging might have saved me some time.\r\n\r\nPerhaps the message should include something like this before the note about the copy trait?\r\n\r\n```= note: move occurs because must_accept takes ownership of `a` instead of a reference```", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39070/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39070/timeline", "performed_via_github_app": null, "state_reason": "completed"}