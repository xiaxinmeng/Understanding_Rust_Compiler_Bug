{"url": "https://api.github.com/repos/rust-lang/rust/issues/107370", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/107370/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/107370/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/107370/events", "html_url": "https://github.com/rust-lang/rust/issues/107370", "id": 1559879089, "node_id": "I_kwDOAAsO6M5c-d2x", "number": 107370, "title": "[ICE]: Encountered errors while formatting message for `codegen_ssa_apple_sdk_error_sdk_path`", "user": {"login": "Qyriad", "id": 1542224, "node_id": "MDQ6VXNlcjE1NDIyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1542224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Qyriad", "html_url": "https://github.com/Qyriad", "followers_url": "https://api.github.com/users/Qyriad/followers", "following_url": "https://api.github.com/users/Qyriad/following{/other_user}", "gists_url": "https://api.github.com/users/Qyriad/gists{/gist_id}", "starred_url": "https://api.github.com/users/Qyriad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Qyriad/subscriptions", "organizations_url": "https://api.github.com/users/Qyriad/orgs", "repos_url": "https://api.github.com/users/Qyriad/repos", "events_url": "https://api.github.com/users/Qyriad/events{/privacy}", "received_events_url": "https://api.github.com/users/Qyriad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 4417099521, "node_id": "LA_kwDOAAsO6M8AAAABB0eXAQ", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-translation", "name": "A-translation", "color": "f7e101", "default": false, "description": "Area: Translation infrastructure, and migrating existing diagnostics to SessionDiagnostic"}], "state": "closed", "locked": false, "assignee": {"login": "clubby789", "id": 13556931, "node_id": "MDQ6VXNlcjEzNTU2OTMx", "avatar_url": "https://avatars.githubusercontent.com/u/13556931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clubby789", "html_url": "https://github.com/clubby789", "followers_url": "https://api.github.com/users/clubby789/followers", "following_url": "https://api.github.com/users/clubby789/following{/other_user}", "gists_url": "https://api.github.com/users/clubby789/gists{/gist_id}", "starred_url": "https://api.github.com/users/clubby789/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clubby789/subscriptions", "organizations_url": "https://api.github.com/users/clubby789/orgs", "repos_url": "https://api.github.com/users/clubby789/repos", "events_url": "https://api.github.com/users/clubby789/events{/privacy}", "received_events_url": "https://api.github.com/users/clubby789/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "clubby789", "id": 13556931, "node_id": "MDQ6VXNlcjEzNTU2OTMx", "avatar_url": "https://avatars.githubusercontent.com/u/13556931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clubby789", "html_url": "https://github.com/clubby789", "followers_url": "https://api.github.com/users/clubby789/followers", "following_url": "https://api.github.com/users/clubby789/following{/other_user}", "gists_url": "https://api.github.com/users/clubby789/gists{/gist_id}", "starred_url": "https://api.github.com/users/clubby789/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clubby789/subscriptions", "organizations_url": "https://api.github.com/users/clubby789/orgs", "repos_url": "https://api.github.com/users/clubby789/repos", "events_url": "https://api.github.com/users/clubby789/events{/privacy}", "received_events_url": "https://api.github.com/users/clubby789/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-01-27T14:41:13Z", "updated_at": "2023-01-31T09:55:54Z", "closed_at": "2023-01-28T15:54:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Reproduce\n\nThis occurs with binary crate that is able to target macOS and is most visible when cross compiling. `cargo new --bin` is sufficient. The command `cargo rustc --target=x86_64-apple-darwin -- -C linker-flavor=ld64.lld` produces the error on Linux machines, with or without `-C linker=/usr/bin/ld64.lld`.\n\n\n### Affected release channels\n\n- [ ] Previous Stable\n- [X] Current Stable\n- [X] Current Beta\n- [X] Current Nightly\n\n### Rust Version\n\n```Shell\n$ rustc --version --verbose\nrustc 1.67.0 (fc594f156 2023-01-24)\nbinary: rustc\ncommit-hash: fc594f15669680fa70d255faec3ca3fb507c3405\ncommit-date: 2023-01-24\nhost: x86_64-unknown-linux-gnu\nrelease: 1.67.0\nLLVM version: 15.0.6\n```\n\n\n### Current error output\n\n```Shell\nthread 'rustc' panicked at 'Encountered errors while formatting message for `codegen_ssa_apple_sdk_error_sdk_path`\nhelp: Argument `error` exists but was not referenced correctly. Try using `{$error}` instead\nattr: `None`\nargs: `FluentArgs([(\"error\", String(\"No such file or directory (os error 2)\")), (\"sdk_name\", String(\"macosx\"))])`\nerrors: `[ResolverError(Reference(Message { id: \"error\", attribute: None }))]`', compiler/rustc_errors/src/translation.rs:123:21\n```\n\n\n### Backtrace\n\n```Shell\nstack backtrace:\n   0:     0x7fcad0d656fa - std::backtrace_rs::backtrace::libunwind::trace::h34aec3ef6cd8ad7e\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\n   1:     0x7fcad0d656fa - std::backtrace_rs::backtrace::trace_unsynchronized::h8035d38698d0f7a8\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\n   2:     0x7fcad0d656fa - std::sys_common::backtrace::_print_fmt::hff968f6695a1ba22\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/sys_common/backtrace.rs:65:5\n   3:     0x7fcad0d656fa - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h7eea0efe77acf1ec\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/sys_common/backtrace.rs:44:22\n   4:     0x7fcad0dc825e - core::fmt::write::hc553f17407eb0b48\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/core/src/fmt/mod.rs:1208:17\n   5:     0x7fcad0d55a85 - std::io::Write::write_fmt::h62e5f01a089f48c0\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/io/mod.rs:1682:15\n   6:     0x7fcad0d654c5 - std::sys_common::backtrace::_print::h52d116aff3db4cd1\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/sys_common/backtrace.rs:47:5\n   7:     0x7fcad0d654c5 - std::sys_common::backtrace::print::h9e7d2f98fb7af075\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/sys_common/backtrace.rs:34:9\n   8:     0x7fcad0d6820f - std::panicking::default_hook::{{closure}}::hf74999dab2d0a95c\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/panicking.rs:267:22\n   9:     0x7fcad0d67f4b - std::panicking::default_hook::hc11ca7d10c44c42f\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/panicking.rs:286:9\n  10:     0x7fcad4068c31 - rustc_driver[faf1f11f94aaf6ff]::DEFAULT_HOOK::{closure#0}::{closure#0}\n  11:     0x7fcad0d68a4d - <alloc::boxed::Box<F,A> as core::ops::function::Fn<Args>>::call::ha7dbb2d260f78172\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/alloc/src/boxed.rs:2032:9\n  12:     0x7fcad0d68a4d - std::panicking::rust_panic_with_hook::hdb4da1ae79c845a5\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/panicking.rs:692:13\n  13:     0x7fcad0d687c9 - std::panicking::begin_panic_handler::{{closure}}::h02b5b35b126d5cf2\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/panicking.rs:579:13\n  14:     0x7fcad0d65bac - std::sys_common::backtrace::__rust_end_short_backtrace::h6c6853376cf416d1\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/sys_common/backtrace.rs:137:18\n  15:     0x7fcad0d684d2 - rust_begin_unwind\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/panicking.rs:575:5\n  16:     0x7fcad0dc4c43 - core::panicking::panic_fmt::hfd9e949092070b66\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/core/src/panicking.rs:64:14\n  17:     0x7fcad35fd6cb - <rustc_errors[1b8cd632e3edc426]::emitter::EmitterWriter as rustc_errors[1b8cd632e3edc426]::translation::Translate>::translate_message\n  18:     0x7fcad3607199 - <rustc_errors[1b8cd632e3edc426]::emitter::EmitterWriter>::emit_message_default::{closure#0}\n  19:     0x7fcad35f4001 - <rustc_errors[1b8cd632e3edc426]::emitter::EmitterWriter as rustc_errors[1b8cd632e3edc426]::emitter::Emitter>::emit_diagnostic\n  20:     0x7fcad35f2280 - <rustc_errors[1b8cd632e3edc426]::json::Diagnostic>::from_errors_diagnostic\n  21:     0x7fcad35f1bac - <rustc_errors[1b8cd632e3edc426]::json::JsonEmitter as rustc_errors[1b8cd632e3edc426]::emitter::Emitter>::emit_diagnostic\n  22:     0x7fcad2de0abe - <rustc_errors[1b8cd632e3edc426]::HandlerInner>::emit_diagnostic\n  23:     0x7fcad2de0471 - <rustc_errors[1b8cd632e3edc426]::Handler>::emit_diagnostic\n  24:     0x7fcad2d9dcad - <rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed as rustc_errors[1b8cd632e3edc426]::diagnostic_builder::EmissionGuarantee>::diagnostic_builder_emit_producing_guarantee\n  25:     0x7fcad3f075fd - <rustc_session[d01ee0491e5e5048]::parse::ParseSess>::emit_err::<rustc_codegen_ssa[46b0157ab6912f6]::errors::AppleSdkRootError>\n  26:     0x7fcad375e289 - rustc_codegen_ssa[46b0157ab6912f6]::back::link::linker_with_args\n  27:     0x7fcad373ba43 - rustc_codegen_ssa[46b0157ab6912f6]::back::link::link_natively\n  28:     0x7fcad3736205 - rustc_codegen_ssa[46b0157ab6912f6]::back::link::link_binary\n  29:     0x7fcad3734f04 - <rustc_codegen_llvm[f337fa1086678a42]::LlvmCodegenBackend as rustc_codegen_ssa[46b0157ab6912f6]::traits::backend::CodegenBackend>::link\n  30:     0x7fcad3231c5b - <rustc_interface[1d25fa3620f328b6]::queries::Linker>::link\n  31:     0x7fcad321b04b - rustc_span[5737ed96bfbdbd37]::with_source_map::<core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>, rustc_interface[1d25fa3620f328b6]::interface::run_compiler<core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>, rustc_driver[faf1f11f94aaf6ff]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>\n  32:     0x7fcad321aa65 - <scoped_tls[85a67c9db469d989]::ScopedKey<rustc_span[5737ed96bfbdbd37]::SessionGlobals>>::set::<rustc_interface[1d25fa3620f328b6]::interface::run_compiler<core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>, rustc_driver[faf1f11f94aaf6ff]::run_compiler::{closure#1}>::{closure#0}, core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>>\n  33:     0x7fcad321a052 - std[3da7f01c8c2aa3e3]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[1d25fa3620f328b6]::util::run_in_thread_pool_with_globals<rustc_interface[1d25fa3620f328b6]::interface::run_compiler<core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>, rustc_driver[faf1f11f94aaf6ff]::run_compiler::{closure#1}>::{closure#0}, core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>>\n  34:     0x7fcad391ebea - <<std[3da7f01c8c2aa3e3]::thread::Builder>::spawn_unchecked_<rustc_interface[1d25fa3620f328b6]::util::run_in_thread_pool_with_globals<rustc_interface[1d25fa3620f328b6]::interface::run_compiler<core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>, rustc_driver[faf1f11f94aaf6ff]::run_compiler::{closure#1}>::{closure#0}, core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[e12cfea94acfcb96]::result::Result<(), rustc_errors[1b8cd632e3edc426]::ErrorGuaranteed>>::{closure#1} as core[e12cfea94acfcb96]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\n  35:     0x7fcad0d72803 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::ha93239d92e7b610d\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/alloc/src/boxed.rs:2000:9\n  36:     0x7fcad0d72803 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::hebda57b0236de612\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/alloc/src/boxed.rs:2000:9\n  37:     0x7fcad0d72803 - std::sys::unix::thread::Thread::new::thread_start::h1541b4390bbc26ca\n                               at /rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/std/src/sys/unix/thread.rs:108:17\n  38:     0x7fcad0b058fd - <unknown>\n  39:     0x7fcad0b87d20 - <unknown>\n  40:                0x0 - <unknown>\n\nerror: internal compiler error: unexpected panic\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\n\nnote: rustc 1.67.0 (fc594f156 2023-01-24) running on x86_64-unknown-linux-gnu\n\nnote: compiler flags: --crate-type bin -C embed-bitcode=no -C split-debuginfo=unpacked -C debuginfo=2 -C linker-flavor=ld64.lld -C linker=/usr/bin/ld64.lld -C incremental=[REDACTED]\n\nnote: some of the compiler flags provided by cargo are hidden\n\nquery stack during panic:\nend of query stack\n```\n\n\n### Anything else?\n\nI encountered this when cross compiling from Linux to macOS. Setting `$SDKROOT` to some path that *does* exist but isn't a valid macOS SDK gives the expected linker errors of not-found libraries and undefined symbols.\n\n<details>\n<summary>\nThe correct linker errors, which occur with `SDKROOT=/usr` (or any other path that exists)\n</summary>\nerror: linking with `/usr/bin/ld64.lld` failed: exit status: 1\n  |\n  = note: \"/usr/bin/ld64.lld\" \"-flavor\" \"darwin\" \"-arch\" \"x86_64\" \"-platform_version\" \"macos\" \"10.7\" \"10.7\" \"/tmp/rustcmRdv6R/symbols.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.26g0geex1k13oru9.rcgu.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.2kfapquck9om5nbv.rcgu.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.2t3gdrcxwz5f2emf.rcgu.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.3lx1xqdx4bz34wy1.rcgu.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.3zkhvxoukuri2hzc.rcgu.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.czomv88vqwv63hy.rcgu.o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.4xpuzhu0nabigv2g.rcgu.o\" \"-L\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps\" \"-L\" \"/home/qyriad/code/hello/target/debug/deps\" \"-L\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libpanic_unwind-5398d4db8ed2ff6f.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libobject-478a76a3581fca81.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libmemchr-6876f637b366443d.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libaddr2line-539c7e906abde336.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libgimli-83399a3f8aaf8f32.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/librustc_demangle-ffb3dc98877a45b4.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd_detect-067f58df60a72a89.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libhashbrown-faef232906858087.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libminiz_oxide-4f1ed014f3c75703.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libadler-749b556aef66aa6c.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/librustc_std_workspace_alloc-0b3b0361e5f0a714.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libunwind-72e9a1e277d7769c.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libcfg_if-357e8106cf3b63d5.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/liblibc-90980575ee007a80.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/liballoc-b73946858ff9839c.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/librustc_std_workspace_core-6dd5c0cef5b5f8b3.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libcore-7d2b712101daf86c.rlib\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libcompiler_builtins-9b0bf4523e9805e9.rlib\" \"-lSystem\" \"-lc\" \"-lm\" \"-syslibroot\" \"/usr\" \"-L\" \"/home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib\" \"-o\" \"/home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d\" \"-dead_strip\"\n  = note: ld64.lld: error: library not found for -lSystem\n          ld64.lld: error: library not found for -lc\n          ld64.lld: error: library not found for -lm\n          ld64.lld: error: undefined symbol: __Unwind_Resume\n          >>> referenced by function.rs:507 (/rustc/fc594f15669680fa70d255faec3ca3fb507c3405/library/core/src/ops/function.rs:507)\n          >>>               /home/qyriad/code/hello/target/x86_64-apple-darwin/debug/deps/hello-7ed2cd3132e5ea0d.2t3gdrcxwz5f2emf.rcgu.o:(symbol __ZN4core3ops8function6FnOnce9call_once17hf4bc1fd436eb6a1eE+0x1f)\n          >>> referenced by function.rs:507 (library/core/src/ops/function.rs:507)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ops8function6FnOnce40call_once$u7b$$u7b$vtable.shim$u7d$$u7d$17hb84e30cb55012ce5E+0x80)\n          >>> referenced by mod.rs:490 (library/core/src/ptr/mod.rs:490)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr104drop_in_place$LT$alloc..vec..Vec$LT$$LP$usize$C$std..backtrace_rs..symbolize..gimli..Mapping$RP$$GT$$GT$17hed3f267c6b45955bE+0xd1)\n          >>> referenced 89 more times\n          \n          ld64.lld: error: undefined symbol: _memcpy\n          >>> referenced by intrinsics.rs:2433 (library/core/src/intrinsics.rs:2433)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3fmt5Write10write_char17hdfc69d6746a59f51E+0xd4)\n          >>> referenced by intrinsics.rs:2433 (library/core/src/intrinsics.rs:2433)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN50_$LT$$RF$mut$u20$W$u20$as$u20$core..fmt..Write$GT$10write_char17h93a4c2621e683652E+0xe5)\n          >>> referenced by intrinsics.rs:2433 (library/core/src/intrinsics.rs:2433)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN50_$LT$$RF$mut$u20$W$u20$as$u20$core..fmt..Write$GT$9write_str17h37febf5394bdf526E+0x38)\n          >>> referenced 82 more times\n          \n          ld64.lld: error: undefined symbol: __Unwind_GetTextRelBase\n          >>> referenced by gcc.rs:275 (library/std/src/personality/gcc.rs:275)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ops8function6FnOnce40call_once$u7b$$u7b$vtable.shim$u7d$$u7d$17h8d16de3fdc0c0a05E+0xc)\n          >>> referenced by gcc.rs:275 (library/std/src/personality/gcc.rs:275)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std11personality3gcc14find_eh_action28_$u7b$$u7b$closure$u7d$$u7d$17hebef1726d888f975E+0xc)\n          \n          ld64.lld: error: undefined symbol: __Unwind_GetDataRelBase\n          >>> referenced by gcc.rs:276 (library/std/src/personality/gcc.rs:276)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ops8function6FnOnce40call_once$u7b$$u7b$vtable.shim$u7d$$u7d$17hb69dca3e57cf94bbE+0xc)\n          >>> referenced by gcc.rs:276 (library/std/src/personality/gcc.rs:276)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std11personality3gcc14find_eh_action28_$u7b$$u7b$closure$u7d$$u7d$17hbca95bb609e12226E+0xc)\n          \n          ld64.lld: error: undefined symbol: _pthread_mutex_unlock\n          >>> referenced by pthread_mutex.rs:112 (library/std/src/sys/unix/locks/pthread_mutex.rs:112)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr175drop_in_place$LT$std..sys_common..remutex..ReentrantMutexGuard$LT$core..cell..RefCell$LT$std..io..buffered..linewriter..LineWriter$LT$std..io..stdio..StdoutRaw$GT$$GT$$GT$$GT$17h7737580f0f37fcd6E+0x2e)\n          >>> referenced by pthread_mutex.rs:112 (library/std/src/sys/unix/locks/pthread_mutex.rs:112)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr175drop_in_place$LT$std..sys_common..remutex..ReentrantMutexGuard$LT$core..cell..RefCell$LT$std..io..buffered..linewriter..LineWriter$LT$std..io..stdio..StdoutRaw$GT$$GT$$GT$$GT$17h7737580f0f37fcd6E+0x20)\n          >>> referenced by pthread_mutex.rs:112 (library/std/src/sys/unix/locks/pthread_mutex.rs:112)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr46drop_in_place$LT$std..io..stdio..StdinLock$GT$17hf0f24132fd49ff9eE+0x43)\n          >>> referenced 7 more times\n          \n          ld64.lld: error: undefined symbol: _munmap\n          >>> referenced by mmap_unix.rs:40 (library/std/src/../../backtrace/src/symbolize/gimli/mmap_unix.rs:40)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr65drop_in_place$LT$std..backtrace_rs..symbolize..gimli..Mapping$GT$17hf85f5ce9a3e31452E+0xce)\n          >>> referenced by mmap_unix.rs:40 (library/std/src/../../backtrace/src/symbolize/gimli/mmap_unix.rs:40)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr65drop_in_place$LT$std..backtrace_rs..symbolize..gimli..Mapping$GT$17hf85f5ce9a3e31452E+0x31)\n          >>> referenced by mmap_unix.rs:40 (library/std/src/../../backtrace/src/symbolize/gimli/mmap_unix.rs:40)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr68drop_in_place$LT$std..backtrace_rs..symbolize..gimli..mmap..Mmap$GT$17hc7e97f0fcf430b3cE+0x6)\n          >>> referenced 6 more times\n          \n          ld64.lld: error: undefined symbol: _pthread_rwlock_unlock\n          >>> referenced by pthread_rwlock.rs:47 (library/std/src/sys/unix/locks/pthread_rwlock.rs:47)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr71drop_in_place$LT$std..sync..rwlock..RwLockReadGuard$LT$$LP$$RP$$GT$$GT$17hd1e2d6a084e6fddbE+0x33)\n          >>> referenced by pthread_rwlock.rs:47 (library/std/src/sys/unix/locks/pthread_rwlock.rs:47)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr71drop_in_place$LT$std..sync..rwlock..RwLockReadGuard$LT$$LP$$RP$$GT$$GT$17hd1e2d6a084e6fddbE+0x1a)\n          >>> referenced by pthread_rwlock.rs:47 (library/std/src/sys/unix/locks/pthread_rwlock.rs:47)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std3env7_var_os17h3777805ff41a36e7E+0xab)\n          >>> referenced 3 more times\n          \n          ld64.lld: error: undefined symbol: _pthread_mutex_destroy\n          >>> referenced by pthread_mutex.rs:85 (library/std/src/sys/unix/locks/pthread_mutex.rs:85)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr73drop_in_place$LT$std..sys..unix..locks..pthread_mutex..AllocatedMutex$GT$17hd8239a4ac87360b9E+0x6)\n          >>> referenced by pthread_mutex.rs:85 (library/std/src/sys/unix/locks/pthread_mutex.rs:85)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr98drop_in_place$LT$alloc..boxed..Box$LT$std..sys..unix..locks..pthread_mutex..AllocatedMutex$GT$$GT$17hb027e78f6c4c6db8E+0xd)\n          >>> referenced by pthread_mutex.rs:85 (library/std/src/sys/unix/locks/pthread_mutex.rs:85)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN5alloc4sync12Arc$LT$T$GT$9drop_slow17h1dfce2778cdf5d36E+0x6f)\n          >>> referenced 1 more times\n          \n          ld64.lld: error: undefined symbol: _pthread_mutexattr_destroy\n          >>> referenced by pthread_mutex.rs:127 (library/std/src/sys/unix/locks/pthread_mutex.rs:127)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr75drop_in_place$LT$std..sys..unix..locks..pthread_mutex..PthreadMutexAttr$GT$17hca493304f47198a7E+0x6)\n          >>> referenced by pthread_mutex.rs:127 (library/std/src/sys/unix/locks/pthread_mutex.rs:127)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN108_$LT$std..sys..unix..locks..pthread_mutex..AllocatedMutex$u20$as$u20$std..sys_common..lazy_box..LazyInit$GT$4init17ha3b0898f5c42f4f6E+0xdc)\n          \n          ld64.lld: error: undefined symbol: _pthread_rwlock_destroy\n          >>> referenced by pthread_rwlock.rs:54 (library/std/src/sys/unix/locks/pthread_rwlock.rs:54)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr75drop_in_place$LT$std..sys..unix..locks..pthread_rwlock..AllocatedRwLock$GT$17h7c423d2bc244a6ffE+0x6)\n          >>> referenced by pthread_rwlock.rs:54 (library/std/src/sys/unix/locks/pthread_rwlock.rs:54)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std10sys_common8lazy_box16LazyBox$LT$T$GT$10initialize17h760b822df99198c6E+0x70)\n          \n          ld64.lld: error: undefined symbol: _memmove\n          >>> referenced by intrinsics.rs:2519 (library/core/src/intrinsics.rs:2519)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core3ptr90drop_in_place$LT$std..io..buffered..bufwriter..BufWriter$LT$W$GT$..flush_buf..BufGuard$GT$17hcdc9da9cacd190baE+0x36)\n          >>> referenced by intrinsics.rs:2519 (library/core/src/intrinsics.rs:2519)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN9addr2line16Context$LT$R$GT$11find_frames17he44479834bec168fE+0x269f)\n          >>> referenced by intrinsics.rs:2519 (library/core/src/intrinsics.rs:2519)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN9addr2line16Context$LT$R$GT$11find_frames17he44479834bec168fE+0x1223)\n          >>> referenced 18 more times\n          \n          ld64.lld: error: undefined symbol: _memcmp\n          >>> referenced by cmp.rs:198 (library/core/src/slice/cmp.rs:198)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core5slice4sort12choose_pivot28_$u7b$$u7b$closure$u7d$$u7d$17h1db2e1cfbb6463b0E+0x13e)\n          >>> referenced by cmp.rs:198 (library/core/src/slice/cmp.rs:198)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core5slice4sort12choose_pivot28_$u7b$$u7b$closure$u7d$$u7d$17h1db2e1cfbb6463b0E+0xda)\n          >>> referenced by cmp.rs:198 (library/core/src/slice/cmp.rs:198)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN4core5slice4sort12choose_pivot28_$u7b$$u7b$closure$u7d$$u7d$17h1db2e1cfbb6463b0E+0x5a)\n          >>> referenced 31 more times\n          \n          ld64.lld: error: undefined symbol: _pthread_mutex_trylock\n          >>> referenced by pthread_mutex.rs:66 (library/std/src/sys/unix/locks/pthread_mutex.rs:66)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN5alloc4sync12Arc$LT$T$GT$9drop_slow17h1dfce2778cdf5d36E+0x17)\n          >>> referenced by pthread_mutex.rs:118 (library/std/src/sys/unix/locks/pthread_mutex.rs:118)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std4sync4once4Once9call_once28_$u7b$$u7b$closure$u7d$$u7d$17h9c07188eab35bf0eE+0x1c2)\n          >>> referenced by pthread_mutex.rs:118 (library/std/src/sys/unix/locks/pthread_mutex.rs:118)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std4sync4once4Once9call_once28_$u7b$$u7b$closure$u7d$$u7d$17h9c07188eab35bf0eE+0x7f)\n          \n          ld64.lld: error: undefined symbol: _dispatch_release\n          >>> referenced by darwin.rs:128 (library/std/src/sys/unix/thread_parker/darwin.rs:128)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN5alloc4sync12Arc$LT$T$GT$9drop_slow17ha7ab73c110de5a07E+0x31)\n          \n          ld64.lld: error: undefined symbol: _abort\n          >>> referenced by mod.rs:149 (library/std/src/sys/unix/mod.rs:149)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std2rt19lang_start_internal17hd56d2fa7efb2dd60E+0x570)\n          >>> referenced by mod.rs:347 (library/std/src/sys/unix/mod.rs:347)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std3sys4unix14abort_internal17ha17a3eb079646e02E+0x5)\n          \n          ld64.lld: error: undefined symbol: ___error\n          >>> referenced by os.rs:76 (library/std/src/sys/unix/os.rs:76)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std2rt19lang_start_internal17hd56d2fa7efb2dd60E+0x3a3)\n          >>> referenced by os.rs:76 (library/std/src/sys/unix/os.rs:76)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std2rt19lang_start_internal17hd56d2fa7efb2dd60E+0x334)\n          >>> referenced by os.rs:76 (library/std/src/sys/unix/os.rs:76)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std2rt19lang_start_internal17hd56d2fa7efb2dd60E+0xb5)\n          >>> referenced 19 more times\n          \n          ld64.lld: error: undefined symbol: _mprotect\n          >>> referenced by thread.rs:823 (library/std/src/sys/unix/thread.rs:823)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std2rt19lang_start_internal17hd56d2fa7efb2dd60E+0x256)\n          >>> referenced by stack_overflow.rs:142 (library/std/src/sys/unix/stack_overflow.rs:142)\n          >>>               /home/qyriad/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-apple-darwin/lib/libstd-c84f81b3d1a36b6e.rlib(std-c84f81b3d1a36b6e.std.0959ce86-cgu.0.rcgu.o):(symbol __ZN3std3sys4unix14stack_overflow3imp12make_handler17h50336235e5e30f96E+0x85)\n          \n          ld64.lld: error: too many errors emitted, stopping now (use --error-limit=0 to see all errors)\n\n</details>\n\nOn Rust 1.66.0, it simply emits the (non-internal) error: `error: failed to get macosx SDK path: No such file or directory (os error 2)`, which makes sense.\n\nI imagine this would also happen on non-cross builds targeting macOS if `xcrun` isn't available and `$SDKROOT` isn't set.\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"clubby789\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/107370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/107370/timeline", "performed_via_github_app": null, "state_reason": "completed"}