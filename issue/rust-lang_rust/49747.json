{"url": "https://api.github.com/repos/rust-lang/rust/issues/49747", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/49747/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/49747/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/49747/events", "html_url": "https://github.com/rust-lang/rust/issues/49747", "id": 312110319, "node_id": "MDU6SXNzdWUzMTIxMTAzMTk=", "number": 49747, "title": "Regression in cargo 1.26.0-nightly 2018-04-04:  `[target.'cfg(FLAG)'.dependencies] ` does not work anymore", "user": {"login": "PaulGrandperrin", "id": 1748936, "node_id": "MDQ6VXNlcjE3NDg5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1748936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PaulGrandperrin", "html_url": "https://github.com/PaulGrandperrin", "followers_url": "https://api.github.com/users/PaulGrandperrin/followers", "following_url": "https://api.github.com/users/PaulGrandperrin/following{/other_user}", "gists_url": "https://api.github.com/users/PaulGrandperrin/gists{/gist_id}", "starred_url": "https://api.github.com/users/PaulGrandperrin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PaulGrandperrin/subscriptions", "organizations_url": "https://api.github.com/users/PaulGrandperrin/orgs", "repos_url": "https://api.github.com/users/PaulGrandperrin/repos", "events_url": "https://api.github.com/users/PaulGrandperrin/events{/privacy}", "received_events_url": "https://api.github.com/users/PaulGrandperrin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-06T20:39:11Z", "updated_at": "2018-04-07T08:58:51Z", "closed_at": "2018-04-07T08:58:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "The new revision of cargo included in rust nightly has a regression.\r\n```\r\ncargo 1.26.0-nightly (b70ab13b3 2018-04-04)\r\nrelease: 1.26.0\r\ncommit-hash: b70ab13b31628e91b05961d55c07abf20ad49de6\r\ncommit-date: 2018-04-04\r\n```\r\nMy crate [honggfuzz-rs](https://github.com/rust-fuzz/honggfuzz-rs) is tested on travis daily and today the compilation failed even though there wasn't any commit:\r\nhttps://travis-ci.org/rust-fuzz/honggfuzz-rs/builds/363265565\r\n\r\nI suspect the regression comes from this line in my cargo.toml:\r\n```toml\r\n[target.'cfg(fuzzing_debug)'.dependencies]\r\nmemmap = \"0.6\"\r\n```\r\nCode including `memmap` is only compiled when building with `--cfg fuzzing_debug` and until now, this crate was accordingly also only included when building with this flag.\r\n\r\nIt seems that this dependency is not understood anymore on the latest nightly.\r\n\r\nI guess very few people/crates will be affected by this change/regression. For the record, I just want to state that I really don't care if it is decided that this functionality is not supported anymore.", "closed_by": {"login": "PaulGrandperrin", "id": 1748936, "node_id": "MDQ6VXNlcjE3NDg5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1748936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PaulGrandperrin", "html_url": "https://github.com/PaulGrandperrin", "followers_url": "https://api.github.com/users/PaulGrandperrin/followers", "following_url": "https://api.github.com/users/PaulGrandperrin/following{/other_user}", "gists_url": "https://api.github.com/users/PaulGrandperrin/gists{/gist_id}", "starred_url": "https://api.github.com/users/PaulGrandperrin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PaulGrandperrin/subscriptions", "organizations_url": "https://api.github.com/users/PaulGrandperrin/orgs", "repos_url": "https://api.github.com/users/PaulGrandperrin/repos", "events_url": "https://api.github.com/users/PaulGrandperrin/events{/privacy}", "received_events_url": "https://api.github.com/users/PaulGrandperrin/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/49747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/49747/timeline", "performed_via_github_app": null, "state_reason": "completed"}