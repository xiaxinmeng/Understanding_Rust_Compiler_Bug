{"url": "https://api.github.com/repos/rust-lang/rust/issues/34293", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34293/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34293/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34293/events", "html_url": "https://github.com/rust-lang/rust/issues/34293", "id": 160551125, "node_id": "MDU6SXNzdWUxNjA1NTExMjU=", "number": 34293, "title": "Rust complains about \"private type in public interface\" even though the type and interface are both aliases.", "user": {"login": "jmegaffin", "id": 6600114, "node_id": "MDQ6VXNlcjY2MDAxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6600114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmegaffin", "html_url": "https://github.com/jmegaffin", "followers_url": "https://api.github.com/users/jmegaffin/followers", "following_url": "https://api.github.com/users/jmegaffin/following{/other_user}", "gists_url": "https://api.github.com/users/jmegaffin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmegaffin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmegaffin/subscriptions", "organizations_url": "https://api.github.com/users/jmegaffin/orgs", "repos_url": "https://api.github.com/users/jmegaffin/repos", "events_url": "https://api.github.com/users/jmegaffin/events{/privacy}", "received_events_url": "https://api.github.com/users/jmegaffin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-16T00:07:07Z", "updated_at": "2016-08-11T20:14:29Z", "closed_at": "2016-08-11T20:14:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` rust\nuse core::nonzero::NonZero;\nuse std::os::raw::c_void;\n\ntype Foo = NonZero<*const c_void>;\n\n// warning: private type in public interface\npub type Bar = Foo;\n// warning: private type in public interface\npub type Baz = Foo;\n```\n\nI also tried `pub use`ing `NonZero` and `c_void` but that didn't help, so it's not the types themselves that are the problem.  It seems bizarre that Rust would complain about this behaviour when, for example, error messages are unaware of aliases.  Even if they were, it would be trivial to resolve private aliases to the public types they are defined as, so I can't see the utility of disallowing this.\n\nMy `rustc --version --verbose`:\n\n```\nrustc 1.11.0-nightly (6b4511755 2016-06-14)\nbinary: rustc\ncommit-hash: 6b4511755cfe63a46f2db8c72145e07f94911c08\ncommit-date: 2016-06-14\nhost: x86_64-unknown-linux-gnu\nrelease: 1.11.0-nightly\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34293/timeline", "performed_via_github_app": null, "state_reason": "completed"}