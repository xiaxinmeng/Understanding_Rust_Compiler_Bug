{"url": "https://api.github.com/repos/rust-lang/rust/issues/19583", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19583/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19583/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19583/events", "html_url": "https://github.com/rust-lang/rust/issues/19583", "id": 51162800, "node_id": "MDU6SXNzdWU1MTE2MjgwMA==", "number": 19583, "title": "ICE in typeck: assertion failed in librustc/middle/typeck/check/method/confirm.rs", "user": {"login": "msiemens", "id": 1873922, "node_id": "MDQ6VXNlcjE4NzM5MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1873922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msiemens", "html_url": "https://github.com/msiemens", "followers_url": "https://api.github.com/users/msiemens/followers", "following_url": "https://api.github.com/users/msiemens/following{/other_user}", "gists_url": "https://api.github.com/users/msiemens/gists{/gist_id}", "starred_url": "https://api.github.com/users/msiemens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msiemens/subscriptions", "organizations_url": "https://api.github.com/users/msiemens/orgs", "repos_url": "https://api.github.com/users/msiemens/repos", "events_url": "https://api.github.com/users/msiemens/events{/privacy}", "received_events_url": "https://api.github.com/users/msiemens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-06T00:32:39Z", "updated_at": "2014-12-24T20:41:32Z", "closed_at": "2014-12-24T20:41:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Compiling some code (on Linux) resulted in this ICE:\n\n```\ntask 'rustc' panicked at 'assertion failed: `(left == right) && (right == left)` (left: `None`, right: `Some(())`)', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/librustc/middle/typeck/check/method/confirm.rs:152\n\nstack backtrace:\n   1:     0x7f256c323b70 - rt::backtrace::imp::write::h990abaacfa2176b6qfy\n   2:     0x7f256c326c40 - failure::on_fail::h38b0b794e233abc2QHy\n   3:     0x7f256bf79cc0 - unwind::begin_unwind_inner::h2efca3c0591abcbd6Qc\n   4:     0x7f256bf798f0 - unwind::begin_unwind_fmt::h1966842b632a71b7hOc\n   5:     0x7f256aeba460 - middle::typeck::check::method::confirm::ConfirmContext<'a, 'tcx>::confirm::hcb2ce4cad29797fafyg\n   6:     0x7f256aed8610 - middle::typeck::check::method::lookup::hb053a4169f2c1619Dzj\n   7:     0x7f256af970b0 - middle::typeck::check::check_expr_with_unifier::check_method_call::h68dfdcfe3a4751a1iop\n   8:     0x7f256af8ae90 - middle::typeck::check::check_expr_with_unifier::hb92b2ad3850873267ip\n   9:     0x7f256ae6b0f0 - middle::typeck::check::_match::check_match::h5c411f1aa2f77dacezb\n  10:     0x7f256af8ae90 - middle::typeck::check::check_expr_with_unifier::hb92b2ad3850873267ip\n  11:     0x7f256af3f720 - middle::typeck::check::check_block_with_expected::h3956d795c9aeeb87Kir\n  12:     0x7f256af8ae90 - middle::typeck::check::check_expr_with_unifier::hb92b2ad3850873267ip\n  13:     0x7f256ae6b0f0 - middle::typeck::check::_match::check_match::h5c411f1aa2f77dacezb\n  14:     0x7f256af8ae90 - middle::typeck::check::check_expr_with_unifier::hb92b2ad3850873267ip\n  15:     0x7f256af3f720 - middle::typeck::check::check_block_with_expected::h3956d795c9aeeb87Kir\n  16:     0x7f256af16690 - middle::typeck::check::check_fn::h1a71f1287e45c3b7xJl\n  17:     0x7f256af3cd50 - middle::typeck::check::check_bare_fn::h918284b622e60d7cByl\n  18:     0x7f256af435f0 - middle::typeck::check::check_method_body::hd5c696a286263db7D3l\n  19:     0x7f256af38bc0 - middle::typeck::check::check_item::h8d5984f625a43c66MSl\n  20:     0x7f256af3c680 - visit::walk_mod::h17216003542078371067\n  21:     0x7f256af3c9e0 - middle::typeck::check::check_item_types::h4e49e4094b67da4bLxl\n  22:     0x7f256b2fbcb0 - util::common::time::h12622327612847767970\n  23:     0x7f256b2faef0 - middle::typeck::check_crate::hc4bb4e5d8eba9f8a2hP\n  24:     0x7f256c93f500 - driver::driver::phase_3_run_analysis_passes::h3d64e023ddfcea4fLzS\n  25:     0x7f256c9345a0 - driver::driver::compile_input::h34658a73b26c5cbfLgS\n  26:     0x7f256c9b7740 - driver::run_compiler::hf08ea8f291fae6b9WeU\n  27:     0x7f256c9b7630 - driver::run::closure.60675\n  28:     0x7f256c7c1080 - task::TaskBuilder::try_future::closure.39831\n  29:     0x7f256c2f47d0 - task::TaskBuilder::spawn_internal::closure.30969\n  30:     0x7f256bf77a90 - task::Task::spawn::closure.5760\n  31:     0x7f256bfd3bd0 - rust_try_inner\n  32:     0x7f256bfd3bc0 - rust_try\n  33:     0x7f256bf77b70 - unwind::try::haea8bc421c68cd5epFc\n  34:     0x7f256bf77930 - task::Task::run::h24525a73fb4c9bb3fOb\n  35:     0x7f256bf77520 - task::Task::spawn::closure.5736\n  36:     0x7f256bf78f70 - thread::thread_start::ha943fdda31374bc3i6b\n  37:     0x7f2566cc7e20 - start_thread\n  38:     0x7f256bc3fb59 - clone\n  39:                0x0 - <unknown>\n\n$ rustc --version\nrustc 0.13.0-nightly (d9c7c00b9 2014-12-04 21:33:07 +0000)\n```\n\nThe same code ICE's with a different stack backtrace when compiling on Windows:\n\n```\ntask 'rustc' panicked at 'assertion failed: `(left == right) && (right == left)` (left: `None`, right: `Some(())`)', F:\\Dokumente\\Coding\\rust\\rust-lang\\src\\librustc_typeck\\check\\method\\confirm.rs:153\n\n\nstack backtrace:\n   1: 0x62f30e11 - ZN2rt4init20hfe895a7bc70b7991F2yE\n   2:   0x5a5cdc - ZN6unwind18begin_unwind_inner20h76c4802219079ceddocE\n   3:   0x5a5a28 - ZN6unwind16begin_unwind_fmt20hb81c38ca2ace2af7olcE\n   4:  0x127e312 - ZN5check8regionck51Rcx$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$11visit_local20h55dad3e8b86a7683igdE\n   5:  0x134628f - ZN5check38TupleArgumentsFlag...std..clone..Clone5clone20he6155115885858c9sgoE\n   6:  0x133c709 - ZN5check33LvaluePreference...std..fmt..Show3fmt20h73780114875bfc9eh9mE\n   7:  0x123b877\n   8:  0x133ce8d - ZN5check33LvaluePreference...std..fmt..Show3fmt20h73780114875bfc9eh9mE\n   9:  0x12ff7c3 - ZN5check67GatherLocalsVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h2343e58ad8be94ecoIkE\n  10:  0x133d016 - ZN5check33LvaluePreference...std..fmt..Show3fmt20h73780114875bfc9eh9mE\n  11:  0x123b877\n  12:  0x133ce8d - ZN5check33LvaluePreference...std..fmt..Show3fmt20h73780114875bfc9eh9mE\n  13:  0x12ff750 - ZN5check67GatherLocalsVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h2343e58ad8be94ecoIkE\n  14:  0x12d8c48 - ZN6rscope28UnelidableRscope.RegionScope20default_region_bound20hc1e1f94f25defbdcqxsE\n  15:  0x12fcd94 - ZN5check69CheckItemTypesVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$8visit_ty20h6313bfb8cd3ffc01awkE\n  16:  0x12fff67 - ZN5check67GatherLocalsVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h2343e58ad8be94ecoIkE\n  17:  0x12f88f1 - ZN5check69CheckItemTypesVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$10visit_item20h720a968a26401682NvkE\n  18:  0x12fc92f - ZN5check69CheckItemTypesVisitor$LT$$x27a$C$$x20$x27tcx$GT$.Visitor$LT$$x27v$GT$8visit_ty20h6313bfb8cd3ffc01awkE\n  19: 0x615f7461\n\n\n$ rustc --version\nrustc 0.13.0-dev (6f4c11be3 2014-12-05 20:23:10 +0000)\n```\n\nI wasn't able to quickly get a minimal example, but will do so tomorrow.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/19583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19583/timeline", "performed_via_github_app": null, "state_reason": "completed"}