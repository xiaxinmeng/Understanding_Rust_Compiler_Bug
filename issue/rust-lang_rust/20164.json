{"url": "https://api.github.com/repos/rust-lang/rust/issues/20164", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20164/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20164/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20164/events", "html_url": "https://github.com/rust-lang/rust/issues/20164", "id": 52716872, "node_id": "MDU6SXNzdWU1MjcxNjg3Mg==", "number": 20164, "title": "ICE: Referenced variable location is not an alloca", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-23T06:14:41Z", "updated_at": "2014-12-23T06:20:56Z", "closed_at": "2014-12-23T06:20:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Introduced in the last few days, happens with nonzero `--debuginfo`. \n\n`rustc 0.13.0-nightly (34d680009 2014-12-22 00:12:47 +0000)`.\n\n``` Rust\n#![crate_type=\"lib\"]\n#![allow(warnings)]\n\nfn foo() {\n    for _i in SIZES.iter() {}\n}\n\nstatic SIZES: [u64, ..1] = [\n    40_u64,\n];\n```\n\n```\njurily@jurily ~/p/p/scratch> rustc src/lib.rs # success\njurily@jurily ~/p/p/scratch> rustc src/lib.rs -g\nsrc/lib.rs:5:9: 5:11 error: internal compiler error: debuginfo::create_for_loop_var_metadata() - Referenced variable location is not an alloca!\nsrc/lib.rs:5     for _i in SIZES.iter() {}\n                     ^~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/diagnostic.rs:123\n\nstack backtrace:\n   1:     0x7fbfd75047f0 - sys::backtrace::write::hc1f09f1eae19d77aQxt\n   2:     0x7fbfd7525710 - failure::on_fail::h0fb87b850ab6cd900Xz\n   3:     0x7fbfd74914a0 - rt::unwind::begin_unwind_inner::habde574b4f76ade20Bz\n   4:     0x7fbfd2532f00 - rt::unwind::begin_unwind::h16328291673998487577\n   5:     0x7fbfd2532e80 - diagnostic::SpanHandler::span_bug::hbb7934a78e265d5dSXF\n   6:     0x7fbfd540c350 - session::Session::span_bug::h8e056d7b667a2fcb1on\n   7:     0x7fbfd63932a0 - middle::pat_util::pat_bindings::closure.49058\n   8:     0x7fbfd24fdd50 - ast_util::walk_pat::hab0b8805a667994dlxC\n   9:     0x7fbfd62c0f90 - trans::expr::trans_rvalue_stmt_unadjusted::hb3ffc0f604cb73e4l4i\n  10:     0x7fbfd627b2c0 - trans::expr::trans_into::h71668aa506e1a690uGh\n  11:     0x7fbfd627ba20 - trans::controlflow::trans_block::hc167a4817215f70d9Zd\n  12:     0x7fbfd6327310 - trans::base::trans_closure::h0f21c829c37744a86au\n  13:     0x7fbfd626ffd0 - trans::base::trans_fn::h5a95a6b70c2d9335nmu\n  14:     0x7fbfd626b520 - trans::base::trans_item::hf517e1dbb2128044rHu\n  15:     0x7fbfd632f230 - trans::base::trans_crate::he5a814094c8a4da1HDv\n  16:     0x7fbfd7a64f70 - driver::phase_4_translate_to_llvm::hc65b794b160978481Ca\n  17:     0x7fbfd7a3be40 - driver::compile_input::hec1a59cac622cf55vba\n  18:     0x7fbfd7be3220 - thunk::F.Invoke<A,$u{20}R$GT$::invoke::h10851168864564136615\n  19:     0x7fbfd7be18d0 - rt::unwind::try::try_fn::h10692001439554181982\n  20:     0x7fbfd75893f0 - rust_try_inner\n  21:     0x7fbfd75893e0 - rust_try\n  22:     0x7fbfd7be1c00 - thunk::F.Invoke<A,$u{20}R$GT$::invoke::h18028200319240022992\n  23:     0x7fbfd7514f60 - sys::thread::thread_start::hdeb95f039f29863doww\n  24:     0x7fbfd1d35190 - <unknown>\n  25:     0x7fbfd7146f29 - __clone\n  26:                0x0 - <unknown>\n```\n", "closed_by": {"login": "jdm", "id": 27658, "node_id": "MDQ6VXNlcjI3NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdm", "html_url": "https://github.com/jdm", "followers_url": "https://api.github.com/users/jdm/followers", "following_url": "https://api.github.com/users/jdm/following{/other_user}", "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdm/subscriptions", "organizations_url": "https://api.github.com/users/jdm/orgs", "repos_url": "https://api.github.com/users/jdm/repos", "events_url": "https://api.github.com/users/jdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jdm/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20164/timeline", "performed_via_github_app": null, "state_reason": "completed"}