{"url": "https://api.github.com/repos/rust-lang/rust/issues/69270", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/69270/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/69270/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/69270/events", "html_url": "https://github.com/rust-lang/rust/issues/69270", "id": 567152561, "node_id": "MDU6SXNzdWU1NjcxNTI1NjE=", "number": 69270, "title": "[lint: unsafe_in_unsafe_fn] A lint which triggers on unsafe operations in `unsafe fn`", "user": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-18T20:55:59Z", "updated_at": "2022-01-27T10:55:55Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As a follow up to fixing https://github.com/rust-lang/rust/issues/69173 via https://github.com/rust-lang/rust/pull/69245, we would like to see a lint, starting as `allow`-by-default which would trigger on the following situation:\r\n\r\n```rust\r\n#![warn(unsafe_in_unsafe_fn)]\r\n\r\nunsafe fn foo() {} // Stand-in for any unsafe operation.\r\nunsafe fn bar() {\r\n    foo();\r\n    //~^ WARN unsafe operation directly in `unsafe fn`\r\n    //~| HELP move the operation into an `unsafe { ... }` block.\r\n}\r\n```\r\n\r\nEventually, over time, we would like to consider moving this lint to be `warn`-by-default, but we would like to give the ecosystem time to adapt before doing so. We have not discussed what the timescale of \"eventually\" entails.\r\n\r\nContext (this has already been tentatively accepted by the language team in meetings, though not FCP):\r\n- https://github.com/rust-lang/rfcs/pull/2585#issuecomment-586325462\r\n- https://github.com/rust-lang/rfcs/pull/2585#issuecomment-586513265\r\n\r\ncc @rust-lang/lang @RalfJung \n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\nThis issue has been assigned to @LeSeulArtichaut via [this comment](https://github.com/rust-lang/rust/issues/69270#issuecomment-588254029).\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"LeSeulArtichaut\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/69270/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/69270/timeline", "performed_via_github_app": null, "state_reason": null}