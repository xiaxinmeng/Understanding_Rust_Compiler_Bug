{"url": "https://api.github.com/repos/rust-lang/rust/issues/29740", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/29740/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/29740/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/29740/events", "html_url": "https://github.com/rust-lang/rust/issues/29740", "id": 116029072, "node_id": "MDU6SXNzdWUxMTYwMjkwNzI=", "number": 29740, "title": "OOM building Servo after Rustup - deep recursion in mir", "user": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 256133398, "node_id": "MDU6TGFiZWwyNTYxMzMzOTg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-mir", "name": "A-mir", "color": "f7e101", "default": false, "description": "Area: Mid-level IR (MIR) - https://blog.rust-lang.org/2016/04/19/MIR.html"}], "state": "closed", "locked": false, "assignee": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2015-11-10T05:18:05Z", "updated_at": "2015-11-12T10:38:56Z", "closed_at": "2015-11-12T10:38:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\n#0  0x00007ffff7584da0 in oom::hc14cacb105af3859iub () from /usr/local/lib/libstd-8cf6ce90.so\n#1  0x00007ffff64e9caf in raw_vec::_$LT$impl$GT$::double::double::h12412696929041978538 () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#2  0x00007ffff64e6260 in build::cfg::_$LT$impl$GT$::start_new_block::heb1b8380252b8530fna () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#3  0x00007ffff650b0e4 in build::matches::test::_$LT$impl$GT$::call_comparison_fn::h75cd7a8ef7591ed4HGb () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#4  0x00007ffff6509750 in build::matches::test::_$LT$impl$GT$::perform_test::h032a1e873b4f8bf31Ab () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#5  0x00007ffff6511b25 in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#6  0x00007ffff65120ee in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#7  0x00007ffff65120ee in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#8  0x00007ffff65120ee in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#9  0x00007ffff65120ee in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#10 0x00007ffff65120ee in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n...\n#120 0x00007ffff65120ee in build::matches::_$LT$impl$GT$::match_candidates::ha9db898a51f89f14tqc () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#121 0x00007ffff64febcc in build::expr::into::_$LT$impl$GT$::into_expr::hd474bc15d5db47d4w8a () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#122 0x00007ffff64ff70f in build::into::_$LT$impl$GT$::eval_into::h646bd1cee14f27349ob () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#123 0x00007ffff64fa3ca in build::expr::into::_$LT$impl$GT$::into_expr::hd474bc15d5db47d4w8a () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#124 0x00007ffff64ff70f in build::into::_$LT$impl$GT$::eval_into::h646bd1cee14f27349ob () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#125 0x00007ffff64e9c1e in build::into::_$LT$impl$GT$::eval_into::h653729f06b55769coqb () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#126 0x00007ffff64e81c8 in build::block::_$LT$impl$GT$::ast_block::h4dafd3792c8ce5263ka () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#127 0x00007ffff64e3b6e in build::construct::h9612d1f0ff18acc5Zba () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#128 0x00007ffff651ef95 in mir_map::_$LT$impl$GT$::visit_fn::h2e04acb1eab91708sbd () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#129 0x00007ffff651ced9 in mir_map::_$LT$impl$GT$::visit_item::ha51d31a4db6001c2s8c () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#130 0x00007ffff651ca8a in mir_map::_$LT$impl$GT$::visit_item::ha51d31a4db6001c2s8c () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#131 0x00007ffff651ca8a in mir_map::_$LT$impl$GT$::visit_item::ha51d31a4db6001c2s8c () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#132 0x00007ffff651c40c in mir_map::build_mir_for_crate::h410e26a41a34d6ccA6c () from /usr/local/lib/librustc_mir-8cf6ce90.so\n#133 0x00007ffff7a49440 in driver::phase_3_run_analysis_passes::_$LT$closure$GT$::closure.21972 () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#134 0x00007ffff7a2c464 in middle::ty::context::_$LT$impl$GT$::create_and_enter::create_and_enter::h4307381944410836454 () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#135 0x00007ffff7a27855 in driver::phase_3_run_analysis_passes::h6779606147744044053 () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#136 0x00007ffff7a07ba3 in driver::compile_input::h773898ad93c34082aca () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#137 0x00007ffff7b63a3c in run_compiler::h89eb6260e132f685ssc () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#138 0x00007ffff7b60ab7 in sys_common::unwind::try::try_fn::try_fn::h9774174355030096594 () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#139 0x00007ffff756e339 in __rust_try () from /usr/local/lib/libstd-8cf6ce90.so\n#140 0x00007ffff75623bc in sys_common::unwind::try::inner_try::h937939714e6f6031tus () from /usr/local/lib/libstd-8cf6ce90.so\n#141 0x00007ffff7b60e05 in boxed::_$LT$impl$GT$::call_box::call_box::h2378443920150659394 () from /usr/local/lib/librustc_driver-8cf6ce90.so\n#142 0x00007ffff75759f4 in sys::thread::_$LT$impl$GT$::new::thread_start::ha23768bb722fd035QUw () from /usr/local/lib/libstd-8cf6ce90.so\n#143 0x00007ffff0c016aa in start_thread (arg=0x7fffeebff700) at pthread_create.c:333\n#144 0x00007ffff71f6eed in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n```\n\nThe elided frames are all identical to the ones before and after.\n\nSeems related, but different, to https://github.com/rust-lang/rust/issues/29466\n\nTo repro, need to build Servo after a rustup, see this branch: https://github.com/servo/servo/pull/8446. Occurs when building the script crate.\n\ncc @nikomatsakis, @Manishearth \n", "closed_by": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/29740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/29740/timeline", "performed_via_github_app": null, "state_reason": "completed"}