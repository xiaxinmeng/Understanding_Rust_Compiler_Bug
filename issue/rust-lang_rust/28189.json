{"url": "https://api.github.com/repos/rust-lang/rust/issues/28189", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28189/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28189/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28189/events", "html_url": "https://github.com/rust-lang/rust/issues/28189", "id": 104664221, "node_id": "MDU6SXNzdWUxMDQ2NjQyMjE=", "number": 28189, "title": "ICE with closure in array size", "user": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}, {"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-03T10:29:24Z", "updated_at": "2015-11-19T14:31:05Z", "closed_at": "2015-10-25T16:38:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## STR\n\n``` Rust\nstruct S<T>(T) where [T; (||{}, 1).1]: Copy;                                    \nfn main() {}\n```\n## ICE\n\n```\nerror: internal compiler error: ParameterEnvironment::from_item(): `unknown node\n (id=10)` is not an item\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/m\naster/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'Box<Any>', ../src/libsyntax/diagnostic.rs:253\n\nstack backtrace:\n   1:     0x7fbd20026278 - sys::backtrace::tracing::imp::write::ha9cbea636be565d\n3Mns\n                        at ../src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:40\n   2:     0x7fbd2003051d - panicking::on_panic::h442c593a84f9e18f2ox\n                        at ../src/libstd/panicking.rs:45\n   3:     0x7fbd1ffe82d2 - rt::unwind::begin_unwind_inner::h4756f523b5ea47f6GRw\n                        at ../src/libstd/rt/unwind/mod.rs:279\n   4:     0x7fbd1aa267aa - rt::unwind::begin_unwind::h12315707193879185804\n                        at ../src/libstd/rt/unwind/mod.rs:232\n   5:     0x7fbd1aa27e5e - diagnostic::Handler::bug::h435e929ca6d65f67BUA\n                        at /tmp/tmp.ebkarkShAE/rust/build-debug-assertions/<std \nmacros>:3\n   6:     0x7fbd1df1cb96 - session::Session::bug::h576a41ec8d8eacb7DVv\n                        at ../src/librustc/session/mod.rs:218\n   7:     0x7fbd1df2a168 - middle::ty::ParameterEnvironment<'a, 'tcx>::for_item:\n:hdb8f422ac5af234chN7\n                        at ../src/librustc/middle/ty.rs:3021\n   8:     0x7fbd1df2a180 - middle::ty::ParameterEnvironment<'a, 'tcx>::for_item:\n:hdb8f422ac5af234chN7\n                        at ../src/librustc/middle/ty.rs:3018\n   9:     0x7fbd1df2e25f - middle::check_const::CheckCrateVisitor<'a, 'tcx>::fn_\nlike::closure.87516\n                        at ../src/librustc/middle/check_const.rs:120\n                        at ../src/librustc/middle/check_const.rs:189\n  10:     0x7fbd1df2e0f2 - middle::check_const::CheckCrateVisitor<'a, 'tcx>::fn_\nlike::hc6f2144bd55125b9iNf\n                        at ../src/librustc/middle/check_const.rs:110\n                        at ../src/librustc/middle/check_const.rs:188\n  11:     0x7fbd1df36f6c - visit::walk_expr::h5840287169546543487 \n                        at ../src/librustc/middle/check_const.rs:361\n                        at ../src/librustc_front/visit.rs:775\n  12:     0x7fbd1df2d8c4 - middle::check_const::CheckCrateVisitor<'a, 'tcx>.Visi\ntor<'v>::visit_expr::h1e6440ffedf1f5b1T6f\n                        at ../src/librustc/middle/check_const.rs:487\n  13:     0x7fbd1df36e5e - visit::walk_expr::h5840287169546543487 \n                        at ../src/librustc_front/visit.rs:731\n  14:     0x7fbd1df2d8c4 - middle::check_const::CheckCrateVisitor<'a, 'tcx>.Visi\ntor<'v>::visit_expr::h1e6440ffedf1f5b1T6f\n                        at ../src/librustc/middle/check_const.rs:487\n  15:     0x7fbd1df2d8c4 - middle::check_const::CheckCrateVisitor<'a, 'tcx>.Visi\ntor<'v>::visit_expr::h1e6440ffedf1f5b1T6f\n                        at ../src/librustc/middle/check_const.rs:487\n  16:     0x7fbd1df2f222 - visit::walk_generics::h16750342663714166629\n                        at ../src/librustc_front/visit.rs:74\n                        at ../src/librustc_front/visit.rs:546\n  17:     0x7fbd1df33a35 - visit::walk_item::h3258008959652563654 \n                        at ../src/librustc_front/visit.rs:75\n                        at ../src/librustc_front/visit.rs:277\n  18:     0x7fbd1df3306f - middle::check_const::CheckCrateVisitor<'a, 'tcx>.Visi\ntor<'v>::visit_item::h67bf74465fb74fe8vXf\n                        at ../src/librustc/middle/check_const.rs:328\n                        at ../src/librustc/middle/check_const.rs:110\n                        at ../src/librustc/middle/check_const.rs:328\n  19:     0x7fbd1df3da8a - middle::check_const::check_crate::h8dd919c3aab29c4bYD\ng\n                        at ../src/librustc_front/visit.rs:145\n                        at ../src/librustc_front/visit.rs:63\n                        at ../src/librustc_front/visit.rs:137\n                        at ../src/librustc/middle/check_const.rs:818\n  20:     0x7fbd20560b62 - driver::phase_3_run_analysis_passes::closure.21770\n                        at ../src/librustc_driver/driver.rs:710   \n                        at ../src/librustc/util/common.rs:39\n                        at ../src/librustc_driver/driver.rs:709   \n  21:     0x7fbd2055da33 - middle::ty::ctxt<'tcx>::create_and_enter::h9047943718302741165\n                        at ../src/librustc/middle/ty.rs:1119\n                        at ../src/libstd/thread/scoped_tls.rs:179\n                        at ../src/librustc/middle/ty.rs:1119\n                        at ../src/libstd/thread/local.rs:217\n                        at ../src/librustc/middle/ty.rs:1115\n                        at ../src/librustc/middle/ty.rs:3850\n  22:     0x7fbd20558240 - driver::phase_3_run_analysis_passes::h374775803790228385\n                        at ../src/librustc_driver/driver.rs:695\n  23:     0x7fbd2053a28d - driver::compile_input::h46db35214f135fb6Yba\n                        at ../src/librustc_driver/driver.rs:132\n  24:     0x7fbd20627609 - run_compiler::hdc320804df1e5baebqc\n                        at ../src/librustc_driver/lib.rs:159\n  25:     0x7fbd206250d2 - boxed::F.FnBox<A>::call_box::h9983925303729200120\n                        at ../src/librustc_driver/lib.rs:101\n                        at ../src/librustc_driver/lib.rs:816\n                        at ../src/liballoc/boxed.rs:493\n  26:     0x7fbd20624ac9 - rt::unwind::try::try_fn::h13821349105823159516\n                        at ../src/liballoc/boxed.rs:509\n                        at ../src/libstd/thread/mod.rs:279\n                        at ../src/libstd/rt/unwind/mod.rs:164\n  27:     0x7fbd200300e8 - __rust_try\n  28:     0x7fbd20016ac7 - rt::unwind::try::inner_try::h565d7516b5d175ddzNw\n                        at ../src/libstd/rt/unwind/mod.rs:153\n  29:     0x7fbd20624c76 - boxed::F.FnBox<A>::call_box::h9905813375732266964\n                        at ../src/libstd/rt/unwind/mod.rs:136\n                        at ../src/libstd/thread/mod.rs:279\n                        at ../src/liballoc/boxed.rs:493\n  30:     0x7fbd2002f2f5 - sys::thread::Thread::new::thread_start::h544d84bbe5bf933dmXv\n  31:     0x7fbd1a251181 - start_thread\n  32:     0x7fbd1fc9230c - __clone\n  33:                0x0 - <unknown>\n```\n\nThis is a distinct bug from #28181 (it is an 1.2-1.3 regression, not a 1.3-1.4 regression).\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/28189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28189/timeline", "performed_via_github_app": null, "state_reason": "completed"}