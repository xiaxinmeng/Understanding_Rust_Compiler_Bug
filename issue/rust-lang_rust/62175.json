{"url": "https://api.github.com/repos/rust-lang/rust/issues/62175", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/62175/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/62175/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/62175/events", "html_url": "https://github.com/rust-lang/rust/issues/62175", "id": 461476394, "node_id": "MDU6SXNzdWU0NjE0NzYzOTQ=", "number": 62175, "title": "Deterministic int to float conversion", "user": {"login": "AljoschaMeyer", "id": 12977795, "node_id": "MDQ6VXNlcjEyOTc3Nzk1", "avatar_url": "https://avatars.githubusercontent.com/u/12977795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AljoschaMeyer", "html_url": "https://github.com/AljoschaMeyer", "followers_url": "https://api.github.com/users/AljoschaMeyer/followers", "following_url": "https://api.github.com/users/AljoschaMeyer/following{/other_user}", "gists_url": "https://api.github.com/users/AljoschaMeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/AljoschaMeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AljoschaMeyer/subscriptions", "organizations_url": "https://api.github.com/users/AljoschaMeyer/orgs", "repos_url": "https://api.github.com/users/AljoschaMeyer/repos", "events_url": "https://api.github.com/users/AljoschaMeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/AljoschaMeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 45472092, "node_id": "MDU6TGFiZWw0NTQ3MjA5Mg==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-ffi", "name": "A-ffi", "color": "f7e101", "default": false, "description": "Area: Foreign Function Interface (FFI)"}, {"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "closed", "locked": false, "assignee": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-06-27T11:32:36Z", "updated_at": "2021-04-08T21:54:40Z", "closed_at": "2021-04-08T21:54:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Casting](https://doc.rust-lang.org/reference/expressions/operator-expr.html#semantics) from an integer type to a floating point type leaves the rounding behavior explicitly unspecified. Is there (or are there plans for) some way of deterministically turning an int into a float regardless of the target architecture? I really don't want `9007199254740993u64 as f64` to be converted to `9007199254740992.0` on one machine and `9007199254740994.0` on another (the example u64 is 2^53 + 1, the smallest natural number not precisely representable as an f64).\r\n\r\nOptions could be to either use the floating point rounding mode (interpreting the int as real number and then rounding it to the next representable float just like the semantics of all IEEE754 float operations), or supporting explicit rounding modes.\r\n\r\nApologies if such a feature already exists and I just didn't find it.", "closed_by": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/62175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/62175/timeline", "performed_via_github_app": null, "state_reason": "completed"}