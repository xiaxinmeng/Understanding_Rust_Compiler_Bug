{"url": "https://api.github.com/repos/rust-lang/rust/issues/65774", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/65774/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/65774/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/65774/events", "html_url": "https://github.com/rust-lang/rust/issues/65774", "id": 512138741, "node_id": "MDU6SXNzdWU1MTIxMzg3NDE=", "number": 65774, "title": "ICE: errors resolving bounds after type-checking for fmt::Display", "user": {"login": "bradjc", "id": 1467890, "node_id": "MDQ6VXNlcjE0Njc4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1467890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradjc", "html_url": "https://github.com/bradjc", "followers_url": "https://api.github.com/users/bradjc/followers", "following_url": "https://api.github.com/users/bradjc/following{/other_user}", "gists_url": "https://api.github.com/users/bradjc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradjc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradjc/subscriptions", "organizations_url": "https://api.github.com/users/bradjc/orgs", "repos_url": "https://api.github.com/users/bradjc/repos", "events_url": "https://api.github.com/users/bradjc/events{/privacy}", "received_events_url": "https://api.github.com/users/bradjc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}, {"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 149689562, "node_id": "MDU6TGFiZWwxNDk2ODk1NjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-associated-items", "name": "A-associated-items", "color": "f7e101", "default": false, "description": "Area: Associated items such as associated types and consts."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1472563007, "node_id": "MDU6TGFiZWwxNDcyNTYzMDA3", "url": "https://api.github.com/repos/rust-lang/rust/labels/requires-nightly", "name": "requires-nightly", "color": "76dcde", "default": false, "description": "This issue requires a nightly compiler in some way."}, {"id": 1525709585, "node_id": "MDU6TGFiZWwxNTI1NzA5NTg1", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-associated_type_defaults", "name": "F-associated_type_defaults", "color": "f9c0cc", "default": false, "description": "`#![feature(associated_type_defaults)]`"}, {"id": 1615551553, "node_id": "MDU6TGFiZWwxNjE1NTUxNTUz", "url": "https://api.github.com/repos/rust-lang/rust/labels/glacier", "name": "glacier", "color": "a5e2ff", "default": false, "description": "ICE tracked in rust-lang/glacier"}], "state": "closed", "locked": false, "assignee": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2019-10-24T19:32:30Z", "updated_at": "2020-02-26T12:48:49Z", "closed_at": "2020-02-26T12:48:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "pnkfelix: here is the reduced test case ([play](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=46caf21e71c9806d7d8fe431b06c84a0)):\r\n\r\n```rust\r\n#![feature(associated_type_defaults)]\r\n\r\ntrait MyDisplay { fn method(&self) { } }\r\n\r\nimpl<'a, T: MyDisplay> MyDisplay for &'a mut T { }\r\n\r\nstruct T;\r\n\r\ntrait MPU {\r\n    type MpuConfig: MyDisplay = T;\r\n}\r\n\r\nstruct S;\r\n\r\nimpl MPU for S { }\r\n\r\ntrait MyWrite {\r\n    fn my_write(&self, _: &dyn MyDisplay) { }\r\n}\r\n\r\ntrait ProcessType {\r\n    fn process_detail_fmt(&self, _: &mut dyn MyWrite);\r\n}\r\n\r\nstruct Process;\r\n\r\nimpl ProcessType for Process {\r\n    fn process_detail_fmt(&self, writer: &mut dyn MyWrite)\r\n    {\r\n\r\n        let mut val: Option<<S as MPU>::MpuConfig> = None;\r\n        let valref: &mut <S as MPU>::MpuConfig = val.as_mut().unwrap();\r\n\r\n        // // This causes a different ICE (but its similar if you squint right):\r\n        // //\r\n        // // `Unimplemented` selecting `Binder(<T as MyDisplay>)` during codegen\r\n        //\r\n        // writer.my_write(valref)\r\n\r\n        // This one causes the ICE:\r\n        // FulfillmentError(Obligation(predicate=Binder(TraitPredicate(<T as MyDisplay>)), depth=1),Unimplemented)\r\n        let closure = |config: &mut <S as MPU>::MpuConfig| writer.my_write(&config);\r\n        closure(valref);\r\n    }\r\n}\r\n\r\nfn create() -> &'static dyn ProcessType {\r\n    let input: Option<&mut Process> = None;\r\n    let process: &mut Process = input.unwrap();\r\n    process\r\n}\r\n\r\npub fn main() {\r\n    create();\r\n}\r\n```\r\n\r\n(Sadly I have not been able to reduce it further. But this should serve us well enough.)\r\n\r\nOriginal bug report follows:\r\n\r\n----\r\n\r\nI'm getting a compiler error when trying to compile:\r\n\r\n```rust\r\nimpl fmt::Display for PMPConfig {\r\n    fn fmt(&self, _f: &mut fmt::Formatter<'_>) -> fmt::Result {\r\n        Ok(())\r\n    }\r\n}\r\n```\r\n\r\nI'm compiling for the `riscv32imac-unknown-none-elf` target.\r\n\r\nFull branch here:\r\n\r\nhttps://github.com/tock/tock/blob/f29f8aa9bf9925893e905feb1aa42db2ce57d36f/arch/rv32i/src/pmp.rs#L26\r\n\r\n```\r\nerror: internal compiler error: src/librustc/traits/codegen/mod.rs:127: Encountered errors `[FulfillmentError(Obligation(predicate=Binder(TraitPredicate(<() as core::fmt::Display>)), depth=1),Unimplemented)]` resolving bounds after type-checking\r\n\r\nthread 'rustc' panicked at 'Box<Any>', src/librustc_errors/lib.rs:925:9\r\nstack backtrace:\r\n   0: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt\r\n   1: core::fmt::write\r\n   2: std::io::Write::write_fmt\r\n   3: std::panicking::default_hook::{{closure}}\r\n   4: std::panicking::default_hook\r\n   5: rustc_driver::report_ice\r\n   6: std::panicking::rust_panic_with_hook\r\n   7: std::panicking::begin_panic\r\n   8: rustc_errors::HandlerInner::bug\r\n   9: rustc_errors::Handler::bug\r\n  10: rustc::util::bug::opt_span_bug_fmt::{{closure}}\r\n  11: rustc::ty::context::tls::with_opt::{{closure}}\r\n  12: rustc::ty::context::tls::with_context_opt\r\n  13: rustc::ty::context::tls::with_opt\r\n  14: rustc::util::bug::opt_span_bug_fmt\r\n  15: rustc::util::bug::bug_fmt\r\n  16: rustc::traits::codegen::<impl rustc::infer::InferCtxt>::drain_fulfillment_cx_or_panic\r\n  17: rustc::ty::context::GlobalCtxt::enter_local\r\n  18: rustc::traits::codegen::codegen_fulfill_obligation\r\n  19: rustc::ty::query::__query_compute::codegen_fulfill_obligation\r\n  20: rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::codegen_fulfill_obligation>::compute\r\n  21: rustc::dep_graph::graph::DepGraph::with_task_impl\r\n  22: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query\r\n  23: rustc::ty::instance::Instance::resolve\r\n  24: rustc::ty::instance::Instance::resolve_for_fn_ptr\r\n  25: <rustc_mir::monomorphize::collector::MirNeighborCollector as rustc::mir::visit::Visitor>::visit_rvalue\r\n  26: rustc_mir::monomorphize::collector::collect_items_rec\r\n  27: rustc_mir::monomorphize::collector::collect_items_rec\r\n  28: rustc_mir::monomorphize::collector::collect_items_rec\r\n  29: rustc_mir::monomorphize::collector::collect_items_rec\r\n  30: rustc_mir::monomorphize::collector::collect_items_rec\r\n  31: rustc_mir::monomorphize::collector::collect_items_rec\r\n  32: rustc_mir::monomorphize::collector::collect_crate_mono_items::{{closure}}\r\n  33: rustc::util::common::time\r\n  34: rustc_mir::monomorphize::collector::collect_crate_mono_items\r\n  35: rustc::util::common::time\r\n  36: rustc_mir::monomorphize::partitioning::collect_and_partition_mono_items\r\n  37: rustc::ty::query::__query_compute::collect_and_partition_mono_items\r\n  38: rustc::dep_graph::graph::DepGraph::with_task_impl\r\n  39: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query\r\n  40: rustc_codegen_ssa::base::codegen_crate\r\n  41: <rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_utils::codegen_backend::CodegenBackend>::codegen_crate\r\n  42: rustc_interface::passes::start_codegen::{{closure}}\r\n  43: rustc::util::common::time\r\n  44: rustc_interface::passes::BoxedGlobalCtxt::access::{{closure}}\r\n  45: rustc_interface::passes::create_global_ctxt::{{closure}}\r\n  46: rustc_interface::queries::Query<T>::compute\r\n  47: rustc_interface::queries::<impl rustc_interface::interface::Compiler>::ongoing_codegen\r\n  48: rustc_interface::interface::run_compiler_in_existing_thread_pool\r\n  49: std::thread::local::LocalKey<T>::with\r\n  50: scoped_tls::ScopedKey<T>::set\r\n  51: syntax::with_globals\r\n```\r\n\r\nor with full backtrace:\r\n\r\n```\r\nerror: internal compiler error: src/librustc/traits/codegen/mod.rs:127: Encountered errors `[FulfillmentError(Obligation(predicate=Binder(TraitPredicate(<() as core::fmt::Display>)), depth=1),Unimplemented)]` resolving bounds after type-checking\r\n\r\nthread 'rustc' panicked at 'Box<Any>', src/librustc_errors/lib.rs:925:9\r\nstack backtrace:\r\n   0:        0x107ee4765 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hc92d616cef8f0450\r\n   1:        0x107f1afe0 - core::fmt::write::h716de5060e2e2331\r\n   2:        0x107ed7eab - std::io::Write::write_fmt::hcf7751f7cc575a83\r\n   3:        0x107ee8ac3 - std::panicking::default_hook::{{closure}}::hcbef2dce5efa48e4\r\n   4:        0x107ee87da - std::panicking::default_hook::h8d36105439fe91d2\r\n   5:        0x10886f852 - rustc_driver::report_ice::hfa643614a34e50c3\r\n   6:        0x107ee9302 - std::panicking::rust_panic_with_hook::h66761634aad950e8\r\n   7:        0x10a3f0631 - std::panicking::begin_panic::h34e760fb9453ebea\r\n   8:        0x10a3ed727 - rustc_errors::HandlerInner::bug::h6632965e0eab1113\r\n   9:        0x10a3ec3bd - rustc_errors::Handler::bug::hcfa8e791cebcb41f\r\n  10:        0x109b82ebb - rustc::util::bug::opt_span_bug_fmt::{{closure}}::h1f12cbc5d5c9e30d\r\n  11:        0x109b81fc6 - rustc::ty::context::tls::with_opt::{{closure}}::h3c1d0ef67ec726db\r\n  12:        0x109b81f54 - rustc::ty::context::tls::with_context_opt::h0bc959fbaa3c960b\r\n  13:        0x109b81f82 - rustc::ty::context::tls::with_opt::h5b98f20d68bd6455\r\n  14:        0x109b82dd8 - rustc::util::bug::opt_span_bug_fmt::h4b691449484f2e2d\r\n  15:        0x109b82d2b - rustc::util::bug::bug_fmt::h94ea7325307137cb\r\n  16:        0x109bee1de - rustc::traits::codegen::<impl rustc::infer::InferCtxt>::drain_fulfillment_cx_or_panic::haf0249c10c545ad4\r\n  17:        0x10a085320 - rustc::ty::context::GlobalCtxt::enter_local::hc3ed889af372304b\r\n  18:        0x109de43a6 - rustc::traits::codegen::codegen_fulfill_obligation::h2083639e26b40870\r\n  19:        0x109ada6ca - rustc::ty::query::__query_compute::codegen_fulfill_obligation::h47add3629ad3c7c9\r\n  20:        0x10a090f30 - rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors for rustc::ty::query::queries::codegen_fulfill_obligation>::compute::h367720f4ad252193\r\n  21:        0x109b25685 - rustc::dep_graph::graph::DepGraph::with_task_impl::hdb658fea3c8e03a0\r\n  22:        0x109f73e7e - rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query::hc4e638aed84e9309\r\n  23:        0x109a4ee08 - rustc::ty::instance::Instance::resolve::h7f14c4b030d04908\r\n  24:        0x109a4f40a - rustc::ty::instance::Instance::resolve_for_fn_ptr::hd3f49848b140835f\r\n  25:        0x109304298 - <rustc_mir::monomorphize::collector::MirNeighborCollector as rustc::mir::visit::Visitor>::visit_rvalue::hc49ddd5adf94cfe8\r\n  26:        0x109302eb7 - rustc_mir::monomorphize::collector::collect_items_rec::h2f0cd94f91ffd624\r\n  27:        0x1093038cf - rustc_mir::monomorphize::collector::collect_items_rec::h2f0cd94f91ffd624\r\n  28:        0x1093038cf - rustc_mir::monomorphize::collector::collect_items_rec::h2f0cd94f91ffd624\r\n  29:        0x1093038cf - rustc_mir::monomorphize::collector::collect_items_rec::h2f0cd94f91ffd624\r\n  30:        0x1093038cf - rustc_mir::monomorphize::collector::collect_items_rec::h2f0cd94f91ffd624\r\n  31:        0x1093038cf - rustc_mir::monomorphize::collector::collect_items_rec::h2f0cd94f91ffd624\r\n  32:        0x109174c1e - rustc_mir::monomorphize::collector::collect_crate_mono_items::{{closure}}::h4b9955786c837751\r\n  33:        0x10913f7d3 - rustc::util::common::time::h7f14ec4a929068d5\r\n  34:        0x109301530 - rustc_mir::monomorphize::collector::collect_crate_mono_items::hb405aac8f6d07af3\r\n  35:        0x10913f8f8 - rustc::util::common::time::hbfb52e7fe607ac6c\r\n  36:        0x10940bfba - rustc_mir::monomorphize::partitioning::collect_and_partition_mono_items::h9dba4196ae508ffb\r\n  37:        0x10b65bad2 - rustc::ty::query::__query_compute::collect_and_partition_mono_items::h7b08395218e7aba3\r\n  38:        0x10b6706fa - rustc::dep_graph::graph::DepGraph::with_task_impl::h25d923dce7eb1416\r\n  39:        0x10b7236af - rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query::h9078560050296908\r\n  40:        0x10b73eedd - rustc_codegen_ssa::base::codegen_crate::hef4e5fc37e1a7a0e\r\n  41:        0x10b6e0b49 - <rustc_codegen_llvm::LlvmCodegenBackend as rustc_codegen_utils::codegen_backend::CodegenBackend>::codegen_crate::ha5087cf525770987\r\n  42:        0x10893605e - rustc_interface::passes::start_codegen::{{closure}}::h63426f234991945a\r\n  43:        0x108931068 - rustc::util::common::time::h9caa4ccff6ec0bfb\r\n  44:        0x10890b16f - rustc_interface::passes::BoxedGlobalCtxt::access::{{closure}}::ha08746ee0b93b578\r\n  45:        0x10893529b - rustc_interface::passes::create_global_ctxt::{{closure}}::h600047dc314d4bba\r\n  46:        0x108907399 - rustc_interface::queries::Query<T>::compute::h9cd0fdded8634953\r\n  47:        0x10899f19c - rustc_interface::queries::<impl rustc_interface::interface::Compiler>::ongoing_codegen::h51958e05ed750756\r\n  48:        0x108874d25 - rustc_interface::interface::run_compiler_in_existing_thread_pool::haa58e61254d8def5\r\n  49:        0x1088877e4 - std::thread::local::LocalKey<T>::with::h702dc95be888a0e1\r\n  50:        0x1088719a2 - scoped_tls::ScopedKey<T>::set::hb39b6f973e4a5679\r\n  51:        0x1088a22d5 - syntax::with_globals::h58d861cb85a086c0\r\n  52:        0x1088a6e37 - std::sys_common::backtrace::__rust_begin_short_backtrace::hdf8e7185d0994576\r\n  53:        0x107ef84af - __rust_maybe_catch_panic\r\n  54:        0x1088b0f17 - core::ops::function::FnOnce::call_once{{vtable.shim}}::h7bb4ccc9b14ced04\r\n  55:        0x107eca6ce - <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once::h87e32ddb36700069\r\n  56:        0x107ef72be - std::sys::unix::thread::Thread::new::thread_start::h20e18e6fa0d2566a\r\n  57:     0x7fff744f62eb - _pthread_body\r\n  58:     0x7fff744f9249 - _pthread_start\r\n```\r\n\r\nand more debug output on my build:\r\n\r\n```\r\n*******************************************************\r\nTOCK KERNEL BUILD SYSTEM -- VERBOSE BUILD CONFIGURATION\r\n*******************************************************\r\nPLATFORM            = arty-e21\r\nTARGET              = riscv32imac-unknown-none-elf\r\nTOCK_KERNEL_VERSION = release-1.4-61-g4c6b652c6\r\nRUSTFLAGS_FOR_CARGO = -C link-arg=-Tlayout.ld -C linker=rust-lld -C linker-flavor=ld.lld -C relocation-model=dynamic-no-pic -C link-arg=-zmax-page-size=512\r\nMAKEFLAGS           =  -r -R\r\nOBJDUMP_FLAGS       = --disassemble-all --source --section-headers\r\n\r\nTOOLCHAIN           = \"/Users/bradjc/.rustup/toolchains/nightly-2019-10-17-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/bin/llvm\"\r\nSIZE                = \"/Users/bradjc/.rustup/toolchains/nightly-2019-10-17-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/bin/llvm\"-size\r\nOBJCOPY             = \"/Users/bradjc/.rustup/toolchains/nightly-2019-10-17-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/bin/llvm\"-objcopy\r\nOBJDUMP             = \"/Users/bradjc/.rustup/toolchains/nightly-2019-10-17-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/bin/llvm\"-objdump\r\nCARGO               = cargo\r\nRUSTUP              = rustup\r\n\r\ncargo --version     = cargo 1.40.0-nightly (3a9abe3f0 2019-10-15)\r\nrustc --version     = rustc 1.40.0-nightly (0e8a4b441 2019-10-16)\r\nrustup --version    = rustup 1.20.2 (13979c968 2019-10-16)\r\n*******************************************************\r\n\r\nRUSTFLAGS=\"-C link-arg=-Tlayout.ld -C linker=rust-lld -C linker-flavor=ld.lld -C relocation-model=dynamic-no-pic -C link-arg=-zmax-page-size=512\" cargo build --target=riscv32imac-unknown-none-elf --verbose --release\r\n       Fresh tock-registers v0.3.0 (/Users/bradjc/git/tock/libraries/tock-register-interface)\r\n       Fresh tock-cells v0.1.0 (/Users/bradjc/git/tock/libraries/tock-cells)\r\n       Fresh tock_rt0 v0.1.0 (/Users/bradjc/git/tock/libraries/tock-rt0)\r\n       Fresh enum_primitive v0.1.0 (/Users/bradjc/git/tock/libraries/enum_primitive)\r\n       Fresh riscv-csr v0.1.0 (/Users/bradjc/git/tock/libraries/riscv-csr)\r\n       Fresh kernel v0.1.0 (/Users/bradjc/git/tock/kernel)\r\n       Fresh rv32i v0.1.0 (/Users/bradjc/git/tock/arch/rv32i)\r\n       Fresh capsules v0.1.0 (/Users/bradjc/git/tock/capsules)\r\n       Fresh sifive v0.1.0 (/Users/bradjc/git/tock/chips/sifive)\r\n       Fresh arty_e21 v0.1.0 (/Users/bradjc/git/tock/chips/arty_e21)\r\n   Compiling arty-e21 v0.1.0 (/Users/bradjc/git/tock/boards/arty-e21)\r\n     Running `rustc --edition=2018 --crate-name arty_e21 src/main.rs --error-format=json --json=diagnostic-rendered-ansi --crate-type bin --emit=dep-info,link -C opt-level=z -C panic=abort -C lto -C debuginfo=2 -C metadata=c1355c6c3289bbe0 -C extra-filename=-c1355c6c3289bbe0 --out-dir /Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps --target riscv32imac-unknown-none-elf -L dependency=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps -L dependency=/Users/bradjc/git/tock/boards/arty-e21/target/release/deps --extern arty_e21=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libarty_e21-fe0d635f7042045b.rlib --extern capsules=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libcapsules-16a235e3bdbefd38.rlib --extern kernel=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libkernel-1dbef041a1db2265.rlib --extern rv32i=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/librv32i-854677d7afde0e8d.rlib --extern sifive=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libsifive-1da1c765f34d5c05.rlib -C link-arg=-Tlayout.ld -C linker=rust-lld -C linker-flavor=ld.lld -C relocation-model=dynamic-no-pic -C link-arg=-zmax-page-size=512`\r\nerror: internal compiler error: src/librustc/traits/codegen/mod.rs:127: Encountered errors `[FulfillmentError(Obligation(predicate=Binder(TraitPredicate(<() as core::fmt::Display>)), depth=1),Unimplemented)]` resolving bounds after type-checking\r\n\r\nthread 'rustc' panicked at 'Box<Any>', src/librustc_errors/lib.rs:925:9\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.40.0-nightly (0e8a4b441 2019-10-16) running on x86_64-apple-darwin\r\n\r\nnote: compiler flags: -C opt-level=z -C panic=abort -C lto -C debuginfo=2 -C link-arg=-Tlayout.ld -C linker=rust-lld -C linker-flavor=ld.lld -C relocation-model=dynamic-no-pic -C link-arg=-zmax-page-size=512 --crate-type bin\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: could not compile `arty-e21`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --edition=2018 --crate-name arty_e21 src/main.rs --error-format=json --json=diagnostic-rendered-ansi --crate-type bin --emit=dep-info,link -C opt-level=z -C panic=abort -C lto -C debuginfo=2 -C metadata=c1355c6c3289bbe0 -C extra-filename=-c1355c6c3289bbe0 --out-dir /Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps --target riscv32imac-unknown-none-elf -L dependency=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps -L dependency=/Users/bradjc/git/tock/boards/arty-e21/target/release/deps --extern arty_e21=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libarty_e21-fe0d635f7042045b.rlib --extern capsules=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libcapsules-16a235e3bdbefd38.rlib --extern kernel=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libkernel-1dbef041a1db2265.rlib --extern rv32i=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/librv32i-854677d7afde0e8d.rlib --extern sifive=/Users/bradjc/git/tock/boards/arty-e21/target/riscv32imac-unknown-none-elf/release/deps/libsifive-1da1c765f34d5c05.rlib -C link-arg=-Tlayout.ld -C linker=rust-lld -C linker-flavor=ld.lld -C relocation-model=dynamic-no-pic -C link-arg=-zmax-page-size=512` (exit code: 101)\r\nmake: *** [target/riscv32imac-unknown-none-elf/release/arty-e21] Error 101\r\n```\r\n\r\nTravis also seems to agree that it will not compile: https://travis-ci.org/tock/tock/builds/602484885", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/65774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/65774/timeline", "performed_via_github_app": null, "state_reason": "completed"}