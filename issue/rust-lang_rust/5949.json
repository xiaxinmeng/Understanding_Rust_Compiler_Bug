{"url": "https://api.github.com/repos/rust-lang/rust/issues/5949", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/5949/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/5949/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/5949/events", "html_url": "https://github.com/rust-lang/rust/issues/5949", "id": 13381161, "node_id": "MDU6SXNzdWUxMzM4MTE2MQ==", "number": 5949, "title": "The code runs slower when optimised", "user": {"login": "vi", "id": 173219, "node_id": "MDQ6VXNlcjE3MzIxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/173219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vi", "html_url": "https://github.com/vi", "followers_url": "https://api.github.com/users/vi/followers", "following_url": "https://api.github.com/users/vi/following{/other_user}", "gists_url": "https://api.github.com/users/vi/gists{/gist_id}", "starred_url": "https://api.github.com/users/vi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vi/subscriptions", "organizations_url": "https://api.github.com/users/vi/orgs", "repos_url": "https://api.github.com/users/vi/repos", "events_url": "https://api.github.com/users/vi/events{/privacy}", "received_events_url": "https://api.github.com/users/vi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-04-19T00:34:25Z", "updated_at": "2013-04-21T00:56:55Z", "closed_at": "2013-04-21T00:56:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\nfn main() {\n    let mut va = [0.0, .. 102];\n    let mut vb = [0.0, .. 102];\n    let mut p=0.0;\n    va[51]=1.0;\n\n    do int::range(1,300001) |k| {\n        do int::range(2,101) |i| {\n            vb[i] = (1.0/6.0)*va[i-1] + (4.0/6.0)*va[i] + (1.0/6.0)*va[i+1];\n            true\n        }\n        let n = (1.0/6.0)*va[2] + (1.0/6.0)*va[100];\n        p += n * (k as float);\n        vb[0] += n;\n        va=vb;\n        if k % 5000 == 0 {\n            io::println(fmt!(\"%.10f %.10f %d\", va[0], p, k));\n        }\n        true\n    }\n    io::println(fmt!(\"%.10f %.10f\", va[0], p));\n}\n```\n\nBuilt with rustc --opt-level 0, it runs fast.  \nWith any other --opt-level, it runs slow.\n\nChecked on c2f5a87cdd79e5531b751749827d2e8a3d269c9e and 5f13e9ccc2e3328d4cd8ca49f84e6840dd998346.\n", "closed_by": {"login": "luqmana", "id": 287063, "node_id": "MDQ6VXNlcjI4NzA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luqmana", "html_url": "https://github.com/luqmana", "followers_url": "https://api.github.com/users/luqmana/followers", "following_url": "https://api.github.com/users/luqmana/following{/other_user}", "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}", "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions", "organizations_url": "https://api.github.com/users/luqmana/orgs", "repos_url": "https://api.github.com/users/luqmana/repos", "events_url": "https://api.github.com/users/luqmana/events{/privacy}", "received_events_url": "https://api.github.com/users/luqmana/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/5949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/5949/timeline", "performed_via_github_app": null, "state_reason": "completed"}