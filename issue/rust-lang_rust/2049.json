{"url": "https://api.github.com/repos/rust-lang/rust/issues/2049", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2049/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2049/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2049/events", "html_url": "https://github.com/rust-lang/rust/issues/2049", "id": 3779115, "node_id": "MDU6SXNzdWUzNzc5MTE1", "number": 2049, "title": "Chained hashmap iteration sometimes misses items even in sane use", "user": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-03-23T12:27:02Z", "updated_at": "2014-06-16T21:56:27Z", "closed_at": "2012-03-23T12:40:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Where 'sane use' is defined as the iter body only overwriting the key that is currently being inspected, and not adding or removing any others.\n\nIn the following scenario:\n- Map is filled to a point where the next insert will trigger a grow/rehash\n- Iterate\n- Iteration body overwrites its current key\n\nThe insert method will rehash at this point, whether the inserted key is new or not. This will throw off the iteration and cause it to miss some key,value pairs.\n\nSeems to be fixed by simply only rehashing when an actual insert occurred. Patch forthcoming.\n", "closed_by": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2049/timeline", "performed_via_github_app": null, "state_reason": "completed"}