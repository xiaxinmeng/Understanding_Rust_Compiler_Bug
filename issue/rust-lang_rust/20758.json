{"url": "https://api.github.com/repos/rust-lang/rust/issues/20758", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20758/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20758/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20758/events", "html_url": "https://github.com/rust-lang/rust/issues/20758", "id": 53779144, "node_id": "MDU6SXNzdWU1Mzc3OTE0NA==", "number": 20758, "title": "Internal compiler error when using operator overloading", "user": {"login": "jethrogb", "id": 1132307, "node_id": "MDQ6VXNlcjExMzIzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jethrogb", "html_url": "https://github.com/jethrogb", "followers_url": "https://api.github.com/users/jethrogb/followers", "following_url": "https://api.github.com/users/jethrogb/following{/other_user}", "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions", "organizations_url": "https://api.github.com/users/jethrogb/orgs", "repos_url": "https://api.github.com/users/jethrogb/repos", "events_url": "https://api.github.com/users/jethrogb/events{/privacy}", "received_events_url": "https://api.github.com/users/jethrogb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-08T17:47:05Z", "updated_at": "2015-01-08T17:54:01Z", "closed_at": "2015-01-08T17:54:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\nuse std::ops::BitAnd;\n\nstruct A;\n\nimpl BitAnd for A\n{\n    pub fn bitand(self, other: A) -> A\n    {\n        return self;\n    }\n}\n```\n\n```\n$rustc --version --verbose\nrustc 0.13.0-dev\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nhost: x86_64-unknown-linux-gnu\nrelease: 0.13.0-dev\n$RUST_BACKTRACE=1 rustc --crate-type=rlib min.rs \nmin.rs:5:1: 11:2 error: internal compiler error: impl `VtableImpl(impl_def_id=DefId { krate: 0, node: 8 }:A.BitAnd, substs=Substs[types=[[];[];[]], regions=[[];[];[]]], nested=[[];[];[]])` did not contain projection for `Obligation(predicate=<A as TraitRef(A, core::ops::BitAnd)>::Output,depth=0)`\nmin.rs:5 impl BitAnd for A\nmin.rs:6 {\nmin.rs:7    pub fn bitand(self, other: A) -> A\nmin.rs:8    {\nmin.rs:9        return self;\nmin.rs:10   }\n          ...\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /build/buildd/rust-nightly-201501060408~c7dd3c4~trusty/src/libsyntax/diagnostic.rs:123\n\nstack backtrace:\n   1:     0x7f5b4da2e160 - sys::backtrace::write::h2869e999018bc7f0CQs\n   2:     0x7f5b4da53eb0 - <unknown>\n   3:     0x7f5b4d9b9ce0 - rt::unwind::begin_unwind_inner::h8b739acb3b55fd19VHy\n   4:     0x7f5b48a69450 - <unknown>\n   5:     0x7f5b48a693e0 - diagnostic::SpanHandler::span_bug::h4784e9b3e2a7ed570kF\n   6:     0x7f5b4be5f110 - <unknown>\n   7:     0x7f5b4be5c500 - <unknown>\n   8:     0x7f5b4be49fc0 - <unknown>\n   9:     0x7f5b4be5d9a0 - middle::traits::project::AssociatedTypeNormalizer<'a, 'b, 'tcx>.TypeFolder<'tcx>::fold_ty::hfd8fd83cad853555OFP\n  10:     0x7f5b4d156b70 - <unknown>\n  11:     0x7f5b4d1577a0 - <unknown>\n  12:     0x7f5b4d1731c0 - <unknown>\n  13:     0x7f5b4d18a970 - <unknown>\n  14:     0x7f5b4d18db40 - check::wf::CheckTypeWellFormedVisitor<'ccx, 'tcx>.Visitor<'v>::visit_item::hf7248b70b9c6b449tki\n  15:     0x7f5b4d29ada0 - <unknown>\n  16:     0x7f5b4d2959e0 - check_crate::h8fa7902ab9b76426amx\n  17:     0x7f5b4df6d260 - driver::phase_3_run_analysis_passes::h85052bc04c895a90Sva\n  18:     0x7f5b4df5b790 - driver::compile_input::hc42de447758318b2vba\n  19:     0x7f5b4e022580 - <unknown>\n  20:     0x7f5b4e021330 - <unknown>\n  21:     0x7f5b4dab76b0 - <unknown>\n  22:     0x7f5b4dab76a0 - rust_try\n  23:     0x7f5b4e021680 - <unknown>\n  24:     0x7f5b4da3fce0 - <unknown>\n  25:     0x7f5b4828c0c0 - start_thread\n  26:     0x7f5b4d662ec9 - __clone\n  27:                0x0 - <unknown>\n\n```\n\nNot sure why the version is not coming up correctly, I'm using rust-nightly 201501060408~c7dd3c4~trusty from the PPA.\n", "closed_by": {"login": "jethrogb", "id": 1132307, "node_id": "MDQ6VXNlcjExMzIzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jethrogb", "html_url": "https://github.com/jethrogb", "followers_url": "https://api.github.com/users/jethrogb/followers", "following_url": "https://api.github.com/users/jethrogb/following{/other_user}", "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions", "organizations_url": "https://api.github.com/users/jethrogb/orgs", "repos_url": "https://api.github.com/users/jethrogb/repos", "events_url": "https://api.github.com/users/jethrogb/events{/privacy}", "received_events_url": "https://api.github.com/users/jethrogb/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20758/timeline", "performed_via_github_app": null, "state_reason": "completed"}