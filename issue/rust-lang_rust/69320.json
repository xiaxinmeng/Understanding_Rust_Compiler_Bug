{"url": "https://api.github.com/repos/rust-lang/rust-clippy/issues/5207", "repository_url": "https://api.github.com/repos/rust-lang/rust-clippy", "labels_url": "https://api.github.com/repos/rust-lang/rust-clippy/issues/5207/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust-clippy/issues/5207/comments", "events_url": "https://api.github.com/repos/rust-lang/rust-clippy/issues/5207/events", "html_url": "https://github.com/rust-lang/rust-clippy/issues/5207", "id": 568507444, "node_id": "MDU6SXNzdWU1Njg1MDc0NDQ=", "number": 5207, "title": "ICE in GeneratorSubsts / clippy", "user": {"login": "Hirrolot", "id": 40539574, "node_id": "MDQ6VXNlcjQwNTM5NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/40539574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hirrolot", "html_url": "https://github.com/Hirrolot", "followers_url": "https://api.github.com/users/Hirrolot/followers", "following_url": "https://api.github.com/users/Hirrolot/following{/other_user}", "gists_url": "https://api.github.com/users/Hirrolot/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hirrolot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hirrolot/subscriptions", "organizations_url": "https://api.github.com/users/Hirrolot/orgs", "repos_url": "https://api.github.com/users/Hirrolot/repos", "events_url": "https://api.github.com/users/Hirrolot/events{/privacy}", "received_events_url": "https://api.github.com/users/Hirrolot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-02-20T17:24:44Z", "updated_at": "2020-02-21T08:40:18Z", "closed_at": "2020-02-21T08:40:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<details>\r\n<summary>Show the backtrace</summary>\r\n\r\n```\r\n$ RUST_BACKTRACE=full cargo clippy --all-targets --all-features -- -D warnings\r\n    Checking teloxide v0.1.0 (/media/hirrolot/772CF8924BEBB279/Documents/teloxide)\r\nerror: internal compiler error: src/librustc/ty/subst.rs:328: expected type for param #0 in [ReErased, UListener, ListenerE, Eh, (), (), (), for<'r, 's, 't0, 't1, 't2, 't3, 't4, 't5, 't6, 't7, 't8> {&'r dispatching::dispatcher::Dispatcher, UListener, std::sync::Arc<Eh>, std::pin::Pin<std::boxed::Box<UListener>>, [closure@src/dispatching/dispatcher.rs:232:23: 340:14 update_listener_error_handler:std::sync::Arc<Eh>, self:&'t2 dispatching::dispatcher::Dispatcher], futures_util::stream::stream::for_each::ForEach<std::pin::Pin<std::boxed::Box<UListener>>, impl core::future::future::Future, [closure@src/dispatching/dispatcher.rs:232:23: 340:14 update_listener_error_handler:std::sync::Arc<Eh>, self:&'t8 dispatching::dispatcher::Dispatcher]>, ()}, &dispatching::dispatcher::Dispatcher, UListener, std::sync::Arc<Eh>]\r\n\r\nthread 'rustc' panicked at 'Box<Any>', src/librustc_errors/lib.rs:881:9\r\nstack backtrace:\r\n   0:     0x7fe3597e0634 - backtrace::backtrace::libunwind::trace::h0743ecf0c905ca1e\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.44/src/backtrace/libunwind.rs:86\r\n   1:     0x7fe3597e0634 - backtrace::backtrace::trace_unsynchronized::h0e046f0811b0ae4d\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.44/src/backtrace/mod.rs:66\r\n   2:     0x7fe3597e0634 - std::sys_common::backtrace::_print_fmt::h5fcd1fd3d0e5d79e\r\n                               at src/libstd/sys_common/backtrace.rs:78\r\n   3:     0x7fe3597e0634 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h85ffb53d56efd098\r\n                               at src/libstd/sys_common/backtrace.rs:59\r\n   4:     0x7fe3598197dc - core::fmt::write::h231e5515e704e96b\r\n                               at src/libcore/fmt/mod.rs:1052\r\n   5:     0x7fe3597d1f97 - std::io::Write::write_fmt::h56f503f924d6c255\r\n                               at src/libstd/io/mod.rs:1428\r\n   6:     0x7fe3597e5425 - std::sys_common::backtrace::_print::hf64c641be26866a9\r\n                               at src/libstd/sys_common/backtrace.rs:62\r\n   7:     0x7fe3597e5425 - std::sys_common::backtrace::print::h16b5d561563c7498\r\n                               at src/libstd/sys_common/backtrace.rs:49\r\n   8:     0x7fe3597e5425 - std::panicking::default_hook::{{closure}}::h8363003bce1deb1a\r\n                               at src/libstd/panicking.rs:204\r\n   9:     0x7fe3597e5166 - std::panicking::default_hook::hb365b24076d7b200\r\n                               at src/libstd/panicking.rs:224\r\n  10:     0x5616108a98e1 - clippy_driver::report_clippy_ice::h2428d4b5b8cdf1d1\r\n  11:     0x7fe349fa4f46 - <alloc::boxed::Box<F> as core::ops::function::Fn<A>>::call::hd9ae7b0761284e9a\r\n                               at /rustc/7760cd0fbbbf2c59a625e075a5bdfa88b8e30f8a/src/liballoc/boxed.rs:1031\r\n  12:     0x7fe34a006565 - proc_macro::bridge::client::<impl proc_macro::bridge::Bridge>::enter::{{closure}}::{{closure}}::hed10b9edeba6f8fd\r\n                               at /rustc/7760cd0fbbbf2c59a625e075a5bdfa88b8e30f8a/src/libproc_macro/bridge/client.rs:305\r\n  13:     0x7fe3597e5b55 - std::panicking::rust_panic_with_hook::h2adc1d4c38cb25af\r\n                               at src/libstd/panicking.rs:474\r\n  14:     0x7fe35c4d7423 - std::panicking::begin_panic::h0aec239d5556eaef\r\n  15:     0x7fe35c5138c0 - rustc_errors::HandlerInner::bug::h5a56033e2c1b87b4\r\n  16:     0x7fe35c512730 - rustc_errors::Handler::bug::h1b810e82d2accdfd\r\n  17:     0x7fe35beab9b9 - rustc::util::bug::opt_span_bug_fmt::{{closure}}::hfb5ce951ff65a963\r\n  18:     0x7fe35bea99bb - rustc::ty::context::tls::with_opt::{{closure}}::hcd7506f2e186e18f\r\n  19:     0x7fe35bea9962 - rustc::ty::context::tls::with_opt::h0cd5a436ee51bd5a\r\n  20:     0x7fe35beab8c8 - rustc::util::bug::opt_span_bug_fmt::hdfd9d9d632e96cbf\r\n  21:     0x7fe35beab832 - rustc::util::bug::bug_fmt::h4f9e83e5dd7730a3\r\n  22:     0x7fe35bd35732 - rustc::ty::sty::GeneratorSubsts::split::h1e16dd9b25626ede\r\n  23:     0x7fe35bd35819 - rustc::ty::sty::GeneratorSubsts::return_ty::hdd748e6cab3f103c\r\n  24:     0x5616109d1e7c - clippy_lints::doc::lint_for_missing_headers::h2d7b93f4ac3ebea5\r\n  25:     0x5616109d1c2f - <clippy_lints::doc::DocMarkdown as rustc_lint::passes::LateLintPass>::check_impl_item::h82346d4aeb04375b\r\n  26:     0x7fe35b967763 - <rustc_lint::late::LateLintPassObjects as rustc_lint::passes::LateLintPass>::check_impl_item::h2b231c4813970416\r\n  27:     0x7fe35a09fd6f - rustc_hir::intravisit::Visitor::visit_nested_impl_item::hae814d331940772b\r\n  28:     0x7fe35a020c10 - rustc_hir::intravisit::walk_item::h0adbbed49deb2651\r\n  29:     0x7fe35a09f490 - rustc_hir::intravisit::Visitor::visit_nested_item::h1e86d900227c1722\r\n  30:     0x7fe35a0202ae - rustc_hir::intravisit::walk_item::h0adbbed49deb2651\r\n  31:     0x7fe35a09f490 - rustc_hir::intravisit::Visitor::visit_nested_item::h1e86d900227c1722\r\n  32:     0x7fe35a0202ae - rustc_hir::intravisit::walk_item::h0adbbed49deb2651\r\n  33:     0x7fe35a09f490 - rustc_hir::intravisit::Visitor::visit_nested_item::h1e86d900227c1722\r\n  34:     0x7fe35a01a4ae - rustc_hir::intravisit::walk_crate::h5ac97776a2ed6dbd\r\n  35:     0x7fe35a08763d - rustc_lint::late::late_lint_pass_crate::hd644954c32b8090d\r\n  36:     0x7fe35a086e5b - rustc_lint::late::late_lint_crate::h0c6f02b17ef245d9\r\n  37:     0x7fe35a03a87b - rustc_data_structures::sync::join::hbad259b40b9162d1\r\n  38:     0x7fe35a033147 - <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once::h18f82cd9d16f697d\r\n  39:     0x7fe3597f7447 - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:86\r\n  40:     0x7fe35a033a33 - <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once::h6023b78bf5f52a70\r\n  41:     0x7fe3597f7447 - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:86\r\n  42:     0x7fe35a03779a - rustc_session::utils::<impl rustc_session::session::Session>::time::h81fbc1aceb153fa3\r\n  43:     0x7fe35a0e27bb - rustc_interface::passes::analysis::h93c51a787db93e0e\r\n  44:     0x7fe359e77b06 - rustc::ty::query::__query_compute::analysis::h2e65031e80457914\r\n  45:     0x7fe359ed756c - rustc::dep_graph::graph::DepGraph::with_task_impl::h5f55e528bf751214\r\n  46:     0x7fe359e57890 - rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt>::get_query::h64428c911596e370\r\n  47:     0x7fe359e5a87e - rustc::ty::context::tls::enter_global::hfade6d9b67bf1644\r\n  48:     0x7fe359eb91ac - rustc_interface::interface::run_compiler_in_existing_thread_pool::hdde65f8eb6e34231\r\n  49:     0x7fe359e7329d - scoped_tls::ScopedKey<T>::set::h774e12e87074d2a2\r\n  50:     0x7fe359e5ad82 - syntax::attr::with_globals::hd6f4e6fb8aaadb66\r\n  51:     0x7fe359e74963 - std::sys_common::backtrace::__rust_begin_short_backtrace::h2e517a7b74830ac8\r\n  52:     0x7fe3597f7447 - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:86\r\n  53:     0x7fe359ebaef6 - core::ops::function::FnOnce::call_once{{vtable.shim}}::h3814fa1c62419cc0\r\n  54:     0x7fe3597c231f - <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once::h8e917a822ffc0592\r\n                               at /rustc/7760cd0fbbbf2c59a625e075a5bdfa88b8e30f8a/src/liballoc/boxed.rs:1017\r\n  55:     0x7fe3597f5d50 - <alloc::boxed::Box<F> as core::ops::function::FnOnce<A>>::call_once::h8aa486ee72f31ff1\r\n                               at /rustc/7760cd0fbbbf2c59a625e075a5bdfa88b8e30f8a/src/liballoc/boxed.rs:1017\r\n  56:     0x7fe3597f5d50 - std::sys_common::thread::start_thread::h8407e13fad90fc7e\r\n                               at src/libstd/sys_common/thread.rs:13\r\n  57:     0x7fe3597f5d50 - std::sys::unix::thread::Thread::new::thread_start::h55e6429cb8ed2e9f\r\n                               at src/libstd/sys/unix/thread.rs:80\r\n  58:     0x7fe35955c6db - start_thread\r\n  59:     0x7fe35906d88f - __clone\r\n  60:                0x0 - <unknown>\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust-clippy/issues/new\r\n\r\nnote: Clippy version: clippy 0.0.212 (2855b21 2020-02-19)\r\n\r\nquery stack during panic:\r\n#0 [analysis] running analysis passes on this crate\r\nend of query stack\r\n```\r\n\r\n</details>\r\n\r\nAbsolutely no idea how to make MRE, the code is quite big and generic. This occurred when trying to cargo clippy https://github.com/teloxide/teloxide/tree/dev on the latest nightly.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust-clippy/issues/5207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust-clippy/issues/5207/timeline", "performed_via_github_app": null, "state_reason": "completed"}