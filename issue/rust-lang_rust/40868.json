{"url": "https://api.github.com/repos/rust-lang/rust/issues/40868", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/40868/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/40868/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/40868/events", "html_url": "https://github.com/rust-lang/rust/issues/40868", "id": 217365998, "node_id": "MDU6SXNzdWUyMTczNjU5OTg=", "number": 40868, "title": "Floating Point Rounding Issue", "user": {"login": "centrual", "id": 2001424, "node_id": "MDQ6VXNlcjIwMDE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2001424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/centrual", "html_url": "https://github.com/centrual", "followers_url": "https://api.github.com/users/centrual/followers", "following_url": "https://api.github.com/users/centrual/following{/other_user}", "gists_url": "https://api.github.com/users/centrual/gists{/gist_id}", "starred_url": "https://api.github.com/users/centrual/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/centrual/subscriptions", "organizations_url": "https://api.github.com/users/centrual/orgs", "repos_url": "https://api.github.com/users/centrual/repos", "events_url": "https://api.github.com/users/centrual/events{/privacy}", "received_events_url": "https://api.github.com/users/centrual/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-27T20:30:37Z", "updated_at": "2017-03-28T05:23:36Z", "closed_at": "2017-03-27T20:40:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello rust family;\r\n\r\nI tried rust in https://www.rust-lang.org/en-US/ but the last result is not right. It must be 1.5 also if it's automatically rounds than 1.5 must be round to 2 default. Test code:\r\n\r\n```\r\nfn main() {\r\n    // A simple integer calculator:\r\n    // `+` or `-` means add or subtract by 1\r\n    // `*` or `/` means multiply or divide by 2\r\n\r\n    let program = \"+ + * - /\";\r\n    let mut accumulator = 0;\r\n\r\n    for token in program.chars() {\r\n        let action_val = if token == '+' || token == '-' { 1 } else if token == '/' || token == '*' { 2 } else {0};\r\n        \r\n        if action_val != 0 {\r\n          println!(\"accumulator({}) {} {} =\", accumulator, token, action_val);\r\n        }\r\n        \r\n        match token {\r\n            '+' => accumulator += 1,\r\n            '-' => accumulator -= 1,\r\n            '*' => accumulator *= 2,\r\n            '/' => accumulator /= 2,\r\n            _ => { /* ignore everything else */ }\r\n        }\r\n        \r\n        if action_val != 0 {\r\n          println!(\"{}\", accumulator)\r\n        }\r\n    }\r\n\r\n    println!(\"The program \\\"{}\\\" calculates the value {}\",\r\n              program, accumulator);\r\n}\r\n```", "closed_by": {"login": "retep998", "id": 666308, "node_id": "MDQ6VXNlcjY2NjMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retep998", "html_url": "https://github.com/retep998", "followers_url": "https://api.github.com/users/retep998/followers", "following_url": "https://api.github.com/users/retep998/following{/other_user}", "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}", "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retep998/subscriptions", "organizations_url": "https://api.github.com/users/retep998/orgs", "repos_url": "https://api.github.com/users/retep998/repos", "events_url": "https://api.github.com/users/retep998/events{/privacy}", "received_events_url": "https://api.github.com/users/retep998/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/40868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/40868/timeline", "performed_via_github_app": null, "state_reason": "completed"}