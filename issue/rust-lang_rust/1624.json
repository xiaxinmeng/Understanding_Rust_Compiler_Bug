{"url": "https://api.github.com/repos/rust-lang/rust/issues/1624", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1624/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1624/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1624/events", "html_url": "https://github.com/rust-lang/rust/issues/1624", "id": 2942770, "node_id": "MDU6SXNzdWUyOTQyNzcw", "number": 1624, "title": "--prefix is broken in 0.1 distribution (rpath related)", "user": {"login": "thoughtpolice", "id": 3416, "node_id": "MDQ6VXNlcjM0MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thoughtpolice", "html_url": "https://github.com/thoughtpolice", "followers_url": "https://api.github.com/users/thoughtpolice/followers", "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}", "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}", "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions", "organizations_url": "https://api.github.com/users/thoughtpolice/orgs", "repos_url": "https://api.github.com/users/thoughtpolice/repos", "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}", "received_events_url": "https://api.github.com/users/thoughtpolice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123111, "node_id": "MDU6TGFiZWwxMjMxMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-macos", "name": "O-macos", "color": "6e6ec0", "default": false, "description": "Operating system: macOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/5", "html_url": "https://github.com/rust-lang/rust/milestone/5", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/5/labels", "id": 75280, "node_id": "MDk6TWlsZXN0b25lNzUyODA=", "number": 5, "title": "0.2 release, detail work, cleanup and performance", "description": "", "creator": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 61, "state": "closed", "created_at": "2012-01-20T02:48:39Z", "updated_at": "2013-03-14T18:46:37Z", "due_on": "2012-03-23T07:00:00Z", "closed_at": "2012-03-29T03:54:45Z"}, "comments": 9, "created_at": "2012-01-23T22:26:05Z", "updated_at": "2012-01-30T03:08:39Z", "closed_at": "2012-01-30T03:08:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In an attempt to make a Homebrew formula for the 0.1 release, I noticed that `--prefix` seems somewhat broken.\n\nHere's the output from `brew install rust` on my branch:\n\n```\n$ brew install rust\n==> Downloading http://dl.rust-lang.org/dist/rust-0.1.tar.gz\nFile already downloaded in /Users/a/Library/Caches/Homebrew\n==> ./configure --prefix=/usr/local/Cellar/rust/0.1\n==> make\n==> make install\n$ /usr/local/Cellar/rust/0.1: 18 files, 32M, built in 11.4 minutes\n```\n\nSo it just does `./configure --prefix=...; make; make install` like the recommended installation instructions. Homebrew works by just installing into a special prefix for every formula, and then symlinking all the resulting binaries into `/usr/local` or where-ever brew is installed (as you can see above):\n\n```\n$ which rustc\n/usr/local/bin/rustc\n$ readlink `which rustc`\n../Cellar/rust/0.1/bin/rustc\n```\n\nWhen run, `rustc` spits out:\n\n```\n$ rustc\ndyld: Library not loaded: @loader_path/@rpath/librustrt.dylib\n  Referenced from: /usr/local/Cellar/rust/0.1/bin/../lib/libcore-14bd852465126fe7-0.1.dylib\n  Reason: image not found\n[1]    92198 trace trap  rustc\n\n```\n\nSo it seems to be something rpath related.\n", "closed_by": {"login": "thoughtpolice", "id": 3416, "node_id": "MDQ6VXNlcjM0MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thoughtpolice", "html_url": "https://github.com/thoughtpolice", "followers_url": "https://api.github.com/users/thoughtpolice/followers", "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}", "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}", "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions", "organizations_url": "https://api.github.com/users/thoughtpolice/orgs", "repos_url": "https://api.github.com/users/thoughtpolice/repos", "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}", "received_events_url": "https://api.github.com/users/thoughtpolice/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/1624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1624/timeline", "performed_via_github_app": null, "state_reason": "completed"}