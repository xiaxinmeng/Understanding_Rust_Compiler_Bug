{"url": "https://api.github.com/repos/rust-lang/rust/issues/22949", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/22949/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/22949/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/22949/events", "html_url": "https://github.com/rust-lang/rust/issues/22949", "id": 59443838, "node_id": "MDU6SXNzdWU1OTQ0MzgzOA==", "number": 22949, "title": "Possible back-compat hazard from empty structs in std", "user": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/22", "html_url": "https://github.com/rust-lang/rust/milestone/22", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/22/labels", "id": 924511, "node_id": "MDk6TWlsZXN0b25lOTI0NTEx", "number": 22, "title": "1.0 beta", "description": "", "creator": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 80, "state": "closed", "created_at": "2015-01-06T21:40:55Z", "updated_at": "2015-04-08T23:57:21Z", "due_on": null, "closed_at": "2015-04-08T23:57:21Z"}, "comments": 9, "created_at": "2015-03-02T06:31:30Z", "updated_at": "2015-03-24T20:24:52Z", "closed_at": "2015-03-24T20:24:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\n$ git grep 'pub struct [^(]*;' -- src/libcore src/libcollections/ src/libstd/ src/libunicode/\nsrc/libcore/fmt/mod.rs:55:pub struct Error;\nsrc/libcore/fmt/num.rs:87:pub struct UpperHex;\nsrc/libcore/marker.rs:222:pub struct NoCopy;\nsrc/libcore/marker.rs:230:pub struct Managed;\nsrc/libcore/marker.rs:368:pub struct PhantomData<T:?Sized>;\nsrc/libcore/marker.rs:383:pub struct ContravariantLifetime<'a>;\nsrc/libcore/marker.rs:389:pub struct CovariantLifetime<'a>;\nsrc/libcore/marker.rs:395:pub struct InvariantLifetime<'a>;\nsrc/libcore/marker.rs:401:pub struct ContravariantType<T>;\nsrc/libcore/marker.rs:407:pub struct CovariantType<T>;\nsrc/libcore/marker.rs:413:pub struct InvariantType<T>;\nsrc/libcore/ops.rs:970:pub struct RangeFull;\nsrc/libstd/net/parser.rs:330:pub struct ParseError;\nsrc/libstd/old_io/buffered.rs:437:    pub struct NullStream;\nsrc/libstd/old_io/net/ip.rs:373:pub struct ParseError;\nsrc/libstd/old_io/util.rs:82:pub struct NullWriter;\nsrc/libstd/old_io/util.rs:91:pub struct ZeroReader;\nsrc/libstd/old_io/util.rs:112:pub struct NullReader;\nsrc/libstd/old_path/posix.rs:101:pub struct ParsePathError;\nsrc/libstd/old_path/windows.rs:128:pub struct ParsePathError;\nsrc/libstd/rt/unwind.rs:394:    pub struct EXCEPTION_RECORD;\nsrc/libstd/rt/unwind.rs:396:    pub struct CONTEXT;\nsrc/libstd/rt/unwind.rs:398:    pub struct DISPATCHER_CONTEXT;\nsrc/libstd/sync/mpsc/mod.rs:395:pub struct RecvError;\nsrc/libstd/sys/unix/os.rs:156:pub struct JoinPathsError;\nsrc/libstd/sys/windows/os.rs:197:pub struct JoinPathsError;\n```\n\nThese are the `pub struct`s that have no data fields at all. Once stabilised these cannot ever have anything added to them, since they can currently be publicly constructed by just writing their name. We should make sure that this is the intended behaviour for each. (I'm sure many of those are not intending to be `#[stable]` for 1.0, so this is probably a fairly quick audit.)\n\ncc @aturon \n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/22949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/22949/timeline", "performed_via_github_app": null, "state_reason": "completed"}