{"url": "https://api.github.com/repos/rust-lang/rust/issues/1135", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1135/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1135/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1135/events", "html_url": "https://github.com/rust-lang/rust/issues/1135", "id": 2150380, "node_id": "MDU6SXNzdWUyMTUwMzgw", "number": 1135, "title": "crash: recursive tag with vector -> out of stack space, sorry", "user": {"login": "elly", "id": 218734, "node_id": "MDQ6VXNlcjIxODczNA==", "avatar_url": "https://avatars.githubusercontent.com/u/218734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elly", "html_url": "https://github.com/elly", "followers_url": "https://api.github.com/users/elly/followers", "following_url": "https://api.github.com/users/elly/following{/other_user}", "gists_url": "https://api.github.com/users/elly/gists{/gist_id}", "starred_url": "https://api.github.com/users/elly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elly/subscriptions", "organizations_url": "https://api.github.com/users/elly/orgs", "repos_url": "https://api.github.com/users/elly/repos", "events_url": "https://api.github.com/users/elly/events{/privacy}", "received_events_url": "https://api.github.com/users/elly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-11-05T02:22:43Z", "updated_at": "2011-11-05T08:20:52Z", "closed_at": "2011-11-05T08:20:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code crashes rustc with either an \"out of stack space\" message or a segmentation fault:\n\ntag x { y([x]); }\n\nDistressingly, attaching gdb to rustc during this event causes gdb itself to dump core if rustc segfaults (!!).\n\nFull stack from the \"out of stack space, sorry\" case:\n#0  check_stack (task=0x832bc10) at ./src/rt/rust_upcall.cpp:21\n\n```\n    esp = 0xf68ca000\n```\n#1  0xf6e75c83 in upcall_get_type_desc (curr_crate=0x0, size=28, align=1, n_descs=2, descs=0xf68ca0a4,\n\n```\nn_obj_params=0) at ./src/rt/rust_upcall.cpp:146\n    task = 0x832bc10\n    __FUNCTION__ = \"upcall_get_type_desc\"\n    cache = <value optimized out>\n    td = <value optimized out>\n```\n#2  0xf7f7d14f in smallintmap::find::_5c9e3cb6b6b5a2f5 ()\n\n   from /home/elly/a/rust/bin/../lib/libruststd.so\nNo symbol table info available.\n#3  0x0825f7cc in middle::ast_map::new_smallintmap_adapter::adapter::method::find ()\n\nNo symbol table info available.\n#4  0x080ec632 in middle::ty::tag_variants::_1c871e1f76d6b2f5 ()\n\nNo symbol table info available.\n#5  0x080612e6 in middle::trans::type_of_tag::_939525f41f14d95a ()\n\nNo symbol table info available.\n#6  0x080609b6 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#7  0x08060a71 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#8  0x08061126 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#9  0x0805f869 in middle::trans::type_of::_8e3d2f233d4c6561 ()\n\nNo symbol table info available.\n#10 0x0806456f in middle::trans::static_size_of_tag::_bdd7cd8c1b3eb325 ()\n\nNo symbol table info available.\n#11 0x080614f6 in middle::trans::type_of_tag::_939525f41f14d95a ()\n\nNo symbol table info available.\n#12 0x080609b6 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#13 0x08060a71 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#14 0x08061126 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#15 0x0805f869 in middle::trans::type_of::_8e3d2f233d4c6561 ()\n\nNo symbol table info available.\n#16 0x0806456f in middle::trans::static_size_of_tag::_bdd7cd8c1b3eb325 ()\n\nNo symbol table info available.\n#17 0x080614f6 in middle::trans::type_of_tag::_939525f41f14d95a ()\n\nNo symbol table info available.\n#18 0x080609b6 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#19 0x08060a71 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#20 0x08061126 in middle::trans::type_of_inner::_5ae7d09f421bd3b2 ()\n\nNo symbol table info available.\n#21 0x0805f869 in middle::trans::type_of::_8e3d2f233d4c6561 ()\n\nNo symbol table info available.\n#22 0x0806456f in middle::trans::static_size_of_tag::_bdd7cd8c1b3eb325 ()\n\nNo symbol table info available.\n<repeats for hundreds of frames...>\n", "closed_by": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/1135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1135/timeline", "performed_via_github_app": null, "state_reason": "completed"}