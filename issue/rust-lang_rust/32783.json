{"url": "https://api.github.com/repos/rust-lang/rust/issues/32783", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32783/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32783/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32783/events", "html_url": "https://github.com/rust-lang/rust/issues/32783", "id": 146468224, "node_id": "MDU6SXNzdWUxNDY0NjgyMjQ=", "number": 32783, "title": "Compiler panic on building Redox ", "user": {"login": "Viknet", "id": 418420, "node_id": "MDQ6VXNlcjQxODQyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/418420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Viknet", "html_url": "https://github.com/Viknet", "followers_url": "https://api.github.com/users/Viknet/followers", "following_url": "https://api.github.com/users/Viknet/following{/other_user}", "gists_url": "https://api.github.com/users/Viknet/gists{/gist_id}", "starred_url": "https://api.github.com/users/Viknet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Viknet/subscriptions", "organizations_url": "https://api.github.com/users/Viknet/orgs", "repos_url": "https://api.github.com/users/Viknet/repos", "events_url": "https://api.github.com/users/Viknet/events{/privacy}", "received_events_url": "https://api.github.com/users/Viknet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-04-06T23:47:59Z", "updated_at": "2016-04-16T00:05:47Z", "closed_at": "2016-04-16T00:05:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to build current Redox OS HEAD with last available rustc-nightly and got an ICE.\n## Meta\n\n`rustc --version --verbose`:\n\n```\nrustc 1.9.0-nightly (241a9d0dd 2016-04-05)\nbinary: rustic\ncommit-hash: 241a9d0ddf99fd40d273c615e9b1e8ce6052d94a\ncommit-date: 2016-04-05\nhost: x86_64-apple-darwin\nrelease: 1.9.0-nightly\n```\n\nBacktrace:\n\n```\n\u276f\u276f\u276f make qemu                                                                                                                                                \u23ce master\nRUST_BACKTRACE=1 rustc --target=i386-unknown-redox.json -L build/i386-unknown-redox/debug -C no-prepopulate-passes -C no-stack-check -C opt-level=2 -Z no-landing-pads -A dead_code -C ar=i386-elf-ar -C linker=i386-elf-gcc -o build/i386-unknown-redox/debug/libstd.rlib libstd/src/lib.rs -L native=libc/lib/\nerror: internal compiler error: ../src/librustc_metadata/encoder.rs:220: encode_symbol: id not found 49044\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', ../src/libsyntax/errors/mod.rs:575\nstack backtrace:\n   1:        0x110b66978 - std::sys::backtrace::tracing::imp::write::h714760a4c8c0cdd8\n   2:        0x110b72dc5 - std::panicking::default_hook::_$u7b$$u7b$closure$u7d$$u7d$::hff309ab1d83ffd90\n   3:        0x110b728fd - std::panicking::default_hook::h08ad3bb09872855b\n   4:        0x110b36196 - std::sys_common::unwind::begin_unwind_inner::h406d5f1a330b854b\n   5:        0x110113cea - std::sys_common::unwind::begin_unwind::hb10e2b9ef92fd4a6\n   6:        0x110113b19 - syntax::errors::Handler::bug::h112319de7e910c9e\n   7:        0x10f494c9c - rustc::session::opt_span_bug_fmt::_$u7b$$u7b$closure$u7d$$u7d$::h2c926d3e6a2eb430\n   8:        0x10f494b01 - rustc::session::opt_span_bug_fmt::he2c7fbeab8bf3d1d\n   9:        0x10f4a36a9 - rustc::session::bug_fmt::h9f67e9cd7aa5a073\n  10:        0x10cab64f0 - rustc_metadata::encoder::encode_symbol::h165ac8a162612975\n  11:        0x10cac310b - rustc_metadata::encoder::encode_info_for_item::hfab1a46f9bf30c3c\n  12:        0x10cac9c71 - rustc::front::map::Map::with_path_next::h6ba163a93b4eab46\n  13:        0x10cac9ca4 - rustc::front::map::Map::with_path_next::h6ba163a93b4eab46\n  14:        0x10cac9ca4 - rustc::front::map::Map::with_path_next::h6ba163a93b4eab46\n  15:        0x10caccd4e - _<encoder..EncodeVisitor<'a, 'b, 'c, 'tcx> as rustc_front..intravisit..Visitor<'tcx>>::visit_item::h1cde6db68ffd78b8\n  16:        0x10cad3f5d - rustc_metadata::encoder::encode_metadata_inner::hcfb24759120a6c88\n  17:        0x10cacfb19 - rustc_metadata::encoder::encode_metadata::ha3e422357afb6bf6\n  18:        0x10cb2c07f - rustc_metadata::csearch::_<impl rustc..middle..cstore..CrateStore<'tcx> for cstore..CStore>::encode_metadata::h88a2f338ac9ea48a\n  19:        0x10ccafee2 - rustc_trans::base::trans_crate::_$u7b$$u7b$closure$u7d$$u7d$::h6042c55692ac48ec\n  20:        0x10cca1dfd - rustc_trans::base::trans_crate::h45d3e3b1384148fb\n  21:        0x10c24fce0 - rustc_driver::driver::phase_4_translate_to_llvm::h8d5ab3a4d94eae6a\n  22:        0x10c24e434 - rustc_driver::driver::compile_input::_$u7b$$u7b$closure$u7d$$u7d$::hd32acfaba89541b2\n  23:        0x10c24b02d - rustc_driver::driver::phase_3_run_analysis_passes::_$u7b$$u7b$closure$u7d$$u7d$::h1692b932d4d7b15b\n  24:        0x10c2451a5 - rustc::ty::context::TyCtxt::create_and_enter::h926ea4fe45f15d00\n  25:        0x10c241ba5 - rustc_driver::driver::phase_3_run_analysis_passes::h3c035e5cf4758407\n  26:        0x10c215af1 - rustc_driver::driver::compile_input::h650fe5b01cb8d74d\n  27:        0x10c1fc04f - rustc_driver::run_compiler::h68d23e0e9b7b247d\n  28:        0x10c1f93e2 - std::sys_common::unwind::try::try_fn::h67fde221a73148bc\n  29:        0x110b63fdb - __rust_try\n  30:        0x110b63f63 - std::sys_common::unwind::inner_try::h4e97625a08807651\n  31:        0x10c1f9c79 - _<F as std..boxed..FnBox<A>>::call_box::hc8936fa120642c49\n  32:        0x110b71c88 - std::sys::thread::Thread::new::thread_start::h74af400293164137\n  33:     0x7fff9f86399c - _pthread_body\n  34:     0x7fff9f863919 - _pthread_start\n\nmake: *** [build/i386-unknown-redox/debug/libstd.rlib] Error 101\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32783/timeline", "performed_via_github_app": null, "state_reason": "completed"}