{"url": "https://api.github.com/repos/rust-lang/rust/issues/27063", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27063/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27063/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27063/events", "html_url": "https://github.com/rust-lang/rust/issues/27063", "id": 95361248, "node_id": "MDU6SXNzdWU5NTM2MTI0OA==", "number": 27063, "title": "Arc.clone() Method Chaining -> \"borrowed value does not live long enough\"", "user": {"login": "oberien", "id": 4820508, "node_id": "MDQ6VXNlcjQ4MjA1MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/4820508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oberien", "html_url": "https://github.com/oberien", "followers_url": "https://api.github.com/users/oberien/followers", "following_url": "https://api.github.com/users/oberien/following{/other_user}", "gists_url": "https://api.github.com/users/oberien/gists{/gist_id}", "starred_url": "https://api.github.com/users/oberien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oberien/subscriptions", "organizations_url": "https://api.github.com/users/oberien/orgs", "repos_url": "https://api.github.com/users/oberien/repos", "events_url": "https://api.github.com/users/oberien/events{/privacy}", "received_events_url": "https://api.github.com/users/oberien/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-16T06:27:53Z", "updated_at": "2015-07-16T10:26:22Z", "closed_at": "2015-07-16T10:26:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have the following Code:\n\n``` rust\nuse std::sync::{Arc, RwLock};\n\nfn main() {\n    let mut i = 5;\n    let arc = Arc::new(RwLock::new(i));\n    println!(\"{}\", i);\n\n    {\n        let copy = arc.clone();\n        let local_i = *copy.read().unwrap();\n        println!(\"{}\", local_i);\n    }\n\n    {\n        let local_i = *arc.clone().read().unwrap();\n        println!(\"{}\", local_i);\n    }\n}\n```\n\nWhen I compile I get the following Error:\n\n``` rust\nmain.rs:15:24: 15:35 error: borrowed value does not live long enough\nmain.rs:15         let local_i = *arc.clone().read().unwrap();\n                                  ^~~~~~~~~~~\nmain.rs:15:9: 15:53 note: reference must be valid for the destruction scope surrounding statement at 15:8...\nmain.rs:15         let local_i = *arc.clone().read().unwrap();\n                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmain.rs:15:9: 15:53 note: ...but borrowed value is only valid for the statement at 15:8\nmain.rs:15         let local_i = *arc.clone().read().unwrap();\n                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmain.rs:15:9: 15:53 help: consider using a `let` binding to increase its lifetime\nmain.rs:15         let local_i = *arc.clone().read().unwrap();\n                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n```\n\nWhy does the method chaining result in this error whereas the first one with variables instead of chaining does work? Shouldn't method chaining result in the same ownership as having introduced a local var for every submethod?\n", "closed_by": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27063/timeline", "performed_via_github_app": null, "state_reason": "completed"}