{"url": "https://api.github.com/repos/rust-lang/rust/issues/51577", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/51577/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/51577/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/51577/events", "html_url": "https://github.com/rust-lang/rust/issues/51577", "id": 332823074, "node_id": "MDU6SXNzdWUzMzI4MjMwNzQ=", "number": 51577, "title": "flaky \"access to extern crates through prelude\" (for crate std)", "user": {"login": "SillyFreak", "id": 1029192, "node_id": "MDQ6VXNlcjEwMjkxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1029192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SillyFreak", "html_url": "https://github.com/SillyFreak", "followers_url": "https://api.github.com/users/SillyFreak/followers", "following_url": "https://api.github.com/users/SillyFreak/following{/other_user}", "gists_url": "https://api.github.com/users/SillyFreak/gists{/gist_id}", "starred_url": "https://api.github.com/users/SillyFreak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SillyFreak/subscriptions", "organizations_url": "https://api.github.com/users/SillyFreak/orgs", "repos_url": "https://api.github.com/users/SillyFreak/repos", "events_url": "https://api.github.com/users/SillyFreak/events{/privacy}", "received_events_url": "https://api.github.com/users/SillyFreak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-15T15:39:41Z", "updated_at": "2019-06-24T10:26:54Z", "closed_at": "2019-06-24T10:26:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I stumbled across this while defining a `Result` alias. Consider the following code:\r\n\r\n```\r\npub type Result<T> = std::result::Result<T, ()>;\r\n\r\npub mod example1 {\r\n    use std::result::Result as StdResult;\r\n\r\n    pub type Result<T> = StdResult<T, ()>;\r\n}\r\n\r\npub mod example2 {\r\n    pub type Result<T> = std::result::Result<T, ()>;\r\n}\r\n```\r\n\r\nThe first two work, while it turns out that for the third definition, I'd need to write `::std::result::Result`. The error is this:\r\n\r\n```\r\nerror[E0658]: access to extern crates through prelude is experimental (see issue #44660)\r\n  --> example/src/lib.rs:10:26\r\n   |\r\n10 |     pub type Result<T> = std::result::Result<T, ()>;\r\n   |                          ^^^\r\n   |\r\n   = help: add #![feature(extern_prelude)] to the crate attributes to enable\r\n```\r\n\r\nI'm not sure what difference the compiler sees in the access variants, but the fix was not to activate an experimental feature. If the behavior is intended, maybe add the option to use an absolute reference to the hints?\r\n\r\n```\r\n$ rustc --version --verbose\r\nrustc 1.28.0-nightly (5205ae8bd 2018-06-13)\r\nbinary: rustc\r\ncommit-hash: 5205ae8bdc2991eecf3bfbb58ed8f56c0673e738\r\ncommit-date: 2018-06-13\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.28.0-nightly\r\nLLVM version: 6.0\r\n```", "closed_by": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/51577/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/51577/timeline", "performed_via_github_app": null, "state_reason": "completed"}