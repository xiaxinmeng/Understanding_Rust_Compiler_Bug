{"url": "https://api.github.com/repos/rust-lang/rust/issues/95030", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/95030/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/95030/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/95030/events", "html_url": "https://github.com/rust-lang/rust/issues/95030", "id": 1171830911, "node_id": "I_kwDOAAsO6M5F2Lh_", "number": 95030, "title": "Error message is misleading for missing semicolon between raw string literal and attribute", "user": {"login": "8573", "id": 3662816, "node_id": "MDQ6VXNlcjM2NjI4MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3662816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/8573", "html_url": "https://github.com/8573", "followers_url": "https://api.github.com/users/8573/followers", "following_url": "https://api.github.com/users/8573/following{/other_user}", "gists_url": "https://api.github.com/users/8573/gists{/gist_id}", "starred_url": "https://api.github.com/users/8573/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/8573/subscriptions", "organizations_url": "https://api.github.com/users/8573/orgs", "repos_url": "https://api.github.com/users/8573/repos", "events_url": "https://api.github.com/users/8573/events{/privacy}", "received_events_url": "https://api.github.com/users/8573/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1596121013, "node_id": "MDU6TGFiZWwxNTk2MTIxMDEz", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-confusing", "name": "D-confusing", "color": "c9f7a3", "default": false, "description": "Confusing diagnostic error that should be reworked"}], "state": "closed", "locked": false, "assignee": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-03-17T01:53:56Z", "updated_at": "2022-04-26T04:48:32Z", "closed_at": "2022-04-26T04:48:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given the following code: <https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=8b5f6ac92ab1ea3dbc9d74c8d63d7514>\r\n\r\n```rust\r\nconst A: &'static str = r\"\"\r\n\r\n// Test\r\n#[test]\r\nfn test() {}\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nerror: too many `#` when terminating raw string\r\n --> src/lib.rs:4:1\r\n  |\r\n4 | #[test]\r\n  | ^ help: remove the extra `#`\r\n  |\r\n  = note: the raw string started with 0 `#`s\r\n```\r\n\r\nGiven the following code: <https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=28a29f9c008732dd3e7fc75455a4e325>\r\n\r\n```rust\r\nfn main() {\r\n    let s = r\"\"\r\n\r\n    #[cfg(unix)]\r\n    fn u() {}\r\n}\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nerror: too many `#` when terminating raw string\r\n --> src/main.rs:4:5\r\n  |\r\n4 |     #[cfg(unix)]\r\n  |     ^ help: remove the extra `#`\r\n  |\r\n  = note: the raw string started with 0 `#`s\r\n```\r\n\r\nThe problem with the error message is that there is nothing wrong with the raw string literals (as rustc notes, they don't use any `#`s anyway); in particular, the raw string literals are not incorrectly terminated. Rather, it is the item declaration or statement that is terminated incorrectly, in that it is missing its terminating semicolon.  Besides being misleading as to the problem with the code, the error message includes a suggestion that would only break the syntax further.\r\n\r\nI suggest this is a minor issue, especially as no-one appears to have reported it yet.\r\n\r\nThis issue appears to apply to stable, beta, and nightly.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/95030/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/95030/timeline", "performed_via_github_app": null, "state_reason": "completed"}