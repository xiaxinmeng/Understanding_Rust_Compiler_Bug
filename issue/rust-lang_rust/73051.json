{"url": "https://api.github.com/repos/rust-lang/rust/issues/73051", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73051/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73051/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73051/events", "html_url": "https://github.com/rust-lang/rust/issues/73051", "id": 632225335, "node_id": "MDU6SXNzdWU2MzIyMjUzMzU=", "number": 73051, "title": "statically linking ALL deps for cross compiling [support a RISC-V + musl target]", "user": {"login": "chaozju", "id": 26082808, "node_id": "MDQ6VXNlcjI2MDgyODA4", "avatar_url": "https://avatars.githubusercontent.com/u/26082808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chaozju", "html_url": "https://github.com/chaozju", "followers_url": "https://api.github.com/users/chaozju/followers", "following_url": "https://api.github.com/users/chaozju/following{/other_user}", "gists_url": "https://api.github.com/users/chaozju/gists{/gist_id}", "starred_url": "https://api.github.com/users/chaozju/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chaozju/subscriptions", "organizations_url": "https://api.github.com/users/chaozju/orgs", "repos_url": "https://api.github.com/users/chaozju/repos", "events_url": "https://api.github.com/users/chaozju/events{/privacy}", "received_events_url": "https://api.github.com/users/chaozju/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 630662867, "node_id": "MDU6TGFiZWw2MzA2NjI4Njc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-musl", "name": "O-musl", "color": "6e6ec0", "default": false, "description": "Target: The musl libc"}, {"id": 1210355734, "node_id": "MDU6TGFiZWwxMjEwMzU1NzM0", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-riscv", "name": "O-riscv", "color": "6e6ec0", "default": false, "description": "Target: RISC-V architecture"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-06T05:38:00Z", "updated_at": "2020-06-07T07:14:21Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Hi I am working on cross compilation for [wasmer](https://github.com/wasmerio/wasmer) to RISC-V.\r\n\r\nI want to statically link **all** dependencies into **1** executable to avoid `qemu` issue like below.\r\n\r\nIs there a way to **globally** configure `cargo build` or something else  like `-static` flag for `gcc`?\r\n```bash\r\n[root@stage4 ~]# ls\r\nffi  wasmer\r\n[root@stage4 ~]# file wasmer\r\nwasmer: ELF 64-bit LSB shared object, UCB RISC-V, version 1 (SYSV), dynamically linked, interpreter /lib/ld.so.1, with debug_info, not stripped\r\n[root@stage4 ~]# ldd wasmer\r\n        linux-vdso.so.1 (0x000000200001a000)\r\n        libffi.so.8 => /lib64/lp64d/libffi.so.8 (0x000000200007b000)\r\n        libstdc++.so.6 => /lib64/lp64d/libstdc++.so.6 (0x0000002000084000)\r\n        libutil.so.1 => /lib64/lp64d/libutil.so.1 (0x00000020001f3000)\r\n        libdl.so.2 => /lib64/lp64d/libdl.so.2 (0x00000020001f7000)\r\n        librt.so.1 => /lib64/lp64d/librt.so.1 (0x00000020001fb000)\r\n        libpthread.so.0 => /lib64/lp64d/libpthread.so.0 (0x0000002000202000)\r\n        libgcc_s.so.1 => /lib64/lp64d/libgcc_s.so.1 (0x000000200021d000)\r\n        libc.so.6 => /lib64/lp64d/libc.so.6 (0x0000002000231000)\r\n        /lib/ld.so.1 => /lib/ld-linux-riscv64-lp64d.so.1 (0x0000002000000000)\r\n        libm.so.6 => /lib64/lp64d/libm.so.6 (0x000000200033e000)\r\n[root@stage4 ~]# ./wasmer\r\n-bash: ./wasmer: No such file or directory\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73051/timeline", "performed_via_github_app": null, "state_reason": null}