{"url": "https://api.github.com/repos/rust-lang/rust/issues/22812", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/22812/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/22812/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/22812/events", "html_url": "https://github.com/rust-lang/rust/issues/22812", "id": 58964723, "node_id": "MDU6SXNzdWU1ODk2NDcyMw==", "number": 22812, "title": "impl DerefMut<Target=Foo> on enum Baz { Baz(Bar) } where Bar: Foo explodes in trans with panic at Box<Any>", "user": {"login": "eternaleye", "id": 99404, "node_id": "MDQ6VXNlcjk5NDA0", "avatar_url": "https://avatars.githubusercontent.com/u/99404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eternaleye", "html_url": "https://github.com/eternaleye", "followers_url": "https://api.github.com/users/eternaleye/followers", "following_url": "https://api.github.com/users/eternaleye/following{/other_user}", "gists_url": "https://api.github.com/users/eternaleye/gists{/gist_id}", "starred_url": "https://api.github.com/users/eternaleye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eternaleye/subscriptions", "organizations_url": "https://api.github.com/users/eternaleye/orgs", "repos_url": "https://api.github.com/users/eternaleye/repos", "events_url": "https://api.github.com/users/eternaleye/events{/privacy}", "received_events_url": "https://api.github.com/users/eternaleye/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-25T20:33:41Z", "updated_at": "2015-04-22T16:54:56Z", "closed_at": "2015-04-22T02:39:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\nthread 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/beta-dist-rustc-linux/build/src/libsyntax/diagnostic.rs:189\n\nstack backtrace:\n   1:     0x7fc9c5f20200 - sys::backtrace::write::h520dd0378544e68eKlC\n   2:     0x7fc9c5f48ab0 - panicking::on_panic::h73bcbe74cf719159tXL\n   3:     0x7fc9c5e89710 - rt::unwind::begin_unwind_inner::h226bd1dfa9ab39a5RBL\n   4:     0x7fc9c3178a90 - rt::unwind::begin_unwind::h2352366649465682259\n   5:     0x7fc9c3179250 - diagnostic::Handler::bug::h24f8753792255451w4E\n   6:     0x7fc9c3ec6280 - session::Session::bug::h3ecc6cd354736e44Qnt\n   7:     0x7fc9c4b8f640 - trans::type_of::type_of::h40e0f02814030012zbp\n   8:     0x7fc9c4b8f640 - trans::type_of::type_of::h40e0f02814030012zbp\n   9:     0x7fc9c4c0bd30 - trans::type_of::arg_type_of::h5befcc9fe4a23b4bvap\n  10:     0x7fc9c4c3c6d0 - trans::type_of::type_of_rust_fn::hf6f0363db60b7391HYo\n  11:     0x7fc9c4c445e0 - trans::base::decl_rust_fn::h46f132ec784dec7cpjs\n  12:     0x7fc9c4c56f30 - trans::base::register_fn::h64f0f68951c950175Zu\n  13:     0x7fc9c4c59010 - trans::base::register_method::h75db41a2080c63fadEv\n  14:     0x7fc9c4b6e0b0 - trans::base::get_item_val::hfda2e9ac512d30d9Xmv\n  15:     0x7fc9c4b6bd60 - trans::base::trans_item::h2fccaa6d9562ddbezRu\n  16:     0x7fc9c4c592f0 - trans::base::trans_crate::h4a9b69700f9a02f61Ov\n  17:     0x7fc9c65a7190 - driver::phase_4_translate_to_llvm::hebaa5de771c2a8ebqPa\n  18:     0x7fc9c6580f70 - driver::compile_input::h094c71f01c3d97e4Gba\n  19:     0x7fc9c664ff30 - run_compiler::h2593dc6af08412c4Zbc\n  20:     0x7fc9c664e830 - thunk::F.Invoke<A, R>::invoke::h14283145127392528800\n  21:     0x7fc9c664d720 - rt::unwind::try::try_fn::h6903430089158945242\n  22:     0x7fc9c5fb5870 - rust_try_inner\n  23:     0x7fc9c5fb5860 - rust_try\n  24:     0x7fc9c664da20 - thunk::F.Invoke<A, R>::invoke::h8747893166239563621\n  25:     0x7fc9c5f34b50 - sys::thread::thread_start::hbf9a4c388c6ac6f093G\n  26:     0x7fc9bfe39190 - <unknown>\n  27:     0x7fc9c5b11e79 - __clone\n  28:                0x0 - <unknown>\n\n```\n\nThe code:\n\n``` rust\ntrait Foo {\n    fn foo( &self );\n}\n\nstruct Bar;\nimpl Foo for Bar {\n    fn foo( &self ) { ; }\n}\n\nenum Baz {\n    Baz(Bar)\n}\n\nimpl std::ops::Deref for Baz {\n    type Target = Foo;\n    fn deref(&self) -> &<Baz as std::ops::Deref>::Target {\n        match self {\n            &Baz::Baz( ref t ) => t\n        }\n    }\n}\n\nimpl std::ops::DerefMut for Baz {\n    fn deref_mut(&mut self) -> &mut <Baz as std::ops::DerefMut>::Target {\n        match self {\n            &mut Baz::Baz( ref mut t ) => t\n        }\n    }\n}\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/22812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/22812/timeline", "performed_via_github_app": null, "state_reason": "completed"}