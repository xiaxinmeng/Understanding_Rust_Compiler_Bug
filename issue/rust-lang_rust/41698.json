{"url": "https://api.github.com/repos/rust-lang/rust/issues/41698", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41698/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41698/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41698/events", "html_url": "https://github.com/rust-lang/rust/issues/41698", "id": 225647821, "node_id": "MDU6SXNzdWUyMjU2NDc4MjE=", "number": 41698, "title": "Reorder span_suggestions to appear below main labels #40851", "user": {"login": "gaurikholkar-zz", "id": 9420877, "node_id": "MDQ6VXNlcjk0MjA4Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/9420877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaurikholkar-zz", "html_url": "https://github.com/gaurikholkar-zz", "followers_url": "https://api.github.com/users/gaurikholkar-zz/followers", "following_url": "https://api.github.com/users/gaurikholkar-zz/following{/other_user}", "gists_url": "https://api.github.com/users/gaurikholkar-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaurikholkar-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaurikholkar-zz/subscriptions", "organizations_url": "https://api.github.com/users/gaurikholkar-zz/orgs", "repos_url": "https://api.github.com/users/gaurikholkar-zz/repos", "events_url": "https://api.github.com/users/gaurikholkar-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/gaurikholkar-zz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 36996, "node_id": "MDU6TGFiZWwzNjk5Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-easy", "name": "E-easy", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Easy / not much (good first issue)"}, {"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2017-05-02T09:59:40Z", "updated_at": "2017-09-12T23:06:19Z", "closed_at": "2017-09-12T23:06:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "In #40851, owing to the the fact that suggestions have been moved inline, no doubt is a good idea. But in the case where the span of the suggestion and the span of the main comment coincide, it currently causes the suggestion to appear before the main comment, which seems suboptimal. We should reorder suggestions so they appear below other labels.\r\n\r\nHere is the example,\r\n```\r\nfn main() {\r\n    let v = vec![String::from(\"oh no\")];\r\n    \r\n    let e = v[0];\r\n}\r\n```\r\n\r\n```\r\nerror[E0507]: cannot move out of indexed content\r\n --> ex1.rs:4:13\r\n  |\r\n4 |     let e = v[0];\r\n  |             ^^^^\r\n  |             |\r\n  |             help: consider using a reference instead `&v[0]`\r\n  |             cannot move out of indexed content\r\n\r\nerror: aborting due to previous error\r\n\r\n```\r\n\r\nIn the [move_error.rs](https://github.com/rust-lang/rust/blob/master/src/librustc_borrowck/borrowck/gather_loans/move_error.rs#L77)\r\n```\r\nlet initializer =\r\n                    e.init.as_ref().expect(\"should have an initializer to get an error\");\r\n                if let Ok(snippet) = bccx.tcx.sess.codemap().span_to_snippet(initializer.span) {\r\n                    err.span_suggestion(initializer.span,\r\n                                        \"consider using a reference instead\",format!(\"&{}\", snippet));\r\n                }\r\n            }\r\n```\r\n\r\ncc @nikomatsakis  @estebank ", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41698/timeline", "performed_via_github_app": null, "state_reason": "completed"}