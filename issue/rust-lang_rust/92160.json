{"url": "https://api.github.com/repos/rust-lang/rust/issues/92160", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/92160/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/92160/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/92160/events", "html_url": "https://github.com/rust-lang/rust/issues/92160", "id": 1085760642, "node_id": "I_kwDOAAsO6M5At2SC", "number": 92160, "title": "title: rustc-1.57.0: hang while building gkrust for firefox 91.0.1", "user": {"login": "OSS542", "id": 11888657, "node_id": "MDQ6VXNlcjExODg4NjU3", "avatar_url": "https://avatars.githubusercontent.com/u/11888657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OSS542", "html_url": "https://github.com/OSS542", "followers_url": "https://api.github.com/users/OSS542/followers", "following_url": "https://api.github.com/users/OSS542/following{/other_user}", "gists_url": "https://api.github.com/users/OSS542/gists{/gist_id}", "starred_url": "https://api.github.com/users/OSS542/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OSS542/subscriptions", "organizations_url": "https://api.github.com/users/OSS542/orgs", "repos_url": "https://api.github.com/users/OSS542/repos", "events_url": "https://api.github.com/users/OSS542/events{/privacy}", "received_events_url": "https://api.github.com/users/OSS542/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-21T12:03:06Z", "updated_at": "2022-01-02T02:27:26Z", "closed_at": "2022-01-02T02:27:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "An illegal instruction error occurs when building firefox-91.0.1.\r\nnote: the Core 2 Quad does not support AVX/AVX2 (see flags below)\r\n\r\n```\r\n108:31.76 error: could not compile `gkrust-shared`\r\n108:31.76 Caused by:\r\n108:31.81   process didn't exit successfully: `/usr/bin/rustc --crate-name gkrust_shared toolkit/library/rust/shared/lib.rs --error-format=json --json=diagnostic-rendered-ansi --crate-type lib --emit=dep-info,metadata,link -C opt-level=2 -C panic=abort -C embed-bitcode=no --cfg 'feature=\"audioipc-client\"' --cfg 'feature=\"audioipc-server\"' --cfg 'feature=\"bookmark_sync\"' --cfg 'feature=\"cubeb-pulse\"' --cfg 'feature=\"cubeb-remoting\"' --cfg 'feature=\"cubeb-sys\"' --cfg 'feature=\"cubeb_pulse_rust\"' --cfg 'feature=\"default\"' --cfg 'feature=\"gecko_profiler\"' --cfg 'feature=\"gecko_profiler_parse_elf\"' --cfg 'feature=\"glean_disable_upload\"' --cfg 'feature=\"glean_with_gecko\"' --cfg 'feature=\"mdns_service\"' --cfg 'feature=\"moz_memory\"' --cfg 'feature=\"moz_places\"' --cfg 'feature=\"profiler_helper\"' --cfg 'feature=\"quantum_render\"' --cfg 'feature=\"remote\"' --cfg 'feature=\"webgpu\"' --cfg 'feature=\"webrender_bindings\"' --cfg 'feature=\"webrtc\"' --cfg 'feature=\"wgpu_bindings\"' --cfg 'feature=\"with_dbus\"' -C metadata=2e45d9ae8b68a302 -C extra-filename=-2e45d9ae8b68a302 --out-dir /home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps --target x86_64-unknown-linux-gnu -C linker=/home/jhart/temp1/firefox-91.0.1/build/cargo-linker -C incremental=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/incremental -L dependency=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps -L dependency=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/release/deps --extern app_services_logger=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libapp_services_logger-258fa1c6fd2c812e.rmeta --extern audio_thread_priority=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libaudio_thread_priority-f9082664eb3e4106.rlib --extern audioipc_client=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libaudioipc_client-cf899b517a266f21.rmeta --extern audioipc_server=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libaudioipc_server-a340bcf28d3ea87a.rmeta --extern authenticator=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libauthenticator-f16b03b927477596.rmeta --extern bookmark_sync=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libbookmark_sync-10e6ab59b5bbb116.rmeta --extern cascade_bloom_filter=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libcascade_bloom_filter-071c315e9749ae8c.rmeta --extern cert_storage=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libcert_storage-8d0bd77045fd228a.rmeta --extern chardetng_c=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libchardetng_c-284d2bd1e765a51f.rmeta --extern cosec=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libcosec-de94f9717ba55a2c.rmeta --extern cubeb_pulse=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libcubeb_pulse-4c28a57fd861b710.rlib --extern cubeb_sys=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libcubeb_sys-a20a274b1f01369a.rmeta --extern encoding_glue=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libencoding_glue-b5bc1ad56d95c2c5.rmeta --extern fluent=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libfluent-4963d2285b9cd0b5.rmeta --extern fluent_ffi=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libfluent_ffi-6941bcf052dc0f57.rmeta --extern fluent_langneg=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libfluent_langneg-fb160956299c5376.rmeta --extern fluent_langneg_ffi=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libfluent_langneg_ffi-e4ad720193892529.rmeta --extern fog_control=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libfog_control-113f60ab28dc336f.rmeta --extern gecko_profiler=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libgecko_profiler-049667c000d26247.rmeta --extern gecko_logger=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libgecko_logger-8e84979b745a97c9.rmeta --extern geckoservo=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libgeckoservo-8b3f0577ee11ac04.rmeta --extern gkrust_utils=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libgkrust_utils-c5eec9b00c9d5915.rmeta --extern http_sfv=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libhttp_sfv-76bf2d1b6be887cd.rmeta --extern jsrust_shared=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libjsrust_shared-159d3a32c8e6c439.rmeta --extern kvstore=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libkvstore-a793f1789cb876e8.rmeta --extern l10nregistry_ffi=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libl10nregistry_ffi-a7a2e7da7f536dfd.rmeta --extern lmdb_sys=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/liblmdb_sys-b335ba51284e6479.rmeta --extern log=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/liblog-6cf67720b8af97f8.rmeta --extern mapped_hyph=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libmapped_hyph-749d9cce4ddb69b4.rmeta --extern mdns_service=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libmdns_service-25349d5efd5607c6.rmeta --extern mozurl=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libmozurl-fe217f869cdf61ed.rmeta --extern mp4parse_capi=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libmp4parse_capi-b8179e0e668383bb.rmeta --extern neqo_glue=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libneqo_glue-10b875a4f9a8a11e.rmeta --extern netwerk_helper=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libnetwerk_helper-316f92e844b32b9a.rmeta --extern nserror=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libnserror-a61adbd6977ba2d8.rmeta --extern nsstring=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libnsstring-b76cc2eb462108be.rmeta --extern prefs_parser=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libprefs_parser-72b347b2c13c59b8.rmeta --extern processtools=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libprocesstools-0a6f5b4b3bc735f3.rmeta --extern profiler_helper=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libprofiler_helper-5a8d4ea193d572e7.rmeta --extern qcms=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libqcms-c144968e86b17e26.rmeta --extern remote=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libremote-de052fda73e7965b.rmeta --extern rsdparsa_capi=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/librsdparsa_capi-64d021791e4f9c58.rmeta --extern rusqlite=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/librusqlite-a86a7c1d13be4c06.rmeta --extern static_prefs=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libstatic_prefs-7469abc9def185d0.rmeta --extern storage=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libstorage-42c8d824190ec371.rmeta --extern unic_langid=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libunic_langid-2ac8dfe0e61f3052.rmeta --extern unic_langid_ffi=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libunic_langid_ffi-e10c4c9b75545879.rmeta --extern viaduct=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libviaduct-f2a531269a9a4f69.rmeta --extern webext_storage_bridge=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libwebext_storage_bridge-a970bd1ebd45eeda.rmeta --extern webrender_bindings=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libwebrender_bindings-91c704ece44e7d16.rmeta --extern wgpu_bindings=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libwgpu_bindings-c52e390cb10638f8.rmeta --extern xpcom=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/deps/libxpcom-442da47c1ed9653f.rmeta --cap-lints warn -Cembed-bitcode=yes -C codegen-units=1 --cfg 'feature=\"oom_with_hook\"' -L native=/usr/lib -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/build/audioipc-b821f802e3e7971c/out -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/build/lmdb-rkv-sys-b00b5b833b7ec8d3/out -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/build/mozglue-static-592154398631bebb/out -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/dist/bin -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/security/nss/lib/nss/nss_nss3 -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/security/nss/lib/ssl/ssl_ssl3 -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/config/external/nspr/pr -L native=/home/jhart/temp1/firefox-91.0.1/firefox-build-dir/x86_64-unknown-linux-gnu/release/build/swgl-98aa5ef687917aa7/out` (signal: 4, SIGILL: illegal instruction)\r\n\r\n```\r\n\r\n```\r\nLLVM        : 12.0.1\r\nkernel      : Linux DellXPS 5.7.0 #4 SMP Mon Nov 2 16:45:10 JST 2020 x86_64 GNU/Linux\r\nXorg server : 1.20.9\r\ng++ / gcc   : 10.2.0\r\nmisc        : custom system built entirely from source code\r\nrustc       : 1.52.0\r\n\r\ncpu: Core 2 Quad Q9550 2.83GHz\r\nflags : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov\r\n        pat pse36 clflush dts acpi mmx fxsr sse sse2 ht tm pbe syscall\r\n        nx lm constant_tsc arch_perfmon pebs bts rep_good nopl cpuid\r\n        aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3\r\n        cx16 xtpr pdcm sse4_1 lahf_lmpti tpr_shadow vnmi flexpriority\r\n        vpid dtherm\r\n\r\ngraphics    : AMDGPU(0): Chipset: \"Radeon RX 580 Series\" (ChipID = 0x67df)\r\n\r\n```", "closed_by": {"login": "OSS542", "id": 11888657, "node_id": "MDQ6VXNlcjExODg4NjU3", "avatar_url": "https://avatars.githubusercontent.com/u/11888657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OSS542", "html_url": "https://github.com/OSS542", "followers_url": "https://api.github.com/users/OSS542/followers", "following_url": "https://api.github.com/users/OSS542/following{/other_user}", "gists_url": "https://api.github.com/users/OSS542/gists{/gist_id}", "starred_url": "https://api.github.com/users/OSS542/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OSS542/subscriptions", "organizations_url": "https://api.github.com/users/OSS542/orgs", "repos_url": "https://api.github.com/users/OSS542/repos", "events_url": "https://api.github.com/users/OSS542/events{/privacy}", "received_events_url": "https://api.github.com/users/OSS542/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/92160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/92160/timeline", "performed_via_github_app": null, "state_reason": "completed"}