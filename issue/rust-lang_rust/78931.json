{"url": "https://api.github.com/repos/rust-lang/rust/issues/78931", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/78931/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/78931/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/78931/events", "html_url": "https://github.com/rust-lang/rust/issues/78931", "id": 740274459, "node_id": "MDU6SXNzdWU3NDAyNzQ0NTk=", "number": 78931, "title": "RUSTC_LOG shows output prefixed with `2:rustc`", "user": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 2345380158, "node_id": "MDU6TGFiZWwyMzQ1MzgwMTU4", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-contributor-roadblock", "name": "A-contributor-roadblock", "color": "f7e101", "default": false, "description": "Area: Makes things more difficult for new contributors to rust itself"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-10T22:01:48Z", "updated_at": "2020-11-12T15:34:05Z", "closed_at": "2020-11-12T15:34:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For example:\r\n\r\n```\r\n$ RUSTC_LOG=rustc_interface=info rustc +stage1 tcp.rs --crate-type lib\r\n2:rustc INFO rustc_interface::passes 0 parse sess buffered_lints\r\n2:rustc INFO rustc_interface::passes Pre-codegen\r\n2:rustcTy interner             total           ty lt ct all\r\n2:rustc    Adt               :   1078 81.3%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Array             :      1  0.1%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Slice             :      1  0.1%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    RawPtr            :      2  0.2%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Ref               :      4  0.3%,  0.1%   0.1%  0.0%  0.0%\r\n2:rustc    FnDef             :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    FnPtr             :     76  5.7%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Placeholder       :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Generator         :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    GeneratorWitness  :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Dynamic           :      3  0.2%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Closure           :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Tuple             :     13  1.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Bound             :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Param             :    146 11.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Infer             :      2  0.2%,  0.1%   0.0%  0.0%  0.0%\r\n2:rustc    Projection        :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Opaque            :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc    Foreign           :      0  0.0%,  0.0%   0.0%  0.0%  0.0%\r\n2:rustc                  total   1326         0.2%   0.1%  0.0%  0.0%\r\n2:rustcInternalSubsts interner: #437\r\n2:rustcRegion interner: #355\r\n2:rustcStability interner: #1\r\n2:rustcConst Stability interner: #0\r\n2:rustcAllocation interner: #0\r\n2:rustcLayout interner: #0\r\n```\r\n\r\nThere are two issues here:\r\n1. Is `2:rustc` actually helpful? All the code runs in the same thread with the same name, so it doesn't add any more info\r\n2. There's no space between the output and the header, so it's hard to read the logs.\r\n\r\ncc @hawkw, @oli-obk ", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/78931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/78931/timeline", "performed_via_github_app": null, "state_reason": "completed"}