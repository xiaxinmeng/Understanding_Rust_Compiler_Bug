{"url": "https://api.github.com/repos/rust-lang/rust/issues/90152", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/90152/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/90152/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/90152/events", "html_url": "https://github.com/rust-lang/rust/issues/90152", "id": 1033124268, "node_id": "I_kwDOAAsO6M49lDms", "number": 90152, "title": "rustc_mir_dataflow tests fail with debug-assertions enabled", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/86", "html_url": "https://github.com/rust-lang/rust/milestone/86", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/86/labels", "id": 7121557, "node_id": "MI_kwDOAAsO6M4AbKqV", "number": 86, "title": "1.57.0", "description": null, "creator": {"login": "rustbot", "id": 47979223, "node_id": "MDQ6VXNlcjQ3OTc5MjIz", "avatar_url": "https://avatars.githubusercontent.com/u/47979223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rustbot", "html_url": "https://github.com/rustbot", "followers_url": "https://api.github.com/users/rustbot/followers", "following_url": "https://api.github.com/users/rustbot/following{/other_user}", "gists_url": "https://api.github.com/users/rustbot/gists{/gist_id}", "starred_url": "https://api.github.com/users/rustbot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rustbot/subscriptions", "organizations_url": "https://api.github.com/users/rustbot/orgs", "repos_url": "https://api.github.com/users/rustbot/repos", "events_url": "https://api.github.com/users/rustbot/events{/privacy}", "received_events_url": "https://api.github.com/users/rustbot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 674, "state": "closed", "created_at": "2021-09-04T07:17:16Z", "updated_at": "2022-08-23T21:08:41Z", "due_on": null, "closed_at": "2022-01-11T20:26:42Z"}, "comments": 3, "created_at": "2021-10-22T02:50:58Z", "updated_at": "2021-10-25T14:40:45Z", "closed_at": "2021-10-25T14:40:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `rustc_mir_dataflow` tests [`forward_cursor`](https://github.com/rust-lang/rust/blob/68a698baf6bfc61d85ce6e25122a092c60c7f21a/compiler/rustc_mir_dataflow/src/framework/tests.rs#L315) and [`backward_cursor`](https://github.com/rust-lang/rust/blob/68a698baf6bfc61d85ce6e25122a092c60c7f21a/compiler/rustc_mir_dataflow/src/framework/tests.rs#L307) are failing when built with debug-assertions.\r\n\r\nThis is related to the bootstrap bump in #90042. This brings in a change in cargo where tests now inherit profile settings from the dev/release profiles. When `debug-assertions` is enabled in `config.toml`, tests are now built with debug-assertions enabled where they previously didn't.\r\n\r\nThese tests seem to intentionally create a [mir body with disconnected basic blocks](https://github.com/rust-lang/rust/blob/68a698baf6bfc61d85ce6e25122a092c60c7f21a/compiler/rustc_mir_dataflow/src/framework/tests.rs#L13-L17). However in #74169 a debug assertion was added to prevent API consumers from visiting those basic blocks by accident. That assertion is now triggering in the test.\r\n\r\nI don't have any particular ideas on how to resolve this, since the test seems to be fundamentally going against that assertion.\r\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/90152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/90152/timeline", "performed_via_github_app": null, "state_reason": "completed"}