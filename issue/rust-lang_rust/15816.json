{"url": "https://api.github.com/repos/rust-lang/rust/issues/15816", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/15816/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/15816/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/15816/events", "html_url": "https://github.com/rust-lang/rust/issues/15816", "id": 38247414, "node_id": "MDU6SXNzdWUzODI0NzQxNA==", "number": 15816, "title": "RUSTFLAGS=-g makes rustc segfault", "user": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 203130, "node_id": "MDU6TGFiZWwyMDMxMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-debuginfo", "name": "A-debuginfo", "color": "f7e101", "default": false, "description": "Area: Debugging information in compiled programs (DWARF, PDB, etc.)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-19T23:39:53Z", "updated_at": "2014-09-29T03:58:24Z", "closed_at": "2014-09-29T03:58:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When building ab610226aa150102771b5c18b3adc335fd9374dc:\n\n```\nexport RUSTFLAGS=-g\n./configure --prefix=~/dev/install/rust --enable-ccache\nmake -j4 rustc-stage1 install\n```\n\nThe following command segfaults:\n\n```\n LD_LIBRARY_PATH=/home/john/dev/rust/x86_64-unknown-linux-gnu/stage0/lib:$LD_LIBRARY_PATH   x86_64-unknown-linux-gnu/stage0/bin/rustc --cfg stage0 -g -O --cfg rtopt --cfg debug -C prefer-dynamic --target=x86_64-unknown-linux-gnu  -W warnings -L \"x86_64-unknown-linux-gnu/rt\" -L \"/home/john/dev/rust/x86_64-unknown-linux-gnu/llvm/Release+Asserts/lib\" -L \"\"  --out-dir x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib -C extra-filename=-4e7c5e5c /home/john/dev/rust/src/libcore/lib.rs`\n```\n\nBacktrace\n\n```\n#0  0x00000000019e9506 in llvm::DwarfDebug::endFunction(llvm::MachineFunction const*) ()\n#1  0x000000000120b5cc in llvm::AsmPrinter::EmitFunctionBody() ()\n#2  0x00000000010f8019 in llvm::X86AsmPrinter::runOnMachineFunction(llvm::MachineFunction&) ()\n#3  0x000000000173267f in llvm::FPPassManager::runOnFunction(llvm::Function&) ()\n#4  0x00000000017326cb in llvm::FPPassManager::runOnModule(llvm::Module&) ()\n#5  0x000000000173222f in llvm::legacy::PassManagerImpl::run(llvm::Module&) ()\n#6  0x0000000000db5b49 in LLVMRustWriteOutputFile (Target=0x7ffff09a8900, PMR=0x7ffff0c9e1a0, M=0x7ffff01cbbd0, path=<optimized out>, FileType=llvm::TargetMachine::CGFT_ObjectFile)\n    at /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/rustllvm/PassWrapper.cpp:202\n#7  0x0000000000bef5b0 in back::link::write_output_file::h09c0634fd9f03231f5a ()\n#8  0x0000000000bf6998 in back::link::write::run_passes::closure.Name$LP$126284$RP$ ()\n#9  0x0000000000bf1928 in back::link::write::run_passes::h2b4eb639115e25eaE7a ()\n#10 0x0000000000d25b10 in driver::driver::phase_5_run_llvm_passes::closure.Name$LP$133051$RP$ ()\n#11 0x0000000000c9a737 in driver::driver::phase_5_run_llvm_passes::hbb488b4183a65d34CPq ()\n#12 0x0000000000c92699 in driver::driver::compile_input::ha08134a856c1baf7Mrq ()\n#13 0x0000000000d4631f in driver::run_compiler::h16b5ad985e64960ctit ()\n#14 0x0000000000d438e5 in driver::main_args::closure.Name$LP$133838$RP$ ()\n#15 0x0000000000d57258 in task::TaskBuilder$LT$S$GT$::try_future::closure.Name$LP$134982$RP$ ()\n#16 0x0000000000d57162 in task::TaskBuilder$LT$S$GT$::spawn_internal::closure.Name$LP$134959$RP$ ()\n#17 0x0000000000472638 in task::spawn_opts::closure.Name$LP$8148$RP$ ()\n#18 0x0000000001e2233c in rust_try ()\n#19 0x0000000001e1ee37 in unwind::try::h6d2c1fb5576a3094BNd ()\n#20 0x0000000001e1ebd7 in task::Task::run::hbe8cdbc4ab2338e9XYc ()\n#21 0x00000000004724d6 in task::spawn_opts::closure.Name$LP$8094$RP$ ()\n#22 0x0000000001e205e4 in thread::thread_start::ha099f70322a5f123vld ()\n#23 0x00007ffff7bc70ca in start_thread (arg=0x7ffff63ff480) at pthread_create.c:309\n#24 0x00007ffff6fd906d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n```\n", "closed_by": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/15816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/15816/timeline", "performed_via_github_app": null, "state_reason": "completed"}