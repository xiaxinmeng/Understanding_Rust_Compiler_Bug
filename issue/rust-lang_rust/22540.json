{"url": "https://api.github.com/repos/rust-lang/rust/issues/22540", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/22540/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/22540/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/22540/events", "html_url": "https://github.com/rust-lang/rust/issues/22540", "id": 58242135, "node_id": "MDU6SXNzdWU1ODI0MjEzNQ==", "number": 22540, "title": "ICE: using variable to index on const ref to static array", "user": {"login": "mathall", "id": 1748675, "node_id": "MDQ6VXNlcjE3NDg2NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1748675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathall", "html_url": "https://github.com/mathall", "followers_url": "https://api.github.com/users/mathall/followers", "following_url": "https://api.github.com/users/mathall/following{/other_user}", "gists_url": "https://api.github.com/users/mathall/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathall/subscriptions", "organizations_url": "https://api.github.com/users/mathall/orgs", "repos_url": "https://api.github.com/users/mathall/repos", "events_url": "https://api.github.com/users/mathall/events{/privacy}", "received_events_url": "https://api.github.com/users/mathall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-19T17:41:21Z", "updated_at": "2015-03-28T19:57:32Z", "closed_at": "2015-03-28T19:57:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` rust\nconst TEST: &'static [usize] = &[0];\n\nfn main() {\n  let n = 0;\n  TEST[n];\n}\n```\n\n```\nstack backtrace:\n   1:        0x11112f7c3 - sys::backtrace::write::h758e31f43edeba51YoB\n   2:        0x11115d525 - panicking::on_panic::h64e08c3ac337d99aAGK\n   3:        0x11108eb28 - rt::unwind::begin_unwind_inner::hbe305651b0fb4548QnK\n   4:        0x10d5c0f55 - rt::unwind::begin_unwind::h11966735602550941006\n   5:        0x10d63f95f - trans::datum::Datum<'tcx, Expr>::to_lvalue_datum::ha6e7f9c51770741dbYf\n   6:        0x10d674a4c - trans::expr::trans_index::h24f970edf801dea70Ei\n   7:        0x10d660bc9 - trans::expr::trans_unadjusted::h60994bf53fc1f141mqi\n   8:        0x10d612beb - trans::expr::trans_into::h985f6b8ade1f0862jGh\n   9:        0x10d611a1b - trans::controlflow::trans_stmt_semi::hfa4945e6389f144c6de\n  10:        0x10d613683 - trans::controlflow::trans_block::h24750b7c4a4226dcXee\n  11:        0x10d6e9339 - trans::base::trans_closure::hc0a2577d0b8ff90aFiu\n  12:        0x10d5fd9b6 - trans::base::trans_fn::hdc6e33d20e22c94bWtu\n  13:        0x10d5f8d1d - trans::base::trans_item::h64db2b88677453d4PSu\n  14:        0x10d6efd1c - trans::base::trans_crate::h414eeb210dd461c6fQv\n  15:        0x10d47f9c8 - driver::phase_4_translate_to_llvm::h83cf15bb7798b7baiPa\n  16:        0x10d4598a6 - driver::compile_input::h5f42c7591ab1e8afEba\n  17:        0x10d533284 - run_compiler::h569cf29d11ba11b9Rbc\n  18:        0x10d530305 - thunk::F.Invoke<A, R>::invoke::h584465160991669811\n  19:        0x10d52efa0 - rt::unwind::try::try_fn::h36519155281163913\n  20:        0x1111d7329 - rust_try_inner\n  21:        0x1111d7316 - rust_try\n  22:        0x10d52f699 - thunk::F.Invoke<A, R>::invoke::h10026663398983596708\n  23:        0x111145d13 - sys::thread::thread_start::h0953ffc55eda2123CWF\n  24:     0x7fff98c93268 - _pthread_body\n  25:     0x7fff98c931e5 - _pthread_body\n```\n\nThere are open bugs with similar backtraces, but otherwise the circumstances seem quite different.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/22540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/22540/timeline", "performed_via_github_app": null, "state_reason": "completed"}