{"url": "https://api.github.com/repos/rust-lang/rust/issues/36775", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/36775/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/36775/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/36775/events", "html_url": "https://github.com/rust-lang/rust/issues/36775", "id": 179568076, "node_id": "MDU6SXNzdWUxNzk1NjgwNzY=", "number": 36775, "title": "Suboptimal error reporting of invalid argument to generic function", "user": {"login": "Seeker14491", "id": 6490497, "node_id": "MDQ6VXNlcjY0OTA0OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6490497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Seeker14491", "html_url": "https://github.com/Seeker14491", "followers_url": "https://api.github.com/users/Seeker14491/followers", "following_url": "https://api.github.com/users/Seeker14491/following{/other_user}", "gists_url": "https://api.github.com/users/Seeker14491/gists{/gist_id}", "starred_url": "https://api.github.com/users/Seeker14491/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Seeker14491/subscriptions", "organizations_url": "https://api.github.com/users/Seeker14491/orgs", "repos_url": "https://api.github.com/users/Seeker14491/repos", "events_url": "https://api.github.com/users/Seeker14491/events{/privacy}", "received_events_url": "https://api.github.com/users/Seeker14491/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-27T18:01:58Z", "updated_at": "2019-09-22T02:08:38Z", "closed_at": "2019-09-22T02:08:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code produces two compilation errors.\n\n``` rust\nuse std::fmt::Display;\n\nfn main() {\n    let _ = Vec::with_capacity(\"0\"); // error #1\n\n    displayer(()); // error #2\n}\n\nfn displayer<T: Display>(t: T) {\n    println!(\"{}\", t);\n}\n```\n### Error 1\n\n```\nerror[E0308]: mismatched types\n --> <anon>:4:32\n  |\n4 |     let _ = Vec::with_capacity(\"0\"); // error #1\n  |                                ^^^ expected usize, found reference\n  |\n  = note: expected type `usize`\n  = note:    found type `&'static str`\n```\n\nThe first error looks great. The compiler points at the erroneous argument.\n### Error 2\n\n```\nerror[E0277]: the trait bound `(): std::fmt::Display` is not satisfied\n --> <anon>:6:5\n  |\n6 |     displayer(()); // error #2\n  |     ^^^^^^^^^ trait `(): std::fmt::Display` not satisfied\n  |\n  = note: `()` cannot be formatted with the default formatter; try using `:?` instead if you are using a format string\n  = note: required by `displayer`\n```\n\nIn the second error, however, the compiler points at the function instead of the erroneous argument. This is no big problem in this case, as the function only takes one argument, and the argument has a very simple type. But in more complex functions, it might be hard to figure out which argument is problematic.\n", "closed_by": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/36775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/36775/timeline", "performed_via_github_app": null, "state_reason": "completed"}