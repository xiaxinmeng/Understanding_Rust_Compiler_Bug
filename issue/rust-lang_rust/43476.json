{"url": "https://api.github.com/repos/rust-lang/rust/issues/43476", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/43476/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/43476/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/43476/events", "html_url": "https://github.com/rust-lang/rust/issues/43476", "id": 245512076, "node_id": "MDU6SXNzdWUyNDU1MTIwNzY=", "number": 43476, "title": "rustc panic compiling playform", "user": {"login": "kinnison", "id": 1469421, "node_id": "MDQ6VXNlcjE0Njk0MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1469421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinnison", "html_url": "https://github.com/kinnison", "followers_url": "https://api.github.com/users/kinnison/followers", "following_url": "https://api.github.com/users/kinnison/following{/other_user}", "gists_url": "https://api.github.com/users/kinnison/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinnison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinnison/subscriptions", "organizations_url": "https://api.github.com/users/kinnison/orgs", "repos_url": "https://api.github.com/users/kinnison/repos", "events_url": "https://api.github.com/users/kinnison/events{/privacy}", "received_events_url": "https://api.github.com/users/kinnison/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-25T19:37:41Z", "updated_at": "2017-07-27T13:40:46Z", "closed_at": "2017-07-27T13:40:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nwhile trying to build 21a57d51822d55974e04e6d50de4cd87b84bbc8e of https://github.com/bfops/playform with rustc 1.20.0-nightly (598eddf4f 2017-07-24) running on x86_64-unknown-linux-gnu I got:\r\n\r\n    error: internal compiler error: /checkout/src/librustc/infer/mod.rs:573: Encountered errors `[FulfillmentError(Obligation(predicate=Binder(TraitPredicate(<CB as audio::AudioCallback>)),depth=0),Unimplemented)]` resolving bounds after type-checking\r\n\r\n    note: the compiler unexpectedly panicked. this is a bug.\r\n\r\n    note: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\n    note: rustc 1.20.0-nightly (598eddf4f 2017-07-24) running on x86_64-unknown-linux-gnu\r\n\r\n    thread 'rustc' panicked at 'Box<Any>', /checkout/src/librustc_errors/lib.rs:438:8\r\n\r\nwhile (I believe) compiling the sdl2 crate\r\n\r\nAll I did was:\r\n\r\n    rustup self update\r\n    rustup update\r\n    git clone https://github.com/bfops/playform \r\n    cd playform\r\n    rustup override set nightly\r\n    cargo build --release\r\n\r\nI have repeated this (from the clone) fresh twice, with the same result.\r\n\r\nThe full backtrace (`RUST_BACKTRACE=full cargo build --release`) is:\r\n\r\n```\r\nthread 'rustc' panicked at 'Box<Any>', /checkout/src/librustc_errors/lib.rs:438:8\r\nstack backtrace:\r\n   0:     0x7f6abd31f103 - std::sys::imp::backtrace::tracing::imp::unwind_backtrace::h1522c360a91efc38\r\n                               at /checkout/src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1:     0x7f6abd3197e4 - std::sys_common::backtrace::_print::ha3773971e7a0524b\r\n                               at /checkout/src/libstd/sys_common/backtrace.rs:71\r\n   2:     0x7f6abd32cf83 - std::panicking::default_hook::{{closure}}::h27687d2e78ba1eb8\r\n                               at /checkout/src/libstd/sys_common/backtrace.rs:60\r\n                               at /checkout/src/libstd/panicking.rs:380\r\n   3:     0x7f6abd32cc78 - std::panicking::default_hook::ha02ba6f8e599dd44\r\n                               at /checkout/src/libstd/panicking.rs:390\r\n   4:     0x7f6abd32d487 - std::panicking::rust_panic_with_hook::h65fcd07ab00e8ccd\r\n                               at /checkout/src/libstd/panicking.rs:611\r\n   5:     0x7f6aba00eef8 - std::panicking::begin_panic_new::h428b9015ade5740a\r\n   6:     0x7f6ab9ff9301 - rustc_errors::Handler::span_bug::h2ff6f8e9cde67448\r\n   7:     0x7f6aba236503 - rustc::session::opt_span_bug_fmt::{{closure}}::h4d4bb47ae7882b62\r\n   8:     0x7f6aba2363e2 - rustc::session::opt_span_bug_fmt::h7caecea6e54a114b\r\n   9:     0x7f6aba236123 - rustc::session::span_bug_fmt::h6c24fb7ac6672125\r\n  10:     0x7f6aba2ee8ff - <&'gcx rustc::ty::TyS<'gcx> as rustc::infer::TransNormalize<'gcx>>::trans_normalize::h90cedc9d683de268\r\n  11:     0x7f6aba1b023d - rustc::infer::<impl rustc::ty::context::TyCtxt<'a, 'tcx, 'tcx>>::normalize_associated_type_in_env::hbe88b9560bc259f6\r\n  12:     0x7f6aba290881 - rustc::ty::layout::Layout::compute_uncached::h98c58344d728a22e\r\n  13:     0x7f6aba2b49ba - rustc::ty::util::layout_raw::ha13af363ecc544cf\r\n  14:     0x7f6aba35bcc9 - rustc::ty::maps::<impl rustc::ty::maps::queries::layout_raw<'tcx>>::try_get::h4d332afb6a147f97\r\n  15:     0x7f6aba368aaf - rustc::ty::maps::TyCtxtAt::layout_raw::h828409183f93ee39\r\n  16:     0x7f6aba363bbd - rustc::ty::maps::<impl rustc::ty::context::TyCtxt<'a, 'tcx, 'lcx>>::layout_raw::h7321e000b90b3117\r\n  17:     0x7f6ababd17a4 - rustc_const_eval::eval::eval_const_expr_partial::{{closure}}::h3767bda412cdb317\r\n  18:     0x7f6ababcb953 - rustc_const_eval::eval::eval_const_expr_partial::haf6cc46997e4e31e\r\n  19:     0x7f6ababcb61b - rustc_const_eval::eval::eval_const_expr_partial::haf6cc46997e4e31e\r\n  20:     0x7f6ababcb61b - rustc_const_eval::eval::eval_const_expr_partial::haf6cc46997e4e31e\r\n  21:     0x7f6ababcef92 - rustc_const_eval::eval::eval_const_expr_partial::haf6cc46997e4e31e\r\n  22:     0x7f6ababcacc0 - rustc_const_eval::eval::ConstContext::eval::hc2838350358bc14a\r\n  23:     0x7f6abca8b760 - <rustc_passes::consts::CheckCrateVisitor<'a, 'tcx> as rustc::hir::intravisit::Visitor<'tcx>>::visit_expr::hc2bacfd5dde4e824\r\n  24:     0x7f6abca8b5f5 - <rustc_passes::consts::CheckCrateVisitor<'a, 'tcx> as rustc::hir::intravisit::Visitor<'tcx>>::visit_expr::hc2bacfd5dde4e824\r\n  25:     0x7f6abca8b1ee - <rustc_passes::consts::CheckCrateVisitor<'a, 'tcx> as rustc::hir::intravisit::Visitor<'tcx>>::visit_expr::hc2bacfd5dde4e824\r\n  26:     0x7f6abca8b3e7 - <rustc_passes::consts::CheckCrateVisitor<'a, 'tcx> as rustc::hir::intravisit::Visitor<'tcx>>::visit_expr::hc2bacfd5dde4e824\r\n  27:     0x7f6abca8b5f5 - <rustc_passes::consts::CheckCrateVisitor<'a, 'tcx> as rustc::hir::intravisit::Visitor<'tcx>>::visit_expr::hc2bacfd5dde4e824\r\n  28:     0x7f6abca8a0d9 - <rustc_passes::consts::CheckCrateVisitor<'a, 'tcx> as rustc::hir::intravisit::Visitor<'tcx>>::visit_nested_body::h28a205947f76c65a\r\n  29:     0x7f6abca8bdfc - rustc_passes::consts::check_crate::h6277687598e5f5ca\r\n  30:     0x7f6abd6c9d05 - rustc_driver::driver::phase_3_run_analysis_passes::{{closure}}::h2224069a1fe59067\r\n  31:     0x7f6abd6be943 - rustc_driver::driver::phase_3_run_analysis_passes::h9c665f67f983692e\r\n  32:     0x7f6abd6a8c50 - rustc_driver::driver::compile_input::h206bff36594a4d7e\r\n  33:     0x7f6abd6ee045 - rustc_driver::run_compiler::h82d6005c4c2b0326\r\n  34:     0x7f6abd607447 - std::sys_common::backtrace::__rust_begin_short_backtrace::h94745f618237f479\r\n  35:     0x7f6abd35c9cc - __rust_maybe_catch_panic\r\n                               at /checkout/src/libpanic_unwind/lib.rs:98\r\n  36:     0x7f6abd63efe0 - <F as alloc::boxed::FnBox<A>>::call_box::h741725e0b9490eb6\r\n  37:     0x7f6abd32be7b - std::sys::imp::thread::Thread::new::thread_start::h50322047a200d5bc\r\n                               at /checkout/src/liballoc/boxed.rs:661\r\n                               at /checkout/src/libstd/sys_common/thread.rs:21\r\n                               at /checkout/src/libstd/sys/unix/thread.rs:84\r\n  38:     0x7f6ab84e1063 - start_thread\r\n  39:     0x7f6abcfd262c - clone\r\n  40:                0x0 - <unknown>\r\n```", "closed_by": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/43476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/43476/timeline", "performed_via_github_app": null, "state_reason": "completed"}