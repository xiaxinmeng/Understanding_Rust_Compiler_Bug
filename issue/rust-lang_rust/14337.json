{"url": "https://api.github.com/repos/rust-lang/rust/issues/14337", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14337/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14337/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14337/events", "html_url": "https://github.com/rust-lang/rust/issues/14337", "id": 34014011, "node_id": "MDU6SXNzdWUzNDAxNDAxMQ==", "number": 14337, "title": "Compiler crash when reexporting types from submodule in a crate", "user": {"login": "tailhook", "id": 321799, "node_id": "MDQ6VXNlcjMyMTc5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/321799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tailhook", "html_url": "https://github.com/tailhook", "followers_url": "https://api.github.com/users/tailhook/followers", "following_url": "https://api.github.com/users/tailhook/following{/other_user}", "gists_url": "https://api.github.com/users/tailhook/gists{/gist_id}", "starred_url": "https://api.github.com/users/tailhook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tailhook/subscriptions", "organizations_url": "https://api.github.com/users/tailhook/orgs", "repos_url": "https://api.github.com/users/tailhook/repos", "events_url": "https://api.github.com/users/tailhook/events{/privacy}", "received_events_url": "https://api.github.com/users/tailhook/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-21T19:07:03Z", "updated_at": "2014-05-21T23:51:05Z", "closed_at": "2014-05-21T23:51:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Example files to reproduce an issue is at https://gist.github.com/tailhook/bbfa10b5b9f3f3084cb1\n\nThe error exists both in 0.10 and current master (0.10-1417-g6291955)\n\nHere is a log:\n\n```\nrustc mycrate.rs\nmycrate.rs:9:16: 9:19 warning: unused variable: `val`, #[warn(unused_variable)] on by default\nmycrate.rs:9     pub fn fun(val:B) {\n                            ^~~\nRUST_BACKTRACE=1 rustc main.rs -L .\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://static.rust-lang.org/doc/master/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'expected bare rust fn or an intrinsic', /home/pc/dev/rust/src/librustc/middle/trans/base.rs:1698\nstack backtrace:\n   1:     0x7fdc660b7690 - rt::backtrace::imp::write::h4a769fa43752fbf0Z7y::v0.11.0.pre\n   2:     0x7fdc66036860 - rt::unwind::begin_unwind_inner::h3d911f9e5daefe5b6Hy::v0.11.0.pre\n   3:     0x7fdc66b84650 - rt::unwind::begin_unwind::h9770937678070169441::v0.11.0.pre\n   4:     0x7fdc66c8f3d0 - middle::trans::base::register_fn::hcb213da416d88dd4sEp::v0.11.0.pre\n   5:     0x7fdc66b92cf0 - middle::trans::base::get_item_val::h757ced7b05a3a84aXRp::v0.11.0.pre\n   6:     0x7fdc66bf7600 - middle::trans::callee::trans_fn_ref_with_vtables::h3408702b70b1f98aehd::v0.11.0.pre\n   7:     0x7fdc66bf3110 - middle::trans::callee::trans_fn_ref::hdd92f9e3e3ffc190mad::v0.11.0.pre\n   8:     0x7fdc66c15d80 - middle::trans::expr::trans_def::h709468352259bfd6S6e::v0.11.0.pre\n   9:     0x7fdc66c0b2b0 - middle::trans::expr::trans_unadjusted::h72693b0d94caadb5QMe::v0.11.0.pre\n  10:     0x7fdc66bcf810 - middle::trans::expr::trans::hf45d27448f80c915Gte::v0.11.0.pre\n  11:     0x7fdc66c05810 - middle::trans::callee::trans_args::hfcfa6ff076aecb93h0d::v0.11.0.pre\n  12:     0x7fdc66c01a50 - middle::trans::callee::trans_call_inner::hbe7ea2cdc5d541ef1Fd::v0.11.0.pre\n  13:     0x7fdc66c01820 - middle::trans::callee::trans_call::h5d72562e24d4e4ec9zd::v0.11.0.pre\n  14:     0x7fdc66c0c3d0 - middle::trans::expr::trans_rvalue_dps_unadjusted::hb48a37728c7fa1d9Aff::v0.11.0.pre\n  15:     0x7fdc66bcd6e0 - middle::trans::expr::trans_into::hc522ad7fce2802caKpe::v0.11.0.pre\n  16:     0x7fdc66bcc9c0 - middle::trans::controlflow::trans_stmt_semi::hcca0cd428398ac65M6a::v0.11.0.pre\n  17:     0x7fdc66bcbec0 - middle::trans::controlflow::trans_stmt::hfe748cb6dfc7f512y2a::v0.11.0.pre\n  18:     0x7fdc66bcdc90 - middle::trans::controlflow::trans_block::h5a736e8fb88dd992F7a::v0.11.0.pre\n  19:     0x7fdc66c886c0 - middle::trans::base::trans_closure::he75147a929d248faMdp::v0.11.0.pre\n  20:     0x7fdc66b973e0 - middle::trans::base::trans_fn::haf24a474b454da0a2lp::v0.11.0.pre\n  21:     0x7fdc66b91c20 - middle::trans::base::trans_item::h1b152661d463ef25yxp::v0.11.0.pre\n  22:     0x7fdc66c96670 - middle::trans::base::trans_crate::hbe3cd29c7385aad1Yjq::v0.11.0.pre\n  23:     0x7fdc673b47c0 - driver::driver::phase_4_translate_to_llvm::h30f271f2f468f1eaJcj::v0.11.0.pre\n  24:     0x7fdc673a9fa0 - driver::driver::compile_input::ha9e4162ad1fc71cfkUi::v0.11.0.pre\n  25:     0x7fdc674558d0 - driver::run_compiler::h961a616c0b78cf6a6vl::v0.11.0.pre\n  26:     0x7fdc674557f0 - driver::main_args::closure.93372\n  27:     0x7fdc6746cc30 - driver::monitor::closure.94510\n  28:     0x7fdc67466fc0 - task::TaskBuilder::try::closure.94277\n  29:     0x7fdc665e6cb0 - task::spawn_opts::closure.7930\n  30:     0x7fdc660ad860 - rt::task::Task::run::closure.25443\n  31:     0x7fdc6611d040 - rust_try\n  32:     0x7fdc660ad7b0 - rt::task::Task::run::ha6deb4f12cb8038esxw::v0.11.0.pre\n  33:     0x7fdc665e6a60 - task::spawn_opts::closure.7903\n  34:     0x7fdc660b5be0 - rt::thread::thread_start::hc73c4b93bd89f4c8Vgx::v0.11.0.pre\n  35:     0x7fdc63b8a060 - start_thread\n  36:     0x7fdc65cfd489 - __clone\n  37:                0x0 - <unknown>\n\nMakefile:2: recipe for target 'all' failed\nmake: *** [all] Error 101\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/14337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14337/timeline", "performed_via_github_app": null, "state_reason": "completed"}