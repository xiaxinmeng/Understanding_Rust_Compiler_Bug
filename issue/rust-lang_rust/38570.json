{"url": "https://api.github.com/repos/rust-lang/rust/issues/38570", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/38570/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/38570/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/38570/events", "html_url": "https://github.com/rust-lang/rust/issues/38570", "id": 197322103, "node_id": "MDU6SXNzdWUxOTczMjIxMDM=", "number": 38570, "title": "arm-unknown-linux-gnueabihf produces armv7 output not armv6", "user": {"login": "mkj", "id": 328137, "node_id": "MDQ6VXNlcjMyODEzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/328137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkj", "html_url": "https://github.com/mkj", "followers_url": "https://api.github.com/users/mkj/followers", "following_url": "https://api.github.com/users/mkj/following{/other_user}", "gists_url": "https://api.github.com/users/mkj/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkj/subscriptions", "organizations_url": "https://api.github.com/users/mkj/orgs", "repos_url": "https://api.github.com/users/mkj/repos", "events_url": "https://api.github.com/users/mkj/events{/privacy}", "received_events_url": "https://api.github.com/users/mkj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 55301954, "node_id": "MDU6TGFiZWw1NTMwMTk1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-Arm", "name": "O-Arm", "color": "6e6ec0", "default": false, "description": "Target: 32-bit Arm processors (armv6, armv7, thumb...), including 64-bit Arm in AArch32 state"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-23T06:58:28Z", "updated_at": "2019-03-06T10:07:58Z", "closed_at": "2016-12-23T14:18:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm cross compiling on x64 Linux to a Raspberry Pi 1, Raspbian Jessie. Binaries produced by arm-unknown-linux-gnueabi target work fine, binaries from arm-unknown-linux-gnueabihf segfault in _start().\r\n\r\nReadelf tells me that the arm-unknown-linux-gnueabihf target is actually armv7, which contradicts https://forge.rust-lang.org/platform-support.html\r\n\r\n```\r\n~/src/rusthello> readelf -A target/*/debug/rusthello \r\n\r\nFile: target/arm-unknown-linux-gnueabi/debug/rusthello\r\nAttribute Section: aeabi\r\nFile Attributes\r\n  Tag_CPU_name: \"ARM v6\"\r\n  Tag_CPU_arch: v6                                           <--\r\n  Tag_ARM_ISA_use: Yes\r\n  Tag_THUMB_ISA_use: Thumb-1\r\n  Tag_ABI_PCS_GOT_use: GOT-indirect\r\n  Tag_ABI_PCS_wchar_t: 4\r\n  Tag_ABI_FP_rounding: Needed\r\n  Tag_ABI_FP_denormal: Needed\r\n  Tag_ABI_FP_exceptions: Needed\r\n  Tag_ABI_FP_number_model: IEEE 754\r\n  Tag_ABI_align_needed: 8-byte\r\n  Tag_ABI_enum_size: int\r\n  Tag_CPU_unaligned_access: v6\r\n  Tag_ABI_FP_16bit_format: IEEE 754\r\n\r\nFile: target/arm-unknown-linux-gnueabihf/debug/rusthello\r\nAttribute Section: aeabi\r\nFile Attributes\r\n  Tag_CPU_name: \"7-A\"\r\n  Tag_CPU_arch: v7                                           <--\r\n  Tag_CPU_arch_profile: Application\r\n  Tag_ARM_ISA_use: Yes\r\n  Tag_THUMB_ISA_use: Thumb-2\r\n  Tag_FP_arch: VFPv3-D16\r\n  Tag_ABI_PCS_GOT_use: GOT-indirect\r\n  Tag_ABI_PCS_wchar_t: 4\r\n  Tag_ABI_FP_rounding: Needed\r\n  Tag_ABI_FP_denormal: Needed\r\n  Tag_ABI_FP_exceptions: Needed\r\n  Tag_ABI_FP_number_model: IEEE 754\r\n  Tag_ABI_align_needed: 8-byte\r\n  Tag_ABI_enum_size: int\r\n  Tag_ABI_VFP_args: VFP registers\r\n  Tag_CPU_unaligned_access: v6\r\n  Tag_ABI_FP_16bit_format: IEEE 754\r\n\r\nFile: target/armv7-unknown-linux-gnueabihf/debug/rusthello\r\nAttribute Section: aeabi\r\nFile Attributes\r\n  Tag_CPU_name: \"7-A\"\r\n  Tag_CPU_arch: v7                                           <--\r\n  Tag_CPU_arch_profile: Application\r\n  Tag_ARM_ISA_use: Yes\r\n  Tag_THUMB_ISA_use: Thumb-2\r\n  Tag_FP_arch: VFPv3-D16\r\n  Tag_ABI_PCS_GOT_use: GOT-indirect\r\n  Tag_ABI_PCS_wchar_t: 4\r\n  Tag_ABI_FP_rounding: Needed\r\n  Tag_ABI_FP_denormal: Needed\r\n  Tag_ABI_FP_exceptions: Needed\r\n  Tag_ABI_FP_number_model: IEEE 754\r\n  Tag_ABI_align_needed: 8-byte\r\n  Tag_ABI_enum_size: int\r\n  Tag_ABI_VFP_args: VFP registers\r\n  Tag_CPU_unaligned_access: v6\r\n  Tag_ABI_FP_16bit_format: IEEE 754\r\n\r\nrustc 1.14.0 (e8a012324 2016-12-16)\r\nbinary: rustc\r\ncommit-hash: e8a0123241f0d397d39cd18fcc4e5e7edde22730\r\ncommit-date: 2016-12-16\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.14.0\r\nLLVM version: 3.9\r\n```", "closed_by": {"login": "mkj", "id": 328137, "node_id": "MDQ6VXNlcjMyODEzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/328137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkj", "html_url": "https://github.com/mkj", "followers_url": "https://api.github.com/users/mkj/followers", "following_url": "https://api.github.com/users/mkj/following{/other_user}", "gists_url": "https://api.github.com/users/mkj/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkj/subscriptions", "organizations_url": "https://api.github.com/users/mkj/orgs", "repos_url": "https://api.github.com/users/mkj/repos", "events_url": "https://api.github.com/users/mkj/events{/privacy}", "received_events_url": "https://api.github.com/users/mkj/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/38570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/38570/timeline", "performed_via_github_app": null, "state_reason": "completed"}