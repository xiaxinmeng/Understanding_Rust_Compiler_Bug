{"url": "https://api.github.com/repos/rust-lang/rust/issues/37070", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37070/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37070/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37070/events", "html_url": "https://github.com/rust-lang/rust/issues/37070", "id": 182031112, "node_id": "MDU6SXNzdWUxODIwMzExMTI=", "number": 37070, "title": "SipHasher::new_with_keys deprecation message is unhelpful/misleading", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-10-10T14:36:39Z", "updated_at": "2017-05-14T23:06:44Z", "closed_at": "2017-05-14T23:06:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Since https://github.com/rust-lang/rust/pull/36815, using `SipHasher::new_with_keys` gives a warning:\n\n```\nwarning: use of deprecated item: use `DefaultHasher` instead, #[warn(deprecated)] on by default\n```\n\nBut `DefaultHasher` does not have a `new_with_keys` method or anything similar. It looks like this functionality was deprecated without replacement. Assuming the libs team does not want to revisit this decision, the deprecation message should be changed to\u2026 something.\n\nRight now, the easiest \"fix\" for code using this method is to use `#[allow(deprecated)]`. Since the method is marked `#[stable]` it\u2019s not going away any time soon, so this is quite safe. But of course, recommending `#[allow(deprecated)]` in a deprecation message would defeat the point of deprecation.\n\nPerhaps a \"proper\" fix would be to maintain a (non-deprecated) copy of `SipHasher` on crates.io?\n\nOne notable user of this method is [`phf`](https://github.com/sfackler/rust-phf/blob/5f0856327731107d9fada1b0318f6f15f32957c2/phf_shared/src/lib.rs#L29). CC @sfackler\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37070/timeline", "performed_via_github_app": null, "state_reason": "completed"}