{"url": "https://api.github.com/repos/rust-lang/rust/issues/26765", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26765/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26765/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26765/events", "html_url": "https://github.com/rust-lang/rust/issues/26765", "id": 92939128, "node_id": "MDU6SXNzdWU5MjkzOTEyOA==", "number": 26765, "title": "Rust .msi installer ignores current install", "user": {"login": "abonander", "id": 3198595, "node_id": "MDQ6VXNlcjMxOTg1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abonander", "html_url": "https://github.com/abonander", "followers_url": "https://api.github.com/users/abonander/followers", "following_url": "https://api.github.com/users/abonander/following{/other_user}", "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}", "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abonander/subscriptions", "organizations_url": "https://api.github.com/users/abonander/orgs", "repos_url": "https://api.github.com/users/abonander/repos", "events_url": "https://api.github.com/users/abonander/events{/privacy}", "received_events_url": "https://api.github.com/users/abonander/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60329014, "node_id": "MDU6TGFiZWw2MDMyOTAxNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-low", "name": "P-low", "color": "eb6420", "default": false, "description": "Low priority"}, {"id": 593503757, "node_id": "MDU6TGFiZWw1OTM1MDM3NTc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-infra", "name": "T-infra", "color": "bfd4f2", "default": false, "description": "Relevant to the infrastructure team, which will review and decide on the PR/issue."}, {"id": 602425123, "node_id": "MDU6TGFiZWw2MDI0MjUxMjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-dev-tools", "name": "T-dev-tools", "color": "bfd4f2", "default": false, "description": "Relevant to the dev-tools subteam, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-07-03T21:35:17Z", "updated_at": "2018-10-31T15:24:51Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "One of the convenient features of the defunct .exe installer is it would remove old library archives before installing new ones, so that one could update Rust just by running over the current install. The .msi installer does not do this, it just naively installs the new libraries next to the old ones, and Rust can't figure out which to use: \n\n```\nrustbook\\src\\main.rs:1:1: 1:1 error: multiple matching crates for `std`\nrustbook\\src\\main.rs:1 // Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n                       ^\nnote: candidates:\nnote: path: \\\\?\\C:\\Rust\\bin\\rustlib\\x86_64-pc-windows-gnu\\lib\\std-d855c359.dll\nnote: path: \\\\?\\C:\\Rust\\bin\\rustlib\\x86_64-pc-windows-gnu\\lib\\libstd-d855c359.rlib\nnote: crate name: std\nnote: path: \\\\?\\C:\\Rust\\bin\\rustlib\\x86_64-pc-windows-gnu\\lib\\std-74fa456f.dll\nnote: path: \\\\?\\C:\\Rust\\bin\\rustlib\\x86_64-pc-windows-gnu\\lib\\libstd-74fa456f.rlib\nnote: crate name: std\nrustbook\\src\\main.rs:1:1: 1:1 error: found staticlib `std` instead of rlib or dylib\nrustbook\\src\\main.rs:1 // Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n                       ^\nrustbook\\src\\main.rs:1:1: 1:1 help: please recompile this crate using --crate-type lib\nrustbook\\src\\main.rs:1:1: 1:1 note: crate `std` path #1: C:\\Rust\\bin\\rustlib\\x86_64-pc-windows-gnu\\lib\\libstdc++.a\nerror: aborting due to 2 previous errors\nCould not compile `rustbook`.\n\nTo learn more, run the command again with --verbose.\n```\n\nI can't simply update my Rust install anymore. I have to remove the old libraries either manually or by running the Rust uninstaller. This is a _major_ convenience discrepancy compared to using Rust on the Unix-based platforms.\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/26765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26765/timeline", "performed_via_github_app": null, "state_reason": null}