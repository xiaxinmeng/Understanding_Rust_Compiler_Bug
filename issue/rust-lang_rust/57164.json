{"url": "https://api.github.com/repos/rust-lang/rust/issues/57164", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/57164/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/57164/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/57164/events", "html_url": "https://github.com/rust-lang/rust/issues/57164", "id": 394591775, "node_id": "MDU6SXNzdWUzOTQ1OTE3NzU=", "number": 57164, "title": "rustdoc: proposal to tame gutter affordances", "user": {"login": "JohnHeitmann", "id": 4282480, "node_id": "MDQ6VXNlcjQyODI0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4282480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnHeitmann", "html_url": "https://github.com/JohnHeitmann", "followers_url": "https://api.github.com/users/JohnHeitmann/followers", "following_url": "https://api.github.com/users/JohnHeitmann/following{/other_user}", "gists_url": "https://api.github.com/users/JohnHeitmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnHeitmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnHeitmann/subscriptions", "organizations_url": "https://api.github.com/users/JohnHeitmann/orgs", "repos_url": "https://api.github.com/users/JohnHeitmann/repos", "events_url": "https://api.github.com/users/JohnHeitmann/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnHeitmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-28T09:31:00Z", "updated_at": "2020-06-26T22:25:54Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a few small proposals to reduce the visual clutter of rustdoc pages:\r\n\r\n1. Move all toggle buttons to the right. Benefits: consistency (sometimes they are already on the right), and moves element clutter to a part of the page that doesn't have the reader's initial focus.\r\n2. Similarly, move the \u24d8 link to the right.\r\n3. On the following doc bits remove toggles completely and show docs unconditionally:\r\n    1. Item description\r\n    2. Enum variant\r\n    3. Struct and trait method descriptions (methods directly on the item,  not foreign)\r\n4. \"Smart\" disclosure of short declarations. If a declaration is at most a few lines long, show it unconditionally with no toggle. Ditto attributes in declarations. Long declarations like Iterator retain their current undisclosed behavior.\r\n    1. ... alternately: always show ~4 lines and truncate beyond that with `...`\r\n5. On mobile: be a bit more extreme in clutter reduction and remove completely any toggles that default to open.\r\n6. On mobile: for blocks that do have a closed toggle, do not wrap the exposed heading, instead truncate with \"...\" before the toggle. I _think_ declarations tend to have enough information leftward to make this work well, but I haven't tried it yet. It might be a horrible idea in practice.\r\n\r\nQuick 'n Dirty mockups just to give the gist:\r\n\r\n![screen shot 2018-12-27 at 11 27 41 pm](https://user-images.githubusercontent.com/4282480/50506976-51e23d00-0a30-11e9-97c3-8dc01a250046.png)\r\n\r\n![screen shot 2018-12-27 at 11 27 18 pm](https://user-images.githubusercontent.com/4282480/50506992-60c8ef80-0a30-11e9-8444-9fed85fa75aa.png)\r\n\r\nThe size and indentation of the toggles as they are implemented today do give some ambient hints about the hierarchy of the page, so I'd also want to tweak spacing & sizing a bit to better emphasize hierarchy. You can see in the mock (where I haven't tweaked spacing yet) that the `pub fn` line looks very similar in priority to the `impl Vec` line, which is probably not desirable.\r\n\r\nBonus Objectives:\r\n1. A better icon for \u24d8 that more closely indicates what it is.\r\n2. Remove or tweak \u24d8 where it doesn't seem to add value. e.g. nearly every method on Vec: https://doc.rust-lang.org/std/vec/struct.Vec.html#method.new . I'm pretty ignorant about this feature. Maybe I'll come around on it once I understand it better.\r\n\r\nIf this gets positive reception, I can build a demo of these changes.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/57164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/57164/timeline", "performed_via_github_app": null, "state_reason": null}