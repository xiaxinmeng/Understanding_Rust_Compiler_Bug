{"url": "https://api.github.com/repos/rust-lang/rust/issues/26063", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26063/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26063/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26063/events", "html_url": "https://github.com/rust-lang/rust/issues/26063", "id": 85845647, "node_id": "MDU6SXNzdWU4NTg0NTY0Nw==", "number": 26063, "title": "Rust suggests issuing a compiler bug on simple float calculation", "user": {"login": "xuzhao9", "id": 502017, "node_id": "MDQ6VXNlcjUwMjAxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/502017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuzhao9", "html_url": "https://github.com/xuzhao9", "followers_url": "https://api.github.com/users/xuzhao9/followers", "following_url": "https://api.github.com/users/xuzhao9/following{/other_user}", "gists_url": "https://api.github.com/users/xuzhao9/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuzhao9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuzhao9/subscriptions", "organizations_url": "https://api.github.com/users/xuzhao9/orgs", "repos_url": "https://api.github.com/users/xuzhao9/repos", "events_url": "https://api.github.com/users/xuzhao9/events{/privacy}", "received_events_url": "https://api.github.com/users/xuzhao9/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-07T03:09:00Z", "updated_at": "2015-06-07T03:23:08Z", "closed_at": "2015-06-07T03:21:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to do some f64 calculation when rustc returns a bug.\nThe reason is that i am using `/2` instead of `/2.0`\n\nI tried this code:\n\n```\nfn main() {\n    // golden ratio\n    let phi = ((5.0 as f64).sqrt()+1.0) / 2.0;\n    println!(\"{}\", (999.0 * (10.0 as f64).log2() + (5.0 as f64).log2() / 2) / phi.log2());\n}\n```\n\nI expected to see this happen: \nprint the result.\n\nInstead, this happened: \nerror: internal compiler error: Impl DefId { krate: 2, node: 42191 } was matchable against Obligation(predicate=Binder(TraitPredicate(core::ops::Div<_>)),depth=1) but now is not\nhread 'rustc' panicked at 'Box<Any>', /private/tmp/rust20150423-58754-dl21ou/rustc-1.0.0-beta.2/src/libsyntax/diagnostic.rs:209\n## Meta\n\n`rustc --version --verbose`:\nrustc 1.0.0-beta.2 (built 2015-04-23)\n\nBacktrace:\nstack backtrace:\n   1:        0x10b54731f - sys::backtrace::write::hf7b43bbc481b9654gSs\n   2:        0x10b54f922 - panicking::on_panic::hbd8554d9357a1c6fpQw\n   3:        0x10b505b65 - rt::unwind::begin_unwind_inner::h7e83f2d5e4268fab8xw\n   4:        0x10ace785e - rt::unwind::begin_unwind::h17981109421596319345\n   5:        0x10ace8002 - diagnostic::Handler::bug::hf13914b440b32ce1osB\n   6:        0x108f9588b - middle::traits::select::SelectionContext<'cx, 'tcx>::rematch_impl::hd9e5b8175d4ec2c93hT\n   7:        0x108f95418 - middle::infer::InferCtxt<'a, 'tcx>::commit_if_ok::h14359106649279262881\n   8:        0x108f7f78d - middle::traits::select::SelectionContext<'cx, 'tcx>::confirm_candidate::h86f52f91c59801605zS\n   9:        0x108f5acf8 - middle::traits::select::SelectionContext<'cx, 'tcx>::select::h2a3ed7fc25a8c068IBQ\n  10:        0x108f66d3d - middle::traits::project::project_type::h7e64203a14d5e285PiP\n  11:        0x108f656eb - middle::traits::project::opt_normalize_projection_type::h444a379f7157d786rbP\n  12:        0x108f61e9b - middle::traits::project::project_and_unify_type::h818e28ec9604252alUO\n  13:        0x108f6013f - middle::infer::InferCtxt<'a, 'tcx>::commit_if_ok::h13903899412148193845\n  14:        0x108f58079 - middle::traits::fulfill::FulfillmentContext<'tcx>::select::h508e9e61947250b4TtO\n  15:        0x108f57a98 - middle::traits::fulfill::FulfillmentContext<'tcx>::select_where_possible::hb5fec6c0dac8245f7sO\n  16:        0x1084cfe63 - check::vtable::select_fcx_obligations_where_possible::h47c646a52b0d0849I0b\n  17:        0x1084f8051 - check::FnCtxt<'a, 'tcx>::resolve_type_vars_if_possible::h631d352611889680PPo\n  18:        0x108558d28 - check::op::check_binop::h8fc65d9e5d582f78san\n  19:        0x108595eee - check::check_expr_with_unifier::h15853150987056469390\n  20:        0x108558d1d - check::op::check_binop::h8fc65d9e5d582f78san\n  21:        0x1085a8186 - check::check_expr_with_unifier::h4907974640293425080\n  22:        0x1085af2d2 - check::check_expr_with_unifier::h9778005599963681722\n  23:        0x1085581fd - check::op::check_binop::h8fc65d9e5d582f78san\n  24:        0x1085a8186 - check::check_expr_with_unifier::h4907974640293425080\n  25:        0x1085a4b1b - check::check_expr_with_unifier::h10323812881462753763\n  26:        0x10858c273 - check::check_expr_with_unifier::closure.34336\n  27:        0x10859504d - vec::Vec<T>.FromIterator<T>::from_iter::h8615076225921240570\n  28:        0x108590cf5 - check::check_expr_with_unifier::h16475745189578987428\n  29:        0x1084c49a0 - check::_match::check_match::h58ae042dd88ca1a6Nmb\n  30:        0x1085a85f2 - check::check_expr_with_unifier::h4907974640293425080\n  31:        0x108574aed - check::check_expr_with_unifier::h7410154649276373103\n  32:        0x10854edec - check::check_argument_types::hd7e4bd4b1f072cde00p\n  33:        0x10854c10e - check::callee::confirm_builtin_call::h7754a95a4af046e7Sqm\n  34:        0x10854a899 - check::callee::check_call::h35e16b3035bc90d0Ahm\n  35:        0x108571f1e - check::check_expr_with_unifier::h7410154649276373103\n  36:        0x10854edec - check::check_argument_types::hd7e4bd4b1f072cde00p\n  37:        0x10854c10e - check::callee::confirm_builtin_call::h7754a95a4af046e7Sqm\n  38:        0x10854a899 - check::callee::check_call::h35e16b3035bc90d0Ahm\n  39:        0x1085ae14a - check::check_expr_with_unifier::h9778005599963681722\n  40:        0x1085654ba - check::check_block_with_expected::hedcc3c0a3ab4c2d8hds\n  41:        0x108548558 - check::check_fn::h4f448d6111314482t3n\n  42:        0x108560bd9 - check::check_bare_fn::h89ee37152dc08f3f2Sn\n  43:        0x10855a3d2 - check::check_item::hd8610bd66e4287a7Nbo\n  44:        0x10855f0c2 - visit::walk_item::h1626033462202565107\n  45:        0x108625b81 - check_crate::closure.38127\n  46:        0x108620fe7 - check_crate::h0f161c8fd064b5aaAmC\n  47:        0x108381652 - driver::phase_3_run_analysis_passes::h70a9ec4701ff63d2nGa\n  48:        0x10836339c - driver::compile_input::h9f9c9449aa2f41c7Qba\n  49:        0x10842ac83 - run_compiler::h29eed7cbcc29c7d1z4b\n  50:        0x1084287aa - boxed::F.FnBox<A>::call_box::h9554082381191132092\n  51:        0x108427c47 - rt::unwind::try::try_fn::h8436482007911175203\n  52:        0x10b5d7dd8 - rust_try_inner\n  53:        0x10b5d7dc5 - rust_try\n  54:        0x108427f20 - boxed::F.FnBox<A>::call_box::h6470094495200623847\n  55:        0x10b54e46d - sys::thread::create::thread_start::h79f00d8d380737267Uv\n  56:     0x7fff960f7267 - _pthread_body\n  57:     0x7fff960f71e4 - _pthread_start\n", "closed_by": {"login": "xuzhao9", "id": 502017, "node_id": "MDQ6VXNlcjUwMjAxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/502017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuzhao9", "html_url": "https://github.com/xuzhao9", "followers_url": "https://api.github.com/users/xuzhao9/followers", "following_url": "https://api.github.com/users/xuzhao9/following{/other_user}", "gists_url": "https://api.github.com/users/xuzhao9/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuzhao9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuzhao9/subscriptions", "organizations_url": "https://api.github.com/users/xuzhao9/orgs", "repos_url": "https://api.github.com/users/xuzhao9/repos", "events_url": "https://api.github.com/users/xuzhao9/events{/privacy}", "received_events_url": "https://api.github.com/users/xuzhao9/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/26063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26063/timeline", "performed_via_github_app": null, "state_reason": "completed"}