{"url": "https://api.github.com/repos/rust-lang/rust/issues/73653", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/73653/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/73653/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/73653/events", "html_url": "https://github.com/rust-lang/rust/issues/73653", "id": 643762288, "node_id": "MDU6SXNzdWU2NDM3NjIyODg=", "number": 73653, "title": "Error converting from i32 to f64 when type parameter implements From<f64>", "user": {"login": "djc", "id": 158471, "node_id": "MDQ6VXNlcjE1ODQ3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djc", "html_url": "https://github.com/djc", "followers_url": "https://api.github.com/users/djc/followers", "following_url": "https://api.github.com/users/djc/following{/other_user}", "gists_url": "https://api.github.com/users/djc/gists{/gist_id}", "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djc/subscriptions", "organizations_url": "https://api.github.com/users/djc/orgs", "repos_url": "https://api.github.com/users/djc/repos", "events_url": "https://api.github.com/users/djc/events{/privacy}", "received_events_url": "https://api.github.com/users/djc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-23T11:29:47Z", "updated_at": "2020-06-26T22:18:14Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried this code:\r\n\r\n```rust\r\nfn foo<T>(x: T, y: i32) -> f64 where f64: From<T> {\r\n    f64::from(y)\r\n}\r\n```\r\n\r\nI expected to see this happen: should compile and do the right thing.\r\n\r\nInstead, this happened:\r\n\r\n```rust\r\nerror[E0308]: mismatched types\r\n --> src/lib.rs:2:15\r\n  |\r\n1 | fn foo<T>(x: T, y: i32) -> f64 where f64: From<T> {\r\n  |        - this type parameter\r\n2 |     f64::from(y)\r\n  |               ^ expected type parameter `T`, found `i32`\r\n  |\r\n  = note: expected type parameter `T`\r\n                       found type `i32`\r\n  = help: type parameters must be constrained to match other types\r\n  = note: for more information, visit https://doc.rust-lang.org/book/ch10-02-traits.html#traits-as-parameters\r\n```\r\n\r\nOn the other hand, this code compiles fine:\r\n\r\n```rust\r\nfn foo<T>(_: T, y: i32) -> f64 {\r\n    f64::from(y)\r\n}\r\n```\r\n\r\n### Meta\r\n\r\nI was surprised about this, so after running this with 1.44.0 and 1.44.1 I checked older versions, but 1.39.0, 1.31.0 and 1.15.0 all give the same error. Seems likely that there is an issue about this already, but no clue how to look for it.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/73653/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/73653/timeline", "performed_via_github_app": null, "state_reason": null}