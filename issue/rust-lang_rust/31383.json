{"url": "https://api.github.com/repos/rust-lang/rust/issues/31383", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/31383/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/31383/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/31383/events", "html_url": "https://github.com/rust-lang/rust/issues/31383", "id": 130982579, "node_id": "MDU6SXNzdWUxMzA5ODI1Nzk=", "number": 31383, "title": "concat doesn't allow string constants as parameters", "user": {"login": "CodeMonkey90", "id": 877258, "node_id": "MDQ6VXNlcjg3NzI1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/877258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CodeMonkey90", "html_url": "https://github.com/CodeMonkey90", "followers_url": "https://api.github.com/users/CodeMonkey90/followers", "following_url": "https://api.github.com/users/CodeMonkey90/following{/other_user}", "gists_url": "https://api.github.com/users/CodeMonkey90/gists{/gist_id}", "starred_url": "https://api.github.com/users/CodeMonkey90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CodeMonkey90/subscriptions", "organizations_url": "https://api.github.com/users/CodeMonkey90/orgs", "repos_url": "https://api.github.com/users/CodeMonkey90/repos", "events_url": "https://api.github.com/users/CodeMonkey90/events{/privacy}", "received_events_url": "https://api.github.com/users/CodeMonkey90/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2016-02-03T10:25:43Z", "updated_at": "2022-06-27T09:34:03Z", "closed_at": "2016-07-25T21:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Scenario: I've defined a description and a version constant:\n\n``` rust\nconst DESCRIPTION: &'static str = \"my program\";\nconst VERSION: &'static str = env!(\"CARGO_PKG_VERSION\");\n```\n\nNow I want to define a version string which I'll print when the -v argument is passed:\n\n``` rust\nconst VERSION_STRING: &'static str = concat!(DESCRIPTION, \" v\", VERSION);\n```\n\nThis currently does not work, which is not intuitive. I'd expect static constants to work just like string literals. If you want to concatenate string constants to form another string constant, you currently have to define a macro for each constant:\n\n``` rust\nmacro_rules! description {\n    () => ( \"my program\" )\n}\nmacro_rules! version {\n    () => ( env!(\"CARGO_PKG_VERSION\") )\n}\nmacro_rules! version_string {\n    () => ( concat!(description!(), \" v\", version!()) )\n}\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/31383/reactions", "total_count": 26, "+1": 26, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/31383/timeline", "performed_via_github_app": null, "state_reason": "completed"}