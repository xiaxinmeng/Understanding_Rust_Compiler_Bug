{"url": "https://api.github.com/repos/rust-lang/rust/issues/74571", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/74571/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/74571/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/74571/events", "html_url": "https://github.com/rust-lang/rust/issues/74571", "id": 662218349, "node_id": "MDU6SXNzdWU2NjIyMTgzNDk=", "number": 74571, "title": "Address sanitizer fails to link on nightly-x86_64-apple-darwin toolchain", "user": {"login": "bonsairobo", "id": 3229981, "node_id": "MDQ6VXNlcjMyMjk5ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/3229981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonsairobo", "html_url": "https://github.com/bonsairobo", "followers_url": "https://api.github.com/users/bonsairobo/followers", "following_url": "https://api.github.com/users/bonsairobo/following{/other_user}", "gists_url": "https://api.github.com/users/bonsairobo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonsairobo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonsairobo/subscriptions", "organizations_url": "https://api.github.com/users/bonsairobo/orgs", "repos_url": "https://api.github.com/users/bonsairobo/repos", "events_url": "https://api.github.com/users/bonsairobo/events{/privacy}", "received_events_url": "https://api.github.com/users/bonsairobo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 630870359, "node_id": "MDU6TGFiZWw2MzA4NzAzNTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-sanitizers", "name": "A-sanitizers", "color": "f7e101", "default": false, "description": "Area: Sanitizers for correctness and code quality."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-20T20:13:47Z", "updated_at": "2020-08-13T19:26:33Z", "closed_at": "2020-08-13T19:26:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to build my project [here](https://github.com/bonsairobo/handsome-voxels) with address sanitizer:\r\n\r\n```bash\r\nRUSTFLAGS=\"-Z sanitizer=address\" cargo +nightly run --target x86_64-apple-darwin --bin editor\r\n```\r\n\r\nand I got a link error about a bunch of undefined symbols:\r\n\r\n```\r\nerror: linking with `cc` failed: exit code: 1\r\n  |\r\n  = note: \"cc\" \"-m64\" \"-L\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.0.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.1.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.10.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.11.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.12.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.13.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.14.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.15.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.2.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.3.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.4.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.5.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.6.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.7.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.8.rcgu.o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.9.rcgu.o\" \"-o\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/liblexical_core-28f3ff8c62cdf737.dylib\" \"-Wl,-exported_symbols_list,/var/folders/hq/9pr5dhj171b8dznlltq6h4yh00022_/T/rustcPV8Jog/list\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/lexical_core-28f3ff8c62cdf737.1mo5b0mlxxhyrlwt.rcgu.o\" \"-Wl,-dead_strip\" \"-dynamiclib\" \"-Wl,-dylib\" \"-nodefaultlibs\" \"-L\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps\" \"-L\" \"/Users/duncan/handsome-voxels/target/debug/deps\" \"-L\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/libryu-7e1b0f2e9d48330a.rlib\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/libarrayvec-9cd2750906caba3e.rlib\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/libnodrop-900e3a7f2f7679f1.rlib\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/libstatic_assertions-04dbb6ec8e2f4e31.rlib\" \"/Users/duncan/handsome-voxels/target/x86_64-apple-darwin/debug/deps/libcfg_if-dcde3996e9a47bd5.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libstd-473bfa6649025a67.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libpanic_unwind-8e1c1c2f3b88fa26.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libhashbrown-73b777ace327e6f8.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/librustc_std_workspace_alloc-b666c9c30cd05ed8.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libbacktrace-13799bdb379be2ce.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libbacktrace_sys-63abd5899e0d7e6b.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/librustc_demangle-1b07ed0286619776.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libunwind-89188c3232051162.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libcfg_if-caece456e5f78fce.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/liblibc-628a35dcde52dad2.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/liballoc-a0fac8d46f97ec7a.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/librustc_std_workspace_core-ef5998790eeac756.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libcore-3fe78a4d2924ae43.rlib\" \"/Users/duncan/.rustup/toolchains/nightly-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/libcompiler_builtins-e166c2d904273814.rlib\" \"-lSystem\" \"-lresolv\" \"-lc\" \"-lm\"\r\n  = note: Undefined symbols for architecture x86_64:\r\n            \"___asan_memmove\", referenced from:\r\n                core::intrinsics::copy::h982d3f2a1a608020 in lexical_core-28f3ff8c62cdf737.lexical_core.94sp2ta6-cgu.3.rcgu.o\r\n                core::intrinsics::copy::hd2f8d6f0e2a1b9bc in libryu-7e1b0f2e9d48330a.rlib(ryu-7e1b0f2e9d48330a.ryu.364h1osy-cgu.14.rcgu.o)\r\n\r\n...etc...\r\n```\r\n\r\n### Meta\r\n\r\n```\r\n$ rustc +nightly --version\r\nrustc 1.46.0-nightly (346aec9b0 2020-07-11)\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/74571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/74571/timeline", "performed_via_github_app": null, "state_reason": "completed"}