{"url": "https://api.github.com/repos/rust-lang/rust/issues/27124", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/27124/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/27124/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/27124/events", "html_url": "https://github.com/rust-lang/rust/issues/27124", "id": 95914684, "node_id": "MDU6SXNzdWU5NTkxNDY4NA==", "number": 27124, "title": "Rust building is broken for BSD system", "user": {"login": "semarie", "id": 8948701, "node_id": "MDQ6VXNlcjg5NDg3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/8948701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/semarie", "html_url": "https://github.com/semarie", "followers_url": "https://api.github.com/users/semarie/followers", "following_url": "https://api.github.com/users/semarie/following{/other_user}", "gists_url": "https://api.github.com/users/semarie/gists{/gist_id}", "starred_url": "https://api.github.com/users/semarie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/semarie/subscriptions", "organizations_url": "https://api.github.com/users/semarie/orgs", "repos_url": "https://api.github.com/users/semarie/repos", "events_url": "https://api.github.com/users/semarie/events{/privacy}", "received_events_url": "https://api.github.com/users/semarie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-07-19T13:11:19Z", "updated_at": "2015-07-21T06:27:23Z", "closed_at": "2015-07-21T06:27:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Starting with the latest update of LLVM, several BSD system don't be able to build rust anymore.\n\nAt least:\n- freebsd: http://buildbot.rust-lang.org/builders/auto-freebsd10_64-1/builds/2/steps/compile/logs/stdio\n- bitrig: http://buildbot.rust-lang.org/builders/auto-bitrig-64-opt/builds/1186/steps/compile/logs/stdio\n- openbsd\n\nThe error message is the same of these three platform (here bitrig message):\n\n```\nerror: linking with `cc` failed: exit code: 1\nnote: \"cc\" \"-m64\" \"-L\" \"/home/builder/rust-buildbot/slave/auto-bitrig-64-opt/build/obj/x86_64-unknown-bitrig/stage1/lib/rustlib/x86_64-unknown-bitrig/lib\" \"x86_64-unknown-bitrig/stage1/lib/rustlib/x86_64-unknown-bitrig/lib/std-7e44814b.0.o\" \"-o\" \"x86_64-unknown-bitrig/stage1/lib/rustlib/x86_64-unknown-bitrig/lib/libstd-7e44814b.so\" \"x86_64-unknown-bitrig/stage1/lib/rustlib/x86_64-unknown-bitrig/lib/std-7e44814b.metadata.o\" \"-Wl,-O1\" \"-nodefaultlibs\" \"-Wl,--whole-archive\" \"/tmp/rustc.M1grNw2xGkYD/libcollections-7e44814b.rlib\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"/tmp/rustc.M1grNw2xGkYD/librand-7e44814b.rlib\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"/tmp/rustc.M1grNw2xGkYD/liballoc-7e44814b.rlib\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"/tmp/rustc.M1grNw2xGkYD/librustc_unicode-7e44814b.rlib\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"/tmp/rustc.M1grNw2xGkYD/liblibc-7e44814b.rlib\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"/tmp/rustc.M1grNw2xGkYD/libcore-7e44814b.rlib\" \"-Wl,--no-whole-archive\" \"-L\" \"x86_64-unknown-bitrig/rt\" \"-L\" \"/home/builder/rust-buildbot/slave/auto-bitrig-64-opt/build/obj/x86_64-unknown-bitrig/llvm/Release/lib\" \"-L\" \"/home/builder/rust-buildbot/slave/auto-bitrig-64-opt/build/obj/x86_64-unknown-bitrig/stage1/lib/rustlib/x86_64-unknown-bitrig/lib\" \"-L\" \"/home/builder/rust-buildbot/slave/auto-bitrig-64-opt/build/obj/.rust/lib/x86_64-unknown-bitrig\" \"-L\" \"/home/builder/rust-buildbot/slave/auto-bitrig-64-opt/build/obj/lib/x86_64-unknown-bitrig\" \"-Wl,-Bstatic\" \"-Wl,--whole-archive\" \"-l\" \"rust_builtin\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"-l\" \"backtrace\" \"-Wl,--no-whole-archive\" \"-Wl,--whole-archive\" \"-l\" \"rustrt_native\" \"-Wl,--no-whole-archive\" \"-Wl,-Bdynamic\" \"-l\" \"pthread\" \"-l\" \"c++abi\" \"-l\" \"c\" \"-l\" \"m\" \"-shared\" \"-l\" \"compiler-rt\"\nnote: /tmp/rustc.M1grNw2xGkYD/libcollections-7e44814b.rlib: member /tmp/rustc.M1grNw2xGkYD/libcollections-7e44814b.rlib(__.SYMDEF) in archive is not an object\ncc: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\ncc: @dhuseby @wg @vhbit @mneumann\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/27124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/27124/timeline", "performed_via_github_app": null, "state_reason": "completed"}