{"url": "https://api.github.com/repos/rust-lang/rust/issues/40880", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/40880/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/40880/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/40880/events", "html_url": "https://github.com/rust-lang/rust/issues/40880", "id": 217640044, "node_id": "MDU6SXNzdWUyMTc2NDAwNDQ=", "number": 40880, "title": "Compiler docs not building due to stability", "user": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 602425123, "node_id": "MDU6TGFiZWw2MDI0MjUxMjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-dev-tools", "name": "T-dev-tools", "color": "bfd4f2", "default": false, "description": "Relevant to the dev-tools subteam, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-28T17:48:33Z", "updated_at": "2017-07-27T19:22:41Z", "closed_at": "2017-07-27T19:22:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\r\nenv_logger (pulled in by cargo) links to `log`, which needs rustc_private. The doc step needs to be able to sidestep this.\r\n\r\n\r\n<details>\r\n```\r\n Documenting env_logger v0.4.2\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:138:1\r\n    |\r\n138 | extern crate log;\r\n    | ^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:145:11\r\n    |\r\n145 | use log::{Log, LogLevel, LogLevelFilter, LogRecord, SetLoggerError, LogMetadata};\r\n    |           ^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:145:16\r\n    |\r\n145 | use log::{Log, LogLevel, LogLevelFilter, LogRecord, SetLoggerError, LogMetadata};\r\n    |                ^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:145:26\r\n    |\r\n145 | use log::{Log, LogLevel, LogLevelFilter, LogRecord, SetLoggerError, LogMetadata};\r\n    |                          ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:145:42\r\n    |\r\n145 | use log::{Log, LogLevel, LogLevelFilter, LogRecord, SetLoggerError, LogMetadata};\r\n    |                                          ^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:145:53\r\n    |\r\n145 | use log::{Log, LogLevel, LogLevelFilter, LogRecord, SetLoggerError, LogMetadata};\r\n    |                                                     ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:145:69\r\n    |\r\n145 | use log::{Log, LogLevel, LogLevelFilter, LogRecord, SetLoggerError, LogMetadata};\r\n    |                                                                     ^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:159:21\r\n    |\r\n159 |     format: Box<Fn(&LogRecord) -> String + Sync + Send>,\r\n    |                     ^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:198:21\r\n    |\r\n198 |     format: Box<Fn(&LogRecord) -> String + Sync + Send>,\r\n    |                     ^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:325:5\r\n    |\r\n325 |       fn enabled(&self, metadata: &LogMetadata) -> bool {\r\n    |  _____^ starting here...\r\n326 | |         self.enabled(metadata.level(), metadata.target())\r\n327 | |     }\r\n    | |_____^ ...ending here\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:329:5\r\n    |\r\n329 |     fn log(&self, record: &LogRecord) {\r\n    |     ^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:324:6\r\n    |\r\n324 | impl Log for Logger {\r\n    |      ^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:346:12\r\n    |\r\n346 |     level: LogLevelFilter,\r\n    |            ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:354:29\r\n    |\r\n354 | pub fn init() -> Result<(), SetLoggerError> {\r\n    |                             ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:386:32\r\n    |\r\n386 |                     Err(_) => (LogLevelFilter::max(), Some(part0)),\r\n    |                                ^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:389:47\r\n    |\r\n389 |             (Some(part0), Some(\"\"), None) => (LogLevelFilter::max(), Some(part0)),\r\n    |                                               ^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:207:40\r\n    |\r\n207 |             format: Box::new(|record: &LogRecord| {\r\n    |                                        ^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:220:26\r\n    |\r\n220 |                   level: LogLevelFilter) -> &mut Self {\r\n    |                          ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:233:22\r\n    |\r\n233 |         where F: Fn(&LogRecord) -> String + Sync + Send\r\n    |                      ^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:259:42\r\n    |\r\n259 |     pub fn init(&mut self) -> Result<(), SetLoggerError> {\r\n    |                                          ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:260:9\r\n    |\r\n260 |         log::set_logger(|max_level| {\r\n    |         ^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:273:24\r\n    |\r\n273 |                 level: LogLevelFilter::Error,\r\n    |                        ^^^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:304:29\r\n    |\r\n304 |     pub fn filter(&self) -> LogLevelFilter {\r\n    |                             ^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:307:24\r\n    |\r\n307 |             .unwrap_or(LogLevelFilter::Off)\r\n    |                        ^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:310:30\r\n    |\r\n310 |     fn enabled(&self, level: LogLevel, target: &str) -> bool {\r\n    |                              ^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:325:34\r\n    |\r\n325 |     fn enabled(&self, metadata: &LogMetadata) -> bool {\r\n    |                                  ^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:329:28\r\n    |\r\n329 |     fn log(&self, record: &LogRecord) {\r\n    |                            ^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:330:13\r\n    |\r\n330 |         if !Log::enabled(self, record.metadata()) {\r\n    |             ^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:208:45\r\n    |\r\n208 |                 format!(\"{}:{}: {}\", record.level(),\r\n    |                                             ^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:209:32\r\n    |\r\n209 |                         record.location().module_path(), record.args())\r\n    |                                ^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:209:43\r\n    |\r\n209 |                         record.location().module_path(), record.args())\r\n    |                                           ^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:209:65\r\n    |\r\n209 |                         record.location().module_path(), record.args())\r\n    |                                                                 ^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:262:23\r\n    |\r\n262 |             max_level.set(logger.filter());\r\n    |                       ^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:326:31\r\n    |\r\n326 |         self.enabled(metadata.level(), metadata.target())\r\n    |                               ^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:326:49\r\n    |\r\n326 |         self.enabled(metadata.level(), metadata.target())\r\n    |                                                 ^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:330:39\r\n    |\r\n330 |         if !Log::enabled(self, record.metadata()) {\r\n    |                                       ^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:335:42\r\n    |\r\n335 |             if !filter.is_match(&*record.args().to_string()) {\r\n    |                                          ^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:386:32\r\n    |\r\n386 |                     Err(_) => (LogLevelFilter::max(), Some(part0)),\r\n    |                                ^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: use of unstable library feature 'rustc_private' (see issue #27812)\r\n   --> /Users/manishearth/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.4.2/src/lib.rs:389:47\r\n    |\r\n389 |             (Some(part0), Some(\"\"), None) => (LogLevelFilter::max(), Some(part0)),\r\n    |                                               ^^^^^^^^^^^^^^^^^^^\r\n    |\r\n    = help: add #![feature(rustc_private)] to the crate attributes to enable\r\n\r\nerror: Compilation failed, aborting rustdoc\r\n\r\nerror: Could not document `env_logger`.\r\nBuild failed, waiting for other jobs to finish...\r\nerror: build failed\r\n\r\n\r\ncommand did not execute successfully: \"/Users/manishearth/mozilla/rust/build/x86_64-apple-darwin/stage0/bin/cargo\" \"doc\" \"-j\" \"8\" \"--target\" \"x86_64-apple-darwin\" \"--release\" \"--manifest-path\" \"/Users/manishearth/mozilla/rust/src/rustc/Cargo.toml\" \"--features\" \" jemalloc\" \"-p\" \"rustc_driver\" \"-p\" \"rustdoc\"\r\nexpected success, got: exit code: 101\r\n\r\n```\r\n\r\n</details>", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/40880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/40880/timeline", "performed_via_github_app": null, "state_reason": "completed"}