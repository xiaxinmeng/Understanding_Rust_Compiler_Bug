{"url": "https://api.github.com/repos/rust-lang/rust/issues/39013", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39013/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39013/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39013/events", "html_url": "https://github.com/rust-lang/rust/issues/39013", "id": 200402624, "node_id": "MDU6SXNzdWUyMDA0MDI2MjQ=", "number": 39013, "title": "1.14.0 mipsel test failures: f32", "user": {"login": "infinity0", "id": 78398, "node_id": "MDQ6VXNlcjc4Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinity0", "html_url": "https://github.com/infinity0", "followers_url": "https://api.github.com/users/infinity0/followers", "following_url": "https://api.github.com/users/infinity0/following{/other_user}", "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions", "organizations_url": "https://api.github.com/users/infinity0/orgs", "repos_url": "https://api.github.com/users/infinity0/repos", "events_url": "https://api.github.com/users/infinity0/events{/privacy}", "received_events_url": "https://api.github.com/users/infinity0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 106552066, "node_id": "MDU6TGFiZWwxMDY1NTIwNjY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-MIPS", "name": "O-MIPS", "color": "6e6ec0", "default": false, "description": "Target: MIPS processors"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-12T15:49:19Z", "updated_at": "2017-10-26T13:08:33Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Build machine: https://db.debian.org/machines.cgi?host=mipsel-aql-02\r\nBuild log: https://buildd.debian.org/status/fetch.php?pkg=rustc&arch=mipsel&ver=1.14.0%2Bdfsg1-3&stamp=1484088148\r\nRaw build log: https://buildd.debian.org/status/fetch.php?pkg=rustc&arch=mipsel&ver=1.14.0%2Bdfsg1-3&stamp=1484088148&raw=1\r\n\r\nThis is after applying #38650 and #38675. The LLVM diff between Debian vs Rust is [here](https://gist.github.com/infinity0/873566481db105fea47630da88e1b632).\r\n\r\nNote that, because of these failures, the whole-compiler tests (e.g. run-pass etc) have not been run, but they probably also have failures.\r\n\r\nRelevant links:\r\nhttps://github.com/rust-lang/rust/blob/1.14.0/src/librustc_back/target/mipsel_unknown_linux_gnu.rs\r\nhttps://github.com/rust-lang/rust/blob/1.14.0/mk/cfg/mipsel-unknown-linux-gnu.mk\r\n\r\n~~~~\r\ntest f32::tests::test_asinh ... ok\r\ntest f32::tests::test_ceil ... ok\r\nthread '<unnamed>' panicked at 'NaN is not approximately equal to 0.54930615', src/libstd/f32.rs:1831\r\nstack backtrace:\r\ntest f32::tests::test_classify ... ok\r\ntest f32::tests::test_exp ... ok\r\ntest f32::tests::test_exp2 ... ok\r\ntest f32::tests::test_floor ... ok\r\ntest f32::tests::test_fract ... ok\r\nthread '<unnamed>' panicked at 'assertion failed: `(left == right)` (left: `(0, -122)`, right: `(0.5, -122)`)', src/libstd/f32.rs:1759\r\n   1: 0x56672dbb - std::sys::imp::backtrace::tracing::imp::write::h33de6ffd1ea231bf\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:42\r\n   2: 0x566c0307 - std::panicking::default_hook::{{closure}}::hcabac60ea7b48baf\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:247\r\n   3: 0x566a0357 - std::panicking::rust_panic_with_hook::h059b28291193443c\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:263\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:451\r\n   4: 0x5669fd4f - std::panicking::begin_panic::h929be95e04ca164b\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:413\r\n   5: 0x5669fb3f - std::panicking::begin_panic_fmt::ha7d9cbddb8702778\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:397\r\n   6: 0x565069e7 - std::f32::tests::test_atanh::h8bd5519b0026e3d0\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/f32.rs:1831\r\n   7: 0x566d31e3 - <F as test::FnBox<T>>::call_box::he8581d59e8028413\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:1265\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:141\r\n   8: 0x566c4497 - std::panicking::try::do_call::h83b58d81c874206d\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:1211\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:295\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:356\r\n   9: 0x5671999f - __rust_maybe_catch_panic\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libpanic_unwind/lib.rs:97\r\n  10: 0x566c3913 - std::panicking::try::do_call::h636b19c00d03e824\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:332\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:351\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:1210\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:295\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:356\r\n  11: 0x5671999f - __rust_maybe_catch_panic\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libpanic_unwind/lib.rs:97\r\n  12: 0x566cc717 - <F as alloc::boxed::FnBox<A>>::call_box::h15256864a2eaf226\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:332\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:351\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/thread/mod.rs:287\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/liballoc/boxed.rs:595\r\n  13: 0x5670f07b - std::sys::imp::thread::Thread::new::thread_start::ha102a6120fc52763\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/liballoc/boxed.rs:605\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/sys_common/thread.rs:21\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/sys/unix/thread.rs:84\r\n  14: 0x77ad68bf - <unknown>\r\nstack backtrace:\r\n   1: 0x56672dbb - std::sys::imp::backtrace::tracing::imp::write::h33de6ffd1ea231bf\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:42\r\n   2: 0x566c0307 - std::panicking::default_hook::{{closure}}::hcabac60ea7b48baf\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:247\r\n   3: 0x566a0357 - std::panicking::rust_panic_with_hook::h059b28291193443c\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:263\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:451\r\n   4: 0x5669fd4f - std::panicking::begin_panic::h929be95e04ca164b\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:413\r\n   5: 0x5669fb3f - std::panicking::begin_panic_fmt::ha7d9cbddb8702778\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:397\r\n   6: 0x56505e13 - std::f32::tests::test_frexp::h3a1b32397c1dbb90\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/f32.rs:1759\r\n   7: 0x566d31e3 - <F as test::FnBox<T>>::call_box::he8581d59e8028413\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:1265\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:141\r\n   8: 0x566c4497 - std::panicking::try::do_call::h83b58d81c874206d\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:1211\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:295\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:356\r\n   9: 0x5671999f - __rust_maybe_catch_panic\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libpanic_unwind/lib.rs:97\r\n  10: 0x566c3913 - std::panicking::try::do_call::h636b19c00d03e824\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:332\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:351\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libtest/lib.rs:1210\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:295\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:356\r\n  11: 0x5671999f - __rust_maybe_catch_panic\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libpanic_unwind/lib.rs:97\r\n  12: 0x566cc717 - <F as alloc::boxed::FnBox<A>>::call_box::h15256864a2eaf226\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panicking.rs:332\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/panic.rs:351\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/thread/mod.rs:287\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/liballoc/boxed.rs:595\r\n  13: 0x5670f07b - std::sys::imp::thread::Thread::new::thread_start::ha102a6120fc52763\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/liballoc/boxed.rs:605\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/sys_common/thread.rs:21\r\n                at /\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/src/libstd/sys/unix/thread.rs:84\r\n  14: 0x77ad68bf - <unknown>\r\ntest f32::tests::test_frexp ... FAILED\r\ntest f32::tests::test_frexp_nowin ... ok\r\ntest f32::tests::test_atanh ... FAILED\r\n[..]\r\nfailures:\r\n    f32::tests::test_atanh\r\n    f32::tests::test_frexp\r\n    f32::tests::test_log\r\n\r\ntest result: FAILED. 772 passed; 3 failed; 0 ignored; 0 measured\r\n\r\n/\u00abBUILDDIR\u00bb/rustc-1.14.0+dfsg1/mk/tests.mk:423: recipe for target 'tmp/check-stage2-T-mipsel-unknown-linux-gnu-H-mipsel-unknown-linux-gnu-std.ok' failed\r\nmake[2]: *** [tmp/check-stage2-T-mipsel-unknown-linux-gnu-H-mipsel-unknown-linux-gnu-std.ok] Error 101\r\n~~~~", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39013/timeline", "performed_via_github_app": null, "state_reason": null}