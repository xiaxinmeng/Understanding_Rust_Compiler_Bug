{"url": "https://api.github.com/repos/rust-lang/rust/issues/61233", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/61233/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/61233/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/61233/events", "html_url": "https://github.com/rust-lang/rust/issues/61233", "id": 448743033, "node_id": "MDU6SXNzdWU0NDg3NDMwMzM=", "number": 61233, "title": "Mention shadowed glob-imported items in mismatched types errors when possible", "user": {"login": "killercup", "id": 20063, "node_id": "MDQ6VXNlcjIwMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/20063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killercup", "html_url": "https://github.com/killercup", "followers_url": "https://api.github.com/users/killercup/followers", "following_url": "https://api.github.com/users/killercup/following{/other_user}", "gists_url": "https://api.github.com/users/killercup/gists{/gist_id}", "starred_url": "https://api.github.com/users/killercup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killercup/subscriptions", "organizations_url": "https://api.github.com/users/killercup/orgs", "repos_url": "https://api.github.com/users/killercup/repos", "events_url": "https://api.github.com/users/killercup/events{/privacy}", "received_events_url": "https://api.github.com/users/killercup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1183099971, "node_id": "MDU6TGFiZWwxMTgzMDk5OTcx", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-suggestion-diagnostics", "name": "A-suggestion-diagnostics", "color": "f7e101", "default": false, "description": "Area: suggestions generated by the compiler applied by cargo fix"}, {"id": 1596122811, "node_id": "MDU6TGFiZWwxNTk2MTIyODEx", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-newcomer-roadblock", "name": "D-newcomer-roadblock", "color": "c9f7a3", "default": false, "description": "Confusing diagnostic error hard to understand for new users"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-27T08:58:31Z", "updated_at": "2019-10-05T16:37:51Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Given:\r\n\r\n1. a large source file full of generically-named functions,\r\n2. and one tiny glob import to get even more generically-named functions\r\n\r\none can arrive at a baffling error like this:\r\n\r\n```console\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:15:14\r\n   |\r\n15 |     function(CorrectType);\r\n   |              ^^^^^^^^^^^ expected struct `OtherType`, found struct `CorrectType`\r\n   |\r\n   = note: expected type `OtherType`\r\n              found type `CorrectType`\r\n```\r\n\r\nThe issue is that the author expected to be calling the glob imported function, when in fact a function with the same name was also in local scope.\r\n\r\nIdeally, rustc would point out there is another function with the same name for which the types match, and how to explicitly call this one. (This can be expanded to known functions that are not in scope, but having this for shadowed names will already be very useful.)\r\n\r\nCode to reproduce above error ([playpen](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=0743af1a7a1a476fdd1687b7e618c109)):\r\n\r\n```rust\r\npub struct CorrectType;\r\npub struct OtherType;\r\n\r\nmod globme {\r\n    pub fn helper(_x: i8) {}\r\n    pub fn function(_x: super::CorrectType) {}\r\n}\r\n\r\nuse self::globme::*;\r\n\r\nfn function(_x: OtherType) {}\r\n\r\nfn main() {\r\n    helper(42);\r\n    function(CorrectType);\r\n}\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/61233/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/61233/timeline", "performed_via_github_app": null, "state_reason": null}