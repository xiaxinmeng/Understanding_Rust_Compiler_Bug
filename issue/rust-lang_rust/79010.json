{"url": "https://api.github.com/repos/rust-lang/rust/issues/79010", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/79010/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/79010/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/79010/events", "html_url": "https://github.com/rust-lang/rust/issues/79010", "id": 741993126, "node_id": "MDU6SXNzdWU3NDE5OTMxMjY=", "number": 79010, "title": "src tarballs are vendored without respecting lockfile", "user": {"login": "infinity0", "id": 78398, "node_id": "MDQ6VXNlcjc4Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinity0", "html_url": "https://github.com/infinity0", "followers_url": "https://api.github.com/users/infinity0/followers", "following_url": "https://api.github.com/users/infinity0/following{/other_user}", "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions", "organizations_url": "https://api.github.com/users/infinity0/orgs", "repos_url": "https://api.github.com/users/infinity0/repos", "events_url": "https://api.github.com/users/infinity0/events{/privacy}", "received_events_url": "https://api.github.com/users/infinity0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203429200, "node_id": "MDU6TGFiZWwyMDM0MjkyMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-high", "name": "P-high", "color": "eb6420", "default": false, "description": "High priority"}, {"id": 262252628, "node_id": "MDU6TGFiZWwyNjIyNTI2Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-beta", "name": "regression-from-stable-to-beta", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to beta."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 808123953, "node_id": "MDU6TGFiZWw4MDgxMjM5NTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-release", "name": "T-release", "color": "bfd4f2", "default": false, "description": "Relevant to the release subteam, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/75", "html_url": "https://github.com/rust-lang/rust/milestone/75", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/75/labels", "id": 5804350, "node_id": "MDk6TWlsZXN0b25lNTgwNDM1MA==", "number": 75, "title": "1.48.0", "description": "", "creator": {"login": "Dylan-DPC-zz", "id": 12371125, "node_id": "MDQ6VXNlcjEyMzcxMTI1", "avatar_url": "https://avatars.githubusercontent.com/u/12371125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC-zz", "html_url": "https://github.com/Dylan-DPC-zz", "followers_url": "https://api.github.com/users/Dylan-DPC-zz/followers", "following_url": "https://api.github.com/users/Dylan-DPC-zz/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC-zz/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC-zz/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC-zz/repos", "events_url": "https://api.github.com/users/Dylan-DPC-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC-zz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 628, "state": "closed", "created_at": "2020-08-24T15:11:39Z", "updated_at": "2021-02-05T02:09:05Z", "due_on": "2020-11-18T08:00:00Z", "closed_at": "2020-12-10T18:36:41Z"}, "comments": 11, "created_at": "2020-11-12T23:07:35Z", "updated_at": "2020-11-15T16:16:00Z", "closed_at": "2020-11-15T16:16:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is with 1.48.0-beta.8, and previously all passed in 1.47.0. On Debian I see this failure on all architectures.\r\n\r\n<details><summary>test [ui] ui/feature-gates/feature-gate-cfg-version.rs ... FAILED</summary>\r\n\r\n~~~~\r\n------------------------------------------\r\ndiff of stderr:\r\n\r\n118\t   = note: see issue #64796 <https://github.com/rust-lang/rust/issues/64796> for more information\r\n119\t   = help: add `#![feature(cfg_version)]` to the crate attributes to enable\r\n120\t\r\n+\terror: invalid version literal\r\n+\t  --> $DIR/feature-gate-cfg-version.rs:30:15\r\n+\t   |\r\n+\tLL | #[cfg(version(\"1.65536.2\"))]\r\n+\t   |               ^^^^^^^^^^^\r\n+\t\r\n121\terror[E0658]: `cfg(version)` is experimental and subject to change\r\n122\t  --> $DIR/feature-gate-cfg-version.rs:40:18\r\n123\t   |\r\n\r\n127\t   = note: see issue #64796 <https://github.com/rust-lang/rust/issues/64796> for more information\r\n128\t   = help: add `#![feature(cfg_version)]` to the crate attributes to enable\r\n129\t\r\n-\terror: aborting due to 16 previous errors\r\n+\terror[E0425]: cannot find function `version_check_bug` in this scope\r\n+\t  --> $DIR/feature-gate-cfg-version.rs:37:5\r\n+\t   |\r\n+\tLL |     version_check_bug();\r\n+\t   |     ^^^^^^^^^^^^^^^^^ not found in this scope\r\n131\t\r\n-\tFor more information about this error, try `rustc --explain E0658`.\r\n+\terror: aborting due to 18 previous errors\r\n+\t\r\n+\tSome errors have detailed explanations: E0425, E0658.\r\n+\tFor more information about an error, try `rustc --explain E0425`.\r\n133\t\r\n~~~~\r\n</details>\r\n\r\nIt seems the failure is due to `version_check` being upgraded from 0.9.1 to 0.9.2 which now treats 1.65536.2 as malformed for some reason, even though I can't see this mentioned as part of https://semver.org/\r\n\r\nhttps://github.com/SergioBenitez/version_check/compare/v0.9.1...v0.9.2\r\n\r\nShouldn't this have been caught by rust CI, or is this not run on beta releases?\r\n", "closed_by": {"login": "infinity0", "id": 78398, "node_id": "MDQ6VXNlcjc4Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinity0", "html_url": "https://github.com/infinity0", "followers_url": "https://api.github.com/users/infinity0/followers", "following_url": "https://api.github.com/users/infinity0/following{/other_user}", "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions", "organizations_url": "https://api.github.com/users/infinity0/orgs", "repos_url": "https://api.github.com/users/infinity0/repos", "events_url": "https://api.github.com/users/infinity0/events{/privacy}", "received_events_url": "https://api.github.com/users/infinity0/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/79010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/79010/timeline", "performed_via_github_app": null, "state_reason": "completed"}