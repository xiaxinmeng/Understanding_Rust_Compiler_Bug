{"url": "https://api.github.com/repos/rust-lang/rust/issues/4494", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/4494/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/4494/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/4494/events", "html_url": "https://github.com/rust-lang/rust/issues/4494", "id": 9968044, "node_id": "MDU6SXNzdWU5OTY4MDQ0", "number": 4494, "title": "Segmentation fault (core dump) in Rust 0.6", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-01-15T04:41:58Z", "updated_at": "2013-03-20T23:19:01Z", "closed_at": "2013-03-20T23:19:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just cloned the rust0.6 from today.\nAnd build it on  Ubuntu 12.10 x86_64\nwhen I run rusti and enter 1+1 ,it happens Segmentation fault .\n\nHere som gdb log:\nGNU gdb (GDB) 7.5-ubuntu\nCopyright (C) 2012 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later http://gnu.org/licenses/gpl.html\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nFor bug reporting instructions, please see:\nhttp://www.gnu.org/software/gdb/bugs/...\nReading symbols from /usr/local/bin/rusti...(no debugging symbols found)...done.\n[New LWP 5883]\n[New LWP 5884]\n[New LWP 5881]\n[New LWP 5880]\n[New LWP 5882]\n\nwarning: Can't read pathname for load map: \u8f93\u5165/\u8f93\u51fa\u9519\u8bef.\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nCore was generated by `rusti'.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x00007f9d32f69018 in ?? () from /lib64/ld-linux-x86-64.so.2\n\n(gdb) bt full\n#0  0x00007f9d32f69018 in ?? () from /lib64/ld-linux-x86-64.so.2\n\nNo symbol table info available.\n#1  0x00007f9d32f6b63d in ?? () from /lib64/ld-linux-x86-64.so.2\n\nNo symbol table info available.\n#2  0x00007f9d32f7685b in ?? () from /lib64/ld-linux-x86-64.so.2\n\nNo symbol table info available.\n#3  0x00007f9d32f72186 in ?? () from /lib64/ld-linux-x86-64.so.2\n\nNo symbol table info available.\n#4  0x00007f9d32f7632a in ?? () from /lib64/ld-linux-x86-64.so.2\n\nNo symbol table info available.\n#5  0x00007f9d30710f26 in ?? () from /lib/x86_64-linux-gnu/libdl.so.2\n\nNo symbol table info available.\n#6  0x00007f9d32f72186 in ?? () from /lib64/ld-linux-x86-64.so.2\n\nNo symbol table info available.\n#7  0x00007f9d3071152f in ?? () from /lib/x86_64-linux-gnu/libdl.so.2\n\nNo symbol table info available.\n#8  0x00007f9d30710fc1 in dlopen () from /lib/x86_64-linux-gnu/libdl.so.2\n\nNo symbol table info available.\n#9  0x00007f9d2fc8cd1a in llvm::sys::DynamicLibrary::getPermanentLibrary(char const_, std::string_) () from /usr/local/bin/../lib/./librustllvm.so\n\nNo symbol table info available.\n#10 0x00007f9d2f233d0c in RustMCJITMemoryManager::loadCrate (\n\n```\nthis=0x7f9d205a3020, file=<optimized out>, err=err@entry=0x7f9d201008a0)\n```\n\n---Type <return> to continue, or q <return> to quit--- \n    at /usr/local/src/rust/src/rustllvm/RustWrapper.cpp:197\n        crate = {static Invalid = 0 '\\000', Data = 0x7f9d2f0a7878}\n#11 0x00007f9d2f234587 in LLVMRustLoadCrate (mem=<optimized out>,\n\n```\ncrate=<optimized out>)\nat /usr/local/src/rust/src/rustllvm/RustWrapper.cpp:328\n    manager = <optimized out>\n    Err = {static npos = <optimized out>, \n      _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>}, _M_p = 0x7f9d2ee404d8 \"\"}}\n    __PRETTY_FUNCTION__ = \"bool LLVMRustLoadCrate(void*, const char*)\"\n```\n#12 0x00007f9d31e223ca in LLVMRustLoadCrate__c_stack_shim ()\n\n   from /usr/local/bin/../lib/librustc-c84825241471686d-0.6.so\nNo symbol table info available.\n#13 0x00007f9d31218ab9 in __morestack ()\n\n   from /usr/local/bin/../lib/librustrt.so\nNo symbol table info available.\n#14 0x00007f9d31207174 in call_on_c_stack (\n\n```\nfn_ptr=0x7f9d31e22390 <LLVMRustLoadCrate__c_stack_shim>, \nargs=0x7f9d201035f0, this=0x7f9d28108a10)\nat /usr/local/src/rust/src/rt/rust_task.h:491\n    prev_rust_sp = 0\n    borrowed_a_c_stack = true\n    sp = <optimized out>\n```\n\n---Type <return> to continue, or q <return> to quit---\n#15 upcall_call_shim_on_c_stack (args=0x7f9d201035f0,\n\n```\nfn_ptr=0x7f9d31e22390 <LLVMRustLoadCrate__c_stack_shim>)\nat /usr/local/src/rust/src/rt/rust_upcall.cpp:60\n    task = 0x7f9d28108a10\n    __PRETTY_FUNCTION__ = \"void upcall_call_shim_on_c_stack(void*, void*)\"\n```\n#16 0x00007f9d31d8beb4 in back::link::jit::exec::anon::anon::expr_fn_76891 ()\n\n   from /usr/local/bin/../lib/librustc-c84825241471686d-0.6.so\nNo symbol table info available.\n#17 0x00007f9d318d2158 in str::as_c_str_28724::_b760a7dcc0e4db::_06 ()\n\n   from /usr/local/bin/../lib/librustc-c84825241471686d-0.6.so\nNo symbol table info available.\n#18 0x00007f9d31d8b949 in back::link::jit::exec::_c3905cfecb8b69e9::_06 ()\n\n   from /usr/local/bin/../lib/librustc-c84825241471686d-0.6.so\nNo symbol table info available.\n#19 0x00007f9d31464d65 in run::_ee4d29fb4c6e65c::_06 ()\n\n   from /usr/local/bin/../lib/librusti-5047c7f210c7cac8-0.6.so\nNo symbol table info available.\n#20 0x00007f9d31496aa8 in __morestack ()\n\n   from /usr/local/bin/../lib/librusti-5047c7f210c7cac8-0.6.so\nNo symbol table info available.\n#21 0x00007f9d31495a60 in run_line::anon::expr_fn_13894 ()\n\n   from /usr/local/bin/../lib/librusti-5047c7f210c7cac8-0.6.so\nNo symbol table info available.\n---Type <return> to continue, or q <return> to quit---\n#22 0x00007f9d31495235 in task::**extensions**::try_13791::anon::expr_fn_13846\n\n```\n() from /usr/local/bin/../lib/librusti-5047c7f210c7cac8-0.6.so\n```\n\nNo symbol table info available.\n#23 0x00007f9d32bf814f in task::spawn::spawn_raw::make_child_wrapper::anon::expr_fn_10036 () from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.6.so\n\nNo symbol table info available.\n#24 0x00007f9d32c2f520 in __morestack ()\n\n   from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.6.so\nNo symbol table info available.\n#25 0x00007f9d312057f4 in task_start_wrapper (a=0x7f9d28109810)\n\n```\nat /usr/local/src/rust/src/rt/rust_task.cpp:160\n    __PRETTY_FUNCTION__ = \"void task_start_wrapper(spawn_args*)\"\n    env = <optimized out>\n    ca = {spargs = 0x0, threw_exception = false}\n    task = 0x7f9d28108a10\n    threw_exception = false\n```\n#26 0x0000000000000000 in ?? ()\n\nNo symbol table info available.\n(gdb) quit\n", "closed_by": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/4494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/4494/timeline", "performed_via_github_app": null, "state_reason": "completed"}