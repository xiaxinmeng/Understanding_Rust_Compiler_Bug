{"url": "https://api.github.com/repos/rust-lang/rustup/issues/1911", "repository_url": "https://api.github.com/repos/rust-lang/rustup", "labels_url": "https://api.github.com/repos/rust-lang/rustup/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rustup/issues/1911/comments", "events_url": "https://api.github.com/repos/rust-lang/rustup/issues/1911/events", "html_url": "https://github.com/rust-lang/rustup/issues/1911", "id": 459878601, "node_id": "MDU6SXNzdWU0NTk4Nzg2MDE=", "number": 1911, "title": "Install on Chromebook Pixel (crosvm) places files in wrong place ", "user": {"login": "pgburt", "id": 711231, "node_id": "MDQ6VXNlcjcxMTIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/711231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgburt", "html_url": "https://github.com/pgburt", "followers_url": "https://api.github.com/users/pgburt/followers", "following_url": "https://api.github.com/users/pgburt/following{/other_user}", "gists_url": "https://api.github.com/users/pgburt/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgburt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgburt/subscriptions", "organizations_url": "https://api.github.com/users/pgburt/orgs", "repos_url": "https://api.github.com/users/pgburt/repos", "events_url": "https://api.github.com/users/pgburt/events{/privacy}", "received_events_url": "https://api.github.com/users/pgburt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2959341453, "node_id": "MDU6TGFiZWwyOTU5MzQxNDUz", "url": "https://api.github.com/repos/rust-lang/rustup/labels/O-linux", "name": "O-linux", "color": "0052CC", "default": false, "description": "Linux related"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-24T03:53:39Z", "updated_at": "2021-04-29T20:54:11Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I own a Chromebook Pixel, and use the crosvm (debian) option to do some coding. I tried installing Rust, and the installer placed files in the incorrect location.\r\n\r\n## Steps\r\n1) I looked up the command linked here https://www.rust-lang.org/tools/install\r\n2) I'm used to this kind of thing failing without privs, so I added a sudo before the sh and ran it, eg `curl https://sh.rustup.rs -sSf | sudo sh`\r\n3) The installer displayed something like the following\r\n\r\n```\r\ninfo: downloading installer\r\n\r\nWelcome to Rust!\r\n\r\nThis will download and install the official compiler for the Rust programming \r\nlanguage, and its package manager, Cargo.\r\n\r\nIt will add the cargo, rustc, rustup and other commands to Cargo's bin \r\ndirectory, located at:\r\n\r\n  /home/pgburt/.cargo/bin\r\n\r\nThis path will then be added to your PATH environment variable by modifying the\r\nprofile files located at:\r\n\r\n  /home/pgburt/.profile\r\n  /home/pgburt/.bash_profile\r\n\r\nYou can uninstall at any time with rustup self uninstall and these changes will\r\nbe reverted.\r\n\r\nCurrent installation options:\r\n\r\n   default host triple: x86_64-unknown-linux-gnu\r\n     default toolchain: stable\r\n  modify PATH variable: yes\r\n\r\n1) Proceed with installation (default)1) Proceed with installation (default)\r\n2) Customize installation\r\n3) Cancel installation\r\n```\r\n4) I pressed `1` to do the default installation.\r\n5) The install appeared to succeed, but instructed me to run a script in `$HOME/.cargo/env` to set my PATH. When I tried running that script, I found nothing there.\r\n6) Trying to run `rustup` showed it wasn't registered.\r\n\r\nI expected the install to put everything in my $HOME directory, which should be `/home/pgburt`. Instead, it placed the files in `/root`.\r\n\r\nI was able to fix the problem by moving the directory to my actual $HOME, and running the env script. I got a `error: no default toolchain configured` when running rustc after that, so was able to fix by running `rustup install stable` which seems to work.\r\n\r\n## Meta\r\nIn lieu of a rustc version, I can run `curl https://sh.rustup.rs -sSf | less` and see the value: rustup-init 1.18.3 (302899482 2019-05-22)\r\n\r\nChromeOS: Version 74.0.3729.159 (Official Build) (64-bit)\r\n\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rustup/issues/1911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rustup/issues/1911/timeline", "performed_via_github_app": null, "state_reason": null}