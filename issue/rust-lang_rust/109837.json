{"url": "https://api.github.com/repos/rust-lang/rust/issues/109837", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/109837/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/109837/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/109837/events", "html_url": "https://github.com/rust-lang/rust/issues/109837", "id": 1650535469, "node_id": "I_kwDOAAsO6M5iYSwt", "number": 109837, "title": "`non_exhaustive_omitted_patterns` is missing span", "user": {"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 3420005440, "node_id": "LA_kwDOAAsO6M7L2SRA", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-non_exhaustive_omitted_patterns_lint", "name": "F-non_exhaustive_omitted_patterns_lint", "color": "f9c0cc", "default": false, "description": "`#![feature(non_exhaustive_omitted_patterns_lint)]`"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-01T15:56:29Z", "updated_at": "2023-04-04T18:55:54Z", "closed_at": "2023-04-04T18:55:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, I get the following error message:\r\n\r\n```\r\nerror: some variants are not matched explicitly\r\n   |\r\nnote: the lint level is defined here\r\n  --> selene-lib/src/rules/high_cyclomatic_complexity.rs:77:14\r\n   |\r\n77 |         deny(non_exhaustive_omitted_patterns)\r\n   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n   = help: ensure that all variants are matched explicitly by adding the suggested match arms\r\n   = note: the matched value is of type `full_moon::ast::Value` and the `non_exhaustive_omitted_patterns` attribute was found\r\n\r\nerror: some variants are not matched explicitly\r\n  |\r\n  = help: ensure that all variants are matched explicitly by adding the suggested match arms\r\n  = note: the matched value is of type `full_moon::ast::Expression` and the `non_exhaustive_omitted_patterns` attribute was found\r\n\r\nerror: some variants are not matched explicitly\r\n    |\r\nnote: the lint level is defined here\r\n   --> selene-lib/src/rules/high_cyclomatic_complexity.rs:180:18\r\n    |\r\n180 |             deny(non_exhaustive_omitted_patterns)\r\n    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    = help: ensure that all variants are matched explicitly by adding the suggested match arms\r\n    = note: the matched value is of type `full_moon::ast::Stmt` and the `non_exhaustive_omitted_patterns` attribute was found\r\n\r\nerror: could not compile `selene-lib` due to 3 previous errors\r\n```\r\n\r\nThis error message is correct, but not helpful, and confused the person writing the pull request who hit this issue. It does not show what the variants are or where the match is. I would file a repro but I'm fairly sure non_exhaustive is ignored in the same crate, so it would not be doable on playground.\r\n\r\n_Originally posted by @Kampfkarren in https://github.com/rust-lang/rust/issues/89554#issuecomment-1246859523_\r\n            ", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/109837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/109837/timeline", "performed_via_github_app": null, "state_reason": "completed"}