{"url": "https://api.github.com/repos/rust-lang/rust/issues/940", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/940/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/940/events", "html_url": "https://github.com/rust-lang/rust/issues/940", "id": 1665089, "node_id": "MDU6SXNzdWUxNjY1MDg5", "number": 940, "title": "Unexplained alt + expression block failure", "user": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2011-09-16T19:34:44Z", "updated_at": "2011-10-09T08:03:38Z", "closed_at": "2011-10-09T08:03:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See patch 43b219dbec5a3fa0ded5c02c95149d8517343087 . The code before the patch runs fine with optimization turned off, but corrupts the result of the alt (when the third, bottom branch was taken) when optimization is on. This simple transformation -- assigning to a variable instead of returning from the block, removes the issue.\n\nEither this is a really obscure compilation bug (I've failed to create a reduced test case so far), or it's some kind of corruption in another part of the compiler that shows up unpredictably based on the shape of the code.\n", "closed_by": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/940/timeline", "performed_via_github_app": null, "state_reason": "completed"}