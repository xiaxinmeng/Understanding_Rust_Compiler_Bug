{"url": "https://api.github.com/repos/rust-lang/rust/issues/39564", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39564/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39564/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39564/events", "html_url": "https://github.com/rust-lang/rust/issues/39564", "id": 205436665, "node_id": "MDU6SXNzdWUyMDU0MzY2NjU=", "number": 39564, "title": "compiler crash on `cargo test` for `compiler-builtins` crate.", "user": {"login": "pftbest", "id": 1573340, "node_id": "MDQ6VXNlcjE1NzMzNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1573340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pftbest", "html_url": "https://github.com/pftbest", "followers_url": "https://api.github.com/users/pftbest/followers", "following_url": "https://api.github.com/users/pftbest/following{/other_user}", "gists_url": "https://api.github.com/users/pftbest/gists{/gist_id}", "starred_url": "https://api.github.com/users/pftbest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pftbest/subscriptions", "organizations_url": "https://api.github.com/users/pftbest/orgs", "repos_url": "https://api.github.com/users/pftbest/repos", "events_url": "https://api.github.com/users/pftbest/events{/privacy}", "received_events_url": "https://api.github.com/users/pftbest/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-05T16:44:58Z", "updated_at": "2017-02-06T03:12:35Z", "closed_at": "2017-02-06T03:12:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n$ rustc --version --verbose\r\nrustc 1.17.0-nightly (ea7a6486a 2017-02-04)\r\nbinary: rustc\r\ncommit-hash: ea7a6486a26af085862cd7a5596bb69e83d85e12\r\ncommit-date: 2017-02-04\r\nhost: x86_64-apple-darwin\r\nrelease: 1.17.0-nightly\r\nLLVM version: 3.9\r\n```\r\n\r\n```\r\n$ RUST_BACKTRACE=1 cargo test\r\n   Compiling compiler_builtins v0.1.0 (file:///Users/vadzim/Downloads/compiler-builtins)\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: run with `RUST_BACKTRACE=1` for a backtrace\r\n\r\nthread 'rustc' panicked at 'assertion failed: compiler_builtins.is_none()', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/librustc_trans/back/link.rs:1031\r\nstack backtrace:\r\n   1:        0x10a7b086c - std::sys::imp::backtrace::tracing::imp::write::hb7ff6d5abd996ef4\r\n   2:        0x10a7bd15e - std::panicking::default_hook::{{closure}}::h53094adb345230b0\r\n   3:        0x10a7bcd03 - std::panicking::default_hook::h5acf019c6eaf66af\r\n   4:        0x10a7bd617 - std::panicking::rust_panic_with_hook::h8943f907023b7818\r\n   5:        0x105917c24 - std::panicking::begin_panic::h411d6a893873b8a5\r\n   6:        0x105959b0d - rustc_trans::back::link::link_natively::h0116b1903c13e993\r\n   7:        0x105953137 - rustc_trans::back::link::link_binary::h65adbfbbdf748627\r\n   8:        0x1057e7921 - rustc_driver::driver::phase_6_link_output::h8c6ede0431696a9a\r\n   9:        0x1057b267f - rustc_driver::driver::compile_input::hba767e467d9ecd50\r\n  10:        0x1057f973e - rustc_driver::run_compiler::hc331f8033f5c8596\r\n  11:        0x105711558 - std::panicking::try::do_call::hf49380e365cc8525\r\n  12:        0x10a7c022a - __rust_maybe_catch_panic\r\n  13:        0x105739f83 - <F as alloc::boxed::FnBox<A>>::call_box::hef07c6767b6426aa\r\n  14:        0x10a7bc284 - std::sys::imp::thread::Thread::new::thread_start::h4ad0b40513420e9c\r\n  15:     0x7fffc873daaa - _pthread_body\r\n  16:     0x7fffc873d9f6 - _pthread_start\r\n\r\nerror: Could not compile `compiler_builtins`.\r\nBuild failed, waiting for other jobs to finish...\r\nerror: unused `#[macro_use]` import\r\n  --> src/lib.rs:89:1\r\n   |\r\n89 | #[macro_use]\r\n   | ^^^^^^^^^^^^\r\n   |\r\nnote: lint level defined here\r\n  --> src/lib.rs:1:31\r\n   |\r\n1  | #![cfg_attr(not(stage0), deny(warnings))]\r\n   |                               ^^^^^^^^\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: build failed\r\n```", "closed_by": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39564/timeline", "performed_via_github_app": null, "state_reason": "completed"}