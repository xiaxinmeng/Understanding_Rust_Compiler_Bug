{"url": "https://api.github.com/repos/rust-lang/rust/issues/56545", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/56545/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/56545/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/56545/events", "html_url": "https://github.com/rust-lang/rust/issues/56545", "id": 387916101, "node_id": "MDU6SXNzdWUzODc5MTYxMDE=", "number": 56545, "title": "search-index.js slows down documentation browsing", "user": {"login": "yacoob", "id": 190463, "node_id": "MDQ6VXNlcjE5MDQ2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/190463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yacoob", "html_url": "https://github.com/yacoob", "followers_url": "https://api.github.com/users/yacoob/followers", "following_url": "https://api.github.com/users/yacoob/following{/other_user}", "gists_url": "https://api.github.com/users/yacoob/gists{/gist_id}", "starred_url": "https://api.github.com/users/yacoob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yacoob/subscriptions", "organizations_url": "https://api.github.com/users/yacoob/orgs", "repos_url": "https://api.github.com/users/yacoob/repos", "events_url": "https://api.github.com/users/yacoob/events{/privacy}", "received_events_url": "https://api.github.com/users/yacoob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-12-05T19:45:39Z", "updated_at": "2020-07-03T15:31:45Z", "closed_at": "2020-07-03T15:31:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm just starting with Rust, so I'm using its documentation quite often. Primarily along the lines of \"hmm, no idea if a thing like foo exists in stdlib... let's search the docs.\". This means, I'm changing pages of documentation a lot. I've noticed that when I'm jumping to a specific method's docs, I get the following experience:\r\n\r\n* page loads entirely (judging by the side scrollbar)\r\n* load indicator keeps spinning\r\n* after couple of seconds, browser jumps down to method description\r\n\r\nI've looked at Chrome's console, and I've noticed that `search-index.js` is the culprit.\r\n\r\n<img width=\"1704\" alt=\"screen shot 2018-12-05 at 19 34 08\" src=\"https://user-images.githubusercontent.com/190463/49539422-877a8700-f8c5-11e8-845a-d489b9bb9b05.PNG\">\r\n\r\nNote that the above is loading from a `file://` URI, after launching `rustup doc`. That index is 2MB, and it looks like it contains all keywords for the search. Not sure why it's equally slow on both online and local docs.\r\n\r\nAny chance of improvement here, to speed up the initial load? Loading the index asynchronously, to have it ready for user search once user decides to use it?", "closed_by": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/56545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/56545/timeline", "performed_via_github_app": null, "state_reason": "completed"}