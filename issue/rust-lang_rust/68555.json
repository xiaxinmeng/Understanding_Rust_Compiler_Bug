{"url": "https://api.github.com/repos/rust-lang/rust/issues/68555", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/68555/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/68555/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/68555/events", "html_url": "https://github.com/rust-lang/rust/issues/68555", "id": 555289439, "node_id": "MDU6SXNzdWU1NTUyODk0Mzk=", "number": 68555, "title": "Infinite type recursion on unused import.", "user": {"login": "djugei", "id": 51489880, "node_id": "MDQ6VXNlcjUxNDg5ODgw", "avatar_url": "https://avatars.githubusercontent.com/u/51489880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djugei", "html_url": "https://github.com/djugei", "followers_url": "https://api.github.com/users/djugei/followers", "following_url": "https://api.github.com/users/djugei/following{/other_user}", "gists_url": "https://api.github.com/users/djugei/gists{/gist_id}", "starred_url": "https://api.github.com/users/djugei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djugei/subscriptions", "organizations_url": "https://api.github.com/users/djugei/orgs", "repos_url": "https://api.github.com/users/djugei/repos", "events_url": "https://api.github.com/users/djugei/events{/privacy}", "received_events_url": "https://api.github.com/users/djugei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1359848690, "node_id": "MDU6TGFiZWwxMzU5ODQ4Njkw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-mcve", "name": "E-needs-mcve", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs a Minimal Complete and Verifiable Example"}, {"id": 1472563007, "node_id": "MDU6TGFiZWwxNDcyNTYzMDA3", "url": "https://api.github.com/repos/rust-lang/rust/labels/requires-nightly", "name": "requires-nightly", "color": "76dcde", "default": false, "description": "This issue requires a nightly compiler in some way."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-26T21:17:55Z", "updated_at": "2022-06-28T15:31:21Z", "closed_at": "2022-06-28T15:31:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "ok this one is a bit special.\r\nwhen i have an unused import rustc tells me about an infinite recursion. when i do not have an unused import it compiles without issue. when i have an unused import in two files it also compiles without (further) warnings.\r\n\r\nthis happened in this [code](https://github.com/djugei/optimath/tree/f39d6d378826c345a8136d93c19fbcd087a13d3c), notice the [commit](https://github.com/djugei/optimath/commit/f39d6d378826c345a8136d93c19fbcd087a13d3c).\r\n\r\ni would expect rustc to either give me an error in all three cases, or in none.\r\n\r\nthis specific infinite recursion error has occurred to me multiple times before, but had some kind of reason at least, even though the error message was not related to the error in the code.\r\n\r\nAlso copying only the code from those two files into a different project does not cause the error. so i could not really produce a minimal example (sorry), but its probably related to const generics, recursive types, specialization or all of the above.\r\n\r\nreproducible on both a recent nightly and one from december.\r\n\r\n\r\n\r\n", "closed_by": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/68555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/68555/timeline", "performed_via_github_app": null, "state_reason": "completed"}