{"url": "https://api.github.com/repos/rust-lang/rust/issues/61725", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/61725/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/61725/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/61725/events", "html_url": "https://github.com/rust-lang/rust/issues/61725", "id": 454330225, "node_id": "MDU6SXNzdWU0NTQzMzAyMjU=", "number": 61725, "title": "two separate but identical versions of a crate in dependency tree", "user": {"login": "brenzi", "id": 10366175, "node_id": "MDQ6VXNlcjEwMzY2MTc1", "avatar_url": "https://avatars.githubusercontent.com/u/10366175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brenzi", "html_url": "https://github.com/brenzi", "followers_url": "https://api.github.com/users/brenzi/followers", "following_url": "https://api.github.com/users/brenzi/following{/other_user}", "gists_url": "https://api.github.com/users/brenzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/brenzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brenzi/subscriptions", "organizations_url": "https://api.github.com/users/brenzi/orgs", "repos_url": "https://api.github.com/users/brenzi/repos", "events_url": "https://api.github.com/users/brenzi/events{/privacy}", "received_events_url": "https://api.github.com/users/brenzi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-10T19:22:19Z", "updated_at": "2019-06-21T14:28:06Z", "closed_at": "2019-06-21T14:28:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following funny behaviour:\r\n\r\n```\r\n> cargo tree  -i -p untrusted\r\nerror: There are multiple `untrusted` packages in your project, and the specification `untrusted` is ambiguous.\r\nPlease re-run this command with `-p <spec>` where `<spec>` is one of the following:\r\n  https://github.com/briansmith/untrusted#0.6.2\r\n  https://github.com/briansmith/untrusted#0.6.2\r\n```\r\nAs you see, the versions are identical but cargo seems not to realize that\r\n\r\nThis issue causes errors like\r\n```\r\n  --> /home/brenzi/.cargo/registry/src/github.com-1ecc6299db9ec823/libp2p-core-0.7.1/src/identity/rsa.rs:74:27\r\n   |\r\n74 |                           Input::from(msg),\r\n   |                           ^^^^^^^^^^^^^^^^ expected struct `untrusted::Input`, found a different struct `untrusted::Input`\r\n   |\r\n   = note: expected type `untrusted::Input<'_>` (struct `untrusted::Input`)\r\n              found type `untrusted::Input<'_>` (struct `untrusted::Input`)\r\nnote: Perhaps two different versions of crate `untrusted` are being used?\r\n```\r\n\r\nI assume this is caused by a patch statement in workspace Cargo.toml\r\n```\r\n...\r\n[patch.crates-io]\r\nuntrusted = { git = \"https://github.com/briansmith/untrusted\" }\r\n...\r\n```\r\nwhich is needed because otherwise two *truly* different versions of `untrusted` would collide.\r\n\r\nHere's my repo showing this behaviour: https://github.com/scs/substraTEE-worker/tree/brenzi-ra\r\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/61725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/61725/timeline", "performed_via_github_app": null, "state_reason": "completed"}