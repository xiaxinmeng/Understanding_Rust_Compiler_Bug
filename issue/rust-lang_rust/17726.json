{"url": "https://api.github.com/repos/rust-lang/rust/issues/17726", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17726/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17726/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17726/events", "html_url": "https://github.com/rust-lang/rust/issues/17726", "id": 44749057, "node_id": "MDU6SXNzdWU0NDc0OTA1Nw==", "number": 17726, "title": "Linking hello world program fails under Windows when other MingW is in PATH", "user": {"login": "catch22", "id": 119655, "node_id": "MDQ6VXNlcjExOTY1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/119655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catch22", "html_url": "https://github.com/catch22", "followers_url": "https://api.github.com/users/catch22/followers", "following_url": "https://api.github.com/users/catch22/following{/other_user}", "gists_url": "https://api.github.com/users/catch22/gists{/gist_id}", "starred_url": "https://api.github.com/users/catch22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catch22/subscriptions", "organizations_url": "https://api.github.com/users/catch22/orgs", "repos_url": "https://api.github.com/users/catch22/repos", "events_url": "https://api.github.com/users/catch22/events{/privacy}", "received_events_url": "https://api.github.com/users/catch22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}, {"id": 116993, "node_id": "MDU6TGFiZWwxMTY5OTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-driver", "name": "A-driver", "color": "f7e101", "default": false, "description": "Area: rustc_driver that ties everything together into the `rustc` compiler"}, {"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-02T22:55:44Z", "updated_at": "2021-12-05T14:21:40Z", "closed_at": "2014-11-11T12:17:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Building the hello world program fails with the following message:\n\n```\nerror: linking with `gcc` failed: exit code: 1\nnote: gcc '-m64' [snip]\nnote: C:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o):(.text+0x89): undefined reference to `_Unwind_Resume'\nC:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o):(.text+0x5bb): undefined reference to `_Unwind_Resume'\nC:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o):(.text+0x12c8): undefined reference to `_Unwind_Resume'\nC:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o):(.text+0x1396): undefined reference to `_Unwind_Resume'\nC:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o):(.text+0x1463): undefined reference to `_Unwind_Resume'\nC:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o):(.text+0x1781): more undefined references to `_Unwind_Resume' follow\nc:/tools/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.8.1/../../../../x86_64-w64-mingw32/bin/ld.exe: C:\\Tools\\Rust\\bin\\rustlib\\x86_64-w64-mingw32\\lib\\libnative-4e7c5e5c.rlib(native-4e7c5e5c.o): bad reloc address 0x0 in section `.data'\ncollect2.exe: error: ld returned 1 exit status\n```\n\nIt appears that rustc picks up another MingW's version of `ld` rather than the one it ships with. The same error also appears if the rust binary directory is the first item in my PATH. The only way around it is to either remove my MingW's `bin` directory from the PATH or by prefixing `rustlib/...mingw/gcc/bin` to the PATH. Both solutions seem to be quite hackish -- I just wanted to check if this is the desired behavior.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/17726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17726/timeline", "performed_via_github_app": null, "state_reason": "completed"}