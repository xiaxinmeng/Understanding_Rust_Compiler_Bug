{"url": "https://api.github.com/repos/rust-lang/rust/issues/76532", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/76532/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/76532/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/76532/events", "html_url": "https://github.com/rust-lang/rust/issues/76532", "id": 697047806, "node_id": "MDU6SXNzdWU2OTcwNDc4MDY=", "number": 76532, "title": "signal: 11, SIGSEGV: invalid memory reference", "user": {"login": "AurevoirXavier", "id": 16152305, "node_id": "MDQ6VXNlcjE2MTUyMzA1", "avatar_url": "https://avatars.githubusercontent.com/u/16152305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AurevoirXavier", "html_url": "https://github.com/AurevoirXavier", "followers_url": "https://api.github.com/users/AurevoirXavier/followers", "following_url": "https://api.github.com/users/AurevoirXavier/following{/other_user}", "gists_url": "https://api.github.com/users/AurevoirXavier/gists{/gist_id}", "starred_url": "https://api.github.com/users/AurevoirXavier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AurevoirXavier/subscriptions", "organizations_url": "https://api.github.com/users/AurevoirXavier/orgs", "repos_url": "https://api.github.com/users/AurevoirXavier/repos", "events_url": "https://api.github.com/users/AurevoirXavier/events{/privacy}", "received_events_url": "https://api.github.com/users/AurevoirXavier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-09-09T18:28:52Z", "updated_at": "2020-09-10T14:25:22Z", "closed_at": "2020-09-10T14:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm on:\r\n```\r\nAMD Ryzen 9 3950X 16-Core @ 32x 4.404GHz\r\nArch Linux\r\nx86_64 Linux 5.8.7-arch1-1\r\nclang/llvm-10.0.1\r\nglibc-2.32\r\nrustc 1.48.0-nightly (5099914a1 2020-09-08)\r\nCARGO_INCREMENTAL=1\r\n```\r\n\r\nEverytime I compile my project in release I got this error (without the `--release` it's ok): \r\n\r\n```rust\r\nerror: could not compile `futures-util`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name futures_util --edition=2018 /home/xavier/.cargo/registry/src/github.com-1ecc6299db9ec823/futures-util-0.3.5/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C opt-level=3 -C embed-bitcode=no --cfg 'feature=\"alloc\"' --cfg 'feature=\"async-await\"' --cfg 'feature=\"async-await-macro\"' --cfg 'feature=\"bilock\"' --cfg 'feature=\"channel\"' --cfg 'feature=\"compat\"' --cfg 'feature=\"default\"' --cfg 'feature=\"futures-channel\"' --cfg 'feature=\"futures-io\"' --cfg 'feature=\"futures-macro\"' --cfg 'feature=\"futures-sink\"' --cfg 'feature=\"futures_01\"' --cfg 'feature=\"io\"' --cfg 'feature=\"memchr\"' --cfg 'feature=\"proc-macro-hack\"' --cfg 'feature=\"proc-macro-nested\"' --cfg 'feature=\"sink\"' --cfg 'feature=\"slab\"' --cfg 'feature=\"std\"' --cfg 'feature=\"unstable\"' -C metadata=61243cdbf8804df6 -C extra-filename=-61243cdbf8804df6 --out-dir /home/xavier/Documents/darwinia-network/darwinia/target/release/deps -L dependency=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps --extern futures_01=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures-8ea905386f0346aa.rmeta --extern futures_channel=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_channel-c950addb395641bb.rmeta --extern futures_core=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_core-fc341e34a5e23ebc.rmeta --extern futures_io=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_io-83c69b6ee60b8c4e.rmeta --extern futures_macro=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_macro-795e474d25efba01.so --extern futures_sink=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_sink-0bc19d4f43fa7eeb.rmeta --extern futures_task=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_task-06cc16ea9f5092ee.rmeta --extern memchr=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libmemchr-446044cc20eec784.rmeta --extern pin_project=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libpin_project-fe0fb7dcd2eabba2.rmeta --extern pin_utils=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libpin_utils-46b96054df843206.rmeta --extern proc_macro_hack=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libproc_macro_hack-a63d0bedafd64279.so --extern proc_macro_nested=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libproc_macro_nested-6b28ecdf39fa9bbe.rmeta --extern slab=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libslab-8a7794cf9ca69c45.rmeta --cap-lints allow` (signal: 11, SIGSEGV: invalid memory reference)\r\n```\r\n\r\nAfter this error I run `cargo b --release` again then I got this:\r\n\r\n```rust\r\nthread 'rustc' panicked at 'already borrowed: BorrowMutError', /rustc/5099914a16a215794ad243df0cc7a05d91d168e0/compiler/rustc_data_structures/src/sync.rs:481:16\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md\r\n\r\nnote: rustc 1.48.0-nightly (5099914a1 2020-09-08) running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: -C opt-level=3 -C embed-bitcode=no --crate-type lib\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n```\r\n\r\nThen I keep type `cargo b --release`:\r\n\r\n```\r\nerror: could not compile `hyper`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name hyper /home/xavier/.cargo/registry/src/github.com-1ecc6299db9ec823/hyper-0.12.35/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C opt-level=3 -C embed-bitcode=no --cfg 'feature=\"__internal_flaky_tests\"' --cfg 'feature=\"default\"' --cfg 'feature=\"futures-cpupool\"' --cfg 'feature=\"net2\"' --cfg 'feature=\"runtime\"' --cfg 'feature=\"tokio\"' --cfg 'feature=\"tokio-executor\"' --cfg 'feature=\"tokio-reactor\"' --cfg 'feature=\"tokio-tcp\"' --cfg 'feature=\"tokio-threadpool\"' --cfg 'feature=\"tokio-timer\"' -C metadata=e941c34c3a06054f -C extra-filename=-e941c34c3a06054f --out-dir /home/xavier/Documents/darwinia-network/darwinia/target/release/deps -L dependency=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps --extern bytes=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libbytes-507bc2eb3366105b.rmeta --extern futures=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures-8ea905386f0346aa.rmeta --extern futures_cpupool=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libfutures_cpupool-9c9a0bbfce66b243.rmeta --extern h2=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libh2-8270be685a4b8c49.rmeta --extern http=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libhttp-a070aef5373497ae.rmeta --extern http_body=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libhttp_body-ce5735aee2b6aa5a.rmeta --extern httparse=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libhttparse-089a7d2ce7c7a2b8.rmeta --extern iovec=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libiovec-9488f0c4ecef406f.rmeta --extern itoa=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libitoa-8725bf0aca6ddea8.rmeta --extern log=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/liblog-d62f4447e0f5f5e8.rmeta --extern net2=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libnet2-7395326081e50ee2.rmeta --extern time=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtime-55a8e10a7275e8d0.rmeta --extern tokio=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio-b88c2aa89f1f3b1f.rmeta --extern tokio_buf=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_buf-c9283f70b1950041.rmeta --extern tokio_executor=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_executor-f3a08484f1c80489.rmeta --extern tokio_io=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_io-bf9f3fcdaac006a6.rmeta --extern tokio_reactor=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_reactor-6a3187881d1f9722.rmeta --extern tokio_tcp=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_tcp-01d7818a802a6659.rmeta --extern tokio_threadpool=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_threadpool-d2238aac06c8cdbf.rmeta --extern tokio_timer=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libtokio_timer-99c5d1932e3695e1.rmeta --extern want=/home/xavier/Documents/darwinia-network/darwinia/target/release/deps/libwant-58664dc055e103a6.rmeta --cap-lints allow --cfg error_source --cfg try_from` (signal: 11, SIGSEGV: invalid memory reference)\r\n```\r\n\r\nEverytime it go forward a little then panic.", "closed_by": {"login": "AurevoirXavier", "id": 16152305, "node_id": "MDQ6VXNlcjE2MTUyMzA1", "avatar_url": "https://avatars.githubusercontent.com/u/16152305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AurevoirXavier", "html_url": "https://github.com/AurevoirXavier", "followers_url": "https://api.github.com/users/AurevoirXavier/followers", "following_url": "https://api.github.com/users/AurevoirXavier/following{/other_user}", "gists_url": "https://api.github.com/users/AurevoirXavier/gists{/gist_id}", "starred_url": "https://api.github.com/users/AurevoirXavier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AurevoirXavier/subscriptions", "organizations_url": "https://api.github.com/users/AurevoirXavier/orgs", "repos_url": "https://api.github.com/users/AurevoirXavier/repos", "events_url": "https://api.github.com/users/AurevoirXavier/events{/privacy}", "received_events_url": "https://api.github.com/users/AurevoirXavier/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/76532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/76532/timeline", "performed_via_github_app": null, "state_reason": "completed"}