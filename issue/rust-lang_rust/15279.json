{"url": "https://api.github.com/repos/rust-lang/rust/issues/15279", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/15279/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/15279/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/15279/events", "html_url": "https://github.com/rust-lang/rust/issues/15279", "id": 36823221, "node_id": "MDU6SXNzdWUzNjgyMzIyMQ==", "number": 15279, "title": "Error running `make check-fast` on Windows", "user": {"login": "schmee", "id": 3405586, "node_id": "MDQ6VXNlcjM0MDU1ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/3405586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schmee", "html_url": "https://github.com/schmee", "followers_url": "https://api.github.com/users/schmee/followers", "following_url": "https://api.github.com/users/schmee/following{/other_user}", "gists_url": "https://api.github.com/users/schmee/gists{/gist_id}", "starred_url": "https://api.github.com/users/schmee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schmee/subscriptions", "organizations_url": "https://api.github.com/users/schmee/orgs", "repos_url": "https://api.github.com/users/schmee/repos", "events_url": "https://api.github.com/users/schmee/events{/privacy}", "received_events_url": "https://api.github.com/users/schmee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}, {"id": 55301954, "node_id": "MDU6TGFiZWw1NTMwMTk1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-Arm", "name": "O-Arm", "color": "6e6ec0", "default": false, "description": "Target: 32-bit Arm processors (armv6, armv7, thumb...), including 64-bit Arm in AArch32 state"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-30T18:18:52Z", "updated_at": "2014-09-07T16:16:36Z", "closed_at": "2014-09-07T16:16:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After failing to build Rust on Windows with `make check`, as reported in #15250, I saw in the wiki that `make check-fast` is the recommended way to run the tests on Windows. So I gave it a shot, but still no dice! This time, it is the unit tests in `libglob\\lib.rs` that fails. \n\nThe error happens when building master on commit `04da31e64c983ff49234104b79133d4981ea3314`.\n\nError\n\n```\nrustc: i686-pc-mingw32/stage2/test/globtest-i686-pc-mingw32.exe\nrun: i686-pc-mingw32/stage2/test/globtest-i686-pc-mingw32.exe\n\nrunning 12 tests\ntest test::test_matches_path ... ok\ntest test::test_pattern_matches ... ok\ntest test::test_pattern_matches_require_literal_leading_dot ... ok\ntest test::test_pattern_matches_case_insensitive ... ok\ntest test::test_pattern_escape ... ok\ntest test::test_wildcard_optimizations ... ok\ntest test::test_lots_of_files ... FAILED\ntest test::test_pattern_matches_require_literal_separator ... ok\ntest test::test_range_pattern ... ok\ntest test::test_pattern_matches_case_insensitive_range ... ok\ntest test::test_unclosed_bracket ... ok\ntest test::test_absolute_pattern ... ok\n\nmetrics saved to: tmp\\check-stage2-T-i686-pc-mingw32-H-i686-pc-mingw32-glob-metrics.json\nfailures:\n\n---- test::test_lots_of_files stdout ----\n        task 'test::test_lots_of_files' failed at 'rust_list_dir_wfd_fp_buf returned invalid UTF-16', C:\\msys64\\home\\John\\programming\\forks\\rustmain\\rust\\src\\libcore\\option.rs:246\n\n\n\nfailures:\n    test::test_lots_of_files\n\ntest result: FAILED. 11 passed; 1 failed; 0 ignored; 0 measured\n\ntask '<main>' failed at 'Some tests failed', C:\\msys64\\home\\John\\programming\\forks\\rustmain\\rust\\src\\libtest\\lib.rs:243\n/home/John/programming/forks/rustmain/rust/mk/tests.mk:443: recipe for target 'tmp/check-stage2-T-i686-pc-mingw32-H-i686-pc-mingw32-glob.ok' failed\nmake: *** [tmp/check-stage2-T-i686-pc-mingw32-H-i686-pc-mingw32-glob.ok] Error 101\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/15279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/15279/timeline", "performed_via_github_app": null, "state_reason": "completed"}