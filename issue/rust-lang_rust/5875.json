{"url": "https://api.github.com/repos/rust-lang/rust/issues/5875", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/5875/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/5875/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/5875/events", "html_url": "https://github.com/rust-lang/rust/issues/5875", "id": 13168330, "node_id": "MDU6SXNzdWUxMzE2ODMzMA==", "number": 5875, "title": "ICE with generic extern functions", "user": {"login": "SiegeLord", "id": 480550, "node_id": "MDQ6VXNlcjQ4MDU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/480550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SiegeLord", "html_url": "https://github.com/SiegeLord", "followers_url": "https://api.github.com/users/SiegeLord/followers", "following_url": "https://api.github.com/users/SiegeLord/following{/other_user}", "gists_url": "https://api.github.com/users/SiegeLord/gists{/gist_id}", "starred_url": "https://api.github.com/users/SiegeLord/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SiegeLord/subscriptions", "organizations_url": "https://api.github.com/users/SiegeLord/orgs", "repos_url": "https://api.github.com/users/SiegeLord/repos", "events_url": "https://api.github.com/users/SiegeLord/events{/privacy}", "received_events_url": "https://api.github.com/users/SiegeLord/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-04-14T06:03:38Z", "updated_at": "2013-04-14T14:45:26Z", "closed_at": "2013-04-14T14:45:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am getting an ICE when trying to use a generic extern function (tested with the toolchain at a9247e07acc5829473239393b8a9cd367b710585):\n\nrust: task failed at 'assertion failed: !ty::type_has_params(t)', /home/siege/src/rust2/src/librustc/middle/trans/common.rs:1372\n\nSample code to trigger the error:\n\n``` rust\nextern\nfn RustCallback<T>()\n{\n    let t : T;\n}\n\nfn main()\n{\n}\n```\n\nStacktrace:\n\n```\n/usr/local/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x4b)[0x7f85875f9c8b]\n/usr/local/bin/../lib/librustrt.so(+0x2aa79)[0x7f858760aa79]\n/usr/local/bin/../lib/librustrt.so(upcall_fail+0x1a8)[0x7f85875fba78]\n/usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so(+0x10911b)[0x7f85891cf11b]\n/usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so(+0x1090c2)[0x7f85891cf0c2]\n/usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so(_ZN3sys12begin_unwind17_61fe198059b9e3fc6_07preE+0x71)[0x7f8589115601]\n/usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so(_ZN3sys11fail_assert17_10b61817f19c764b6_07preE+0x21d)[0x7f858911ec8d]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans6common17monomorphize_type17_17576497a9b53f186_07preE+0x1c9)[0x7f8587a62ca9]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans6common12node_id_type17_c6b9ecdeff5b38ec6_07preE+0x79)[0x7f8587a2b689]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans4base11alloc_local17_e51928963deee6fa6_07preE+0xb8)[0x7f85879a8778]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x16c5e1)[0x7f85879a85e1]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x2770d0)[0x7f8587ab30d0]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans11controlflow11trans_block17_a07ed9488587816c6_07preE+0x12e)[0x7f85879a75ee]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans4base13trans_closure16_e3ba18151419fb26_07preE+0x744)[0x7f8587ab9c24]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans4base8trans_fn15_f3bb06a593a3536_07preE+0x536)[0x7f858795d6e6]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans7foreign16trans_foreign_fn17_e229b3339a411ada6_07preE+0x2d4)[0x7f8587abf484]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans4base10trans_item17_e83b64764568c7be6_07preE+0x810)[0x7f8587954c80]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans4base9trans_mod17_d740d055c716f9476_07preE+0xa3)[0x7f8587ac03d3]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6middle5trans4base11trans_crate15_4f38ab124cab2e6_07preE+0x13c4)[0x7f8587ae03e4]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x8ddce4)[0x7f8588119ce4]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x89b8b0)[0x7f85880d78b0]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6driver6driver12compile_rest15_58068714615f2b6_07preE+0x336a)[0x7f85880d490a]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x8ddce4)[0x7f8588119ce4]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6driver6driver12compile_upto17_3ccd839185751c4f6_07preE+0x108)[0x7f85880d7ac8]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN6driver6driver13compile_input17_7bc345e59d22cba06_07preE+0xca)[0x7f85880d7f0a]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(_ZN12run_compiler16_aa88c3dc13843746_07preE+0x20a0)[0x7f858810a720]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x8db691)[0x7f8588117691]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x8d7bba)[0x7f8588113bba]\n/usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so(+0x8ddce4)[0x7f8588119ce4]\n/usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so(+0xd0fbf)[0x7f8589196fbf]\n/usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so(+0x152264)[0x7f8589218264]\n/usr/local/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7f85875fa4d4]\n```\n", "closed_by": {"login": "jdm", "id": 27658, "node_id": "MDQ6VXNlcjI3NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdm", "html_url": "https://github.com/jdm", "followers_url": "https://api.github.com/users/jdm/followers", "following_url": "https://api.github.com/users/jdm/following{/other_user}", "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdm/subscriptions", "organizations_url": "https://api.github.com/users/jdm/orgs", "repos_url": "https://api.github.com/users/jdm/repos", "events_url": "https://api.github.com/users/jdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jdm/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/5875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/5875/timeline", "performed_via_github_app": null, "state_reason": "completed"}