{"url": "https://api.github.com/repos/rust-lang/rust/issues/77200", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/77200/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/77200/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/77200/events", "html_url": "https://github.com/rust-lang/rust/issues/77200", "id": 709192823, "node_id": "MDU6SXNzdWU3MDkxOTI4MjM=", "number": 77200, "title": "Consider warning when intra-doc links fail on a cross-crate re-export", "user": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 178802147, "node_id": "MDU6TGFiZWwxNzg4MDIxNDc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-needs-decision", "name": "I-needs-decision", "color": "e11d21", "default": false, "description": "Issues in need of decision."}, {"id": 1118567289, "node_id": "MDU6TGFiZWwxMTE4NTY3Mjg5", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-intra-doc-links", "name": "A-intra-doc-links", "color": "f7e101", "default": false, "description": "Area: Intra-doc links, the ability to link to items in docs by name"}, {"id": 2311820664, "node_id": "MDU6TGFiZWwyMzExODIwNjY0", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-cross-crate-reexports", "name": "A-cross-crate-reexports", "color": "f7e101", "default": false, "description": "Area: Documentation that has been re-exported from a different crate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-09-25T18:25:32Z", "updated_at": "2021-10-11T03:21:20Z", "closed_at": "2021-10-11T03:21:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is the exact opposite of https://github.com/rust-lang/rust/issues/56922 \ud83d\ude06 \r\n\r\nThere have been a lot of silent failures popping up WRT cross-crate re-exports (https://github.com/rust-lang/rust/issues/77193, https://github.com/rust-lang/rust/pull/75855, https://github.com/rust-lang/rust/issues/76106), and they're hard to notice because the failure is completely swallowed, you have to manually inspect the generated docs.\r\n\r\nThe rationale in https://github.com/rust-lang/rust/issues/56922 was that\r\n\r\n> Since the downstream crate has no way to fix the resolution failure in the upstream crate, it shouldn't be reported, much like capping lints.\r\n\r\nThis is only true if the failure existed in the upstream crate. If it only appears on the re-export, it will fail completely silently for both the original crate and the current one. This is especially bad when you're adding additional docs on the re-export:\r\n\r\n```rust\r\n/// [broken_link]\r\npub use std::string::String;\r\n```\r\n\r\nIt could also appear for things outside of the control of the new crate, though: #75855\r\n\r\nI think it also makes sense to warn for rustdoc bugs, since otherwise the user never knows to report them and we can't fix them.\r\n\r\n@rust-lang/rustdoc what do you think?\r\n\r\ncc @euclio", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/77200/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/77200/timeline", "performed_via_github_app": null, "state_reason": "completed"}