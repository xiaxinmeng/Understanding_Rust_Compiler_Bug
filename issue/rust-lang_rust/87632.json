{"url": "https://api.github.com/repos/rust-lang/rust/issues/87632", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/87632/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/87632/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/87632/events", "html_url": "https://github.com/rust-lang/rust/issues/87632", "id": 956920877, "node_id": "MDU6SXNzdWU5NTY5MjA4Nzc=", "number": 87632, "title": "hidden type for `impl Trait` captures lifetime that does not appear in bounds", "user": {"login": "eloff", "id": 27574, "node_id": "MDQ6VXNlcjI3NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/27574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eloff", "html_url": "https://github.com/eloff", "followers_url": "https://api.github.com/users/eloff/followers", "following_url": "https://api.github.com/users/eloff/following{/other_user}", "gists_url": "https://api.github.com/users/eloff/gists{/gist_id}", "starred_url": "https://api.github.com/users/eloff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eloff/subscriptions", "organizations_url": "https://api.github.com/users/eloff/orgs", "repos_url": "https://api.github.com/users/eloff/repos", "events_url": "https://api.github.com/users/eloff/events{/privacy}", "received_events_url": "https://api.github.com/users/eloff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-30T16:57:06Z", "updated_at": "2021-07-31T06:31:57Z", "closed_at": "2021-07-30T17:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reproduction of issue:\r\nhttps://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=c4b48a9611f760226b37832138691e1d\r\n\r\nSee also the stackoverflow question I asked about it:\r\nhttps://stackoverflow.com/questions/68591843/hidden-type-for-impl-trait-captures-lifetime-that-does-not-appear-in-bounds\r\n\r\nThis appears to be a long-standing limitation of the rust compiler with a mechanical fix available: https://crates.io/crates/fix-hidden-lifetime-bug\r\n\r\nThe author of that crate appears to have given up on seeing a fix for this in the rust compiler itself: https://users.rust-lang.org/t/lifetimes-in-smol-executor/59157/8?u=yandros\r\n\r\nI'm opening this issue because I agree with him, it seems to be a compiler flaw, and it seems fixable. You can close this as won't fix, but it'd be nice at least to spell out the reasoning for that here for others who encounter this issue.", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/87632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/87632/timeline", "performed_via_github_app": null, "state_reason": "completed"}