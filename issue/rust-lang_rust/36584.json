{"url": "https://api.github.com/repos/rust-lang/rust/issues/36584", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/36584/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/36584/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/36584/events", "html_url": "https://github.com/rust-lang/rust/issues/36584", "id": 177840360, "node_id": "MDU6SXNzdWUxNzc4NDAzNjA=", "number": 36584, "title": "impl type parameter used only in projections can't be inferred", "user": {"login": "carllerche", "id": 6180, "node_id": "MDQ6VXNlcjYxODA=", "avatar_url": "https://avatars.githubusercontent.com/u/6180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carllerche", "html_url": "https://github.com/carllerche", "followers_url": "https://api.github.com/users/carllerche/followers", "following_url": "https://api.github.com/users/carllerche/following{/other_user}", "gists_url": "https://api.github.com/users/carllerche/gists{/gist_id}", "starred_url": "https://api.github.com/users/carllerche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carllerche/subscriptions", "organizations_url": "https://api.github.com/users/carllerche/orgs", "repos_url": "https://api.github.com/users/carllerche/repos", "events_url": "https://api.github.com/users/carllerche/events{/privacy}", "received_events_url": "https://api.github.com/users/carllerche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-19T17:03:13Z", "updated_at": "2017-05-14T19:52:26Z", "closed_at": "2017-05-14T19:52:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Given the following impl block:\n\n``` rust\nimpl<F, T, B, E> Future for Connecting<F, Client<T::In, T::Out, B, E>>\n    where F: Future<Item = T, Error = io::Error>,\n          T: Transport<Error = E> + Send + 'static,\n          T::In: Send + 'static,\n          T::Out: Send + 'static,\n          B: Stream<Item = T::BodyIn, Error = E> + Send + 'static,\n          E: From<Error<E>> + Send + 'static,\n{ ... }\n```\n\n[source](https://github.com/tokio-rs/tokio-proto/blob/maybe-rustc-bug/src/pipeline/client.rs#L37-L44)\n\n`T` is not able to be inferred. When using this code, rustc outputs an error message about having to annotate types, however even annotating the types doesn't solve the problem.\n\nI would expect one of two outcomes:\n\na) `T` is inferred from `F::Item`\nb) The impl block is rejected (it currently compiles and users of `Connecting` get the error message)\n\n[Here is some code](https://github.com/tokio-rs/tokio-proto/blob/maybe-rustc-bug/tests/test_pipeline_client.rs#L117-L120) attempting to use `Connecting`\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/36584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/36584/timeline", "performed_via_github_app": null, "state_reason": "completed"}