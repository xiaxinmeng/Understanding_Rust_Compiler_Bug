{"url": "https://api.github.com/repos/rust-lang/rust/issues/97048", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/97048/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/97048/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/97048/events", "html_url": "https://github.com/rust-lang/rust/issues/97048", "id": 1236110413, "node_id": "I_kwDOAAsO6M5JrYxN", "number": 97048, "title": "Better pattern argument naming in rustdoc", "user": {"login": "conradludgate", "id": 6625462, "node_id": "MDQ6VXNlcjY2MjU0NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/6625462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/conradludgate", "html_url": "https://github.com/conradludgate", "followers_url": "https://api.github.com/users/conradludgate/followers", "following_url": "https://api.github.com/users/conradludgate/following{/other_user}", "gists_url": "https://api.github.com/users/conradludgate/gists{/gist_id}", "starred_url": "https://api.github.com/users/conradludgate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/conradludgate/subscriptions", "organizations_url": "https://api.github.com/users/conradludgate/orgs", "repos_url": "https://api.github.com/users/conradludgate/repos", "events_url": "https://api.github.com/users/conradludgate/events{/privacy}", "received_events_url": "https://api.github.com/users/conradludgate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 28, "created_at": "2022-05-14T20:01:32Z", "updated_at": "2022-10-09T23:57:03Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I noticed with function pattern arguments that rustdoc makes some interesting choices regarding argument names.\r\n\r\nFor instance:\r\n\r\n```rust\r\nfn func(Foo(bar): Foo) {}\r\n```\r\n\r\ngets rustdoc'd into\r\n\r\n```rust\r\nfn func(__arg0: Foo) {}\r\n```\r\n\r\n(see \r\nhttps://docs.rs/atuin-server/0.9.1/atuin_server/handlers/history/fn.calendar.html for a real life version)\r\n\r\nIt's hard to say what rustdoc should do in the general case, but there are some simple cases that could be improved.\r\n\r\nFor the single capture pattern, the argument could inherit the name. Eg, in the example above, it could be rendered as `bar: Foo`.\r\n\r\nHowever, this single capture rule should maybe not apply if in a case like\r\n\r\n```rust\r\nfn func(Struct { bar, .. }: Struct) {}\r\n```\r\n\r\nSince `bar` might be a small subset of what the type is representing, and might be misleading (or implementation detail).\r\n\r\nIn the general case, the argument name could be a snake case version of the type name, if no conflicts. This is the best heuristic I can come up with for a sensible name", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/97048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/97048/timeline", "performed_via_github_app": null, "state_reason": null}