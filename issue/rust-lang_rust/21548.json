{"url": "https://api.github.com/repos/rust-lang/rust/issues/21548", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21548/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21548/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21548/events", "html_url": "https://github.com/rust-lang/rust/issues/21548", "id": 55261119, "node_id": "MDU6SXNzdWU1NTI2MTExOQ==", "number": 21548, "title": "Building rust on FreeBSD badly fails", "user": {"login": "KeenS", "id": 4434568, "node_id": "MDQ6VXNlcjQ0MzQ1Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/4434568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KeenS", "html_url": "https://github.com/KeenS", "followers_url": "https://api.github.com/users/KeenS/followers", "following_url": "https://api.github.com/users/KeenS/following{/other_user}", "gists_url": "https://api.github.com/users/KeenS/gists{/gist_id}", "starred_url": "https://api.github.com/users/KeenS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KeenS/subscriptions", "organizations_url": "https://api.github.com/users/KeenS/orgs", "repos_url": "https://api.github.com/users/KeenS/repos", "events_url": "https://api.github.com/users/KeenS/events{/privacy}", "received_events_url": "https://api.github.com/users/KeenS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37547, "node_id": "MDU6TGFiZWwzNzU0Nw==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-linkage", "name": "A-linkage", "color": "f7e101", "default": false, "description": "Area: linking into static, shared libraries and binaries"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-23T09:28:52Z", "updated_at": "2015-07-29T00:49:43Z", "closed_at": "2015-07-28T22:06:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "The entire log is [here](https://gist.github.com/KeenS/5e5487badce38cef56f5) (contains escape sequences).\n\nIn summary, many of unknown reference errors occur at the end of stage1.\n\n``````\n$ cd ~/compile/rust\n$ ./configure --enable-clang\n$ gmake -j4\n\n...\n\ncp: x86_64-unknown-freebsd/stage1/lib/librustc_driver\nerror: linking with `cc` failed: exit code: 1\nnote: cc '-L/usr/local/lib' '-L/usr/local/lib/gcc46' '-L/usr/local/lib/gcc44' '-m64' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-o' 'x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc' 'x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc.o' '-Wl,--whole-archive' '-lmorestack' '-Wl,--no-whole-archive' '-Wl,--gc-sections' '-nodefaultlibs' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_driver-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_typeck-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_resolve-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_borrowck-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_trans-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_privacy-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lgetopts-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_back-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lsyntax-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-larena-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lterm-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lfmt_macros-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lgraphviz-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lflate-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrbml-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lserialize-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-llog-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lregex-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lrustc_llvm-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-lstd-4e7c5e5c' '-L' '/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib' '-L' '/usr/home/kim/compile/rust/.rust/lib/x86_64-unknown-freebsd' '-L' '/usr/home/kim/compile/rust/lib/x86_64-unknown-freebsd' '-Wl,--whole-archive' '-Wl,-Bstatic' '-Wl,--no-whole-archive' '-Wl,-Bdynamic' '-lpthread' '-ledit' '-lm' '-lc++' '-lexecinfo' '-lpthread' '-lrt' '-lgcc_s' '-lpthread' '-lc' '-lm' '-lcompiler-rt'\nnote: /usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib/librustc_llvm-4e7c5e5c.so: error: undefined reference to 'llvm::RTDyldMemoryManager::getSymbolAddressInProcess(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)'\n/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib/librustc_llvm-4e7c5e5c.so: error: undefined reference to 'llvm::DICompositeType::setArraysHelper(llvm::MDNode*, llvm::MDNode*)'\n/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib/librustc_llvm-4e7c5e5c.so: error: undefined reference to 'llvm::getLazyBitcodeModule(std::__1::unique_ptr<llvm::MemoryBuffer, std::__1::default_delete<llvm::MemoryBuffer> >&&, llvm::LLVMContext&)'\n/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib/librustc_llvm-4e7c5e5c.so: error: undefined reference to 'llvm::DIBuilder::createVectorType(unsigned long, unsigned long, llvm::DIType, llvm::DITypedArray<llvm::DIDescriptor>)'\n\n...\n\n/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib/librustc_driver-4e7c5e5c.so: error: undefined reference to 'panicking::panic_fmt::hd84f562e6b95ad5akQv'\n/usr/home/kim/compile/rust/x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/lib/librustc_driver-4e7c5e5c.so: error: undefined reference to 'show_span::run::hfb1a53bf4d17ca6cn4V'\nx86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc.o:driver.0.rs:function main: error: undefined reference to 'rt::lang_start::hcc0aa22228ea218baTz'\ncc: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\n/home/kim/compile/rust/mk/target.mk:173: \u30bf\u30fc\u30b2\u30c3\u30c8 'x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc' \u306e\u30ec\u30b7\u30d4\u3067\u5931\u6557\u3057\u307e\u3057\u305f\ngmake: *** [x86_64-unknown-freebsd/stage0/lib/rustlib/x86_64-unknown-freebsd/bin/rustc] \u30a8\u30e9\u30fc 101\n\n$ git show\n\ncommit d8d5e4d2178097fbe92b26e57d0e18dc1eedbe5e\nMerge: 4874ca3 2b11a80\nAuthor: bors <bors@rust-lang.org>\nDate: Fri Jan 23 02:53:50 2015 +0000\n\nAuto merge of #20221 - liigo:rustdoc-sidebar-tooltips-v3, r=alexcrichton\n\nThis pull request add tooltips to most links of sidebar.\nThe tooltips display \"summary line\" of items' document.\n\nSome lengthy/annoying raw markdown code are eliminated, such as links and headers.\n- `[Rust](http://rust-lang.org)` displays as `Rust` (no URLs)\n- `# header` displays as `header` (no `#`s)\n\nSome inline spans, e.g. ``` `code` ``` and ```*emphasis*```, are kept as they are, for better readable.\n\nI've make sure `&` `'` `\"` `<` and `>` are properly displayed in tooltips, for example, `&'a Option<T>`.\n\nOnline preview: http://liigo.com/tmp/tooltips/std/index.html\n\n@alexcrichton @steveklabnik since you have reviewed my previous ([v1](https://github.com/rust-lang/rust/pull/13014),[v2](https://github.com/rust-lang/rust/pull/16448)) PRs of this serise, which have been closed for technical reasons. Thank you.\n\n\n$ /usr/bin/clang --version\nFreeBSD clang version 3.4.1 (tags/RELEASE_34/dot1-final 208032) 20140512\nTarget: x86_64-unknown-freebsd10.1\n$ /usr/bin/cc --version \nFreeBSD clang version 3.4.1 (tags/RELEASE_34/dot1-final 208032) 20140512\nTarget: x86_64-unknown-freebsd10.1\nThread model: posix\n$ /usr/bin/ld --verison \nGNU gold (GNU Binutils 2.25) 1.11\nCopyright (C) 2014 Free Software Foundation, Inc.\nThis program is free software; you may redistribute it under the terms of\nthe GNU General Public License version 3 or (at your option) a later version.\nThis program has absolutely no warranty.\n$ uname -a \nFreeBSD FreeBSD 10.1-RELEASE FreeBSD 10.1-RELEASE #0 r274401: Tue Nov 11 21:02:49 UTC 2014 root@releng1.nyi.freebsd.org:/usr/obj/usr/src/sys/GENERIC amd64\n``````\n\n.\n\nNeed more information?\n", "closed_by": {"login": "dhuseby", "id": 5017470, "node_id": "MDQ6VXNlcjUwMTc0NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5017470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhuseby", "html_url": "https://github.com/dhuseby", "followers_url": "https://api.github.com/users/dhuseby/followers", "following_url": "https://api.github.com/users/dhuseby/following{/other_user}", "gists_url": "https://api.github.com/users/dhuseby/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhuseby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhuseby/subscriptions", "organizations_url": "https://api.github.com/users/dhuseby/orgs", "repos_url": "https://api.github.com/users/dhuseby/repos", "events_url": "https://api.github.com/users/dhuseby/events{/privacy}", "received_events_url": "https://api.github.com/users/dhuseby/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21548/timeline", "performed_via_github_app": null, "state_reason": "completed"}