{"url": "https://api.github.com/repos/rust-lang/rust/issues/111316", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/111316/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/111316/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/111316/events", "html_url": "https://github.com/rust-lang/rust/issues/111316", "id": 1698974951, "node_id": "I_kwDOAAsO6M5lREzn", "number": 111316, "title": "Error output improvement: when using semicolon, it leads to more than one possibility where developer might be going wrong. ", "user": {"login": "porwal-ayush", "id": 87272409, "node_id": "MDQ6VXNlcjg3MjcyNDA5", "avatar_url": "https://avatars.githubusercontent.com/u/87272409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/porwal-ayush", "html_url": "https://github.com/porwal-ayush", "followers_url": "https://api.github.com/users/porwal-ayush/followers", "following_url": "https://api.github.com/users/porwal-ayush/following{/other_user}", "gists_url": "https://api.github.com/users/porwal-ayush/gists{/gist_id}", "starred_url": "https://api.github.com/users/porwal-ayush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/porwal-ayush/subscriptions", "organizations_url": "https://api.github.com/users/porwal-ayush/orgs", "repos_url": "https://api.github.com/users/porwal-ayush/repos", "events_url": "https://api.github.com/users/porwal-ayush/events{/privacy}", "received_events_url": "https://api.github.com/users/porwal-ayush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 132910982, "node_id": "MDU6TGFiZWwxMzI5MTA5ODI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-macros", "name": "A-macros", "color": "f7e101", "default": false, "description": "Area: All kinds of macros (custom derive, macro_rules!, proc macros, ..)"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-05-07T09:24:00Z", "updated_at": "2023-05-31T07:49:14Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### Code\n\n```Rust\nuse std::env;\r\n\r\nfn main() {\r\n    let args: Vec<String> = env::args().collect();\r\n    dbg!(args) // missing the semi colon here gives rise to two cases, either developer is missing the semi colon or he is actually passing a wrong return type\r\n}\n```\n\n\n### Current output\n\n```Shell\nCompiling rustgrep v0.1.0 (C:\\Users\\<user>\\Documents\\Personal Workspace\\rustgrep)\r\nerror[E0308]: mismatched types\r\n --> src\\main.rs:5:5\r\n  |\r\n3 | fn main() {\r\n  |           - expected `()` because of default return type\r\n4 |     let args: Vec<String> = env::args().collect();\r\n5 |     dbg!(args)\r\n  |     ^^^^^^^^^^ expected `()`, found struct `Vec`\r\n  |\r\n  = note: expected unit type `()`\r\n                found struct `Vec<String>`\r\n  = note: this error originates in the macro `dbg` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nFor more information about this error, try `rustc --explain E0308`.\n```\n\n\n### Desired output\n\n```Shell\nthe desired output would be to allow the user to know all the possible cases that he might want to do. The current behaviour isn't wrong and it does help in a way.\r\n\r\nStill, rust is a language where sometimes you put a semicolon and sometimes you don't, depending on the use case. I feel it would be more developer friendly if error messages were defined well in this case.\r\n\r\nFor example: (roughly saying what should be expected in output)\r\nHey developer, missing a semicolon had led to two possible things you might be doing wrong ->\r\nCase 1: you are returning the wrong type to the main function\r\nCase 2: you are returning the right thing but possibly you don't want the last statement as an expression. Please use a semicolon here on this line bla bla.\n```\n\n\n### Rationale and extra context\n\n_No response_\n\n### Other cases\n\n_No response_\n\n### Anything else?\n\n_No response_", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/111316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/111316/timeline", "performed_via_github_app": null, "state_reason": null}