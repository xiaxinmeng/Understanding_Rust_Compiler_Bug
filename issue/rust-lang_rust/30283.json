{"url": "https://api.github.com/repos/rust-lang/rust/issues/30283", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/30283/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30283/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/30283/events", "html_url": "https://github.com/rust-lang/rust/issues/30283", "id": 121237697, "node_id": "MDU6SXNzdWUxMjEyMzc2OTc=", "number": 30283, "title": "No (obvious way to find) documentation about how string literals are represented", "user": {"login": "hsivonen", "id": 478856, "node_id": "MDQ6VXNlcjQ3ODg1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsivonen", "html_url": "https://github.com/hsivonen", "followers_url": "https://api.github.com/users/hsivonen/followers", "following_url": "https://api.github.com/users/hsivonen/following{/other_user}", "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions", "organizations_url": "https://api.github.com/users/hsivonen/orgs", "repos_url": "https://api.github.com/users/hsivonen/repos", "events_url": "https://api.github.com/users/hsivonen/events{/privacy}", "received_events_url": "https://api.github.com/users/hsivonen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-12-09T13:24:57Z", "updated_at": "2015-12-14T13:23:22Z", "closed_at": "2015-12-09T13:30:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When looking at the obvious chapters of both the Rust Book and the Rustonomicon, I couldn't find answers to these questions about string literals. It would be nice for the docs to answer these questions.\n1. If there are two string literals with the same content, is their storage consolidated in the data segment of the shared library or executable so that the start pointers of both slices have the same value?\n   1.1. If yes, does such consolidation happen within the crate or also across crate boundaries?\n2. Is there a way to ask Rust to make the byte after the string content zero so that the start pointer of the slice could be returned via FFI to C as a C string (assuming the content of the string does not include U+0000)?\n3. If the content of one string literal is a substring of another, are both stored separately or is Rust smart enough to store only the longer string and make the other slice point to the right part of the longer string's content?\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/30283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/30283/timeline", "performed_via_github_app": null, "state_reason": "completed"}