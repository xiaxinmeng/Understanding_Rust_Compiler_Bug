{"url": "https://api.github.com/repos/rust-lang/rust/issues/65397", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/65397/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/65397/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/65397/events", "html_url": "https://github.com/rust-lang/rust/issues/65397", "id": 506438542, "node_id": "MDU6SXNzdWU1MDY0Mzg1NDI=", "number": 65397, "title": "PathBuf::push produces an unexpected path when it has a UNC base", "user": {"login": "flaviojs", "id": 1009600, "node_id": "MDQ6VXNlcjEwMDk2MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1009600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaviojs", "html_url": "https://github.com/flaviojs", "followers_url": "https://api.github.com/users/flaviojs/followers", "following_url": "https://api.github.com/users/flaviojs/following{/other_user}", "gists_url": "https://api.github.com/users/flaviojs/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaviojs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaviojs/subscriptions", "organizations_url": "https://api.github.com/users/flaviojs/orgs", "repos_url": "https://api.github.com/users/flaviojs/repos", "events_url": "https://api.github.com/users/flaviojs/events{/privacy}", "received_events_url": "https://api.github.com/users/flaviojs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 266005765, "node_id": "MDU6TGFiZWwyNjYwMDU3NjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows-msvc", "name": "O-windows-msvc", "color": "6e6ec0", "default": false, "description": "Toolchain: MSVC, Operating system: Windows"}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-14T04:12:34Z", "updated_at": "2019-10-15T02:05:35Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I have a canonicalized path in a `PathBuf`.\r\nI am pushing `Path::new(\"externalized/game.json\")` and expect a path that exists.\r\n\r\nWith the parent of `std::env::current_exe()`:\r\n```\r\nassets dir: \"C:\\\\dev\\\\ja2-stracciatella\\\\_bin\\\\Debug\"\r\npath: \"C:\\\\dev\\\\ja2-stracciatella\\\\_bin\\\\Debug\\\\externalized/game.json\"\r\nparent(): Some(\"C:\\\\dev\\\\ja2-stracciatella\\\\_bin\\\\Debug\\\\externalized\")\r\nfile_name(): Some(\"game.json\")\r\nfile_stem(): Some(\"game\")\r\nextension(): Some(\"json\")\r\nexists(): true\r\n```\r\n\r\nWith the canonicalized parent of `std::env::current_exe()`:\r\n```\r\nassets dir: \"\\\\\\\\?\\\\C:\\\\dev\\\\ja2-stracciatella\\\\_bin\\\\Debug\"\r\npath: \"\\\\\\\\?\\\\C:\\\\dev\\\\ja2-stracciatella\\\\_bin\\\\Debug\\\\externalized/game.json\"\r\nparent(): Some(\"\\\\\\\\?\\\\C:\\\\dev\\\\ja2-stracciatella\\\\_bin\\\\Debug\")\r\nfile_name(): Some(\"externalized/game.json\")\r\nfile_stem(): Some(\"externalized/game\")\r\nextension(): Some(\"json\")\r\nexists(): false\r\n```\r\n\r\nIf this is the expected behavior for UNC base paths, then there should be a method to turn UNC paths to regular paths (when possible), or a way to normalize path separators in `Path`.\r\n\r\nI'm using stable rust 1.36.0 and Visual Studio 2019 (through cmake).", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/65397/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/65397/timeline", "performed_via_github_app": null, "state_reason": null}