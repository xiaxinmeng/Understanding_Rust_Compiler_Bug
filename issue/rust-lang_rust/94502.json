{"url": "https://api.github.com/repos/rust-lang/rust/issues/94502", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/94502/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/94502/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/94502/events", "html_url": "https://github.com/rust-lang/rust/issues/94502", "id": 1155906608, "node_id": "I_kwDOAAsO6M5E5bww", "number": 94502, "title": "regression: ICE -- bad ConstKind after monomorphizing", "user": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252628, "node_id": "MDU6TGFiZWwyNjIyNTI2Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-beta", "name": "regression-from-stable-to-beta", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to beta."}], "state": "closed", "locked": false, "assignee": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/90", "html_url": "https://github.com/rust-lang/rust/milestone/90", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/90/labels", "id": 7553520, "node_id": "MI_kwDOAAsO6M4Ac0Hw", "number": 90, "title": "1.60.0", "description": null, "creator": {"login": "rustbot", "id": 47979223, "node_id": "MDQ6VXNlcjQ3OTc5MjIz", "avatar_url": "https://avatars.githubusercontent.com/u/47979223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rustbot", "html_url": "https://github.com/rustbot", "followers_url": "https://api.github.com/users/rustbot/followers", "following_url": "https://api.github.com/users/rustbot/following{/other_user}", "gists_url": "https://api.github.com/users/rustbot/gists{/gist_id}", "starred_url": "https://api.github.com/users/rustbot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rustbot/subscriptions", "organizations_url": "https://api.github.com/users/rustbot/orgs", "repos_url": "https://api.github.com/users/rustbot/repos", "events_url": "https://api.github.com/users/rustbot/events{/privacy}", "received_events_url": "https://api.github.com/users/rustbot/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 714, "state": "closed", "created_at": "2022-01-08T15:20:45Z", "updated_at": "2022-11-29T11:45:29Z", "due_on": null, "closed_at": "2022-04-12T17:21:03Z"}, "comments": 6, "created_at": "2022-03-01T22:52:15Z", "updated_at": "2022-04-06T19:20:58Z", "closed_at": "2022-04-01T15:50:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[Crater](https://github.com/rust-lang/rust/issues/94345) picked up this issue in a number of crates:\r\n\r\nMay be a duplicate of https://github.com/rust-lang/rust/issues/93002, but filing this as a dedicated bug with a rough list of affected crates in Crater.\r\n\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/mpancia.aoc2020/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/gytis-ivaskevicius.ion-shell/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/redox-os.ion/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/AestheticIntegration.batsmt/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/BenF-B.Titan/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/DataTriny.Fortuna/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/Furetur.jex_vm/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/Kilerd.leetcode-rust/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/SSebigo.iris-classification/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/SolarLiner.minigc.rs/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/TheArtistGuy.advent_of_code_2021/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/ajfrantz.advent2018/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/alexmailo.stack/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/andersmartini.workis/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/arnasjozonis.lz78/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/b4skyx.logchain/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/bantic.cryptopals/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/baoziv587.LoxLang/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/bitonic.puzzlescript-rs/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/byronwasti.advent-of-code-2019/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/cameron-williams.zkru/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/carribus.rust_commander/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/catunlock.numbers-rust/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/christian-blades-cb.aoc-2015/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/compenguy.rtf2text/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/curiousbirds.mint/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/davidsullins.AdventOfRust2018/log.txt \r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/dcheatha.graph-sketchpad/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/deaz.adventofcode-2018/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/garnish-lang.garnish-core/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/guilgaly.advent-of-code-2020/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/hsmtkk.super-duper-octo-potato/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/janglada.yahtzee_upper/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/jcrowgey.aoc_2018/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/jfrikker.minebot/log.txt\r\n* (and more, not listing all of them here; we will rerun crater to confirm all are fixed.)\r\n\r\nty::ConstKind::Error constructed but no error reported (we should check, may be a distinct bug; maybe https://github.com/rust-lang/rust/issues/94506):\r\n\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/MatsDK.CLI_File_Explorer/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/Qvist30.AocRust/log.txt\r\n* https://crater-reports.s3.amazonaws.com/beta-1.60-1/beta-2022-02-22/gh/Rickgg.me_myself/log.txt\r\n\r\n```\r\n[INFO] [stdout] error: internal compiler error: /rustc/0a4f984a87c7ba6c74ec3e78442fec955a419e32/compiler/rustc_codegen_ssa/src/mir/constant.rs:42:20: encountered bad ConstKind after monomorphizing: Error(DelaySpanBugEmitted(()))\r\n[INFO] [stdout]   --> parse/src/day02.rs:21:73\r\n[INFO] [stdout]    |\r\n[INFO] [stdout] 21 |     let char_count = count_dict.get(&password_rule.character).unwrap_or(&0);\r\n[INFO] [stdout]    |                                                                         ^^\r\n[INFO] [stdout] \r\n```", "closed_by": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/94502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/94502/timeline", "performed_via_github_app": null, "state_reason": "completed"}