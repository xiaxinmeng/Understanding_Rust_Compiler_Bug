{"url": "https://api.github.com/repos/rust-lang/rust/issues/34188", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/34188/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/34188/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/34188/events", "html_url": "https://github.com/rust-lang/rust/issues/34188", "id": 159524871, "node_id": "MDU6SXNzdWUxNTk1MjQ4NzE=", "number": 34188, "title": "asmjs test runner should detect Node binary name", "user": {"login": "tari", "id": 506181, "node_id": "MDQ6VXNlcjUwNjE4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/506181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tari", "html_url": "https://github.com/tari", "followers_url": "https://api.github.com/users/tari/followers", "following_url": "https://api.github.com/users/tari/following{/other_user}", "gists_url": "https://api.github.com/users/tari/gists{/gist_id}", "starred_url": "https://api.github.com/users/tari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tari/subscriptions", "organizations_url": "https://api.github.com/users/tari/orgs", "repos_url": "https://api.github.com/users/tari/repos", "events_url": "https://api.github.com/users/tari/events{/privacy}", "received_events_url": "https://api.github.com/users/tari/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-06-09T22:42:30Z", "updated_at": "2016-11-12T23:29:17Z", "closed_at": "2016-11-12T23:29:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The test runner for asm.js targets [currently always runs them via `nodejs`](https://github.com/rust-lang/rust/blob/5229e0efb34f924346febcfe158973486dabdf83/src/tools/compiletest/src/runtest.rs#L1406), but that name is not universal across distributions- in fact the official name for the Node binary is `node`. Debian (and presumably Debian derivatives) uses the former name due to a [name conflict with another tool](https://lists.debian.org/debian-devel-announce/2012/07/msg00002.html).\n\nIt would be good to support both via detection at runtime, probably preferring `nodejs` and trying `node` if that is not available. In the interest of performance, this should probably be tested only once per run, with a lazy static or similar. Reporting an error if neither is found would also be useful, rather than the current behavior of failing tests due to being unable to invoke the javascript engine.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/34188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/34188/timeline", "performed_via_github_app": null, "state_reason": "completed"}