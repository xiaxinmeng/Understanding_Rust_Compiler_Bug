{"url": "https://api.github.com/repos/rust-lang/rust/issues/58515", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/58515/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/58515/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/58515/events", "html_url": "https://github.com/rust-lang/rust/issues/58515", "id": 411096490, "node_id": "MDU6SXNzdWU0MTEwOTY0OTA=", "number": 58515, "title": "Compile warning while compiling libstd with Xargo (use of #[allow_internal_unstable])", "user": {"login": "johnthagen", "id": 10340167, "node_id": "MDQ6VXNlcjEwMzQwMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/10340167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnthagen", "html_url": "https://github.com/johnthagen", "followers_url": "https://api.github.com/users/johnthagen/followers", "following_url": "https://api.github.com/users/johnthagen/following{/other_user}", "gists_url": "https://api.github.com/users/johnthagen/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnthagen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnthagen/subscriptions", "organizations_url": "https://api.github.com/users/johnthagen/orgs", "repos_url": "https://api.github.com/users/johnthagen/repos", "events_url": "https://api.github.com/users/johnthagen/events{/privacy}", "received_events_url": "https://api.github.com/users/johnthagen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-16T18:00:21Z", "updated_at": "2019-02-16T18:35:00Z", "closed_at": "2019-02-16T18:35:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am seeing a build warning when building `libstd` in a simple \"Hello World\" using Xargo.\r\n\r\n```\r\n     Running `rustc --crate-name std /home/travis/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/lib.rs --color always --crate-type dylib --crate-type rlib --emit=dep-info,link -C prefer-dynamic -C opt-level=z -C panic=abort -C codegen-units=1 -C metadata=6a8dec85bcef7069 --out-dir /tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps --target x86_64-unknown-linux-gnu -L dependency=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps -L dependency=/tmp/xargo.5pshJ0HoG6fd/target/release/deps --extern alloc=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/liballoc-e8747074132386de.rlib --extern compiler_builtins=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/libcompiler_builtins-8346f6da3599dc11.rlib --extern core=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/libcore-54d405ee7be45efa.rlib --extern libc=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/liblibc-ba56a133f24710be.rlib --extern panic_abort=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/libpanic_abort-e431905f180ae625.rlib --extern rustc_demangle=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/librustc_demangle-cfd6040da80adc90.rlib --extern rustc_asan=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/librustc_asan-6890241a7ab63939.rlib --extern rustc_lsan=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/librustc_lsan-a6443c9ae07827d9.rlib --extern rustc_msan=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/librustc_msan-3ad28f250536833b.rlib --extern rustc_tsan=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/librustc_tsan-c59201cb2ed07266.rlib --extern unwind=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/deps/libunwind-420cd95ff7b95cd4.rlib --sysroot /home/travis/.xargo/HOST -Z force-unstable-if-unmarked -l dl -l rt -l pthread -L native=/tmp/xargo.5pshJ0HoG6fd/target/x86_64-unknown-linux-gnu/release/build/compiler_builtins-6b448c751373bea5/out`\r\nwarning: allow_internal_unstable expects list of feature names. In the future this will become a hard error. Please use `allow_internal_unstable(foo, bar)` to only allow the `foo` and `bar` features\r\n  --> /home/travis/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/../stdsimd/crates/std_detect/src/detect/arch/x86.rs:82:1\r\n   |\r\n82 | #[allow_internal_unstable]\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\nFull build job: https://travis-ci.org/johnthagen/min-sized-rust/jobs/494234235\r\n\r\nProject source: https://github.com/johnthagen/min-sized-rust/tree/master/xargo\r\n\r\nBuild command (using latest `nightly`):\r\n\r\nhttps://github.com/johnthagen/min-sized-rust/blob/master/.travis.yml#L32-L34\r\n\r\n```bash\r\n$ rustup component add rust-src;\r\n$ cargo install xargo --force;\r\n$ xargo build --target x86_64-unknown-linux-gnu --release --verbose\r\n```", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/58515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/58515/timeline", "performed_via_github_app": null, "state_reason": "completed"}