{"url": "https://api.github.com/repos/rust-lang/rust/issues/40228", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/40228/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/40228/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/40228/events", "html_url": "https://github.com/rust-lang/rust/issues/40228", "id": 211632330, "node_id": "MDU6SXNzdWUyMTE2MzIzMzA=", "number": 40228, "title": "Cargo-vendor fails to link to libgit2 when compiling rust from source ", "user": {"login": "vaartis", "id": 14316128, "node_id": "MDQ6VXNlcjE0MzE2MTI4", "avatar_url": "https://avatars.githubusercontent.com/u/14316128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaartis", "html_url": "https://github.com/vaartis", "followers_url": "https://api.github.com/users/vaartis/followers", "following_url": "https://api.github.com/users/vaartis/following{/other_user}", "gists_url": "https://api.github.com/users/vaartis/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaartis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaartis/subscriptions", "organizations_url": "https://api.github.com/users/vaartis/orgs", "repos_url": "https://api.github.com/users/vaartis/repos", "events_url": "https://api.github.com/users/vaartis/events{/privacy}", "received_events_url": "https://api.github.com/users/vaartis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-03T09:08:02Z", "updated_at": "2017-03-05T06:34:00Z", "closed_at": "2017-03-05T06:34:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nrunning: \"/tmp/portage/dev-lang/rust-9999/work/rust-git-src/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\" \"install\" \"--force\" \"--verbose\" \"--debug\" \"--ver\r\ns\" \"0.1.4\" \"cargo-vendor\"\r\nRunning `/tmp/portage/dev-lang/rust-9999/work/rust-git-src/build/x86_64-unknown-linux-gnu/stage0/bin/rustc --crate-name libgit2_sys /tmp/portage/dev-lang/rust-9999/homedir/.cargo/registry/src/github.com-1ecc6299db9ec823/libgit2-sys-0.6.6/lib.rs --crate-type lib -g --cfg feature=\\\"https\\\" --cfg feature=\\\"ssh\\\" --cfg feature=\\\"curl\\\" --cfg feature=\\\"curl-sys\\\" --cfg feature=\\\"openssl-sys\\\" --cfg feature=\\\"libssh2-sys\\\" -C metadata=55dc646ad12fdaeb -C extra-filename=-55dc646ad12fdaeb --out-dir /tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps --emit=dep-info,link -L dependency=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps --extern libssh2_sys=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps/liblibssh2_sys-1c8426da8efdab7a.rlib --extern curl_sys=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps/libcurl_sys-1838572cde66848e.rlib --extern openssl_sys=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps/libopenssl_sys-e89179dab904d606.rlib --extern libz_sys=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps/liblibz_sys-57beb9d53e752aa8.rlib --extern libc=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/deps/liblibc-83c2bd88b43ecde3.rlib --cap-lints allow -L native=/tmp/portage/dev-lang/rust-9999/temp/cargo-install.FLHiZdEvovMj/debug/build/libgit2-sys-294bff880f16dcf0/out/lib -l static=git2 -L native=/usr/lib64 -L native=/usr/lib64 -L native=/usr/lib64`\r\nerror: could not find native static library `git2`, perhaps an -L flag is missing?\r\n\r\nBuild failed, waiting for other jobs to finish...\r\n```\r\nAlso, it can't find libgit2 even if it's installed system-wide\r\nIt seems like it also can be reproduced with Arch PKGBUILD", "closed_by": {"login": "vaartis", "id": 14316128, "node_id": "MDQ6VXNlcjE0MzE2MTI4", "avatar_url": "https://avatars.githubusercontent.com/u/14316128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaartis", "html_url": "https://github.com/vaartis", "followers_url": "https://api.github.com/users/vaartis/followers", "following_url": "https://api.github.com/users/vaartis/following{/other_user}", "gists_url": "https://api.github.com/users/vaartis/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaartis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaartis/subscriptions", "organizations_url": "https://api.github.com/users/vaartis/orgs", "repos_url": "https://api.github.com/users/vaartis/repos", "events_url": "https://api.github.com/users/vaartis/events{/privacy}", "received_events_url": "https://api.github.com/users/vaartis/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/40228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/40228/timeline", "performed_via_github_app": null, "state_reason": "completed"}