{"url": "https://api.github.com/repos/rust-lang/rust/issues/23414", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/23414/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/23414/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/23414/events", "html_url": "https://github.com/rust-lang/rust/issues/23414", "id": 62143536, "node_id": "MDU6SXNzdWU2MjE0MzUzNg==", "number": 23414, "title": "armv7-apple-ios abort on panic on unwind (\"during phase1 personality function ...\")", "user": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 38105576, "node_id": "MDU6TGFiZWwzODEwNTU3Ng==", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-ios", "name": "O-ios", "color": "6e6ec0", "default": false, "description": "Operating system: iOS"}, {"id": 55301954, "node_id": "MDU6TGFiZWw1NTMwMTk1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-Arm", "name": "O-Arm", "color": "6e6ec0", "default": false, "description": "Target: 32-bit Arm processors (armv6, armv7, thumb...), including 64-bit Arm in AArch32 state"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-16T16:53:26Z", "updated_at": "2017-08-28T16:11:06Z", "closed_at": "2017-08-28T16:11:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Compile this:\n\n``` rust\nfn main() {\n    panic!(\"wtf\");\n}\n```\n\ninto a CLI executable with target `armv7-apple-ios`. When running it will crash with:\n\n```\nthread '<main>' panicked at 'wtf', src/main.rs:2\nAssertion failed: (during phase1 personality function said it would stop here, but now if phase2 it did not stop here), function unwind_phase2, file /SourceCache/libcxxabi_libunwind/libcxxabi-126.2/src/Unwind/Unwind-sjlj.c, line 165.\nAbort trap: 6\n```\n\nBacktrace in the crash log:\n\n```\n0   libsystem_kernel.dylib          0x35013dfc __pthread_kill + 8\n1   libsystem_pthread.dylib         0x35093d0e pthread_kill + 58\n2   libsystem_c.dylib               0x34fb3934 abort + 72\n3   libsystem_c.dylib               0x34f93428 __assert_rtn + 88\n4   libunwind.dylib                 0x350a4d66 unwind_phase2 + 150\n5   test-1                          0x0002a570 rust_panic + 232\n6   test-1                          0x000242c0 rt::unwind::begin_unwind_inner::h5393c17723be4e6cBZI + 2100\n7   test-1                          0x00023730 test-1::rt::unwind::begin_unwind<&str> (unwind.rs:524)\n8   test-1                          0x00023658 test-1::main (<std macros>:3)\n9   test-1                          0x0002bb8c rt::unwind::try::try_fn::h4910235212877501156 + 40\n10  test-1                          0x0002c2c0 rust_try_inner + 112\n11  test-1                          0x0002c1e0 rust_try + 116\n12  test-1                          0x0002b764 rt::lang_start::h981ef0882b2f0760LbJ + 800\n13  test-1                          0x0002368c main + 48\n14  libdyld.dylib                   0x34f4eaac start + 0\n```\n\nBecause this will crash the whole process, any failure in the test cases (which relies on panics) will make the whole test program to stop immediately.\n\n(I am using the nightly source from March 11th, cross-compiled using the iOS SDK 8.1. I may update to a newer nightly later to check. The device is a jailbroken iPad in order to run CLI programs but I don't think it is related to the jailbroken status.)\n", "closed_by": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/23414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/23414/timeline", "performed_via_github_app": null, "state_reason": "completed"}