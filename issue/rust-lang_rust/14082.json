{"url": "https://api.github.com/repos/rust-lang/rust/issues/14082", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14082/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14082/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14082/events", "html_url": "https://github.com/rust-lang/rust/issues/14082", "id": 33235571, "node_id": "MDU6SXNzdWUzMzIzNTU3MQ==", "number": 14082, "title": "pub use with names that conflict with standard prelude behave incorrectly", "user": {"login": "LeoTestard", "id": 907750, "node_id": "MDQ6VXNlcjkwNzc1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/907750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeoTestard", "html_url": "https://github.com/LeoTestard", "followers_url": "https://api.github.com/users/LeoTestard/followers", "following_url": "https://api.github.com/users/LeoTestard/following{/other_user}", "gists_url": "https://api.github.com/users/LeoTestard/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeoTestard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeoTestard/subscriptions", "organizations_url": "https://api.github.com/users/LeoTestard/orgs", "repos_url": "https://api.github.com/users/LeoTestard/repos", "events_url": "https://api.github.com/users/LeoTestard/events{/privacy}", "received_events_url": "https://api.github.com/users/LeoTestard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/20", "html_url": "https://github.com/rust-lang/rust/milestone/20", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/20/labels", "id": 452034, "node_id": "MDk6TWlsZXN0b25lNDUyMDM0", "number": 20, "title": "1.0", "description": "This will be the first major release of Rust, where we offer some guaranteed level of support and backwards compatibility.\r\n\r\nThe significant criteria for this release are:\r\n\r\n* Language backwards compatibility - All major features are in, and in their final form. Generally, the only new language features added after this milestone must be backwards compatible, or to fix soundness holes, though we do expect to have some leeway to make small incompatible fixes that have low impact on existing code bases.\r\n\r\n* Library stability - We have a system of measuring and ensuring the stability of API's, and a significant portion of the standard library is declared stable. Stable API's will not change. Large portions of the standard library need to be stable for 1.0, including primitive types, vectors, strings, option, numerics, collections, some I/O and concurrency.\r\n\r\n* User experience - The system is polished and the presentation is complete and professional. New users have a clear path to using and learning the system. This encompasses the web site, documentation, installation, and tooling.\r\n", "creator": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 376, "state": "closed", "created_at": "2013-10-10T18:48:33Z", "updated_at": "2016-08-28T23:13:24Z", "due_on": "2015-05-15T07:00:00Z", "closed_at": "2015-05-21T20:59:13Z"}, "comments": 5, "created_at": "2014-05-10T11:39:59Z", "updated_at": "2014-05-17T06:11:25Z", "closed_at": "2014-05-17T06:11:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Let's say I've got the following module architecture, where I define in a sub-module a struct named `GC` that I wand to use from another sub-module. Because `m` is private, I use a `pub use` to make it available\n\n``` rust\npub mod foo {\n    pub use self::m::GC;\n\n    mod m {\n        pub struct GC {\n            a: uint\n        }\n    }\n}\n\nmod bar {\n    use foo::GC;\n}\n\nfn main() {\n}\n```\n\nThe error message for this is absolutely weird :\n\n``` rust\nmain.rs:12:9: 12:16 error: unresolved import: there is no `GC` in `foo`\nmain.rs:12     use foo::GC;\n                   ^~~~~~~\nmain.rs:12:9: 12:16 error: failed to resolve import `foo::GC`\nmain.rs:12     use foo::GC;\n                   ^~~~~~~\nerror: aborting due to 2 previous errors\n```\n\nThis bugs happens whenever the item I try to re-export is named like an item in the Prelude, say, `GC`, `Vec`, etc. but as long as I change it to something completely arbitrary, say `Foo`, it works as expected.\n\nI don't know if it's intended that it's impossible to \"re-export\" with `pub use` names that are already in the prelude. I suspect it's not, but even if its, the error message is really not helpful, since it only points the place where the re-export is actually used, and not the `pub use` itself. But it should definitively be possible to override names in the prelude, I think. It's possible with \"normal\" `use` statements, so why not `pub use` ?\n\nAlso, I found this bug updating an old code base that was written something like 5-6 months ago (Rust was in 0.9 back then I believe), so I'm not absolutely sure but as this code hasn't changed except the changes I made to update it, I suspect that this worked before.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/14082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14082/timeline", "performed_via_github_app": null, "state_reason": "completed"}