{"url": "https://api.github.com/repos/rust-lang/rust/issues/46208", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/46208/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/46208/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/46208/events", "html_url": "https://github.com/rust-lang/rust/issues/46208", "id": 276427602, "node_id": "MDU6SXNzdWUyNzY0Mjc2MDI=", "number": 46208, "title": "Matching on a reference to an enum... issues arising for newbies", "user": {"login": "Bellarmine-Head", "id": 3470891, "node_id": "MDQ6VXNlcjM0NzA4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3470891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bellarmine-Head", "html_url": "https://github.com/Bellarmine-Head", "followers_url": "https://api.github.com/users/Bellarmine-Head/followers", "following_url": "https://api.github.com/users/Bellarmine-Head/following{/other_user}", "gists_url": "https://api.github.com/users/Bellarmine-Head/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bellarmine-Head/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bellarmine-Head/subscriptions", "organizations_url": "https://api.github.com/users/Bellarmine-Head/orgs", "repos_url": "https://api.github.com/users/Bellarmine-Head/repos", "events_url": "https://api.github.com/users/Bellarmine-Head/events{/privacy}", "received_events_url": "https://api.github.com/users/Bellarmine-Head/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-23T16:22:04Z", "updated_at": "2017-11-23T18:29:32Z", "closed_at": "2017-11-23T18:29:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "A few issues raised by this [SO question](https://stackoverflow.com/questions/36590549/matching-on-a-reference-to-an-enum), certainly for a newbie like me.\r\n\r\n1. As the OP says: \"It seems like every introductory document for Rust's enum types explains how to match on an enum object that you own.  But what if you do not own the enum object and you just have a reference to it that you want to match against?\"  Well, quite!  This had me scratching my head for while, and led me to this SO question.\r\n\r\n2. _Does_ the syntax have to be different?  Can the compiler help here?\r\n\r\n3. What I've found and noted on SO is that the [idiomatic answer](https://stackoverflow.com/a/36592628/98689) causes an error pertaining to a missing `ref` in one of the arms to be placed on the line containing the `match` keyword.  This isn't helpful as it doesn't identify the errant arm.  The unaccepted and presumably non-idiomatic [answer](https://stackoverflow.com/a/36590693/98689):-\r\n\r\n```\r\nmatch self {\r\n    &Animal::Cat(ref c) => f.write_str(\"c\"),\r\n    &Animal::Dog => f.write_str(\"d\"),\r\n}\r\n```\r\n\r\nis better because if the `ref` is omitted from the Cat arm, the compiler will put the error _on that arm_.\r\n", "closed_by": {"login": "Bellarmine-Head", "id": 3470891, "node_id": "MDQ6VXNlcjM0NzA4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3470891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bellarmine-Head", "html_url": "https://github.com/Bellarmine-Head", "followers_url": "https://api.github.com/users/Bellarmine-Head/followers", "following_url": "https://api.github.com/users/Bellarmine-Head/following{/other_user}", "gists_url": "https://api.github.com/users/Bellarmine-Head/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bellarmine-Head/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bellarmine-Head/subscriptions", "organizations_url": "https://api.github.com/users/Bellarmine-Head/orgs", "repos_url": "https://api.github.com/users/Bellarmine-Head/repos", "events_url": "https://api.github.com/users/Bellarmine-Head/events{/privacy}", "received_events_url": "https://api.github.com/users/Bellarmine-Head/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/46208/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/46208/timeline", "performed_via_github_app": null, "state_reason": "completed"}