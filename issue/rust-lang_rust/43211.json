{"url": "https://api.github.com/repos/rust-lang/rust/issues/43211", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/43211/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/43211/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/43211/events", "html_url": "https://github.com/rust-lang/rust/issues/43211", "id": 242648811, "node_id": "MDU6SXNzdWUyNDI2NDg4MTE=", "number": 43211, "title": "Firefox compile time regression", "user": {"login": "glandium", "id": 1038527, "node_id": "MDQ6VXNlcjEwMzg1Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1038527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glandium", "html_url": "https://github.com/glandium", "followers_url": "https://api.github.com/users/glandium/followers", "following_url": "https://api.github.com/users/glandium/following{/other_user}", "gists_url": "https://api.github.com/users/glandium/gists{/gist_id}", "starred_url": "https://api.github.com/users/glandium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glandium/subscriptions", "organizations_url": "https://api.github.com/users/glandium/orgs", "repos_url": "https://api.github.com/users/glandium/repos", "events_url": "https://api.github.com/users/glandium/events{/privacy}", "received_events_url": "https://api.github.com/users/glandium/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60344715, "node_id": "MDU6TGFiZWw2MDM0NDcxNQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-medium", "name": "P-medium", "color": "eb6420", "default": false, "description": "Medium priority"}, {"id": 64037154, "node_id": "MDU6TGFiZWw2NDAzNzE1NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-compiletime", "name": "I-compiletime", "color": "e11d21", "default": false, "description": "Problems and improvements with respect to compile times."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 262252840, "node_id": "MDU6TGFiZWwyNjIyNTI4NDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable", "name": "regression-from-stable-to-stable", "color": "e4008a", "default": false, "description": "Performance or correctness regression from one stable version to another."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 34, "created_at": "2017-07-13T10:00:30Z", "updated_at": "2018-04-15T09:34:49Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Preliminary note: this may or may not be related to #43141, but just in case, I file this separately instead of piling up there.\r\n\r\nI'm sorry I don't have much more fine-grained data at the moment, but -Ztime-passes, when multiple things are built in parallel (while building Firefox), is not entirely helpful, because it doesn't tell to which crate the interleaving numbers belong to.\r\n\r\nRust build times on Firefox are already bad with 1.18. Some of the most time consuming crates have build times that look like the following:\r\n- 74.992975322 webrender\r\n- 99.960699075 geckoservo\r\n- 259.393332042 gkrust\r\n- 259.639402886 gkrust_gtest\r\n- 363.456949809 style\r\n\r\nWith the latest nightly as of writing (1.20.0-nightly (f85579d4a 2017-07-12)), those times become:\r\n- 85.71714646 webrender\r\n- 124.097890719 geckoservo\r\n- 384.619852505 gkrust_gtest\r\n- 396.106775997 gkrust\r\n- 455.281318295 style\r\n\r\nI'm trying to narrow it down to older nightlies, but it started badly, because I got an ICE building the style crate on the last 1.18.0 nightly (2017-04-29)\r\n\r\nThose are times for --release with lto enabled (I have a separate bug to file about lto, but I don't think that's relevant to this regression).\r\n\r\nCC: @froydnj, @rillian", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/43211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/43211/timeline", "performed_via_github_app": null, "state_reason": null}