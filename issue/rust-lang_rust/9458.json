{"url": "https://api.github.com/repos/rust-lang/rust/issues/9458", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/9458/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/9458/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/9458/events", "html_url": "https://github.com/rust-lang/rust/issues/9458", "id": 19957153, "node_id": "MDU6SXNzdWUxOTk1NzE1Mw==", "number": 9458, "title": "libstd/os.rs shows Pipe{ input, out } and order of members needs to be switched to match the posix API", "user": {"login": "glycerine", "id": 445247, "node_id": "MDQ6VXNlcjQ0NTI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/445247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glycerine", "html_url": "https://github.com/glycerine", "followers_url": "https://api.github.com/users/glycerine/followers", "following_url": "https://api.github.com/users/glycerine/following{/other_user}", "gists_url": "https://api.github.com/users/glycerine/gists{/gist_id}", "starred_url": "https://api.github.com/users/glycerine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glycerine/subscriptions", "organizations_url": "https://api.github.com/users/glycerine/orgs", "repos_url": "https://api.github.com/users/glycerine/repos", "events_url": "https://api.github.com/users/glycerine/events{/privacy}", "received_events_url": "https://api.github.com/users/glycerine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-09-24T05:25:27Z", "updated_at": "2014-06-16T23:06:52Z", "closed_at": "2014-06-16T23:06:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "rustc 0.8-pre (570431f 2013-09-19 15:56:04 -0700)\n\nNote that libstd/os.rs has Pipe{ input and out } member order backwards, so to use them, we have to use them backwards, writing to the out fd, and reading from the input fd. Doesn't it seem more natural to write to the input, and read from the out?\n\nThe correct order dictated by the underlying C API is be {out, input}. \n\nI had the darndest time figuring out why my pipe code wouldn't work, then finally noticed this reversal of the labels in the implementation.\n\n```\npipe(2) - Linux man page\nName\npipe, pipe2 - create pipe\nSynopsis\n\n#include <unistd.h>\nint pipe(int pipefd[2]);\n#define _GNU_SOURCE             /* See feature_test_macros(7) */#include\n<fcntl.h>              /* Obtain O_* constant definitions */#include <unistd.h>\nint pipe2(int pipefd[2], int flags);\n\nDescription\npipe() creates a pipe, a unidirectional data channel that can be used for interprocess communication. The array pipefd is used to return two file descriptors referring to the ends of the pipe. pipefd[0] refers to the read end of the pipe. pipefd[1] refers to the write end of the pipe.\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/9458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/9458/timeline", "performed_via_github_app": null, "state_reason": "completed"}