{"url": "https://api.github.com/repos/rust-lang/rust/issues/48790", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48790/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48790/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48790/events", "html_url": "https://github.com/rust-lang/rust/issues/48790", "id": 302863346, "node_id": "MDU6SXNzdWUzMDI4NjMzNDY=", "number": 48790, "title": "make the epoch Enable All The Things", "user": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668019, "node_id": "MDU6TGFiZWwyMTE2NjgwMTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-lang", "name": "T-lang", "color": "bfd4f2", "default": false, "description": "Relevant to the language team, which will review and decide on the PR/issue."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650846969, "node_id": "MDU6TGFiZWw2NTA4NDY5Njk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-tracking-issue", "name": "C-tracking-issue", "color": "f5f1fd", "default": false, "description": "Category: A tracking issue for an RFC or an unstable feature."}, {"id": 858360099, "node_id": "MDU6TGFiZWw4NTgzNjAwOTk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/WG-epoch", "name": "WG-epoch", "color": "c2e0c6", "default": false, "description": "Working group: Epoch (2018) management"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-03-06T20:58:18Z", "updated_at": "2019-01-13T13:14:59Z", "closed_at": "2019-01-13T13:14:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "So @Manishearth added `-Zepoch=2018`. It's time to make it your One Stop Shop for turning on all the feature gates and things. This issue is tracking the feature gates and lints that should be enable by `-Zepoch=2018`.\r\n\r\nThis issue is meant to serve as a master issue for tracking the **full set** of feature gates and language changes as well. It somewhat duplicates https://github.com/rust-lang/rust/issues/46889 in that respect, but it's more targeted. \r\n\r\n### Key\r\n\r\n\ud83d\udea7 Still needs work\r\n\ud83c\udd98 The code is on nightly, but we need to link it to the `-Zepoch` flag. Help wanted!\r\n\ud83d\udc9b Good to go, waiting for us to pull the trigger\r\n\u2753 Something needs to be resolved.\r\n\u2705 Done\r\n\r\n### Feature gates\r\n- \ud83c\udd98 `match_default_bindings` (https://github.com/rust-lang/rust/issues/42640)\r\n- \ud83c\udd98 `nll` (#43234)\r\n- \ud83c\udd98 `underscore_lifetime` (https://github.com/rust-lang/rust/issues/48469)\r\n- \ud83c\udd98`in_band_lifetimes` (https://github.com/rust-lang/rust/issues/44524)\r\n- \ud83c\udd98 `universal_impl_trait` (https://github.com/rust-lang/rust/issues/34511))\r\n- \ud83c\udd98 `conservative_impl_trait` (https://github.com/rust-lang/rust/issues/34511)\r\n- \ud83c\udd98 `dyn_trait` (https://github.com/rust-lang/rust/issues/44662)\r\n- \ud83c\udd98 `copy_closures` (#44490)\r\n- \ud83c\udd98 `clone_closures` (#44490)\r\n- \ud83c\udd98 `termination_trait` (#43301)\r\n- \ud83d\udea7 module system feature gates not yet decided\r\n- \ud83d\udea7 tying feature gates to epochs: (https://github.com/rust-lang/rust/issues/48794)\r\n### Lints\r\n\r\nThese lints cover cases where the preferred syntax is changing. Per the epoch RFC, all such changes must have a lint that starts to warn in the old epoch. The preference is for this lint to move to deny-by-default in the new epoch, though in some cases we may choose to create a hard error (not configurable) instead.\r\n\r\n**We are not ready, I think, to start warning by default yet;** therefore, the warn-by-default on master for most lints is marked \ud83d\udc9b.\r\n\r\n- `tyvar_behind_raw_pointer` https://github.com/rust-lang/rust/issues/46906\r\n    - \ud83d\udc9b warn by default on master (not yet!)\r\n    - \u2753**hard error** in the new epoch, I believe\r\n        - this is to make way for the newer features\r\n- `bare_trait_object` \r\n    - \ud83d\udc9b warn by default on master (not yet!)\r\n    - \ud83c\udd98 deny by default in new epoch\r\n- `elided_lifetime_in_path`\r\n    - \ud83d\udea7 warn by default on master (blocked: https://github.com/rust-lang/rust/issues/48385)\r\n    - \ud83d\udea7 deny by default in new epoch\r\n- `single_use_lifetime` (https://github.com/rust-lang/rust/issues/44752)\r\n    - \ud83d\udea7 warn by default on master (blocked: not fully implemented, see issue above)\r\n    - \ud83d\udea7 deny by default in new epoch (blocked: still has bugs)\r\n- `dyn` keyword lint\r\n    - \ud83d\udea7 warn by default on master (blocked: not implemented)\r\n    - \ud83d\udea7 deny by default on master (blocked: not implemented)\r\n- `catch` keyword lint (https://github.com/rust-lang/rust/issues/48791)\r\n    - \ud83d\udea7 warn by default on master (blocked: not implemented)\r\n    - \ud83d\udea7 deny by default on master (blocked: not implemented)\r\n- `unusued_pub` ??", "closed_by": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48790/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48790/timeline", "performed_via_github_app": null, "state_reason": "completed"}