{"url": "https://api.github.com/repos/rust-lang/rust/issues/3645", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/3645/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/3645/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/3645/events", "html_url": "https://github.com/rust-lang/rust/issues/3645", "id": 7325584, "node_id": "MDU6SXNzdWU3MzI1NTg0", "number": 3645, "title": "ICE when compiling vector literal with non-constant length", "user": {"login": "Blei", "id": 52674, "node_id": "MDQ6VXNlcjUyNjc0", "avatar_url": "https://avatars.githubusercontent.com/u/52674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Blei", "html_url": "https://github.com/Blei", "followers_url": "https://api.github.com/users/Blei/followers", "following_url": "https://api.github.com/users/Blei/following{/other_user}", "gists_url": "https://api.github.com/users/Blei/gists{/gist_id}", "starred_url": "https://api.github.com/users/Blei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Blei/subscriptions", "organizations_url": "https://api.github.com/users/Blei/orgs", "repos_url": "https://api.github.com/users/Blei/repos", "events_url": "https://api.github.com/users/Blei/events{/privacy}", "received_events_url": "https://api.github.com/users/Blei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/9", "html_url": "https://github.com/rust-lang/rust/milestone/9", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/9/labels", "id": 194126, "node_id": "MDk6TWlsZXN0b25lMTk0MTI2", "number": 9, "title": "0.6", "description": "", "creator": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 203, "state": "closed", "created_at": "2012-10-11T18:15:24Z", "updated_at": "2015-01-21T01:43:22Z", "due_on": "2013-03-25T07:00:00Z", "closed_at": "2013-04-02T18:27:52Z"}, "comments": 3, "created_at": "2012-10-03T15:42:07Z", "updated_at": "2013-03-21T00:20:35Z", "closed_at": "2013-03-21T00:20:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Compiling the following program leads to an internal compiler error:\n\n``` rust\nfn main(++args: ~[~str]) {\n    let n = 1;\n    let a = ~[0, ..n];\n}\n```\n\nTrace:\n\n```\ntmp % RUST_LOG=rustc=0,::rt::backtrace rustc fail.rs \nrust: task failed at 'Unsupported constant expr', /home/philipp/programming/rust-git/src/rustc/middle/const_eval.rs:351\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x5d)[0x7fd46bbf456d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(+0x31e4d)[0x7fd46bc0be4d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(upcall_fail+0x1a8)[0x7fd46bbf6e68]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(_ZN6middle10const_eval15eval_const_expr15_052f2a2040b8d23_04E+0x2f2)[0x7fd46c014f22]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(_ZN6middle2ty17eval_repeat_count16_b613c7e2c7253203_04E+0x60)[0x7fd46c0815f0]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x3afdec)[0x7fd46c1ebdec]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x689ff0)[0x7fd46c4c5ff0]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x3acef9)[0x7fd46c1e8ef9]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x689ff0)[0x7fd46c4c5ff0]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x3cac0a)[0x7fd46c206c0a]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x3cb30e)[0x7fd46c20730e]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x325cbe)[0x7fd46c161cbe]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x689ff0)[0x7fd46c4c5ff0]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x3751f0)[0x7fd46c1b11f0]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x3738f3)[0x7fd46c1af8f3]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x37114a)[0x7fd46c1ad14a]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libsyntax-84efebcb12c867a2-0.4.so(+0xae74d)[0x7fd46c95074d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libsyntax-84efebcb12c867a2-0.4.so(+0xae5b4)[0x7fd46c9505b4]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(_ZN6middle6typeck11check_crate17_f0c9dce01f38a0a13_04E+0xcf6)[0x7fd46c290776]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(_ZN6driver6driver12compile_upto17_c9ea81e17d7f15573_04E+0x1646)[0x7fd46c49b206]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(+0x689ff0)[0x7fd46c4c5ff0]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustc-c84825241471686d-0.4.so(_ZN6driver6driver13compile_input16_f2f88af42d830dc3_04E+0xbd)[0x7fd46c49e50d]\nrustc[0x408d28]\nrustc[0x412084]\nrustc[0x40e503]\nrustc[0x40d1bc]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x76474)[0x7fd46d243474]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0xb7430)[0x7fd46d284430]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7fd46bbf4d14]\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug\nnote: try running with RUST_LOG=rustc=0,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues\nrust: task failed at 'explicit failure', /home/philipp/programming/rust-git/src/rustc/driver/rustc.rs:275\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x5d)[0x7fd46bbf456d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(+0x31e4d)[0x7fd46bc0be4d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(upcall_fail+0x1a8)[0x7fd46bbf6e68]\nrustc(_rust_main+0xbf4)[0x411c54]\nrustc[0x412084]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7fd46bbf4d14]\nrust: domain main @0x18fb230 root task failed\nrust: task failed at 'killed', /home/philipp/programming/rust-git/src/libcore/task.rs:662\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(_ZN9rust_task13begin_failureEPKcS1_m+0x5d)[0x7fd46bbf456d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(+0x31e4d)[0x7fd46bc0be4d]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(upcall_fail+0x1a8)[0x7fd46bbf6e68]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(_ZN4task5yield16_9531951b4f79f8b3_04E+0xbd)[0x7fd46d22c5fd]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x911d6)[0x7fd46d25e1d6]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(_ZN7private11weaken_task16_245c26cb8d7b1343_04E+0xd2)[0x7fd46d25e012]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x90f0b)[0x7fd46d25df0b]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0xb7430)[0x7fd46d284430]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x90260)[0x7fd46d25d260]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x8fbfe)[0x7fd46d25cbfe]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x8f266)[0x7fd46d25c266]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0x76474)[0x7fd46d243474]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/libcore-c3ca5d77d81b46c1-0.4.so(+0xb7430)[0x7fd46d284430]\n/home/philipp/programming/rust-git/x86_64-unknown-linux-gnu/stage2/bin/../lib/librustrt.so(_Z18task_start_wrapperP10spawn_args+0x24)[0x7fd46bbf4d14]\n```\n", "closed_by": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/3645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/3645/timeline", "performed_via_github_app": null, "state_reason": "completed"}