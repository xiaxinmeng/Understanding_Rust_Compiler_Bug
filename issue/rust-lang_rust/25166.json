{"url": "https://api.github.com/repos/rust-lang/rust/issues/25166", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25166/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25166/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25166/events", "html_url": "https://github.com/rust-lang/rust/issues/25166", "id": 73807589, "node_id": "MDU6SXNzdWU3MzgwNzU4OQ==", "number": 25166, "title": "Member function call breaks type inference", "user": {"login": "stepancheg", "id": 28969, "node_id": "MDQ6VXNlcjI4OTY5", "avatar_url": "https://avatars.githubusercontent.com/u/28969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stepancheg", "html_url": "https://github.com/stepancheg", "followers_url": "https://api.github.com/users/stepancheg/followers", "following_url": "https://api.github.com/users/stepancheg/following{/other_user}", "gists_url": "https://api.github.com/users/stepancheg/gists{/gist_id}", "starred_url": "https://api.github.com/users/stepancheg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stepancheg/subscriptions", "organizations_url": "https://api.github.com/users/stepancheg/orgs", "repos_url": "https://api.github.com/users/stepancheg/repos", "events_url": "https://api.github.com/users/stepancheg/events{/privacy}", "received_events_url": "https://api.github.com/users/stepancheg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-07T02:22:04Z", "updated_at": "2017-05-16T17:00:35Z", "closed_at": "2017-05-16T17:00:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Code:\n\n```\n#[derive(Default)]\nstruct Foo;\n\nimpl Foo {\n    fn set_quux(&mut self, v: u32) {\n    }\n}\n\nfn main() {\n    let mut v: Vec<Foo> = Vec::new();\n\n    // this works perfectly: type of msg1 is inferred\n    let mut msg1 = Default::default();\n    v.push(msg1);\n\n    // type of msg2 is explicitly specified\n    let mut msg2: Foo = Default::default();\n    msg2.set_quux(17);\n    v.push(msg2);\n\n    // type of msg3 could be inferred from parameter type of v.push(...)\n    // although compiler reports:\n    // error: the type of this value must be known in this context\n    let mut msg3 = Default::default();\n    msg3.set_quux(19); // <-- on this line\n    v.push(msg3);\n}\n```\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25166/timeline", "performed_via_github_app": null, "state_reason": "completed"}