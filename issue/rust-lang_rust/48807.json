{"url": "https://api.github.com/repos/rust-lang/rust/issues/48807", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/48807/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/48807/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/48807/events", "html_url": "https://github.com/rust-lang/rust/issues/48807", "id": 302938277, "node_id": "MDU6SXNzdWUzMDI5MzgyNzc=", "number": 48807, "title": "lexical-scope-with-macro.rs failed on Xcode 9.3", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123111, "node_id": "MDU6TGFiZWwxMjMxMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-macos", "name": "O-macos", "color": "6e6ec0", "default": false, "description": "Operating system: macOS"}, {"id": 203130, "node_id": "MDU6TGFiZWwyMDMxMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-debuginfo", "name": "A-debuginfo", "color": "f7e101", "default": false, "description": "Area: Debugging information in compiled programs (DWARF, PDB, etc.)"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-07T02:07:46Z", "updated_at": "2022-08-15T14:40:40Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://travis-ci.org/rust-lang/rust/jobs/350058114\r\n\r\n<details>\r\n\r\n```\r\n[02:04:32] failures:\r\n[02:04:32] \r\n[02:04:32] ---- [debuginfo-lldb] debuginfo/lexical-scope-with-macro.rs stdout ----\r\n[02:04:32] \tNOTE: compiletest thinks it is using LLDB version 902\r\n[02:04:32] \r\n[02:04:32] error: line not found in debugger output: [...]$2 = 890242\r\n[02:04:32] status: exit code: 0\r\n[02:04:32] command: \"/usr/bin/python\" \"/Users/travis/build/rust-lang/rust/src/etc/lldb_batchmode.py\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo/lexical-scope-with-macro.stage2-x86_64-apple-darwin\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo/lexical-scope-with-macro.debugger.script\"\r\n[02:04:32] stdout:\r\n[02:04:32] ------------------------------------------\r\n[02:04:32] LLDB batch-mode script\r\n[02:04:32] ----------------------\r\n[02:04:32] Debugger commands script is '/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo/lexical-scope-with-macro.debugger.script'.\r\n[02:04:32] Target executable is '/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo/lexical-scope-with-macro.stage2-x86_64-apple-darwin'.\r\n[02:04:32] Current working directory is '/Users/travis/build/rust-lang/rust'\r\n[02:04:32] Creating a target for '/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo/lexical-scope-with-macro.stage2-x86_64-apple-darwin'\r\n[02:04:32] settings set auto-confirm true\r\n[02:04:32] \r\n[02:04:32] version\r\n[02:04:32] lldb-902.0.73.1 Swift-4.1 \r\n[02:04:32] command script import /Users/travis/build/rust-lang/rust/./src/etc/lldb_rust_formatters.py\r\n[02:04:32] type summary add --no-value --python-function lldb_rust_formatters.print_val -x \".*\" --category Rust\r\n[02:04:32] type category enable Rust\r\n[02:04:32] \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 127\r\n[02:04:32] Breakpoint 1: no locations (pending). WARNING: Unable to resolve breakpoint to any actual locations. \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 136\r\n[02:04:32] Breakpoint 2: no locations (pending). WARNING: Unable to resolve breakpoint to any actual locations. \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 141\r\n[02:04:32] Breakpoint 3: no locations (pending). WARNING: Unable to resolve breakpoint to any actual locations. \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 157\r\n[02:04:32] Breakpoint 4: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 24 at lexical-scope-with-macro.rs:157, address = 0x0000000100000be8 \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 162\r\n[02:04:32] Breakpoint 5: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 51 at lexical-scope-with-macro.rs:162, address = 0x0000000100000c03 \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 167\r\n[02:04:32] Breakpoint 6: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 99 at lexical-scope-with-macro.rs:167, address = 0x0000000100000c33 \r\n[02:04:32] breakpoint set --file 'lexical-scope-with-macro.rs' --line 172\r\n[02:04:32] Breakpoint 7: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 122 at lexical-scope-with-macro.rs:172, address = 0x0000000100000c4a \r\n[02:04:32] run\r\n[02:04:32] Hit breakpoint 4.1: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 24 at lexical-scope-with-macro.rs:157, address = 0x0000000100000be8, resolved, hit count = 1 \r\n[02:04:32] Process 57845 stopped * thread #1, queue = 'com.apple.main-thread', stop reason = breakpoint 4.1 frame #0: 0x0000000100000be8 lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 at lexical-scope-with-macro.rs:157 154 let a = trivial!(10); 155 let b = no_new_scope!(33); 156 -> 157 zzz(); // #break 158 sentinel(); 159 160 new_scope!(); Target 0: (lexical-scope-with-macro.stage2-x86_64-apple-darwin) stopped. Process 57845 launched: '/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo/lexical-scope-with-macro.stage2-x86_64-apple-darwin' (x86_64) \r\n[02:04:32] print a\r\n[02:04:32] (int) $0 = 10 \r\n[02:04:32] print b\r\n[02:04:32] (int) $1 = 34 \r\n[02:04:32] continue\r\n[02:04:32] Hit breakpoint 5.1: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 51 at lexical-scope-with-macro.rs:162, address = 0x0000000100000c03, resolved, hit count = 1 \r\n[02:04:32] print a\r\n[02:04:32] (int) $2 = 10 \r\n[02:04:32] print b\r\n[02:04:32] (int) $3 = 34 \r\n[02:04:32] continue\r\n[02:04:32] Hit breakpoint 6.1: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 99 at lexical-scope-with-macro.rs:167, address = 0x0000000100000c33, resolved, hit count = 1 \r\n[02:04:32] print a\r\n[02:04:32] (int) $4 = 10 \r\n[02:04:32] print b\r\n[02:04:32] (int) $5 = 34 \r\n[02:04:32] continue\r\n[02:04:32] Hit breakpoint 7.1: where = lexical-scope-with-macro.stage2-x86_64-apple-darwin`lexical_scope_with_macro::main::h22e96ead882753b7 + 122 at lexical-scope-with-macro.rs:172, address = 0x0000000100000c4a, resolved, hit count = 1 \r\n[02:04:32] print a\r\n[02:04:32] (int) $6 = 10 \r\n[02:04:32] print b\r\n[02:04:32] (int) $7 = 34 \r\n[02:04:32] continue\r\n[02:04:32] print a\r\n[02:04:32] error: use of undeclared identifier 'a'\r\n[02:04:32] \r\n[02:04:32] print b\r\n[02:04:32] error: use of undeclared identifier 'b'\r\n[02:04:32] \r\n[02:04:32] continue\r\n[02:04:32] error: Process must be launched.\r\n[02:04:32] \r\n[02:04:32] print a\r\n[02:04:32] error: use of undeclared identifier 'a'\r\n[02:04:32] \r\n[02:04:32] print b\r\n[02:04:32] error: use of undeclared identifier 'b'\r\n[02:04:32] \r\n[02:04:32] continue\r\n[02:04:32] error: Process must be launched.\r\n[02:04:32] \r\n[02:04:32] print a\r\n[02:04:32] error: use of undeclared identifier 'a'\r\n[02:04:32] \r\n[02:04:32] print b\r\n[02:04:32] error: use of undeclared identifier 'b'\r\n[02:04:32] \r\n[02:04:32] print c\r\n[02:04:32] error: use of undeclared identifier 'c'\r\n[02:04:32] \r\n[02:04:32] continue\r\n[02:04:32] error: Process must be launched.\r\n[02:04:32] \r\n[02:04:32] quit\r\n[02:04:32] None\r\n[02:04:32] \r\n[02:04:32] ------------------------------------------\r\n[02:04:32] stderr:\r\n[02:04:32] ------------------------------------------\r\n[02:04:32] \r\n[02:04:32] ------------------------------------------\r\n[02:04:32] \r\n[02:04:32] thread '[debuginfo-lldb] debuginfo/lexical-scope-with-macro.rs' panicked at 'explicit panic', tools/compiletest/src/runtest.rs:2893:9\r\n[02:04:32] note: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n[02:04:32] \r\n[02:04:32] \r\n[02:04:32] failures:\r\n[02:04:32]     [debuginfo-lldb] debuginfo/lexical-scope-with-macro.rs\r\n[02:04:32] \r\n[02:04:32] test result: \u001b[31mFAILED\u001b(B\u001b[m. 90 passed; 1 failed; 18 ignored; 0 measured; 0 filtered out\r\n[02:04:32] \r\n[02:04:32] thread 'main' panicked at 'Some tests failed', tools/compiletest/src/main.rs:476:22\r\n[02:04:32] \r\n[02:04:32] \r\n[02:04:32] command did not execute successfully: \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/stage0-tools-bin/compiletest\" \"--compile-lib-path\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/stage2/lib\" \"--run-lib-path\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/stage2/lib/rustlib/x86_64-apple-darwin/lib\" \"--rustc-path\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/stage2/bin/rustc\" \"--src-base\" \"/Users/travis/build/rust-lang/rust/src/test/debuginfo\" \"--build-base\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/test/debuginfo\" \"--stage-id\" \"stage2-x86_64-apple-darwin\" \"--mode\" \"debuginfo-lldb\" \"--target\" \"x86_64-apple-darwin\" \"--host\" \"x86_64-apple-darwin\" \"--llvm-filecheck\" \"/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/llvm/build/bin/FileCheck\" \"--nodejs\" \"/Users/travis/.nvm/versions/node/v6.12.3/bin/node\" \"--host-rustcflags\" \"-Crpath -O -Zmiri -Zunstable-options \" \"--target-rustcflags\" \"-Crpath -O -Zmiri -Zunstable-options  -Lnative=/Users/travis/build/rust-lang/rust/build/x86_64-apple-darwin/native/rust-test-helpers\" \"--docck-python\" \"/usr/local/opt/python/bin/python2.7\" \"--lldb-python\" \"/usr/bin/python\" \"--lldb-version\" \"lldb-902.0.73.1\" \"--lldb-python-dir\" \"/Applications/Xcode.app/Contents/SharedFrameworks/LLDB.framework/Resources/Python\" \"--quiet\" \"--llvm-version\" \"6.0.0\\n\" \"--cc\" \"\" \"--cxx\" \"\" \"--cflags\" \"\" \"--llvm-components\" \"\" \"--llvm-cxxflags\" \"\" \"--adb-path\" \"adb\" \"--adb-test-dir\" \"/data/tmp/work\" \"--android-cross-path\" \"\" \"--color\" \"always\"\r\n[02:04:32] expected success, got: exit code: 101\r\n[02:04:32] \r\n[02:04:32] \r\n[02:04:32] failed to run: /Users/travis/build/rust-lang/rust/build/bootstrap/debug/bootstrap test\r\n[02:04:32] Build completed unsuccessfully in 0:22:54\r\n[02:04:32] make: *** [check] Error 1\r\n[02:04:32] make: INTERNAL: Exiting with 2 jobserver tokens available; should be 3!\r\n```\r\n\r\n</details>\r\n\r\ncc @michaelwoerister, @tromey ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/48807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/48807/timeline", "performed_via_github_app": null, "state_reason": null}