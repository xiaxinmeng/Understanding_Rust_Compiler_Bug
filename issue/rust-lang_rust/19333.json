{"url": "https://api.github.com/repos/rust-lang/rust/issues/19333", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19333/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19333/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19333/events", "html_url": "https://github.com/rust-lang/rust/issues/19333", "id": 50116908, "node_id": "MDU6SXNzdWU1MDExNjkwOA==", "number": 19333, "title": "\"error -1 when closing file descriptor\" for TcpListener on win64", "user": {"login": "nstoddard", "id": 5508622, "node_id": "MDQ6VXNlcjU1MDg2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5508622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nstoddard", "html_url": "https://github.com/nstoddard", "followers_url": "https://api.github.com/users/nstoddard/followers", "following_url": "https://api.github.com/users/nstoddard/following{/other_user}", "gists_url": "https://api.github.com/users/nstoddard/gists{/gist_id}", "starred_url": "https://api.github.com/users/nstoddard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nstoddard/subscriptions", "organizations_url": "https://api.github.com/users/nstoddard/orgs", "repos_url": "https://api.github.com/users/nstoddard/repos", "events_url": "https://api.github.com/users/nstoddard/events{/privacy}", "received_events_url": "https://api.github.com/users/nstoddard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-11-26T04:23:26Z", "updated_at": "2014-12-05T17:13:03Z", "closed_at": "2014-12-05T17:13:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Windows 7, 64-bit, the following code prints \"error -1 when closing file descriptor <some small integer>\" when run:\n\n```\nuse std::io::net::tcp::TcpListener;\n\nfn main() {\n  let _ = TcpListener::bind((\"0.0.0.0\", 0));\n}\n```\n\nI'm assuming the small integer is the file descriptor number. I'm not sure if the values actually mean much, but I'm seeing the values 188 (for this  program) and 208 (for the program I first saw the error in).\n\nThis error occurs with version \"rustc 0.13.0-nightly (395901393 2014-11-24 00:46:30 +0000)\". It didn't occur with version \"rustc 0.13.0-nightly (0a5e7f359 2014-11-03 23:16:55 +0000)\".\n\nI haven't tested on any other OSes; just Windows 7 64-bit.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/19333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19333/timeline", "performed_via_github_app": null, "state_reason": "completed"}