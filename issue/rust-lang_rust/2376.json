{"url": "https://api.github.com/repos/rust-lang/rust/issues/2376", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/2376/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/2376/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/2376/events", "html_url": "https://github.com/rust-lang/rust/issues/2376", "id": 4540773, "node_id": "MDU6SXNzdWU0NTQwNzcz", "number": 2376, "title": "RFC: static methods in classes", "user": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37544, "node_id": "MDU6TGFiZWwzNzU0NA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-typesystem", "name": "A-typesystem", "color": "f7e101", "default": false, "description": "Area: The type system"}, {"id": 234956, "node_id": "MDU6TGFiZWwyMzQ5NTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-codegen", "name": "A-codegen", "color": "f7e101", "default": false, "description": "Area: Code generation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rust-lang/rust/milestones/7", "html_url": "https://github.com/rust-lang/rust/milestone/7", "labels_url": "https://api.github.com/repos/rust-lang/rust/milestones/7/labels", "id": 85273, "node_id": "MDk6TWlsZXN0b25lODUyNzM=", "number": 7, "title": "0.4", "description": "", "creator": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2012-02-16T22:09:25Z", "updated_at": "2013-03-20T22:05:40Z", "due_on": "2012-09-14T07:00:00Z", "closed_at": "2012-10-06T05:46:41Z"}, "comments": 12, "created_at": "2012-05-11T20:36:20Z", "updated_at": "2014-06-16T21:56:36Z", "closed_at": "2012-07-13T19:43:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When discussing #2290 with @nikomatsakis and @pcwalton , we agreed that static methods might potentially be useful in classes. One of the motivating cases is to simplify how constructors get treated. We could even eliminate class constructors altogether, and write something like:\n\n```\nclass cat {\n\n  let name: str;\n  let meow_count: uint;\n\n  /* Requires a self parameter */\n  fn meow() { ... }\n\n  /* Doesn't require a self parameter */\n  static fn cat(name: str) -> cat {\n     cat{ name: name, meow_count: 0u } \n  }\n\n}\n```\n\nIn this case, there's no constructor, but rather, a static method called `cat` that returns a new instance of the class `cat`. I'm also assuming that a version of record initialization syntax could be used for classes, which doesn't work right now, but could be made to work. Since classes are nominal, we would need to prefix the record literal with the class name; this would decouple whatever other computation a constructor needs to do from the act of actually allocating a new record and filling in the class fields.\n\nSo I'm proposing to:\n- add a `static` modifier on function items, only valid within a `class` declaration, whose semantics are that a function declared as `static fn f...` requires no `self` argument and cannot refer to `self` in its body -- however, `f` _can_ refer to class-private fields in its enclosing class.\n- add syntax to call static methods in a class `C` with the `C::` prefix: as in, `cat::cat()` above (This is up for discussion -- I don't care how the exact syntax looks)\n- allow a nominal version of record initialization syntax to be used to create class literals\n\nNotice that this removes the need for `@class` (as in the original spec, #1726) because you can now write a static method that takes an _explicit_ self parameter.\n", "closed_by": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/2376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/2376/timeline", "performed_via_github_app": null, "state_reason": "completed"}