{"url": "https://api.github.com/repos/rust-lang/rust/issues/86981", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/86981/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/86981/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/86981/events", "html_url": "https://github.com/rust-lang/rust/issues/86981", "id": 940018498, "node_id": "MDU6SXNzdWU5NDAwMTg0OTg=", "number": 86981, "title": "Build 1.53 fails", "user": {"login": "voncloft", "id": 12788394, "node_id": "MDQ6VXNlcjEyNzg4Mzk0", "avatar_url": "https://avatars.githubusercontent.com/u/12788394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/voncloft", "html_url": "https://github.com/voncloft", "followers_url": "https://api.github.com/users/voncloft/followers", "following_url": "https://api.github.com/users/voncloft/following{/other_user}", "gists_url": "https://api.github.com/users/voncloft/gists{/gist_id}", "starred_url": "https://api.github.com/users/voncloft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/voncloft/subscriptions", "organizations_url": "https://api.github.com/users/voncloft/orgs", "repos_url": "https://api.github.com/users/voncloft/repos", "events_url": "https://api.github.com/users/voncloft/events{/privacy}", "received_events_url": "https://api.github.com/users/voncloft/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-08T16:13:45Z", "updated_at": "2021-07-08T16:19:52Z", "closed_at": "2021-07-08T16:19:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tried to compile 1.53 using:\r\n\r\nhttps://www.linuxfromscratch.org/blfs/view/svn/general/rust.html\r\n\r\nand the README.md on this site\r\n\r\nGot the following error:\r\n\r\n`   Compiling cargo-miri v0.1.0 (/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/tools/miri/cargo-miri)\r\nerror: failed to run custom build command for `cargo-miri v0.1.0 (/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/tools/miri/cargo-miri)`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/build/x86_64-unknown-linux-gnu/stage2-tools/release/build/cargo-miri-f53b4c1caa863776/build-script-build` (exit code: 101)\r\n  --- stdout\r\n  cargo:rerun-if-changed=build.rs\r\n\r\n  --- stderr\r\n  thread 'main' panicked at 'Unable to generate vergen keys!: could not find repository from '/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/tools/miri/cargo-miri'; class=Repository (6); code=NotFound (-3)\r\n\r\n  Stack backtrace:\r\n     0: anyhow::error::<impl core::convert::From<E> for anyhow::Error>::from\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/vendor/anyhow-1.0.34/src/error.rs:464:25\r\n     1: vergen::feature::git::configure_git\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/vendor/vergen/src/feature/git.rs:175:55\r\n     2: vergen::config::Instructions::config\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/vendor/vergen/src/config.rs:139:9\r\n     3: vergen::gen::config_from_instructions\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/vendor/vergen/src/gen.rs:81:32\r\n     4: vergen::gen::vergen\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/vendor/vergen/src/gen.rs:69:5\r\n     5: build_script_build::main\r\n               at ./build.rs:10:5\r\n     6: core::ops::function::FnOnce::call_once\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/core/src/ops/function.rs:227:5\r\n     7: std::sys_common::backtrace::__rust_begin_short_backtrace\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/sys_common/backtrace.rs:125:18\r\n     8: std::rt::lang_start::{{closure}}\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/rt.rs:49:18\r\n     9: core::ops::function::impls::<impl core::ops::function::FnOnce<A> for &F>::call_once\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/core/src/ops/function.rs:259:13\r\n        std::panicking::try::do_call\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/panicking.rs:379:40\r\n        std::panicking::try\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/panicking.rs:343:19\r\n        std::panic::catch_unwind\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/panic.rs:431:14\r\n        std::rt::lang_start_internal\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/rt.rs:34:21\r\n    10: std::rt::lang_start\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/rt.rs:48:5\r\n    11: main\r\n    12: __libc_start_main\r\n    13: _start\r\n               at /sources/glibc-2.29/csu/../sysdeps/x86_64/start.S:120', src/tools/miri/cargo-miri/build.rs:10:24\r\n  stack backtrace:\r\n     0: rust_begin_unwind\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/std/src/panicking.rs:493:5\r\n     1: core::panicking::panic_fmt\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/core/src/panicking.rs:92:14\r\n     2: core::result::unwrap_failed\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/core/src/result.rs:1355:5\r\n     3: core::result::Result<T,E>::expect\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/core/src/result.rs:997:23\r\n     4: build_script_build::main\r\n               at ./build.rs:10:5\r\n     5: core::ops::function::FnOnce::call_once\r\n               at /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/library/core/src/ops/function.rs:227:5\r\n  note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\ncommand did not execute successfully: \"/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\" \"build\" \"--target\" \"x86_64-unknown-linux-gnu\" \"-Zbinary-dep-depinfo\" \"-j\" \"8\" \"--release\" \"--locked\" \"--frozen\" \"--manifest-path\" \"/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/tools/miri/cargo-miri/Cargo.toml\" \"--message-format\" \"json-render-diagnostics\"\r\nexpected success, got: exit code: 101\r\n      < ToolBuild { compiler: Compiler { stage: 2, host: TargetSelection { triple: \"x86_64-unknown-linux-gnu\", file: None } }, target: TargetSelection { triple: \"x86_64-unknown-linux-gnu\", file: None }, tool: \"cargo-miri\", path: \"src/tools/miri/cargo-miri\", mode: ToolRustc, is_optional_tool: true, source_type: Submodule, extra_features: [] }\r\n    < CargoMiri { compiler: Compiler { stage: 2, host: TargetSelection { triple: \"x86_64-unknown-linux-gnu\", file: None } }, target: TargetSelection { triple: \"x86_64-unknown-linux-gnu\", file: None }, extra_features: [] }\r\nthread 'main' panicked at 'Unable to build cargo miri', src/bootstrap/dist.rs:44:9\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /rustc/88f19c6dab716c6281af7602e30f413e809c5974/library/std/src/panicking.rs:493:5\r\n   1: std::panicking::begin_panic_fmt\r\n             at /rustc/88f19c6dab716c6281af7602e30f413e809c5974/library/std/src/panicking.rs:435:5\r\n   2: bootstrap::dist::missing_tool\r\n             at ./src/bootstrap/dist.rs:44:9\r\n   3: <bootstrap::dist::Miri as bootstrap::builder::Step>::run::{{closure}}\r\n             at ./src/bootstrap/dist.rs:1189:17\r\n   4: core::option::Option<T>::or_else\r\n             at /rustc/88f19c6dab716c6281af7602e30f413e809c5974/library/core/src/option.rs:818:21\r\n   5: <bootstrap::dist::Miri as bootstrap::builder::Step>::run\r\n             at ./src/bootstrap/dist.rs:1186:25\r\n   6: bootstrap::builder::Builder::ensure\r\n             at ./src/bootstrap/builder.rs:1521:23\r\n   7: <bootstrap::install::Miri as bootstrap::builder::Step>::run\r\n             at ./src/bootstrap/install.rs:178:32\r\n   8: bootstrap::builder::Builder::ensure\r\n             at ./src/bootstrap/builder.rs:1521:23\r\n   9: <bootstrap::install::Miri as bootstrap::builder::Step>::make_run\r\n             at ./src/bootstrap/install.rs:127:17\r\n  10: bootstrap::builder::StepDescription::maybe_run\r\n             at ./src/bootstrap/builder.rs:179:13\r\n  11: bootstrap::builder::StepDescription::run\r\n             at ./src/bootstrap/builder.rs:200:25\r\n  12: bootstrap::builder::Builder::run_step_descriptions\r\n             at ./src/bootstrap/builder.rs:575:9\r\n  13: bootstrap::builder::Builder::execute_cli\r\n             at ./src/bootstrap/builder.rs:567:9\r\n  14: bootstrap::Build::build\r\n             at ./src/bootstrap/lib.rs:510:13\r\n  15: bootstrap::main\r\n             at ./src/bootstrap/bin/main.rs:33:5\r\n  16: core::ops::function::FnOnce::call_once\r\n             at /rustc/88f19c6dab716c6281af7602e30f413e809c5974/library/core/src/ops/function.rs:227:5\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nTraceback (most recent call last):\r\n  File \"./x.py\", line 27, in <module>\r\n    bootstrap.main()\r\n  File \"/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/bootstrap/bootstrap.py\", line 1191, in main\r\n    bootstrap(help_triggered)\r\n  File \"/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/bootstrap/bootstrap.py\", line 1177, in bootstrap\r\n    run(args, env=env, verbose=build.verbose)\r\n  File \"/var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/src/bootstrap/bootstrap.py\", line 153, in run\r\n    raise RuntimeError(err)\r\nRuntimeError: failed to run: /var/cache/scratchpkg/work/rust/src/rustc-1.53.0-src/build/bootstrap/debug/bootstrap install -v\r\n==> ERROR: Build failed: rust-1.53.0-1\r\n`", "closed_by": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/86981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/86981/timeline", "performed_via_github_app": null, "state_reason": "completed"}