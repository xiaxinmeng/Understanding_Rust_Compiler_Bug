{"url": "https://api.github.com/repos/rust-lang/rust/issues/11088", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/11088/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/11088/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/11088/events", "html_url": "https://github.com/rust-lang/rust/issues/11088", "id": 24643112, "node_id": "MDU6SXNzdWUyNDY0MzExMg==", "number": 11088, "title": "Lint for superfluous let/match", "user": {"login": "glaebhoerl", "id": 1216629, "node_id": "MDQ6VXNlcjEyMTY2Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glaebhoerl", "html_url": "https://github.com/glaebhoerl", "followers_url": "https://api.github.com/users/glaebhoerl/followers", "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}", "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}", "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions", "organizations_url": "https://api.github.com/users/glaebhoerl/orgs", "repos_url": "https://api.github.com/users/glaebhoerl/repos", "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}", "received_events_url": "https://api.github.com/users/glaebhoerl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235137, "node_id": "MDU6TGFiZWwyMzUxMzc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lint", "name": "A-lint", "color": "f7e101", "default": false, "description": "Area: Lints (warnings about flaws in source code) such as unused_mut."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-12-20T19:31:08Z", "updated_at": "2015-12-02T01:20:02Z", "closed_at": "2015-12-02T01:20:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Following the conversation in #10488, now that `let _ = $foo;` will be equivalent to just `$foo;`, we should have a lint to protect against people writing it, because anyone who does is likely doing so based on mistaken assumptions (i.e. that it does anything at all).\n\nGoing further, we should flag any `let` or `match` whose meaning is equivalent to just its inner/RHS expression.\n\nMy thinking w.r.t. the precise criteria is that we should flag a lint [what's the right verbage here?] _unless_ either of the following are true:\n- it's a `match` with more than one arm, in which case it's presumably doing a branch (if not, there are other lints for that)\n- the pattern recursively contains a `PatIdent` (one which is actually an identifier and not a nullary enum) at any point, in which case the following code presumably uses the binding (if not, again there's another lint for that)\n\nMy question is whether this list should also include the presence of `PatBox`, `PatUniq`, and/or `PatRegion`. With the new semantics for `_`, will e.g. `let ~_ = foo;` \"do anything\", such as move out of `foo`?\n\nAs far as I can tell the change in `_` semantics hasn't happened yet, but I'm thinking the lint could go in either before or after, with the potential difference that if it goes in before, the lint message should perhaps be in future tense.\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/11088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/11088/timeline", "performed_via_github_app": null, "state_reason": "completed"}