{"url": "https://api.github.com/repos/rust-lang/rust/issues/20697", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20697/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20697/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20697/events", "html_url": "https://github.com/rust-lang/rust/issues/20697", "id": 53641510, "node_id": "MDU6SXNzdWU1MzY0MTUxMA==", "number": 20697, "title": "test_inherit_env fail when using TESTNAME on windows", "user": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 123109, "node_id": "MDU6TGFiZWwxMjMxMDk=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows", "name": "O-windows", "color": "6e6ec0", "default": false, "description": "Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-07T15:09:29Z", "updated_at": "2015-01-13T14:47:02Z", "closed_at": "2015-01-13T14:47:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "the command i ran was\n\n```\nmake check TESTNAME=test_inherit_env RUST_TEST_TASKS=1\n```\n\ni ran into the error due to trying to check for a specific test, but that didn't work (all tests were run, probably due to the same problem).\n\nthe environment variable contains\n\n```\nMAKEFLAGS= -- RUST_TEST_TASKS=1 ?TESTNAME=test_inherit_env\n```\n\nbut expected is\n\n```\nMAKEFLAGS= -- RUST_TEST_TASKS=1 TESTNAME=test_inherit_env\n```\n\nnot sure where the questionmark comes from.\n\nfull log of the test (removed some due to privacy)\n\n```\nthread '<unnamed>' panicked at 'output doesn't contain `MAKEFLAGS= -- RUST_TEST_TASKS=1 TESTNAME=test_inherit_env`\n!;=;\\\nALLUSERSPROFILE=C:\\ProgramData\nAPR_ICONV_PATH=C:\\Program Files (x86)\\Subversion\\iconv\nCFG_BUILD=x86_64-pc-windows-gnu\nCFG_BUILD_DIR=D:/rust/\nCFG_LIBDIR=C:/msys64/usr/local/bin\nCFG_LIBDIR_RELATIVE=bin\nCFG_PACKAGE_NAME=rustc-1.0.0-dev\nCFG_PREFIX=C:/msys64/usr/local\nCFG_RELEASE=1.0.0-dev\nCFG_SRC_DIR=D:/rust/\nCFG_VERSION=1.0.0-dev (268755e27 2015-01-07 10:23:17 +0100)\nCFG_VERSION_WIN=1.0.0\nCFG_VER_DATE=2015-01-07 10:23:17 +0100\nCFG_VER_HASH=268755e2767b3de8b3cd3a4c944a465e4ada8214\nCLASSPATH=.;D:\\antlr-4.2-complete.jar\nCOMMONPROGRAMFILES=C:\\Program Files\\Common Files\nCOMSPEC=C:\\Windows\\system32\\cmd.exe\nCommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\nCommonProgramW6432=C:\\Program Files\\Common Files\nEDITOR=notepad++\nFP_NO_HOST_CHECK=NO\nGNADE_BASEPATH=C:\\GNADE\nGRAPHVIZ_DOT=D:\\mbeddr\\tools\\graphviz\\bin\\dot.exe\nHOMEPATH=\\\nINFOPATH=C:\\msys64\\usr\\local\\info;C:\\msys64\\usr\\share\\info;C:\\msys64\\usr\\info;C:\\msys64\\share\\info\nJAVA_HOME=C:\\Program Files\\Java\\jre1.8.0_25\\\nLANG=de_DE.UTF-8\nLC_ALL=C\nMAKEFLAGS= -- RUST_TEST_TASKS=1 ?TESTNAME=test_inherit_env\nMAKELEVEL=1\nMAKEOVERRIDES=${-*-command-variables-*-}\nMAKE_TERMERR=/dev/pty0\nMAKE_TERMOUT=/dev/pty0\nMANPATH=C:\\msys64\\mingw64\\share\\man;C:\\msys64\\usr\\local\\man;C:\\msys64\\usr\\share\\man;C:\\msys64\\usr\\man;C:\\msys64\\share\\man\nMSYSCON=mintty.exe\nMSYSTEM=MINGW64\nNUMBER_OF_PROCESSORS=4\nOS=Windows_NT\nPATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY\nPKG_CONFIG_PATH=C:/msys64/mingw64/lib/pkgconfig\nPROCESSOR_ARCHITECTURE=AMD64\nPROCESSOR_IDENTIFIER=Intel64 Family 6 Model 58 Stepping 9, GenuineIntel\nPROCESSOR_LEVEL=6\nPROCESSOR_REVISION=3a09\nPROGRAMFILES=C:\\Program Files\nPROMPT=$P$G\nPWD=D:/rust\nProgramData=C:\\ProgramData\nProgramFiles(x86)=C:\\Program Files (x86)\nProgramW6432=C:\\Program Files\nRUST_TEST_TASKS=1\nSESSIONNAME=Console\nSHELL=C:/msys64/usr/bin/bash\nSHLVL=2\nSYSTEMDRIVE=C:\nSYSTEMROOT=C:\\Windows\nTEMP=C:\\msys64\\tmp\nTERM=xterm-256color\nTMP=C:\\msys64\\tmp\nWD=C:\\msys64\\usr\\bin\\\nWINDIR=C:\\Windows\n_=x86_64-pc-windows-gnu/stage2/test/stdtest-x86_64-pc-windows-gnu.exe\nconfigsetroot=C:\\Windows\\ConfigSetRoot\nwindows_tracing_flags=3\nwindows_tracing_logfile=C:\\BVTBin\\Tests\\installpackage\\csilogfile.log\n', D:\\rust\\src\\libstd\\io\\process.rs:1065\ntest io::process::tests::test_inherit_env ... FAILED\n```\n", "closed_by": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20697/timeline", "performed_via_github_app": null, "state_reason": "completed"}