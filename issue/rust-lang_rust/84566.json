{"url": "https://api.github.com/repos/rust-lang/rust/issues/84566", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/84566/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/84566/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/84566/events", "html_url": "https://github.com/rust-lang/rust/issues/84566", "id": 867125954, "node_id": "MDU6SXNzdWU4NjcxMjU5NTQ=", "number": 84566, "title": "diagnostic about typoed path separator could be better", "user": {"login": "comex", "id": 47517, "node_id": "MDQ6VXNlcjQ3NTE3", "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comex", "html_url": "https://github.com/comex", "followers_url": "https://api.github.com/users/comex/followers", "following_url": "https://api.github.com/users/comex/following{/other_user}", "gists_url": "https://api.github.com/users/comex/gists{/gist_id}", "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comex/subscriptions", "organizations_url": "https://api.github.com/users/comex/orgs", "repos_url": "https://api.github.com/users/comex/repos", "events_url": "https://api.github.com/users/comex/events{/privacy}", "received_events_url": "https://api.github.com/users/comex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 239393, "node_id": "MDU6TGFiZWwyMzkzOTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-resolve", "name": "A-resolve", "color": "f7e101", "default": false, "description": "Area: Path resolution"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1659943986, "node_id": "MDU6TGFiZWwxNjU5OTQzOTg2", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-verbose", "name": "D-verbose", "color": "c9f7a3", "default": false, "description": "Too much output caused by a single piece of incorrect code"}, {"id": 2568792541, "node_id": "MDU6TGFiZWwyNTY4NzkyNTQx", "url": "https://api.github.com/repos/rust-lang/rust/labels/F-type_ascription", "name": "F-type_ascription", "color": "f9c0cc", "default": false, "description": "`#![feature(type_ascription)]`"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-25T22:06:07Z", "updated_at": "2022-04-26T21:52:03Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given this code, where a path separator is typoed as a single instead of double colon:\r\n```rust\r\nstruct Foo { a: () }\r\n\r\nfn main() {\r\n    Foo:new();        \r\n}\r\n```\r\n\r\nthe compiler currently outputs:\r\n\r\n```\r\nerror[E0423]: expected value, found struct `Foo`\r\n --> src/main.rs:4:5\r\n  |\r\n1 | struct Foo { a: () }\r\n  | -------------------- `Foo` defined here\r\n...\r\n4 |     Foo:new();        \r\n  |     ^^^ help: use struct literal syntax instead: `Foo { a: val }`\r\n\r\nerror[E0412]: cannot find type `new` in this scope\r\n --> src/main.rs:4:9\r\n  |\r\n4 |     Foo:new();        \r\n  |        -^^^ not found in this scope\r\n  |        |\r\n  |        help: maybe you meant to write a path separator here: `::`\r\n```\r\n\r\nThis output is quite decent already: the second diagnostic correctly identifies that I meant to write a path separator and suggests a fix.  However, before I read the second diagnostic, I naturally read the first diagnostic, which is entirely unhelpful.  It would be better if the suggestion could be on the first diagnostic, or if the diagnostics could be combined in some way.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/84566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/84566/timeline", "performed_via_github_app": null, "state_reason": null}