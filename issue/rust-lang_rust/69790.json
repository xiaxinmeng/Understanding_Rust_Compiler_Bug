{"url": "https://api.github.com/repos/rust-lang/rust/issues/69790", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/69790/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/69790/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/69790/events", "html_url": "https://github.com/rust-lang/rust/issues/69790", "id": 577218091, "node_id": "MDU6SXNzdWU1NzcyMTgwOTE=", "number": 69790, "title": "Infinite compilation time in _intern_type_list", "user": {"login": "kornelski", "id": 72159, "node_id": "MDQ6VXNlcjcyMTU5", "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kornelski", "html_url": "https://github.com/kornelski", "followers_url": "https://api.github.com/users/kornelski/followers", "following_url": "https://api.github.com/users/kornelski/following{/other_user}", "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}", "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions", "organizations_url": "https://api.github.com/users/kornelski/orgs", "repos_url": "https://api.github.com/users/kornelski/repos", "events_url": "https://api.github.com/users/kornelski/events{/privacy}", "received_events_url": "https://api.github.com/users/kornelski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1050784470, "node_id": "MDU6TGFiZWwxMDUwNzg0NDcw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-bisection", "name": "E-needs-bisection", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs bisection: https://github.com/rust-lang/cargo-bisect-rustc"}, {"id": 1168029555, "node_id": "MDU6TGFiZWwxMTY4MDI5NTU1", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-hang", "name": "I-hang", "color": "e10c02", "default": false, "description": "Issue: The compiler never terminates, due to infinite loops, deadlock, livelock, etc."}, {"id": 1359848690, "node_id": "MDU6TGFiZWwxMzU5ODQ4Njkw", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-mcve", "name": "E-needs-mcve", "color": "02e10c", "default": false, "description": "Call for participation: This issue needs a Minimal Complete and Verifiable Example"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-03-06T22:54:26Z", "updated_at": "2020-03-07T01:08:20Z", "closed_at": "2020-03-07T00:55:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've been compiling [my project](https://gitlab.com/crates.rs/crates.rs/-/blob/master/server/Cargo.toml) with rustc 1.41.1 (f3e1a954d 2020-02-24, Linux), and it has got stuck. It usually takes a few minutes, but not this time:\r\n\r\n```\r\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\r\n27572 root      20   0 1871656  79956   1664 S 100.0  2.0   2580:27 rustc\r\n```\r\n\r\nPerf sample shows this:\r\n\r\n```\r\n  21.67%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] <smallvec::SmallVec<A> as core::iter::traits::collect::FromIterator<<A as smallvec::Array>::Item>>::from_iter\r\n  13.32%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] rustc::ty::context::TyCtxt::_intern_type_list\r\n  13.09%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] rustc::ty::structural_impls::<impl rustc::ty::fold::TypeFoldable for &rustc::ty::TyS>::super_fold_with\r\n  11.65%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] rustc::ty::fold::TypeFoldable::fold_with\r\n   8.66%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] hashbrown::map::RawEntryBuilderMut<K,V,S>::from_hash\r\n   8.01%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] <rustc::ty::sty::TyKind as core::cmp::PartialEq>::eq\r\n   7.71%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] <smallvec::SmallVec<A> as core::iter::traits::collect::FromIterator<<A as smallvec::Array>::Item>>::from_iter\r\n   4.45%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] rustc::ty::fold::TypeFoldable::fold_with\r\n   3.18%  rustc    rustc                                [.] free\r\n   3.04%  rustc    librustc_driver-dcdfe48010e74f33.so  [.] rustc::ty::fold::TypeFoldable::fold_with\r\n```\r\n\r\nI've kept the process running, so let me know what I can do to provide you more info.\r\n\r\n\r\n", "closed_by": {"login": "kornelski", "id": 72159, "node_id": "MDQ6VXNlcjcyMTU5", "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kornelski", "html_url": "https://github.com/kornelski", "followers_url": "https://api.github.com/users/kornelski/followers", "following_url": "https://api.github.com/users/kornelski/following{/other_user}", "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}", "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions", "organizations_url": "https://api.github.com/users/kornelski/orgs", "repos_url": "https://api.github.com/users/kornelski/repos", "events_url": "https://api.github.com/users/kornelski/events{/privacy}", "received_events_url": "https://api.github.com/users/kornelski/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/69790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/69790/timeline", "performed_via_github_app": null, "state_reason": "completed"}