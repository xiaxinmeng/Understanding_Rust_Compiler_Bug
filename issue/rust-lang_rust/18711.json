{"url": "https://api.github.com/repos/rust-lang/rust/issues/18711", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18711/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18711/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18711/events", "html_url": "https://github.com/rust-lang/rust/issues/18711", "id": 48010975, "node_id": "MDU6SXNzdWU0ODAxMDk3NQ==", "number": 18711, "title": "ICE: panicked at 'RefCell<T> already borrowed', /Users/carllerche/Code/oss/rust/src/libcore/cell.rs:317", "user": {"login": "carllerche", "id": 6180, "node_id": "MDQ6VXNlcjYxODA=", "avatar_url": "https://avatars.githubusercontent.com/u/6180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carllerche", "html_url": "https://github.com/carllerche", "followers_url": "https://api.github.com/users/carllerche/followers", "following_url": "https://api.github.com/users/carllerche/following{/other_user}", "gists_url": "https://api.github.com/users/carllerche/gists{/gist_id}", "starred_url": "https://api.github.com/users/carllerche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carllerche/subscriptions", "organizations_url": "https://api.github.com/users/carllerche/orgs", "repos_url": "https://api.github.com/users/carllerche/repos", "events_url": "https://api.github.com/users/carllerche/events{/privacy}", "received_events_url": "https://api.github.com/users/carllerche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-11-06T20:35:10Z", "updated_at": "2014-11-08T06:51:45Z", "closed_at": "2014-11-08T06:51:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**rustc version**: rustc 0.13.0-dev (60a669a17 2014-11-06 14:06:59 +0000)\n\n**Repro**:\n\nI have not yet been able to isolate to a small case, but clone the following repo on the \"ice-repo2\" branch (sorry, typos) and run `cargo test`, it should ICE\n\nhttps://github.com/carllerche/astaire/tree/ice-repo2\n\n**Backtrace**\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' panicked at 'RefCell<T> already borrowed', /Users/carllerche/Code/oss/rust/src/libcore/cell.rs:317\n\nstack backtrace:\n   1:        0x10a9f8b3f - rt::backtrace::imp::write::h2ff90a76b93803d4wdq\n   2:        0x10a9fbcc7 - failure::on_fail::hb9446c51627aa852luq\n   3:        0x10ac54855 - unwind::begin_unwind_inner::hb06e7f4e8a4318c3NJd\n   4:        0x10ac54518 - unwind::begin_unwind_fmt::h06689276fe1886c0fHd\n   5:        0x10ac54272 - rust_begin_unwind\n   6:        0x10aca40bc - panicking::panic_fmt::hfaf6da97a3eeb8f2y7j\n   7:        0x10ac9ab0f - panicking::panic::h02d6408bd2255aa5C4j\n   8:        0x10782684b - middle::astencode::decode_side_tables::closure.114678\n   9:        0x10a00e7b6 - reader::docs::h468ef2f5473ec55euTa\n  10:        0x1076cac6d - middle::astencode::decode_inlined_item::hd744c6fdd78d459asCd\n  11:        0x1078e3084 - middle::const_eval::lookup_variant_by_id::closure.118471\n  12:        0x107fcecf3 - middle::trans::inline::instantiate_inline::closure.123290\n  13:        0x107eba57b - metadata::decoder::maybe_get_item_ast::h9e4d672ed43e14e2bvx\n  14:        0x1079ed00f - middle::trans::inline::instantiate_inline::h6de6d9c3889784346M0\n  15:        0x107a25943 - middle::trans::callee::trans_fn_ref_with_substs::hdb01074bff7fc08f1c4\n  16:        0x107a234e8 - middle::trans::callee::trans_fn_ref::h1a91258cddd65598R03\n  17:        0x107a0887d - middle::trans::meth::trans_method_callee::hc75c8689a4447f7au8m\n  18:        0x107a2b8cb - middle::trans::callee::trans_method_call::closure.124024\n  19:        0x107a06be5 - middle::trans::callee::trans_call_inner::h9815d9afb9e1ec44Ly4\n  20:        0x107a2b6fd - middle::trans::callee::trans_method_call::he027fede3ae25373du4\n  21:        0x107a390fd - middle::trans::expr::trans_rvalue_dps_unadjusted::h7dbd4d63b7e1f10aEH6\n  22:        0x107a37e61 - middle::trans::expr::trans_unadjusted::ha98f989fff991c48B35\n  23:        0x107a009dd - middle::trans::expr::trans::he231f09d11f1a48dxm5\n  24:        0x1079fe77d - middle::trans::controlflow::trans_stmt_semi::h020e65f758f11838ry1\n  25:        0x1079fde80 - middle::trans::controlflow::trans_stmt::hc03c7e6720b2276beu1\n  26:        0x1079ff6b8 - middle::trans::controlflow::trans_block::h3b3f26872c4554fbkz1\n  27:        0x107a39624 - middle::trans::expr::trans_rvalue_dps_unadjusted::h7dbd4d63b7e1f10aEH6\n  28:        0x1079ff469 - middle::trans::expr::trans_into::h00984fb0dd3ef008Di5\n  29:        0x1079ff7be - middle::trans::controlflow::trans_block::h3b3f26872c4554fbkz1\n  30:        0x107a9f948 - middle::trans::base::trans_closure::h638c8183c6a8c3b1XIh\n  31:        0x107a4da90 - middle::trans::closure::trans_unboxed_closure::hb43598d7c59a231bD4l\n  32:        0x107a395f2 - middle::trans::expr::trans_rvalue_dps_unadjusted::h7dbd4d63b7e1f10aEH6\n  33:        0x107a37e61 - middle::trans::expr::trans_unadjusted::ha98f989fff991c48B35\n  34:        0x107a009dd - middle::trans::expr::trans::he231f09d11f1a48dxm5\n  35:        0x107a315d0 - middle::trans::callee::trans_args::h26b99096d88adfffWT4\n  36:        0x107a07cd0 - middle::trans::callee::trans_call_inner::h9815d9afb9e1ec44Ly4\n  37:        0x107a2b6fd - middle::trans::callee::trans_method_call::he027fede3ae25373du4\n  38:        0x107a390fd - middle::trans::expr::trans_rvalue_dps_unadjusted::h7dbd4d63b7e1f10aEH6\n  39:        0x1079ff469 - middle::trans::expr::trans_into::h00984fb0dd3ef008Di5\n  40:        0x107ac717e - middle::trans::_match::store_local::closure.127810\n  41:        0x107ac7030 - middle::trans::_match::mk_binding_alloca::h2042705593528179270\n  42:        0x107a9735f - middle::trans::_match::store_local::ha914c957ec74fc25cdl\n  43:        0x1079fea44 - middle::trans::base::init_local::h9ae72d5affea250csOg\n  44:        0x1079fdeb1 - middle::trans::controlflow::trans_stmt::hc03c7e6720b2276beu1\n  45:        0x1079ff6b8 - middle::trans::controlflow::trans_block::h3b3f26872c4554fbkz1\n  46:        0x107a9f948 - middle::trans::base::trans_closure::h638c8183c6a8c3b1XIh\n  47:        0x1079f2f9c - middle::trans::base::trans_fn::ha597ae815301c37bSUh\n  48:        0x1079f06a1 - middle::trans::base::trans_item::h7ef8b7e6130a9cb16di\n  49:        0x1079f0bd8 - middle::trans::base::trans_item::h7ef8b7e6130a9cb16di\n  50:        0x107aa89f9 - middle::trans::base::trans_crate::hdeb74411a2b08c317bj\n  51:        0x107ef3445 - driver::driver::phase_4_translate_to_llvm::h75d3ab0b8caab322KwC\n  52:        0x107eebcc1 - driver::driver::compile_input::h6d8884a3959ef920E3B\n  53:        0x107f6a3ad - driver::run_compiler::h31af41afacc0fe35VTF\n  54:        0x107f6883e - driver::run::closure.147439\n  55:        0x1076b96ab - task::TaskBuilder<S>::try_future::closure.104811\n  56:        0x1076b95a3 - task::TaskBuilder<S>::spawn_internal::closure.104782\n  57:        0x10a089d7d - task::NativeSpawner.Spawner::spawn::closure.8538\n  58:        0x10acb39cc - rust_try_inner\n  59:        0x10acb39b6 - rust_try\n  60:        0x10ac52057 - unwind::try::ha62186b67ab65c30vyd\n  61:        0x10ac51eec - task::Task::run::hdb6100930f630459iKc\n  62:        0x10a089ba3 - task::NativeSpawner.Spawner::spawn::closure.8475\n  63:        0x10ac53717 - thread::thread_start::h7c5f82d4ec72fc8cx5c\n  64:     0x7fff8e631772 - _pthread_start\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/18711/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18711/timeline", "performed_via_github_app": null, "state_reason": "completed"}