{"url": "https://api.github.com/repos/rust-lang/rust/issues/99255", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/99255/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/99255/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/99255/events", "html_url": "https://github.com/rust-lang/rust/issues/99255", "id": 1305302152, "node_id": "I_kwDOAAsO6M5NzVSI", "number": 99255, "title": "Omit suffixes (e. g. `1_i32`) in const generic compilation errors", "user": {"login": "Logarithmus", "id": 29541480, "node_id": "MDQ6VXNlcjI5NTQxNDgw", "avatar_url": "https://avatars.githubusercontent.com/u/29541480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Logarithmus", "html_url": "https://github.com/Logarithmus", "followers_url": "https://api.github.com/users/Logarithmus/followers", "following_url": "https://api.github.com/users/Logarithmus/following{/other_user}", "gists_url": "https://api.github.com/users/Logarithmus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Logarithmus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Logarithmus/subscriptions", "organizations_url": "https://api.github.com/users/Logarithmus/orgs", "repos_url": "https://api.github.com/users/Logarithmus/repos", "events_url": "https://api.github.com/users/Logarithmus/events{/privacy}", "received_events_url": "https://api.github.com/users/Logarithmus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-14T21:22:06Z", "updated_at": "2022-07-22T09:38:14Z", "closed_at": "2022-07-22T09:38:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm working on a library for compile time dimensional analysis. It uses const generics. On unit mismatch I get errors like this:\r\n```\r\nerror[E0308]: mismatched types\r\n   --> src/isq.rs:346:23\r\n    |\r\n346 |         let l3 = l1 + l2;\r\n    |                       ^^ expected `1_i32`, found `2_i32`\r\n    |\r\n    = note: expected struct `Quantity<isq::Unit<(meter, Const<1_i32>)>, _>`\r\n               found struct `Quantity<isq::Unit<(meter, Const<2_i32>)>, _>`\r\n```\r\nAs you can see, `rustc` includes this `_i32` type suffix into each const generic parameter. I think it's redundant & only makes compilation errors longer (which is important especially if you have complex combinations of units), because if you really want to learn the type of const generic parameter, you can just look at `struct` definition in source code.\r\n\r\nI'd like error message to look like this:\r\n```\r\nerror[E0308]: mismatched types\r\n   --> src/isq.rs:346:23\r\n    |\r\n346 |         let l3 = l1 + l2;\r\n    |                       ^^ expected `1`, found `2`\r\n    |\r\n    = note: expected struct `Quantity<isq::Unit<(meter, Const<1>)>, _>`\r\n               found struct `Quantity<isq::Unit<(meter, Const<2>)>, _>`\r\n```", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/99255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/99255/timeline", "performed_via_github_app": null, "state_reason": "completed"}