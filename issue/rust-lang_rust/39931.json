{"url": "https://api.github.com/repos/rust-lang/rust/issues/39931", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39931/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39931/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39931/events", "html_url": "https://github.com/rust-lang/rust/issues/39931", "id": 208652404, "node_id": "MDU6SXNzdWUyMDg2NTI0MDQ=", "number": 39931, "title": "Trying to access std::sys_common::io::DEFAULT_BUF_SIZE; ", "user": {"login": "IgnoreAmos", "id": 8537084, "node_id": "MDQ6VXNlcjg1MzcwODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8537084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IgnoreAmos", "html_url": "https://github.com/IgnoreAmos", "followers_url": "https://api.github.com/users/IgnoreAmos/followers", "following_url": "https://api.github.com/users/IgnoreAmos/following{/other_user}", "gists_url": "https://api.github.com/users/IgnoreAmos/gists{/gist_id}", "starred_url": "https://api.github.com/users/IgnoreAmos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IgnoreAmos/subscriptions", "organizations_url": "https://api.github.com/users/IgnoreAmos/orgs", "repos_url": "https://api.github.com/users/IgnoreAmos/repos", "events_url": "https://api.github.com/users/IgnoreAmos/events{/privacy}", "received_events_url": "https://api.github.com/users/IgnoreAmos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-18T16:35:46Z", "updated_at": "2017-02-18T19:06:22Z", "closed_at": "2017-02-18T19:06:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was experimenting with BufReader code to make it work with bit streams and\r\nwanted to use the same default buffer size:\r\n\r\nconst DEFAULT_BUF_SIZE: usize = std::sys_common::io::DEFAULT_BUF_SIZE;\r\n\r\n## Meta\r\n\r\n`rustc --version --verbose`:\r\n\r\nrustc --version --verbose\r\nrustc 1.15.1 (021bd294c 2017-02-08)\r\nbinary: rustc\r\ncommit-hash: 021bd294c039bd54aa5c4aa85bcdffb0d24bc892\r\ncommit-date: 2017-02-08\r\nhost: x86_64-pc-windows-gnu\r\nrelease: 1.15.1\r\nLLVM version: 3.9\r\n\r\nBacktrace:\r\n\r\ncargo build --verbose\r\n   Compiling BitStream v0.1.0 (file:///E:/Ex%20nihilo/rust/BitStream)\r\n     Running `rustc --crate-name BitStream src\\lib.rs --crate-type lib -g -C metadata=68c310b10395856d -C extra-filename=-68c310b10395856d --out-dir \"E:\\Ex nihilo\\rust\\BitStream\\target\\debug\\deps\" --emit=dep-info,link -L \"dependency=E:\\Ex nihilo\\rust\\BitStream\\target\\debug\\deps\"`\r\nerror: module `sys_common` is private\r\n  --> src\\lib.rs:21:33\r\n   |\r\n21 | const DEFAULT_BUF_SIZE: usize = std::sys_common::io::DEFAULT_BUF_SIZE;\r\n   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nerror: internal compiler error: C:\\bot\\slave\\stable-dist-rustc-win-gnu-64\\build\\src\\librustc\\middle\\stability.rs:551: encountered unmarked API\r\n  --> src\\lib.rs:21:33\r\n   |\r\n21 | const DEFAULT_BUF_SIZE: usize = std::sys_common::io::DEFAULT_BUF_SIZE;\r\n   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: run with `RUST_BACKTRACE=1` for a backtrace\r\n\r\nthread 'rustc' panicked at 'Box<Any>', C:\\bot\\slave\\stable-dist-rustc-win-gnu-64\\build\\src\\librustc_errors\\lib.rs:382\r\nstack backtrace:\r\n   0:         0x70a2f98e - <unknown>\r\n   1:         0x70a2f154 - <unknown>\r\n   2:         0x70a30b4a - <unknown>\r\n   3:         0x6ea18fdb - <unknown>\r\n   4:         0x6ebd55b7 - <unknown>\r\n   5:         0x6ebd5355 - <unknown>\r\n   6:         0x6ebd4bf4 - <unknown>\r\n   7:         0x6ebb1761 - <unknown>\r\n   8:         0x6ebb2329 - <unknown>\r\n   9:         0x6eab515d - <unknown>\r\n  10:         0x6ebb00b0 - <unknown>\r\n  11:         0x6dcec747 - <unknown>\r\n  12:         0x6dccf8a9 - <unknown>\r\n  13:         0x6dcb852c - <unknown>\r\n  14:         0x6dd05b06 - <unknown>\r\n  15:         0x6dc0ad65 - <unknown>\r\n  16:         0x70a338c8 - <unknown>\r\n  17:         0x6dc27902 - <unknown>\r\n  18:         0x70a2d432 - <unknown>\r\n  19:     0x7ffd57228363 - <unknown>\r\n\r\nerror: Could not compile `BitStream`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name BitStream src\\lib.rs --crate-type lib -g -C metadata=68c310b10395856d -C extra-filename=-68c310b10395856d --out-dir E:\\Ex nihilo\\rust\\BitStream\\target\\debug\\deps --emit=dep-info,link -L dependency=E:\\Ex nihilo\\rust\\BitStream\\target\\debug\\deps` (exit code: 101)\r\n\r\n", "closed_by": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39931/timeline", "performed_via_github_app": null, "state_reason": "completed"}