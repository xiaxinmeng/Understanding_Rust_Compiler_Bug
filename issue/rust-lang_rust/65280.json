{"url": "https://api.github.com/repos/rust-lang/rust/issues/65280", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/65280/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/65280/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/65280/events", "html_url": "https://github.com/rust-lang/rust/issues/65280", "id": 505486712, "node_id": "MDU6SXNzdWU1MDU0ODY3MTI=", "number": 65280, "title": "Formatting of std::backtrace::Backtrace", "user": {"login": "seanmonstar", "id": 51479, "node_id": "MDQ6VXNlcjUxNDc5", "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seanmonstar", "html_url": "https://github.com/seanmonstar", "followers_url": "https://api.github.com/users/seanmonstar/followers", "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}", "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}", "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions", "organizations_url": "https://api.github.com/users/seanmonstar/orgs", "repos_url": "https://api.github.com/users/seanmonstar/repos", "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}", "received_events_url": "https://api.github.com/users/seanmonstar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 211668062, "node_id": "MDU6TGFiZWwyMTE2NjgwNjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-libs-api", "name": "T-libs-api", "color": "bfd4f2", "default": false, "description": "Relevant to the library API team, which will review and decide on the PR/issue."}, {"id": 419557634, "node_id": "MDU6TGFiZWw0MTk1NTc2MzQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-medium", "name": "E-medium", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Medium / intermediate"}, {"id": 2359545530, "node_id": "MDU6TGFiZWwyMzU5NTQ1NTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/PG-error-handling", "name": "PG-error-handling", "color": "c2e0c6", "default": false, "description": "Project Group: Error handling (https://github.com/rust-lang/project-error-handling)"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2019-10-10T20:14:24Z", "updated_at": "2021-02-28T04:38:27Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'd like to propose some changes to formatting of the `Backtrace` type introduced in https://github.com/rust-lang/rust/issues/53487.\r\n\r\n- Don't include newlines in the default `Debug` output. I personally find it pretty jarring when looking at the debug output of an error where everything is on the same line except the backtrace, and then any additional properties are printed way down on the last line.\r\n\r\n  I'd suggest instead printing a \"list\" of \"maps\", such that it'd look like `[{ function: \"errors::new\", file: \"./src/new.rs\", line: 21 }, ...]`.\r\n- Allow passing the \"precision\" format flag to limit how many frames are printed. The most relevant frames are normally near the top, but deciding exactly how many depends on the app. Then a user could write `println!(\"short trace: {:.5}\", trace)` to see just 5 frames.\r\n- Remove `stack backtrace:\\n` prefix entirely. When formatting, I'd think a user would pick their own prefix, like `println!(\"Call stack:\\n{}\", trace)`.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/65280/reactions", "total_count": 7, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/65280/timeline", "performed_via_github_app": null, "state_reason": null}