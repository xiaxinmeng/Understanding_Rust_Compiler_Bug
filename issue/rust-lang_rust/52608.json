{"url": "https://api.github.com/repos/rust-lang/rust/issues/52608", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52608/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52608/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52608/events", "html_url": "https://github.com/rust-lang/rust/issues/52608", "id": 343384840, "node_id": "MDU6SXNzdWUzNDMzODQ4NDA=", "number": 52608, "title": "Details missing around std::sync::atomic and their orderings", "user": {"login": "vorner", "id": 11783500, "node_id": "MDQ6VXNlcjExNzgzNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/11783500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vorner", "html_url": "https://github.com/vorner", "followers_url": "https://api.github.com/users/vorner/followers", "following_url": "https://api.github.com/users/vorner/following{/other_user}", "gists_url": "https://api.github.com/users/vorner/gists{/gist_id}", "starred_url": "https://api.github.com/users/vorner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vorner/subscriptions", "organizations_url": "https://api.github.com/users/vorner/orgs", "repos_url": "https://api.github.com/users/vorner/repos", "events_url": "https://api.github.com/users/vorner/events{/privacy}", "received_events_url": "https://api.github.com/users/vorner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-22T07:32:44Z", "updated_at": "2018-08-15T20:20:08Z", "closed_at": "2018-08-15T20:20:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The atomic orderings are something that would be really useful to have the exact details documented, as one might want to go as far as to write proofs about what orderings are safe to use, if any at all.\r\n\r\nTo be more specific, I'm missing these two pieces now:\r\n\r\n* `SeqCst` says it acts like `AcqRel` with additionally anchoring the operation on a global timeline. However, `AcqRel` on load is effectively only `Acquire` (I guess because without store, other threads can't know when that load effectively happened). Does that apply to `SeqCst` on load as well that operations can be moved after it?\r\n* Is `compare_and_swap` considered an operation that combines load and store even in case it fails, or is it only a load (and therefore turns `AcqRel` into `Acquire` only)?\r\n\r\nI'd be happy to update the documentation, but I don't know what guarantees are actually provided.", "closed_by": {"login": "vorner", "id": 11783500, "node_id": "MDQ6VXNlcjExNzgzNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/11783500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vorner", "html_url": "https://github.com/vorner", "followers_url": "https://api.github.com/users/vorner/followers", "following_url": "https://api.github.com/users/vorner/following{/other_user}", "gists_url": "https://api.github.com/users/vorner/gists{/gist_id}", "starred_url": "https://api.github.com/users/vorner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vorner/subscriptions", "organizations_url": "https://api.github.com/users/vorner/orgs", "repos_url": "https://api.github.com/users/vorner/repos", "events_url": "https://api.github.com/users/vorner/events{/privacy}", "received_events_url": "https://api.github.com/users/vorner/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52608/timeline", "performed_via_github_app": null, "state_reason": "completed"}