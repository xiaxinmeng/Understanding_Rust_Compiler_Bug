{"url": "https://api.github.com/repos/rust-lang/rust/issues/20005", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20005/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20005/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20005/events", "html_url": "https://github.com/rust-lang/rust/issues/20005", "id": 52443746, "node_id": "MDU6SXNzdWU1MjQ0Mzc0Ng==", "number": 20005, "title": "ICE: Type parameter `_/FnSpace.1` (_/FnSpace/1) out of range when substituting (root type=_)", "user": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-19T03:13:48Z", "updated_at": "2015-01-02T23:57:43Z", "closed_at": "2015-01-02T23:57:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### STR\n\n``` rust\n#![crate_type = \"lib\"]\n#![feature(associated_types)]\n\ntrait From<Src> {\n    type Result;\n\n    fn from(src: Src) -> Self::Result;\n}\n\ntrait To {\n    fn to<Dst: From<Self>>(self) -> Dst::Result {\n        From::from(self)\n    }\n}\n```\n### Output\n\n``` rust\nice.rs:1:1: 1:1 error: internal compiler error: Type parameter `Result/FnSpace.1` (Result/FnSpace/1) out of range when substituting (root type=Result) substs=Substs[types=[[];[Self];[];[Dst]], regions=[[];[];[];[]]]\nice.rs:1 #![crate_type = \"lib\"]\n         ^\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' panicked at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/diagnostic.rs:129\n\nstack backtrace:\n   1:     0x7f20a6029f30 - rt::backtrace::imp::write::h6412f7a49a1f3feaxXx\n   2:     0x7f20a602d300 - failure::on_fail::hddee9b01525d1cc0Uoy\n   3:     0x7f20a5c6d6b0 - unwind::begin_unwind_inner::hedcb21b2885493daaNc\n   4:     0x7f20a3348270 - unwind::begin_unwind::h8700464743899426751\n   5:     0x7f20a33481f0 - diagnostic::SpanHandler::span_bug::hc71fab85126cb6e2HBF\n   6:     0x7f20a413cac0 - middle::subst::SubstFolder<$u{27}a$C$$u{20}$u{27}tcx$GT$.TypeFolder$LT$$u{27}tcx$GT$::fold_ty::hd27de014609b6ac5QfX\n   7:     0x7f20a428b470 - vec::Vec<T>.FromIterator<T>::from_iter::h1323722657915396377\n   8:     0x7f20a428b310 - middle::subst::VecPerParamSpace<T>::map_enumerated::h18018577534444447539\n   9:     0x7f20a428ace0 - middle::ty_fold::super_fold_substs::h17168085672544058693\n  10:     0x7f20a42b34d0 - middle::ty::Generics<$u{27}tcx$GT$::to_bounds::h8c2e7348f302947fOc9\n  11:     0x7f20a42c5700 - middle::ty::construct_parameter_environment::h3b663cbb00f0518cGwe\n  12:     0x7f20a40e7c80 - middle::ty::ParameterEnvironment<$u{27}tcx$GT$::for_item::h5aac0d5e762c820fNw9\n  13:     0x7f20a52cce60 - check::check_method_body::hf79a9ae86800a9d5cHk\n  14:     0x7f20a52c1020 - check::check_item::h2fd7cea4c7d59b025wk\n  15:     0x7f20a5525620 - check_crate::unboxed_closure.42755\n  16:     0x7f20a5520330 - check_crate::h9dd101b38ed58fa5W3y\n  17:     0x7f20a64817a0 - driver::phase_3_run_analysis_passes::h77e8562ce41cfd75Eta\n  18:     0x7f20a6464b10 - driver::compile_input::h81ce80bbe914c387rba\n  19:     0x7f20a6618b50 - run_compiler::h2d4853ffa824f88bAYb\n  20:     0x7f20a660f790 - thunk::F.Invoke<A,$u{20}R$GT$::invoke::h7351313412113629600\n  21:     0x7f20a60022e0 - thunk::F.Invoke<A,$u{20}R$GT$::invoke::h4423555442319517089\n  22:     0x7f20a5c6be20 - task::Task::spawn_thunk::closure.5804\n  23:     0x7f20a5cca9c0 - rust_try_inner\n  24:     0x7f20a5cca9b0 - rust_try\n  25:     0x7f20a5c6bf30 - unwind::try::h870bc6c90527a031rCc\n  26:     0x7f20a5c6bcc0 - task::Task::run::h3063eac886af1b39tNb\n  27:     0x7f20a5c6b430 - thunk::F.Invoke<A,$u{20}R$GT$::invoke::h3611139983400510208\n  28:     0x7f20a5c6cd80 - thread::thread_start::h6cf2d96de299983bM4b\n  29:     0x7f20a07aa250 - start_thread\n  30:     0x7f20a5940589 - clone\n  31:                0x0 - <unknown>\n```\n### Version\n\n``` rust\nrustc 0.13.0-nightly (2a231594c 2014-12-18 12:21:57 +0000)\n```\n\ncc @nick29581 @nikomatsakis \n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/20005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20005/timeline", "performed_via_github_app": null, "state_reason": "completed"}