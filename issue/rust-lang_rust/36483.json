{"url": "https://api.github.com/repos/rust-lang/rust/issues/36483", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/36483/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/36483/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/36483/events", "html_url": "https://github.com/rust-lang/rust/issues/36483", "id": 177053016, "node_id": "MDU6SXNzdWUxNzcwNTMwMTY=", "number": 36483, "title": "Something is causing Cargo to rebuild every time", "user": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-14T23:55:10Z", "updated_at": "2016-09-15T04:18:33Z", "closed_at": "2016-09-15T04:18:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Each `cargo build` causes a rebuild of the crate. The log suggests that at least part of the problem may be related to Macros 1.1; though the mtime `None != ...` problems are also of unknown cause.\n\nI have not yet worked on a minimal test case, but can do so upon request, for now [this](https://github.com/rust-lang-nursery/rustc-perf/tree/6a992027e871bfee8ab9be5f5c096f067d7049b2) should reproduce this behavior. \n\nFull log when building `RUST_LOG=cargo::ops::cargo_rustc::fingerprint=info cargo test`:\n\n```\nINFO:cargo::ops::cargo_rustc::fingerprint: stale: /home/mark/Edit/rustc-perf/backend/rustc-macro source code -- missing\nINFO:cargo::ops::cargo_rustc::fingerprint: fingerprint error for rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend): mtime based components have changed: None != Some(FileTime { seconds: 1473893323, nanos: 644877469 }), paths are \"/home/mark/Edit/rustc-perf/backend/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-test-lib-rustc-perf\" and \"/home/mark/Edit/rustc-perf/backend/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-test-lib-rustc-perf\"\nINFO:cargo::ops::cargo_rustc::fingerprint: stale: /home/mark/Edit/rustc-perf/backend/rustc-macro source code -- missing\nINFO:cargo::ops::cargo_rustc::fingerprint: fingerprint error for rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend): new (rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend)) != old (rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend))\nINFO:cargo::ops::cargo_rustc::fingerprint: fingerprint error for rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend): mtime based components have changed: None != Some(FileTime { seconds: 1473893323, nanos: 232877796 }), paths are \"/home/mark/Edit/rustc-perf/backend/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-lib-rustc-perf\" and \"/home/mark/Edit/rustc-perf/backend/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-lib-rustc-perf\"\nINFO:cargo::ops::cargo_rustc::fingerprint: fingerprint error for rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend): new (rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend)) != old (rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend))\nINFO:cargo::ops::cargo_rustc::fingerprint: fingerprint error for rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend): new (rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend)) != old (rustc-perf v0.1.0 (file:///home/mark/Edit/rustc-perf/backend))\n```\n\nCondensed (path and leading part of each line stripped):\n\n```\nstale: /root/rustc-macro source code -- missing\nfingerprint error for rustc-perf v0.1.0 (file:///root): mtime based components have changed: None != Some(FileTime { seconds: 1473893323, nanos: 644877469 }), paths are \"/root/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-test-lib-rustc-perf\" and \"/root/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-test-lib-rustc-perf\"\nstale: /root/rustc-macro source code -- missing\nfingerprint error for rustc-perf v0.1.0 (file:///root): new (rustc-perf v0.1.0 (file:///root)) != old (rustc-perf v0.1.0 (file:///root))\nfingerprint error for rustc-perf v0.1.0 (file:///root): mtime based components have changed: None != Some(FileTime { seconds: 1473893323, nanos: 232877796 }), paths are \"/root/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-lib-rustc-perf\" and \"/root/target/debug/.fingerprint/rustc-perf-8d2c967c83377789/dep-lib-rustc-perf\"\nfingerprint error for rustc-perf v0.1.0 (file:///root): new (rustc-perf v0.1.0 (file:///root)) != old (rustc-perf v0.1.0 (file:///root))\nfingerprint error for rustc-perf v0.1.0 (file:///root): new (rustc-perf v0.1.0 (file:///root)) != old (rustc-perf v0.1.0 (file:///root))\n```\n", "closed_by": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/36483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/36483/timeline", "performed_via_github_app": null, "state_reason": "completed"}