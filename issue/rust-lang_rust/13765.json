{"url": "https://api.github.com/repos/rust-lang/rust/issues/13765", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13765/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13765/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13765/events", "html_url": "https://github.com/rust-lang/rust/issues/13765", "id": 32267278, "node_id": "MDU6SXNzdWUzMjI2NzI3OA==", "number": 13765, "title": "Make functional programming not so inconvenient", "user": {"login": "eduardoleon", "id": 643933, "node_id": "MDQ6VXNlcjY0MzkzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/643933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eduardoleon", "html_url": "https://github.com/eduardoleon", "followers_url": "https://api.github.com/users/eduardoleon/followers", "following_url": "https://api.github.com/users/eduardoleon/following{/other_user}", "gists_url": "https://api.github.com/users/eduardoleon/gists{/gist_id}", "starred_url": "https://api.github.com/users/eduardoleon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eduardoleon/subscriptions", "organizations_url": "https://api.github.com/users/eduardoleon/orgs", "repos_url": "https://api.github.com/users/eduardoleon/repos", "events_url": "https://api.github.com/users/eduardoleon/events{/privacy}", "received_events_url": "https://api.github.com/users/eduardoleon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-04-25T21:14:14Z", "updated_at": "2014-04-26T07:38:46Z", "closed_at": "2014-04-26T07:38:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest Rust nightly build removed the ability to call closures from immutable references. This [breaks my library](https://github.com/eduardoleon/rust-stl/blob/master/src/stream/map.rs#L48-50) and forces me to replace closures with trait objects that expose methods that are morally `operator()`s like:\n\n``` rust\npub trait CallableOnce<T, U> {\n    fn only_call(self, x: T) -> U;\n}\n\npub trait CallableManyTimes<T, U> : CallableOnce<T, U> {\n    fn one_call_amongst_many(&self, x: T) -> U;\n}\n```\n\nNormally, I can work around the changes introduced in every nightly build. However, this particular change significantly reduces the usability of my library, because it forces the programmer to use C++-style function objects, and by this time we should already know how \"convenient\" that is. My primary motivation for making rust-stl is to show that it is possible, with the right type system, to eat one's cake and have it too, to combine the elegance of Haskell/ML-style functional programming with the efficiency of C++. I want Rust to be the language that helps me make this case, and for the most part it has worked beautifully, but this time it did not.\n\nPlease do something about it.\n", "closed_by": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/13765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13765/timeline", "performed_via_github_app": null, "state_reason": "completed"}