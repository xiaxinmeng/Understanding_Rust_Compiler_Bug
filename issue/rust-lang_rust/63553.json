{"url": "https://api.github.com/repos/rust-lang/rust/issues/63553", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/63553/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/63553/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/63553/events", "html_url": "https://github.com/rust-lang/rust/issues/63553", "id": 480642594, "node_id": "MDU6SXNzdWU0ODA2NDI1OTQ=", "number": 63553, "title": "How to install a single target from source without building the whole compiler?", "user": {"login": "marmistrz", "id": 2914938, "node_id": "MDQ6VXNlcjI5MTQ5Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/2914938?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marmistrz", "html_url": "https://github.com/marmistrz", "followers_url": "https://api.github.com/users/marmistrz/followers", "following_url": "https://api.github.com/users/marmistrz/following{/other_user}", "gists_url": "https://api.github.com/users/marmistrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/marmistrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marmistrz/subscriptions", "organizations_url": "https://api.github.com/users/marmistrz/orgs", "repos_url": "https://api.github.com/users/marmistrz/repos", "events_url": "https://api.github.com/users/marmistrz/events{/privacy}", "received_events_url": "https://api.github.com/users/marmistrz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 167285428, "node_id": "MDU6TGFiZWwxNjcyODU0Mjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-cross", "name": "A-cross", "color": "f7e101", "default": false, "description": "Area: Cross compilation"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-14T12:08:34Z", "updated_at": "2019-09-16T11:08:58Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using Arch Linux and my distribution provides a (usually) up-to-date version of rustc & cargo. In particular, I have a system-wide copy of the `x86_64-unknown-linux-gnu`, placed in `/usr/lib/rustlib`.  Please note that rustup is not used here at all. \r\n\r\nSometimes I need to cross-compile to other targets, such as `x86_64-pc-windows-gnu` or `wasm32-wasi`. This has issues, for instance https://github.com/rust-lang/rust/issues/49078. It also results in unnecessary duplication.\r\n\r\nCurrently it's possible to build a Rust cross compiler manually, such as [the rust-mingw AUR package](https://aur.archlinux.org/packages/mingw-w64-rust/). Still, this requires building the whole LLVM, compiler, cargo, which takes a lot of time and this is basically emulation of rustup without rustup (there are separate copies of rustc, cargo, etc.)\r\n\r\nIs it possible to only compile the required bits, so that one can just supplement the existing system-wide instance of Rust with new target? We can assume that their version will match. \r\n\r\nFor reference, the rustup steps for `wasm32-wasi` are:\r\n``` \r\nrustup target add wasm32-wasi\r\n```\r\nfor `x86_64-pc-windows-gnu`:\r\n```\r\nrustup install stable-x86_64-pc-windows-gnu\r\nrustup target add x86_64-pc-windows-gnu\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/63553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/63553/timeline", "performed_via_github_app": null, "state_reason": null}