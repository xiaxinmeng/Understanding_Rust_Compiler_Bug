{"url": "https://api.github.com/repos/rust-lang/rust/issues/19824", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19824/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19824/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19824/events", "html_url": "https://github.com/rust-lang/rust/issues/19824", "id": 51903777, "node_id": "MDU6SXNzdWU1MTkwMzc3Nw==", "number": 19824, "title": " Add a lint warning on bare `PatIdent` arms", "user": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-13T23:59:51Z", "updated_at": "2014-12-14T00:23:51Z", "closed_at": "2014-12-14T00:23:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At the moment, if an enum variant changes name, match arms containing it silently become wildcard matches. For example, the following:\n\n```\nenum Foo {\n Bar,\n Baz,\n Quux\n}\nmatch f {\n Bar => ...,\n Baz => ...\n Quux => ...\n}\n```\n\nwill silently have the second arm becoming a wildcard arm if the original enum is changed (instead of a compile error which usually is how you can track down uses of a renamed identifier). In some cases we may get an \"unreachable pattern\" error, but not always.\n\nI'm proposing we add a lint to warn against arms which are a single identifier bound to a variable instead of a variant. Instead, we suggest that `_ @ variable` arms are used.\n\nThis doesn't handle patterns where enums are nested, i.e `Some(Bar)` when `Bar` gets renamed. If we want to catch these too we might want to instead lint uppercase `PatIdent`s anywhere in a match where the corresponding type is an enum.\n\nIt's pretty easy to write these lints, but I'm not sure if Rust is currently accepting more internal plugins or if this lint is something we really want, hence this issue first.\n", "closed_by": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/19824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19824/timeline", "performed_via_github_app": null, "state_reason": "completed"}