{"url": "https://api.github.com/repos/rust-lang/rust/issues/95267", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/95267/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/95267/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/95267/events", "html_url": "https://github.com/rust-lang/rust/issues/95267", "id": 1179145591, "node_id": "I_kwDOAAsO6M5GSFV3", "number": 95267, "title": "Failed to compile ring under nightly Rust (1.61.0, 9f4dc0b4d 2022-03-23)", "user": {"login": "messense", "id": 1556054, "node_id": "MDQ6VXNlcjE1NTYwNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1556054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/messense", "html_url": "https://github.com/messense", "followers_url": "https://api.github.com/users/messense/followers", "following_url": "https://api.github.com/users/messense/following{/other_user}", "gists_url": "https://api.github.com/users/messense/gists{/gist_id}", "starred_url": "https://api.github.com/users/messense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/messense/subscriptions", "organizations_url": "https://api.github.com/users/messense/orgs", "repos_url": "https://api.github.com/users/messense/repos", "events_url": "https://api.github.com/users/messense/events{/privacy}", "received_events_url": "https://api.github.com/users/messense/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 1966877457, "node_id": "MDU6TGFiZWwxOTY2ODc3NDU3", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-critical", "name": "P-critical", "color": "eb6420", "default": false, "description": "Critical priority"}], "state": "closed", "locked": false, "assignee": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2022-03-24T08:00:39Z", "updated_at": "2022-03-28T18:40:51Z", "closed_at": "2022-03-28T18:40:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Cross post from https://github.com/briansmith/ring/issues/1469\r\n\r\n```rust\r\n    Checking ring v0.16.20\r\nerror: no rules expected the token `aarch64_apple`\r\n   --> /root/.cargo/registry/src/rsproxy.cn-8f6827c7555bfaf8/ring-0.16.20/src/cpu.rs:257:13\r\n    |\r\n165 |     macro_rules! features {\r\n    |     --------------------- when calling this macro\r\n...\r\n257 |             aarch64_apple: true,\r\n    |             ^^^^^^^^^^^^^ no rules expected this token in macro call\r\n\r\nerror[E0425]: cannot find value `AES` in module `cpu::arm`\r\n   --> /root/.cargo/registry/src/rsproxy.cn-8f6827c7555bfaf8/ring-0.16.20/src/aead/aes.rs:381:65\r\n    |\r\n381 |         if cpu::intel::AES.available(cpu_features) || cpu::arm::AES.available(cpu_features) {\r\n    |                                                                 ^^^ not found in `cpu::arm`\r\n    |\r\nhelp: consider importing this constant\r\n    |\r\n15  | use crate::cpu::intel::AES;\r\n    |\r\n\r\nerror[E0425]: cannot find value `PMULL` in module `cpu::arm`\r\n   --> /root/.cargo/registry/src/rsproxy.cn-8f6827c7555bfaf8/ring-0.16.20/src/aead/gcm.rs:315:26\r\n    |\r\n315 |             || cpu::arm::PMULL.available(cpu_features)\r\n    |                          ^^^^^ not found in `cpu::arm`\r\n\r\nerror[E0425]: cannot find value `ARMCAP_STATIC` in this scope\r\n   --> /root/.cargo/registry/src/rsproxy.cn-8f6827c7555bfaf8/ring-0.16.20/src/cpu.rs:235:41\r\n    |\r\n235 |             if self.mask == self.mask & ARMCAP_STATIC {\r\n    |                                         ^^^^^^^^^^^^^ not found in this scope\r\n```\r\n\r\nWorks fine on stable Rust.\r\n\r\nhttps://github.com/briansmith/ring/blob/9cc0d45f4d8521f467bb3a621e74b1535e118188/src/cpu.rs#L165-L224", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/95267/reactions", "total_count": 22, "+1": 22, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/95267/timeline", "performed_via_github_app": null, "state_reason": "completed"}