{"url": "https://api.github.com/repos/rust-lang/rust/issues/37952", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/37952/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/37952/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/37952/events", "html_url": "https://github.com/rust-lang/rust/issues/37952", "id": 191176644, "node_id": "MDU6SXNzdWUxOTExNzY2NDQ=", "number": 37952, "title": "llc crashes linking regex test suite under emscripten", "user": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100522, "node_id": "MDU6TGFiZWwxMDA1MjI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-crash", "name": "I-crash", "color": "e10c02", "default": false, "description": "Issue: The compiler crashes (SIGSEGV, SIGABRT, etc). Use I-ICE instead when the compiler panics."}, {"id": 108333, "node_id": "MDU6TGFiZWwxMDgzMzM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-LLVM", "name": "A-LLVM", "color": "f7e101", "default": false, "description": "Area: Code generation parts specific to LLVM. Both correctness bugs and optimization-related issues."}, {"id": 474645165, "node_id": "MDU6TGFiZWw0NzQ2NDUxNjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-wasm", "name": "O-wasm", "color": "6e6ec0", "default": false, "description": "Target: WASM (WebAssembly), http://webassembly.org/"}, {"id": 509440702, "node_id": "MDU6TGFiZWw1MDk0NDA3MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-asmjs", "name": "O-asmjs", "color": "6e6ec0", "default": false, "description": "Target: asm.js - http://asmjs.org/"}, {"id": 602425123, "node_id": "MDU6TGFiZWw2MDI0MjUxMjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-dev-tools", "name": "T-dev-tools", "color": "bfd4f2", "default": false, "description": "Relevant to the dev-tools subteam, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-23T02:39:37Z", "updated_at": "2017-10-18T01:21:22Z", "closed_at": "2017-10-18T01:21:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n130 brian@ip-10-145-43-250:/mnt2/dev/regex\u27eb cargo +rust1 test --target=asmjs-unknown-emscripten --no-run\r\n   Compiling regex v0.1.80 (file:///mnt2/dev/regex)\r\n*** Error in `/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc': munmap_chunk(): invalid pointer: 0x0000000006a37428 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x77725)[0x7fb45c00e725]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x1a8)[0x7fb45c01ac18]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(_ZN4llvm15LLVMContextImplD2Ev+0x2b6f)[0xb9746f]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(_ZN4llvm11LLVMContextD1Ev+0x14)[0xb8e264]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(main+0x157)[0x564d67]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7fb45bfb7830]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(_start+0x29)[0x584ec9]\r\n======= Memory map: ========\r\n00400000-0146b000 r-xp 00000000 ca:50 4075774                            /mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc\r\n0166b000-0177e000 r--p 0106b000 ca:50 4075774                            /mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc\r\n0177e000-01780000 rw-p 0117e000 ca:50 4075774                            /mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc\r\n01780000-0179a000 rw-p 00000000 00:00 0\r\n02d10000-07017000 rw-p 00000000 00:00 0                                  [heap]\r\n7fb45aafc000-7fb45b2fe000 rw-p 00000000 00:00 0\r\n7fb45bd56000-7fb45bf97000 rw-p 00000000 00:00 0\r\n7fb45bf97000-7fb45c157000 r-xp 00000000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7fb45c157000-7fb45c356000 ---p 001c0000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7fb45c356000-7fb45c35a000 r--p 001bf000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7fb45c35a000-7fb45c35c000 rw-p 001c3000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7fb45c35c000-7fb45c360000 rw-p 00000000 00:00 0\r\n7fb45c360000-7fb45c376000 r-xp 00000000 ca:01 133006                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7fb45c376000-7fb45c575000 ---p 00016000 ca:01 133006                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7fb45c575000-7fb45c576000 rw-p 00015000 ca:01 133006                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7fb45c576000-7fb45c67e000 r-xp 00000000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7fb45c67e000-7fb45c87d000 ---p 00108000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7fb45c87d000-7fb45c87e000 r--p 00107000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7fb45c87e000-7fb45c87f000 rw-p 00108000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7fb45c87f000-7fb45c9f1000 r-xp 00000000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7fb45c9f1000-7fb45cbf1000 ---p 00172000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7fb45cbf1000-7fb45cbfb000 r--p 00172000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7fb45cbfb000-7fb45cbfd000 rw-p 0017c000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7fb45cbfd000-7fb45cc01000 rw-p 00000000 00:00 0\r\n7fb45cc01000-7fb45cc1a000 r-xp 00000000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7fb45cc1a000-7fb45ce19000 ---p 00019000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7fb45ce19000-7fb45ce1a000 r--p 00018000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7fb45ce1a000-7fb45ce1b000 rw-p 00019000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7fb45ce1b000-7fb45ce1e000 r-xp 00000000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7fb45ce1e000-7fb45d01d000 ---p 00003000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7fb45d01d000-7fb45d01e000 r--p 00002000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7fb45d01e000-7fb45d01f000 rw-p 00003000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7fb45d01f000-7fb45d037000 r-xp 00000000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7fb45d037000-7fb45d236000 ---p 00018000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7fb45d236000-7fb45d237000 r--p 00017000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7fb45d237000-7fb45d238000 rw-p 00018000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7fb45d238000-7fb45d23c000 rw-p 00000000 00:00 0\r\n7fb45d23c000-7fb45d262000 r-xp 00000000 ca:01 132976                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7fb45d427000-7fb45d44f000 rw-p 00000000 00:00 0\r\n7fb45d45e000-7fb45d461000 rw-p 00000000 00:00 0\r\n7fb45d461000-7fb45d462000 r--p 00025000 ca:01 132976                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7fb45d462000-7fb45d463000 rw-p 00026000 ca:01 132976                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7fb45d463000-7fb45d464000 rw-p 00000000 00:00 0\r\n7fffc121d000-7fffc123f000 rw-p 00000000 00:00 0                          [stack]\r\n7fffc12bb000-7fffc12bd000 r--p 00000000 00:00 0                          [vvar]\r\n7fffc12bd000-7fffc12bf000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\n*** Error in `/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc': munmap_chunk(): invalid pointer: 0x0000000005bab488 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x77725)[0x7f45c82a3725]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x1a8)[0x7f45c82afc18]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(_ZN4llvm15LLVMContextImplD2Ev+0x2b6f)[0xb9746f]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(_ZN4llvm11LLVMContextD1Ev+0x14)[0xb8e264]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(main+0x157)[0x564d67]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7f45c824c830]\r\n/mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc(_start+0x29)[0x584ec9]\r\n======= Memory map: ========\r\n00400000-0146b000 r-xp 00000000 ca:50 4075774                            /mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc\r\n0166b000-0177e000 r--p 0106b000 ca:50 4075774                            /mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc\r\n0177e000-01780000 rw-p 0117e000 ca:50 4075774                            /mnt2/dev/emsdk_portable/clang/fastcomp/build_incoming_64/bin/llc\r\n01780000-0179a000 rw-p 00000000 00:00 0\r\n02aa8000-06e66000 rw-p 00000000 00:00 0                                  [heap]\r\n7f45c6d87000-7f45c7589000 rw-p 00000000 00:00 0\r\n7f45c7feb000-7f45c822c000 rw-p 00000000 00:00 0\r\n7f45c822c000-7f45c83ec000 r-xp 00000000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f45c83ec000-7f45c85eb000 ---p 001c0000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f45c85eb000-7f45c85ef000 r--p 001bf000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f45c85ef000-7f45c85f1000 rw-p 001c3000 ca:01 132988                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f45c85f1000-7f45c85f5000 rw-p 00000000 00:00 0\r\n7f45c85f5000-7f45c860b000 r-xp 00000000 ca:01 133006                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f45c860b000-7f45c880a000 ---p 00016000 ca:01 133006                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f45c880a000-7f45c880b000 rw-p 00015000 ca:01 133006                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f45c880b000-7f45c8913000 r-xp 00000000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f45c8913000-7f45c8b12000 ---p 00108000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f45c8b12000-7f45c8b13000 r--p 00107000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f45c8b13000-7f45c8b14000 rw-p 00108000 ca:01 133023                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f45c8b14000-7f45c8c86000 r-xp 00000000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f45c8c86000-7f45c8e86000 ---p 00172000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f45c8e86000-7f45c8e90000 r--p 00172000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f45c8e90000-7f45c8e92000 rw-p 0017c000 ca:01 7972                       /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f45c8e92000-7f45c8e96000 rw-p 00000000 00:00 0\r\n7f45c8e96000-7f45c8eaf000 r-xp 00000000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f45c8eaf000-7f45c90ae000 ---p 00019000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f45c90ae000-7f45c90af000 r--p 00018000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f45c90af000-7f45c90b0000 rw-p 00019000 ca:01 133077                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f45c90b0000-7f45c90b3000 r-xp 00000000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f45c90b3000-7f45c92b2000 ---p 00003000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f45c92b2000-7f45c92b3000 r--p 00002000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f45c92b3000-7f45c92b4000 rw-p 00003000 ca:01 132999                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f45c92b4000-7f45c92cc000 r-xp 00000000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f45c92cc000-7f45c94cb000 ---p 00018000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f45c94cb000-7f45c94cc000 r--p 00017000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f45c94cc000-7f45c94cd000 rw-p 00018000 ca:01 133054                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f45c94cd000-7f45c94d1000 rw-p 00000000 00:00 0\r\n7f45c94d1000-7f45c94f7000 r-xp 00000000 ca:01 132976                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f45c96dd000-7f45c96e4000 rw-p 00000000 00:00 0\r\n7f45c96f3000-7f45c96f6000 rw-p 00000000 00:00 0\r\n7f45c96f6000-7f45c96f7000 r--p 00025000 ca:01 132976                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f45c96f7000-7f45c96f8000 rw-p 00026000 ca:01 132976                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f45c96f8000-7f45c96f9000 rw-p 00000000 00:00 0\r\n7ffecc7e6000-7ffecc808000 rw-p 00000000 00:00 0                          [stack]\r\n7ffecc992000-7ffecc994000 r--p 00000000 00:00 0                          [vvar]\r\n7ffecc994000-7ffecc996000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\n```\r\n\r\nVersions:\r\n\r\n```\r\nrustc 1.15.0-dev (295148862 2016-11-21)\r\nemcc (Emscripten gcc/clang-like replacement) 1.36.14 (commit 834d78e085cd8d3848f534be9c937baa9460e3e5)\r\n```", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/37952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/37952/timeline", "performed_via_github_app": null, "state_reason": "completed"}