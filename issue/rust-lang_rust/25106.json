{"url": "https://api.github.com/repos/rust-lang/rust/issues/25106", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25106/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25106/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25106/events", "html_url": "https://github.com/rust-lang/rust/issues/25106", "id": 73128469, "node_id": "MDU6SXNzdWU3MzEyODQ2OQ==", "number": 25106, "title": "Uppercase strings rather than chars for small-caps", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-04T21:10:17Z", "updated_at": "2015-05-04T21:36:44Z", "closed_at": "2015-05-04T21:36:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, `font-variant: small-caps` is implemented with _synthesized_ small caps: transform the text to upper case and use a smaller font size. `gfx::font::glyph_index` contains code like `codepoint.to_uppercase().next().unwrap()` to find the upper case of a single code point. `.next().unwrap()` takes the first `char` in the iterator returned by `char::to_uppercase` and drops the rest.\n\nThis is OK at the moment since the iterator always of length 1. But in the future, it will do complex case mapping and may yield more than one char, and the rest should not be dropped. See https://github.com/rust-lang/rust/pull/23126\n\nThe small-caps implementation should probably use `str::to_uppercase` earlier in the code, before considering individual `char`s.\n", "closed_by": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25106/timeline", "performed_via_github_app": null, "state_reason": "completed"}