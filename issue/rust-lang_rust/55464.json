{"url": "https://api.github.com/repos/rust-lang/rust/issues/55464", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/55464/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/55464/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/55464/events", "html_url": "https://github.com/rust-lang/rust/issues/55464", "id": 374933664, "node_id": "MDU6SXNzdWUzNzQ5MzM2NjQ=", "number": 55464, "title": "ICE when debug-printing an instance", "user": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-10-29T09:50:43Z", "updated_at": "2019-03-15T17:39:04Z", "closed_at": "2019-03-15T17:39:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Even with https://github.com/rust-lang/rust/pull/55199 landed, we still get ICEs when printing some instances. This is witnessed by applying [this patch](https://github.com/RalfJung/rust/commit/22b1fae859d3afc5caa108239f36ead893f0132b). Subsequently, building libcore fails.\r\n\r\n<details><summary>Show backtrace</summary>\r\n\r\n```\r\nBuilding stage1 std artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\r\n   Compiling core v0.0.0 (/home/r/src/rust/rustc.2/src/libcore)                                                                                                                                                    \r\nthread 'main' panicked at 'index out of bounds: the len is 0 but the index is 0', librustc/ty/subst.rs:268:41                                                                                                      \r\nstack backtrace:\r\n   0: std::sys::unix::backtrace::tracing::imp::unwind_backtrace\r\n             at libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1: std::sys_common::backtrace::print\r\n             at libstd/sys_common/backtrace.rs:71\r\n             at libstd/sys_common/backtrace.rs:59\r\n   2: std::panicking::default_hook::{{closure}}\r\n             at libstd/panicking.rs:211\r\n   3: std::panicking::default_hook\r\n             at libstd/panicking.rs:227\r\n   4: rustc::util::common::panic_hook\r\n             at librustc/util/common.rs:51\r\n   5: std::panicking::rust_panic_with_hook\r\n             at libstd/panicking.rs:480\r\n   6: std::panicking::continue_panic_fmt\r\n             at libstd/panicking.rs:390\r\n   7: rust_begin_unwind\r\n             at libstd/panicking.rs:325\r\n   8: core::panicking::panic_fmt\r\n             at libcore/panicking.rs:77\r\n   9: core::panicking::panic_bounds_check\r\n             at libcore/panicking.rs:59\r\n  10: rustc::ty::context::tls::with\r\n             at librustc/ty/subst.rs:268\r\n             at librustc/util/ppaux.rs:322\r\n             at ./libcore/result.rs:647\r\n             at librustc/util/ppaux.rs:322\r\n             at librustc/ty/context.rs:2168\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2168\r\n  11: rustc::util::ppaux::PrintContext::parameterized\r\n             at librustc/util/ppaux.rs:265\r\n  12: rustc::util::ppaux::parameterized\r\n             at librustc/util/ppaux.rs:563\r\n  13: <rustc::ty::instance::Instance<'tcx> as core::fmt::Display>::fmt\r\n             at librustc/ty/instance.rs:185\r\n  14: core::fmt::write\r\n             at libcore/fmt/mod.rs:1102\r\n             at libcore/fmt/mod.rs:1049\r\n  15: rustc_mir::const_eval::const_eval_raw_provider\r\n             at ./libcore/fmt/mod.rs:226\r\n             at ./liballoc/string.rs:2150\r\n             at librustc_mir/const_eval.rs:617\r\n  16: rustc::ty::query::__query_compute::const_eval_raw\r\n             at librustc/ty/query/plumbing.rs:834\r\n             at librustc/ty/query/plumbing.rs:796\r\n  17: rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors<'tcx> for rustc::ty::query::queries::const_eval_raw<'tcx>>::compute\r\n             at librustc/ty/query/plumbing.rs:826\r\n  18: rustc::ty::context::tls::with_context\r\n             at librustc/dep_graph/graph.rs:275\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/dep_graph/graph.rs:274\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n  19: rustc::dep_graph::graph::DepGraph::with_task_impl\r\n             at librustc/dep_graph/graph.rs:268\r\n  20: rustc::ty::context::tls::with_related_context\r\n             at librustc/dep_graph/graph.rs:208\r\n             at librustc/ty/query/plumbing.rs:550\r\n             at librustc/ty/query/plumbing.rs:208\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/ty/query/plumbing.rs:207\r\n             at librustc/ty/context.rs:2138\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2133\r\n  21: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::force_query_with_job\r\n             at librustc/ty/query/plumbing.rs:197\r\n             at librustc/ty/query/plumbing.rs:543\r\n  22: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::get_query\r\n             at librustc/ty/query/plumbing.rs:424\r\n             at librustc/ty/query/plumbing.rs:629\r\n             at librustc/ty/query/plumbing.rs:640\r\n  23: rustc::ty::query::<impl rustc::ty::context::TyCtxt<'a, 'tcx, 'lcx>>::const_eval_raw\r\n             at librustc/ty/query/plumbing.rs:888\r\n             at librustc/ty/query/plumbing.rs:881\r\n  24: rustc_mir::const_eval::const_eval_provider\r\n             at librustc_mir/const_eval.rs:584\r\n  25: rustc::ty::query::__query_compute::const_eval\r\n             at librustc/ty/query/plumbing.rs:834\r\n             at librustc/ty/query/plumbing.rs:796\r\n  26: rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors<'tcx> for rustc::ty::query::queries::const_eval<'tcx>>::compute\r\n             at librustc/ty/query/plumbing.rs:826\r\n  27: rustc::ty::context::tls::with_context\r\n             at librustc/dep_graph/graph.rs:275\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/dep_graph/graph.rs:274\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n  28: rustc::dep_graph::graph::DepGraph::with_task_impl\r\n             at librustc/dep_graph/graph.rs:268\r\n  29: rustc::ty::context::tls::with_related_context\r\n             at librustc/dep_graph/graph.rs:208\r\n             at librustc/ty/query/plumbing.rs:550\r\n             at librustc/ty/query/plumbing.rs:208\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/ty/query/plumbing.rs:207\r\n             at librustc/ty/context.rs:2138\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2133\r\n  30: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::force_query_with_job\r\n             at librustc/ty/query/plumbing.rs:197\r\n             at librustc/ty/query/plumbing.rs:543\r\n  31: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::get_query\r\n             at librustc/ty/query/plumbing.rs:424\r\n             at librustc/ty/query/plumbing.rs:629\r\n             at librustc/ty/query/plumbing.rs:640\r\n  32: <rustc::traits::project::AssociatedTypeNormalizer<'a, 'b, 'gcx, 'tcx> as rustc::ty::fold::TypeFolder<'gcx, 'tcx>>::fold_const\r\n             at librustc/ty/query/plumbing.rs:888\r\n             at librustc/ty/query/plumbing.rs:881\r\n             at librustc/traits/project.rs:451\r\n  33: rustc::ty::structural_impls::<impl rustc::ty::fold::TypeFoldable<'tcx> for &'tcx rustc::ty::TyS<'tcx>>::super_fold_with\r\n             at librustc/ty/structural_impls.rs:1043\r\n             at librustc/ty/structural_impls.rs:712\r\n  34: <rustc::traits::project::AssociatedTypeNormalizer<'a, 'b, 'gcx, 'tcx> as rustc::ty::fold::TypeFolder<'gcx, 'tcx>>::fold_ty\r\n             at librustc/traits/project.rs:367\r\n  35: rustc::traits::project::normalize\r\n             at ./librustc/ty/structural_impls.rs:751\r\n             at ./librustc/traits/project.rs:345\r\n             at ./librustc/traits/project.rs:304\r\n             at ./librustc/traits/project.rs:288\r\n  36: rustc::infer::InferCtxt::partially_normalize_associated_types_in\r\n             at ./librustc/infer/mod.rs:1466\r\n  37: <rustc_typeck::check::FnCtxt<'a, 'gcx, 'tcx> as rustc_typeck::astconv::AstConv<'gcx, 'tcx>>::normalize_ty\r\n             at librustc_typeck/check/mod.rs:685\r\n             at librustc_typeck/check/mod.rs:2311\r\n             at librustc_typeck/check/mod.rs:1934\r\n  38: <(dyn rustc_typeck::astconv::AstConv<'gcx, 'tcx> + 'o)>::ast_ty_to_ty\r\n             at librustc_typeck/astconv.rs:1506\r\n  39: <(dyn rustc_typeck::astconv::AstConv<'gcx, 'tcx> + 'o)>::create_substs_for_generic_args\r\n             at librustc_typeck/check/mod.rs:2355\r\n             at librustc_typeck/check/mod.rs:5162\r\n             at librustc_typeck/astconv.rs:502\r\n  40: rustc_typeck::check::FnCtxt::instantiate_value_path\r\n             at librustc_typeck/check/mod.rs:5131\r\n  41: rustc_typeck::check::FnCtxt::check_expr_kind\r\n             at librustc_typeck/check/mod.rs:3934\r\n  42: rustc_typeck::check::FnCtxt::check_expr_with_expectation_and_needs\r\n             at librustc_typeck/check/mod.rs:3755\r\n  43: rustc_typeck::check::FnCtxt::check_expr_kind\r\n             at librustc_typeck/check/mod.rs:3063\r\n             at librustc_typeck/check/mod.rs:3067\r\n             at librustc_typeck/check/callee.rs:52\r\n             at librustc_typeck/check/mod.rs:4166\r\n  44: rustc_typeck::check::FnCtxt::check_expr_with_expectation_and_needs\r\n             at librustc_typeck/check/mod.rs:3755\r\n  45: rustc_typeck::check::FnCtxt::with_breakable_ctxt\r\n             at librustc_typeck/check/mod.rs:3063\r\n             at librustc_typeck/check/mod.rs:4612\r\n             at ./libcore/option.rs:424\r\n             at librustc_typeck/check/mod.rs:4612\r\n             at librustc_typeck/check/mod.rs:5293\r\n  46: rustc_typeck::check::FnCtxt::check_block_with_expected\r\n             at librustc_typeck/check/mod.rs:4605\r\n  47: rustc_typeck::check::FnCtxt::check_expr_kind\r\n             at librustc_typeck/check/mod.rs:4163\r\n  48: rustc_typeck::check::FnCtxt::check_expr_with_expectation_and_needs\r\n             at librustc_typeck/check/mod.rs:3755\r\n  49: rustc_typeck::check::FnCtxt::check_expr_kind\r\n             at librustc_typeck/check/mod.rs:3908\r\n  50: rustc_typeck::check::FnCtxt::check_expr_with_expectation_and_needs\r\n             at librustc_typeck/check/mod.rs:3755\r\n  51: rustc_typeck::check::FnCtxt::check_argument_types\r\n             at librustc_typeck/check/mod.rs:3063\r\n             at librustc_typeck/check/mod.rs:2888\r\n  52: rustc_typeck::check::FnCtxt::check_method_argument_types\r\n             at librustc_typeck/check/mod.rs:2711\r\n  53: rustc_typeck::check::FnCtxt::check_expr_kind\r\n             at librustc_typeck/check/mod.rs:3179\r\n             at librustc_typeck/check/mod.rs:4169\r\n  54: rustc_typeck::check::FnCtxt::check_expr_with_expectation_and_needs\r\n             at librustc_typeck/check/mod.rs:3755\r\n  55: rustc_typeck::check::FnCtxt::with_breakable_ctxt\r\n             at librustc_typeck/check/mod.rs:3063\r\n             at librustc_typeck/check/mod.rs:4612\r\n             at ./libcore/option.rs:424\r\n             at librustc_typeck/check/mod.rs:4612\r\n             at librustc_typeck/check/mod.rs:5293\r\n  56: rustc_typeck::check::FnCtxt::check_block_with_expected\r\n             at librustc_typeck/check/mod.rs:4605\r\n  57: rustc_typeck::check::FnCtxt::check_expr_kind\r\n             at librustc_typeck/check/mod.rs:4163\r\n  58: rustc_typeck::check::FnCtxt::check_expr_with_expectation_and_needs\r\n             at librustc_typeck/check/mod.rs:3755\r\n  59: rustc_typeck::check::FnCtxt::check_return_expr\r\n             at librustc_typeck/check/mod.rs:3063\r\n             at librustc_typeck/check/mod.rs:3057\r\n             at librustc_typeck/check/mod.rs:3195\r\n  60: rustc_typeck::check::check_fn\r\n             at librustc_typeck/check/mod.rs:1103\r\n  61: rustc::ty::context::tls::with_context::{{closure}}\r\n             at librustc_typeck/check/mod.rs:866\r\n             at librustc_typeck/check/mod.rs:621\r\n             at ./librustc/infer/mod.rs:526\r\n             at ./librustc/ty/context.rs:1674\r\n             at ./librustc/ty/context.rs:2038\r\n             at ./librustc/ty/context.rs:1977\r\n             at ./librustc/ty/context.rs:2037\r\n             at ./librustc/ty/context.rs:1673\r\n             at ./librustc/ty/context.rs:2138\r\n             at ./librustc/ty/context.rs:2122\r\n  62: rustc::ty::context::GlobalCtxt::enter_local\r\n             at ./librustc/ty/context.rs:2113\r\n             at ./librustc/ty/context.rs:2122\r\n             at ./librustc/ty/context.rs:2133\r\n             at ./librustc/ty/context.rs:1666\r\n  63: rustc::infer::InferCtxtBuilder::enter\r\n             at ./librustc/infer/mod.rs:525\r\n  64: rustc_typeck::check::typeck_tables_of\r\n             at librustc_typeck/check/mod.rs:621\r\n             at librustc_typeck/check/mod.rs:850\r\n  65: rustc::ty::query::__query_compute::typeck_tables_of\r\n             at librustc/ty/query/plumbing.rs:834\r\n             at librustc/ty/query/plumbing.rs:796\r\n  66: rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors<'tcx> for rustc::ty::query::queries::typeck_tables_of<'tcx>>::compute\r\n             at librustc/ty/query/plumbing.rs:826\r\n  67: rustc::ty::context::tls::with_context\r\n             at librustc/dep_graph/graph.rs:275\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/dep_graph/graph.rs:274\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n  68: rustc::dep_graph::graph::DepGraph::with_task_impl\r\n             at librustc/dep_graph/graph.rs:268\r\n  69: rustc::ty::context::tls::with_related_context\r\n             at librustc/dep_graph/graph.rs:208\r\n             at librustc/ty/query/plumbing.rs:550\r\n             at librustc/ty/query/plumbing.rs:208\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/ty/query/plumbing.rs:207\r\n             at librustc/ty/context.rs:2138\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2133\r\n  70: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::force_query_with_job\r\n             at librustc/ty/query/plumbing.rs:197\r\n             at librustc/ty/query/plumbing.rs:543\r\n  71: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::get_query\r\n             at librustc/ty/query/plumbing.rs:424\r\n             at librustc/ty/query/plumbing.rs:629\r\n             at librustc/ty/query/plumbing.rs:640\r\n  72: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::ensure_query\r\n             at librustc/ty/query/plumbing.rs:602\r\n  73: rustc::ty::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::par_body_owners\r\n             at librustc_typeck/check/mod.rs:723\r\n             at ./librustc/ty/mod.rs:2553\r\n             at ./libcore/iter/iterator.rs:614\r\n             at ./libcore/slice/mod.rs:2906\r\n             at ./libcore/iter/iterator.rs:614\r\n             at ./librustc/ty/mod.rs:2552\r\n  74: rustc_typeck::check::typeck_item_bodies\r\n             at librustc_typeck/check/mod.rs:722\r\n             at ./librustc/session/mod.rs:323\r\n             at librustc_typeck/check/mod.rs:721\r\n  75: rustc::ty::query::<impl rustc::ty::query::config::QueryAccessors<'tcx> for rustc::ty::query::queries::typeck_item_bodies<'tcx>>::compute\r\n             at librustc/ty/query/plumbing.rs:826\r\n  76: rustc::ty::context::tls::with_context\r\n             at librustc/dep_graph/graph.rs:275\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/dep_graph/graph.rs:274\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n  77: rustc::dep_graph::graph::DepGraph::with_task_impl\r\n             at librustc/dep_graph/graph.rs:268\r\n  78: rustc::ty::context::tls::with_related_context\r\n             at librustc/dep_graph/graph.rs:208\r\n             at librustc/ty/query/plumbing.rs:550\r\n             at librustc/ty/query/plumbing.rs:208\r\n             at librustc/ty/context.rs:2038\r\n             at librustc/ty/context.rs:1977\r\n             at librustc/ty/context.rs:2037\r\n             at librustc/ty/query/plumbing.rs:207\r\n             at librustc/ty/context.rs:2138\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2113\r\n             at librustc/ty/context.rs:2122\r\n             at librustc/ty/context.rs:2133\r\n  79: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::force_query_with_job\r\n             at librustc/ty/query/plumbing.rs:197\r\n             at librustc/ty/query/plumbing.rs:543\r\n  80: rustc::ty::query::plumbing::<impl rustc::ty::context::TyCtxt<'a, 'gcx, 'tcx>>::get_query\r\n             at librustc/ty/query/plumbing.rs:424\r\n             at librustc/ty/query/plumbing.rs:629\r\n             at librustc/ty/query/plumbing.rs:640\r\n  81: rustc::util::common::time\r\n             at librustc_typeck/check/mod.rs:714\r\n             at librustc_typeck/lib.rs:360\r\n             at ./librustc/util/common.rs:163\r\n             at ./librustc/util/common.rs:157\r\n  82: rustc_typeck::check_crate\r\n             at librustc_typeck/lib.rs:360\r\n  83: rustc::ty::context::tls::enter_context\r\n             at librustc_driver/driver.rs:1289\r\n             at ./librustc/ty/context.rs:2070\r\n             at ./librustc/ty/context.rs:2038\r\n             at ./librustc/ty/context.rs:1977\r\n             at ./librustc/ty/context.rs:2037\r\n  84: <std::thread::local::LocalKey<T>>::with\r\n             at ./librustc/ty/context.rs:2069\r\n             at ./librustc/ty/context.rs:2027\r\n             at ./libstd/thread/local.rs:300\r\n             at ./libstd/thread/local.rs:254\r\n             at ./librustc/ty/context.rs:2019\r\n             at ./libstd/thread/local.rs:300\r\n             at ./libstd/thread/local.rs:254\r\n  85: rustc::ty::context::TyCtxt::create_and_enter\r\n             at ./librustc/ty/context.rs:2011\r\n             at ./librustc/ty/context.rs:2049\r\n             at ./librustc/ty/context.rs:1247\r\n  86: rustc_driver::driver::phase_3_run_analysis_passes\r\n             at librustc_driver/driver.rs:1263\r\n  87: rustc_driver::driver::compile_input\r\n             at librustc_driver/driver.rs:287\r\n  88: rustc_driver::run_compiler_with_pool\r\n             at librustc_driver/lib.rs:544\r\n  89: <scoped_tls::ScopedKey<T>>::set\r\n             at librustc_driver/lib.rs:466\r\n             at librustc_driver/driver.rs:76\r\n             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-0.1.2/src/lib.rs:155\r\n  90: rustc_driver::run_compiler\r\n             at librustc_driver/driver.rs:75\r\n             at librustc_driver/lib.rs:465\r\n  91: <scoped_tls::ScopedKey<T>>::set\r\n             at librustc_driver/lib.rs:1717\r\n             at librustc_driver/lib.rs:181\r\n             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-0.1.2/src/lib.rs:155\r\n             at ./libsyntax/lib.rs:106\r\n             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/scoped-tls-0.1.2/src/lib.rs:155\r\n  92: std::panicking::try::do_call\r\n             at ./libsyntax/lib.rs:105\r\n             at librustc_driver/lib.rs:180\r\n             at librustc_driver/lib.rs:1632\r\n             at ./libstd/panic.rs:313\r\n             at ./libstd/panicking.rs:310\r\n  93: __rust_maybe_catch_panic\r\n             at libpanic_unwind/lib.rs:102\r\n  94: std::panicking::try\r\n             at ./libstd/panicking.rs:289\r\n  95: rustc_driver::run\r\n             at ./libstd/panic.rs:392\r\n             at librustc_driver/lib.rs:1546\r\n             at librustc_driver/lib.rs:1557\r\n             at librustc_driver/lib.rs:1631\r\n             at librustc_driver/lib.rs:179\r\n  96: rustc_driver::main\r\n             at librustc_driver/lib.rs:1710\r\n  97: std::rt::lang_start::{{closure}}\r\n             at ./libstd/rt.rs:74\r\n  98: std::panicking::try::do_call\r\n             at libstd/rt.rs:59\r\n             at libstd/panicking.rs:310\r\n  99: __rust_maybe_catch_panic\r\n             at libpanic_unwind/lib.rs:102\r\nquery stack during panic:\r\n#0 [const_eval_raw] const-evaluating `hash::Hasher::write_u16::{{constant}}`\r\n#1 [const_eval] const-evaluating + checking `hash::Hasher::write_u16::{{constant}}`\r\n#2 [typeck_tables_of] processing `hash::Hasher::write_u16`\r\n#3 [typeck_item_bodies] type-checking all item bodies\r\nend of query stack\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.31.0-dev running on x86_64-unknown-linux-gnu\r\n\r\nnote: compiler flags: -Z always-encode-mir -Z mir-emit-validate=1 -Z force-unstable-if-unmarked -C opt-level=2 -C incremental -C prefer-dynamic -C debuginfo=1 -C debug-assertions=y -C link-args=-Wl,-rpath,$ORIGIN/../lib --crate-type lib\r\n\r\nnote: some of the compiler flags provided by cargo are hidden\r\n\r\nerror: Could not compile `core`.                                                                                                                                                                                   \r\n```\r\n\r\n</details><br>\r\n\r\nCc @oli-obk ", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/55464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/55464/timeline", "performed_via_github_app": null, "state_reason": "completed"}