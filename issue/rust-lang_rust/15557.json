{"url": "https://api.github.com/repos/rust-lang/rust/issues/15557", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/15557/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/15557/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/15557/events", "html_url": "https://github.com/rust-lang/rust/issues/15557", "id": 37493509, "node_id": "MDU6SXNzdWUzNzQ5MzUwOQ==", "number": 15557, "title": "index out of bounds at middle::subst:405", "user": {"login": "bgamari", "id": 1010174, "node_id": "MDQ6VXNlcjEwMTAxNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1010174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bgamari", "html_url": "https://github.com/bgamari", "followers_url": "https://api.github.com/users/bgamari/followers", "following_url": "https://api.github.com/users/bgamari/following{/other_user}", "gists_url": "https://api.github.com/users/bgamari/gists{/gist_id}", "starred_url": "https://api.github.com/users/bgamari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bgamari/subscriptions", "organizations_url": "https://api.github.com/users/bgamari/orgs", "repos_url": "https://api.github.com/users/bgamari/repos", "events_url": "https://api.github.com/users/bgamari/events{/privacy}", "received_events_url": "https://api.github.com/users/bgamari/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-07-09T18:18:54Z", "updated_at": "2014-07-12T19:44:29Z", "closed_at": "2014-07-10T21:00:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Compiling [this program](https://gist.github.com/bgamari/d3e3a7a6b83c1bfaa00e/a6833426eb941d47232d305a86571b0962ce554c) results in the following error with rustc 00cdd639a93ec1dcad85cebc52214eeba0441c93,\n\n```\n$ RUST_LOG=rustc::middle::kind,rustc::middle::typeck::astconv RUST_BACKTRACE=1 /opt/exp/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc crash.rs\nInterDEBUG:rustc::middle::typeck::astconv: ast_region_to_region(lifetime='a id=8) yields ReEarlyBound(12, TypeSpace, 0, 'a)\nDEBUG:rustc::middle::typeck::astconv: opt_ast_region_to_region(opt_lifetime=Some('a)) yields ReEarlyBound(12, TypeSpace, 0, 'a)\nDEBUG:rustc::middle::typeck::astconv: ty_rptr r=ReEarlyBound(12, TypeSpace, 0, 'a)\nDEBUG:rustc::middle::typeck::astconv: mk_pointer(ptr_ty=RPtr(ReEarlyBound(12u32, TypeSpace, 0u, syntax::ast::Name(58u32))))\nDEBUG:rustc::middle::typeck::astconv: ast_region_to_region(lifetime='a id=18) yields ReEarlyBound(14, TypeSpace, 0, 'a)\nDEBUG:rustc::middle::typeck::astconv: ty_of_method_or_bare_fn\nDEBUG:rustc::middle::typeck::astconv: opt_ast_region_to_region(opt_lifetime=None) yields ReLateBound(19, BrAnon(0))\nDEBUG:rustc::middle::typeck::astconv: ty_of_method_or_bare_fn\nDEBUG:rustc::middle::kind: checking impl with self type ty_struct(DefId { krate: 0, node: 5 }, Substs { types: VecPerParamSpace {TypeSpace: [], SelfSpace: [], FnSpace: [], }, regions: NonerasedRegions(VecPerParamSpace {TypeSpace: [ReEarlyBound(14, TypeSpace, 0, Name(58))], SelfSpace: [], FnSpace: [], }) })\ncrash.rs:1:1: 1:1 error: internal compiler error: Type parameter out of range when substituting in region 'a (root type='au32)\ncrash.rs:1 use std::ty::Unsafe;\n\ntask 'rustc' failed at 'Box<Any>', /opt/exp/rust/src/libsyntax/diagnostic.rs:107\n\nstack backtrace:\n   1:     0x7fc9e8922840 - rt::backtrace::imp::write::h0a20b0836877d9ac0Mp::v0.11.0\n   2:     0x7fc9e89260a0 - failure::on_fail::h9368950ceb08d6a5f8p::v0.11.0\n   3:     0x7fc9e90f7eb0 - unwind::begin_unwind_inner::h1ea00938b93c7417cZd::v0.11.0\n   4:     0x7fc9e75bf9a0 - unwind::begin_unwind::h12621653176727986714::v0.11.0\n   5:     0x7fc9e75bf8d0 - diagnostic::SpanHandler::span_bug::h4bae981243ffc58eMac::v0.11.0\n   6:     0x7fc9e990c470 - driver::session::Session::span_bug::hc179e601dc679fecYos::v0.11.0\n   7:     0x7fc9e991d800 - middle::subst::SubstFolder<'a>.TypeFolder::fold_region::he5ebd51cee9a84b33rV::v0.11.0\n   8:     0x7fc9e98c4270 - middle::subst::SubstFolder<'a>.TypeFolder::fold_ty::h59e6cfaf115bff0ahuV::v0.11.0\n   9:     0x7fc9e98c4180 - middle::subst::T.Subst::subst_spanned::h16361762956049246516::v0.11.0\n  10:     0x7fc9e9a45830 - middle::ty::lookup_field_type::h3e7b27996e88cd1bHMS::v0.11.0\n  11:     0x7fc9e9901c90 - middle::ty::struct_fields::h729f0dbbcf21bf37YUS::v0.11.0\n  12:     0x7fc9e9a71fd0 - middle::ty::type_contents::tc_ty::h7d685e11e712e8a6V1P::v0.11.0\n  13:     0x7fc9e9a0a250 - middle::ty::type_contents::h8e510766cec98181R0P::v0.11.0\n  14:     0x7fc9e9dbefd0 - middle::kind::check_item::hfa5461b803c6c40dwpR::v0.11.0\n  15:     0x7fc9e9dc1ed0 - middle::kind::check_crate::h70941b58fca9fc5bVfR::v0.11.0\n  16:     0x7fc9ea0edfd0 - driver::driver::phase_3_run_analysis_passes::hd94ede6fcda9089cznr::v0.11.0\n  17:     0x7fc9ea0e9750 - driver::driver::compile_input::h22443fcf4e1357eafar::v0.11.0\n  18:     0x7fc9ea1a0140 - driver::run_compiler::hd0a576aeaeea68b3W0t::v0.11.0\n  19:     0x7fc9ea1a0050 - driver::main_args::closure.127086\n  20:     0x7fc9ea1b4560 - task::TaskBuilder<S>::try_future::closure.128230\n  21:     0x7fc9ea1b4230 - task::TaskBuilder<S>::spawn_internal::closure.128207\n  22:     0x7fc9ec193d00 - task::spawn_opts::closure.7759\n  23:     0x7fc9e9252e60 - rust_try\n  24:     0x7fc9e90f4490 - unwind::try::hb071379e55686597BNd::v0.11.0\n  25:     0x7fc9e90f4190 - task::Task::run::ha6ba4f51b8a2758dXYc::v0.11.0\n  26:     0x7fc9ec193ac0 - task::spawn_opts::closure.7705\n  27:     0x7fc9e90f6ce0 - thread::thread_start::hc20479a5894ce695vld::v0.11.0\n  28:     0x7fc9e83a40c0 - start_thread\n  29:     0x7fc9e8dbb2d9 - __clone\n  30:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bgamari", "id": 1010174, "node_id": "MDQ6VXNlcjEwMTAxNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1010174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bgamari", "html_url": "https://github.com/bgamari", "followers_url": "https://api.github.com/users/bgamari/followers", "following_url": "https://api.github.com/users/bgamari/following{/other_user}", "gists_url": "https://api.github.com/users/bgamari/gists{/gist_id}", "starred_url": "https://api.github.com/users/bgamari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bgamari/subscriptions", "organizations_url": "https://api.github.com/users/bgamari/orgs", "repos_url": "https://api.github.com/users/bgamari/repos", "events_url": "https://api.github.com/users/bgamari/events{/privacy}", "received_events_url": "https://api.github.com/users/bgamari/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/15557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/15557/timeline", "performed_via_github_app": null, "state_reason": "completed"}