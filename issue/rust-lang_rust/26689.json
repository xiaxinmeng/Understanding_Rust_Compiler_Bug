{"url": "https://api.github.com/repos/rust-lang/rust/issues/26689", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26689/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26689/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26689/events", "html_url": "https://github.com/rust-lang/rust/issues/26689", "id": 92198845, "node_id": "MDU6SXNzdWU5MjE5ODg0NQ==", "number": 26689, "title": "Warn that Chars iterator does not iterate \"characters\"", "user": {"login": "kornelski", "id": 72159, "node_id": "MDQ6VXNlcjcyMTU5", "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kornelski", "html_url": "https://github.com/kornelski", "followers_url": "https://api.github.com/users/kornelski/followers", "following_url": "https://api.github.com/users/kornelski/following{/other_user}", "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}", "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions", "organizations_url": "https://api.github.com/users/kornelski/orgs", "repos_url": "https://api.github.com/users/kornelski/repos", "events_url": "https://api.github.com/users/kornelski/events{/privacy}", "received_events_url": "https://api.github.com/users/kornelski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-06-30T21:00:33Z", "updated_at": "2015-07-26T22:00:56Z", "closed_at": "2015-07-26T22:00:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `Chars` iterator iterates over Unicode Scalar Values, but when people think about \"characters\" they usually mean something closer to what Unicode calls \"grapheme clusters\".\n\nThis leads to surprising results and thus potential errors, [for example](https://play.rust-lang.org/?code=fn%20main%28%29%20%7B%0A%20%20%20%20println!%28%22%7B%7D%22%2C%20%22%C3%A9e%CC%81%22.chars%28%29.count%28%29%29%3B%0A%7D%0A&version=nightly): \n\n```\n\"\u00e9e\u0301\".chars().count() == 3\n\"\ud83c\uddfa\ud83c\uddf8\".chars().count() == 2\n```\n\nI suggest adding a warning to the documentation that this iterator isn't iterating over \"characters\", and that users should consider using `UnicodeSegmentation::graphemes` iterator instead.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/26689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26689/timeline", "performed_via_github_app": null, "state_reason": "completed"}