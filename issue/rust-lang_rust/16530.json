{"url": "https://api.github.com/repos/rust-lang/rust/issues/16530", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/16530/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/16530/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/16530/events", "html_url": "https://github.com/rust-lang/rust/issues/16530", "id": 40403509, "node_id": "MDU6SXNzdWU0MDQwMzUwOQ==", "number": 16530, "title": "ICE on deriving(Hash) on struct with no fields", "user": {"login": "pythonesque", "id": 923144, "node_id": "MDQ6VXNlcjkyMzE0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pythonesque", "html_url": "https://github.com/pythonesque", "followers_url": "https://api.github.com/users/pythonesque/followers", "following_url": "https://api.github.com/users/pythonesque/following{/other_user}", "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}", "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions", "organizations_url": "https://api.github.com/users/pythonesque/orgs", "repos_url": "https://api.github.com/users/pythonesque/repos", "events_url": "https://api.github.com/users/pythonesque/events{/privacy}", "received_events_url": "https://api.github.com/users/pythonesque/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-08-16T04:35:22Z", "updated_at": "2015-01-16T19:11:17Z", "closed_at": "2015-01-16T19:11:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\n#[deriving(Eq, PartialEq, Hash)]\nstruct Foo;\n\npub fn main() {\n}\n```\n\n---\n\n```\n% RUST_BACKTRACE=1 rustc test.rs\ntest.rs:1:27: 1:31 error: internal compiler error: #[deriving(Hash)] needs at least one field\ntest.rs:1 #[deriving(Eq, PartialEq, Hash)]\n                                    ^~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/ast_util.rs:784\n\nstack backtrace:\n   1:     0x7f3570213e30 - rt::backtrace::imp::write::h43dac5486f5e7461t9p\n   2:     0x7f3570216ed0 - failure::on_fail::h1e234ec252bd138bGuq\n   3:     0x7f35747e3a60 - unwind::begin_unwind_inner::h84cc9a0765812e46M8d\n   4:     0x7f3571804500 - unwind::begin_unwind::h14991031895584617642\n   5:     0x7f3571804450 - diagnostic::SpanHandler::span_bug::hea4ecd8ab239d6d4sTD\n   6:     0x7f35718a5ce0 - ext::base::ExtCtxt<'a>::span_bug::h30ed7ef1c35deca6gJ1\n   7:     0x7f35718ea910 - ext::deriving::hash::expand_deriving_hash::closure.49550\n   8:     0x7f357191c520 - ext::deriving::generic::MethodDef<'a>::call_substructure_method::h847ac2788a64860bmE6\n   9:     0x7f3571918d90 - ext::deriving::generic::MethodDef<'a>::expand_struct_method_body::h0908f841e401f0523M6\n  10:     0x7f35718d9a30 - ext::deriving::generic::TraitDef<'a>::expand::h88a3267643a21a08kt6\n  11:     0x7f35718e7f50 - ext::deriving::hash::expand_deriving_hash::h0a0bb06c331b3d4fqH4\n  12:     0x7f357189e380 - ext::deriving::expand_meta_deriving::h0ddef45aa4e013d0Ox7\n  13:     0x7f3571932d80 - ext::expand::expand_item::h0339c5cb5201dae3mY7\n  14:     0x7f357193c060 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h288561640d5ac0618J8\n  15:     0x7f357193c000 - fold::noop_fold_mod::closure.50453\n  16:     0x7f35718cd0b0 - iter::Iterator::collect::h16785455321615605245\n  17:     0x7f357193b3f0 - fold::Folder::fold_mod::h2325071600941195257\n  18:     0x7f3571974a80 - ext::expand::expand_crate::h68ddffbdc9de2152RM8\n  19:     0x7f35757002e0 - driver::driver::phase_2_configure_and_expand::closure.132331\n  20:     0x7f35754ec3c0 - driver::driver::phase_2_configure_and_expand::h398a490a9a6dcd85E6v\n  21:     0x7f35756b9570 - driver::driver::compile_input::h53b0c1423273570bc0v\n  22:     0x7f357575f8d0 - driver::run_compiler::h8e215e67a47bf587ruz\n  23:     0x7f357575f7e0 - driver::main_args::closure.135617\n  24:     0x7f3575771ef0 - task::TaskBuilder<S>::try_future::closure.136778\n  25:     0x7f3575771cf0 - task::TaskBuilder<S>::spawn_internal::closure.136755\n  26:     0x7f3574b44e60 - task::spawn_opts::closure.8314\n  27:     0x7f357483b420 - rust_try_inner\n  28:     0x7f357483b410 - rust_try\n  29:     0x7f35747e10c0 - unwind::try::h9ef1228fa05d611fhXd\n  30:     0x7f35747e0e60 - task::Task::run::h7037046a47095aa6T4c\n  31:     0x7f3574b44c20 - task::spawn_opts::closure.8260\n  32:     0x7f35747e2ca0 - thread::thread_start::h6cc33e9539afe5013sd\n  33:     0x7f356f58b060 - start_thread\n  34:     0x7f35744b2489 - __clone\n  35:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/16530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/16530/timeline", "performed_via_github_app": null, "state_reason": "completed"}