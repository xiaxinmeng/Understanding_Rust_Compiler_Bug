{"url": "https://api.github.com/repos/rust-lang/rust/issues/47985", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/47985/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/47985/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/47985/events", "html_url": "https://github.com/rust-lang/rust/issues/47985", "id": 294136165, "node_id": "MDU6SXNzdWUyOTQxMzYxNjU=", "number": 47985, "title": "ICE with broken pipe", "user": {"login": "AdamNiederer", "id": 4571394, "node_id": "MDQ6VXNlcjQ1NzEzOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4571394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdamNiederer", "html_url": "https://github.com/AdamNiederer", "followers_url": "https://api.github.com/users/AdamNiederer/followers", "following_url": "https://api.github.com/users/AdamNiederer/following{/other_user}", "gists_url": "https://api.github.com/users/AdamNiederer/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdamNiederer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdamNiederer/subscriptions", "organizations_url": "https://api.github.com/users/AdamNiederer/orgs", "repos_url": "https://api.github.com/users/AdamNiederer/repos", "events_url": "https://api.github.com/users/AdamNiederer/events{/privacy}", "received_events_url": "https://api.github.com/users/AdamNiederer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-03T18:58:29Z", "updated_at": "2018-02-03T19:16:36Z", "closed_at": "2018-02-03T19:16:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Repro:\r\n\r\n```\r\n$ rustc | derp\r\n```\r\n\r\nOutput\r\n\r\n```\r\n$ RUST_BACKTRACE=full rustc | derp\r\nbash: derp: command not found\r\nthread 'rustc' panicked at 'failed printing to stdout: Broken pipe (os error 32)', libstd/io/stdio.rs:690:9\r\nstack backtrace:\r\n   0:     0x7ff53d4a858b - std::sys::unix::backtrace::tracing::imp::unwind_backtrace::h6777dc4c3f6de9b9\r\n                               at libstd/sys/unix/backtrace/tracing/gcc_s.rs:49\r\n   1:     0x7ff53d473ed0 - std::sys_common::backtrace::print::h2b9a4998e933da56\r\n                               at libstd/sys_common/backtrace.rs:71\r\n                               at libstd/sys_common/backtrace.rs:59\r\n   2:     0x7ff53d47a1a0 - std::panicking::default_hook::{{closure}}::h320975af855e84a7\r\n                               at libstd/panicking.rs:380\r\n   3:     0x7ff53d479ef7 - std::panicking::default_hook::h76239d7d4466a452\r\n                               at libstd/panicking.rs:396\r\n   4:     0x7ff53d47a5eb - std::panicking::rust_panic_with_hook::h20162ef1dca3f0d1\r\n                               at libstd/panicking.rs:576\r\n   5:     0x7ff53d47a4ae - std::panicking::begin_panic::hd430b2cb23357e97\r\n                               at libstd/panicking.rs:537\r\n   6:     0x7ff53d47a3aa - std::panicking::begin_panic_fmt::hd7ac0cdb7639cf6a\r\n                               at libstd/panicking.rs:521\r\n   7:     0x7ff53d4961b7 - std::io::stdio::_print::haa3141784e7182dd\r\n                               at libstd/io/stdio.rs:690\r\n                               at libstd/io/stdio.rs:699\r\n   8:     0x7ff53d8e1e37 - rustc_driver::usage::hab83e3f4d905e813\r\n   9:     0x7ff53d8e4053 - rustc_driver::handle_options::h9e6ef44ce2c426a6\r\n  10:     0x7ff53d8dad9a - rustc_driver::run_compiler::heed8e02952dd2b80\r\n  11:     0x7ff53d7df5c8 - std::sys_common::backtrace::__rust_begin_short_backtrace::hc7097ed49752c97f\r\n  12:     0x7ff53d4bd0be - __rust_maybe_catch_panic\r\n                               at libpanic_unwind/lib.rs:102\r\n  13:     0x7ff53d843b97 - <F as alloc::boxed::FnBox<A>>::call_box::hdbe333bbf46b4062\r\n  14:     0x7ff53d4ac487 - std::sys_common::thread::start_thread::h43bdcc5538fc8b7c\r\n                               at /checkout/src/liballoc/boxed.rs:798\r\n                               at libstd/sys_common/thread.rs:24\r\n  15:     0x7ff53d47aef8 - std::sys::unix::thread::Thread::new::thread_start::hf61986fa14cc6f4f\r\n                               at libstd/sys/unix/thread.rs:90\r\n  16:     0x7ff53795808b - start_thread\r\n  17:     0x7ff53d165e7e - __GI___clone\r\n  18:                0x0 - <unknown>\r\n\r\nerror: internal compiler error: unexpected panic\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nnote: rustc 1.25.0-nightly (616b66dca 2018-02-02) running on x86_64-unknown-linux-gnu\r\n```", "closed_by": {"login": "AdamNiederer", "id": 4571394, "node_id": "MDQ6VXNlcjQ1NzEzOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4571394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdamNiederer", "html_url": "https://github.com/AdamNiederer", "followers_url": "https://api.github.com/users/AdamNiederer/followers", "following_url": "https://api.github.com/users/AdamNiederer/following{/other_user}", "gists_url": "https://api.github.com/users/AdamNiederer/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdamNiederer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdamNiederer/subscriptions", "organizations_url": "https://api.github.com/users/AdamNiederer/orgs", "repos_url": "https://api.github.com/users/AdamNiederer/repos", "events_url": "https://api.github.com/users/AdamNiederer/events{/privacy}", "received_events_url": "https://api.github.com/users/AdamNiederer/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/47985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/47985/timeline", "performed_via_github_app": null, "state_reason": "completed"}