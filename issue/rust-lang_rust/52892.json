{"url": "https://api.github.com/repos/rust-lang/rust/issues/52892", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/52892/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/52892/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/52892/events", "html_url": "https://github.com/rust-lang/rust/issues/52892", "id": 346025353, "node_id": "MDU6SXNzdWUzNDYwMjUzNTM=", "number": 52892, "title": "unresolved external symbol GetUserProfileDirectoryW", "user": {"login": "crusty-dave", "id": 41089818, "node_id": "MDQ6VXNlcjQxMDg5ODE4", "avatar_url": "https://avatars.githubusercontent.com/u/41089818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crusty-dave", "html_url": "https://github.com/crusty-dave", "followers_url": "https://api.github.com/users/crusty-dave/followers", "following_url": "https://api.github.com/users/crusty-dave/following{/other_user}", "gists_url": "https://api.github.com/users/crusty-dave/gists{/gist_id}", "starred_url": "https://api.github.com/users/crusty-dave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crusty-dave/subscriptions", "organizations_url": "https://api.github.com/users/crusty-dave/orgs", "repos_url": "https://api.github.com/users/crusty-dave/repos", "events_url": "https://api.github.com/users/crusty-dave/events{/privacy}", "received_events_url": "https://api.github.com/users/crusty-dave/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 266005765, "node_id": "MDU6TGFiZWwyNjYwMDU3NjU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-windows-msvc", "name": "O-windows-msvc", "color": "6e6ec0", "default": false, "description": "Toolchain: MSVC, Operating system: Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-07-31T03:53:36Z", "updated_at": "2018-08-16T02:06:40Z", "closed_at": "2018-08-16T02:06:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am hitting the following link error when trying to link a rust library in VS 2017 & VS 2015.  I am trying to call an FFI function that is in the library.  I don't have any calls to GetUserProfileDirectoryW() in my code.\r\n\r\n> jims_uri.lib(std-76a5f3e41ba6c505.std2-64a60500296bcccc86151a235f68563b.rs.rcgu.o) : error LNK2019: unresolved external symbol GetUserProfileDirectoryW referenced in function _ZN3std3sys7windows14fill_utf16_buf17hbd7bb37a3f16fbfcE\r\n\r\n\r\nMy suspicion is that I need something in addition to libc?  However, if that is the case, it would seem to be a bug?  In any case, a work-around would be appreciated.  Perhaps an issue with static libraries.  Also I am building on Windows 10 / 64-bit.\r\n\r\nCargo.toml\r\n\r\n```\r\n[package]\r\nname = \"jims_uri\"\r\nversion = \"0.1.0\"\r\nauthors = [\"me\"]\r\n\r\n[lib]\r\ncrate-type = [\"staticlib\", \"rlib\"]\r\n\r\n[dependencies]\r\nlibc = \"0.2.0\"\r\nwidestring = \"0.3.0\"\r\nlazy_static = \"1.0.2\"\r\n\r\nurl = \"1.7.1\"\r\n\r\n```\r\n\r\n", "closed_by": {"login": "crusty-dave", "id": 41089818, "node_id": "MDQ6VXNlcjQxMDg5ODE4", "avatar_url": "https://avatars.githubusercontent.com/u/41089818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crusty-dave", "html_url": "https://github.com/crusty-dave", "followers_url": "https://api.github.com/users/crusty-dave/followers", "following_url": "https://api.github.com/users/crusty-dave/following{/other_user}", "gists_url": "https://api.github.com/users/crusty-dave/gists{/gist_id}", "starred_url": "https://api.github.com/users/crusty-dave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crusty-dave/subscriptions", "organizations_url": "https://api.github.com/users/crusty-dave/orgs", "repos_url": "https://api.github.com/users/crusty-dave/repos", "events_url": "https://api.github.com/users/crusty-dave/events{/privacy}", "received_events_url": "https://api.github.com/users/crusty-dave/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/52892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/52892/timeline", "performed_via_github_app": null, "state_reason": "completed"}