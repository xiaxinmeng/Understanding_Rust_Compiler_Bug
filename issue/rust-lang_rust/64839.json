{"url": "https://api.github.com/repos/rust-lang/rust/issues/64839", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/64839/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/64839/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/64839/events", "html_url": "https://github.com/rust-lang/rust/issues/64839", "id": 499414552, "node_id": "MDU6SXNzdWU0OTk0MTQ1NTI=", "number": 64839, "title": "`remap-path-prefix` is not convenient to use in .cargo/config for privacy", "user": {"login": "Boscop", "id": 535593, "node_id": "MDQ6VXNlcjUzNTU5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/535593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Boscop", "html_url": "https://github.com/Boscop", "followers_url": "https://api.github.com/users/Boscop/followers", "following_url": "https://api.github.com/users/Boscop/following{/other_user}", "gists_url": "https://api.github.com/users/Boscop/gists{/gist_id}", "starred_url": "https://api.github.com/users/Boscop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Boscop/subscriptions", "organizations_url": "https://api.github.com/users/Boscop/orgs", "repos_url": "https://api.github.com/users/Boscop/repos", "events_url": "https://api.github.com/users/Boscop/events{/privacy}", "received_events_url": "https://api.github.com/users/Boscop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 116993, "node_id": "MDU6TGFiZWwxMTY5OTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-driver", "name": "A-driver", "color": "f7e101", "default": false, "description": "Area: rustc_driver that ties everything together into the `rustc` compiler"}, {"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 609101895, "node_id": "MDU6TGFiZWw2MDkxMDE4OTU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-cargo", "name": "T-cargo", "color": "bfd4f2", "default": false, "description": "Relevant to the cargo team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}, {"id": 1508600909, "node_id": "MDU6TGFiZWwxNTA4NjAwOTA5", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-reproducibility", "name": "A-reproducibility", "color": "f7e101", "default": false, "description": "Area: Reproducible / Deterministic builds"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-27T12:23:13Z", "updated_at": "2023-06-16T16:52:58Z", "closed_at": "2023-06-16T16:52:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Let's say when building your executable for release, you have this goal: Maximum privacy, strip all paths associated with the build machine from the release executable. Requirements:\r\n- it should be doable with no cmd line flags (just a fixed `.cargo/config`)\r\n- it should work regardless of which machine the build is done on \r\n- it should work regardless of what the path to the project is on the build machine\r\n- it should not require mentioning paths from a specific build machine in any file in the repo (like `.cargo/config`)\r\n\r\n`remap-path-prefix-from` requires specifying the path to the project. There are 2 problems with it:\r\n1. It's very user-unfriendly, if all someone wants is to just maximum privacy when releasing a binary.\r\n2. It requires specifying the absolute path that should be hidden from the exe, which depends on the folder structure of the build machine, thus it can't be done with a fixed `.cargo/config`.\r\n\r\nIt would be better to have an option that:\r\n1. Is easier to use when the goal is maximum privacy.\r\n2. Works independently of the path to the project folder on every build machine that it's run on, not requiring to specify the path. It should be inferred.\r\n\r\nIt could look like this: `--strip-path-prefix` and it behaves like `remap-path-prefix-from` set to the path to the project and `remap-path-prefix-to` set to the empty string.\r\n\r\nIf this is too much to ask, as an alternative, it should be possible to pass a placeholder to `remap-path-prefix-from` that always means \"the project's path\", so that it can be used inside `.cargo/config`, agnostic to the build machine / project path.", "closed_by": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/64839/reactions", "total_count": 6, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 6, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/64839/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}