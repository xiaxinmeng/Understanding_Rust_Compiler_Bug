{"url": "https://api.github.com/repos/rust-lang/rust/issues/51838", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/51838/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/51838/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/51838/events", "html_url": "https://github.com/rust-lang/rust/issues/51838", "id": 336148721, "node_id": "MDU6SXNzdWUzMzYxNDg3MjE=", "number": 51838, "title": "Upgrading to Rust 1.27.0 fails on Mac OS 10.10 with Homebrew", "user": {"login": "STA-WSYNC", "id": 20489137, "node_id": "MDQ6VXNlcjIwNDg5MTM3", "avatar_url": "https://avatars.githubusercontent.com/u/20489137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/STA-WSYNC", "html_url": "https://github.com/STA-WSYNC", "followers_url": "https://api.github.com/users/STA-WSYNC/followers", "following_url": "https://api.github.com/users/STA-WSYNC/following{/other_user}", "gists_url": "https://api.github.com/users/STA-WSYNC/gists{/gist_id}", "starred_url": "https://api.github.com/users/STA-WSYNC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/STA-WSYNC/subscriptions", "organizations_url": "https://api.github.com/users/STA-WSYNC/orgs", "repos_url": "https://api.github.com/users/STA-WSYNC/repos", "events_url": "https://api.github.com/users/STA-WSYNC/events{/privacy}", "received_events_url": "https://api.github.com/users/STA-WSYNC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 123111, "node_id": "MDU6TGFiZWwxMjMxMTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-macos", "name": "O-macos", "color": "6e6ec0", "default": false, "description": "Operating system: macOS"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2018-06-27T09:29:31Z", "updated_at": "2019-09-23T10:00:08Z", "closed_at": "2019-09-23T10:00:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "$ brew upgrade rust\r\n\r\nUpdating Homebrew...\r\n\r\n==> Upgrading 1 outdated package, with result:\r\n\r\nrust 1.24.1 -> 1.27.0\r\n\r\n==> Upgrading rust \r\n\r\n==> Downloading https://static.rust-lang.org/dist/rustc-1.27.0-src.tar.gz\r\n\r\nAlready downloaded: /Users/tomthornhill/Library/Caches/Homebrew/rust-1.27.0.tar.gz\r\n\r\n==> ./configure --prefix=/usr/local/Cellar/rust/1.27.0 --release-channel=stable\r\n\r\n==> make\r\n\r\nLast 15 lines from /Users/tomthornhill/Library/Logs/Homebrew/rust/02.make:\r\n\r\n   Compiling rustc_asan v0.0.0 (file:///private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/src/librustc_asan)\r\n\r\n\r\n\r\nthread 'main' has overflowed its stack\r\n\r\nfatal runtime error: stack overflow\r\n\r\nerror: Could not compile `core`.\r\n\r\n\r\n\r\nCaused by:\r\n\r\n  process didn't exit successfully: `/private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/build/bootstrap/debug/rustc --crate-name core libcore/lib.rs --error-format json --crate-type lib --emit=dep-info,link -C opt-level=3 -C metadata=d6fce06e1bd3d804 -C extra-filename=-d6fce06e1bd3d804 --out-dir /private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/build/x86_64-apple-darwin/stage1-std/x86_64-apple-darwin/release/deps --target x86_64-apple-darwin -L dependency=/private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/build/x86_64-apple-darwin/stage1-std/x86_64-apple-darwin/release/deps -L dependency=/private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/build/x86_64-apple-darwin/stage1-std/release/deps` (signal: 6, SIGABRT: process abort signal)\r\n\r\ncommand did not execute successfully: \"/private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/build/x86_64-apple-darwin/stage0/bin/cargo\" \"build\" \"--target\" \"x86_64-apple-darwin\" \"--release\" \"--features\" \"panic-unwind jemalloc backtrace\" \"--manifest-path\" \"/private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/src/libstd/Cargo.toml\" \"--message-format\" \"json\"\r\n\r\nexpected success, got: exit code: 101\r\n\r\nthread 'main' panicked at 'cargo must succeed', bootstrap/compile.rs:1091:9\r\n\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\nfailed to run: /private/tmp/rust-20180627-37269-nj9tsn/rustc-1.27.0-src/build/bootstrap/debug/bootstrap build\r\n\r\nBuild completed unsuccessfully in 1:07:56\r\n\r\nmake: *** [all] Error 1\r\n\r\n\r\n\r\nDo not report this issue to Homebrew/brew or Homebrew/core!\r\n\r\n\r\n\r\nThese open issues may also help:\r\n\r\nRust won't upgrade https://github.com/Homebrew/homebrew-core/issues/29360\r\n\r\n\r\n\r\nError: You are using macOS 10.10.\r\n\r\nWe (and Apple) do not provide support for this old version.\r\n\r\nYou may encounter build failures or other breakages.\r\n\r\nPlease create pull-requests instead of filing issues.\r\n\r\n\r\n\r\nError: You have MacPorts or Fink installed:\r\n\r\n  /opt/local/bin/port\r\n\r\n\r\n\r\nThis can cause trouble. You don't have to uninstall them, but you may want to\r\n\r\ntemporarily move them out of the way, e.g.\r\n\r\n\r\n\r\n  sudo mv /opt/local ~/macports\r\n\r\n\r\n\r\nError: You are using macOS 10.10.\r\n\r\nWe (and Apple) do not provide support for this old version.\r\n\r\nYou may encounter build failures or other breakages.\r\n\r\nPlease create pull-requests instead of filing issues.\r\n\r\n\r\n\r\n", "closed_by": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/51838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/51838/timeline", "performed_via_github_app": null, "state_reason": "completed"}