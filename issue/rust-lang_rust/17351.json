{"url": "https://api.github.com/repos/rust-lang/rust/issues/17351", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17351/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17351/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17351/events", "html_url": "https://github.com/rust-lang/rust/issues/17351", "id": 43056417, "node_id": "MDU6SXNzdWU0MzA1NjQxNw==", "number": 17351, "title": "internal compiler error: trying to take the sizing type of str, an unsized type", "user": {"login": "mikedilger", "id": 1669069, "node_id": "MDQ6VXNlcjE2NjkwNjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1669069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikedilger", "html_url": "https://github.com/mikedilger", "followers_url": "https://api.github.com/users/mikedilger/followers", "following_url": "https://api.github.com/users/mikedilger/following{/other_user}", "gists_url": "https://api.github.com/users/mikedilger/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikedilger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikedilger/subscriptions", "organizations_url": "https://api.github.com/users/mikedilger/orgs", "repos_url": "https://api.github.com/users/mikedilger/repos", "events_url": "https://api.github.com/users/mikedilger/events{/privacy}", "received_events_url": "https://api.github.com/users/mikedilger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 46741598, "node_id": "MDU6TGFiZWw0Njc0MTU5OA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-needs-test", "name": "E-needs-test", "color": "02e10c", "default": false, "description": "Call for participation: writing correctness tests"}, {"id": 125141240, "node_id": "MDU6TGFiZWwxMjUxNDEyNDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-dst", "name": "A-dst", "color": "f7e101", "default": false, "description": "Area: Dynamically Sized Types"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-09-17T20:08:32Z", "updated_at": "2014-12-18T14:32:15Z", "closed_at": "2014-12-18T14:32:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I just compiled a project that compiled fine until tonight's nightly (but my previous nightly was up to a week before), and the backtrace looks very similar to #16848  (btw: I don't think the warning at the top is related, because after fixing it I still get the same error).\n\n```\nsrc/main.rs:85:25: 85:51 warning: use of deprecated item: use into_iter, #[warn(deprecated)] on by default\nsrc/main.rs:85     for serverconfig in config.servers.move_iter() {\n                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~\n\nerror: internal compiler error: trying to take the sizing type of str, an unsized type\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/ast_util.rs:694\n\nstack backtrace:\n   1:     0x7f2e84b7eb80 - rt::backtrace::imp::write::hadb95304cd6b59a2iHq\n   2:     0x7f2e84b81d40 - failure::on_fail::h88a79ad90b452a8dK2q\n   3:     0x7f2e85331f60 - unwind::begin_unwind_inner::hd810389f34a8dc8bMTd\n   4:     0x7f2e80f92570 - unwind::begin_unwind::h883036773483107899\n   5:     0x7f2e80f92d10 - diagnostic::Handler::bug::ha03a127ac108cb809ND\n   6:     0x7f2e85712040 - driver::session::Session::bug::hd8091c59ae3b07effyx\n   7:     0x7f2e85af8300 - middle::trans::type_of::sizing_type_of::h12d44c3ad0a509b9NP9\n   8:     0x7f2e85b27670 - middle::trans::meth::get_vtable::h71ff864a2270cfc0kOk\n   9:     0x7f2e85b27000 - middle::trans::expr::apply_adjustments::unsized_info::h8041c4d8f81d7431Gl3\n  10:     0x7f2e85b2a0e0 - middle::trans::expr::apply_adjustments::unsize_expr::closure.124122\n  11:     0x7f2e85b2a220 - middle::trans::expr::apply_adjustments::into_fat_ptr::h012bc185249de733Zs3\n  12:     0x7f2e85b25db0 - middle::trans::expr::apply_adjustments::apply_autoref::hff612d8b5d90a70cD82\n  13:     0x7f2e85b25db0 - middle::trans::expr::apply_adjustments::apply_autoref::hff612d8b5d90a70cD82\n  14:     0x7f2e85ae5960 - middle::trans::expr::trans::h139fd41d89b98122RW2\n  15:     0x7f2e85ae4420 - middle::trans::expr::trans_into::hffcd0924abd4fea27S2\n  16:     0x7f2e85bc9be0 - middle::trans::tvec::write_content::hd73973faa21b5330vPj\n  17:     0x7f2e85b2d780 - middle::trans::tvec::trans_slice_vec::h65d0df732c3725d4PEj\n  18:     0x7f2e85b21f10 - middle::trans::expr::trans_unadjusted::hb5708bd9b995e003LD3\n  19:     0x7f2e85ae5960 - middle::trans::expr::trans::h139fd41d89b98122RW2\n  20:     0x7f2e85b1ab20 - middle::trans::callee::trans_args::h40ba956d7101922f4r2\n  21:     0x7f2e85aec7c0 - middle::trans::callee::trans_call_inner::hea87a946e0cffa34961\n  22:     0x7f2e85b155b0 - middle::trans::callee::trans_method_call::h5a0bf5976bce0583C21\n  23:     0x7f2e85b22da0 - middle::trans::expr::trans_rvalue_dps_unadjusted::h6f9547e6400812f9Sc4\n  24:     0x7f2e85b21f10 - middle::trans::expr::trans_unadjusted::hb5708bd9b995e003LD3\n  25:     0x7f2e85ae5960 - middle::trans::expr::trans::h139fd41d89b98122RW2\n  26:     0x7f2e85b1ab20 - middle::trans::callee::trans_args::h40ba956d7101922f4r2\n  27:     0x7f2e85aec7c0 - middle::trans::callee::trans_call_inner::hea87a946e0cffa34961\n  28:     0x7f2e85b155b0 - middle::trans::callee::trans_method_call::h5a0bf5976bce0583C21\n  29:     0x7f2e85b22da0 - middle::trans::expr::trans_rvalue_dps_unadjusted::h6f9547e6400812f9Sc4\n  30:     0x7f2e85b21f10 - middle::trans::expr::trans_unadjusted::hb5708bd9b995e003LD3\n  31:     0x7f2e85ae5960 - middle::trans::expr::trans::h139fd41d89b98122RW2\n  32:     0x7f2e85b1ab20 - middle::trans::callee::trans_args::h40ba956d7101922f4r2\n  33:     0x7f2e85aec7c0 - middle::trans::callee::trans_call_inner::hea87a946e0cffa34961\n  34:     0x7f2e85b155b0 - middle::trans::callee::trans_method_call::h5a0bf5976bce0583C21\n  35:     0x7f2e85b22da0 - middle::trans::expr::trans_rvalue_dps_unadjusted::h6f9547e6400812f9Sc4\n  36:     0x7f2e85b21f10 - middle::trans::expr::trans_unadjusted::hb5708bd9b995e003LD3\n  37:     0x7f2e85ae5960 - middle::trans::expr::trans::h139fd41d89b98122RW2\n  38:     0x7f2e85b2c9c0 - middle::trans::expr::trans_binary::h5983843557b2865dyf5\n  39:     0x7f2e85b21f10 - middle::trans::expr::trans_unadjusted::hb5708bd9b995e003LD3\n  40:     0x7f2e85ae4420 - middle::trans::expr::trans_into::hffcd0924abd4fea27S2\n  41:     0x7f2e85ae4900 - middle::trans::controlflow::trans_block::h697fa29e838af1025ZY\n  42:     0x7f2e85b92810 - middle::trans::base::trans_closure::hf5f648fb424f9c93r1e\n  43:     0x7f2e85ad6b60 - middle::trans::base::trans_fn::h17dae15f71272d8eEcf\n  44:     0x7f2e85b96490 - middle::trans::meth::trans_impl::h5b1ebd2bcbfeba03Xck\n  45:     0x7f2e85ad3780 - middle::trans::base::trans_item::h7f0dc64cc8095e95Nvf\n  46:     0x7f2e85ad3780 - middle::trans::base::trans_item::h7f0dc64cc8095e95Nvf\n  47:     0x7f2e85ad3780 - middle::trans::base::trans_item::h7f0dc64cc8095e95Nvf\n  48:     0x7f2e85b9e780 - middle::trans::base::trans_crate::h40ab1d2d17a4f286Gtg\n  49:     0x7f2e85f98330 - driver::driver::phase_4_translate_to_llvm::h9eab234cedcf7a6b7Yw\n  50:     0x7f2e85f8f590 - driver::driver::compile_input::h06caa00e975ed0209ww\n  51:     0x7f2e860126b0 - driver::run_compiler::h30663c3fdd061b12FnA\n  52:     0x7f2e86012590 - driver::main_args::closure.146245\n  53:     0x7f2e85740740 - task::TaskBuilder<S>::try_future::closure.101946\n  54:     0x7f2e85740530 - task::TaskBuilder<S>::spawn_internal::closure.101917\n  55:     0x7f2e8691e590 - task::spawn_opts::closure.8444\n  56:     0x7f2e85389480 - rust_try_inner\n  57:     0x7f2e85389470 - rust_try\n  58:     0x7f2e8532f560 - unwind::try::h985905ef4937434euId\n  59:     0x7f2e8532f3c0 - task::Task::run::h3a7021021ab3297dfYc\n  60:     0x7f2e8691e300 - task::spawn_opts::closure.8384\n  61:     0x7f2e85330fb0 - thread::thread_start::h67b84fc708de7e36rid\n  62:     0x7f2e84645100 - start_thread\n  63:     0x7f2e8500c929 - clone\n  64:                0x0 - <unknown>\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/17351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17351/timeline", "performed_via_github_app": null, "state_reason": "completed"}