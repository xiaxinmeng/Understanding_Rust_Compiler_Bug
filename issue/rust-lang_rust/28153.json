{"url": "https://api.github.com/repos/rust-lang/rust/issues/28153", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28153/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28153/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28153/events", "html_url": "https://github.com/rust-lang/rust/issues/28153", "id": 104268384, "node_id": "MDU6SXNzdWUxMDQyNjgzODQ=", "number": 28153, "title": "unused type params on fn lead to difficult to deciper errors at call site", "user": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-01T13:37:22Z", "updated_at": "2016-01-19T19:07:48Z", "closed_at": "2016-01-19T19:07:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Consider code like this ([playpen](http://is.gd/PxabmK)):\n\n``` rust\nfn add3<T>(x: i32) -> i32 { x + 3 }\n\nfn main() {\n    println!(\"add3(4): {}\", add3(4));\n}\n```\n\nThe Rust compiler currently rejects the above, because it cannot infer what type to assign to the type parameter `T` in the above invocation `add3(4)`.\n\nThe problematic thing is the message:\n\n```\n<anon>:4:29: 4:33 error: unable to infer enough type information about `_`; type annotations or generic parameter binding required [E0282]\n<anon>:4     println!(\"add3(4): {}\", add3(4));\n                                     ^~~~\n```\n1. This message complains about `_`, rather than referencing the parameter `T` of `fn add3`.\n2. It might be nice if, when we encounter this error, if we also did an additional check for the function itself and see if the type parameter in question is unused in the signature of `fn add` (since in such a situation, there is no way that the callsite will be able to supply the information via type annotation -- the only option is the generic parameter binding form like `add3::<(f64,i8)>(4)`, and it is _likely_ (though not assured) that the actual bug is in the definition of `fn add3` itself, rather than at the call site.\n", "closed_by": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/28153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28153/timeline", "performed_via_github_app": null, "state_reason": "completed"}