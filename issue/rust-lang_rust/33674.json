{"url": "https://api.github.com/repos/rust-lang/rust/issues/33674", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/33674/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/33674/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/33674/events", "html_url": "https://github.com/rust-lang/rust/issues/33674", "id": 155120181, "node_id": "MDU6SXNzdWUxNTUxMjAxODE=", "number": 33674, "title": "LLDB is not able to find default source location", "user": {"login": "mbarnett", "id": 51773, "node_id": "MDQ6VXNlcjUxNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/51773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbarnett", "html_url": "https://github.com/mbarnett", "followers_url": "https://api.github.com/users/mbarnett/followers", "following_url": "https://api.github.com/users/mbarnett/following{/other_user}", "gists_url": "https://api.github.com/users/mbarnett/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbarnett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbarnett/subscriptions", "organizations_url": "https://api.github.com/users/mbarnett/orgs", "repos_url": "https://api.github.com/users/mbarnett/repos", "events_url": "https://api.github.com/users/mbarnett/events{/privacy}", "received_events_url": "https://api.github.com/users/mbarnett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203130, "node_id": "MDU6TGFiZWwyMDMxMzA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-debuginfo", "name": "A-debuginfo", "color": "f7e101", "default": false, "description": "Area: Debugging information in compiled programs (DWARF, PDB, etc.)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2016-05-16T20:56:56Z", "updated_at": "2021-12-19T23:37:39Z", "closed_at": "2017-05-06T15:48:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried this:\n\n```\n$ cat hello.rs\nfn main() {\nprintln!(\"Hello world!\");\n}\n$ rustc -g hello.rs\n$ ./hello\nHello world!\n$ lldb hello\n(lldb) target create \"hello\"\nCurrent executable set to 'hello' (x86_64).\n(lldb) source list\n(lldb)\n(lldb) b 2\nerror: No selected frame to use to find the default file.\nerror: No file supplied and no default file available.\n```\n\nI expected LLDB to actually be able to associate an executable compiled with debugging information to be able to list source code and set breakpoints. Compare GDB's support on the same machine (gdb 7.11 built from homebrew and self-signed for debugging privileges):\n\n```\n$ gdb hello\nGNU gdb (GDB) 7.11\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-apple-darwin15.4.0\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from hello...Reading symbols from /Users/matt/hello.dSYM/Contents/Resources/DWARF/hello...done.\ndone.\n(gdb) l\n1   fn main() {\n2       println!(\"Hello world!\");\n3   }\n(gdb) b 2\nBreakpoint 1 at 0x1000013e8: file hello.rs, line 2.\n```\n\nLLDB seems functional otherwise, with sources compiled with Clang\n\n```\n$ clang++ -g hello.cpp\n$ lldb a.out\n(lldb) target create \"a.out\"\nCurrent executable set to 'a.out' (x86_64).\n(lldb) source list\n   3    int main() {\n   4      std::cout << \"Hello, World!!\" << std::endl;\n   5    \n   6      return 0;\n   7    }\n(lldb) \n```\n\nIf anyone's curious, the rust-lldb wrapper does nothing to alleviate this (nor is it intended to AFAIK):\n\n```\n$ rust-lldb hello          \n(lldb) command source -s 0 '/tmp/rust-lldb-commands.r9S6q9'\nExecuting commands in '/tmp/rust-lldb-commands.r9S6q9'.\n(lldb) command script import \"/usr/local/Cellar/rust/1.8.0/lib/rustlib/etc/lldb_rust_formatters.py\"\n(lldb) type summary add --no-value --python-function lldb_rust_formatters.print_val -x \".*\" --category Rust\n(lldb) type category enable Rust\n(lldb) target create \"hello\"\nCurrent executable set to 'hello' (x86_64).\n(lldb) source list\n(lldb) b 2\nerror: No selected frame to use to find the default file.\nerror: No file supplied and no default file available.\n(lldb) \n```\n## Meta\n\n```\n$ lldb -v\nlldb-350.0.21.9\n$ uname -a\nDarwin mycomp 15.5.0 Darwin Kernel Version 15.5.0: Tue Apr 19 18:36:36 PDT 2016; root:xnu-3248.50.21~8/RELEASE_X86_64 x86_64\n$ rustc --version --verbose\nrustc 1.8.0\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nhost: x86_64-apple-darwin\nrelease: 1.8.0\n```\n\nThis rust was installed from Homebrew. This issue also occurred with 1.7.0.\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/33674/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/33674/timeline", "performed_via_github_app": null, "state_reason": "completed"}