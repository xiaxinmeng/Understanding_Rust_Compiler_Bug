{"url": "https://api.github.com/repos/rust-lang/rust/issues/39455", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/39455/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/39455/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/39455/events", "html_url": "https://github.com/rust-lang/rust/issues/39455", "id": 204786627, "node_id": "MDU6SXNzdWUyMDQ3ODY2Mjc=", "number": 39455, "title": "Codegen issue with lto and panic=abort", "user": {"login": "jrmuizel", "id": 332653, "node_id": "MDQ6VXNlcjMzMjY1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/332653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrmuizel", "html_url": "https://github.com/jrmuizel", "followers_url": "https://api.github.com/users/jrmuizel/followers", "following_url": "https://api.github.com/users/jrmuizel/following{/other_user}", "gists_url": "https://api.github.com/users/jrmuizel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrmuizel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrmuizel/subscriptions", "organizations_url": "https://api.github.com/users/jrmuizel/orgs", "repos_url": "https://api.github.com/users/jrmuizel/repos", "events_url": "https://api.github.com/users/jrmuizel/events{/privacy}", "received_events_url": "https://api.github.com/users/jrmuizel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-02T05:35:57Z", "updated_at": "2017-04-18T19:29:32Z", "closed_at": "2017-04-18T19:29:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm seeing what looks like a codegen/llvm issue in webrender/gecko. \r\n\r\nIt seems like we're dropping ApiMsg::AddRawFont after running the Err() case here:\r\nhttps://github.com/servo/webrender/blob/456f87056e62f437f543f45cc4fbd713c26660e7/webrender/src/render_backend.rs#L346\r\n\r\nRemoving the LLVMRustMarkAllFunctionsNounwind pass from lto.rs avoids the problem.\r\n\r\nI'm going to try to narrow it down more tomorrow. It'd be nice to do this with llvm's bugpoint tool but I'm not sure of how to use it to replicate this issue.", "closed_by": {"login": "jrmuizel", "id": 332653, "node_id": "MDQ6VXNlcjMzMjY1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/332653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrmuizel", "html_url": "https://github.com/jrmuizel", "followers_url": "https://api.github.com/users/jrmuizel/followers", "following_url": "https://api.github.com/users/jrmuizel/following{/other_user}", "gists_url": "https://api.github.com/users/jrmuizel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrmuizel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrmuizel/subscriptions", "organizations_url": "https://api.github.com/users/jrmuizel/orgs", "repos_url": "https://api.github.com/users/jrmuizel/repos", "events_url": "https://api.github.com/users/jrmuizel/events{/privacy}", "received_events_url": "https://api.github.com/users/jrmuizel/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/39455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/39455/timeline", "performed_via_github_app": null, "state_reason": "completed"}