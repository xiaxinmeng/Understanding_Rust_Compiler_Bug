{"url": "https://api.github.com/repos/rust-lang/rust/issues/36475", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/36475/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/36475/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/36475/events", "html_url": "https://github.com/rust-lang/rust/issues/36475", "id": 176888589, "node_id": "MDU6SXNzdWUxNzY4ODg1ODk=", "number": 36475, "title": "ICE: Error constructed but not emitted", "user": {"login": "ncook", "id": 20279, "node_id": "MDQ6VXNlcjIwMjc5", "avatar_url": "https://avatars.githubusercontent.com/u/20279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ncook", "html_url": "https://github.com/ncook", "followers_url": "https://api.github.com/users/ncook/followers", "following_url": "https://api.github.com/users/ncook/following{/other_user}", "gists_url": "https://api.github.com/users/ncook/gists{/gist_id}", "starred_url": "https://api.github.com/users/ncook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ncook/subscriptions", "organizations_url": "https://api.github.com/users/ncook/orgs", "repos_url": "https://api.github.com/users/ncook/repos", "events_url": "https://api.github.com/users/ncook/events{/privacy}", "received_events_url": "https://api.github.com/users/ncook/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-14T12:00:22Z", "updated_at": "2017-05-13T18:57:16Z", "closed_at": "2017-05-13T18:57:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nRUST_BACKTRACE=1 cargo run --verbose\n       Fresh libc v0.2.15\n       Fresh regex-syntax v0.3.4\n       Fresh rustc-serialize v0.3.19\n       Fresh strsim v0.3.0\n       Fresh winapi-build v0.1.1\n       Fresh winapi v0.2.8\n       Fresh lazy_static v0.2.1\n       Fresh utf8-ranges v0.1.3\n       Fresh memchr v0.1.11\n       Fresh aho-corasick v0.5.2\n       Fresh kernel32-sys v0.2.2\n       Fresh thread-id v2.0.0\n       Fresh thread_local v0.2.6\n       Fresh regex v0.1.73\n       Fresh docopt v0.6.82\n       Fresh docopt_macros v0.6.85\n   Compiling placement v0.1.0 (file:///Users/ncook/Documents/work/rust/projects/placement)\n     Running `rustc src/main.rs --crate-name placement --crate-type bin -g -C metadata=dc7a22ba6ecf1bd6 --out-dir /Users/ncook/Documents/work/rust/projects/placement/target/debug --emit=dep-info,link -L dependency=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps --extern rustc_serialize=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps/librustc_serialize-3561541d79c18212.rlib --extern docopt=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps/libdocopt-c2a0ac91deaa6c56.rlib --extern docopt_macros=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps/libdocopt_macros-6f1f6f548c688c76.dylib`\nerror: internal compiler error: Error constructed but not emitted\n\nerror: internal compiler error: unexpected panic\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\n\nnote: run with `RUST_BACKTRACE=1` for a backtrace\n\nthread 'rustc' panicked at 'explicit panic', ../src/librustc_errors/lib.rs:404\nstack backtrace:\n   1:        0x1051824aa - std::sys::backtrace::tracing::imp::write::h482d45d91246faa2\n   2:        0x105192260 - std::panicking::default_hook::_{{closure}}::h89158f66286b674e\n   3:        0x10519057f - std::panicking::default_hook::h9e30d428ee3b0c43\n   4:        0x105190c86 - std::panicking::rust_panic_with_hook::h2224f33fb7bf2f4c\n   5:        0x104fafe64 - std::panicking::begin_panic::h6da27a7ee15843ce\n   6:        0x104fc0156 - _<rustc_errors..DiagnosticBuilder<'a> as core..ops..Drop>::drop::h65d3b5d04ccd5dcb\n   7:        0x105e30ad0 - drop::h42b2ed73a59f3ccc\n   8:        0x105e30c77 - drop::h46c8146781bd0af2\n   9:        0x105e7534a - docopt_macros::expand::hb05fb330db5d59d2\n  10:        0x100ee6ef5 - _<F as syntax..ext..base..TTMacroExpander>::expand::h2cbfb95c85d07886\n  11:        0x104b0447b - syntax::ext::expand::expand_mac_invoc::mac_result::ha3a8dfd05d9eecb6\n  12:        0x104b490d7 - syntax::ext::expand::expand_multi_modified::_{{closure}}::hfcd808ada48a89dc\n  13:        0x104b0985c - syntax::ext::expand::expand_annotatable::hd731ac0c7a5098e1\n  14:        0x104b054ef - syntax::ext::expand::expand_item::h34a68666bcb77b42\n  15:        0x104b14f2a - _<syntax..ext..expand..MacroExpander<'a, 'b> as syntax..fold..Folder>::fold_item::h11dc20d6fdb44d60\n  16:        0x1049e9f32 - syntax::fold::noop_fold_mod::h7ccd83e899e81c3c\n  17:        0x1049deca2 - syntax::fold::noop_fold_item_kind::he96b2686f10d5f9d\n  18:        0x1049eb468 - syntax::fold::noop_fold_item_simple::hb58741bcf641e653\n  19:        0x104b09d4b - syntax::ext::expand::expand_annotatable::hd731ac0c7a5098e1\n  20:        0x104b054ef - syntax::ext::expand::expand_item::h34a68666bcb77b42\n  21:        0x104b15062 - _<syntax..ext..expand..MacroExpander<'a, 'b> as syntax..fold..Folder>::fold_item::h11dc20d6fdb44d60\n  22:        0x104b1402e - _<syntax..ext..expand..MacroExpander<'a, 'b> as syntax..fold..Folder>::fold_crate::hb0a12b0d8df69afd\n  23:        0x104b1673e - syntax::ext::expand::expand_crate_with_expander::h77575f1d1b34ae40\n  24:        0x104b161da - syntax::ext::expand::expand_crate::h72ec18c6565094c4\n  25:        0x1004ce34b - rustc_driver::driver::phase_2_configure_and_expand::_{{closure}}::hae7f286174f41285\n  26:        0x1004802b3 - rustc_driver::driver::phase_2_configure_and_expand::h7a450d24678fc450\n  27:        0x1004774fc - rustc_driver::driver::compile_input::hd9ecc57abd3cba85\n  28:        0x1004aa239 - rustc_driver::run_compiler::h184264500271cc39\n  29:        0x1003eab74 - std::panicking::try::do_call::h17a7a17ad7240c5c\n  30:        0x105198f9a - __rust_maybe_catch_panic\n  31:        0x100404c67 - _<F as alloc..boxed..FnBox<A>>::call_box::h93f9128277b2964a\n  32:        0x10518f345 - std::sys::thread::Thread::new::thread_start::he0bf102845911132\n  33:     0x7fff9190399c - _pthread_body\n  34:     0x7fff91903919 - _pthread_start\n\nerror: Could not compile `placement`.\n\nCaused by:\n  Process didn't exit successfully: `rustc src/main.rs --crate-name placement --crate-type bin -g -C metadata=dc7a22ba6ecf1bd6 --out-dir /Users/ncook/Documents/work/rust/projects/placement/target/debug --emit=dep-info,link -L dependency=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps --extern rustc_serialize=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps/librustc_serialize-3561541d79c18212.rlib --extern docopt=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps/libdocopt-c2a0ac91deaa6c56.rlib --extern docopt_macros=/Users/ncook/Documents/work/rust/projects/placement/target/debug/deps/libdocopt_macros-6f1f6f548c688c76.dylib` (exit code: 101)\n```\n\nSource code is below. The panic is triggered by the addition of the first line below \"Options:\".\n\n``` rust\n#![feature(plugin)]\n#![plugin(docopt_macros)]\n\nextern crate rustc_serialize;\nextern crate docopt;\n\nuse docopt::Docopt;\nuse std::collections::hash_map::HashMap;\n\ndocopt!(Args, \"\nUsage:\n  placement --config=<configuration>\n  placement -l=<location> -c=<content> -p=<placements_in> [-o=<placements_out>]\n\nOptions:\n  --config      Complete data set\n  -l            Location data\n  -c            Content data\n  -p            Input content placement data\n  -o            Output content placement data\n\");\n\nfn main() {\n    let args: Args = Args::docopt().decode().unwrap_or_else(|e| e.exit());\n\n    let config_file = args.flag_config;\n    if config_file.len() > 0 {\n        println!(\"configuration file {:?}\", config_file);\n    }\n}\n\nstruct Attribute {\n    name: String,\n    value: String,\n}\n\nstruct Location {\n    cid: String,\n}\n```\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/36475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/36475/timeline", "performed_via_github_app": null, "state_reason": "completed"}