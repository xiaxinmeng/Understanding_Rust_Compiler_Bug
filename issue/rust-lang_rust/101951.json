{"url": "https://api.github.com/repos/rust-lang/rust/issues/101951", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/101951/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/101951/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/101951/events", "html_url": "https://github.com/rust-lang/rust/issues/101951", "id": 1376879577, "node_id": "I_kwDOAAsO6M5SEYPZ", "number": 101951, "title": "E0477 triggered with current nightly", "user": {"login": "geeklint", "id": 2838446, "node_id": "MDQ6VXNlcjI4Mzg0NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/2838446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geeklint", "html_url": "https://github.com/geeklint", "followers_url": "https://api.github.com/users/geeklint/followers", "following_url": "https://api.github.com/users/geeklint/following{/other_user}", "gists_url": "https://api.github.com/users/geeklint/gists{/gist_id}", "starred_url": "https://api.github.com/users/geeklint/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geeklint/subscriptions", "organizations_url": "https://api.github.com/users/geeklint/orgs", "repos_url": "https://api.github.com/users/geeklint/repos", "events_url": "https://api.github.com/users/geeklint/events{/privacy}", "received_events_url": "https://api.github.com/users/geeklint/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1775993, "node_id": "MDU6TGFiZWwxNzc1OTkz", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-lifetimes", "name": "A-lifetimes", "color": "f7e101", "default": false, "description": "Area: lifetime related"}, {"id": 13836860, "node_id": "MDU6TGFiZWwxMzgzNjg2MA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-traits", "name": "A-traits", "color": "f7e101", "default": false, "description": "Area: Trait system"}, {"id": 147085028, "node_id": "MDU6TGFiZWwxNDcwODUwMjg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-nightly", "name": "regression-from-stable-to-nightly", "color": "e4008a", "default": false, "description": "Performance or correctness regression from stable to nightly."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}, {"id": 1966877457, "node_id": "MDU6TGFiZWwxOTY2ODc3NDU3", "url": "https://api.github.com/repos/rust-lang/rust/labels/P-critical", "name": "P-critical", "color": "eb6420", "default": false, "description": "Critical priority"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-09-17T21:39:48Z", "updated_at": "2022-09-25T12:00:43Z", "closed_at": "2022-09-25T12:00:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a regression report! \ud83d\udc1b A regression is something that changed between versions of Rust but was not supposed to.\r\n\r\nPlease provide a short summary of the regression, along with any information you feel is relevant to replicate it.\r\n-->\r\n\r\nI discovered that some code I had previously been using no longer compiles with the current nightly.  It gives E0477 which, as other issues have pointed out, is incorrectly described as \"no longer emitted by the compiler\".\r\n\r\n### Code\r\n\r\n[Link to Playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2021&gist=4978275d01d9462b7fd8d5487350ccbb)\r\n\r\nI expected to see this happen: *The code compiles successfully*\r\n\r\nInstead, this happened: *I get this compiler error:*\r\n\r\n```\r\nerror[E0477]: the type `PrettyCondo<'_>` does not fulfill the required lifetime\r\n  --> src/lib.rs:41:5\r\n   |\r\n41 |     fn add_building(&mut self, _building: &mut PrettyCondo<'_>) {\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n   |\r\nnote: type must outlive the anonymous lifetime as defined here\r\n  --> src/lib.rs:41:21\r\n   |\r\n41 |     fn add_building(&mut self, _building: &mut PrettyCondo<'_>) {\r\n   |                     ^\r\n\r\nFor more information about this error, try `rustc --explain E0477`.\r\nerror: could not compile `e0477-test` due to previous error\r\n```\r\n\r\n### Result of cargo-bisect-rustc\r\n\r\nsearched nightlies: from nightly-2022-08-08 to nightly-2022-09-17\r\nregressed nightly: nightly-2022-08-10\r\nsearched commit range: https://github.com/rust-lang/rust/compare/f03ce30962cf1b2a5158667eabae8bf6e8d1cb03...34a6cae28e7013ff0e640026a8e46f315426829d\r\nregressed commit: https://github.com/rust-lang/rust/commit/63e4312e6bd50ec9859c363402209809fb8155d5\r\n\r\n<details>\r\n<summary>bisected with <a href='https://github.com/rust-lang/cargo-bisect-rustc'>cargo-bisect-rustc</a> v0.6.4</summary>\r\n\r\n\r\nHost triple: x86_64-unknown-linux-gnu\r\nReproduce with:\r\n```bash\r\ncargo bisect-rustc \r\n```\r\n</details>", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/101951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/101951/timeline", "performed_via_github_app": null, "state_reason": "completed"}