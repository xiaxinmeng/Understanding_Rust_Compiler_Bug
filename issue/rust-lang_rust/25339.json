{"url": "https://api.github.com/repos/rust-lang/rust/issues/25339", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25339/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25339/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25339/events", "html_url": "https://github.com/rust-lang/rust/issues/25339", "id": 75675292, "node_id": "MDU6SXNzdWU3NTY3NTI5Mg==", "number": 25339, "title": "ICE when trying to use associated type's Self::Output as default (nightly/beta)", "user": {"login": "Nercury", "id": 106180, "node_id": "MDQ6VXNlcjEwNjE4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/106180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nercury", "html_url": "https://github.com/Nercury", "followers_url": "https://api.github.com/users/Nercury/followers", "following_url": "https://api.github.com/users/Nercury/following{/other_user}", "gists_url": "https://api.github.com/users/Nercury/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nercury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nercury/subscriptions", "organizations_url": "https://api.github.com/users/Nercury/orgs", "repos_url": "https://api.github.com/users/Nercury/repos", "events_url": "https://api.github.com/users/Nercury/events{/privacy}", "received_events_url": "https://api.github.com/users/Nercury/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-12T17:23:42Z", "updated_at": "2015-05-28T00:15:55Z", "closed_at": "2015-05-28T00:15:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This kind of code:\n\n``` rust\nuse std::marker::PhantomData;\n\npub trait Routing<I> {\n    type Output;\n\n    fn resolve(&self, input: I);\n}\n\npub trait ToRouting {\n    type Input;\n    type Routing = Routing<Self::Input>;\n\n    fn to_routing(self) -> Self::Routing;\n}\n\npub struct Mount<I, R: Routing<I>> {\n    action: R,\n    _marker: PhantomData<I>,\n}\n\nimpl<I, R: Routing<I>> Mount<I, R> {\n    pub fn create<T: ToRouting<Routing=R>>(mount: &str, input: T) {\n        input.to_routing();\n    }\n}\n\nfn main() {\n\n}\n```\n\nProduces this output:\n\n```\nthread 'rustc' panicked at 'path not fully resolved: PathResolution { base_def: DefSelfTy(Some(DefId { krate: 0, node: 17 }), None), last_private: LastMod(AllPublic), depth: 1 }', /home/rustbuild/src/rust-buildbot/slave/beta-dist-rustc-linux/build/src/librustc/middle/def.rs:80\n\nstack backtrace:\n   1:     0x7fd5f5c01029 - sys::backtrace::write::hf53a0a0304290fee0Yr\n   2:     0x7fd5f5c08cf6 - panicking::on_panic::h60c28f18db36901f8lw\n   3:     0x7fd5f5bcc132 - rt::unwind::begin_unwind_inner::h5d1eccd17bdb1225i1v\n   4:     0x7fd5f5bccddc - rt::unwind::begin_unwind_fmt::hb401ae9bbc90d7afWZv\n   5:     0x7fd5f3a45c76 - middle::def::PathResolution::full_def::h1064d7767cb70c52vZl\n   6:     0x7fd5f5075e1e - PrivacyVisitor<'a, 'tcx>::check_path::hc1d907c1eeb131a2X4a\n   7:     0x7fd5f5076ea7 - PrivacyVisitor<'a, 'tcx>.Visitor<'v>::visit_path::h6d61d703c953fd3cctb\n   8:     0x7fd5f5076fbf - visit::walk_path::h11482984534192114005\n   9:     0x7fd5f5076d4f - PrivacyVisitor<'a, 'tcx>.Visitor<'v>::visit_item::h869cd287456a54ebxdb\n  10:     0x7fd5f507d7cb - check_crate::h8a5c09d7eb2db25cEVb\n  11:     0x7fd5f6141d63 - driver::phase_3_run_analysis_passes::h28f3c6bab4d32090nGa\n  12:     0x7fd5f6122e05 - driver::compile_input::h5b445b50b3e18d59Qba\n  13:     0x7fd5f61e34e1 - run_compiler::h96f97d4eb21ecd2cz4b\n  14:     0x7fd5f61e1132 - boxed::F.FnBox<A>::call_box::h9787258653706413210\n  15:     0x7fd5f61e0669 - rt::unwind::try::try_fn::h11878141054803929988\n  16:     0x7fd5f5c7b518 - rust_try_inner\n  17:     0x7fd5f5c7b505 - rust_try\n  18:     0x7fd5f61e0918 - boxed::F.FnBox<A>::call_box::h8845320335913257549\n  19:     0x7fd5f5c07be1 - sys::thread::create::thread_start::ha7b08762db72e408Zkv\n  20:     0x7fd5f04a1181 - start_thread\n  21:     0x7fd5f585247c - __clone\n  22:                0x0 - <unknown>\n```\n\n```\nrustc 1.0.0-beta.3 (5241bf9c3 2015-04-25) (built 2015-04-25)\n```\n\nAlso reproducible on beta.4, nightly, windows/linux.\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25339/timeline", "performed_via_github_app": null, "state_reason": "completed"}