{"url": "https://api.github.com/repos/rust-lang/rust/issues/61942", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/61942/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/61942/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/61942/events", "html_url": "https://github.com/rust-lang/rust/issues/61942", "id": 457727264, "node_id": "MDU6SXNzdWU0NTc3MjcyNjQ=", "number": 61942, "title": "Misleading `use foo::bar` error message", "user": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 239393, "node_id": "MDU6TGFiZWwyMzkzOTM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-resolve", "name": "A-resolve", "color": "f7e101", "default": false, "description": "Area: Path resolution"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 1596122130, "node_id": "MDU6TGFiZWwxNTk2MTIyMTMw", "url": "https://api.github.com/repos/rust-lang/rust/labels/D-papercut", "name": "D-papercut", "color": "c9f7a3", "default": false, "description": "Diagnostic error that needs small tweaks"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-18T22:40:42Z", "updated_at": "2022-03-22T08:56:40Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here are two slightly different sources with slightly different errors:\r\n\r\n```\r\nuse foo;\r\n\r\nfn main() { }\r\n```\r\n\r\n```\r\nerror[E0432]: unresolved import `foo`\r\n --> src/main.rs:1:5\r\n  |\r\n1 | use foo;\r\n  |     ^^^ no `foo` external crate\r\n```\r\n\r\n```\r\nuse foo::bar;\r\n\r\nfn main() { }\r\n```\r\n\r\n```\r\nerror[E0432]: unresolved import `foo`\r\n --> src/main.rs:1:5\r\n  |\r\n1 | use foo::bar;\r\n  |     ^^^ use of undeclared type or module `foo`\r\n```\r\n\r\nFor `use foo`, the error is \"no foo external crate\"; for `use foo::bar` it is \"undeclared type or module foo\".\r\n\r\nThe first error I think is unambiguously correct - there's nothing foo could be but an external crate. The second though is failing to mention that foo could very will be a missing crate. And it may be more likely to be a missing crate (or a typo...) than a type or module that hasn't been imported.\r\n\r\nI encountered this second error while writing some training material and had to explain that the error is misleading and that actually you need to list crate foo in your manifest.\r\n\r\nA better error might be \"use of undeclared crate, type, or module\" (while also changing the first one to \"use of undeclared crate\" for consistency), or \"no foo extern crate, or use of undeclared type or module foo\". Even better might be to do some analysis to see if there is any crate with a name close to \"foo\", whether there are any internal names equal to or similar to \"foo\", and customize the error based on that.\r\n\r\nThis is using whatever nightly is current right now.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/61942/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/61942/timeline", "performed_via_github_app": null, "state_reason": null}