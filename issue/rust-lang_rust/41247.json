{"url": "https://api.github.com/repos/rust-lang/rust/issues/41247", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/41247/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/41247/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/41247/events", "html_url": "https://github.com/rust-lang/rust/issues/41247", "id": 221257804, "node_id": "MDU6SXNzdWUyMjEyNTc4MDQ=", "number": 41247, "title": "Building rustc using rustbuild - Unknown error occurred", "user": {"login": "daym", "id": 7755349, "node_id": "MDQ6VXNlcjc3NTUzNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7755349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daym", "html_url": "https://github.com/daym", "followers_url": "https://api.github.com/users/daym/followers", "following_url": "https://api.github.com/users/daym/following{/other_user}", "gists_url": "https://api.github.com/users/daym/gists{/gist_id}", "starred_url": "https://api.github.com/users/daym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daym/subscriptions", "organizations_url": "https://api.github.com/users/daym/orgs", "repos_url": "https://api.github.com/users/daym/repos", "events_url": "https://api.github.com/users/daym/events{/privacy}", "received_events_url": "https://api.github.com/users/daym/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 632522196, "node_id": "MDU6TGFiZWw2MzI1MjIxOTY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/O-guix", "name": "O-guix", "color": "6e6ec0", "default": false, "description": "Operating system: Guix, https://www.gnu.org/software/guix/"}, {"id": 650731663, "node_id": "MDU6TGFiZWw2NTA3MzE2NjM=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-bug", "name": "C-bug", "color": "f5f1fd", "default": false, "description": "Category: This is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-12T13:13:15Z", "updated_at": "2021-01-01T13:56:03Z", "closed_at": "2021-01-01T13:56:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When bulding rustc *using rustbuild* I get:\r\n\r\n```starting phase build\r\n/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/bin/python2 /tmp/guix-build-rustc-1.16.0.drv-0/rustc-1.16.0-src/src/bootstrap/bootstrap.py build -v\r\nerror: An unknown error occurred\r\n\r\nTo learn more, run the command again with --verbose.\r\nmake: *** [Makefile:23: all] Error 101\r\nphase `build' failed after 0.3 seconds\r\nnote: keeping build directory /tmp/guix-build-rustc-1.16.0.drv-0\r\n```\r\n\r\nThe same release works fine with the Makefile (without rustbuild).\r\n\r\nNote that I already specify the \"verbose\" flag.\r\n\r\nThe environment variables are:\r\n```\r\nexport BASH_LOADABLES_PATH=\"/gnu/store/k7029k5va68lkapbzcycdzj7m5bjb4b8-bash-4.4.12/lib/bash\"\r\nexport CMAKE_PREFIX_PATH=\"/gnu/store/2xyagz0rvhhhg4qgpqc9vsbxls6wlmx1-cmake-3.7.2/:/gnu/store/x97brqnsrydy5q6xvvva784bas5zybvc-git-2.12.2/:/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/:/gnu/store/yf8kwrxcc0gsp2vxvmyqyi9mi2liha6b-rust-bootstrap-1.15.0/:/gnu/store/vxd2ysqzpx5xv7g71h422lpdbcly498q-cargo-bootstrap-0.16.0/:/gnu/store/ppyczjc1figwv6yb6brg938y49856avb-which-2.21/:/gnu/store/mfx9ib0cy6mvjfmszplnlh0dvdb0513v-tar-1.29/:/gnu/store/8wmanahsh0mk1n5xw6i7wpwih95yqzaq-gzip-1.8/:/gnu/store/8nkj1w5whm5gwrhsmqvm1w6im27vz02g-bzip2-1.0.6/:/gnu/store/c140q16b1n4x0j2i7wv1awc1c39ipzrr-xz-5.2.2/:/gnu/store/0xm7szwymsv87z7y4bi2lgvx2jhniqms-file-5.28/:/gnu/store/kbs0012il9z63kp0nlq0h66m6zjp4f21-diffutils-3.5/:/gnu/store/qbngj80kmydl4jsba2cdgwq2y51xlfv0-patch-2.7.5/:/gnu/store/z763jk8lkragpz2qr2wbrz946lgalx2h-sed-4.4/:/gnu/store/gdgrzf1y15scqwk1yzm51dc40g29vad9-findutils-4.6.0/:/gnu/store/55r4yg5iw9zh2j3zvzc6272k5xn4yxg4-gawk-4.1.4/:/gnu/store/87sj03j9kwzhl9zr76gs2i8ill86ki95-grep-3.0/:/gnu/store/6908gy3pws0ccys49ni98idwnicchlr2-coreutils-8.26/:/gnu/store/alg6ani0nnwrxyz15d1j5d0k6qs2m5sk-make-4.2.1/:/gnu/store/k7029k5va68lkapbzcycdzj7m5bjb4b8-bash-4.4.12/:/gnu/store/ri56wnmzkgzrajdyl5ydc55lrwy1164k-ld-wrapper-0/:/gnu/store/zq65kpvwwxgc3qqbf9apic8gyss2l0zq-binutils-2.27/:/gnu/store/4iw4r2majarqlm19adaikqw126jxqf2p-gcc-5.4.0/:/gnu/store/rmjlycdgiq8pfy5hfi42qhw3k7p6kdav-glibc-2.25/:/gnu/store/1h0p1lgl5i1dmwa0rzxflv664zwwm6am-glibc-utf8-locales-2.25/:/gnu/store/j5zix8ad1c8y2ah7awm648x6khm1s2gb-jemalloc-4.5.0/:/gnu/store/ni9m59qz94qw78mr4bk40zr20gbr3paj-llvm-3.8.1/:/gnu/store/vvr4xmmpmi1cj2w5l09digm5xylvplvk-rustc-bootstrap-1.15.0/:/gnu/store/5bh7p754d09wcp64ckxlvwz7lgyk0h59-linux-libre-headers-4.4.47/:/gnu/store/jwkcd7siv6fcyl0qsg607bg9c8ap0gqr-zlib-1.2.11/\"\r\nexport CONFIG_SHELL=\"/gnu/store/k7029k5va68lkapbzcycdzj7m5bjb4b8-bash-4.4.12/bin/sh\"\r\nexport CPLUS_INCLUDE_PATH=\"/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/include:/gnu/store/8nkj1w5whm5gwrhsmqvm1w6im27vz02g-bzip2-1.0.6/include:/gnu/store/c140q16b1n4x0j2i7wv1awc1c39ipzrr-xz-5.2.2/include:/gnu/store/0xm7szwymsv87z7y4bi2lgvx2jhniqms-file-5.28/include:/gnu/store/55r4yg5iw9zh2j3zvzc6272k5xn4yxg4-gawk-4.1.4/include:/gnu/store/alg6ani0nnwrxyz15d1j5d0k6qs2m5sk-make-4.2.1/include:/gnu/store/zq65kpvwwxgc3qqbf9apic8gyss2l0zq-binutils-2.27/include:/gnu/store/4iw4r2majarqlm19adaikqw126jxqf2p-gcc-5.4.0/include:/gnu/store/rmjlycdgiq8pfy5hfi42qhw3k7p6kdav-glibc-2.25/include:/gnu/store/j5zix8ad1c8y2ah7awm648x6khm1s2gb-jemalloc-4.5.0/include:/gnu/store/ni9m59qz94qw78mr4bk40zr20gbr3paj-llvm-3.8.1/include:/gnu/store/5bh7p754d09wcp64ckxlvwz7lgyk0h59-linux-libre-headers-4.4.47/include:/gnu/store/jwkcd7siv6fcyl0qsg607bg9c8ap0gqr-zlib-1.2.11/include\"\r\nexport C_INCLUDE_PATH=\"/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/include:/gnu/store/8nkj1w5whm5gwrhsmqvm1w6im27vz02g-bzip2-1.0.6/include:/gnu/store/c140q16b1n4x0j2i7wv1awc1c39ipzrr-xz-5.2.2/include:/gnu/store/0xm7szwymsv87z7y4bi2lgvx2jhniqms-file-5.28/include:/gnu/store/55r4yg5iw9zh2j3zvzc6272k5xn4yxg4-gawk-4.1.4/include:/gnu/store/alg6ani0nnwrxyz15d1j5d0k6qs2m5sk-make-4.2.1/include:/gnu/store/zq65kpvwwxgc3qqbf9apic8gyss2l0zq-binutils-2.27/include:/gnu/store/4iw4r2majarqlm19adaikqw126jxqf2p-gcc-5.4.0/include:/gnu/store/rmjlycdgiq8pfy5hfi42qhw3k7p6kdav-glibc-2.25/include:/gnu/store/j5zix8ad1c8y2ah7awm648x6khm1s2gb-jemalloc-4.5.0/include:/gnu/store/ni9m59qz94qw78mr4bk40zr20gbr3paj-llvm-3.8.1/include:/gnu/store/5bh7p754d09wcp64ckxlvwz7lgyk0h59-linux-libre-headers-4.4.47/include:/gnu/store/jwkcd7siv6fcyl0qsg607bg9c8ap0gqr-zlib-1.2.11/include\"\r\nexport GIT_EXEC_PATH=\"/gnu/store/x97brqnsrydy5q6xvvva784bas5zybvc-git-2.12.2/libexec/git-core\"\r\nexport GUIX_CARGO_ROOT=\"/gnu/store/vxd2ysqzpx5xv7g71h422lpdbcly498q-cargo-bootstrap-0.16.0\"\r\nexport GUIX_LOCPATH=\"/gnu/store/1h0p1lgl5i1dmwa0rzxflv664zwwm6am-glibc-utf8-locales-2.25/lib/locale\"\r\nexport HOME=\"/homeless-shelter\"\r\nexport LC_ALL=\"en_US.utf8\"\r\nexport LIBRARY_PATH=\"/gnu/store/x97brqnsrydy5q6xvvva784bas5zybvc-git-2.12.2/lib:/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/lib:/gnu/store/vxd2ysqzpx5xv7g71h422lpdbcly498q-cargo-bootstrap-0.16.0/lib:/gnu/store/8nkj1w5whm5gwrhsmqvm1w6im27vz02g-bzip2-1.0.6/lib:/gnu/store/c140q16b1n4x0j2i7wv1awc1c39ipzrr-xz-5.2.2/lib:/gnu/store/0xm7szwymsv87z7y4bi2lgvx2jhniqms-file-5.28/lib:/gnu/store/55r4yg5iw9zh2j3zvzc6272k5xn4yxg4-gawk-4.1.4/lib:/gnu/store/k7029k5va68lkapbzcycdzj7m5bjb4b8-bash-4.4.12/lib:/gnu/store/zq65kpvwwxgc3qqbf9apic8gyss2l0zq-binutils-2.27/lib:/gnu/store/rmjlycdgiq8pfy5hfi42qhw3k7p6kdav-glibc-2.25/lib:/gnu/store/1h0p1lgl5i1dmwa0rzxflv664zwwm6am-glibc-utf8-locales-2.25/lib:/gnu/store/j5zix8ad1c8y2ah7awm648x6khm1s2gb-jemalloc-4.5.0/lib:/gnu/store/ni9m59qz94qw78mr4bk40zr20gbr3paj-llvm-3.8.1/lib:/gnu/store/vvr4xmmpmi1cj2w5l09digm5xylvplvk-rustc-bootstrap-1.15.0/lib:/gnu/store/jwkcd7siv6fcyl0qsg607bg9c8ap0gqr-zlib-1.2.11/lib\"\r\nexport NIX_BUILD_CORES=\"0\"\r\nexport NIX_BUILD_TOP=\"/tmp/guix-build-rustc-1.16.0.drv-0\"\r\nexport NIX_STORE=\"/gnu/store\"\r\nexport OLDPWD\r\nexport PATH=\"/gnu/store/2xyagz0rvhhhg4qgpqc9vsbxls6wlmx1-cmake-3.7.2/bin:/gnu/store/x97brqnsrydy5q6xvvva784bas5zybvc-git-2.12.2/bin:/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/bin:/gnu/store/yf8kwrxcc0gsp2vxvmyqyi9mi2liha6b-rust-bootstrap-1.15.0/bin:/gnu/store/vxd2ysqzpx5xv7g71h422lpdbcly498q-cargo-bootstrap-0.16.0/bin:/gnu/store/ppyczjc1figwv6yb6brg938y49856avb-which-2.21/bin:/gnu/store/mfx9ib0cy6mvjfmszplnlh0dvdb0513v-tar-1.29/bin:/gnu/store/8wmanahsh0mk1n5xw6i7wpwih95yqzaq-gzip-1.8/bin:/gnu/store/8nkj1w5whm5gwrhsmqvm1w6im27vz02g-bzip2-1.0.6/bin:/gnu/store/c140q16b1n4x0j2i7wv1awc1c39ipzrr-xz-5.2.2/bin:/gnu/store/0xm7szwymsv87z7y4bi2lgvx2jhniqms-file-5.28/bin:/gnu/store/kbs0012il9z63kp0nlq0h66m6zjp4f21-diffutils-3.5/bin:/gnu/store/qbngj80kmydl4jsba2cdgwq2y51xlfv0-patch-2.7.5/bin:/gnu/store/z763jk8lkragpz2qr2wbrz946lgalx2h-sed-4.4/bin:/gnu/store/gdgrzf1y15scqwk1yzm51dc40g29vad9-findutils-4.6.0/bin:/gnu/store/55r4yg5iw9zh2j3zvzc6272k5xn4yxg4-gawk-4.1.4/bin:/gnu/store/87sj03j9kwzhl9zr76gs2i8ill86ki95-grep-3.0/bin:/gnu/store/6908gy3pws0ccys49ni98idwnicchlr2-coreutils-8.26/bin:/gnu/store/alg6ani0nnwrxyz15d1j5d0k6qs2m5sk-make-4.2.1/bin:/gnu/store/k7029k5va68lkapbzcycdzj7m5bjb4b8-bash-4.4.12/bin:/gnu/store/ri56wnmzkgzrajdyl5ydc55lrwy1164k-ld-wrapper-0/bin:/gnu/store/zq65kpvwwxgc3qqbf9apic8gyss2l0zq-binutils-2.27/bin:/gnu/store/4iw4r2majarqlm19adaikqw126jxqf2p-gcc-5.4.0/bin:/gnu/store/rmjlycdgiq8pfy5hfi42qhw3k7p6kdav-glibc-2.25/bin:/gnu/store/rmjlycdgiq8pfy5hfi42qhw3k7p6kdav-glibc-2.25/sbin:/gnu/store/j5zix8ad1c8y2ah7awm648x6khm1s2gb-jemalloc-4.5.0/bin:/gnu/store/ni9m59qz94qw78mr4bk40zr20gbr3paj-llvm-3.8.1/bin:/gnu/store/vvr4xmmpmi1cj2w5l09digm5xylvplvk-rustc-bootstrap-1.15.0/bin\"\r\nexport PWD=\"/tmp/guix-build-rustc-1.16.0.drv-0/rustc-1.16.0-src\"\r\nexport PYTHONPATH=\"/gnu/store/q5kdj7gpawi94pqd15x3wizjq0nx4zhx-python-2.7.13/lib/python2.7/site-packages\"\r\nexport SHELL=\"/gnu/store/k7029k5va68lkapbzcycdzj7m5bjb4b8-bash-4.4.12/bin/sh\"\r\nexport SHLVL=\"1\"\r\nexport SOURCE_DATE_EPOCH=\"1\"\r\nexport TEMP=\"/tmp/guix-build-rustc-1.16.0.drv-0\"\r\nexport TEMPDIR=\"/tmp/guix-build-rustc-1.16.0.drv-0\"\r\nexport TMP=\"/tmp/guix-build-rustc-1.16.0.drv-0\"\r\nexport TMPDIR=\"/tmp/guix-build-rustc-1.16.0.drv-0\"\r\nexport out=\"/gnu/store/5drf2fqlcc1kfvrfcspr8121ifb2fvya-rustc-1.16.0\"\r\n```\r\n\r\nThis is on GNU Guix.", "closed_by": {"login": "daym", "id": 7755349, "node_id": "MDQ6VXNlcjc3NTUzNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7755349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daym", "html_url": "https://github.com/daym", "followers_url": "https://api.github.com/users/daym/followers", "following_url": "https://api.github.com/users/daym/following{/other_user}", "gists_url": "https://api.github.com/users/daym/gists{/gist_id}", "starred_url": "https://api.github.com/users/daym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daym/subscriptions", "organizations_url": "https://api.github.com/users/daym/orgs", "repos_url": "https://api.github.com/users/daym/repos", "events_url": "https://api.github.com/users/daym/events{/privacy}", "received_events_url": "https://api.github.com/users/daym/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/41247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/41247/timeline", "performed_via_github_app": null, "state_reason": "completed"}