{"url": "https://api.github.com/repos/rust-lang/rust/issues/85566", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/85566/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/85566/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/85566/events", "html_url": "https://github.com/rust-lang/rust/issues/85566", "id": 898438557, "node_id": "MDU6SXNzdWU4OTg0Mzg1NTc=", "number": 85566, "title": "rustdoc: awkward vertical spacing on trait bounds", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 2406929537, "node_id": "MDU6TGFiZWwyNDA2OTI5NTM3", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-rustdoc-ui", "name": "A-rustdoc-ui", "color": "f7e101", "default": false, "description": "Area: rustdoc UI (generated HTML)"}], "state": "closed", "locked": false, "assignee": {"login": "rol1510", "id": 29011024, "node_id": "MDQ6VXNlcjI5MDExMDI0", "avatar_url": "https://avatars.githubusercontent.com/u/29011024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rol1510", "html_url": "https://github.com/rol1510", "followers_url": "https://api.github.com/users/rol1510/followers", "following_url": "https://api.github.com/users/rol1510/following{/other_user}", "gists_url": "https://api.github.com/users/rol1510/gists{/gist_id}", "starred_url": "https://api.github.com/users/rol1510/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rol1510/subscriptions", "organizations_url": "https://api.github.com/users/rol1510/orgs", "repos_url": "https://api.github.com/users/rol1510/repos", "events_url": "https://api.github.com/users/rol1510/events{/privacy}", "received_events_url": "https://api.github.com/users/rol1510/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rol1510", "id": 29011024, "node_id": "MDQ6VXNlcjI5MDExMDI0", "avatar_url": "https://avatars.githubusercontent.com/u/29011024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rol1510", "html_url": "https://github.com/rol1510", "followers_url": "https://api.github.com/users/rol1510/followers", "following_url": "https://api.github.com/users/rol1510/following{/other_user}", "gists_url": "https://api.github.com/users/rol1510/gists{/gist_id}", "starred_url": "https://api.github.com/users/rol1510/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rol1510/subscriptions", "organizations_url": "https://api.github.com/users/rol1510/orgs", "repos_url": "https://api.github.com/users/rol1510/repos", "events_url": "https://api.github.com/users/rol1510/events{/privacy}", "received_events_url": "https://api.github.com/users/rol1510/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-05-21T20:16:05Z", "updated_at": "2023-02-05T17:32:23Z", "closed_at": "2023-02-05T17:32:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When a method does not have trait bounds, it is displayed all on one line. When a method has just one trait bound, it takes four lines:\n\n    fn by_ref(&mut self) -> &mut Self\n    where\n        Self: Sized,\n    { ... }\n\nThere are some conflicting priorities here: On the one hand, it's nice for the layout to match what rustfmt does. On the other hand, it's good to use spacing to emphasize the parts of the documentation that are important. For instance, the `{ ... }` has a whole line to itself to convey one bit of information: this is a provided method, not a required one. Spacing is also useful to show that parts of the display are related to each other. In the above, it's not visually clear whether `{ ... }` is part of `by_ref` or some independent item.\n\nI propose we change to this for methods with one trait bound:\n\n    fn by_ref(&mut self) -> &mut Self\n       where Self: Sized { ... }\n\nAnd this for methods with multiple trait bounds:\n\n    fn by_ref(&mut self, other: T) -> &mut Self\n       where Self: Sized,\n             T: Read { ... }\n\n\n\nScreen shot of nightly: https://doc.rust-lang.org/nightly/std/io/trait.Read.html\n\n<img width=700 src=https://user-images.githubusercontent.com/220205/119192846-97ef2f80-ba35-11eb-9671-0a67bab5c0c5.png>\n\n<!-- TRIAGEBOT_START -->\n\n<!-- TRIAGEBOT_ASSIGN_START -->\n\n<!-- TRIAGEBOT_ASSIGN_DATA_START$${\"user\":\"rol1510\"}$$TRIAGEBOT_ASSIGN_DATA_END -->\n\n<!-- TRIAGEBOT_ASSIGN_END -->\n<!-- TRIAGEBOT_END -->", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/85566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/85566/timeline", "performed_via_github_app": null, "state_reason": "completed"}