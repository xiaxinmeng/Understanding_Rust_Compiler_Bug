{"url": "https://api.github.com/repos/rust-lang/rust/issues/30258", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/30258/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/30258/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/30258/events", "html_url": "https://github.com/rust-lang/rust/issues/30258", "id": 120795687, "node_id": "MDU6SXNzdWUxMjA3OTU2ODc=", "number": 30258, "title": "[Bug] \"Could not compile `[...]`\" without giving any error (not an ICE)", "user": {"login": "ticki", "id": 13349091, "node_id": "MDQ6VXNlcjEzMzQ5MDkx", "avatar_url": "https://avatars.githubusercontent.com/u/13349091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ticki", "html_url": "https://github.com/ticki", "followers_url": "https://api.github.com/users/ticki/followers", "following_url": "https://api.github.com/users/ticki/following{/other_user}", "gists_url": "https://api.github.com/users/ticki/gists{/gist_id}", "starred_url": "https://api.github.com/users/ticki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ticki/subscriptions", "organizations_url": "https://api.github.com/users/ticki/orgs", "repos_url": "https://api.github.com/users/ticki/repos", "events_url": "https://api.github.com/users/ticki/events{/privacy}", "received_events_url": "https://api.github.com/users/ticki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-07T15:16:14Z", "updated_at": "2015-12-08T21:07:16Z", "closed_at": "2015-12-08T07:57:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm unable to make a small reproduction of this bug. However, the code causing this problem can be found here: https://github.com/Ticki/b\n\nNote that the above repo is only intended for debugging the new memory manager for Redox, hence it's a very ugly and bad code (since it's not intended for actual use).\n\nNevertheless, it outputs a bunch of warnings, but no errors.\n\nNote that it's (since it's low-level code) using a lot of `unsafe`s, and I believe the bug is related to that.\n\nI've tried the following:\n1. Compile the code on another computer.\n2. Use rustc directly.\n3. Use release mode\n4. Updating rust\n5. Disabling all optimizations.\n6. Not doing the LLVM codegen\n\nBut all of these fails.\n\nIt does not even produce an ICE, but just aborts with no reason given.\n\n``` rust\n[...]\nmemory.rs:562     let mut ret = 1024 * 1024;\n                      ^~~~~~~\nmemory.rs:563:5: 568:6 warning: unnecessary `unsafe` block, #[warn(unused_unsafe)] on by default\nmemory.rs:563     unsafe {\nmemory.rs:564         // Memory allocation must be atomic\nmemory.rs:565         // TODO\nmemory.rs:566 \nmemory.rs:567         // Memory allocation must be atomic\nmemory.rs:568     }\nmain.rs:14:17: 14:18 warning: unused variable: `b`, #[warn(unused_variables)] on by default\nmain.rs:14             let b = memory::alloc(i);\n                           ^\nCould not compile `b`.\n```\n", "closed_by": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/30258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/30258/timeline", "performed_via_github_app": null, "state_reason": "completed"}