{"url": "https://api.github.com/repos/rust-lang/rust/issues/46660", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/46660/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/46660/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/46660/events", "html_url": "https://github.com/rust-lang/rust/issues/46660", "id": 281049960, "node_id": "MDU6SXNzdWUyODEwNDk5NjA=", "number": 46660, "title": "str primitive usage should automatically recommend str module functions", "user": {"login": "mqudsi", "id": 606923, "node_id": "MDQ6VXNlcjYwNjkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mqudsi", "html_url": "https://github.com/mqudsi", "followers_url": "https://api.github.com/users/mqudsi/followers", "following_url": "https://api.github.com/users/mqudsi/following{/other_user}", "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions", "organizations_url": "https://api.github.com/users/mqudsi/orgs", "repos_url": "https://api.github.com/users/mqudsi/repos", "events_url": "https://api.github.com/users/mqudsi/events{/privacy}", "received_events_url": "https://api.github.com/users/mqudsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 234902, "node_id": "MDU6TGFiZWwyMzQ5MDI=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-enhancement", "name": "C-enhancement", "color": "f5f1fd", "default": false, "description": "Category: An issue proposing an enhancement or a PR with one."}, {"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-11T15:08:40Z", "updated_at": "2019-04-19T07:36:41Z", "closed_at": "2019-04-19T07:03:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using `str` without the `std::str` prefix to specify the module generates unhelpful error messages (especially since the distinction between the `std::str` module and the `str` primitive is not very nicely thought out due to technical restrictions I wish we could revisit).\r\n\r\nExample code:\r\n\r\n```rust\r\nfn main() {\r\n    let bytes = \"hello world\".as_bytes();\r\n    let string = unsafe {\r\n        str::from_utf8(bytes)\r\n    };\r\n\r\n    println!(\"{}\", string);\r\n}\r\n```\r\n\r\nThis causes the compiler to emit the following error:\r\n\r\n```rust\r\nerror[E0599]: no function or associated item named `from_utf8` found for type `str` in the current scope\r\n --> ./test.rs:4:9\r\n  |\r\n4 |         str::from_utf8(bytes)\r\n  |         ^^^^^^^^^^^^^^\r\n\r\nerror: aborting due to previous error\r\n\r\n```\r\n\r\nA recommendation to specify `std::` to access the module function with the same name would be most helpful. In fact, anything the compiler could do to blur the distinction between the type and the primitive would be most appreciated.", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/46660/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/46660/timeline", "performed_via_github_app": null, "state_reason": "completed"}