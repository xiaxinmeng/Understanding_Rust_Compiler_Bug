{"url": "https://api.github.com/repos/rust-lang/rust/issues/32958", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/32958/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/32958/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/32958/events", "html_url": "https://github.com/rust-lang/rust/issues/32958", "id": 148434536, "node_id": "MDU6SXNzdWUxNDg0MzQ1MzY=", "number": 32958, "title": "pretty printer ICEs on large expressions: assertion failed: (self.right != self.left)", "user": {"login": "anka-213", "id": 475451, "node_id": "MDQ6VXNlcjQ3NTQ1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/475451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anka-213", "html_url": "https://github.com/anka-213", "followers_url": "https://api.github.com/users/anka-213/followers", "following_url": "https://api.github.com/users/anka-213/following{/other_user}", "gists_url": "https://api.github.com/users/anka-213/gists{/gist_id}", "starred_url": "https://api.github.com/users/anka-213/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anka-213/subscriptions", "organizations_url": "https://api.github.com/users/anka-213/orgs", "repos_url": "https://api.github.com/users/anka-213/repos", "events_url": "https://api.github.com/users/anka-213/events{/privacy}", "received_events_url": "https://api.github.com/users/anka-213/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-14T17:43:27Z", "updated_at": "2017-05-04T23:55:23Z", "closed_at": "2017-05-04T23:55:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "(This is repost of  #17406.)\nConsider the following code:\n\n```\nstatic I104: int =\n    0 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1\n        + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 +\n        1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1\n        + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 +\n        1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1\n        + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1;\n\nfn main() {\n}\n```\n\nOutput with `-Z unstable-options --pretty normal`:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'assertion failed: (self.right != self.left)', src/libsyntax/print/pp.rs:447\nstack backtrace:\n   1:     0x7f8e0d421ac0 - sys::backtrace::tracing::imp::write::h19a75f57079ca7d6Eju\n   2:     0x7f8e0d428965 - panicking::default_handler::_<closure>::closure.42502\n   3:     0x7f8e0d4283ce - panicking::default_handler::heecbc8b8a021fa9bGwy\n   4:     0x7f8e0d3f1186 - sys_common::unwind::begin_unwind_inner::hd4253a1812044857bct\n   5:     0x7f8e0927ce3f - sys_common::unwind::begin_unwind::h1281765479818664806\n   6:     0x7f8e094951b0 - print::pp::Printer<'a>::pretty_print::ha5676d057f735293bBZ\n   7:     0x7f8e094b9da7 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n   8:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n   9:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n  10:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n[...]\n  89:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n  90:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n  91:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n  92:     0x7f8e094b9591 - print::pprust::State<'a>::print_expr_outer_attr_style::h50179a3754113cafXn4\n  93:     0x7f8e094a878b - print::pprust::State<'a>::print_item::h131393a94094673cvk2\n  94:     0x7f8e0949716e - print::pprust::print_crate::h443c298d54036fdccE0\n  95:     0x7f8e0d9d9b77 - pretty::pretty_print_input::_<closure>::closure.35146\n  96:     0x7f8e0d8f0682 - pretty::pretty_print_input::h53cc6c877874ca57b5b\n  97:     0x7f8e0d8e637c - run_compiler::h9947f6ff221ed46f7wc\n  98:     0x7f8e0d8e3751 - sys_common::unwind::try::try_fn::h15363083919275164358\n  99:     0x7f8e0d41f888 - __rust_try\n  100:     0x7f8e0d41709b - sys_common::unwind::try::inner_try::ha2ff38ef4cd20984J8s\n ... <frames omitted>\n```\n\n```\n$ rustc --version --verbose\nrustc 1.7.0\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nhost: x86_64-unknown-linux-gnu\nrelease: 1.7.0\n```\n", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/32958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/32958/timeline", "performed_via_github_app": null, "state_reason": "completed"}