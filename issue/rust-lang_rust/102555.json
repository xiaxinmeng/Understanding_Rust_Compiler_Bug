{"url": "https://api.github.com/repos/rust-lang/rust/issues/102555", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/102555/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/102555/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/102555/events", "html_url": "https://github.com/rust-lang/rust/issues/102555", "id": 1393576081, "node_id": "I_kwDOAAsO6M5TEEiR", "number": 102555, "title": "`x.py setup` fails with explicit panic", "user": {"login": "Joshument", "id": 74075169, "node_id": "MDQ6VXNlcjc0MDc1MTY5", "avatar_url": "https://avatars.githubusercontent.com/u/74075169?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Joshument", "html_url": "https://github.com/Joshument", "followers_url": "https://api.github.com/users/Joshument/followers", "following_url": "https://api.github.com/users/Joshument/following{/other_user}", "gists_url": "https://api.github.com/users/Joshument/gists{/gist_id}", "starred_url": "https://api.github.com/users/Joshument/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Joshument/subscriptions", "organizations_url": "https://api.github.com/users/Joshument/orgs", "repos_url": "https://api.github.com/users/Joshument/repos", "events_url": "https://api.github.com/users/Joshument/events{/privacy}", "received_events_url": "https://api.github.com/users/Joshument/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-01T22:37:59Z", "updated_at": "2022-10-02T05:48:53Z", "closed_at": "2022-10-02T05:48:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When trying to run `x.py setup`, the program exits with an explicit panic and does not create the `config.toml` file. The error and full backtrace are as follows (on Arch Linux x86_64):\r\n```\r\nBuilding rustbuild\r\n    Finished dev [unoptimized] target(s) in 0.03s\r\nWelcome to the Rust project! What do you want to do with x.py?\r\na) library: Contribute to the standard library\r\nb) compiler: Contribute to the compiler itself\r\nc) codegen: Contribute to the compiler, and also modify LLVM or codegen\r\nd) tools: Contribute to tools which depend on the compiler, but do not modify it directly (e.g. rustdoc, clippy, miri)\r\ne) user: Install Rust from source\r\nPlease choose one (a/b/c/d/e): b\r\nthread 'main' panicked at 'explicit panic', builder.rs:821:17\r\nstack backtrace:\r\n   0:     0x564136529f00 - std::backtrace_rs::backtrace::libunwind::trace::he4b135b282ad0bdb\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   1:     0x564136529f00 - std::backtrace_rs::backtrace::trace_unsynchronized::h95dd1a9f59a261f0\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x564136529f00 - std::sys_common::backtrace::_print_fmt::hb2d5f7f2edfb1871\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/sys_common/backtrace.rs:66:5\r\n   3:     0x564136529f00 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbbdb63e1a9e5bae0\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/sys_common/backtrace.rs:45:22\r\n   4:     0x564136551afe - core::fmt::write::hc0fd3d64c7964deb\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/core/src/fmt/mod.rs:1202:17\r\n   5:     0x564136524ca5 - std::io::Write::write_fmt::h1519d1f8a9f30a76\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/io/mod.rs:1679:15\r\n   6:     0x56413652c053 - std::sys_common::backtrace::_print::h024f4799bdf90945\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/sys_common/backtrace.rs:48:5\r\n   7:     0x56413652c053 - std::sys_common::backtrace::print::h7afbde668e15046e\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/sys_common/backtrace.rs:35:9\r\n   8:     0x56413652c053 - std::panicking::default_hook::{{closure}}::hd91c46b08dd5ed53\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:295:22\r\n   9:     0x56413652bd3f - std::panicking::default_hook::hd24a3e5b374ef38d\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:314:9\r\n  10:     0x56413652c6fa - std::panicking::rust_panic_with_hook::h227f8f44fe4dcc4d\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:698:17\r\n  11:     0x56413652c5b1 - std::panicking::begin_panic_handler::{{closure}}::h643d0c4e5ea667c5\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:586:13\r\n  12:     0x56413652a3ac - std::sys_common::backtrace::__rust_end_short_backtrace::hfc98d21e90a8d7a6\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/sys_common/backtrace.rs:138:18\r\n  13:     0x56413652c312 - rust_begin_unwind\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:584:5\r\n  14:     0x564135c3a223 - core::panicking::panic_fmt::h7c86307091386a9a\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/core/src/panicking.rs:142:14\r\n  15:     0x564135c3a0ed - core::panicking::panic::h23b207df3263cf9f\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/core/src/panicking.rs:48:5\r\n  16:     0x56413609dae5 - bootstrap::builder::Builder::new::hec49ddb1e7ccf756\r\n                               at /home/josh/Documents/VsCode/Rust/rust/src/bootstrap/builder.rs:821:17\r\n  17:     0x564135ccf382 - bootstrap::Build::build::h4dff643b0867023d\r\n                               at /home/josh/Documents/VsCode/Rust/rust/src/bootstrap/lib.rs:658:18\r\n  18:     0x564135c3b08c - bootstrap::main::h0575736a7a8a35ba\r\n                               at /home/josh/Documents/VsCode/Rust/rust/src/bootstrap/bin/main.rs:50:5\r\n  19:     0x564135c3c2f3 - core::ops::function::FnOnce::call_once::ha85b876461d50400\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/core/src/ops/function.rs:248:5\r\n  20:     0x564135c3c519 - std::sys_common::backtrace::__rust_begin_short_backtrace::h737bf80906a2863c\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/sys_common/backtrace.rs:122:18\r\n  21:     0x564135c3cff9 - std::rt::lang_start::{{closure}}::h59767c52524af4f2\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/rt.rs:166:18\r\n  22:     0x56413651dd7f - core::ops::function::impls::<impl core::ops::function::FnOnce<A> for &F>::call_once::hc94483205bc71284\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/core/src/ops/function.rs:283:13\r\n  23:     0x56413651dd7f - std::panicking::try::do_call::haa04c06f92e34058\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:492:40\r\n  24:     0x56413651dd7f - std::panicking::try::h5948f6703ca9775f\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:456:19\r\n  25:     0x56413651dd7f - std::panic::catch_unwind::h52dcfc8399de3a68\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panic.rs:137:14\r\n  26:     0x56413651dd7f - std::rt::lang_start_internal::{{closure}}::h1fffe4b37fe998da\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/rt.rs:148:48\r\n  27:     0x56413651dd7f - std::panicking::try::do_call::h771f2fee565f25f2\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:492:40\r\n  28:     0x56413651dd7f - std::panicking::try::h7bc1e762d5b9af82\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panicking.rs:456:19\r\n  29:     0x56413651dd7f - std::panic::catch_unwind::h6660f137bf3c4a00\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/panic.rs:137:14\r\n  30:     0x56413651dd7f - std::rt::lang_start_internal::h3b9b5a43f1b6b3ca\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/rt.rs:148:20\r\n  31:     0x564135c3cfd7 - std::rt::lang_start::hc85f891cccf9dcc8\r\n                               at /rustc/2a65764f21cf10b7e03c645f1ad0946e42758e0a/library/std/src/rt.rs:165:17\r\n  32:     0x564135c3b791 - main\r\n  33:     0x7fd936aee290 - <unknown>\r\n  34:     0x7fd936aee34a - __libc_start_main\r\n  35:     0x564135c3a555 - _start\r\n                               at /build/glibc/src/glibc/csu/../sysdeps/x86_64/start.S:115\r\n  36:                0x0 - <unknown>\r\nBuild completed unsuccessfully in 0:00:01\r\n```", "closed_by": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/102555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/102555/timeline", "performed_via_github_app": null, "state_reason": "completed"}