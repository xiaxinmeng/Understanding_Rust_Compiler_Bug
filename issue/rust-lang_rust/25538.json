{"url": "https://api.github.com/repos/rust-lang/rust/issues/25538", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/25538/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/25538/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/25538/events", "html_url": "https://github.com/rust-lang/rust/issues/25538", "id": 77326898, "node_id": "MDU6SXNzdWU3NzMyNjg5OA==", "number": 25538, "title": "MemoryMap fails on ARM", "user": {"login": "geraldstanje", "id": 6293104, "node_id": "MDQ6VXNlcjYyOTMxMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6293104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geraldstanje", "html_url": "https://github.com/geraldstanje", "followers_url": "https://api.github.com/users/geraldstanje/followers", "following_url": "https://api.github.com/users/geraldstanje/following{/other_user}", "gists_url": "https://api.github.com/users/geraldstanje/gists{/gist_id}", "starred_url": "https://api.github.com/users/geraldstanje/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geraldstanje/subscriptions", "organizations_url": "https://api.github.com/users/geraldstanje/orgs", "repos_url": "https://api.github.com/users/geraldstanje/repos", "events_url": "https://api.github.com/users/geraldstanje/events{/privacy}", "received_events_url": "https://api.github.com/users/geraldstanje/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-17T14:58:12Z", "updated_at": "2015-05-17T17:07:43Z", "closed_at": "2015-05-17T17:07:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI ported this c app (http://ideone.com/AbImAr) to rust but face an issue with MemoryMap.\n\nThe rust app is cross compiled on my ubuntu linux for the ARM:\n\n```\n# file /sbin/init\n/sbin/init: ELF 32-bit LSB  shared object, ARM, EABI5 version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=289a0061854bb8d2f7ed8286c0a18aa1207141a5, stripped\n```\n\nRust was built from source according to https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md\n\nThe rust app is built using cargo:\n\n```\n$ rustc --version\nrustc 1.0.0-dev (a59de37e9 2015-05-13) (built 2015-5-14)\n\n$ cargo build --target=arm-unkown-linux-gnuabihf\n```\n\nThe rust app crashes without any error and cuts off my ssh connection to the device...\nwhat happens could be:\nin best case the kernel crashes, in worst case a disk buffer is overwritten and face a silent filesystem corruption...\n\nHere the code code of the rust app (which crashes when executing the unsafe part):\nhttp://is.gd/PT0cwM\n\nGdb output:\nwhy does it report \"Cannot access memory\"? Can i trust this info to be correct?\n\n```\nlet mmap = MemoryMap::new(size, mmap_opts).unwrap();\n(gdb) next\n42      let data = mmap.data();\n(gdb) print mmap\n$1 = {data = 0xb5c00000 <error: Cannot access memory at address 0xb5c00000>, len = 8388608, kind = {{RUST$ENUM$DISR = MapFile, __0 = 0x0}, {\n      RUST$ENUM$DISR = MapFile}}}\n```\n\nStrace for the rust app (to get the strace, the unsafe part of the code was disabled):\nhttp://ideone.com/hNIYMw\n", "closed_by": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/25538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/25538/timeline", "performed_via_github_app": null, "state_reason": "completed"}