{"url": "https://api.github.com/repos/rust-lang/rust/issues/109725", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/109725/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/109725/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/109725/events", "html_url": "https://github.com/rust-lang/rust/issues/109725", "id": 1645887959, "node_id": "I_kwDOAAsO6M5iGkHX", "number": 109725, "title": "ui test error output doesn't play nicely with \"goto file\" in vscode", "user": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 37234, "node_id": "MDU6TGFiZWwzNzIzNA==", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-cleanup", "name": "C-cleanup", "color": "f5f1fd", "default": false, "description": "Category: PRs that clean code up or issues documenting cleanup."}, {"id": 120005, "node_id": "MDU6TGFiZWwxMjAwMDU=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-testsuite", "name": "A-testsuite", "color": "f7e101", "default": false, "description": "Area: The testsuite used to check the correctness of rustc"}, {"id": 67766349, "node_id": "MDU6TGFiZWw2Nzc2NjM0OQ==", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-mentor", "name": "E-mentor", "color": "02E10C", "default": false, "description": "Call for participation: This issue has a mentor. Use RustcContributor::new on Zulip for discussion."}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}, {"id": 419557634, "node_id": "MDU6TGFiZWw0MTk1NTc2MzQ=", "url": "https://api.github.com/repos/rust-lang/rust/labels/E-medium", "name": "E-medium", "color": "02e10c", "default": false, "description": "Call for participation: Experience needed to fix: Medium / intermediate"}, {"id": 2345380158, "node_id": "MDU6TGFiZWwyMzQ1MzgwMTU4", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-contributor-roadblock", "name": "A-contributor-roadblock", "color": "f7e101", "default": false, "description": "Area: Makes things more difficult for new contributors to rust itself"}], "state": "closed", "locked": false, "assignee": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-03-29T14:05:28Z", "updated_at": "2023-04-10T11:37:07Z", "closed_at": "2023-04-10T11:37:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "it seems like the source directory in the printout for ui tests uses \"fake-test-src-base\" rn, e.g.\r\n```\r\n---- [ui] tests/ui/traits/new-solver/prefer-param-env-on-ambiguity.rs stdout ----\r\n\r\nerror: test compilation failed although it shouldn't!\r\nstatus: exit status: 1\r\ncommand: \"/home/lcnr/rust6/build/x86_64-unknown-linux-gnu/stage1/bin/rustc\" \"/home/lcnr/rust6/tests/ui/traits/new-solver/prefer-param-env-on-ambiguity.rs\" \"-Zthreads=1\" \"--target=x86_64-unknown-linux-gnu\" \"--error-format\" \"json\" \"--json\" \"future-incompat\" \"-Ccodegen-units=1\" \"-Zui-testing\" \"-Zsimulate-remapped-rust-src-base=/rustc/FAKE_PREFIX\" \"-Ztranslate-remapped-path-to-local-path=no\" \"-Zdeduplicate-diagnostics=no\" \"-Cstrip=debuginfo\" \"--remap-path-prefix=/home/lcnr/rust6/tests/ui=fake-test-src-base\" \"--emit\" \"metadata\" \"-C\" \"prefer-dynamic\" \"--out-dir\" \"/home/lcnr/rust6/build/x86_64-unknown-linux-gnu/test/ui/traits/new-solver/prefer-param-env-on-ambiguity\" \"-A\" \"unused\" \"-Crpath\" \"-Cdebuginfo=0\" \"-Lnative=/home/lcnr/rust6/build/x86_64-unknown-linux-gnu/native/rust-test-helpers\" \"-L\" \"/home/lcnr/rust6/build/x86_64-unknown-linux-gnu/test/ui/traits/new-solver/prefer-param-env-on-ambiguity/auxiliary\" \"-Ztrait-solver=next\"\r\nstdout: none\r\n--- stderr -------------------------------\r\nerror[E0283]: type annotations needed: cannot satisfy `T: Foo<'a>`\r\n  --> fake-test-src-base/traits/new-solver/prefer-param-env-on-ambiguity.rs:7:34\r\n   |\r\nLL | impl<'a, T: Bar<'a>> Foo<'a> for T {}\r\n   |                                  ^\r\n   |\r\n   = note: cannot satisfy `T: Foo<'a>`\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0283`.\r\n------------------------------------------\r\n```\r\n\r\nthis prevents ctrl+leftclick in vscode to take me directly to the relevant point in the source of the failing test.\r\n\r\nit would be nice to somehowo keep the actual path in the output for ui tests and only normalize it when writing into the stderr file?\r\n\r\nsee https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/ui.20tests.20.22fake-test-src-base.22 for more details", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/109725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/109725/timeline", "performed_via_github_app": null, "state_reason": "completed"}