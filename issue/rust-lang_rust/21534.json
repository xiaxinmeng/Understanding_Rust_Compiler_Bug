{"url": "https://api.github.com/repos/rust-lang/rust/issues/21534", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21534/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21534/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21534/events", "html_url": "https://github.com/rust-lang/rust/issues/21534", "id": 55227703, "node_id": "MDU6SXNzdWU1NTIyNzcwMw==", "number": 21534, "title": "Linker error when building pure rust project", "user": {"login": "TyOverby", "id": 573215, "node_id": "MDQ6VXNlcjU3MzIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/573215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TyOverby", "html_url": "https://github.com/TyOverby", "followers_url": "https://api.github.com/users/TyOverby/followers", "following_url": "https://api.github.com/users/TyOverby/following{/other_user}", "gists_url": "https://api.github.com/users/TyOverby/gists{/gist_id}", "starred_url": "https://api.github.com/users/TyOverby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TyOverby/subscriptions", "organizations_url": "https://api.github.com/users/TyOverby/orgs", "repos_url": "https://api.github.com/users/TyOverby/repos", "events_url": "https://api.github.com/users/TyOverby/events{/privacy}", "received_events_url": "https://api.github.com/users/TyOverby/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-23T00:05:00Z", "updated_at": "2015-01-23T06:06:32Z", "closed_at": "2015-01-23T04:43:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is too much code for me to upload, but what is happening is this:\n\nI have a library \"Lux\".  Lux builds just fine when run with `cargo build`.   One of the tests however, uses  functionality in Lux, and the compiler crashes with a linker error.\n\n```\nerror: linking with `cc` failed: exit code: 1\nnote: cc '-Wl,--as-needed' '-m64' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-o' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/examples/spritesheet' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/examples/spritesheet.o' '-Wl,--whole-archive' '-lmorestack' '-Wl,--no-whole-archive' '-Wl,--gc-sections' '-pie' '-nodefaultlibs' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/liblux-0044c44cb706a208.rlib' '-L' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps' '-lglium_macros-0d63a9614c44c703' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lrustc-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lrustc_back-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lsyntax-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lterm-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lrustc_llvm-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-larena-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lgetopts-4e7c5e5c' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libvecmath-350a77008be8648b.rlib' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lrbml-4e7c5e5c' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libglium-af9a1675d224f665.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libglutin-abe6f4e5d9a1c8bb.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libcgmath-40919635fc2a19d7.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libimage-49298ff37d3495f7.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libnum-5b0bc2450b7c80b1.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libnalgebra-1b2cab07beb57e5d.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/librustc-serialize-32ba0ff0c50e3a4d.rlib' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lflate-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lfmt_macros-4e7c5e5c' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libgl_common-f44d989b8724e1a7.rlib' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lserialize-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-llog-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lregex-4e7c5e5c' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libtypemap-3efd7ccbb9d24a2a.rlib' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps/libunsafe-any-3f018797a3613438.rlib' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lgraphviz-4e7c5e5c' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-lstd-4e7c5e5c' '-L' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target' '-L' '/homes/iws/tyoverby/workspace/Personal/rust/lux/target/deps' '-L' '/usr/lib64' '-L' '/usr/lib64' '-L' '/homes/iws/tyoverby/lib/rustlib/x86_64-unknown-linux-gnu/lib' '-L' '/homes/iws/tyoverby/workspace/Personal/rust/lux/.rust/lib/x86_64-unknown-linux-gnu' '-L' '/homes/iws/tyoverby/workspace/Personal/rust/lux/lib/x86_64-unknown-linux-gnu' '-Wl,--whole-archive' '-Wl,-Bstatic' '-Wl,--no-whole-archive' '-Wl,-Bdynamic' '-lpthread' '-lrt' '-ldl' '-lm' '-lGL' '-lX11' '-lXxf86vm' '-lXcursor' '-ldl' '-lpthread' '-lrt' '-lgcc_s' '-lpthread' '-lc' '-lm' '-lcompiler-rt'\nnote: /homes/iws/tyoverby/workspace/Personal/rust/lux/target/examples/spritesheet.o: In function `spritesheet::main':\n/homes/iws/tyoverby/workspace/Personal/rust/lux/examples/spritesheet.rs:20: undefined reference to `sprite::SpriteSheet::get::hb2fae00cafba72c7sMc'\ncollect2: error: ld returned 1 exit status\n\nerror: aborting due to previous error\nCould not compile `lux`.\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21534/timeline", "performed_via_github_app": null, "state_reason": "completed"}