{"url": "https://api.github.com/repos/rust-lang/rust/issues/8277", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/8277/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/8277/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/8277/events", "html_url": "https://github.com/rust-lang/rust/issues/8277", "id": 17602142, "node_id": "MDU6SXNzdWUxNzYwMjE0Mg==", "number": 8277, "title": "Anonymous sum types", "user": {"login": "glaebhoerl", "id": 1216629, "node_id": "MDQ6VXNlcjEyMTY2Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glaebhoerl", "html_url": "https://github.com/glaebhoerl", "followers_url": "https://api.github.com/users/glaebhoerl/followers", "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}", "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}", "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions", "organizations_url": "https://api.github.com/users/glaebhoerl/orgs", "repos_url": "https://api.github.com/users/glaebhoerl/repos", "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}", "received_events_url": "https://api.github.com/users/glaebhoerl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2013-08-03T23:58:44Z", "updated_at": "2014-09-24T04:59:41Z", "closed_at": "2014-09-24T04:59:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Rust has an anonymous form of product types (structs), namely tuples, but not sum types (enums). One reason is that it's not obvious what syntax they could use, especially their variants. The first variant of an anonymous sum type with three variants needs to be syntactically distinct not just from the second and third variant of the same type, but also from the first variant of all other anonymous sum types with  different numbers of variants.\n\nHere's an idea I think is decent:\n\nA type would look like this: `(~str|int|int)`. In other words, very similar to a tuple, but with pipes instead of commas (signifying or instead of and).\n\nA value would have the same shape (also like tuples), with a value of appropriate type in  one of the \"slots\" and nothing in the rest:\n\n```\nlet foo: (~str|int|int) = (!|!|666);\nmatch foo {\n    (s|!|!) => println(fmt!(\"string in first: %?\", s)),\n    (!|n|!) => println(fmt!(\"int in second: %?\", n)),\n    (!|!|m) => println(fmt!(\"int in third: %?\", m))\n} \n```\n\n(Nothing is a bikeshed, other possible colors for it include whitespace, `.`, and `-`. `_` means something is there we're just not giving it a name, so it's not suitable for \"nothing is there\". `!` has nothing-connotations from the negation operator and the return type of functions that don't.)\n\nI'm not sure whether this conflicts syntax-wise with closures and/or negation.\n\nAnother necessary condition for this should be demand for it. This ticket is to keep a record of the idea, in case someone else has demand but not syntax. (If the Bikesheds section of the wiki is a better place, I'm happy to move it.)\n", "closed_by": {"login": "rust-highfive", "id": 7378925, "node_id": "MDQ6VXNlcjczNzg5MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-highfive", "html_url": "https://github.com/rust-highfive", "followers_url": "https://api.github.com/users/rust-highfive/followers", "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}", "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions", "organizations_url": "https://api.github.com/users/rust-highfive/orgs", "repos_url": "https://api.github.com/users/rust-highfive/repos", "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-highfive/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/8277/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/8277/timeline", "performed_via_github_app": null, "state_reason": "completed"}