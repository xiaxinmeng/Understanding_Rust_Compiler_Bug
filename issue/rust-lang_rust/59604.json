{"url": "https://api.github.com/repos/rust-lang/rust/issues/59604", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/59604/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/59604/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/59604/events", "html_url": "https://github.com/rust-lang/rust/issues/59604", "id": 427714700, "node_id": "MDU6SXNzdWU0Mjc3MTQ3MDA=", "number": 59604, "title": "Unable to link mingw64 + rust nightly undefined reference to `__imp___acrt_iob_func'", "user": {"login": "norru", "id": 889291, "node_id": "MDQ6VXNlcjg4OTI5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/889291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/norru", "html_url": "https://github.com/norru", "followers_url": "https://api.github.com/users/norru/followers", "following_url": "https://api.github.com/users/norru/following{/other_user}", "gists_url": "https://api.github.com/users/norru/gists{/gist_id}", "starred_url": "https://api.github.com/users/norru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/norru/subscriptions", "organizations_url": "https://api.github.com/users/norru/orgs", "repos_url": "https://api.github.com/users/norru/repos", "events_url": "https://api.github.com/users/norru/events{/privacy}", "received_events_url": "https://api.github.com/users/norru/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-01T13:46:05Z", "updated_at": "2020-01-21T02:02:19Z", "closed_at": "2019-04-01T14:03:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to compile https://github.com/vulkano-rs/vulkano on `nightly`. \r\n\r\nOS: Windows 10 + mingw64, `pacman -Syu` to latest mingw64 from MSYS2\r\nToolchain: `nightly-x86_64-pc-windows-gnu` \r\nrustc `1.35.0-nightly (bc44841ad 2019-03-14)`\r\n\r\n```\r\nMINGW64 /f/Projects/3rdParty/vulkano\r\n$ cargo build\r\n   Compiling vulkano-shaders v0.11.1 (F:\\Projects\\3rdParty\\vulkano\\vulkano-shaders)\r\nerror: linking with `gcc` failed: exit code: 1\r\n  |\r\n  = note: \"gcc\" \"-Wl,--enable-long-section-names\" \"-fno-use-linker-plugin\" \"-Wl,--nxcompat\" \"-nostdlib\" \"-m64\" \r\n\r\n[...snip...]\r\n\r\n  = note: F:\\Projects\\3rdParty\\vulkano\\target\\debug\\deps\\libshaderc-f274fa1b371f550d.rlib(ShaderLang.cpp.obj):ShaderLang.cpp:(.text$_ZL6printfPKcz+0x29): undefined reference to `__imp___acrt_iob_func'\r\n          F:\\Projects\\3rdParty\\vulkano\\target\\debug\\deps\\libshaderc-f274fa1b371f550d.rlib(ossource.cpp.obj):ossource.cpp:(.text$_Z6printfPKcz[_Z6printfPKcz]+0x29): undefined reference to `__imp___acrt_iob_func'\r\n          F:\\Projects\\3rdParty\\vulkano\\target\\debug\\deps\\libshaderc-f274fa1b371f550d.rlib(glslang_tab.cpp.obj):glslang_tab.cpp:(.text$_ZL14yy_stack_printPsS_+0xd): undefined reference to `__imp___acrt_iob_func'\r\n          F:\\Projects\\3rdParty\\vulkano\\target\\debug\\deps\\libshaderc-f274fa1b371f550d.rlib(glslang_tab.cpp.obj):glslang_tab.cpp:(.text$_ZL10yydestructPKciP7YYSTYPEPN7glslang13TParseContextE.isra.13+0x23): undefinedference to `__imp___acrt_iob_func'\r\n          F:\\Projects\\3rdParty\\vulkano\\target\\debug\\deps\\libshaderc-f274fa1b371f550d.rlib(glslang_tab.cpp.obj):glslang_tab.cpp:(.text$_Z7yyparsePN7glslang13TParseContextE+0x8cc): undefined reference to `__imp___aciob_func'\r\n          F:\\Projects\\3rdParty\\vulkano\\target\\debug\\deps\\libshaderc-f274fa1b371f550d.rlib(glslang_tab.cpp.obj):glslang_tab.cpp:(.text$_Z7yyparsePN7glslang13TParseContextE+0x90a): more undefined references to `__im_acrt_iob_func' follow\r\n\r\n\r\nerror: aborting due to previous error\r\n\r\nerror: Could not compile `vulkano-shaders`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n```\r\n\r\n~~Building on `stable` succeeds but I need `nightly` for development.~~ Building on `stable-*-msvc` works.", "closed_by": {"login": "norru", "id": 889291, "node_id": "MDQ6VXNlcjg4OTI5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/889291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/norru", "html_url": "https://github.com/norru", "followers_url": "https://api.github.com/users/norru/followers", "following_url": "https://api.github.com/users/norru/following{/other_user}", "gists_url": "https://api.github.com/users/norru/gists{/gist_id}", "starred_url": "https://api.github.com/users/norru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/norru/subscriptions", "organizations_url": "https://api.github.com/users/norru/orgs", "repos_url": "https://api.github.com/users/norru/repos", "events_url": "https://api.github.com/users/norru/events{/privacy}", "received_events_url": "https://api.github.com/users/norru/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/59604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/59604/timeline", "performed_via_github_app": null, "state_reason": "completed"}