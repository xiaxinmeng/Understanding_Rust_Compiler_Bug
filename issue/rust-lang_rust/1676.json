{"url": "https://api.github.com/repos/rust-lang/rust/issues/1676", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1676/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1676/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1676/events", "html_url": "https://github.com/rust-lang/rust/issues/1676", "id": 2978204, "node_id": "MDU6SXNzdWUyOTc4MjA0", "number": 1676, "title": "Empty vector optimization", "user": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-01-26T11:22:09Z", "updated_at": "2014-06-16T21:56:27Z", "closed_at": "2012-01-30T11:27:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I suspect over 50% of the vectors the compiler creates stay empty. We could, since vectors are unique, represent all these with the same, statically allocated, vector. A check would have to be added to the free glue for vectors, so that it doesn't try to free the static vector, but since that glue is only called when actually doing a `free` call, that seems an acceptable cost.\n\n(All this is moot if we end up changing the vector representation, but it doesn't look like that will happen on the short term, and this should be relatively quick to implement.)\n", "closed_by": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/1676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1676/timeline", "performed_via_github_app": null, "state_reason": "completed"}