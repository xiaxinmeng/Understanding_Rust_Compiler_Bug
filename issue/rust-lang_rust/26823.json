{"url": "https://api.github.com/repos/rust-lang/rust/issues/26823", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26823/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26823/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26823/events", "html_url": "https://github.com/rust-lang/rust/issues/26823", "id": 93295716, "node_id": "MDU6SXNzdWU5MzI5NTcxNg==", "number": 26823, "title": "rustc panic when shifting SIMD types", "user": {"login": "rick68", "id": 42619, "node_id": "MDQ6VXNlcjQyNjE5", "avatar_url": "https://avatars.githubusercontent.com/u/42619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rick68", "html_url": "https://github.com/rick68", "followers_url": "https://api.github.com/users/rick68/followers", "following_url": "https://api.github.com/users/rick68/following{/other_user}", "gists_url": "https://api.github.com/users/rick68/gists{/gist_id}", "starred_url": "https://api.github.com/users/rick68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rick68/subscriptions", "organizations_url": "https://api.github.com/users/rick68/orgs", "repos_url": "https://api.github.com/users/rick68/repos", "events_url": "https://api.github.com/users/rick68/events{/privacy}", "received_events_url": "https://api.github.com/users/rick68/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-06T14:41:39Z", "updated_at": "2015-09-13T04:26:54Z", "closed_at": "2015-09-13T04:26:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried the `core::simd::f32x4` which I wanted to invoke operator `Shl`.\n\nI tried this code:\n\n``` rust\n#![feature(core, core_simd)]\nextern crate core;\n\nuse core::simd::f32x4;\n\nfn main() {\n    let x = f32x4(1.0, 2.0, 3.0, 4.0);\n    let y = f32x4(2.0, 2.0, 2.0, 2.0);\n\n    x << y;\n}\n```\n\nCauses the following output:\n\n``` txt\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'shift_mask_val: expected Integer or Vector, found Float', ../src/librustc_trans/trans/expr.rs:2518\n```\n## Meta\n\n```\nrustc 1.3.0-nightly (faa04a8b9 2015-06-30)\nbinary: rustc\ncommit-hash: faa04a8b9c326bb71b1d21e962dd96912ce234c6\ncommit-date: 2015-06-30\nhost: x86_64-apple-darwin\nrelease: 1.3.0-nightly\n```\n\nBacktrace:\n\n```\nstack backtrace:\n   1:        0x111ee1105 - sys::backtrace::write::h482ef0d590399e84Vns\n   2:        0x111ee9963 - panicking::on_panic::h876f9969e60a56a02Fw\n   3:        0x111ea5772 - rt::unwind::begin_unwind_inner::hea59fb951d2a637beow\n   4:        0x111ea64c9 - rt::unwind::begin_unwind_fmt::hb3e4d346d32664eaknw\n   5:        0x10e5fb2cf - trans::expr::shift_mask_val::h9b58d31958385d1fJyD\n   6:        0x10e5fb128 - trans::expr::shift_mask_val::h9b58d31958385d1fJyD\n   7:        0x10e5f830e - trans::expr::with_overflow_check::h6a4199863028f7cbcFD\n   8:        0x10e5f7228 - trans::expr::trans_eager_binop::h0d6d150fc4cd7a6eSAC\n   9:        0x10e5e1884 - trans::expr::trans_binary::h30377f7d05e8a1d8HKC\n  10:        0x10e5d695c - trans::expr::trans_unadjusted::hb7e1ba44ec030bd87dB\n  11:        0x10e5b0276 - trans::expr::trans_into::h385a15679d890a22QzA\n  12:        0x10e632610 - trans::_match::mk_binding_alloca::h7163100859052064782\n  13:        0x10e527f52 - trans::base::init_local::h6b51a1956bb47574tih\n  14:        0x10e538551 - trans::controlflow::trans_block::h8756b8bac594c211csv\n  15:        0x10e53723a - trans::base::trans_closure::h47210896ce517cebR1h\n  16:        0x10e538de2 - trans::base::trans_fn::hf99482b8dd71ec50pci\n  17:        0x10e53be55 - trans::base::trans_item::h63100eaeafa618a5vAi\n  18:        0x10e53c767 - trans::base::trans_item::h63100eaeafa618a5vAi\n  19:        0x10e549767 - trans::base::trans_crate::hc9dc32cbd0855f14soj\n  20:        0x10e38771e - driver::phase_4_translate_to_llvm::hf32b3d4dd68d02632Oa\n  21:        0x10e3822a6 - driver::phase_3_run_analysis_passes::closure.15760\n  22:        0x10e37d661 - middle::ty::ctxt<'tcx>::create_and_enter::h5865377603680210507\n  23:        0x10e378a4a - driver::phase_3_run_analysis_passes::h704692875758494462\n  24:        0x10e35bb47 - driver::compile_input::h017cd39a248f558aTba\n  25:        0x10e4348cf - run_compiler::h7aebe7b8c95254eey7b\n  26:        0x10e432183 - boxed::F.FnBox<A>::call_box::h11768881647795865154\n  27:        0x10e431947 - rt::unwind::try::try_fn::h12194854369765669775\n  28:        0x111f74408 - rust_try_inner\n  29:        0x111f743f5 - rust_try\n  30:        0x111ed3625 - rt::unwind::try::inner_try::hde8ee57e00a467b27jw\n  31:        0x10e431b78 - boxed::F.FnBox<A>::call_box::h7150966169734263186\n  32:        0x111ee83ed - sys::thread::Thread::new::thread_start::h2056f8a4b49a3bc2rIv\n  33:     0x7fff95b41267 - _pthread_body\n  34:     0x7fff95b411e4 - _pthread_start\n```\n", "closed_by": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/26823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26823/timeline", "performed_via_github_app": null, "state_reason": "completed"}