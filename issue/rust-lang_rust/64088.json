{"url": "https://api.github.com/repos/rust-lang/rust/issues/64088", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/64088/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/64088/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/64088/events", "html_url": "https://github.com/rust-lang/rust/issues/64088", "id": 488095439, "node_id": "MDU6SXNzdWU0ODgwOTU0Mzk=", "number": 64088, "title": "Spurious `unsized` error on resolution error", "user": {"login": "oli-cosmian", "id": 52913081, "node_id": "MDQ6VXNlcjUyOTEzMDgx", "avatar_url": "https://avatars.githubusercontent.com/u/52913081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-cosmian", "html_url": "https://github.com/oli-cosmian", "followers_url": "https://api.github.com/users/oli-cosmian/followers", "following_url": "https://api.github.com/users/oli-cosmian/following{/other_user}", "gists_url": "https://api.github.com/users/oli-cosmian/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-cosmian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-cosmian/subscriptions", "organizations_url": "https://api.github.com/users/oli-cosmian/orgs", "repos_url": "https://api.github.com/users/oli-cosmian/repos", "events_url": "https://api.github.com/users/oli-cosmian/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-cosmian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-02T09:34:10Z", "updated_at": "2019-09-15T13:53:04Z", "closed_at": "2019-09-15T13:53:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "the `bar` function does not exist, so its return type is implicitly inferred to be whatever type is consumed further down. If the inferred type is unsized, we may get additional errors though. I think we should find a way to silence that additional error.\r\n\r\n```rust\r\nfn foo() {\r\n    let x = bar();\r\n    meh(&x);\r\n}\r\n\r\nfn meh(_: &[i32]) {}\r\n```\r\n\r\n([Playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=2b0253a3a06201f009084e401adae036))\r\n\r\nErrors:\r\n\r\n```\r\n   Compiling playground v0.0.1 (/playground)\r\nerror[E0425]: cannot find function `bar` in this scope\r\n --> src/lib.rs:2:13\r\n  |\r\n2 |     let x = bar();\r\n  |             ^^^ not found in this scope\r\n\r\nerror[E0277]: the size for values of type `[i32]` cannot be known at compilation time\r\n --> src/lib.rs:2:9\r\n  |\r\n2 |     let x = bar();\r\n  |         ^ doesn't have a size known at compile-time\r\n  |\r\n  = help: the trait `std::marker::Sized` is not implemented for `[i32]`\r\n  = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\r\n  = note: all local variables must have a statically known size\r\n  = help: unsized locals are gated as an unstable feature\r\n\r\nerror: aborting due to 2 previous errors\r\n\r\nSome errors have detailed explanations: E0277, E0425.\r\nFor more information about an error, try `rustc --explain E0277`.\r\nerror: Could not compile `playground`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n\r\n```", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/64088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/64088/timeline", "performed_via_github_app": null, "state_reason": "completed"}