{"url": "https://api.github.com/repos/rust-lang/rust/issues/93683", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/93683/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/93683/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/93683/events", "html_url": "https://github.com/rust-lang/rust/issues/93683", "id": 1125037375, "node_id": "I_kwDOAAsO6M5DDrU_", "number": 93683, "title": "`x.py bench` should consider warning/informing the user if they have a configuration that may produce slower/inaccurate benchmakrs", "user": {"login": "thomcc", "id": 860665, "node_id": "MDQ6VXNlcjg2MDY2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/860665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomcc", "html_url": "https://github.com/thomcc", "followers_url": "https://api.github.com/users/thomcc/followers", "following_url": "https://api.github.com/users/thomcc/following{/other_user}", "gists_url": "https://api.github.com/users/thomcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomcc/subscriptions", "organizations_url": "https://api.github.com/users/thomcc/orgs", "repos_url": "https://api.github.com/users/thomcc/repos", "events_url": "https://api.github.com/users/thomcc/events{/privacy}", "received_events_url": "https://api.github.com/users/thomcc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 325438536, "node_id": "MDU6TGFiZWwzMjU0Mzg1MzY=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-bootstrap", "name": "T-bootstrap", "color": "bfd4f2", "default": false, "description": "Relevant to the bootstrap subteam: Rust's build system (x.py and src/bootstrap)"}, {"id": 2345380158, "node_id": "MDU6TGFiZWwyMzQ1MzgwMTU4", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-contributor-roadblock", "name": "A-contributor-roadblock", "color": "f7e101", "default": false, "description": "Area: Makes things more difficult for new contributors to rust itself"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-02-05T21:41:13Z", "updated_at": "2023-04-09T03:29:37Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Should `x.py bench` emit a message if settings that are bad for performance are enabled? I think my configuration was confusing me quite a bit in https://github.com/rust-lang/rust/pull/90414 -- specifically `rust.debug-info-std` (which IIUC impacts which variables get spilled to the stack) and `rust.incremental` (which impacts codegen units). There are definitely others relevant here.\r\n\r\nNote that I do think there are reasons that you may want to have these on when running the benchmark, so it should be an unobtrusive warning or message. Alternatively, it could be configured in some way automatically, if not overridden, similar to `[proflie.bench]` in cargo.\r\n\r\nDiscussion carried over from that PR.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/93683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/93683/timeline", "performed_via_github_app": null, "state_reason": null}