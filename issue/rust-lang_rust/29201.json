{"url": "https://api.github.com/repos/rust-lang/rust/issues/29201", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/29201/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/29201/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/29201/events", "html_url": "https://github.com/rust-lang/rust/issues/29201", "id": 112536175, "node_id": "MDU6SXNzdWUxMTI1MzYxNzU=", "number": 29201, "title": "thread '<unnamed>' panicked at 'internal error: entered unreachable code', ../src/libstd/sync/mpsc/mod.rs:567", "user": {"login": "octplane", "id": 22177, "node_id": "MDQ6VXNlcjIyMTc3", "avatar_url": "https://avatars.githubusercontent.com/u/22177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/octplane", "html_url": "https://github.com/octplane", "followers_url": "https://api.github.com/users/octplane/followers", "following_url": "https://api.github.com/users/octplane/following{/other_user}", "gists_url": "https://api.github.com/users/octplane/gists{/gist_id}", "starred_url": "https://api.github.com/users/octplane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/octplane/subscriptions", "organizations_url": "https://api.github.com/users/octplane/orgs", "repos_url": "https://api.github.com/users/octplane/repos", "events_url": "https://api.github.com/users/octplane/events{/privacy}", "received_events_url": "https://api.github.com/users/octplane/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-10-21T08:32:04Z", "updated_at": "2015-10-21T17:07:30Z", "closed_at": "2015-10-21T17:00:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\n\nI've hit this issue while trying to fix a downstream crash in a library. This issue is a follow-up of https://github.com/passcod/rsnotify/issues/33 . This might be due to my FFI binding used deep inside rsnotify, or a Rust issue.\n#### Steps to reproduce\n- Clone project https://github.com/octplane/rsnotify-33\n- Build `cargo build`\n- run `cargo run`\n- `touch test.ares`\n- Application spits error or segfaults.\n#### rustc 1.5.0-nightly (d3f497861 2015-10-18)\n- Nightly segfaults directly.\n#### rustc 1.3.0 (9a92aaf19 2015-09-15)\n\n```\nthread '<unnamed>' panicked at 'internal error: entered unreachable code', ../src/libstd/sync/mpsc/mod.rs:567\nstack backtrace:\n   1:        0x10db13af5 - sys::backtrace::write::h71ee98355e9ff89fUss\n   2:        0x10db16bb0 - panicking::on_panic::h3058b136d38637c267w\n   3:        0x10db0e7d2 - rt::unwind::begin_unwind_inner::h1a353d5ea12e1abeVBw\n   4:        0x10dae2d1c - rt::unwind::begin_unwind::h13210084108183515965\n   5:        0x10db07a34 - sync::mpsc::Sender<T>::send::h7384759401137046845\n   6:        0x10db06526 - fsevent::callback::__rust_abi\n   7:        0x10daff4c1 - fsevent::callback::hdc4434b90002a612Hia\n   8:     0x7fff8dba6b0a - implementation_callback_rpc\n   9:     0x7fff8dba46c9 - _Xcallback_rpc\n  10:     0x7fff8dba479d - FSEventsD2F_server\n  11:     0x7fff8dba9fd8 - FSEventsClientProcessMessageCallback\n  12:     0x7fff98cc8fbb - __CFMachPortPerform\n  13:     0x7fff98cc8ea8 - __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__\n  14:     0x7fff98cc8e18 - __CFRunLoopDoSource1\n  15:     0x7fff98cc084a - __CFRunLoopRun\n  16:     0x7fff98cbfd67 - CFRunLoopRunSpecific\n  17:     0x7fff98d01700 - CFRunLoopRun\n  18:        0x10db028c6 - fsevent::FsEventWatcher::run::closure.7787\n  19:        0x10db026bd - boxed::F.FnBox<A>::call_box::h14180244399571441323\n  20:        0x10db02120 - boxed::Box<FnBox<A, Output $u3d$$u20$R$GT$$u2b$$u20$Send$u20$$u2b$$u20$$u27$a$GT$.FnOnce$LT$A$GT$::call_once::h5452178754489033196\n  21:        0x10db01b92 - thread::Builder::spawn_inner::closure.7757\n  22:        0x10db01b0e - rt::unwind::try::try_fn::h2970718454474549695\n  23:        0x10db164dd - __rust_try\n  24:        0x10db12e05 - rt::unwind::try::inner_try::h64f5df7e1fe0ee17Oxw\n  25:        0x10db01a58 - rt::unwind::try::h14688524605606129933\n  26:        0x10db0189c - thread::Builder::spawn_inner::closure.7708\n  27:        0x10db0243d - boxed::F.FnBox<A>::call_box::h623674573713672009\n  28:        0x10db1556d - sys::thread::Thread::new::thread_start::h7c2780fdb092152ahWv\n  29:     0x7fff8b9169b0 - _pthread_body\n  30:     0x7fff8b91692d - _pthread_start\n```\n", "closed_by": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/29201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/29201/timeline", "performed_via_github_app": null, "state_reason": "completed"}