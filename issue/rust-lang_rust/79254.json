{"url": "https://api.github.com/repos/rust-lang/rust/issues/79254", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/79254/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/79254/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/79254/events", "html_url": "https://github.com/rust-lang/rust/issues/79254", "id": 747961682, "node_id": "MDU6SXNzdWU3NDc5NjE2ODI=", "number": 79254, "title": "[rustdoc, request] Please bundle local relative resources (favicon, logo, whatever)", "user": {"login": "jnqnfe", "id": 33935229, "node_id": "MDQ6VXNlcjMzOTM1MjI5", "avatar_url": "https://avatars.githubusercontent.com/u/33935229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnqnfe", "html_url": "https://github.com/jnqnfe", "followers_url": "https://api.github.com/users/jnqnfe/followers", "following_url": "https://api.github.com/users/jnqnfe/following{/other_user}", "gists_url": "https://api.github.com/users/jnqnfe/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnqnfe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnqnfe/subscriptions", "organizations_url": "https://api.github.com/users/jnqnfe/orgs", "repos_url": "https://api.github.com/users/jnqnfe/repos", "events_url": "https://api.github.com/users/jnqnfe/events{/privacy}", "received_events_url": "https://api.github.com/users/jnqnfe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 203738, "node_id": "MDU6TGFiZWwyMDM3Mzg=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-rustdoc", "name": "T-rustdoc", "color": "bfd4f2", "default": false, "description": "Relevant to the rustdoc team, which will review and decide on the PR/issue."}, {"id": 630652267, "node_id": "MDU6TGFiZWw2MzA2NTIyNjc=", "url": "https://api.github.com/repos/rust-lang/rust/labels/C-feature-request", "name": "C-feature-request", "color": "f5f1fd", "default": false, "description": "Category: A feature request, i.e: not implemented / a PR."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-11-21T06:46:44Z", "updated_at": "2022-09-21T20:06:11Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For some of my crates I have a favicon and logo within the repo but have to point to them via public links like this:\r\n\r\n```rust\r\n#![doc(html_logo_url = \"https://github.com/jnqnfe/pulse-binding-rust/raw/master/logo.png\",\r\n       html_favicon_url = \"https://github.com/jnqnfe/pulse-binding-rust/raw/master/favicon.ico\")]\r\n```\r\n\r\nWhat I would love (and have long wanted) is if I could simply refer to the files with a relative path like this...:\r\n\r\n```rust\r\n#![doc(html_logo_url = \"../../logo.png\", html_favicon_url = \"../../favicon.ico\")]\r\n```\r\n\r\n...and `cargo doc` would then bundle them into the set of generated documentation files, such that when viewing the documentation offline locally, these resources are loaded from the `target/doc/` directory, and for the docs.rs copy, docs.rs would serve them along with the rest of the page components.\r\n\r\nThis would include the following advantages:\r\n - The favicon and logo would actually get loaded properly when viewing documentation offline. (It's very annoying that they don't, and loading them once at some point when you are online is not sufficient to subsequently ensure they are shown from cache in my experience).\r\n - Helps ensure in future that a change such as a move of the repo from github to gitlab, or move/rename of the files within the master copy of the public repo, does not break display of these items for older published versions of crates due to broken links.\r\n - Helps avoid in future trouble replacing favicon/logo images with new ones for new releases without replacing the older copies for older versions of the documentation, without making a mess of maintaining multiple versions of the file within the repo.\r\n - Helps alleviate any privacy concerns from loading such resources while online but reading local documentation.\r\n\r\nPerhaps this could be applied to all such local relatively referenced image resources (others too?), not just favicon and logo, to cover situations where repos include images to embed in docs.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/79254/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/79254/timeline", "performed_via_github_app": null, "state_reason": null}