{"url": "https://api.github.com/repos/rust-lang/rust/issues/85046", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/85046/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/85046/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/85046/events", "html_url": "https://github.com/rust-lang/rust/issues/85046", "id": 879483172, "node_id": "MDU6SXNzdWU4Nzk0ODMxNzI=", "number": 85046, "title": "Provide example when suggesting to import private trait directly", "user": {"login": "LeCyberDucky", "id": 19520383, "node_id": "MDQ6VXNlcjE5NTIwMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/19520383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeCyberDucky", "html_url": "https://github.com/LeCyberDucky", "followers_url": "https://api.github.com/users/LeCyberDucky/followers", "following_url": "https://api.github.com/users/LeCyberDucky/following{/other_user}", "gists_url": "https://api.github.com/users/LeCyberDucky/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeCyberDucky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeCyberDucky/subscriptions", "organizations_url": "https://api.github.com/users/LeCyberDucky/orgs", "repos_url": "https://api.github.com/users/LeCyberDucky/repos", "events_url": "https://api.github.com/users/LeCyberDucky/events{/privacy}", "received_events_url": "https://api.github.com/users/LeCyberDucky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235791, "node_id": "MDU6TGFiZWwyMzU3OTE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/A-diagnostics", "name": "A-diagnostics", "color": "f7e101", "default": false, "description": "Area: Messages for errors, warnings, and lints"}, {"id": 211668100, "node_id": "MDU6TGFiZWwyMTE2NjgxMDA=", "url": "https://api.github.com/repos/rust-lang/rust/labels/T-compiler", "name": "T-compiler", "color": "bfd4f2", "default": false, "description": "Relevant to the compiler team, which will review and decide on the PR/issue."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-07T18:17:57Z", "updated_at": "2021-05-07T18:17:57Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for filing a bug report! \ud83d\udc1b Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n\r\nIf you cannot produce a minimal reproduction case (something that would work in\r\nisolation), please provide the steps or even link to a repository that causes\r\nthe problematic output to occur. \r\n-->\r\n\r\nGiven the following code: https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=8abe48a64675f6641c251a8f8d31e654\r\n```rust\r\npub trait Data {}\r\npub enum Message<A>\r\nwhere\r\n    A: data::Data,\r\n{\r\n    Data(A),\r\n}\r\n\r\nmod data {\r\n    use super::*;\r\n\r\n    enum Server {\r\n\r\n    }\r\n\r\n    enum Ui {\r\n\r\n    }\r\n\r\n    impl Data for Server {}\r\n    impl Data for Ui {}\r\n}\r\n\r\n\r\nfn main() {\r\n    println!(\"Oi, mate!\");\r\n}\r\n\r\n```\r\n\r\nThe current output is:\r\n\r\n```\r\nerror[E0603]: trait import `Data` is private\r\n  --> src\\main.rs:4:14\r\n   |\r\n4  |     A: data::Data,\r\n   |              ^^^^ private trait import\r\n   |\r\nnote: the trait import `Data` is defined here...\r\n  --> src\\main.rs:10:9\r\n   |\r\n10 |     use super::*;\r\n   |         ^^^^^^^^\r\nnote: ...and refers to the trait `Data` which is defined here\r\n  --> src\\main.rs:1:1\r\n   |\r\n1  | pub trait Data {}\r\n   | ^^^^^^^^^^^^^^ consider importing it directly\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0603`.\r\n```\r\n\r\n<!-- The following is not always necessary. -->\r\n\r\nI don't have a concrete suggestion for what an improvement would look like, but I will try to explain the issue: Because the error says \"consider importing it directly\" and points out that the trait import is defined in line 10 as `use super::*;`, I thought that my problem was with this line. Since the suggestion is to \"import it directly\", I tried changing it to `use super::Data;`, but that didn't work. Then I tried `pub use super::*;` instead. With this change, I stopped getting errors and therefore thought that the issue was fixed. \r\n\r\nOnly shortly before creating this issue, however, did I realize that my actual problem was line 4: `A: data::Data,` should actually be `A: Data,`. With that, I can keep the original version of line 10, and everthing works. It would be nice if this issue could be pointed out a bit more directly, perhaps with a \"consider changing `A: data::Data,` to `A: Data,`. \r\n\r\n<!--\r\nIf the problem is not self-explanatory, please provide a rationale for the\r\nchange.\r\n-->\r\n\r\n<!--\r\nIf dramatically different output is caused by small changes, consider also\r\nadding them here.\r\n\r\nIf you're using the stable version of the compiler, you should also check if the\r\nbug also exists in the beta or nightly versions. The output might also be\r\ndifferent depending on the Edition.\r\n-->\r\n\r\nThe behavior is the same for rustc 1.54.0-nightly (676ee1472 2021-05-06). \r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/85046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/85046/timeline", "performed_via_github_app": null, "state_reason": null}