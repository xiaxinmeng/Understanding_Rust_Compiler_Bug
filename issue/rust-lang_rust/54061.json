{"url": "https://api.github.com/repos/rust-lang/rust/issues/54061", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/54061/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/54061/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/54061/events", "html_url": "https://github.com/rust-lang/rust/issues/54061", "id": 358303759, "node_id": "MDU6SXNzdWUzNTgzMDM3NTk=", "number": 54061, "title": "Cannot test with stage0", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-08T15:17:00Z", "updated_at": "2018-09-08T15:20:59Z", "closed_at": "2018-09-08T15:20:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There was a shortcut for fast testing of std with `./x.py test --stage 0 --no-doc src/libstd`, but it doesn't seem to work as of #53410.  I get the following error:\r\n\r\n```\r\nTesting std stage0 (x86_64-apple-darwin -> x86_64-apple-darwin)\r\n   Compiling std v0.0.0 (file:///Users/eric/Proj/rust/rust/src/libstd)\r\nerror[E0308]: mismatched types\r\n  |\r\n  = note: expected type `&[&__test::test::TestDescAndFn]`\r\n             found type `&'static [__test::test::TestDescAndFn]`\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nI'm guessing the problem is that the synthesized main created by the beta compiler no longer uses the same signatures in the new libtest.  I suspect this is just an unfortunate consequence of this part of the test harness being part of the parser, and that there is nothing that can be done except wait for the next beta.  However, I wanted to file an issue to verify my assumptions.", "closed_by": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/54061/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/54061/timeline", "performed_via_github_app": null, "state_reason": "completed"}