{"url": "https://api.github.com/repos/rust-lang/rust/issues/29835", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/29835/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/29835/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/29835/events", "html_url": "https://github.com/rust-lang/rust/issues/29835", "id": 116950100, "node_id": "MDU6SXNzdWUxMTY5NTAxMDA=", "number": 29835, "title": "\"assertion failed: !projection_ty.has_escaping_regions()\" with closure and associated type", "user": {"login": "eefriedman", "id": 12769964, "node_id": "MDQ6VXNlcjEyNzY5OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eefriedman", "html_url": "https://github.com/eefriedman", "followers_url": "https://api.github.com/users/eefriedman/followers", "following_url": "https://api.github.com/users/eefriedman/following{/other_user}", "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions", "organizations_url": "https://api.github.com/users/eefriedman/orgs", "repos_url": "https://api.github.com/users/eefriedman/repos", "events_url": "https://api.github.com/users/eefriedman/events{/privacy}", "received_events_url": "https://api.github.com/users/eefriedman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-14T20:16:58Z", "updated_at": "2015-11-14T21:16:59Z", "closed_at": "2015-11-14T21:16:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` rust\ntrait Inner {\n    type T;\n}\n\nimpl<'a> Inner for &'a i32 {\n    type T = i32;\n}\n\nfn main() {\n  let x = |x| -> <&i32 as Inner>::T { *x };\n}\n```\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'assertion failed: !projection_ty.has_escaping_regions()', src/librustc/middle/traits/fulfill.rs:149\nstack backtrace:\n   1:     0x7f52b131fecc - sys::backtrace::tracing::imp::write::h75096aefc5daabfdQDt\n   2:     0x7f52b13285ba - panicking::log_panic::h074efb00ffa0c687aqx\n   3:     0x7f52b12de5ba - sys_common::unwind::begin_unwind_inner::h581753ef184fd220ivs\n   4:     0x7f52aed28e6f - sys_common::unwind::begin_unwind::h9428703455056690702\n   5:     0x7f52aefdea53 - middle::traits::fulfill::FulfillmentContext<'tcx>::normalize_projection_type::h5f52e43af4f9c0059sT\n   6:     0x7f52afe1e47d - check::FnCtxt<'a, 'tcx>::normalize_associated_type::hbdbae43be670d320p2q\n   7:     0x7f52afdee027 - check::FnCtxt<'a, 'tcx>.AstConv<'tcx>::projected_ty::ha20b0a56cb63ce59UHq\n   8:     0x7f52afe763fe - astconv::qpath_to_ty::hb88bde258a783395Jbx\n   9:     0x7f52afe5d16b - astconv::finish_resolving_def_to_ty::hb7f9bf159e1148faXmx\n  10:     0x7f52afe2411f - astconv::ast_ty_to_ty::h38cf5ea0249ba76dLox\n  11:     0x7f52afdec81c - check::closure::check_expr_closure::h1d04c5c814757366txm\n  12:     0x7f52afe40fa8 - check::check_expr_with_unifier::h42356118614520124\n  13:     0x7f52afe60663 - check::check_decl_initializer::h334ede296ceea5c193t\n  14:     0x7f52afe606e4 - check::check_decl_local::h12b21c5d281a63ecn5t\n  15:     0x7f52afe607e3 - check::check_stmt::hf4ecae8c0ba1e88bg7t\n  16:     0x7f52afe1a3d0 - check::check_block_with_expected::hcab69be31983aac8dbu\n  17:     0x7f52afdee6e6 - check::check_fn::h3e98663611e2442aHMp\n  18:     0x7f52afe139d9 - check::check_bare_fn::hc36ed50f1eba9146ABp\n  19:     0x7f52afe11198 - check::check_item_body::h8962f1dd30f4a7dcx3p\n  20:     0x7f52afecf9c2 - check_crate::h8a914941619a715a7qE\n  21:     0x7f52b1838c75 - driver::phase_3_run_analysis_passes::closure.22365\n  22:     0x7f52b1835877 - middle::ty::context::ctxt<'tcx>::create_and_enter::h3781535353480941046\n  23:     0x7f52b18308a3 - driver::phase_3_run_analysis_passes::h8173353897596142097\n  24:     0x7f52b1812857 - driver::compile_input::h23b288fcb72aa11acca\n  25:     0x7f52b1901639 - run_compiler::h0000145acc5f7b5dbxc\n  26:     0x7f52b18febf8 - sys_common::unwind::try::try_fn::h15957305491151013021\n  27:     0x7f52b131d538 - __rust_try\n  28:     0x7f52b130d15b - sys_common::unwind::try::inner_try::he55d5a78f340f1afQrs\n  29:     0x7f52b18fef20 - boxed::F.FnBox<A>::call_box::h10013595788438212684\n  30:     0x7f52b1326c13 - sys::thread::Thread::new::thread_start::hac6bae05f2c08abbTLw\n  31:     0x7f52aa915181 - start_thread\n  32:     0x7f52b0f8a47c - __clone\n  33:                0x0 - <unknown>\n```\n", "closed_by": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/29835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/29835/timeline", "performed_via_github_app": null, "state_reason": "completed"}