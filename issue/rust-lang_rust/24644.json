{"url": "https://api.github.com/repos/rust-lang/rust/issues/24644", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24644/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24644/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24644/events", "html_url": "https://github.com/rust-lang/rust/issues/24644", "id": 69698390, "node_id": "MDU6SXNzdWU2OTY5ODM5MA==", "number": 24644, "title": "ICE: assertion failed: prev_const.is_none() || prev_const == Some(llconst)", "user": {"login": "bytwise", "id": 4562291, "node_id": "MDQ6VXNlcjQ1NjIyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4562291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bytwise", "html_url": "https://github.com/bytwise", "followers_url": "https://api.github.com/users/bytwise/followers", "following_url": "https://api.github.com/users/bytwise/following{/other_user}", "gists_url": "https://api.github.com/users/bytwise/gists{/gist_id}", "starred_url": "https://api.github.com/users/bytwise/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bytwise/subscriptions", "organizations_url": "https://api.github.com/users/bytwise/orgs", "repos_url": "https://api.github.com/users/bytwise/repos", "events_url": "https://api.github.com/users/bytwise/events{/privacy}", "received_events_url": "https://api.github.com/users/bytwise/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-04-20T22:48:39Z", "updated_at": "2015-05-27T17:18:00Z", "closed_at": "2015-05-27T17:18:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Code\n\n``` rust\ntrait Trait {}\n\nstruct Bar;\nimpl Trait for Bar {}\n\nfn main() {\n    let x: &[&Trait] = &[{ &Bar }];\n}\n```\n## Output\n\n```\nmain.rs:7:9: 7:10 warning: unused variable: `x`, #[warn(unused_variables)] on by default\nmain.rs:7     let x: &[&Trait] = &[{ &Bar }];\n                  ^\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'assertion failed: prev_const.is_none() || prev_const == Some(llconst)', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/librustc_trans/trans/consts.rs:321\n\nstack backtrace:\n   1:        0x1054eb5cf - sys::backtrace::write::h9137c695ab290a14WRs\n   2:        0x1054f3b82 - panicking::on_panic::h0ae3cf09aff03bc05Pw\n   3:        0x1054a9d15 - rt::unwind::begin_unwind_inner::h36b4206cb80fb108Oxw\n   4:        0x102149fcf - rt::unwind::begin_unwind::h6767503471583286242\n   5:        0x1021c082c - trans::consts::const_expr::h1bbfa5560b941f32nvs\n   6:        0x102224922 - vec::Vec<T>.FromIterator<T>::from_iter::h7466739370638199104\n   7:        0x10221baea - trans::consts::const_expr_unadjusted::hd675727493ff08eezLs\n   8:        0x1021bfff7 - trans::consts::const_expr::h1bbfa5560b941f32nvs\n   9:        0x10221dc67 - trans::consts::const_expr_unadjusted::hd675727493ff08eezLs\n  10:        0x1021bfff7 - trans::consts::const_expr::h1bbfa5560b941f32nvs\n  11:        0x10221a9f9 - trans::consts::get_const_expr_as_global::h2f40511a988c5876yss\n  12:        0x10218f6ca - trans::expr::trans::h959669806b495bbffdA\n  13:        0x1022314e0 - trans::expr::trans_into::h43738e587d521f35W6z\n  14:        0x1022b4e21 - trans::_match::mk_binding_alloca::h2459388509959927399\n  15:        0x1021a09b9 - trans::base::init_local::h8acf9c70632535fdNVg\n  16:        0x1021b1453 - trans::controlflow::trans_block::hb872ebbfd195606cZ2u\n  17:        0x1021b0105 - trans::base::trans_closure::hbf7fcb6cfae5e775KCh\n  18:        0x1021b1d9e - trans::base::trans_fn::hb08e54207cb8d8e6sNh\n  19:        0x1021b5308 - trans::base::trans_item::h15647b08683789dbEbi\n  20:        0x1021c40f0 - trans::base::trans_crate::hdfbb43ad3281f84dE0i\n  21:        0x101c4fdde - driver::phase_4_translate_to_llvm::he9458af7df85ffb8lOa\n  22:        0x101c28344 - driver::compile_input::h3c162f55ed6be3a5Qba\n  23:        0x101cef853 - run_compiler::hae39edbb343296d3D4b\n  24:        0x101ced37a - boxed::F.FnBox<A>::call_box::h1927805197202631788\n  25:        0x101cec817 - rt::unwind::try::try_fn::h7355792964568869981\n  26:        0x10557d998 - rust_try_inner\n  27:        0x10557d985 - rust_try\n  28:        0x101cecaf0 - boxed::F.FnBox<A>::call_box::h2359980489235781969\n  29:        0x1054f26cd - sys::thread::create::thread_start::hfa406746e663ba1bNUv\n  30:     0x7fff81be3267 - _pthread_body\n  31:     0x7fff81be31e4 - _pthread_start\n\n\n```\n## Rust Version\n\n```\nrustc 1.0.0-nightly (1284be404 2015-04-18) (built 2015-04-17)\nbinary: rustc\ncommit-hash: 1284be4044420bc4c41767284ae26be61a38d331\ncommit-date: 2015-04-18\nbuild-date: 2015-04-17\nhost: x86_64-apple-darwin\nrelease: 1.0.0-nightly\n```\n", "closed_by": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/24644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24644/timeline", "performed_via_github_app": null, "state_reason": "completed"}