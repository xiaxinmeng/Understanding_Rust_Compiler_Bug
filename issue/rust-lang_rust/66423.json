{"url": "https://api.github.com/repos/rust-lang/rust/issues/66423", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/66423/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/66423/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/66423/events", "html_url": "https://github.com/rust-lang/rust/issues/66423", "id": 523126826, "node_id": "MDU6SXNzdWU1MjMxMjY4MjY=", "number": 66423, "title": "Confusing errors when using trait name in function definitions", "user": {"login": "ChrisJefferson", "id": 811527, "node_id": "MDQ6VXNlcjgxMTUyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/811527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisJefferson", "html_url": "https://github.com/ChrisJefferson", "followers_url": "https://api.github.com/users/ChrisJefferson/followers", "following_url": "https://api.github.com/users/ChrisJefferson/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisJefferson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisJefferson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisJefferson/subscriptions", "organizations_url": "https://api.github.com/users/ChrisJefferson/orgs", "repos_url": "https://api.github.com/users/ChrisJefferson/repos", "events_url": "https://api.github.com/users/ChrisJefferson/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisJefferson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-14T21:55:53Z", "updated_at": "2019-11-14T22:14:34Z", "closed_at": "2019-11-14T22:14:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Sorry, not really sure how to describe this, In general I think the compiler isn't helpful in directing me to make things static, and seems to always want to force me towards dynamic dispatch.\r\n\r\nConsider the following trait. I added 'Sized' because I don't want to use dynamic dispatch (which was hard to find by itself).\r\n\r\n```\r\ntrait Area : Sized {\r\n    fn f(a : Area) -> Area;\r\n}\r\n```\r\n\r\nCompiling this gives the following, which really doesn't help finding the actual problem, which is I should be using `Self` instead of `Area`. In which case, what is `Area` doing?\r\n```\r\nCompiling playground v0.0.1 (/playground)\r\nwarning: trait objects without an explicit `dyn` are deprecated\r\n --> src/lib.rs:2:14\r\n  |\r\n2 |     fn f(a : Area) -> Area;\r\n  |              ^^^^ help: use `dyn`: `dyn Area`\r\n  |\r\n  = note: `#[warn(bare_trait_objects)]` on by default\r\n\r\nwarning: trait objects without an explicit `dyn` are deprecated\r\n --> src/lib.rs:2:23\r\n  |\r\n2 |     fn f(a : Area) -> Area;\r\n  |                       ^^^^ help: use `dyn`: `dyn Area`\r\n\r\nerror[E0038]: the trait `Area` cannot be made into an object\r\n --> src/lib.rs:2:5\r\n  |\r\n2 |     fn f(a : Area) -> Area;\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^ the trait `Area` cannot be made into an object\r\n  |\r\n  = note: the trait cannot require that `Self : Sized`\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0038`.\r\nerror: could not compile `playground`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n```\r\n", "closed_by": {"login": "ChrisJefferson", "id": 811527, "node_id": "MDQ6VXNlcjgxMTUyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/811527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisJefferson", "html_url": "https://github.com/ChrisJefferson", "followers_url": "https://api.github.com/users/ChrisJefferson/followers", "following_url": "https://api.github.com/users/ChrisJefferson/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisJefferson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisJefferson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisJefferson/subscriptions", "organizations_url": "https://api.github.com/users/ChrisJefferson/orgs", "repos_url": "https://api.github.com/users/ChrisJefferson/repos", "events_url": "https://api.github.com/users/ChrisJefferson/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisJefferson/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/66423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/66423/timeline", "performed_via_github_app": null, "state_reason": "completed"}