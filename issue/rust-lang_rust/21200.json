{"url": "https://api.github.com/repos/rust-lang/rust/issues/21200", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21200/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21200/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21200/events", "html_url": "https://github.com/rust-lang/rust/issues/21200", "id": 54471390, "node_id": "MDU6SXNzdWU1NDQ3MTM5MA==", "number": 21200, "title": "static call to invalid vtable: VtableObject(VtableObject(object_ty=error::Error + 'static))", "user": {"login": "JoelLarson", "id": 519553, "node_id": "MDQ6VXNlcjUxOTU1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/519553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoelLarson", "html_url": "https://github.com/JoelLarson", "followers_url": "https://api.github.com/users/JoelLarson/followers", "following_url": "https://api.github.com/users/JoelLarson/following{/other_user}", "gists_url": "https://api.github.com/users/JoelLarson/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoelLarson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoelLarson/subscriptions", "organizations_url": "https://api.github.com/users/JoelLarson/orgs", "repos_url": "https://api.github.com/users/JoelLarson/repos", "events_url": "https://api.github.com/users/JoelLarson/events{/privacy}", "received_events_url": "https://api.github.com/users/JoelLarson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 9618520, "node_id": "MDU6TGFiZWw5NjE4NTIw", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE", "name": "I-ICE", "color": "e10c02", "default": false, "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-15T16:38:36Z", "updated_at": "2015-04-21T23:16:38Z", "closed_at": "2015-04-21T23:16:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tried using the [iron framework](https://github.com/iron/iron) on Mac OS X Yosemite 10.10.1 with `rustc 1.0.0-nightly (170c4399e 2015-01-14 00:41:55 +0000)` and run into this issue. I have been trying to compile this with rust since 2015-01-12 version.\n\nI'm not very knowledgable with the language itself or any systems programming languages, so if anything else is required for information, I'll reply ASAP.\n\nThanks!\n\n```\n#![allow(unstable)]\n\nextern crate iron;\n\nuse iron::prelude::*;\nuse iron::status;\n\nfn main() {\n\n  fn hello_world(_req: &mut Request) -> IronResult<Response> {\n    Ok(Response::with((status::Ok, \"Hello World!\")))\n  }\n\n  let web_server = Iron::new(hello_world);\n\n  web_server.listen(\"localhost:3000\").unwrap();\n\n  println!(\"On 3000\");\n}\n```\n\n```\nJoels-MacBook-Pro:testing joellarson$ RUST_BACKTRACE=1 cargo build --verbose\n       Fresh mucell v0.1.10\n       Fresh gcc v0.1.4\n       Fresh typeable v0.0.7\n       Fresh matches v0.1.2\n       Fresh rustc-serialize v0.2.7\n       Fresh pkg-config v0.1.4\n       Fresh modifier v0.0.7\n       Fresh unicase v0.0.2\n       Fresh unsafe-any v0.2.1\n       Fresh regex v0.1.10\n       Fresh phantom v0.0.3\n       Fresh error v0.1.1\n       Fresh url v0.2.16\n       Fresh log v0.1.9\n       Fresh typemap v0.0.7\n       Fresh mime v0.0.6\n       Fresh plugin v0.2.0\n       Fresh time v0.1.12\n       Fresh openssl-sys v0.2.15\n       Fresh openssl v0.2.15\n       Fresh cookie v0.1.8\n       Fresh hyper v0.1.0\n       Fresh iron v0.0.12\n   Compiling testing v0.0.1 (file:///Users/joellarson/Desktop/testing)\n     Running `rustc /Users/joellarson/Desktop/testing/src/main.rs --crate-name testing --crate-type bin -g --out-dir /Users/joellarson/Desktop/testing/target --emit=dep-info,link -L dependency=/Users/joellarson/Desktop/testing/target -L dependency=/Users/joellarson/Desktop/testing/target/deps --extern iron=/Users/joellarson/Desktop/testing/target/deps/libiron-937a4530a2de6745.rlib -L native=/usr/lib -L native=/Users/joellarson/Desktop/testing/target/build/time-7c7fc3eb0c12ad75/out`\nerror: internal compiler error: static call to invalid vtable: VtableObject(VtableObject(object_ty=error::Error + 'static))\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libsyntax/diagnostic.rs:182\n\nstack backtrace:\n   1:        0x1099c542c - sys::backtrace::write::hdb7f697d27de389bRUt\n   2:        0x1099e70cf - failure::on_fail::hc3e325285010b54dIYz\n   3:        0x109953d8e - rt::unwind::begin_unwind_inner::h36a19ac9f276bc4fyGz\n   4:        0x10763e12f - rt::unwind::begin_unwind::h12427766859804144783\n   5:        0x10763ea9b - diagnostic::Handler::bug::h4388eb3258e711c3A1F\n   6:        0x106c0bd00 - metadata::tydecode::parse_existential_bounds_::h3194231158501185017\n   7:        0x106382566 - trans::meth::trans_static_method_callee::ha5eb63d60b5595e3ldz\n   8:        0x10637f384 - trans::callee::trans::h76890ac62fc507d2Aag\n   9:        0x10638838e - trans::callee::trans_call_inner::h1156024838687242042\n  10:        0x10638efc3 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  11:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  12:        0x106347298 - trans::controlflow::trans_block::h6b5de6eb7d02efc8C3d\n  13:        0x10640f0ac - trans::base::trans_closure::hc19f8000b1806971y0t\n  14:        0x106332937 - trans::base::trans_fn::h681d426bfa056ab5dbu\n  15:        0x1063344b3 - trans::monomorphize::monomorphic_fn::h5816f05940831b2dFpd\n  16:        0x106384089 - trans::callee::trans_fn_ref_with_substs::haadc472d75988beaIxg\n  17:        0x10638284e - trans::meth::trans_static_method_callee::ha5eb63d60b5595e3ldz\n  18:        0x1063accbb - trans::expr::trans_def_fn_unadjusted::h4bcf18d21a58877cqfj\n  19:        0x1063a4720 - trans::expr::trans_def::hca0fe9c0c2d940f8yIi\n  20:        0x10638ccd6 - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  21:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  22:        0x106358541 - trans::callee::trans_args::h410c047778d877aczch\n  23:        0x106389258 - trans::callee::trans_call_inner::h1156024838687242042\n  24:        0x10638efc3 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  25:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  26:        0x106447609 - trans::tvec::write_content::hde07101d16564dc0XHy\n  27:        0x10638ebe1 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  28:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  29:        0x10642a9f4 - trans::_match::trans_match_inner::hc02d383154268dc5rkx\n  30:        0x10638e28b - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  31:        0x10638ca0a - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  32:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  33:        0x1063a78d8 - trans::expr::trans_addr_of::h93887aee9b739adcHKj\n  34:        0x10638cea1 - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  35:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  36:        0x106358541 - trans::callee::trans_args::h410c047778d877aczch\n  37:        0x106389258 - trans::callee::trans_call_inner::h1156024838687242042\n  38:        0x10638efc3 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  39:        0x10638ca0a - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  40:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  41:        0x106358541 - trans::callee::trans_args::h410c047778d877aczch\n  42:        0x10638a7ae - trans::callee::trans_call_inner::h4203845190985061913\n  43:        0x10638da36 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  44:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  45:        0x106347298 - trans::controlflow::trans_block::h6b5de6eb7d02efc8C3d\n  46:        0x10640f0ac - trans::base::trans_closure::hc19f8000b1806971y0t\n  47:        0x106332937 - trans::base::trans_fn::h681d426bfa056ab5dbu\n  48:        0x1063344b3 - trans::monomorphize::monomorphic_fn::h5816f05940831b2dFpd\n  49:        0x106384089 - trans::callee::trans_fn_ref_with_substs::haadc472d75988beaIxg\n  50:        0x10638284e - trans::meth::trans_static_method_callee::ha5eb63d60b5595e3ldz\n  51:        0x1063accbb - trans::expr::trans_def_fn_unadjusted::h4bcf18d21a58877cqfj\n  52:        0x1063a4720 - trans::expr::trans_def::hca0fe9c0c2d940f8yIi\n  53:        0x10638ccd6 - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  54:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  55:        0x106358541 - trans::callee::trans_args::h410c047778d877aczch\n  56:        0x106389258 - trans::callee::trans_call_inner::h1156024838687242042\n  57:        0x10638efc3 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  58:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  59:        0x106447609 - trans::tvec::write_content::hde07101d16564dc0XHy\n  60:        0x10638ebe1 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  61:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  62:        0x10642a9f4 - trans::_match::trans_match_inner::hc02d383154268dc5rkx\n  63:        0x10638e28b - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  64:        0x10638ca0a - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  65:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  66:        0x1063a78d8 - trans::expr::trans_addr_of::h93887aee9b739adcHKj\n  67:        0x10638cea1 - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  68:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  69:        0x106358541 - trans::callee::trans_args::h410c047778d877aczch\n  70:        0x106389258 - trans::callee::trans_call_inner::h1156024838687242042\n  71:        0x10638efc3 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  72:        0x10638ca0a - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  73:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  74:        0x106358541 - trans::callee::trans_args::h410c047778d877aczch\n  75:        0x106389258 - trans::callee::trans_call_inner::h1156024838687242042\n  76:        0x10638efc3 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  77:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  78:        0x106347298 - trans::controlflow::trans_block::h6b5de6eb7d02efc8C3d\n  79:        0x10638e59b - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  80:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  81:        0x10642a9f4 - trans::_match::trans_match_inner::hc02d383154268dc5rkx\n  82:        0x10638e28b - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  83:        0x10634670b - trans::expr::trans_into::h5aef78bf9a4e7f6dMyh\n  84:        0x106347298 - trans::controlflow::trans_block::h6b5de6eb7d02efc8C3d\n  85:        0x10640f0ac - trans::base::trans_closure::hc19f8000b1806971y0t\n  86:        0x106332937 - trans::base::trans_fn::h681d426bfa056ab5dbu\n  87:        0x1063344b3 - trans::monomorphize::monomorphic_fn::h5816f05940831b2dFpd\n  88:        0x106384089 - trans::callee::trans_fn_ref_with_substs::haadc472d75988beaIxg\n  89:        0x106381b83 - trans::callee::trans_fn_ref::h9cbd6741cc72124fTlg\n  90:        0x10635f2dd - trans::meth::trans_method_callee::h6edd4c4662a3051227y\n  91:        0x1063898f4 - trans::callee::trans_call_inner::h4203845190985061913\n  92:        0x10638da36 - trans::expr::trans_rvalue_dps_unadjusted::haaa64df86d8f51f43Si\n  93:        0x10638ca0a - trans::expr::trans_unadjusted::h0735e2024f7ef4d2Qji\n  94:        0x106347716 - trans::expr::trans::h4ea42cb60041647egCh\n  95:        0x1063459e5 - trans::controlflow::trans_stmt_semi::h31d22e492a026488L2d\n  96:        0x106346f87 - trans::controlflow::trans_block::h6b5de6eb7d02efc8C3d\n  97:        0x10640f0ac - trans::base::trans_closure::hc19f8000b1806971y0t\n  98:        0x106332937 - trans::base::trans_fn::h681d426bfa056ab5dbu\n  99:        0x10632dfdb - trans::base::trans_item::h970b17007f7423b0yyu\n  100:        0x10641522c - trans::base::trans_crate::h092473b9f8aaff97fuv\n ... <frames omitted>\n\nCould not compile `testing`.\n\nCaused by:\n  Process didn't exit successfully: `rustc /Users/joellarson/Desktop/testing/src/main.rs --crate-name testing --crate-type bin -g --out-dir /Users/joellarson/Desktop/testing/target --emit=dep-info,link -L dependency=/Users/joellarson/Desktop/testing/target -L dependency=/Users/joellarson/Desktop/testing/target/deps --extern iron=/Users/joellarson/Desktop/testing/target/deps/libiron-937a4530a2de6745.rlib -L native=/usr/lib -L native=/Users/joellarson/Desktop/testing/target/build/time-7c7fc3eb0c12ad75/out` (status=101)\n```\n", "closed_by": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/21200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21200/timeline", "performed_via_github_app": null, "state_reason": "completed"}