{"url": "https://api.github.com/repos/rust-lang/rust/issues/56799", "repository_url": "https://api.github.com/repos/rust-lang/rust", "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/56799/labels{/name}", "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/56799/comments", "events_url": "https://api.github.com/repos/rust-lang/rust/issues/56799/events", "html_url": "https://github.com/rust-lang/rust/issues/56799", "id": 390941747, "node_id": "MDU6SXNzdWUzOTA5NDE3NDc=", "number": 56799, "title": "libcore panic on ridiculous compilation", "user": {"login": "AuroransSolis", "id": 25749440, "node_id": "MDQ6VXNlcjI1NzQ5NDQw", "avatar_url": "https://avatars.githubusercontent.com/u/25749440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AuroransSolis", "html_url": "https://github.com/AuroransSolis", "followers_url": "https://api.github.com/users/AuroransSolis/followers", "following_url": "https://api.github.com/users/AuroransSolis/following{/other_user}", "gists_url": "https://api.github.com/users/AuroransSolis/gists{/gist_id}", "starred_url": "https://api.github.com/users/AuroransSolis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AuroransSolis/subscriptions", "organizations_url": "https://api.github.com/users/AuroransSolis/orgs", "repos_url": "https://api.github.com/users/AuroransSolis/repos", "events_url": "https://api.github.com/users/AuroransSolis/events{/privacy}", "received_events_url": "https://api.github.com/users/AuroransSolis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 630799571, "node_id": "MDU6TGFiZWw2MzA3OTk1NzE=", "url": "https://api.github.com/repos/rust-lang/rust/labels/I-compilemem", "name": "I-compilemem", "color": "e10c02", "default": false, "description": "Problems and improvements with respect to memory usage during compilation."}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-14T02:35:38Z", "updated_at": "2020-07-13T18:37:05Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I had a friend try to compile my solution for Advent of Code day 2 with 100k inputs instead of the 250 given in the puzzle, since I was unable to compile it myself. Because it ate up so much memory. He ended up allowing an external 2TB HDD to be a swap disk to compile it (on a Lenovo IdeaPad Yoga 11S), and it took eight days before it spat out this error (with said friend's name replaced with `user` for sake of privacy):\r\n```\r\nuser@Computer:~/Desktop/aoc_2018/day_2$ cargo bench\r\nwarning: profiles for the non root package will be ignored, specify profiles at the workspace root:\r\npackage:   /home/user/Desktop/aoc_2018/day_2/Cargo.toml\r\nworkspace: /home/user/Desktop/aoc_2018/Cargo.toml\r\n    Updating crates.io index\r\n   Compiling cfg-if v0.1.6\r\n   Compiling ugly_array_decl v0.1.0 (/home/user/Desktop/aoc_2018/day_2/ugly_array_decl)\r\n   Compiling packed_simd v0.3.1\r\n   Compiling galaxy_brain v0.1.0 (/home/user/Desktop/aoc_2018/day_2/galaxy_brain)\r\n   Compiling day_2 v0.1.0 (/home/user/Desktop/aoc_2018/day_2)\r\n\r\nthread '<unnamed>' panicked at 'called `Result::unwrap()` on an `Err` value: \"SendError(..)\"', src/libcore/result.rs:1009:5\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\nerror: Could not compile `day_2`.\r\n\r\nCaused by:\r\n  process didn't exit successfully: `rustc --crate-name day_2 day_2/src/main.rs --color always --emit=dep-info,link -C opt-level=3 --test -C metadata=32bd32e061311793 -C extra-filename=-32bd32e061311793 --out-dir /home/user/Desktop/aoc_2018/target/release/deps -L dependency=/home/user/Desktop/aoc_2018/target/release/deps --extern galaxy_brain=/home/user/Desktop/aoc_2018/target/release/deps/libgalaxy_brain-ac99af5f18838f56.so --extern packed_simd=/home/user/Desktop/aoc_2018/target/release/deps/libpacked_simd-61a0a6a6c31c29f4.rlib --extern ugly_array_decl=/home/user/Desktop/aoc_2018/target/release/deps/libugly_array_decl-add69c2d264ca168.so` (signal: 9, SIGKILL: kill)\r\n```\r\nI don't want to trouble him to compile it again, so the code can be found [here](https://github.com/AuroransSolis/aoc_2018/tree/master/day_2).\r\n\r\nHere's the output of `rustc --version --verbose`:\r\n```\r\nuser@Computer:~/Desktop/aoc_2018/day_2$ rustc --version --verbose\r\nrustc 1.32.0-nightly (14997d56a 2018-12-05)\r\nbinary: rustc\r\ncommit-hash: 14997d56a550f4aa99fe737593cd2758227afc56\r\ncommit-date: 2018-12-05\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.32.0-nightly\r\nLLVM version: 8.0\r\n```\r\n\r\nNote on memory use: we don't actually know how much memory it took to compile this thing. All I know is that a different friend tried compiling it and it ate up the better part of their 40GB of RAM plus writing a 60GB swap file. As for the 2TB swap disk, I don't know how much of that it ate up since friend 1's laptop was frozen for five of the eight days it was compiling.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/rust-lang/rust/issues/56799/reactions", "total_count": 8, "+1": 0, "-1": 0, "laugh": 8, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/56799/timeline", "performed_via_github_app": null, "state_reason": null}