{"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/224", "repository_url": "https://api.github.com/repos/Rust-GCC/gccrs", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/224/comments", "events_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/224/events", "html_url": "https://github.com/Rust-GCC/gccrs/issues/224", "id": 805148983, "node_id": "MDU6SXNzdWU4MDUxNDg5ODM=", "number": 224, "title": "Rewrite parser error message system to better enable backtracking", "user": {"login": "SimplyTheOther", "id": 19371469, "node_id": "MDQ6VXNlcjE5MzcxNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/19371469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyTheOther", "html_url": "https://github.com/SimplyTheOther", "followers_url": "https://api.github.com/users/SimplyTheOther/followers", "following_url": "https://api.github.com/users/SimplyTheOther/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyTheOther/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyTheOther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyTheOther/subscriptions", "organizations_url": "https://api.github.com/users/SimplyTheOther/orgs", "repos_url": "https://api.github.com/users/SimplyTheOther/repos", "events_url": "https://api.github.com/users/SimplyTheOther/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyTheOther/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2029815872, "node_id": "MDU6TGFiZWwyMDI5ODE1ODcy", "url": "https://api.github.com/repos/Rust-GCC/gccrs/labels/WIP", "name": "WIP", "color": "f9d0c4", "default": false, "description": ""}, {"id": 2029873897, "node_id": "MDU6TGFiZWwyMDI5ODczODk3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/labels/plan", "name": "plan", "color": "42ed5c", "default": false, "description": ""}, {"id": 2628548177, "node_id": "MDU6TGFiZWwyNjI4NTQ4MTc3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/labels/diagnostic", "name": "diagnostic", "color": "9A6A99", "default": false, "description": "diagnostic static analysis"}], "state": "closed", "locked": false, "assignee": {"login": "SimplyTheOther", "id": 19371469, "node_id": "MDQ6VXNlcjE5MzcxNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/19371469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyTheOther", "html_url": "https://github.com/SimplyTheOther", "followers_url": "https://api.github.com/users/SimplyTheOther/followers", "following_url": "https://api.github.com/users/SimplyTheOther/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyTheOther/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyTheOther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyTheOther/subscriptions", "organizations_url": "https://api.github.com/users/SimplyTheOther/orgs", "repos_url": "https://api.github.com/users/SimplyTheOther/repos", "events_url": "https://api.github.com/users/SimplyTheOther/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyTheOther/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SimplyTheOther", "id": 19371469, "node_id": "MDQ6VXNlcjE5MzcxNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/19371469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyTheOther", "html_url": "https://github.com/SimplyTheOther", "followers_url": "https://api.github.com/users/SimplyTheOther/followers", "following_url": "https://api.github.com/users/SimplyTheOther/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyTheOther/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyTheOther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyTheOther/subscriptions", "organizations_url": "https://api.github.com/users/SimplyTheOther/orgs", "repos_url": "https://api.github.com/users/SimplyTheOther/repos", "events_url": "https://api.github.com/users/SimplyTheOther/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyTheOther/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-02-10T04:18:03Z", "updated_at": "2021-03-18T11:10:14Z", "closed_at": "2021-03-18T11:10:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In order to enable what is effectively backtracking (required when parsing macros during macro expansion), there must be a way of recovering from parse errors being thrown from the parser.\r\n\r\nMy best idea for implementation would require the error to essentially not be thrown in the first place (in the sense that `error_at` should not be called) and rather have any parse errors be registered somewhere, and then if a calling function doesn't expect any errors, the actual `error_at` functions for those registered errors will be called.\r\n\r\nThis implementation method would require rewrite each parse function to return both a result and a list of errors, with errors being stored a new data structure that would contain an error message and a location, and maybe other information that could be useful for diagnostics. These errors would be propagated up functions.\r\n\r\nIn a way, this implementation method is somewhat similar to Rust's tagged-union \"possibly error\" types, which I believe are used extensively in rustc.\r\n\r\nAn alternative implementation method could be to use exceptions, though I believe gcc does not allow this for frontends.", "closed_by": {"login": "SimplyTheOther", "id": 19371469, "node_id": "MDQ6VXNlcjE5MzcxNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/19371469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyTheOther", "html_url": "https://github.com/SimplyTheOther", "followers_url": "https://api.github.com/users/SimplyTheOther/followers", "following_url": "https://api.github.com/users/SimplyTheOther/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyTheOther/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyTheOther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyTheOther/subscriptions", "organizations_url": "https://api.github.com/users/SimplyTheOther/orgs", "repos_url": "https://api.github.com/users/SimplyTheOther/repos", "events_url": "https://api.github.com/users/SimplyTheOther/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyTheOther/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/224/timeline", "performed_via_github_app": null, "state_reason": "completed"}