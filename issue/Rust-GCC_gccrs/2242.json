{"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2242", "repository_url": "https://api.github.com/repos/Rust-GCC/gccrs", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2242/labels{/name}", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2242/comments", "events_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2242/events", "html_url": "https://github.com/Rust-GCC/gccrs/issues/2242", "id": 1729623791, "node_id": "I_kwDOANBUbM5nF_bv", "number": 2242, "title": "CI: ../../gccrs/gcc/rust/util/rust-optional.h:114:7: error: '*(unsigned int*)((char*)&old_module + offsetof(Rust::Optional<unsigned int>,Rust::Optional<unsigned int>::<unnamed>))' may be used uninitialized [-Werror=maybe-uninitialized]", "user": {"login": "jbglaw", "id": 7965297, "node_id": "MDQ6VXNlcjc5NjUyOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7965297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbglaw", "html_url": "https://github.com/jbglaw", "followers_url": "https://api.github.com/users/jbglaw/followers", "following_url": "https://api.github.com/users/jbglaw/following{/other_user}", "gists_url": "https://api.github.com/users/jbglaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbglaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbglaw/subscriptions", "organizations_url": "https://api.github.com/users/jbglaw/orgs", "repos_url": "https://api.github.com/users/jbglaw/repos", "events_url": "https://api.github.com/users/jbglaw/events{/privacy}", "received_events_url": "https://api.github.com/users/jbglaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61372775, "node_id": "MDU6TGFiZWw2MTM3Mjc3NQ==", "url": "https://api.github.com/repos/Rust-GCC/gccrs/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/milestones/19", "html_url": "https://github.com/Rust-GCC/gccrs/milestone/19", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/milestones/19/labels", "id": 9278263, "node_id": "MI_kwDOANBUbM4AjZM3", "number": 19, "title": "GCC 13.2 release", "description": "This milestone concerns all of the issues we'd like to take care of before upstreaming code for the GCC 13.2 release. This milestone should be focused on compiling libcore in the hope to distribute it in GCC for the 13.2 release. Importantly, this is different from supporting libcore 1.49: libcore needs certain features to compile, such as for loops or inline assembly (as it uses some in a decimal to float algorithm), so to first compile libcore we must implement these features. A second milestone targets what libcore offers, such as all of the compiler intrinsic functions.", "creator": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 9, "state": "open", "created_at": "2023-04-13T08:14:54Z", "updated_at": "2023-06-19T08:31:03Z", "due_on": "2023-07-15T07:00:00Z", "closed_at": null}, "comments": 9, "created_at": "2023-05-28T19:09:11Z", "updated_at": "2023-06-06T15:51:27Z", "closed_at": "2023-06-06T15:51:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi!\r\n\r\nI spotted this new warning (I'm building with `-Werror`) (this is with 2d806801404fc7628a3d022da92b73cd06197f49):\r\n\r\n```\r\n[all 2023-05-28 15:22:48] /usr/lib/gcc-snapshot/bin/g++  -fno-PIE -c  -DIN_GCC_FRONTEND -g -O2   -DIN_GCC  -DCROSS_DIRECTORY_STRUCTURE   -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Wconditionally-supported -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings -Werror -Wno-unused-parameter -fno-common  -DHAVE_CONFIG_H -I. -Irust -I../../gccrs/gcc -I../../gccrs/gcc/rust -I../../gccrs/gcc/../include  -I../../gccrs/gcc/../libcpp/include -I../../gccrs/gcc/../libcody  -I../../gccrs/gcc/../libdecnumber -I../../gccrs/gcc/../libdecnumber/dpd -I../libdecnumber -I../../gccrs/gcc/../libbacktrace   -o rust/rust-privacy-reporter.o -MT rust/rust-privacy-reporter.o -MMD -MP -MF rust/.deps/rust-privacy-reporter.TPo -g -O2   -I ../../gccrs/gcc/rust -I ../../gccrs/gcc/rust/lex -I ../../gccrs/gcc/rust/parse -I ../../gccrs/gcc/rust/ast -I ../../gccrs/gcc/rust/analysis -I ../../gccrs/gcc/rust/backend -I ../../gccrs/gcc/rust/expand -I ../../gccrs/gcc/rust/hir/tree -I ../../gccrs/gcc/rust/hir -I ../../gccrs/gcc/rust/resolve -I ../../gccrs/gcc/rust/util -I ../../gccrs/gcc/rust/typecheck -I ../../gccrs/gcc/rust/checks/lints -I ../../gccrs/gcc/rust/checks/errors -I ../../gccrs/gcc/rust/checks/errors/privacy -I ../../gccrs/gcc/rust/util -I ../../gccrs/gcc/rust/metadata -I ../../gccrs/gcc/../libgrust ../../gccrs/gcc/rust/checks/errors/privacy/rust-privacy-reporter.cc\r\n[all 2023-05-28 15:22:59] In file included from ../../gccrs/gcc/rust/util/rust-hir-map.h:22,\r\n[all 2023-05-28 15:22:59]                  from ../../gccrs/gcc/rust/checks/errors/privacy/rust-privacy-reporter.h:22,\r\n[all 2023-05-28 15:22:59]                  from ../../gccrs/gcc/rust/checks/errors/privacy/rust-privacy-reporter.cc:19:\r\n[all 2023-05-28 15:22:59] In member function 'Rust::Optional<T>& Rust::Optional<T>::operator=(const Rust::Optional<T>&) [with T = unsigned int]',\r\n[all 2023-05-28 15:22:59]     inlined from 'virtual void Rust::Privacy::PrivacyReporter::visit(Rust::HIR::Module&)' at ../../gccrs/gcc/rust/checks/errors/privacy/rust-privacy-reporter.cc:594:20:\r\n[all 2023-05-28 15:22:59] ../../gccrs/gcc/rust/util/rust-optional.h:114:7: error: '*(unsigned int*)((char*)&old_module + offsetof(Rust::Optional<unsigned int>,Rust::Optional<unsigned int>::<unnamed>))' may be used uninitialized [-Werror=maybe-uninitialized]\r\n[all 2023-05-28 15:22:59]   114 |       new (&value) T (other.value);\r\n[all 2023-05-28 15:22:59]       |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n[all 2023-05-28 15:22:59] ../../gccrs/gcc/rust/checks/errors/privacy/rust-privacy-reporter.cc: In member function 'virtual void Rust::Privacy::PrivacyReporter::visit(Rust::HIR::Module&)':\r\n[all 2023-05-28 15:22:59] ../../gccrs/gcc/rust/checks/errors/privacy/rust-privacy-reporter.cc:587:8: note: '*(unsigned int*)((char*)&old_module + offsetof(Rust::Optional<unsigned int>,Rust::Optional<unsigned int>::<unnamed>))' was declared here\r\n[all 2023-05-28 15:22:59]   587 |   auto old_module = current_module;\r\n[all 2023-05-28 15:22:59]       |        ^~~~~~~~~~\r\n[all 2023-05-28 15:23:00] cc1plus: all warnings being treated as errors\r\n[all 2023-05-28 15:23:00] make[1]: *** [../../gccrs/gcc/rust/Make-lang.in:435: rust/rust-privacy-reporter.o] Error 1\r\n[all 2023-05-28 15:23:00] rm m2/gm2-compiler-boot/P2Build.mod m2/gm2-compiler-boot/P0SyntaxCheck.mod m2/gm2-compiler-boot/PCBuild.mod m2/gm2-compiler-boot/PHBuild.mod m2/gm2-compiler-boot/P1Build.mod m2/gm2-compiler-boot/P3Build.mod\r\n[all 2023-05-28 15:23:00] make[1]: Leaving directory '/var/lib/laminar/run/gccrs-alpha-linux/11/toolchain-build/gcc'\r\n[all 2023-05-28 15:23:00] make: *** [Makefile:4667: all-gcc] Error 2\r\n```\r\nThat's for `--target=alpha-linux` (http://toolchain.lug-owl.de/laminar/jobs/gccrs-alpha-linux/11), but I guess it's generic (ie. seen on http://toolchain.lug-owl.de/laminar/jobs/gccrs-hppa64-linux/9 and http://toolchain.lug-owl.de/laminar/jobs/gccrs-aarch64-linux/9 as well.)", "closed_by": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2242/timeline", "performed_via_github_app": null, "state_reason": "completed"}