{"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/1705", "repository_url": "https://api.github.com/repos/Rust-GCC/gccrs", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/1705/labels{/name}", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/1705/comments", "events_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/1705/events", "html_url": "https://github.com/Rust-GCC/gccrs/issues/1705", "id": 1498400608, "node_id": "I_kwDOANBUbM5ZT8dg", "number": 1705, "title": "Tracking issue for updating upstream's gccrs with this gccrs", "user": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4533708765, "node_id": "LA_kwDOANBUbM8AAAABDjrn3Q", "url": "https://api.github.com/repos/Rust-GCC/gccrs/labels/upstream", "name": "upstream", "color": "25B46F", "default": false, "description": "Issue regarding upstreaming gccrs into GCC"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/milestones/14", "html_url": "https://github.com/Rust-GCC/gccrs/milestone/14", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/milestones/14/labels", "id": 8817104, "node_id": "MI_kwDOANBUbM4AhonQ", "number": 14, "title": "Update GCC's master branch", "description": "Update GCC's master branch with the most recent gccrs commits. The original merge contains code up to the end of August 2022, so we are missing quite a lot of work.\r\n\r\nThis can be considered a subset of the `Final Upstream Patches` milestone which focuses more on the update side than the development side of things.", "creator": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2023-01-03T16:20:56Z", "updated_at": "2023-03-20T12:42:14Z", "due_on": "2023-03-03T08:00:00Z", "closed_at": "2023-03-20T12:42:14Z"}, "comments": 37, "created_at": "2022-12-15T13:04:14Z", "updated_at": "2023-02-27T09:35:00Z", "closed_at": "2023-02-27T09:35:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Now that the first set of patches has been pushed, we need to update GCC's master branch with the current state of the compiler.\r\n\r\nI want this issue to serve as an infodump and overall discussion on how to achieve this:\r\n1. In case we need to do it again eventually\r\n2. To discuss better ways of doing so\r\n3. For transparency :)\r\n\r\nThe cutoff for what was pushed to GCC's master seems to have happened around #1497, commit 36a9255, on the 23rd of August 2022.\r\n\r\nAt present (2022-12-15), there are more than 5000 commits between #1497 and master. This is due to the multiple merges from GCC upstream that we've done in the last few months. I approximate the amount of commits we need to take care of (commits to gccrs specificially) to ~300. I got the list of commits thanks to these commands:\r\n\r\n```sh\r\narthur@platypus ~/G/r/gccrs (master)> git log 36a9255..HEAD --format=%H -- gcc/rust/ > all_commits.old\r\narthur@platypus ~/G/r/gccrs (master)> git log 36a9255..HEAD --format=%H -- gcc/testsuite/rust >> all_commits.old\r\narthur@platypus ~/G/r/gccrs (master)> cat all_commits.old | uniq > all_commits\r\n```\r\n\r\nbetter way (thanks @tschwinge)\r\n> Just use `git log 36a9255..HEAD --format=%H -- gcc/rust/ gcc/testsuite/rust/ > all_commits`.\r\n> And, given git remote upstream git+ssh://gcc.gnu.org/git/gcc.git, further restrict to `36a9255..HEAD ^upstream/master` to filter out all GCC upstream master branch commits that we're not interested in tracking here.\r\n\r\nI'm sure there are better ways to go about this, but it's fine for now :)\r\n\r\nThe main issues for updating are the following:\r\n\r\n- [ ] Commits since 2022-08-23 need Changelog entries\r\n\r\nIf you'd like to write Changelogs for some commits, please pick some unticked ones in the list below. If a commit is ticked, then it means the Changelog has already been written or is being written.\r\n\r\nCommits up to 72ee612ef41a45d56e03982ba04562949bd5778d have been upstreamed\r\nNew commits have been pushed on `first-half-update`. The name still sucks but I don't want to break hashes or anything by changing the branch's name.\r\n\r\nThese commits are as follows.\r\n\r\n- [x] 360a69c4383968deb77bc0c40780dfb3772f7b12 #1721\r\n- [x] 11705326a5f81e9aa9066a9edf83609b65aa4f96 #1721\r\n- [x] ef114f8524a48fe2061225df8606eb3b640e8678 #1745\r\n- [x] 618034fd18f5228b08ea399f8d6b74ec92ace3c8 #1743 \r\n- [x] 776b1db365cfea7ff6006a60a42541418bef932c #1743 \r\n- [x] 4c6ccf223cf9a320967f13af17f0168880b309e0 #1743 \r\n- [x] 322f7878f8c24d780ca74ffd931a72dce0d8286e #1743 \r\n- [x] 20cea575cec5f8426439ad2d5efda3488ed2ac6b #1743 \r\n- [x] 218cd6cceafb024daa95b340a549b16ad65a3304 #1749\r\n- [x] de6cfd5d3710880cd97076f5b88fe629db69ffb2 -> skipped due to staging\r\n- [x] 0b8ab6dfa92ee3387c646b38f8f87963995133ed -> skipped due to staging\r\n- [x] 232602ab2128a606e7729f33ac90e88f8b23218a -> skipped due to staging\r\n- [x] 4aad977408642632a6c25a57ad6265523385dd5d #1748 \r\n- [x] bc50125f88919924cb3c2ead968424d59c3cd176 #1748 \r\n- [x] 2ddb4c095062ebcc105745880baed3ca2375161c #1748\r\n- [x] 5f2cc6ae06d319a71ca1910bd559d93961c64d5a #1748\r\n- [x] 1e318a610d539fbb33dc30e0fe6b63a440804248 #1748\r\n- [x] 5489ee2021574dd17fd59bfb141afc11eb4bf8ff #1748\r\n- [x] 4d6f2d2f54074695db70a3c1b437c9b087b3fb1d #1753\r\n- [x] acba1a73a8a3a10c11a8b587547633e07988f933 #1753\r\n- [x] 5ec9d2d02ad3a6d585c5bc13bca75a57e4b59d63 #1753\r\n- [x] 4a84cd29255ee4bae84bc2ab7795f47b10b9e968 #1753\r\n- [x] 0678e240c2f9cfb34beff81e3b09c4e4e7bc1202 #1753\r\n- [x] cd28c0081346fc0061acef73e84b374c06dc7c0c #1753\r\n- [x] 040350e1201eb6b3f27d13f710fc791bbdb61415 #1753\r\n- [x] bb43648b8db9c81e2226213d5fcd5d21d7913d93 #1753\r\n- [x] b86ba5776cc4924795aca0d91b700fee7af262e6 #1753\r\n- [x] f55feb3eaaac41e387af6ff95f9315e08aaf1ede #1755\r\n- [x] 1177a663d0e3e11633fe24eac45616cbb52deb81 #1755\r\n- [x] f213139f88d0df0fbc29ec4b448880807b095600 #1755\r\n- [x] 88d70f27031294aee5186219511c497d4f7660fe #1755\r\n- [x] ef39f4d9691f948fe097ea7ff79a221ff2b0b4b2 #1755\r\n- [x] 4f82440015adf897872e3615be347e11be953392 #1755\r\n- [x] 14e6256a5f90dfe65a153708730f7e264b7d2626 #1755\r\n- [x] 938968f61bf6d9a9785c50545ec673c1fef969d8 #1755\r\n- [x] c8b780130406b1cfc5d36ea8b7ad5706f57eacd6 #1755\r\n- [x] 8e5766d301db0083678948d5df7d49a1095def8c #1755\r\n- [x] c05ad402f5ad2355196a1b5f160c452aa8328fc4 #1754\r\n- [x] f68c5d9cd4c76552c461286221c1e9ce807a820e #1754\r\n- [x] a8a3fef144ed76d275c0c96105bb8aa1f9e9c2cd #1754\r\n- [x] 9699ab1315c1593c1b907868439f63f08778bb26 #1754\r\n- [x] baa37759ed4fbedc5a1182642deed6d717b3d3fa #1754\r\n- [x] 91925509743f83cb3646fa8be2d1fb8bc35b789d #1754\r\n- [x] 2229f13f4b5d5949cff398935ff6f75e90d70e8b #1754\r\n- [x] ee5d4766343e5ca27ffd981c721def392112aeff #1754\r\n- [x] 34c0113028dd80ffcc04e00d9b3c62a655aff9e1 #1754\r\n- [x] 60739cc831e4d965e63bc7f71c4ec81722aa5e2f #1754\r\n- [x] c057615f14bf35c493bb78985a53e8455134bf6c #1754\r\n- [x] 8fa2082f4e95459b8111805a4eb6b7392b5cc3be #1757\r\n- [x] 380a252c84a4ac0aca4d782a0e99c2ee27c771ac #1757\r\n- [x] ce291a1bb80337c256dd5fa5a21e603c9c9de7c5 #1757\r\n- [x] 06780fdac6fd74ea9de993890ba060b7e2382fd9 #1757\r\n- [x] 35a02ac7c0770a72053791f2f72811e3ac943f80 -> skipped due to staging\r\n- [x] ecb0bbd71944668d38434e6fcc3fe8d0dd594cd1 -> skipped due to staging\r\n- [x] 1dbd95c525d09d602ed65b05a0587322e0457a4c -> skipped due to staging\r\n- [x] 381426d0a46722050e1bececb02c872634598a66 #1841\r\n- [x] dde48e19d9f5ebd26eaae670e64d3bb27d002f4c #1841\r\n- [x] f5964d089b5bb9b6d7f9b6dcd373f4ed798d6e99 #1841\r\n- [x] 82b64a2845707f27738b1f68df23388ba4f986e8 #1841\r\n- [x] 24e9bd93f7dcb96b31baace55a67cd905bc49998 #1841\r\n- [x] 777944e49c6ee90d63d479caa37204eee13d8160 #1841\r\n- [x] 6505e5a10d7ea3bd4f63ae33033f98a73191e2bb #1841\r\n- [x] d11e801180ac5ea48ec7e5b0e4581a2b5ebdb289 #1841\r\n- [x] 885fbd93f7a8a3f2b22c2c37c2cbcbb82da225b8 #1841\r\n- [x] b3fcf322af96b766fed010256ea4302fa4168f7c #1841\r\n- [x] 849cea5b86f7c24e546daaec560a391d9d7749b0 #1836\r\n- [x] deeef69edbb388e54f5b47acd3a686fd562cd79f #1836\r\n- [x] cb6407ed5669d411533eb2bab797b8bd99156c5f #1836\r\n- [x] 63c59f080b78542c44ecd3a3b99c12fa209855a5 #1836\r\n- [x] c21c3916ba491303de7ddda41ee71f0ad2064a78 #1836\r\n- [x] b0a5b40885b988f273a0d3f4cc805cb6008bbe46 #1836\r\n- [x] 257ca0ef996227ad105ffd1c30f9c537659782c9 #1836\r\n- [x] 415f0100fbd883dcfcb15bf4912724d998c834a6 #1836\r\n- [x] 2c156106a63d5f3aa766a180fe81146affa6ea1e #1836\r\n- [x] 6a734a8538e64c20dffd3d12b417dbd7cf62f03f #1836\r\n- [x] 46f4ccfd989bfa3dd800647cb6756df236cd4ae1 #1836\r\n- [x] cf04f526a162f49720d4a0efb919f764ab08286a #1836\r\n- [x] 9d76c2bddefe1ab934af972f6801b47d12b28231 #1836\r\n- [x] 3309fcb5337ffd76cd3b7c4d69da35d8cf593d34 #1836\r\n- [x] 619fbace5afc57b73eed14b8feee549e57ad3be3 #1836\r\n- [x] ec4695ab9d0532c5044b133368a033cc4ff542a8 #1836\r\n- [x] 3554037810f4dd0a6d71d5a4cf034ada7197a73d #1844\r\n- [x] 9eab71f08b553527e9caa827d0ec290ad38afcf7 #1844\r\n- [x] 059cb849053d892bb84f0570e44a13361fe62723 #1844\r\n- [x] 01e48e015a9af1cd04fc98eddabda4341a05eb10 #1844\r\n- [x] cf4c95760da5193a0b9379691d5d1c6619438ecc #1844\r\n- [x] ea7f1dfc4bd7a412a867a41d1b3e35a538757df9 #1844\r\n- [x] f98061b98f63ba6af1bad9f089f626338fe077bd #1844\r\n- [x] cc1f893758f947e1aceb44c9afb85b2b86b6676d #1844\r\n- [x] fc3de933a1831c7351eb8daf498ba90c7ea93b6c #1844\r\n- [x] 0adb63cc72e6b756abb533621e35aa3c705546e1 #1844\r\n- [x] b204f4c52f313a5bafa806fc4f26eba4554e6938 #1844\r\n- [x] c9c5f2bf0bf07a2bdf4af98b35f5be305c999fe1 #1844\r\n- [x] ae35bc3beeeb833c173ade959f77239d3765602d #1844\r\n- [x] 843c2ea91a92acc22cfd93514eb9b7ada2182653 #1844\r\n- [x] 410c0279a6932dbb1b51c38d96fae22c5dc97481 #1844\r\n- [x] 485c0795d8f18f0255e3eb59a3c267aa94fee2a3 #1844\r\n- [x] 6cf864666c093a652b1a61e4a4bc67b1a0b3e7ea #1844\r\n- [x] 4c08b82705fc5741e0bb3c651b15ae7a0ca1fc85 #1844\r\n- [x] c12ff9a401b4043b396ee368c2e72e4032d661a8 #1844\r\n- [x] e2de15939860262b59ae4582e1d5d24fe31db0bb #1844\r\n- [x] a8dcc90ce9ab270f13e263c3f1bedea4dafe3736 #1844\r\n- [x] eca84c66ac7086dc4834d618d3d0c17df1aa26db #1844\r\n- [x] 3a15a857dad72fae2da370ae45cc76883770ac97 #1844\r\n- [x] 7e56d3def9d58624c25bc89cf24cb58c906473d8 #1844\r\n- [x] f149a51be944f0a5c87c0fa15827011a41e64fe4 #1844\r\n- [x] d4d7fa456e3a599506469b4824b929e3bbd71c10 #1844\r\n- [x] 4d50d76985acd0cbdc77fd1bb3390cc351e1a64f #1844\r\n- [x] e9b23c651096eca78e7fe853ab55b433643917d5 #1844\r\n- [x] ad65a6da25b1a91ff51c62ff4f19151fdef5248d #1844\r\n- [x] 357f2de46d89bcc4faec665c10ed4b77b8c92757 #1844\r\n- [x] 7543b7df189a5dbf5de8e1ec10a6e8141468042b #1844\r\n- [x] c882a5e936bfcd9668c4eafd01064f2bcf465a6b #1844\r\n- [x] 08e967e96b6455dc7bb7897e441b1d55224eab38 #1844\r\n- [x] 5223e5f315851063fd3c7089d9c6372546ecaea3 #1844\r\n- [x] 24d56de561ee5ed26da5ac30f7174fc053de3659 #1844\r\n- [x] c82e98386dbcf8c36e1748eae9c9b72f755b7d80 #1844\r\n- [x] a059c602b2b9ab9dc78e981e555ce0da666a9092 #1844\r\n- [x] d7bc9aeb78b0bef67cf1c70dc37f45c37ee7e77a #1844\r\n- [x] 838dde6776954ce2495fb329efe872b241662c83 #1844\r\n- [x] 78f49e6408a2ffe6cfb505aba859a42f6292e4ab #1844\r\n- [x] 38dd9df17ac985ea83c0dd901ec1a43744ccac51 #1844\r\n- [x] 3925d115a731ad11e852494ea6ad2c0dff366198 #1844\r\n- [x] 416ea9823434edc7dd7cc8d4672947d8b8662a51 #1857\r\n- [x] 6a4e10387133644f35ca113eac4cbc0b7fd16057 #1857\r\n- [x] 33e404d30bfb99f479fd9f68df4be8a482f6938b #1857\r\n- [x] e535e8b4f50715cac05a6c693b844ce2a49dda25 #1857\r\n- [x] 37838ec4c948013f6111269ac26c3ab0c2039abb #1857\r\n- [x] 61ae04a468025a15306f5b8989d8efc1a09986f2 #1857\r\n- [x] 8f4d946cef70c7df8b13cf8179302bea9c9945a8 #1857\r\n- [x] c6dc245e655dc67bfa2305729849b8b7be01669c #1857\r\n- [x] fbd4da6949d6ac4036c0e897590b157a916ab564 #1857\r\n- [x] fbd7806901863082db575eb643a2f10eef326cdd #1857\r\n- [x] 5fa748b304226f29523b697fd72c258a3afd3058 #1857\r\n- [x] 416fca7794555484a4a5bf2ffeeac4e4bac7a20a #1857\r\n- [x] a1e311391d5bec579637e08e7ef837f6b8b0ad73 #1857\r\n- [x] a667f18bfcaebfedd4956e97ef67f9fe7a3677f8 #1857\r\n- [x] f3f4517f1657416ddd542c530842d31050f91af7 #1857\r\n- [x] 624aa70cbd271d9ee60450f039d9cda7f97e883b #1857\r\n- [x] 07d06cc4fe95b7cab0415f88da16e54db0525c46 #1857\r\n- [x] 1d21c3cc8c3c2d88e54a0352e8e5af2bd7206cb7 #1857\r\n- [x] 05c24b32ea28827eb3a62298fd075555e94fc539 #1857\r\n- [x] 1b2212d144ef3870fa21a3d991091faae3b9e39f #1857\r\n- [x] 82462afbdcf40b92032df0582faf224572e1ac6f #1857\r\n- [x] d78db99a8710b96c2292a3a5dc1186dfbcbfdc05 #1857\r\n- [x] a9f58ec089d95c64322b34af61dd098b1f80c15f #1857\r\n- [x] b74a174a066b04d5aa292fde543295f2aa63500b #1857\r\n- [x] d543fc1d53eba9ffa15badfbe337d5a53be86e54 #1857\r\n- [x] 635be03a5d2e206cc0a4aadcb1bc09428b617589 #1857\r\n- [x] 820707b095e98643c65d4c136c81c1e531770321 #1857\r\n- [x] 8a4ee6f7e916b8a8b6ab8ed69ab8617db2d8f3d8 #1857\r\n- [x] 814e20bd09566d4c43d418788388a00dac9fb9a6 #1857\r\n- [x] d8f3d49f6d0b7eb3bc36bd0baba247dd108aad58 #1857\r\n- [x] a76e0ddd9f2795c570ac8271f906d128fcd8e24d #1857\r\n- [x] 676898b029bfbf55710d38fdc30e3278a21c83dd #1857\r\n- [x] 48cd9895df9a4c8e3718b1ceef2bc6172e13e95b #1857\r\n- [x] 6edee99a9ca9aa722ddf637a08de01f2b38d9f6b #1857\r\n- [x] 66e19c33da2aaa4d27f80d42597f177c8ba98aa9 #1857\r\n- [x] 60e0ce9da7299a34a7bdbb074720198ec08f896e #1857\r\n- [x] 80bf88cba24cc8fcd4719bc2514d49d3270b8d39 #1857\r\n- [x] 28a6ba2f0f2992d38d612993dad1afe556c5bd5b #1857\r\n- [x] 4d3affe86f3c2928a8bf45a2848ce21b1e6a6592 #1857\r\n- [x] 318eef86970d3cb422cb7756b24ad7129fcb1f20 #1857\r\n- [x] b7f2ced353bf99fa2375c7d7797f7d88131a1a07 -> skipped due to staging\r\n- [x] 62b3b357d47997e15fb423d2efcf444bffe14d54 -> skipped due to staging\r\n- [x] 8fb1f26bffeeb64342a160f48903aab4a19f5f60 -> skipped due to staging\r\n- [x] a1c78892590ed375efe15cacd89d654036fe0fc1 -> skipped due to staging\r\n- [x] 274436740974ff8b2d1cc9c405c17e733d5a2683 -> skipped due to staging\r\n- [x] 4351215cc43c2fd643a0686e4ded717edb68c782 -> skipped due to staging\r\n- [x] 289f0b3b465295b1b958f5779b08034093e3d8cc -> skipped due to staging\r\n- [x] 61752de5a4997d6f1bf1288e33a09eca0371556e -> skipped due to staging\r\n- [x] 0e20bc8826eb6b2f8068a93d48236bf70ad38475 -> skipped due to staging\r\n- [x] 0c00970e0dbb4c349b0ed620517d4ebfa82fe19e -> skipped due to staging\r\n- [x] d3c9827fe3bcb75c885d1bf510cfd9898b103d9a -> skipped due to staging\r\n- [x] b33c5dc9f92dcb9bee6e7bdef7735448369d9f9e #1844\r\n\r\nBefore the final cutoff (April 30), we will need to do the following:\r\n\r\n- [ ] Figure out a stable-ish cutoff point for gccrs", "closed_by": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/1705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/1705/timeline", "performed_via_github_app": null, "state_reason": "completed"}