{"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2129", "repository_url": "https://api.github.com/repos/Rust-GCC/gccrs", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2129/labels{/name}", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2129/comments", "events_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2129/events", "html_url": "https://github.com/Rust-GCC/gccrs/issues/2129", "id": 1672944000, "node_id": "I_kwDOANBUbM5jtxmA", "number": 2129, "title": "ICE when expanding `matches!` macro in libcore 1.49", "user": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61372775, "node_id": "MDU6TGFiZWw2MTM3Mjc3NQ==", "url": "https://api.github.com/repos/Rust-GCC/gccrs/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "open", "locked": false, "assignee": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/milestones/21", "html_url": "https://github.com/Rust-GCC/gccrs/milestone/21", "labels_url": "https://api.github.com/repos/Rust-GCC/gccrs/milestones/21/labels", "id": 9278268, "node_id": "MI_kwDOANBUbM4AjZM8", "number": 21, "title": "AST Pipeline for libcore 1.49 Complete", "description": "This targets multiple parts of libcore 1.49:\r\n\r\n1. Macro expansion\r\n2. Builtin macro declarations\r\n3. Proper name resolution\r\n4. Proper handling of import statements", "creator": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 67, "state": "open", "created_at": "2023-04-13T08:16:15Z", "updated_at": "2023-06-20T09:03:23Z", "due_on": "2023-07-01T07:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2023-04-18T11:47:21Z", "updated_at": "2023-05-04T23:00:59Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "```rust\r\nmacro_rules! matches {\r\n    ($expression:expr, $( $pattern:pat )|+ $( if $guard: expr )? $(,)?) => {\r\n        match $expression {\r\n            $( $pattern )|+ $( if $guard )? => true,\r\n            _ => false\r\n        }\r\n    }\r\n}\r\n\r\n#[stable(feature = \"ascii_ctype_on_intrinsics\", since = \"1.24.0\")]\r\n#[rustc_const_stable(feature = \"const_ascii_ctype_on_intrinsics\", since = \"1.47.0\")]\r\n#[inline]\r\npub const fn is_ascii_alphabetic(c: char) -> bool {\r\n    matches!(c, b'A'..=b'Z' | b'a'..=b'z')\r\n}\r\n```\r\n\r\n```\r\ncrab1: internal compiler error: Segmentation fault\r\n0x3b65d20 crash_signal\r\n\t../../gcc/toplev.cc:314\r\n0x2019d74 Rust::MatchedFragment::operator=(Rust::MatchedFragment const&)\r\n\t../../gcc/rust/expand/rust-macro-expand.h:53\r\n0x2019277 Rust::SubstituteCtx::substitute_repetition(unsigned long, unsigned long, std::unique_ptr<Rust::AST::Token, std::default_delete<Rust::AST::Token> >)\r\n\t../../gcc/rust/expand/rust-macro-substitute-ctx.cc:155\r\n0x20198c4 Rust::SubstituteCtx::substitute_token(unsigned long)\r\n\t../../gcc/rust/expand/rust-macro-substitute-ctx.cc:261\r\n0x2019a8d Rust::SubstituteCtx::substitute_tokens()\r\n\t../../gcc/rust/expand/rust-macro-substitute-ctx.cc:294\r\n0x1fa70bf Rust::MacroExpander::transcribe_rule(Rust::AST::MacroRule&, Rust::AST::DelimTokenTree&, std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Rust::MatchedFragmentContainer, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Rust::MatchedFragmentContainer> > >&, bool, Rust::MacroExpander::ContextType)\r\n\t../../gcc/rust/expand/rust-macro-expand.cc:980\r\n0x1fa3d1f Rust::MacroExpander::expand_decl_macro(Location, Rust::AST::MacroInvocData&, Rust::AST::MacroRulesDefinition&, bool)\r\n\t../../gcc/rust/expand/rust-macro-expand.cc:111\r\n0x1fa473c Rust::MacroExpander::expand_invoc(Rust::AST::MacroInvocation&, bool)\r\n\t../../gcc/rust/expand/rust-macro-expand.cc:283\r\n0x200810e Rust::ExpandVisitor::visit(Rust::AST::MacroInvocation&)\r\n\t../../gcc/rust/expand/rust-expand-visitor.cc:256\r\n0x1e72dab Rust::AST::MacroInvocation::accept_vis(Rust::AST::ASTVisitor&)\r\n\t../../gcc/rust/ast/rust-ast.cc:4793\r\n0x2007672 Rust::ExpandVisitor::maybe_expand_expr(std::unique_ptr<Rust::AST::Expr, std::default_delete<Rust::AST::Expr> >&)\r\n\t../../gcc/rust/expand/rust-expand-visitor.cc:62\r\n0x2009150 Rust::ExpandVisitor::visit(Rust::AST::BlockExpr&)\r\n\t../../gcc/rust/expand/rust-expand-visitor.cc:551\r\n0x1e72157 Rust::AST::BlockExpr::accept_vis(Rust::AST::ASTVisitor&)\r\n\t../../gcc/rust/ast/rust-ast.cc:4433\r\n0x200e95d void Rust::ExpandVisitor::visit<Rust::AST::BlockExpr>(std::unique_ptr<Rust::AST::BlockExpr, std::default_delete<Rust::AST::BlockExpr> >&)\r\n\t../../gcc/rust/expand/rust-expand-visitor.h:136\r\n0x200a05d Rust::ExpandVisitor::visit(Rust::AST::Function&)\r\n\t../../gcc/rust/expand/rust-expand-visitor.cc:832\r\n0x1e72811 Rust::AST::Function::accept_vis(Rust::AST::ASTVisitor&)\r\n\t../../gcc/rust/ast/rust-ast.cc:4631\r\n0x200748a Rust::ExpandVisitor::go(Rust::AST::Crate&)\r\n\t../../gcc/rust/expand/rust-expand-visitor.cc:36\r\n0x1f80d96 Rust::Session::expansion(Rust::AST::Crate&)\r\n\t../../gcc/rust/rust-session-manager.cc:863\r\n0x1f7ffbb Rust::Session::compile_crate(char const*)\r\n\t../../gcc/rust/rust-session-manager.cc:569\r\n0x1f7f5d2 Rust::Session::handle_input_files(int, char const**)\r\n\t../../gcc/rust/rust-session-manager.cc:381\r\nPlease submit a full bug report, with preprocessed source (by using -freport-bug).\r\nPlease include the complete backtrace with any bug report.\r\nSee <https://gcc.gnu.org/bugs/> for instructions.\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Rust-GCC/gccrs/issues/2129/timeline", "performed_via_github_app": null, "state_reason": null}